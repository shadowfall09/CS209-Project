{"items":[{"tags":["java","jira","jira-rest-api","timeoutexception","socket-timeout-exception"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668068213,"post_id":74385858,"comment_id":131318530,"body_markdown":"You need to try to increase the timeout of the socker connection.","body":"You need to try to increase the timeout of the socker connection."},{"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"score":0,"creation_date":1668069842,"post_id":74385858,"comment_id":131319096,"body_markdown":"Hi, current timeout is set to 5min. I have also tried with 10 minutes but still it is failing.","body":"Hi, current timeout is set to 5min. I have also tried with 10 minutes but still it is failing."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668069903,"post_id":74385858,"comment_id":131319120,"body_markdown":"Then in this case, it might be the server killing the connection.  I suggest you use pagination if available","body":"Then in this case, it might be the server killing the connection.  I suggest you use pagination if available"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668068581,"creation_date":1668067630,"question_id":74385858,"body_markdown":"I am making following Jira Issue Search Rest API call to fetch all the issues in a project having 1 or more issuelinks from my Jira instance and I am using pagination for collecting all issues from a project using startAt index query Param\r\n\r\n**{Jira_Instance_URL}/rest/api/2/search?jql=project={ProjectKey} AND issueFunction in hasLinks()&amp;fields=issuelinks&amp;startAt=0&amp;maxResults=-1**\r\n\r\nMy Jira instance is having huge number of issues. When I am getting into a project &quot;XYZ&quot;. It is having around 30,000 issues and I am looping over after getting 1000 issues at a time.\r\n\r\n**The Jira Issue Search Rest API is giving following exception after lopping over around 20,000 issues:**\r\n\r\n2022-11-10 13:23:41 [http-nio-8081-exec-1] ERROR JiraIFAppender - Error occured while fetching issues keys and issuelink ids for XYZ due to I/O error on GET request for &quot;https://localhost:8080/rest/api/2/search&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out\r\n\r\nBecause of which I am not able to fetch all the issues in that particular project.\r\n\r\nCan anyone please guide on how to resolve the above exception.\r\n\r\n\r\nThanks &amp; Regards,\r\n\r\nPreethi H R","title":"Getting java.net.SocketTimeoutException: Read timed out when making Jira Server Search Rest API call","body":"<p>I am making following Jira Issue Search Rest API call to fetch all the issues in a project having 1 or more issuelinks from my Jira instance and I am using pagination for collecting all issues from a project using startAt index query Param</p>\n<p><strong>{Jira_Instance_URL}/rest/api/2/search?jql=project={ProjectKey} AND issueFunction in hasLinks()&amp;fields=issuelinks&amp;startAt=0&amp;maxResults=-1</strong></p>\n<p>My Jira instance is having huge number of issues. When I am getting into a project &quot;XYZ&quot;. It is having around 30,000 issues and I am looping over after getting 1000 issues at a time.</p>\n<p><strong>The Jira Issue Search Rest API is giving following exception after lopping over around 20,000 issues:</strong></p>\n<p>2022-11-10 13:23:41 [http-nio-8081-exec-1] ERROR JiraIFAppender - Error occured while fetching issues keys and issuelink ids for XYZ due to I/O error on GET request for &quot;https://localhost:8080/rest/api/2/search&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out</p>\n<p>Because of which I am not able to fetch all the issues in that particular project.</p>\n<p>Can anyone please guide on how to resolve the above exception.</p>\n<p>Thanks &amp; Regards,</p>\n<p>Preethi H R</p>\n"},{"tags":["java","mockito","executor"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667594640,"post_id":74322686,"comment_id":131212009,"body_markdown":"I don&#39;t think the problem comes from the fact that `handleMessage` is executed in another thread. I suspect one of: 1. You verify before the method had a chance to execute. 2. System under test does not use your mock. 3. message does not implement equals.","body":"I don&#39;t think the problem comes from the fact that <code>handleMessage</code> is executed in another thread. I suspect one of: 1. You verify before the method had a chance to execute. 2. System under test does not use your mock. 3. message does not implement equals."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1667596113,"post_id":74322686,"comment_id":131212375,"body_markdown":"One option might be to mock out the executor, and have the test version of the executor just execute the lambda it is given on the same thread rather than on a different thread.","body":"One option might be to mock out the executor, and have the test version of the executor just execute the lambda it is given on the same thread rather than on a different thread."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667652824,"post_id":74322686,"comment_id":131220123,"body_markdown":"@Lesiak lets exclude the version 3, because the error says &quot;there was 0 interaction with this mock&quot;","body":"@Lesiak lets exclude the version 3, because the error says &quot;there was 0 interaction with this mock&quot;"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667653500,"post_id":74322686,"comment_id":131220244,"body_markdown":"Ok, then try to exclude 2: add a breakpoint on the line when you execute desired method in prod code and on verify in test code. Inspect message handler - is it the same instance?","body":"Ok, then try to exclude 2: add a breakpoint on the line when you execute desired method in prod code and on verify in test code. Inspect message handler - is it the same instance?"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668068528,"creation_date":1668068161,"answer_id":74385948,"question_id":74322686,"body_markdown":"The problem is probably that your mock has not yet been called by the other thread when you verify. If you can create the executor in your test a an executor that executes the submitted task in the caller thread, and the problem is most likely solved. In the guava lib there is such an executor, that can be instantiated with MoreExecutors.directExecutor(), https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\r\n\r\nAnother approach is to _wait_ for the verification to succeed. That can easily be achieved with the awaitility framework (http://www.awaitility.org). A good introduction can be found here: https://www.baeldung.com/awaitility-testing","title":"With Mockito Trying to verify of a method call, inside which Executor.execute method is called","body":"<p>The problem is probably that your mock has not yet been called by the other thread when you verify. If you can create the executor in your test a an executor that executes the submitted task in the caller thread, and the problem is most likely solved. In the guava lib there is such an executor, that can be instantiated with MoreExecutors.directExecutor(), <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\" rel=\"nofollow noreferrer\">https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()</a></p>\n<p>Another approach is to <em>wait</em> for the verification to succeed. That can easily be achieved with the awaitility framework (<a href=\"http://www.awaitility.org\" rel=\"nofollow noreferrer\">http://www.awaitility.org</a>). A good introduction can be found here: <a href=\"https://www.baeldung.com/awaitility-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/awaitility-testing</a></p>\n"}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668068528,"creation_date":1667594044,"question_id":74322686,"body_markdown":"this is the method call which should be verified, whether is called.\r\n\r\n   \r\n\r\n     Mockito.verify(messageHandler).handleMessage(message);\r\n\r\n\r\nand this method is called inside prepareContext() method, which is called by executor.\r\n\r\n    executor.execute(() -&gt; prepareContext())\r\n\r\nAnd when I try to verify, I get an error, by saying, \r\n\r\n    wanted, but not invoked:\r\n      messageHandler.handleMessage(message);\r\n\r\nActually I understand the reason why it&#39;s not being verified, because the verifier thread is not calling the handleMessage method, but instead it is called by another thread in reality.\r\nSo please, any suggestion of what should be done here, to be able to test this functionality.","title":"With Mockito Trying to verify of a method call, inside which Executor.execute method is called","body":"<p>this is the method call which should be verified, whether is called.</p>\n<pre><code> Mockito.verify(messageHandler).handleMessage(message);\n</code></pre>\n<p>and this method is called inside prepareContext() method, which is called by executor.</p>\n<pre><code>executor.execute(() -&gt; prepareContext())\n</code></pre>\n<p>And when I try to verify, I get an error, by saying,</p>\n<pre><code>wanted, but not invoked:\n  messageHandler.handleMessage(message);\n</code></pre>\n<p>Actually I understand the reason why it's not being verified, because the verifier thread is not calling the handleMessage method, but instead it is called by another thread in reality.\nSo please, any suggestion of what should be done here, to be able to test this functionality.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1668067845,"post_id":74385827,"comment_id":131318425,"body_markdown":"Can you share an input/output example please?","body":"Can you share an input/output example please?"},{"owner":{"account_id":6231480,"reputation":43,"user_id":4848126,"display_name":"Nataliikaa PetroOwwa"},"score":0,"creation_date":1668068187,"post_id":74385827,"comment_id":131318519,"body_markdown":"@Thomas thank you very much, your solution worked perfectly, I did have generic type inference issues and this helped","body":"@Thomas thank you very much, your solution worked perfectly, I did have generic type inference issues and this helped"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668068504,"post_id":74385827,"comment_id":131318626,"body_markdown":"See [Java sort with independent reversed - Stack Overflow](https://stackoverflow.com/questions/74371446/java-sort-with-independent-reversed/74372085#74372085)","body":"See <a href=\"https://stackoverflow.com/questions/74371446/java-sort-with-independent-reversed/74372085#74372085\">Java sort with independent reversed - Stack Overflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668068138,"creation_date":1668068138,"answer_id":74385946,"question_id":74385827,"body_markdown":"You&#39;re already on the right track but probably just face issues with the generic type inference. If you help the compiler a little it should work, e.g. try this: \r\n\r\n    ...sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\r\n                .thenComparing(Map.Entry.comparingByKey()))\r\n\r\nAlternatively create the comparators first, then combine them:\r\n\r\n    Comparator&lt;Entry&lt;String, Integer&gt;&gt; valueComparator = Map.Entry.comparingByValue();\r\n\tComparator&lt;Entry&lt;String, Integer&gt;&gt; keyComparator = Map.Entry.comparingByKey();\r\n\r\n    ...sorted(valueComparator.reversed().thenComparing(keyComparator))","title":"Java sort Map by Value descending and then by Key ascending","body":"<p>You're already on the right track but probably just face issues with the generic type inference. If you help the compiler a little it should work, e.g. try this:</p>\n<pre><code>...sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\n            .thenComparing(Map.Entry.comparingByKey()))\n</code></pre>\n<p>Alternatively create the comparators first, then combine them:</p>\n<pre><code>Comparator&lt;Entry&lt;String, Integer&gt;&gt; valueComparator = Map.Entry.comparingByValue();\nComparator&lt;Entry&lt;String, Integer&gt;&gt; keyComparator = Map.Entry.comparingByKey();\n\n...sorted(valueComparator.reversed().thenComparing(keyComparator))\n</code></pre>\n"}],"owner":{"account_id":6231480,"reputation":43,"user_id":4848126,"display_name":"Nataliikaa PetroOwwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668068157,"accepted_answer_id":74385946,"answer_count":1,"score":0,"last_activity_date":1668068499,"creation_date":1668067407,"question_id":74385827,"body_markdown":"I have a `LinkedHashMap&lt;String, Integer&gt;` that I need to order first by the Value descending, and then by the Key ascending. I don&#39;t know how to make the second condition work - I tried `.thenComparing` and everything I managed to see as a suggestion on the Internet but with no success. \r\n\r\n    playersSkillsPoints.get(user).entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n            .forEach(e -&gt; {System.out.printf(&quot;- %s &lt;::&gt; %d%n&quot;, e.getKey(), e.getValue());\r\n\r\nI tried:\r\n\r\n    .sorted(Map.Entry.comparingByValue().reversed().thenComparing(Map.Entry.comparingByKey()))\r\n\r\nbut got:\r\n\r\n    Cannot resolve method &#39;thenComparing(Comparator&lt;Entry&lt;K, V&gt;&gt;)&#39;\r\n\r\n\r\nAny suggestions would be appreciated!","title":"Java sort Map by Value descending and then by Key ascending","body":"<p>I have a <code>LinkedHashMap&lt;String, Integer&gt;</code> that I need to order first by the Value descending, and then by the Key ascending. I don't know how to make the second condition work - I tried <code>.thenComparing</code> and everything I managed to see as a suggestion on the Internet but with no success.</p>\n<pre><code>playersSkillsPoints.get(user).entrySet().stream()\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n        .forEach(e -&gt; {System.out.printf(&quot;- %s &lt;::&gt; %d%n&quot;, e.getKey(), e.getValue());\n</code></pre>\n<p>I tried:</p>\n<pre><code>.sorted(Map.Entry.comparingByValue().reversed().thenComparing(Map.Entry.comparingByKey()))\n</code></pre>\n<p>but got:</p>\n<pre><code>Cannot resolve method 'thenComparing(Comparator&lt;Entry&lt;K, V&gt;&gt;)'\n</code></pre>\n<p>Any suggestions would be appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1668068567,"post_id":74385996,"comment_id":131318650,"body_markdown":"Just copy it to a new queue","body":"Just copy it to a new queue"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668069274,"post_id":74385996,"comment_id":131318908,"body_markdown":"The queue will already have been sorted so if you&#39;d change the comparator you&#39;d it up. As shmosel suggested you might want to create a new queue and copy the old one&#39;s contents.","body":"The queue will already have been sorted so if you&#39;d change the comparator you&#39;d it up. As shmosel suggested you might want to create a new queue and copy the old one&#39;s contents."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668074002,"post_id":74385996,"comment_id":131320506,"body_markdown":"No, there is no way you can modify the comparator after creating the queue. At least only a hack that, as Thomas said, will create havoc in your program. You don’t want that. Do what shmosel said.","body":"No, there is no way you can modify the comparator after creating the queue. At least only a hack that, as Thomas said, will create havoc in your program. You don’t want that. Do what shmosel said."},{"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"score":0,"creation_date":1668086888,"post_id":74385996,"comment_id":131324887,"body_markdown":"Just a rough thought, can we build a customized class that implements Comparator interface?  Thus we can put those dynamic logic into compare() method.","body":"Just a rough thought, can we build a customized class that implements Comparator interface?  Thus we can put those dynamic logic into compare() method."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668087414,"post_id":74385996,"comment_id":131325069,"body_markdown":"You can, and it will be sure to f\\*ck up. You don’t want that. The queue will not sort the elements again when the behaviour of the `compare` method changes dynamically. So you won’t know what you get, and the queue may even throw exceptions when the `compare` method doesn’t behave consistently. (If you really insist, you can take out all the elements, change the sorting behaviour and fill the elements back in. It *may* work, no guarantees. And I will certainly consider it a hack.)","body":"You can, and it will be sure to f*ck up. You don’t want that. The queue will not sort the elements again when the behaviour of the <code>compare</code> method changes dynamically. So you won’t know what you get, and the queue may even throw exceptions when the <code>compare</code> method doesn’t behave consistently. (If you really insist, you can take out all the elements, change the sorting behaviour and fill the elements back in. It <i>may</i> work, no guarantees. And I will certainly consider it a hack.)"},{"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"score":0,"creation_date":1668352560,"post_id":74385996,"comment_id":131379222,"body_markdown":"Indeed, I&#39;ve done quite a lot of searching from internet, there are some of post saying &quot;not suggest to change comparator on-the-fly&quot;. However, after I wrote some test codes to verify, I found &quot;having dynamic code in compare() method&quot; seem working fine. So, I really curious is what kind of certain situation will not work?","body":"Indeed, I&#39;ve done quite a lot of searching from internet, there are some of post saying &quot;not suggest to change comparator on-the-fly&quot;. However, after I wrote some test codes to verify, I found &quot;having dynamic code in compare() method&quot; seem working fine. So, I really curious is what kind of certain situation will not work?"}],"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668068468,"creation_date":1668068468,"question_id":74385996,"body_markdown":"I am using java PriorityBlockingQueue for queuing processing items. In my code, I will build a Comparator instance (with some predefined criteria), then pass it as a parameter when constructing PriorityBlockingQueue.  \r\n\r\n    new PriorityBlockingQueue(10000, Comparator.comparing(...))\r\n\r\nNow, a requirement is that the system maintainer would need to update sorting criteria on-the-fly for the PriorityBlockingQueue. (e.g by calling a exposed REST API or modify specific config), such that those processing items could be sorted by the latest criteria.\r\n\r\nMy question is that, is there anyway to modify the &quot;Comparator&quot; within a PriorityBlockingQueue? ","title":"Dynamically update &quot;Comparator&quot; on-the-fly for Java PriorityBlockingQueue","body":"<p>I am using java PriorityBlockingQueue for queuing processing items. In my code, I will build a Comparator instance (with some predefined criteria), then pass it as a parameter when constructing PriorityBlockingQueue.</p>\n<pre><code>new PriorityBlockingQueue(10000, Comparator.comparing(...))\n</code></pre>\n<p>Now, a requirement is that the system maintainer would need to update sorting criteria on-the-fly for the PriorityBlockingQueue. (e.g by calling a exposed REST API or modify specific config), such that those processing items could be sorted by the latest criteria.</p>\n<p>My question is that, is there anyway to modify the &quot;Comparator&quot; within a PriorityBlockingQueue?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668068228,"creation_date":1668068228,"answer_id":74385964,"question_id":74379193,"body_markdown":"The reason for this behaviour is that even if you&#39;re using an `Instant` as your user representation of the data type, jOOQ behind the scenes, remembers that it&#39;s a `LocalDateTime`. So, your `Converter&lt;T, U&gt;` implementation binding to `Converter&lt;LocalDateTime, Instant&gt;` (or similar) only affects what your Java code can see.\r\n\r\nIf you want to influence also the generated SQL, you&#39;ll have to use a [data type binding][1], instead, which allows you to influence how the bind variable is generated (and whether a `CAST` is even necessary).\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-binding/","title":"jOOQ Query Critera and forcedType converters","body":"<p>The reason for this behaviour is that even if you're using an <code>Instant</code> as your user representation of the data type, jOOQ behind the scenes, remembers that it's a <code>LocalDateTime</code>. So, your <code>Converter&lt;T, U&gt;</code> implementation binding to <code>Converter&lt;LocalDateTime, Instant&gt;</code> (or similar) only affects what your Java code can see.</p>\n<p>If you want to influence also the generated SQL, you'll have to use a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-binding/\" rel=\"nofollow noreferrer\">data type binding</a>, instead, which allows you to influence how the bind variable is generated (and whether a <code>CAST</code> is even necessary).</p>\n"}],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74385964,"answer_count":1,"score":2,"last_activity_date":1668068228,"creation_date":1668015768,"question_id":74379193,"body_markdown":"Our Informix database stores DATETIME types as local-time, but as we build new code with jOOQ, we are mapping these local-times to UTC timestamps with java.time.Instant. \r\n\r\nWe have multiple operations across several time zones. Each operation has it&#39;s own local database and saved timestamps have always been local-time for that operation. So our jOOQ forcedType for DATETIME columns has a custom converter that knows the time-zone for each individual backend database and converts to the correct UTC timestamp. This all works great for read/write operations on DATETIME types.\r\n\r\nHowever, when we want to apply query criteria to these converted columns, things get more complicated. For example:\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(TICKET.DROPTIME.between(x, y))\r\n\r\nHere jOOQ wants x and y to be of type java.time.Instant because that is the type of TICKET.DROPTIME. However, I have to be very careful about my values for x and y because actual comparison in the generated SQL is done with local times.\r\n\r\nExample jOOQ generated code:\r\n\r\n    WHERE(ticket.droptime BETWEEN cast(? AS DATETIME YEAR TO SECOND) AND cast(? AS DATETIME YEAR TO SECOND))\r\n\r\nSo here, ticket.droptime is local time even though the jOOQ between function demands Instant arguments. But if I drop in Instant.now() for x or y, then my query is totally dependent on the time zone in which the code is running.\r\n\r\nThe best workaround I can think of is to manually compute an Instant that is offset by the difference between the database time zone and the system time zone of the running code to get query criteria (x and y) as Instant values that will map to the desired local time.\r\n \r\n    Instant now = Instant.now();\r\n    Instant x = ZonedDateTime.ofInstant(now.minus(6, ChronoUnit.HOURS), zoneIdOfLocalDatabase)\r\n        .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\r\n    Instant y = ZonedDateTime.ofInstant(now.minus(10, ChronoUnit.MINUTES), zoneIdOfLocalDatabase)\r\n        .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\r\n\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(TICKET.DROPTIME.between(x, y)\r\n\r\nThis should work, but it would be a *very* easy for a developer to miss this step. \r\n\r\nAnother option is plain SQL:\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(&quot;ticket.droptime between CURRENT - 6 UNITS HOUR AND CURRENT - 10 UNITS MINUTE&quot;)\r\n  \r\nBut the whole goal of jOOQ is to avoid raw SQL strings and we are actually planning to migrate to a different database backend some day and don&#39;t want to have to hunt these down.\r\n\r\nGetting to my question: Is there a more automatic way to query forcedTypes here? Or do I have to manually do zone offset conversion on Instant values to get the proper local timestamp for the query criteria?\r\n\r\nWould it even be possible for jOOQ to detect forcedTypes in the where clause and automatically convert the parameters?\r\n\r\n\r\n\r\n\r\n\r\n","title":"jOOQ Query Critera and forcedType converters","body":"<p>Our Informix database stores DATETIME types as local-time, but as we build new code with jOOQ, we are mapping these local-times to UTC timestamps with java.time.Instant.</p>\n<p>We have multiple operations across several time zones. Each operation has it's own local database and saved timestamps have always been local-time for that operation. So our jOOQ forcedType for DATETIME columns has a custom converter that knows the time-zone for each individual backend database and converts to the correct UTC timestamp. This all works great for read/write operations on DATETIME types.</p>\n<p>However, when we want to apply query criteria to these converted columns, things get more complicated. For example:</p>\n<pre><code>jooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(TICKET.DROPTIME.between(x, y))\n</code></pre>\n<p>Here jOOQ wants x and y to be of type java.time.Instant because that is the type of TICKET.DROPTIME. However, I have to be very careful about my values for x and y because actual comparison in the generated SQL is done with local times.</p>\n<p>Example jOOQ generated code:</p>\n<pre><code>WHERE(ticket.droptime BETWEEN cast(? AS DATETIME YEAR TO SECOND) AND cast(? AS DATETIME YEAR TO SECOND))\n</code></pre>\n<p>So here, ticket.droptime is local time even though the jOOQ between function demands Instant arguments. But if I drop in Instant.now() for x or y, then my query is totally dependent on the time zone in which the code is running.</p>\n<p>The best workaround I can think of is to manually compute an Instant that is offset by the difference between the database time zone and the system time zone of the running code to get query criteria (x and y) as Instant values that will map to the desired local time.</p>\n<pre><code>Instant now = Instant.now();\nInstant x = ZonedDateTime.ofInstant(now.minus(6, ChronoUnit.HOURS), zoneIdOfLocalDatabase)\n    .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\nInstant y = ZonedDateTime.ofInstant(now.minus(10, ChronoUnit.MINUTES), zoneIdOfLocalDatabase)\n    .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\n\n\njooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(TICKET.DROPTIME.between(x, y)\n</code></pre>\n<p>This should work, but it would be a <em>very</em> easy for a developer to miss this step.</p>\n<p>Another option is plain SQL:</p>\n<pre><code>jooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(&quot;ticket.droptime between CURRENT - 6 UNITS HOUR AND CURRENT - 10 UNITS MINUTE&quot;)\n</code></pre>\n<p>But the whole goal of jOOQ is to avoid raw SQL strings and we are actually planning to migrate to a different database backend some day and don't want to have to hunt these down.</p>\n<p>Getting to my question: Is there a more automatic way to query forcedTypes here? Or do I have to manually do zone offset conversion on Instant values to get the proper local timestamp for the query criteria?</p>\n<p>Would it even be possible for jOOQ to detect forcedTypes in the where clause and automatically convert the parameters?</p>\n"},{"tags":["java","android","firebase","kotlin","crashlytics"],"comments":[{"owner":{"account_id":9021269,"reputation":190,"user_id":6722284,"display_name":"Valery Boretsky"},"score":0,"creation_date":1668062213,"post_id":74384894,"comment_id":131316982,"body_markdown":"Do you have define of file provider in manifest? \nhttps://developer.android.com/reference/androidx/core/content/FileProvider","body":"Do you have define of file provider in manifest?  <a href=\"https://developer.android.com/reference/androidx/core/content/FileProvider\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/core/content/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668065480,"post_id":74384894,"comment_id":131317748,"body_markdown":"Can you first tell what that function should do? Can you then tell the value of the pdfFileNames parameter with which you call that function? We wanna see how many and which names you put in it.","body":"Can you first tell what that function should do? Can you then tell the value of the pdfFileNames parameter with which you call that function? We wanna see how many and which names you put in it."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668067024,"post_id":74384894,"comment_id":131318191,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"score":0,"creation_date":1668067926,"post_id":74384894,"comment_id":131318450,"body_markdown":"@AlexMamo I make this function in utills and used  it with 3 different activity.\nI&#39;m facing issue when i open pdf file from fileManger via intent. also i want to inform that this issue doesn&#39;t happen every time.","body":"@AlexMamo I make this function in utills and used  it with 3 different activity. I&#39;m facing issue when i open pdf file from fileManger via intent. also i want to inform that this issue doesn&#39;t happen every time."},{"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"score":0,"creation_date":1668069985,"post_id":74384894,"comment_id":131319149,"body_markdown":"@blackapps function fetch pdf file from local using URI. &amp; function use single URI at a time.","body":"@blackapps function fetch pdf file from local using URI. &amp; function use single URI at a time."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668071077,"post_id":74384894,"comment_id":131319505,"body_markdown":"So much code for fetching or reading a file? For that you only have to open an input stream and read from it. Three lines. Why do you have so much more code? And why didnt you put the used uri string in your code so we know what you do?  Also explain what &#39;fetching&#39; a file would be. Realise that the file is already on your device otherwise there was no uri.","body":"So much code for fetching or reading a file? For that you only have to open an input stream and read from it. Three lines. Why do you have so much more code? And why didnt you put the used uri string in your code so we know what you do?  Also explain what &#39;fetching&#39; a file would be. Realise that the file is already on your device otherwise there was no uri."}],"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668068227,"creation_date":1668061311,"question_id":74384894,"body_markdown":"I write this function to PDFfile form URI but it throw 2 exception with Android 10 11 12.\r\n\r\nFrom Firebase Crashlytics\r\n\r\n45% Xiaomi\r\n14% samsung\r\n12% oneplus\r\n12% realme \r\n\r\n38% Android 11\r\n34% Android 12\r\n19% Android 10\r\n7% Android 9\r\n\r\n1) \r\n\r\n        java.lang.SecurityException: Permission Denial: reading com.whatsapp.contentprovider.MediaProvider uri content://com.whatsapp.provider.media/item/b1003092-8514-4d91-8600-3bbdb788c2bf from pid=21402, uid=10231 requires the provider be exported, or grantUriPermission()\r\n    \r\n2)\r\n \r\n        java.lang.SecurityException: myApp.scanner.docs.pdf has no access to content://media/external/downloads/65407\r\n\r\nFuntion\r\n\r\n       fun getPdfFileFromUri(activity: Context, pdfFileNames: Uri): File {\r\n         val myFile: File\r\n         var displayName: String? = null\r\n         val uriString = pdfFileNames.toString()\r\n         if (uriString.startsWith(&quot;content://&quot;)) {\r\n            var cursor: Cursor? = null\r\n     // following line responsible for crash 1\r\n            cursor = activity.contentResolver.query(pdfFileNames, null, null, null, null)\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                displayName =\r\n                    cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME))\r\n            }\r\n            cursor?.close()\r\n            if (displayName == null) {\r\n                displayName = uriString.split(&quot;/&quot;)[uriString.split(&quot;/&quot;).size - 1]\r\n            }\r\n            myFile = File(activity.cacheDir, displayName)\r\n            val output = FileOutputStream(myFile)\r\n     // following line responsible for 2nd crash\r\n            val asset = activity.contentResolver.openInputStream(pdfFileNames)\r\n            val buffer = ByteArray(1024)\r\n            var size: Int\r\n            while (asset!!.read(buffer).also { size = it } != -1) {\r\n                output.write(buffer, 0, size)\r\n            }\r\n            asset.close()\r\n            output.close()\r\n        } else {\r\n            myFile = File(uriString)\r\n        }\r\n        return myFile\r\n    }","title":"Non-fatal Exception: java.io.FileNotFoundException -- Android 10 11 12","body":"<p>I write this function to PDFfile form URI but it throw 2 exception with Android 10 11 12.</p>\n<p>From Firebase Crashlytics</p>\n<p>45% Xiaomi\n14% samsung\n12% oneplus\n12% realme</p>\n<p>38% Android 11\n34% Android 12\n19% Android 10\n7% Android 9</p>\n<p>1)</p>\n<pre><code>    java.lang.SecurityException: Permission Denial: reading com.whatsapp.contentprovider.MediaProvider uri content://com.whatsapp.provider.media/item/b1003092-8514-4d91-8600-3bbdb788c2bf from pid=21402, uid=10231 requires the provider be exported, or grantUriPermission()\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>    java.lang.SecurityException: myApp.scanner.docs.pdf has no access to content://media/external/downloads/65407\n</code></pre>\n<p>Funtion</p>\n<pre><code>   fun getPdfFileFromUri(activity: Context, pdfFileNames: Uri): File {\n     val myFile: File\n     var displayName: String? = null\n     val uriString = pdfFileNames.toString()\n     if (uriString.startsWith(&quot;content://&quot;)) {\n        var cursor: Cursor? = null\n // following line responsible for crash 1\n        cursor = activity.contentResolver.query(pdfFileNames, null, null, null, null)\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            displayName =\n                cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME))\n        }\n        cursor?.close()\n        if (displayName == null) {\n            displayName = uriString.split(&quot;/&quot;)[uriString.split(&quot;/&quot;).size - 1]\n        }\n        myFile = File(activity.cacheDir, displayName)\n        val output = FileOutputStream(myFile)\n // following line responsible for 2nd crash\n        val asset = activity.contentResolver.openInputStream(pdfFileNames)\n        val buffer = ByteArray(1024)\n        var size: Int\n        while (asset!!.read(buffer).also { size = it } != -1) {\n            output.write(buffer, 0, size)\n        }\n        asset.close()\n        output.close()\n    } else {\n        myFile = File(uriString)\n    }\n    return myFile\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"tags":[],"owner":{"account_id":26267671,"reputation":51,"user_id":19937978,"display_name":"EnolaT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668067400,"creation_date":1668066307,"answer_id":74385623,"question_id":74385415,"body_markdown":"You might want to set this variable as such in `application.yml`.\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n","title":"Springboot @entity create table vs flyway create table","body":"<p>You might want to set this variable as such in <code>application.yml</code>.</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n</code></pre>\n"}],"owner":{"account_id":8105935,"reputation":19,"user_id":6107466,"display_name":"hounan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74385623,"answer_count":1,"score":0,"last_activity_date":1668067400,"creation_date":1668065026,"question_id":74385415,"body_markdown":"When we use Springboot (without flyway dependency)\r\n\r\nOnce we define an object model and mark it with @Entity tag, and run the application\r\nSeems spring boot will automatically create a table in a database.\r\n\r\nBut when we add flyway dependency, when we run the application SpringBoot won&#39;t create the table, instead, it throws me an error. So the only fix is to create a table in the flyway. Does anyone know why this happens?\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [singer]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-RC3.jar:6.0.0-RC3]\r\n```","title":"Springboot @entity create table vs flyway create table","body":"<p>When we use Springboot (without flyway dependency)</p>\n<p>Once we define an object model and mark it with @Entity tag, and run the application\nSeems spring boot will automatically create a table in a database.</p>\n<p>But when we add flyway dependency, when we run the application SpringBoot won't create the table, instead, it throws me an error. So the only fix is to create a table in the flyway. Does anyone know why this happens?</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [singer]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-RC3.jar:6.0.0-RC3]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668066654,"creation_date":1668066654,"answer_id":74385694,"question_id":74382828,"body_markdown":"You can do this by [executing a SQL statement][1].\r\n\r\n```\r\nALTER TABLE tablename AUTO_INCREMENT = 1\r\n```\r\n\r\nWhich you probably would do using a `JdbcTemplate`.\r\n\r\n\r\nBut I&#39;d argue you shouldn&#39;t check the value of the id at all in your test. \r\nJust check that the id is not `null`.\r\nThe reason this is the correct approach is that (hopefully) nobody cares about the id. It is just an id and it doesn&#39;t matter if it is 1, 2, 4, or 314159265, so your test shouldn&#39;t care either.\r\n\r\n  [1]: https://stackoverflow.com/questions/8923114/how-to-reset-auto-increment-in-mysql","title":"How to reset auto-increment in Testcontainers MySQL integration tests","body":"<p>You can do this by <a href=\"https://stackoverflow.com/questions/8923114/how-to-reset-auto-increment-in-mysql\">executing a SQL statement</a>.</p>\n<pre><code>ALTER TABLE tablename AUTO_INCREMENT = 1\n</code></pre>\n<p>Which you probably would do using a <code>JdbcTemplate</code>.</p>\n<p>But I'd argue you shouldn't check the value of the id at all in your test.\nJust check that the id is not <code>null</code>.\nThe reason this is the correct approach is that (hopefully) nobody cares about the id. It is just an id and it doesn't matter if it is 1, 2, 4, or 314159265, so your test shouldn't care either.</p>\n"}],"owner":{"account_id":15569966,"reputation":51,"user_id":11232692,"display_name":"juyebgastro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668066654,"creation_date":1668039766,"question_id":74382828,"body_markdown":"I use Testcontainers to run integration tests in a MySQL container. I have an entity `Listing` which has a OneToMany mapping to a child entity, `Variations`. I have a method in my service layer which updates the variations for an associated listing (note it removes all existing variations beforehand):\r\n\r\n```\r\npublic ListingDTO updateListingVariations(String listingId, List&lt;ListingVariationDTO&gt; variations) {\r\n    listingVariationRepository.deleteAllByListingId(listingId);\r\n\r\n    return listingRepository.findByListingId(listingId)\r\n            .map(listing -&gt; {\r\n                List&lt;ListingVariation&gt; newVariations = variations.stream()\r\n                        .map(this::toListingVariation)\r\n                        .toList();\r\n                listing.setVariations(newVariations);\r\n                return this.toListingDTO(listingRepository.save(listing));\r\n            })\r\n            .orElseThrow(() -&gt; new ListingNotFoundException(listingId));\r\n}\r\n```\r\nNow I perform a test on this method (assume the database already contains a `Listing` with some associated `ListingVariation`&#39;s):\r\n\r\n```\r\n@Test\r\nvoid shouldUpdateListingVariationsIfListingIdExists() {\r\n    // builders for ListingVariation objects\r\n\r\n    assertThat(listingService.findByListingId(validListingId).getVariations())\r\n            .isEqualTo(listingVariations);\r\n    assertThat(listingService.updateListingVariations(validListingId, newVariations).getVariations())\r\n            .isEqualTo(newVariations);\r\n}\r\n```\r\nHowever, the test is failing with the below error:\r\n\r\n```\r\nexpected: [ListingVariationDTO{id=1, listingId=&#39;listingId&#39;, ...}]\r\n but was: [ListingVariationDTO{id=4, listingId=&#39;listingId&#39;, ...}]\r\n```\r\n\r\nI realise this is due to the auto-increment on the table not resetting when the previous variation records are deleted. I could modify my test to build a new `ListingVariation` object and hardcode the ID as 4, but I would like to avoid doing that for the simplicity of my test code. Can I reset the auto-increment on my table through my MySQL container?","title":"How to reset auto-increment in Testcontainers MySQL integration tests","body":"<p>I use Testcontainers to run integration tests in a MySQL container. I have an entity <code>Listing</code> which has a OneToMany mapping to a child entity, <code>Variations</code>. I have a method in my service layer which updates the variations for an associated listing (note it removes all existing variations beforehand):</p>\n<pre><code>public ListingDTO updateListingVariations(String listingId, List&lt;ListingVariationDTO&gt; variations) {\n    listingVariationRepository.deleteAllByListingId(listingId);\n\n    return listingRepository.findByListingId(listingId)\n            .map(listing -&gt; {\n                List&lt;ListingVariation&gt; newVariations = variations.stream()\n                        .map(this::toListingVariation)\n                        .toList();\n                listing.setVariations(newVariations);\n                return this.toListingDTO(listingRepository.save(listing));\n            })\n            .orElseThrow(() -&gt; new ListingNotFoundException(listingId));\n}\n</code></pre>\n<p>Now I perform a test on this method (assume the database already contains a <code>Listing</code> with some associated <code>ListingVariation</code>'s):</p>\n<pre><code>@Test\nvoid shouldUpdateListingVariationsIfListingIdExists() {\n    // builders for ListingVariation objects\n\n    assertThat(listingService.findByListingId(validListingId).getVariations())\n            .isEqualTo(listingVariations);\n    assertThat(listingService.updateListingVariations(validListingId, newVariations).getVariations())\n            .isEqualTo(newVariations);\n}\n</code></pre>\n<p>However, the test is failing with the below error:</p>\n<pre><code>expected: [ListingVariationDTO{id=1, listingId='listingId', ...}]\n but was: [ListingVariationDTO{id=4, listingId='listingId', ...}]\n</code></pre>\n<p>I realise this is due to the auto-increment on the table not resetting when the previous variation records are deleted. I could modify my test to build a new <code>ListingVariation</code> object and hardcode the ID as 4, but I would like to avoid doing that for the simplicity of my test code. Can I reset the auto-increment on my table through my MySQL container?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1667993310,"post_id":74374012,"comment_id":131298791,"body_markdown":"You can use reflection to check if the methods of the class have the annotation, if not, abort the test","body":"You can use reflection to check if the methods of the class have the annotation, if not, abort the test"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1667993615,"post_id":74374012,"comment_id":131298886,"body_markdown":"You can collapse that whole list into a simple-to-use [Meta-Annotation](https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations) so each test would only need a single `@MyCustomTest` annotation. And since `@ExtendsWith` [is inherited](https://junit.org/junit5/docs/current/user-guide/#extensions-registration-inheritance) you only need it on a shared base class. You can use either approach or combine them.","body":"You can collapse that whole list into a simple-to-use <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations\" rel=\"nofollow noreferrer\">Meta-Annotation</a> so each test would only need a single <code>@MyCustomTest</code> annotation. And since <code>@ExtendsWith</code> <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-inheritance\" rel=\"nofollow noreferrer\">is inherited</a> you only need it on a shared base class. You can use either approach or combine them."},{"owner":{"account_id":6965709,"reputation":85,"user_id":5343821,"display_name":"Milena"},"score":0,"creation_date":1667995816,"post_id":74374012,"comment_id":131299674,"body_markdown":"@JoachimSauer I think the Meta-Annotation will solve this for me. Thank you for this suggestion.","body":"@JoachimSauer I think the Meta-Annotation will solve this for me. Thank you for this suggestion."}],"owner":{"account_id":6965709,"reputation":85,"user_id":5343821,"display_name":"Milena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668066407,"creation_date":1667992585,"question_id":74374012,"body_markdown":"Each test is extended with same extensions \r\n\r\n```\r\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\r\n```\r\nIs there a way to avoid repeating this line for every test method? \r\nCan I somehow configure this in some base class and automatically apply to every test in a class that extends such base class?\r\n\r\nAlternatively - can I write a check that would throw error if some test is not extended like this?\r\n\r\nI&#39;m using gradle, junit5.\r\n\r\nedit:\r\n\r\nThanks to @JoachimSauer comment, I did a Meta-Annotation, and it does what I wanted.\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\r\n@ArgumentsSource(TestDataJsonRead.class)\r\npublic @interface ProjectTest {\r\n}\r\n```","title":"Avoid repeating ExtendWith extensions for each test method in each class","body":"<p>Each test is extended with same extensions</p>\n<pre><code>@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\n</code></pre>\n<p>Is there a way to avoid repeating this line for every test method?\nCan I somehow configure this in some base class and automatically apply to every test in a class that extends such base class?</p>\n<p>Alternatively - can I write a check that would throw error if some test is not extended like this?</p>\n<p>I'm using gradle, junit5.</p>\n<p>edit:</p>\n<p>Thanks to @JoachimSauer comment, I did a Meta-Annotation, and it does what I wanted.</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\n@ArgumentsSource(TestDataJsonRead.class)\npublic @interface ProjectTest {\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668064648,"post_id":74385337,"comment_id":131317554,"body_markdown":"This might help you out: https://stackoverflow.com/questions/23018836/org-hibernate-hql-internal-ast-querysyntaxexception-table-is-not-mapped","body":"This might help you out: <a href=\"https://stackoverflow.com/questions/23018836/org-hibernate-hql-internal-ast-querysyntaxexception-table-is-not-mapped\" title=\"org hibernate hql internal ast querysyntaxexception table is not mapped\">stackoverflow.com/questions/23018836/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668066032,"creation_date":1668066032,"answer_id":74385584,"question_id":74385337,"body_markdown":"Normally if you want to use a native query you have to tell Spring Data JPA by using\r\n\r\n`@Query(... nativeQuery=true)`\r\n\r\nBut version 1.0.2 doesn&#39;t have that attribute.\r\nI suspect it didn&#39;t support native queries back then.\r\n\r\nBut your query looks like mixup between SQL (i.e. native) and JPQL/HQL anyway and you should be able to fix that.\r\n\r\nThe following should work\r\n\r\n```sql\r\nSELECT u \r\nFROM User u where u.userDevice.id = :uid ORDER BY u.time DESC LIMIT 1\r\n```\r\n\r\nThis assumes the entity class is named `User` has properties `userDevice` and `time` and a user device has an `id` properties. \r\nFor all these names the Java class is relevant, not the table or column names.\r\n\r\nOne final note on\r\n\r\n&gt; I can&#39;t carelessly change my spring version because I&#39;m using an old environment.\r\n\r\nI know it is probably not your decision to make, but working with such an old version is not only careless but reckless. It wastes money by having to deal with bugs and missing features which have long be fixed. Including security fixes.\r\n","title":"&quot;tableName&quot; is not mapped","body":"<p>Normally if you want to use a native query you have to tell Spring Data JPA by using</p>\n<p><code>@Query(... nativeQuery=true)</code></p>\n<p>But version 1.0.2 doesn't have that attribute.\nI suspect it didn't support native queries back then.</p>\n<p>But your query looks like mixup between SQL (i.e. native) and JPQL/HQL anyway and you should be able to fix that.</p>\n<p>The following should work</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT u \nFROM User u where u.userDevice.id = :uid ORDER BY u.time DESC LIMIT 1\n</code></pre>\n<p>This assumes the entity class is named <code>User</code> has properties <code>userDevice</code> and <code>time</code> and a user device has an <code>id</code> properties.\nFor all these names the Java class is relevant, not the table or column names.</p>\n<p>One final note on</p>\n<blockquote>\n<p>I can't carelessly change my spring version because I'm using an old environment.</p>\n</blockquote>\n<p>I know it is probably not your decision to make, but working with such an old version is not only careless but reckless. It wastes money by having to deal with bugs and missing features which have long be fixed. Including security fixes.</p>\n"}],"owner":{"account_id":18435115,"reputation":43,"user_id":13779171,"display_name":"Rizal Arief Firdaus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74385584,"answer_count":1,"score":0,"last_activity_date":1668066032,"creation_date":1668064559,"question_id":74385337,"body_markdown":"I have this JPA Repository for a user model.\r\nAnd I want to take the very recent data which is the first data that came out.\r\nBut since I&#39;m using spring-data-jpa.1.0.2-REALEASE, I can&#39;t use &quot;findFirstBy&quot; to get what I want.\r\n\r\n\r\nso I try using nativequery, which has a lot of ways to use and is different in every version. (I guess)\r\nanyway, my code would be something like this :\r\n\r\n```\r\n\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;, QueryDslPredicateExecutor&lt;UserModel&gt; {\r\n\r\n\t@Query(&quot;SELECT u FROM user u where u.userDevice_id = :uid ORDER BY u.Time DESC LIMIT 1&quot;)\r\n\tUserModel findFirstByUserDeviceOrderByTimeDesc(@Param(&quot;uid&quot;) Long uid);\r\n\t\r\n.......\r\n\t\r\n}\r\n\r\n```\r\n\r\nbut it returning this error\r\n\r\n&gt; org.hibernate.hql.ast.QuerySyntaxException: user is not mapped\r\n\r\nI can&#39;t carelessly change my spring version because I&#39;m using an old environment.","title":"&quot;tableName&quot; is not mapped","body":"<p>I have this JPA Repository for a user model.\nAnd I want to take the very recent data which is the first data that came out.\nBut since I'm using spring-data-jpa.1.0.2-REALEASE, I can't use &quot;findFirstBy&quot; to get what I want.</p>\n<p>so I try using nativequery, which has a lot of ways to use and is different in every version. (I guess)\nanyway, my code would be something like this :</p>\n<pre><code>\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;, QueryDslPredicateExecutor&lt;UserModel&gt; {\n\n    @Query(&quot;SELECT u FROM user u where u.userDevice_id = :uid ORDER BY u.Time DESC LIMIT 1&quot;)\n    UserModel findFirstByUserDeviceOrderByTimeDesc(@Param(&quot;uid&quot;) Long uid);\n    \n.......\n    \n}\n\n</code></pre>\n<p>but it returning this error</p>\n<blockquote>\n<p>org.hibernate.hql.ast.QuerySyntaxException: user is not mapped</p>\n</blockquote>\n<p>I can't carelessly change my spring version because I'm using an old environment.</p>\n"},{"tags":["java","android","android-alertdialog","android-dialog"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1498298276,"post_id":44735164,"comment_id":76451902,"body_markdown":"by setting custom title","body":"by setting custom title"}],"answers":[{"tags":[],"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573118238,"creation_date":1498298541,"answer_id":44735210,"question_id":44735164,"body_markdown":"titlebar.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;Title&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n`alertDialog` code:\r\n\r\n\r\n    AlertDialog.Builder alert = new AlertDialog.Builder(this);\r\n    LayoutInflater inflater   = getLayoutInflater();\r\n    View view                 = inflater.inflate(R.layout.titlebar, null);\r\n    \r\n    alert.setCustomTitle(view);\r\n    alert.setMessage(&quot;Your Message&quot;);\r\n    alert.setPositiveButton(\r\n      &quot;Ok, got it!&quot;,\r\n      new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int which) {\r\n      \r\n        }\r\n      }\r\n    );\r\n    AlertDialog helpDialog = alert.create();\r\n    helpDialog.show();","title":"How can I center my AlertDialog Title?","body":"<p>titlebar.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:gravity=\"center\"\n    android:layout_margin=\"10dp\"\n    android:textStyle=\"bold\"\n    android:text=\"Title\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><code>alertDialog</code> code:</p>\n\n<pre><code>AlertDialog.Builder alert = new AlertDialog.Builder(this);\nLayoutInflater inflater   = getLayoutInflater();\nView view                 = inflater.inflate(R.layout.titlebar, null);\n\nalert.setCustomTitle(view);\nalert.setMessage(\"Your Message\");\nalert.setPositiveButton(\n  \"Ok, got it!\",\n  new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int which) {\n\n    }\n  }\n);\nAlertDialog helpDialog = alert.create();\nhelpDialog.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498298792,"creation_date":1498298792,"answer_id":44735244,"question_id":44735164,"body_markdown":"    // Creating the AlertDialog with a custom xml layout\r\n\r\n    AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\r\n    LayoutInflater inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    View view = inflater.inflate(R.layout.layoutname, null);\r\n    helpBuilder.setView(view);\r\n\r\n    TextView txtTitle = new TextView(this);\r\n    // Customise your Title \r\n    txtTitle.setText(&quot;Test Title&quot;);\r\n    txtTitle.setGravity(Gravity.CENTER);\r\n\r\n    helpBuilder.setCustomTitle(txtTitle );","title":"How can I center my AlertDialog Title?","body":"<pre><code>// Creating the AlertDialog with a custom xml layout\n\nAlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\nLayoutInflater inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\nView view = inflater.inflate(R.layout.layoutname, null);\nhelpBuilder.setView(view);\n\nTextView txtTitle = new TextView(this);\n// Customise your Title \ntxtTitle.setText(\"Test Title\");\ntxtTitle.setGravity(Gravity.CENTER);\n\nhelpBuilder.setCustomTitle(txtTitle );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573118635,"creation_date":1499085933,"answer_id":44885963,"question_id":44735164,"body_markdown":"You need to create a custom Dialog - you won&#39;t be able to do this for the default `AlertDialog`. In the layout of the custom dialog, you can create the layout as you like - align the text of the title in center and so on.\r\n\r\nYou can even use styles to style the layout of the Dialog. Some snippet for styling the dialog:\r\n\r\nInside your `styles.xml` add the following code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;CustomDialog&quot; parent=&quot;@android:style/Theme.Dialog&quot;&gt;\r\n            &lt;item name=&quot;android:windowTitleStyle&quot;&gt;@style/CustomDialogTitle&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;CustomDialogTitle&quot; parent=&quot;@android:style/TextAppearance.DialogWindowTitle&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        &lt;style name=&quot;DialogWindowTitle&quot;&gt;\r\n        &lt;item name=&quot;android:maxLines&quot;&gt;1&lt;/item&gt;\r\n        &lt;item name=&quot;android:scrollHorizontally&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAppearance&quot;&gt;@android:style/TextAppearance.DialogWindowTitle&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen refer the style when you create the dialog as:\r\n\r\n    Dialog dialog = new Dialog(this, R.style.CustomDialog);\r\n    dialog.setTitle(&quot;Your title&quot;);\r\n    dialog.setContentView(R.layout.custom_dialog);","title":"How can I center my AlertDialog Title?","body":"<p>You need to create a custom Dialog - you won't be able to do this for the default <code>AlertDialog</code>. In the layout of the custom dialog, you can create the layout as you like - align the text of the title in center and so on.</p>\n\n<p>You can even use styles to style the layout of the Dialog. Some snippet for styling the dialog:</p>\n\n<p>Inside your <code>styles.xml</code> add the following code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;style name=\"CustomDialog\" parent=\"@android:style/Theme.Dialog\"&gt;\n        &lt;item name=\"android:windowTitleStyle\"&gt;@style/CustomDialogTitle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"CustomDialogTitle\" parent=\"@android:style/TextAppearance.DialogWindowTitle\"&gt;\n        &lt;item name=\"android:gravity\"&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=\"DialogWindowTitle\"&gt;\n    &lt;item name=\"android:maxLines\"&gt;1&lt;/item&gt;\n    &lt;item name=\"android:scrollHorizontally\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:textAppearance\"&gt;@android:style/TextAppearance.DialogWindowTitle&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then refer the style when you create the dialog as:</p>\n\n<pre><code>Dialog dialog = new Dialog(this, R.style.CustomDialog);\ndialog.setTitle(\"Your title\");\ndialog.setContentView(R.layout.custom_dialog);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22275346,"reputation":5,"user_id":16515722,"display_name":"Bronskidev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668065885,"creation_date":1668065885,"answer_id":74385563,"question_id":44735164,"body_markdown":"Surely it will be useful for someone. My solution looks like this. \r\n\r\n    &lt;style name=&quot;AlertDialog&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n            &lt;item name=&quot;materialAlertDialogTitleTextStyle&quot;&gt;@style/ALrtDialog.Title&lt;/item&gt;\r\n    \r\n        &lt;style name=&quot;ALrtDialog.Title&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Text.CenterStacked&quot;&gt;\r\n            &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;/style&gt;","title":"How can I center my AlertDialog Title?","body":"<p>Surely it will be useful for someone. My solution looks like this.</p>\n<pre><code>&lt;style name=&quot;AlertDialog&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n        &lt;item name=&quot;materialAlertDialogTitleTextStyle&quot;&gt;@style/ALrtDialog.Title&lt;/item&gt;\n\n    &lt;style name=&quot;ALrtDialog.Title&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Text.CenterStacked&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"}],"owner":{"display_name":"user8189894"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1668065885,"creation_date":1498298191,"question_id":44735164,"body_markdown":"Here&#39;s my code, rest wirtten below.\r\n\r\n    public void Anzeigen_Reaper(View view) {\r\n        AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\r\n        helpBuilder.setTitle(&quot;Test Title&quot;);\r\n        helpBuilder.setMessage(&quot;Test Message&quot;);\r\n        helpBuilder.setPositiveButton(&quot;Ok, got it!&quot;,\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                    }\r\n                });\r\n        AlertDialog helpDialog = helpBuilder.create();\r\n        helpDialog.show();\r\n    }\r\n\r\nI don&#39;t know how I can center my title (`helpBuilder.setTitle(&quot;Test Title&quot;);`) without adding several &quot;\\t&quot;. Of course i could add 20 time &quot;\\t&quot; to get it at the center but probably there is a special instruction/abbreviation for this.\r\n\r\nI couldn&#39;t add `help.Builder.setGravity(&quot;GRAVITY.CENTER);` because `setGravity` was marked red.\r\n\r\nDoes anyone knows how to solve this? If its possible without styles, but if it&#39;s necessary, tell me how I do this, because I dont know how &quot;styles.xml&quot; works.\r\n\r\nThanks in advance!","title":"How can I center my AlertDialog Title?","body":"<p>Here's my code, rest wirtten below.</p>\n\n<pre><code>public void Anzeigen_Reaper(View view) {\n    AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\n    helpBuilder.setTitle(\"Test Title\");\n    helpBuilder.setMessage(\"Test Message\");\n    helpBuilder.setPositiveButton(\"Ok, got it!\",\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n                }\n            });\n    AlertDialog helpDialog = helpBuilder.create();\n    helpDialog.show();\n}\n</code></pre>\n\n<p>I don't know how I can center my title (<code>helpBuilder.setTitle(\"Test Title\");</code>) without adding several \"\\t\". Of course i could add 20 time \"\\t\" to get it at the center but probably there is a special instruction/abbreviation for this.</p>\n\n<p>I couldn't add <code>help.Builder.setGravity(\"GRAVITY.CENTER);</code> because <code>setGravity</code> was marked red.</p>\n\n<p>Does anyone knows how to solve this? If its possible without styles, but if it's necessary, tell me how I do this, because I dont know how \"styles.xml\" works.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","collections"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668065904,"post_id":74385482,"comment_id":131317858,"body_markdown":"a bit of googling could have helped you here: https://developer.classpath.org/doc/java/util/AbstractCollection-source.html The toString method in this class is inherited by (among others) ArrayList","body":"a bit of googling could have helped you here: <a href=\"https://developer.classpath.org/doc/java/util/AbstractCollection-source.html\" rel=\"nofollow noreferrer\">developer.classpath.org/doc/java/util/&hellip;</a> The toString method in this class is inherited by (among others) ArrayList"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668065945,"post_id":74385482,"comment_id":131317879,"body_markdown":"@Chaosfire his inquiry is to what the toString does.","body":"@Chaosfire his inquiry is to what the toString does."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668066478,"post_id":74385482,"comment_id":131318022,"body_markdown":"@Stultuske I am not so sure, `Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?` - sounds like exact duplicate to me, OP never mentions `toString()` in question. I think linked question answers both of his questions.","body":"@Stultuske I am not so sure, <code>Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?</code> - sounds like exact duplicate to me, OP never mentions <code>toString()</code> in question. I think linked question answers both of his questions."},{"owner":{"account_id":16170891,"reputation":13,"user_id":11674706,"display_name":"Aakash Rohila"},"score":0,"creation_date":1668068452,"post_id":74385482,"comment_id":131318603,"body_markdown":"Thankyou @user16320675 and everyone my doubt is resolved.","body":"Thankyou @user16320675 and everyone my doubt is resolved."}],"owner":{"account_id":16170891,"reputation":13,"user_id":11674706,"display_name":"Aakash Rohila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668067178,"answer_count":0,"score":0,"last_activity_date":1668065421,"creation_date":1668065421,"question_id":74385482,"body_markdown":"I am working with Java8, and I want to know the internal working of ArrayList printing. like if I run my below program, it will give object reference and will not print all of its data members values.\r\n\r\n\r\n```\r\npublic class Hello{\r\n\r\n    int a = 1;\r\n    int b = 2;\r\n    \r\n     public static void main(String []args){\r\n        Hello h = new Hello();\r\n        System.out.println(h.a);\r\n        System.out.println(h.b);\r\n        System.out.println(h);\r\n     }\r\n}\r\n```\r\nOutput : \r\n1\r\n2\r\nHello@2a139a55\r\n\r\nAnd if I use ArrayList it won&#39;t print references and will directly print values\r\n\r\n```\r\nimport java.util.ArrayList;\r\npublic class Hello{\r\n\r\n     public static void main(String []args){\r\n        ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n        name.add(&quot;Monday&quot;);\r\n        name.add(&quot;Tuesday&quot;);\r\n        \r\n        System.out.println(name);\r\n     }\r\n}\r\n```\r\nOutput: \r\n[Monday, Tuesday]\r\n\r\nCan you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?\r\n\r\n\r\nI read other articles on net on how to print ArrayList using for loop, for each loop and using iterator but none of them accurately specifies how does direct mention of object in print statement returns its values rather than reference.","title":"How does ArrayList Class print its values, by passing an object to print statement?","body":"<p>I am working with Java8, and I want to know the internal working of ArrayList printing. like if I run my below program, it will give object reference and will not print all of its data members values.</p>\n<pre><code>public class Hello{\n\n    int a = 1;\n    int b = 2;\n    \n     public static void main(String []args){\n        Hello h = new Hello();\n        System.out.println(h.a);\n        System.out.println(h.b);\n        System.out.println(h);\n     }\n}\n</code></pre>\n<p>Output :\n1\n2\nHello@2a139a55</p>\n<p>And if I use ArrayList it won't print references and will directly print values</p>\n<pre><code>import java.util.ArrayList;\npublic class Hello{\n\n     public static void main(String []args){\n        ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\n        name.add(&quot;Monday&quot;);\n        name.add(&quot;Tuesday&quot;);\n        \n        System.out.println(name);\n     }\n}\n</code></pre>\n<p>Output:\n[Monday, Tuesday]</p>\n<p>Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?</p>\n<p>I read other articles on net on how to print ArrayList using for loop, for each loop and using iterator but none of them accurately specifies how does direct mention of object in print statement returns its values rather than reference.</p>\n"},{"tags":["java","milliseconds","human-readable"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667951859,"post_id":74368490,"comment_id":131289872,"body_markdown":"There isn&#39;t anything for this in the main Java libraries, so this would probably be asking for a library -- which might be closed.  (Note also that this is something sensitive to the languages used by the consumers.)","body":"There isn&#39;t anything for this in the main Java libraries, so this would probably be asking for a library -- which might be closed.  (Note also that this is something sensitive to the languages used by the consumers.)"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1667952069,"post_id":74368490,"comment_id":131289911,"body_markdown":"You might have a look at java.time.Duration: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","body":"You might have a look at java.time.Duration: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Duration.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":26872796,"reputation":31,"user_id":20454500,"display_name":"Alan 34e9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667951945,"creation_date":1667951945,"answer_id":74368509,"question_id":74368490,"body_markdown":"Use DurationFormatUtils.formatDurationWords instead:\r\n\r\n```\r\nimport org.apache.commons.lang3.time.DurationFormatUtils;\r\n\r\n...\r\nDurationFormatUtils.formatDurationWords(milliseconds, true, true);\r\n...\r\n```\r\nThe result will be:\r\n`X days Y hours Z minutes` without leading or trailing zero elements\r\n\r\nDetail: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<p>Use DurationFormatUtils.formatDurationWords instead:</p>\n<pre><code>import org.apache.commons.lang3.time.DurationFormatUtils;\n\n...\nDurationFormatUtils.formatDurationWords(milliseconds, true, true);\n...\n</code></pre>\n<p>The result will be:\n<code>X days Y hours Z minutes</code> without leading or trailing zero elements</p>\n<p>Detail: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668065218,"creation_date":1667955536,"answer_id":74368823,"question_id":74368490,"body_markdown":"# `java.time.Duration`\r\n\r\nUse `Duration` to represent a span of time not attached to the timeline, on a scale of hours-minutes-seconds.\r\n\r\n    Duration d = Duration.parse( &quot;PT5M2S&quot; );\r\n\r\nParse your count of milliseconds as a `Duration`.\r\n\r\n    Duration d = Duration.ofMillis( myMillis ) ;\r\n\r\nYou can [manipulate][1] the [standard ISO 8601 output][2] from the [`Duration#toString`][3].\r\n\r\n```java\r\nString output =\r\n        d\r\n                .toString()\r\n                .replace( &quot;PT&quot; , &quot;&quot; )\r\n                .replace( &quot;H&quot; , &quot; hours &quot; )\r\n                .replace( &quot;M&quot; , &quot; minutes &quot; )\r\n                .replace( &quot;S&quot; , &quot; seconds &quot; )\r\n                .stripTrailing();\r\n```\r\n\r\n&gt;output = 5 minutes 2 seconds\r\n\r\nIf you want to get more fancy, such as using singular for a value of one, use the `Duration#to…Part` methods. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#toString()","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<h1><code>java.time.Duration</code></h1>\n<p>Use <code>Duration</code> to represent a span of time not attached to the timeline, on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration d = Duration.parse( &quot;PT5M2S&quot; );\n</code></pre>\n<p>Parse your count of milliseconds as a <code>Duration</code>.</p>\n<pre><code>Duration d = Duration.ofMillis( myMillis ) ;\n</code></pre>\n<p>You can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">manipulate</a> the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">standard ISO 8601 output</a> from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#toString()\" rel=\"nofollow noreferrer\"><code>Duration#toString</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output =\n        d\n                .toString()\n                .replace( &quot;PT&quot; , &quot;&quot; )\n                .replace( &quot;H&quot; , &quot; hours &quot; )\n                .replace( &quot;M&quot; , &quot; minutes &quot; )\n                .replace( &quot;S&quot; , &quot; seconds &quot; )\n                .stripTrailing();\n</code></pre>\n<blockquote>\n<p>output = 5 minutes 2 seconds</p>\n</blockquote>\n<p>If you want to get more fancy, such as using singular for a value of one, use the <code>Duration#to…Part</code> methods.</p>\n"}],"owner":{"account_id":26872796,"reputation":31,"user_id":20454500,"display_name":"Alan 34e9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74368509,"answer_count":2,"score":1,"last_activity_date":1668065218,"creation_date":1667951695,"question_id":74368490,"body_markdown":"How to convert during(milliseconds) from long to readable String in Java, such as 5 minutes and 2 seconds or 2 hours if no trailing minutes or seconds?\r\n\r\nI have tried TimeUtils, but it still requires a little script to concatenate strings.","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<p>How to convert during(milliseconds) from long to readable String in Java, such as 5 minutes and 2 seconds or 2 hours if no trailing minutes or seconds?</p>\n<p>I have tried TimeUtils, but it still requires a little script to concatenate strings.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668064757,"creation_date":1647439739,"answer_id":71498538,"question_id":71498261,"body_markdown":"If you add the ability to run your application in the background, it will solve your problem. Resources you can review: \r\n\r\n- https://developer.android.com/guide/components/services\r\n- https://developer.android.com/guide/background/threading\r\n\r\nBasic Example :\r\n\r\n`AndroidManifest.xml` :\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;application\r\n    *\r\n    *\r\n    *\r\n    *\r\n            &lt;service android:name=&quot;.ui.main.AudioPlayerService&quot;/&gt;\r\n    \r\n     &lt;/application&gt;\r\n\r\n\r\n`AudioPlayerService` :\r\n\r\n\r\n        private const val PLAYBACK_CHANNEL_ID = &quot;blabla&quot;\r\n            private const val PLAYBACK_NOTIFICATION_ID = 1\r\n            \r\n            class AudioPlayerService : Service() {\r\n            \r\n                private var player: SimpleExoPlayer? = null\r\n                private var playerNotificationManager: PlayerNotificationManager? = null\r\n                private val mediaItem: MediaItem = MediaItem.fromUri(ApiInterface.Channel24LiveURL)\r\n            \r\n                /** Classes to be connected to the service with the \r\n                 service\r\n                 *reference providing the link between\r\n                 */\r\n                private val mBinder = AudioServiceBinder()\r\n            \r\n                /**\r\n    * Data that the service will share to other classes.             */\r\n                inner class AudioServiceBinder : Binder() {\r\n                    val service\r\n                        get() = this@AudioPlayerService\r\n            \r\n                    val player\r\n                        get() = this@AudioPlayerService.player\r\n                }\r\n            \r\n                override fun onBind(intent: Intent?): IBinder? {\r\n                    return mBinder\r\n                }\r\n            \r\n                /**\r\n                 * Service start part\r\n                 */\r\n                override fun onCreate() {\r\n                    super.onCreate()\r\n            \r\n                    // init player\r\n                    player = SimpleExoPlayer.Builder(this)\r\n                            .build().apply {\r\n                                setMediaItem(mediaItem)\r\n                                playWhenReady = true\r\n                                prepare()\r\n                            }\r\n            \r\n                    playerNotificationManager = PlayerNotificationManager.createWithNotificationChannel(\r\n                            applicationContext,\r\n                            PLAYBACK_CHANNEL_ID,\r\n                            R.string.playback_channel_name,\r\n                            R.string.playback_channel_desc,\r\n                            PLAYBACK_NOTIFICATION_ID,\r\n                            object : PlayerNotificationManager.MediaDescriptionAdapter {\r\n                                override fun getCurrentContentTitle(player: Player): CharSequence {\r\n                                    return getString(R.string.def_playback_title)\r\n                                }\r\n            \r\n                                override fun createCurrentContentIntent(player: Player): PendingIntent? {\r\n                                    return PendingIntent.getActivity(\r\n                                            applicationContext,\r\n                                            0,\r\n                                            Intent(applicationContext, MainActivity::class.java),\r\n                                            PendingIntent.FLAG_CANCEL_CURRENT\r\n                                    )\r\n                                }\r\n            \r\n                                override fun getCurrentContentText(player: Player): CharSequence? {\r\n                                    return null\r\n                                }\r\n            \r\n                                override fun getCurrentLargeIcon(\r\n                                        player: Player,\r\n                                        callback: PlayerNotificationManager.BitmapCallback\r\n                                ): Bitmap? {\r\n                                    return getBitmapFromVectorDrawable(applicationContext, R.mipmap.ic_launcher)\r\n                                }\r\n                            }, object : PlayerNotificationManager.NotificationListener {\r\n                        override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\r\n                            stopSelf()\r\n                        }\r\n            \r\n                        override fun onNotificationPosted(notificationId: Int, notification: Notification, ongoing: Boolean) {\r\n                            if (ongoing) {\r\n                                // Make sure the service will not get destroyed while playing media.\r\n                                startForeground(notificationId, notification)\r\n                            } else {\r\n                                // Make notification cancellable.\r\n                                stopForeground(false)\r\n                            }\r\n                        }\r\n                    }\r\n                    ).apply {\r\n                        //   previous and next actions.\r\n                        setUseNavigationActions(true)\r\n                        setPlayer(player)\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                private fun getBitmapFromVectorDrawable(\r\n                        context: Context,\r\n                        @Suppress(&quot;SameParameterValue&quot;) @DrawableRes drawableId: Int\r\n                ): Bitmap? {\r\n                    return ContextCompat.getDrawable(context, drawableId)?.let {\r\n                        val drawable = DrawableCompat.wrap(it).mutate()\r\n            \r\n                        val bitmap = Bitmap.createBitmap(\r\n                                drawable.intrinsicWidth,\r\n                                drawable.intrinsicHeight,\r\n                                Bitmap.Config.ARGB_8888\r\n                        )\r\n                        val canvas = Canvas(bitmap)\r\n                        drawable.setBounds(0, 0, canvas.width, canvas.height)\r\n                        drawable.draw(canvas)\r\n            \r\n                        bitmap\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                fun changePlayerVolume(view: ImageView) {\r\n                    player?.let {\r\n                        if (it.volume == 1.0f) {\r\n                            it.volume = 0.0f\r\n                            view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_off))\r\n                        } else {\r\n                            it.volume = 1.0f\r\n                            view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_up))\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                fun jumpLiveStream() {\r\n                    player?.let {\r\n                        it.setMediaItem(mediaItem)\r\n                        it.playWhenReady = true\r\n                    }\r\n                }\r\n            \r\n                /**\r\n    * Triggered when the app is closed.             */\r\n                override fun onTaskRemoved(rootIntent: Intent?) {// Stop the service when the user closes the application.l\r\n                    releasePlayer()\r\n                    stopSelf()\r\n                    super.onTaskRemoved(rootIntent)\r\n                }\r\n            \r\n                override fun onDestroy() {\r\n                    releasePlayer()\r\n                    stopSelf()\r\n                    super.onDestroy()\r\n                }\r\n            \r\n                /**\r\n    * delete player and playerNotificationManager             */\r\n                private fun releasePlayer() {\r\n                    player?.let {\r\n                        it.release()\r\n                        player = null\r\n                    }\r\n                    playerNotificationManager?.let {\r\n                        it.setPlayer(null)\r\n                        playerNotificationManager = null\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nGood luck!","title":"Keep App Android Running after minimize / block phone","body":"<p>If you add the ability to run your application in the background, it will solve your problem. Resources you can review:</p>\n<ul>\n<li><a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></li>\n<li><a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background/threading</a></li>\n</ul>\n<p>Basic Example :</p>\n<p><code>AndroidManifest.xml</code> :</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;application\n*\n*\n*\n*\n        &lt;service android:name=&quot;.ui.main.AudioPlayerService&quot;/&gt;\n\n &lt;/application&gt;\n</code></pre>\n<p><code>AudioPlayerService</code> :</p>\n<pre><code>    private const val PLAYBACK_CHANNEL_ID = &quot;blabla&quot;\n        private const val PLAYBACK_NOTIFICATION_ID = 1\n        \n        class AudioPlayerService : Service() {\n        \n            private var player: SimpleExoPlayer? = null\n            private var playerNotificationManager: PlayerNotificationManager? = null\n            private val mediaItem: MediaItem = MediaItem.fromUri(ApiInterface.Channel24LiveURL)\n        \n            /** Classes to be connected to the service with the \n             service\n             *reference providing the link between\n             */\n            private val mBinder = AudioServiceBinder()\n        \n            /**\n* Data that the service will share to other classes.             */\n            inner class AudioServiceBinder : Binder() {\n                val service\n                    get() = this@AudioPlayerService\n        \n                val player\n                    get() = this@AudioPlayerService.player\n            }\n        \n            override fun onBind(intent: Intent?): IBinder? {\n                return mBinder\n            }\n        \n            /**\n             * Service start part\n             */\n            override fun onCreate() {\n                super.onCreate()\n        \n                // init player\n                player = SimpleExoPlayer.Builder(this)\n                        .build().apply {\n                            setMediaItem(mediaItem)\n                            playWhenReady = true\n                            prepare()\n                        }\n        \n                playerNotificationManager = PlayerNotificationManager.createWithNotificationChannel(\n                        applicationContext,\n                        PLAYBACK_CHANNEL_ID,\n                        R.string.playback_channel_name,\n                        R.string.playback_channel_desc,\n                        PLAYBACK_NOTIFICATION_ID,\n                        object : PlayerNotificationManager.MediaDescriptionAdapter {\n                            override fun getCurrentContentTitle(player: Player): CharSequence {\n                                return getString(R.string.def_playback_title)\n                            }\n        \n                            override fun createCurrentContentIntent(player: Player): PendingIntent? {\n                                return PendingIntent.getActivity(\n                                        applicationContext,\n                                        0,\n                                        Intent(applicationContext, MainActivity::class.java),\n                                        PendingIntent.FLAG_CANCEL_CURRENT\n                                )\n                            }\n        \n                            override fun getCurrentContentText(player: Player): CharSequence? {\n                                return null\n                            }\n        \n                            override fun getCurrentLargeIcon(\n                                    player: Player,\n                                    callback: PlayerNotificationManager.BitmapCallback\n                            ): Bitmap? {\n                                return getBitmapFromVectorDrawable(applicationContext, R.mipmap.ic_launcher)\n                            }\n                        }, object : PlayerNotificationManager.NotificationListener {\n                    override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\n                        stopSelf()\n                    }\n        \n                    override fun onNotificationPosted(notificationId: Int, notification: Notification, ongoing: Boolean) {\n                        if (ongoing) {\n                            // Make sure the service will not get destroyed while playing media.\n                            startForeground(notificationId, notification)\n                        } else {\n                            // Make notification cancellable.\n                            stopForeground(false)\n                        }\n                    }\n                }\n                ).apply {\n                    //   previous and next actions.\n                    setUseNavigationActions(true)\n                    setPlayer(player)\n                }\n            }\n        \n            @MainThread\n            private fun getBitmapFromVectorDrawable(\n                    context: Context,\n                    @Suppress(&quot;SameParameterValue&quot;) @DrawableRes drawableId: Int\n            ): Bitmap? {\n                return ContextCompat.getDrawable(context, drawableId)?.let {\n                    val drawable = DrawableCompat.wrap(it).mutate()\n        \n                    val bitmap = Bitmap.createBitmap(\n                            drawable.intrinsicWidth,\n                            drawable.intrinsicHeight,\n                            Bitmap.Config.ARGB_8888\n                    )\n                    val canvas = Canvas(bitmap)\n                    drawable.setBounds(0, 0, canvas.width, canvas.height)\n                    drawable.draw(canvas)\n        \n                    bitmap\n                }\n            }\n        \n            @MainThread\n            fun changePlayerVolume(view: ImageView) {\n                player?.let {\n                    if (it.volume == 1.0f) {\n                        it.volume = 0.0f\n                        view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_off))\n                    } else {\n                        it.volume = 1.0f\n                        view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_up))\n                    }\n                }\n            }\n        \n            @MainThread\n            fun jumpLiveStream() {\n                player?.let {\n                    it.setMediaItem(mediaItem)\n                    it.playWhenReady = true\n                }\n            }\n        \n            /**\n* Triggered when the app is closed.             */\n            override fun onTaskRemoved(rootIntent: Intent?) {// Stop the service when the user closes the application.l\n                releasePlayer()\n                stopSelf()\n                super.onTaskRemoved(rootIntent)\n            }\n        \n            override fun onDestroy() {\n                releasePlayer()\n                stopSelf()\n                super.onDestroy()\n            }\n        \n            /**\n* delete player and playerNotificationManager             */\n            private fun releasePlayer() {\n                player?.let {\n                    it.release()\n                    player = null\n                }\n                playerNotificationManager?.let {\n                    it.setPlayer(null)\n                    playerNotificationManager = null\n                }\n            }\n        }\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":10248731,"reputation":60,"user_id":7563713,"display_name":"Eddy Francisco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647441625,"accepted_answer_id":71498538,"answer_count":1,"score":1,"last_activity_date":1668064757,"creation_date":1647438597,"question_id":71498261,"body_markdown":"I&#39;ve createde a simple app (following this link [How to Play Sound On Button Click in Android Studio Java 2021][1] ), and everything works fine, but, i need this app can still playing the sound after minimize then or  block the phone (is a white noise app from help on sleep for my baby daughter, and i need that keep playing all night). \r\n\r\nIs there any way or setting that allows the sound not to stop after minimizing or blocking the application?\r\n\r\nThank you for enveryone that could help me and my baby :)\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=QcBsn2uB6wg","title":"Keep App Android Running after minimize / block phone","body":"<p>I've createde a simple app (following this link <a href=\"https://www.youtube.com/watch?v=QcBsn2uB6wg\" rel=\"nofollow noreferrer\">How to Play Sound On Button Click in Android Studio Java 2021</a> ), and everything works fine, but, i need this app can still playing the sound after minimize then or  block the phone (is a white noise app from help on sleep for my baby daughter, and i need that keep playing all night).</p>\n<p>Is there any way or setting that allows the sound not to stop after minimizing or blocking the application?</p>\n<p>Thank you for enveryone that could help me and my baby :)</p>\n"},{"tags":["java","spring-boot","yaml","java-7"],"answers":[{"tags":[],"owner":{"account_id":10380944,"reputation":333,"user_id":8682210,"display_name":"McLayn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654611343,"creation_date":1654610975,"answer_id":72532695,"question_id":72532694,"body_markdown":"It looks like this old version of Spring Boot splits arrays by commas and ignores any escaping attempt. I ended up with the following: \r\n\r\nYAML (use semicolons instead of commas):\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa;aa,\r\n    bb;bb\r\n```\r\nJava (replace `;` -&gt; `,` in `@PostConstruct`):\r\n```Java\r\n@Value(&quot;${element.list}&quot;)\r\nprotected String[] elementList;\r\n\r\n@PostConstruct\r\nprivate void postConstruct() {\r\n    for (int i = 0; i &lt; elementList.length; i++) {\r\n        elementList[i] = elementList[i].replace(&quot;;&quot;, &quot;,&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>It looks like this old version of Spring Boot splits arrays by commas and ignores any escaping attempt. I ended up with the following:</p>\n<p>YAML (use semicolons instead of commas):</p>\n<pre><code>element:\n  list: &gt;\n    aa;aa,\n    bb;bb\n</code></pre>\n<p>Java (replace <code>;</code> -&gt; <code>,</code> in <code>@PostConstruct</code>):</p>\n<pre><code>@Value(&quot;${element.list}&quot;)\nprotected String[] elementList;\n\n@PostConstruct\nprivate void postConstruct() {\n    for (int i = 0; i &lt; elementList.length; i++) {\n        elementList[i] = elementList[i].replace(&quot;;&quot;, &quot;,&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3821003,"reputation":21,"user_id":3169115,"display_name":"Patrick He"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668064629,"creation_date":1668064629,"answer_id":74385349,"question_id":72532694,"body_markdown":"I recently come up with this exactly same problem and it needs to apply the custom delimiter instead of the default delimiter comma.\r\n\r\nIn config, you could do:\r\n\r\n    element:\r\n      list: aa,aa;bb,bb;cc,cc\r\n\r\nAnd do the following when you injecting the property:\r\n\r\n    @Value(&quot;#{&#39;${element.list}&#39;.split(&#39;;&#39;)}&quot;)\r\n    protected List&lt;String&gt; elementList;\r\n\r\nReference: https://www.baeldung.com/spring-inject-arrays-lists","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>I recently come up with this exactly same problem and it needs to apply the custom delimiter instead of the default delimiter comma.</p>\n<p>In config, you could do:</p>\n<pre><code>element:\n  list: aa,aa;bb,bb;cc,cc\n</code></pre>\n<p>And do the following when you injecting the property:</p>\n<pre><code>@Value(&quot;#{'${element.list}'.split(';')}&quot;)\nprotected List&lt;String&gt; elementList;\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-inject-arrays-lists\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-inject-arrays-lists</a></p>\n"}],"owner":{"account_id":10380944,"reputation":333,"user_id":8682210,"display_name":"McLayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72532695,"answer_count":2,"score":0,"last_activity_date":1668064629,"creation_date":1654610975,"question_id":72532694,"body_markdown":"I&#39;m using Spring Boot version 1.5.22 because of Java 7 compatibility - legacy stuff, museum grade, don&#39;t use.\r\n\r\nI need an array of strings containing commas in YAML config for Spring Boot. \r\nThe problem is that this old Spring Boot doesn&#39;t fully support all YAML features - namely arrays are implemented a bit hacky. \r\n\r\nFor other arrays of strings (not containing commas), I use the following: \r\n\r\nYAML:\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aaaa,\r\n    bbbb\r\n```\r\nJava:\r\n```Java\r\n@Value(&quot;${element.list}&quot;)\r\nprotected String[] elementList;\r\n```\r\n\r\n\r\nHowever, with commas, the following either ended with an empty array, or ignored any escaping I tried and got split by all the commas: \r\n\r\nYAML:\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa,aa,\r\n    bb,bb\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    &quot;aa,aa&quot;,\r\n    &quot;bb,bb&quot;\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    &#39;aa,aa&#39;,\r\n    &#39;bb,bb&#39;\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa\\,aa,\r\n    bb\\,bb\r\n```\r\n```YAML\r\nelement:\r\n  list: [\r\n    &quot;aa,aa&quot;,\r\n    &quot;bb,bb&quot;\r\n  ]\r\n```\r\n```YAML\r\nelement:\r\n  list:\r\n    - aa,aa\r\n    - bb,bb\r\n```\r\n```YAML\r\nelement:\r\n  list:\r\n    - &quot;aa,aa&quot;\r\n    - &quot;bb,bb&quot;\r\n```","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>I'm using Spring Boot version 1.5.22 because of Java 7 compatibility - legacy stuff, museum grade, don't use.</p>\n<p>I need an array of strings containing commas in YAML config for Spring Boot.\nThe problem is that this old Spring Boot doesn't fully support all YAML features - namely arrays are implemented a bit hacky.</p>\n<p>For other arrays of strings (not containing commas), I use the following:</p>\n<p>YAML:</p>\n<pre><code>element:\n  list: &gt;\n    aaaa,\n    bbbb\n</code></pre>\n<p>Java:</p>\n<pre><code>@Value(&quot;${element.list}&quot;)\nprotected String[] elementList;\n</code></pre>\n<p>However, with commas, the following either ended with an empty array, or ignored any escaping I tried and got split by all the commas:</p>\n<p>YAML:</p>\n<pre><code>element:\n  list: &gt;\n    aa,aa,\n    bb,bb\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    &quot;aa,aa&quot;,\n    &quot;bb,bb&quot;\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    'aa,aa',\n    'bb,bb'\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    aa\\,aa,\n    bb\\,bb\n</code></pre>\n<pre><code>element:\n  list: [\n    &quot;aa,aa&quot;,\n    &quot;bb,bb&quot;\n  ]\n</code></pre>\n<pre><code>element:\n  list:\n    - aa,aa\n    - bb,bb\n</code></pre>\n<pre><code>element:\n  list:\n    - &quot;aa,aa&quot;\n    - &quot;bb,bb&quot;\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","dart"],"answers":[{"tags":[],"owner":{"account_id":24842802,"reputation":1,"user_id":18720620,"display_name":"Tony Chopper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064552,"creation_date":1668064358,"answer_id":74385304,"question_id":73656175,"body_markdown":"Change:\r\n**context** =&gt; **applicationContext**. \r\n\r\nThis is the workaround for my problem. You can try.","title":"Flutter local_auth platform exception requires activity to be a fragmentactivity flutter","body":"<p>Change:\n<strong>context</strong> =&gt; <strong>applicationContext</strong>.</p>\n<p>This is the workaround for my problem. You can try.</p>\n"}],"owner":{"account_id":10381830,"reputation":1102,"user_id":7674430,"display_name":"hesham shawky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668064552,"creation_date":1662683200,"question_id":73656175,"body_markdown":"I am using the plugin `local_auth` to let users authenticate by their fingerprint, now I know that there are some changes that need to be done on &#39;mainActivity.kt&#39; so the plugin gets working without the error `local_auth plugin requires activity to be a fragmentactivity flutter`\r\n\r\nbut the problem is I am using google_ads plugin too and I am registering native ads with it that using the context inside the class FlutterActivity so I can&#39;t change it to FlutterFragmentActivity or I am getting `Unresolved reference: context`\r\n\r\n```kt\r\npackage app.masarifi\r\n\r\nimport io.flutter.embedding.android.FlutterFragmentActivity\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugins.GeneratedPluginRegistrant\r\nimport io.flutter.plugins.googlemobileads.GoogleMobileAdsPlugin\r\n\r\n\r\nclass MainActivity: FlutterActivity() {\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n//        GeneratedPluginRegistrant.registerWith(flutterEngine)\r\n//\r\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\r\n                flutterEngine, &quot;listTile&quot;, ListTileNativeAdFactory(context))\r\n\r\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\r\n                flutterEngine, &quot;mediumAd&quot;, MediumNativeAdFactory(context))\r\n\r\n    }\r\n\r\n    override fun cleanUpFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.cleanUpFlutterEngine(flutterEngine)\r\n\r\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;listTile&quot;)\r\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;mediumAd&quot;)\r\n    }\r\n\r\n}\r\n```","title":"Flutter local_auth platform exception requires activity to be a fragmentactivity flutter","body":"<p>I am using the plugin <code>local_auth</code> to let users authenticate by their fingerprint, now I know that there are some changes that need to be done on 'mainActivity.kt' so the plugin gets working without the error <code>local_auth plugin requires activity to be a fragmentactivity flutter</code></p>\n<p>but the problem is I am using google_ads plugin too and I am registering native ads with it that using the context inside the class FlutterActivity so I can't change it to FlutterFragmentActivity or I am getting <code>Unresolved reference: context</code></p>\n<pre><code>package app.masarifi\n\nimport io.flutter.embedding.android.FlutterFragmentActivity\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugins.GeneratedPluginRegistrant\nimport io.flutter.plugins.googlemobileads.GoogleMobileAdsPlugin\n\n\nclass MainActivity: FlutterActivity() {\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n//        GeneratedPluginRegistrant.registerWith(flutterEngine)\n//\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\n                flutterEngine, &quot;listTile&quot;, ListTileNativeAdFactory(context))\n\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\n                flutterEngine, &quot;mediumAd&quot;, MediumNativeAdFactory(context))\n\n    }\n\n    override fun cleanUpFlutterEngine(flutterEngine: FlutterEngine) {\n        super.cleanUpFlutterEngine(flutterEngine)\n\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;listTile&quot;)\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;mediumAd&quot;)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1480682794,"post_id":40932538,"comment_id":69076021,"body_markdown":"And what is your question? How to create the screenshots; or how to come up with a naming reasonable naming scheme?","body":"And what is your question? How to create the screenshots; or how to come up with a naming reasonable naming scheme?"},{"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"score":0,"creation_date":1480684666,"post_id":40932538,"comment_id":69077196,"body_markdown":"my question was how to create multiple screenshots, i have managed to get the screenshot ,but i dont want to update on the previous screenshot","body":"my question was how to create multiple screenshots, i have managed to get the screenshot ,but i dont want to update on the previous screenshot"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1480686113,"post_id":40932538,"comment_id":69078132,"body_markdown":"You see, that is what I mean with **naming** scheme. Your are overwriting your screen shots because you are always using the same **name** for the file. Thus: you should think of a way of making those file names unique, and probably &quot;telling&quot; (so that the file name tells you about the path it was taken)","body":"You see, that is what I mean with <b>naming</b> scheme. Your are overwriting your screen shots because you are always using the same <b>name</b> for the file. Thus: you should think of a way of making those file names unique, and probably &quot;telling&quot; (so that the file name tells you about the path it was taken)"}],"answers":[{"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480683615,"creation_date":1480683615,"answer_id":40932842,"question_id":40932538,"body_markdown":"To stop overwriting the output file you would have to give every screenshot a unique name.  \r\nSomewhere in the code, create the counter\r\n    \r\n    int counter = 1;\r\nthen\r\n\r\n    FileUtils.copyFile(scrFile, new File(&quot;outputfile&quot; + counter));\r\n    counter++;\r\n\r\nSo the counter gives the destination file a different name after every copyFile.\r\n","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>To stop overwriting the output file you would have to give every screenshot a unique name.<br>\nSomewhere in the code, create the counter</p>\n\n<pre><code>int counter = 1;\n</code></pre>\n\n<p>then</p>\n\n<pre><code>FileUtils.copyFile(scrFile, new File(\"outputfile\" + counter));\ncounter++;\n</code></pre>\n\n<p>So the counter gives the destination file a different name after every copyFile.</p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480706631,"creation_date":1480706631,"answer_id":40939548,"question_id":40932538,"body_markdown":"I would do a few things to clean this process up.\r\n\r\n1. Put your screenshot code into a function.\r\n\r\n2. Add a date time stamp to your screenshot filename. That will give each file a unique name.\r\n\r\n3. Add a short error string to the screenshot filename. That will enable you to quickly see how many of each error type are present. Bonus points for creating a folder for each error type and only placing screenshots of that particular error in that folder.\r\n\r\nYour script will look like\r\n\r\n    String imageOutputPath = &quot;the path to the folder that stores the screenshots&quot;;\r\n    if (driver.getTitle().contains(&quot;404&quot;))\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;404 error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n    else if (some other error)\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;some other error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n    else if (yet another error)\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;yet another error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n\r\nand the function to take a screenshot\r\n\r\n    public static void takeScreenshotOfPage(WebDriver driver, String filePath) throws IOException\r\n    {\r\n        File srcFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n        BufferedImage srcImage = ImageIO.read(srcFile);\r\n        ImageIO.write(srcImage, &quot;png&quot;, new File(filePath));\r\n    }\r\n\r\nand the function to make a filename friendly date-time stamp\r\n\r\n    public static String getDateTimeStamp()\r\n    {\r\n        // creates a date time stamp that is Windows OS filename compatible\r\n        return new SimpleDateFormat(&quot;MMM dd HH.mm.ss&quot;).format(Calendar.getInstance().getTime());\r\n    }\r\n\r\nWhat you will end up with are filenames like the below that are neatly sorted by error type, each with a unique file name.\r\n\r\n    404 error Dec 02 13.21.18.png\r\n    404 error Dec 02 13.22.29.png\r\n    404 error Dec 02 13.22.39.png\r\n    some other error Dec 02 13.21.25.png\r\n    some other error Dec 02 13.22.50.png\r\n    some other error Dec 02 13.22.56.png\r\n    yet another error Dec 02 13.21.34.png\r\n    yet another error Dec 02 13.23.02.png\r\n    yet another error Dec 02 13.23.09.png","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>I would do a few things to clean this process up.</p>\n\n<ol>\n<li><p>Put your screenshot code into a function.</p></li>\n<li><p>Add a date time stamp to your screenshot filename. That will give each file a unique name.</p></li>\n<li><p>Add a short error string to the screenshot filename. That will enable you to quickly see how many of each error type are present. Bonus points for creating a folder for each error type and only placing screenshots of that particular error in that folder.</p></li>\n</ol>\n\n<p>Your script will look like</p>\n\n<pre><code>String imageOutputPath = \"the path to the folder that stores the screenshots\";\nif (driver.getTitle().contains(\"404\"))\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"404 error \" + getDateTimeStamp() + \".png\");\n}\nelse if (some other error)\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"some other error \" + getDateTimeStamp() + \".png\");\n}\nelse if (yet another error)\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"yet another error \" + getDateTimeStamp() + \".png\");\n}\n</code></pre>\n\n<p>and the function to take a screenshot</p>\n\n<pre><code>public static void takeScreenshotOfPage(WebDriver driver, String filePath) throws IOException\n{\n    File srcFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n    BufferedImage srcImage = ImageIO.read(srcFile);\n    ImageIO.write(srcImage, \"png\", new File(filePath));\n}\n</code></pre>\n\n<p>and the function to make a filename friendly date-time stamp</p>\n\n<pre><code>public static String getDateTimeStamp()\n{\n    // creates a date time stamp that is Windows OS filename compatible\n    return new SimpleDateFormat(\"MMM dd HH.mm.ss\").format(Calendar.getInstance().getTime());\n}\n</code></pre>\n\n<p>What you will end up with are filenames like the below that are neatly sorted by error type, each with a unique file name.</p>\n\n<pre><code>404 error Dec 02 13.21.18.png\n404 error Dec 02 13.22.29.png\n404 error Dec 02 13.22.39.png\nsome other error Dec 02 13.21.25.png\nsome other error Dec 02 13.22.50.png\nsome other error Dec 02 13.22.56.png\nyet another error Dec 02 13.21.34.png\nyet another error Dec 02 13.23.02.png\nyet another error Dec 02 13.23.09.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26886484,"reputation":11,"user_id":20465976,"display_name":"Abhijeet Luthra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668064397,"creation_date":1668064397,"answer_id":74385306,"question_id":40932538,"body_markdown":"You can use current Date Time Stamp and append this with the image format","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>You can use current Date Time Stamp and append this with the image format</p>\n"}],"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40939548,"answer_count":3,"score":0,"last_activity_date":1668064397,"creation_date":1480682646,"question_id":40932538,"body_markdown":"I would like to take a multiple screenshots in selenium using java.  \r\nFor example, I am trying to navigate all the links in my website. While navigating, if there are errors (e.g. page not found, server error), I want to capture all the errors in the screenshots individually. currently it&#39;s overriding the previous one.\r\n    \r\n\r\n\r\n    if(driver.getTitle().contains(&quot;404&quot;)) \r\n    {\r\n\t    System.out.println(&quot;Fail&quot;);\r\n\t       File scrFile = (TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\t\t    try {\r\n\t\t\t\r\n\t\t\t    FileUtils.copyFile(scrFile, new File(&quot;outputfile&quot;));\r\n\t\t\t    }catch(IOException e){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t}\r\n\t    \t     \r\n\t    \t }\r\n\t    \t    \r\n\t    \t    else\r\n\t    \t    \t\r\n\t    \t    {\r\n\t    \t    \t\r\n\t    \t     System.out.println(&quot;Pass&quot;);\r\n\t    \t     \r\n\t    \t    }","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>I would like to take a multiple screenshots in selenium using java.<br>\nFor example, I am trying to navigate all the links in my website. While navigating, if there are errors (e.g. page not found, server error), I want to capture all the errors in the screenshots individually. currently it's overriding the previous one.</p>\n\n<pre><code>if(driver.getTitle().contains(\"404\")) \n{\n    System.out.println(\"Fail\");\n       File scrFile = (TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n        try {\n\n            FileUtils.copyFile(scrFile, new File(\"outputfile\"));\n            }catch(IOException e){\n\n                e.printStackTrace();\n        }\n\n         }\n\n            else\n\n            {\n\n             System.out.println(\"Pass\");\n\n            }\n</code></pre>\n"},{"tags":["java","dynamic","return-type"],"comments":[{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1321672895,"post_id":8191536,"comment_id":10064902,"body_markdown":"You **can&#39;t** return `float` or `boolean` from a method with a signature that says it returns `Comparable` (which really should be `Comparable&lt;?&gt;`, by the way).  You can only return `Float` or `Boolean`, etc.","body":"You <b>can&#39;t</b> return <code>float</code> or <code>boolean</code> from a method with a signature that says it returns <code>Comparable</code> (which really should be <code>Comparable&lt;?&gt;</code>, by the way).  You can only return <code>Float</code> or <code>Boolean</code>, etc."},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1321673023,"post_id":8191536,"comment_id":10064918,"body_markdown":"perhaps a better question for my situation is &quot;Is there a way to cast the return type so that the method can be called without having to cast into a variable?&quot;","body":"perhaps a better question for my situation is &quot;Is there a way to cast the return type so that the method can be called without having to cast into a variable?&quot;"},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1321673111,"post_id":8191536,"comment_id":10064927,"body_markdown":"Not in pure Java.  (IIRC, it can be done in Java bytecode, but I might be getting confused with MSIL.)","body":"Not in pure Java.  (IIRC, it can be done in Java bytecode, but I might be getting confused with MSIL.)"}],"answers":[{"tags":[],"owner":{"account_id":474598,"reputation":4067,"user_id":884373,"accept_rate":71,"display_name":"Kane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321674109,"creation_date":1321672741,"answer_id":8191623,"question_id":8191536,"body_markdown":"If you are really only returning a `boolean` or a `float`, then the best you can do is `Object`.\r\n\r\nIf you are returning variable objects, you have to choose a return type with the least common superclass. Primitives don&#39;t have a superclass, but they will be boxed into Object representations (like `Boolean` and `Float`) which have a common superclass of `Object`.","title":"Dynamic Return Type in Java method","body":"<p>If you are really only returning a <code>boolean</code> or a <code>float</code>, then the best you can do is <code>Object</code>.</p>\n\n<p>If you are returning variable objects, you have to choose a return type with the least common superclass. Primitives don't have a superclass, but they will be boxed into Object representations (like <code>Boolean</code> and <code>Float</code>) which have a common superclass of <code>Object</code>.</p>\n"},{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1436812994,"creation_date":1321673132,"answer_id":8191649,"question_id":8191536,"body_markdown":"You can&#39;t do it.  Java return types have to be either a fixed fundamental type\r\nor an object class.  I&#39;m pretty sure the best you can do is return a wrapper type\r\nwhich has methods to fetch various possible types of values, and an internal enum\r\nwhich says which one is valid.\r\n\r\n--- edit --- after Danieth&#39;s correction!\r\n\r\n    \r\n    public &lt;Any&gt; Any getParam(boolean b){\r\n    return((Any)((Boolean)(!b)));\r\n    }\r\n    public &lt;Any&gt; Any getParam(float a) {\r\n     return((Any)((Float)(a+1)));\r\n    }\r\n    public &lt;Any&gt; Any getParam(Object b) {\r\n     return((Any)b);\r\n    }\r\n    public void test(){\r\n      boolean foo = getParam(true);\r\n      float bar = getParam(1.0f);\r\n      float mumble = getParam(this); // will get a class cast exception\r\n    }\r\n\r\nYou still incur some penalties for boxing items and type checking\r\nthe returned values, and of course if your call isn&#39;t consistent with\r\nwhat the implementations of getParam actually do, you&#39;ll get a class\r\ncast exception.\r\n\r\n","title":"Dynamic Return Type in Java method","body":"<p>You can't do it.  Java return types have to be either a fixed fundamental type\nor an object class.  I'm pretty sure the best you can do is return a wrapper type\nwhich has methods to fetch various possible types of values, and an internal enum\nwhich says which one is valid.</p>\n\n<p>--- edit --- after Danieth's correction!</p>\n\n<pre><code>public &lt;Any&gt; Any getParam(boolean b){\nreturn((Any)((Boolean)(!b)));\n}\npublic &lt;Any&gt; Any getParam(float a) {\n return((Any)((Float)(a+1)));\n}\npublic &lt;Any&gt; Any getParam(Object b) {\n return((Any)b);\n}\npublic void test(){\n  boolean foo = getParam(true);\n  float bar = getParam(1.0f);\n  float mumble = getParam(this); // will get a class cast exception\n}\n</code></pre>\n\n<p>You still incur some penalties for boxing items and type checking\nthe returned values, and of course if your call isn't consistent with\nwhat the implementations of getParam actually do, you'll get a class\ncast exception.</p>\n"},{"tags":[],"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1321676437,"creation_date":1321676437,"answer_id":8191872,"question_id":8191536,"body_markdown":"I don&#39;t know what these people are talking about. You lose type safety, which is a concern, but you could easily accomplish this with generics...something like:\r\n\r\n    public &lt;T&gt; T getSomething(...) { }\r\n\r\nor\r\n\r\n    interface Wrapper&lt;T&gt; { T getObject(); }\r\n\r\n    public &lt;T&gt; Wrapper&lt;T&gt; getSomething(...) { }\r\n\r\nThe latter promotes the possibility of a [strategy pattern][1]. Pass the bytes to the strategy, let it execute and retrieve the output. You would have a Byte strategy, Boolean strategy, etc.\r\n\r\n    abstract class Strategy&lt;T&gt; {\r\n        final byte[] bytes;\r\n    \r\n        Strategy(byte[] bytes) { this.bytes = bytes; }\r\n    \r\n        protected abstract T execute();\r\n    }\r\n\r\nthen\r\n\r\n    class BooleanStrategy extends Strategy&lt;Boolean&gt; {\r\n        public BooleanStrategy(byte[] bytes) { super(bytes); }\r\n    \r\n        @Override\r\n        public Boolean execute() {\r\n            return bytes[0] != 0;\r\n        }\r\n    \r\n    }\r\n\r\nYour example code is a bad use case though and I wouldn&#39;t recommend it. Your method doesn&#39;t make much sense.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"Dynamic Return Type in Java method","body":"<p>I don't know what these people are talking about. You lose type safety, which is a concern, but you could easily accomplish this with generics...something like:</p>\n\n<pre><code>public &lt;T&gt; T getSomething(...) { }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface Wrapper&lt;T&gt; { T getObject(); }\n\npublic &lt;T&gt; Wrapper&lt;T&gt; getSomething(...) { }\n</code></pre>\n\n<p>The latter promotes the possibility of a <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"noreferrer\">strategy pattern</a>. Pass the bytes to the strategy, let it execute and retrieve the output. You would have a Byte strategy, Boolean strategy, etc.</p>\n\n<pre><code>abstract class Strategy&lt;T&gt; {\n    final byte[] bytes;\n\n    Strategy(byte[] bytes) { this.bytes = bytes; }\n\n    protected abstract T execute();\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>class BooleanStrategy extends Strategy&lt;Boolean&gt; {\n    public BooleanStrategy(byte[] bytes) { super(bytes); }\n\n    @Override\n    public Boolean execute() {\n        return bytes[0] != 0;\n    }\n\n}\n</code></pre>\n\n<p>Your example code is a bad use case though and I wouldn't recommend it. Your method doesn't make much sense.</p>\n"},{"tags":[],"owner":{"account_id":1762889,"reputation":415,"user_id":1609480,"display_name":"Danieth"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1538836872,"creation_date":1377694309,"answer_id":18488454,"question_id":8191536,"body_markdown":"This **CAN** be done. The following code will work:\r\n\r\n    public byte BOOLEAN = 1;\r\n    public byte FLOAT = 2;\r\n    public static &lt;Any&gt; Any getParam(byte[] data) {\r\n        if (data[0] == BOOLEAN) {\r\n            return (Any)((Boolean)(boolean)(data[1] != 0));\r\n        } else if (data[0] == FLOAT) {\r\n            return (Any)((Float)(float)data[1]);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\nBy using a generic for the return type any Java method can dynamically return any object or primitive types. You can name the generic whatever you want, and in this case I called it &#39;Any&#39;. Using this code you avoid casting the return type when the method is called. You would use the method like so:\r\n\r\n    byte[] data = new byte[] { 1, 5 };\r\n    boolean b = getParam(data);\r\n    data = new byte[] { 2, 5 };\r\n    float f = getParam(data);\r\n\r\nThe best you can do without this trick is manually casting an Object:\r\n\r\n    float f = (float)getParam(data);\r\n\r\nJava dynamic return types can reduce boilerplate code.\r\n","title":"Dynamic Return Type in Java method","body":"<p>This <strong>CAN</strong> be done. The following code will work:</p>\n\n<pre><code>public byte BOOLEAN = 1;\npublic byte FLOAT = 2;\npublic static &lt;Any&gt; Any getParam(byte[] data) {\n    if (data[0] == BOOLEAN) {\n        return (Any)((Boolean)(boolean)(data[1] != 0));\n    } else if (data[0] == FLOAT) {\n        return (Any)((Float)(float)data[1]);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n\n<p>By using a generic for the return type any Java method can dynamically return any object or primitive types. You can name the generic whatever you want, and in this case I called it 'Any'. Using this code you avoid casting the return type when the method is called. You would use the method like so:</p>\n\n<pre><code>byte[] data = new byte[] { 1, 5 };\nboolean b = getParam(data);\ndata = new byte[] { 2, 5 };\nfloat f = getParam(data);\n</code></pre>\n\n<p>The best you can do without this trick is manually casting an Object:</p>\n\n<pre><code>float f = (float)getParam(data);\n</code></pre>\n\n<p>Java dynamic return types can reduce boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542713633,"creation_date":1542713633,"answer_id":53392117,"question_id":8191536,"body_markdown":"My 2 cents with an example with Google HTTP client:\r\n\r\n    static public &lt;Any&gt; Any getJson(final String url, final Class&lt;Any&gt; parseAs) throws IOException {\r\n            HttpRequestFactory requestFactory\r\n                    = HTTP_TRANSPORT.createRequestFactory(\r\n                    (HttpRequest request) -&gt; {\r\n                        request.setParser(new JsonObjectParser(JSON_FACTORY));\r\n                    });\r\n    \r\n            HttpRequest request = requestFactory.buildRequest(HttpMethods.GET, new GenericUrl(url), null);\r\n    \r\n            return request.execute().parseAs(parseAs);\r\n        }\r\n\r\nCan be use like this:\r\n\r\n    HashMap&lt;String, Object&gt; out = HttpUtils.getJson( &quot;https://api.qwant.com&quot;, HashMap.class);","title":"Dynamic Return Type in Java method","body":"<p>My 2 cents with an example with Google HTTP client:</p>\n\n<pre><code>static public &lt;Any&gt; Any getJson(final String url, final Class&lt;Any&gt; parseAs) throws IOException {\n        HttpRequestFactory requestFactory\n                = HTTP_TRANSPORT.createRequestFactory(\n                (HttpRequest request) -&gt; {\n                    request.setParser(new JsonObjectParser(JSON_FACTORY));\n                });\n\n        HttpRequest request = requestFactory.buildRequest(HttpMethods.GET, new GenericUrl(url), null);\n\n        return request.execute().parseAs(parseAs);\n    }\n</code></pre>\n\n<p>Can be use like this:</p>\n\n<pre><code>HashMap&lt;String, Object&gt; out = HttpUtils.getJson( \"https://api.qwant.com\", HashMap.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6959991,"reputation":107,"user_id":6090958,"display_name":"SUNEEL KAUSHIK S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064113,"creation_date":1668063769,"answer_id":74385220,"question_id":8191536,"body_markdown":"It can also be done as the below example:\r\n```\r\npublic class Test \r\n{\r\n  public &lt;T&gt; T dynamicReturnMethod(Class&lt;T&gt; clazz) \r\n  {\r\n    //your code\r\n    return class.getDeclaredConstructor().newInstance();\r\n  }\r\n\r\n//usage\r\n  public static void main(String[] args) \r\n  {\r\n    Test t = new Test();\r\n    ClassObjectWhichNeedsToBeReturned obj = \r\n       t.dynamicReturnMethod(ClassObjectWhichNeedsToBeReturned.class)\r\n  }\r\n}\r\n```\r\n\r\nThis has been tested using java 11","title":"Dynamic Return Type in Java method","body":"<p>It can also be done as the below example:</p>\n<pre><code>public class Test \n{\n  public &lt;T&gt; T dynamicReturnMethod(Class&lt;T&gt; clazz) \n  {\n    //your code\n    return class.getDeclaredConstructor().newInstance();\n  }\n\n//usage\n  public static void main(String[] args) \n  {\n    Test t = new Test();\n    ClassObjectWhichNeedsToBeReturned obj = \n       t.dynamicReturnMethod(ClassObjectWhichNeedsToBeReturned.class)\n  }\n}\n</code></pre>\n<p>This has been tested using java 11</p>\n"}],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64022,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":8191649,"answer_count":6,"score":24,"last_activity_date":1668064113,"creation_date":1321671444,"question_id":8191536,"body_markdown":"I&#39;ve seen a question similar to this multiple times here, but there is one big difference.\r\n\r\nIn the other questions, the return type is to be determined by the parameter. What I want/need to do is determine the return type by the parsed value of a `byte[]`. From what I&#39;ve gathered, the following could work:\r\n\r\n    public Comparable getParam(String param, byte[] data) {\r\n        if(param.equals(&quot;some boolean variable&quot;)\r\n            return data[0] != 0;\r\n        else(param.equals(&quot;some float variable&quot;) {\r\n            //create a new float, f, from some 4 bytes in data\r\n            return f;\r\n        }\r\n        return null;\r\n    }\r\n\r\nI just want to make sure that this has a chance of working before I screw anything up. Thanks in advance.","title":"Dynamic Return Type in Java method","body":"<p>I've seen a question similar to this multiple times here, but there is one big difference.</p>\n\n<p>In the other questions, the return type is to be determined by the parameter. What I want/need to do is determine the return type by the parsed value of a <code>byte[]</code>. From what I've gathered, the following could work:</p>\n\n<pre><code>public Comparable getParam(String param, byte[] data) {\n    if(param.equals(\"some boolean variable\")\n        return data[0] != 0;\n    else(param.equals(\"some float variable\") {\n        //create a new float, f, from some 4 bytes in data\n        return f;\n    }\n    return null;\n}\n</code></pre>\n\n<p>I just want to make sure that this has a chance of working before I screw anything up. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1668016755,"post_id":74379285,"comment_id":131307703,"body_markdown":"How have you configured your `restTemplate` bean?","body":"How have you configured your <code>restTemplate</code> bean?"},{"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"score":0,"creation_date":1668017042,"post_id":74379285,"comment_id":131307813,"body_markdown":"I have updated in the question","body":"I have updated in the question"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668036035,"creation_date":1668036035,"answer_id":74382490,"question_id":74379285,"body_markdown":"Replace your `static RestTemplate restTemplate = new RestTemplate();` variable for a real bean:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.http.converter.json.MappingJacksonHttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n\r\n    @Configuration\r\n    public class app1 {\r\n        //remove this variable\r\n        //static RestTemplate restTemplate = new RestTemplate();\r\n        static String url = &quot;your_url&quot;;\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(app1.class, args);\r\n            //getCallSample();\r\n        }\r\n\r\n        //create a proper RestTemplate bean\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            //add a converter so you can unmarshall the json content\r\n    \t\tMappingJacksonHttpMessageConverter converter = new MappingJacksonHttpMessageConverter();\r\n            //this is an example to set an ObjectMapper instance\r\n            //you can define a bean to configure the ObjectMapper\r\n            //with specific details like avoid unmarshalling unknown fields\r\n\t    \tconverter.setObjectMapper(new ObjectMapper());\r\n\t\t    restTemplate.getMessageConverters().add(converter);\r\n    \t\treturn restTemplate;\r\n        }\r\n    }\r\n\r\nNow, in the method you&#39;re using the rest template. Get it from Spring&#39;s application context rather than using your own static bean. Example:\r\n\r\n\r\n    @Component\r\n    public class WorkspaceService {\r\n\r\n        private final RestTemplate restTemplate;\r\n\r\n        public WorkspaceService(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n\r\n        public List&lt;Workspace&gt; getWorkspaces() {\r\n            ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\r\n                  url,\r\n                  HttpMethod.GET,\r\n                  requestEntity,\r\n                  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\r\n            List&lt;Workspace&gt; employees = response.getBody();\r\n            employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n            return employees;\r\n        }\r\n    }\r\n\r\nNow you can use this bean in your components. For example, if you want to use it in main class:\r\n\r\n    @Configuration\r\n    public class app1 {\r\n        static String url = &quot;your_url&quot;;\r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(app1.class, args);\r\n            WorkspaceService ws = ctx.getBean(WorkspaceService.class);\r\n            ws.getWorkspaces();\r\n        }\r\n\r\n        //create a proper bean\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            /* code from above... */\r\n        }\r\n    }","title":"ResponseEntity is returning null when imposing class object","body":"<p>Replace your <code>static RestTemplate restTemplate = new RestTemplate();</code> variable for a real bean:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.converter.json.MappingJacksonHttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class app1 {\n    //remove this variable\n    //static RestTemplate restTemplate = new RestTemplate();\n    static String url = &quot;your_url&quot;;\n    public static void main(String[] args) {\n        SpringApplication.run(app1.class, args);\n        //getCallSample();\n    }\n\n    //create a proper RestTemplate bean\n    @Bean\n    public RestTemplate restTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        //add a converter so you can unmarshall the json content\n        MappingJacksonHttpMessageConverter converter = new MappingJacksonHttpMessageConverter();\n        //this is an example to set an ObjectMapper instance\n        //you can define a bean to configure the ObjectMapper\n        //with specific details like avoid unmarshalling unknown fields\n        converter.setObjectMapper(new ObjectMapper());\n        restTemplate.getMessageConverters().add(converter);\n        return restTemplate;\n    }\n}\n</code></pre>\n<p>Now, in the method you're using the rest template. Get it from Spring's application context rather than using your own static bean. Example:</p>\n<pre><code>@Component\npublic class WorkspaceService {\n\n    private final RestTemplate restTemplate;\n\n    public WorkspaceService(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    public List&lt;Workspace&gt; getWorkspaces() {\n        ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\n              url,\n              HttpMethod.GET,\n              requestEntity,\n              new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\n        List&lt;Workspace&gt; employees = response.getBody();\n        employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n        return employees;\n    }\n}\n</code></pre>\n<p>Now you can use this bean in your components. For example, if you want to use it in main class:</p>\n<pre><code>@Configuration\npublic class app1 {\n    static String url = &quot;your_url&quot;;\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(app1.class, args);\n        WorkspaceService ws = ctx.getBean(WorkspaceService.class);\n        ws.getWorkspaces();\n    }\n\n    //create a proper bean\n    @Bean\n    public RestTemplate restTemplate() {\n        /* code from above... */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064067,"creation_date":1668064067,"answer_id":74385264,"question_id":74379285,"body_markdown":"The issue is resolved by changing the Pojo class (used this to get the class https://json2csharp.com/code-converters/json-to-pojo) to \r\n\r\n    public class Root{\r\n        @JsonProperty(&quot;Id&quot;) \r\n        public String id;\r\n        @JsonProperty(&quot;TenantId&quot;) \r\n        public int tenantId;\r\n        @JsonProperty(&quot;Name&quot;) \r\n        public String name;\r\n        @JsonProperty(&quot;Description&quot;) \r\n        public String description;\r\n        @JsonProperty(&quot;Tags&quot;) \r\n        public ArrayList&lt;Object&gt; tags;\r\n    }\r\n\r\nand the code is used \r\n\r\n    ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\r\n    \t\t\t\t  .exchange(\r\n    \t\t\t\t    url,\r\n    \t\t\t\t    HttpMethod.GET,\r\n    \t\t\t\t    requestEntity,\r\n    \t\t\t\t    Workspace[].class);\r\n    \t\t\t\tWorkspace [] employees1 = responseNew.getBody();\r\n    list.stream().forEach(entry -&gt; System.out.println(entry.getDescription()+&quot;: &quot;+  entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nThanks for the responses , got to learn a lot from the answers ","title":"ResponseEntity is returning null when imposing class object","body":"<p>The issue is resolved by changing the Pojo class (used this to get the class <a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a>) to</p>\n<pre><code>public class Root{\n    @JsonProperty(&quot;Id&quot;) \n    public String id;\n    @JsonProperty(&quot;TenantId&quot;) \n    public int tenantId;\n    @JsonProperty(&quot;Name&quot;) \n    public String name;\n    @JsonProperty(&quot;Description&quot;) \n    public String description;\n    @JsonProperty(&quot;Tags&quot;) \n    public ArrayList&lt;Object&gt; tags;\n}\n</code></pre>\n<p>and the code is used</p>\n<pre><code>ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\n                  .exchange(\n                    url,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Workspace[].class);\n                Workspace [] employees1 = responseNew.getBody();\nlist.stream().forEach(entry -&gt; System.out.println(entry.getDescription()+&quot;: &quot;+  entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>Thanks for the responses , got to learn a lot from the answers</p>\n"}],"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668064067,"creation_date":1668016227,"question_id":74379285,"body_markdown":"I am new to Spring boot and sorry in case it&#39;s very basic but I am posting as I have tried other ways and checked similar threads as well.\r\n\r\nIf I use below code it&#39;s returning correct response \r\n\r\n    ResponseEntity&lt;String&gt; responseEntityString = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\r\n\r\nOutput \r\n\r\n    [{&quot;Id&quot;:&quot;123aa&quot;,&quot;TenId&quot;:5198,&quot;Name&quot;:&quot;test&quot;,&quot;Description&quot;:&quot;test11&quot;,&quot;Tags&quot;:[]}]\r\n\r\nNow I have created workspace class like below (getter/setter/arg constructor and no-arg construcntor is also there)\r\n\r\n    public class Workspace {\r\n    \r\n    \tprivate String Id;\r\n    \tprivate String TenId;\r\n    \tprivate String Name;\r\n    \tprivate String Description;\r\n    \tprivate List&lt;String&gt; Tags;\r\n     }\r\n\r\nNow I execute the below code - \r\n\r\n    ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\r\n    \t\t\t\t  url,\r\n    \t\t\t\t  HttpMethod.GET,\r\n    \t\t\t\t  requestEntity,\r\n    \t\t\t\t  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\r\n    \t\tList&lt;Workspace&gt; employees = response.getBody();\r\n    \t\temployees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nIt&#39;s returning \r\n\r\n    null: null\r\nBelow is returning true\r\n\r\n    System.out.println(&quot;Value &quot;+ response.hasBody());\r\n\r\nBelow is returning - New Values [com.pratik.model.Workspace@3cbf1ba4]\r\n\r\n    New Values [com.pratik.model.Workspace@3cbf1ba4]\r\n\r\nSo please advise what needs to change to get the values \r\n\r\n================================================================\r\nInitialized resttemplate bean like below \r\n\r\n     public class app1 {\r\n        static RestTemplate restTemplate = new RestTemplate();\r\n        static String url =   url;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(app1.class, args);\r\n    \t\tgetCallSample();\r\n    \t\t\r\n    \t}\r\n\r\n===============================================================\r\n\r\nUpdate on the latest code  \r\n\r\n    ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\r\n    \t\t\t\t  .exchange(\r\n    \t\t\t\t    url,\r\n    \t\t\t\t    HttpMethod.GET,\r\n    \t\t\t\t    requestEntity,\r\n    \t\t\t\t    Workspace[].class);\r\n    Workspace [] employees1 = responseNew.getBody();\r\n    List&lt;Workspace&gt; list = Arrays.asList(employees1);\r\n    list.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nStill the response is \r\n\r\n    null: null\r\n\r\n\r\n===============================================================\r\nAnother update \r\nWhen tried with String.class it&#39;s returning \r\n\r\n    [{&quot;Id&quot;:&quot;abc&quot;,&quot;TenId&quot;:11,&quot;Name&quot;:&quot;tt1 Workspace&quot;,&quot;Description&quot;:&quot;testtenant Workspace (System Generated)&quot;,&quot;Tags&quot;:[]}]\r\n\r\nBut when using workspace class - it&#39;s returning - \r\n\r\n    [Id=null, TenId=null, Name=null, Description=null, Tags=null, getId()=null, getTenId()=null, getName()=null, getDescription()=null, getTags()=null]\r\n\r\nSo is using Workspace[].class would be the right method ?\r\n","title":"ResponseEntity is returning null when imposing class object","body":"<p>I am new to Spring boot and sorry in case it's very basic but I am posting as I have tried other ways and checked similar threads as well.</p>\n<p>If I use below code it's returning correct response</p>\n<pre><code>ResponseEntity&lt;String&gt; responseEntityString = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\n</code></pre>\n<p>Output</p>\n<pre><code>[{&quot;Id&quot;:&quot;123aa&quot;,&quot;TenId&quot;:5198,&quot;Name&quot;:&quot;test&quot;,&quot;Description&quot;:&quot;test11&quot;,&quot;Tags&quot;:[]}]\n</code></pre>\n<p>Now I have created workspace class like below (getter/setter/arg constructor and no-arg construcntor is also there)</p>\n<pre><code>public class Workspace {\n\n    private String Id;\n    private String TenId;\n    private String Name;\n    private String Description;\n    private List&lt;String&gt; Tags;\n }\n</code></pre>\n<p>Now I execute the below code -</p>\n<pre><code>ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\n                  url,\n                  HttpMethod.GET,\n                  requestEntity,\n                  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\n        List&lt;Workspace&gt; employees = response.getBody();\n        employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>It's returning</p>\n<pre><code>null: null\n</code></pre>\n<p>Below is returning true</p>\n<pre><code>System.out.println(&quot;Value &quot;+ response.hasBody());\n</code></pre>\n<p>Below is returning - New Values [com.pratik.model.Workspace@3cbf1ba4]</p>\n<pre><code>New Values [com.pratik.model.Workspace@3cbf1ba4]\n</code></pre>\n<p>So please advise what needs to change to get the values</p>\n<p>================================================================\nInitialized resttemplate bean like below</p>\n<pre><code> public class app1 {\n    static RestTemplate restTemplate = new RestTemplate();\n    static String url =   url;\n    public static void main(String[] args) {\n        SpringApplication.run(app1.class, args);\n        getCallSample();\n        \n    }\n</code></pre>\n<p>===============================================================</p>\n<p>Update on the latest code</p>\n<pre><code>ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\n                  .exchange(\n                    url,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Workspace[].class);\nWorkspace [] employees1 = responseNew.getBody();\nList&lt;Workspace&gt; list = Arrays.asList(employees1);\nlist.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>Still the response is</p>\n<pre><code>null: null\n</code></pre>\n<p>===============================================================\nAnother update\nWhen tried with String.class it's returning</p>\n<pre><code>[{&quot;Id&quot;:&quot;abc&quot;,&quot;TenId&quot;:11,&quot;Name&quot;:&quot;tt1 Workspace&quot;,&quot;Description&quot;:&quot;testtenant Workspace (System Generated)&quot;,&quot;Tags&quot;:[]}]\n</code></pre>\n<p>But when using workspace class - it's returning -</p>\n<pre><code>[Id=null, TenId=null, Name=null, Description=null, Tags=null, getId()=null, getTenId()=null, getName()=null, getDescription()=null, getTags()=null]\n</code></pre>\n<p>So is using Workspace[].class would be the right method ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667943760,"post_id":74367107,"comment_id":131288127,"body_markdown":"Are you sure you didn&#39;t forget to remove /login from the protected pages? I don&#39;t see &quot;.formLogin().loginPage(&quot;/login&quot;).permitAll()&quot; in your WebSecurityConfigurerAdapter","body":"Are you sure you didn&#39;t forget to remove /login from the protected pages? I don&#39;t see &quot;.formLogin().loginPage(&quot;/login&quot;).permitAll()&quot; in your WebSecurityConfigurerAdapter"},{"owner":{"account_id":20802352,"reputation":95,"user_id":15278082,"display_name":"zarpat"},"score":0,"creation_date":1667945391,"post_id":74367107,"comment_id":131288541,"body_markdown":"Im not getting unauthorized error and i have anyRequest().permitAll()","body":"Im not getting unauthorized error and i have anyRequest().permitAll()"}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668063357,"creation_date":1667975231,"answer_id":74370711,"question_id":74367107,"body_markdown":"because current AuthenticationManager&#39;s parent authenticationManager also delegate current AuthenticationManager \r\n\r\nremove SecurityConfig userDetailsServiceBean() \r\n\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() throws Exception{\r\n        return super.userDetailsServiceBean();\r\n    }","title":"WebSecurityConfigurerAdapter loadUserByUsername throws StackOverflow error","body":"<p>because current AuthenticationManager's parent authenticationManager also delegate current AuthenticationManager</p>\n<p>remove SecurityConfig userDetailsServiceBean()</p>\n<pre><code>@Bean\n@Override\npublic UserDetailsService userDetailsServiceBean() throws Exception{\n    return super.userDetailsServiceBean();\n}\n</code></pre>\n"}],"owner":{"account_id":20802352,"reputation":95,"user_id":15278082,"display_name":"zarpat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668063357,"creation_date":1667941139,"question_id":74367107,"body_markdown":"searched for this but no solution works for me.\r\n\r\nSo I am trying to have JWT token in my spring boot application. When hitting endpoint /login I`m getting StackOverflow error thrown by WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername.\r\n\r\n**```SecurityConfig```**\r\n```\r\n@ComponentScan(&quot;com.example.javaee_project.security&quot;)\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() throws Exception{\r\n        return super.userDetailsServiceBean();\r\n    }\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoderBean() throws Exception{\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        super.configure(auth);\r\n        auth.parentAuthenticationManager(authenticationManagerBean())\r\n                .userDetailsService(userDetailsServiceBean())\r\n                .passwordEncoder(bCryptPasswordEncoderBean());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().anyRequest().permitAll();\r\n        http.addFilter(new CustomAuthenthicationFilter(authenticationManagerBean()));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\n**```CustomAuthenticationFilter```**\r\n```\r\npublic class CustomAuthenthicationFilter extends UsernamePasswordAuthenticationFilter {\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public CustomAuthenthicationFilter(AuthenticationManager authenthicationManager){\r\n        this.authenticationManager = authenthicationManager;\r\n    }\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\r\n\r\n        return authenticationManager.authenticate(authenticationToken);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n        User user = (User) authResult.getPrincipal();\r\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n        String accessToken = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                .sign(algorithm);\r\n\r\n        response.setHeader(&quot;access_token&quot;, accessToken);\r\n    }\r\n}\r\n```\r\n**loadByUsername method in AppUserService**\r\n```\r\n  @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        AppUser user = appUserRepository.findByUsername(username);\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt;\r\n                authorities.add(new SimpleGrantedAuthority(role.getName()))\r\n        );\r\n        if(user != null){\r\n            log.info(&quot;null user&quot;);\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return new User(user.getUsername(), user.getPassword(), authorities);\r\n    }\r\n}\r\n```\r\n**Main class**\r\n```\r\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\r\n@ComponentScan(basePackages = {&quot;com.example.javaee_project.security&quot;})\r\npublic class JavaEeProjectApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JavaEeProjectApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```","title":"WebSecurityConfigurerAdapter loadUserByUsername throws StackOverflow error","body":"<p>searched for this but no solution works for me.</p>\n<p>So I am trying to have JWT token in my spring boot application. When hitting endpoint /login I`m getting StackOverflow error thrown by WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername.</p>\n<p><strong><code>SecurityConfig</code></strong></p>\n<pre><code>@ComponentScan(&quot;com.example.javaee_project.security&quot;)\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean\n    @Override\n    public UserDetailsService userDetailsServiceBean() throws Exception{\n        return super.userDetailsServiceBean();\n    }\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoderBean() throws Exception{\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        super.configure(auth);\n        auth.parentAuthenticationManager(authenticationManagerBean())\n                .userDetailsService(userDetailsServiceBean())\n                .passwordEncoder(bCryptPasswordEncoderBean());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new CustomAuthenthicationFilter(authenticationManagerBean()));\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><strong><code>CustomAuthenticationFilter</code></strong></p>\n<pre><code>public class CustomAuthenthicationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n\n    public CustomAuthenthicationFilter(AuthenticationManager authenthicationManager){\n        this.authenticationManager = authenthicationManager;\n    }\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n\n        return authenticationManager.authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user = (User) authResult.getPrincipal();\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String accessToken = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        response.setHeader(&quot;access_token&quot;, accessToken);\n    }\n}\n</code></pre>\n<p><strong>loadByUsername method in AppUserService</strong></p>\n<pre><code>  @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        AppUser user = appUserRepository.findByUsername(username);\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt;\n                authorities.add(new SimpleGrantedAuthority(role.getName()))\n        );\n        if(user != null){\n            log.info(&quot;null user&quot;);\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return new User(user.getUsername(), user.getPassword(), authorities);\n    }\n}\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\n@ComponentScan(basePackages = {&quot;com.example.javaee_project.security&quot;})\npublic class JavaEeProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JavaEeProjectApplication.class, args);\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1663900120,"post_id":73822257,"comment_id":130353126,"body_markdown":"Try to reinstall it correctly based on the installation instructions.","body":"Try to reinstall it correctly based on the installation instructions."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1663901043,"post_id":73822257,"comment_id":130353257,"body_markdown":"What are you doing, is this a spring application that has a liquibase jar and it autoconfigures itself and runs an update? You did check to see if the change log is present in the classpath? There&#39;s a liquibase spring properties file, can you show that?","body":"What are you doing, is this a spring application that has a liquibase jar and it autoconfigures itself and runs an update? You did check to see if the change log is present in the classpath? There&#39;s a liquibase spring properties file, can you show that?"},{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1663948710,"post_id":73822257,"comment_id":130367386,"body_markdown":"As a note, please enter your code snippets as code text instead of screenshot images. \nhttps://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"As a note, please enter your code snippets as code text instead of screenshot images.  <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14732265,"reputation":55,"user_id":10639197,"display_name":"bhushan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663931243,"creation_date":1663928096,"answer_id":73826222,"question_id":73822257,"body_markdown":"Assuming this is a spring boot application, the default path for liquibase change log file can be overriden in application.yml file, following is one such example -\r\n\r\nspring:\r\n    liquibase:\r\n      change-log: classpath:/liquibase/changelog-master.xml","title":"Liquibase failed to start because no changelog could be found at:","body":"<p>Assuming this is a spring boot application, the default path for liquibase change log file can be overriden in application.yml file, following is one such example -</p>\n<p>spring:\nliquibase:\nchange-log: classpath:/liquibase/changelog-master.xml</p>\n"}],"owner":{"account_id":22753532,"reputation":21,"user_id":16913326,"display_name":"juanca1deron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668063256,"creation_date":1663898063,"question_id":73822257,"body_markdown":"I have a basic Rest program in which I&#39;m using Liquibase. Was about to run it and this appears on the run: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/axwtn.png\r\n\r\nNot pretty sure on what to do to solve it","title":"Liquibase failed to start because no changelog could be found at:","body":"<p>I have a basic Rest program in which I'm using Liquibase. Was about to run it and this appears on the run: <a href=\"https://i.stack.imgur.com/axwtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axwtn.png\" alt=\"enter image description here\" /></a></p>\n<p>Not pretty sure on what to do to solve it</p>\n"},{"tags":["java","spring","spring-boot","activiti"],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668063041,"creation_date":1668063041,"answer_id":74385127,"question_id":74385126,"body_markdown":"I solved the issue, the fix is to change the setting in BPM by changing the task type to &quot;Delegate expression&quot; for the class &quot;DataService&quot; instead of &quot;Java class&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3hsqb.jpg\r\n\r\nThere might be other way too but this is how I solve the issue.\r\n\r\nThanks,\r\n\r\nAtul","title":"How to get the spring bean object in Activiti JavaDelegate class","body":"<p>I solved the issue, the fix is to change the setting in BPM by changing the task type to &quot;Delegate expression&quot; for the class &quot;DataService&quot; instead of &quot;Java class&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/3hsqb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hsqb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There might be other way too but this is how I solve the issue.</p>\n<p>Thanks,</p>\n<p>Atul</p>\n"}],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668063041,"creation_date":1668063041,"question_id":74385126,"body_markdown":"I want to access a Spring bean object into the class which implements JavaDelegate interface of Activiti BPM.\r\n\r\nWhen I am trying to access it, found it as &quot;null&quot;.\r\n\r\nThe code is:\r\n\r\n    @Service(&quot;tempService&quot;)\r\n    public class TempServiceImpl {\r\n    \r\n    \tpublic void getData(String userName) {\r\n    \t\tSystem.out.println(&quot;Data get for the user is =&gt; &quot;+userName);\r\n    \t}\r\n    }\r\n\r\nJavaDelegate class is:\r\n\r\n    @Component\r\n    public class DataService implements JavaDelegate {\r\n    \r\n    \t@Autowired\r\n    \tprivate TempServiceImpl tempService;\r\n    \t\r\n    \t@Override\r\n    \tpublic void execute(DelegateExecution execution) {\r\n    \t\tVariableInstance instance = execution.getParent().getVariableInstances().get(&quot;info&quot;);\r\n    \t\tUser user = (User) instance.getValue();\r\n    \t\tSystem.out.println(&quot;Name: &quot;+user.getUserName());\r\n    \t\ttempService.getData(user.getUserName());\r\n    \t\tSystem.out.println(&quot;Working fine....&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I run the application, the object &quot;tempService&quot; in DataService class is found &quot;null&quot;.\r\n\r\nAny pointer, how to fix it?\r\n\r\n\r\nThanks,\r\n\r\nAtul","title":"How to get the spring bean object in Activiti JavaDelegate class","body":"<p>I want to access a Spring bean object into the class which implements JavaDelegate interface of Activiti BPM.</p>\n<p>When I am trying to access it, found it as &quot;null&quot;.</p>\n<p>The code is:</p>\n<pre><code>@Service(&quot;tempService&quot;)\npublic class TempServiceImpl {\n\n    public void getData(String userName) {\n        System.out.println(&quot;Data get for the user is =&gt; &quot;+userName);\n    }\n}\n</code></pre>\n<p>JavaDelegate class is:</p>\n<pre><code>@Component\npublic class DataService implements JavaDelegate {\n\n    @Autowired\n    private TempServiceImpl tempService;\n    \n    @Override\n    public void execute(DelegateExecution execution) {\n        VariableInstance instance = execution.getParent().getVariableInstances().get(&quot;info&quot;);\n        User user = (User) instance.getValue();\n        System.out.println(&quot;Name: &quot;+user.getUserName());\n        tempService.getData(user.getUserName());\n        System.out.println(&quot;Working fine....&quot;);\n    }\n\n}\n</code></pre>\n<p>When I run the application, the object &quot;tempService&quot; in DataService class is found &quot;null&quot;.</p>\n<p>Any pointer, how to fix it?</p>\n<p>Thanks,</p>\n<p>Atul</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1354633479,"post_id":13705776,"comment_id":18822345,"body_markdown":"you have tried android:capitalize=&quot;sentences&quot; in xml for making first latter capitalized","body":"you have tried android:capitalize=&quot;sentences&quot; in xml for making first latter capitalized"},{"owner":{"account_id":2046230,"reputation":3674,"user_id":1826257,"accept_rate":77,"display_name":"ƒernando Valle"},"score":0,"creation_date":1354633728,"post_id":13705776,"comment_id":18822481,"body_markdown":"There is a similar question here: http://stackoverflow.com/questions/3286343/text-transformuppercase-equivalent-in-android \r\n\r\nhope it helps you.","body":"There is a similar question here: <a href=\"http://stackoverflow.com/questions/3286343/text-transformuppercase-equivalent-in-android\" title=\"text transformuppercase equivalent in android\">stackoverflow.com/questions/3286343/&hellip;</a>     hope it helps you."},{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1354633814,"post_id":13705776,"comment_id":18822523,"body_markdown":"that works fine for me...which android version do you run it on?","body":"that works fine for me...which android version do you run it on?"},{"owner":{"account_id":6783710,"reputation":7750,"user_id":5223160,"display_name":"jzeferino"},"score":0,"creation_date":1458139173,"post_id":13705776,"comment_id":59726808,"body_markdown":"Possible duplicate of [In Android EditText, how to force writing uppercase](http://stackoverflow.com/questions/15961813/in-android-edittext-how-to-force-writing-uppercase)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/15961813/in-android-edittext-how-to-force-writing-uppercase\">In Android EditText, how to force writing uppercase</a>"}],"answers":[{"tags":[],"owner":{"account_id":361730,"reputation":24051,"user_id":704513,"accept_rate":96,"display_name":"Houcine"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1354634487,"creation_date":1354634163,"answer_id":13706033,"question_id":13705776,"body_markdown":"Just use `String.toUpperCase()` method.\r\n\r\nexample  : \r\n\r\n    String str = &quot;blablabla&quot;;\r\n    editText.setText(str.toUpperCase()); // it will give : BLABLABLA\r\n\r\n**EDIT :** \r\n\r\nadd this attribute to you `EditText` Tag in your `layout` xml : \r\n\r\n     android:textAllCaps=&quot;true&quot;\r\n\r\nOR: \r\n\r\nIf you want whatever the user types to be uppercase you could implement a `TextWatcher` and use the `EditText` `addTextChangedListener` to add it, an on the `onTextChange` method take the user input and replace it with the same text in uppercase.\r\n\r\n    editText.addTextChangedListener(upperCaseTextWatcher);\r\n    \r\n    final TextWatcher upperCaseTextWatcher = new TextWatcher() {\r\n    \r\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n    }\r\n    \r\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        editText.setText(editText.getText().toString().toUpperCase());\r\n        editText.setSelection(editText.getText().toString().length());\r\n    }\r\n    \r\n    public void afterTextChanged(Editable editable) {\r\n    }\r\n    \r\n    };","title":"How to capitalize every letter in an Android EditText?","body":"<p>Just use <code>String.toUpperCase()</code> method.</p>\n\n<p>example  : </p>\n\n<pre><code>String str = \"blablabla\";\neditText.setText(str.toUpperCase()); // it will give : BLABLABLA\n</code></pre>\n\n<p><strong>EDIT :</strong> </p>\n\n<p>add this attribute to you <code>EditText</code> Tag in your <code>layout</code> xml : </p>\n\n<pre><code> android:textAllCaps=\"true\"\n</code></pre>\n\n<p>OR: </p>\n\n<p>If you want whatever the user types to be uppercase you could implement a <code>TextWatcher</code> and use the <code>EditText</code> <code>addTextChangedListener</code> to add it, an on the <code>onTextChange</code> method take the user input and replace it with the same text in uppercase.</p>\n\n<pre><code>editText.addTextChangedListener(upperCaseTextWatcher);\n\nfinal TextWatcher upperCaseTextWatcher = new TextWatcher() {\n\npublic void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n}\n\npublic void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n    editText.setText(editText.getText().toString().toUpperCase());\n    editText.setSelection(editText.getText().toString().length());\n}\n\npublic void afterTextChanged(Editable editable) {\n}\n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425825,"reputation":7265,"user_id":806684,"accept_rate":50,"display_name":"Robin Chander"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1354634710,"creation_date":1354634710,"answer_id":13706213,"question_id":13705776,"body_markdown":"This would work\r\n\r\n        inputs[i] = new EditText(this);\r\n        inputs[i].setWidth(376);\r\n        inputs[i].setInputType(0x00001001);\r\n        tFields.addView(inputs[i]);\r\n\r\n0x00001001 corresponds to &quot;`textCapCharacters` constant.","title":"How to capitalize every letter in an Android EditText?","body":"<p>This would work</p>\n\n<pre><code>    inputs[i] = new EditText(this);\n    inputs[i].setWidth(376);\n    inputs[i].setInputType(0x00001001);\n    tFields.addView(inputs[i]);\n</code></pre>\n\n<p>0x00001001 corresponds to \"<code>textCapCharacters</code> constant.</p>\n"},{"tags":[],"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1379602895,"creation_date":1379602895,"answer_id":18898239,"question_id":13705776,"body_markdown":"You need to tell it it&#39;s from the &quot;class&quot; text as well:\r\n\r\n    inputs[i] = new EditText(this);\r\n    inputs[i].setWidth(376);\r\n    inputs[i].setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\r\n    tFields.addView(inputs[i]);\r\n\r\nThe [input type][1] is a [bitmask][2]. You can combine the flags by putting the | (pipe) character in the middle, which stands for the OR logic function, even though when used in a bitmask like this it means &quot;this flag AND that other flag&quot;.\r\n\r\n(This answer is the same as Robin&#39;s but without &quot;magic numbers&quot;, one of the worst things you can put in your code. The Android API has constants, use them instead of copying the values and risking to eventually break the code.)\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/InputType.html\r\n  [2]: http://en.wikipedia.org/wiki/Bitmask","title":"How to capitalize every letter in an Android EditText?","body":"<p>You need to tell it it's from the \"class\" text as well:</p>\n\n<pre><code>inputs[i] = new EditText(this);\ninputs[i].setWidth(376);\ninputs[i].setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\ntFields.addView(inputs[i]);\n</code></pre>\n\n<p>The <a href=\"http://developer.android.com/reference/android/text/InputType.html\">input type</a> is a <a href=\"http://en.wikipedia.org/wiki/Bitmask\">bitmask</a>. You can combine the flags by putting the | (pipe) character in the middle, which stands for the OR logic function, even though when used in a bitmask like this it means \"this flag AND that other flag\".</p>\n\n<p>(This answer is the same as Robin's but without \"magic numbers\", one of the worst things you can put in your code. The Android API has constants, use them instead of copying the values and risking to eventually break the code.)</p>\n"},{"tags":[],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395123967,"creation_date":1395123967,"answer_id":22471826,"question_id":13705776,"body_markdown":"try using this single line of code in your xml:\r\n\r\n    android:capitalize=&quot;sentences&quot;","title":"How to capitalize every letter in an Android EditText?","body":"<p>try using this single line of code in your xml:</p>\n\n<pre><code>android:capitalize=\"sentences\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783710,"reputation":7750,"user_id":5223160,"display_name":"jzeferino"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1458138754,"creation_date":1458138754,"answer_id":36038686,"question_id":13705776,"body_markdown":"This will make all the characters uppercase when writing.\r\n\r\n    edittext.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\r\n\r\nOriginal answer [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25571410/5223160","title":"How to capitalize every letter in an Android EditText?","body":"<p>This will make all the characters uppercase when writing.</p>\n\n<pre><code>edittext.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\n</code></pre>\n\n<p>Original answer <a href=\"https://stackoverflow.com/a/25571410/5223160\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5656725,"reputation":103,"user_id":4475663,"display_name":"Douglas Santos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477395311,"creation_date":1477395311,"answer_id":40238893,"question_id":13705776,"body_markdown":"You can try this:\r\n\r\n    android:inputType=&quot;textCapCharacters&quot;\r\n\r\nIt worked for me. =)","title":"How to capitalize every letter in an Android EditText?","body":"<p>You can try this:</p>\n\n<pre><code>android:inputType=\"textCapCharacters\"\n</code></pre>\n\n<p>It worked for me. =)</p>\n"},{"tags":[],"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496853122,"creation_date":1496853122,"answer_id":44418255,"question_id":13705776,"body_markdown":"For some reason adding the xml did not work on my device.\r\n\r\nI found that a Text Filter works for to uppercase, like this\r\n\r\n\r\n\r\n        EditText editText = (EditText) findViewById(R.id.editTextId);\r\n\r\n        InputFilter toUpperCaseFilter = new InputFilter() {\r\n            public CharSequence filter(CharSequence source, int start, int end,\r\n                                       Spanned dest, int dstart, int dend) {\r\n\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n\r\n                for (int i = start; i &lt; end; i++) {\r\n                    Character character = source.charAt(i);\r\n                    character = Character.toUpperCase(character); // THIS IS UPPER CASING\r\n                    stringBuilder.append(character);\r\n\r\n                }\r\n                return stringBuilder.toString();\r\n            }\r\n\r\n        };\r\n\r\n        editText.setFilters(new InputFilter[] { toUpperCaseFilter });\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>For some reason adding the xml did not work on my device.</p>\n\n<p>I found that a Text Filter works for to uppercase, like this</p>\n\n<pre><code>    EditText editText = (EditText) findViewById(R.id.editTextId);\n\n    InputFilter toUpperCaseFilter = new InputFilter() {\n        public CharSequence filter(CharSequence source, int start, int end,\n                                   Spanned dest, int dstart, int dend) {\n\n            StringBuilder stringBuilder = new StringBuilder();\n\n            for (int i = start; i &lt; end; i++) {\n                Character character = source.charAt(i);\n                character = Character.toUpperCase(character); // THIS IS UPPER CASING\n                stringBuilder.append(character);\n\n            }\n            return stringBuilder.toString();\n        }\n\n    };\n\n    editText.setFilters(new InputFilter[] { toUpperCaseFilter });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5353527,"reputation":9286,"user_id":4266957,"accept_rate":38,"display_name":"Ricardo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1574671489,"creation_date":1506611504,"answer_id":46472621,"question_id":13705776,"body_markdown":"I know this question is a bit old but here is explained how to do it in different ways:\r\n\r\n**Applying UpperCase in XML** \r\n\r\nAdd the following to the EditText XML:\r\n\r\n    android:inputType=&quot;textCapCharacters&quot;\r\n\r\n**Applying UpperCase as the only filter to an EditText in Java**\r\n\r\nHere we are setting the UpperCase filter as the only filter of the EditText. Notice that this method removes all the previously added filters.\r\n\r\n    editText.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\r\n\r\n**Adding UpperCase to the existing filters of an EditText in Java**\r\n\r\nTo keep the already applied filters of the EditText, let&#39;s say inputType, maxLength, etc, you need to retrieve the applied filters, add the UpperCase filter to those filters, and set them back to the EditText. Here is an example how:\r\n\r\n    InputFilter[] editFilters = editText.getFilters();\r\n    InputFilter[] newFilters = new InputFilter[editFilters.length + 1];\r\n    System.arraycopy(editFilters, 0, newFilters, 0, editFilters.length);\r\n    newFilters[editFilters.length] = new InputFilter.AllCaps();  \r\n    editText.setFilters(newFilters);\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>I know this question is a bit old but here is explained how to do it in different ways:</p>\n\n<p><strong>Applying UpperCase in XML</strong> </p>\n\n<p>Add the following to the EditText XML:</p>\n\n<pre><code>android:inputType=\"textCapCharacters\"\n</code></pre>\n\n<p><strong>Applying UpperCase as the only filter to an EditText in Java</strong></p>\n\n<p>Here we are setting the UpperCase filter as the only filter of the EditText. Notice that this method removes all the previously added filters.</p>\n\n<pre><code>editText.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\n</code></pre>\n\n<p><strong>Adding UpperCase to the existing filters of an EditText in Java</strong></p>\n\n<p>To keep the already applied filters of the EditText, let's say inputType, maxLength, etc, you need to retrieve the applied filters, add the UpperCase filter to those filters, and set them back to the EditText. Here is an example how:</p>\n\n<pre><code>InputFilter[] editFilters = editText.getFilters();\nInputFilter[] newFilters = new InputFilter[editFilters.length + 1];\nSystem.arraycopy(editFilters, 0, newFilters, 0, editFilters.length);\nnewFilters[editFilters.length] = new InputFilter.AllCaps();  \neditText.setFilters(newFilters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173110,"reputation":431,"user_id":10239175,"display_name":"indrajeet jyoti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552467574,"creation_date":1552464651,"answer_id":55137074,"question_id":13705776,"body_markdown":"To capitalize the first word of each sentence use :\r\n\r\n```android:inputType=&quot;textCapSentences&quot;```\r\n\r\nTo Capitalize The First Letter Of Every Word use :\r\n\r\n```android:inputType=&quot;textCapWords&quot;```\r\n\r\nTo Capitalize every Character use :\r\n\r\n```android:inputType=&quot;textCapCharacters&quot;```","title":"How to capitalize every letter in an Android EditText?","body":"<p>To capitalize the first word of each sentence use :</p>\n\n<p><code>android:inputType=\"textCapSentences\"</code></p>\n\n<p>To Capitalize The First Letter Of Every Word use :</p>\n\n<p><code>android:inputType=\"textCapWords\"</code></p>\n\n<p>To Capitalize every Character use :</p>\n\n<p><code>android:inputType=\"textCapCharacters\"</code></p>\n"},{"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611577461,"creation_date":1611577461,"answer_id":65884745,"question_id":13705776,"body_markdown":"All you have to do is set the correct input type for the EditText view:\r\n\r\n    editText.inputType == InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS\r\n\r\nAs an alternative you can use an InputFilter. Here I have created a **Kotlin extension**:\r\n\r\n    fun EditText.allCaps() {\r\n        val newFilters = this.filters.copyOf(this.filters.size + 1)\r\n\r\n        newFilters[newFilters.size - 1] = InputFilter.AllCaps()\r\n\r\n        this.filters = newFilters\r\n    }\r\n\r\nI prefer to use both of this methods. Please note that InputFilter works also for hardware keyboard, on the other hand InputType will be effective only for soft keyboard.","title":"How to capitalize every letter in an Android EditText?","body":"<p>All you have to do is set the correct input type for the EditText view:</p>\n<pre><code>editText.inputType == InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS\n</code></pre>\n<p>As an alternative you can use an InputFilter. Here I have created a <strong>Kotlin extension</strong>:</p>\n<pre><code>fun EditText.allCaps() {\n    val newFilters = this.filters.copyOf(this.filters.size + 1)\n\n    newFilters[newFilters.size - 1] = InputFilter.AllCaps()\n\n    this.filters = newFilters\n}\n</code></pre>\n<p>I prefer to use both of this methods. Please note that InputFilter works also for hardware keyboard, on the other hand InputType will be effective only for soft keyboard.</p>\n"},{"tags":[],"owner":{"account_id":14235462,"reputation":1,"user_id":10283384,"display_name":"sanjay rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668062469,"creation_date":1668061353,"answer_id":74384898,"question_id":13705776,"body_markdown":"Most of people have already answered about how to capitalize the editTexts.\r\nI have same requirement in my current project but with slight change.\r\nI need to make it uppercase if it&#39;s lowercase i.e., user typed &#39;a&#39; then it need to be changed to &#39;A&#39;. \r\n\r\n`AddTextChangeListener` comes to the rescue.\r\nSomeone has already covered it above but it falls in infinite loop and app crashes. There is just small modification required to make it work. so let&#39;s start.\r\n\r\nKotlin:\r\n\r\n```\r\nval watcher: TextWatcher = object : TextWatcher {\r\n    override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\r\n\r\n    }\r\n\r\n    override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\r\n        editText.removeTextChangedListener(this)\r\n        editText.setText(s.toString().toUpperCase())\r\n        editText.setEditTextSelection(editText.text.length)// Required to make cursor go to last index otherwise it would always point to start index\r\n        editText.addTextChangedListener(this)\r\n    }\r\n\r\n    override fun afterTextChanged(s: Editable) {}\r\n}\r\n\r\neditText.addTextChangedListener(watcher)\r\n```\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>Most of people have already answered about how to capitalize the editTexts.\nI have same requirement in my current project but with slight change.\nI need to make it uppercase if it's lowercase i.e., user typed 'a' then it need to be changed to 'A'.</p>\n<p><code>AddTextChangeListener</code> comes to the rescue.\nSomeone has already covered it above but it falls in infinite loop and app crashes. There is just small modification required to make it work. so let's start.</p>\n<p>Kotlin:</p>\n<pre><code>val watcher: TextWatcher = object : TextWatcher {\n    override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n\n    }\n\n    override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n        editText.removeTextChangedListener(this)\n        editText.setText(s.toString().toUpperCase())\n        editText.setEditTextSelection(editText.text.length)// Required to make cursor go to last index otherwise it would always point to start index\n        editText.addTextChangedListener(this)\n    }\n\n    override fun afterTextChanged(s: Editable) {}\n}\n\neditText.addTextChangedListener(watcher)\n</code></pre>\n"}],"owner":{"account_id":1990251,"reputation":1022,"user_id":1784430,"accept_rate":67,"display_name":"clavio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47266,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":18898239,"answer_count":11,"score":26,"last_activity_date":1668062469,"creation_date":1354633245,"question_id":13705776,"body_markdown":"I have an array of editTexts which I make like this:\r\n\r\n\t\t\tinputs[i] = new EditText(this);\r\n\t\t\tinputs[i].setWidth(376);\r\n\t\t\tinputs[i].setInputType(InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\r\n\t\t\ttFields.addView(inputs[i]);\r\n\r\nI want every character to be capitalized.  Right now, the first letter of the first word is lowercase, then all the characters afterwords are upper case.  I can take what the user inputs after they are done and convert that to uppercase, but that&#39;s not really what I&#39;m going for.  Is there a way to get these fields to behave the way I want them to?","title":"How to capitalize every letter in an Android EditText?","body":"<p>I have an array of editTexts which I make like this:</p>\n\n<pre><code>        inputs[i] = new EditText(this);\n        inputs[i].setWidth(376);\n        inputs[i].setInputType(InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\n        tFields.addView(inputs[i]);\n</code></pre>\n\n<p>I want every character to be capitalized.  Right now, the first letter of the first word is lowercase, then all the characters afterwords are upper case.  I can take what the user inputs after they are done and convert that to uppercase, but that's not really what I'm going for.  Is there a way to get these fields to behave the way I want them to?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1668066194,"post_id":74384943,"comment_id":131317954,"body_markdown":"Eclipse 2022-03 is two releases behind. Please make sure to ask questions only about the current version. Please also tell with which editor you opened the file and if it also applies to other editors (right-click + _Open With &gt; ..._).","body":"Eclipse 2022-03 is two releases behind. Please make sure to ask questions only about the current version. Please also tell with which editor you opened the file and if it also applies to other editors (right-click + <i>Open With &gt; ...</i>)."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1668087974,"post_id":74384943,"comment_id":131325277,"body_markdown":"Sounds vaguely like https://github.com/eclipse/lemminx/issues/1137, especially if it appears only when opening the file. In any case, your first action should be to get onto the current release.","body":"Sounds vaguely like <a href=\"https://github.com/eclipse/lemminx/issues/1137\" rel=\"nofollow noreferrer\">github.com/eclipse/lemminx/issues/1137</a>, especially if it appears only when opening the file. In any case, your first action should be to get onto the current release."},{"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"score":0,"creation_date":1668102511,"post_id":74384943,"comment_id":131330869,"body_markdown":"Right ho. Shall upgrade post haste.","body":"Right ho. Shall upgrade post haste."}],"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668061668,"creation_date":1668061668,"question_id":74384943,"body_markdown":"I am using Eclipse 2022-03 (4.23.0) on a Windows 11 system for developing Java web apps.\r\n\r\nThe client uses a very old version of JBoss 5 with JDK 1.6. They keep scheduling and postponing an upgrade as multiple applications would need to be upgraded.\r\n\r\nIn my project facets, I have set &quot;Dynamic Web Module&quot; to 2.2 and &quot;Java&quot; to 1.6 to be able to deploy for that server.\r\n\r\nEach time I open web.xml for editing, Eclipse marks it as containing errors. The first line (below) is marked. The message is: ````There is &#39;1&#39; error in &#39;http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/j2ee_1_4.xsd&#39;.````\r\n\r\n````\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n\t      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n\t      version=&quot;2.4&quot;&gt;\r\n````\r\n\r\nIf I delete all the attributes and undo the deletion, the error goes away.\r\n\r\nWhat is causing this?\r\n\r\n","title":"Eclipse keeps marking web.xml as erroneous","body":"<p>I am using Eclipse 2022-03 (4.23.0) on a Windows 11 system for developing Java web apps.</p>\n<p>The client uses a very old version of JBoss 5 with JDK 1.6. They keep scheduling and postponing an upgrade as multiple applications would need to be upgraded.</p>\n<p>In my project facets, I have set &quot;Dynamic Web Module&quot; to 2.2 and &quot;Java&quot; to 1.6 to be able to deploy for that server.</p>\n<p>Each time I open web.xml for editing, Eclipse marks it as containing errors. The first line (below) is marked. The message is: <code>There is '1' error in 'http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/j2ee_1_4.xsd'.</code></p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/web-app_2_4.xsd&quot;\n          version=&quot;2.4&quot;&gt;\n</code></pre>\n<p>If I delete all the attributes and undo the deletion, the error goes away.</p>\n<p>What is causing this?</p>\n"},{"tags":["java","sorting","shellsort"],"comments":[{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":1,"creation_date":1668061933,"post_id":74384937,"comment_id":131316925,"body_markdown":"Have you first written down, with pencil and paper, one array which satisfies the requirements?  If an array of 100 numbers is too much to write down, perhaps write a 20-element array.  Then, when you have *a* solution in front of you, start figuring out a way to construct other solutions, or proceed directly to a general solution.  If you persist in exhaustive search of all `100!` arrays, or even a random selection of say, `1%` of them, you will miss the deadline for your exercise.  Stop coding, start thinking.","body":"Have you first written down, with pencil and paper, one array which satisfies the requirements?  If an array of 100 numbers is too much to write down, perhaps write a 20-element array.  Then, when you have <i>a</i> solution in front of you, start figuring out a way to construct other solutions, or proceed directly to a general solution.  If you persist in exhaustive search of all <code>100!</code> arrays, or even a random selection of say, <code>1%</code> of them, you will miss the deadline for your exercise.  Stop coding, start thinking."},{"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"score":0,"creation_date":1668062269,"post_id":74384937,"comment_id":131316988,"body_markdown":"@ High Performance Mark I definetly don&#39;t want to search 100! arrays, but I can&#39;t figure out a better solution. I don&#39;t see any relationship between this particular gap sequence and the worst case scenerio...","body":"@ High Performance Mark I definetly don&#39;t want to search 100! arrays, but I can&#39;t figure out a better solution. I don&#39;t see any relationship between this particular gap sequence and the worst case scenerio..."},{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":0,"creation_date":1668062732,"post_id":74384937,"comment_id":131317082,"body_markdown":"I refer you to the question I asked in my previous comment.  If you cannot construct such an example, write down the list of numbers `1..100` and study, with pencil and paper, how your shell sort routine performs on that.  And, no more comments on this one from me.  Good luck.  Oh, and stop your random searching for an optimal solution, the planet is warm enough already.","body":"I refer you to the question I asked in my previous comment.  If you cannot construct such an example, write down the list of numbers <code>1..100</code> and study, with pencil and paper, how your shell sort routine performs on that.  And, no more comments on this one from me.  Good luck.  Oh, and stop your random searching for an optimal solution, the planet is warm enough already."},{"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"score":0,"creation_date":1668063355,"post_id":74384937,"comment_id":131317238,"body_markdown":"@ High Performance confusing...comment","body":"@ High Performance confusing...comment"}],"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668061612,"creation_date":1668061612,"question_id":74384937,"body_markdown":"This is the original question \r\n\r\n&quot;Shell Sort worst case. Construct an array of 100 elements containing the numbers 1 through 100 for which shellsort, with the increments 1 4 13 40, uses as large a number of compares as you can ﬁnd.&quot; \r\n\r\nThere are 100! permutations for an array of 100 elements, it&#39;s terrifying to go through each permutation and find which one has the maximum number of compares. Is there any smarter way to approach this problem? My approach this problem is through violence, but only randomly shuffle the array 100000000 time which is less than 100! and it take me half an hour to get the final output.\r\n\r\nI pasted my code below. I appreciate any suggestions from you guys! \r\n\r\n\r\n`\r\n```\r\npackage ch_2_1;\r\n\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class exer_19\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        // initial  permutation\r\n        int[] array = new int[100];\r\n        for ( int i = 1; i &lt; 101; i++)\r\n        {\r\n            array[i-1] = i;\r\n        }\r\n        // find the worst case and the number of compares\r\n        worst_input(array);\r\n    }\r\n\r\n    private static void worst_input(int[] array)\r\n    {\r\n        int max_count = 0;\r\n        int[] copy = new int[100];\r\n        int[] worst_case = new int[100];\r\n        for ( int i = 0; i &lt; 100000000; i++)\r\n        {\r\n            int[] temp = generate(array);\r\n            for (int j = 0; j &lt; 100; j++){ copy[j] = temp[j];}\r\n            Shell_sort operation = new Shell_sort();\r\n            operation.shell_sort(temp);\r\n            if (operation.compare() &gt; max_count)\r\n            {\r\n                max_count = operation.compare();\r\n                worst_case = copy;\r\n            }\r\n            System.out.println(i);\r\n        }\r\n        for ( int s : worst_case){ System.out.print(s + &quot; &quot;);}\r\n        System.out.println();\r\n        System.out.println(max_count);\r\n        System.out.println();\r\n\r\n    }\r\n    private static int[] generate( int[] array)\r\n    {\r\n        StdRandom.shuffle(array);\r\n        return array;\r\n    }\r\n\r\n    private static class Shell_sort // it&#39;s necessary to create a private class to hold the shell sort method\r\n        // b/c the method must record the # of compares to sort the array, and this # count need to be returned\r\n        // to the worst_input method. Therefore, having a class to encapsulate the two methods is very helpful\r\n    {\r\n        private int count = 0;\r\n        private void shell_sort(int[] test)\r\n        {\r\n            int N = test.length;\r\n            int h = 1;\r\n            while (h &lt; N/3) h = 3*h + 1; // 1, 4, 13, 40, 121...\r\n            while ( h &gt; 0)\r\n            {\r\n                for ( int i = h; i &lt; N; i++) // starting from the largest h-value th element of the array (simplified: ith element)\r\n                {\r\n                    // if ith element is less than i-h th element, swap the two, continue this process until the condition is not met\r\n                    for ( int j = i; j &gt;= h &amp;&amp; less( test[j], test[j-h]); j = j - h)\r\n                    {\r\n                        exchange( test, j, j-h);\r\n                        count++;\r\n                    }\r\n                }\r\n                // when reached the end of the array, update h value\r\n                h = h/3;\r\n            }\r\n        }\r\n\r\n        private int compare()\r\n        {\r\n            return count;\r\n        }\r\n    }\r\n\r\n    private static boolean less( int current, int previous)\r\n    {\r\n        return current &lt; previous;\r\n    }\r\n\r\n    private static void exchange(int[] array, int cur_index, int pre_index)\r\n    {\r\n        int temp = array[pre_index];\r\n        array[pre_index] = array[cur_index];\r\n        array[cur_index] = temp;\r\n    }\r\n\r\n}\r\n```\r\n`","title":"how to construct an array of 100 elements containing the numbers 1 -100 for which shellsort, with the increments 1 4 13 40 (The worst case)?","body":"<p>This is the original question</p>\n<p>&quot;Shell Sort worst case. Construct an array of 100 elements containing the numbers 1 through 100 for which shellsort, with the increments 1 4 13 40, uses as large a number of compares as you can ﬁnd.&quot;</p>\n<p>There are 100! permutations for an array of 100 elements, it's terrifying to go through each permutation and find which one has the maximum number of compares. Is there any smarter way to approach this problem? My approach this problem is through violence, but only randomly shuffle the array 100000000 time which is less than 100! and it take me half an hour to get the final output.</p>\n<p>I pasted my code below. I appreciate any suggestions from you guys!</p>\n<p>`</p>\n<pre><code>package ch_2_1;\n\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\n\nimport java.util.Arrays;\n\npublic class exer_19\n{\n    public static void main(String[] args)\n    {\n        // initial  permutation\n        int[] array = new int[100];\n        for ( int i = 1; i &lt; 101; i++)\n        {\n            array[i-1] = i;\n        }\n        // find the worst case and the number of compares\n        worst_input(array);\n    }\n\n    private static void worst_input(int[] array)\n    {\n        int max_count = 0;\n        int[] copy = new int[100];\n        int[] worst_case = new int[100];\n        for ( int i = 0; i &lt; 100000000; i++)\n        {\n            int[] temp = generate(array);\n            for (int j = 0; j &lt; 100; j++){ copy[j] = temp[j];}\n            Shell_sort operation = new Shell_sort();\n            operation.shell_sort(temp);\n            if (operation.compare() &gt; max_count)\n            {\n                max_count = operation.compare();\n                worst_case = copy;\n            }\n            System.out.println(i);\n        }\n        for ( int s : worst_case){ System.out.print(s + &quot; &quot;);}\n        System.out.println();\n        System.out.println(max_count);\n        System.out.println();\n\n    }\n    private static int[] generate( int[] array)\n    {\n        StdRandom.shuffle(array);\n        return array;\n    }\n\n    private static class Shell_sort // it's necessary to create a private class to hold the shell sort method\n        // b/c the method must record the # of compares to sort the array, and this # count need to be returned\n        // to the worst_input method. Therefore, having a class to encapsulate the two methods is very helpful\n    {\n        private int count = 0;\n        private void shell_sort(int[] test)\n        {\n            int N = test.length;\n            int h = 1;\n            while (h &lt; N/3) h = 3*h + 1; // 1, 4, 13, 40, 121...\n            while ( h &gt; 0)\n            {\n                for ( int i = h; i &lt; N; i++) // starting from the largest h-value th element of the array (simplified: ith element)\n                {\n                    // if ith element is less than i-h th element, swap the two, continue this process until the condition is not met\n                    for ( int j = i; j &gt;= h &amp;&amp; less( test[j], test[j-h]); j = j - h)\n                    {\n                        exchange( test, j, j-h);\n                        count++;\n                    }\n                }\n                // when reached the end of the array, update h value\n                h = h/3;\n            }\n        }\n\n        private int compare()\n        {\n            return count;\n        }\n    }\n\n    private static boolean less( int current, int previous)\n    {\n        return current &lt; previous;\n    }\n\n    private static void exchange(int[] array, int cur_index, int pre_index)\n    {\n        int temp = array[pre_index];\n        array[pre_index] = array[cur_index];\n        array[cur_index] = temp;\n    }\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","arrays","generics","java-8","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1529685852,"post_id":50992339,"comment_id":88979335,"body_markdown":"What is the element type of the `input` stream?","body":"What is the element type of the <code>input</code> stream?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1529685974,"post_id":50992339,"comment_id":88979392,"body_markdown":"There&#39;s no `FloatStream`, so I don&#39;t think this is possible without writing a custom collector which converts from either `Float` or `double`.","body":"There&#39;s no <code>FloatStream</code>, so I don&#39;t think this is possible without writing a custom collector which converts from either <code>Float</code> or <code>double</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1529685994,"post_id":50992339,"comment_id":88979399,"body_markdown":"Would a `double[]` do? If so, you could use [`Stream#mapToDouble(...)`](https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction)) to obtain a [`DoubleStream`](https://docs.oracle.com/javase/10/docs/api/java/util/stream/DoubleStream.html)","body":"Would a <code>double[]</code> do? If so, you could use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction)\" rel=\"nofollow noreferrer\"><code>Stream#mapToDouble(...)</code></a> to obtain a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1529686018,"post_id":50992339,"comment_id":88979411,"body_markdown":"Why `float` and not `double`? Then you could use `DoubleStream`.","body":"Why <code>float</code> and not <code>double</code>? Then you could use <code>DoubleStream</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1529686518,"post_id":50992339,"comment_id":88979660,"body_markdown":"The duplicate is exactly not what OP wants. If anything, [this](https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java) is what OP wants. But even this does not answer the question as to why it does not work. Voting to reopen.","body":"The duplicate is exactly not what OP wants. If anything, <a href=\"https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\">this</a> is what OP wants. But even this does not answer the question as to why it does not work. Voting to reopen."},{"owner":{"account_id":119452,"reputation":805,"user_id":311151,"accept_rate":80,"display_name":"Gianluca"},"score":0,"creation_date":1529687600,"post_id":50992339,"comment_id":88980136,"body_markdown":"I would say that it is not a duplicate. I&#39;ve seen that answer and it didn&#39;t help to solve my problem.","body":"I would say that it is not a duplicate. I&#39;ve seen that answer and it didn&#39;t help to solve my problem."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1529687958,"post_id":50992339,"comment_id":88980300,"body_markdown":"There&#39;s another answer embedded in there.  There is no way to get a primitive `float` out of a stream in this fashion.","body":"There&#39;s another answer embedded in there.  There is no way to get a primitive <code>float</code> out of a stream in this fashion."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1529935857,"post_id":50992339,"comment_id":89043444,"body_markdown":"Use `mapToDouble(Float::parseFloat)` together with the collector of [this answer](https://stackoverflow.com/a/26970398/2711488).","body":"Use <code>mapToDouble(Float::parseFloat)</code> together with the collector of <a href=\"https://stackoverflow.com/a/26970398/2711488\">this answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":5275807,"reputation":1972,"user_id":4212632,"accept_rate":100,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529688464,"creation_date":1529688464,"answer_id":50992931,"question_id":50992339,"body_markdown":"You can use the value from the Float Object through the floatValue() method to create a array:\r\n\r\n    Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n    float[] primData = new float[data.length];\r\n\r\n    for(int x = 0; x &lt; data.length; x ++) {\r\n        primData[x] = data[x].floatValue();\r\n    }\r\n","title":"Convert Java stream of strings to array of float","body":"<p>You can use the value from the Float Object through the floatValue() method to create a array:</p>\n\n<pre><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\nfloat[] primData = new float[data.length];\n\nfor(int x = 0; x &lt; data.length; x ++) {\n    primData[x] = data[x].floatValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529689842,"creation_date":1529688982,"answer_id":50993056,"question_id":50992339,"body_markdown":"There is *no way* of getting `float[]` directly from any Stream in Java yet. There are &quot;only&quot; 3 available converting mechanisms to numeric Stream interfaces:\r\n\r\n - [`mapToInt(ToIntFunction&lt;? super T&gt; mapper)`][1] -&gt; [`IntStream`][2]\r\n - [`mapToLong(ToLongFunction&lt;? super T&gt; mapper)`][3] -&gt; [`LongStream`][4]\r\n - [`mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper)`][5] -&gt; [`DoubleStream`][6]\r\n\r\n\r\nThus the only way is to use `double` instead, which is fairly easy:\r\n\r\n    double[] data = input.mapToDouble(Double::parseDouble).toArray();\r\n\r\nIf you insist to get the `float[]` from `double[]`, it&#39;s another issue where might help the `Guava` library:\r\n\r\n    float[] floatArray = Floats.toArray(Doubles.asList(data));\r\n    // You can collect Stream to a Collection and pass directly Floats.toArray(list);\r\n\r\nOr a simple `for-loop`:\r\n\r\n    float[] floatArray = new float[data.length];\r\n\tfor (int i = 0 ; i &lt; data.length; i++) {\r\n\t    floatArray[i] = (float) data[i];\r\n\t}\r\n_______\r\n\r\nAlternatively, you might use the method `toArray(IntFunction&lt;A[]&gt; generator)` which returns the array of an Object type. However, to unbox `Float`, you have to use the for-loop again in the very same way - it gives no difference except you can work with `Float[]` directly, although boxed.\r\n\r\n - [`map(Function&lt;? super T,? extends R&gt; mapper)`][7] -&gt; [`Stream&lt;R&gt;`][8]\r\n\r\nHere is the use:\r\n   \r\n    Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToLong-java.util.function.ToLongFunction-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Convert Java stream of strings to array of float","body":"<p>There is <em>no way</em> of getting <code>float[]</code> directly from any Stream in Java yet. There are \"only\" 3 available converting mechanisms to numeric Stream interfaces:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\" rel=\"nofollow noreferrer\"><code>mapToInt(ToIntFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToLong-java.util.function.ToLongFunction-\" rel=\"nofollow noreferrer\"><code>mapToLong(ToLongFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html\" rel=\"nofollow noreferrer\"><code>LongStream</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-\" rel=\"nofollow noreferrer\"><code>mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a></li>\n</ul>\n\n<p>Thus the only way is to use <code>double</code> instead, which is fairly easy:</p>\n\n<pre><code>double[] data = input.mapToDouble(Double::parseDouble).toArray();\n</code></pre>\n\n<p>If you insist to get the <code>float[]</code> from <code>double[]</code>, it's another issue where might help the <code>Guava</code> library:</p>\n\n<pre><code>float[] floatArray = Floats.toArray(Doubles.asList(data));\n// You can collect Stream to a Collection and pass directly Floats.toArray(list);\n</code></pre>\n\n<p>Or a simple <code>for-loop</code>:</p>\n\n<pre><code>float[] floatArray = new float[data.length];\nfor (int i = 0 ; i &lt; data.length; i++) {\n    floatArray[i] = (float) data[i];\n}\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you might use the method <code>toArray(IntFunction&lt;A[]&gt; generator)</code> which returns the array of an Object type. However, to unbox <code>Float</code>, you have to use the for-loop again in the very same way - it gives no difference except you can work with <code>Float[]</code> directly, although boxed.</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map(Function&lt;? super T,? extends R&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;R&gt;</code></a></li>\n</ul>\n\n<p>Here is the use:</p>\n\n<pre><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1529968226,"creation_date":1529689042,"answer_id":50993069,"question_id":50992339,"body_markdown":"There is a minor error in your code, which we will fix first to reveal the larger problem at hand:\r\n\r\n    float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\r\n\r\nshould be:\r\n\r\n    float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\r\n                                                                                 ^this is new\r\n\r\n---\r\nEven if it might not seem like it, your question is realted to generics. Let us take a look at the [definition of `Stream#toArray(...)`][stream]:\r\n\r\n    public &lt;A&gt; A[] toArray​(IntFunction&lt;A[]&gt; generator)\r\n\r\nSince this method is generic in `A`, the type `A` must not be a primitive. You, on the other hand, try to set `A` to `float` (this is done through [type inference][infer], this is why you do not see the generic parameters in your code). The compiler now complains that:\r\n\r\n    error: incompatible types: inference variable A has incompatible bounds\r\n        float[] data = input.stream().map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\r\n                                                                           ^\r\n        equality constraints: float\r\n        upper bounds: Object\r\n      where A is a type-variable:\r\n        A extends Object declared in method &lt;A&gt;toArray(IntFunction&lt;A[]&gt;)\r\n    1 error\r\n\r\n---\r\n[This question and its answer][streamToFloat] provide solutions/workarounds to the problem of converting a `String`-stream to a `float[]`.\r\n\r\n[stream]: https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#toArray(java.util.function.IntFunction):\r\n[generic]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n[infer]: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\r\n[streamToFloat]: https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\r\n","title":"Convert Java stream of strings to array of float","body":"<p>There is a minor error in your code, which we will fix first to reveal the larger problem at hand:</p>\n\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\n                                                                             ^this is new\n</code></pre>\n\n<hr>\n\n<p>Even if it might not seem like it, your question is realted to generics. Let us take a look at the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#toArray(java.util.function.IntFunction):\" rel=\"nofollow noreferrer\">definition of <code>Stream#toArray(...)</code></a>:</p>\n\n<pre><code>public &lt;A&gt; A[] toArray​(IntFunction&lt;A[]&gt; generator)\n</code></pre>\n\n<p>Since this method is generic in <code>A</code>, the type <code>A</code> must not be a primitive. You, on the other hand, try to set <code>A</code> to <code>float</code> (this is done through <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">type inference</a>, this is why you do not see the generic parameters in your code). The compiler now complains that:</p>\n\n<pre><code>error: incompatible types: inference variable A has incompatible bounds\n    float[] data = input.stream().map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\n                                                                       ^\n    equality constraints: float\n    upper bounds: Object\n  where A is a type-variable:\n    A extends Object declared in method &lt;A&gt;toArray(IntFunction&lt;A[]&gt;)\n1 error\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\">This question and its answer</a> provide solutions/workarounds to the problem of converting a <code>String</code>-stream to a <code>float[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668060671,"creation_date":1529770347,"answer_id":51002914,"question_id":50992339,"body_markdown":"There is a better way with my library [abacus-common][1]:\r\n\r\n    float[] result = Stream.of(input).mapToFloat(Float::parseFloat).toArray();\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Convert Java stream of strings to array of float","body":"<p>There is a better way with my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>float[] result = Stream.of(input).mapToFloat(Float::parseFloat).toArray();\n</code></pre>\n"}],"owner":{"account_id":119452,"reputation":805,"user_id":311151,"accept_rate":80,"display_name":"Gianluca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8232,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50993069,"answer_count":4,"score":4,"last_activity_date":1668060671,"creation_date":1529685754,"question_id":50992339,"body_markdown":"I&#39;m trying to find an elegant way to convert a `Stream&lt;String&gt;` to `float[]`. \r\n\r\nUntil now I&#39;ve come out with:\r\n\r\n```java\r\nFloat[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n```\r\n\r\nBut I actually need a `float[]` and when I try:\r\n\r\n```\r\nfloat[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\r\n```\r\n\r\nI get an error cannot convert `Object[]` to `float[]`, which I don&#39;t really understand.","title":"Convert Java stream of strings to array of float","body":"<p>I'm trying to find an elegant way to convert a <code>Stream&lt;String&gt;</code> to <code>float[]</code>.</p>\n<p>Until now I've come out with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\n</code></pre>\n<p>But I actually need a <code>float[]</code> and when I try:</p>\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\n</code></pre>\n<p>I get an error cannot convert <code>Object[]</code> to <code>float[]</code>, which I don't really understand.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"score":0,"creation_date":1668056702,"post_id":74384280,"comment_id":131316075,"body_markdown":"If you have all the percentages, why not multiplying each percentage by 100 and generate that number of animals for each percentage of each animal?","body":"If you have all the percentages, why not multiplying each percentage by 100 and generate that number of animals for each percentage of each animal?"},{"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"score":0,"creation_date":1668059489,"post_id":74384280,"comment_id":131316473,"body_markdown":"@Daniel I&#39;m already doing that, my question in this post is different.Is it possible to shrink this logic that i applied?","body":"@Daniel I&#39;m already doing that, my question in this post is different.Is it possible to shrink this logic that i applied?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668060143,"post_id":74384280,"comment_id":131316584,"body_markdown":"@JosephMart&#237;nez Your code has a logical error and it will generate 0 animal objects. First run your code, and check if it produces the required output. Then comes question of optimizing the logic, if at all needed.","body":"@JosephMart&#237;nez Your code has a logical error and it will generate 0 animal objects. First run your code, and check if it produces the required output. Then comes question of optimizing the logic, if at all needed."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668060620,"post_id":74384280,"comment_id":131316676,"body_markdown":"`new ArrayList &lt;Animal&gt;(100);` only tells the expected size of the `ArrayList`, i.e. 100. And not the  actual size. Actual size is still 0. It only increases if you add something into the list. So your loop won&#39;t even start.","body":"<code>new ArrayList &lt;Animal&gt;(100);</code> only tells the expected size of the <code>ArrayList</code>, i.e. 100. And not the  actual size. Actual size is still 0. It only increases if you add something into the list. So your loop won&#39;t even start."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668060626,"creation_date":1668060626,"answer_id":74384802,"question_id":74384280,"body_markdown":"Since the total number of animals is constant and the percentages for each animal are also constant, you can simply write a separate `for` loop for each animal and therefore no need for all the `final int` variables.\r\n```java\r\nfinal int ANIMAL_MAX = 100;\r\nArrayList&lt;Animal&gt; animal= new ArrayList&lt;&gt;(ANIMAL_MAX);\r\nfor (int i = ANIMAL_MAX * 0.4; --i &gt;= 0;) {\r\n    animal.add(new Dog(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.25; --i &gt;= 0;) {\r\n    animal.add(new Cat(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.1; --i &gt;= 0;) {\r\n    animal.add(new Cow(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.2; --i &gt;= 0;) {\r\n    animal.add(new Lamb(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.05; --i &gt;= 0;) {\r\n    animal.add(new Rabbit(generateRandom()));\r\n}\r\n```\r\n","title":"generate random objects and add to arraylist by percentage","body":"<p>Since the total number of animals is constant and the percentages for each animal are also constant, you can simply write a separate <code>for</code> loop for each animal and therefore no need for all the <code>final int</code> variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int ANIMAL_MAX = 100;\nArrayList&lt;Animal&gt; animal= new ArrayList&lt;&gt;(ANIMAL_MAX);\nfor (int i = ANIMAL_MAX * 0.4; --i &gt;= 0;) {\n    animal.add(new Dog(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.25; --i &gt;= 0;) {\n    animal.add(new Cat(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.1; --i &gt;= 0;) {\n    animal.add(new Cow(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.2; --i &gt;= 0;) {\n    animal.add(new Lamb(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.05; --i &gt;= 0;) {\n    animal.add(new Rabbit(generateRandom()));\n}\n</code></pre>\n"}],"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1668060626,"creation_date":1668055755,"question_id":74384280,"body_markdown":"I want to randomly generate animals objects by percentage and then add them into an `ArrayList`.\r\n\r\nIn total, there should be 100 objects and it should be 40% of dogs, 25% of cats, 10% of cow, 20% lamb, 5% rabbit objects.\r\n\r\nWhat I did was, I created a `for` loop, and add the objects. Is there a shortcut and make it simple that does the job without initializing all the `final int` variables? \r\n\r\nWhat I did was this:\r\n```java\r\nfinal int ANIMAL_MAX = 100;\r\nfinal int dog = 0;\r\nfinal int cat = 0;\r\nfinal int cow = 0;\r\nfinal int lamb = 0;\r\nfinal int rabbit = 0;\r\nArrayList &lt;Animal&gt; animal= new ArrayList &lt;Animal&gt;(ANIMAL_MAX);\r\nfor(int i=0;i&lt;animal.size(); i++) {\r\n    if(dog &lt; (ANIMAL_MAX * 0.40)) {\r\n        animal.add(new Dog(generateRandom()));\r\n        dog++;\r\n    }else if(cat &lt; (ANIMAL_MAX * 0.25)) {\r\n        animal.add(new Cat(generateRandom()));\r\n        cat++;\r\n    }else if(cow &lt; (ANIMAL_MAX * 0.1)) {\r\n        animal.add(new Cow(generateRandom()));\r\n        cow++;\r\n    }else if(lamb &lt; (ANIMAL_MAX * 0.2)) {\r\n        animal.add(new Lamb(generateRandom()));\r\n        lamb++;\r\n    }else if(rabbit &lt; (ANIMAL_MAX * 0.05)) {\r\n        animal.add(new Rabbit(generateRandom()));\r\n        rabbit++;\r\n    }\r\n}\r\n```\r\n","title":"generate random objects and add to arraylist by percentage","body":"<p>I want to randomly generate animals objects by percentage and then add them into an <code>ArrayList</code>.</p>\n<p>In total, there should be 100 objects and it should be 40% of dogs, 25% of cats, 10% of cow, 20% lamb, 5% rabbit objects.</p>\n<p>What I did was, I created a <code>for</code> loop, and add the objects. Is there a shortcut and make it simple that does the job without initializing all the <code>final int</code> variables?</p>\n<p>What I did was this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int ANIMAL_MAX = 100;\nfinal int dog = 0;\nfinal int cat = 0;\nfinal int cow = 0;\nfinal int lamb = 0;\nfinal int rabbit = 0;\nArrayList &lt;Animal&gt; animal= new ArrayList &lt;Animal&gt;(ANIMAL_MAX);\nfor(int i=0;i&lt;animal.size(); i++) {\n    if(dog &lt; (ANIMAL_MAX * 0.40)) {\n        animal.add(new Dog(generateRandom()));\n        dog++;\n    }else if(cat &lt; (ANIMAL_MAX * 0.25)) {\n        animal.add(new Cat(generateRandom()));\n        cat++;\n    }else if(cow &lt; (ANIMAL_MAX * 0.1)) {\n        animal.add(new Cow(generateRandom()));\n        cow++;\n    }else if(lamb &lt; (ANIMAL_MAX * 0.2)) {\n        animal.add(new Lamb(generateRandom()));\n        lamb++;\n    }else if(rabbit &lt; (ANIMAL_MAX * 0.05)) {\n        animal.add(new Rabbit(generateRandom()));\n        rabbit++;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","radio-button","radio-group"],"answers":[{"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668030627,"creation_date":1668030627,"answer_id":74381772,"question_id":74377076,"body_markdown":"Sure.  I&#39;m not entire sure what you&#39;re trying to do, but for sure the error is correct. You should add your RadioButton in the RadioGroup in the XML.  You could set the RadioGroup (or radio button) background color to black.  This allows you to remove your RadioButtonItem XML.  You could also play with the visibility of the button, according to your needs.\r\n\r\nYou can also create a radio button widget dynamically, then add it to the radio group dynamically.\r\n\r\nGood luck!","title":"How to add radio button to RadioGroup with dynamic data in android","body":"<p>Sure.  I'm not entire sure what you're trying to do, but for sure the error is correct. You should add your RadioButton in the RadioGroup in the XML.  You could set the RadioGroup (or radio button) background color to black.  This allows you to remove your RadioButtonItem XML.  You could also play with the visibility of the button, according to your needs.</p>\n<p>You can also create a radio button widget dynamically, then add it to the radio group dynamically.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668060115,"creation_date":1668006404,"question_id":74377076,"body_markdown":"I have an issue when adding Radio Button to RadioGroup with dynamic data.\r\n\r\nIn detail as below:\r\n```\r\nprivate fun initRadioButton(){\r\n        val radioGroup = findViewById&lt;RadioGroup&gt;(R.id.radio_group)\r\n        radioGroup.orientation=LinearLayout.VERTICAL\r\n\r\n        val setValueRadioButton:RadioButton.(Student)-&gt; Unit ={ student-&gt;\r\n            text= student.name\r\n            id= View.generateViewId()\r\n            tag= student\r\n        }\r\n\r\n        datas.map {\r\n            val rootView = layoutInflater.inflate(R.layout.radio_button_item,null) as LinearLayout\r\n            val rdStudent = rootView.findViewById&lt;RadioButton&gt;(R.id.rd_student)\r\n            rdStudent.setValueRadioButton(it)\r\n            radioGroup.addView(rdStudent)\r\n        }\r\n\r\n    }\r\n\r\n\r\n```\r\nand XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nand radio button item\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/rd_student&quot;\r\n        android:text=&quot;kskkss&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;2dp&quot;\r\n        android:background=&quot;@color/black&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nI thought everything was fine until I ran it but it throws an exception as follows:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\n```\r\n\r\nSo anyone helps me solve this problem?","title":"How to add radio button to RadioGroup with dynamic data in android","body":"<p>I have an issue when adding Radio Button to RadioGroup with dynamic data.</p>\n<p>In detail as below:</p>\n<pre><code>private fun initRadioButton(){\n        val radioGroup = findViewById&lt;RadioGroup&gt;(R.id.radio_group)\n        radioGroup.orientation=LinearLayout.VERTICAL\n\n        val setValueRadioButton:RadioButton.(Student)-&gt; Unit ={ student-&gt;\n            text= student.name\n            id= View.generateViewId()\n            tag= student\n        }\n\n        datas.map {\n            val rootView = layoutInflater.inflate(R.layout.radio_button_item,null) as LinearLayout\n            val rdStudent = rootView.findViewById&lt;RadioButton&gt;(R.id.rd_student)\n            rdStudent.setValueRadioButton(it)\n            radioGroup.addView(rdStudent)\n        }\n\n    }\n\n\n</code></pre>\n<p>and XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;/RadioGroup&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>and radio button item</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;RadioButton\n        android:id=&quot;@+id/rd_student&quot;\n        android:text=&quot;kskkss&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;2dp&quot;\n        android:background=&quot;@color/black&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>I thought everything was fine until I ran it but it throws an exception as follows:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n\n</code></pre>\n<p>So anyone helps me solve this problem?</p>\n"},{"tags":["java","image","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":28802,"reputation":10338,"user_id":77244,"accept_rate":68,"display_name":"jwl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247693898,"creation_date":1247693898,"answer_id":1134240,"question_id":759856,"body_markdown":"Shouldn&#39;t you just hold onto the picture object and call resize() very last, after your setcolumnwidth()s are done?","title":"POI 3.2 Image Height/Width controlling","body":"<p>Shouldn't you just hold onto the picture object and call resize() very last, after your setcolumnwidth()s are done?</p>\n"},{"tags":[],"owner":{"account_id":544623,"reputation":498,"user_id":914121,"display_name":"John kendall"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1325782672,"creation_date":1314363865,"answer_id":7205041,"question_id":759856,"body_markdown":"I found that you must NOT call `picture.resize()` until after `sheet.autoSizeColumn(i)` even if you are not calling `autoSizeColumn(i)` on the column to which the picture is anchored.","title":"POI 3.2 Image Height/Width controlling","body":"<p>I found that you must NOT call <code>picture.resize()</code> until after <code>sheet.autoSizeColumn(i)</code> even if you are not calling <code>autoSizeColumn(i)</code> on the column to which the picture is anchored.</p>\n"},{"tags":[],"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1423046400,"creation_date":1336661186,"answer_id":10536531,"question_id":759856,"body_markdown":"On a HSSFWorkbook with a custom font I did the following to get a logo to be displayed in the right dimensions:\r\n\r\n\tCreationHelper helper = wb.getCreationHelper();\r\n\tDrawing drawing = sheet.createDrawingPatriarch();\r\n\tClientAnchor anchor = helper.createClientAnchor();\r\n\tanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDx2(LOGO_WIDTH_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy2(LOGO_HEIGHT_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\r\n\tdrawing.createPicture(anchor, pictureIndex);\r\n\r\nWhere I set LOGO_HEIGHT... and LOGO_WIDTH.. to the wanted pixel size of the image.\r\n\r\nThe resulting image was not at its original ratio and not the expected pixel size. \r\nSo I used the expected size / current size ratio and adjusted LOGO_WIDTH.. and LOGO_HEIGHT.. accordingly. Not beautiful, but it works :/\r\n\r\nAnd don&#39;t call `Picture.resize()` afterwards.\r\n\r\nSee [Apache POIU Bug 52504][1] or [this newsgroup discussion about poi `Picture.resize()`][2] and [POI quick guide for inserting pictures][3].\r\n\r\n**Update**: current code looks like this, the original image is 2000x450:\r\n\r\n    LOGO_MARGIN = 2;\r\n\tint index = getLogoPictureIndex();\r\n\tCreationHelper helper = this.wb.getCreationHelper();\r\n\r\n\tDrawing drawing = this.sheet.createDrawingPatriarch();\r\n\tClientAnchor anchor = helper.createClientAnchor();\r\n\r\n\tanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\r\n\tPicture pic = drawing.createPicture(anchor, index);\r\n\tpic.resize(0.064);\r\n\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=52504\r\n  [2]: http://apache-poi.1045710.n5.nabble.com/Bug-of-HSSFPicture-resize-td2300077.html\r\n  [3]: http://poi.apache.org/spreadsheet/quick-guide.html#Images","title":"POI 3.2 Image Height/Width controlling","body":"<p>On a HSSFWorkbook with a custom font I did the following to get a logo to be displayed in the right dimensions:</p>\n\n<pre><code>CreationHelper helper = wb.getCreationHelper();\nDrawing drawing = sheet.createDrawingPatriarch();\nClientAnchor anchor = helper.createClientAnchor();\nanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDx2(LOGO_WIDTH_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy2(LOGO_HEIGHT_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\ndrawing.createPicture(anchor, pictureIndex);\n</code></pre>\n\n<p>Where I set LOGO_HEIGHT... and LOGO_WIDTH.. to the wanted pixel size of the image.</p>\n\n<p>The resulting image was not at its original ratio and not the expected pixel size. \nSo I used the expected size / current size ratio and adjusted LOGO_WIDTH.. and LOGO_HEIGHT.. accordingly. Not beautiful, but it works :/</p>\n\n<p>And don't call <code>Picture.resize()</code> afterwards.</p>\n\n<p>See <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=52504\" rel=\"nofollow\">Apache POIU Bug 52504</a> or <a href=\"http://apache-poi.1045710.n5.nabble.com/Bug-of-HSSFPicture-resize-td2300077.html\" rel=\"nofollow\">this newsgroup discussion about poi <code>Picture.resize()</code></a> and <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Images\" rel=\"nofollow\">POI quick guide for inserting pictures</a>.</p>\n\n<p><strong>Update</strong>: current code looks like this, the original image is 2000x450:</p>\n\n<pre><code>LOGO_MARGIN = 2;\nint index = getLogoPictureIndex();\nCreationHelper helper = this.wb.getCreationHelper();\n\nDrawing drawing = this.sheet.createDrawingPatriarch();\nClientAnchor anchor = helper.createClientAnchor();\n\nanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\n\nPicture pic = drawing.createPicture(anchor, index);\npic.resize(0.064);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1869546,"reputation":187,"user_id":1692130,"accept_rate":64,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402307643,"creation_date":1402307643,"answer_id":24117725,"question_id":759856,"body_markdown":"Good solution is to use resize() function with scale argument: \r\n     \r\n    double scale = 0.3;\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    pict.resize(scale);","title":"POI 3.2 Image Height/Width controlling","body":"<p>Good solution is to use resize() function with scale argument: </p>\n\n<pre><code>double scale = 0.3;\nPicture pict = drawing.createPicture(anchor, pictureIdx);\npict.resize(scale);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26885907,"reputation":21,"user_id":20465478,"display_name":"Budi Odank"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668059915,"creation_date":1668059915,"answer_id":74384722,"question_id":759856,"body_markdown":"Work in Apache POI 5.2\r\n\r\n    //Creates a picture\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    double scale = 0.8;\r\n    //Reset the image to the original size\r\n    pict.resize();\r\n    if (scale &lt; 1) {\r\n        pict.resize(scale);\r\n    }","title":"POI 3.2 Image Height/Width controlling","body":"<p>Work in Apache POI 5.2</p>\n<pre><code>//Creates a picture\nPicture pict = drawing.createPicture(anchor, pictureIdx);\ndouble scale = 0.8;\n//Reset the image to the original size\npict.resize();\nif (scale &lt; 1) {\n    pict.resize(scale);\n}\n</code></pre>\n"}],"owner":{"display_name":"Manish Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29900,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1668059915,"creation_date":1239963165,"question_id":759856,"body_markdown":"Using POI version 3.2\r\n\r\nIssue: Not able to resize an image to its original height and width.\r\nI am able to add an image to the excel file.\r\n\r\nAfter adding image I call picture.resize(); method.\r\n\r\nLater I resize the columns of the excel file by calling \r\nsheet.setColumnWidth(columnindex, columnwidth)\r\nthe image losses its original height/width.\r\n\r\nPlease help.","title":"POI 3.2 Image Height/Width controlling","body":"<p>Using POI version 3.2</p>\n\n<p>Issue: Not able to resize an image to its original height and width.\nI am able to add an image to the excel file.</p>\n\n<p>After adding image I call picture.resize(); method.</p>\n\n<p>Later I resize the columns of the excel file by calling \nsheet.setColumnWidth(columnindex, columnwidth)\nthe image losses its original height/width.</p>\n\n<p>Please help.</p>\n"},{"tags":["java","rest","jdedwards"],"answers":[{"tags":[],"owner":{"account_id":22855,"reputation":7359,"user_id":56793,"accept_rate":80,"display_name":"JMD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498674888,"creation_date":1498674888,"answer_id":44810116,"question_id":39744834,"body_markdown":"Is this what you&#39;re looking for?\r\n\r\nhttps://docs.oracle.com/cd/E53430_01/EOTRS/index.html\r\n\r\nI don&#39;t like to answer with a link, but I can&#39;t possibly paste all of the (current today, but not tomorrow) REST API documentation for JD Edwards EnterpriseOne.\r\n\r\nHere is a sample of what the service documentation looks like:\r\n[![Example REST API documentation for JD Edwards EnterpriseOne][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/akRPI.png","title":"JD Edwards REST API with Request response JSON","body":"<p>Is this what you're looking for?</p>\n\n<p><a href=\"https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTRS/index.html</a></p>\n\n<p>I don't like to answer with a link, but I can't possibly paste all of the (current today, but not tomorrow) REST API documentation for JD Edwards EnterpriseOne.</p>\n\n<p>Here is a sample of what the service documentation looks like:\n<a href=\"https://i.stack.imgur.com/akRPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akRPI.png\" alt=\"Example REST API documentation for JD Edwards EnterpriseOne\"></a></p>\n"},{"tags":[],"owner":{"account_id":8676446,"reputation":31,"user_id":6493749,"display_name":"Rupesh Chaudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668059845,"creation_date":1560677213,"answer_id":56617604,"question_id":39744834,"body_markdown":"**We can use REST API&#39;s for JD Edwards using the AIS Server**\r\n\r\nThis API&#39;s provides us various services to interact with JD Edwards system.\r\nTo give a brief idea onto same:\r\n\r\n - JD Edwards consist of Reports and Application, so using the Rest API&#39;s you can call the Applications, perform actions onto them e.g,\r\n   button-click, typing text into text-boxes or grids, reading the data\r\n   from grid or text-boxes etc.\r\n - We can also call the JD Edwards reports using this API&#39;s.\r\n - It also provides us services to Upload and Download Media Object.\r\n\r\n**We can use the API&#39;s by two ways:**\r\n\r\n 1. Directly using the plain JSON Request: [https://docs.oracle.com/cd/E53430_01/EOTRS/index.html][1]\r\n 2. Using the AIS Client Java API\r\n[https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107][2]\r\n\r\n**JD Edwards also provides Orchestrator for easily accessing this API&#39;s**.\r\n[https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107][3]\r\n\r\nUsing this Rest API can be challenging for a person not from JD Edwards background. It would be easy to understand this API Implementation if you have worked on Oracle MAF and JD Edwards Integration.\r\n\r\n**Third custom approach for Rest API&#39;s with JD Edwards**\r\nWe can build the Rest API&#39;s in any programming language (Java, .NET, Python etc.) and expose the JD Edwards Database tables to it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\r\n  [2]: https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107\r\n  [3]: https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107\r\n","title":"JD Edwards REST API with Request response JSON","body":"<p><strong>We can use REST API's for JD Edwards using the AIS Server</strong></p>\n<p>This API's provides us various services to interact with JD Edwards system.\nTo give a brief idea onto same:</p>\n<ul>\n<li>JD Edwards consist of Reports and Application, so using the Rest API's you can call the Applications, perform actions onto them e.g,\nbutton-click, typing text into text-boxes or grids, reading the data\nfrom grid or text-boxes etc.</li>\n<li>We can also call the JD Edwards reports using this API's.</li>\n<li>It also provides us services to Upload and Download Media Object.</li>\n</ul>\n<p><strong>We can use the API's by two ways:</strong></p>\n<ol>\n<li>Directly using the plain JSON Request: <a href=\"https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTRS/index.html</a></li>\n<li>Using the AIS Client Java API\n<a href=\"https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107</a></li>\n</ol>\n<p><strong>JD Edwards also provides Orchestrator for easily accessing this API's</strong>.\n<a href=\"https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107</a></p>\n<p>Using this Rest API can be challenging for a person not from JD Edwards background. It would be easy to understand this API Implementation if you have worked on Oracle MAF and JD Edwards Integration.</p>\n<p><strong>Third custom approach for Rest API's with JD Edwards</strong>\nWe can build the Rest API's in any programming language (Java, .NET, Python etc.) and expose the JD Edwards Database tables to it.</p>\n"}],"owner":{"account_id":429476,"reputation":884,"user_id":812389,"accept_rate":25,"display_name":"navaltiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6718,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668059845,"creation_date":1475058396,"question_id":39744834,"body_markdown":"We are working on customer project, where customer has got JD Edwards Enterprise One. Their installation supports REST API ( I tried defaultConfig API and it worked.)\r\n\r\nUsually in REST API, developer shares API signature in terms on GET params or Request/Response JSONs, while in case of JDE E1 documentation they have shared Java Code (that to in fragments).  Its really hard to construct req./resp. based on the code snippets. \r\n\r\nWill appreciate if anyone has worked on similar activities and guide.\r\n\r\nThanks in advance.","title":"JD Edwards REST API with Request response JSON","body":"<p>We are working on customer project, where customer has got JD Edwards Enterprise One. Their installation supports REST API ( I tried defaultConfig API and it worked.)</p>\n\n<p>Usually in REST API, developer shares API signature in terms on GET params or Request/Response JSONs, while in case of JDE E1 documentation they have shared Java Code (that to in fragments).  Its really hard to construct req./resp. based on the code snippets. </p>\n\n<p>Will appreciate if anyone has worked on similar activities and guide.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","azure","azure-functions"],"comments":[{"owner":{"account_id":12644990,"reputation":17422,"user_id":9191057,"display_name":"Jerry Liu"},"score":0,"creation_date":1540218383,"post_id":52892319,"comment_id":92772590,"body_markdown":"See http trigger in your code but queue trigger is also mentioned, which one do you use?","body":"See http trigger in your code but queue trigger is also mentioned, which one do you use?"},{"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"score":0,"creation_date":1540282730,"post_id":52892319,"comment_id":92796549,"body_markdown":"Its my bad actually I was trying with http trigger and I am unable to get the control of storage table within the code. So after converting the data from json To object I need to persist in the storage table which I am unable to do","body":"Its my bad actually I was trying with http trigger and I am unable to get the control of storage table within the code. So after converting the data from json To object I need to persist in the storage table which I am unable to do"},{"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"score":0,"creation_date":1540286651,"post_id":52892319,"comment_id":92799071,"body_markdown":"Hi All, I got the solution working I am posting the code this is with the queuetrigger rather than Http Trigger but should work with the http Trigger too.","body":"Hi All, I got the solution working I am posting the code this is with the queuetrigger rather than Http Trigger but should work with the http Trigger too."},{"owner":{"account_id":12644990,"reputation":17422,"user_id":9191057,"display_name":"Jerry Liu"},"score":0,"creation_date":1540303192,"post_id":52892319,"comment_id":92809793,"body_markdown":"Could you put your edit as an answer so that others can see clearly there&#39;s a solution to this problem?","body":"Could you put your edit as an answer so that others can see clearly there&#39;s a solution to this problem?"}],"answers":[{"tags":[],"owner":{"account_id":18162111,"reputation":23,"user_id":13213344,"display_name":"Madhura.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668059710,"creation_date":1668059710,"answer_id":74384701,"question_id":52892319,"body_markdown":"Now Table Binding @TableOutput is support in only for Microsoft.Azure.Functions.ExtensionBundle of 2.0. It is not supported in 3.0, 4.0 Version. The host.json file is \r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n  } \r\n}\r\n```\r\n\r\nThe code that works for me is \r\n\r\nModel class is\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Order {\r\n    private String PartitionKey;\r\n    private String RowKey;\r\n    public int quantity;\r\n    public double unitPrice;\r\n}\r\n\r\n/*\r\n{\r\n&quot;PartitionKey&quot;:&quot;home&quot;,\r\n&quot;RowKey&quot;:&quot;01&quot;,\r\n&quot;quantity&quot;:9,\r\n &quot;unitPrice&quot;:8\r\n }\r\n        */\r\n```\r\nThe trigger function is \r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\nimport org.azure.storage.queuetrigger.to.table.model.Order;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\r\npublic class QueueTriggerToTableFunction {\r\n/**\r\n * Azure Functions with Azure Storage Queue trigger.\r\n */\r\n\r\n    @FunctionName(&quot;storage-QueueTrigger-to-table&quot;)\r\n    public void run(\r\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;messages&quot;, connection = &quot;StorageConnection&quot;) Order message,\r\n        @TableOutput(name=&quot;order&quot;,tableName = &quot;Orders&quot;,connection = &quot;StorageConnection&quot;) OutputBinding&lt;Order&gt; order,\r\n        final ExecutionContext context\r\n    ) {\r\n      \r\n        order.setValue(message);\r\n    \r\n    }\r\n}\r\n\r\n```\r\n\r\nActually it will take partitionKey and rowKey from OutputBinding&lt;Order&gt; order. So it is dynamic not static values\r\n\r\n\r\n\r\n","title":"In Azure function app on Queue Trigger I am unable to insert a record in Storage table","body":"<p>Now Table Binding @TableOutput is support in only for Microsoft.Azure.Functions.ExtensionBundle of 2.0. It is not supported in 3.0, 4.0 Version. The host.json file is</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  } \n}\n</code></pre>\n<p>The code that works for me is</p>\n<p>Model class is</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Order {\n    private String PartitionKey;\n    private String RowKey;\n    public int quantity;\n    public double unitPrice;\n}\n\n/*\n{\n&quot;PartitionKey&quot;:&quot;home&quot;,\n&quot;RowKey&quot;:&quot;01&quot;,\n&quot;quantity&quot;:9,\n &quot;unitPrice&quot;:8\n }\n        */\n</code></pre>\n<p>The trigger function is</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\nimport org.azure.storage.queuetrigger.to.table.model.Order;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\npublic class QueueTriggerToTableFunction {\n/**\n * Azure Functions with Azure Storage Queue trigger.\n */\n\n    @FunctionName(&quot;storage-QueueTrigger-to-table&quot;)\n    public void run(\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;messages&quot;, connection = &quot;StorageConnection&quot;) Order message,\n        @TableOutput(name=&quot;order&quot;,tableName = &quot;Orders&quot;,connection = &quot;StorageConnection&quot;) OutputBinding&lt;Order&gt; order,\n        final ExecutionContext context\n    ) {\n      \n        order.setValue(message);\n    \n    }\n}\n\n</code></pre>\n<p>Actually it will take partitionKey and rowKey from OutputBinding order. So it is dynamic not static values</p>\n"}],"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668059710,"creation_date":1539952018,"question_id":52892319,"body_markdown":"I am new to Azure function app, I have a requirement where I need to have a Queue Trigger based on which I need to insert a record a Storage table.\r\n\r\n         @FunctionName(&quot;echo&quot;)\r\n         public void echo( @HttpTrigger(name = &quot;req&quot;, methods = { &quot;post&quot; }, authLevel = AuthorizationLevel.ANONYMOUS,route=&quot;items&quot;) String in,\r\n\t\t @TableOutput(name = &quot;$return&quot;, tableName = &quot;people&quot;, partitionKey=&quot;lastName&quot; ,rowKey = &quot;firstName&quot; , connection = &quot;AzureWebJobsStorage&quot;) OutputBinding&lt;CustomerEntity&gt; obj,\r\n\t   ExecutionContext context    ) {\r\n\t\tcontext.getLogger().info( &quot;Hello, &quot; + in );\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tMyItem myItem = null;\r\n\t\ttry {\r\n\t\t\tmyItem = objectMapper.readValue(in, MyItem.class);\r\n\t\t} catch (JsonParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t        context.getLogger().info( &quot;Hello, &quot; + in + &quot; and &quot; + myItem.getNameOfValue() + &quot;.&quot;);\r\n        CustomerEntity customerEntity = new CustomerEntity(myItem.getNameOfValue(), myItem.getId());\r\n        customerEntity.setEmail(&quot;Walter@contoso.com&quot;);\r\n\t    customerEntity.setPhoneNumber(&quot;425-555-0101&quot;);\r\n        obj.setValue(customerEntity);\r\n    }\r\n\r\nCustomerEntity Class\r\n        public class CustomerEntity extends TableServiceEntity {\r\n\t\r\n\tpublic CustomerEntity(String lastName, String firstName) {\r\n        this.partitionKey = lastName;\r\n        this.rowKey = firstName;\r\n    }\r\n\r\n    public CustomerEntity() { }\r\n\r\n    String email;\r\n    String phoneNumber;\r\n\r\n    public String getEmail() {\r\n        return this.email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return this.phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n    }\r\n\r\n\r\nIn This case the function is call successfully but it does not print any of the logs neither it put the data in storage tables.\r\n\r\nI am using the local storage for this purpose.\r\n\r\nI have tested that the application works standalone with the Table client but didnt works in function apps.\r\n\r\nThanks ,\r\nBalki\r\n\r\n\r\nSo after lots of search I got the working code\r\n\r\n         public class QueueTriggerJava {\r\n    /**\r\n     * This function will be invoked when a new message is received at the specified path. The message contents are provided as input to this function.\r\n     */\r\n    @FunctionName(&quot;QueueTriggerJava&quot;)\r\n    public void run(\r\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;enqueue&quot;, connection = &quot;AzureWebJobsStorage&quot;) String message,\r\n        @TableOutput(connection=&quot;AzureWebJobsStorage&quot;,name=&quot;table&quot;,tableName=&quot;people&quot;,partitionKey=&quot;orders&quot;,rowKey=&quot;1&quot;) OutputBinding&lt;People&gt; out,\r\n        final ExecutionContext context\r\n    ) throws Exception {\r\n        context.getLogger().info(&quot;Java Queue trigger function processed a message: &quot; + message);\r\n        People people = new People(String.valueOf(RandomStringUtils.randomAlphanumeric(10, 20)));\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        People peoplew = objectMapper.readValue(message, People.class);\r\n        people.setId(peoplew.getId());\r\n        people.setNameOfValue(peoplew.getNameOfValue());\r\n        out.setValue(people);\r\n        context.getLogger().info(&quot;Java Queue trigger function processed a message: &quot; + message);\r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n\r\nI am facing the challeng that whenever I put the message on Queue it takes the same rowKey most probably bcoz of the static value of rowkey.\r\n\r\n \r\n    public class People{\r\n    private String PartitionKey;\r\n    private String RowKey;\r\n    private String nameOfValue;\r\n    private String id;\r\n    public People(){\r\n     \r\n    }\r\n     public People (final String rowKey){\r\n         this.PartitionKey = &quot;Orders&quot;;\r\n         this.RowKey = rowKey;\r\n     }\r\n\r\n     /**\r\n      * @param id the id to set\r\n      */\r\n     public void setId(String id) {\r\n         this.id = id;\r\n     }\r\n\r\n     /**\r\n      * @return the id\r\n      */\r\n     public String getId() {\r\n         return id;\r\n     }\r\n     /**\r\n      * @param nameOfValue the nameOfValue to set\r\n      */\r\n     public void setNameOfValue(String nameOfValue) {\r\n         this.nameOfValue = nameOfValue;\r\n     }\r\n\r\n     /**\r\n      * @return the nameOfValue\r\n      */\r\n     public String getNameOfValue() {\r\n         return nameOfValue;\r\n     }\r\n }\r\n","title":"In Azure function app on Queue Trigger I am unable to insert a record in Storage table","body":"<p>I am new to Azure function app, I have a requirement where I need to have a Queue Trigger based on which I need to insert a record a Storage table.</p>\n\n<pre><code>     @FunctionName(\"echo\")\n     public void echo( @HttpTrigger(name = \"req\", methods = { \"post\" }, authLevel = AuthorizationLevel.ANONYMOUS,route=\"items\") String in,\n     @TableOutput(name = \"$return\", tableName = \"people\", partitionKey=\"lastName\" ,rowKey = \"firstName\" , connection = \"AzureWebJobsStorage\") OutputBinding&lt;CustomerEntity&gt; obj,\n   ExecutionContext context    ) {\n    context.getLogger().info( \"Hello, \" + in );\n    ObjectMapper objectMapper = new ObjectMapper();\n    MyItem myItem = null;\n    try {\n        myItem = objectMapper.readValue(in, MyItem.class);\n    } catch (JsonParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (JsonMappingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n            context.getLogger().info( \"Hello, \" + in + \" and \" + myItem.getNameOfValue() + \".\");\n    CustomerEntity customerEntity = new CustomerEntity(myItem.getNameOfValue(), myItem.getId());\n    customerEntity.setEmail(\"Walter@contoso.com\");\n    customerEntity.setPhoneNumber(\"425-555-0101\");\n    obj.setValue(customerEntity);\n}\n</code></pre>\n\n<p>CustomerEntity Class\n        public class CustomerEntity extends TableServiceEntity {</p>\n\n<pre><code>public CustomerEntity(String lastName, String firstName) {\n    this.partitionKey = lastName;\n    this.rowKey = firstName;\n}\n\npublic CustomerEntity() { }\n\nString email;\nString phoneNumber;\n\npublic String getEmail() {\n    return this.email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPhoneNumber() {\n    return this.phoneNumber;\n}\n\npublic void setPhoneNumber(String phoneNumber) {\n    this.phoneNumber = phoneNumber;\n}\n}\n</code></pre>\n\n<p>In This case the function is call successfully but it does not print any of the logs neither it put the data in storage tables.</p>\n\n<p>I am using the local storage for this purpose.</p>\n\n<p>I have tested that the application works standalone with the Table client but didnt works in function apps.</p>\n\n<p>Thanks ,\nBalki</p>\n\n<p>So after lots of search I got the working code</p>\n\n<pre><code>     public class QueueTriggerJava {\n/**\n * This function will be invoked when a new message is received at the specified path. The message contents are provided as input to this function.\n */\n@FunctionName(\"QueueTriggerJava\")\npublic void run(\n    @QueueTrigger(name = \"message\", queueName = \"enqueue\", connection = \"AzureWebJobsStorage\") String message,\n    @TableOutput(connection=\"AzureWebJobsStorage\",name=\"table\",tableName=\"people\",partitionKey=\"orders\",rowKey=\"1\") OutputBinding&lt;People&gt; out,\n    final ExecutionContext context\n) throws Exception {\n    context.getLogger().info(\"Java Queue trigger function processed a message: \" + message);\n    People people = new People(String.valueOf(RandomStringUtils.randomAlphanumeric(10, 20)));\n    ObjectMapper objectMapper = new ObjectMapper();\n    People peoplew = objectMapper.readValue(message, People.class);\n    people.setId(peoplew.getId());\n    people.setNameOfValue(peoplew.getNameOfValue());\n    out.setValue(people);\n    context.getLogger().info(\"Java Queue trigger function processed a message: \" + message);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am facing the challeng that whenever I put the message on Queue it takes the same rowKey most probably bcoz of the static value of rowkey.</p>\n\n<pre><code>public class People{\nprivate String PartitionKey;\nprivate String RowKey;\nprivate String nameOfValue;\nprivate String id;\npublic People(){\n\n}\n public People (final String rowKey){\n     this.PartitionKey = \"Orders\";\n     this.RowKey = rowKey;\n }\n\n /**\n  * @param id the id to set\n  */\n public void setId(String id) {\n     this.id = id;\n }\n\n /**\n  * @return the id\n  */\n public String getId() {\n     return id;\n }\n /**\n  * @param nameOfValue the nameOfValue to set\n  */\n public void setNameOfValue(String nameOfValue) {\n     this.nameOfValue = nameOfValue;\n }\n\n /**\n  * @return the nameOfValue\n  */\n public String getNameOfValue() {\n     return nameOfValue;\n }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","hibernate","jpa","group-by","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":16594364,"reputation":137,"user_id":11991637,"display_name":"Cemalettin Altınsoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590922685,"creation_date":1590922685,"answer_id":62115169,"question_id":62114800,"body_markdown":"I think , This one will solve your problem[Get record with max id, using Hibernate Criteria\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3900105/get-record-with-max-id-using-hibernate-criteria","title":"JPA Criteria query group by and get last record","body":"<p>I think , This one will solve your problem<a href=\"https://stackoverflow.com/questions/3900105/get-record-with-max-id-using-hibernate-criteria\">Get record with max id, using Hibernate Criteria\n</a></p>\n"},{"tags":[],"owner":{"account_id":26386615,"reputation":26,"user_id":20039041,"display_name":"Jayasuriya "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668059507,"creation_date":1667813740,"answer_id":74344468,"question_id":62114800,"body_markdown":"Use subquery to find the id by using max with groupby, hope it helps someone\r\n\r\n```\r\nsubquery.select(cb.max(subroot.get(&quot;id&quot;)))\r\n        .where(predicates.stream().toArray(Predicate[]::new))\r\n\t\t.groupBy(subRoot.get(&quot;empid&quot;));\r\n```","title":"JPA Criteria query group by and get last record","body":"<p>Use subquery to find the id by using max with groupby, hope it helps someone</p>\n<pre><code>subquery.select(cb.max(subroot.get(&quot;id&quot;)))\n        .where(predicates.stream().toArray(Predicate[]::new))\n        .groupBy(subRoot.get(&quot;empid&quot;));\n</code></pre>\n"}],"owner":{"account_id":11516415,"reputation":3,"user_id":8439660,"display_name":"Chaichana Sitat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74344468,"answer_count":2,"score":0,"last_activity_date":1668059507,"creation_date":1590920796,"question_id":62114800,"body_markdown":"this entity employee\r\n\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    @IdClass(EmployeeKey.class)\r\n    public class Employee implements Serializable{\r\n    \tprivate static final long serialVersionUID = -4060941180859761486L;\r\n    \t\r\n    \t@Id @Column(name =&quot;DATA_DT&quot;)\r\n    \tprivate Date registDate;\r\n    \t@Id @Column(name =&quot;EMPE_NO&quot;)\r\n    \tprivate String empeId;\r\n    \t\r\n    \t@Column(name =&quot;TTL_NM_TH&quot;)\r\n    \tprivate String titleNameTh;\r\n    \t@Column(name =&quot;TTL_NM_EN&quot;)\r\n    \tprivate String titleNameEn;\r\n    \t@Column(name =&quot;EMPE_NM_TH&quot;)\r\n    \tprivate String empeNameTh;\r\n    \t@Column(name =&quot;EMPE_LST_NM_TH&quot;)\r\n    \tprivate String empeLastNameTh;\r\n    \t@Column(name =&quot;EMPE_POS&quot;)\r\n    \tprivate String empePosition;\r\n    \r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;DEPT_CODE&quot; , nullable = true)\r\n    \t@NotFound(action = NotFoundAction.IGNORE)\r\n    \tprivate OrganizationUnit empeDeptCode;\r\n    \t\r\n    \r\n    //get set\r\n    \r\n    }\r\n\r\n&gt; this entity ou\r\n\r\n    @Entity\r\n    @Table(name=&quot;ou&quot;)\r\n    public class OrganizationUnit implements Serializable{\r\n    \tprivate static final long serialVersionUID = -4038118923332034407L;\r\n    \t@Id \r\n    \t@Column(name =&quot;OU_CODE&quot;)\r\n    \tprivate String ouCode;\r\n    \t@Column(name =&quot;OU_TP_CODE&quot;)\r\n    \tprivate String ouTpCode;\r\n    \t@Column(name =&quot;OU_NM&quot;)\r\n    \tprivate String ouName;\r\n    \t@Column(name =&quot;BR_GRP&quot;)\r\n    \tprivate String ouBusinessGroup;\r\n    \t@Column(name =&quot;GRP_OU_CODE&quot;)\r\n    \tprivate String groupOUCode;\r\n    \t@Column(name =&quot;SCTR_OU_CODE&quot;)\r\n    \tprivate String sctrOUCode;\r\n    \t@Column(name =&quot;DEPT_OU_CODE&quot;)\r\n    \tprivate String departmentOUCode;\r\n    \t@Column(name =&quot;EFF_DT&quot;)\r\n    \tprivate Date effectiveDate;\r\n    \t@Column(name =&quot;END_DT&quot;)\r\n    \tprivate Date endDate;\r\n    \r\n    //get set\r\n    \r\n    }\r\n\r\n\r\n\r\nNow i create a criteria query like this. i try to create search function from criteria-Api. my table employee has two id every day i will insert data in employee . search function need to show last record .\r\n\r\n    public List&lt;Employee&gt; findByAvanceSearch(SearchEmpRequestModel data) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Employee&gt; cq = cb.createQuery(Employee.class);\r\n\t\t\r\n\t\t\r\n\t\tRoot&lt;Employee&gt; employee = cq.from(Employee.class);\r\n\t\tList&lt;javax.persistence.criteria.Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tif(data.getEmpNumber() != null) {\r\n\r\n\t\t\t//predicates.add( cb.and(cb.equal(employee.get(&quot;empeId&quot;), data.getEmpNumber()), cb.greatest(employee.get(&quot;registDate&quot;))));\r\n\t\t\tpredicates.add(cb.equal(employee.get(&quot;empeId&quot;), data.getEmpNumber()));\r\n\t\t}\r\n\t\tif(data.getEmpThainame()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;titleNameTh&quot;), &quot;%&quot;+data.getEmpThainame()+&quot;%&quot;));\r\n\t\t}\r\n\t\tif(data.getEmpDept()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;departmentOUCode&quot;), &quot;%&quot;+data.getEmpDept()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\tif(data.getEmpGrp()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;sctrOUCode&quot;), &quot;%&quot;+data.getEmpGrp()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\tif(data.getEmpSctr()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;groupOUCode&quot;), &quot;%&quot;+data.getEmpSctr()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tcq.orderBy(cb.asc(employee.get(&quot;registDate&quot;))).groupBy(employee.get(&quot;empeId&quot;)).where((javax.persistence.criteria.Predicate[]) predicates.toArray(new javax.persistence.criteria.Predicate[0]));\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n\r\nI need to get last record from group by but  from this code i get frist record.\r\nAny one knows what should I use in the hibernate criteria .?\r\nThank.\r\n\r\n","title":"JPA Criteria query group by and get last record","body":"<p>this entity employee</p>\n\n<pre><code>@Entity\n@Table(name=\"employee\")\n@IdClass(EmployeeKey.class)\npublic class Employee implements Serializable{\n    private static final long serialVersionUID = -4060941180859761486L;\n\n    @Id @Column(name =\"DATA_DT\")\n    private Date registDate;\n    @Id @Column(name =\"EMPE_NO\")\n    private String empeId;\n\n    @Column(name =\"TTL_NM_TH\")\n    private String titleNameTh;\n    @Column(name =\"TTL_NM_EN\")\n    private String titleNameEn;\n    @Column(name =\"EMPE_NM_TH\")\n    private String empeNameTh;\n    @Column(name =\"EMPE_LST_NM_TH\")\n    private String empeLastNameTh;\n    @Column(name =\"EMPE_POS\")\n    private String empePosition;\n\n\n    @ManyToOne\n    @JoinColumn(name = \"DEPT_CODE\" , nullable = true)\n    @NotFound(action = NotFoundAction.IGNORE)\n    private OrganizationUnit empeDeptCode;\n\n\n//get set\n\n}\n</code></pre>\n\n<blockquote>\n  <p>this entity ou</p>\n</blockquote>\n\n<pre><code>@Entity\n@Table(name=\"ou\")\npublic class OrganizationUnit implements Serializable{\n    private static final long serialVersionUID = -4038118923332034407L;\n    @Id \n    @Column(name =\"OU_CODE\")\n    private String ouCode;\n    @Column(name =\"OU_TP_CODE\")\n    private String ouTpCode;\n    @Column(name =\"OU_NM\")\n    private String ouName;\n    @Column(name =\"BR_GRP\")\n    private String ouBusinessGroup;\n    @Column(name =\"GRP_OU_CODE\")\n    private String groupOUCode;\n    @Column(name =\"SCTR_OU_CODE\")\n    private String sctrOUCode;\n    @Column(name =\"DEPT_OU_CODE\")\n    private String departmentOUCode;\n    @Column(name =\"EFF_DT\")\n    private Date effectiveDate;\n    @Column(name =\"END_DT\")\n    private Date endDate;\n\n//get set\n\n}\n</code></pre>\n\n<p>Now i create a criteria query like this. i try to create search function from criteria-Api. my table employee has two id every day i will insert data in employee . search function need to show last record .</p>\n\n<pre><code>public List&lt;Employee&gt; findByAvanceSearch(SearchEmpRequestModel data) {\n    // TODO Auto-generated method stub\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Employee&gt; cq = cb.createQuery(Employee.class);\n\n\n    Root&lt;Employee&gt; employee = cq.from(Employee.class);\n    List&lt;javax.persistence.criteria.Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n    if(data.getEmpNumber() != null) {\n\n        //predicates.add( cb.and(cb.equal(employee.get(\"empeId\"), data.getEmpNumber()), cb.greatest(employee.get(\"registDate\"))));\n        predicates.add(cb.equal(employee.get(\"empeId\"), data.getEmpNumber()));\n    }\n    if(data.getEmpThainame()!=null) {\n\n        predicates.add(cb.like(employee.get(\"titleNameTh\"), \"%\"+data.getEmpThainame()+\"%\"));\n    }\n    if(data.getEmpDept()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"departmentOUCode\"), \"%\"+data.getEmpDept()+\"%\"));\n\n    }\n    if(data.getEmpGrp()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"sctrOUCode\"), \"%\"+data.getEmpGrp()+\"%\"));\n\n    }\n    if(data.getEmpSctr()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"groupOUCode\"), \"%\"+data.getEmpSctr()+\"%\"));\n\n    }\n\n\n    cq.orderBy(cb.asc(employee.get(\"registDate\"))).groupBy(employee.get(\"empeId\")).where((javax.persistence.criteria.Predicate[]) predicates.toArray(new javax.persistence.criteria.Predicate[0]));\n    return em.createQuery(cq).getResultList();\n}\n</code></pre>\n\n<p>I need to get last record from group by but  from this code i get frist record.\nAny one knows what should I use in the hibernate criteria .?\nThank.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667848571,"post_id":74348948,"comment_id":131261310,"body_markdown":"Requesting read and write permission did not change for Android 11. So i will not look at your code as old code (working for 6+) should do it. Please tell what not works for you on Android 11+.","body":"Requesting read and write permission did not change for Android 11. So i will not look at your code as old code (working for 6+) should do it. Please tell what not works for you on Android 11+."}],"answers":[{"tags":[],"owner":{"account_id":26857548,"reputation":66,"user_id":20441619,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668059469,"creation_date":1667835894,"answer_id":74349227,"question_id":74348948,"body_markdown":"android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30 (Android 11 and above).\r\n\r\n1. Must add this to manifest:\r\n\r\n2. Request to permission:\r\n\r\n```android\r\nActivityCompat.requestPermissions(this,\r\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 1);\r\n```\r\n\r\n3. Check whether app can access storage:\r\n\r\n```android\r\nif (!Environment.isExternalStorageManager()) \r\n```\r\n\r\n4. Request to access &quot;All files and media&quot; access:\r\n\r\n```android\r\nIntent intent = new Intent();\r\nintent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\nUri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\nintent.setData(uri);\r\nstartActivity(intent);\r\n```\r\n\r\n\r\n","title":"How to take storage permission in Android 11","body":"<p>android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30 (Android 11 and above).</p>\n<ol>\n<li><p>Must add this to manifest:</p>\n</li>\n<li><p>Request to permission:</p>\n</li>\n</ol>\n<pre><code>ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n<ol start=\"3\">\n<li>Check whether app can access storage:</li>\n</ol>\n<pre><code>if (!Environment.isExternalStorageManager()) \n</code></pre>\n<ol start=\"4\">\n<li>Request to access &quot;All files and media&quot; access:</li>\n</ol>\n<pre><code>Intent intent = new Intent();\nintent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\nUri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\nintent.setData(uri);\nstartActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":26712899,"reputation":21,"user_id":20317930,"display_name":"Ayan Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74349227,"answer_count":1,"score":0,"last_activity_date":1668059469,"creation_date":1667834608,"question_id":74348948,"body_markdown":"My Topic,\r\n   i am trying to take storage permission in android, my permission code works in below andoid 11 ,\r\nbut problem is when i try to take storage permission in android 11 then code not works , so please help me..\r\n\r\n**This is my code:-**\r\n\r\nThis is my **AndroidManifest.xml** Code\r\n&gt; &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt; \r\n&gt;  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; \r\n&gt;  &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n&gt; \r\n&gt;  android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n\r\nThis is my **JavaCode** Code\r\n\r\n```\r\n@Override \r\n protected void onActivityResult(int _requestCode, int _resultCode, Intent _data) { \r\n  super.onActivityResult(_requestCode, _resultCode, _data); \r\n  if (_resultCode == RESULT_OK){\r\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\r\n              if (Environment.isExternalStorageManager()){\r\n                    Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\r\n        i.setClass(getApplicationContext(), Main2Activity.class); \r\n        startActivity(i);\r\n                } else {\r\n                    _takePermission();\r\n                }\r\n          }\r\n  } \r\n  switch (_requestCode) { \r\n    \r\n   default: \r\n   break; \r\n  } \r\n }\r\n\r\n\r\npublic boolean _isPermissionGranted() { \r\n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\r\n   \r\n       return Environment.isExternalStorageManager();\r\n  } else  {\r\n   \r\n       int readexternalStoragePermission = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n       return  readexternalStoragePermission == PackageManager.PERMISSION_GRANTED;\r\n  } \r\n }\r\n\r\n\r\n\r\npublic void _takePermission() { \r\n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R) {\r\n       try {\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,getApplicationContext().getPackageName())));\r\n            startActivityForResult(intent,100);\r\n        } catch (Exception exception){\r\n            Intent intent = new Intent();\r\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            startActivityForResult(intent,100);\r\n        }\r\n  } else {\r\n       ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},101);\r\n  } \r\n } \r\n  \r\n  \r\n  @Override\r\n public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n      super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n      if (grantResults.length &gt; 0){\r\n           if (requestCode == 101){\r\n                boolean readExternalStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                if (readExternalStorage){\r\n                     Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\r\n     i.setClass(getApplicationContext(), Main2Activity.class); \r\n     startActivity(i);\r\n                 } else {\r\n                     _takePermission();\r\n                 }\r\n            }\r\n       }\r\n\r\n```\r\n\r\n\r\n\r\nAbove is the complete code, please check and tell me what my mistake is, and what is the correct bridge.\r\n\r\nThanks for watching..","title":"How to take storage permission in Android 11","body":"<p>My Topic,\ni am trying to take storage permission in android, my permission code works in below andoid 11 ,\nbut problem is when i try to take storage permission in android 11 then code not works , so please help me..</p>\n<p><strong>This is my code:-</strong></p>\n<p>This is my <strong>AndroidManifest.xml</strong> Code</p>\n<blockquote>\n \n  \n \n<p>android:requestLegacyExternalStorage=&quot;true&quot;</p>\n</blockquote>\n<p>This is my <strong>JavaCode</strong> Code</p>\n<pre><code>@Override \n protected void onActivityResult(int _requestCode, int _resultCode, Intent _data) { \n  super.onActivityResult(_requestCode, _resultCode, _data); \n  if (_resultCode == RESULT_OK){\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\n              if (Environment.isExternalStorageManager()){\n                    Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\n        i.setClass(getApplicationContext(), Main2Activity.class); \n        startActivity(i);\n                } else {\n                    _takePermission();\n                }\n          }\n  } \n  switch (_requestCode) { \n    \n   default: \n   break; \n  } \n }\n\n\npublic boolean _isPermissionGranted() { \n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\n   \n       return Environment.isExternalStorageManager();\n  } else  {\n   \n       int readexternalStoragePermission = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n       return  readexternalStoragePermission == PackageManager.PERMISSION_GRANTED;\n  } \n }\n\n\n\npublic void _takePermission() { \n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R) {\n       try {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,getApplicationContext().getPackageName())));\n            startActivityForResult(intent,100);\n        } catch (Exception exception){\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivityForResult(intent,100);\n        }\n  } else {\n       ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},101);\n  } \n } \n  \n  \n  @Override\n public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n      super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n      if (grantResults.length &gt; 0){\n           if (requestCode == 101){\n                boolean readExternalStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                if (readExternalStorage){\n                     Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\n     i.setClass(getApplicationContext(), Main2Activity.class); \n     startActivity(i);\n                 } else {\n                     _takePermission();\n                 }\n            }\n       }\n\n</code></pre>\n<p>Above is the complete code, please check and tell me what my mistake is, and what is the correct bridge.</p>\n<p>Thanks for watching..</p>\n"},{"tags":["java","spring-boot","groovy","spring-data-mongodb"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1640693740,"post_id":70494158,"comment_id":124634468,"body_markdown":"Add a [java] tag to the question for proper syntax highlighting.","body":"Add a [java] tag to the question for proper syntax highlighting."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1640698248,"post_id":70494158,"comment_id":124635891,"body_markdown":"i am using groovy as a language","body":"i am using groovy as a language"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1640706442,"post_id":70494158,"comment_id":124638628,"body_markdown":"Does this answer your question? [Spring Data MongoDB BigDecimal support](https://stackoverflow.com/questions/37950296/spring-data-mongodb-bigdecimal-support)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37950296/spring-data-mongodb-bigdecimal-support\">Spring Data MongoDB BigDecimal support</a>"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1640756153,"post_id":70494158,"comment_id":124650059,"body_markdown":"No @Valijon \nI tried @Field(targetType = Decimal128) but it did not worked","body":"No @Valijon  I tried @Field(targetType = Decimal128) but it did not worked"}],"answers":[{"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641303315,"creation_date":1640863415,"answer_id":70530954,"question_id":70494158,"body_markdown":"Probably, you need to drop / migrate your already created `loanDetails`, since the `loanAmount` field is persisted as `String`.\r\n\r\nBy adding `@Field(targetType = FieldType.DECIMAL128)` to your `loanAmount` field it should work.\r\n\r\n    import org.springframework.data.mongodb.core.mapping.FieldType;\r\n    ...\r\n\r\n    @Field(targetType = FieldType.DECIMAL128)\r\n\tBigDecimal loanAmount;\r\n    ...\r\n    \r\n    public LoanDetails() {\r\n\t   \tloanAmount = new BigDecimal(21.905334472656250);\r\n\t}\r\n    ...\r\n     \r\n    template.save(loan);\r\n\r\n    template.find(new Query(), org.bson.Document.class, &quot;loanDetails&quot;).forEach(l -&gt; {\r\n\t\tSystem.out.println(l.get(&quot;loanAmount&quot;).getClass().getName() + &quot; &quot; + l.get(&quot;loanAmount&quot;));\t\r\n\t});\r\n    //org.bson.types.Decimal128 21.90533447265625\r\n\t\t\r\n\ttemplate.findAll(LoanDetails.class).forEach(l -&gt; {\r\n\t\tSystem.out.println(l.loanAmount.getClass().getName() + &quot; &quot; + l.loanAmount);\t\r\n\t});\r\n    //java.math.BigDecimal 21.90533447265625\r\n\r\nIf you get `Conversion to Decimal128 would require inexact rounding of XXX`\r\n&gt;Note: The `Decimal128` type only supports up to 34 digits of precision.  (Generally, &quot;precision&quot; = total # of digits, while &quot;scale&quot; = # of decimal digits).   Whereas a Java BigDecimal can go higher.  So, before saving to the DB, you need to round the BigDecimal value (e.g. use `BigDecimal.setScale()`) method. \r\n\r\n[BigDecimalConverter issue](https://groups.google.com/g/morphia/c/aUu1Z6RnYA8 ) | [Decimal128](https://github.com/mongodb/mongo-java-driver/blob/master/bson/src/main/org/bson/types/Decimal128.java#L244)","title":"BigDecimal is stored in string in spring data MongoDB","body":"<p>Probably, you need to drop / migrate your already created <code>loanDetails</code>, since the <code>loanAmount</code> field is persisted as <code>String</code>.</p>\n<p>By adding <code>@Field(targetType = FieldType.DECIMAL128)</code> to your <code>loanAmount</code> field it should work.</p>\n<pre><code>import org.springframework.data.mongodb.core.mapping.FieldType;\n...\n\n@Field(targetType = FieldType.DECIMAL128)\nBigDecimal loanAmount;\n...\n\npublic LoanDetails() {\n    loanAmount = new BigDecimal(21.905334472656250);\n}\n...\n \ntemplate.save(loan);\n\ntemplate.find(new Query(), org.bson.Document.class, &quot;loanDetails&quot;).forEach(l -&gt; {\n    System.out.println(l.get(&quot;loanAmount&quot;).getClass().getName() + &quot; &quot; + l.get(&quot;loanAmount&quot;));   \n});\n//org.bson.types.Decimal128 21.90533447265625\n    \ntemplate.findAll(LoanDetails.class).forEach(l -&gt; {\n    System.out.println(l.loanAmount.getClass().getName() + &quot; &quot; + l.loanAmount); \n});\n//java.math.BigDecimal 21.90533447265625\n</code></pre>\n<p>If you get <code>Conversion to Decimal128 would require inexact rounding of XXX</code></p>\n<blockquote>\n<p>Note: The <code>Decimal128</code> type only supports up to 34 digits of precision.  (Generally, &quot;precision&quot; = total # of digits, while &quot;scale&quot; = # of decimal digits).   Whereas a Java BigDecimal can go higher.  So, before saving to the DB, you need to round the BigDecimal value (e.g. use <code>BigDecimal.setScale()</code>) method.</p>\n</blockquote>\n<p><a href=\"https://groups.google.com/g/morphia/c/aUu1Z6RnYA8\" rel=\"nofollow noreferrer\">BigDecimalConverter issue</a> | <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/bson/src/main/org/bson/types/Decimal128.java#L244\" rel=\"nofollow noreferrer\">Decimal128</a></p>\n"},{"tags":[],"owner":{"account_id":69203,"reputation":3448,"user_id":201514,"accept_rate":78,"display_name":"Rajani Karuturi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668059451,"creation_date":1668059451,"answer_id":74384670,"question_id":70494158,"body_markdown":"You can register a custom converted in mongo config\r\n```\r\n@Configuration        \r\npublic class MongoConfig\r\n{\r\n\r\n    @Bean\r\n    public CustomConversions customConversions()\r\n    {\r\n        return new MongoCustomConversions(Arrays.asList(\r\n                new BigDecimalToDocumentWritingConverter()\r\n            ));\r\n    }\r\n}\r\n```\r\n\r\nAnd do the conversion there\r\n```\r\npublic class BigDecimalToDocumentWritingConverter implements Converter&lt;BigDecimal, String&gt; {\r\n\r\n    @Override\r\n    public String convert(@Nullable BigDecimal amount) {\r\n        if (amount == null) return null;\r\n        return String.valueOf(amount.doubleValue());\r\n    }\r\n}\r\n```","title":"BigDecimal is stored in string in spring data MongoDB","body":"<p>You can register a custom converted in mongo config</p>\n<pre><code>@Configuration        \npublic class MongoConfig\n{\n\n    @Bean\n    public CustomConversions customConversions()\n    {\n        return new MongoCustomConversions(Arrays.asList(\n                new BigDecimalToDocumentWritingConverter()\n            ));\n    }\n}\n</code></pre>\n<p>And do the conversion there</p>\n<pre><code>public class BigDecimalToDocumentWritingConverter implements Converter&lt;BigDecimal, String&gt; {\n\n    @Override\n    public String convert(@Nullable BigDecimal amount) {\n        if (amount == null) return null;\n        return String.valueOf(amount.doubleValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3048,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668059451,"creation_date":1640600120,"question_id":70494158,"body_markdown":"    @Document(collection = &quot;loanDetails&quot;)\r\n    class LoanDetails {\r\n        @Transient\r\n        public static final String COLLECTION_NAME = &quot;loanDetails\r\n        @Id\r\n        String id\r\n    \r\n        String loanId\r\n        String loanUUID\r\n        String loanStatus\r\n        Date loanDateCreated\r\n        Date loanLastUpdated\r\n        BigDecimal loanAmount //Stores in String\r\n    }\r\n\r\nI declared a class LoanDetails and a field with BigDecimal type loanAmount in it\r\nWhenever i saved some data in this collection\r\n\r\n 1. It get stores as a string in mongo db database \r\n 2. while getting the records from database i am getting the error of \r\n**Failed to decode &#39;LoandDetails&#39;. Decoding &#39;loanAmount&#39; errored with:\r\n    readDecimal can only be called when CurrentBSONType is DECIMAL128,\r\n    not when CurrentBSONType is STRING.**\r\n\r\nI tried to add annotation over loanAmount field\r\n\r\n    @Field(targetType = Decimal128) // This also throws error does not contain targetType attribute attached screenshot for the same\r\n    BigDecimal loanAmount\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y5DXO.png","title":"BigDecimal is stored in string in spring data MongoDB","body":"<pre><code>@Document(collection = &quot;loanDetails&quot;)\nclass LoanDetails {\n    @Transient\n    public static final String COLLECTION_NAME = &quot;loanDetails\n    @Id\n    String id\n\n    String loanId\n    String loanUUID\n    String loanStatus\n    Date loanDateCreated\n    Date loanLastUpdated\n    BigDecimal loanAmount //Stores in String\n}\n</code></pre>\n<p>I declared a class LoanDetails and a field with BigDecimal type loanAmount in it\nWhenever i saved some data in this collection</p>\n<ol>\n<li>It get stores as a string in mongo db database</li>\n<li>while getting the records from database i am getting the error of\n<strong>Failed to decode 'LoandDetails'. Decoding 'loanAmount' errored with:\nreadDecimal can only be called when CurrentBSONType is DECIMAL128,\nnot when CurrentBSONType is STRING.</strong></li>\n</ol>\n<p>I tried to add annotation over loanAmount field</p>\n<pre><code>@Field(targetType = Decimal128) // This also throws error does not contain targetType attribute attached screenshot for the same\nBigDecimal loanAmount\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/y5DXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5DXO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","wro4j"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1667830666,"post_id":74347674,"comment_id":131254680,"body_markdown":"Can you please post the pom file... it looks like using version ranges and you seemed to be having a clash...","body":"Can you please post the pom file... it looks like using version ranges and you seemed to be having a clash..."},{"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"score":0,"creation_date":1667831056,"post_id":74347674,"comment_id":131254848,"body_markdown":"updated the question with more info @khmarbaise","body":"updated the question with more info @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668059416,"creation_date":1667831833,"answer_id":74348300,"question_id":74347674,"body_markdown":"I love how just asking a question clears your head enough to figure it out!\r\nHere&#39;s I solved it:\r\n1. Understood what I&#39;m looking for is a way to override dependencies for a *plugin*\r\n2. Found this: [How to override a plugin&#39;s dependency in Maven][1]\r\n3. Checked the dependencies path and found that if I force `org.webjars.npm.glob` to use `7.1.1`, things will work out.\r\n4. Added this to the `&lt;plugin&gt;` element loading `wro4j`:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;glob&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;      \r\n```\r\n\r\nand voila!\r\n\r\n\r\n  [1]: https://blog.sonatype.com/2008/04/how-to-override-a-plugins-dependency-in-maven/","title":"MVN issue with an old Java codebase -- clashing dependencies","body":"<p>I love how just asking a question clears your head enough to figure it out!\nHere's I solved it:</p>\n<ol>\n<li>Understood what I'm looking for is a way to override dependencies for a <em>plugin</em></li>\n<li>Found this: <a href=\"https://blog.sonatype.com/2008/04/how-to-override-a-plugins-dependency-in-maven/\" rel=\"nofollow noreferrer\">How to override a plugin's dependency in Maven</a></li>\n<li>Checked the dependencies path and found that if I force <code>org.webjars.npm.glob</code> to use <code>7.1.1</code>, things will work out.</li>\n<li>Added this to the <code>&lt;plugin&gt;</code> element loading <code>wro4j</code>:</li>\n</ol>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n        &lt;artifactId&gt;glob&lt;/artifactId&gt;\n        &lt;version&gt;7.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;      \n</code></pre>\n<p>and voila!</p>\n"}],"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668059416,"creation_date":1667829133,"question_id":74347674,"body_markdown":"I have an old Java codebase (1.7). I&#39;m trying to get it to run on a newer version of the JVM, and in general I got it to compile.\r\nWhat I can solve is the part in the build process that uses `wro4j`. Maven gives me this error:\r\n```\r\nPlugin ro.isdc.wro4j:wro4j-maven-plugin:1.10.1 or one of its dependencies could not be resolved:\r\nFailed to collect dependencies for ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 ():\r\nCould not resolve version conflict among \r\n[ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:minimatch:jar:[3.0.2,3.1), \r\nro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\r\n```\r\n\r\nBoth dependencies chains end with minimatch -- one needs [3.1.1,4], the other [3.0.2,3.1]. I have a feeling that whatever works with 3.1 will work with 3.1.1, but I have no idea how to &quot;force&quot; (or trick?) MVN to allow that.\r\n\r\nThis is the part in the POM file that uses wro4j:\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;ro.isdc.wro4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wro4j-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;phase&gt;compile&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;run&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n              &lt;minimize&gt;true&lt;/minimize&gt;\r\n              &lt;wroFile&gt;${basedir}/src/main/resources/wro.xml&lt;/wroFile&gt;\r\n              &lt;contextFolder&gt;${basedir}/WebContent/&lt;/contextFolder&gt;\r\n              &lt;destinationFolder&gt;${basedir}/WebContent/js/compiled&lt;/destinationFolder&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\n`wro4j` is *not* declared as a dependency anywhere else in the POM file. Same goes for the entire dependencies chain in the error message.\r\nThe issue is this:\r\n```\r\norg.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\r\n```\r\n`org.webjars.npm:jshint` requires both `minimatch [3.0.2,3.1]`, and also `org.webjars.npm:cli:` - which in turn has an indirect dependency on `minimatch [3.1,4]` \r\n\r\nAny ideas?","title":"MVN issue with an old Java codebase -- clashing dependencies","body":"<p>I have an old Java codebase (1.7). I'm trying to get it to run on a newer version of the JVM, and in general I got it to compile.\nWhat I can solve is the part in the build process that uses <code>wro4j</code>. Maven gives me this error:</p>\n<pre><code>Plugin ro.isdc.wro4j:wro4j-maven-plugin:1.10.1 or one of its dependencies could not be resolved:\nFailed to collect dependencies for ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 ():\nCould not resolve version conflict among \n[ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:minimatch:jar:[3.0.2,3.1), \nro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\n</code></pre>\n<p>Both dependencies chains end with minimatch -- one needs [3.1.1,4], the other [3.0.2,3.1]. I have a feeling that whatever works with 3.1 will work with 3.1.1, but I have no idea how to &quot;force&quot; (or trick?) MVN to allow that.</p>\n<p>This is the part in the POM file that uses wro4j:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;ro.isdc.wro4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wro4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.10.1&lt;/version&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;phase&gt;compile&lt;/phase&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;run&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n              &lt;minimize&gt;true&lt;/minimize&gt;\n              &lt;wroFile&gt;${basedir}/src/main/resources/wro.xml&lt;/wroFile&gt;\n              &lt;contextFolder&gt;${basedir}/WebContent/&lt;/contextFolder&gt;\n              &lt;destinationFolder&gt;${basedir}/WebContent/js/compiled&lt;/destinationFolder&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p><code>wro4j</code> is <em>not</em> declared as a dependency anywhere else in the POM file. Same goes for the entire dependencies chain in the error message.\nThe issue is this:</p>\n<pre><code>org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\n</code></pre>\n<p><code>org.webjars.npm:jshint</code> requires both <code>minimatch [3.0.2,3.1]</code>, and also <code>org.webjars.npm:cli:</code> - which in turn has an indirect dependency on <code>minimatch [3.1,4]</code></p>\n<p>Any ideas?</p>\n"},{"tags":["java","hashmap","defaultlistmodel"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1330388216,"post_id":9474479,"comment_id":11989985,"body_markdown":"`DefaultListModel` doesn&#39;t take any parameters and you are passing it a collection.","body":"<code>DefaultListModel</code> doesn&#39;t take any parameters and you are passing it a collection."},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330388400,"post_id":9474479,"comment_id":11990021,"body_markdown":"is there a way to put each values from hashmap into the list model?","body":"is there a way to put each values from hashmap into the list model?"},{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1330388642,"post_id":9474479,"comment_id":11990074,"body_markdown":"You need to add elements to the `ListModel`, so loop through your `HashMap` and add each value to the `ListModel`","body":"You need to add elements to the <code>ListModel</code>, so loop through your <code>HashMap</code> and add each value to the <code>ListModel</code>"},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330389124,"post_id":9474479,"comment_id":11990196,"body_markdown":"when i do a loop to (a.getValue()) and trys to add them in i get\nDepartmentProject.java:72: error: method addElement in class DefaultListModel&lt;E&gt; cannot be applied to given types;\nactual argument Object cannot be converted to String by method invocation conversion\n  where E is a type-variable:","body":"when i do a loop to (a.getValue()) and trys to add them in i get DepartmentProject.java:72: error: method addElement in class DefaultListModel&lt;E&gt; cannot be applied to given types; actual argument Object cannot be converted to String by method invocation conversion   where E is a type-variable:"},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330389378,"post_id":9474479,"comment_id":11990259,"body_markdown":"i got to it work, i changed it to (a.getValue() + &quot; &quot;); and somehow it passed","body":"i got to it work, i changed it to (a.getValue() + &quot; &quot;); and somehow it passed"}],"answers":[{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1330388983,"creation_date":1330388983,"answer_id":9474606,"question_id":9474479,"body_markdown":"`DefaultListModel` only has a constructor that takes no arguments; you can&#39;t pass the values you want as a constructor arg.\r\nYou will have to create the DefaultListModel and then populate it afterward, for example:\r\n\r\n    HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\r\n    instListModel = new DefaultListModel&lt;String&gt;();\r\n    for (String value : inst1.values())\r\n    {\r\n        instListModel.addElement(value);\r\n    }","title":"HashMap into DefaultListModel","body":"<p><code>DefaultListModel</code> only has a constructor that takes no arguments; you can't pass the values you want as a constructor arg.\nYou will have to create the DefaultListModel and then populate it afterward, for example:</p>\n\n<pre><code>HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\ninstListModel = new DefaultListModel&lt;String&gt;();\nfor (String value : inst1.values())\n{\n    instListModel.addElement(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26858271,"reputation":1,"user_id":20442228,"display_name":"mirun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668059375,"creation_date":1667839215,"answer_id":74349960,"question_id":9474479,"body_markdown":"```\r\nHashMap&lt;Integer, Employee&gt; employees = new HashMap&lt;&gt;();\r\n\r\nDefaultListModel&lt;Employee&gt; model = new DefaultListModel&lt;&gt;();\r\nmodel.addAll(employees.values());\r\n```","title":"HashMap into DefaultListModel","body":"<pre><code>HashMap&lt;Integer, Employee&gt; employees = new HashMap&lt;&gt;();\n\nDefaultListModel&lt;Employee&gt; model = new DefaultListModel&lt;&gt;();\nmodel.addAll(employees.values());\n</code></pre>\n"}],"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9474606,"answer_count":2,"score":1,"last_activity_date":1668059375,"creation_date":1330388098,"question_id":9474479,"body_markdown":"Here&#39;s the code that I have:\r\n\r\n    HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\r\n    instListModel = new DefaultListModel&lt;String&gt;(inst1.values());\r\n\r\nI get errors:\r\n\r\n    DepartmentProject.java:69: error: constructor DefaultListModel in class DefaultListModel&lt;E&gt; cannot be applied to given types;\r\n        required: no arguments\r\n        found: Collection&lt;String&gt;\r\n        reason: actual and formal argument lists differ in length\r\n        where E is a type-variable:\r\n        E extends Object declared in class DefaultListModel\r\n\r\nCan anyone help me with this?\r\n","title":"HashMap into DefaultListModel","body":"<p>Here's the code that I have:</p>\n\n<pre><code>HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\ninstListModel = new DefaultListModel&lt;String&gt;(inst1.values());\n</code></pre>\n\n<p>I get errors:</p>\n\n<pre><code>DepartmentProject.java:69: error: constructor DefaultListModel in class DefaultListModel&lt;E&gt; cannot be applied to given types;\n    required: no arguments\n    found: Collection&lt;String&gt;\n    reason: actual and formal argument lists differ in length\n    where E is a type-variable:\n    E extends Object declared in class DefaultListModel\n</code></pre>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","java-stream","range","bufferedreader","intstream"],"comments":[{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1668018093,"post_id":74379666,"comment_id":131308183,"body_markdown":"Just use a `while` loop. Not everything has to be streams.","body":"Just use a <code>while</code> loop. Not everything has to be streams."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1668018170,"post_id":74379666,"comment_id":131308206,"body_markdown":"Or use `bufferedReader.lines()`, which returns a `Stream&lt;String&gt;`, and then use the stream API to collect into a `List&lt;List&lt;Integer&gt;&gt;`. But a `while` loop would probably be more readable.","body":"Or use <code>bufferedReader.lines()</code>, which returns a <code>Stream&lt;String&gt;</code>, and then use the stream API to collect into a <code>List&lt;List&lt;Integer&gt;&gt;</code>. But a <code>while</code> loop would probably be more readable."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668057696,"creation_date":1668020640,"answer_id":74380114,"question_id":74379666,"body_markdown":"&gt; I&#39;d like to make this dynamic so various numbers of rows could be entered. How is this done?\r\n\r\nThere&#39;s a couple of way to avoid hard-coding the number of lines that should be read from the console:\r\n\r\n* you can provide the expected number of lines (for instance as a method argument, or as a console input);\r\n\r\n* introduce a condition checking where a particular string (or symbol) which should signify the end of data is present in the input.\r\n\r\nAs *@Slaw* has mentioned in the [comment][1], you can use [`BufferedReader.lines()`][2] which generates a stream lazily populated with lines read from the `BufferedReader`.\r\n\r\nAlso, note that instead of `replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)` which is intended to remove white trailing spaces, you can apply [`String.strip()`][3] (or its predecessor `trim()`).\r\n\r\n# Provide a number of lines explicitly\r\n\r\nThe first option is to provide the number of rows to read explicitly and apply it via `limit()` operation.\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; readInput(int limit) {\r\n        var reader = new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        return reader.lines()\r\n            .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\r\n                .map(Integer::parseInt)\r\n                .toList()\r\n            )\r\n            .limit(limit) // number of lines to read\r\n            .toList();    // collect(toList())\r\n    }\r\n\r\n# Read until a specific condition is met\r\n\r\nAnother approach is to read the data until input a string representing the end of data is not encountered in the input. Since regular data in these case contains only digits and white spaces, we can make it terminating condition, i.e. read until input is valid.\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; readInput() {\r\n        var reader = new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        return reader.lines()\r\n            .takeWhile(line -&gt; line.matches(&quot;\\\\d+[\\\\s\\\\d]*&quot;)) // read until there only digits in the input\r\n            .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\r\n                .map(Integer::parseInt)\r\n                .toList()\r\n            )\r\n            .toList();   // collect(toList())\r\n    }\r\n\r\n   [1]: https://stackoverflow.com/questions/74379666/dynamically-determine-the-intstream-range#comment131308206_74379666\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()","title":"Dynamically determine the IntStream.range()","body":"<blockquote>\n<p>I'd like to make this dynamic so various numbers of rows could be entered. How is this done?</p>\n</blockquote>\n<p>There's a couple of way to avoid hard-coding the number of lines that should be read from the console:</p>\n<ul>\n<li><p>you can provide the expected number of lines (for instance as a method argument, or as a console input);</p>\n</li>\n<li><p>introduce a condition checking where a particular string (or symbol) which should signify the end of data is present in the input.</p>\n</li>\n</ul>\n<p>As <em>@Slaw</em> has mentioned in the <a href=\"https://stackoverflow.com/questions/74379666/dynamically-determine-the-intstream-range#comment131308206_74379666\">comment</a>, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()\" rel=\"nofollow noreferrer\"><code>BufferedReader.lines()</code></a> which generates a stream lazily populated with lines read from the <code>BufferedReader</code>.</p>\n<p>Also, note that instead of <code>replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)</code> which is intended to remove white trailing spaces, you can apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\"><code>String.strip()</code></a> (or its predecessor <code>trim()</code>).</p>\n<h1>Provide a number of lines explicitly</h1>\n<p>The first option is to provide the number of rows to read explicitly and apply it via <code>limit()</code> operation.</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; readInput(int limit) {\n    var reader = new BufferedReader(new InputStreamReader(System.in));\n    \n    return reader.lines()\n        .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .toList()\n        )\n        .limit(limit) // number of lines to read\n        .toList();    // collect(toList())\n}\n</code></pre>\n<h1>Read until a specific condition is met</h1>\n<p>Another approach is to read the data until input a string representing the end of data is not encountered in the input. Since regular data in these case contains only digits and white spaces, we can make it terminating condition, i.e. read until input is valid.</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; readInput() {\n    var reader = new BufferedReader(new InputStreamReader(System.in));\n    \n    return reader.lines()\n        .takeWhile(line -&gt; line.matches(&quot;\\\\d+[\\\\s\\\\d]*&quot;)) // read until there only digits in the input\n        .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .toList()\n        )\n        .toList();   // collect(toList())\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668057696,"creation_date":1668017995,"question_id":74379666,"body_markdown":"I hve this code which loops through lines of integers and enters them into a `List`:\r\n\r\n```Java\r\nBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nList&lt;List&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\r\n\r\n\r\nIntStream.range(0, 12).forEach(i -&gt; {\r\n    try {\r\n        arr.add(\r\n                Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n                        .map(Integer::parseInt)\r\n                        .collect(toList())\r\n        );\r\n    } catch (IOException ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n});\r\n```\r\n\r\nIt works fine when I pass in the correct number of rows. 12 in this example. I&#39;d like to make this dynamic so various numbers of rows could be entered. How is this done?","title":"Dynamically determine the IntStream.range()","body":"<p>I hve this code which loops through lines of integers and enters them into a <code>List</code>:</p>\n<pre><code>BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\nList&lt;List&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\n\n\nIntStream.range(0, 12).forEach(i -&gt; {\n    try {\n        arr.add(\n                Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n                        .map(Integer::parseInt)\n                        .collect(toList())\n        );\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n    }\n});\n</code></pre>\n<p>It works fine when I pass in the correct number of rows. 12 in this example. I'd like to make this dynamic so various numbers of rows could be entered. How is this done?</p>\n"},{"tags":["java","microsoft-graph-api","msal4j"],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668057674,"creation_date":1668057674,"answer_id":74384466,"question_id":74381000,"body_markdown":"I could not find the exact API in the libraries, I did manage to solve it using normal REST calls:\r\n\r\n    private String getAccessToken(String refreshToken) throws UnsupportedOperationException {\r\n        String url = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \r\n        // TODO: These values need to be read from the config file\r\n        MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\r\n        map.add(&quot;client_id&quot;, &quot;your_client_id&quot;);\r\n        map.add(&quot;grant_type&quot;, &quot;refresh_token&quot;);\r\n        map.add(&quot;redirect_uri&quot;, &quot;http://localhost:5000/login/oauth2/code/microsoft&quot;);\r\n        map.add(&quot;scope&quot;, &quot;your scopes&quot;);\r\n        map.add(&quot;refresh_token&quot;, refreshToken);\r\n        map.add(&quot;client_secret&quot;, &quot;your_client_secret&quot;);\r\n    \r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\r\n    \r\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\r\n        return response.getBody();\r\n    }","title":"Refresh Azure AD access token","body":"<p>I could not find the exact API in the libraries, I did manage to solve it using normal REST calls:</p>\n<pre><code>private String getAccessToken(String refreshToken) throws UnsupportedOperationException {\n    String url = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n    // TODO: These values need to be read from the config file\n    MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\n    map.add(&quot;client_id&quot;, &quot;your_client_id&quot;);\n    map.add(&quot;grant_type&quot;, &quot;refresh_token&quot;);\n    map.add(&quot;redirect_uri&quot;, &quot;http://localhost:5000/login/oauth2/code/microsoft&quot;);\n    map.add(&quot;scope&quot;, &quot;your scopes&quot;);\n    map.add(&quot;refresh_token&quot;, refreshToken);\n    map.add(&quot;client_secret&quot;, &quot;your_client_secret&quot;);\n\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\n\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\n    return response.getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74384466,"answer_count":1,"score":0,"last_activity_date":1668057674,"creation_date":1668025702,"question_id":74381000,"body_markdown":"I am working on a web app where users can login withe their personal Microsoft. After login I store the access token and the refresh token so that I can later retrieve some data from their Microsoft account. \r\n\r\nWhile the access token is valid, everything works.\r\n\r\n    final TokenCredential tokenCredential = request -&gt; {\r\n        final OffsetDateTime offset = OffsetDateTime.ofInstant(account.getTokenExpiry().toInstant(), ZoneId.systemDefault());\r\n        final AccessToken token = new AccessToken(account.getAccessToken(), offset);\r\n        return Mono.create(sink -&gt; sink.success(token));\r\n    };\r\n    \r\n    final TokenCredentialAuthProvider tokenCredentialAuthProvider = \r\n      new TokenCredentialAuthProvider(tokenCredential);\r\n    \r\n    this.graphServiceClient =\r\n        GraphServiceClient\r\n            .builder()\r\n            .authenticationProvider(tokenCredentialAuthProvider)\r\n            .buildClient();\r\n\r\nThe problem is that if the token has expired, I can&#39;t just provide the refresh token. I need to first retrieve the new token. Is there a way of doing this? Is there a method where I can just provide both tokens and the refresh is handled automatically?\r\n\r\nI could not find anything useful so far.","title":"Refresh Azure AD access token","body":"<p>I am working on a web app where users can login withe their personal Microsoft. After login I store the access token and the refresh token so that I can later retrieve some data from their Microsoft account.</p>\n<p>While the access token is valid, everything works.</p>\n<pre><code>final TokenCredential tokenCredential = request -&gt; {\n    final OffsetDateTime offset = OffsetDateTime.ofInstant(account.getTokenExpiry().toInstant(), ZoneId.systemDefault());\n    final AccessToken token = new AccessToken(account.getAccessToken(), offset);\n    return Mono.create(sink -&gt; sink.success(token));\n};\n\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = \n  new TokenCredentialAuthProvider(tokenCredential);\n\nthis.graphServiceClient =\n    GraphServiceClient\n        .builder()\n        .authenticationProvider(tokenCredentialAuthProvider)\n        .buildClient();\n</code></pre>\n<p>The problem is that if the token has expired, I can't just provide the refresh token. I need to first retrieve the new token. Is there a way of doing this? Is there a method where I can just provide both tokens and the refresh is handled automatically?</p>\n<p>I could not find anything useful so far.</p>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668057173,"creation_date":1668053749,"answer_id":74384060,"question_id":74380751,"body_markdown":"Yes, if you add `-DmyKey=myValue`\r\n\r\nYou can do this anywhere in Karate (feature or JS):\r\n\r\n    * def myKey = karate.properties[&#39;myKey&#39;]\r\n\r\nAlso refer: https://stackoverflow.com/a/52821230/143475","title":"Karate-API ~ Using karate&#39;s environment variable to pass into Java Faker class","body":"<p>Yes, if you add <code>-DmyKey=myValue</code></p>\n<p>You can do this anywhere in Karate (feature or JS):</p>\n<pre><code>* def myKey = karate.properties['myKey']\n</code></pre>\n<p>Also refer: <a href=\"https://stackoverflow.com/a/52821230/143475\">https://stackoverflow.com/a/52821230/143475</a></p>\n"}],"owner":{"account_id":22806530,"reputation":129,"user_id":16958500,"display_name":"mark quinteros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74384060,"answer_count":1,"score":1,"last_activity_date":1668057173,"creation_date":1668024236,"question_id":74380751,"body_markdown":"The scenario:\r\n\r\nI have java faker set up to create email address for each of my karate tests.\r\nexample: \r\n```\r\n    Faker faker = new Faker();\r\n    String email = &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\r\n        + &quot;@mail.com&quot;;\r\n    return email;\r\n```\r\n\r\n\r\nI run my tests via command line \r\n(example: qa-people-service % mvn clean test Dkarate.env=sqa -Dkarate.options=&quot;--tags @play&quot;\r\n\r\nis there a way I can pass in the environment variable run in the command line into my email addresses?\r\ne.g. \r\n```\r\nString email = &quot;&lt;Dkarate.env&gt;&quot; + &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\r\n        + &quot;@mail.com&quot;;\r\n```","title":"Karate-API ~ Using karate&#39;s environment variable to pass into Java Faker class","body":"<p>The scenario:</p>\n<p>I have java faker set up to create email address for each of my karate tests.\nexample:</p>\n<pre><code>    Faker faker = new Faker();\n    String email = &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\n        + &quot;@mail.com&quot;;\n    return email;\n</code></pre>\n<p>I run my tests via command line\n(example: qa-people-service % mvn clean test Dkarate.env=sqa -Dkarate.options=&quot;--tags @play&quot;</p>\n<p>is there a way I can pass in the environment variable run in the command line into my email addresses?\ne.g.</p>\n<pre><code>String email = &quot;&lt;Dkarate.env&gt;&quot; + &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\n        + &quot;@mail.com&quot;;\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668042428,"post_id":74383060,"comment_id":131314132,"body_markdown":"Why do you think your ps will do an update for a select `String sql = &quot;SELECT * FROM management&quot;;` ?  Have a look at the javadocs.","body":"Why do you think your ps will do an update for a select <code>String sql = &quot;SELECT * FROM management&quot;;</code> ?  Have a look at the javadocs."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668042903,"post_id":74383060,"comment_id":131314211,"body_markdown":"I wanted to be able to retrieve all the data in the table.","body":"I wanted to be able to retrieve all the data in the table."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668043101,"post_id":74383060,"comment_id":131314248,"body_markdown":"Should I modify the sql statement?","body":"Should I modify the sql statement?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668043621,"post_id":74383060,"comment_id":131314322,"body_markdown":"Yes and no.  But more importantly I think that you should follow a jdbc tutorial.  For example when doing an INSERT you need to provide that data that you want inserted.  When doing a delete your sql is incorrect.  When doing a select you are using the wrong java method.  So much is wrong.","body":"Yes and no.  But more importantly I think that you should follow a jdbc tutorial.  For example when doing an INSERT you need to provide that data that you want inserted.  When doing a delete your sql is incorrect.  When doing a select you are using the wrong java method.  So much is wrong."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668044385,"post_id":74383060,"comment_id":131314425,"body_markdown":"oh my mistake\nI&#39;m pretty sure I need to provide data to insert data.\nAnd when I provide data, I think I have to do something like ps.setString = ps(1, attribute), but what is the best way to do it in this source code?","body":"oh my mistake I&#39;m pretty sure I need to provide data to insert data. And when I provide data, I think I have to do something like ps.setString = ps(1, attribute), but what is the best way to do it in this source code?"},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668044453,"post_id":74383060,"comment_id":131314431,"body_markdown":"If I want to delete each attribute, how should I write the sql statement?","body":"If I want to delete each attribute, how should I write the sql statement?"},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045027,"post_id":74383060,"comment_id":131314509,"body_markdown":"The basic form of the sql statement&#39;s deletion method is &quot;DELETE [FROM] table name\nI know it&#39;s a WHERE condition&quot;, but I&#39;m asking again if I want to make each attribute deleteable.","body":"The basic form of the sql statement&#39;s deletion method is &quot;DELETE [FROM] table name I know it&#39;s a WHERE condition&quot;, but I&#39;m asking again if I want to make each attribute deleteable."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045073,"post_id":74383060,"comment_id":131314517,"body_markdown":"I&#39;m really sorry if it looks hasty.","body":"I&#39;m really sorry if it looks hasty."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668045293,"post_id":74383060,"comment_id":131314544,"body_markdown":"*I want to make each attribute deleteable.* - I have no idea what you mean.  Rows from a table are deleted.","body":"<i>I want to make each attribute deleteable.</i> - I have no idea what you mean.  Rows from a table are deleted."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045467,"post_id":74383060,"comment_id":131314570,"body_markdown":"oh,I see.....I was trying to ask how to make each column in the table be deleted.","body":"oh,I see.....I was trying to ask how to make each column in the table be deleted."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668045923,"post_id":74383060,"comment_id":131314625,"body_markdown":"why would you want to do this?  Table manipulation is not something that is generally done using java.  Use the mysql client program.","body":"why would you want to do this?  Table manipulation is not something that is generally done using java.  Use the mysql client program."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668046427,"post_id":74383060,"comment_id":131314705,"body_markdown":"I see.. I want the basic table to appear on the gui screen, and when data is manipulated, the result is displayed on the gui screen.\nCan data manipulation results be displayed in the gui with only sql statements and not java?","body":"I see.. I want the basic table to appear on the gui screen, and when data is manipulated, the result is displayed on the gui screen. Can data manipulation results be displayed in the gui with only sql statements and not java?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668094218,"post_id":74383060,"comment_id":131327892,"body_markdown":"Looks to me like a duplicate of this question:  https://stackoverflow.com/q/74362785/131872. The answer in that question was that your SQL statement does nothing because you don&#39;t pass any data to the PreparedStatement. Same comment here.","body":"Looks to me like a duplicate of this question:  <a href=\"https://stackoverflow.com/q/74362785/131872\">stackoverflow.com/q/74362785/131872</a>. The answer in that question was that your SQL statement does nothing because you don&#39;t pass any data to the PreparedStatement. Same comment here."}],"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668057059,"creation_date":1668042249,"question_id":74383060,"body_markdown":"I tried to implement an event when the button is pressed by attaching an action listener to the insert, edit, delete, and search buttons.\r\nIt seems that the data in the database is not properly inserted, modified, deleted, or searched because of the wrong data manipulation language.\r\nAnd I want to output the result of manipulating the database data in JTextArea.\r\nHow to modify the source code?\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.event.TableModelEvent;\r\nimport javax.swing.event.TableModelListener;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.sql.*;\r\nimport java.util.*;\r\n\r\npublic class MovieManagement extends JFrame {\r\n\tContainer c = this.getContentPane();\r\n\r\n\tpublic teamMovie2() {\r\n\t\tthis.setSize(500, 400);\r\n\t\tthis.setTitle(&quot;movie&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setDesign();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n// gui\r\n\tprivate void setDesign() {\r\n\t\tc.setLayout(new BorderLayout());\r\n\t\tJPanel pTop = new JPanel(new GridLayout(0, 1));\r\n\t\tJPanel p1 = new JPanel(new FlowLayout());\r\n\t\tJPanel p2 = new JPanel(new FlowLayout());\r\n\t\tJPanel p3 = new JPanel(new FlowLayout());\r\n\t\tJPanel p4 = new JPanel(new FlowLayout());\r\n\t\tJPanel p5 = new JPanel(new FlowLayout());\r\n\t\t// p1\r\n\t\tJLabel title = new JLabel(&quot;title&quot;);\r\n\t\tJTextField title_tf = new JTextField(20);\r\n\t\tp1.add(title);\r\n\t\tp1.add(title_tf);\r\n\t\t// p2\r\n\t\tJLabel director = new JLabel(&quot;director&quot;);\r\n\t\tJTextField director_tf = new JTextField(20);\r\n\r\n\t\tJLabel genre = new JLabel(&quot;genre&quot;);\r\n\t\tString[] combGName = { &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; };\r\n\t\tJComboBox&lt;String&gt; combG = new JComboBox&lt;String&gt;(combGName);\r\n\r\n\t\tJLabel time = new JLabel(&quot;time&quot;);\r\n\t\tString[] combTName = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot;};\r\n\t\tJComboBox&lt;String&gt; combT = new JComboBox&lt;String&gt;(combTName);\r\n\r\n\t\tJLabel mainActor = new JLabel(&quot;mainActor&quot;);\r\n\t\tJTextField mainActor_tf = new JTextField(20);\r\n\r\n\t\tJLabel rating = new JLabel(&quot;rating&quot;);\r\n\t\tString[] combRName = { &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; };\r\n\t\tJComboBox&lt;String&gt; combR = new JComboBox&lt;String&gt;(combRName);\r\n\r\n\t\tJLabel country = new JLabel(&quot;country&quot;);\r\n\t\tString[] combCName = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; };\r\n\t\tJComboBox&lt;String&gt; combC = new JComboBox&lt;String&gt;(combCName);\r\n\r\n\t\tp2.add(director);\r\n\t\tp2.add(director_tf);\r\n\t\tp2.add(genre);\r\n\t\tp2.add(combG);\r\n\t\tp2.add(time);\r\n\t\tp2.add(combT);\r\n\t\tp2.add(mainActor);\r\n\t\tp2.add(mainActor_tf);\r\n\t\tp2.add(rating);\r\n\t\tp2.add(combR);\r\n\t\tp2.add(country);\r\n\t\tp2.add(combC);\r\n\t\t// p3\r\n\t\tJButton btn1 = new JButton(&quot;insert&quot;);\r\n\t\tJButton btn2 = new JButton(&quot;update&quot;);\r\n\t\tJButton btn3 = new JButton(&quot;delete&quot;);\r\n\t\tp3.add(btn1);\r\n\t\tp3.add(btn2);\r\n\t\tp3.add(btn3);\r\n\t\t// p4\r\n\t\tJTextArea ta = new JTextArea(10, 40);\r\n\t\tBorder border = BorderFactory.createLineBorder(Color.BLACK);\r\n\t\tta.setBorder(BorderFactory.createCompoundBorder(border, BorderFactory.createEmptyBorder(5, 5, 5, 5)));\r\n\t\tp4.add(new JScrollPane(ta));\r\n\t\t// p5\r\n\t\tJButton seb = new JButton(&quot;search&quot;);\r\n\t\tp5.add(seb);\r\n\t\t// add panel to contentpane\r\n\t\tpTop.add(p1);\r\n\t\tpTop.add(p2);\r\n\t\tpTop.add(p3);\r\n\t\tc.add(pTop, BorderLayout.NORTH);\r\n\t\tc.add(p4, BorderLayout.CENTER);\r\n\t\tc.add(p5, BorderLayout.SOUTH);\r\n\r\n\t\t// data insert\r\n\t\tbtn1.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJButton btn1  = (JButton)e.getSource();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\tString sql = &quot;INSERT INTO management VALUES (?,?,?,?,?,?,?)&quot;;\r\n\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t}\r\n\t\t\t\t catch (ClassNotFoundException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t} catch (SQLException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// data update\r\n\t\tbtn2.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJButton btn2  = (JButton)e.getSource();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\tString sql = &quot;UPDATE management SET WHERE&quot;;\r\n\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t}\r\n\t\t\t\t catch (ClassNotFoundException e2) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t} catch (SQLException e2) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// data delete\r\n\t\t\t\tbtn3.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tJButton btn3  = (JButton)e.getSource();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\t\t\tString sql = &quot;DELETE FROM management WHERE&quot;;\r\n\t\t\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t catch (ClassNotFoundException e3) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te3.printStackTrace();\r\n\t\t\t\t\t\t} catch (SQLException e3) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te3.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// data search\r\n\t\t\t\tbtn4.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tJButton btn4  = (JButton)e.getSource();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\t\t\tString sql = &quot;SELECT * FROM management&quot;;\r\n\t\t\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t catch (ClassNotFoundException e4) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te4.printStackTrace();\r\n\t\t\t\t\t\t} catch (SQLException e4) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te4.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t}\r\n\r\n\t// VO \r\n\tclass MovieModel {\r\n\t\tString title; \r\n\t\tString director; \r\n\t\tString mainActor; \r\n\t\tString[] genre = {  &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; }; // genre\r\n\t\tString[] time = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot; }; // running time\r\n\t\tString[] rating = {  &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; }; // firm rating\r\n\t\tString[] country = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; }; // country\r\n\r\n\t\tMovieModel(String title, String director, String[] genre, String[] time, String main_actor, String[] rating,\r\n\t\t\t\tString[] country) {\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.director = director;\r\n\t\t\tthis.genre = genre;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.mainActor = main_actor;\r\n\t\t\tthis.rating = rating;\r\n\t\t\tthis.country = country;\r\n\r\n\t\t}\r\n\r\n\t\tpublic class MovieDAO {\r\n\t\t\t\r\n\t\t\tConnection con = null;\r\n\t\t\t\r\n\t\t\tStatement stmt = null;\r\n\t\t\t\r\n\t\t\tPreparedStatement ps = null;\r\n\t\t\t\r\n\t\t\tResultSet rs = null;\r\n\r\n\t\t\t// DB connect \r\n\t\t\tpublic Connection makeConnection() {\r\n\t\t\t\tString url = &quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;;\r\n\t\t\t\tString id = &quot;root&quot;;\r\n\t\t\t\tString password = &quot;1234&quot;;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;drive loading success&quot;);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url, id, password);\r\n\t\t\t\t\tSystem.out.println(&quot;Database connection successful&quot;);\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Driver not found&quot;);\r\n\t\t\t\t\te.getStackTrace();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Connection failed&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;SQLEXception&quot; + e.getMessage());\r\n\t\t\t\t\tSystem.out.println(&quot;SQLState&quot; + e.getSQLState());\r\n\t\t\t\t\tSystem.out.println(&quot;VendorError&quot; + e.getErrorCode());\r\n\t\t\t\t}\r\n\t\t\t\treturn con;\r\n\t\t\t}\r\n\r\n\t\t\t/* DB close */\r\n\t\t\tpublic void disConnection() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (rs != null)\r\n\t\t\t\t\t\trs.close();\r\n\t\t\t\t\tif (stmt != null)\r\n\t\t\t\t\t\tstmt.close();\r\n\t\t\t\t\tif (ps != null)\r\n\t\t\t\t\t\tps.close();\r\n\t\t\t\t\tif (con != null)\r\n\t\t\t\t\t\tcon.close();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MovieManagement();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI googled mysql data manipulation language.","title":"How to make data insertion, modification, deletion, and search by pressing the j button in the jdbc program?","body":"<p>I tried to implement an event when the button is pressed by attaching an action listener to the insert, edit, delete, and search buttons.\nIt seems that the data in the database is not properly inserted, modified, deleted, or searched because of the wrong data manipulation language.\nAnd I want to output the result of manipulating the database data in JTextArea.\nHow to modify the source code?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.event.TableModelEvent;\nimport javax.swing.event.TableModelListener;\nimport javax.swing.table.DefaultTableModel;\nimport java.sql.*;\nimport java.util.*;\n\npublic class MovieManagement extends JFrame {\n    Container c = this.getContentPane();\n\n    public teamMovie2() {\n        this.setSize(500, 400);\n        this.setTitle(&quot;movie&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setDesign();\n        this.setVisible(true);\n    }\n\n// gui\n    private void setDesign() {\n        c.setLayout(new BorderLayout());\n        JPanel pTop = new JPanel(new GridLayout(0, 1));\n        JPanel p1 = new JPanel(new FlowLayout());\n        JPanel p2 = new JPanel(new FlowLayout());\n        JPanel p3 = new JPanel(new FlowLayout());\n        JPanel p4 = new JPanel(new FlowLayout());\n        JPanel p5 = new JPanel(new FlowLayout());\n        // p1\n        JLabel title = new JLabel(&quot;title&quot;);\n        JTextField title_tf = new JTextField(20);\n        p1.add(title);\n        p1.add(title_tf);\n        // p2\n        JLabel director = new JLabel(&quot;director&quot;);\n        JTextField director_tf = new JTextField(20);\n\n        JLabel genre = new JLabel(&quot;genre&quot;);\n        String[] combGName = { &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; };\n        JComboBox&lt;String&gt; combG = new JComboBox&lt;String&gt;(combGName);\n\n        JLabel time = new JLabel(&quot;time&quot;);\n        String[] combTName = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot;};\n        JComboBox&lt;String&gt; combT = new JComboBox&lt;String&gt;(combTName);\n\n        JLabel mainActor = new JLabel(&quot;mainActor&quot;);\n        JTextField mainActor_tf = new JTextField(20);\n\n        JLabel rating = new JLabel(&quot;rating&quot;);\n        String[] combRName = { &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; };\n        JComboBox&lt;String&gt; combR = new JComboBox&lt;String&gt;(combRName);\n\n        JLabel country = new JLabel(&quot;country&quot;);\n        String[] combCName = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; };\n        JComboBox&lt;String&gt; combC = new JComboBox&lt;String&gt;(combCName);\n\n        p2.add(director);\n        p2.add(director_tf);\n        p2.add(genre);\n        p2.add(combG);\n        p2.add(time);\n        p2.add(combT);\n        p2.add(mainActor);\n        p2.add(mainActor_tf);\n        p2.add(rating);\n        p2.add(combR);\n        p2.add(country);\n        p2.add(combC);\n        // p3\n        JButton btn1 = new JButton(&quot;insert&quot;);\n        JButton btn2 = new JButton(&quot;update&quot;);\n        JButton btn3 = new JButton(&quot;delete&quot;);\n        p3.add(btn1);\n        p3.add(btn2);\n        p3.add(btn3);\n        // p4\n        JTextArea ta = new JTextArea(10, 40);\n        Border border = BorderFactory.createLineBorder(Color.BLACK);\n        ta.setBorder(BorderFactory.createCompoundBorder(border, BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        p4.add(new JScrollPane(ta));\n        // p5\n        JButton seb = new JButton(&quot;search&quot;);\n        p5.add(seb);\n        // add panel to contentpane\n        pTop.add(p1);\n        pTop.add(p2);\n        pTop.add(p3);\n        c.add(pTop, BorderLayout.NORTH);\n        c.add(p4, BorderLayout.CENTER);\n        c.add(p5, BorderLayout.SOUTH);\n\n        // data insert\n        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JButton btn1  = (JButton)e.getSource();\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                    String sql = &quot;INSERT INTO management VALUES (?,?,?,?,?,?,?)&quot;;\n                    PreparedStatement ps = con.prepareStatement(sql);\n                    ps.executeUpdate();\n                }\n                 catch (ClassNotFoundException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                } catch (SQLException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n        });\n\n        // data update\n        btn2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JButton btn2  = (JButton)e.getSource();\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                    String sql = &quot;UPDATE management SET WHERE&quot;;\n                    PreparedStatement ps = con.prepareStatement(sql);\n                    ps.executeUpdate();\n                }\n                 catch (ClassNotFoundException e2) {\n                    // TODO Auto-generated catch block\n                    e2.printStackTrace();\n                } catch (SQLException e2) {\n                    // TODO Auto-generated catch block\n                    e2.printStackTrace();\n                }\n            }\n        });\n        \n        // data delete\n                btn3.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        JButton btn3  = (JButton)e.getSource();\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                            String sql = &quot;DELETE FROM management WHERE&quot;;\n                            PreparedStatement ps = con.prepareStatement(sql);\n                            ps.executeUpdate();\n                        }\n                         catch (ClassNotFoundException e3) {\n                            // TODO Auto-generated catch block\n                            e3.printStackTrace();\n                        } catch (SQLException e3) {\n                            // TODO Auto-generated catch block\n                            e3.printStackTrace();\n                        }\n                    }\n                });\n                \n                // data search\n                btn4.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        JButton btn4  = (JButton)e.getSource();\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                            String sql = &quot;SELECT * FROM management&quot;;\n                            PreparedStatement ps = con.prepareStatement(sql);\n                            ps.executeUpdate();\n                        }\n                         catch (ClassNotFoundException e4) {\n                            // TODO Auto-generated catch block\n                            e4.printStackTrace();\n                        } catch (SQLException e4) {\n                            // TODO Auto-generated catch block\n                            e4.printStackTrace();\n                        }\n                    }\n                });\n\n    }\n\n    // VO \n    class MovieModel {\n        String title; \n        String director; \n        String mainActor; \n        String[] genre = {  &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; }; // genre\n        String[] time = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot; }; // running time\n        String[] rating = {  &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; }; // firm rating\n        String[] country = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; }; // country\n\n        MovieModel(String title, String director, String[] genre, String[] time, String main_actor, String[] rating,\n                String[] country) {\n            this.title = title;\n            this.director = director;\n            this.genre = genre;\n            this.time = time;\n            this.mainActor = main_actor;\n            this.rating = rating;\n            this.country = country;\n\n        }\n\n        public class MovieDAO {\n            \n            Connection con = null;\n            \n            Statement stmt = null;\n            \n            PreparedStatement ps = null;\n            \n            ResultSet rs = null;\n\n            // DB connect \n            public Connection makeConnection() {\n                String url = &quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;;\n                String id = &quot;root&quot;;\n                String password = &quot;1234&quot;;\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    System.out.println(&quot;drive loading success&quot;);\n                    con = DriverManager.getConnection(url, id, password);\n                    System.out.println(&quot;Database connection successful&quot;);\n                } catch (ClassNotFoundException e) {\n                    System.out.println(&quot;Driver not found&quot;);\n                    e.getStackTrace();\n                } catch (SQLException e) {\n                    System.out.println(&quot;Connection failed&quot;);\n                    System.out.println(&quot;SQLEXception&quot; + e.getMessage());\n                    System.out.println(&quot;SQLState&quot; + e.getSQLState());\n                    System.out.println(&quot;VendorError&quot; + e.getErrorCode());\n                }\n                return con;\n            }\n\n            /* DB close */\n            public void disConnection() {\n                try {\n                    if (rs != null)\n                        rs.close();\n                    if (stmt != null)\n                        stmt.close();\n                    if (ps != null)\n                        ps.close();\n                    if (con != null)\n                        con.close();\n                } catch (SQLException e) {\n                    System.out.println(e.getMessage());\n                }\n            }\n\n        }\n    }\n\n    \n\n    public static void main(String[] args) {\n        new MovieManagement();\n    }\n}\n</code></pre>\n<p>I googled mysql data manipulation language.</p>\n"},{"tags":["java","apache-poi","conditional-formatting"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667982902,"post_id":74370667,"comment_id":131295158,"body_markdown":"How would you do it in Excel? If you do it in Excel, save the file as XLSX and unzip the file, how did Excel encode it?","body":"How would you do it in Excel? If you do it in Excel, save the file as XLSX and unzip the file, how did Excel encode it?"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667984348,"post_id":74370667,"comment_id":131295630,"body_markdown":"in excel I did it manually with these test data and colored to red for reference. I am looking for a solution using conditional formatting in java","body":"in excel I did it manually with these test data and colored to red for reference. I am looking for a solution using conditional formatting in java"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667986679,"post_id":74370667,"comment_id":131296475,"body_markdown":"Save the file from Excel which is doing it right, then rename `.xlsx` to `.zip` and unzip, then check what Excel did. That will guide you to what you need to do in Apache POI","body":"Save the file from Excel which is doing it right, then rename <code>.xlsx</code> to <code>.zip</code> and unzip, then check what Excel did. That will guide you to what you need to do in Apache POI"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667988153,"post_id":74370667,"comment_id":131296979,"body_markdown":"Actually, i am trying to generate xlsx file from java","body":"Actually, i am trying to generate xlsx file from java"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667989836,"post_id":74370667,"comment_id":131297573,"body_markdown":"In order to see what you need to tell Apache POI to do, often the easiest way is to see what Excel itself does. So follow my advice above and do that!","body":"In order to see what you need to tell Apache POI to do, often the easiest way is to see what Excel itself does. So follow my advice above and do that!"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667991284,"post_id":74370667,"comment_id":131298072,"body_markdown":"Thanks Gargavar will check on that.. FYI This excel formula worked =ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(B3,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),H$4:H$7,0)))  but trying to translate that into java code that&#39;s where i got stuck. For reference ( https://stackoverflow.com/questions/74362810/excel-to-check-if-comma-separated-value-in-cell-contains-allowed-values-in-list/74363109#74363109 )","body":"Thanks Gargavar will check on that.. FYI This excel formula worked =ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(B3,&quot;,&quot;,&quot;&lt;/s&zwnj;&#8203;&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;/&zwnj;&#8203;/s&quot;),H$4:H$7,0)))  but trying to translate that into java code that&#39;s where i got stuck. For reference ( <a href=\"https://stackoverflow.com/questions/74362810/excel-to-check-if-comma-separated-value-in-cell-contains-allowed-values-in-list/74363109#74363109\" title=\"excel to check if comma separated value in cell contains allowed values in list\">stackoverflow.com/questions/74362810/&hellip;</a> )"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1667996570,"post_id":74370667,"comment_id":131299928,"body_markdown":"Do you want to save a conditional format inside excel (so that it changes dynamically when you manually change the data) or do you want to format the sheet in Java depending on the values that are filled in the cells at the time of creation, but the formatting doesn&#39;t change when you change the value in Excel?","body":"Do you want to save a conditional format inside excel (so that it changes dynamically when you manually change the data) or do you want to format the sheet in Java depending on the values that are filled in the cells at the time of creation, but the formatting doesn&#39;t change when you change the value in Excel?"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1668006159,"post_id":74370667,"comment_id":131303629,"body_markdown":"@cyberbrain  Yes..conditional format inside excel (so that it changes dynamically when you manually change the data).     I am creating this excel in java by including conditional format as well.  So in the generated excel,if someone  enter a incorrect value it should be highlighted be in RED.","body":"@cyberbrain  Yes..conditional format inside excel (so that it changes dynamically when you manually change the data).     I am creating this excel in java by including conditional format as well.  So in the generated excel,if someone  enter a incorrect value it should be highlighted be in RED."}],"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668056729,"creation_date":1667974964,"question_id":74370667,"body_markdown":"I am trying to generate xlsx file with conditional formatting using apache.poi in java.  If comma-separated string values are not present, then in excel cell then I need to highlight red colour.\r\n\r\nSomething like this for reference\r\n\r\nHere these are the **possible values =&quot;TX,NC,AZ,CA&quot;**, If anything other than these entered in cell. It should be highlighted. Entered value in excel can be single or comma-separated as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\n\t\t\tString possiblevalues =&quot;TX,NC,AZ,CA&quot;;\r\n\t\t\t\r\n\t\t\tConditionalFormattingRule rule11 = sheetCF.createConditionalFormattingRule(&lt;&lt;&gt;&gt;);\r\n\t\t\torg.apache.poi.ss.usermodel.FontFormatting font11 = rule11.createFontFormatting();\r\n\t\t\tfont11.setFontStyle(false, true);\r\n\t\t\tfont11.setFontColorIndex(IndexedColors.RED.index);\r\n\t\t\tString cellrangeadd1 = &quot;A4:A100&quot;;\r\n\t\t\tCellRangeAddress[] regions1 = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd1) };\r\n\t\t\tsheetCF.addConditionalFormatting(regions1, rule11);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G7wiw.png\r\n\r\n\r\nIs there any conditional formatting rule to compare and validate from comma separated string value ?","title":"Apache POI Conditional formatting for comma separated values mismatch","body":"<p>I am trying to generate xlsx file with conditional formatting using apache.poi in java.  If comma-separated string values are not present, then in excel cell then I need to highlight red colour.</p>\n<p>Something like this for reference</p>\n<p>Here these are the <strong>possible values =&quot;TX,NC,AZ,CA&quot;</strong>, If anything other than these entered in cell. It should be highlighted. Entered value in excel can be single or comma-separated as well.</p>\n<p><a href=\"https://i.stack.imgur.com/G7wiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G7wiw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>            String possiblevalues =&quot;TX,NC,AZ,CA&quot;;\n            \n            ConditionalFormattingRule rule11 = sheetCF.createConditionalFormattingRule(&lt;&lt;&gt;&gt;);\n            org.apache.poi.ss.usermodel.FontFormatting font11 = rule11.createFontFormatting();\n            font11.setFontStyle(false, true);\n            font11.setFontColorIndex(IndexedColors.RED.index);\n            String cellrangeadd1 = &quot;A4:A100&quot;;\n            CellRangeAddress[] regions1 = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd1) };\n            sheetCF.addConditionalFormatting(regions1, rule11);\n</code></pre>\n<p>Is there any conditional formatting rule to compare and validate from comma separated string value ?</p>\n"},{"tags":["java","apache-spark","spark-streaming","apache-pulsar"],"comments":[{"owner":{"account_id":19075364,"reputation":444,"user_id":13928752,"display_name":"RakeshV"},"score":0,"creation_date":1695120783,"post_id":74384351,"comment_id":135978831,"body_markdown":"I am also looking answer for this, for me its because pulsar allows schema evolution but using `streamnative` connector spark or not sure what messes up with pulsar schema versioning. schema evolution works with pulsar python client and java client.","body":"I am also looking answer for this, for me its because pulsar allows schema evolution but using <code>streamnative</code> connector spark or not sure what messes up with pulsar schema versioning. schema evolution works with pulsar python client and java client."}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668056518,"creation_date":1668056518,"question_id":74384351,"body_markdown":"There are 2 approaches of integrating apache kafka with apache spark as mentioned [here][1] with pros and cons.\r\n\r\nFrom what i have read there are 2 spark connector for apache pulsar\r\n1. [org.apache.pulsar:pulsar-spark][2]\r\n2. [io.streamnative.connectors:pulsar-spark-connector_2.12][3]\r\n\r\nCan someone please help me understand if \r\n1. they are following receiver based approach or direct approach? \r\n2. What is the core difference between both the connectors? \r\n3. Is there a possibility of data loss if my job fails while it is processing some batch.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.4.5/streaming-kafka-0-8-integration.html\r\n  [2]: https://pulsar.apache.org/docs/adaptors-spark/\r\n  [3]: https://github.com/streamnative/pulsar-spark/tree/3.1.1.4","title":"apache pulsar Direct approach with Apache spark","body":"<p>There are 2 approaches of integrating apache kafka with apache spark as mentioned <a href=\"https://spark.apache.org/docs/2.4.5/streaming-kafka-0-8-integration.html\" rel=\"nofollow noreferrer\">here</a> with pros and cons.</p>\n<p>From what i have read there are 2 spark connector for apache pulsar</p>\n<ol>\n<li><a href=\"https://pulsar.apache.org/docs/adaptors-spark/\" rel=\"nofollow noreferrer\">org.apache.pulsar:pulsar-spark</a></li>\n<li><a href=\"https://github.com/streamnative/pulsar-spark/tree/3.1.1.4\" rel=\"nofollow noreferrer\">io.streamnative.connectors:pulsar-spark-connector_2.12</a></li>\n</ol>\n<p>Can someone please help me understand if</p>\n<ol>\n<li>they are following receiver based approach or direct approach?</li>\n<li>What is the core difference between both the connectors?</li>\n<li>Is there a possibility of data loss if my job fails while it is processing some batch.</li>\n</ol>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1668021795,"post_id":74380270,"comment_id":131309302,"body_markdown":"It&#39;s unclear how all the stubbing you have done is involved in the actual method you invoke.  What is `treatmentOrderService`?  How is it initialized?  Does it contain the actual objects that you have stubbed in this method?","body":"It&#39;s unclear how all the stubbing you have done is involved in the actual method you invoke.  What is <code>treatmentOrderService</code>?  How is it initialized?  Does it contain the actual objects that you have stubbed in this method?"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668022601,"post_id":74380270,"comment_id":131309540,"body_markdown":"treatmentOrderService added","body":"treatmentOrderService added"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668023105,"post_id":74380270,"comment_id":131309679,"body_markdown":"Have you stepped through with a debugger, to identify which line it is actually getting stuck at ?","body":"Have you stepped through with a debugger, to identify which line it is actually getting stuck at ?"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668025263,"post_id":74380270,"comment_id":131310322,"body_markdown":"added the debug result","body":"added the debug result"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1668044209,"post_id":74380270,"comment_id":131314403,"body_markdown":"You only mock `.get()`, not `.join()`, which will still wait the result is there (that is... never).","body":"You only mock <code>.get()</code>, not <code>.join()</code>, which will still wait the result is there (that is... never)."}],"answers":[{"tags":[],"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668028282,"creation_date":1668025815,"answer_id":74381025,"question_id":74380270,"body_markdown":"Try to rewrite this part\r\n\r\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(hdFuture.get()).thenThrow(new InterruptedException())\r\n\r\nas\r\n\r\n    doThrow(InterruptedException.class).when(hdFuture).get();\r\n\r\nThe same for the other spy:\r\n\r\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(pdFuture.get()).thenThrow(new InterruptedException());\r\n\r\nas\r\n\r\n    doThrow(InterruptedException.class).when(pdFuture).get();","title":"test method is running infinitely until i forcebly stop it","body":"<p>Try to rewrite this part</p>\n<pre><code>CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\nwhen(hdFuture.get()).thenThrow(new InterruptedException())\n</code></pre>\n<p>as</p>\n<pre><code>doThrow(InterruptedException.class).when(hdFuture).get();\n</code></pre>\n<p>The same for the other spy:</p>\n<pre><code>CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\nwhen(pdFuture.get()).thenThrow(new InterruptedException());\n</code></pre>\n<p>as</p>\n<pre><code>doThrow(InterruptedException.class).when(pdFuture).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668043480,"creation_date":1668043480,"answer_id":74383182,"question_id":74380270,"body_markdown":"When spying on the `CompletableFuture`s like that, they don&#39;t seem to be considered &quot;completed&quot; by `CompletableFuture.join()`.\r\n\r\nI think what you should use instead is:\r\n\r\n    when(hdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\r\n    when(pdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\r\n\r\nand you don&#39;t need the `hdFuture` and `pdFuture` spies.\r\n\r\nYour exception handling in `TreatmentOrderService` may need fixing, but the test completes instead of hanging.","title":"test method is running infinitely until i forcebly stop it","body":"<p>When spying on the <code>CompletableFuture</code>s like that, they don't seem to be considered &quot;completed&quot; by <code>CompletableFuture.join()</code>.</p>\n<p>I think what you should use instead is:</p>\n<pre><code>when(hdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\nwhen(pdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\n</code></pre>\n<p>and you don't need the <code>hdFuture</code> and <code>pdFuture</code> spies.</p>\n<p>Your exception handling in <code>TreatmentOrderService</code> may need fixing, but the test completes instead of hanging.</p>\n"},{"tags":[],"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668044490,"creation_date":1668044099,"answer_id":74383226,"question_id":74380270,"body_markdown":"Actually, there is probably no need for the `CompletableFuture.join()`. Since you&#39;re doing the `.get()`s in the next line, the thread will block at that point until the futures complete one way or another anyway.\r\n\r\nSimply removing the `CompletableFuture.allOf(...).join()` lines (and the modifications recommended by @pzelenovic) result in the test passing (except for unnecessary stubbings...).","title":"test method is running infinitely until i forcebly stop it","body":"<p>Actually, there is probably no need for the <code>CompletableFuture.join()</code>. Since you're doing the <code>.get()</code>s in the next line, the thread will block at that point until the futures complete one way or another anyway.</p>\n<p>Simply removing the <code>CompletableFuture.allOf(...).join()</code> lines (and the modifications recommended by @pzelenovic) result in the test passing (except for unnecessary stubbings...).</p>\n"}],"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668054800,"creation_date":1668021478,"question_id":74380270,"body_markdown":"```\r\n@Test\r\nvoid interruptedExceptionThrownByCompletableFutures() throws InterruptedException, ExecutionException {\r\n    //given\r\n    when(patientsClient.getPatientTreatmentDetails(RPT_TOKEN, &quot;123&quot;, CLINICAL_ID))\r\n            .thenReturn(createPatientTreatmentDetails());\r\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(hdFuture.get()).thenThrow(new InterruptedException());\r\n\r\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(pdFuture.get()).thenThrow(new InterruptedException());\r\n\r\n    when(hdService.getData(any(), any())).thenReturn(hdFuture);\r\n    when(pdService.getData(any(), any())).thenReturn(pdFuture);\r\n\r\n    when(tDService.getData(RPT_TOKEN,\r\n            &quot;123&quot;, filter)).thenReturn(CompletableFuture.completedFuture(new PatientTreatmentDetails()));\r\n    //then\r\n    assertThrows(PatientOrderException.class, () -&gt; treatmentOrderService.getTreatmentOrders(&quot;123&quot;, filter, RPT_TOKEN));\r\n}\r\n\r\n\r\n```\r\nThis is treatMentOrderService\r\npublic class TreatmentOrderService {\r\n\r\n    private final HDTreatmentOrderService hdService;\r\n    private final PDTreatmentOrderService pdService;\r\n    private final TreatmentDetailsService tDService;\r\n    private final TreatmentOrderTransform transformer;\r\n    private final DenodoLastTreatmentDetailsService denodoLastTreatmentDetailsService;\r\n\r\n   \r\n        CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = pdService.getData(mpi, filter);\r\n        try {\r\n            if (filter.isIncludeTreatmentDetails() &amp;&amp; StringUtils.isNotEmpty(filter.getClinicId())) {\r\n                CompletableFuture&lt;PatientTreatmentDetails&gt; tDFuture = tDService.getData(rptToken, mpi, filter);\r\n                CompletableFuture.allOf(hdFuture, pdFuture, tDFuture).join();\r\n                return transformer.transform(hdFuture.get(), pdFuture.get(), tDFuture.get(), filter);\r\n            } else {\r\n                CompletableFuture.allOf(hdFuture, pdFuture).join();\r\n                return transformer.transform(hdFuture.get(), pdFuture.get(), null, filter);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            log.error(&quot;InterruptedException: &quot;, e);\r\n            Thread.currentThread().interrupt();\r\n            throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\r\n        } catch (ExecutionException e) {\r\n            log.error(&quot;ExecutionException: &quot;, e);\r\n            throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nNov 09, 2022 12:44:51 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\nINFO: 0 containers and 20 tests were Method or class mismatch\r\n\r\n\r\nPatientTreatmentDetails cannot be returned by toString()\r\ntoString() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nPatientTreatmentDetails cannot be returned by toString()\r\ntoString() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n\tat app//com.davita.ehr.orders.patientorder.service.TreatmentOrderServiceTest.setup(TreatmentOrderServiceTest.java:84)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:76)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:506)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$21(ClassBasedTestDescriptor.java:491)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:168)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n\r\nDisconnected from the target VM, address: &#39;localhost:51661&#39;, transport: &#39;socket&#39;\r\nTreatmentOrderServiceTest &gt; interruptedExceptionThrownByCompletableFutures() FAILED\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue at TreatmentOrderServiceTest.java:84\r\n```\r\n\r\n-&gt; This test is not executing and when i run this individually this is running continuously until i stop. i&#39;m thinking there is some thing wrong with this test especially the completable future with spy.\r\n\r\nusing java 17\r\nspringboot 2.6.6\r\njunit 5\r\ngradle 7.4.2","title":"test method is running infinitely until i forcebly stop it","body":"<pre><code>@Test\nvoid interruptedExceptionThrownByCompletableFutures() throws InterruptedException, ExecutionException {\n    //given\n    when(patientsClient.getPatientTreatmentDetails(RPT_TOKEN, &quot;123&quot;, CLINICAL_ID))\n            .thenReturn(createPatientTreatmentDetails());\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\n    when(hdFuture.get()).thenThrow(new InterruptedException());\n\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\n    when(pdFuture.get()).thenThrow(new InterruptedException());\n\n    when(hdService.getData(any(), any())).thenReturn(hdFuture);\n    when(pdService.getData(any(), any())).thenReturn(pdFuture);\n\n    when(tDService.getData(RPT_TOKEN,\n            &quot;123&quot;, filter)).thenReturn(CompletableFuture.completedFuture(new PatientTreatmentDetails()));\n    //then\n    assertThrows(PatientOrderException.class, () -&gt; treatmentOrderService.getTreatmentOrders(&quot;123&quot;, filter, RPT_TOKEN));\n}\n\n\n</code></pre>\n<p>This is treatMentOrderService\npublic class TreatmentOrderService {</p>\n<pre><code>private final HDTreatmentOrderService hdService;\nprivate final PDTreatmentOrderService pdService;\nprivate final TreatmentDetailsService tDService;\nprivate final TreatmentOrderTransform transformer;\nprivate final DenodoLastTreatmentDetailsService denodoLastTreatmentDetailsService;\n\n\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = pdService.getData(mpi, filter);\n    try {\n        if (filter.isIncludeTreatmentDetails() &amp;&amp; StringUtils.isNotEmpty(filter.getClinicId())) {\n            CompletableFuture&lt;PatientTreatmentDetails&gt; tDFuture = tDService.getData(rptToken, mpi, filter);\n            CompletableFuture.allOf(hdFuture, pdFuture, tDFuture).join();\n            return transformer.transform(hdFuture.get(), pdFuture.get(), tDFuture.get(), filter);\n        } else {\n            CompletableFuture.allOf(hdFuture, pdFuture).join();\n            return transformer.transform(hdFuture.get(), pdFuture.get(), null, filter);\n        }\n    } catch (InterruptedException e) {\n        log.error(&quot;InterruptedException: &quot;, e);\n        Thread.currentThread().interrupt();\n        throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\n    } catch (ExecutionException e) {\n        log.error(&quot;ExecutionException: &quot;, e);\n        throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>Nov 09, 2022 12:44:51 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 20 tests were Method or class mismatch\n\n\nPatientTreatmentDetails cannot be returned by toString()\ntoString() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nPatientTreatmentDetails cannot be returned by toString()\ntoString() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n    at app//com.davita.ehr.orders.patientorder.service.TreatmentOrderServiceTest.setup(TreatmentOrderServiceTest.java:84)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:76)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:506)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$21(ClassBasedTestDescriptor.java:491)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:168)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n\nDisconnected from the target VM, address: 'localhost:51661', transport: 'socket'\nTreatmentOrderServiceTest &gt; interruptedExceptionThrownByCompletableFutures() FAILED\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue at TreatmentOrderServiceTest.java:84\n</code></pre>\n<p>-&gt; This test is not executing and when i run this individually this is running continuously until i stop. i'm thinking there is some thing wrong with this test especially the completable future with spy.</p>\n<p>using java 17\nspringboot 2.6.6\njunit 5\ngradle 7.4.2</p>\n"},{"tags":["java","java-native-interface","jvmti"],"answers":[{"tags":[],"owner":{"account_id":906468,"reputation":263,"user_id":941261,"accept_rate":14,"display_name":"brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668054711,"creation_date":1668054711,"answer_id":74384173,"question_id":74379625,"body_markdown":"FYI, wrapping the shared global variables in another shared library (.so) file solved my problem.","title":"Is it possible for one Java native agent to access symbols exposed by another Java native agent?","body":"<p>FYI, wrapping the shared global variables in another shared library (.so) file solved my problem.</p>\n"}],"owner":{"account_id":906468,"reputation":263,"user_id":941261,"accept_rate":14,"display_name":"brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668054711,"creation_date":1668017805,"question_id":74379625,"body_markdown":"I have two Java native agents to be used via the &quot;-agentpath&quot; argument and I want to share some state via global variables between these two native agents. If I export a global variable in one native agent, can it be accessed by the other native agent? Thank you!","title":"Is it possible for one Java native agent to access symbols exposed by another Java native agent?","body":"<p>I have two Java native agents to be used via the &quot;-agentpath&quot; argument and I want to share some state via global variables between these two native agents. If I export a global variable in one native agent, can it be accessed by the other native agent? Thank you!</p>\n"},{"tags":["java","youtube-api","android-youtube-api"],"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668054534,"creation_date":1668054390,"question_id":74384138,"body_markdown":"I&#39;m making an app where user can increase their channel subscribers by sub4sub. But problems is that I want get all subscribers list of user channel for verify that user subscribe or not. Question is this how I can get all subscribers of user channel.\r\n\r\nBut from this code I only get user channel id not getting user subscribers list. \r\n\r\nOne more questions I want put user channel I&#39;d into hashmap\r\nPlease tell me how I can do. \r\n\r\n\r\nI tried this\r\n\r\n\r\n```\r\nprivate class GetSubscriptionTask extends AsyncTask&lt;Account, Void, List&lt;Subscription&gt;&gt; {\r\n\r\n\t\t@Override\r\n\t\tprotected List&lt;Subscription&gt; doInBackground(Account... params) {\r\n\t\t\tLog.d(TAG, &quot;doInBackground: &quot;);\r\n\t\t\ttry {\r\n\t\t\t\tGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\r\n                   LoginActivity.this,\r\n                    Collections.singleton(YouTubeScopes.YOUTUBE_READONLY));\r\n\t\t\t\tcredential.setSelectedAccount(params[0]);\r\n\r\n\t\t\t\tYouTube youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n                    .setApplicationName(&quot;Get User&#39;s Own Channel&quot;)\r\n                    .build();\r\n\r\n\t\t\t\tChannelListResponse channelListResponse = youtube\r\n                    .channels()\r\n                    .list(&quot;id,contentDetails&quot;)\r\n                    .setMine(true)\r\n                    .setFields(&quot;items(contentDetails/relatedPlaylists/uploads,id)&quot;)\r\n                    .execute();\r\n\r\n\t\t\t\t// get signed user channel id:\r\n\t\t\t\tChannel myChannel = channelListResponse.getItems().get(0);\r\n\t\t\t\tString channelId = myChannel.getId(); // this is user&#39;s channel ID\r\n\r\n\t\t\t\tLog.d(TAG, &quot;my youtube channel id: &quot; + channelId);\r\n\r\n\t\t\t\tSubscriptionListResponse connectionsResponse = youtube\r\n                    .subscriptions()\r\n                    .list(&quot;snippet&quot;)\r\n                    .setChannelId(channelId)\r\n                    .execute();\r\n\r\n\t\t\t\treturn connectionsResponse.getItems();\r\n\t\t\t} catch (UserRecoverableAuthIOException userRecoverableException) {\r\n\t\t\t\tLog.d(TAG, &quot;getSubscription:recoverable exception&quot;+userRecoverableException.getLocalizedMessage());\r\n\t\t\t\tstartActivityForResult(userRecoverableException.getIntent(), RC_RECOVERABLE);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tLog.d(TAG, &quot;getSubscription:exception&quot;+e.getLocalizedMessage());\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(List&lt;Subscription&gt; subscriptions) {\r\n\r\n\t\t\tif (subscriptions != null) {\r\n\t\t\t\tLog.d(TAG, &quot;subscriptions : size=&quot; + subscriptions.size());\r\n\t\t\t\tfor (Subscription subscription : subscriptions) {\r\n\t\t\t\t\tLog.v(TAG, &quot;subscription : &quot; + subscription.getId());\r\n\t\t\t\t\tdisplayToast(subscription.getId());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(TAG, &quot;subscriptions: null&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n","title":"How to get YouTube Channel Subscribers and set them in a recycler view like list view?","body":"<p>I'm making an app where user can increase their channel subscribers by sub4sub. But problems is that I want get all subscribers list of user channel for verify that user subscribe or not. Question is this how I can get all subscribers of user channel.</p>\n<p>But from this code I only get user channel id not getting user subscribers list.</p>\n<p>One more questions I want put user channel I'd into hashmap\nPlease tell me how I can do.</p>\n<p>I tried this</p>\n<pre><code>private class GetSubscriptionTask extends AsyncTask&lt;Account, Void, List&lt;Subscription&gt;&gt; {\n\n        @Override\n        protected List&lt;Subscription&gt; doInBackground(Account... params) {\n            Log.d(TAG, &quot;doInBackground: &quot;);\n            try {\n                GoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\n                   LoginActivity.this,\n                    Collections.singleton(YouTubeScopes.YOUTUBE_READONLY));\n                credential.setSelectedAccount(params[0]);\n\n                YouTube youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\n                    .setApplicationName(&quot;Get User's Own Channel&quot;)\n                    .build();\n\n                ChannelListResponse channelListResponse = youtube\n                    .channels()\n                    .list(&quot;id,contentDetails&quot;)\n                    .setMine(true)\n                    .setFields(&quot;items(contentDetails/relatedPlaylists/uploads,id)&quot;)\n                    .execute();\n\n                // get signed user channel id:\n                Channel myChannel = channelListResponse.getItems().get(0);\n                String channelId = myChannel.getId(); // this is user's channel ID\n\n                Log.d(TAG, &quot;my youtube channel id: &quot; + channelId);\n\n                SubscriptionListResponse connectionsResponse = youtube\n                    .subscriptions()\n                    .list(&quot;snippet&quot;)\n                    .setChannelId(channelId)\n                    .execute();\n\n                return connectionsResponse.getItems();\n            } catch (UserRecoverableAuthIOException userRecoverableException) {\n                Log.d(TAG, &quot;getSubscription:recoverable exception&quot;+userRecoverableException.getLocalizedMessage());\n                startActivityForResult(userRecoverableException.getIntent(), RC_RECOVERABLE);\n            } catch (IOException e) {\n                Log.d(TAG, &quot;getSubscription:exception&quot;+e.getLocalizedMessage());\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(List&lt;Subscription&gt; subscriptions) {\n\n            if (subscriptions != null) {\n                Log.d(TAG, &quot;subscriptions : size=&quot; + subscriptions.size());\n                for (Subscription subscription : subscriptions) {\n                    Log.v(TAG, &quot;subscription : &quot; + subscription.getId());\n                    displayToast(subscription.getId());\n                }\n            } else {\n                Log.d(TAG, &quot;subscriptions: null&quot;);\n            }\n        }\n        \n        \n    }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","maven"],"comments":[{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1668053615,"post_id":74384024,"comment_id":131315646,"body_markdown":"The null pointer is coming from your test PcBuildDaoTest.getById(PcBuildDaoTest.java:24)","body":"The null pointer is coming from your test PcBuildDaoTest.getById(PcBuildDaoTest.java:24)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1668054677,"post_id":74384024,"comment_id":131315792,"body_markdown":"You have not shared the code for `PcBuildDaoTest`","body":"You have not shared the code for <code>PcBuildDaoTest</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668070476,"post_id":74384024,"comment_id":131319316,"body_markdown":"Share the code of your failing test. Second your pom contains a mix of JUnit 4, Junit 5 etc. als using very old surefire/failsafe plugin version which do not even support JUnit 5 (surefire needs to be at least 2.22.2 better most recent version) also mixing vintage version/junit jupiter/engine version etc. better use the bom file of junit jupiter...and all the plugins you have defined in your pom are extremely old... use most recent versions... https://maven.apache.org/plugins","body":"Share the code of your failing test. Second your pom contains a mix of JUnit 4, Junit 5 etc. als using very old surefire/failsafe plugin version which do not even support JUnit 5 (surefire needs to be at least 2.22.2 better most recent version) also mixing vintage version/junit jupiter/engine version etc. better use the bom file of junit jupiter...and all the plugins you have defined in your pom are extremely old... use most recent versions... <a href=\"https://maven.apache.org/plugins\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668053275,"creation_date":1668053275,"question_id":74384024,"body_markdown":"I&#39;m making an application in Java using Hibernate, Maven, and JUnit for testing. I&#39;ve had quite a few errors, and my latest one is a nullpointerexception that I&#39;m not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information. The exception occurs when I try to test the getById method in the PcBuildDao class.\r\n\r\n\r\n\r\nthe exception:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\r\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can&#39;t post here]&quot;\r\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\r\n\r\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\r\n\r\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuild POJO\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;PcBuild&quot;)\r\n@Table(name = &quot;computer_builds&quot;)\r\npublic class PcBuild {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int buildId;\r\n\r\n    @Column(name = &quot;cpu_model&quot;)\r\n    private String cpuModel;\r\n\r\n    @Column(name = &quot;gpu_model&quot;)\r\n    private String gpuModel;\r\n\r\n    @Column(name = &quot;cpu_cooler_model&quot;)\r\n    private String cpuCoolerModel;\r\n\r\n    @Column(name = &quot;Motherboard_model&quot;)\r\n    private String motherboardModel;\r\n\r\n    @Column(name = &quot;psu_model&quot;)\r\n    private String psuModel;\r\n\r\n    @Column(name = &quot;case_model&quot;)\r\n    private String caseModel;\r\n\r\n    @Column(name = &quot;data_storage_model&quot;)\r\n    private String dataStorageModel;\r\n\r\n    @Column(name = &quot;ram_model&quot;)\r\n    private String ramModel;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    public PcBuild() {\r\n    }\r\n\r\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\r\n            String cpuCoolerModel, String motherboardModel, String psuModel,\r\n            String caseModel, String dataStorageModel, String ramModel,\r\n            User user) {\r\n        this.buildId = buildId;\r\n        this.cpuModel = cpuModel;\r\n        this.gpuModel = gpuModel;\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n        this.motherboardModel = motherboardModel;\r\n        this.psuModel = psuModel;\r\n        this.caseModel = caseModel;\r\n        this.dataStorageModel = dataStorageModel;\r\n        this.ramModel = ramModel;\r\n        this.user = user;\r\n    }\r\n\r\n    public int getBuildId() {\r\n        return buildId;\r\n    }\r\n\r\n    public void setBuildId(int buildId) {\r\n        this.buildId = buildId;\r\n    }\r\n\r\n    public String getCpuModel() {\r\n        return cpuModel;\r\n    }\r\n\r\n    public void setCpuModel(String cpuModel) {\r\n        this.cpuModel = cpuModel;\r\n    }\r\n\r\n    public String getGpuModel() {\r\n        return gpuModel;\r\n    }\r\n\r\n    public void setGpuModel(String gpuModel) {\r\n        this.gpuModel = gpuModel;\r\n    }\r\n\r\n    public String getCpuCoolerModel() {\r\n        return cpuCoolerModel;\r\n    }\r\n\r\n    public void setCpuCoolerModel(String cpuCoolerModel) {\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n    }\r\n\r\n    public String getMotherboardModel() {\r\n        return motherboardModel;\r\n    }\r\n\r\n    public void setMotherboardModel(String motherboardModel) {\r\n        this.motherboardModel = motherboardModel;\r\n    }\r\n\r\n    public String getPsuModel() {\r\n        return psuModel;\r\n    }\r\n\r\n    public void setPsuModel(String psuModel) {\r\n        this.psuModel = psuModel;\r\n    }\r\n\r\n    public String getCase_Model() {\r\n        return caseModel;\r\n    }\r\n\r\n    public void setCase_Model(String caseModel) {\r\n        this.caseModel = caseModel;\r\n    }\r\n\r\n    public String getDataStorageModel() {\r\n        return dataStorageModel;\r\n    }\r\n\r\n    public void setDataStorageModel(String dataStorageModel) {\r\n        this.dataStorageModel = dataStorageModel;\r\n    }\r\n\r\n    public String getRamModel() {\r\n        return ramModel;\r\n    }\r\n\r\n    public void setRamModel(String ramModel) {\r\n        this.ramModel = ramModel;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUserId(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PcBuild{&quot; +\r\n                &quot;buildId=&quot; + buildId +\r\n                &quot;, cpuModel=&#39;&quot; + cpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, gpuModel=&#39;&quot; + gpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, cpuCoolerModel=&#39;&quot; + cpuCoolerModel + &#39;\\&#39;&#39; +\r\n                &quot;, motherboardModel=&#39;&quot; + motherboardModel + &#39;\\&#39;&#39; +\r\n                &quot;, psuModel=&#39;&quot; + psuModel + &#39;\\&#39;&#39; +\r\n                &quot;, caseModel=&#39;&quot; + caseModel + &#39;\\&#39;&#39; +\r\n                &quot;, dataStorageModel=&#39;&quot; + dataStorageModel + &#39;\\&#39;&#39; +\r\n                &quot;, ramModel=&#39;&quot; + ramModel + &#39;\\&#39;&#39; +\r\n                &quot;, user=&quot; + user +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nPcBuild DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe mySQL script I run before every test\r\n\r\n```\r\ndelete from computer_builds;\r\n\r\ndelete from users;\r\n\r\ninsert into users (userId, username, password) VALUES (1, &#39;fchristian&#39;, &#39;student&#39;);\r\n\r\ninsert into users (userId, username, password) VALUES (2, &#39;achristian&#39;, &#39;lollipop&#39;);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 7 5800X3D&#39;, &#39;PowerColor Red Devil OC Radeon RX 6950 XT&#39;, &#39;Deepcool AK620&#39;, &#39;MSI MAG B550 Tomahawk&#39;,\r\n        &#39;Thermaltake Toughpower GF1 PE 850 W&#39;, &#39;Corsair 4000D Airflow ATX Mid Tower&#39;, &#39;Samsung 970 Evo Plus 2 TB NVMe SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18&#39;, 1);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 3 3200G&#39;, &#39;Gigabyte GAMING OC Radeon RX 5700 XT&#39;, &#39;Stock&#39;, &#39;Gigabyte B450M DS3H Wifi&#39;,\r\n        &#39;Fractal Design Ion SFX 650 W&#39;, &#39;Thermaltake Core G3 ATX Mid Tower&#39;, &#39;Teamgroup GX2 512 GB SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16&#39;, 2);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried testing the PcBuildDao&#39;s getById method but I keep getting a nullpointerexception.","title":"Trying to test a DAO on a java hibernate application, and I&#39;m getting a NullPointerAcception","body":"<p>I'm making an application in Java using Hibernate, Maven, and JUnit for testing. I've had quite a few errors, and my latest one is a nullpointerexception that I'm not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information. The exception occurs when I try to test the getById method in the PcBuildDao class.</p>\n<p>the exception:</p>\n<pre><code>java.lang.NullPointerException\n    at persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can't post here]&quot;\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\n\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\n\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;webResources&gt;\n              &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n              &lt;/resource&gt;\n            &lt;/webResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuild POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\n\n@Entity(name = &quot;PcBuild&quot;)\n@Table(name = &quot;computer_builds&quot;)\npublic class PcBuild {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int buildId;\n\n    @Column(name = &quot;cpu_model&quot;)\n    private String cpuModel;\n\n    @Column(name = &quot;gpu_model&quot;)\n    private String gpuModel;\n\n    @Column(name = &quot;cpu_cooler_model&quot;)\n    private String cpuCoolerModel;\n\n    @Column(name = &quot;Motherboard_model&quot;)\n    private String motherboardModel;\n\n    @Column(name = &quot;psu_model&quot;)\n    private String psuModel;\n\n    @Column(name = &quot;case_model&quot;)\n    private String caseModel;\n\n    @Column(name = &quot;data_storage_model&quot;)\n    private String dataStorageModel;\n\n    @Column(name = &quot;ram_model&quot;)\n    private String ramModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\n    private User user;\n\n    public PcBuild() {\n    }\n\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\n            String cpuCoolerModel, String motherboardModel, String psuModel,\n            String caseModel, String dataStorageModel, String ramModel,\n            User user) {\n        this.buildId = buildId;\n        this.cpuModel = cpuModel;\n        this.gpuModel = gpuModel;\n        this.cpuCoolerModel = cpuCoolerModel;\n        this.motherboardModel = motherboardModel;\n        this.psuModel = psuModel;\n        this.caseModel = caseModel;\n        this.dataStorageModel = dataStorageModel;\n        this.ramModel = ramModel;\n        this.user = user;\n    }\n\n    public int getBuildId() {\n        return buildId;\n    }\n\n    public void setBuildId(int buildId) {\n        this.buildId = buildId;\n    }\n\n    public String getCpuModel() {\n        return cpuModel;\n    }\n\n    public void setCpuModel(String cpuModel) {\n        this.cpuModel = cpuModel;\n    }\n\n    public String getGpuModel() {\n        return gpuModel;\n    }\n\n    public void setGpuModel(String gpuModel) {\n        this.gpuModel = gpuModel;\n    }\n\n    public String getCpuCoolerModel() {\n        return cpuCoolerModel;\n    }\n\n    public void setCpuCoolerModel(String cpuCoolerModel) {\n        this.cpuCoolerModel = cpuCoolerModel;\n    }\n\n    public String getMotherboardModel() {\n        return motherboardModel;\n    }\n\n    public void setMotherboardModel(String motherboardModel) {\n        this.motherboardModel = motherboardModel;\n    }\n\n    public String getPsuModel() {\n        return psuModel;\n    }\n\n    public void setPsuModel(String psuModel) {\n        this.psuModel = psuModel;\n    }\n\n    public String getCase_Model() {\n        return caseModel;\n    }\n\n    public void setCase_Model(String caseModel) {\n        this.caseModel = caseModel;\n    }\n\n    public String getDataStorageModel() {\n        return dataStorageModel;\n    }\n\n    public void setDataStorageModel(String dataStorageModel) {\n        this.dataStorageModel = dataStorageModel;\n    }\n\n    public String getRamModel() {\n        return ramModel;\n    }\n\n    public void setRamModel(String ramModel) {\n        this.ramModel = ramModel;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUserId(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PcBuild{&quot; +\n                &quot;buildId=&quot; + buildId +\n                &quot;, cpuModel='&quot; + cpuModel + '\\'' +\n                &quot;, gpuModel='&quot; + gpuModel + '\\'' +\n                &quot;, cpuCoolerModel='&quot; + cpuCoolerModel + '\\'' +\n                &quot;, motherboardModel='&quot; + motherboardModel + '\\'' +\n                &quot;, psuModel='&quot; + psuModel + '\\'' +\n                &quot;, caseModel='&quot; + caseModel + '\\'' +\n                &quot;, dataStorageModel='&quot; + dataStorageModel + '\\'' +\n                &quot;, ramModel='&quot; + ramModel + '\\'' +\n                &quot;, user=&quot; + user +\n                '}';\n    }\n}\n</code></pre>\n<p>PcBuild DAO</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>The mySQL script I run before every test</p>\n<pre><code>delete from computer_builds;\n\ndelete from users;\n\ninsert into users (userId, username, password) VALUES (1, 'fchristian', 'student');\n\ninsert into users (userId, username, password) VALUES (2, 'achristian', 'lollipop');\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 7 5800X3D', 'PowerColor Red Devil OC Radeon RX 6950 XT', 'Deepcool AK620', 'MSI MAG B550 Tomahawk',\n        'Thermaltake Toughpower GF1 PE 850 W', 'Corsair 4000D Airflow ATX Mid Tower', 'Samsung 970 Evo Plus 2 TB NVMe SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18', 1);\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 3 3200G', 'Gigabyte GAMING OC Radeon RX 5700 XT', 'Stock', 'Gigabyte B450M DS3H Wifi',\n        'Fractal Design Ion SFX 650 W', 'Thermaltake Core G3 ATX Mid Tower', 'Teamgroup GX2 512 GB SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16', 2);\n</code></pre>\n<p>I tried testing the PcBuildDao's getById method but I keep getting a nullpointerexception.</p>\n"},{"tags":["java","spring-boot","repository"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1668000956,"post_id":74375630,"comment_id":131301475,"body_markdown":"Just set the return type of your method to `int`; it will automatically return the number of rows affected by the update.","body":"Just set the return type of your method to <code>int</code>; it will automatically return the number of rows affected by the update."},{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1668003101,"post_id":74375630,"comment_id":131302370,"body_markdown":"and what would be the best way for me to get this return?","body":"and what would be the best way for me to get this return?"}],"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668000920,"answer_count":0,"score":0,"last_activity_date":1668052649,"creation_date":1668000516,"question_id":74375630,"body_markdown":"this is my query:\r\n\r\n```java\r\n@Modifying(clearAutomatically = true)\r\n@Transactional\r\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario(salario* :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n\t\t\t\t+ &quot;WHERE id IN (:funcionarioId) &quot;\r\n\t\t\t\t+ &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n```\r\n\r\nIn the case as I&#39;m starting now in this area, I need some help. Att;\r\n\r\n","title":"Return number of rows affected in @Query UPDATE in java spring boot repository","body":"<p>this is my query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario(salario* :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                + &quot;WHERE id IN (:funcionarioId) &quot;\n                + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n<p>In the case as I'm starting now in this area, I need some help. Att;</p>\n"},{"tags":["java","video","video-processing","javacv","javacpp"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1579053357,"post_id":59737017,"comment_id":105636488,"body_markdown":"Use push() instead, that will do what&#39;s needed. Other than that, the fps needs timestamps, so we might need to set those manually as explained in this issue: https://github.com/bytedeco/javacv/issues/717#issuecomment-377913162","body":"Use push() instead, that will do what&#39;s needed. Other than that, the fps needs timestamps, so we might need to set those manually as explained in this issue: <a href=\"https://github.com/bytedeco/javacv/issues/717#issuecomment-377913162\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv/issues/717#issuecomment-377913162</a>"},{"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"score":0,"creation_date":1579104640,"post_id":59737017,"comment_id":105656806,"body_markdown":"@SamuelAudet Thanks, but `push()` doesn&#39;t work either. However, I figured out a way to avoid the filter using a while loop. I&#39;ll post my solution below in case anyone stumbles upon this post.","body":"@SamuelAudet Thanks, but <code>push()</code> doesn&#39;t work either. However, I figured out a way to avoid the filter using a while loop. I&#39;ll post my solution below in case anyone stumbles upon this post."}],"answers":[{"tags":[],"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579105397,"creation_date":1579105397,"answer_id":59755619,"question_id":59737017,"body_markdown":"I figured out a way to **avoid the filter**.\r\n\r\n    class GrabWithDifferentFrameRate {\r\n\t\t\r\n\t\tprivate Frame lastFrame;\r\n\t\tprivate FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(input);\r\n\t\t\r\n\t\t// Basically converts a frameNumber based on the desiredFrameRate \r\n\t\t// to one fitting for the grabbers frameRate and returns the frame at that frameNumber\r\n\t\tpublic Frame grabAt(int frameNumber, int desiredFrameRate) {\r\n\t\t\tdouble stepSize = desiredFrameRate / grabber.getFrameRate();\r\n\t\t\tdouble adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\r\n\t\t\t\r\n\t\t\tFrame frame = lastFrame;\r\n\t\t\twhile ((adjustedFrameNumber &lt;= frameNumber &amp;&amp; frameNumber / stepSize &lt; grabber.getLengthInFrames())) {\r\n\t\t\t\tframe = grabber.grabImage();\r\n\t\t\t\tadjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn frame;\r\n\t\t}\r\n\t\t\r\n\t\tprivate double calculateAdjustedFrameNumber(double stepSize) {\r\n\t\t\treturn grabber.getFrameNumber() * stepSize;\r\n\t\t}\r\n\t}","title":"JavaCV FFmpegFrameFilter does not work for fps filter","body":"<p>I figured out a way to <strong>avoid the filter</strong>.</p>\n\n<pre><code>class GrabWithDifferentFrameRate {\n\n    private Frame lastFrame;\n    private FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(input);\n\n    // Basically converts a frameNumber based on the desiredFrameRate \n    // to one fitting for the grabbers frameRate and returns the frame at that frameNumber\n    public Frame grabAt(int frameNumber, int desiredFrameRate) {\n        double stepSize = desiredFrameRate / grabber.getFrameRate();\n        double adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\n\n        Frame frame = lastFrame;\n        while ((adjustedFrameNumber &lt;= frameNumber &amp;&amp; frameNumber / stepSize &lt; grabber.getLengthInFrames())) {\n            frame = grabber.grabImage();\n            adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\n        }\n\n        return frame;\n    }\n\n    private double calculateAdjustedFrameNumber(double stepSize) {\n        return grabber.getFrameNumber() * stepSize;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668050069,"creation_date":1579015993,"question_id":59737017,"body_markdown":"I am trying to change the frame rate of a video using the FFmpegFrameFilter and -grabber of JavaCV. However, ```filter.pull();``` always returns null.\r\n\r\nI have tried basically every combination of pulling and pushing frames, but nothing seems to work.\r\n\r\nThis is my code:\r\n```\r\n\r\n    FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new File(&quot;input.mp4&quot;));\r\n    grabber.start();\r\n\r\n    FFmpegFrameFilter filter = new FFmpegFrameFilter(&quot;fps=fps=60&quot;, null, grabber.getImageWidth(), grabber.getImageHeight(), 0);\r\n    filter.setVideoInputs(1);\r\n    filter.start();\r\n\r\n    Java2DFrameConverter converter = new Java2DFrameConverter();\r\n    \r\n    for (int i = 0; i &lt; 10; i++) {\r\n        //Push the newly grabbed frame to the filter.\r\n        Frame frame = grabber.grabImage();\r\n        int n = frame.image.length - 1;\r\n    \tfilter.pushImage(n &gt; 0 ? n : 0, frame.imageWidth, frame.imageHeight, frame.imageDepth, frame.imageChannels, frame.imageStride, grabber.getPixelFormat(), frame.image);\r\n\r\n        //Pull the frame from the filter, convert it to a BufferedImage, and save it.\r\n        //This line throws an IllegalArgumentException, stating the image is null.\r\n    \tImageIO.write(converter.convert(filter.pullImage()), &quot;jpg&quot;, new File(outputPath + i + &quot;.jpg&quot;));\r\n    }\r\n```\r\n\r\nMy best guess is that I am giving `pushImage(...)` the wrong arguments, as I am not sure what the first argument `n` is supposed to be.","title":"JavaCV FFmpegFrameFilter does not work for fps filter","body":"<p>I am trying to change the frame rate of a video using the FFmpegFrameFilter and -grabber of JavaCV. However, <code>filter.pull();</code> always returns null.</p>\n\n<p>I have tried basically every combination of pulling and pushing frames, but nothing seems to work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>\n    FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new File(\"input.mp4\"));\n    grabber.start();\n\n    FFmpegFrameFilter filter = new FFmpegFrameFilter(\"fps=fps=60\", null, grabber.getImageWidth(), grabber.getImageHeight(), 0);\n    filter.setVideoInputs(1);\n    filter.start();\n\n    Java2DFrameConverter converter = new Java2DFrameConverter();\n\n    for (int i = 0; i &lt; 10; i++) {\n        //Push the newly grabbed frame to the filter.\n        Frame frame = grabber.grabImage();\n        int n = frame.image.length - 1;\n        filter.pushImage(n &gt; 0 ? n : 0, frame.imageWidth, frame.imageHeight, frame.imageDepth, frame.imageChannels, frame.imageStride, grabber.getPixelFormat(), frame.image);\n\n        //Pull the frame from the filter, convert it to a BufferedImage, and save it.\n        //This line throws an IllegalArgumentException, stating the image is null.\n        ImageIO.write(converter.convert(filter.pullImage()), \"jpg\", new File(outputPath + i + \".jpg\"));\n    }\n</code></pre>\n\n<p>My best guess is that I am giving <code>pushImage(...)</code> the wrong arguments, as I am not sure what the first argument <code>n</code> is supposed to be.</p>\n"},{"tags":["java","spring","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668049126,"creation_date":1668049126,"answer_id":74383688,"question_id":74265432,"body_markdown":"Personally I always use public factory methods. Not sure why you would use other ones intentionally.\r\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.","title":"Factory methods visibility in Spring Java configuration","body":"<p>Personally I always use public factory methods. Not sure why you would use other ones intentionally.\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.</p>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668049126,"creation_date":1667229480,"question_id":74265432,"body_markdown":"Let&#39;s consider a Spring 5 project using **only Java configuration**.\r\n\r\n    @Configuration\r\n    class AppConfig{\r\n    \r\n      @Bean\r\n      &lt;visibility-modifier&gt; MyComponent first(){\r\n        return new MyComponent();\r\n      }\r\n    \r\n      // other @Bean annotated methods\r\n    }\r\n\r\n    // multiple configuration classes following similar structure\r\n\r\nTrying to figure out what is the impact of `&lt;visibility-modifier&gt;` I&#39;ve found that there could be visibility effects while mixing XML config and Java config ([example][1]).\r\n\r\nIt is a bit confusing that documentation mostly uses `public` modifier everywhere\r\n(e.g. https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html)\r\n\r\n\r\n**What is the difference between using `public` and other visibility modifiers on `@Bean` methods?**\r\n(when only Java configuration is used)\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html","title":"Factory methods visibility in Spring Java configuration","body":"<p>Let's consider a Spring 5 project using <strong>only Java configuration</strong>.</p>\n<pre><code>@Configuration\nclass AppConfig{\n\n  @Bean\n  &lt;visibility-modifier&gt; MyComponent first(){\n    return new MyComponent();\n  }\n\n  // other @Bean annotated methods\n}\n\n// multiple configuration classes following similar structure\n</code></pre>\n<p>Trying to figure out what is the impact of <code>&lt;visibility-modifier&gt;</code> I've found that there could be visibility effects while mixing XML config and Java config (<a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html\" rel=\"nofollow noreferrer\">example</a>).</p>\n<p>It is a bit confusing that documentation mostly uses <code>public</code> modifier everywhere\n(e.g. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html</a>)</p>\n<p><strong>What is the difference between using <code>public</code> and other visibility modifiers on <code>@Bean</code> methods?</strong>\n(when only Java configuration is used)</p>\n"},{"tags":["java","spring","solr","log4j","solrj"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668064664,"post_id":74383680,"comment_id":131317558,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668099897,"post_id":74383680,"comment_id":131330047,"body_markdown":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the `log4j-1.2-api` bridge (cf. [migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html)). You just need to try using it with Solr 4.6.","body":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the <code>log4j-1.2-api</code> bridge (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration guide</a>). You just need to try using it with Solr 4.6."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668101483,"post_id":74383680,"comment_id":131330597,"body_markdown":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. [mvnrepository](https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0)","body":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. <a href=\"https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0\" rel=\"nofollow noreferrer\">mvnrepository</a>"}],"owner":{"account_id":26407997,"reputation":1,"user_id":20057439,"display_name":"John Zidrex Andag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668049041,"creation_date":1668049041,"question_id":74383680,"body_markdown":"We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.\r\n\r\nI tried upgrading the solr but this will takes a lot of time because our application code is really old","title":"Is it possible to upgrade log4j to 2.17+ when using Solr 4.6","body":"<p>We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.</p>\n<p>I tried upgrading the solr but this will takes a lot of time because our application code is really old</p>\n"},{"tags":["java","android","mobile","mobile-application"],"comments":[{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668050693,"post_id":74383567,"comment_id":131315282,"body_markdown":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand.","body":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand."},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668051641,"post_id":74383567,"comment_id":131315380,"body_markdown":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText","body":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668051705,"post_id":74383567,"comment_id":131315387,"body_markdown":"I see. In what condition/event you are calling `scannedCardNumber` method?","body":"I see. In what condition/event you are calling <code>scannedCardNumber</code> method?"},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668054310,"post_id":74383567,"comment_id":131315738,"body_markdown":"@Ankur Yes, but the error it just rarely appears do you know the problem?","body":"@Ankur Yes, but the error it just rarely appears do you know the problem?"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668059136,"post_id":74383567,"comment_id":131316418,"body_markdown":"Can not say for sure yet, but I see few problems. Like you are adding `addTextChangedListener`. So if you call this method more than one time, `scannedCardNumber` it will add multiple text change listeners which will cause problems. I am also curious about this line `sb.setLength(sb.length() - 1)`","body":"Can not say for sure yet, but I see few problems. Like you are adding <code>addTextChangedListener</code>. So if you call this method more than one time, <code>scannedCardNumber</code> it will add multiple text change listeners which will cause problems. I am also curious about this line <code>sb.setLength(sb.length() - 1)</code>"},{"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"score":0,"creation_date":1668149021,"post_id":74383567,"comment_id":131340021,"body_markdown":"i guess you always set the text in after text change. put breakpoints over there","body":"i guess you always set the text in after text change. put breakpoints over there"}],"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668048295,"creation_date":1668047781,"question_id":74383567,"body_markdown":"I&#39;ve been confused why my EditText can&#39;t delete my text manually.When I tried to scan the image that converts to text and display the text to editText or `OCR` sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can&#39;t delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can&#39;t find the error yet since it just rarely appears, thanks in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Java file**\r\n\r\n     private int prevCount = 0;\r\n\r\n     // to have space after 4 number\r\n     private boolean isAtSpaceDelimiter(int currCount) {\r\n        return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\r\n    }\r\n\r\n    //declared on onCreate()\r\n    scannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\r\n\r\n    public void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\r\n        card_number.addTextChangedListener(new TextWatcher() {\r\n\r\n\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n                String cardNumber = card_number.getText().toString();\r\n                if(s.toString().length() != 23){\r\n                    tilCard.setError(required_field);\r\n                }\r\n                else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\r\n                    tilCard.setError(&quot;Invalid Format&quot;);\r\n                }\r\n                else{\r\n                    tilCard.setError(null);\r\n                }\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String field = editable.toString();\r\n                int currCount = field.length();\r\n\r\n                if (shouldIncrementOrDecrement(currCount, true)){\r\n                    appendOrStrip(field, true);\r\n                } else if (shouldIncrementOrDecrement(currCount, false)) {\r\n                    appendOrStrip(field, false);\r\n                }\r\n                prevCount = card_number.getText().toString().length();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void appendOrStrip(String field, boolean shouldAppend) {\r\n        StringBuilder sb = new StringBuilder(field);\r\n        if (shouldAppend) {\r\n            sb.append(&quot; &quot;);\r\n        } else {\r\n            sb.setLength(sb.length() - 1);\r\n        }\r\n        edt_card_number_inputted.setText(sb.toString());\r\n        edt_card_number_inputted.setSelection(sb.length());\r\n    }\r\n\r\n    private boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\r\n        if (shouldIncrement) {\r\n            return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        } else {\r\n            return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/VKE9U.png","title":"EditText cannot delete manually in Android java","body":"<p>I've been confused why my EditText can't delete my text manually.When I tried to scan the image that converts to text and display the text to editText or <code>OCR</code> sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can't delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can't find the error yet since it just rarely appears, thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/VKE9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKE9U.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java file</strong></p>\n<pre><code> private int prevCount = 0;\n\n // to have space after 4 number\n private boolean isAtSpaceDelimiter(int currCount) {\n    return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\n}\n\n//declared on onCreate()\nscannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\n\npublic void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\n    card_number.addTextChangedListener(new TextWatcher() {\n\n\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n        }\n        @Override\n        public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n            String cardNumber = card_number.getText().toString();\n            if(s.toString().length() != 23){\n                tilCard.setError(required_field);\n            }\n            else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\n                tilCard.setError(&quot;Invalid Format&quot;);\n            }\n            else{\n                tilCard.setError(null);\n            }\n        }\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String field = editable.toString();\n            int currCount = field.length();\n\n            if (shouldIncrementOrDecrement(currCount, true)){\n                appendOrStrip(field, true);\n            } else if (shouldIncrementOrDecrement(currCount, false)) {\n                appendOrStrip(field, false);\n            }\n            prevCount = card_number.getText().toString().length();\n        }\n    });\n}\n\n\nprivate void appendOrStrip(String field, boolean shouldAppend) {\n    StringBuilder sb = new StringBuilder(field);\n    if (shouldAppend) {\n        sb.append(&quot; &quot;);\n    } else {\n        sb.setLength(sb.length() - 1);\n    }\n    edt_card_number_inputted.setText(sb.toString());\n    edt_card_number_inputted.setSelection(sb.length());\n}\n\nprivate boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\n    if (shouldIncrement) {\n        return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    } else {\n        return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":485185,"reputation":136,"user_id":901352,"display_name":"Derek F"},"score":1,"creation_date":1668036624,"post_id":74382777,"comment_id":131313607,"body_markdown":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. [so] is probably where you meant to go instead.","body":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. <a href=\"https://stackoverflow.com\">Stack Overflow</a> is probably where you meant to go instead."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1670684419,"post_id":74382777,"comment_id":131932440,"body_markdown":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts","body":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts"}],"answers":[{"tags":[],"owner":{"account_id":21762563,"reputation":1,"user_id":16066935,"display_name":"immatur1ty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668047654,"creation_date":1668047654,"answer_id":74383553,"question_id":74382777,"body_markdown":"A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.\r\n\r\nI would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.\r\n\r\nYou can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.</p>\n<p>I would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.</p>\n<p>You can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.</p>\n"}],"owner":{"display_name":"Fraser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670684381,"answer_count":1,"score":0,"last_activity_date":1668047654,"creation_date":1668036161,"question_id":74382777,"body_markdown":"I am wanting to develop a game where it uses an executor single thread. \r\n\r\nI have 3 types of tasks that need to be created:\r\n1. Soft task\r\n2. Normal task\r\n3. Hard task\r\n\r\nA soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.\r\n\r\nWhen a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed. \r\n\r\nWhen a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue. \r\n\r\nWhen a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).\r\n\r\n\r\nI am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn&#39;t find an example online/understand it for my scenario.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>I am wanting to develop a game where it uses an executor single thread.</p>\n<p>I have 3 types of tasks that need to be created:</p>\n<ol>\n<li>Soft task</li>\n<li>Normal task</li>\n<li>Hard task</li>\n</ol>\n<p>A soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.</p>\n<p>When a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed.</p>\n<p>When a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue.</p>\n<p>When a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).</p>\n<p>I am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn't find an example online/understand it for my scenario.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668035793,"creation_date":1668035793,"answer_id":74382460,"question_id":74381309,"body_markdown":"Try it like this:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\r\n\r\n`:pages` would need to be a comma separated list of values. Which should essentially map to:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\r\n\r\n","title":"DynamoDb IN operator in Java","body":"<p>Try it like this:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\n</code></pre>\n<p><code>:pages</code> would need to be a comma separated list of values. Which should essentially map to:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668047483,"creation_date":1668027571,"question_id":74381309,"body_markdown":"I have a working DynamoDb query, but I&#39;m trying to add an IN operator and can&#39;t figure out the syntax for the FilterExpression.\r\n\r\n`pages` is a List&amp;lt;Integer&amp;gt; and I have an attribute in my table which is an Integer, so I&#39;m doing something like this\r\n```\r\nattrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\r\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\r\n                     .collect(Collectors.toList())));\r\n\r\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\r\n\r\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\r\n                .tableName(Parameters.addPrefix(TABLE_NAME))\r\n                .keyConditionExpression(keyConditionExpression)\r\n                .expressionAttributeNames(attrNameAlias)\r\n                .expressionAttributeValues(attrValues)\r\n                .filterExpression(filterExpression);\r\n\r\n```\r\n(this is not the complete code.  Just the relevant parts)\r\n\r\nBut it doesn&#39;t like my syntax at all.  I&#39;ve tried `originalPageNumber in :pages` and other variations as well.\r\n\r\n# Update\r\n\r\nOther things I tried\r\n\r\nTried setting `:pages` to \r\n```\r\nfinal String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\r\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\r\nattrValues.put(&quot;:pages&quot;, pagesAttr);\r\n```\r\nor `AttributeValue(S=(1, 2))`\r\n\r\nI then got rid of `:pages` altogether and just set filterExpression to `in(originalPageNumber, (1, 2))`.  Still no luck.\r\nAlso tried `originalPageNumber in (1, 2)`","title":"DynamoDb IN operator in Java","body":"<p>I have a working DynamoDb query, but I'm trying to add an IN operator and can't figure out the syntax for the FilterExpression.</p>\n<p><code>pages</code> is a List&lt;Integer&gt; and I have an attribute in my table which is an Integer, so I'm doing something like this</p>\n<pre><code>attrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\n                     .collect(Collectors.toList())));\n\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\n\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\n                .tableName(Parameters.addPrefix(TABLE_NAME))\n                .keyConditionExpression(keyConditionExpression)\n                .expressionAttributeNames(attrNameAlias)\n                .expressionAttributeValues(attrValues)\n                .filterExpression(filterExpression);\n\n</code></pre>\n<p>(this is not the complete code.  Just the relevant parts)</p>\n<p>But it doesn't like my syntax at all.  I've tried <code>originalPageNumber in :pages</code> and other variations as well.</p>\n<h1>Update</h1>\n<p>Other things I tried</p>\n<p>Tried setting <code>:pages</code> to</p>\n<pre><code>final String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\nattrValues.put(&quot;:pages&quot;, pagesAttr);\n</code></pre>\n<p>or <code>AttributeValue(S=(1, 2))</code></p>\n<p>I then got rid of <code>:pages</code> altogether and just set filterExpression to <code>in(originalPageNumber, (1, 2))</code>.  Still no luck.\nAlso tried <code>originalPageNumber in (1, 2)</code></p>\n"},{"tags":["java","spring","spring-boot","deployment"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667928687,"post_id":74364700,"comment_id":131283343,"body_markdown":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem.","body":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem."},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1667929102,"post_id":74364700,"comment_id":131283523,"body_markdown":"Dependency by another jar file or in the source code? I am not able to find anything..","body":"Dependency by another jar file or in the source code? I am not able to find anything.."}],"answers":[{"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046913,"creation_date":1668046913,"answer_id":74383475,"question_id":74364700,"body_markdown":"Several thing s you stated are not exactly true.\r\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>Several thing s you stated are not exactly true.\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.</p>\n"}],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046913,"creation_date":1667927736,"question_id":74364700,"body_markdown":"My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files. \r\n\r\nI am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because &#39;CollectionFactory&#39; has been removed from the new version of spring core jar file. How do I fix this issue?\r\n\r\nBelow is the error in the tomcat logs:\r\n```\r\njava.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n\t\tat org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is my application context file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\r\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\r\n        \r\n    \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\r\n\r\n    &lt;!-- VIEW INTERCEPTOR --&gt;\r\n   \r\n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\r\n\r\n   \r\n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\r\n        &lt;property name=&quot;spatialBinder&quot;&gt;\r\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\r\n                &lt;property name=&quot;paramOrder&quot;&gt;\r\n                    &lt;list&gt;\r\n                        &lt;value&gt;clientId&lt;/value&gt;\r\n                     \r\n                    &lt;/list&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\r\n\r\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\r\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\r\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- ACCESS CONTROL BEANS --&gt;    \r\n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;transactionManager&quot;&gt;\r\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\r\n    each method call needs to know what permission to check for --&gt;\r\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- audit trial stuff --&gt;\r\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n       &lt;property name=&quot;transactionManager&quot;&gt;\r\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;target&quot;&gt;\r\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\r\n           &lt;props&gt;\r\n               &lt;prop key=&quot;*&quot;&gt;\r\n                   PROPAGATION_MANDATORY\r\n               &lt;/prop&gt;\r\n           &lt;/props&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\r\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \r\n&lt;!-- LOGIN BEANS --&gt;    \r\n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;  \r\n\r\n\r\n&lt;!-- IMPORT BEANS --&gt;        \r\n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\r\n     &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- MESSAGE AND LOB BEANS --&gt;\r\n    \r\n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    \r\n\r\n    &lt;!-- WebSphere specific--&gt;\r\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\r\n    \r\n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\r\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;!-- INSTRUCTION BEANS --&gt;    \r\n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \r\n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\r\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\r\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\r\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    \r\n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n       \r\n&lt;!-- SHARED CONTROLLERS --&gt;\r\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\r\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\r\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\r\n            &lt;property name=&quot;items&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\r\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\r\n    &lt;/property&gt;   \r\n&lt;/bean&gt;\r\n\r\n\r\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \r\n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\r\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n        &lt;/tx:attributes&gt;\r\n    &lt;/tx:advice&gt;\r\n&lt;/beans&gt;\r\n```","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files.</p>\n<p>I am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because 'CollectionFactory' has been removed from the new version of spring core jar file. How do I fix this issue?</p>\n<p>Below is the error in the tomcat logs:</p>\n<pre><code>java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n        at org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\n        at org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is my application context file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\n        \n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\n\n    &lt;!-- VIEW INTERCEPTOR --&gt;\n   \n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\n\n   \n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\n        &lt;property name=&quot;spatialBinder&quot;&gt;\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\n                &lt;property name=&quot;paramOrder&quot;&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;clientId&lt;/value&gt;\n                     \n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\n\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\n    \n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- ACCESS CONTROL BEANS --&gt;    \n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\n    each method call needs to know what permission to check for --&gt;\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\n    &lt;/bean&gt;\n\n\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- audit trial stuff --&gt;\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n       &lt;property name=&quot;transactionManager&quot;&gt;\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;target&quot;&gt;\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\n           &lt;props&gt;\n               &lt;prop key=&quot;*&quot;&gt;\n                   PROPAGATION_MANDATORY\n               &lt;/prop&gt;\n           &lt;/props&gt;\n       &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\n    &lt;/bean&gt;\n    \n    \n&lt;!-- LOGIN BEANS --&gt;    \n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n \n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\n    \n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;  \n\n\n&lt;!-- IMPORT BEANS --&gt;        \n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\n     &lt;/bean&gt;\n\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- MESSAGE AND LOB BEANS --&gt;\n    \n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    \n\n    &lt;!-- WebSphere specific--&gt;\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\n    \n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;!-- INSTRUCTION BEANS --&gt;    \n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    \n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n       \n&lt;!-- SHARED CONTROLLERS --&gt;\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\n            &lt;property name=&quot;items&quot;&gt;\n                &lt;map&gt;\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\n                &lt;/map&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\n    &lt;/property&gt;   \n&lt;/bean&gt;\n\n\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":5764092,"reputation":51945,"user_id":4549554,"accept_rate":59,"display_name":"Andersson"},"score":0,"creation_date":1456738093,"post_id":35695647,"comment_id":59068723,"body_markdown":"you can try to find text for a link `By.xpath`: `//a[contains(href, &quot;DetailsZZ-&quot;)]`","body":"you can try to find text for a link <code>By.xpath</code>: <code>&#47;&#47;a[contains(href, &quot;DetailsZZ-&quot;)]</code>"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456739453,"creation_date":1456738168,"answer_id":35695951,"question_id":35695647,"body_markdown":"To locate the element you can use\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(&quot;ZZ&quot;));\r\n    // or\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(&quot;[href*=&#39;ZZ&#39;]&quot;));\r\n\r\nTo get the href and text you can do\r\n\r\n    for (WebElement element : elements) {\r\n        String href = element.getAttribute(&quot;href&quot;);\r\n        String text = element.getText();\r\n        // or\r\n        String text = element.getAttribute(&quot;innerText&quot;);\r\n\r\n        // and to get the number\r\n        String[] data = text.split(&quot;-&quot;);\r\n        String number = data[1];\r\n    }","title":"Get link text using Selenium and Java","body":"<p>To locate the element you can use</p>\n\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(\"ZZ\"));\n// or\nList&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(\"[href*='ZZ']\"));\n</code></pre>\n\n<p>To get the href and text you can do</p>\n\n<pre><code>for (WebElement element : elements) {\n    String href = element.getAttribute(\"href\");\n    String text = element.getText();\n    // or\n    String text = element.getAttribute(\"innerText\");\n\n    // and to get the number\n    String[] data = text.split(\"-\");\n    String number = data[1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3118078,"reputation":123,"user_id":2638437,"display_name":"Ankur Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668046813,"creation_date":1456739037,"answer_id":35696258,"question_id":35695647,"body_markdown":"You can use the following code to extract the number:\r\n\r\n    public String splitfunc(String str)\r\n    {\r\n        str = str.replace(&quot;.html&quot;, &quot;&quot;);\r\n        String[] array = str.split(&quot;-&quot;);\r\n        return array[1];\r\n    }\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n        System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\r\n    }\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>You can use the following code to extract the number:</p>\n<pre><code>public String splitfunc(String str)\n{\n    str = str.replace(&quot;.html&quot;, &quot;&quot;);\n    String[] array = str.split(&quot;-&quot;);\n    return array[1];\n}\n\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n    System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469306205,"creation_date":1469306205,"answer_id":38546203,"question_id":35695647,"body_markdown":"Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is **always** in the form of `ZZ-someNumber` then you can make the parsing fairly simple.\r\n\r\nExample using Java 8 (assuming the driver has already been created and has loaded the correct page):\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = driver.findElements(By.tagName(&quot;a&quot;))\r\n                                    .stream()\r\n                                    .map(WebElement::getText)\r\n                                    .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\r\n                                    .map(str -&gt; str.replace(leadingStr,&quot;&quot;).trim())\r\n                                    .filter(str -&gt; !str.isEmpty())\r\n                                    .map(Integer::valueOf)\r\n                                    .collect(Collectors.toList());\r\n\r\nExample without streams:\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\r\n    for (WebElement elem : driver.findElements(By.tagName(&quot;a&quot;))) {\r\n        String text = elem.getText();\r\n        if (text.startsWith(leadingStr)) {\r\n            numbers.add(Integer.valueOf(text.replace(leadingStr,&quot;&quot;).trim()));\r\n        }\r\n    }\r\n\r\nOf course both of the above would need a bit more error handling if the assumption that they are always in the form of `ZZ-someNumber` isn&#39;t valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.\r\n","title":"Get link text using Selenium and Java","body":"<p>Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is <strong>always</strong> in the form of <code>ZZ-someNumber</code> then you can make the parsing fairly simple.</p>\n\n<p>Example using Java 8 (assuming the driver has already been created and has loaded the correct page):</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = driver.findElements(By.tagName(\"a\"))\n                                .stream()\n                                .map(WebElement::getText)\n                                .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\n                                .map(str -&gt; str.replace(leadingStr,\"\").trim())\n                                .filter(str -&gt; !str.isEmpty())\n                                .map(Integer::valueOf)\n                                .collect(Collectors.toList());\n</code></pre>\n\n<p>Example without streams:</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\nfor (WebElement elem : driver.findElements(By.tagName(\"a\"))) {\n    String text = elem.getText();\n    if (text.startsWith(leadingStr)) {\n        numbers.add(Integer.valueOf(text.replace(leadingStr,\"\").trim()));\n    }\n}\n</code></pre>\n\n<p>Of course both of the above would need a bit more error handling if the assumption that they are always in the form of <code>ZZ-someNumber</code> isn't valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.</p>\n"},{"tags":[],"owner":{"account_id":378731,"reputation":3103,"user_id":731636,"accept_rate":94,"display_name":"robx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474934873,"creation_date":1474934873,"answer_id":39714164,"question_id":35695647,"body_markdown":"A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.\r\n\r\nThis will allow you to get the text of the link as you requested, and not the href and do so much parsing.\r\n\r\nThe trim is just extra defensive coding. \r\n\r\n    List&lt;WebElement&gt; links = driver.findElements(By.tagName(&quot;a&quot;)); \r\n    for (WebElement link : links ) {\r\n       System.out.println(link.getText().replace(&quot;ZZ-&quot;,&quot;&quot;).trim());\r\n    }","title":"Get link text using Selenium and Java","body":"<p>A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.</p>\n\n<p>This will allow you to get the text of the link as you requested, and not the href and do so much parsing.</p>\n\n<p>The trim is just extra defensive coding. </p>\n\n<pre><code>List&lt;WebElement&gt; links = driver.findElements(By.tagName(\"a\")); \nfor (WebElement link : links ) {\n   System.out.println(link.getText().replace(\"ZZ-\",\"\").trim());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8843079,"reputation":127,"user_id":6604897,"display_name":"K.Krishnakanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847852,"creation_date":1496835596,"answer_id":44411623,"question_id":35695647,"body_markdown":"    WebElement element = driver.findElement(By.partialLinkText(&quot;ZZ-10048&quot;));\r\n    String txt = element.getText();\r\n    String[] words = txt.split(&quot;-&quot;);\r\n    System.out.println(words[1]);","title":"Get link text using Selenium and Java","body":"<pre><code>WebElement element = driver.findElement(By.partialLinkText(\"ZZ-10048\"));\nString txt = element.getText();\nString[] words = txt.split(\"-\");\nSystem.out.println(words[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13976402,"reputation":1,"user_id":10093723,"display_name":"Suraj Choudhary"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531840342,"creation_date":1531834947,"answer_id":51382967,"question_id":35695647,"body_markdown":"I think this is one of the simplest ways to fetch text, available from an anchor.\r\n\r\n    WebElement link  = driver.findElement(By.partialLinkText(&quot;ZZ&quot;));\r\n    System.out.println(link.getText());","title":"Get link text using Selenium and Java","body":"<p>I think this is one of the simplest ways to fetch text, available from an anchor.</p>\n\n<pre><code>WebElement link  = driver.findElement(By.partialLinkText(\"ZZ\"));\nSystem.out.println(link.getText());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531843262,"creation_date":1531842206,"answer_id":51385486,"question_id":35695647,"body_markdown":"There exact solution of this problem would be something like :  \r\n\r\nAs you have mentioned you want to get the **number** after **-** \r\n\r\nFor that, you can use start-with which is available in xpath for matching the start text.  \r\n\r\n     List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[starts-with(text(),&#39;ZZ-&#39;)]&quot;)); \r\n      for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;)));  \r\n\r\n@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.","title":"Get link text using Selenium and Java","body":"<p>There exact solution of this problem would be something like :  </p>\n\n<p>As you have mentioned you want to get the <strong>number</strong> after <strong>-</strong> </p>\n\n<p>For that, you can use start-with which is available in xpath for matching the start text.  </p>\n\n<pre><code> List&lt;WebElement&gt; elements = driver.findElements(By.xpath(\"//a[starts-with(text(),'ZZ-')]\")); \n  for (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(\"href\")));  \n</code></pre>\n\n<p>@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.</p>\n"}],"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12998,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35696258,"answer_count":7,"score":2,"last_activity_date":1668046813,"creation_date":1456737192,"question_id":35695647,"body_markdown":"I have a problem with getting the text of a link.\r\n\r\nOn a site, I have the text link\r\n`&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;`. The part with `ZZ-` is static, the number increments and it isn&#39;t known for me earlier. I need to get this number.\r\n\r\nI used looking at: *https://stackoverflow.com/questions/20036485/get-link-text-selenium-java*, but there I have all links, URLs (not the text of the links).\r\n\r\nI also tried: *https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver*, but I got output *Printing null* every time I changed and looked for a solution.\r\n\r\nAnd the solution: *https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement* is not good either, because it doesn&#39;t recognise `&quot;a[href*=&#39;ZZ-&#39;]&quot;`.\r\n\r\nSo, the closest one is:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\r\n    }\r\n\r\nBut how can I change to view not only URLs, but names of the link? (especially one which starts from `ZZ-`)\r\n\r\n\r\n\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>I have a problem with getting the text of a link.</p>\n<p>On a site, I have the text link\n<code>&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;</code>. The part with <code>ZZ-</code> is static, the number increments and it isn't known for me earlier. I need to get this number.</p>\n<p>I used looking at: <em><a href=\"https://stackoverflow.com/questions/20036485/get-link-text-selenium-java\">Get link text - Selenium, Java</a></em>, but there I have all links, URLs (not the text of the links).</p>\n<p>I also tried: <em><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></em>, but I got output <em>Printing null</em> every time I changed and looked for a solution.</p>\n<p>And the solution: <em><a href=\"https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement\">Java Selenium, how to get linkText (anchor) from link WebElement</a></em> is not good either, because it doesn't recognise <code>&quot;a[href*='ZZ-']&quot;</code>.</p>\n<p>So, the closest one is:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\n}\n</code></pre>\n<p>But how can I change to view not only URLs, but names of the link? (especially one which starts from <code>ZZ-</code>)</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046358,"creation_date":1668046358,"answer_id":74383424,"question_id":74370708,"body_markdown":"Instead of:\r\n```\r\ngetApplication().setTheme(R.style.Theme_Defaults);\r\n```\r\nTry using:\r\n```\r\ngetLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\r\n```\r\n\r\nThis should work.\r\n","title":"Android theme is not changing","body":"<p>Instead of:</p>\n<pre><code>getApplication().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>Try using:</p>\n<pre><code>getLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":25201724,"reputation":155,"user_id":19040512,"display_name":"redevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046358,"creation_date":1667975217,"question_id":74370708,"body_markdown":"I made a splash screen using two styles first is the default style without &#39;windowBackground&#39; and the second is splash screen style with &#39;windowBackground&#39;. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:\r\n\r\n\r\n\r\n    @Override\r\n    protected final void onCreate(@Nullable Bundle savedInstanceState) {\r\n\r\n        // this line of code is not changing theme\r\n        getApplication().setTheme(R.style.Theme_Defaults);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\nThe splash screen is not disappearing (&#39;windowBackground&#39; is not removed from &#39;SpScreen&#39; style)\r\n\r\n\r\n**Manifest:**\r\n   \r\n\r\n     &lt;application\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/SpScreen&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:extractNativeLibs=&quot;false&quot;\r\n            tools:ignore=&quot;UnusedAttribute&quot;&gt;\r\n\r\n\r\n**Theme.xml:**\r\n\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nThe only difference between the styles is:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n\r\n","title":"Android theme is not changing","body":"<p>I made a splash screen using two styles first is the default style without 'windowBackground' and the second is splash screen style with 'windowBackground'. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:</p>\n<pre><code>@Override\nprotected final void onCreate(@Nullable Bundle savedInstanceState) {\n\n    // this line of code is not changing theme\n    getApplication().setTheme(R.style.Theme_Defaults);\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n</code></pre>\n<p>The splash screen is not disappearing ('windowBackground' is not removed from 'SpScreen' style)</p>\n<p><strong>Manifest:</strong></p>\n<pre><code> &lt;application\n        android:hardwareAccelerated=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/SpScreen&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:largeHeap=&quot;true&quot;\n        android:extractNativeLibs=&quot;false&quot;\n        tools:ignore=&quot;UnusedAttribute&quot;&gt;\n</code></pre>\n<p><strong>Theme.xml:</strong></p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    \n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>The only difference between the styles is:</p>\n<pre><code>&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","google-api","google-bigquery","google-cloud-platform"],"comments":[{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1478641980,"post_id":40484030,"comment_id":68238210,"body_markdown":"Possible duplicate of [How to safely inject parameter into string DB query java?](http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java\">How to safely inject parameter into string DB query java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3944798,"reputation":616,"user_id":3257867,"display_name":"Matthew Wesley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478624404,"creation_date":1478624404,"answer_id":40492491,"question_id":40484030,"body_markdown":"Query parameter type names are required to be in canonical, fully-capitalized form: &quot;STRING&quot; instead of &quot;string&quot;.","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>Query parameter type names are required to be in canonical, fully-capitalized form: \"STRING\" instead of \"string\".</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668045623,"creation_date":1478599520,"question_id":40484030,"body_markdown":"I try to programaticaly inject params to my bigQuery query:\r\n\r\nThis is my code:\r\n\r\n\r\n    List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\r\n\r\n    QueryParameter param = new QueryParameter();\r\n    param.setName(&quot;@country&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    param = new QueryParameter();\r\n    param.setName(&quot;countryAbbr&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    List&lt;String&gt; brands =  brandChangeDataUi.brands;\r\n    List&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; brands.size(); i++) {\r\n\r\n        param = new QueryParameter();\r\n        param.setName(&quot;brand&quot; + i);\r\n        param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\r\n        param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n        params.add(param);\r\n\r\n        brands2.add(&quot;@brand&quot; + i);\r\n    }\r\n\r\n    JobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\r\n    jobConfigurationQuery.setQueryParameters(params);\r\n    jobConfigurationQuery.setUseLegacySql(false);\r\n\r\n    String listString = brands2.stream().map(brand -&gt; &quot;venue3.brand.value=&#39;&quot;+ brand +&quot;&#39;&quot;).collect(Collectors.joining(&quot; or &quot;));\r\n\r\n    jobConfigurationQuery.setQuery(&quot;select * from [--table---] &quot; +\r\n            &quot;where (country = @country or country = @countryAbbr) and &quot; +\r\n            &quot;(&quot;+listString+&quot;) order by venue3.brand.value&quot;);\r\n   \r\n\r\n\r\n    System.out.format(&quot;\\nInserting Query Job: %s\\n&quot;, jobConfigurationQuery.getQuery());\r\n\r\n    Job job = new Job();\r\n    JobConfiguration config = new JobConfiguration();\r\n    config.setQuery(jobConfigurationQuery);\r\n\r\n    job.setConfiguration(config);\r\n\r\n    Insert insert = bigquery.jobs().insert(projectId, job);\r\n    insert.setProjectId(projectId);\r\n    JobReference jobId = insert.execute().getJobReference();\r\n\r\n    System.out.format(&quot;\\nJob ID of Query Job is: %s\\n&quot;, jobId.getJobId());\r\n\r\n    return jobId;\r\n\r\n\r\n\r\n\r\nWhat should I change? As i get an error and not sure if my syntax is correct anyhow\r\n\r\n@conuntry is the way to inject?\r\n\r\nI saw this [json][1] and thought `&quot;string&quot;` is a valid value for `type`\r\n\r\n\r\n\r\n\r\nI see this in my console:\r\n\r\n\r\n    Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value=&#39;@brand0&#39;) order by venue3.brand.value\r\n    \r\n    com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Invalid query parameter type&quot;,\r\n        &quot;reason&quot; : &quot;invalid&quot;,\r\n        &quot;debugInfo&quot; : &quot;[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Invalid query parameter type&quot;\r\n    }\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>I try to programaticaly inject params to my bigQuery query:</p>\n\n<p>This is my code:</p>\n\n<pre><code>List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\n\nQueryParameter param = new QueryParameter();\nparam.setName(\"@country\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nparam = new QueryParameter();\nparam.setName(\"countryAbbr\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nList&lt;String&gt; brands =  brandChangeDataUi.brands;\nList&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; brands.size(); i++) {\n\n    param = new QueryParameter();\n    param.setName(\"brand\" + i);\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\n    param.setParameterType(new QueryParameterType().setType(\"string\"));\n    params.add(param);\n\n    brands2.add(\"@brand\" + i);\n}\n\nJobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\njobConfigurationQuery.setQueryParameters(params);\njobConfigurationQuery.setUseLegacySql(false);\n\nString listString = brands2.stream().map(brand -&gt; \"venue3.brand.value='\"+ brand +\"'\").collect(Collectors.joining(\" or \"));\n\njobConfigurationQuery.setQuery(\"select * from [--table---] \" +\n        \"where (country = @country or country = @countryAbbr) and \" +\n        \"(\"+listString+\") order by venue3.brand.value\");\n\n\n\nSystem.out.format(\"\\nInserting Query Job: %s\\n\", jobConfigurationQuery.getQuery());\n\nJob job = new Job();\nJobConfiguration config = new JobConfiguration();\nconfig.setQuery(jobConfigurationQuery);\n\njob.setConfiguration(config);\n\nInsert insert = bigquery.jobs().insert(projectId, job);\ninsert.setProjectId(projectId);\nJobReference jobId = insert.execute().getJobReference();\n\nSystem.out.format(\"\\nJob ID of Query Job is: %s\\n\", jobId.getJobId());\n\nreturn jobId;\n</code></pre>\n\n<p>What should I change? As i get an error and not sure if my syntax is correct anyhow</p>\n\n<p>@conuntry is the way to inject?</p>\n\n<p>I saw this <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query\" rel=\"nofollow noreferrer\">json</a> and thought <code>\"string\"</code> is a valid value for <code>type</code></p>\n\n<p>I see this in my console:</p>\n\n<pre><code>Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value='@brand0') order by venue3.brand.value\n\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Invalid query parameter type\",\n    \"reason\" : \"invalid\",\n    \"debugInfo\" : \"[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n\"\n  } ],\n  \"message\" : \"Invalid query parameter type\"\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1667601503,"post_id":74323470,"comment_id":131213476,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path.","body":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path."},{"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"score":0,"creation_date":1668041680,"post_id":74323470,"comment_id":131314011,"body_markdown":"@nitind Post this as the answer and I&#39;ll accept it.","body":"@nitind Post this as the answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668043625,"creation_date":1668043625,"answer_id":74383193,"question_id":74323470,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the `cleanEclipse` and `eclipse` tasks).","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the <code>cleanEclipse</code> and <code>eclipse</code> tasks).</p>\n"}],"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74383193,"answer_count":1,"score":0,"last_activity_date":1668043625,"creation_date":1667599969,"question_id":74323470,"body_markdown":"I&#39;m working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can&#39;t figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What&#39;s causing this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4EIM3.png","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>I'm working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can't figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What's causing this?</p>\n<p><a href=\"https://i.stack.imgur.com/4EIM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4EIM3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":0,"creation_date":1608308380,"post_id":65360357,"comment_id":115552043,"body_markdown":"why dont you clone the object instead?","body":"why dont you clone the object instead?"},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308441,"post_id":65360357,"comment_id":115552067,"body_markdown":"As I said, I want it to update an existing object not create a new one.","body":"As I said, I want it to update an existing object not create a new one."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608308463,"post_id":65360357,"comment_id":115552072,"body_markdown":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it.","body":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308640,"post_id":65360357,"comment_id":115552153,"body_markdown":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this.","body":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308724,"post_id":65360357,"comment_id":115552189,"body_markdown":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either.","body":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608309129,"post_id":65360357,"comment_id":115552363,"body_markdown":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble.","body":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608310216,"post_id":65360357,"comment_id":115552868,"body_markdown":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the `@RequiredArgsConstructor` as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like `@Exclude` which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes.","body":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the <code>@RequiredArgsConstructor</code> as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like <code>@Exclude</code> which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes."}],"answers":[{"tags":[],"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608330774,"creation_date":1608330774,"answer_id":65364775,"question_id":65360357,"body_markdown":"I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields. \r\n\r\nDisclaimer: I haven&#39;t thoroughly tested this, only lightly. It may need some work. It also doesn&#39;t use setter methods but instead just sets the field value.\r\n\r\nAttribute copying method:\r\n\r\n    public class AttrCopy {\r\n    \r\n        public void copyAttributes(Object from, Object to) throws IllegalAccessException {\r\n            Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\r\n            for(Field f : to.getClass().getDeclaredFields()) {\r\n                toFieldNameMap.put(f.getName(), f);\r\n            }\r\n            for(Field f : from.getClass().getDeclaredFields()) {\r\n                Field ff = toFieldNameMap.get(f.getName());\r\n                f.setAccessible(true);\r\n                boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\r\n                if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\r\n                    ff.setAccessible(true);\r\n                    ff.set(to, f.get(from));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnnotation to exclude fields:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface AttrCopyExclude {\r\n    }\r\n\r\nTest classes:\r\n\r\n    public class ClassA {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private int attribute3;\r\n        private String attribute4;\r\n        private String attribute5;\r\n    \r\n        // toString()\r\n    }\r\n    \r\n    public class ClassB {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private String attribute3;\r\n        @AttrCopyExclude\r\n        private String attribute4;\r\n        private String attribute6;\r\n    \r\n        // toString()\r\n    }\r\n\r\nTest code:\r\n\r\n    public class Tester {\r\n        public static void main(String[] args) throws IllegalAccessException {\r\n            ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\r\n            ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\r\n    \r\n            System.out.println(&quot;Before&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n    \r\n            new AttrCopy().copyAttributes(classB, classA);\r\n    \r\n            System.out.println(&quot;After copy A -&gt; B&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n        }\r\n    }\r\n\r\nTest output:\r\n```\r\nBefore\r\nClassA{attribute1=&#39;aaa&#39;, attribute2=123, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\nAfter copy B -&gt; A\r\nClassA{attribute1=&#39;111&#39;, attribute2=789, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\n```\r\n\r\nAttributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn&#39;t match. \r\n","title":"How to update all field of one java object with the values from another one?","body":"<p>I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields.</p>\n<p>Disclaimer: I haven't thoroughly tested this, only lightly. It may need some work. It also doesn't use setter methods but instead just sets the field value.</p>\n<p>Attribute copying method:</p>\n<pre><code>public class AttrCopy {\n\n    public void copyAttributes(Object from, Object to) throws IllegalAccessException {\n        Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\n        for(Field f : to.getClass().getDeclaredFields()) {\n            toFieldNameMap.put(f.getName(), f);\n        }\n        for(Field f : from.getClass().getDeclaredFields()) {\n            Field ff = toFieldNameMap.get(f.getName());\n            f.setAccessible(true);\n            boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\n            if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\n                ff.setAccessible(true);\n                ff.set(to, f.get(from));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Annotation to exclude fields:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AttrCopyExclude {\n}\n</code></pre>\n<p>Test classes:</p>\n<pre><code>public class ClassA {\n    private String attribute1;\n    private int attribute2;\n    private int attribute3;\n    private String attribute4;\n    private String attribute5;\n\n    // toString()\n}\n\npublic class ClassB {\n    private String attribute1;\n    private int attribute2;\n    private String attribute3;\n    @AttrCopyExclude\n    private String attribute4;\n    private String attribute6;\n\n    // toString()\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public class Tester {\n    public static void main(String[] args) throws IllegalAccessException {\n        ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\n        ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\n\n        System.out.println(&quot;Before&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n\n        new AttrCopy().copyAttributes(classB, classA);\n\n        System.out.println(&quot;After copy A -&gt; B&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n    }\n}\n</code></pre>\n<p>Test output:</p>\n<pre><code>Before\nClassA{attribute1='aaa', attribute2=123, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\nAfter copy B -&gt; A\nClassA{attribute1='111', attribute2=789, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\n</code></pre>\n<p>Attributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn't match.</p>\n"},{"tags":[],"owner":{"account_id":13874958,"reputation":77,"user_id":10016867,"display_name":"sone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042191,"creation_date":1668042191,"answer_id":74383057,"question_id":65360357,"body_markdown":"you might want to use [mapstruct][1] to copy between java object. Great example [here][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://reflectoring.io/java-mapping-with-mapstruct/","title":"How to update all field of one java object with the values from another one?","body":"<p>you might want to use <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> to copy between java object. Great example <a href=\"https://reflectoring.io/java-mapping-with-mapstruct/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668042191,"creation_date":1608308088,"question_id":65360357,"body_markdown":"Assume the following class:\r\n```\r\npublic class TestClass {\r\n    String attr1;\r\n    String attr2;\r\n    String attr3;\r\n}\r\n```\r\nand a client code like:\r\n```\r\nfinal TestClass testClassA = new TestClass();\r\ntestClassA.attr1 = &quot;1&quot;;\r\ntestClassA.attr1 = &quot;2&quot;;\r\ntestClassA.attr1 = &quot;3&quot;;\r\n\r\nfinal TestClass testClassB = new TestClass();\r\n```\r\nI would like to find way/method that updates `testClassB` with all the values of `testClassA`.\r\n\r\n\r\n```\r\ntestClassB.updateAll(testClassA)\r\n```\r\nOne such solution would be:\r\n```\r\npublic void updateAll(TestClass testClass) {\r\n    this.attr1 = testClass.attr1;\r\n    this.attr2 = testClass.attr2;\r\n    this.attr3 = testClass.attr3;\r\n}\r\n```\r\nNow, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.\r\n\r\nThe solution does not need to assign the values directly, in fact I&#39;d prefer it to call setter methods.\r\n\r\nIt is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the `@RequiredArgsConstructor`, however I need the new object to be *updated* and not created. \r\n\r\nSo something like a `@RequiredArgsSetter` or a `Object.updateInto(Object1 o, Object2 o)` method, but again, it should not create a new object but simply update all the fields of an existing object.\r\n\r\nBonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.","title":"How to update all field of one java object with the values from another one?","body":"<p>Assume the following class:</p>\n<pre><code>public class TestClass {\n    String attr1;\n    String attr2;\n    String attr3;\n}\n</code></pre>\n<p>and a client code like:</p>\n<pre><code>final TestClass testClassA = new TestClass();\ntestClassA.attr1 = &quot;1&quot;;\ntestClassA.attr1 = &quot;2&quot;;\ntestClassA.attr1 = &quot;3&quot;;\n\nfinal TestClass testClassB = new TestClass();\n</code></pre>\n<p>I would like to find way/method that updates <code>testClassB</code> with all the values of <code>testClassA</code>.</p>\n<pre><code>testClassB.updateAll(testClassA)\n</code></pre>\n<p>One such solution would be:</p>\n<pre><code>public void updateAll(TestClass testClass) {\n    this.attr1 = testClass.attr1;\n    this.attr2 = testClass.attr2;\n    this.attr3 = testClass.attr3;\n}\n</code></pre>\n<p>Now, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.</p>\n<p>The solution does not need to assign the values directly, in fact I'd prefer it to call setter methods.</p>\n<p>It is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the <code>@RequiredArgsConstructor</code>, however I need the new object to be <em>updated</em> and not created.</p>\n<p>So something like a <code>@RequiredArgsSetter</code> or a <code>Object.updateInto(Object1 o, Object2 o)</code> method, but again, it should not create a new object but simply update all the fields of an existing object.</p>\n<p>Bonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.</p>\n"},{"tags":["java","ibm-mq","message-queue"],"comments":[{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1667948887,"post_id":74368056,"comment_id":131289333,"body_markdown":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases.","body":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases."},{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1667950943,"post_id":74368056,"comment_id":131289731,"body_markdown":"@Roger: The installation version is 9.2.","body":"@Roger: The installation version is 9.2."},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1668042152,"post_id":74368056,"comment_id":131314080,"body_markdown":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6.","body":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6."}],"answers":[{"tags":[],"owner":{"account_id":25908232,"reputation":46,"user_id":19632961,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667986820,"creation_date":1667986514,"answer_id":74372649,"question_id":74368056,"body_markdown":"It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.\r\n\r\nIn retrieveMessage:\r\n\r\n    byte[] buf = new byte[msg.getDataLength()];\r\n    String message = new String(buf, charset);\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\r\nYou might need to call the readFully (or similar) method to get the data.","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.</p>\n<p>In retrieveMessage:</p>\n<pre><code>byte[] buf = new byte[msg.getDataLength()];\nString message = new String(buf, charset);\nSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\n</code></pre>\n<p>You might need to call the readFully (or similar) method to get the data.</p>\n"},{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042048,"creation_date":1668042048,"answer_id":74383039,"question_id":74368056,"body_markdown":"If you know that your message payload is text (string) then you can do this:\r\n\r\n    String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>If you know that your message payload is text (string) then you can do this:</p>\n<pre><code>String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\nSystem.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\n</code></pre>\n"}],"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74372649,"answer_count":2,"score":2,"last_activity_date":1668042048,"creation_date":1667948033,"question_id":74368056,"body_markdown":"A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.\r\n\r\nFor each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.\r\n\r\nRequester.java:\r\n```\r\npackage com.hellerim.imq.comm.requester;\r\n\r\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\r\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\r\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Requester \r\n{\r\n\tprivate static final int WAIT_WHILE_EMPTY = 100; // ms\r\n\tprivate static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\r\n\tprivate static int LONG_WIDTH_IN_HEX_CHARS = 16;\r\n\tprivate static final Charset charset = CharsetUtil.ISO_8859_1;\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate final MQQueue requestQueue;\r\n\tprivate final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\r\n\tprivate String replyQueueName;\r\n\tprivate final MQQueue replyQueue;\r\n\tprivate final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \r\n\r\n\tprivate static final String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tprivate static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\tprivate static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\r\n\t\r\n    final private Object locker = new Object();\r\n    @GuardedBy(&quot;this&quot;)\r\n    boolean stopped = false;\r\n    \r\n    int rcvd = 0;\r\n    \r\n    public static void main(String[] args) {\r\n    \ttry {\r\n\t\t\tRequester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; poem = writePoem();\r\n\t\t\tRandom requestIds = new Random();\r\n\t\t\tRandom delays = new Random(1000);\r\n\t\t\t\r\n\t\t\tint cnt = 0;\r\n\t\t\tint position = 0;\r\n\t\t\tfor (int i = 0; i &lt; 50; ++i) {\r\n\t\t\t\tif (i == poem.size()) {\r\n\t\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\t\tString text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\t\t\tString request = appRequestFrom(text, requestId);\r\n\t\t\t\t\trq.write(request);\r\n\t\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\t}\r\n\t\t\t\tposition %= poem.size();\r\n\t\t\t\tString line = poem.get(position);\r\n\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\tString request = appRequestFrom(line, requestId);\r\n\t\t\t\trq.write(request);\r\n\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\tposition++;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep((long) Math.ceil((Math.pow(\r\n\t\t\t\t\t\tdelays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(2000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\trq.close();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\n\tpublic Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\r\n\t\tsuper();\r\n\t\tSystem.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\t// get request queue\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n\t\t// get dynamic reply queue\r\n\t\tint inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\r\n\t\treplyQueue = new MQQueue(qMgr,\r\n\t\t\t\tmodelQueueName,\r\n\t\t\t\tinputOptions,\r\n\t\t\t    &quot;&quot;,\r\n\t\t\t    queueNamePattern,\r\n\t\t\t    &quot;&quot;);\r\n\t\treplyQueueName = replyQueue.getName();\r\n\t\tSystem.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\r\n    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t      MQGMO_NO_WAIT +\r\n\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\r\n        // catch-up (for those replies not retrieved after a request was put)\r\n\t\tExecutors.newSingleThreadExecutor().execute(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// read options\r\n\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (!retrieveMessage(getOptions)) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(getOptions.waitInterval);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n    }\r\n\t\r\n\tprivate boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\r\n\t\tMQMessage msg = new MQMessage();\r\n\t\ttry {\r\n\t\t\tmsg.clearMessage();\r\n\t\t\tmsg.seek(0);\r\n\t\t\treplyQueue.get(msg, getOptions);\r\n\t\t\tSystem.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\r\n\t\t\t\tLong.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\r\n\t\t\tbyte[] buf = new byte[msg.getDataLength()];\r\n\t\t\tString message = new String(buf, charset);\r\n\t\t\tSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\t\t} catch (MQException e) {\r\n\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic byte[] write(String message) {\r\n\t\tint positionRequestId = 24;\r\n\t\tint endIndex = positionRequestId + 16;\r\n\t\tCharSequence requestId = message.substring(positionRequestId, endIndex);\r\n\t\tStringBuffer sb = new StringBuffer(&quot;00000000&quot;);\r\n\t\tsb.append(requestId);\r\n\t\tbyte[] id = sb.toString().getBytes(charset);\r\n\t\tMQMessage mqMsg = new MQMessage();\r\n\t\tmqMsg.characterSet = 819;\r\n\t\tmqMsg.encoding = MQENC_INTEGER_NORMAL;\r\n\t\tmqMsg.format = MQFMT_STRING;\r\n\t\tmqMsg.messageType = MQMT_REQUEST;\r\n\t\tmqMsg.messageId = id;\r\n\t\tmqMsg.correlationId = id;\r\n\t\tmqMsg.replyToQueueName = replyQueueName;\r\n\t\ttry {\r\n\t\t\tmqMsg.writeString(message);\r\n\t\t\tmqMsg.seek(0);\r\n\t\t    MQPutMessageOptions pmo = new MQPutMessageOptions();\r\n\t\t    pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\trequestQueue.put(mqMsg, pmo);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// try to read from reply queue fail immediately\r\n\t\ttry {\r\n\t\t\tretrieveMessage(getOptions);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\t\tstop();\r\n\t\ttry {\r\n\t\t\tThread.sleep(2 * WAIT_WHILE_EMPTY);\r\n\t\t} catch (InterruptedException e1) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (requestQueue != null) {\r\n\t\t\t\trequestQueue.close();\r\n\t\t\t}\r\n\t\t\tif (qMgr != null) {\r\n\t\t\t\tqMgr.disconnect();\r\n\t\t\t}\r\n\t\t} catch (MQException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void stop() {\r\n\t\tsynchronized(locker) {\r\n\t\t\tstopped = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static List&lt;String&gt; writePoem() {\r\n\t\tList&lt;String&gt; poem = new ArrayList&lt;&gt;();\r\n\t\tpoem.add(&quot;Das Nasobem&quot;);\r\n\t\tpoem.add(&quot;von Joachim Ringelnatz&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem,&quot;);\r\n\t\tpoem.add(&quot;von seineme Kind begleitet -&quot;);\r\n\t\tpoem.add(&quot;es steht noch nicht im Brehm.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Es steht noch nicht im Meyer&quot;);\r\n\t\tpoem.add(&quot;und auch im Brockhaus nicht -&quot;);\r\n\t\tpoem.add(&quot;es tritt aus meiner Leier&quot;);\r\n\t\tpoem.add(&quot;zum ersten Mal ans Licht.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;- wie schon gesagt - seitdem&quot;);\r\n\t\tpoem.add(&quot;von seinem Kind begleitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\treturn poem;\r\n\t}\r\n\r\n\tprivate static String iToHex(int num, int places) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tchar[] digits = new char[] { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\t\tfor (int i = 0; i &lt; places; ++i) {\r\n\t\t\tsb.append(digits[num % places]);\r\n\t\t\tnum /= places;\r\n\t\t}\r\n\t\treturn sb.reverse().toString();\r\n\t}\r\n\t\r\n\tprivate static String iToHex(int num) {\r\n\t\treturn iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\r\n\t}\r\n\t\r\n\r\n\tprivate static String appRequestFrom(String msgBody, int requestId) {\r\n\t\tint headerLength = 72;\r\n        // includes message body length field here!\r\n\t\tint bodyLength = msgBody.length();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append(&quot;GHI &quot;);                            // magic\r\n\t\tsb.append(&quot;1&quot;);                               // version major\r\n\t\tsb.append(&quot;0&quot;);                               // version minor\r\n\t\tsb.append(&quot;0&quot;);                               // flags\r\n\t\tsb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\r\n\t\tsb.append(iToHex(headerLength + bodyLength)); // message length\r\n\t\tsb.append(iToHex(requestId));                 // request id\r\n\t\tsb.append(iToHex(0));                         // timeout\r\n\t\tsb.append(iToHex(bodyLength));                // message body length\r\n\t\tsb.append(msgBody);                           // message body\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nResponder.java:\r\n\r\n```\r\npackage com.hellerim.imq.comm.responder;\r\n\r\nimport static com.ibm.mq.constants.CMQC.*;\r\n\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Responder\r\n{\r\n\t\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate MQQueue requestQueue;\r\n\tprivate Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\r\n\tprivate final Object locker = new Object();\r\n\tstatic final private int WAIT_WHILE_EMPTY = 100; // ms\r\n\t@GuardedBy(&quot;locker&quot;)\r\n\tprivate boolean stopped = false;\r\n\tThread fetcherThread = null;\r\n\tprivate final static byte MESSAGE_TYPE_REPLY = 52; // &#39;4&#39;\r\n\t\r\n\tpublic final static String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tpublic final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\t\r\n    public static void main( String[] args ) throws MQException, IOException\r\n    {\r\n        System.out.println( &quot;running reponder application&quot; );\r\n        try {\r\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\r\n        } catch(Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\r\n\t\tSystem.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\tint openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n    }\r\n    \r\n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\r\n    \t\r\n    \tif (replyQueues.containsKey(replyQueueName)) {\r\n    \t\treturn replyQueues.get(replyQueueName);\r\n    \t}\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\r\n        \r\n        replyQueues.put(replyQueueName, replyQueue);\r\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\r\n        return replyQueue;\r\n    }\r\n    \r\n    private void start() throws IOException {\r\n    \t\r\n        Runnable fetcher = new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tint cnt = 0;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\tMQMessage msg = new MQMessage();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//msg.clearMessage();\r\n\t\t\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t\t\t\t    \r\n\t\t\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\t\t\trequestQueue.get(msg, getOptions);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMQQueue replyQueue = null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treplyQueue = getReplyQueue(msg.replyToQueueName);\r\n\t\t\t\t\t\t} catch(MQException e) {\r\n\t\t\t\t\t\t\tif (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\r\n\t\t\t\t\t\t\t\t// dynamic reply queue does not exist any more =&gt; message out of date\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// set message type for reply\r\n\t\t\t\t\t\tif (msg.getDataLength() &lt; 56) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;invalid message:&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\tint typePosition = 7;\r\n\t\t\t\t\t\tmsg.seek(typePosition);\r\n\t\t\t\t\t\tmsg.writeByte(MESSAGE_TYPE_REPLY);\r\n\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString text = Msg2Text(msg);\r\n\t\t\t\t\t\tMQMessage msgOut = new MQMessage();\r\n\t\t\t\t\t\tmsgOut.characterSet = 819;\r\n\t\t\t\t\t\tmsgOut.encoding = MQENC_INTEGER_NORMAL;\r\n\t\t\t\t\t\tmsgOut.format = MQFMT_STRING;\r\n\t\t\t\t\t\tmsgOut.messageType = MQMT_REPLY;\r\n\t\t\t\t\t\tmsgOut.messageId = msg.messageId;\r\n\t\t\t\t\t\tmsgOut.correlationId = msg.correlationId;\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tmsgOut.writeString(text);\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tSystem.out.println(text);\r\n\t\t\t\t\t\t\r\n//\t\t\t\t\t\tSystem.out.println(&quot;Responder: message received&quot;);\r\n\t\t\t\t        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\r\n\t\t\t\t        pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\t\t\t\treplyQueue.put(msgOut, pmo);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\r\n\t\t\t\t\t} catch (MQException e) {\r\n\t\t\t\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\t\t\t\t; // NOOP\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\t\tSystem.out.println(msg);\r\n\t\t\t\t\t\t\t} catch (EOFException e2) {\r\n\t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tshutdown();\r\n\t\t\t}\r\n\r\n        };\r\n        \r\n        Thread task = new Thread(fetcher);\r\n        task.run();\r\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\r\n        System.in.read();\r\n        System.out.println();\r\n        synchronized(locker) {\r\n        \tstopped = true;\r\n        }\r\n        try {\r\n\t\t\ttask.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    private static String Msg2Text(MQMessage msg) {\r\n    \t\r\n\t\tint length;\r\n\t\tString text = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tlength = msg.getDataLength();\r\n\t\t\tbyte[] buf = new byte[length];\r\n\t\t\tmsg.seek(0);\r\n\t\t\tmsg.readFully(buf);\r\n\t\t\ttext = new String(buf, CharsetUtil.ISO_8859_1);\r\n\t\t\tmsg.seek(0);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn text;\r\n    }\r\n    \r\n    private boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n    \t\r\n    }\r\n    \r\n\tprivate void shutdown() {\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\nshutting down responder... &quot;);\r\n\t\t\r\n\t\tfor (MQQueue queue : replyQueues.values()) {\r\n\t\t\ttry {\r\n\t\t\t\tqueue.close();\r\n\t\t\t} catch (MQException e) { }\r\n\t\t}\r\n\t\treplyQueues.clear();\r\n\t\ttry {\r\n\t\t\tqMgr.close();\r\n\t\t} catch (MQException e) { }\r\n\t\r\n\t\tSystem.out.println(&quot;done.&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nIs there any idea what might be wrong?\r\n\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.</p>\n<p>For each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.</p>\n<p>Requester.java:</p>\n<pre><code>package com.hellerim.imq.comm.requester;\n\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\n\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\nimport java.util.stream.Collectors;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Requester \n{\n    private static final int WAIT_WHILE_EMPTY = 100; // ms\n    private static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\n    private static int LONG_WIDTH_IN_HEX_CHARS = 16;\n    private static final Charset charset = CharsetUtil.ISO_8859_1;\n    private MQQueueManager qMgr;\n    private final MQQueue requestQueue;\n    private final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\n    private String replyQueueName;\n    private final MQQueue replyQueue;\n    private final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \n\n    private static final String MQ_MANAGER = &quot;MY_QM&quot;;\n    private static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    private static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\n    \n    final private Object locker = new Object();\n    @GuardedBy(&quot;this&quot;)\n    boolean stopped = false;\n    \n    int rcvd = 0;\n    \n    public static void main(String[] args) {\n        try {\n            Requester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\n            \n            List&lt;String&gt; poem = writePoem();\n            Random requestIds = new Random();\n            Random delays = new Random(1000);\n            \n            int cnt = 0;\n            int position = 0;\n            for (int i = 0; i &lt; 50; ++i) {\n                if (i == poem.size()) {\n                    int requestId = requestIds.nextInt(99999) + 1;\n                    String text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\n                    String request = appRequestFrom(text, requestId);\n                    rq.write(request);\n                    System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                }\n                position %= poem.size();\n                String line = poem.get(position);\n                int requestId = requestIds.nextInt(99999) + 1;\n                String request = appRequestFrom(line, requestId);\n                rq.write(request);\n                System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                position++;\n                try {\n                    Thread.sleep((long) Math.ceil((Math.pow(\n                        delays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\n                } catch (InterruptedException e) {\n                    // ignore\n                }\n\n            }\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                // ignore\n            }\n            rq.close();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\n        super();\n        System.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        // get request queue\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n        // get dynamic reply queue\n        int inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\n        replyQueue = new MQQueue(qMgr,\n                modelQueueName,\n                inputOptions,\n                &quot;&quot;,\n                queueNamePattern,\n                &quot;&quot;);\n        replyQueueName = replyQueue.getName();\n        System.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\n        getOptions.options = MQGMO_NO_SYNCPOINT +\n                  MQGMO_NO_WAIT +\n                  MQGMO_FAIL_IF_QUIESCING;\n        \n        // catch-up (for those replies not retrieved after a request was put)\n        Executors.newSingleThreadExecutor().execute(new Runnable() {\n\n            @Override\n            public void run() {\n                // read options\n                MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                getOptions.options = MQGMO_NO_SYNCPOINT +\n                      MQGMO_WAIT +\n                      MQGMO_FAIL_IF_QUIESCING;\n                getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                while(proceed()) {\n                    try {\n                        if (!retrieveMessage(getOptions)) {\n                            try {\n                                Thread.sleep(getOptions.waitInterval);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }           \n        });\n    }\n    \n    private boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\n        MQMessage msg = new MQMessage();\n        try {\n            msg.clearMessage();\n            msg.seek(0);\n            replyQueue.get(msg, getOptions);\n            System.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\n                Long.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\n            byte[] buf = new byte[msg.getDataLength()];\n            String message = new String(buf, charset);\n            System.out.println(&quot;Requester: message received:\\n&quot; + message);\n        } catch (MQException e) {\n            if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n    public byte[] write(String message) {\n        int positionRequestId = 24;\n        int endIndex = positionRequestId + 16;\n        CharSequence requestId = message.substring(positionRequestId, endIndex);\n        StringBuffer sb = new StringBuffer(&quot;00000000&quot;);\n        sb.append(requestId);\n        byte[] id = sb.toString().getBytes(charset);\n        MQMessage mqMsg = new MQMessage();\n        mqMsg.characterSet = 819;\n        mqMsg.encoding = MQENC_INTEGER_NORMAL;\n        mqMsg.format = MQFMT_STRING;\n        mqMsg.messageType = MQMT_REQUEST;\n        mqMsg.messageId = id;\n        mqMsg.correlationId = id;\n        mqMsg.replyToQueueName = replyQueueName;\n        try {\n            mqMsg.writeString(message);\n            mqMsg.seek(0);\n            MQPutMessageOptions pmo = new MQPutMessageOptions();\n            pmo.options = MQPMO_NO_SYNCPOINT;\n            requestQueue.put(mqMsg, pmo);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n        // try to read from reply queue fail immediately\n        try {\n            retrieveMessage(getOptions);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return id;\n    }\n    \n    public void close() {\n        stop();\n        try {\n            Thread.sleep(2 * WAIT_WHILE_EMPTY);\n        } catch (InterruptedException e1) {\n            // ignore\n        }\n        try {\n            if (requestQueue != null) {\n                requestQueue.close();\n            }\n            if (qMgr != null) {\n                qMgr.disconnect();\n            }\n        } catch (MQException e) {\n            // ignore\n        }\n    }\n    \n    public boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n    }\n    \n    public void stop() {\n        synchronized(locker) {\n            stopped = true;\n        }\n    }\n    \n    private static List&lt;String&gt; writePoem() {\n        List&lt;String&gt; poem = new ArrayList&lt;&gt;();\n        poem.add(&quot;Das Nasobem&quot;);\n        poem.add(&quot;von Joachim Ringelnatz&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;einher das Nasobem,&quot;);\n        poem.add(&quot;von seineme Kind begleitet -&quot;);\n        poem.add(&quot;es steht noch nicht im Brehm.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Es steht noch nicht im Meyer&quot;);\n        poem.add(&quot;und auch im Brockhaus nicht -&quot;);\n        poem.add(&quot;es tritt aus meiner Leier&quot;);\n        poem.add(&quot;zum ersten Mal ans Licht.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;- wie schon gesagt - seitdem&quot;);\n        poem.add(&quot;von seinem Kind begleitet&quot;);\n        poem.add(&quot;einher das Nasobem.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;&quot;);\n        return poem;\n    }\n\n    private static String iToHex(int num, int places) {\n        StringBuilder sb = new StringBuilder();\n        char[] digits = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };\n        for (int i = 0; i &lt; places; ++i) {\n            sb.append(digits[num % places]);\n            num /= places;\n        }\n        return sb.reverse().toString();\n    }\n    \n    private static String iToHex(int num) {\n        return iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\n    }\n    \n\n    private static String appRequestFrom(String msgBody, int requestId) {\n        int headerLength = 72;\n        // includes message body length field here!\n        int bodyLength = msgBody.length();\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;GHI &quot;);                            // magic\n        sb.append(&quot;1&quot;);                               // version major\n        sb.append(&quot;0&quot;);                               // version minor\n        sb.append(&quot;0&quot;);                               // flags\n        sb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\n        sb.append(iToHex(headerLength + bodyLength)); // message length\n        sb.append(iToHex(requestId));                 // request id\n        sb.append(iToHex(0));                         // timeout\n        sb.append(iToHex(bodyLength));                // message body length\n        sb.append(msgBody);                           // message body\n        return sb.toString();\n    }\n    \n\n}\n</code></pre>\n<p>Responder.java:</p>\n<pre><code>package com.hellerim.imq.comm.responder;\n\nimport static com.ibm.mq.constants.CMQC.*;\n\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Responder\n{\n    \n    private MQQueueManager qMgr;\n    private MQQueue requestQueue;\n    private Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\n    private final Object locker = new Object();\n    static final private int WAIT_WHILE_EMPTY = 100; // ms\n    @GuardedBy(&quot;locker&quot;)\n    private boolean stopped = false;\n    Thread fetcherThread = null;\n    private final static byte MESSAGE_TYPE_REPLY = 52; // '4'\n    \n    public final static String MQ_MANAGER = &quot;MY_QM&quot;;\n    public final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    \n    public static void main( String[] args ) throws MQException, IOException\n    {\n        System.out.println( &quot;running reponder application&quot; );\n        try {\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\n        System.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        int openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n    }\n    \n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\n        \n        if (replyQueues.containsKey(replyQueueName)) {\n            return replyQueues.get(replyQueueName);\n        }\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\n        \n        replyQueues.put(replyQueueName, replyQueue);\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\n        return replyQueue;\n    }\n    \n    private void start() throws IOException {\n        \n        Runnable fetcher = new Runnable() {\n\n            @Override\n            public void run() {\n                int cnt = 0;\n                while(proceed()) {\n                    MQMessage msg = new MQMessage();\n                    try {\n                        //msg.clearMessage();\n                        MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                        \n                        getOptions.options = MQGMO_NO_SYNCPOINT +\n                          MQGMO_WAIT +\n                          MQGMO_FAIL_IF_QUIESCING;\n                        getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                        requestQueue.get(msg, getOptions);\n                        System.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\n                        \n                        MQQueue replyQueue = null;\n                        try {\n                            replyQueue = getReplyQueue(msg.replyToQueueName);\n                        } catch(MQException e) {\n                            if (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\n                                // dynamic reply queue does not exist any more =&gt; message out of date\n                                continue;\n                            }\n                            throw e;\n                        }\n                        // set message type for reply\n                        if (msg.getDataLength() &lt; 56) {\n                            System.out.println(&quot;invalid message:&quot;);\n                            System.out.println(Msg2Text(msg));\n                            continue;\n                        }\n                        System.out.println(Msg2Text(msg));\n                        int typePosition = 7;\n                        msg.seek(typePosition);\n                        msg.writeByte(MESSAGE_TYPE_REPLY);\n                        msg.seek(0);\n                        \n                        String text = Msg2Text(msg);\n                        MQMessage msgOut = new MQMessage();\n                        msgOut.characterSet = 819;\n                        msgOut.encoding = MQENC_INTEGER_NORMAL;\n                        msgOut.format = MQFMT_STRING;\n                        msgOut.messageType = MQMT_REPLY;\n                        msgOut.messageId = msg.messageId;\n                        msgOut.correlationId = msg.correlationId;\n                        msgOut.seek(0);\n                        msgOut.writeString(text);\n                        msgOut.seek(0);\n                        System.out.println(text);\n                        \n//                      System.out.println(&quot;Responder: message received&quot;);\n                        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\n                        pmo.options = MQPMO_NO_SYNCPOINT;\n                        replyQueue.put(msgOut, pmo);\n                        System.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\n                    } catch (MQException e) {\n                        if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                            ; // NOOP\n                        } else {\n                            try {\n                                msg.seek(0);\n                                System.out.println(msg);\n                            } catch (EOFException e2) {\n                                // TODO Auto-generated catch block\n                                e2.printStackTrace();\n                            }\n                            e.printStackTrace();\n                            try {\n                                Thread.sleep(1000);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                shutdown();\n            }\n\n        };\n        \n        Thread task = new Thread(fetcher);\n        task.run();\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\n        System.in.read();\n        System.out.println();\n        synchronized(locker) {\n            stopped = true;\n        }\n        try {\n            task.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    private static String Msg2Text(MQMessage msg) {\n        \n        int length;\n        String text = &quot;&quot;;\n        try {\n            length = msg.getDataLength();\n            byte[] buf = new byte[length];\n            msg.seek(0);\n            msg.readFully(buf);\n            text = new String(buf, CharsetUtil.ISO_8859_1);\n            msg.seek(0);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return text;\n    }\n    \n    private boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n        \n    }\n    \n    private void shutdown() {\n        \n        System.out.print(&quot;\\nshutting down responder... &quot;);\n        \n        for (MQQueue queue : replyQueues.values()) {\n            try {\n                queue.close();\n            } catch (MQException e) { }\n        }\n        replyQueues.clear();\n        try {\n            qMgr.close();\n        } catch (MQException e) { }\n    \n        System.out.println(&quot;done.&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Is there any idea what might be wrong?</p>\n"},{"tags":["java","ssl","tls1.2","filezilla","edtftpj"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1668017448,"post_id":74378457,"comment_id":131307960,"body_markdown":"What about the used runtime and OS environment of client and server (platform and versions used)?","body":"What about the used runtime and OS environment of client and server (platform and versions used)?"}],"answers":[{"tags":[],"owner":{"account_id":54536,"reputation":1375,"user_id":163168,"accept_rate":67,"display_name":"HansA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668041354,"creation_date":1668041354,"answer_id":74382979,"question_id":74378457,"body_markdown":"This is probably happening because FileZilla Server is using an ECC certificate, which isn&#39;t yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>This is probably happening because FileZilla Server is using an ECC certificate, which isn't yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.</p>\n"}],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74382979,"answer_count":1,"score":0,"last_activity_date":1668041354,"creation_date":1668012274,"question_id":74378457,"body_markdown":"We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).\r\n\r\nI get that logs in filezilla server\r\n\r\n```\r\n FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\r\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\r\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\r\n```\r\nAnd that exception in java client :\r\n```\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\r\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\r\n\tat com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\r\n\tat com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\r\n```\r\n\r\nClient code (adding all the cipher)\r\n\r\n  \r\n\r\n    ftpClient = new SSLFTPClient();\r\n    ftpClient.setRemoteHost(host);\r\n    ftpClient.setRemotePort(port);\r\n    //add all ciphers\r\n    ftpClient.disableAllCipherSuites();\r\n    ftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\r\n    \r\n    ftpClient.setValidateServer(false);\r\n    ftpClient.connect();\r\n    ftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\r\n\r\n","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).</p>\n<p>I get that logs in filezilla server</p>\n<pre><code> FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\n</code></pre>\n<p>And that exception in java client :</p>\n<pre><code>DEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\n    at com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\n    at com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\n</code></pre>\n<p>Client code (adding all the cipher)</p>\n<pre><code>ftpClient = new SSLFTPClient();\nftpClient.setRemoteHost(host);\nftpClient.setRemotePort(port);\n//add all ciphers\nftpClient.disableAllCipherSuites();\nftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\n\nftpClient.setValidateServer(false);\nftpClient.connect();\nftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data","jedis"],"answers":[{"tags":[],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668040804,"creation_date":1668040804,"answer_id":74382913,"question_id":74382587,"body_markdown":"I figured out this is not a bug but a feature. \r\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties\r\n\r\n```\r\n&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n```","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I figured out this is not a bug but a feature.\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties</p>\n<pre><code>&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74382913,"answer_count":1,"score":-1,"last_activity_date":1668040931,"creation_date":1668037023,"question_id":74382587,"body_markdown":"I have reached a conflict situation between Spring @Repository and @Cacheable.\r\n\r\n1. I&#39;m using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.\r\n\r\n```\r\n@Service\r\npublic class ServiceA{\r\n\r\n  @Cacheable(&quot;cacheName&quot;)\r\n    public Response getResponse(){\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EnableCaching\r\npublic class SpringBootApplication {\r\n...\r\n}\r\n```\r\n\r\n2. I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.\r\n\r\n```\r\n@Repository\r\npublic class RedisRepository{\r\n\r\n    public void setSomething(){\r\n    }\r\n\r\n    public Something getSomething(){\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableRedisRepositories\r\npublic class RedisConfig {\r\n  @Bean\r\n  public JedisConnectionFactory connectionFactory() {\r\n  }\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n  }\r\n}\r\n```\r\n\r\nThe case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.\r\n\r\nHow can I keep the in-memory cache and don&#39;t use remote Redis for caching?\r\n","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I have reached a conflict situation between Spring @Repository and @Cacheable.</p>\n<ol>\n<li>I'm using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.</li>\n</ol>\n<pre><code>@Service\npublic class ServiceA{\n\n  @Cacheable(&quot;cacheName&quot;)\n    public Response getResponse(){\n\n    }\n}\n</code></pre>\n<pre><code>@EnableCaching\npublic class SpringBootApplication {\n...\n}\n</code></pre>\n<ol start=\"2\">\n<li>I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.</li>\n</ol>\n<pre><code>@Repository\npublic class RedisRepository{\n\n    public void setSomething(){\n    }\n\n    public Something getSomething(){\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n  @Bean\n  public JedisConnectionFactory connectionFactory() {\n  }\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n  }\n}\n</code></pre>\n<p>The case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.</p>\n<p>How can I keep the in-memory cache and don't use remote Redis for caching?</p>\n"},{"tags":["java","arrays","partition"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037015,"post_id":74382528,"comment_id":131313278,"body_markdown":"hi &amp; welcome! `partition` looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more","body":"hi &amp; welcome! <code>partition</code> looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037585,"post_id":74382528,"comment_id":131313383,"body_markdown":"..so, there&#39;s nothing to fix: `[5, 3, 8, 9, 12]` is correct output!","body":"..so, there&#39;s nothing to fix: <code>[5, 3, 8, 9, 12]</code> is correct output!"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668038167,"post_id":74382528,"comment_id":131313470,"body_markdown":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it.","body":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038409,"post_id":74382528,"comment_id":131313506,"body_markdown":"No, pivot element is last (`12` for the given input)...if you want another pivot, you need to adjust (initialization+ loop)","body":"No, pivot element is last (<code>12</code> for the given input)...if you want another pivot, you need to adjust (initialization+ loop)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038632,"post_id":74382528,"comment_id":131313543,"body_markdown":"`int left=1, right=a.length-1, pivot=0;` could work with same loop","body":"<code>int left=1, right=a.length-1, pivot=0;</code> could work with same loop"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039338,"post_id":74382528,"comment_id":131313641,"body_markdown":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;","body":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039472,"post_id":74382528,"comment_id":131313654,"body_markdown":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?","body":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039585,"post_id":74382528,"comment_id":131313675,"body_markdown":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a).","body":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a)."},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039594,"post_id":74382528,"comment_id":131313677,"body_markdown":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot.","body":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668074631,"post_id":74382528,"comment_id":131320745,"body_markdown":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)","body":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)"}],"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668039809,"creation_date":1668036429,"question_id":74382528,"body_markdown":"I&#39;m working on this program that is essentially using the partition algorithm but it&#39;s meant to run from the right and not the left. However, I am having problems as it&#39;s not running the correct code.\r\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I&#39;m getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class PartitionPivotOnRight {\r\n\r\n\tpublic static int partition(int[] a) {\r\n\t\tint left = 0;\r\n\t\tint right = a.length - 2;\r\n\t\tint pivot = a.length - 1;\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\twhile (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\r\n\t\t\t\t++left;\r\n\t\t\twhile (a[right] &gt; a[pivot])\r\n\t\t\t\t--right;\r\n\t\t\tif (left &lt;= right)\r\n\t\t\t\tswap(a, left++, right--);\r\n\t\t}\r\n\t\tswap(a, left, pivot);\r\n\t\treturn left;\r\n\t}\r\n\r\n\tpublic static void swap(int[] a, int i, int j) {\r\n\t\tint temp = a[i];\r\n\t\ta[i] = a[j];\r\n\t\ta[j] = temp;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint N = 10;\r\n\t\tint[] a = new int[N];\r\n\r\n\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\ta[i] = (int) (Math.random() * 100);\r\n\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tSystem.out.println(partition(a));\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}\r\n}","title":"How can I partition from the right and not the left?","body":"<p>I'm working on this program that is essentially using the partition algorithm but it's meant to run from the right and not the left. However, I am having problems as it's not running the correct code.\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I'm getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.</p>\n<pre><code>import java.util.Arrays;\n\npublic class PartitionPivotOnRight {\n\n    public static int partition(int[] a) {\n        int left = 0;\n        int right = a.length - 2;\n        int pivot = a.length - 1;\n\n        while (left &lt;= right) {\n            while (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\n                ++left;\n            while (a[right] &gt; a[pivot])\n                --right;\n            if (left &lt;= right)\n                swap(a, left++, right--);\n        }\n        swap(a, left, pivot);\n        return left;\n    }\n\n    public static void swap(int[] a, int i, int j) {\n        int temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static void main(String[] args) {\n        int N = 10;\n        int[] a = new int[N];\n\n        for (int i = 0; i &lt; N; i++)\n            a[i] = (int) (Math.random() * 100);\n\n        System.out.println(Arrays.toString(a));\n        System.out.println(partition(a));\n        System.out.println(Arrays.toString(a));\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","testng","cucumber-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633986397,"post_id":69529914,"comment_id":122901275,"body_markdown":"I am not sure how you use testng.xml. Normally cucumber run does not require that file.","body":"I am not sure how you use testng.xml. Normally cucumber run does not require that file."},{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1634057391,"post_id":69529914,"comment_id":122922275,"body_markdown":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )","body":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634021953,"creation_date":1634011758,"answer_id":69534982,"question_id":69529914,"body_markdown":"please use the following command, we should not use single quote \r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @temp&quot;\r\n\r\nfor multiple,\r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;","title":"How to execute cucumber feature using tags from maven?","body":"<p>please use the following command, we should not use single quote</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @temp&quot;\n</code></pre>\n<p>for multiple,</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;\n</code></pre>\n"}],"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668039703,"creation_date":1633971415,"question_id":69529914,"body_markdown":"How to execute cucumber from maven with tags?\r\n\r\nwhat I have tried is \r\n\r\n1. mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;\r\n2. mvn test -Dcucumber.options=&quot;--tags &#39;@TestTag&#39;&quot;\r\n\r\nmy pom.xml has for  testng.xml files, ( *is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?* ) \r\n```\r\n             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n*Am using cucumber.io 7.0.0*\r\n","title":"How to execute cucumber feature using tags from maven?","body":"<p>How to execute cucumber from maven with tags?</p>\n<p>what I have tried is</p>\n<ol>\n<li>mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;</li>\n<li>mvn test -Dcucumber.options=&quot;--tags '@TestTag'&quot;</li>\n</ol>\n<p>my pom.xml has for  testng.xml files, ( <em>is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?</em> )</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\n                        &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><em>Am using cucumber.io 7.0.0</em></p>\n"},{"tags":["java","sql-server","google-bigquery","google-cloud-dataflow"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1667568997,"post_id":74301263,"comment_id":131203468,"body_markdown":"Hi @alex-mont, for your requirement, you can check this [StackOverflow question](https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja) . Let me know if that helps.","body":"Hi @alex-mont, for your requirement, you can check this <a href=\"https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja\">StackOverflow question</a> . Let me know if that helps."},{"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"score":0,"creation_date":1667579450,"post_id":74301263,"comment_id":131207586,"body_markdown":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work.","body":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2476175,"reputation":1299,"user_id":2156784,"display_name":"Rathish Kumar B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667722438,"creation_date":1667722438,"answer_id":74334228,"question_id":74301263,"body_markdown":"I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.\r\n\r\nFor me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.\r\n\r\n\r\n\r\n\r\n    import pyodbc \r\n    import sqlalchemy\r\n    from sqlalchemy.engine import URL\r\n    import datetime\r\n    from google.cloud import bigquery\r\n    from google.oauth2 import service_account\r\n    \r\n    print(&quot;Sync job started at :&quot;, datetime.datetime.now())\r\n    \r\n    credentials = service_account.Credentials.from_service_account_file(&#39;sa-key.json&#39;)\r\n    projectid = &quot;myproject&quot;\r\n    tableid = &quot;projectid.dataset.table&quot;\r\n    client = bigquery.Client(credentials= credentials,project=projectid)\r\n    \r\n    server = &#39;cloudsql-proxyip&#39; \r\n    database = &#39;db&#39; \r\n    username = &#39;user&#39; \r\n    password = &#39;pwd&#39; \r\n    driver = &quot;{ODBC Driver 18 for SQL Server}&quot;\r\n    port = 1433\r\n    \r\n    cnxn = pyodbc.connect(&#39;DRIVER={ODBC Driver 18 for SQL Server};SERVER=&#39;+server+&#39;;DATABASE=&#39;+database+&#39;;UID=&#39;+username+&#39;;PWD=&#39;+ password+&#39;;TrustServerCertificate=YES;&#39;)\r\n    cursor = cnxn.cursor()\r\n    \r\n    def HandleHierarchyId(v):\r\n        return str(v)\r\n    \r\n    connection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\r\n    connection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\r\n    sql_engine = sqlalchemy.create_engine(connection_url)\r\n    \r\n    select_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\r\n    \r\n    print(&quot;Creating connetion&quot;)\r\n    db = sql_engine.connect().connection\r\n    db.add_output_converter(-151, HandleHierarchyId)\r\n        \r\n    print(&quot;Fetching data&quot;)\r\n    data = db.execute(select_stmt).fetchall()\r\n    md = sqlalchemy.MetaData()\r\n    table = sqlalchemy.Table(&#39;view&#39;, md, autoload=True, autoload_with=sql_engine)\r\n    columns = table.c\r\n    \r\n    column_list = []\r\n    for column in columns:\r\n        column_list.append(column.name)\r\n    \r\n    \r\n    def split(a, n):\r\n        k, m = divmod(len(a), n)\r\n        return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\r\n    \r\n    \r\n    def to_json(row, columns):\r\n        newlist = list(row)\r\n        newdicts = dict(zip(columns, newlist))\r\n        return newdicts\r\n    \r\n    def ingestdata(tableid, data):\r\n        table = bigquery.Table.from_string(tableid)\r\n        print(&quot;Data ingestion started&quot;)\r\n        errors = client.insert_rows_json(table, data)  # Make an API request.\r\n        if errors == []:\r\n            print(&quot;New rows have been added.&quot;)\r\n        else:\r\n            print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\r\n    \r\n    insertdata = []\r\n    for row in data:\r\n        newdict = to_json(row, column_list)\r\n        insertdata.append(newdict)\r\n    \r\n    print(&quot;Total record count :&quot;, len(insertdata))\r\n    \r\n    # BigQuery POST API limitations - split the list into multiple smaller chunks\r\n    records = split(insertdata, 10)\r\n    \r\n    \r\n    for r in records:\r\n        print(&quot;Batch record count :&quot;, len(r))\r\n        ingestdata(tableid=tableid, data=r)\r\n    \r\n    \r\n    print(&quot;Total records inserted : &quot;, len(insertdata))\r\n    print(&quot;Sync job ended at :&quot;, datetime.datetime.now())\r\n\r\n\r\n","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.</p>\n<p>For me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.</p>\n<pre><code>import pyodbc \nimport sqlalchemy\nfrom sqlalchemy.engine import URL\nimport datetime\nfrom google.cloud import bigquery\nfrom google.oauth2 import service_account\n\nprint(&quot;Sync job started at :&quot;, datetime.datetime.now())\n\ncredentials = service_account.Credentials.from_service_account_file('sa-key.json')\nprojectid = &quot;myproject&quot;\ntableid = &quot;projectid.dataset.table&quot;\nclient = bigquery.Client(credentials= credentials,project=projectid)\n\nserver = 'cloudsql-proxyip' \ndatabase = 'db' \nusername = 'user' \npassword = 'pwd' \ndriver = &quot;{ODBC Driver 18 for SQL Server}&quot;\nport = 1433\n\ncnxn = pyodbc.connect('DRIVER={ODBC Driver 18 for SQL Server};SERVER='+server+';DATABASE='+database+';UID='+username+';PWD='+ password+';TrustServerCertificate=YES;')\ncursor = cnxn.cursor()\n\ndef HandleHierarchyId(v):\n    return str(v)\n\nconnection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\nconnection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\nsql_engine = sqlalchemy.create_engine(connection_url)\n\nselect_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\n\nprint(&quot;Creating connetion&quot;)\ndb = sql_engine.connect().connection\ndb.add_output_converter(-151, HandleHierarchyId)\n    \nprint(&quot;Fetching data&quot;)\ndata = db.execute(select_stmt).fetchall()\nmd = sqlalchemy.MetaData()\ntable = sqlalchemy.Table('view', md, autoload=True, autoload_with=sql_engine)\ncolumns = table.c\n\ncolumn_list = []\nfor column in columns:\n    column_list.append(column.name)\n\n\ndef split(a, n):\n    k, m = divmod(len(a), n)\n    return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\n\n\ndef to_json(row, columns):\n    newlist = list(row)\n    newdicts = dict(zip(columns, newlist))\n    return newdicts\n\ndef ingestdata(tableid, data):\n    table = bigquery.Table.from_string(tableid)\n    print(&quot;Data ingestion started&quot;)\n    errors = client.insert_rows_json(table, data)  # Make an API request.\n    if errors == []:\n        print(&quot;New rows have been added.&quot;)\n    else:\n        print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\n\ninsertdata = []\nfor row in data:\n    newdict = to_json(row, column_list)\n    insertdata.append(newdict)\n\nprint(&quot;Total record count :&quot;, len(insertdata))\n\n# BigQuery POST API limitations - split the list into multiple smaller chunks\nrecords = split(insertdata, 10)\n\n\nfor r in records:\n    print(&quot;Batch record count :&quot;, len(r))\n    ingestdata(tableid=tableid, data=r)\n\n\nprint(&quot;Total records inserted : &quot;, len(insertdata))\nprint(&quot;Sync job ended at :&quot;, datetime.datetime.now())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668036633,"creation_date":1667830282,"answer_id":74347960,"question_id":74301263,"body_markdown":"Solved in this way:\r\n\r\n 1. Parse datetime columns when reading tables with SQL function `CONVERT`.\r\n 2. Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.\r\n3. Bigquery will cast that columns automatically.\r\n\r\nConsider this example. You have the SQL Server table\r\n    \r\n    CREATE TABLE User(id varchar(N), date_insert datatime);\r\n\r\nStep n.1: \r\n\r\n    SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \r\naccording to: [date &amp; time conversion][1].\r\n\r\nStep n.2 Create User table in BigQuery with `id` as `STRING(N)` and `date_insert` as `DATETIME`. \r\n\r\nStep n.3 Ingest your data.\r\n\r\n  [1]: https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>Solved in this way:</p>\n<ol>\n<li>Parse datetime columns when reading tables with SQL function <code>CONVERT</code>.</li>\n<li>Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.</li>\n<li>Bigquery will cast that columns automatically.</li>\n</ol>\n<p>Consider this example. You have the SQL Server table</p>\n<pre><code>CREATE TABLE User(id varchar(N), date_insert datatime);\n</code></pre>\n<p>Step n.1:</p>\n<pre><code>SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \n</code></pre>\n<p>according to: <a href=\"https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/\" rel=\"nofollow noreferrer\">date &amp; time conversion</a>.</p>\n<p>Step n.2 Create User table in BigQuery with <code>id</code> as <code>STRING(N)</code> and <code>date_insert</code> as <code>DATETIME</code>.</p>\n<p>Step n.3 Ingest your data.</p>\n"}],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74347960,"answer_count":2,"score":0,"last_activity_date":1668036633,"creation_date":1667470192,"question_id":74301263,"body_markdown":"I&#39;m trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I&#39;ve mapped with Bigquery DATETIME. I&#39;m using Dataflow to ingest the table with default template (JDBC to Bigquery).  \r\nThis is the connection string:  \r\n`jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;`  \r\nI&#39;ve also added user and pwd (my credentials) in the job&#39;s parameters.   \r\nBut Dataflow gives me the following error: \r\n```\r\nError message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader &#39;platform&#39;; java.time.temporal.TemporalAccessor is in module java.base of loader &#39;bootstrap&#39;)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\r\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \r\n```\r\nI&#39;ve also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I&#39;ve got the same error.  \r\nIt&#39;s not a connection problem, because I&#39;ve tried to read other columns (except the datetime column) and the dataflow job works.\r\n\r\nWhat do I have to do? What&#39;s the problem?\r\n\r\nI&#39;m using `com.microsoft.sqlserver.jdbc.SQLServerDriver` as JDBC Driver name and I&#39;ve downloaded from Maven the jar version `mssql-jdbc-11.2.1.jre8.jar`.","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I'm trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I've mapped with Bigquery DATETIME. I'm using Dataflow to ingest the table with default template (JDBC to Bigquery).<br />\nThis is the connection string:<br />\n<code>jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;</code><br />\nI've also added user and pwd (my credentials) in the job's parameters.<br />\nBut Dataflow gives me the following error:</p>\n<pre><code>Error message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader 'platform'; java.time.temporal.TemporalAccessor is in module java.base of loader 'bootstrap')\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \n</code></pre>\n<p>I've also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I've got the same error.<br />\nIt's not a connection problem, because I've tried to read other columns (except the datetime column) and the dataflow job works.</p>\n<p>What do I have to do? What's the problem?</p>\n<p>I'm using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> as JDBC Driver name and I've downloaded from Maven the jar version <code>mssql-jdbc-11.2.1.jre8.jar</code>.</p>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":1,"creation_date":1668036480,"post_id":74381784,"comment_id":131313189,"body_markdown":"`RestTemplate` is for `HTTP` Requests, but your Server expects a `WebSocket` connection, those are 2 completely different things:\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client","body":"<code>RestTemplate</code> is for <code>HTTP</code> Requests, but your Server expects a <code>WebSocket</code> connection, those are 2 completely different things: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1668067886,"post_id":74381784,"comment_id":131318435,"body_markdown":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?","body":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1668092437,"post_id":74381784,"comment_id":131327192,"body_markdown":"In general a Socket Connection has 2 channels, one to read and one to write.\nIn `HTTP` you write once and then read once (`Request` -&gt; `Response`).\n\nIn `WebSocket` you can `read`/`write` multiple times (`Publish`/`Subscribe`).\n\nSo if you send a `HTTP` Request with header `&quot;Upgrade: websocket&quot;` the server should keep both channels open and dispatch the connection to a `WebWocket` handler.","body":"In general a Socket Connection has 2 channels, one to read and one to write. In <code>HTTP</code> you write once and then read once (<code>Request</code> -&gt; <code>Response</code>).  In <code>WebSocket</code> you can <code>read</code>/<code>write</code> multiple times (<code>Publish</code>/<code>Subscribe</code>).  So if you send a <code>HTTP</code> Request with header <code>&quot;Upgrade: websocket&quot;</code> the server should keep both channels open and dispatch the connection to a <code>WebWocket</code> handler."}],"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668036607,"creation_date":1668030715,"question_id":74381784,"body_markdown":"I have 2 services: \r\n\r\nService Web on http://localhost:8080 and Service Engine on http://localhost:8081\r\n\r\nService Web sends a `POST` request to Service Engine through this code :\r\n\r\n        String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\r\n\t\t\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\r\n\t\t\t\t\tcheckWinUrl, \r\n\t\t\t\t\tHttpMethod.POST, \r\n\t\t\t\t\trequest, \r\n\t\t\t\t\tCheckWinResult.class);\r\n\t\t\t\r\n\t\t\tCheckWinResult checkWinResult = response.getBody();\r\n\t\t\tif (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;Move&gt; result = new HashSet&lt;&gt;();\r\n\t\t\t\tfor (MoveDto move : checkWinResult.getWinMoves()) {\r\n\t\t\t\t\tresult.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t} catch (RestClientException e) {\r\n\t\t\tlog.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\r\n\t\t}\r\n\r\n-----\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/checkWin&quot;)\r\n\tpublic CheckWinResult checkWin(@RequestBody GameDto game) {\r\n\t\treturn engineService.checkWin(game);\r\n\t}\r\n\r\nand it works fine, Engine Service receives the request properly.\r\n\r\nBut when Engine Service sends a request to Web Service :\r\n\r\n\t\tString webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\r\n\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\r\n\r\n\t\trestTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\r\n\r\n---------\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/engineMessage&quot;)\r\n    public void engineMessage(@RequestBody String engineMessage) {\r\n\t\t\r\n\t\tJSONObject jsonMessage = new JSONObject(engineMessage);\r\n\r\n\t\tWebSocketMessage webSocketMessage = new WebSocketMessage();\r\n\t\t\r\n\t\twebSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\r\n\t\twebSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\r\n\t\t\r\n\t\twebSocketController.sendMessage(webSocketMessage);\r\n    }\r\nWeb Service just never receives the request.\r\n\r\nAny ideas? \r\n\r\nThank you.","title":"Cannot send POST request with RestTemplate","body":"<p>I have 2 services:</p>\n<p>Service Web on http://localhost:8080 and Service Engine on http://localhost:8081</p>\n<p>Service Web sends a <code>POST</code> request to Service Engine through this code :</p>\n<pre><code>    String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\n    \n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\n    \n    try {\n        ResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\n                checkWinUrl, \n                HttpMethod.POST, \n                request, \n                CheckWinResult.class);\n        \n        CheckWinResult checkWinResult = response.getBody();\n        if (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\n            \n            Set&lt;Move&gt; result = new HashSet&lt;&gt;();\n            for (MoveDto move : checkWinResult.getWinMoves()) {\n                result.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\n            }\n            \n            return result;\n        }\n    } catch (RestClientException e) {\n        log.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\n    }\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/checkWin&quot;)\npublic CheckWinResult checkWin(@RequestBody GameDto game) {\n    return engineService.checkWin(game);\n}\n</code></pre>\n<p>and it works fine, Engine Service receives the request properly.</p>\n<p>But when Engine Service sends a request to Web Service :</p>\n<pre><code>    String webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\n\n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\n\n    restTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/engineMessage&quot;)\npublic void engineMessage(@RequestBody String engineMessage) {\n    \n    JSONObject jsonMessage = new JSONObject(engineMessage);\n\n    WebSocketMessage webSocketMessage = new WebSocketMessage();\n    \n    webSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\n    webSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\n    \n    webSocketController.sendMessage(webSocketMessage);\n}\n</code></pre>\n<p>Web Service just never receives the request.</p>\n<p>Any ideas?</p>\n<p>Thank you.</p>\n"},{"tags":["c#","java",".net","language-features","enumerable"],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275403325,"creation_date":1275401496,"answer_id":2950460,"question_id":2950386,"body_markdown":"You could subclass an Arraylist to achieve the same:\r\n\r\n    public class Enumerable extends ArrayList&lt;Integer&gt; {   \r\n       public Enumerable(int min, int max) {\r\n         for (int i=min; i&lt;=max; i++) {\r\n           add(i);\r\n         }\r\n       }    \r\n    }\r\n\r\nThen use the iterator to get a sequence of Integers from min to max (both including)\r\n\r\n**EDIT**\r\n\r\nAs sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I&#39;d rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>You could subclass an Arraylist to achieve the same:</p>\n\n<pre><code>public class Enumerable extends ArrayList&lt;Integer&gt; {   \n   public Enumerable(int min, int max) {\n     for (int i=min; i&lt;=max; i++) {\n       add(i);\n     }\n   }    \n}\n</code></pre>\n\n<p>Then use the iterator to get a sequence of Integers from min to max (both including)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I'd rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).</p>\n"},{"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275407909,"creation_date":1275402798,"answer_id":2950638,"question_id":2950386,"body_markdown":"**There is no built in support for this in Java**, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. \r\n\r\nJava takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).\r\n\r\nOther language API&#39;s (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. \r\n\r\nA typical example of the problem with the Java approach can be seen in the [Java IO][1] library. The canonical way to create a text file for output is: \r\n\r\n    BufferedWriter out = new BufferedWriter(new FileWriter(&quot;out.txt&quot;));\r\n\r\nThe Java IO library uses the [Decorator Pattern][2] which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:\r\n\r\n    out = file(&quot;out.txt&quot;,&quot;w&quot;)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\r\n  [2]: http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p><strong>There is no built in support for this in Java</strong>, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. </p>\n\n<p>Java takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).</p>\n\n<p>Other language API's (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. </p>\n\n<p>A typical example of the problem with the Java approach can be seen in the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\" rel=\"nofollow noreferrer\">Java IO</a> library. The canonical way to create a text file for output is: </p>\n\n<pre><code>BufferedWriter out = new BufferedWriter(new FileWriter(\"out.txt\"));\n</code></pre>\n\n<p>The Java IO library uses the <a href=\"http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm\" rel=\"nofollow noreferrer\">Decorator Pattern</a> which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:</p>\n\n<pre><code>out = file(\"out.txt\",\"w\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1668036134,"creation_date":1331258053,"answer_id":9627911,"question_id":2950386,"body_markdown":"As Java 8, this is possible with `java.util.stream.IntStream.range(int startInclusive, int endExclusive)`\r\n\r\nBefore Java8:\r\n----\r\n**There is not such thing in Java** but you can have something like this:\r\n\r\n\timport java.util.Iterator;\r\n\t\r\n\tpublic class Range implements Iterable&lt;Integer&gt; {\r\n\t\tprivate int min;\r\n\t\tprivate int count;\r\n\t\r\n\t\tpublic Range(int min, int count) {\r\n\t\t\tthis.min = min;\r\n\t\t\tthis.count = count;\r\n\t\t}\r\n\t\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\t\t\t\tprivate int cur = min;\r\n\t\t\t\tprivate int count = Range.this.count;\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn count != 0;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\treturn cur++; // first return the cur, then increase it.\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nFor example you can use Range by this way:\r\n\r\n\tpublic class TestRange {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : new Range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nAlso if you don&#39;t like use `new Range(1, 10)` directly, you can use factory class for it:\r\n\r\n\tpublic final class RangeFactory {\r\n\t\tpublic static Iterable&lt;Integer&gt; range(int a, int b) {\r\n\t\t\treturn new Range(a, b);\r\n\t\t}\r\n\t}\r\n\r\nAnd here is our factory test:\r\n\r\n\tpublic class TestRangeFactory {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : RangeFactory.range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>As Java 8, this is possible with <code>java.util.stream.IntStream.range(int startInclusive, int endExclusive)</code></p>\n<h2>Before Java8:</h2>\n<p><strong>There is not such thing in Java</strong> but you can have something like this:</p>\n<pre><code>import java.util.Iterator;\n\npublic class Range implements Iterable&lt;Integer&gt; {\n    private int min;\n    private int count;\n\n    public Range(int min, int count) {\n        this.min = min;\n        this.count = count;\n    }\n\n    public Iterator&lt;Integer&gt; iterator() {\n        return new Iterator&lt;Integer&gt;() {\n            private int cur = min;\n            private int count = Range.this.count;\n            public boolean hasNext() {\n                return count != 0;\n            }\n\n            public Integer next() {\n                count--;\n                return cur++; // first return the cur, then increase it.\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n}\n</code></pre>\n<p>For example you can use Range by this way:</p>\n<pre><code>public class TestRange {\n\n    public static void main(String[] args) {\n        for (int i : new Range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n<p>Also if you don't like use <code>new Range(1, 10)</code> directly, you can use factory class for it:</p>\n<pre><code>public final class RangeFactory {\n    public static Iterable&lt;Integer&gt; range(int a, int b) {\n        return new Range(a, b);\n    }\n}\n</code></pre>\n<p>And here is our factory test:</p>\n<pre><code>public class TestRangeFactory {\n\n    public static void main(String[] args) {\n        for (int i : RangeFactory.range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":9627911,"answer_count":3,"score":16,"last_activity_date":1668036134,"creation_date":1275400917,"question_id":2950386,"body_markdown":"Is there something like C#/.NET&#39;s\r\n\r\n    IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\r\n\r\nin Java?","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>Is there something like C#/.NET's</p>\n\n<pre><code>IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\n</code></pre>\n\n<p>in Java?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1668024699,"post_id":74380235,"comment_id":131310156,"body_markdown":"You should create some concurrent queue (e.g. https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue `queue.take()` . No other synchronization is required","body":"You should create some concurrent queue (e.g. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue <code>queue.take()</code> . No other synchronization is required"}],"answers":[{"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668025414,"creation_date":1668025088,"answer_id":74380888,"question_id":74380235,"body_markdown":"```java\r\npublic static void main(String[]args){\r\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\r\n    // fill the queue\r\n    // ...\r\n\r\n    final String s = ...; //\r\n\r\n    Runnable runnable=()-&gt;{\r\n        try {\r\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\r\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\r\n            System.out.println(Thread.currentThread().getName());\r\n            System.out.println();\r\n          }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    };\r\n    \r\n    ExecutorService pool=Executors.newFixedThreadPool(10);\r\n\r\n    for(int i=0;i&lt;10;i++){\r\n        pool.execute(runnable);\r\n    }\r\n}\r\n\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[]args){\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\n    // fill the queue\n    // ...\n\n    final String s = ...; //\n\n    Runnable runnable=()-&gt;{\n        try {\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\n            System.out.println(Thread.currentThread().getName());\n            System.out.println();\n          }\n        } catch (Exception e){\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }\n    };\n    \n    ExecutorService pool=Executors.newFixedThreadPool(10);\n\n    for(int i=0;i&lt;10;i++){\n        pool.execute(runnable);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668035885,"creation_date":1668025851,"answer_id":74381030,"question_id":74380235,"body_markdown":"I&#39;d do something like the following.  You submit one `Runnable` per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService pool = Executors.newFixedThreadPool(10);\r\n        List&lt;String&gt; stringList = listExe.getStringList();\r\n        for (String str : stringList) {\r\n            pool.submit(new SimilarityRunnable(str, stringList));\r\n        }\r\n        // after we submit the last job to the pool we should shut it down\r\n        pool.shutdown();\r\n    }\r\n\r\n    private static class SimilarityRunnable implements Runnable {\r\n        private final String str;\r\n        private final List&lt;String&gt; stringList;\r\n\r\n        public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\r\n            this.str = str;\r\n            this.stringList = stringList;\r\n        }\r\n\r\n        public void run() {\r\n            for (String listStr : stringList) {\r\n                // we deliberately use == here to skip the same list element\r\n                if (listStr == str) {\r\n                    continue;\r\n                }\r\n                // if solution object is not reentrant, synchronize on it here\r\n                System.out.println(Thread.currentThread().getName()\r\n                    + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\r\n                    + solution.findSimilarityRatio(str, listStr));\r\n            }\r\n        }\r\n    }\r\n","title":"Run the function in thread(Multi-Thread)","body":"<p>I'd do something like the following.  You submit one <code>Runnable</code> per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.</p>\n<pre><code>public static void main(String[] args) {\n    ExecutorService pool = Executors.newFixedThreadPool(10);\n    List&lt;String&gt; stringList = listExe.getStringList();\n    for (String str : stringList) {\n        pool.submit(new SimilarityRunnable(str, stringList));\n    }\n    // after we submit the last job to the pool we should shut it down\n    pool.shutdown();\n}\n\nprivate static class SimilarityRunnable implements Runnable {\n    private final String str;\n    private final List&lt;String&gt; stringList;\n\n    public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\n        this.str = str;\n        this.stringList = stringList;\n    }\n\n    public void run() {\n        for (String listStr : stringList) {\n            // we deliberately use == here to skip the same list element\n            if (listStr == str) {\n                continue;\n            }\n            // if solution object is not reentrant, synchronize on it here\n            System.out.println(Thread.currentThread().getName()\n                + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\n                + solution.findSimilarityRatio(str, listStr));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380888,"answer_count":2,"score":0,"last_activity_date":1668035885,"creation_date":1668021330,"question_id":74380235,"body_markdown":"I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.\r\n\r\nEach thread does the whole task by itself. I want to do the task once, with multiple thread\r\n\r\n```\r\n public class Runn implements Runnable {\r\n public void run() {\r\n\r\n      synchronized (LOCK){\r\n          \r\n          newList=listExe.getStringList();\r\n          try {\r\n\r\n              int i=1;\r\n              for (String s: newList) {\r\n                  //System.out.println(s);\r\n                  //System.out.println(newList.get(i));\r\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\r\n                  System.out.println(Thread.currentThread().getName());\r\n                  System.out.println();\r\n                  i++;\r\n                  if(i==newList.size()){\r\n                      break;\r\n                  }\r\n\r\n              }\r\n              Thread.sleep(200);\r\n          }\r\n          catch (Exception e){\r\n              e.printStackTrace();\r\n              System.out.println(e.getMessage());\r\n          }\r\n          \r\n      }\r\n      \r\n    }\r\n }\r\n\r\npublic static void main(String[] args) {\r\n\r\n\r\n   Runn runnable=new Runn();\r\n        ExecutorService pool= Executors.newFixedThreadPool(10);\r\n\r\n        for (int i=0;i&lt;10;i++){\r\n\r\n\r\n            pool.execute(runnable);\r\n        }\r\n        }\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<p>I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.</p>\n<p>Each thread does the whole task by itself. I want to do the task once, with multiple thread</p>\n<pre><code> public class Runn implements Runnable {\n public void run() {\n\n      synchronized (LOCK){\n          \n          newList=listExe.getStringList();\n          try {\n\n              int i=1;\n              for (String s: newList) {\n                  //System.out.println(s);\n                  //System.out.println(newList.get(i));\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\n                  System.out.println(Thread.currentThread().getName());\n                  System.out.println();\n                  i++;\n                  if(i==newList.size()){\n                      break;\n                  }\n\n              }\n              Thread.sleep(200);\n          }\n          catch (Exception e){\n              e.printStackTrace();\n              System.out.println(e.getMessage());\n          }\n          \n      }\n      \n    }\n }\n\npublic static void main(String[] args) {\n\n\n   Runn runnable=new Runn();\n        ExecutorService pool= Executors.newFixedThreadPool(10);\n\n        for (int i=0;i&lt;10;i++){\n\n\n            pool.execute(runnable);\n        }\n        }\n</code></pre>\n"},{"tags":["java","list","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668032430,"creation_date":1668031723,"answer_id":74381931,"question_id":74380294,"body_markdown":"While using Collector [`toMap()`][1] you need to provide at least two arguments:\r\n\r\n * *keyMapper* - a function generating a *Key* from the stream element;\r\n * *valueMapper* - a function that produces a *Value* from the stream element.\r\n\r\nAnd there are overloaded versions which allows you to specify *mergeFunction* and *mapFactory*. A *mergeFunction* would be useful if `productKeyList` can contain duplicates, and consequently there would be more than one element producing the identical *key*.\r\n\r\nThe call `findProductKey()` should be done in stream (before the collector). You can place into a `map()` operation. Then filter out empty optionals, extract the values, and apply `collect()`.\r\n\r\n```\r\nList&lt;ProductKey&gt; productKeyList = // initilizing the list\r\n        \r\nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\r\n        \r\nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\r\n    .map(productKey -&gt;\r\n        findProductKey(productKey.getProductCode(), productKeyList)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\r\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\r\n    ));\r\n```\r\n\r\nIn order to set the `ProductDetail` from the Map to the `Product` with the corresponding product key `Iterable.forEach()` would be more suitable than a stream.\r\n\r\n```\r\nList&lt;Product&gt; products = service.readProducts();\r\n    \r\nproducts.forEach(product -&gt; \r\n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\r\n);\r\n```\r\n\r\nRegarding the `null` Values, they can be easily eliminated from any Map:\r\n\r\n```\r\nproductDetailMap.values().removeIf(Objects::isNull);\r\n```\r\n\r\n**Note** that if a particular product key is not present is the Map, there&#39;s little you can do. The call `get()` would return `null` and `productDetail` property would remain unchanged.\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>While using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> you need to provide at least two arguments:</p>\n<ul>\n<li><em>keyMapper</em> - a function generating a <em>Key</em> from the stream element;</li>\n<li><em>valueMapper</em> - a function that produces a <em>Value</em> from the stream element.</li>\n</ul>\n<p>And there are overloaded versions which allows you to specify <em>mergeFunction</em> and <em>mapFactory</em>. A <em>mergeFunction</em> would be useful if <code>productKeyList</code> can contain duplicates, and consequently there would be more than one element producing the identical <em>key</em>.</p>\n<p>The call <code>findProductKey()</code> should be done in stream (before the collector). You can place into a <code>map()</code> operation. Then filter out empty optionals, extract the values, and apply <code>collect()</code>.</p>\n<pre><code>List&lt;ProductKey&gt; productKeyList = // initilizing the list\n        \nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\n        \nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\n    .map(productKey -&gt;\n        findProductKey(productKey.getProductCode(), productKeyList)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toMap(\n        Function.identity(),\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\n    ));\n</code></pre>\n<p>In order to set the <code>ProductDetail</code> from the Map to the <code>Product</code> with the corresponding product key <code>Iterable.forEach()</code> would be more suitable than a stream.</p>\n<pre><code>List&lt;Product&gt; products = service.readProducts();\n    \nproducts.forEach(product -&gt; \n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\n);\n</code></pre>\n<p>Regarding the <code>null</code> Values, they can be easily eliminated from any Map:</p>\n<pre><code>productDetailMap.values().removeIf(Objects::isNull);\n</code></pre>\n<p><strong>Note</strong> that if a particular product key is not present is the Map, there's little you can do. The call <code>get()</code> would return <code>null</code> and <code>productDetail</code> property would remain unchanged.</p>\n"}],"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74381931,"answer_count":1,"score":0,"last_activity_date":1668032430,"creation_date":1668021610,"question_id":74380294,"body_markdown":"I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.\r\n\r\n```java\r\n\r\n                    @Data\r\n                    static class ProductKey{\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productCode;\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productDetailCode;\r\n                    }\r\n                   \r\n                    @Data\r\n                    class Product {\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductKey productKey;\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductDetail productDetail;\r\n                   }\r\n\r\n                   @Data\r\n                   class ProductDetail{\r\n                     @EqualsAndHashCode.Include\r\n                     private Long productCode;\r\n                     private String description;\r\n                     private BigDecimal price;\r\n                     private String category;\r\n                  }\r\n\r\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \r\n                    List&lt;ProductKey&gt; productKeys){\r\n            \r\n                   return  productKeys.stream().\r\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\r\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\r\n                  }\r\n\r\n\r\n```\r\nHere is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.\r\n\r\nHere is my attempt:\r\n\r\n``` java\r\n\r\n           public static void main(String[] args) {\r\n          //Service that uses database configuration to obtain ProductDetails based on \r\n          //ProductCodes\r\n            \r\n            ProductDetailLookUpService service = ....\r\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\r\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \r\n       55009L});\r\n             List&lt;ProductDetail&gt; productDetailList = \r\n                                   service.getProductDetailList(productCodes);\r\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \r\n                                         \r\n                          mapProductCodeToProductDetail(productDetailList);\r\n           \r\n            // At start Product does not have ProductDetails\r\n            // Products may share ProductDetails\r\n            // Products which do not yet have ProductDetails defined will return a null \r\n            // value in the productDetailMap\r\n           \r\n               Map&lt;ProductKey, ProductDetail&gt; map = \r\n                    productKeyList.stream().collect(toMap(productKey -&gt; {\r\n                \r\n                Optional&lt;ProductKey&gt; optKey = \r\n                                     findProductKey(productKey.getProductCode(),            \r\n                                                                        productKeyList)\r\n                           optKey.isEmpty()? null :\r\n                                                    optKey.get(), \r\n                                   productDetailMap.get(productKey.getProductCode());\r\n        });\r\n    }\r\n\r\n\r\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \r\n         productCode, List&lt;ProductKey&gt; productKeys){\r\n         return  productKeys.stream().\r\n                filter(productKey -&gt; \r\n                   productCode.equals(productKey.getProductCode()))\r\n                .takeWhile(productKey -&gt; productKey != \r\n              null).findFirst();\r\n    }\r\n\r\n```\r\nI want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;\r\n\r\n```java\r\n\r\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\r\n          \r\n       productKeyList.stream().forEach( productKey -&gt; {\r\n            Optional&lt;ProductKey&gt; optKey = \r\n                      findProductKey(productKey.getProductCode(), \r\n                                                     productKeyList);\r\n            if(optKey.isPresent()) {\r\n                hashMap.put(optKey.get(), \r\n                                productDetailMap.get(optKey.get()));\r\n            }\r\n        });\r\n\r\n```\r\nFinally I want to use the map to add the ProductDetail to Product like this:\r\n\r\n```java\r\n\r\n   \r\n\r\n    List&lt;Product&gt; products = service.readProducts();\r\n       \r\n      products.stream().map( product -&gt; {                                     \r\n       \r\n      product.setProductDetail(hashMap.get(product.getProductKey()));\r\n                        return product;\r\n       }        \r\n     ).collect(toList());\r\n\r\n\r\n```","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n                    @Data\n                    static class ProductKey{\n                      @EqualsAndHashCode.Include\n                      private Long productCode;\n                      @EqualsAndHashCode.Include\n                      private Long productDetailCode;\n                    }\n                   \n                    @Data\n                    class Product {\n                      @EqualsAndHashCode.Include\n                      private ProductKey productKey;\n                      @EqualsAndHashCode.Include\n                      private ProductDetail productDetail;\n                   }\n\n                   @Data\n                   class ProductDetail{\n                     @EqualsAndHashCode.Include\n                     private Long productCode;\n                     private String description;\n                     private BigDecimal price;\n                     private String category;\n                  }\n\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \n                    List&lt;ProductKey&gt; productKeys){\n            \n                   return  productKeys.stream().\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\n                  }\n\n\n</code></pre>\n<p>Here is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.</p>\n<p>Here is my attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n           public static void main(String[] args) {\n          //Service that uses database configuration to obtain ProductDetails based on \n          //ProductCodes\n            \n            ProductDetailLookUpService service = ....\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \n       55009L});\n             List&lt;ProductDetail&gt; productDetailList = \n                                   service.getProductDetailList(productCodes);\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \n                                         \n                          mapProductCodeToProductDetail(productDetailList);\n           \n            // At start Product does not have ProductDetails\n            // Products may share ProductDetails\n            // Products which do not yet have ProductDetails defined will return a null \n            // value in the productDetailMap\n           \n               Map&lt;ProductKey, ProductDetail&gt; map = \n                    productKeyList.stream().collect(toMap(productKey -&gt; {\n                \n                Optional&lt;ProductKey&gt; optKey = \n                                     findProductKey(productKey.getProductCode(),            \n                                                                        productKeyList)\n                           optKey.isEmpty()? null :\n                                                    optKey.get(), \n                                   productDetailMap.get(productKey.getProductCode());\n        });\n    }\n\n\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \n         productCode, List&lt;ProductKey&gt; productKeys){\n         return  productKeys.stream().\n                filter(productKey -&gt; \n                   productCode.equals(productKey.getProductCode()))\n                .takeWhile(productKey -&gt; productKey != \n              null).findFirst();\n    }\n\n</code></pre>\n<p>I want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\n          \n       productKeyList.stream().forEach( productKey -&gt; {\n            Optional&lt;ProductKey&gt; optKey = \n                      findProductKey(productKey.getProductCode(), \n                                                     productKeyList);\n            if(optKey.isPresent()) {\n                hashMap.put(optKey.get(), \n                                productDetailMap.get(optKey.get()));\n            }\n        });\n\n</code></pre>\n<p>Finally I want to use the map to add the ProductDetail to Product like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   \n\n    List&lt;Product&gt; products = service.readProducts();\n       \n      products.stream().map( product -&gt; {                                     \n       \n      product.setProductDetail(hashMap.get(product.getProductKey()));\n                        return product;\n       }        \n     ).collect(toList());\n\n\n</code></pre>\n"},{"tags":["java","html","render","doc","aspose"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1668028817,"post_id":74381421,"comment_id":131311451,"body_markdown":"Why are you returning the html in a textarea?  They don&#39;t render the html.","body":"Why are you returning the html in a textarea?  They don&#39;t render the html."},{"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"score":0,"creation_date":1668058844,"post_id":74381421,"comment_id":131316358,"body_markdown":"The question is not actually related to Aspose.Words. You put HTML into `&lt;textarea&gt;` control, which do not actually render HTML, but is multiline text input control:\nhttps://www.w3schools.com/tags/tag_textarea.asp Try using `&lt;embed&gt;` or `&lt;iframe&gt;` controls.","body":"The question is not actually related to Aspose.Words. You put HTML into <code>&lt;textarea&gt;</code> control, which do not actually render HTML, but is multiline text input control: <a href=\"https://www.w3schools.com/tags/tag_textarea.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/tag_textarea.asp</a> Try using <code>&lt;embed&gt;</code> or <code>&lt;iframe&gt;</code> controls."}],"owner":{"account_id":26882704,"reputation":1,"user_id":20462848,"display_name":"Luize Casaretti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668032303,"creation_date":1668028194,"question_id":74381421,"body_markdown":"I&#39;m trying to render a doc in browse, I used aspose.words to a ByteArrayInputStream and saved it as HTML_FIXED.\r\nBut I get html instead of an MS WORD layout\r\n\r\n**1) JAVA CONTROLLER**\r\n```\r\npublic static final String EXAMPLE_HTML = &quot;exHtmlFile&quot;;\r\n...\r\n@GetMapping(value = &quot;/example/{code}/{version}&quot;)\r\n public String example(@PathVariable(&quot;code&quot;) final Long code, @PathVariable(&quot;version&quot;) final Long version, final Model model) {\r\n      String viewExampleHtml = exampleService.viewExample(code, version);\r\n\t  model.addAttribute(ModelAttributes.EXAMPLE_HTML, viewExampleHtml );\r\n\t  model.addAttribute(ModelAttributes.URL_RAIZ, url_raiz);\r\n\r\n      return Views.VIEW_EXAMPLE;\r\n    }\r\n\r\n```\r\n\r\n**2) JAVA SERVICE**\r\n\r\n```\r\npublic String viewExample(Long code, Long version)\r\n {\r\n  DownloadResponse response = getResponseExample(code, version);\r\n  //response.getContent() type is ByteArrayInputStream\r\n\r\n  com.aspose.words.Document document = new com.aspose.words.Document(response.getContent());\r\n  String filePath = fileServerPath + SEPARATOR + response.getFileName() + &quot;.html&quot;;\r\n  //this filePath is correct\r\n  document.save(filePath, SaveFormat.HTML_FIXED);\r\n\r\n   FileInputStream entrada = new FileInputStream(filePath);\r\n   InputStreamReader entradaFormatada = new InputStreamReader(entrada);\r\n   BufferedReader entradaString = new BufferedReader(entradaFormatada);\r\n\r\n  String linha = entradaString.readLine();\r\n  String html = new String(&quot;&quot;);\r\n  while (linha != null) {\r\n\thtml += linha;\r\n\tlinha = entradaString.readLine();\r\n  }\r\n  entradaString.close();\r\n\t\t\t\r\n  new File(filePath).delete();\r\n\t\t\t\r\n  html = removeBackgroungImageFromHtml(html);\r\n\t\t\t\r\n\t\t\t\r\n  return html;\r\n}\r\n\r\n```\r\n**3)HTML**\r\n\r\n\r\n```\r\n&lt;div class=&quot;row&quot;&gt;\r\n &lt;div class=&quot;col mb-2&quot;&gt;\r\n   &lt;textarea name=&quot;exHtml&quot; id=&quot;exHtml&quot; rows=&quot;10&quot; cols=&quot;80&quot; th:text=&quot;${exHtmlFile}&quot;&gt;&lt;/textarea&gt;\r\n &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XLE6A.png","title":"How to render word .doc in browse - ASPOSE","body":"<p>I'm trying to render a doc in browse, I used aspose.words to a ByteArrayInputStream and saved it as HTML_FIXED.\nBut I get html instead of an MS WORD layout</p>\n<p><strong>1) JAVA CONTROLLER</strong></p>\n<pre><code>public static final String EXAMPLE_HTML = &quot;exHtmlFile&quot;;\n...\n@GetMapping(value = &quot;/example/{code}/{version}&quot;)\n public String example(@PathVariable(&quot;code&quot;) final Long code, @PathVariable(&quot;version&quot;) final Long version, final Model model) {\n      String viewExampleHtml = exampleService.viewExample(code, version);\n      model.addAttribute(ModelAttributes.EXAMPLE_HTML, viewExampleHtml );\n      model.addAttribute(ModelAttributes.URL_RAIZ, url_raiz);\n\n      return Views.VIEW_EXAMPLE;\n    }\n\n</code></pre>\n<p><strong>2) JAVA SERVICE</strong></p>\n<pre><code>public String viewExample(Long code, Long version)\n {\n  DownloadResponse response = getResponseExample(code, version);\n  //response.getContent() type is ByteArrayInputStream\n\n  com.aspose.words.Document document = new com.aspose.words.Document(response.getContent());\n  String filePath = fileServerPath + SEPARATOR + response.getFileName() + &quot;.html&quot;;\n  //this filePath is correct\n  document.save(filePath, SaveFormat.HTML_FIXED);\n\n   FileInputStream entrada = new FileInputStream(filePath);\n   InputStreamReader entradaFormatada = new InputStreamReader(entrada);\n   BufferedReader entradaString = new BufferedReader(entradaFormatada);\n\n  String linha = entradaString.readLine();\n  String html = new String(&quot;&quot;);\n  while (linha != null) {\n    html += linha;\n    linha = entradaString.readLine();\n  }\n  entradaString.close();\n            \n  new File(filePath).delete();\n            \n  html = removeBackgroungImageFromHtml(html);\n            \n            \n  return html;\n}\n\n</code></pre>\n<p><strong>3)HTML</strong></p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n &lt;div class=&quot;col mb-2&quot;&gt;\n   &lt;textarea name=&quot;exHtml&quot; id=&quot;exHtml&quot; rows=&quot;10&quot; cols=&quot;80&quot; th:text=&quot;${exHtmlFile}&quot;&gt;&lt;/textarea&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XLE6A.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","unsafe"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1580915781,"post_id":60075337,"comment_id":106256099,"body_markdown":"Instead of trying to hack the String class, why not use `s.codePoints().allMatch(c -&gt; c &lt; 256)`?","body":"Instead of trying to hack the String class, why not use <code>s.codePoints().allMatch(c -&gt; c &lt; 256)</code>?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":1,"creation_date":1580936878,"post_id":60075337,"comment_id":106266296,"body_markdown":"@VGR I suppose `String.codePoints()` has O(n) complexity e.g. the longer String we have the more code points must be checked in general case. And unlike `String.codePoints()` `String.isLatin1()` has O(1) complexity.","body":"@VGR I suppose <code>String.codePoints()</code> has O(n) complexity e.g. the longer String we have the more code points must be checked in general case. And unlike <code>String.codePoints()</code> <code>String.isLatin1()</code> has O(1) complexity."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1580937244,"post_id":60075337,"comment_id":106266444,"body_markdown":"Comparing a series of 32-bit values to a constant is a pretty fast operation.  Are you sure this is something that needs to be optimized?","body":"Comparing a series of 32-bit values to a constant is a pretty fast operation.  Are you sure this is something that needs to be optimized?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1580991554,"post_id":60075337,"comment_id":106284892,"body_markdown":"@VGR Comparing is executed with Stream API.","body":"@VGR Comparing is executed with Stream API."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1580940112,"creation_date":1580908039,"answer_id":60076533,"question_id":60075337,"body_markdown":"It is not going to work.  The shared secrets mechanism provides a way to *specific* package private methods.  If you look at the source code, you will see that there is an &quot;access&quot; interface that exposes a fixed set of methods.  The shared secrets interface for the `java.lang` package exposes some methods for getting a string&#39;s internal byte array without copying it.  But it doesn&#39;t provide a method that does what you want.\r\n\r\nFurthermore, the `isLatin1()` method that you are trying to access is `private` rather than package private, so it cannot be exposed anyway ... unless you change that.\r\n\r\nIn short, you can&#39;t use `SharedSecrets` for this unless you are prepared to *modify the OpenJDK source code and build your own JVM*.  It might be acceptable to do that as an experiment, but there are lots of red flags for production use.\r\n\r\nUse reflection.  It is more practical ... modulo that you risk causing future portability problems for your application.  (Consider that the internal representation of `String` have changed 2 or 3 times *so far* since Java 1.1.  It could happen again.)","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>It is not going to work.  The shared secrets mechanism provides a way to <em>specific</em> package private methods.  If you look at the source code, you will see that there is an \"access\" interface that exposes a fixed set of methods.  The shared secrets interface for the <code>java.lang</code> package exposes some methods for getting a string's internal byte array without copying it.  But it doesn't provide a method that does what you want.</p>\n\n<p>Furthermore, the <code>isLatin1()</code> method that you are trying to access is <code>private</code> rather than package private, so it cannot be exposed anyway ... unless you change that.</p>\n\n<p>In short, you can't use <code>SharedSecrets</code> for this unless you are prepared to <em>modify the OpenJDK source code and build your own JVM</em>.  It might be acceptable to do that as an experiment, but there are lots of red flags for production use.</p>\n\n<p>Use reflection.  It is more practical ... modulo that you risk causing future portability problems for your application.  (Consider that the internal representation of <code>String</code> have changed 2 or 3 times <em>so far</em> since Java 1.1.  It could happen again.)</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668031799,"creation_date":1667844490,"answer_id":74351019,"question_id":60075337,"body_markdown":"At last replace old reflect solution to transformed of @VGR\r\n\r\n    static boolean isLatin(String s) {\r\n        return s.codePoints().allMatch(ch -&gt; (ch &amp; 0xFF00) == 0);\r\n    }\r\n","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>At last replace old reflect solution to transformed of @VGR</p>\n<pre><code>static boolean isLatin(String s) {\n    return s.codePoints().allMatch(ch -&gt; (ch &amp; 0xFF00) == 0);\n}\n</code></pre>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60076533,"answer_count":2,"score":1,"last_activity_date":1668031799,"creation_date":1580903924,"question_id":60075337,"body_markdown":"I&#39;m trying to access `String.isLatin1()` which is declared (as of JDK 14) as \r\n```java\r\nboolean isLatin1() {\r\n    return COMPACT_STRINGS &amp;&amp; coder == LATIN1;\r\n}\r\n```\r\nI can do this with reflection\r\n```java\r\nMethod isLatin1 = String.class.getDeclaredMethod(&quot;isLatin1&quot;);\r\nisLatin1.setAccessible(true);\r\nisLatin1.invoke(&quot;&quot;); //true\r\n```\r\nbut I wonder whether I can do the same with `SharedSecrets`?\r\n\r\nI&#39;ve tried\r\n```java\r\nSharedSecrets.getJavaLangAccess().getDeclaredPublicMethods(String.class, &quot;isLatin1&quot;);\r\n```\r\nbut for obvious reason it returns an empty list. Also I&#39;ve tried to utilize `jdk.internal.access.JavaLangReflectAccess` available from `SharedSecredts`, but it doesn&#39;t have any suitable method.","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>I'm trying to access <code>String.isLatin1()</code> which is declared (as of JDK 14) as </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>boolean isLatin1() {\n    return COMPACT_STRINGS &amp;&amp; coder == LATIN1;\n}\n</code></pre>\n\n<p>I can do this with reflection</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Method isLatin1 = String.class.getDeclaredMethod(\"isLatin1\");\nisLatin1.setAccessible(true);\nisLatin1.invoke(\"\"); //true\n</code></pre>\n\n<p>but I wonder whether I can do the same with <code>SharedSecrets</code>?</p>\n\n<p>I've tried</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SharedSecrets.getJavaLangAccess().getDeclaredPublicMethods(String.class, \"isLatin1\");\n</code></pre>\n\n<p>but for obvious reason it returns an empty list. Also I've tried to utilize <code>jdk.internal.access.JavaLangReflectAccess</code> available from <code>SharedSecredts</code>, but it doesn't have any suitable method.</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668030967,"creation_date":1668030967,"answer_id":74381831,"question_id":74381498,"body_markdown":"Name the developer-oriented file `docker-compose.override.yml`.  If this file is present, Compose will use its settings to augment and override the settings in the main `docker-compose.yml`.  See [Multiple Compose files](https://docs.docker.com/compose/extends/#multiple-compose-files) in the Docker documentation for more details.\r\n\r\nTypically if you have this file, you&#39;ll do pre-production testing and deployment using only the main `docker-compose.yml` file but not the override file.  This works better if the settings in the override file are purely additive.\r\n\r\nYou might have a production-oriented Compose file like, for example,\r\n\r\n```yaml\r\n# docker-compose.yml\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  app:\r\n    image: registry.example.com/app:${APP_TAG:-latest}\r\n    environment: [MYSQL_HOST, MYSQL_DATABASE MYSQL_USER, MYSQL_PASSWORD]\r\n```\r\n\r\nwhere most of the interesting settings are injected from host environment variables, and expecting to interface with an external database.  In development, though, you might want to build this image from source and install a database as part of the setup\r\n\r\n```yaml\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  app:\r\n    build: .\r\n    environment:\r\n      MYSQL_HOST: mysql\r\n      ET: cetera\r\n  mysql:\r\n    image: mysql\r\n    volumes: [&#39;mysql:/var/lib/mysql/data&#39;]\r\n    environment: {...}\r\nvolumes:\r\n  mysql:\r\n```\r\n\r\nThe settings from the two files are combined, so if you\r\n\r\n```sh\r\nAPP_TAG=20221109 docker-compose build\r\n```\r\n\r\nyou&#39;ll wind up with an image name `registry.example.com/app:20221109`, for example.","title":"Development version of docker-compose.yml in Spring Boot?","body":"<p>Name the developer-oriented file <code>docker-compose.override.yml</code>.  If this file is present, Compose will use its settings to augment and override the settings in the main <code>docker-compose.yml</code>.  See <a href=\"https://docs.docker.com/compose/extends/#multiple-compose-files\" rel=\"nofollow noreferrer\">Multiple Compose files</a> in the Docker documentation for more details.</p>\n<p>Typically if you have this file, you'll do pre-production testing and deployment using only the main <code>docker-compose.yml</code> file but not the override file.  This works better if the settings in the override file are purely additive.</p>\n<p>You might have a production-oriented Compose file like, for example,</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    image: registry.example.com/app:${APP_TAG:-latest}\n    environment: [MYSQL_HOST, MYSQL_DATABASE MYSQL_USER, MYSQL_PASSWORD]\n</code></pre>\n<p>where most of the interesting settings are injected from host environment variables, and expecting to interface with an external database.  In development, though, you might want to build this image from source and install a database as part of the setup</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.8'\nservices:\n  app:\n    build: .\n    environment:\n      MYSQL_HOST: mysql\n      ET: cetera\n  mysql:\n    image: mysql\n    volumes: ['mysql:/var/lib/mysql/data']\n    environment: {...}\nvolumes:\n  mysql:\n</code></pre>\n<p>The settings from the two files are combined, so if you</p>\n<pre class=\"lang-bash prettyprint-override\"><code>APP_TAG=20221109 docker-compose build\n</code></pre>\n<p>you'll wind up with an image name <code>registry.example.com/app:20221109</code>, for example.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668030967,"creation_date":1668028739,"question_id":74381498,"body_markdown":"In my Spring Boot app, I have a `docker-compose.yml` file that is used Dockerizing my app with `Dockerfile`. On the other hand, for the local development, other developers would also need a `docker-compose.yml` file for creating MySQL on a local Docker environment. \r\n\r\nFor this kind of general situations, what is the proper way to provide the configuration for local development besides Dockerizing? I look but there seems to be no `docker-compose-dev.yml` file usage as far as I see. So, what should I do? Where keep my compose config? I think I can use any whatever file name but in this case should it be a differennt location than the default one? ","title":"Development version of docker-compose.yml in Spring Boot?","body":"<p>In my Spring Boot app, I have a <code>docker-compose.yml</code> file that is used Dockerizing my app with <code>Dockerfile</code>. On the other hand, for the local development, other developers would also need a <code>docker-compose.yml</code> file for creating MySQL on a local Docker environment.</p>\n<p>For this kind of general situations, what is the proper way to provide the configuration for local development besides Dockerizing? I look but there seems to be no <code>docker-compose-dev.yml</code> file usage as far as I see. So, what should I do? Where keep my compose config? I think I can use any whatever file name but in this case should it be a differennt location than the default one?</p>\n"},{"tags":["java","audio-player"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1668030551,"post_id":74381734,"comment_id":131311969,"body_markdown":"since you mention &quot;end of the file&quot;: did you make triply-sure that the file itself doesn&#39;t have a few ms of fade in/out or silence at the start and/or end?","body":"since you mention &quot;end of the file&quot;: did you make triply-sure that the file itself doesn&#39;t have a few ms of fade in/out or silence at the start and/or end?"},{"owner":{"account_id":15171271,"reputation":21,"user_id":10947224,"display_name":"Asher Coates"},"score":0,"creation_date":1668032561,"post_id":74381734,"comment_id":131312450,"body_markdown":"Yes I thought of that just before posting and checked. The file ends with the waves way up.","body":"Yes I thought of that just before posting and checked. The file ends with the waves way up."}],"owner":{"account_id":15171271,"reputation":21,"user_id":10947224,"display_name":"Asher Coates"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668030302,"creation_date":1668030302,"question_id":74381734,"body_markdown":"I have written a function in Java that plays a .wav file and has an option to loop that clip infinitely. For some songs, I want to loop from a specific portion in the song for an uninterrupted audio file. This code nearly achieves that. However, there is a very brief pause (maybe 2-3 tenths of a second) between the end of the file and the beginning of the loop. The thread is not sleeping so I&#39;m not sure why the pause in music is there. How can I remove this pause?\r\n\r\n\r\n```\r\n    public synchronized void playSound(final String url, boolean repeat, float volume, double loopAt) {\r\n        Thread t1 = new Thread(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    Clip clip = AudioSystem.getClip();\r\n                    AudioInputStream inputStream = AudioSystem.getAudioInputStream(\r\n                            Main.class.getResourceAsStream(&quot;/&quot; + url));\r\n                    clip.open(inputStream);\r\n                    clip.setMicrosecondPosition((long)loopAt*1000 *1000);\r\n                    clip.setLoopPoints(clip.getFramePosition(), -1);\r\n                    clip.setMicrosecondPosition(0);\r\n                    currentTrack = clip;\r\n                    Music.this.setVolume(volume);\r\n                    if (repeat == true)\r\n                        clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n                    else\r\n                        clip.start();\r\n                } catch (Exception e) {\r\n                    System.err.println(e.getMessage());\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n```","title":"Remove small pause between loops in audio clip in Java","body":"<p>I have written a function in Java that plays a .wav file and has an option to loop that clip infinitely. For some songs, I want to loop from a specific portion in the song for an uninterrupted audio file. This code nearly achieves that. However, there is a very brief pause (maybe 2-3 tenths of a second) between the end of the file and the beginning of the loop. The thread is not sleeping so I'm not sure why the pause in music is there. How can I remove this pause?</p>\n<pre><code>    public synchronized void playSound(final String url, boolean repeat, float volume, double loopAt) {\n        Thread t1 = new Thread(new Runnable() {\n            public void run() {\n                try {\n                    Clip clip = AudioSystem.getClip();\n                    AudioInputStream inputStream = AudioSystem.getAudioInputStream(\n                            Main.class.getResourceAsStream(&quot;/&quot; + url));\n                    clip.open(inputStream);\n                    clip.setMicrosecondPosition((long)loopAt*1000 *1000);\n                    clip.setLoopPoints(clip.getFramePosition(), -1);\n                    clip.setMicrosecondPosition(0);\n                    currentTrack = clip;\n                    Music.this.setVolume(volume);\n                    if (repeat == true)\n                        clip.loop(Clip.LOOP_CONTINUOUSLY);\n                    else\n                        clip.start();\n                } catch (Exception e) {\n                    System.err.println(e.getMessage());\n                }\n            }\n        });\n        t1.start();\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","mssql-jdbc","java-17"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1668020490,"post_id":74379860,"comment_id":131308892,"body_markdown":"Probably that is the default version where com.microsoft.sqlserver:mssql-jdbc  points to. \nThe driver should be backward compatible and for any version go to\nhttps://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc/10.2.1.jre17","body":"Probably that is the default version where com.microsoft.sqlserver:mssql-jdbc  points to.  The driver should be backward compatible and for any version go to <a href=\"https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc/10.2.1.jre17\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdb&zwnj;&#8203;c/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668029996,"creation_date":1668029996,"answer_id":74381695,"question_id":74379860,"body_markdown":"The minimum version of Java that Spring Boot 2.7 support is Java 8. For this reason the `jre8` dependency is used by default. In Spring Boot 3.0, which will require Java 17, the `jre17` dependency is used by default. If you&#39;re using Java 17 with Spring Boot 2.7, there&#39;s no problem with using the `jre17` dependency.\r\n\r\n&gt; Similarly, is there a problem with using the latest version of the driver, 11.2.1?\r\n\r\nThere shouldn&#39;t be a problem. Spring Boot 2.7 uses 10.2.x of the MSSQL driver because 10.2.x was the latest version that was available when Spring Boot 2.7 was released. Spring Boot&#39;s maintenance policy is such that a maintenance release of Spring Boot won&#39;t upgrade to a new minor or major version of a dependency. The soon-to-be-released Spring Boot 3.0 has upgraded to 11.2.x.\r\n","title":"Why does Spring Boot 2.7.5 use SQL Server JRE 8 driver?","body":"<p>The minimum version of Java that Spring Boot 2.7 support is Java 8. For this reason the <code>jre8</code> dependency is used by default. In Spring Boot 3.0, which will require Java 17, the <code>jre17</code> dependency is used by default. If you're using Java 17 with Spring Boot 2.7, there's no problem with using the <code>jre17</code> dependency.</p>\n<blockquote>\n<p>Similarly, is there a problem with using the latest version of the driver, 11.2.1?</p>\n</blockquote>\n<p>There shouldn't be a problem. Spring Boot 2.7 uses 10.2.x of the MSSQL driver because 10.2.x was the latest version that was available when Spring Boot 2.7 was released. Spring Boot's maintenance policy is such that a maintenance release of Spring Boot won't upgrade to a new minor or major version of a dependency. The soon-to-be-released Spring Boot 3.0 has upgraded to 11.2.x.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74381695,"answer_count":1,"score":1,"last_activity_date":1668029996,"creation_date":1668019214,"question_id":74379860,"body_markdown":"I have a gradle build file as follows:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;1.0&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    ext {\r\n    \tset(&#39;springBootAdminVersion&#39;, &quot;2.7.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;de.codecentric:spring-boot-admin-starter-client&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nAfter refreshing my gradle project, I see `mssql-jdbc-10.2.1.jre8.jar` in my classpath. My project is using Java 17 though. \r\n\r\nWhy doesn&#39;t Spring Boot import the Java 17 version, `mssql-jdbc-10.2.1.jre17.jar`, since I&#39;m using Java 17? Is there a problem using that jar? \r\n\r\nSimilarly, is there a problem with using the latest version of the driver, 11.2.1?\r\n\r\nPerhaps, only `mssql-jdbc-10.2.1.jre8.jar` is approved / fully tested to work with Spring Boot 2.7.5. If so, is it OK to use that jar when my project is using JRE 17?\r\n","title":"Why does Spring Boot 2.7.5 use SQL Server JRE 8 driver?","body":"<p>I have a gradle build file as follows:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springBootAdminVersion', &quot;2.7.4&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'de.codecentric:spring-boot-admin-starter-client'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>After refreshing my gradle project, I see <code>mssql-jdbc-10.2.1.jre8.jar</code> in my classpath. My project is using Java 17 though.</p>\n<p>Why doesn't Spring Boot import the Java 17 version, <code>mssql-jdbc-10.2.1.jre17.jar</code>, since I'm using Java 17? Is there a problem using that jar?</p>\n<p>Similarly, is there a problem with using the latest version of the driver, 11.2.1?</p>\n<p>Perhaps, only <code>mssql-jdbc-10.2.1.jre8.jar</code> is approved / fully tested to work with Spring Boot 2.7.5. If so, is it OK to use that jar when my project is using JRE 17?</p>\n"},{"tags":["java","spring-boot","unit-testing","completable-future"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667861735,"post_id":74353791,"comment_id":131264740,"body_markdown":"Yes, the issue is likely a problem with `taskExecutor`.  Just use a real executor.","body":"Yes, the issue is likely a problem with <code>taskExecutor</code>.  Just use a real executor."}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668029461,"creation_date":1667863670,"answer_id":74354128,"question_id":74353791,"body_markdown":"You are mocking the ThreadPoolTaskExecutor so when it&#39;s told to execute the task, it is not doing anything. The CompletableFuture will never be completed, which is why things are hanging. You would need to either use a real ThreadPoolTaskExecutor, or implement the `execute()` method in the mocked Executor so it calls the `run()` method on the runnable passed to it. I don&#39;t understand what you&#39;re actually trying to accomplish in this unit test though. There doesn&#39;t seem to be a point to using an Executor at all. Also there is an error in the code since you call join on a variable called `zipCode` which does not exist, the future is called `vip`.","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>You are mocking the ThreadPoolTaskExecutor so when it's told to execute the task, it is not doing anything. The CompletableFuture will never be completed, which is why things are hanging. You would need to either use a real ThreadPoolTaskExecutor, or implement the <code>execute()</code> method in the mocked Executor so it calls the <code>run()</code> method on the runnable passed to it. I don't understand what you're actually trying to accomplish in this unit test though. There doesn't seem to be a point to using an Executor at all. Also there is an error in the code since you call join on a variable called <code>zipCode</code> which does not exist, the future is called <code>vip</code>.</p>\n"},{"tags":[],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668029105,"creation_date":1668029105,"answer_id":74381563,"question_id":74353791,"body_markdown":"Like Jared mentioned, I built an executor, and it worked.\r\n```\r\n@Spy\r\nprivate ThreadPoolTaskExecutor spyTaskExecutor = new ThreadPoolTaskExecutor();\r\n\r\nspyTaskExecutor.setCorePoolSize(1);\r\nspyTaskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\nspyTaskExecutor.initialize();\r\n```","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>Like Jared mentioned, I built an executor, and it worked.</p>\n<pre><code>@Spy\nprivate ThreadPoolTaskExecutor spyTaskExecutor = new ThreadPoolTaskExecutor();\n\nspyTaskExecutor.setCorePoolSize(1);\nspyTaskExecutor.setWaitForTasksToCompleteOnShutdown(true);\nspyTaskExecutor.initialize();\n</code></pre>\n"}],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668029461,"creation_date":1667861077,"question_id":74353791,"body_markdown":"I&#39;m writing the unit tests for the old method, which uses `CompletableFuture.supplyAsync()`. The method is not complex, but my unit test keeps running and does not stop when executing the `join()`. I believe `supplyAsync()` should return the value very quickly. Is it because I set up the `taskExecutor` incorrectly? I&#39;m new to Spring and Java, so please advise anything. Thank you.\r\n\r\nCode:\r\n```\r\n  public Response getReponse(Request request) {\r\n    CompletableFuture&lt;String&gt; vip = CompletableFuture.supplyAsync(() -&gt; {\r\n      if(StringUtils.isBlank(request.getAddress())\r\n      ){ return &quot;&quot;;}\r\n        Request newRequest = Request.builder().\r\n                userId(request.getUserId()).\r\n                address(request.getZipCode()).\r\n                build();\r\n        Response newResult =  getResult(newRequest);\r\n        return (&quot;12345&quot;.equals(newResult.getZipCode()) + &quot;&quot;;\r\n    }, taskExecutor);\r\n    final Response result =  getResult(request);\r\n    result.setVIP(zipCode.join());\r\n    return result;\r\n  }\r\n```\r\n\r\nMy unit test:\r\n```\r\n  @Mock\r\n  private ThreadPoolTaskExecutor taskExecutor;\r\n\r\n  @Test\r\n  void getReponseTest(){\r\n    SomeService someService = new SomeService(Constants, logService, taskExecutor);\r\n    final SomeService someServiceSpy = Mockito.spy(someService);\r\n    final Request request = TestHelper.buildRequest();\r\n    final Response response = TestTestHelper.buildResponse();\r\n\r\n    doReturn(response).when(someServiceSpy).getResult(any(Request.class));\r\n\r\n    Response result = taxServiceSpy.getQuotationV2(taxRequest);\r\n\r\n    // assertion\r\n    ...\r\n  }\r\n```","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>I'm writing the unit tests for the old method, which uses <code>CompletableFuture.supplyAsync()</code>. The method is not complex, but my unit test keeps running and does not stop when executing the <code>join()</code>. I believe <code>supplyAsync()</code> should return the value very quickly. Is it because I set up the <code>taskExecutor</code> incorrectly? I'm new to Spring and Java, so please advise anything. Thank you.</p>\n<p>Code:</p>\n<pre><code>  public Response getReponse(Request request) {\n    CompletableFuture&lt;String&gt; vip = CompletableFuture.supplyAsync(() -&gt; {\n      if(StringUtils.isBlank(request.getAddress())\n      ){ return &quot;&quot;;}\n        Request newRequest = Request.builder().\n                userId(request.getUserId()).\n                address(request.getZipCode()).\n                build();\n        Response newResult =  getResult(newRequest);\n        return (&quot;12345&quot;.equals(newResult.getZipCode()) + &quot;&quot;;\n    }, taskExecutor);\n    final Response result =  getResult(request);\n    result.setVIP(zipCode.join());\n    return result;\n  }\n</code></pre>\n<p>My unit test:</p>\n<pre><code>  @Mock\n  private ThreadPoolTaskExecutor taskExecutor;\n\n  @Test\n  void getReponseTest(){\n    SomeService someService = new SomeService(Constants, logService, taskExecutor);\n    final SomeService someServiceSpy = Mockito.spy(someService);\n    final Request request = TestHelper.buildRequest();\n    final Response response = TestTestHelper.buildResponse();\n\n    doReturn(response).when(someServiceSpy).getResult(any(Request.class));\n\n    Response result = taxServiceSpy.getQuotationV2(taxRequest);\n\n    // assertion\n    ...\n  }\n</code></pre>\n"},{"tags":["java","json","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668027446,"post_id":74381216,"comment_id":131311049,"body_markdown":"by &quot;String,&quot; do you mean XML? An example of the desired output format would be helpful.","body":"by &quot;String,&quot; do you mean XML? An example of the desired output format would be helpful."},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668027576,"post_id":74381216,"comment_id":131311089,"body_markdown":"@JesseBarnum The format doesn&#39;t really matter as at the end of the day the string is going to be turned back into a java object by the client.","body":"@JesseBarnum The format doesn&#39;t really matter as at the end of the day the string is going to be turned back into a java object by the client."},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668027894,"post_id":74381216,"comment_id":131311183,"body_markdown":"if the format doesn&#39;t matter, then is it necessary to make it a String at all? Does it need to be BASE64 encoded? I&#39;d say just use an ObjectOutputStream and serialize the Java object to a byte[] array.","body":"if the format doesn&#39;t matter, then is it necessary to make it a String at all? Does it need to be BASE64 encoded? I&#39;d say just use an ObjectOutputStream and serialize the Java object to a byte[] array."},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668028251,"post_id":74381216,"comment_id":131311304,"body_markdown":"@JesseBarnum why do you think this idea was applied to the ccbs legacy code in the first place?. We were not able to serialize jaba objects into strings easily 10 years ago?","body":"@JesseBarnum why do you think this idea was applied to the ccbs legacy code in the first place?. We were not able to serialize jaba objects into strings easily 10 years ago?"},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668028784,"post_id":74381216,"comment_id":131311440,"body_markdown":"@JesseBarnum I just mean legacy code","body":"@JesseBarnum I just mean legacy code"}],"answers":[{"tags":[],"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668027896,"creation_date":1668027896,"answer_id":74381366,"question_id":74381216,"body_markdown":"\r\n\r\n    String encodedString =  Base64.getEncoder().encodeToString(originalInput.getBytes());\r\n\r\nThis way you can convert to a base 64 encoded string. Base64 comes with ***java.util*** package.  ","title":"How to serialize a java object into a string?","body":"<pre><code>String encodedString =  Base64.getEncoder().encodeToString(originalInput.getBytes());\n</code></pre>\n<p>This way you can convert to a base 64 encoded string. Base64 comes with <em><strong>java.util</strong></em> package.</p>\n"},{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668029256,"creation_date":1668029256,"answer_id":74381586,"question_id":74381216,"body_markdown":"This writes to an ObjectOutputStream, which then writes to a Base64 encoding converter, which then writes to a byte array, which is then converted to a String.\r\n\r\n    public class EncodeToBase64 {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tList&lt;?&gt; someObjectToSerialize = new ArrayList&lt;&gt;();\r\n    \t\tSystem.out.println( serializeToBase64( someObjectToSerialize ) );\r\n    \t}\r\n    \r\n    \tprivate static String serializeToBase64( Object someObjectToSerialize ) throws IOException {\r\n    \t\ttry( final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\t ObjectOutputStream objectOutputStream = new ObjectOutputStream( Base64.getEncoder().wrap( baos ) ) ) {\r\n    \t\t\tobjectOutputStream.writeObject( someObjectToSerialize );\r\n    \t\t\treturn baos.toString();\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to serialize a java object into a string?","body":"<p>This writes to an ObjectOutputStream, which then writes to a Base64 encoding converter, which then writes to a byte array, which is then converted to a String.</p>\n<pre><code>public class EncodeToBase64 {\n    public static void main(String[] args) throws Exception {\n        List&lt;?&gt; someObjectToSerialize = new ArrayList&lt;&gt;();\n        System.out.println( serializeToBase64( someObjectToSerialize ) );\n    }\n\n    private static String serializeToBase64( Object someObjectToSerialize ) throws IOException {\n        try( final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n             ObjectOutputStream objectOutputStream = new ObjectOutputStream( Base64.getEncoder().wrap( baos ) ) ) {\n            objectOutputStream.writeObject( someObjectToSerialize );\n            return baos.toString();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74381586,"answer_count":2,"score":0,"last_activity_date":1668029256,"creation_date":1668026926,"question_id":74381216,"body_markdown":"I am working on the migration of a legacy API to microservice. The legacy API is encoding a java object into a base64 String. The following code is used:\r\n\r\n    public String serialize() throws Exception {\r\n        String mementoXml = null;\r\n        Document document = DocumentHelper.createDocument();\r\n        Element dictionary = document.addElement(&quot;Dictionary&quot;);\r\n        dictionary.add(this.addChildren());\r\n        StringWriter sw = new StringWriter();\r\n        OutputFormat format = OutputFormat.createPrettyPrint();\r\n        format.setIndent(&quot; &quot;);\r\n        format.setTrimText(false);\r\n        XMLWriter writer = new XMLWriter(sw, format);\r\n\r\n        try {\r\n            writer.write(document);\r\n            writer.flush();\r\n        }\r\n        catch (Exception var8) {\r\n\r\n        }\r\n        mementoXml = sw.toString().replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;, &quot;&quot;);\r\n        return encodeString(mementoXml);\r\n    }\r\n    \r\n    public Element addChildren(){\r\n        Element response DocumentHelper.createElement(&quot;response&quot;);\r\n        Element el1 = response.addElement(&quot;element&quot;);\r\n        el1.setText(this.javaObject.getValue());\r\n        return response;\r\n    }\r\n\r\nThe method for encoding is:\r\n\r\n    public String encodeString(String in) throws EncoderException {\r\n        CompressedBase64Impl impl = new CompressedBase64Impl();\r\n        String output = null;\r\n        output = impl.encodeBytes(in.getBytes());\r\n        return output;\r\n    }\r\n\r\nWhat would be the modernized way in Spring boot to encode an object into a base64String. Is there something like `JSONWriter`?","title":"How to serialize a java object into a string?","body":"<p>I am working on the migration of a legacy API to microservice. The legacy API is encoding a java object into a base64 String. The following code is used:</p>\n<pre><code>public String serialize() throws Exception {\n    String mementoXml = null;\n    Document document = DocumentHelper.createDocument();\n    Element dictionary = document.addElement(&quot;Dictionary&quot;);\n    dictionary.add(this.addChildren());\n    StringWriter sw = new StringWriter();\n    OutputFormat format = OutputFormat.createPrettyPrint();\n    format.setIndent(&quot; &quot;);\n    format.setTrimText(false);\n    XMLWriter writer = new XMLWriter(sw, format);\n\n    try {\n        writer.write(document);\n        writer.flush();\n    }\n    catch (Exception var8) {\n\n    }\n    mementoXml = sw.toString().replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;, &quot;&quot;);\n    return encodeString(mementoXml);\n}\n\npublic Element addChildren(){\n    Element response DocumentHelper.createElement(&quot;response&quot;);\n    Element el1 = response.addElement(&quot;element&quot;);\n    el1.setText(this.javaObject.getValue());\n    return response;\n}\n</code></pre>\n<p>The method for encoding is:</p>\n<pre><code>public String encodeString(String in) throws EncoderException {\n    CompressedBase64Impl impl = new CompressedBase64Impl();\n    String output = null;\n    output = impl.encodeBytes(in.getBytes());\n    return output;\n}\n</code></pre>\n<p>What would be the modernized way in Spring boot to encode an object into a base64String. Is there something like <code>JSONWriter</code>?</p>\n"},{"tags":["java","spring","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"score":0,"creation_date":1414494157,"post_id":26606608,"comment_id":41825620,"body_markdown":"Please post the full stacktraces including caused by.","body":"Please post the full stacktraces including caused by."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1414494211,"post_id":26606608,"comment_id":41825645,"body_markdown":"Don&#39;t use `@Autowired` use `@PersistenceContext` instead.","body":"Don&#39;t use <code>@Autowired</code> use <code>@PersistenceContext</code> instead."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414494386,"post_id":26606608,"comment_id":41825759,"body_markdown":"`@PersistenceContext` did not change anything. Stacktrace updated above.","body":"<code>@PersistenceContext</code> did not change anything. Stacktrace updated above."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414494731,"post_id":26606608,"comment_id":41825951,"body_markdown":"You shouldn&#39;t start a transaction yourself... The `@Transactional` should start it... Have you actually tried that after the change?","body":"You shouldn&#39;t start a transaction yourself... The <code>@Transactional</code> should start it... Have you actually tried that after the change?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414495796,"post_id":26606608,"comment_id":41826614,"body_markdown":"I tried both the `@Transactional` and the `em.getTransaction().begin();` explicit, both lead each to the same errors as above.","body":"I tried both the <code>@Transactional</code> and the <code>em.getTransaction().begin();</code> explicit, both lead each to the same errors as above."},{"owner":{"account_id":1342671,"reputation":1605,"user_id":1284054,"accept_rate":87,"display_name":"pomkine"},"score":0,"creation_date":1414497650,"post_id":26606608,"comment_id":41827702,"body_markdown":"do you have a transaction manager bean declared?","body":"do you have a transaction manager bean declared?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414497846,"post_id":26606608,"comment_id":41827827,"body_markdown":"Yes I have, see update","body":"Yes I have, see update"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1414499870,"post_id":26606608,"comment_id":41829083,"body_markdown":"Can you see the transaction managager bean in the list of beans created (debug log of Spring application context initialization) ?","body":"Can you see the transaction managager bean in the list of beans created (debug log of Spring application context initialization) ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414575672,"post_id":26606608,"comment_id":41863099,"body_markdown":"You are using Spring boot then why have you configured things yourself instead of using Spring Boot (currently looks like you are trying to work around it instead of using it).","body":"You are using Spring boot then why have you configured things yourself instead of using Spring Boot (currently looks like you are trying to work around it instead of using it)."}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1585773036,"creation_date":1414496083,"answer_id":26607311,"question_id":26606608,"body_markdown":"As a workaround I now created a new `EntityManager` explicit using the `EMF`, and starting the transaction manually.\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n    \r\n    public void clearTable() {\r\n    \tEntityManager em = emf.createEntityManager();\r\n    \tEntityTransaction tx = em.getTransaction();\r\n    \ttx.begin();\r\n    \tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    \ttx.commit();\r\n    \tem.close();\r\n    }\r\n\r\nThat&#39;s probably not ideal, but works for the moment.","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>As a workaround I now created a new <code>EntityManager</code> explicit using the <code>EMF</code>, and starting the transaction manually.</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory emf;\n\npublic void clearTable() {\n    EntityManager em = emf.createEntityManager();\n    EntityTransaction tx = em.getTransaction();\n    tx.begin();\n    em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    tx.commit();\n    em.close();\n}\n</code></pre>\n\n<p>That's probably not ideal, but works for the moment.</p>\n"},{"tags":[],"owner":{"account_id":3617484,"reputation":13834,"user_id":3017003,"accept_rate":81,"display_name":"Jakub Kubrynski"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1668029211,"creation_date":1414499355,"answer_id":26608403,"question_id":26606608,"body_markdown":"You should use `TransactionTemplate` object to manage transaction imperatively:\r\n\r\n    transactionTemplate.execute(\r\n        status -&gt; em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate());\r\n\r\nTo create `TransactionTemplate` just use injected `PlatformTransactionManager`:\r\n\r\n    transactionTemplate = new TransactionTemplate(platformTransactionManager);\r\n\r\nAnd if you want to use new transaction just invoke\r\n\r\n    transactionTemplate.setPropagationBehavior(\r\n        TransactionDefinition.PROPAGATION_REQUIRES_NEW);","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>You should use <code>TransactionTemplate</code> object to manage transaction imperatively:</p>\n<pre><code>transactionTemplate.execute(\n    status -&gt; em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate());\n</code></pre>\n<p>To create <code>TransactionTemplate</code> just use injected <code>PlatformTransactionManager</code>:</p>\n<pre><code>transactionTemplate = new TransactionTemplate(platformTransactionManager);\n</code></pre>\n<p>And if you want to use new transaction just invoke</p>\n<pre><code>transactionTemplate.setPropagationBehavior(\n    TransactionDefinition.PROPAGATION_REQUIRES_NEW);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1414749606,"creation_date":1414749606,"answer_id":26671891,"question_id":26606608,"body_markdown":"Spring Data JPA automatically runs CRUD method in transactions for you (without needing to set up anything except a transaction manager). If you want to use transactions for your query methods, you can simply add `@Transactional` to these:\r\n\r\n    interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\r\n\r\n      @Transactional\r\n      @Modifying\r\n      @Query(value = &quot;TRUNCATE TABLE MyTable&quot;, nativeQuery = true)\r\n      void clear();\r\n    }\r\n\r\nOn a more general note, what you have declared here is logically equivalent to `CrudRepository.deleteAll()`, except that it (your declaration) doesn&#39;t honor JPA-level cascades. So I wondered that&#39;s really what you intended to do. If you&#39;re using Spring Boot, the activation and transaction manager setup should be taken care of for you.\r\n\r\nIf you want to use `@Transactional` on the service level, you need to setup both a `JpaTransactionManager` *and* activate annotation based transaction management through either `&lt;tx:annotation-driven /&gt;` or `@EnableTransactionManagement` (looks like the activation was the missing piece on your attempt to create transactions on the service layer).","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>Spring Data JPA automatically runs CRUD method in transactions for you (without needing to set up anything except a transaction manager). If you want to use transactions for your query methods, you can simply add <code>@Transactional</code> to these:</p>\n\n<pre><code>interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\n\n  @Transactional\n  @Modifying\n  @Query(value = \"TRUNCATE TABLE MyTable\", nativeQuery = true)\n  void clear();\n}\n</code></pre>\n\n<p>On a more general note, what you have declared here is logically equivalent to <code>CrudRepository.deleteAll()</code>, except that it (your declaration) doesn't honor JPA-level cascades. So I wondered that's really what you intended to do. If you're using Spring Boot, the activation and transaction manager setup should be taken care of for you.</p>\n\n<p>If you want to use <code>@Transactional</code> on the service level, you need to setup both a <code>JpaTransactionManager</code> <em>and</em> activate annotation based transaction management through either <code>&lt;tx:annotation-driven /&gt;</code> or <code>@EnableTransactionManagement</code> (looks like the activation was the missing piece on your attempt to create transactions on the service layer).</p>\n"},{"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546429737,"creation_date":1546429737,"answer_id":54005813,"question_id":26606608,"body_markdown":"`@Transactional` annotation should not be applied on Dao method but on a service method. Although your code says `DatabaseService` is a service, but by inserting `EntityManger` inside a service does not make any sense.\r\n\r\nCorrect way to implement is to create a Dao like below.\r\n\r\n    @Repository\r\n    public class DatabaseDao {\r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public void clear() {\r\n            em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n        }\r\n    }\r\n\r\nThen call the dao method from a service method with `@Transactional` annotation.\r\n\r\n    @Service\r\n    public class DatabaseService {\r\n        @Autowired\r\n        private DatabaseDao dao;\r\n    \r\n        @Transactional\r\n        public void clear() {\r\n            dao.clear();\r\n        }\r\n    }\r\n\r\nAlso, add `@EnableTransactionManagement` in your `Configuration` class","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p><code>@Transactional</code> annotation should not be applied on Dao method but on a service method. Although your code says <code>DatabaseService</code> is a service, but by inserting <code>EntityManger</code> inside a service does not make any sense.</p>\n\n<p>Correct way to implement is to create a Dao like below.</p>\n\n<pre><code>@Repository\npublic class DatabaseDao {\n    @PersistenceContext\n    private EntityManager em;\n\n    public void clear() {\n        em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    }\n}\n</code></pre>\n\n<p>Then call the dao method from a service method with <code>@Transactional</code> annotation.</p>\n\n<pre><code>@Service\npublic class DatabaseService {\n    @Autowired\n    private DatabaseDao dao;\n\n    @Transactional\n    public void clear() {\n        dao.clear();\n    }\n}\n</code></pre>\n\n<p>Also, add <code>@EnableTransactionManagement</code> in your <code>Configuration</code> class</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51361,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":26608403,"answer_count":4,"score":31,"last_activity_date":1668029211,"creation_date":1414494049,"question_id":26606608,"body_markdown":"I have a `LocalContainerEntityManagerFactoryBean` as `EntityManager` instance.\r\n\r\nTo quickly drop a full tables&#39; content, I want to run the following code:\r\n\r\n    @Service\r\n    public class DatabaseService {\r\n    \t@Autowired\r\n    \tprivate EntityManager em;\r\n    \r\n    \t@Transactional\r\n    \tpublic void clear() {\r\n    \t\tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    \t}\r\n    }\r\n\r\nResult:\r\n\r\n    ERROR org.springframework.integration.handler.LoggingHandler: javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n    \tat org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:71)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\n\r\nIf I make this change:\r\n\r\n    public void clear() {\r\n    \tem.getTransaction().begin();\r\n    \tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    }\r\n\r\nResult:\r\n\r\n    ERROR org.springframework.integration.handler.LoggingHandler: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:245)\r\n    \tat com.sun.proxy.$Proxy84.getTransaction(Unknown Source)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nI also tried spring-data-jpa, but also fails:\r\n\r\n    public interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\r\n    \t@Query(value = &quot;TRUNCATE TABLE MyTable&quot;, nativeQuery = true)\r\n    \t@Modifying\r\n    \tpublic void clear();\r\n    }\r\n\r\nSo, how can I create a transaction and run the truncate in a shared spring context?\r\n\r\nThe Spring application is started using:\r\n`SpringApplication.run(AppConfig.class, args);` having:\r\n\r\n    @Bean\r\n    public JpaTransactionManager transactionManager() {\r\n    \treturn new JpaTransactionManager(emf);\r\n    }\r\n","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>I have a <code>LocalContainerEntityManagerFactoryBean</code> as <code>EntityManager</code> instance.</p>\n\n<p>To quickly drop a full tables' content, I want to run the following code:</p>\n\n<pre><code>@Service\npublic class DatabaseService {\n    @Autowired\n    private EntityManager em;\n\n    @Transactional\n    public void clear() {\n        em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>ERROR org.springframework.integration.handler.LoggingHandler: javax.persistence.TransactionRequiredException: Executing an update/delete query\n    at org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:71)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>If I make this change:</p>\n\n<pre><code>public void clear() {\n    em.getTransaction().begin();\n    em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>ERROR org.springframework.integration.handler.LoggingHandler: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:245)\n    at com.sun.proxy.$Proxy84.getTransaction(Unknown Source)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>I also tried spring-data-jpa, but also fails:</p>\n\n<pre><code>public interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\n    @Query(value = \"TRUNCATE TABLE MyTable\", nativeQuery = true)\n    @Modifying\n    public void clear();\n}\n</code></pre>\n\n<p>So, how can I create a transaction and run the truncate in a shared spring context?</p>\n\n<p>The Spring application is started using:\n<code>SpringApplication.run(AppConfig.class, args);</code> having:</p>\n\n<pre><code>@Bean\npublic JpaTransactionManager transactionManager() {\n    return new JpaTransactionManager(emf);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593783501,"post_id":62716597,"comment_id":110907947,"body_markdown":"Are you testing in Android &gt;= 7 ?","body":"Are you testing in Android &gt;= 7 ?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593783798,"post_id":62716597,"comment_id":110908109,"body_markdown":"It works on Android 7 no problem, forgot to mention that, however newer devices Android 8/9/10 have the issue.","body":"It works on Android 7 no problem, forgot to mention that, however newer devices Android 8/9/10 have the issue."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1593783807,"post_id":62716597,"comment_id":110908115,"body_markdown":"createNewFile() fails. It has nothing to do with your intent. Further you should not try to create an empty file already.","body":"createNewFile() fails. It has nothing to do with your intent. Further you should not try to create an empty file already."},{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593783864,"post_id":62716597,"comment_id":110908144,"body_markdown":"Are you asking WRITE_EXTERNAL_STORAGE permission ?","body":"Are you asking WRITE_EXTERNAL_STORAGE permission ?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593783920,"post_id":62716597,"comment_id":110908175,"body_markdown":"Yes, these are being asked ; `Manifest.permission.READ_EXTERNAL_STORAGE,\n\t\t\t\t\t\t\t\tManifest.permission.CAMERA,\n\t\t\t\t\t\t\t\tManifest.permission.INTERNET,\n\t\t\t\t\t\t\t\tManifest.permission.ACCESS_NETWORK_STATE,\n\t\t\t\t\t\t\t\tManifest.permission.ACCESS_WIFI_STATE,\n\t\t\t\t\t\t\t\tManifest.permission.WRITE_EXTERNAL_STORAGE`&#39;","body":"Yes, these are being asked ; <code>Manifest.permission.READ_EXTERNAL_STORAGE, \t\t\t\t\t\t\t\tManifest.permission.CAMERA, \t\t\t\t\t\t\t\tManifest.permission.INTERNET, \t\t\t\t\t\t\t\tManifest.permission.ACCESS_NETWORK_STATE, \t\t\t\t\t\t\t\tManifest.permission.ACCESS_WIFI_STATE, \t\t\t\t\t\t\t\tManifest.permission.WRITE_EXTERNAL_STORAGE</code>&#39;"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1593784103,"post_id":62716597,"comment_id":110908276,"body_markdown":"What&#39;s the exception stacktrace that you get?","body":"What&#39;s the exception stacktrace that you get?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593784366,"post_id":62716597,"comment_id":110908410,"body_markdown":"`java.io.UnixFileSystem.createFileExclusively0(Native Method)\njava.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:317)\nat java.io.File.createNewFile(File.java:1008)`","body":"<code>java.io.UnixFileSystem.createFileExclusively0(Native Method) java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.&zwnj;&#8203;java:317) at java.io.File.createNewFile(File.java:1008)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668029052,"creation_date":1593785629,"answer_id":62717229,"question_id":62716597,"body_markdown":"&gt; W/System.err: java.io.IOException: Permission denied\r\n\r\nThis happened because you create file to external storage over Android8/9/10.\r\n\r\n&gt; If your targetSdk is 23 or higher, you should request permissions\r\n&gt; dynamically. to know more : Requesting Permissions at Run Time\r\n&gt; \r\n&gt; to get File path you can use\r\n&gt; Context.getExternalFilesDir()/Context.getExternalCacheDir() for\r\n&gt; example String path=Context.getExternalCacheDir()+&quot;file.text&quot;; File\r\n&gt; file=new File(path) it doesnt need permission if the filepath is\r\n&gt; &quot;Android/data/app package/file name&quot;\r\n\r\nAs in the Android Documentation, you need to write to the external storage, you must request the WRITE_EXTERNAL_STORAGE permission in your manifest file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n       ...\r\n    &lt;/manifest&gt;\r\nIf you use API 23 (Marshmallow) and above, you need to Requesting Permissions at Run Time because it&#39;s a Dangerous Permission.\r\n\r\n    if (ContextCompat.checkSelfPermission(\r\n            CONTEXT, Manifest.permission.REQUESTED_PERMISSION) ==\r\n            PackageManager.PERMISSION_GRANTED) {\r\n        // You can use the API that requires the permission.\r\n        performAction(...);\r\n    } else if (shouldShowRequestPermissionRationale(...)) {\r\n        // In an educational UI, explain to the user why your app requires this\r\n        // permission for a specific feature to behave as expected. In this UI,\r\n        // include a &quot;cancel&quot; or &quot;no thanks&quot; button that allows the user to\r\n        // continue using your app without granting the permission.\r\n        showInContextUI(...);\r\n    } else {\r\n        // You can directly ask for the permission.\r\n        // The registered ActivityResultCallback gets the result of this request.\r\n        requestPermissionLauncher.launch(\r\n                Manifest.permission.REQUESTED_PERMISSION);\r\n    }\r\n\r\n&gt; Reference source link\r\n\r\n[reference][1]\r\n\r\n\r\n[make file to external][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview#normal-dangerous\r\n  [2]: https://stackoverflow.com/q/44791536/\r\n\r\n&gt; **Edit answer**\r\n\r\n    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    startActivityForResult(intent, 0);\r\n    \r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {        \r\n        switch (requestCode){\r\n            case 0:\r\n                if (resultCode == Activity.RESULT_OK){\r\n                    Bitmap thumbnail = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                    SaveImage(thumbnail);                    \r\n                }\r\n                break;\r\n        }\r\n    }\r\n    \r\n    \r\n    private static void SaveImage(Bitmap finalBitmap) {\r\n    \r\n        String root = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n        File myDir = new File(root + &quot;/saved_images&quot;);\r\n        myDir.mkdirs();\r\n    \r\n        String fname = &quot;Image-&quot;+ Math.random() +&quot;.jpg&quot;;\r\n        File file = new File (myDir, fname);\r\n        if (file.exists ()) file.delete ();\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n            out.flush();\r\n            out.close();\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<blockquote>\n<p>W/System.err: java.io.IOException: Permission denied</p>\n</blockquote>\n<p>This happened because you create file to external storage over Android8/9/10.</p>\n<blockquote>\n<p>If your targetSdk is 23 or higher, you should request permissions\ndynamically. to know more : Requesting Permissions at Run Time</p>\n<p>to get File path you can use\nContext.getExternalFilesDir()/Context.getExternalCacheDir() for\nexample String path=Context.getExternalCacheDir()+&quot;file.text&quot;; File\nfile=new File(path) it doesnt need permission if the filepath is\n&quot;Android/data/app package/file name&quot;</p>\n</blockquote>\n<p>As in the Android Documentation, you need to write to the external storage, you must request the WRITE_EXTERNAL_STORAGE permission in your manifest file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n   ...\n&lt;/manifest&gt;\n</code></pre>\n<p>If you use API 23 (Marshmallow) and above, you need to Requesting Permissions at Run Time because it's a Dangerous Permission.</p>\n<pre><code>if (ContextCompat.checkSelfPermission(\n        CONTEXT, Manifest.permission.REQUESTED_PERMISSION) ==\n        PackageManager.PERMISSION_GRANTED) {\n    // You can use the API that requires the permission.\n    performAction(...);\n} else if (shouldShowRequestPermissionRationale(...)) {\n    // In an educational UI, explain to the user why your app requires this\n    // permission for a specific feature to behave as expected. In this UI,\n    // include a &quot;cancel&quot; or &quot;no thanks&quot; button that allows the user to\n    // continue using your app without granting the permission.\n    showInContextUI(...);\n} else {\n    // You can directly ask for the permission.\n    // The registered ActivityResultCallback gets the result of this request.\n    requestPermissionLauncher.launch(\n            Manifest.permission.REQUESTED_PERMISSION);\n}\n</code></pre>\n<blockquote>\n<p>Reference source link</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/permissions/overview#normal-dangerous\" rel=\"nofollow noreferrer\">reference</a></p>\n<p><a href=\"https://stackoverflow.com/q/44791536/\">make file to external</a></p>\n<blockquote>\n<p><strong>Edit answer</strong></p>\n</blockquote>\n<pre><code>Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\nstartActivityForResult(intent, 0);\n\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {        \n    switch (requestCode){\n        case 0:\n            if (resultCode == Activity.RESULT_OK){\n                Bitmap thumbnail = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                SaveImage(thumbnail);                    \n            }\n            break;\n    }\n}\n\n\nprivate static void SaveImage(Bitmap finalBitmap) {\n\n    String root = Environment.getExternalStorageDirectory().getAbsolutePath();\n    File myDir = new File(root + &quot;/saved_images&quot;);\n    myDir.mkdirs();\n\n    String fname = &quot;Image-&quot;+ Math.random() +&quot;.jpg&quot;;\n    File file = new File (myDir, fname);\n    if (file.exists ()) file.delete ();\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n        out.flush();\n        out.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18691316,"reputation":835,"user_id":13625577,"display_name":"Sunn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628826290,"creation_date":1628826290,"answer_id":68766510,"question_id":62716597,"body_markdown":"I also faced this issue before, seems like adding this inside the `Application` tag under `AndroidManifest.xml` file solve the problem for me:\r\n\r\n```\r\n&lt;application\r\n    ...\r\n    android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n&lt;/application&gt;\r\n```","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<p>I also faced this issue before, seems like adding this inside the <code>Application</code> tag under <code>AndroidManifest.xml</code> file solve the problem for me:</p>\n<pre><code>&lt;application\n    ...\n    android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n&lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1668029052,"creation_date":1593783407,"question_id":62716597,"body_markdown":"I have confirmed that the permissions are correct for Camera access, however on the later OS versions (perhaps API 25 and above) the camera does not open, it just gives the errror in debug console;\r\n\r\n    W/System.err: java.io.IOException: Permission denied\r\n\r\n\r\nThis is the method;\r\n\r\n    public void cameraClicked(View view) {\r\n    \tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    \tFile tempFile = new File(Environment.getExternalStorageDirectory().getPath()+ &quot;/photoTemp.png&quot;);\r\n    \ttry {\r\n    \t\ttempFile.createNewFile();\r\n    \t\tUri uri = Uri.fromFile(tempFile);\r\n    \t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\r\n    \t\tstartActivityForResult(takePictureIntent, 2);\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\t\r\nIt does work on Android 7 and below.\r\n\r\n\r\nEDIT - The following code is now opening the camera correctly, however once the photo is taken it progresses to the next screen but does not show the captured image... Just a black image.\r\n\r\n    public void cameraClicked(View view) {\r\n    \t\tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    \t\tString path=this.getExternalCacheDir()+&quot;file.png&quot;;\r\n    \t\tFile file=new File(path);\r\n    \tUri uri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,file);\r\n    \t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\r\n    \t\t\tstartActivityForResult(takePictureIntent, 2);\r\n    \t}","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<p>I have confirmed that the permissions are correct for Camera access, however on the later OS versions (perhaps API 25 and above) the camera does not open, it just gives the errror in debug console;</p>\n<pre><code>W/System.err: java.io.IOException: Permission denied\n</code></pre>\n<p>This is the method;</p>\n<pre><code>public void cameraClicked(View view) {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    File tempFile = new File(Environment.getExternalStorageDirectory().getPath()+ &quot;/photoTemp.png&quot;);\n    try {\n        tempFile.createNewFile();\n        Uri uri = Uri.fromFile(tempFile);\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n        startActivityForResult(takePictureIntent, 2);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It does work on Android 7 and below.</p>\n<p>EDIT - The following code is now opening the camera correctly, however once the photo is taken it progresses to the next screen but does not show the captured image... Just a black image.</p>\n<pre><code>public void cameraClicked(View view) {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        String path=this.getExternalCacheDir()+&quot;file.png&quot;;\n        File file=new File(path);\n    Uri uri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,file);\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n            startActivityForResult(takePictureIntent, 2);\n    }\n</code></pre>\n"},{"tags":["java","imap","attachment"],"answers":[{"tags":[],"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1401173570,"creation_date":1401173570,"answer_id":23882860,"question_id":23882797,"body_markdown":"First, to determine if a message may contain attachments using the following code:\r\n\r\n    // suppose &#39;message&#39; is an object of type Message\r\n    String contentType = message.getContentType();\r\n     \r\n    if (contentType.contains(&quot;multipart&quot;)) {\r\n        // this message may contain attachment\r\n    }\r\n\r\nThen we must iterate through each part in the multipart to identify which part contains the attachment, as follows:\r\n\r\n    Multipart multiPart = (Multipart) message.getContent();\r\n     \r\n    for (int i = 0; i &lt; multiPart.getCount(); i++) {\r\n        MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\r\n        if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n            // this part is attachment\r\n            // code to save attachment...\r\n        }\r\n    }\r\n\r\nAnd to save the file, you could do:\r\n\r\n    part.saveFile(&quot;D:/Attachment/&quot; + part.getFileName());\r\n\r\n[Source](http://www.codejava.net/java-ee/javamail/download-attachments-in-e-mail-messages-using-javamail)","title":"How to get filename of all attachements of email?","body":"<p>First, to determine if a message may contain attachments using the following code:</p>\n\n<pre><code>// suppose 'message' is an object of type Message\nString contentType = message.getContentType();\n\nif (contentType.contains(\"multipart\")) {\n    // this message may contain attachment\n}\n</code></pre>\n\n<p>Then we must iterate through each part in the multipart to identify which part contains the attachment, as follows:</p>\n\n<pre><code>Multipart multiPart = (Multipart) message.getContent();\n\nfor (int i = 0; i &lt; multiPart.getCount(); i++) {\n    MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\n    if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n        // this part is attachment\n        // code to save attachment...\n    }\n}\n</code></pre>\n\n<p>And to save the file, you could do:</p>\n\n<pre><code>part.saveFile(\"D:/Attachment/\" + part.getFileName());\n</code></pre>\n\n<p><a href=\"http://www.codejava.net/java-ee/javamail/download-attachments-in-e-mail-messages-using-javamail\" rel=\"noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":12361240,"reputation":31,"user_id":9015402,"display_name":"l0wacska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586177019,"creation_date":1586177019,"answer_id":61060152,"question_id":23882797,"body_markdown":"there is an easier way with apache commons mail:\r\n\r\n    final MimeMessageParser mimeParser = new MimeMessageParser(mimeMessage).parse();\r\n    final List&lt;DataSource&gt; attachmentList = mimeParser.getAttachmentList();\r\n    for (DataSource dataSource: attachmentList) {\r\n                final String fileName = dataSource.getName();\r\n    \t\t\tSystem.out.println(&quot;filename: &quot; + fileName);\r\n    }","title":"How to get filename of all attachements of email?","body":"<p>there is an easier way with apache commons mail:</p>\n\n<pre><code>final MimeMessageParser mimeParser = new MimeMessageParser(mimeMessage).parse();\nfinal List&lt;DataSource&gt; attachmentList = mimeParser.getAttachmentList();\nfor (DataSource dataSource: attachmentList) {\n            final String fileName = dataSource.getName();\n            System.out.println(\"filename: \" + fileName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11768823,"reputation":46,"user_id":10605740,"display_name":"Manish Biyani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668028907,"creation_date":1596920198,"answer_id":63320155,"question_id":23882797,"body_markdown":"I was facing the same issue when the email contained another email as an attachment. The content-disposition of such an attachment does not contain fileName. \r\n\r\n    String contentType = message.getContentType(); \r\n    List&lt;String&gt; attachmentFiles = new ArrayList&lt;String&gt;();\r\n    if(contentType.contains(&quot;multipart&quot;))\r\n\t    {\r\n\t    \tMultipart multiPart = (Multipart)message.getContent(); \r\n\t    \tint numberOfParts = multiPart.getCount(); \r\n\t    \tfor(int partCount = 0; partCount &lt; numberOfParts; partCount++)\r\n\t    \t{\r\n\t    \t\tMimeBodyPart part = (MimeBodyPart)multiPart.getBodyPart(partCount); \r\n\t    \t\tif(Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n                    String fileName = part.getFileName();\r\n                    String extension = FilenameUtils.getExtension(fileName);\r\n                    //If the attachment is an email, fileName will be null.\r\n                    if (&quot;message/rfc822&quot;.equalsIgnoreCase(part.getContentType())) {\r\n                        MimeMessage tempMessage = new MimeMessage(null, part.getInputStream());\r\n                        fileName = tempMessage.getSubject()+&quot;.eml&quot;; //all the email attachments will be converted to .eml format.\r\n                        extension = &quot;eml&quot;;\r\n                    }\r\n\t    \t\t\tFile tempEmailFile = File.createTempFile(messageId + &quot;_&quot; + partCount , &quot;.&quot; + extension);\r\n\t    \t\t\tpart.saveFile(tempEmailFile); \r\n\t    \t\t\tattachmentFiles.add(fileName);\r\n\t    \t\t\tattachmentFiles.add(tempEmailFile.getAbsolutePath()); \r\n\t    \t\t}\r\n\t    \t}\r\n\t    \t\r\n\t    }\r\n\r\nReference: https://stackoverflow.com/q/38874376/","title":"How to get filename of all attachements of email?","body":"<p>I was facing the same issue when the email contained another email as an attachment. The content-disposition of such an attachment does not contain fileName.</p>\n<pre><code>String contentType = message.getContentType(); \nList&lt;String&gt; attachmentFiles = new ArrayList&lt;String&gt;();\nif(contentType.contains(&quot;multipart&quot;))\n    {\n        Multipart multiPart = (Multipart)message.getContent(); \n        int numberOfParts = multiPart.getCount(); \n        for(int partCount = 0; partCount &lt; numberOfParts; partCount++)\n        {\n            MimeBodyPart part = (MimeBodyPart)multiPart.getBodyPart(partCount); \n            if(Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n                String fileName = part.getFileName();\n                String extension = FilenameUtils.getExtension(fileName);\n                //If the attachment is an email, fileName will be null.\n                if (&quot;message/rfc822&quot;.equalsIgnoreCase(part.getContentType())) {\n                    MimeMessage tempMessage = new MimeMessage(null, part.getInputStream());\n                    fileName = tempMessage.getSubject()+&quot;.eml&quot;; //all the email attachments will be converted to .eml format.\n                    extension = &quot;eml&quot;;\n                }\n                File tempEmailFile = File.createTempFile(messageId + &quot;_&quot; + partCount , &quot;.&quot; + extension);\n                part.saveFile(tempEmailFile); \n                attachmentFiles.add(fileName);\n                attachmentFiles.add(tempEmailFile.getAbsolutePath()); \n            }\n        }\n        \n    }\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/q/38874376/\">javamail also extract attachments of encapsulated message Content-Type: message/rfc822</a></p>\n"}],"owner":{"account_id":4494286,"reputation":676,"user_id":3654540,"accept_rate":57,"display_name":"cooljohny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12858,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":23882860,"answer_count":3,"score":9,"last_activity_date":1668028907,"creation_date":1401173329,"question_id":23882797,"body_markdown":"I am trying to get the filename of all the attachements of emails using java and imap.My code is:\r\n\r\n    MimeMessage msg = (MimeMessage) messages[i];\r\n    String fileName = msg.getFileName();\r\n    System.out.println(&quot;The file name of this attachment is &quot; + fileName);\r\n\r\nbut it prints null always even if email contain attachment..I have seen different codes on SO but none worked...and I don&#39;t know what to do if attachment is more than one .&lt;br/&gt;\r\nPS:I only want to get the filename and don&#39;t want to download attachments.","title":"How to get filename of all attachements of email?","body":"<p>I am trying to get the filename of all the attachements of emails using java and imap.My code is:</p>\n\n<pre><code>MimeMessage msg = (MimeMessage) messages[i];\nString fileName = msg.getFileName();\nSystem.out.println(\"The file name of this attachment is \" + fileName);\n</code></pre>\n\n<p>but it prints null always even if email contain attachment..I have seen different codes on SO but none worked...and I don't know what to do if attachment is more than one .<br/>\nPS:I only want to get the filename and don't want to download attachments.</p>\n"},{"tags":["java","macos","environment-variables","macos-monterey"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668027108,"post_id":74381211,"comment_id":131310929,"body_markdown":"Can you execute the java executable directly. Ie. `sudo /Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home/bin/java -version` I might not have the bin/java bits correct as I don&#39;t have osx handy to check.","body":"Can you execute the java executable directly. Ie. <code>sudo &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;8&#47;jdk8&#47;zulu-8.jdk&#47;Contents&zwnj;&#8203;&#47;Home&#47;bin&#47;java -version</code> I might not have the bin/java bits correct as I don&#39;t have osx handy to check."}],"answers":[{"tags":[],"owner":{"account_id":2981463,"reputation":845,"user_id":2531336,"display_name":"thecarpy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668028760,"creation_date":1668027140,"answer_id":74381236,"question_id":74381211,"body_markdown":"If it works with as a normal user, it has nothing to do with the platform/CPU. It cannot find the Java executable since it is not on the `PATH`.\r\n\r\nYou need to preserve the environment, use `sudo -E` for that.\r\n\r\n`sudo -E java -version`\r\n\r\nThe full documentation to the BSD sudo command can be found [here][1]:\r\n\r\n&gt; -E, --preserve-env - Indicates to the security policy that \r\n&gt; the user\twishes to preserve their existing environment \r\n&gt; variables. \r\n&gt; The security \t\t policy\tmay return an error if the user\tdoes not have\r\n&gt; permission to preserve the environment.\r\n\r\n\r\n  [1]: https://www.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html","title":"mac m1 error when using sudo in terminal to execute java","body":"<p>If it works with as a normal user, it has nothing to do with the platform/CPU. It cannot find the Java executable since it is not on the <code>PATH</code>.</p>\n<p>You need to preserve the environment, use <code>sudo -E</code> for that.</p>\n<p><code>sudo -E java -version</code></p>\n<p>The full documentation to the BSD sudo command can be found <a href=\"https://www.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>-E, --preserve-env - Indicates to the security policy that\nthe user  wishes to preserve their existing environment\nvariables.\nThe security       policy may return an error if the user does not have\npermission to preserve the environment.</p>\n</blockquote>\n"}],"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668028760,"creation_date":1668026897,"question_id":74381211,"body_markdown":"I have this problem in mac when trying to run a mvn command as admin by using sudo i am getting this error :\r\n\r\n    The operation couldn’t be completed. Unable to locate a Java Runtime.\r\n    Please visit http://www.java.com for information on installing Java.\r\n\r\nyet when i execute the command without sudo its working fine.\r\nthe same its happening when using java in the terminal, using something as simple as java -version its returning the same error when using sudo. But working fine without using  sudo.\r\n\r\ncan someone give me a hit or explain why is happening ?.\r\n \r\n\r\nwhen using sudo to retrieve $JAVA_HOME variable its working fine its returning its path \r\n\r\n    /Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home\r\n\r\n\r\n","title":"mac m1 error when using sudo in terminal to execute java","body":"<p>I have this problem in mac when trying to run a mvn command as admin by using sudo i am getting this error :</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>yet when i execute the command without sudo its working fine.\nthe same its happening when using java in the terminal, using something as simple as java -version its returning the same error when using sudo. But working fine without using  sudo.</p>\n<p>can someone give me a hit or explain why is happening ?.</p>\n<p>when using sudo to retrieve $JAVA_HOME variable its working fine its returning its path</p>\n<pre><code>/Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home\n</code></pre>\n"},{"tags":["java","mysql","hibernate","maven"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1668025175,"post_id":74380398,"comment_id":131310294,"body_markdown":"Welcome to SO.  First of all, your example is waaaay too long and complicated.  You need to boil it down.  Also, you should always include the exception if you are getting one because it provides critical information about where the NPE is happening.  See: https://stackoverflow.com/help/minimal-reproducible-example","body":"Welcome to SO.  First of all, your example is waaaay too long and complicated.  You need to boil it down.  Also, you should always include the exception if you are getting one because it provides critical information about where the NPE is happening.  See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"score":0,"creation_date":1668028548,"post_id":74380398,"comment_id":131311378,"body_markdown":"@Gray I figured more info is better than too little. I&#39;ll keep that in mind. Meanwhile, I added the exception","body":"@Gray I figured more info is better than too little. I&#39;ll keep that in mind. Meanwhile, I added the exception"}],"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668028682,"creation_date":1668022204,"question_id":74380398,"body_markdown":"I&#39;m making an application in Java using Hibernate, Maven, and JUnit for testing. I&#39;ve had quite a few errors, and my latest one is a nullpointerexception that I&#39;m not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information (the terminal output?). The exception occurs when I try to test the getById method in the PcBuildDao class.\r\n\r\nthe exception:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\r\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can&#39;t post here]&quot;\r\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\r\n\r\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\r\n\r\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuild POJO\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;PcBuild&quot;)\r\n@Table(name = &quot;computer_builds&quot;)\r\npublic class PcBuild {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int buildId;\r\n\r\n    @Column(name = &quot;cpu_model&quot;)\r\n    private String cpuModel;\r\n\r\n    @Column(name = &quot;gpu_model&quot;)\r\n    private String gpuModel;\r\n\r\n    @Column(name = &quot;cpu_cooler_model&quot;)\r\n    private String cpuCoolerModel;\r\n\r\n    @Column(name = &quot;Motherboard_model&quot;)\r\n    private String motherboardModel;\r\n\r\n    @Column(name = &quot;psu_model&quot;)\r\n    private String psuModel;\r\n\r\n    @Column(name = &quot;case_model&quot;)\r\n    private String caseModel;\r\n\r\n    @Column(name = &quot;data_storage_model&quot;)\r\n    private String dataStorageModel;\r\n\r\n    @Column(name = &quot;ram_model&quot;)\r\n    private String ramModel;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    public PcBuild() {\r\n    }\r\n\r\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\r\n            String cpuCoolerModel, String motherboardModel, String psuModel,\r\n            String caseModel, String dataStorageModel, String ramModel,\r\n            User user) {\r\n        this.buildId = buildId;\r\n        this.cpuModel = cpuModel;\r\n        this.gpuModel = gpuModel;\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n        this.motherboardModel = motherboardModel;\r\n        this.psuModel = psuModel;\r\n        this.caseModel = caseModel;\r\n        this.dataStorageModel = dataStorageModel;\r\n        this.ramModel = ramModel;\r\n        this.user = user;\r\n    }\r\n\r\n    public int getBuildId() {\r\n        return buildId;\r\n    }\r\n\r\n    public void setBuildId(int buildId) {\r\n        this.buildId = buildId;\r\n    }\r\n\r\n    public String getCpuModel() {\r\n        return cpuModel;\r\n    }\r\n\r\n    public void setCpuModel(String cpuModel) {\r\n        this.cpuModel = cpuModel;\r\n    }\r\n\r\n    public String getGpuModel() {\r\n        return gpuModel;\r\n    }\r\n\r\n    public void setGpuModel(String gpuModel) {\r\n        this.gpuModel = gpuModel;\r\n    }\r\n\r\n    public String getCpuCoolerModel() {\r\n        return cpuCoolerModel;\r\n    }\r\n\r\n    public void setCpuCoolerModel(String cpuCoolerModel) {\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n    }\r\n\r\n    public String getMotherboardModel() {\r\n        return motherboardModel;\r\n    }\r\n\r\n    public void setMotherboardModel(String motherboardModel) {\r\n        this.motherboardModel = motherboardModel;\r\n    }\r\n\r\n    public String getPsuModel() {\r\n        return psuModel;\r\n    }\r\n\r\n    public void setPsuModel(String psuModel) {\r\n        this.psuModel = psuModel;\r\n    }\r\n\r\n    public String getCase_Model() {\r\n        return caseModel;\r\n    }\r\n\r\n    public void setCase_Model(String caseModel) {\r\n        this.caseModel = caseModel;\r\n    }\r\n\r\n    public String getDataStorageModel() {\r\n        return dataStorageModel;\r\n    }\r\n\r\n    public void setDataStorageModel(String dataStorageModel) {\r\n        this.dataStorageModel = dataStorageModel;\r\n    }\r\n\r\n    public String getRamModel() {\r\n        return ramModel;\r\n    }\r\n\r\n    public void setRamModel(String ramModel) {\r\n        this.ramModel = ramModel;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUserId(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PcBuild{&quot; +\r\n                &quot;buildId=&quot; + buildId +\r\n                &quot;, cpuModel=&#39;&quot; + cpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, gpuModel=&#39;&quot; + gpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, cpuCoolerModel=&#39;&quot; + cpuCoolerModel + &#39;\\&#39;&#39; +\r\n                &quot;, motherboardModel=&#39;&quot; + motherboardModel + &#39;\\&#39;&#39; +\r\n                &quot;, psuModel=&#39;&quot; + psuModel + &#39;\\&#39;&#39; +\r\n                &quot;, caseModel=&#39;&quot; + caseModel + &#39;\\&#39;&#39; +\r\n                &quot;, dataStorageModel=&#39;&quot; + dataStorageModel + &#39;\\&#39;&#39; +\r\n                &quot;, ramModel=&#39;&quot; + ramModel + &#39;\\&#39;&#39; +\r\n                &quot;, user=&quot; + user +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nPcBuild DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\nUser POJO\r\n\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int userId;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.userId = userId;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Set&lt;PcBuild&gt; getPcBuilds() {\r\n        return pcBuilds;\r\n    }\r\n\r\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUser DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.persistence.criteria.CriteriaQuery;\r\nimport javax.persistence.criteria.Expression;\r\nimport javax.persistence.criteria.Root;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.User;\r\n\r\npublic class UserDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public User getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        CriteriaBuilder builder = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\r\n        Root&lt;User&gt; root = query.from(User.class);\r\n        Expression&lt;String&gt; propertyPath = root.get(&quot;id&quot;);\r\n        query.where(builder.equal(propertyPath, id));\r\n        User user = session.createQuery(query).getSingleResult();\r\n        session.close();\r\n        return user;\r\n    }\r\n\r\n    public void saveOrUpdate(User user) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(user);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(User user) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int)session.save(user);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(User user) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(user);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\nThe mySQL script I run before every test\r\n\r\n```\r\ndelete from computer_builds;\r\n\r\ndelete from users;\r\n\r\ninsert into users (userId, username, password) VALUES (1, &#39;fchristian&#39;, &#39;student&#39;);\r\n\r\ninsert into users (userId, username, password) VALUES (2, &#39;achristian&#39;, &#39;lollipop&#39;);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 7 5800X3D&#39;, &#39;PowerColor Red Devil OC Radeon RX 6950 XT&#39;, &#39;Deepcool AK620&#39;, &#39;MSI MAG B550 Tomahawk&#39;,\r\n        &#39;Thermaltake Toughpower GF1 PE 850 W&#39;, &#39;Corsair 4000D Airflow ATX Mid Tower&#39;, &#39;Samsung 970 Evo Plus 2 TB NVMe SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18&#39;, 1);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 3 3200G&#39;, &#39;Gigabyte GAMING OC Radeon RX 5700 XT&#39;, &#39;Stock&#39;, &#39;Gigabyte B450M DS3H Wifi&#39;,\r\n        &#39;Fractal Design Ion SFX 650 W&#39;, &#39;Thermaltake Core G3 ATX Mid Tower&#39;, &#39;Teamgroup GX2 512 GB SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16&#39;, 2);\r\n```\r\n\r\n\r\nI tried running the getById method in the PcBuildDao by passing in &quot;1&quot; and apparently it&#39;s just returning nothing instead of the returned PcBuild object&#39;s GPU model which I&#39;m trying to get by calling its getGpuModel method.","title":"Trying to do JUnit testing on a java hibernate application, and I&#39;m getting a NullPointerAcception","body":"<p>I'm making an application in Java using Hibernate, Maven, and JUnit for testing. I've had quite a few errors, and my latest one is a nullpointerexception that I'm not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information (the terminal output?). The exception occurs when I try to test the getById method in the PcBuildDao class.</p>\n<p>the exception:</p>\n<pre><code>java.lang.NullPointerException\n    at persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can't post here]&quot;\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\n\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\n\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;webResources&gt;\n              &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n              &lt;/resource&gt;\n            &lt;/webResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuild POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\n\n@Entity(name = &quot;PcBuild&quot;)\n@Table(name = &quot;computer_builds&quot;)\npublic class PcBuild {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int buildId;\n\n    @Column(name = &quot;cpu_model&quot;)\n    private String cpuModel;\n\n    @Column(name = &quot;gpu_model&quot;)\n    private String gpuModel;\n\n    @Column(name = &quot;cpu_cooler_model&quot;)\n    private String cpuCoolerModel;\n\n    @Column(name = &quot;Motherboard_model&quot;)\n    private String motherboardModel;\n\n    @Column(name = &quot;psu_model&quot;)\n    private String psuModel;\n\n    @Column(name = &quot;case_model&quot;)\n    private String caseModel;\n\n    @Column(name = &quot;data_storage_model&quot;)\n    private String dataStorageModel;\n\n    @Column(name = &quot;ram_model&quot;)\n    private String ramModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\n    private User user;\n\n    public PcBuild() {\n    }\n\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\n            String cpuCoolerModel, String motherboardModel, String psuModel,\n            String caseModel, String dataStorageModel, String ramModel,\n            User user) {\n        this.buildId = buildId;\n        this.cpuModel = cpuModel;\n        this.gpuModel = gpuModel;\n        this.cpuCoolerModel = cpuCoolerModel;\n        this.motherboardModel = motherboardModel;\n        this.psuModel = psuModel;\n        this.caseModel = caseModel;\n        this.dataStorageModel = dataStorageModel;\n        this.ramModel = ramModel;\n        this.user = user;\n    }\n\n    public int getBuildId() {\n        return buildId;\n    }\n\n    public void setBuildId(int buildId) {\n        this.buildId = buildId;\n    }\n\n    public String getCpuModel() {\n        return cpuModel;\n    }\n\n    public void setCpuModel(String cpuModel) {\n        this.cpuModel = cpuModel;\n    }\n\n    public String getGpuModel() {\n        return gpuModel;\n    }\n\n    public void setGpuModel(String gpuModel) {\n        this.gpuModel = gpuModel;\n    }\n\n    public String getCpuCoolerModel() {\n        return cpuCoolerModel;\n    }\n\n    public void setCpuCoolerModel(String cpuCoolerModel) {\n        this.cpuCoolerModel = cpuCoolerModel;\n    }\n\n    public String getMotherboardModel() {\n        return motherboardModel;\n    }\n\n    public void setMotherboardModel(String motherboardModel) {\n        this.motherboardModel = motherboardModel;\n    }\n\n    public String getPsuModel() {\n        return psuModel;\n    }\n\n    public void setPsuModel(String psuModel) {\n        this.psuModel = psuModel;\n    }\n\n    public String getCase_Model() {\n        return caseModel;\n    }\n\n    public void setCase_Model(String caseModel) {\n        this.caseModel = caseModel;\n    }\n\n    public String getDataStorageModel() {\n        return dataStorageModel;\n    }\n\n    public void setDataStorageModel(String dataStorageModel) {\n        this.dataStorageModel = dataStorageModel;\n    }\n\n    public String getRamModel() {\n        return ramModel;\n    }\n\n    public void setRamModel(String ramModel) {\n        this.ramModel = ramModel;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUserId(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PcBuild{&quot; +\n                &quot;buildId=&quot; + buildId +\n                &quot;, cpuModel='&quot; + cpuModel + '\\'' +\n                &quot;, gpuModel='&quot; + gpuModel + '\\'' +\n                &quot;, cpuCoolerModel='&quot; + cpuCoolerModel + '\\'' +\n                &quot;, motherboardModel='&quot; + motherboardModel + '\\'' +\n                &quot;, psuModel='&quot; + psuModel + '\\'' +\n                &quot;, caseModel='&quot; + caseModel + '\\'' +\n                &quot;, dataStorageModel='&quot; + dataStorageModel + '\\'' +\n                &quot;, ramModel='&quot; + ramModel + '\\'' +\n                &quot;, user=&quot; + user +\n                '}';\n    }\n}\n</code></pre>\n<p>PcBuild DAO</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>User POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int userId;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\n\n    public User() {\n    }\n\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\n        this.userId = userId;\n        this.username = username;\n        this.password = password;\n        this.pcBuilds = pcBuilds;\n    }\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Set&lt;PcBuild&gt; getPcBuilds() {\n        return pcBuilds;\n    }\n\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\n        this.pcBuilds = pcBuilds;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, username='&quot; + username + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>User DAO</p>\n<pre><code>package persistence;\n\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Expression;\nimport javax.persistence.criteria.Root;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.User;\n\npublic class UserDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public User getById(int id) {\n        Session session = sessionFactory.openSession();\n        CriteriaBuilder builder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\n        Root&lt;User&gt; root = query.from(User.class);\n        Expression&lt;String&gt; propertyPath = root.get(&quot;id&quot;);\n        query.where(builder.equal(propertyPath, id));\n        User user = session.createQuery(query).getSingleResult();\n        session.close();\n        return user;\n    }\n\n    public void saveOrUpdate(User user) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(user);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(User user) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int)session.save(user);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(User user) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(user);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>The mySQL script I run before every test</p>\n<pre><code>delete from computer_builds;\n\ndelete from users;\n\ninsert into users (userId, username, password) VALUES (1, 'fchristian', 'student');\n\ninsert into users (userId, username, password) VALUES (2, 'achristian', 'lollipop');\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 7 5800X3D', 'PowerColor Red Devil OC Radeon RX 6950 XT', 'Deepcool AK620', 'MSI MAG B550 Tomahawk',\n        'Thermaltake Toughpower GF1 PE 850 W', 'Corsair 4000D Airflow ATX Mid Tower', 'Samsung 970 Evo Plus 2 TB NVMe SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18', 1);\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 3 3200G', 'Gigabyte GAMING OC Radeon RX 5700 XT', 'Stock', 'Gigabyte B450M DS3H Wifi',\n        'Fractal Design Ion SFX 650 W', 'Thermaltake Core G3 ATX Mid Tower', 'Teamgroup GX2 512 GB SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16', 2);\n</code></pre>\n<p>I tried running the getById method in the PcBuildDao by passing in &quot;1&quot; and apparently it's just returning nothing instead of the returned PcBuild object's GPU model which I'm trying to get by calling its getGpuModel method.</p>\n"},{"tags":["java","datetime","java-time","localdate"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1668014499,"post_id":74378826,"comment_id":131306879,"body_markdown":"How about not converting back to local date at the end?","body":"How about not converting back to local date at the end?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668015730,"post_id":74378826,"comment_id":131307336,"body_markdown":"This makes absolutely no sense, because time **atStartOfDay** is always 00:00:00.","body":"This makes absolutely no sense, because time <b>atStartOfDay</b> is always 00:00:00."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668015850,"post_id":74378826,"comment_id":131307383,"body_markdown":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00.","body":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668016042,"post_id":74378826,"comment_id":131307461,"body_markdown":"But not from a &quot;local&quot; perspektive, isn&#39;t it?","body":"But not from a &quot;local&quot; perspektive, isn&#39;t it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668016052,"post_id":74378826,"comment_id":131307467,"body_markdown":"Append to your expression: `.atTime(LocalTime.MIDNIGHT)`. Yields a `LocalDateTime`, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isn’t valid for your time zone.","body":"Append to your expression: <code>.atTime(LocalTime.MIDNIGHT)</code>. Yields a <code>LocalDateTime</code>, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isn’t valid for your time zone."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668016911,"post_id":74378826,"comment_id":131307776,"body_markdown":"Are you trying to go back 8 days, or go back to previous Monday?","body":"Are you trying to go back 8 days, or go back to previous Monday?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668017648,"post_id":74378826,"comment_id":131308039,"body_markdown":"— or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday.","body":"— or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday."}],"answers":[{"tags":[],"owner":{"account_id":26863921,"reputation":43,"user_id":20446959,"display_name":"Arkady Dymkov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668014236,"creation_date":1668014236,"answer_id":74378868,"question_id":74378826,"body_markdown":"    @DateTimeFormat(&quot;HH:MM:SS&quot;)\r\n    @JsonFormat(&quot;HH:MM:SS&quot;)","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>@DateTimeFormat(&quot;HH:MM:SS&quot;)\n@JsonFormat(&quot;HH:MM:SS&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014281,"creation_date":1668014281,"answer_id":74378877,"question_id":74378826,"body_markdown":"What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).\r\n\r\nLocalDate does as it says on the tin, it gives you a date, not a date and time.","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<p>What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).</p>\n<p>LocalDate does as it says on the tin, it gives you a date, not a date and time.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668028363,"creation_date":1668015265,"answer_id":74379096,"question_id":74378826,"body_markdown":"# tl;dr\r\n\r\n    LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \r\n    .now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \r\n    .minusDays( 8 )                             // Returns another `LocalDate` object. \r\n    .atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \r\n    .toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \r\n\r\nSee this code [run at Ideone.com][1]. Notice that on that date in that zone, the day began at 01:00, *not* 00:00. \r\n\r\n&gt; 2022-02-22T01:00+03:00[Asia/Amman]\r\n\r\n# No “format” involved \r\n\r\nDate-time objects do not have a “format”. Text has a format. Date-time objects are not text. \r\n\r\n# `LocalDate` has no time of day\r\n\r\nYou said:\r\n\r\n&gt; add HH:MM:SS format to [a `LocalDate` object]\r\n\r\nA `LocalDate` represents a date only, without a time of day, without a time zone or offset.\r\n\r\n# `ZonedDateTime`\r\n\r\nApparently you want the first moment of the day eight days ago as seen in your locality. \r\n\r\nFirst, specify your desired/expected time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n\r\nOr use your JVM‘s current default time zone. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ; \r\n\r\nCapture the current date as seen in that zone. \r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nGo back eight days. \r\n\r\n    LocalDate eightDaysAgo = today.minusDays( 8 ) ;\r\n\r\nIf you meant to go back to the previous Monday, use a `TemporalAdjuster`. \r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n\r\nGet the first moment of that day. Pass your time zone. \r\n\r\n    ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\r\n\r\nThe time-of-day *may* be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00. \r\n\r\n\r\nAll of this has been covered many times already on Stack Overflow. Search to learn more. \r\n\r\n  [1]: https://ideone.com/y3JnxS","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \n.now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \n.minusDays( 8 )                             // Returns another `LocalDate` object. \n.atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \n.toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \n</code></pre>\n<p>See this code <a href=\"https://ideone.com/y3JnxS\" rel=\"nofollow noreferrer\">run at Ideone.com</a>. Notice that on that date in that zone, the day began at 01:00, <em>not</em> 00:00.</p>\n<blockquote>\n<p>2022-02-22T01:00+03:00[Asia/Amman]</p>\n</blockquote>\n<h1>No “format” involved</h1>\n<p>Date-time objects do not have a “format”. Text has a format. Date-time objects are not text.</p>\n<h1><code>LocalDate</code> has no time of day</h1>\n<p>You said:</p>\n<blockquote>\n<p>add HH:MM:SS format to [a <code>LocalDate</code> object]</p>\n</blockquote>\n<p>A <code>LocalDate</code> represents a date only, without a time of day, without a time zone or offset.</p>\n<h1><code>ZonedDateTime</code></h1>\n<p>Apparently you want the first moment of the day eight days ago as seen in your locality.</p>\n<p>First, specify your desired/expected time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\n</code></pre>\n<p>Or use your JVM‘s current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ; \n</code></pre>\n<p>Capture the current date as seen in that zone.</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Go back eight days.</p>\n<pre><code>LocalDate eightDaysAgo = today.minusDays( 8 ) ;\n</code></pre>\n<p>If you meant to go back to the previous Monday, use a <code>TemporalAdjuster</code>.</p>\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\n</code></pre>\n<p>Get the first moment of that day. Pass your time zone.</p>\n<pre><code>ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\n</code></pre>\n<p>The time-of-day <em>may</em> be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00.</p>\n<p>All of this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016133,"creation_date":1668016133,"answer_id":74379269,"question_id":74378826,"body_markdown":"```java\r\nLocalDateTime\r\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\r\n .minusWeeks(1)\r\n```\r\n\r\nGives you start of last week at midnight (local time).\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\n .minusWeeks(1)\n</code></pre>\n<p>Gives you start of last week at midnight (local time).</p>\n"}],"owner":{"account_id":26817038,"reputation":7,"user_id":20406891,"display_name":"sgsg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668028363,"creation_date":1668014072,"question_id":74378826,"body_markdown":"```\r\nLocalDate beginDate = LocalDate.now()\r\n        .with(ChronoField.DAY_OF_WEEK, 1)\r\n        .atStartOfDay()\r\n        .minusDays(8)\r\n        .toLocalDate();\r\n```\r\n\r\nI am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find ```atStartOfDay()``` method for LocalDateTime. Help me to add HH:MM:SS to ```beginDate``` variable\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>LocalDate beginDate = LocalDate.now()\n        .with(ChronoField.DAY_OF_WEEK, 1)\n        .atStartOfDay()\n        .minusDays(8)\n        .toLocalDate();\n</code></pre>\n<p>I am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find <code>atStartOfDay()</code> method for LocalDateTime. Help me to add HH:MM:SS to <code>beginDate</code> variable</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1410444724,"post_id":25789176,"comment_id":40335672,"body_markdown":"i assume this is a bug in hibernate : https://hibernate.atlassian.net/browse/HHH-9111","body":"i assume this is a bug in hibernate : <a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9111</a>"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412761729,"post_id":25789176,"comment_id":41184047,"body_markdown":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?","body":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412836533,"post_id":25789176,"comment_id":41217412,"body_markdown":"it works now. if not i can paste content here","body":"it works now. if not i can paste content here"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412849376,"post_id":25789176,"comment_id":41224137,"body_markdown":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?","body":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412852095,"post_id":25789176,"comment_id":41225616,"body_markdown":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache","body":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache"},{"owner":{"account_id":3088591,"reputation":464,"user_id":2615253,"accept_rate":75,"display_name":"Kunal"},"score":0,"creation_date":1477318666,"post_id":25789176,"comment_id":67704789,"body_markdown":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back","body":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1478075474,"post_id":25789176,"comment_id":68003305,"body_markdown":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map.","body":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map."}],"answers":[{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435320588,"creation_date":1435320588,"answer_id":31072851,"question_id":25789176,"body_markdown":"I think this happens when the queried table does not have a primary key.","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>I think this happens when the queried table does not have a primary key.</p>\n"},{"tags":[],"owner":{"account_id":19422105,"reputation":11,"user_id":14204424,"display_name":"nrd_000002"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668027890,"creation_date":1598984155,"answer_id":63693277,"question_id":25789176,"body_markdown":"So, this happened to me too and after searching / researching a possible solution I&#39;ve\r\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\r\nupon a solution. \r\n\r\nAnd so... The environment\r\n\r\n&gt; hibernate-core 5.3.0.Final\r\n&gt; \r\n&gt; Wildfly 20.0.1 Final\r\n&gt; \r\n&gt; Java 11\r\n&gt;\r\n&gt; PostgreSql 9.4 ? (don&#39;t know the exact version, sorry)\r\n&gt;\r\n&gt; Infinispan for caching\r\n&gt;\r\n\r\nSo, first using \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .getResultList()\r\n\r\nI received an error similar to this\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nbut, of course, with different numbers (instead of 0 and 1)\r\n\r\n\r\nNote: my native sql was like this\r\n\r\n&gt; select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0\r\n\r\nAnd so, something smelly hit the fan...\r\n\r\nTried this \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nand I failed... Tried this same stuff with all addSynchronized methods available in\r\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.\r\n\r\n\r\nThen I tried rewriting my query with HQL, but good luck with that... Rewriting all these\r\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\r\ncase. Note that resources I have are limited).\r\n\r\nGot back to where I&#39;ve started... And changed this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nto \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;)\r\n                .getResultList()\r\n\r\nand got the same error similar to\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nAnd then I tried this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;, new DateType())\r\n                .getResultList()\r\n\r\nAnd BAAAAAAM finally it started working. \r\n\r\nTo sum it up it started working then I unwrapped query to NativeQuery and added scalar\r\nwith a type!!!\r\n\r\nNote if your native query does not have aliases then add them!!!\r\n\r\nRelated threads (to name a few)\r\n\r\n&gt; https://hibernate.atlassian.net/browse/HHH-9111\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/54801806/cache-jpa-native-query\r\n","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>So, this happened to me too and after searching / researching a possible solution I've\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\nupon a solution.</p>\n<p>And so... The environment</p>\n<blockquote>\n<p>hibernate-core 5.3.0.Final</p>\n<p>Wildfly 20.0.1 Final</p>\n<p>Java 11</p>\n<p>PostgreSql 9.4 ? (don't know the exact version, sorry)</p>\n<p>Infinispan for caching</p>\n</blockquote>\n<p>So, first using</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .getResultList()\n</code></pre>\n<p>I received an error similar to this</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>but, of course, with different numbers (instead of 0 and 1)</p>\n<p>Note: my native sql was like this</p>\n<blockquote>\n<p>select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0</p>\n</blockquote>\n<p>And so, something smelly hit the fan...</p>\n<p>Tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>and I failed... Tried this same stuff with all addSynchronized methods available in\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.</p>\n<p>Then I tried rewriting my query with HQL, but good luck with that... Rewriting all these\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\ncase. Note that resources I have are limited).</p>\n<p>Got back to where I've started... And changed this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>to</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;)\n            .getResultList()\n</code></pre>\n<p>and got the same error similar to</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>And then I tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;, new DateType())\n            .getResultList()\n</code></pre>\n<p>And BAAAAAAM finally it started working.</p>\n<p>To sum it up it started working then I unwrapped query to NativeQuery and added scalar\nwith a type!!!</p>\n<p>Note if your native query does not have aliases then add them!!!</p>\n<p>Related threads (to name a few)</p>\n<blockquote>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9111</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\">Hibernate Ehcache NOT working for SQL Native query cache</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\">Hibernate query cache applicable for native queries?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54801806/cache-jpa-native-query\">Cache JPA Native Query</a></p>\n</blockquote>\n"}],"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4680,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1668027890,"creation_date":1410443300,"question_id":25789176,"body_markdown":"    String q1Str = &quot;SELECT parent_id FROM meta WHERE st_id = &quot;+childIds+&quot;;&quot;;\r\n    Query q1 = em.createNativeQuery(q1Str);\r\n    //q1.setHint(&quot;org.hibernate.cacheable&quot;, true);\r\n    Object parentId = null;\r\n    try{\r\n    parentId = q1.getSingleResult();\r\n    }catch(NoResultException nre){\r\n    \t//nope\r\n    }\r\n\r\nenabling `hibernate.cacheable` will throw me the following exception\r\n\r\n&gt; aliases expected length is 0; actual length is 1","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<pre><code>String q1Str = \"SELECT parent_id FROM meta WHERE st_id = \"+childIds+\";\";\nQuery q1 = em.createNativeQuery(q1Str);\n//q1.setHint(\"org.hibernate.cacheable\", true);\nObject parentId = null;\ntry{\nparentId = q1.getSingleResult();\n}catch(NoResultException nre){\n    //nope\n}\n</code></pre>\n\n<p>enabling <code>hibernate.cacheable</code> will throw me the following exception</p>\n\n<blockquote>\n  <p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n"},{"tags":["java","json","hibernate","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668027539,"creation_date":1668027539,"answer_id":74381301,"question_id":74371917,"body_markdown":"Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.\r\n\r\nHowever, using different mapper (orika did not work because of java 17), but using mapstruct and it&#39;s default, the result were the same, as expected.\r\n\r\nThe proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\r\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:\r\n\r\n    Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\r\n\r\nWith this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.\r\n\r\n\r\nHowever, i am still curious why the 2nd Level test does not fall into this StackOverflow.\r\n\r\n","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.</p>\n<p>However, using different mapper (orika did not work because of java 17), but using mapstruct and it's default, the result were the same, as expected.</p>\n<p>The proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:</p>\n<pre><code>Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\n</code></pre>\n<p>With this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.</p>\n<p>However, i am still curious why the 2nd Level test does not fall into this StackOverflow.</p>\n"}],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027539,"creation_date":1667982900,"question_id":74371917,"body_markdown":"currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI. \r\n\r\nTo test those mappings and the results, i am writing for each layer several test:\r\n\r\n 1. Layer 0 Test: Simple conversion (okay)\r\n 2. Layer 1 Test: Conversion of the Structure, where objects having\r\n    relations (okay)\r\n 3. Layer 2 Test: Same as Layer 1, but this time with persistence - here\r\n    the error occurs.\r\n 4. Layer 3 Test: (at this point irrelevant)\r\n\r\nAs a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.\r\n\r\nOne solution would maybe write a custom converter, but i want to understand the problem here.\r\n\r\nThe Structure is as follows:\r\n\r\nProduct-Class\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class Product extends ProductBase {\r\n    \r\n    // some more unrelated\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;fk_manufacturer&quot;)\r\n    \tprivate Company manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\r\n    \tprivate Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\r\n    // .. some more unrelated\r\n    }\r\n\r\nPojo-Class\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class ProductPojo extends ProductBase {\r\n    \r\n    //.. some unrelated stuff\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate CompanyPojo manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\r\n    \r\n    \r\n    //.. more..\r\n    \r\n    }\r\n\r\n\r\nOn the Company Object we have:\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Product.class)\r\n    public class Company extends CompanyBase {\r\n    // .. other fields\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@OneToMany(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;fk_product_manufacturer&quot;)\r\n    \tprivate Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(name = &quot;supplier_products&quot;,\r\n    \t\t\tjoinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\r\n    \t\t\tinverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\r\n    \tprivate Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    // .. other fields\r\n    }\r\n\r\nand it&#39;s counter-part:\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class CompanyPojo extends CompanyBase {\r\n    //.. code\r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    //.. as usual, some more code...\r\n    }\r\n\r\nEvaluation of the debugger shows this:\r\n\r\nDebuger-Eval without DB-Access and successfully converting objects:\r\n\r\n[![Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)][1]][1]\r\n\r\nDebuger-Eval with DB-Access and failing converting objects: \r\n\r\n[![Fail conversion: Converting with / after DB Access (Product is shown)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEBsi.png\r\n  [2]: https://i.stack.imgur.com/Ha6iJ.png\r\n\r\n\r\nLast but not least, the error message:\r\n\r\n    java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\r\n\r\n\r\nI have no idea and i don&#39;t see any difference between those objects. It would be easier to understand if both would fail to convert.","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI.</p>\n<p>To test those mappings and the results, i am writing for each layer several test:</p>\n<ol>\n<li>Layer 0 Test: Simple conversion (okay)</li>\n<li>Layer 1 Test: Conversion of the Structure, where objects having\nrelations (okay)</li>\n<li>Layer 2 Test: Same as Layer 1, but this time with persistence - here\nthe error occurs.</li>\n<li>Layer 3 Test: (at this point irrelevant)</li>\n</ol>\n<p>As a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.</p>\n<p>One solution would maybe write a custom converter, but i want to understand the problem here.</p>\n<p>The Structure is as follows:</p>\n<p>Product-Class</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class Product extends ProductBase {\n\n// some more unrelated\n    @Getter\n    @Setter\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_manufacturer&quot;)\n    private Company manufacturer;\n\n    @Getter\n    @Setter\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\n    private Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\n// .. some more unrelated\n}\n</code></pre>\n<p>Pojo-Class</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class ProductPojo extends ProductBase {\n\n//.. some unrelated stuff\n\n    @Getter\n    @Setter\n    private CompanyPojo manufacturer;\n\n    @Getter\n    @Setter\n    private Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\n\n\n//.. more..\n\n}\n</code></pre>\n<p>On the Company Object we have:</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Product.class)\npublic class Company extends CompanyBase {\n// .. other fields\n    @Getter\n    @Setter\n    @Column\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_product_manufacturer&quot;)\n    private Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    @Column\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;supplier_products&quot;,\n            joinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\n    private Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\n// .. other fields\n}\n</code></pre>\n<p>and it's counter-part:</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class CompanyPojo extends CompanyBase {\n//.. code\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\n//.. as usual, some more code...\n}\n</code></pre>\n<p>Evaluation of the debugger shows this:</p>\n<p>Debuger-Eval without DB-Access and successfully converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/QEBsi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEBsi.png\" alt=\"Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)\" /></a></p>\n<p>Debuger-Eval with DB-Access and failing converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/Ha6iJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ha6iJ.png\" alt=\"Fail conversion: Converting with / after DB Access (Product is shown)\" /></a></p>\n<p>Last but not least, the error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\n</code></pre>\n<p>I have no idea and i don't see any difference between those objects. It would be easier to understand if both would fail to convert.</p>\n"},{"tags":["java","heap-memory","ignite"],"answers":[{"tags":[],"owner":{"account_id":26830765,"reputation":11,"user_id":20418775,"display_name":"windy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667575003,"creation_date":1667575003,"answer_id":74319228,"question_id":74318802,"body_markdown":"Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.","title":"Apache Ignite cache heap space increases without any activity","body":"<p>Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027254,"creation_date":1667573019,"question_id":74318802,"body_markdown":"We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.  \r\n\r\nIs this behavior normal and or is there a way to prevent it?\r\n\r\nThe added memory footprint of the client node is causing our application to got out of memory.\r\n\r\nBefore:\r\n```\r\n\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n\r\n```\r\nAfter: \r\n```\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n```\r\n\r\n","title":"Apache Ignite cache heap space increases without any activity","body":"<p>We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.</p>\n<p>Is this behavior normal and or is there a way to prevent it?</p>\n<p>The added memory footprint of the client node is causing our application to got out of memory.</p>\n<p>Before:</p>\n<pre><code>\nCache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n\n</code></pre>\n<p>After:</p>\n<pre><code>Cache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"tags":["java","sql-server","sqlexception","raiserror"],"comments":[{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1591732160,"post_id":62289975,"comment_id":110166809,"body_markdown":"That looks like it should be an issue here: https://github.com/microsoft/mssql-jdbc/issues","body":"That looks like it should be an issue here: <a href=\"https://github.com/microsoft/mssql-jdbc/issues\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-jdbc/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591818147,"creation_date":1591818147,"answer_id":62311858,"question_id":62289975,"body_markdown":"Thank you https://stackoverflow.com/users/7297700/david-browne-microsoft \r\n\r\nI started to post the Github issue and one of the outputs they request is a JDBC trace.\r\n\r\nWhen I did this and compared the 2 trace outputs for:\r\n\r\n1. Unique Key Violation\r\n2. Divide By Zero error\r\n\r\nthe following lines were present for the Divide By Zero test case:\r\n\r\n - **Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet &lt;init&gt;**\r\n - **FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)**\r\n\r\nHaving read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the **uspTestRE** Stored Procedure:\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SELECT 1/0;\r\n  END;\r\n```\r\n\r\nto\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SET @dbz = 1/0;\r\n  END;\r\n```\r\n\r\nThis solved my problem.\r\n\r\nNow, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/7297700/david-browne-microsoft\">https://stackoverflow.com/users/7297700/david-browne-microsoft</a> </p>\n\n<p>I started to post the Github issue and one of the outputs they request is a JDBC trace.</p>\n\n<p>When I did this and compared the 2 trace outputs for:</p>\n\n<ol>\n<li>Unique Key Violation</li>\n<li>Divide By Zero error</li>\n</ol>\n\n<p>the following lines were present for the Divide By Zero test case:</p>\n\n<ul>\n<li><strong>Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet </strong></li>\n<li><strong>FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)</strong></li>\n</ul>\n\n<p>Having read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the <strong>uspTestRE</strong> Stored Procedure:</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SELECT 1/0;\n  END;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SET @dbz = 1/0;\n  END;\n</code></pre>\n\n<p>This solved my problem.</p>\n\n<p>Now, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure</p>\n"},{"tags":[],"owner":{"account_id":5488485,"reputation":71,"user_id":5126996,"display_name":"thesarahryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026685,"creation_date":1668026685,"answer_id":74381179,"question_id":62289975,"body_markdown":"You can use &#39;set nocount on&#39; instead of changing select to set","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>You can use 'set nocount on' instead of changing select to set</p>\n"}],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668026685,"creation_date":1591729108,"question_id":62289975,"body_markdown":"I&#39;m seeing differences in behaviour in how Java handles SQL Server errors thrown by `RAISERROR`, depending upon what the actual error is, in that:\r\n\r\n - Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block\r\n - Divide by Zero: The SQL Exception is not trapped\r\n\r\nTo demonstrate:\r\n\r\n**1. Stored Procedure: uspTestRE**\r\n```\r\nALTER PROCEDURE demo.uspTestRE (\r\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\r\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\r\n)\r\nAS\r\nBEGIN\r\n\r\n  SET XACT_ABORT, NOCOUNT ON;\r\n\r\n  BEGIN TRY\r\n    BEGIN TRANSACTION\r\n      \r\n      --Insert record into TestRE table\r\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\r\n\r\n      --Trigger DBZ error\r\n      IF @inDBZ = &#39;Y&#39;\r\n       BEGIN\r\n         SELECT 1/0;\r\n       END;\r\n\r\n    --Transaction is in a state to be committed\r\n    IF (XACT_STATE())=1\r\n      BEGIN\r\n        COMMIT TRANSACTION;\r\n      END;\r\n  END TRY\r\n\r\n  BEGIN CATCH\r\n    DECLARE\r\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\r\n      @errorState    INT           = ERROR_STATE(),\r\n      @errorSeverity INT           = ERROR_SEVERITY();\r\n\r\n    --Transaction is uncommitable so rollback\r\n    IF (XACT_STATE()) = -1\r\n      BEGIN\r\n        ROLLBACK TRANSACTION;\r\n      END;\r\n\r\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\r\n    \r\n    RETURN 23;\r\n  END CATCH\r\n\r\nEND;\r\n```\r\n\r\nWhen executing the SP from SQLCMD, it generates the following error messages:\r\n\r\nTest 1: Key Violation\r\n```\r\nMsg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\r\nViolation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero\r\n```\r\nMsg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\r\nDivide by zero error encountered.\r\n```\r\n\r\ni.e. expected behaviour for both.\r\n\r\n\r\nHowever, my Java program doesn&#39;t give the same behaviour.\r\n\r\n**2. Java Program: uspTestRE.java**\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.sql.CallableStatement;\r\n\r\npublic class uspTestRE {\r\n\r\n    // Connect to DEMO_INST database as svcDemoInst Login\r\n    public static void main(String[] args) {\r\n        String connectionUrl =\r\n                &quot;jdbc:sqlserver://localhost:1433;&quot;\r\n                + &quot;database=DEMO;&quot;\r\n                + &quot;user=svcDemoLogin;&quot;\r\n                + &quot;password=Demo;&quot;\r\n                + &quot;trustServerCertificate=true;&quot;\r\n                + &quot;loginTimeout=30;&quot;;\r\n\r\n        ResultSet resultSet = null;\r\n        CallableStatement cstmt = null;\r\n\r\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(&quot;{? = call demo.uspTestRE(?,?)}&quot;);\r\n             int i = 0;\r\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\r\n\r\n             cstmt.setString(++i,args[0]);\r\n             cstmt.setString(++i,args[1]);\r\n             cstmt.execute();\r\n\r\n             int returnCode = cstmt.getInt(1);\r\n             System.out.println(&quot;Success: Stored Procedure Return Status: &quot; + returnCode);\r\n        }\r\n        catch (SQLException e) {\r\n              System.out.println(&quot;Error Code: &quot; + e.getErrorCode() +&quot;, Error Message: &quot;+e.getMessage());\r\n              // e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the same test cases here, I get the following:\r\n\r\nTest 1: Key Violation (Behaves as Expected)\r\n```\r\nC:\\&gt;java uspTestRE UKV N\r\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero (Does not get trapped)\r\n```\r\nC:\\&gt;java uspTestRE DBV Y\r\nSuccess: Stored Procedure Return Status: 23\r\n```\r\n\r\nCan anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?\r\n\r\nThe only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.\r\n","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>I'm seeing differences in behaviour in how Java handles SQL Server errors thrown by <code>RAISERROR</code>, depending upon what the actual error is, in that:</p>\n\n<ul>\n<li>Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block</li>\n<li>Divide by Zero: The SQL Exception is not trapped</li>\n</ul>\n\n<p>To demonstrate:</p>\n\n<p><strong>1. Stored Procedure: uspTestRE</strong></p>\n\n<pre><code>ALTER PROCEDURE demo.uspTestRE (\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\n)\nAS\nBEGIN\n\n  SET XACT_ABORT, NOCOUNT ON;\n\n  BEGIN TRY\n    BEGIN TRANSACTION\n\n      --Insert record into TestRE table\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\n\n      --Trigger DBZ error\n      IF @inDBZ = 'Y'\n       BEGIN\n         SELECT 1/0;\n       END;\n\n    --Transaction is in a state to be committed\n    IF (XACT_STATE())=1\n      BEGIN\n        COMMIT TRANSACTION;\n      END;\n  END TRY\n\n  BEGIN CATCH\n    DECLARE\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\n      @errorState    INT           = ERROR_STATE(),\n      @errorSeverity INT           = ERROR_SEVERITY();\n\n    --Transaction is uncommitable so rollback\n    IF (XACT_STATE()) = -1\n      BEGIN\n        ROLLBACK TRANSACTION;\n      END;\n\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\n\n    RETURN 23;\n  END CATCH\n\nEND;\n</code></pre>\n\n<p>When executing the SP from SQLCMD, it generates the following error messages:</p>\n\n<p>Test 1: Key Violation</p>\n\n<pre><code>Msg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\nViolation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero</p>\n\n<pre><code>Msg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\nDivide by zero error encountered.\n</code></pre>\n\n<p>i.e. expected behaviour for both.</p>\n\n<p>However, my Java program doesn't give the same behaviour.</p>\n\n<p><strong>2. Java Program: uspTestRE.java</strong></p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.CallableStatement;\n\npublic class uspTestRE {\n\n    // Connect to DEMO_INST database as svcDemoInst Login\n    public static void main(String[] args) {\n        String connectionUrl =\n                \"jdbc:sqlserver://localhost:1433;\"\n                + \"database=DEMO;\"\n                + \"user=svcDemoLogin;\"\n                + \"password=Demo;\"\n                + \"trustServerCertificate=true;\"\n                + \"loginTimeout=30;\";\n\n        ResultSet resultSet = null;\n        CallableStatement cstmt = null;\n\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(\"{? = call demo.uspTestRE(?,?)}\");\n             int i = 0;\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\n\n             cstmt.setString(++i,args[0]);\n             cstmt.setString(++i,args[1]);\n             cstmt.execute();\n\n             int returnCode = cstmt.getInt(1);\n             System.out.println(\"Success: Stored Procedure Return Status: \" + returnCode);\n        }\n        catch (SQLException e) {\n              System.out.println(\"Error Code: \" + e.getErrorCode() +\", Error Message: \"+e.getMessage());\n              // e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When I run the same test cases here, I get the following:</p>\n\n<p>Test 1: Key Violation (Behaves as Expected)</p>\n\n<pre><code>C:\\&gt;java uspTestRE UKV N\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero (Does not get trapped)</p>\n\n<pre><code>C:\\&gt;java uspTestRE DBV Y\nSuccess: Stored Procedure Return Status: 23\n</code></pre>\n\n<p>Can anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?</p>\n\n<p>The only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1668023030,"post_id":74380471,"comment_id":131309656,"body_markdown":"Are you sure you tried to add a rules button?  I don’t see any code that tries to add a rules button.","body":"Are you sure you tried to add a rules button?  I don’t see any code that tries to add a rules button."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1668027476,"post_id":74380471,"comment_id":131311057,"body_markdown":"What is `Playscene`? Why do you set the scene of `primary` to one thing, and then immediately replace it with another scene?","body":"What is <code>Playscene</code>? Why do you set the scene of <code>primary</code> to one thing, and then immediately replace it with another scene?"}],"answers":[{"tags":[],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026519,"creation_date":1668026519,"answer_id":74381152,"question_id":74380471,"body_markdown":"If this line\r\n\r\n    layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\nis where you add the rules button, my guess it&#39;s because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change \r\n\r\n    VBox layout1 = new VBox(250.0);\r\n\r\nto\r\n\r\n    VBox layout1 = new VBox(25.0);\r\n\r\nAnd then add your button again. I&#39;m guessing this is the issue because like @VGR said, the button isn&#39;t there, nor do you have a tabpane yet.","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>If this line</p>\n<pre><code>layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n</code></pre>\n<p>is where you add the rules button, my guess it's because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change</p>\n<pre><code>VBox layout1 = new VBox(250.0);\n</code></pre>\n<p>to</p>\n<pre><code>VBox layout1 = new VBox(25.0);\n</code></pre>\n<p>And then add your button again. I'm guessing this is the issue because like @VGR said, the button isn't there, nor do you have a tabpane yet.</p>\n"}],"owner":{"account_id":21734674,"reputation":1,"user_id":16042841,"display_name":"Francisco Erramuspe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668026519,"creation_date":1668022599,"question_id":74380471,"body_markdown":"I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:\r\n\r\n\r\n```\r\npackage com.example.jaxafx_practice;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n//import com.example.jaxafx_practice.Playscene.playscence;\r\n\r\n\r\npublic class Main extends Application {\r\n    Scene StartScene;\r\n    @Override\r\n    public void start(Stage primary) throws IOException {\r\n\r\n        // ********Start scene************\r\n        Button PlayButton = new Button(&quot;Play&quot;);\r\n        PlayButton.setMinWidth(55);\r\n        PlayButton.setMinHeight(30);\r\n        \r\n        VBox layout1 = new VBox(250.0);\r\n        layout1.setAlignment(Pos.CENTER);\r\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\r\n         StartSceneLabel.setMinWidth(55);\r\n        StartSceneLabel.setMinHeight(30);\r\n        StartSceneLabel.setAlignment(Pos.CENTER);\r\n\r\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\r\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\n        primary.setTitle(&quot;Start screen&quot;);\r\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\r\n        HBox user_interface=new HBox();\r\n\r\n\r\n        // Creates Start scene\r\n        StartScene = new Scene(layout1, 500, 750.0);\r\n\r\n        // ********Start scene************\r\n\r\n\r\n\r\n        //????????Play scene?????????????\r\n        Playscene playscene = new Playscene();\r\n        //????????Play scene?????????????\r\n\r\n        //Create the word to be guessed\r\n        Choose_word Choose_word = new Choose_word();\r\n        String wordToGuess = Choose_word.getWord();\r\n\r\n\r\n        //Button actions\r\n        PlayButton.setOnAction((e) -&gt; {\r\n            primary.setScene(playscene.playscence());\r\n            primary.setTitle(&quot;Game Screen&quot;);});\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n        playscene.enterButton.setOnAction((e) -&gt; {\r\n            String userWord=playscene.guessField.getText();\r\n            if(userWord.length()==4)\r\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\r\n                playscene.count+=1;}\r\n        });\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n    }\r\n    public static void main() {\r\n        launch();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:</p>\n<pre><code>package com.example.jaxafx_practice;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n//import com.example.jaxafx_practice.Playscene.playscence;\n\n\npublic class Main extends Application {\n    Scene StartScene;\n    @Override\n    public void start(Stage primary) throws IOException {\n\n        // ********Start scene************\n        Button PlayButton = new Button(&quot;Play&quot;);\n        PlayButton.setMinWidth(55);\n        PlayButton.setMinHeight(30);\n        \n        VBox layout1 = new VBox(250.0);\n        layout1.setAlignment(Pos.CENTER);\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\n         StartSceneLabel.setMinWidth(55);\n        StartSceneLabel.setMinHeight(30);\n        StartSceneLabel.setAlignment(Pos.CENTER);\n\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n        primary.setTitle(&quot;Start screen&quot;);\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\n        HBox user_interface=new HBox();\n\n\n        // Creates Start scene\n        StartScene = new Scene(layout1, 500, 750.0);\n\n        // ********Start scene************\n\n\n\n        //????????Play scene?????????????\n        Playscene playscene = new Playscene();\n        //????????Play scene?????????????\n\n        //Create the word to be guessed\n        Choose_word Choose_word = new Choose_word();\n        String wordToGuess = Choose_word.getWord();\n\n\n        //Button actions\n        PlayButton.setOnAction((e) -&gt; {\n            primary.setScene(playscene.playscence());\n            primary.setTitle(&quot;Game Screen&quot;);});\n        primary.setScene(StartScene);\n        primary.show();\n        playscene.enterButton.setOnAction((e) -&gt; {\n            String userWord=playscene.guessField.getText();\n            if(userWord.length()==4)\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\n                playscene.count+=1;}\n        });\n        primary.setScene(StartScene);\n        primary.show();\n    }\n    public static void main() {\n        launch();\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","api","rest"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1668020216,"post_id":74379681,"comment_id":131308830,"body_markdown":"The wrapper `500` isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?","body":"The wrapper <code>500</code> isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?"}],"answers":[{"tags":[],"owner":{"account_id":18073155,"reputation":28,"user_id":13137259,"display_name":"beyzanur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025925,"creation_date":1668025925,"answer_id":74381039,"question_id":74379681,"body_markdown":"Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.</p>\n"}],"owner":{"account_id":24603643,"reputation":1,"user_id":18506159,"display_name":"Rohit Khemka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668025925,"creation_date":1668018096,"question_id":74379681,"body_markdown":"I am trying to create a CRUD application using Spring-boot and Mongo DB.\r\nI am getting error the in the update and delete operations\r\n\r\nDuring Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes. \r\nCan anyone please find a solution for this.\r\n\r\n \r\n\r\nController Layer\r\n\r\n```\r\npackage com.springrest.springrest.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.services.CourseService;\r\n\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate CourseService courseService;\r\n\t\r\n\t@GetMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourses(){\r\n\t\treturn ResponseEntity.ok(this.courseService.GetCourses());\r\n\t}\t\t\r\n\t\r\n\t\r\n\t@PostMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\r\n\t{\r\n\t\tCourse save=this.courseService.addCourse(course);\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\r\n\t\tOptional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\r\n\t\treturn ResponseEntity.ok(save);\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@PutMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\r\n\t@RequestBody Course course)\r\n\t{\r\n\t\tOptional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\r\n\t\t\t\t(courseId),course));\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\t\r\n\t\r\n\t@DeleteMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic void deleteCourse(@PathVariable String courseId)\r\n\t{\r\n\t\tthis.courseService.deleteCourse(Integer.parseInt(courseId));\r\n\t\t//return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nService Layer\r\n\r\n\r\n```\r\npackage com.springrest.springrest.services;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.repository.CourseRepository;\r\n\r\n\r\n@Service\r\npublic class CourseServiceimpl implements CourseService \r\n{\r\n\t@Autowired\r\n\tprivate CourseRepository userlist;\r\n\t\r\n\tpublic List&lt;Course&gt; GetCourses() {\r\n\t\treturn this.userlist.findAll();\r\n\t}\r\n\t\r\n\tpublic Course addCourse(Course course) {\r\n\t\treturn this.userlist.save(course);\r\n\t}\r\n\t\r\n\tpublic Optional&lt;Course&gt; getCourse(int courseId)\r\n\t{\r\n\t\tOptional&lt;Course&gt; c=this.userlist.findById(courseId);\r\n\t\treturn c;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Course updateCourse(int courseId, Course course) \r\n\t{\r\n\t\tCourse c=this.userlist.findById(courseId).get();\r\n\t\tc.setId(course.getId());\r\n\t\tc.setTitle(course.getTitle());\r\n\t\tc.setDescription(course.getDescription());\r\n\t\treturn this.userlist.save(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteCourse(int courseId) \r\n\t{\r\n\t\t//Course c= this.userlist.findById(courseId).get();\r\n\t\tthis.userlist.deleteById(courseId);\t\t\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nEntity Layer\r\n\r\n```\r\npackage com.springrest.springrest.entities;\r\n\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\n\r\n@Document(collection=&quot;Course&quot;)\r\npublic class Course {\r\n\r\n\t@Field( name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Field(name=&quot;title&quot;)\r\n\tprivate String title;\r\n\t\r\n\t@Field(name=&quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\tpublic Course(int id, String title, String description) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic Course() {\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nThis is the error I am getting on a Delete Request\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/api/courses/147&quot;\r\n}\r\n\r\n","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>I am trying to create a CRUD application using Spring-boot and Mongo DB.\nI am getting error the in the update and delete operations</p>\n<p>During Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes.\nCan anyone please find a solution for this.</p>\n<p>Controller Layer</p>\n<pre><code>package com.springrest.springrest.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.services.CourseService;\n\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n    \n    \n    @Autowired\n    private CourseService courseService;\n    \n    @GetMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; getCourses(){\n        return ResponseEntity.ok(this.courseService.GetCourses());\n    }       \n    \n    \n    @PostMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\n    {\n        Course save=this.courseService.addCourse(course);\n        return ResponseEntity.ok(save);\n    }\n    \n    @GetMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\n        Optional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\n        return ResponseEntity.ok(save); \n    }\n    \n    \n    \n    @PutMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\n    @RequestBody Course course)\n    {\n        Optional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\n                (courseId),course));\n        return ResponseEntity.ok(save);\n    }   \n    \n    @DeleteMapping(&quot;/courses/{courseId}&quot;)\n    public void deleteCourse(@PathVariable String courseId)\n    {\n        this.courseService.deleteCourse(Integer.parseInt(courseId));\n        //return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\n    }\n}\n\n</code></pre>\n<p>Service Layer</p>\n<pre><code>package com.springrest.springrest.services;\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.repository.CourseRepository;\n\n\n@Service\npublic class CourseServiceimpl implements CourseService \n{\n    @Autowired\n    private CourseRepository userlist;\n    \n    public List&lt;Course&gt; GetCourses() {\n        return this.userlist.findAll();\n    }\n    \n    public Course addCourse(Course course) {\n        return this.userlist.save(course);\n    }\n    \n    public Optional&lt;Course&gt; getCourse(int courseId)\n    {\n        Optional&lt;Course&gt; c=this.userlist.findById(courseId);\n        return c;\n    }\n\n    @Override\n    public Course updateCourse(int courseId, Course course) \n    {\n        Course c=this.userlist.findById(courseId).get();\n        c.setId(course.getId());\n        c.setTitle(course.getTitle());\n        c.setDescription(course.getDescription());\n        return this.userlist.save(c);\n    }\n\n    @Override\n    public void deleteCourse(int courseId) \n    {\n        //Course c= this.userlist.findById(courseId).get();\n        this.userlist.deleteById(courseId);     \n    }\n\n    \n}\n\n</code></pre>\n<p>Entity Layer</p>\n<pre><code>package com.springrest.springrest.entities;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\n\n@Document(collection=&quot;Course&quot;)\npublic class Course {\n\n    @Field( name=&quot;id&quot;)\n    private int id;\n    \n    @Field(name=&quot;title&quot;)\n    private String title;\n    \n    @Field(name=&quot;description&quot;)\n    private String description;\n    \n    public Course(int id, String title, String description) {\n        super();\n        this.id = id;\n        this.title = title;\n        this.description = description;\n    }\n\n    public Course() {\n        super();\n        \n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n}\n\n</code></pre>\n<p>This is the error I am getting on a Delete Request\n{\n&quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/api/courses/147&quot;\n}</p>\n"},{"tags":["java","switch-statement","case"],"comments":[{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1435755275,"post_id":31161784,"comment_id":50332246,"body_markdown":"you can try `String.toUpperCase()` before feeding into the `Switch`","body":"you can try <code>String.toUpperCase()</code> before feeding into the <code>Switch</code>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1435755609,"post_id":31161784,"comment_id":50332522,"body_markdown":"Consider to replace the arrays and switch statement with enums.","body":"Consider to replace the arrays and switch statement with enums."}],"answers":[{"tags":[],"owner":{"account_id":1217986,"reputation":1256,"user_id":1185211,"accept_rate":79,"display_name":"Bgvv1983"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435755144,"creation_date":1435755144,"answer_id":31161867,"question_id":31161784,"body_markdown":"I think I wouldn&#39;t youse a switch in this case.\r\nI would do probably something like this\r\n\r\n    if(Arrays.asList(yourArray).contains(yourValue)){\r\n       //do something\r\n    }else{\r\n       //do something else\r\n    }","title":"Switch case with multiple values","body":"<p>I think I wouldn't youse a switch in this case.\nI would do probably something like this</p>\n\n<pre><code>if(Arrays.asList(yourArray).contains(yourValue)){\n   //do something\n}else{\n   //do something else\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435755149,"creation_date":1435755149,"answer_id":31161870,"question_id":31161784,"body_markdown":"switch case statements don&#39;t break unless you specifically ask it to.\r\n\r\nHence for your case, you can use this as a work around,\r\n\r\n    switch(code){\r\n     case &quot;height&quot;:\r\n     case &quot;HEIGHT&quot;: \r\n     case &quot;weight&quot;:\r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\n","title":"Switch case with multiple values","body":"<p>switch case statements don't break unless you specifically ask it to.</p>\n\n<p>Hence for your case, you can use this as a work around,</p>\n\n<pre><code>switch(code){\n case \"height\":\n case \"HEIGHT\": \n case \"weight\":\n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1435755196,"creation_date":1435755196,"answer_id":31161889,"question_id":31161784,"body_markdown":"You can remove the break to get OR\r\n\r\n    switch(code){\r\n     case case1:   \r\n     case case2:\r\n        doSomething();\r\n      break;\r\n    }","title":"Switch case with multiple values","body":"<p>You can remove the break to get OR</p>\n\n<pre><code>switch(code){\n case case1:   \n case case2:\n    doSomething();\n  break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418980,"reputation":76,"user_id":4976495,"display_name":"Eddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435755251,"creation_date":1435755251,"answer_id":31161908,"question_id":31161784,"body_markdown":"According to the [Java Documentation][1]:\r\n \r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data\r\n&gt; types. It also works with enumerated types (discussed in Enum Types),\r\n&gt; the String class, and a few special classes that wrap certain\r\n&gt; primitive types: Character, Byte, Short, and Integer (discussed in\r\n&gt; Numbers and Strings).\r\n\r\nUnless you can boil your data down to one of these, that&#39;s all you can use. You can always break out what you would have in the statement array, but you wouldn&#39;t be able to make switch dynamic using an array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Switch case with multiple values","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">Java Documentation</a>:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Unless you can boil your data down to one of these, that's all you can use. You can always break out what you would have in the statement array, but you wouldn't be able to make switch dynamic using an array.</p>\n"},{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025510,"creation_date":1668025510,"answer_id":74380974,"question_id":31161784,"body_markdown":"Switch statements and expressions (available since Java SE 14) don&#39;t support matching values from an array. For such cases, the construct you are looking for is a chain of `if`, `else if`, and `else`. You can use `Stream` to easily check if an array contains a given element.\r\n```java\r\nprivate boolean contains(String[] array, String value) {\r\n    return Arrays.stream(array).anyMatch(value::equals);\r\n}\r\n```\r\n```java\r\nif (contains(statements, code)) {\r\n    // do something with a code\r\n} else if(contains(otherStatements, code)) {\r\n    // do something with another code\r\n} else {\r\n    // do something with other codes\r\n}\r\n```","title":"Switch case with multiple values","body":"<p>Switch statements and expressions (available since Java SE 14) don't support matching values from an array. For such cases, the construct you are looking for is a chain of <code>if</code>, <code>else if</code>, and <code>else</code>. You can use <code>Stream</code> to easily check if an array contains a given element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean contains(String[] array, String value) {\n    return Arrays.stream(array).anyMatch(value::equals);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (contains(statements, code)) {\n    // do something with a code\n} else if(contains(otherStatements, code)) {\n    // do something with another code\n} else {\n    // do something with other codes\n}\n</code></pre>\n"}],"owner":{"account_id":4532124,"reputation":615,"user_id":3682254,"accept_rate":33,"display_name":"dsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22991,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":31161889,"answer_count":5,"score":5,"last_activity_date":1668025510,"creation_date":1435754923,"question_id":31161784,"body_markdown":"Is there something like array of case statement and put it as single case statement into switch- suppose\r\n\r\n    String[] statements={&quot;height&quot;,&quot;HEIGHT&quot;};\r\nand then\r\n\r\n    switch(code){\r\n     case statements: \r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\nso if we add values into String array then it will automatically matched from that array in switch? like \r\n\r\n      var1||var2||whatever //accessed from array or anything else for matching\r\nis there any implementation similar like this?","title":"Switch case with multiple values","body":"<p>Is there something like array of case statement and put it as single case statement into switch- suppose</p>\n\n<pre><code>String[] statements={\"height\",\"HEIGHT\"};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>switch(code){\n case statements: \n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n\n<p>so if we add values into String array then it will automatically matched from that array in switch? like </p>\n\n<pre><code>  var1||var2||whatever //accessed from array or anything else for matching\n</code></pre>\n\n<p>is there any implementation similar like this?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020704,"post_id":74380087,"comment_id":131308965,"body_markdown":"The error message is telling you that you didn&#39;t define a method in class `emergencyButton` called `emergencyButtonToggled`.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look [here](https://linuxhint.com/call-invoke-method-from-another-class-java/).","body":"The error message is telling you that you didn&#39;t define a method in class <code>emergencyButton</code> called <code>emergencyButtonToggled</code>.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look <a href=\"https://linuxhint.com/call-invoke-method-from-another-class-java/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020796,"post_id":74380087,"comment_id":131308995,"body_markdown":"Also, there should only be one `main()` method in your program, not two.","body":"Also, there should only be one <code>main()</code> method in your program, not two."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":2,"creation_date":1668020830,"post_id":74380087,"comment_id":131309005,"body_markdown":"You have a class called `emergencyButtonToggled`, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like `EmergencyButton`","body":"You have a class called <code>emergencyButtonToggled</code>, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like <code>EmergencyButton</code>"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668020888,"post_id":74380087,"comment_id":131309026,"body_markdown":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation).","body":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation)."}],"answers":[{"tags":[],"owner":{"account_id":7228623,"reputation":290,"user_id":5516338,"accept_rate":50,"display_name":"Đorđe Milanović"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668024475,"creation_date":1668021287,"answer_id":74380224,"question_id":74380087,"body_markdown":"You can&#39;t call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods. \r\n\r\nYou probably want to call method that outputs those three messages about emergency. To do that you can do two things:\r\n\r\n 1. Create an object of type `emergencyButtonToggled` and call method on that object\r\n\r\n    `emergencyButtonToggled text = new emergencyButtonToggled();\r\n    text.main(null);`\r\n  \r\n\r\n 2. Add keyword `static` to the method, so you can call it directly on the class\r\n\r\n    `emergencyButtonToggled.main(null);`\r\n\r\nBut you shouldn&#39;t do any of those things. Instead, it is better to create a static method in `emergencyButton` class and call it.\r\n\r\n    \r\n    public class emergencyButton {\r\n        private static void emergency() {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner value = new Scanner(System.in);\r\n            System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n            String button = value.nextLine();\r\n            if (&quot;Yes&quot;.equals(button)) {\r\n                System.out.println(&quot;The emergency button is pressed.&quot;);\r\n                emergency();\r\n            } else if (&quot;No&quot;.equals(button)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. Function main in your newly created class doesn&#39;t have return value, so you should add `void` before name of the method (like you can see in my example).","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>You can't call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods.</p>\n<p>You probably want to call method that outputs those three messages about emergency. To do that you can do two things:</p>\n<ol>\n<li><p>Create an object of type <code>emergencyButtonToggled</code> and call method on that object</p>\n<p><code>emergencyButtonToggled text = new emergencyButtonToggled(); text.main(null);</code></p>\n</li>\n<li><p>Add keyword <code>static</code> to the method, so you can call it directly on the class</p>\n<p><code>emergencyButtonToggled.main(null);</code></p>\n</li>\n</ol>\n<p>But you shouldn't do any of those things. Instead, it is better to create a static method in <code>emergencyButton</code> class and call it.</p>\n<pre><code>public class emergencyButton {\n    private static void emergency() {\n        System.out.println(&quot;Buzzer is buzzing&quot;);\n        System.out.println(&quot;Emergency, Manual Stop&quot;);\n        System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n    }\n\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (&quot;Yes&quot;.equals(button)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergency();\n        } else if (&quot;No&quot;.equals(button)) {\n            System.out.println(&quot;Buzzer is not buzzing&quot;);\n            System.out.println(&quot;No emergency&quot;);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>P.S. Function main in your newly created class doesn't have return value, so you should add <code>void</code> before name of the method (like you can see in my example).</p>\n"}],"owner":{"account_id":26881771,"reputation":11,"user_id":20462070,"display_name":"ohgoditdoesntwork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74380224,"answer_count":1,"score":-1,"last_activity_date":1668024475,"creation_date":1668020450,"question_id":74380087,"body_markdown":"Apologies in advance if the title doesn&#39;t make any sense. \r\nI&#39;m trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn&#39;t want to run. The error I am getting is as follows:\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method emergencyButtonToggled() is undefined for the type emergencyButton\r\n\r\n        at emergencyButton.main(emergencybutton.java:10)\r\n\r\n```\r\nMy code is as such: \r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class emergencyButton {\r\n    public static void main(String[] args) {\r\n        Scanner value = new Scanner(System.in);\r\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n        String button = value.nextLine();\r\n        if (button.equals(&quot;Yes&quot;)) {\r\n            System.out.println(&quot;The emergency button is pressed.&quot;);\r\n            emergencyButtonToggled();\r\n        } else {\r\n            if (button.equals(&quot;No&quot;)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    class emergencyButtonToggled {\r\n        public main(String[] args) {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nThank you in advance.","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>Apologies in advance if the title doesn't make any sense.\nI'm trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn't want to run. The error I am getting is as follows:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method emergencyButtonToggled() is undefined for the type emergencyButton\n\n        at emergencyButton.main(emergencybutton.java:10)\n\n</code></pre>\n<p>My code is as such:</p>\n<pre><code>import java.util.*;\n\npublic class emergencyButton {\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (button.equals(&quot;Yes&quot;)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergencyButtonToggled();\n        } else {\n            if (button.equals(&quot;No&quot;)) {\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\n                System.out.println(&quot;No emergency&quot;);\n                break;\n            }\n        }\n    }\n\n    class emergencyButtonToggled {\n        public main(String[] args) {\n            System.out.println(&quot;Buzzer is buzzing&quot;);\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","queue","anylogic"],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380558,"question_id":74380350,"body_markdown":"you use &quot;select true output&quot; if condition is true\r\n\r\nand then, assuming that queue1 is on the true exit, you do\r\n\r\n    queue1.size()&lt;=queue2.size()\r\n\r\nthat will be the condition\r\n","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>you use &quot;select true output&quot; if condition is true</p>\n<p>and then, assuming that queue1 is on the true exit, you do</p>\n<pre><code>queue1.size()&lt;=queue2.size()\n</code></pre>\n<p>that will be the condition</p>\n"}],"owner":{"account_id":26138571,"reputation":13,"user_id":19828278,"display_name":"Pedro Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74380558,"answer_count":1,"score":-1,"last_activity_date":1668023094,"creation_date":1668021942,"question_id":74380350,"body_markdown":"I want that the select output direct each agent to the queue with the shortest size.\r\n\r\nI know that we can use queue.size to know the length but i don&#39;t know how to use it in the conditions of the select output.\r\n\r\nThank you A LOT","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>I want that the select output direct each agent to the queue with the shortest size.</p>\n<p>I know that we can use queue.size to know the length but i don't know how to use it in the conditions of the select output.</p>\n<p>Thank you A LOT</p>\n"},{"tags":["java","spring-boot","maven","kotlin","gradle"],"comments":[{"owner":{"account_id":6463623,"reputation":981,"user_id":5544978,"accept_rate":60,"display_name":"Don Hosek"},"score":0,"creation_date":1614572191,"post_id":66416425,"comment_id":117416728,"body_markdown":"Did you also do `compileJava.inputs.files(processResources)` in your gradle file?","body":"Did you also do <code>compileJava.inputs.files(processResources)</code> in your gradle file?"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573275,"post_id":66416425,"comment_id":117416913,"body_markdown":"@DonHosek Yes, and `compileJava.dependsOn(processResources)`","body":"@DonHosek Yes, and <code>compileJava.dependsOn(processResources)</code>"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573339,"post_id":66416425,"comment_id":117416927,"body_markdown":"@DonHosek Even I run tast `processResources`, no generated in META-INF","body":"@DonHosek Even I run tast <code>processResources</code>, no generated in META-INF"}],"answers":[{"tags":[],"owner":{"account_id":2534361,"reputation":1,"user_id":2201881,"display_name":"unsafeheaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629456784,"creation_date":1629456194,"answer_id":68860964,"question_id":66416425,"body_markdown":"Along with the steps you have mentioned you also need to add a class mapping. Something like below.\r\n\r\n    import lombok.Data;    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n    @ConfigurationProperties(prefix = &quot;my.props&quot;)\r\n    @Data\r\n    public class MyProperties {\r\n\r\n      /**\r\n       * Prop1 description.\r\n       */\r\n       private String prop1;\r\n\r\n       /**\r\n       * Prop2 description.\r\n       */\r\n       private String prop2;\r\n    }\r\n\r\n\r\nIt&#39;s okay to add a class without props but it&#39;s needed.\r\n\r\n\r\nSample content of resources/META-INF/additional-spring-configuration-metadata.json\r\n\r\n    {\r\n       &quot;properties&quot;: [\r\n          {\r\n             &quot;name&quot;: &quot;my.props.prop1&quot;,\r\n             &quot;type&quot;: &quot;java.lang.String&quot;,\r\n             &quot;description&quot;: &quot;Prop1 description&quot;,\r\n             &quot;defaultValue&quot;: &quot;property 1&quot;\r\n          }\r\n        ]\r\n     }","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>Along with the steps you have mentioned you also need to add a class mapping. Something like below.</p>\n<pre><code>import lombok.Data;    \nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = &quot;my.props&quot;)\n@Data\npublic class MyProperties {\n\n  /**\n   * Prop1 description.\n   */\n   private String prop1;\n\n   /**\n   * Prop2 description.\n   */\n   private String prop2;\n}\n</code></pre>\n<p>It's okay to add a class without props but it's needed.</p>\n<p>Sample content of resources/META-INF/additional-spring-configuration-metadata.json</p>\n<pre><code>{\n   &quot;properties&quot;: [\n      {\n         &quot;name&quot;: &quot;my.props.prop1&quot;,\n         &quot;type&quot;: &quot;java.lang.String&quot;,\n         &quot;description&quot;: &quot;Prop1 description&quot;,\n         &quot;defaultValue&quot;: &quot;property 1&quot;\n      }\n    ]\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272131,"reputation":917,"user_id":563045,"accept_rate":67,"display_name":"Jacob Wallace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380557,"question_id":66416425,"body_markdown":"I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:\r\n\r\n- Rename `src/main/kotlin` to `src/main/java`.\r\n- Use an explicit version for the dependency, e.g.:\r\n\r\n```\r\ndependencies {\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\r\n}\r\n```","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:</p>\n<ul>\n<li>Rename <code>src/main/kotlin</code> to <code>src/main/java</code>.</li>\n<li>Use an explicit version for the dependency, e.g.:</li>\n</ul>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668023094,"creation_date":1614570903,"question_id":66416425,"body_markdown":"I want to generate Spring Boot configuration metadata, with this way:\r\n\r\n[configuration-metadata-annotation-processor-setup][1]\r\n\r\nIn maven, its ok:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut in gradle, no generated:\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    }\r\n\r\nThere is same problem with `spring-boot-configuration-processor`, maven is OK but gradle not.\r\n\r\nPlugins I used is `java` or `org.jetbrains.kotlin.jvm`, not `org.springframework.boot`, but I don&#39;t think here is the problem (with plugin `org.springframework.boot`, the problem still exists).\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I want to generate Spring Boot configuration metadata, with this way:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup\" rel=\"nofollow noreferrer\">configuration-metadata-annotation-processor-setup</a></p>\n<p>In maven, its ok:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But in gradle, no generated:</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n}\n</code></pre>\n<p>There is same problem with <code>spring-boot-configuration-processor</code>, maven is OK but gradle not.</p>\n<p>Plugins I used is <code>java</code> or <code>org.jetbrains.kotlin.jvm</code>, not <code>org.springframework.boot</code>, but I don't think here is the problem (with plugin <code>org.springframework.boot</code>, the problem still exists).</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668022916,"creation_date":1668022574,"answer_id":74380468,"question_id":74375315,"body_markdown":"These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn&#39;t detailed exactly in the specification, but that they work pretty much is. \r\n\r\nYou&#39;ve only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:\r\n\r\n    Fraud fraudA = em.find(1, Fraud.class);\r\n    Fraud fraudAPrime = em.find(1, Fraud.class);\r\n    assertTrue(fraudA == fraudAPrime)\r\n\r\nJPA requires that fraudA and fraudAPrime must be the same object instance. \r\n\r\nJPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the &#39;fraudA&#39; instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.\r\n\r\nLazy is one other method JPA allows for providers to deal with large object graphs: If it doesn&#39;t need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn&#39;t map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you&#39;d have to write your own find by action method). \r\n\r\nWhere problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don&#39;t have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn't detailed exactly in the specification, but that they work pretty much is.</p>\n<p>You've only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:</p>\n<pre><code>Fraud fraudA = em.find(1, Fraud.class);\nFraud fraudAPrime = em.find(1, Fraud.class);\nassertTrue(fraudA == fraudAPrime)\n</code></pre>\n<p>JPA requires that fraudA and fraudAPrime must be the same object instance.</p>\n<p>JPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the 'fraudA' instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.</p>\n<p>Lazy is one other method JPA allows for providers to deal with large object graphs: If it doesn't need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn't map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you'd have to write your own find by action method).</p>\n<p>Where problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don't have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380468,"answer_count":1,"score":0,"last_activity_date":1668022916,"creation_date":1667998948,"question_id":74375315,"body_markdown":"I have 3 tables in the DB and 3 JPA entities respectively in Java application.\r\n    \r\n    @Data\r\n    @Entity\r\n    public class Fraud {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;fraud_type&quot;)\r\n        private String fraudType;\r\n    \r\n        @Column(name = &quot;fraud_value&quot;)\r\n        private String fraudValue;\r\n    \r\n        @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\r\n        private List&lt;FraudActionEntity&gt; fraudActions;\r\n        \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class FraudActionEntity {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;fraud_id&quot;)\r\n        private Fraud fraud;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;action_id&quot;)\r\n        private Action action;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private Boolean enabled;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class Action {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n   \r\n        @Column(name = &quot;attribute_key&quot;)\r\n        private String attributeKey;\r\n    \r\n        @Column(name = &quot;attribute_value&quot;)\r\n        private String attributeValue;\r\n    \r\n    }\r\n\r\n    @Repository\r\n    public interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\r\n    \r\n        public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\r\n    \r\n    }\r\n\r\n#### My use case\r\n\r\nOn a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.\r\n\r\n#### Access code\r\n\r\n    Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\r\n    log.info(fraud.getFraudActions().get(0).getAction());  \r\n\r\nWhen I above code runs, everything works OK.  I get the `fraud` and `fraudActions` associations as well, without getting any error. \r\n\r\nI was under the impression that as both entities `Fraud` and `FraudActionEntity` are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn&#39;t!\r\n\r\nWhy did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fraud_id&quot;)\r\n    private Fraud fraud;\r\n\r\n","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>I have 3 tables in the DB and 3 JPA entities respectively in Java application.</p>\n<pre><code>@Data\n@Entity\npublic class Fraud {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;fraud_type&quot;)\n    private String fraudType;\n\n    @Column(name = &quot;fraud_value&quot;)\n    private String fraudValue;\n\n    @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\n    private List&lt;FraudActionEntity&gt; fraudActions;\n    \n}\n\n@Data\n@Entity\npublic class FraudActionEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fraud_id&quot;)\n    private Fraud fraud;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;action_id&quot;)\n    private Action action;\n\n    @Column(name = &quot;enabled&quot;)\n    private Boolean enabled;\n}\n\n@Data\n@Entity\npublic class Action {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;attribute_key&quot;)\n    private String attributeKey;\n\n    @Column(name = &quot;attribute_value&quot;)\n    private String attributeValue;\n\n}\n\n@Repository\npublic interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\n\n    public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\n\n}\n</code></pre>\n<h4>My use case</h4>\n<p>On a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.</p>\n<h4>Access code</h4>\n<pre><code>Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\nlog.info(fraud.getFraudActions().get(0).getAction());  \n</code></pre>\n<p>When I above code runs, everything works OK.  I get the <code>fraud</code> and <code>fraudActions</code> associations as well, without getting any error.</p>\n<p>I was under the impression that as both entities <code>Fraud</code> and <code>FraudActionEntity</code> are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn't!</p>\n<p>Why did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;fraud_id&quot;)\nprivate Fraud fraud;\n</code></pre>\n"},{"tags":["java","android","mobile","automation","appium"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506419805,"post_id":46423194,"comment_id":79803735,"body_markdown":"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp","body":"<a href=\"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp\" rel=\"nofollow noreferrer\">seleniumhq.org/exceptions/invalid_selector_exception.jsp</a>"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420316,"post_id":46423194,"comment_id":79804101,"body_markdown":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like:\n`TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker);\ntimePicker.setHour(hour);\ntimePicker.setMinute(minute);`\nIs that what you need?","body":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like: <code>TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker); timePicker.setHour(hour); timePicker.setMinute(minute);</code> Is that what you need?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420648,"post_id":46423194,"comment_id":79804315,"body_markdown":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0","body":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420735,"post_id":46423194,"comment_id":79804368,"body_markdown":"What do you mean by automate?","body":"What do you mean by automate?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420868,"post_id":46423194,"comment_id":79804480,"body_markdown":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that.","body":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that."}],"answers":[{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506423683,"creation_date":1506423683,"answer_id":46424663,"question_id":46423194,"body_markdown":"I have solved this issue by using findElementByAccessibilityId\r\n\r\n    androidDriver.findElementByAccessibilityId(&quot;6&quot;).click();","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I have solved this issue by using findElementByAccessibilityId</p>\n\n<pre><code>androidDriver.findElementByAccessibilityId(\"6\").click();\n</code></pre>\n"}],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46424663,"answer_count":1,"score":1,"last_activity_date":1668022841,"creation_date":1506419541,"question_id":46423194,"body_markdown":"I need to automate the Android 5.0 Native Time Picker to select a time parameterized. \r\n\r\n![Android 5.0 Native Time Picker][1] \r\n\r\nI have searched in several threads and blogs, but I can not find a way to do this.\r\n\r\nI have tried with this,\r\n\r\n    androidDriver.findElement(By.name(&quot;6&quot;)).click();\r\n    androidDriver.findElement(By.name(&quot;45&quot;)).click();\r\n\r\nBut it will give an error like below.\r\n\r\n![Error log][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iDDrd.png\r\n  [2]: https://i.stack.imgur.com/E6FuZ.png","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I need to automate the Android 5.0 Native Time Picker to select a time parameterized. </p>\n\n<p><img src=\"https://i.stack.imgur.com/iDDrd.png\" alt=\"Android 5.0 Native Time Picker\"> </p>\n\n<p>I have searched in several threads and blogs, but I can not find a way to do this.</p>\n\n<p>I have tried with this,</p>\n\n<pre><code>androidDriver.findElement(By.name(\"6\")).click();\nandroidDriver.findElement(By.name(\"45\")).click();\n</code></pre>\n\n<p>But it will give an error like below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/E6FuZ.png\" alt=\"Error log\"></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"score":2,"creation_date":1379558759,"post_id":6225537,"comment_id":27874129,"body_markdown":"possible duplicate of [How do I &quot;decompile&quot; Java class files?](http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a>"},{"owner":{"account_id":11219534,"reputation":1,"user_id":8231095,"display_name":"Anu"},"score":0,"creation_date":1500955622,"post_id":6225537,"comment_id":77551871,"body_markdown":"Try below online tool. It also seems good: **www.showmycode.com/**","body":"Try below online tool. It also seems good: <b>www.showmycode.com/</b>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":3,"up_vote_count":53,"is_accepted":true,"score":50,"last_activity_date":1470928220,"creation_date":1307094953,"answer_id":6225559,"question_id":6225537,"body_markdown":"Invoking `javap` to read the bytecode\r\n-------------------------------------\r\nThe `javap` command takes class-names without the `.class` extension. Try\r\n\r\n    javap -c ClassName\r\n\r\nConverting .class files back to .java files\r\n----------\r\n\r\n`javap` will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.\r\n\r\nTo actually *decompile* (i.e., do the reverse of `javac`) you will have to use proper decompiler. See for instance the following related question:\r\n\r\n- https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files","title":"Convert .class to .java","body":"<h2>Invoking <code>javap</code> to read the bytecode</h2>\n\n<p>The <code>javap</code> command takes class-names without the <code>.class</code> extension. Try</p>\n\n<pre><code>javap -c ClassName\n</code></pre>\n\n<h2>Converting .class files back to .java files</h2>\n\n<p><code>javap</code> will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.</p>\n\n<p>To actually <em>decompile</em> (i.e., do the reverse of <code>javac</code>) you will have to use proper decompiler. See for instance the following related question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307095016,"creation_date":1307095016,"answer_id":6225571,"question_id":6225537,"body_markdown":"I&#39;m guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it&#39;s not in the CLASSPATH so javap can&#39;t find it.\r\n\r\n","title":"Convert .class to .java","body":"<p>I'm guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it's not in the CLASSPATH so javap can't find it.</p>\n"},{"tags":[],"owner":{"account_id":2424348,"reputation":9,"user_id":2116624,"display_name":"user2116624"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1361990181,"creation_date":1361989056,"answer_id":15119331,"question_id":6225537,"body_markdown":"This is for Mac users:\r\n\r\nfirst of all you have to clarify where the class file is... so for example, in &#39;Terminal&#39; (A Mac Application) you would type:\r\n\r\n    cd\r\n\r\nthen wherever you file is e.g:\r\n\r\n\r\n    cd /Users/CollarBlast/Desktop/JavaFiles/\r\n\r\n\r\nthen you would hit enter. After that you would do the command.\r\ne.g:\r\n\r\n\r\n`cd /Users/CollarBlast/Desktop/JavaFiles/`     (then i would press enter...)\r\n\r\n\r\nThen i would type the command:\r\n\r\n\r\n`javap -c JavaTestClassFile.class`      (then i would press enter again...)\r\n\r\n\r\nand hopefully it should work!\r\n\r\n","title":"Convert .class to .java","body":"<p>This is for Mac users:</p>\n\n<p>first of all you have to clarify where the class file is... so for example, in 'Terminal' (A Mac Application) you would type:</p>\n\n<pre><code>cd\n</code></pre>\n\n<p>then wherever you file is e.g:</p>\n\n<pre><code>cd /Users/CollarBlast/Desktop/JavaFiles/\n</code></pre>\n\n<p>then you would hit enter. After that you would do the command.\ne.g:</p>\n\n<p><code>cd /Users/CollarBlast/Desktop/JavaFiles/</code>     (then i would press enter...)</p>\n\n<p>Then i would type the command:</p>\n\n<p><code>javap -c JavaTestClassFile.class</code>      (then i would press enter again...)</p>\n\n<p>and hopefully it should work!</p>\n"},{"tags":[],"owner":{"account_id":12445000,"reputation":59,"user_id":9061448,"display_name":"Renato Espinoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607964155,"creation_date":1607964155,"answer_id":65292888,"question_id":6225537,"body_markdown":"I used the http://www.javadecompilers.com but in some classes it gives you the message &quot;could not load this classes...&quot;\r\n\r\nINSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there","title":"Convert .class to .java","body":"<p>I used the <a href=\"http://www.javadecompilers.com\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com</a> but in some classes it gives you the message &quot;could not load this classes...&quot;</p>\n<p>INSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there</p>\n"},{"tags":[],"owner":{"account_id":21411832,"reputation":31,"user_id":15771851,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022516,"creation_date":1668022516,"answer_id":74380455,"question_id":6225537,"body_markdown":"Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\r\nStep 2: Using the below online decompiler, upload your .class file and read the contents\r\nhttp://www.javadecompilers.com/","title":"Convert .class to .java","body":"<p>Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\nStep 2: Using the below online decompiler, upload your .class file and read the contents\n<a href=\"http://www.javadecompilers.com/\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com/</a></p>\n"}],"owner":{"account_id":336165,"reputation":1739,"user_id":663672,"accept_rate":75,"display_name":"fabricemarcelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310085,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":6225559,"answer_count":5,"score":40,"last_activity_date":1668022516,"creation_date":1307094811,"question_id":6225537,"body_markdown":"I have some .class files that I need to convert to .java so I did:\r\n\r\n    javap -c ClassName.class\r\n\r\nand all the time I have the same error\r\n```\r\nERROR:Could not find ClassName.class\r\n```\r\nDo you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try. ","title":"Convert .class to .java","body":"<p>I have some .class files that I need to convert to .java so I did:</p>\n<pre><code>javap -c ClassName.class\n</code></pre>\n<p>and all the time I have the same error</p>\n<pre><code>ERROR:Could not find ClassName.class\n</code></pre>\n<p>Do you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try.</p>\n"},{"tags":["java","graphics","geometry","trigonometry","segment"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1389819724,"post_id":21148084,"comment_id":31829988,"body_markdown":"Less a Java problem and more a Math problem.","body":"Less a Java problem and more a Math problem."},{"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"score":0,"creation_date":1389819946,"post_id":21148084,"comment_id":31830115,"body_markdown":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing..","body":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing.."},{"owner":{"account_id":525694,"reputation":5632,"user_id":1010405,"accept_rate":73,"display_name":"NoChance"},"score":1,"creation_date":1389822162,"post_id":21148084,"comment_id":31831406,"body_markdown":"Take a look at: http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm","body":"Take a look at: <a href=\"http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm\" rel=\"nofollow noreferrer\">regentsprep.org/Regents/math/geometry/GCG6/RCir.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668022230,"creation_date":1389821165,"answer_id":21148558,"question_id":21148084,"body_markdown":"There&#39;s a well-known relationship (see [here][1], for instance) between the chord half length, the height of the arc (also called the _sagitta_), and the radius. Let the chord length (the distance between p&lt;sub&gt;1&lt;/sub&gt; and p&lt;sub&gt;2&lt;/sub&gt; be _l_ = 2 _d_, let the arc height be _h_, and let the radius be _r_. Then\r\n\r\n&gt; _r_ = (_d_ &lt;sup&gt;2&lt;/sup&gt; + _h_ &lt;sup&gt;2&lt;/sup&gt;) / (2 _h_)\r\n\r\nThe center is on the perpendicular bisector of the chord, at a distance _r_ - _h_ from the chord, on the opposite side from the arc.&lt;sup&gt;1&lt;/sup&gt; You can then use standard inverse trig functions to get the start and end angles for the chord.\r\n\r\n&lt;sub&gt;&amp;nbsp;&lt;sup&gt;1&lt;/sup&gt; Note that it is not enough to know _p_&lt;sub&gt;1&lt;/sub&gt;, _p_&lt;sub&gt;2&lt;/sub&gt;, and _h_; you need some way of identifying which side of the chord has the center and which side has the arc.&lt;/sub&gt;\r\n\r\n  [1]: https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>There's a well-known relationship (see <a href=\"https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html\" rel=\"nofollow noreferrer\">here</a>, for instance) between the chord half length, the height of the arc (also called the <em>sagitta</em>), and the radius. Let the chord length (the distance between p<sub>1</sub> and p<sub>2</sub> be <em>l</em> = 2 <em>d</em>, let the arc height be <em>h</em>, and let the radius be <em>r</em>. Then</p>\n<blockquote>\n<p><em>r</em> = (<em>d</em> <sup>2</sup> + <em>h</em> <sup>2</sup>) / (2 <em>h</em>)</p>\n</blockquote>\n<p>The center is on the perpendicular bisector of the chord, at a distance <em>r</em> - <em>h</em> from the chord, on the opposite side from the arc.<sup>1</sup> You can then use standard inverse trig functions to get the start and end angles for the chord.</p>\n<p><sub> <sup>1</sup> Note that it is not enough to know <em>p</em><sub>1</sub>, <em>p</em><sub>2</sub>, and <em>h</em>; you need some way of identifying which side of the chord has the center and which side has the arc.</sub></p>\n"}],"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6259,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21148558,"answer_count":1,"score":4,"last_activity_date":1668022230,"creation_date":1389819643,"question_id":21148084,"body_markdown":"I&#39;m trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.\r\n\r\n    drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\r\n\r\nFirst I observe that the x, y, width and height values describes a rectangle containing the circle.\r\n\r\n&gt; The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html)\r\n\r\nSo first I start by calculating the x,y,width and height values. The picture below describes how I would do this.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sCCuT.png\r\n\r\nThe first picture shows what values I&#39;ve already got. The arc in the first picture is exactly what I&#39;m trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:\r\n\r\n    int dx = p1.x- p2.x;\r\n    int dy = p1.y - p2.y;\r\n    double len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\r\n\r\nAs shown in picture three I can now calculate the radius of the circle by using the following function.\r\n\r\n    radius = h/2 + len^2 / 8h\r\n\r\nThe first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.\r\n\r\nIf I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.\r\n\r\n    x = centerPoint.x - radius;\r\n    y = centerPoint.y - radius;\r\n    width = radius * 2;\r\n    height = radius * 2;\r\n\r\nThe last part is to calculate the startAngle and arcAngle based on the values we already calculated. \r\n\r\n**TL;DR** I need help with calculating the angles and the center point.\r\n\r\nThanks in advance!","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>I'm trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.</p>\n\n<pre><code>drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\n</code></pre>\n\n<p>First I observe that the x, y, width and height values describes a rectangle containing the circle.</p>\n\n<blockquote>\n  <p>The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html</a>)</p>\n</blockquote>\n\n<p>So first I start by calculating the x,y,width and height values. The picture below describes how I would do this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/sCCuT.png\" alt=\"enter image description here\"></p>\n\n<p>The first picture shows what values I've already got. The arc in the first picture is exactly what I'm trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:</p>\n\n<pre><code>int dx = p1.x- p2.x;\nint dy = p1.y - p2.y;\ndouble len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\n</code></pre>\n\n<p>As shown in picture three I can now calculate the radius of the circle by using the following function.</p>\n\n<pre><code>radius = h/2 + len^2 / 8h\n</code></pre>\n\n<p>The first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.</p>\n\n<p>If I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.</p>\n\n<pre><code>x = centerPoint.x - radius;\ny = centerPoint.y - radius;\nwidth = radius * 2;\nheight = radius * 2;\n</code></pre>\n\n<p>The last part is to calculate the startAngle and arcAngle based on the values we already calculated. </p>\n\n<p><strong>TL;DR</strong> I need help with calculating the angles and the center point.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","for-loop","sum","big-o","time-complexity"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1376393303,"post_id":18207510,"comment_id":26686192,"body_markdown":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this.","body":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this."},{"owner":{"account_id":2573628,"reputation":138421,"user_id":2231815,"display_name":"rakib_"},"score":0,"creation_date":1376395123,"post_id":18207510,"comment_id":26687294,"body_markdown":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1).","body":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1)."},{"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"score":1,"creation_date":1376396032,"post_id":18207510,"comment_id":26687818,"body_markdown":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1","body":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1"}],"answers":[{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022186,"creation_date":1376429959,"answer_id":18219686,"question_id":18207510,"body_markdown":"Logarithmic\r\n-----------\r\n\r\nThe second for-loop will never stop (`0 * 2 = 0`). I guess, you were asking about this loop:\r\n\r\n    for (int i = 1; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\nIn this case the complexity expressed via the sum notation will be:\r\n\r\n **Sum 1, i=1 to log(n-1) == O(log n)**\r\n\r\n\r\nTriple nested\r\n-----------\r\nIn this case it will be the summation of:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   1   1   1   1   1   .       n\r\n     2   2   2   2   2   .           2(n-1)\r\n     3   3   3   3   .               3(n-2)\r\n     4   4   4   .                   4(n-3)\r\n     .   .   .                       .\r\n    n-1 n-1                          2(n-1)\r\n     n                               n\r\n\r\nor alternatively if I transpose the triangle:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   2   3   4   .  n-1   n      n(n+1)/2 \r\n     1   2   3   4   .  n-1          (n-1)(n)/2\r\n     1   2   3   4   .               (n-2)(n-1)/2\r\n     1   2   3   .                   4(n-3)\r\n     1   2   .                       .\r\n     1   .                           3\r\n     .                               1\r\n\r\nThe numbers on the right side (in the second triangle) are also called [triangle numbers][1]. So the question is equivalent to \r\n\r\n&quot;*What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).*&quot;\r\n\r\nThe answer to this question is\r\n\r\n**f(n) = n(n+1)(n+2)/6**\r\n\r\nThe proof is [here][2].\r\n\r\nSo the resulting complexity in big-o is **O(n^3)**\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangular_number\r\n  [2]: https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html","title":"Logarithmic and other for loop converted to sum notation","body":"<h2>Logarithmic</h2>\n<p>The second for-loop will never stop (<code>0 * 2 = 0</code>). I guess, you were asking about this loop:</p>\n<pre><code>for (int i = 1; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n<p>In this case the complexity expressed via the sum notation will be:</p>\n<p><strong>Sum 1, i=1 to log(n-1) == O(log n)</strong></p>\n<h2>Triple nested</h2>\n<p>In this case it will be the summation of:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   1   1   1   1   1   .       n\n 2   2   2   2   2   .           2(n-1)\n 3   3   3   3   .               3(n-2)\n 4   4   4   .                   4(n-3)\n .   .   .                       .\nn-1 n-1                          2(n-1)\n n                               n\n</code></pre>\n<p>or alternatively if I transpose the triangle:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   2   3   4   .  n-1   n      n(n+1)/2 \n 1   2   3   4   .  n-1          (n-1)(n)/2\n 1   2   3   4   .               (n-2)(n-1)/2\n 1   2   3   .                   4(n-3)\n 1   2   .                       .\n 1   .                           3\n .                               1\n</code></pre>\n<p>The numbers on the right side (in the second triangle) are also called <a href=\"https://en.wikipedia.org/wiki/Triangular_number\" rel=\"nofollow noreferrer\">triangle numbers</a>. So the question is equivalent to</p>\n<p>&quot;<em>What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).</em>&quot;</p>\n<p>The answer to this question is</p>\n<p><strong>f(n) = n(n+1)(n+2)/6</strong></p>\n<p>The proof is <a href=\"https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So the resulting complexity in big-o is <strong>O(n^3)</strong></p>\n"},{"tags":[],"owner":{"account_id":916158,"reputation":5567,"user_id":948918,"accept_rate":43,"display_name":"pkacprzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376437923,"creation_date":1376437923,"answer_id":18221106,"question_id":18207510,"body_markdown":"The triple nested loop\r\n=\r\n&lt;br/&gt;\r\nI&#39;ll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. \r\n\r\nThis is a very general method, you can use it to bound many multiple index summations without a big effort.\r\n\r\nUpper bound\r\n-\r\n\r\nFirst of all, let&#39;s derive an upper bound for the sum. It&#39;s quite easy:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLower bound\r\n-\r\n\r\nThe trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It&#39;s also pretty easy:\r\n\r\n![enter image description here][2]\r\n\r\nPutting it together\r\n-\r\nFrom both inequalities, you can deduce that:\r\n\r\n![enter image description here][3]\r\n\r\nWhich in terms of the asymptotic analysis gives:\r\n\r\n![enter image description here][4]\r\n\r\n\r\nAs you can see, your triple nested loop has the same asymptotic time complexity as:\r\n\r\n    for(int i = 0; i &lt; n; i = i + 1)  \r\n       for(int j = 0; j &lt; n; j = j + 1)  \r\n          for(int k = 0; k &lt; n; k = k + 1)  \r\n             //operations of cost 1\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GHLBz.gif\r\n  [2]: http://i.stack.imgur.com/PCCCe.gif\r\n  [3]: http://i.stack.imgur.com/nRVCr.gif\r\n  [4]: http://i.stack.imgur.com/AKrQg.gif","title":"Logarithmic and other for loop converted to sum notation","body":"<h1>The triple nested loop</h1>\n\n<p><br/>\nI'll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. </p>\n\n<p>This is a very general method, you can use it to bound many multiple index summations without a big effort.</p>\n\n<h2>Upper bound</h2>\n\n<p>First of all, let's derive an upper bound for the sum. It's quite easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GHLBz.gif\" alt=\"enter image description here\"></p>\n\n<h2>Lower bound</h2>\n\n<p>The trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It's also pretty easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PCCCe.gif\" alt=\"enter image description here\"></p>\n\n<h2>Putting it together</h2>\n\n<p>From both inequalities, you can deduce that:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nRVCr.gif\" alt=\"enter image description here\"></p>\n\n<p>Which in terms of the asymptotic analysis gives:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AKrQg.gif\" alt=\"enter image description here\"></p>\n\n<p>As you can see, your triple nested loop has the same asymptotic time complexity as:</p>\n\n<pre><code>for(int i = 0; i &lt; n; i = i + 1)  \n   for(int j = 0; j &lt; n; j = j + 1)  \n      for(int k = 0; k &lt; n; k = k + 1)  \n         //operations of cost 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394809609,"creation_date":1394769911,"answer_id":22395882,"question_id":18207510,"body_markdown":"**For the logarithmic loop:**\r\n\r\nFirst, you can&#39;t initialize the index with zero when dealing with logarithmic loops.\r\n\r\nSecond, the following is the way to present the algorithmic loop using Sigma notation:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLook at the last slide of [this document][2] of Dr. Jauhar.\r\n\r\n**For the three nested loops:**\r\n\r\n![enter image description here][3]\r\n\r\n\r\nMark Allen Weiss work may help you considerably. See this [link][4].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6t804.png\r\n  [2]: http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\r\n  [3]: http://i.stack.imgur.com/9xV7M.png\r\n  [4]: http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt","title":"Logarithmic and other for loop converted to sum notation","body":"<p><strong>For the logarithmic loop:</strong></p>\n\n<p>First, you can't initialize the index with zero when dealing with logarithmic loops.</p>\n\n<p>Second, the following is the way to present the algorithmic loop using Sigma notation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6t804.png\" alt=\"enter image description here\"></p>\n\n<p>Look at the last slide of <a href=\"http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\" rel=\"nofollow noreferrer\">this document</a> of Dr. Jauhar.</p>\n\n<p><strong>For the three nested loops:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/9xV7M.png\" alt=\"enter image description here\"></p>\n\n<p>Mark Allen Weiss work may help you considerably. See this <a href=\"http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3937,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668022186,"creation_date":1376392122,"question_id":18207510,"body_markdown":"I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.\r\n\r\nLike this: (Correct for example loop)\r\n\r\n![Image][1]\r\n\r\n\r\nAs an example:\r\n     \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n      a = i; //cost 1\r\n\r\nSum 1, i=0 to n-1 == n.   \r\n\r\n\r\nI need help with following:\r\n\r\n\r\nLogarithmic (just the correct sum notation)   \r\n    \r\n    for (int i = 0; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\n\r\nSum 1, i=0 to log(n)-1 == log n. Correct??\r\n\r\nTriple nested (both sum notation and step by step why it ends up like it)   \r\n   \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n    for (int j = 0; j &lt;= i; j = j + 1)  \r\n    for (int k = 0; k &lt;= j; k = k + 1)  \r\n      a=i; //cost 1\r\n\r\n\r\n![Image][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YAMwe.png\r\n  [2]: http://i.stack.imgur.com/hUxdH.png","title":"Logarithmic and other for loop converted to sum notation","body":"<p>I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.</p>\n\n<p>Like this: (Correct for example loop)</p>\n\n<p><img src=\"https://i.stack.imgur.com/YAMwe.png\" alt=\"Image\"></p>\n\n<p>As an example:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to n-1 == n.   </p>\n\n<p>I need help with following:</p>\n\n<p>Logarithmic (just the correct sum notation)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to log(n)-1 == log n. Correct??</p>\n\n<p>Triple nested (both sum notation and step by step why it ends up like it)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \nfor (int j = 0; j &lt;= i; j = j + 1)  \nfor (int k = 0; k &lt;= j; k = k + 1)  \n  a=i; //cost 1\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/hUxdH.png\" alt=\"Image\"></p>\n"},{"tags":["java","calendar"],"answers":[{"tags":[],"owner":{"account_id":2989156,"reputation":340,"user_id":2537147,"display_name":"Maxime Piraux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375132241,"creation_date":1375132241,"answer_id":17934259,"question_id":17934093,"body_markdown":"The `leap` method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before =&gt; because last year was a leap year)\r\n","title":"Java: calculating day of week works for all dates except this month","body":"<p>The <code>leap</code> method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before => because last year was a leap year)</p>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668022182,"creation_date":1375133538,"answer_id":17934587,"question_id":17934093,"body_markdown":"Not sure if you&#39;re formula is correct and the numbers to day matches up with it.  [Link](https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html)\r\n\r\nN = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n\r\n\r\ni would also make this method more generic\r\n\r\n     public int firstDayOfYear(int day, int month, int year) {\r\n            int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\r\n            return day % 7;\r\n        }\r\n\r\n     System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\r\n   ","title":"Java: calculating day of week works for all dates except this month","body":"<p>Not sure if you're formula is correct and the numbers to day matches up with it.  <a href=\"https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2</p>\n<p>i would also make this method more generic</p>\n<pre><code> public int firstDayOfYear(int day, int month, int year) {\n        int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\n        return day % 7;\n    }\n\n System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\n</code></pre>\n"}],"owner":{"account_id":1016938,"reputation":187,"user_id":2631632,"accept_rate":75,"display_name":"Michael Dornisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3728,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17934587,"answer_count":2,"score":2,"last_activity_date":1668022182,"creation_date":1375131561,"question_id":17934093,"body_markdown":"I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.\r\n\r\nMy code works with any month/year I supply, except for this month(7/2013). I can&#39;t figure out why that would be. Can anybody help with this?\r\nExamples of the outputs are as follows:\r\n\r\nWrong example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2013\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 2\r\n    First day of the year: 1\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nRight Example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2012\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 1\r\n    First day of the year: 0\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nI have linked a downloadable Java file [here][1]\r\n\r\n    package calendar;\r\n\r\n    /**\r\n     *\r\n     * @author Michael Dornisch\r\n     */\r\n    import java.util.Scanner;\r\n\r\n    public class Calendar {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            //Initiating vars\r\n            int inMonth;\r\n            int inYear;\r\n\r\n            //Initiating Scanner\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Gregorian Calendar Creator&quot;); //Just a print line\r\n\r\n            /* This block gets a month. Instead of exiting when the user inputs an \r\n             * invalid month, it instead asks again untl a proper month is used.\r\n             */\r\n            System.out.print(&quot;Enter a month: &quot;);\r\n            inMonth = input.nextInt();\r\n            while (inMonth &gt; 12 || inMonth &lt;= 0) {\r\n                System.out.println(&quot;ERROR: Improper month. Please enter a proper numerical month (1-12).&quot;);\r\n                System.out.print(&quot;Enter a month: &quot;);\r\n                inMonth = input.nextInt();\r\n            }\r\n            /* This block gets a year. Instead of exiting when the user inputs an \r\n             * invalid year, it instead asks again untl a proper year is used.\r\n             */\r\n            System.out.print(&quot;Enter a year: &quot;);\r\n            inYear = input.nextInt();\r\n            while (inYear &lt; 1752) {\r\n                System.out.println(&quot;ERROR: Improper Year. Please enter a year that is 1753 or greater.&quot;);\r\n                System.out.print(&quot;Enter a year: &quot;);\r\n                inYear = input.nextInt();\r\n            }\r\n            /* Here is where I am testing everything\r\n             * \r\n             */\r\n            Calendar newCal = new Calendar();\r\n            System.out.println(&quot;0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat&quot;);\r\n            System.out.println(&quot;Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date&quot;);\r\n            System.out.println(&quot;First day of the month: &quot; + newCal.firstDayOfMonth(inMonth, inYear));\r\n            System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(inYear));\r\n        }\r\n\r\n        public boolean leap(int inputYear) {\r\n\r\n            /* This IF is checked first. If the year is divisible by 100, it isn&#39;t a \r\n             * leap year unless it is also divisible by 400. \r\n             */\r\n            if (inputYear % 100 == 0) {\r\n                if (inputYear % 400 == 0) {\r\n                    return (true);\r\n                } else {\r\n                    return (false);\r\n                }\r\n            }\r\n            //Any other number that&#39;s divisible by 4 is also a leap year\r\n            if (inputYear % 4 == 0) {\r\n                return (true);\r\n            } else {\r\n                return (false);\r\n            }\r\n        }\r\n\r\n        public int firstDayOfYear(int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n\r\n        public int firstDayOfMonth(int inputMonth, int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://app.box.com/s/su6oaufutyikmg2nqmvo","title":"Java: calculating day of week works for all dates except this month","body":"<p>I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.</p>\n\n<p>My code works with any month/year I supply, except for this month(7/2013). I can't figure out why that would be. Can anybody help with this?\nExamples of the outputs are as follows:</p>\n\n<p>Wrong example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2013\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 2\nFirst day of the year: 1\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>Right Example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2012\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 1\nFirst day of the year: 0\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>I have linked a downloadable Java file <a href=\"https://app.box.com/s/su6oaufutyikmg2nqmvo\" rel=\"nofollow\">here</a></p>\n\n<pre><code>package calendar;\n\n/**\n *\n * @author Michael Dornisch\n */\nimport java.util.Scanner;\n\npublic class Calendar {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        //Initiating vars\n        int inMonth;\n        int inYear;\n\n        //Initiating Scanner\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Gregorian Calendar Creator\"); //Just a print line\n\n        /* This block gets a month. Instead of exiting when the user inputs an \n         * invalid month, it instead asks again untl a proper month is used.\n         */\n        System.out.print(\"Enter a month: \");\n        inMonth = input.nextInt();\n        while (inMonth &gt; 12 || inMonth &lt;= 0) {\n            System.out.println(\"ERROR: Improper month. Please enter a proper numerical month (1-12).\");\n            System.out.print(\"Enter a month: \");\n            inMonth = input.nextInt();\n        }\n        /* This block gets a year. Instead of exiting when the user inputs an \n         * invalid year, it instead asks again untl a proper year is used.\n         */\n        System.out.print(\"Enter a year: \");\n        inYear = input.nextInt();\n        while (inYear &lt; 1752) {\n            System.out.println(\"ERROR: Improper Year. Please enter a year that is 1753 or greater.\");\n            System.out.print(\"Enter a year: \");\n            inYear = input.nextInt();\n        }\n        /* Here is where I am testing everything\n         * \n         */\n        Calendar newCal = new Calendar();\n        System.out.println(\"0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\");\n        System.out.println(\"Test this in a UNIX terminal by typing 'cal July 2013' or similar date\");\n        System.out.println(\"First day of the month: \" + newCal.firstDayOfMonth(inMonth, inYear));\n        System.out.println(\"First day of the year: \" + newCal.firstDayOfYear(inYear));\n    }\n\n    public boolean leap(int inputYear) {\n\n        /* This IF is checked first. If the year is divisible by 100, it isn't a \n         * leap year unless it is also divisible by 400. \n         */\n        if (inputYear % 100 == 0) {\n            if (inputYear % 400 == 0) {\n                return (true);\n            } else {\n                return (false);\n            }\n        }\n        //Any other number that's divisible by 4 is also a leap year\n        if (inputYear % 4 == 0) {\n            return (true);\n        } else {\n            return (false);\n        }\n    }\n\n    public int firstDayOfYear(int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n\n    public int firstDayOfMonth(int inputMonth, int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n}\n</code></pre>\n"},{"tags":["java","drools","rule-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923857,"post_id":74358461,"comment_id":131281511,"body_markdown":"`second condition stays same even tho I change panicMode field` -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager.","body":"<code>second condition stays same even tho I change panicMode field</code> -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923989,"post_id":74358461,"comment_id":131281556,"body_markdown":"Also a bit more detail on these models would be helpful in understanding how they relate to each other.","body":"Also a bit more detail on these models would be helpful in understanding how they relate to each other."},{"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"score":0,"creation_date":1668014203,"post_id":74358461,"comment_id":131306781,"body_markdown":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade.","body":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1668021850,"post_id":74358461,"comment_id":131309322,"body_markdown":"External changes are not visible if you don&#39;t call `update` on PanicButtonManager. `modify` is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state.","body":"External changes are not visible if you don&#39;t call <code>update</code> on PanicButtonManager. <code>modify</code> is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022072,"creation_date":1668022072,"answer_id":74380370,"question_id":74358461,"body_markdown":"From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call `update` to trigger a reevaluation of the rules with the new value. The `modify` is only making the new state of the TradeEvent visible.\r\n\r\nThe syntax would be like this:\r\n\r\n```\r\nrule &quot;...&quot;\r\nwhen\r\n  // ...\r\n  p: PanicButtonManager( panicModeEnabled )\r\nthen\r\n  // ...\r\n  update(p);\r\nend\r\n```\r\n\r\nNote that `update` will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call <code>update</code> to trigger a reevaluation of the rules with the new value. The <code>modify</code> is only making the new state of the TradeEvent visible.</p>\n<p>The syntax would be like this:</p>\n<pre><code>rule &quot;...&quot;\nwhen\n  // ...\n  p: PanicButtonManager( panicModeEnabled )\nthen\n  // ...\n  update(p);\nend\n</code></pre>\n<p>Note that <code>update</code> will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.</p>\n"}],"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668022072,"creation_date":1667900024,"question_id":74358461,"body_markdown":"Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;)\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\n```\r\n\r\nThe thing is that when I change field panicModeEnabled value in drools it&#39;s not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it&#39;s working fine:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;);\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\nthen      \r\n   modify ($tradeEvent){\r\n      messageCode = &quot;PM003&quot;,\r\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\r\n      tradeValidationStatus = STATUS.ERROR\r\n   }\r\n```\r\n\r\nThis code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).\r\n\r\nWhy in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn&#39;t update with change of field, but field prints correctly in message. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;)\n   p : PanicButtonManager(\n      panicModeEnabled)\n</code></pre>\n<p>The thing is that when I change field panicModeEnabled value in drools it's not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it's working fine:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;);\n   p : PanicButtonManager(\n      panicModeEnabled)\nthen      \n   modify ($tradeEvent){\n      messageCode = &quot;PM003&quot;,\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\n      tradeValidationStatus = STATUS.ERROR\n   }\n</code></pre>\n<p>This code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).</p>\n<p>Why in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn't update with change of field, but field prints correctly in message.</p>\n<p>How do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline","maven-3"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1628783312,"creation_date":1628783312,"answer_id":68760561,"question_id":68760474,"body_markdown":"In\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nyou can&#39;t have `${revision}` for `version`. Maven don&#39;t know where to get it. You need to use actual version.\r\n\r\nPS: I don&#39;t know how you manage to build it locally.","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>In</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>you can't have <code>${revision}</code> for <code>version</code>. Maven don't know where to get it. You need to use actual version.</p>\n<p>PS: I don't know how you manage to build it locally.</p>\n"},{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647116235,"creation_date":1647116235,"answer_id":71452650,"question_id":68760474,"body_markdown":"The following configuration is missing in your parent pom.xml for the flatten plugin:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n      &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n    &lt;/configuration&gt;  \r\n\r\nI believe you have to add this configuration for ci-friendly projects, as explained [here](https://maven.apache.org/maven-ci-friendly.html#install-deploy).\r\n\r\n\r\n","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>The following configuration is missing in your parent pom.xml for the flatten plugin:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n  &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n&lt;/configuration&gt;  \n</code></pre>\n<p>I believe you have to add this configuration for ci-friendly projects, as explained <a href=\"https://maven.apache.org/maven-ci-friendly.html#install-deploy\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17490217,"reputation":161,"user_id":12682515,"display_name":"Faisal Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668021704,"creation_date":1628782956,"question_id":68760474,"body_markdown":"I&#39;m trying to use [maven friendly ci][1] for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.\r\n\r\nI have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn&#39;t work. And I get the below error\r\n\r\nError\r\n\r\n&gt; [ERROR] [ERROR] Some problems were encountered while processing the\r\n&gt; POMs: [FATAL] Non-resolvable parent POM for\r\n&gt; com.faskan:child-module:[unknown-version]:\r\n&gt; Could not transfer artifact\r\n&gt; com.faskan:parent-module:pom:${revision} from/to nexus\r\n\r\nParent project&#39;s pom.xml\r\n\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;project parent pom&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\r\n        &lt;/properties&gt;\r\n\r\n       &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;                \r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- enable flattening --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;flatten&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- ensure proper cleanup --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten.clean&lt;/id&gt;\r\n                        &lt;phase&gt;clean&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;clean&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n    ...\r\n    &lt;/project&gt;\r\n\r\nChild project&#39;s pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;name&gt;child admin&lt;/name&gt;\r\n    \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nChild of child project (grand child)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;child of child module&lt;/name&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nI found a similar question https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v. Not sure if mine is the same because I don&#39;t get any parse failure errors.\r\n\r\n\r\n  [1]: https://maven.apache.org/maven-ci-friendly.html","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>I'm trying to use <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven friendly ci</a> for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.</p>\n<p>I have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn't work. And I get the below error</p>\n<p>Error</p>\n<blockquote>\n<p>[ERROR] [ERROR] Some problems were encountered while processing the\nPOMs: [FATAL] Non-resolvable parent POM for\ncom.faskan:child-module:[unknown-version]:\nCould not transfer artifact\ncom.faskan:parent-module:pom:${revision} from/to nexus</p>\n</blockquote>\n<p>Parent project's pom.xml</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;project parent pom&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\n    &lt;/properties&gt;\n\n   &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n            &lt;configuration&gt;                \n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;!-- enable flattening --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;flatten&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;!-- ensure proper cleanup --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten.clean&lt;/id&gt;\n                    &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n...\n&lt;/project&gt;\n</code></pre>\n<p>Child project's pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;child admin&lt;/name&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>Child of child project (grand child)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;child of child module&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>I found a similar question <a href=\"https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v\">How do you get maven child projects to build in Jenkins when using CI Friendly versions?</a>. Not sure if mine is the same because I don't get any parse failure errors.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9097,"page":895,"page_size":100}
