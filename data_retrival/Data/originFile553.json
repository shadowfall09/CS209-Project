{"items":[{"tags":["java","cron","quartz-scheduler","quartz"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101204,"post_id":74528244,"comment_id":131560695,"body_markdown":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of `MON-SUN` why not just `*` as it covers every day of the week? (and it might have to be `SUN-MON` in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way.","body":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of <code>MON-SUN</code> why not just <code>*</code> as it covers every day of the week? (and it might have to be <code>SUN-MON</code> in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101265,"post_id":74528244,"comment_id":131560717,"body_markdown":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work.","body":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work."},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669144964,"post_id":74528244,"comment_id":131576514,"body_markdown":"More details are required, what is the current behavior, and how is that different from what you expect?","body":"More details are required, what is the current behavior, and how is that different from what you expect?"},{"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"score":0,"creation_date":1669165137,"post_id":74528244,"comment_id":131581221,"body_markdown":"Updated my question and added working status now.","body":"Updated my question and added working status now."}],"answers":[{"tags":[],"owner":{"account_id":25144328,"reputation":162,"user_id":18990321,"display_name":"johann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572464,"creation_date":1669895154,"answer_id":74641370,"question_id":74528244,"body_markdown":"You could use two cron expressions to achieve what you want:\r\n\r\n1. `30 0-29 9 * * ?`\r\n\r\nExecutes every minute from 09:00:30 to 09:29:30\r\n\r\n~~~\r\nOutput\r\n\r\n09:00:30\r\n09:01:30\r\n09:02:30\r\n09:03:30\r\n09:04:30\r\n...\r\n09:29:30\r\n~~~\r\n\r\n2. `0 1-30 9 * * ?`\r\n\r\nExecutes every minute from 09:01:00 to 09:30:00\r\n\r\n~~~\r\nOutput\r\n\r\n09:01:00\r\n09:02:00\r\n09:03:00\r\n09:04:00\r\n09:05:00\r\n...\r\n09:30:00\r\n~~~","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>You could use two cron expressions to achieve what you want:</p>\n<ol>\n<li><code>30 0-29 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:00:30 to 09:29:30</p>\n<pre><code>Output\n\n09:00:30\n09:01:30\n09:02:30\n09:03:30\n09:04:30\n...\n09:29:30\n</code></pre>\n<ol start=\"2\">\n<li><code>0 1-30 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:01:00 to 09:30:00</p>\n<pre><code>Output\n\n09:01:00\n09:02:00\n09:03:00\n09:04:00\n09:05:00\n...\n09:30:00\n</code></pre>\n"}],"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679572464,"creation_date":1669097911,"question_id":74528244,"body_markdown":"Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?\r\n\r\n\r\n\r\n\r\nMy expression is ```30/30 0-30 9 ? * MON-SUN```, but it can&#39;t do what I want.\r\n\r\n--edit--\r\n\r\nIt is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds\r\n```\r\n9:00:30 executed \r\n9:01:30 executed \r\n9:02:30 executed \r\n9:03:30 executed \r\n9:04:30 executed\r\n...\r\n...\r\n9:30:30 executed\r\n```\r\n-----------------------------------------------\r\nthe job I want\r\n```\r\n9:00:30 executed\r\n9:01:00 executed\r\n9:01:30 executed\r\n9:02:00 executed\r\n9:02:30 executed\r\n9:03:00 executed\r\n9:03:30 executed\r\n...\r\n...\r\n9:30:00 executed\r\n```\r\nPlease Help","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?</p>\n<p>My expression is <code>30/30 0-30 9 ? * MON-SUN</code>, but it can't do what I want.</p>\n<p>--edit--</p>\n<p>It is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds</p>\n<pre><code>9:00:30 executed \n9:01:30 executed \n9:02:30 executed \n9:03:30 executed \n9:04:30 executed\n...\n...\n9:30:30 executed\n</code></pre>\n<hr />\n<p>the job I want</p>\n<pre><code>9:00:30 executed\n9:01:00 executed\n9:01:30 executed\n9:02:00 executed\n9:02:30 executed\n9:03:00 executed\n9:03:30 executed\n...\n...\n9:30:00 executed\n</code></pre>\n<p>Please Help</p>\n"},{"tags":["java","spring-boot","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17236275,"reputation":1,"user_id":13188516,"display_name":"megoRU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572380,"creation_date":1679572380,"answer_id":75822642,"question_id":74986452,"body_markdown":"I also wondered this question. I spent an hour to find a solution.\r\n\r\nHere is my solution:\r\n\r\nYou need to create Web Controller\r\n\r\n```\r\n@RestController\r\n@Validated\r\npublic class WebhookController {\r\n\r\n    private final WebhookBot webHookBot;\r\n\r\n    @Autowired\r\n    public WebhookController(WebhookBot webHookBot) {\r\n        this.webHookBot = webHookBot;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;?&gt; main() {\r\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\r\n    }\r\n\r\n    @PostMapping(&quot;/callback&quot;)\r\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\r\n        if (!secretToken.equals(Config.getSecretToken())) {\r\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        } else {\r\n            webHookBot.onWebhookUpdateReceived(update);\r\n            return ResponseEntity.status(HttpStatus.OK).build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you need to do redo your WebhookBot class\r\n\r\n\r\n```\r\n@Service\r\npublic class WebhookBot extends TelegramWebhookBot {\r\n\r\n    private final UpdateController updateController;\r\n\r\n    @Autowired\r\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\r\n        super(Config.getToken()); //Передаем токен Бота\r\n        this.updateController = updateController;\r\n        registerBot();\r\n    }\r\n\r\n    @Override\r\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\r\n        updateController.processUpdate(update);\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private void registerBot() throws TelegramApiException {\r\n        SetWebhook setWebhook = SetWebhook.builder()\r\n                .url(Config.getWebhookUrl())\r\n                .secretToken(Config.getSecretToken())\r\n                .build();\r\n\r\n        Webhook webhook = new DefaultWebhook();\r\n        this.onRegister();\r\n        webhook.registerWebhook(this);\r\n        this.setWebhook(setWebhook);\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return Config.getUsername();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        updateController.registerBot(this);\r\n    }\r\n\r\n```\r\n\r\nI used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice\r\n\r\nLinks: https://github.com/pengrad/java-telegram-bot-api","title":"Telegram bot does not working via webhook in Java","body":"<p>I also wondered this question. I spent an hour to find a solution.</p>\n<p>Here is my solution:</p>\n<p>You need to create Web Controller</p>\n<pre><code>@RestController\n@Validated\npublic class WebhookController {\n\n    private final WebhookBot webHookBot;\n\n    @Autowired\n    public WebhookController(WebhookBot webHookBot) {\n        this.webHookBot = webHookBot;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; main() {\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\n    }\n\n    @PostMapping(&quot;/callback&quot;)\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\n        if (!secretToken.equals(Config.getSecretToken())) {\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        } else {\n            webHookBot.onWebhookUpdateReceived(update);\n            return ResponseEntity.status(HttpStatus.OK).build();\n        }\n    }\n}\n</code></pre>\n<p>Then you need to do redo your WebhookBot class</p>\n<pre><code>@Service\npublic class WebhookBot extends TelegramWebhookBot {\n\n    private final UpdateController updateController;\n\n    @Autowired\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\n        super(Config.getToken()); //Передаем токен Бота\n        this.updateController = updateController;\n        registerBot();\n    }\n\n    @Override\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\n        updateController.processUpdate(update);\n        return null;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;&quot;;\n    }\n\n    private void registerBot() throws TelegramApiException {\n        SetWebhook setWebhook = SetWebhook.builder()\n                .url(Config.getWebhookUrl())\n                .secretToken(Config.getSecretToken())\n                .build();\n\n        Webhook webhook = new DefaultWebhook();\n        this.onRegister();\n        webhook.registerWebhook(this);\n        this.setWebhook(setWebhook);\n    }\n\n    @Override\n    public String getBotUsername() {\n        return Config.getUsername();\n    }\n\n    @PostConstruct\n    public void init() {\n        updateController.registerBot(this);\n    }\n\n</code></pre>\n<p>I used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice</p>\n<p>Links: <a href=\"https://github.com/pengrad/java-telegram-bot-api\" rel=\"nofollow noreferrer\">https://github.com/pengrad/java-telegram-bot-api</a></p>\n"}],"owner":{"account_id":11357788,"reputation":51,"user_id":8510521,"display_name":"Максат Орунханов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572380,"creation_date":1672688783,"question_id":74986452,"body_markdown":"I&#39;m creating telegram-bot. When I use longpolling-bot it works correct, but I can&#39;t create bot that works on webhooks - http-request don&#39;t reach endpoint that has been registered as webhook-url in telegram.\r\n\r\nFor local deployment I use ngrok application.\r\nI&#39;m trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don&#39;t reach the method `org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived`\r\n\r\nThis is the code:\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &quot;java&quot;\r\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\n\r\ngroup &#39;com.example&#39;\r\nsourceCompatibility = JavaVersion.VERSION_17\r\n\r\ndef telegramBotVersion = &quot;6.3.0&quot;\r\n\r\ndependencies {\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\r\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\r\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\r\n\r\n    implementation &#39;javax.ws.rs:javax.ws.rs-api:2.0-m08&#39;\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.telegram.bot;\r\n\r\nimport com.example.telegram.service.TelegramService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\n\r\n@Slf4j\r\npublic class WebhookBot extends TelegramWebhookCommandBot {\r\n\r\n    private final String name;\r\n\r\n    private final String token;\r\n\r\n    public WebhookBot(String name, String token) {\r\n        this.name = name;\r\n        this.token = token;\r\n    }\r\n\r\n    @Autowired\r\n    private TelegramService telegramService;\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return token;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;webhookurl&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void processNonCommandUpdate(Update update) {\r\n        System.out.println(&quot;processNonCommandUpdate&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.telegram.config;\r\n\r\nimport com.example.telegram.bot.WebhookBot;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\r\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\r\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\r\n\r\n@Configuration\r\n@Profile(&quot;webhook&quot;)\r\n@Slf4j\r\npublic class WebHookBotConfig {\r\n\r\n    @Value(&quot;${telegram.bot.name}&quot;)\r\n    private String name; //bot-name\r\n\r\n    @Value(&quot;${telegram.bot.token}&quot;)\r\n    private String token; //bot-token\r\n\r\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\r\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\r\n\r\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\r\n    private String internalWebServerUrl; // http://localhost:8080\r\n\r\n\r\n    @Bean\r\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\r\n\r\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\r\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\r\n\r\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\r\n\r\n        WebhookBot telegramBot = new WebhookBot(name, token);\r\n\r\n        SetWebhook setWebhook = new SetWebhook();\r\n        setWebhook.setUrl(webhookUri);\r\n\r\n        botsApi.registerBot(telegramBot, setWebhook);\r\n        \r\n        return telegramBot;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n./ngrok http 8080\r\n```\r\n","title":"Telegram bot does not working via webhook in Java","body":"<p>I'm creating telegram-bot. When I use longpolling-bot it works correct, but I can't create bot that works on webhooks - http-request don't reach endpoint that has been registered as webhook-url in telegram.</p>\n<p>For local deployment I use ngrok application.\nI'm trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don't reach the method <code>org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived</code></p>\n<p>This is the code:</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\n\ngroup 'com.example'\nsourceCompatibility = JavaVersion.VERSION_17\n\ndef telegramBotVersion = &quot;6.3.0&quot;\n\ndependencies {\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\n\n    implementation 'javax.ws.rs:javax.ws.rs-api:2.0-m08'\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.bot;\n\nimport com.example.telegram.service.TelegramService;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\nimport org.telegram.telegrambots.meta.api.objects.Update;\n\n@Slf4j\npublic class WebhookBot extends TelegramWebhookCommandBot {\n\n    private final String name;\n\n    private final String token;\n\n    public WebhookBot(String name, String token) {\n        this.name = name;\n        this.token = token;\n    }\n\n    @Autowired\n    private TelegramService telegramService;\n\n    @Override\n    public String getBotUsername() {\n        return name;\n    }\n\n    @Override\n    public String getBotToken() {\n        return token;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;webhookurl&quot;;\n    }\n\n    @Override\n    public void processNonCommandUpdate(Update update) {\n        System.out.println(&quot;processNonCommandUpdate&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.config;\n\nimport com.example.telegram.bot.WebhookBot;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\n\n@Configuration\n@Profile(&quot;webhook&quot;)\n@Slf4j\npublic class WebHookBotConfig {\n\n    @Value(&quot;${telegram.bot.name}&quot;)\n    private String name; //bot-name\n\n    @Value(&quot;${telegram.bot.token}&quot;)\n    private String token; //bot-token\n\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\n\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\n    private String internalWebServerUrl; // http://localhost:8080\n\n\n    @Bean\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\n\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\n\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\n\n        WebhookBot telegramBot = new WebhookBot(name, token);\n\n        SetWebhook setWebhook = new SetWebhook();\n        setWebhook.setUrl(webhookUri);\n\n        botsApi.registerBot(telegramBot, setWebhook);\n        \n        return telegramBot;\n    }\n\n}\n\n</code></pre>\n<pre><code>./ngrok http 8080\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679556461,"creation_date":1679555101,"answer_id":75820048,"question_id":75819990,"body_markdown":"You can `flatMap` twice. The intermediate `flatMap` flattens the stream to `Stream&lt;List&lt;Integer&gt;&gt;` - the scores of all students but grouped by subject.\r\n\r\n```\r\nStream&lt;Integer&gt; integerStream = Arrays.stream(students)\r\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\r\n    .flatMap(Collection::stream); // now flatten it again\r\n```","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>You can <code>flatMap</code> twice. The intermediate <code>flatMap</code> flattens the stream to <code>Stream&lt;List&lt;Integer&gt;&gt;</code> - the scores of all students but grouped by subject.</p>\n<pre><code>Stream&lt;Integer&gt; integerStream = Arrays.stream(students)\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\n    .flatMap(Collection::stream); // now flatten it again\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1679572123,"creation_date":1679554627,"question_id":75819990,"body_markdown":"How convert an array of students to Stream&lt;Integer&gt; all marks of all students?\r\n\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n```\r\n\r\n```\r\nclass Lesson6 {\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \r\n\r\n    }\r\n}\r\n\r\nclass StudenT {\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n         this.name = name;\r\n         this.marks = marks;\r\n     }\r\n\r\n     public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n}\r\n```\r\n","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>How convert an array of students to Stream all marks of all students?</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n</code></pre>\n<pre><code>class Lesson6 {\n    public static void main(String[] args) {\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \n\n    }\n}\n\nclass StudenT {\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n         this.name = name;\n         this.marks = marks;\n     }\n\n     public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","xss"],"answers":[{"tags":[],"owner":{"account_id":18326048,"reputation":56,"user_id":13345659,"display_name":"Sunny Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679571170,"creation_date":1679571170,"answer_id":75822450,"question_id":75822294,"body_markdown":"IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this [link](https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting). Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.","title":"Prevent xss attack on spring","body":"<p>IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this <a href=\"https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting\" rel=\"nofollow noreferrer\">link</a>. Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.</p>\n"}],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572057,"creation_date":1679570082,"question_id":75822294,"body_markdown":"\r\nIn my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\r\nThis is what I have done until now:\r\n\r\nIn web.xml I adedd as first:\r\n\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\r\n    &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nSecondly I added this filter:\r\n ```\r\n  &lt;filter&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nAnd then I addedd xssFilter:\r\n\r\n ```\r\n  &lt;filter&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nand copied the xssflt.jar in WEB-INF/lib.\r\n\r\nNow I&#39;m asking can be this enough and the correct way to prevent xss?\r\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\r\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?","title":"Prevent xss attack on spring","body":"<p>In my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\nThis is what I have done until now:</p>\n<p>In web.xml I adedd as first:</p>\n<pre><code>&lt;context-param&gt;\n&lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\n&lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Secondly I added this filter:</p>\n<pre><code> &lt;filter&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>And then I addedd xssFilter:</p>\n<pre><code> &lt;filter&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>and copied the xssflt.jar in WEB-INF/lib.</p>\n<p>Now I'm asking can be this enough and the correct way to prevent xss?\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?</p>\n"},{"tags":["java","performance","io","nfs"],"owner":{"account_id":1250833,"reputation":103,"user_id":1216437,"display_name":"ashishSinghT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679571836,"creation_date":1679571836,"question_id":75822564,"body_markdown":"I have a JSE application that writes files to a mountpoint in the network file system. The number of files created during the process can vary from 1 to 500,000. Each file varies in its size but on average it&#39;s 20KiB. Each file has a specific location, if the mountpoint is /etc/dir1 then file1 can be under /etc/dir1/dirX and file2 can be under /etc/dir1/dirY and so on.\r\n\r\nCurrently, I am checking the performance by calculating the write throughput like below:\r\n\r\n&#39;&#39;&#39; Total Data Transferred in MiB / Total Time Taken in Seconds &#39;&#39;&#39; \r\n\r\nHowever, this does not give consistent results. Current results show that the bandwidth throughput is inversely proportional to the number of files. Is there a better way to keep track of the performance than checking the throughput or is there a fault in the current calculation? I want to record the performance each time this tool is executed to keep track of the performance of NFS.","title":"How do I keep track of write performance to a network file system","body":"<p>I have a JSE application that writes files to a mountpoint in the network file system. The number of files created during the process can vary from 1 to 500,000. Each file varies in its size but on average it's 20KiB. Each file has a specific location, if the mountpoint is /etc/dir1 then file1 can be under /etc/dir1/dirX and file2 can be under /etc/dir1/dirY and so on.</p>\n<p>Currently, I am checking the performance by calculating the write throughput like below:</p>\n<p>''' Total Data Transferred in MiB / Total Time Taken in Seconds '''</p>\n<p>However, this does not give consistent results. Current results show that the bandwidth throughput is inversely proportional to the number of files. Is there a better way to keep track of the performance than checking the throughput or is there a fault in the current calculation? I want to record the performance each time this tool is executed to keep track of the performance of NFS.</p>\n"},{"tags":["java","android","react-native","react-native-reanimated"],"owner":{"account_id":12687682,"reputation":742,"user_id":9218897,"display_name":"Preetika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679571563,"creation_date":1679571563,"question_id":75822525,"body_markdown":"Upgraded to version: &quot;react-native-reanimated&quot;: &quot;^3.0.2&quot; with New Architecture for react native 0.71.3\r\n\r\nGetting the issue java.lang.NullPointerException: Here is the complete log:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.swmansion.reanimated.NativeProxy.performOperations()&#39; on a null object reference\r\n\tat com.swmansion.reanimated.NodesManager.performOperations(NodesManager.java:188)\r\n\tat com.swmansion.reanimated.NodesManager.onAnimationFrame(NodesManager.java:249)\r\n\tat com.swmansion.reanimated.NodesManager.access$000(NodesManager.java:42)\r\n\tat com.swmansion.reanimated.NodesManager$1.doFrameGuarded(NodesManager.java:142)\r\n\tat com.facebook.react.uimanager.GuardedFrameCallback.doFrame(GuardedFrameCallback.java:29)\r\n\tat com.facebook.react.modules.core.ReactChoreographer$ReactChoreographerDispatcher.doFrame(ReactChoreographer.java:175)\r\n\tat com.facebook.react.modules.core.ChoreographerCompat$FrameCallback$1.doFrame(ChoreographerCompat.java:85)\r\n\tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:1127)\r\n\tat android.view.Choreographer.doCallbacks(Choreographer.java:926)\r\n\tat android.view.Choreographer.doFrame(Choreographer.java:835)\r\n\tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1114)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:210)\r\n\tat android.os.Looper.loop(Looper.java:299)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8298)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:576)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1073)has context menuComposeParagraph\r\n```\r\n","title":"React native New Arch: Attempt to invoke virtual method &#39;void com.swmansion.reanimated.NativeProxy.performOperations()&#39;","body":"<p>Upgraded to version: &quot;react-native-reanimated&quot;: &quot;^3.0.2&quot; with New Architecture for react native 0.71.3</p>\n<p>Getting the issue java.lang.NullPointerException: Here is the complete log:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void com.swmansion.reanimated.NativeProxy.performOperations()' on a null object reference\n    at com.swmansion.reanimated.NodesManager.performOperations(NodesManager.java:188)\n    at com.swmansion.reanimated.NodesManager.onAnimationFrame(NodesManager.java:249)\n    at com.swmansion.reanimated.NodesManager.access$000(NodesManager.java:42)\n    at com.swmansion.reanimated.NodesManager$1.doFrameGuarded(NodesManager.java:142)\n    at com.facebook.react.uimanager.GuardedFrameCallback.doFrame(GuardedFrameCallback.java:29)\n    at com.facebook.react.modules.core.ReactChoreographer$ReactChoreographerDispatcher.doFrame(ReactChoreographer.java:175)\n    at com.facebook.react.modules.core.ChoreographerCompat$FrameCallback$1.doFrame(ChoreographerCompat.java:85)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1127)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:926)\n    at android.view.Choreographer.doFrame(Choreographer.java:835)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1114)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:210)\n    at android.os.Looper.loop(Looper.java:299)\n    at android.app.ActivityThread.main(ActivityThread.java:8298)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:576)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1073)has context menuComposeParagraph\n</code></pre>\n"},{"tags":["java","html","spring-boot","networking","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679572638,"post_id":75822474,"comment_id":133747331,"body_markdown":"Take a look at [WebSockets](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API) for one possible option. Spring has support for WebSockets (you can search for various tutorials).","body":"Take a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" rel=\"nofollow noreferrer\">WebSockets</a> for one possible option. Spring has support for WebSockets (you can search for various tutorials)."},{"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"score":0,"creation_date":1679598036,"post_id":75822474,"comment_id":133754604,"body_markdown":"I have added a Websocket and now i can send the moves played trough the console to the other player but im not quite sure how i use this to set the field. I dont know how i can access the move method for example.","body":"I have added a Websocket and now i can send the moves played trough the console to the other player but im not quite sure how i use this to set the field. I dont know how i can access the move method for example."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679599418,"post_id":75822474,"comment_id":133754922,"body_markdown":"You can ask a new, specific question describing this new, specific problem (with a new [mre]).","body":"You can ask a new, specific question describing this new, specific problem (with a new <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."}],"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679571284,"creation_date":1679571284,"question_id":75822474,"body_markdown":"I am coding a little Chess game and if i move a piece i want it to change on all Users Websites which it does but only after refreshing the page. How do i automatically refresh or send the Move directly to different Users?\r\n\r\n```\r\npackage com.example.handandbrainchess;\r\n\r\nimport com.example.handandbrainchess.Service.ApplicationService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class WebController {\r\n\r\n    private final ApplicationService service;\r\n    private Integer moveRow1;\r\n    private Integer moveRow2;\r\n    private Integer moveColumn1;\r\n    private Integer moveColumn2;\r\n    public WebController(ApplicationService service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model m){\r\n        m.addAttribute(&quot;Feld&quot;,service.getFeld());\r\n        return &quot;start&quot;;\r\n    }\r\n    @GetMapping(&quot;/move&quot;)\r\n    public String move(Model m, @RequestParam(&quot;idrow&quot;) int idrow, @RequestParam(&quot;idcolumn&quot;) int idcolumn){\r\n      //  System.out.println(&quot;Reihe: &quot; + idrow + &quot; Spalte: &quot;+ idcolumn);\r\n      //  m.addAttribute(&quot;Feld&quot;,service.getFeld());\r\n        if(moveRow1 == null){\r\n            moveRow1 = idrow;\r\n        }\r\n        else if(moveRow2 == null){\r\n            moveRow2 = idrow;\r\n        }\r\n        if(moveColumn1 == null){\r\n            moveColumn1 = idcolumn;\r\n        }else if(moveColumn2 == null){\r\n            moveColumn2 = idcolumn;\r\n        }\r\n        if(moveRow2 != null &amp;&amp; moveColumn2 != null){\r\n            service.move(moveRow1,moveColumn1,moveRow2,moveColumn2); //after this refresh\r\n            moveRow1 = null;\r\n            moveRow2 = null;\r\n            moveColumn1 = null;\r\n            moveColumn2= null;\r\n        }\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String init(){\r\n        service.init();\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\nThis is currently my Controller and after /move when service.move gets called i want it to refresh.\r\n\r\nIts my first Project with Spring Boot and HttpServelt in general.\r\nSo i dont really know what i can try to do.","title":"Spring Boot with Thymeleaf: Is there a Way to refresh page automaticly for different User? (Or send Data from Endpoint to Endpoint)","body":"<p>I am coding a little Chess game and if i move a piece i want it to change on all Users Websites which it does but only after refreshing the page. How do i automatically refresh or send the Move directly to different Users?</p>\n<pre><code>package com.example.handandbrainchess;\n\nimport com.example.handandbrainchess.Service.ApplicationService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class WebController {\n\n    private final ApplicationService service;\n    private Integer moveRow1;\n    private Integer moveRow2;\n    private Integer moveColumn1;\n    private Integer moveColumn2;\n    public WebController(ApplicationService service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String index(Model m){\n        m.addAttribute(&quot;Feld&quot;,service.getFeld());\n        return &quot;start&quot;;\n    }\n    @GetMapping(&quot;/move&quot;)\n    public String move(Model m, @RequestParam(&quot;idrow&quot;) int idrow, @RequestParam(&quot;idcolumn&quot;) int idcolumn){\n      //  System.out.println(&quot;Reihe: &quot; + idrow + &quot; Spalte: &quot;+ idcolumn);\n      //  m.addAttribute(&quot;Feld&quot;,service.getFeld());\n        if(moveRow1 == null){\n            moveRow1 = idrow;\n        }\n        else if(moveRow2 == null){\n            moveRow2 = idrow;\n        }\n        if(moveColumn1 == null){\n            moveColumn1 = idcolumn;\n        }else if(moveColumn2 == null){\n            moveColumn2 = idcolumn;\n        }\n        if(moveRow2 != null &amp;&amp; moveColumn2 != null){\n            service.move(moveRow1,moveColumn1,moveRow2,moveColumn2); //after this refresh\n            moveRow1 = null;\n            moveRow2 = null;\n            moveColumn1 = null;\n            moveColumn2= null;\n        }\n        return &quot;redirect:/&quot;;\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public String init(){\n        service.init();\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>This is currently my Controller and after /move when service.move gets called i want it to refresh.</p>\n<p>Its my first Project with Spring Boot and HttpServelt in general.\nSo i dont really know what i can try to do.</p>\n"},{"tags":["java","mysql","spring-boot","flyway"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679570609,"creation_date":1679570609,"answer_id":75822374,"question_id":75821286,"body_markdown":"It seems you have encountered &lt;a href=&quot;https://github.com/flyway/flyway/issues/3616&quot;&gt;bug #3616&lt;/a&gt; in Flyway, and also that you are using the Turkish locale. This bug reports the exact same behaviour that you are seeing.\r\n\r\nYou are using Flyway 9.14.1. Try updating Flyway to version 9.15 or later.","title":"FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]","body":"<p>It seems you have encountered <a href=\"https://github.com/flyway/flyway/issues/3616\" rel=\"nofollow noreferrer\">bug #3616</a> in Flyway, and also that you are using the Turkish locale. This bug reports the exact same behaviour that you are seeing.</p>\n<p>You are using Flyway 9.14.1. Try updating Flyway to version 9.15 or later.</p>\n"}],"owner":{"account_id":26342844,"reputation":204,"user_id":20001685,"display_name":"omers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75822374,"answer_count":1,"score":0,"last_activity_date":1679570609,"creation_date":1679563933,"question_id":75821286,"body_markdown":"I&#39;m trying to run spring boot application using flyway and Mysql database. When I run the application,   I&#39;m getting below error. \r\n\r\n````\r\nCaused by: org.flywaydb.core.api.FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]\r\n\tat org.flywaydb.core.api.pattern.ValidatePattern.fromPattern(ValidatePattern.java:70) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.util.ValidatePatternUtils.lambda$isIgnoredIgnored$3(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\r\n\tat java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230) ~[na:na]\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632) ~[na:na]\r\n\tat org.flywaydb.core.internal.util.ValidatePatternUtils.isIgnoredIgnored(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoContext.isIgnoredIgnored(MigrationInfoContext.java:43) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoImpl.validate(MigrationInfoImpl.java:251) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoServiceImpl.validate(MigrationInfoServiceImpl.java:511) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:111) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.doValidate(Flyway.java:365) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:133) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:129) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 18 common frames omitted\r\n````\r\npom.xml\r\n````\r\n  &lt;groupId&gt;net.sayilir&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-application&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-application&lt;/name&gt;\r\n\t&lt;description&gt;An example project demonstrates testing Spring Kafka&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;flyway.version&gt;9.14.1&lt;/flyway.version&gt;\r\n\t\t&lt;flyway.url&gt;jdbc:mysql://localhost:3306/test&lt;/flyway.url&gt;\r\n\t\t&lt;flyway.user&gt;***&lt;/flyway.user&gt;\r\n\t\t&lt;flyway.password&gt;***&lt;/flyway.password&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n````\r\n\r\n\r\nI try to clean or repair but it doesn&#39;t work\r\n\r\n```\r\n./mvnw flyway:clean \r\n```\r\n\r\n```\r\n./mvnw flyway:repair\r\n```\r\n\r\n","title":"FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]","body":"<p>I'm trying to run spring boot application using flyway and Mysql database. When I run the application,   I'm getting below error.</p>\n<pre><code>Caused by: org.flywaydb.core.api.FlywayException: Invalid migration state 'ignored'. Valid states are: [*, missing, pending, ıgnored, future]\n    at org.flywaydb.core.api.pattern.ValidatePattern.fromPattern(ValidatePattern.java:70) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.util.ValidatePatternUtils.lambda$isIgnoredIgnored$3(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230) ~[na:na]\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632) ~[na:na]\n    at org.flywaydb.core.internal.util.ValidatePatternUtils.isIgnoredIgnored(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoContext.isIgnoredIgnored(MigrationInfoContext.java:43) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoImpl.validate(MigrationInfoImpl.java:251) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.validate(MigrationInfoServiceImpl.java:511) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:111) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:365) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:133) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:129) ~[flyway-core-9.14.1.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 18 common frames omitted\n</code></pre>\n<p>pom.xml</p>\n<pre><code>  &lt;groupId&gt;net.sayilir&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-application&lt;/name&gt;\n    &lt;description&gt;An example project demonstrates testing Spring Kafka&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;flyway.version&gt;9.14.1&lt;/flyway.version&gt;\n        &lt;flyway.url&gt;jdbc:mysql://localhost:3306/test&lt;/flyway.url&gt;\n        &lt;flyway.user&gt;***&lt;/flyway.user&gt;\n        &lt;flyway.password&gt;***&lt;/flyway.password&gt;\n    &lt;/properties&gt;\n\n\n</code></pre>\n<p>I try to clean or repair but it doesn't work</p>\n<pre><code>./mvnw flyway:clean \n</code></pre>\n<pre><code>./mvnw flyway:repair\n</code></pre>\n"},{"tags":["java","jquery","arrays","android-studio-3.0","android-camera2"],"owner":{"account_id":27959189,"reputation":1,"user_id":21351414,"display_name":"FELIPE EDUARDO ROJAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679570461,"creation_date":1679496978,"question_id":75813871,"body_markdown":"the getDefaultDisplay() method is deprecated and I don&#39;t know how to update it to make my code work more efficiently.\r\n\r\ntry this:\r\nDisplay display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n                int rotation = display.getRotation();\r\n\r\nbut it didn&#39;t work, it ends up giving me an error in captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n```\r\nImageReader reader = ImageReader.newInstance(whdth, height, ImageFormat.JPEG, 1);\r\n                List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\r\n                outputSurfaces.add(reader.getSurface());\r\n                outputSurfaces.add(new Surface((textureView.getSurfaceTexture())));\r\n                final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n                captureBuilder.addTarget(reader.getSurface());\r\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n                //Orientacion\r\n                int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n                /*//la actualizacion de getDefaultDisplay() seria mas o menos como se ve acontinuacion:\r\n                Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n                int rotation = display.getRotation();\r\n                //Actualizacion getDefaultDisplay(); ↑*/\r\n                captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n                file = null;\r\n                folder = new File(folderName);\r\n                String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;).format(new Date());\r\n                String imageFileName = &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;;\r\n                file = new File(getExternalFilesDir(folderName), &quot;/&quot; + imageFileName);\r\n                if ( !folder.exists()){\r\n                    folder.mkdirs();\r\n```\r\n","title":"Android getDefaultDisplay() method is deprecated and I don&#39;t know how to update it to make my code work more efficiently","body":"<p>the getDefaultDisplay() method is deprecated and I don't know how to update it to make my code work more efficiently.</p>\n<p>try this:\nDisplay display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\nint rotation = display.getRotation();</p>\n<p>but it didn't work, it ends up giving me an error in captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));</p>\n<pre><code>ImageReader reader = ImageReader.newInstance(whdth, height, ImageFormat.JPEG, 1);\n                List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\n                outputSurfaces.add(reader.getSurface());\n                outputSurfaces.add(new Surface((textureView.getSurfaceTexture())));\n                final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n                captureBuilder.addTarget(reader.getSurface());\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n                //Orientacion\n                int rotation = getWindowManager().getDefaultDisplay().getRotation();\n                /*//la actualizacion de getDefaultDisplay() seria mas o menos como se ve acontinuacion:\n                Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\n                int rotation = display.getRotation();\n                //Actualizacion getDefaultDisplay(); ↑*/\n                captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\n                file = null;\n                folder = new File(folderName);\n                String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;).format(new Date());\n                String imageFileName = &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;;\n                file = new File(getExternalFilesDir(folderName), &quot;/&quot; + imageFileName);\n                if ( !folder.exists()){\n                    folder.mkdirs();\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"score":0,"creation_date":1679505269,"post_id":75813611,"comment_id":133735491,"body_markdown":"Is the time stamp adjusted for your local time zone?","body":"Is the time stamp adjusted for your local time zone?"},{"owner":{"account_id":28086830,"reputation":1,"user_id":21457071,"display_name":"ddezzz12"},"score":0,"creation_date":1679511848,"post_id":75813611,"comment_id":133737073,"body_markdown":"Yes, time stamp implements by LocalDateTime.now().","body":"Yes, time stamp implements by LocalDateTime.now()."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1679514759,"post_id":75813611,"comment_id":133737736,"body_markdown":"You didn&#39;t say which assertion actually fails, but the threads created by your `newThread` function only add anything to the `resultList` if the given `Runnable&#160;r` throws an exception. If the `fineThreads` Runnables don&#39;t throw any exception, then those will not add any results to the list. I would _expect_ the `assertEquals(shortThreadsCount,&#160;shortResults.size())` assertion to fail.","body":"You didn&#39;t say which assertion actually fails, but the threads created by your <code>newThread</code> function only add anything to the <code>resultList</code> if the given <code>Runnable r</code> throws an exception. If the <code>fineThreads</code> Runnables don&#39;t throw any exception, then those will not add any results to the list. I would <i>expect</i> the <code>assertEquals(shortThreadsCount, shortResults.size())</code> assertion to fail."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569909,"creation_date":1679569909,"answer_id":75822262,"question_id":75813611,"body_markdown":"If you want to run a thread and than monitor when it finished execution and get its result read about [ScheduledExecutorService][1] interface. It provides out of the box solution for your problem\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"How get a list of results of finished threads?","body":"<p>If you want to run a thread and than monitor when it finished execution and get its result read about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> interface. It provides out of the box solution for your problem</p>\n"}],"owner":{"account_id":28086830,"reputation":1,"user_id":21457071,"display_name":"ddezzz12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679569909,"creation_date":1679495639,"question_id":75813611,"body_markdown":"Methods description:\r\n\r\nThread newThread (Runnable runnable)\r\nCreates and registers a new Thread. Name of the thread should be &quot;&lt;thread-union-name&gt;-worker-n&quot;, where n is a number of a thread. A ThreadUnion must monitor execution of a created thread - refer to results() method.\r\n\r\nList&lt;FinishedThreadResult&gt; results()\r\nReturns a list of results of finished threads. No results must be returned for threads that are not finished yet. A result must contain a thread name, a timestamp when it finished execution and a Throwable if it was thrown\r\n\r\nNote that your ThreadUnion implementation should be thread-safe and support concurrent thread generating.                   \r\n```\r\npublic FinishedThreadResult(final String threadName) {\r\n        this(threadName, null);\r\n    }\r\n\r\n    public FinishedThreadResult(final String threadName, final Throwable throwable) {\r\n        this.threadName = threadName;\r\n        this.throwable = throwable;\r\n        this.finished = LocalDateTime.now();\r\n    }\r\n\r\n    public String getThreadName() {\r\n        return threadName;\r\n    }\r\n\r\n    public LocalDateTime getFinished() {\r\n        return finished;\r\n    }\r\n\r\n    public Throwable getThrowable() {\r\n        return throwable;\r\n    }        \r\n```\r\nTest:       \r\n```\r\n void testResults() {\r\n        ...\r\n        final ThreadUnion threadUnion = ThreadUnion.newInstance(unionName);\r\n\r\n        final Set&lt;RuntimeException&gt; exceptionsToThrow = ...;\r\n        final int fineThreadsCount = 3;\r\n        final int longThreadsCount = 2;\r\n        final int shortThreadsCount = fineThreadsCount + exceptionsToThrow.size();\r\n        final int allResultsCount = fineThreadsCount + longThreadsCount + exceptionsToThrow.size();\r\n\r\n        final List&lt;Thread&gt; exceptionThreads = exceptionsToThrow.stream()\r\n                .map(e -&gt; threadUnion.newThread(() -&gt; throwException(e)))\r\n                .collect(toList());\r\n\r\n        final List&lt;Thread&gt; fineThreads = Stream.generate(() -&gt; threadUnion.newThread(this::printThreadName))\r\n                .limit(fineThreadsCount)\r\n                .collect(toList());\r\n\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        final List&lt;Thread&gt; longThreads = Stream.generate(() -&gt; threadUnion.newThread(() -&gt; awaitLatch(latch)))\r\n                .limit(longThreadsCount)\r\n                .collect(toList());\r\n\r\n        final LocalDateTime beforeStart = LocalDateTime.now();\r\n        final LocalDateTime afterStart;\r\n        final LocalDateTime afterShortThreadsFinish;\r\n        final LocalDateTime afterLongThreadsFinish;\r\n\r\n        final List&lt;FinishedThreadResult&gt; shortResults;\r\n\r\n        try {\r\n            startThreads(exceptionThreads, fineThreads, longThreads);\r\n            afterStart = LocalDateTime.now();\r\n\r\n            joinThreads(exceptionThreads, fineThreads);\r\n            afterShortThreadsFinish = LocalDateTime.now();\r\n\r\n            shortResults = threadUnion.results();\r\n            assertEquals(shortThreadsCount, shortResults.size());\r\n            assertEquals(expectedNames(unionName, 0, shortThreadsCount), resultThreadNames(shortResults));\r\n            //!FAILs\r\n            shortResults.stream()\r\n                    .map(FinishedThreadResult::getFinished)\r\n                    .forEach(finished -&gt; assertAll(\r\n                            () -&gt; {\r\n                                System.out.println(&quot;before &quot;+beforeStart);\r\n                                System.out.println(&quot;tread &quot; + finished.toString());\r\n                                assertFalse(finished.isBefore(beforeStart));\r\n                            },\r\n                            () -&gt; {\r\n                                System.out.println(&quot;after &quot;+afterShortThreadsFinish);\r\n                                assertFalse(finished.isAfter(afterShortThreadsFinish));\r\n                            }\r\n                    ));\r\n\r\n            assertEquals(exceptionsToThrow, collectThrowables(shortResults));  \r\n```\r\n                                                                              \r\n\r\nI tried:\r\n\r\n```\r\n  private final String nameThread;\r\n    private final Collection&lt;Thread&gt; syncResultsThreadList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\r\n    private final Collection&lt;FinishedThreadResult&gt; resultList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\r\n    private final AtomicInteger numberThreads = new AtomicInteger(0);\r\n    private final Map&lt;Thread, FinishedThreadResult&gt; resultMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n...\r\n@Override\r\n    public Thread newThread(Runnable r) {\r\n\r\n        Thread thread = new Thread( r, nameThread + &quot;-worker-&quot; + numberThreads.get());\r\n        numberThreads.incrementAndGet();\r\n\r\n        syncResultsThreadList.add(thread);\r\n        thread.setUncaughtExceptionHandler((t, throwable) -&gt; {\r\n                resultList.add(new FinishedThreadResult(thread.getName(), throwable));\r\n            });\r\n        return thread;\r\n     }\r\n\r\n @Override\r\n    public  List&lt;FinishedThreadResult&gt; results() {\r\n         List&lt;FinishedThreadResult&gt; results = new ArrayList&lt;&gt;();\r\n        for (Thread tr : syncResultsThreadList) {\r\n                resultMap.put(tr, new FinishedThreadResult(tr.getName()));\r\n            }\r\n\r\n        if (resultList.size() &gt; 0) {\r\n            for (FinishedThreadResult ftr : resultList) {\r\n                resultMap.forEach((t, f) -&gt; {\r\n                   if (Objects.equals(f.getThreadName(), ftr.getThreadName())) {\r\n                        resultMap.replace(t, f, ftr);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        resultMap.forEach((t, f) -&gt; {\r\n            if (!t.isAlive()) {\r\n                results.add(f);\r\n           }\r\n        });\r\n\r\n        return Collections.unmodifiableList(results);\r\n    }\r\n\r\n```\r\nBut sometimes timestamp is wrong. And sometimes throws java.util.ConcurrentModificationException.","title":"How get a list of results of finished threads?","body":"<p>Methods description:</p>\n<p>Thread newThread (Runnable runnable)\nCreates and registers a new Thread. Name of the thread should be &quot;-worker-n&quot;, where n is a number of a thread. A ThreadUnion must monitor execution of a created thread - refer to results() method.</p>\n<p>List results()\nReturns a list of results of finished threads. No results must be returned for threads that are not finished yet. A result must contain a thread name, a timestamp when it finished execution and a Throwable if it was thrown</p>\n<p>Note that your ThreadUnion implementation should be thread-safe and support concurrent thread generating.</p>\n<pre><code>public FinishedThreadResult(final String threadName) {\n        this(threadName, null);\n    }\n\n    public FinishedThreadResult(final String threadName, final Throwable throwable) {\n        this.threadName = threadName;\n        this.throwable = throwable;\n        this.finished = LocalDateTime.now();\n    }\n\n    public String getThreadName() {\n        return threadName;\n    }\n\n    public LocalDateTime getFinished() {\n        return finished;\n    }\n\n    public Throwable getThrowable() {\n        return throwable;\n    }        \n</code></pre>\n<p>Test:</p>\n<pre><code> void testResults() {\n        ...\n        final ThreadUnion threadUnion = ThreadUnion.newInstance(unionName);\n\n        final Set&lt;RuntimeException&gt; exceptionsToThrow = ...;\n        final int fineThreadsCount = 3;\n        final int longThreadsCount = 2;\n        final int shortThreadsCount = fineThreadsCount + exceptionsToThrow.size();\n        final int allResultsCount = fineThreadsCount + longThreadsCount + exceptionsToThrow.size();\n\n        final List&lt;Thread&gt; exceptionThreads = exceptionsToThrow.stream()\n                .map(e -&gt; threadUnion.newThread(() -&gt; throwException(e)))\n                .collect(toList());\n\n        final List&lt;Thread&gt; fineThreads = Stream.generate(() -&gt; threadUnion.newThread(this::printThreadName))\n                .limit(fineThreadsCount)\n                .collect(toList());\n\n        CountDownLatch latch = new CountDownLatch(1);\n        final List&lt;Thread&gt; longThreads = Stream.generate(() -&gt; threadUnion.newThread(() -&gt; awaitLatch(latch)))\n                .limit(longThreadsCount)\n                .collect(toList());\n\n        final LocalDateTime beforeStart = LocalDateTime.now();\n        final LocalDateTime afterStart;\n        final LocalDateTime afterShortThreadsFinish;\n        final LocalDateTime afterLongThreadsFinish;\n\n        final List&lt;FinishedThreadResult&gt; shortResults;\n\n        try {\n            startThreads(exceptionThreads, fineThreads, longThreads);\n            afterStart = LocalDateTime.now();\n\n            joinThreads(exceptionThreads, fineThreads);\n            afterShortThreadsFinish = LocalDateTime.now();\n\n            shortResults = threadUnion.results();\n            assertEquals(shortThreadsCount, shortResults.size());\n            assertEquals(expectedNames(unionName, 0, shortThreadsCount), resultThreadNames(shortResults));\n            //!FAILs\n            shortResults.stream()\n                    .map(FinishedThreadResult::getFinished)\n                    .forEach(finished -&gt; assertAll(\n                            () -&gt; {\n                                System.out.println(&quot;before &quot;+beforeStart);\n                                System.out.println(&quot;tread &quot; + finished.toString());\n                                assertFalse(finished.isBefore(beforeStart));\n                            },\n                            () -&gt; {\n                                System.out.println(&quot;after &quot;+afterShortThreadsFinish);\n                                assertFalse(finished.isAfter(afterShortThreadsFinish));\n                            }\n                    ));\n\n            assertEquals(exceptionsToThrow, collectThrowables(shortResults));  \n</code></pre>\n<p>I tried:</p>\n<pre><code>  private final String nameThread;\n    private final Collection&lt;Thread&gt; syncResultsThreadList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\n    private final Collection&lt;FinishedThreadResult&gt; resultList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\n    private final AtomicInteger numberThreads = new AtomicInteger(0);\n    private final Map&lt;Thread, FinishedThreadResult&gt; resultMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n...\n@Override\n    public Thread newThread(Runnable r) {\n\n        Thread thread = new Thread( r, nameThread + &quot;-worker-&quot; + numberThreads.get());\n        numberThreads.incrementAndGet();\n\n        syncResultsThreadList.add(thread);\n        thread.setUncaughtExceptionHandler((t, throwable) -&gt; {\n                resultList.add(new FinishedThreadResult(thread.getName(), throwable));\n            });\n        return thread;\n     }\n\n @Override\n    public  List&lt;FinishedThreadResult&gt; results() {\n         List&lt;FinishedThreadResult&gt; results = new ArrayList&lt;&gt;();\n        for (Thread tr : syncResultsThreadList) {\n                resultMap.put(tr, new FinishedThreadResult(tr.getName()));\n            }\n\n        if (resultList.size() &gt; 0) {\n            for (FinishedThreadResult ftr : resultList) {\n                resultMap.forEach((t, f) -&gt; {\n                   if (Objects.equals(f.getThreadName(), ftr.getThreadName())) {\n                        resultMap.replace(t, f, ftr);\n                    }\n                });\n            }\n        }\n\n        resultMap.forEach((t, f) -&gt; {\n            if (!t.isAlive()) {\n                results.add(f);\n           }\n        });\n\n        return Collections.unmodifiableList(results);\n    }\n\n</code></pre>\n<p>But sometimes timestamp is wrong. And sometimes throws java.util.ConcurrentModificationException.</p>\n"},{"tags":["java","j-security-check"],"owner":{"account_id":13677737,"reputation":9,"user_id":9868784,"display_name":"Arnau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679569507,"creation_date":1679569507,"question_id":75822189,"body_markdown":"I have an app with protected directory, so when I enter in it asks for username and password in a form, with the action &quot;j_security_check&quot; and &quot;j_username&quot; and &quot;j_password&quot;. j_security its working fine, because if I put wrong credentials it redirects to the form, and if I put correct ones, it redirects to the original url I was trying to go.\r\nThe problem is when login is successfull, because the redirection to the protected file returns a 404, and the url is fine. Its very weird. Im stuck with this since a few days ago, and its very frustrating.\r\n\r\nHope somebody could help me.\r\n\r\nThank you,","title":"Java j_security_check 404","body":"<p>I have an app with protected directory, so when I enter in it asks for username and password in a form, with the action &quot;j_security_check&quot; and &quot;j_username&quot; and &quot;j_password&quot;. j_security its working fine, because if I put wrong credentials it redirects to the form, and if I put correct ones, it redirects to the original url I was trying to go.\nThe problem is when login is successfull, because the redirection to the protected file returns a 404, and the url is fine. Its very weird. Im stuck with this since a few days ago, and its very frustrating.</p>\n<p>Hope somebody could help me.</p>\n<p>Thank you,</p>\n"},{"tags":["java","database","servlets","jdbc"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1679518908,"post_id":75817203,"comment_id":133738650,"body_markdown":"If you&#39;re not using a connection pool, making your code much more fragile, then you&#39;ll need to create and destroy the connection every time.  You cannot guarantee that the DB server connection will remain usable throughout the life cycle of your servlet.  Note that this is a terrible way to do it and will slow down your application but it will work.","body":"If you&#39;re not using a connection pool, making your code much more fragile, then you&#39;ll need to create and destroy the connection every time.  You cannot guarantee that the DB server connection will remain usable throughout the life cycle of your servlet.  Note that this is a terrible way to do it and will slow down your application but it will work."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":3,"creation_date":1679519305,"post_id":75817203,"comment_id":133738719,"body_markdown":"Just use a connection pool. The lowest number of users I would need to be planning for in order to decide to use a connection pool is 1.","body":"Just use a connection pool. The lowest number of users I would need to be planning for in order to decide to use a connection pool is 1."},{"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"score":0,"creation_date":1679519469,"post_id":75817203,"comment_id":133738749,"body_markdown":"@stdunbar, thanks for your reply, does this mean that I&#39;m just establishing connection only once for many http requests, I cannot guarantee that this connection is in a &quot;good&quot; condition at all time, and if this connection is broken, my application will crush because I just established db connection only once at the begin of my Servlet.","body":"@stdunbar, thanks for your reply, does this mean that I&#39;m just establishing connection only once for many http requests, I cannot guarantee that this connection is in a &quot;good&quot; condition at all time, and if this connection is broken, my application will crush because I just established db connection only once at the begin of my Servlet."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1679520313,"post_id":75817203,"comment_id":133738946,"body_markdown":"It’s worse than that. This example will share the same connection between multiple concurrent requests, but connection is not threadsafe. So, this will cause problems even if the connection to the server is fine.","body":"It’s worse than that. This example will share the same connection between multiple concurrent requests, but connection is not threadsafe. So, this will cause problems even if the connection to the server is fine."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1679527838,"post_id":75817203,"comment_id":133740203,"body_markdown":"As soon as you are in doGet or display take the arts in immediately into a new processing method using the synchronized keyword on the method. All methods called in that must then use the synchronized keyword  If you are using classForName() you load it once in the server but must close your queries , resultsets e.t.c. , the Main problems with connections is timeout and statelessness. You should close connection each query only because it is stateless with classForName() in that situation unlike connection pools.","body":"As soon as you are in doGet or display take the arts in immediately into a new processing method using the synchronized keyword on the method. All methods called in that must then use the synchronized keyword  If you are using classForName() you load it once in the server but must close your queries , resultsets e.t.c. , the Main problems with connections is timeout and statelessness. You should close connection each query only because it is stateless with classForName() in that situation unlike connection pools."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679565620,"post_id":75817203,"comment_id":133745649,"body_markdown":"The recommended way is to configure your database connection as a connection pool in the container (in your case Tomcat) and provide it to the web application via JNDI. the web application should not care about opening and closing the database connection at all but obtain the pre-configured database connection via JNDI.","body":"The recommended way is to configure your database connection as a connection pool in the container (in your case Tomcat) and provide it to the web application via JNDI. the web application should not care about opening and closing the database connection at all but obtain the pre-configured database connection via JNDI."}],"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679569355,"answer_count":0,"score":0,"last_activity_date":1679569369,"creation_date":1679518571,"question_id":75817203,"body_markdown":"I currently learn the JSP &amp; Servlet in java web with tomcat 9.0, \r\n\r\n- I saw [some websites](https://www.tutorialspoint.com/servlets/servlets-life-cycle.htm) say that a servlet will be initialized only once, and the `destroy()` method will be called when the server want to terminate the life of that servlet,\r\n\r\n- and a servlet will be used for multiple same type requests, http request for example,\r\n\r\n- and database connection resources are important.\r\n\r\nSo, I think, I should **make the `Connection object` as a member of my Servlet** so that I won&#39;t need to establish a new connection every time when there is a new http request, and **close the connection when the servlet is destroyed**. \r\n\r\nlike this:\r\n\r\n```java\r\npublic class LoginServlet extends HttpServlet {\r\n    private Connection conn;\r\n\r\n    // init, get mysql Connection\r\n    public TeamBlueServlet() {\r\n        initiate();\r\n    }\r\n\r\n    private void initiate() {\r\n        // do something and get connection...\r\n        this.conn = controller.getConnection();\r\n       \r\n    }\r\n\r\n    // close connection in this method\r\n    @Override\r\n    public void destroy() {\r\n         // try, catch\r\n         this.conn.close();\r\n    }\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        // do some query\r\n        try {\r\n            ResultSet resultSet = ...;\r\n            PreparedStatement statement = ...;\r\n        } catch (SQLException e) {\r\n            ...\r\n        } finally {\r\n            close(statement, resultSet);\r\n        }\r\n    }\r\n\r\n    private void close(PreparedStatement sta, ResultSet rs) {\r\n        try {\r\n            if(sta !=null) sta.close();\r\n        } catch (SQLException e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n\r\n        try {\r\n            if(rs !=null) rs.close();\r\n        } catch (SQLException e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut I also [saw some](https://stackoverflow.com/a/4111621/16317008) say that we should, open connections as late as possible &amp; close connections as soon as possible. \r\n\r\nTherefore I get confused, **I want to know if I need to make the connection and close it with each query or should I keep the connection open**? I know there is something called connection pool probably can solve this problem, but I want to know in this case, which would be better. \r\n\r\nAny help would appreciate, thanks. ","title":"Should I close database connection every time after every query or insert?","body":"<p>I currently learn the JSP &amp; Servlet in java web with tomcat 9.0,</p>\n<ul>\n<li><p>I saw <a href=\"https://www.tutorialspoint.com/servlets/servlets-life-cycle.htm\" rel=\"nofollow noreferrer\">some websites</a> say that a servlet will be initialized only once, and the <code>destroy()</code> method will be called when the server want to terminate the life of that servlet,</p>\n</li>\n<li><p>and a servlet will be used for multiple same type requests, http request for example,</p>\n</li>\n<li><p>and database connection resources are important.</p>\n</li>\n</ul>\n<p>So, I think, I should <strong>make the <code>Connection object</code> as a member of my Servlet</strong> so that I won't need to establish a new connection every time when there is a new http request, and <strong>close the connection when the servlet is destroyed</strong>.</p>\n<p>like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginServlet extends HttpServlet {\n    private Connection conn;\n\n    // init, get mysql Connection\n    public TeamBlueServlet() {\n        initiate();\n    }\n\n    private void initiate() {\n        // do something and get connection...\n        this.conn = controller.getConnection();\n       \n    }\n\n    // close connection in this method\n    @Override\n    public void destroy() {\n         // try, catch\n         this.conn.close();\n    }\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        // do some query\n        try {\n            ResultSet resultSet = ...;\n            PreparedStatement statement = ...;\n        } catch (SQLException e) {\n            ...\n        } finally {\n            close(statement, resultSet);\n        }\n    }\n\n    private void close(PreparedStatement sta, ResultSet rs) {\n        try {\n            if(sta !=null) sta.close();\n        } catch (SQLException e) {\n            logger.error(e.getMessage());\n        }\n\n        try {\n            if(rs !=null) rs.close();\n        } catch (SQLException e) {\n            logger.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>But I also <a href=\"https://stackoverflow.com/a/4111621/16317008\">saw some</a> say that we should, open connections as late as possible &amp; close connections as soon as possible.</p>\n<p>Therefore I get confused, <strong>I want to know if I need to make the connection and close it with each query or should I keep the connection open</strong>? I know there is something called connection pool probably can solve this problem, but I want to know in this case, which would be better.</p>\n<p>Any help would appreciate, thanks.</p>\n"},{"tags":["java","inheritance","polymorphism"],"answers":[{"tags":[],"owner":{"account_id":5379259,"reputation":7396,"user_id":4601149,"accept_rate":88,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570353892,"creation_date":1570349622,"answer_id":58255419,"question_id":58255295,"body_markdown":"In `Mayan` you have the fields\r\n\r\n    protected String name;\r\n    protected int numSpeakers;\r\n\r\nRemoving these will fix your issue. The reason this issue is happening is because when you define the two lines above, you are hiding the two fields from `Language` and you would have to access the fields from `Language` like `super.name`, `super.numSpeakers`, etc...\r\n\r\nSomething like the following is what you are probably after.\r\n\r\n    public class Mayan extends Language {\r\n        private static final String REGION = &quot;Central America&quot;;\r\n        private static final String WORD_ORDER = &quot;verb-object-subject&quot;;\r\n    \r\n        public Mayan(String languageName, int speakers) {\r\n            super(languageName, speakers, REGION, WORD_ORDER);\r\n        }\r\n    \r\n        @Override\r\n        public void getInfo() {\r\n            super.getInfo();\r\n            System.out.println(&quot;Fun fact: &quot; + name + &quot; is an ergative language.&quot;);\r\n        }\r\n    }\r\n\r\n___\r\n\r\nAs Gavin pointed out, the access modifiers can be restricted. If you are working within a single package for your program, you might end up with something like\r\n\r\n*Language.java*\r\n\r\n    class Language {\r\n        String name;\r\n        private int numSpeakers;\r\n        private String regionsSpoken;\r\n        private String wordOrder;\r\n\r\n        Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder) {\r\n            this.name = getName;\r\n            this.numSpeakers = getNumSpeakers;\r\n            this.regionsSpoken = getRegionsSpoken;\r\n            this.wordOrder = getWordOrder;\r\n        }\r\n\r\n        void getInfo() {\r\n            System.out.println(name + &quot; is spoken by &quot; + numSpeakers + &quot;  people mainly in &quot; + regionsSpoken);\r\n            System.out.println(&quot;The language follows the word order: &quot; + wordOrder);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Mayan mayanLanguage = new Mayan(&quot;Ki&#39;che&#39;&quot;,30000);\r\n            mayanLanguage.getInfo();\r\n        }\r\n    }\r\n\r\n\r\n*Mayan.java*\r\n\r\n    class Mayan extends Language {\r\n        private static final String REGION = &quot;Central America&quot;;\r\n        private static final String WORD_ORDER = &quot;verb-object-subject&quot;;\r\n\r\n        Mayan(String languageName, int speakers) {\r\n            super(languageName, speakers, REGION, WORD_ORDER);\r\n        }\r\n\r\n        @Override\r\n        void getInfo() {\r\n            super.getInfo();\r\n            System.out.println(&quot;Fun fact: &quot; + name + &quot; is an ergative language.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Why child class method is printing null ? What am i doing wrong?","body":"<p>In <code>Mayan</code> you have the fields</p>\n\n<pre><code>protected String name;\nprotected int numSpeakers;\n</code></pre>\n\n<p>Removing these will fix your issue. The reason this issue is happening is because when you define the two lines above, you are hiding the two fields from <code>Language</code> and you would have to access the fields from <code>Language</code> like <code>super.name</code>, <code>super.numSpeakers</code>, etc...</p>\n\n<p>Something like the following is what you are probably after.</p>\n\n<pre><code>public class Mayan extends Language {\n    private static final String REGION = \"Central America\";\n    private static final String WORD_ORDER = \"verb-object-subject\";\n\n    public Mayan(String languageName, int speakers) {\n        super(languageName, speakers, REGION, WORD_ORDER);\n    }\n\n    @Override\n    public void getInfo() {\n        super.getInfo();\n        System.out.println(\"Fun fact: \" + name + \" is an ergative language.\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>As Gavin pointed out, the access modifiers can be restricted. If you are working within a single package for your program, you might end up with something like</p>\n\n<p><em>Language.java</em></p>\n\n<pre><code>class Language {\n    String name;\n    private int numSpeakers;\n    private String regionsSpoken;\n    private String wordOrder;\n\n    Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder) {\n        this.name = getName;\n        this.numSpeakers = getNumSpeakers;\n        this.regionsSpoken = getRegionsSpoken;\n        this.wordOrder = getWordOrder;\n    }\n\n    void getInfo() {\n        System.out.println(name + \" is spoken by \" + numSpeakers + \"  people mainly in \" + regionsSpoken);\n        System.out.println(\"The language follows the word order: \" + wordOrder);\n    }\n\n    public static void main(String[] args) {\n        Mayan mayanLanguage = new Mayan(\"Ki'che'\",30000);\n        mayanLanguage.getInfo();\n    }\n}\n</code></pre>\n\n<p><em>Mayan.java</em></p>\n\n<pre><code>class Mayan extends Language {\n    private static final String REGION = \"Central America\";\n    private static final String WORD_ORDER = \"verb-object-subject\";\n\n    Mayan(String languageName, int speakers) {\n        super(languageName, speakers, REGION, WORD_ORDER);\n    }\n\n    @Override\n    void getInfo() {\n        super.getInfo();\n        System.out.println(\"Fun fact: \" + name + \" is an ergative language.\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11617072,"reputation":41,"user_id":8509416,"display_name":"Himanshu Kandpal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58255419,"answer_count":1,"score":0,"last_activity_date":1679569333,"creation_date":1570348552,"question_id":58255295,"body_markdown":"Why my code is taking null as output value instead of the parameter passed on?\r\n\r\n**Parent Class:**\r\n\r\n    class Language{\r\n\t  protected String name;\r\n\t  protected int numSpeakers;\r\n\t  protected String regionsSpoken;\r\n\t  protected String wordOrder;\r\n\t  \r\n\t  public Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder){\r\n\t    this.name = getName;\r\n\t    this.numSpeakers = getNumSpeakers;\r\n\t    this.regionsSpoken = getRegionsSpoken;\r\n\t    this.wordOrder = getWordOrder;\r\n\t  }\r\n\t  \r\n\t  public void getInfo(){\r\n\t    System.out.println(name+ &quot; is spoken by &quot;+numSpeakers+&quot;  people mainly in &quot;+regionsSpoken);\r\n\t    System.out.println(&quot;The language follows the word order: &quot;+wordOrder);\r\n\t  }\r\n\t  \r\n\t  public static void main(String[] args){\r\n\t    Mayan mayanLanguage = new Mayan(&quot;Ki&#39;che&#39;&quot;,30000);\r\n\t    mayanLanguage.getInfo();\r\n\t  }\r\n\t}\r\n\r\n**Child Class:**\r\n\r\n    class Mayan extends Language {\r\n\t  protected String name;\r\n\t  protected int numSpeakers;\r\n\t  \r\n\t  Mayan(String languageName,int speakers ){\r\n\t    super(languageName,speakers,&quot;Central America&quot;,&quot;verb-object-subject&quot;);\r\n\t  }\r\n\t  \r\n\t  @Override\r\n\t  public void getInfo() {\r\n\t    System.out.println(name+&quot; is spoken by &quot;+numSpeakers+&quot; people mainly in Central America.&quot;);\r\n\t    System.out.println(&quot;The language follows the word order: verb-object-subject&quot;);\r\n\t    System.out.println(&quot;Fun fact: &quot;+name+&quot; is an ergative language.&quot;);\r\n\t  }\r\n\t}\r\n\r\nI have looked into the code and tried to resolve it by making changes but nothing seems to work, I am getting stuck into what is the mistake that I am not seeing in the code. \r\n\r\nExpected is: \r\n&gt;Ki&#39;che&#39; is spoken by 2330000 people mainly in Central America.\r\nThe language follows the word order: verb-object-subject\r\nFun fact: Ki&#39;che&#39; is an ergative language.\r\n\r\nActual is: \r\n&gt;null is spoken by 0 people mainly in Central America.\r\nThe language follows the word order: verb-object-subject\r\nFun fact: null is an ergative language.","title":"Why child class method is printing null ? What am i doing wrong?","body":"<p>Why my code is taking null as output value instead of the parameter passed on?</p>\n<p><strong>Parent Class:</strong></p>\n<pre><code>class Language{\n  protected String name;\n  protected int numSpeakers;\n  protected String regionsSpoken;\n  protected String wordOrder;\n  \n  public Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder){\n    this.name = getName;\n    this.numSpeakers = getNumSpeakers;\n    this.regionsSpoken = getRegionsSpoken;\n    this.wordOrder = getWordOrder;\n  }\n  \n  public void getInfo(){\n    System.out.println(name+ &quot; is spoken by &quot;+numSpeakers+&quot;  people mainly in &quot;+regionsSpoken);\n    System.out.println(&quot;The language follows the word order: &quot;+wordOrder);\n  }\n  \n  public static void main(String[] args){\n    Mayan mayanLanguage = new Mayan(&quot;Ki'che'&quot;,30000);\n    mayanLanguage.getInfo();\n  }\n}\n</code></pre>\n<p><strong>Child Class:</strong></p>\n<pre><code>class Mayan extends Language {\n  protected String name;\n  protected int numSpeakers;\n  \n  Mayan(String languageName,int speakers ){\n    super(languageName,speakers,&quot;Central America&quot;,&quot;verb-object-subject&quot;);\n  }\n  \n  @Override\n  public void getInfo() {\n    System.out.println(name+&quot; is spoken by &quot;+numSpeakers+&quot; people mainly in Central America.&quot;);\n    System.out.println(&quot;The language follows the word order: verb-object-subject&quot;);\n    System.out.println(&quot;Fun fact: &quot;+name+&quot; is an ergative language.&quot;);\n  }\n}\n</code></pre>\n<p>I have looked into the code and tried to resolve it by making changes but nothing seems to work, I am getting stuck into what is the mistake that I am not seeing in the code.</p>\n<p>Expected is:</p>\n<blockquote>\n<p>Ki'che' is spoken by 2330000 people mainly in Central America.\nThe language follows the word order: verb-object-subject\nFun fact: Ki'che' is an ergative language.</p>\n</blockquote>\n<p>Actual is:</p>\n<blockquote>\n<p>null is spoken by 0 people mainly in Central America.\nThe language follows the word order: verb-object-subject\nFun fact: null is an ergative language.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","soap","java-11"],"owner":{"account_id":28103122,"reputation":1,"user_id":21472085,"display_name":"Shubham Tailong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679569050,"creation_date":1679569050,"question_id":75822117,"body_markdown":"I am creating new instance of Soap factory and it is giving me null value when calling newInstance().\r\nError: javax.xml.soap.SOAPException: Unable to create SOAP connection factory: Provider com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory not found\r\n\r\n\r\n\r\nI already have these dependencies in my build.gradle\r\nVersion : Java 11\r\n\r\n implementation group: &#39;com.sun.xml.messaging.saaj&#39;, name: &#39;saaj-impl&#39;, version: &#39;2.0.1&#39;\r\n implementation group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-ri&#39;, version: &#39;2.3.2&#39;","title":"Soap connection factory is giving null while creating new instance in Java 11","body":"<p>I am creating new instance of Soap factory and it is giving me null value when calling newInstance().\nError: javax.xml.soap.SOAPException: Unable to create SOAP connection factory: Provider com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory not found</p>\n<p>I already have these dependencies in my build.gradle\nVersion : Java 11</p>\n<p>implementation group: 'com.sun.xml.messaging.saaj', name: 'saaj-impl', version: '2.0.1'\nimplementation group: 'com.sun.xml.ws', name: 'jaxws-ri', version: '2.3.2'</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1679558252,"post_id":75820276,"comment_id":133743881,"body_markdown":"When you say &quot;after a specific substring&quot;, your substring is &#39;Element:&#39;&quot; - &quot;Element:Neo&quot; is the whole string you want to retain a substring of.","body":"When you say &quot;after a specific substring&quot;, your substring is &#39;Element:&#39;&quot; - &quot;Element:Neo&quot; is the whole string you want to retain a substring of."},{"owner":{"account_id":20257557,"reputation":260,"user_id":14856909,"display_name":"tyzion"},"score":0,"creation_date":1679558316,"post_id":75820276,"comment_id":133743894,"body_markdown":"No element neo is part of a larger substring","body":"No element neo is part of a larger substring"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679558406,"post_id":75820276,"comment_id":133743910,"body_markdown":"`indexOf` returns the *start* of the string it matches","body":"<code>indexOf</code> returns the <i>start</i> of the string it matches"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679558867,"post_id":75820276,"comment_id":133744003,"body_markdown":"So your actual String is something like &quot;Some String Element:Neo&quot;, and you want to extract Neo.","body":"So your actual String is something like &quot;Some String Element:Neo&quot;, and you want to extract Neo."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679563852,"post_id":75820276,"comment_id":133745125,"body_markdown":"`Neo` is not **after** the substring, it is **part of** your substring. How do you determine you want `Neo`, is it because it is comes after `:`, or something else?","body":"<code>Neo</code> is not <b>after</b> the substring, it is <b>part of</b> your substring. How do you determine you want <code>Neo</code>, is it because it is comes after <code>:</code>, or something else?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679566453,"post_id":75820276,"comment_id":133745860,"body_markdown":"api doc is your friend, best to study that of whatever method you are using :) Here that would be: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)","body":"api doc is your friend, best to study that of whatever method you are using :) Here that would be: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679560127,"creation_date":1679557447,"answer_id":75820311,"question_id":75820276,"body_markdown":"If you have only one occurence of required element then you can use `indexOf` and `substring`:\r\n\r\n    String baseString = &quot;Element:&quot;;\r\n    String checker = descriptions.indexOf(baseString) &lt; 0\r\n      ? &quot;&quot;\r\n      : descriptions\r\n          .substring(descriptions.indexOf(baseString)\r\n            + baseString.length());\r\n\r\nBut if you have multiple occurences of required elements then you can use `String.split`:\r\n\r\n    String descriptions = &quot;Some Element not needed Element:NeoElement:AgentElement:TrinityElement:Oracle&quot;;\r\n    String baseString = &quot;Element:&quot;;\r\n    List&lt;String&gt; checker;\r\n    int firstIndex = descriptions.indexOf(baseString);\r\n    if (firstIndex &gt;= 0){\r\n      // remove unwanted first element\r\n      checker = Arrays.stream(descriptions.split(baseString))\r\n        .skip(1).collect(Collectors.toList());\r\n    } else {\r\n      checker = Collections.emptyList();\r\n    }\r\n    System.out.println(checker);","title":"How to get a set of characters after a specific substring","body":"<p>If you have only one occurence of required element then you can use <code>indexOf</code> and <code>substring</code>:</p>\n<pre><code>String baseString = &quot;Element:&quot;;\nString checker = descriptions.indexOf(baseString) &lt; 0\n  ? &quot;&quot;\n  : descriptions\n      .substring(descriptions.indexOf(baseString)\n        + baseString.length());\n</code></pre>\n<p>But if you have multiple occurences of required elements then you can use <code>String.split</code>:</p>\n<pre><code>String descriptions = &quot;Some Element not needed Element:NeoElement:AgentElement:TrinityElement:Oracle&quot;;\nString baseString = &quot;Element:&quot;;\nList&lt;String&gt; checker;\nint firstIndex = descriptions.indexOf(baseString);\nif (firstIndex &gt;= 0){\n  // remove unwanted first element\n  checker = Arrays.stream(descriptions.split(baseString))\n    .skip(1).collect(Collectors.toList());\n} else {\n  checker = Collections.emptyList();\n}\nSystem.out.println(checker);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679560146,"creation_date":1679559673,"answer_id":75820622,"question_id":75820276,"body_markdown":"You can do\r\n\r\n```\r\nString input = &quot;This is a line containing Element:Neo&quot;;\r\nString[] split = input.split(&quot;Element:&quot;);\r\nString result = (split.length &gt; 1)\r\n  ? result = split[1]  // match found\r\n  : &quot;&quot;                 // some default\r\n}\r\n```\r\n\r\nOr, if you want to overengineer things,\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;.*Element:(.*)&quot;);\r\nString input = &quot;This is a line containing Element:Neo&quot;;\r\nMatcher matcher = pattern.matcher(input);\r\nString result = matcher.groupCount() &gt; 0\r\n  ? matcher.group(1)\r\n  : &quot;&quot;;  \r\n}\r\n```\r\n","title":"How to get a set of characters after a specific substring","body":"<p>You can do</p>\n<pre><code>String input = &quot;This is a line containing Element:Neo&quot;;\nString[] split = input.split(&quot;Element:&quot;);\nString result = (split.length &gt; 1)\n  ? result = split[1]  // match found\n  : &quot;&quot;                 // some default\n}\n</code></pre>\n<p>Or, if you want to overengineer things,</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;.*Element:(.*)&quot;);\nString input = &quot;This is a line containing Element:Neo&quot;;\nMatcher matcher = pattern.matcher(input);\nString result = matcher.groupCount() &gt; 0\n  ? matcher.group(1)\n  : &quot;&quot;;  \n}\n</code></pre>\n"}],"owner":{"account_id":20257557,"reputation":260,"user_id":14856909,"display_name":"tyzion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679566671,"accepted_answer_id":75820622,"answer_count":2,"score":-1,"last_activity_date":1679568885,"creation_date":1679557184,"question_id":75820276,"body_markdown":"I want to get a specific set of characters after a substring:\r\n\r\nMy substring is:\r\n\r\n    &quot;Element:Neo&quot;\r\n\r\nThe set of characters I want are : `Neo`\r\n\r\nSolutions I have tried:\r\n\r\n    String descriptions = &quot;Element:Neo&quot;;\r\n    String checker = descriptions.substring(descriptions.indexOf(&quot;Element:&quot;)+1);\r\n    System.out.println(checker);\r\n\r\nbut I got my print statement as: `lement:Neo`, instead of the desired Neo\r\n\r\nSo is it possible to use `indexof` and get just `Neo`\r\n\r\nLinks I followed: https://stackoverflow.com/questions/8871682/how-to-find-before-and-after-sub-string-in-a-string - but the given solution, didn&#39;t help me, hence I asked the question.","title":"How to get a set of characters after a specific substring","body":"<p>I want to get a specific set of characters after a substring:</p>\n<p>My substring is:</p>\n<pre><code>&quot;Element:Neo&quot;\n</code></pre>\n<p>The set of characters I want are : <code>Neo</code></p>\n<p>Solutions I have tried:</p>\n<pre><code>String descriptions = &quot;Element:Neo&quot;;\nString checker = descriptions.substring(descriptions.indexOf(&quot;Element:&quot;)+1);\nSystem.out.println(checker);\n</code></pre>\n<p>but I got my print statement as: <code>lement:Neo</code>, instead of the desired Neo</p>\n<p>So is it possible to use <code>indexof</code> and get just <code>Neo</code></p>\n<p>Links I followed: <a href=\"https://stackoverflow.com/questions/8871682/how-to-find-before-and-after-sub-string-in-a-string\">how to find before and after sub-string in a string</a> - but the given solution, didn't help me, hence I asked the question.</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679569147,"post_id":75822018,"comment_id":133746509,"body_markdown":"The one with the request body already has a predefined reactive flow as it needed to deserialize the request body, the one without doesn&#39;t. If you create a reactive flow each part can be executed by a different thread (as you notice here). So it isn&#39;t so much Spring but rather a result of what is done before this controller method is even being called.","body":"The one with the request body already has a predefined reactive flow as it needed to deserialize the request body, the one without doesn&#39;t. If you create a reactive flow each part can be executed by a different thread (as you notice here). So it isn&#39;t so much Spring but rather a result of what is done before this controller method is even being called."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1679571052,"post_id":75822018,"comment_id":133746952,"body_markdown":"Your code will not be executed in the written place. In the future, another task will be to subscribe to your mono, and that thread will be used. In the reactive environment, thread management differs significantly from the classic WebMvc model with Tomcat. For example, you mustn&#39;t use any blocker methods, and not recommended to save any information into ThreadLocal because there is a good chance it will be run by a different thread than the one you saved.","body":"Your code will not be executed in the written place. In the future, another task will be to subscribe to your mono, and that thread will be used. In the reactive environment, thread management differs significantly from the classic WebMvc model with Tomcat. For example, you mustn&#39;t use any blocker methods, and not recommended to save any information into ThreadLocal because there is a good chance it will be run by a different thread than the one you saved."}],"owner":{"account_id":2626283,"reputation":407,"user_id":2273203,"accept_rate":43,"display_name":"kemenov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679568318,"creation_date":1679568318,"question_id":75822018,"body_markdown":"I need advice, there are two controller methods:\r\n\r\nMethod with body parameter\r\n\r\n        @RequestMapping(value = &quot;/test1&quot;, method = RequestMethod.POST)\r\n    public Mono&lt;SuccessEmptyResponse&gt; withBody(@RequestBody CreatePhoneCode command) {\r\n        return Mono.fromCallable(() -&gt; {\r\n                    System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\r\n                    return SuccessEmptyResponse.getInstance();\r\n                });\r\n    }\r\n\r\n\r\nMethod without body\r\n\r\n\r\n    @RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\r\n    public Mono&lt;SuccessEmptyResponse&gt; methodWithoutBody() {\r\n        return Mono.fromCallable(() -&gt; {\r\n            System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\r\n            return SuccessEmptyResponse.getInstance();\r\n        });\r\n    }\r\n\r\n\r\n\r\nMethod test1 prints log &quot;Current thread **reactor-http-nio-n**&quot;\r\n\r\nMethod test2 prints log &quot;Current thread **parallel-n**&quot;\r\n\r\n\r\nHow we can see, by default spring uses parallel pool for handle methods without body, and event loop pool for handle requests with body. I understand that i can change pool by call method subscribeOn and publishOn, but i have two question.\r\n\r\n1. Why spring has this logic by default?\r\n2. Can i use parallel worker for handle requests with body by default (without change pool manually?).\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring WebFlux Controller default pools","body":"<p>I need advice, there are two controller methods:</p>\n<p>Method with body parameter</p>\n<pre><code>    @RequestMapping(value = &quot;/test1&quot;, method = RequestMethod.POST)\npublic Mono&lt;SuccessEmptyResponse&gt; withBody(@RequestBody CreatePhoneCode command) {\n    return Mono.fromCallable(() -&gt; {\n                System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\n                return SuccessEmptyResponse.getInstance();\n            });\n}\n</code></pre>\n<p>Method without body</p>\n<pre><code>@RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\npublic Mono&lt;SuccessEmptyResponse&gt; methodWithoutBody() {\n    return Mono.fromCallable(() -&gt; {\n        System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\n        return SuccessEmptyResponse.getInstance();\n    });\n}\n</code></pre>\n<p>Method test1 prints log &quot;Current thread <strong>reactor-http-nio-n</strong>&quot;</p>\n<p>Method test2 prints log &quot;Current thread <strong>parallel-n</strong>&quot;</p>\n<p>How we can see, by default spring uses parallel pool for handle methods without body, and event loop pool for handle requests with body. I understand that i can change pool by call method subscribeOn and publishOn, but i have two question.</p>\n<ol>\n<li>Why spring has this logic by default?</li>\n<li>Can i use parallel worker for handle requests with body by default (without change pool manually?).</li>\n</ol>\n"},{"tags":["java","processing"],"owner":{"account_id":28076391,"reputation":11,"user_id":21448167,"display_name":"Gene Takavic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679568261,"creation_date":1679407094,"question_id":75802164,"body_markdown":"I try to have a function who can detect intersection of a vector in a PShape of type Box. I create a function GetIntersection for that. It work for all box&#39;s faces execept for Front and Back faces. \r\n\r\n```\r\n   public PVector getIntersection(PVector rayOrigin, PVector rayDirection, PShape shape) {\r\n\r\n        if (shape.getKind() == PShape.BOX) {\r\n            // Get the dimensions of the box\r\n            float x = shape.getWidth();\r\n            float y = shape.getHeight();\r\n            float z = shape.getDepth();\r\n\r\n            \r\n            PVector frontIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, -z/2));\r\n\r\n            PVector backIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, z/2), new PVector(x/2, -y/2, z/2));\r\n\r\n            // Calculate left intersection\r\n            PVector leftIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(-x/2, y/2, -z/2));\r\n\r\n            // Calculate right intersection\r\n            PVector rightIntersection = intersect(rayOrigin, rayDirection, new PVector(x/2, -y/2, -z/2), new PVector(x/2, y/2, -z/2));\r\n\r\n            // Calculate top intersection\r\n            PVector topIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, y/2, -z/2), new PVector(x/2, y/2, -z/2));\r\n\r\n            // Calculate bottom intersection\r\n            PVector bottomIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, z/2));\r\n\r\n\r\n            if ( backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\r\n                test = backIntersection ;\r\n            }\r\n\r\n\r\n            // Check for intersections and return the closest one\r\n            if (frontIntersection != null &amp;&amp; pointTouchesBox(frontIntersection, shape) ) {\r\n                println(&quot;return front\\n&quot;);\r\n                return frontIntersection;\r\n            } else if (backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\r\n                println(&quot;return back\\n&quot;);\r\n                return backIntersection;\r\n            } else if (leftIntersection != null &amp;&amp; pointTouchesBox(leftIntersection, shape)  ) {\r\n                return leftIntersection;\r\n            } else if (rightIntersection != null &amp;&amp; pointTouchesBox(rightIntersection, shape) ) {\r\n                return rightIntersection;\r\n            } else if (topIntersection != null &amp;&amp; pointTouchesBox(topIntersection, shape) ) {\r\n                return topIntersection;\r\n            } else if (bottomIntersection != null &amp;&amp; pointTouchesBox(bottomIntersection, shape) ) {\r\n                return bottomIntersection;\r\n            } else {\r\n                // If no intersection was found, return null\r\n                return null;\r\n            }\r\n\r\n\r\n        } else {\r\n            // For other shape types, use the original getIntersection function\r\n            for (int i = 0; i &lt; shape.getChildCount(); i++) {\r\n                PVector intersection = getIntersection(rayOrigin, rayDirection, shape.getChild(i));\r\n                if (intersection != null) {\r\n                    return intersection;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    public PVector intersect(PVector rayOrigin, PVector rayDirection, PVector p1, PVector p2) {\r\n        PVector v1 = PVector.sub(rayOrigin, p1);\r\n        PVector v2 = PVector.sub(p2, p1);\r\n        PVector v3 = new PVector(-rayDirection.y, rayDirection.x, 0);\r\n        float dot = PVector.dot(v2, v3);\r\n        if (abs(dot) &lt; 0.0001) {\r\n            return null;\r\n        }\r\n        float t1 = cross(v2, v1).z / dot;\r\n        float t2 = PVector.dot(v1, v3) / dot;\r\n        if (t1 &gt;= 0 &amp;&amp; (t2 &gt;= 0 &amp;&amp; t2 &lt;= 1)) {\r\n            return PVector.add(rayOrigin, PVector.mult(rayDirection, t1));\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public static PVector cross(PVector v1, PVector v2) {\r\n        float x = v1.y * v2.z - v1.z * v2.y;\r\n        float y = v1.z * v2.x - v1.x * v2.z;\r\n        float z = v1.x * v2.y - v1.y * v2.x;\r\n        return new PVector(x, y, z);\r\n    }\r\n```\r\n\r\nI know that the error is in the calculation of the variable frontIntersection and backIntersection but I didn&#39;t sucess. ","title":"P5 intersection of a vector in a PShape type Box","body":"<p>I try to have a function who can detect intersection of a vector in a PShape of type Box. I create a function GetIntersection for that. It work for all box's faces execept for Front and Back faces.</p>\n<pre><code>   public PVector getIntersection(PVector rayOrigin, PVector rayDirection, PShape shape) {\n\n        if (shape.getKind() == PShape.BOX) {\n            // Get the dimensions of the box\n            float x = shape.getWidth();\n            float y = shape.getHeight();\n            float z = shape.getDepth();\n\n            \n            PVector frontIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, -z/2));\n\n            PVector backIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, z/2), new PVector(x/2, -y/2, z/2));\n\n            // Calculate left intersection\n            PVector leftIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(-x/2, y/2, -z/2));\n\n            // Calculate right intersection\n            PVector rightIntersection = intersect(rayOrigin, rayDirection, new PVector(x/2, -y/2, -z/2), new PVector(x/2, y/2, -z/2));\n\n            // Calculate top intersection\n            PVector topIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, y/2, -z/2), new PVector(x/2, y/2, -z/2));\n\n            // Calculate bottom intersection\n            PVector bottomIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, z/2));\n\n\n            if ( backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\n                test = backIntersection ;\n            }\n\n\n            // Check for intersections and return the closest one\n            if (frontIntersection != null &amp;&amp; pointTouchesBox(frontIntersection, shape) ) {\n                println(&quot;return front\\n&quot;);\n                return frontIntersection;\n            } else if (backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\n                println(&quot;return back\\n&quot;);\n                return backIntersection;\n            } else if (leftIntersection != null &amp;&amp; pointTouchesBox(leftIntersection, shape)  ) {\n                return leftIntersection;\n            } else if (rightIntersection != null &amp;&amp; pointTouchesBox(rightIntersection, shape) ) {\n                return rightIntersection;\n            } else if (topIntersection != null &amp;&amp; pointTouchesBox(topIntersection, shape) ) {\n                return topIntersection;\n            } else if (bottomIntersection != null &amp;&amp; pointTouchesBox(bottomIntersection, shape) ) {\n                return bottomIntersection;\n            } else {\n                // If no intersection was found, return null\n                return null;\n            }\n\n\n        } else {\n            // For other shape types, use the original getIntersection function\n            for (int i = 0; i &lt; shape.getChildCount(); i++) {\n                PVector intersection = getIntersection(rayOrigin, rayDirection, shape.getChild(i));\n                if (intersection != null) {\n                    return intersection;\n                }\n            }\n            return null;\n        }\n    }\n\n\n\n\n    public PVector intersect(PVector rayOrigin, PVector rayDirection, PVector p1, PVector p2) {\n        PVector v1 = PVector.sub(rayOrigin, p1);\n        PVector v2 = PVector.sub(p2, p1);\n        PVector v3 = new PVector(-rayDirection.y, rayDirection.x, 0);\n        float dot = PVector.dot(v2, v3);\n        if (abs(dot) &lt; 0.0001) {\n            return null;\n        }\n        float t1 = cross(v2, v1).z / dot;\n        float t2 = PVector.dot(v1, v3) / dot;\n        if (t1 &gt;= 0 &amp;&amp; (t2 &gt;= 0 &amp;&amp; t2 &lt;= 1)) {\n            return PVector.add(rayOrigin, PVector.mult(rayDirection, t1));\n        } else {\n            return null;\n        }\n    }\n    public static PVector cross(PVector v1, PVector v2) {\n        float x = v1.y * v2.z - v1.z * v2.y;\n        float y = v1.z * v2.x - v1.x * v2.z;\n        float z = v1.x * v2.y - v1.y * v2.x;\n        return new PVector(x, y, z);\n    }\n</code></pre>\n<p>I know that the error is in the calculation of the variable frontIntersection and backIntersection but I didn't sucess.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391563604,"creation_date":1391563604,"answer_id":21566951,"question_id":21566847,"body_markdown":"This works for me:\r\n\r\n    public boolean isProcessRunning(final String processName) throws Exception{\r\n        final Process process = Runtime.getRuntime().exec(&quot;tasklist&quot;);\r\n        final Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n        while(reader.hasNextLine())\r\n            if(reader.nextLine().startsWith(processName))\r\n                return true;\r\n        return false;\r\n    }\r\n\r\nNote: With the method above, you have to enter the exact process name (case sensitive).\r\nHere is what the table looks like:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sN5Zv.png","title":"how to check particular windows service is running using","body":"<p>This works for me:</p>\n\n<pre><code>public boolean isProcessRunning(final String processName) throws Exception{\n    final Process process = Runtime.getRuntime().exec(\"tasklist\");\n    final Scanner reader = new Scanner(process.getInputStream(), \"UTF-8\");\n    while(reader.hasNextLine())\n        if(reader.nextLine().startsWith(processName))\n            return true;\n    return false;\n}\n</code></pre>\n\n<p>Note: With the method above, you have to enter the exact process name (case sensitive).\nHere is what the table looks like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sN5Zv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1391804204,"creation_date":1391804204,"answer_id":21636976,"question_id":21566847,"body_markdown":"below is the correct code for verifying service!\r\n\r\n\t     Process process = Runtime.getRuntime().exec(&quot;sc query &quot;+nameOfService);\r\n\t    Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n\t    while(reader.hasNextLine())\r\n\t        if(reader.nextLine().contains(serviceNAME))\r\n\t            return true;\r\n\t    return false;","title":"how to check particular windows service is running using","body":"<p>below is the correct code for verifying service!</p>\n\n<pre><code>     Process process = Runtime.getRuntime().exec(\"sc query \"+nameOfService);\n    Scanner reader = new Scanner(process.getInputStream(), \"UTF-8\");\n    while(reader.hasNextLine())\n        if(reader.nextLine().contains(serviceNAME))\n            return true;\n    return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24659648,"reputation":21,"user_id":18555998,"display_name":"Gourav Kaushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679568207,"creation_date":1679568207,"answer_id":75821997,"question_id":21566847,"body_markdown":"With the help of ProcessBuilder we can launch the command prompt(in background) and fetch the status of service.\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\Windows\\\\System32\\\\sc.exe&quot;, &quot;query&quot;, \r\n    serviceName).start(); //serviceName is the name of the service.\r\n    InputStream is = process.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n\r\n    String resultLine;\r\n    String consoleOutput = &quot;&quot;;\r\n\r\n    while ((resultLine = br.readresultLine()) != null) {\r\n\t    consoleOutput += resultLine + &quot;\\n&quot;;\r\n    }\r\n\r\n    if (consoleOutput.contains(&quot;STATE&quot;)) {\r\n\t    if (consoleOutput.contains(&quot;RUNNING&quot;)) {\r\n\t\t    // Service is Running...!!\r\n\t    } else {\r\n\t\t    // Service is Not Running...!!\r\n\t    }\r\n    } else {\r\n\t    // Service Not Found..!!\r\n    }","title":"how to check particular windows service is running using","body":"<p>With the help of ProcessBuilder we can launch the command prompt(in background) and fetch the status of service.</p>\n<pre><code>Process process = new ProcessBuilder(&quot;C:\\\\Windows\\\\System32\\\\sc.exe&quot;, &quot;query&quot;, \nserviceName).start(); //serviceName is the name of the service.\nInputStream is = process.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\n\nString resultLine;\nString consoleOutput = &quot;&quot;;\n\nwhile ((resultLine = br.readresultLine()) != null) {\n    consoleOutput += resultLine + &quot;\\n&quot;;\n}\n\nif (consoleOutput.contains(&quot;STATE&quot;)) {\n    if (consoleOutput.contains(&quot;RUNNING&quot;)) {\n        // Service is Running...!!\n    } else {\n        // Service is Not Running...!!\n    }\n} else {\n    // Service Not Found..!!\n}\n</code></pre>\n"}],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21636976,"answer_count":3,"score":0,"last_activity_date":1679568207,"creation_date":1391562996,"question_id":21566847,"body_markdown":"I have a requirement to check if the given windows service say &quot;XYZService&quot; is running fine.\r\n\r\nI understand that we can issue a &quot;sc query &lt;SERVICENAME&gt;&quot; command and check the status of it, windows command prompt.\r\n\r\nbut I don&#39;t know how to do in java.\r\n\r\nI am using JDK1.6 in my application.\r\n\r\nappreciate any help.","title":"how to check particular windows service is running using","body":"<p>I have a requirement to check if the given windows service say \"XYZService\" is running fine.</p>\n\n<p>I understand that we can issue a \"sc query \" command and check the status of it, windows command prompt.</p>\n\n<p>but I don't know how to do in java.</p>\n\n<p>I am using JDK1.6 in my application.</p>\n\n<p>appreciate any help.</p>\n"},{"tags":["java","mysql","stored-procedures","client","call"],"owner":{"account_id":28102498,"reputation":1,"user_id":21471497,"display_name":"Marco Lorenzini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679568053,"creation_date":1679567774,"question_id":75821928,"body_markdown":"I have a problem with my java client calling the stored procedure, this is the code of the call:\r\n\r\n    try {   \r\n        Connection conn = ConnectionFactory.getConnection();\r\n        CallableStatement cs = conn.prepareCall(&quot;{call inserisci_corso(?,?,?,?,?,?,?)}&quot;);\r\n        cs.setString(1, nomeCorso);\r\n        cs.setInt(2, minPart);\r\n        cs.setInt(3, maxPart);\r\n        cs.setDate(4, dataInizioCorso);\r\n        cs.setInt(5, idVasca);\r\n        cs.setBigDecimal(6, prezzo);\r\n        cs.registerOutParameter(7, Types.INTEGER);                \r\n        cs.executeQuery(); //Eseguo chiamata\r\n        idCorso = cs.getInt(7);\r\n    } catch (SQLException e) { //Gestione errore\r\n        throw new DAOException(&quot;Errore nell&#39;aggiunta del corso: &quot; + e.getMessage());\r\n    }\r\n\r\nThis is the code of the stored procedure on mySQL Workbench:\r\n\r\n    CREATE PROCEDURE `inserisci_corso` (in var_nomeCorso VARCHAR(45), in var_minPartecipanti INT, in var_maxPartecipanti INT, in var_dataInizioCorso DATE, in var_idVasca INT, in var_costo DECIMAL, out var_codiceCorso INT)\r\n    BEGIN\r\n        declare exit handler for sqlexception\r\n        begin\r\n    \t\trollback;\r\n            resignal;\r\n    \tend;\r\n        \r\n        if var_maxPartecipanti &lt; var_minPartecipanti then\r\n            signal sqlstate &#39;45000&#39; set message_text = &#39;Il numero minimo di partecipanti deve essere inferiore al numero massimo di partecipanti&#39;;\r\n        elseif var_dataInizioCorso &lt; current_date() then\r\n    \t\tsignal sqlstate &#39;45000&#39; set message_text = &#39;La data di inizio corso non pu&#242; essere antecedente alla data odierna&#39;;\r\n    \tend if;\r\n            \r\n        set transaction isolation level repeatable read;\r\n        start transaction;\r\n    \t\tinsert into `Corso`(`Nome`, `MinPartecipanti`,`MaxPartecipanti`,`DataInizioCorso`,`Vasca_IdVasca`,`Costo`)\r\n            values(var_nomeCorso,var_minPartecipanti,var_maxPartecipanti,var_dataInizioCorso,var_idVasca, var_costo);\r\n            set var_codiceCorso = last_insert_id();\r\n            commit;\r\n            \r\n    end\r\n\r\nI tried to write the call like: `mydb.inserisci_corso` but it does not work\r\n\r\n","title":"Error: Parameter number 7 is not an OUT parameter","body":"<p>I have a problem with my java client calling the stored procedure, this is the code of the call:</p>\n<pre><code>try {   \n    Connection conn = ConnectionFactory.getConnection();\n    CallableStatement cs = conn.prepareCall(&quot;{call inserisci_corso(?,?,?,?,?,?,?)}&quot;);\n    cs.setString(1, nomeCorso);\n    cs.setInt(2, minPart);\n    cs.setInt(3, maxPart);\n    cs.setDate(4, dataInizioCorso);\n    cs.setInt(5, idVasca);\n    cs.setBigDecimal(6, prezzo);\n    cs.registerOutParameter(7, Types.INTEGER);                \n    cs.executeQuery(); //Eseguo chiamata\n    idCorso = cs.getInt(7);\n} catch (SQLException e) { //Gestione errore\n    throw new DAOException(&quot;Errore nell'aggiunta del corso: &quot; + e.getMessage());\n}\n</code></pre>\n<p>This is the code of the stored procedure on mySQL Workbench:</p>\n<pre><code>CREATE PROCEDURE `inserisci_corso` (in var_nomeCorso VARCHAR(45), in var_minPartecipanti INT, in var_maxPartecipanti INT, in var_dataInizioCorso DATE, in var_idVasca INT, in var_costo DECIMAL, out var_codiceCorso INT)\nBEGIN\n    declare exit handler for sqlexception\n    begin\n        rollback;\n        resignal;\n    end;\n    \n    if var_maxPartecipanti &lt; var_minPartecipanti then\n        signal sqlstate '45000' set message_text = 'Il numero minimo di partecipanti deve essere inferiore al numero massimo di partecipanti';\n    elseif var_dataInizioCorso &lt; current_date() then\n        signal sqlstate '45000' set message_text = 'La data di inizio corso non può essere antecedente alla data odierna';\n    end if;\n        \n    set transaction isolation level repeatable read;\n    start transaction;\n        insert into `Corso`(`Nome`, `MinPartecipanti`,`MaxPartecipanti`,`DataInizioCorso`,`Vasca_IdVasca`,`Costo`)\n        values(var_nomeCorso,var_minPartecipanti,var_maxPartecipanti,var_dataInizioCorso,var_idVasca, var_costo);\n        set var_codiceCorso = last_insert_id();\n        commit;\n        \nend\n</code></pre>\n<p>I tried to write the call like: <code>mydb.inserisci_corso</code> but it does not work</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1679467660,"post_id":75808978,"comment_id":133725405,"body_markdown":"A date in java has no format. Please share the related code!","body":"A date in java has no format. Please share the related code!"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679468687,"post_id":75808978,"comment_id":133725549,"body_markdown":"I m not sure whats in your mind, but I dont think a JSON parser can convert date formats. You are looking for java.time library","body":"I m not sure whats in your mind, but I dont think a JSON parser can convert date formats. You are looking for java.time library"},{"owner":{"account_id":4033699,"reputation":99,"user_id":3318934,"display_name":"Purushothama"},"score":0,"creation_date":1679470646,"post_id":75808978,"comment_id":133725916,"body_markdown":"@experimentunit1998X question updated ,please  check","body":"@experimentunit1998X question updated ,please  check"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679471663,"post_id":75808978,"comment_id":133726141,"body_markdown":"Seems related: [Java 8 LocalDateTime deserialized using Gson](https://stackoverflow.com/questions/22310143/java-8-localdatetime-deserialized-using-gson) Did you search? What did you find?","body":"Seems related: <a href=\"https://stackoverflow.com/questions/22310143/java-8-localdatetime-deserialized-using-gson\">Java 8 LocalDateTime deserialized using Gson</a> Did you search? What did you find?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679570139,"post_id":75808978,"comment_id":133746733,"body_markdown":"A `LocalDateTime` does not have a format (its `toString()` will always use the ISO-8601 format. If you want to show a different format, you&#39;ll need to format it explicitly. Where are you having problems, converting from JSON, or displaying the `LocalDateTime`?","body":"A <code>LocalDateTime</code> does not have a format (its <code>toString()</code> will always use the ISO-8601 format. If you want to show a different format, you&#39;ll need to format it explicitly. Where are you having problems, converting from JSON, or displaying the <code>LocalDateTime</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679490676,"creation_date":1679472015,"answer_id":75809662,"question_id":75808978,"body_markdown":"If you want to read **and output** json. \r\n\r\nDefine a custom deserialiser as follows:\r\n\r\n    class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\r\n        @Override\r\n        public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n        throws JsonParseException {\r\n            return LocalDateTime.parse(json.getAsString(), \r\n                DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withLocale(Locale.ENGLISH));\r\n        }\r\n    }\r\n\r\nDefine a custom serialiser as follows;\r\n\r\n    class LocalDateTimeSerializer implements JsonSerializer &lt; LocalDateTime &gt; { \r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \r\n        @Override\r\n        public JsonElement serialize(LocalDateTime localDateTime, Type srcType, JsonSerializationContext context) {\r\n            return new JsonPrimitive(formatter.format(localDateTime));\r\n        }\r\n    }\r\n\r\nString them together like this (for calling from static main):\r\n\r\n    private static Gson buildGson() {\r\n    \tGsonBuilder gsonBuilder = new GsonBuilder();\r\n    \tgsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeSerializer());\r\n    \tgsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\r\n    \r\n    \tGson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \treturn gson;\r\n    }\r\n\r\nImprove the definition of TestJava.toString() like this:\r\n\r\n    @Override\r\n    public String toString() {\r\n    \treturn &quot;TestJava [service=&quot; + service + &quot;, userIP=&quot; + userIP + &quot;, startDateTime=&quot; + formatter.format(startDateTime) + &quot;]&quot;;\r\n    }\r\n    \r\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n\r\nUse it like this:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tGson gson = buildGson();\r\n    \t\r\n    \tString inputValue = &quot;{\\&quot;service\\&quot;: 2,\\&quot;userIP\\&quot;: \\&quot;10.1.1.2.3\\&quot;,\\&quot;startDateTime\\&quot;: \\&quot;20230321 12:55:44\\&quot;}&quot;;\r\n    \t\r\n    \tTestJava object = gson.fromJson(inputValue, TestJava.class);\r\n    \t\r\n    \tString outputValue = gson.toJson(object);\r\n    \t\r\n    \tSystem.out.println(&quot;Serialised: &quot; + outputValue);\r\n    \t\r\n    \tSystem.out.println(&quot;toString: &quot; + object);\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Serialised: {\r\n      &quot;service&quot;: 2,\r\n      &quot;userIP&quot;: &quot;10.1.1.2.3&quot;,\r\n      &quot;startDateTime&quot;: &quot;2023-Mar-21 12:55:44&quot;\r\n    }\r\n    toString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Gson Date Conversion","body":"<p>If you want to read <strong>and output</strong> json.</p>\n<p>Define a custom deserialiser as follows:</p>\n<pre><code>class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\n    @Override\n    public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n    throws JsonParseException {\n        return LocalDateTime.parse(json.getAsString(), \n            DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withLocale(Locale.ENGLISH));\n    }\n}\n</code></pre>\n<p>Define a custom serialiser as follows;</p>\n<pre><code>class LocalDateTimeSerializer implements JsonSerializer &lt; LocalDateTime &gt; { \n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\n\n    @Override\n    public JsonElement serialize(LocalDateTime localDateTime, Type srcType, JsonSerializationContext context) {\n        return new JsonPrimitive(formatter.format(localDateTime));\n    }\n}\n</code></pre>\n<p>String them together like this (for calling from static main):</p>\n<pre><code>private static Gson buildGson() {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeSerializer());\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\n\n    Gson gson = gsonBuilder.setPrettyPrinting().create();\n    return gson;\n}\n</code></pre>\n<p>Improve the definition of TestJava.toString() like this:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;TestJava [service=&quot; + service + &quot;, userIP=&quot; + userIP + &quot;, startDateTime=&quot; + formatter.format(startDateTime) + &quot;]&quot;;\n}\n\nprivate static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\n</code></pre>\n<p>Use it like this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Gson gson = buildGson();\n    \n    String inputValue = &quot;{\\&quot;service\\&quot;: 2,\\&quot;userIP\\&quot;: \\&quot;10.1.1.2.3\\&quot;,\\&quot;startDateTime\\&quot;: \\&quot;20230321 12:55:44\\&quot;}&quot;;\n    \n    TestJava object = gson.fromJson(inputValue, TestJava.class);\n    \n    String outputValue = gson.toJson(object);\n    \n    System.out.println(&quot;Serialised: &quot; + outputValue);\n    \n    System.out.println(&quot;toString: &quot; + object);\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Serialised: {\n  &quot;service&quot;: 2,\n  &quot;userIP&quot;: &quot;10.1.1.2.3&quot;,\n  &quot;startDateTime&quot;: &quot;2023-Mar-21 12:55:44&quot;\n}\ntoString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\n</code></pre>\n"}],"owner":{"account_id":4033699,"reputation":99,"user_id":3318934,"display_name":"Purushothama"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679570153,"answer_count":1,"score":-1,"last_activity_date":1679567811,"creation_date":1679466224,"question_id":75808978,"body_markdown":"I&#39;m receiving the date in the format from the server is `yyyyMMdd HH:mm:ss` and I need to convert  to the date format `yyyy-MMM-dd HH:mm:ss` using Gson JsonDeserializer.\r\n\r\nExample:\r\n\r\nReceived date from server: `20230320 16:09:05`\r\n\r\nto be converted to: `2023-Mar-20 16:09:05`\r\n\r\nI want to convert JSON to Java using Gson API\r\n\r\nJSON\r\n```json\r\n{&quot;service&quot;: 2,&quot;userIP&quot;: &quot;10.1.1.2.3&quot;,&quot;startDateTime&quot;: &quot;20230321 12:55:44&quot;}\r\n```\r\n \r\nJava class\r\n\r\n```java\r\npublic class TestJava \r\n{ \r\n    private Long service;\r\n    private String userIP;\r\n    private LocalDateTime startDateTime;\r\n    //setter and getter\r\n}\r\n```\r\n\r\nExpected output as below\r\n\r\n```none\r\nTestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\r\n```\r\n","title":"Gson Date Conversion","body":"<p>I'm receiving the date in the format from the server is <code>yyyyMMdd HH:mm:ss</code> and I need to convert  to the date format <code>yyyy-MMM-dd HH:mm:ss</code> using Gson JsonDeserializer.</p>\n<p>Example:</p>\n<p>Received date from server: <code>20230320 16:09:05</code></p>\n<p>to be converted to: <code>2023-Mar-20 16:09:05</code></p>\n<p>I want to convert JSON to Java using Gson API</p>\n<p>JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;service&quot;: 2,&quot;userIP&quot;: &quot;10.1.1.2.3&quot;,&quot;startDateTime&quot;: &quot;20230321 12:55:44&quot;}\n</code></pre>\n<p>Java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestJava \n{ \n    private Long service;\n    private String userIP;\n    private LocalDateTime startDateTime;\n    //setter and getter\n}\n</code></pre>\n<p>Expected output as below</p>\n<pre class=\"lang-none prettyprint-override\"><code>TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"score":0,"creation_date":1679563789,"post_id":75821134,"comment_id":133745105,"body_markdown":"https://stackoverflow.com/questions/17842211/how-to-use-an-arraylist-as-a-prepared-statement-parameter\nhttps://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause","body":"<a href=\"https://stackoverflow.com/questions/17842211/how-to-use-an-arraylist-as-a-prepared-statement-parameter\" title=\"how to use an arraylist as a prepared statement parameter\">stackoverflow.com/questions/17842211/&hellip;</a> <a href=\"https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause\" title=\"preparedstatement with list of parameters in a in clause\">stackoverflow.com/questions/3107044/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13222912,"reputation":13,"user_id":9549042,"display_name":"Ehenoma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679564941,"creation_date":1679564941,"answer_id":75821446,"question_id":75821134,"body_markdown":"You can use the `ANY` Operator. Or use two placeholders and then set them individually.\r\n\r\n**Solution 1: Any Operator** \r\n\r\nChange your query to \r\n\r\n    WHERE id = ANY (?)\r\n\r\nThis should have the same result and work with the current code you have.\r\n\r\n\r\n**Solution 2: Multiple placeholders**\r\n\r\nChange your query to \r\n\r\n    WHERE id = IN (?, ?)\r\n\r\nAnd then set both UUIDs \r\n\r\n    stm.setString(1, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\r\n    stm.setString(2, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\r\n\r\n ","title":"How to delete a number of rows from Postgresql where UUID is in a list of array?","body":"<p>You can use the <code>ANY</code> Operator. Or use two placeholders and then set them individually.</p>\n<p><strong>Solution 1: Any Operator</strong></p>\n<p>Change your query to</p>\n<pre><code>WHERE id = ANY (?)\n</code></pre>\n<p>This should have the same result and work with the current code you have.</p>\n<p><strong>Solution 2: Multiple placeholders</strong></p>\n<p>Change your query to</p>\n<pre><code>WHERE id = IN (?, ?)\n</code></pre>\n<p>And then set both UUIDs</p>\n<pre><code>stm.setString(1, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\nstm.setString(2, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\n</code></pre>\n"}],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679567558,"creation_date":1679563071,"question_id":75821134,"body_markdown":"I have a table with an ID that is of type UUID, how do I delete the records where id is in a list of UUIDs? How to construct this query? \r\n\r\n    List&lt;UUID&gt; s = new ArrayList&lt;&gt;();\r\n        s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\r\n        s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\r\n\r\n    PreparedStatement stm = conn.prepareStatement(\r\n                            &quot;delete from table_name where id in (?)&quot;);\r\n            Array array = conn.createArrayOf(&quot;UUID&quot;, s.toArray());\r\n            stm.setArray(1, array);\r\n            int deletedCount = stm.executeUpdate();\r\n\r\nid is of type UUID \r\nI get the following error. \r\n\r\n    Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: ERROR: cannot cast type uuid[] to uuid\r\n      Position: 129\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)\r\n    \tat org.example.TestJJDBCUUID.main(TestJJDBCUUID.java:35)\r\n\r\n \r\n\r\n\r\n","title":"How to delete a number of rows from Postgresql where UUID is in a list of array?","body":"<p>I have a table with an ID that is of type UUID, how do I delete the records where id is in a list of UUIDs? How to construct this query?</p>\n<pre><code>List&lt;UUID&gt; s = new ArrayList&lt;&gt;();\n    s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\n    s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\n\nPreparedStatement stm = conn.prepareStatement(\n                        &quot;delete from table_name where id in (?)&quot;);\n        Array array = conn.createArrayOf(&quot;UUID&quot;, s.toArray());\n        stm.setArray(1, array);\n        int deletedCount = stm.executeUpdate();\n</code></pre>\n<p>id is of type UUID\nI get the following error.</p>\n<pre><code>Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: ERROR: cannot cast type uuid[] to uuid\n  Position: 129\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)\n    at org.example.TestJJDBCUUID.main(TestJJDBCUUID.java:35)\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1424351478,"post_id":28607191,"comment_id":45518545,"body_markdown":"What do you mean by &quot;reverse order&quot;? If you replace `-1 * answer` with `answer`, the order will change to reverse of what it was with `-1 * ...`.","body":"What do you mean by &quot;reverse order&quot;? If you replace <code>-1 * answer</code> with <code>answer</code>, the order will change to reverse of what it was with <code>-1 * ...</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1424379161,"post_id":28607191,"comment_id":45536385,"body_markdown":"Beware! All of your code suggests that you want to use [`forEachOrdered`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-) instead of [`forEach`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-)","body":"Beware! All of your code suggests that you want to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEachOrdered</code></a> instead of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEach</code></a>"},{"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1424450424,"post_id":28607191,"comment_id":45567737,"body_markdown":"why is that? can you explain?","body":"why is that? can you explain?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1424452850,"post_id":28607191,"comment_id":45569162,"body_markdown":"Follow the links. Simply said, `forEachOrdered`, as the name suggests, cares about encounter order which is relevant as you want to skip a certain number of *newest* files which relies on the “sorted by modification time” *order*.","body":"Follow the links. Simply said, <code>forEachOrdered</code>, as the name suggests, cares about encounter order which is relevant as you want to skip a certain number of <i>newest</i> files which relies on the “sorted by modification time” <i>order</i>."},{"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1424505947,"post_id":28607191,"comment_id":45585364,"body_markdown":"I don&#39;t fully get it. as the `forEach` in my example happens after the `skip`. meaning after my filter, I don&#39;t care about the order","body":"I don&#39;t fully get it. as the <code>forEach</code> in my example happens after the <code>skip</code>. meaning after my filter, I don&#39;t care about the order"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1494241244,"post_id":28607191,"comment_id":74727538,"body_markdown":"A bit late, I want to acknowledge that your understanding of how `sort`→`skip`→(unordered)`forEach` should work, is correct and that it is indeed implemented to work this way in today’s JREs, but back in 2015, when the previous comments were made, it was indeed an issue (as you may read in [this question](https://stackoverflow.com/q/28259636/2711488)).","body":"A bit late, I want to acknowledge that your understanding of how <code>sort</code>→<code>skip</code>→(unordered)<code>forEach</code> should work, is correct and that it is indeed implemented to work this way in today’s JREs, but back in 2015, when the previous comments were made, it was indeed an issue (as you may read in <a href=\"https://stackoverflow.com/q/28259636/2711488\">this question</a>)."}],"answers":[{"tags":[],"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"down_vote_count":4,"up_vote_count":302,"is_accepted":true,"score":298,"last_activity_date":1424353122,"creation_date":1424351329,"answer_id":28607266,"question_id":28607191,"body_markdown":"You can adapt the solution you linked in https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order by wrapping it in a lambda:\r\n\r\n`.sorted((f1, f2) -&gt; Long.compare(f2.lastModified(), f1.lastModified())`\r\n\r\nnote that *f2* is the first argument of `Long.compare`, not the second, so the result will be reversed.","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can adapt the solution you linked in <a href=\"https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order\">How to sort ArrayList&lt;Long&gt; in Java in decreasing order?</a> by wrapping it in a lambda:</p>\n\n<p><code>.sorted((f1, f2) -&gt; Long.compare(f2.lastModified(), f1.lastModified())</code></p>\n\n<p>note that <em>f2</em> is the first argument of <code>Long.compare</code>, not the second, so the result will be reversed.</p>\n"},{"tags":[],"owner":{"account_id":1545748,"reputation":2904,"user_id":1439333,"accept_rate":70,"display_name":"Vishnudev K"},"down_vote_count":4,"up_vote_count":89,"is_accepted":false,"score":85,"last_activity_date":1541983120,"creation_date":1424351337,"answer_id":28607267,"question_id":28607191,"body_markdown":"Use\r\n\r\n    Comparator&lt;File&gt; comparator = Comparator.comparing(File::lastModified); \r\n    Collections.sort(list, comparator.reversed());\r\n\r\nThen \r\n\r\n    .forEach(item -&gt; item.delete());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Use</p>\n\n<pre><code>Comparator&lt;File&gt; comparator = Comparator.comparing(File::lastModified); \nCollections.sort(list, comparator.reversed());\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>.forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4481658,"reputation":845,"user_id":3645564,"display_name":"iFederx"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1523794852,"creation_date":1441841720,"answer_id":32490757,"question_id":28607191,"body_markdown":"You can use a method reference:\r\n\r\n    import static java.util.Comparator.*;\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    Arrays.asList(files).stream()\r\n        .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n        .sorted(comparing(File::lastModified).reversed())\r\n        .skip(numOfNewestToLeave)\r\n        .forEach(item -&gt; item.delete());\r\n\r\nIn alternative of method reference you can use a lambda expression, so the argument of comparing become:\r\n\r\n    .sorted(comparing(file -&gt; file.lastModified()).reversed());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can use a method reference:</p>\n\n<pre><code>import static java.util.Comparator.*;\nimport static java.util.stream.Collectors.*;\n\nArrays.asList(files).stream()\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n    .sorted(comparing(File::lastModified).reversed())\n    .skip(numOfNewestToLeave)\n    .forEach(item -&gt; item.delete());\n</code></pre>\n\n<p>In alternative of method reference you can use a lambda expression, so the argument of comparing become:</p>\n\n<pre><code>.sorted(comparing(file -&gt; file.lastModified()).reversed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":1,"up_vote_count":286,"is_accepted":false,"score":285,"last_activity_date":1662762291,"creation_date":1489592891,"answer_id":42814603,"question_id":28607191,"body_markdown":"If your stream elements implement `Comparable` then the solution becomes simpler:\r\n\r\n      \r\n     ...stream()\r\n     .sorted(Comparator.reverseOrder())","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>If your stream elements implement <code>Comparable</code> then the solution becomes simpler:</p>\n<pre><code> ...stream()\n .sorted(Comparator.reverseOrder())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493761368,"creation_date":1493761368,"answer_id":43747715,"question_id":28607191,"body_markdown":"This can easily be done using Java 8 and the use of a reversed [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html).\r\n\r\nI have created a list of files from a directory, which I display unsorted, sorted and reverse sorted using a simple Comparator for the sort and then calling reversed() on it to get the reversed version of that Comparator.\r\n\r\nSee code below:\r\n\r\n    package test;\r\n    \r\n    import java.io.File;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class SortTest {\r\n    \tpublic static void main(String... args) {\r\n    \t\tFile directory = new File(&quot;C:/Media&quot;);\r\n    \t\tFile[] files = directory.listFiles();\r\n    \t\tList&lt;File&gt; filesList = Arrays.asList(files);\r\n    \r\n    \t\tComparator&lt;File&gt; comparator = Comparator.comparingLong(File::lastModified);\r\n    \t\tComparator&lt;File&gt; reverseComparator = comparator.reversed();\r\n    \r\n    \t\tList&lt;File&gt; forwardOrder = filesList.stream().sorted(comparator).collect(Collectors.toList());\r\n    \t\tList&lt;File&gt; reverseOrder = filesList.stream().sorted(reverseComparator).collect(Collectors.toList());\r\n    \r\n    \t\tSystem.out.println(&quot;*** Unsorted ***&quot;);\r\n    \t\tfilesList.forEach(SortTest::processFile);\r\n    \r\n    \t\tSystem.out.println(&quot;*** Sort ***&quot;);\r\n    \t\tforwardOrder.forEach(SortTest::processFile);\r\n    \r\n    \t\tSystem.out.println(&quot;*** Reverse Sort ***&quot;);\r\n    \t\treverseOrder.forEach(SortTest::processFile);\r\n    \t}\r\n    \r\n    \tprivate static void processFile(File file) {\r\n    \t\ttry {\r\n    \t\t\tif (file.isFile()) {\r\n    \t\t\t\tSystem.out.println(file.getCanonicalPath() + &quot; - &quot; + new Date(file.lastModified()));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>This can easily be done using Java 8 and the use of a reversed <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>.</p>\n\n<p>I have created a list of files from a directory, which I display unsorted, sorted and reverse sorted using a simple Comparator for the sort and then calling reversed() on it to get the reversed version of that Comparator.</p>\n\n<p>See code below:</p>\n\n<pre><code>package test;\n\nimport java.io.File;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class SortTest {\n    public static void main(String... args) {\n        File directory = new File(\"C:/Media\");\n        File[] files = directory.listFiles();\n        List&lt;File&gt; filesList = Arrays.asList(files);\n\n        Comparator&lt;File&gt; comparator = Comparator.comparingLong(File::lastModified);\n        Comparator&lt;File&gt; reverseComparator = comparator.reversed();\n\n        List&lt;File&gt; forwardOrder = filesList.stream().sorted(comparator).collect(Collectors.toList());\n        List&lt;File&gt; reverseOrder = filesList.stream().sorted(reverseComparator).collect(Collectors.toList());\n\n        System.out.println(\"*** Unsorted ***\");\n        filesList.forEach(SortTest::processFile);\n\n        System.out.println(\"*** Sort ***\");\n        forwardOrder.forEach(SortTest::processFile);\n\n        System.out.println(\"*** Reverse Sort ***\");\n        reverseOrder.forEach(SortTest::processFile);\n    }\n\n    private static void processFile(File file) {\n        try {\n            if (file.isFile()) {\n                System.out.println(file.getCanonicalPath() + \" - \" + new Date(file.lastModified()));\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1512097889,"creation_date":1512097889,"answer_id":47586085,"question_id":28607191,"body_markdown":"Alternative way sharing:\r\n\r\n**ASC**\r\n\r\n    List&lt;Animal&gt; animals = this.service.findAll();\r\n\tanimals = animals.stream().sorted(Comparator.comparing(Animal::getName)).collect(Collectors.toList());\r\n\r\n**DESC**\r\n\r\n    List&lt;Animal&gt; animals = this.service.findAll();\r\n\tanimals = animals.stream().sorted(Comparator.comparing(Animal::getName).reversed()).collect(Collectors.toList());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Alternative way sharing:</p>\n\n<p><strong>ASC</strong></p>\n\n<pre><code>List&lt;Animal&gt; animals = this.service.findAll();\nanimals = animals.stream().sorted(Comparator.comparing(Animal::getName)).collect(Collectors.toList());\n</code></pre>\n\n<p><strong>DESC</strong></p>\n\n<pre><code>List&lt;Animal&gt; animals = this.service.findAll();\nanimals = animals.stream().sorted(Comparator.comparing(Animal::getName).reversed()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14204637,"reputation":470,"user_id":11375887,"display_name":"Jonathan Mendoza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556150421,"creation_date":1556150421,"answer_id":55840060,"question_id":28607191,"body_markdown":"Sort file list with java 8 Collections\r\n\r\nExample how to use Collections and Comparator Java 8 to sort a File list.\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class ShortFile {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;File&gt; fileList = new ArrayList&lt;&gt;();\r\n            fileList.add(new File(&quot;infoSE-201904270100.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904280301.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904280101.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904270101.txt&quot;));\r\n    \r\n            fileList.forEach(x -&gt; System.out.println(x.getName()));\r\n            Collections.sort(fileList, Comparator.comparing(File::getName).reversed());\r\n            System.out.println(&quot;===========================================&quot;);\r\n            fileList.forEach(x -&gt; System.out.println(x.getName()));\r\n        }\r\n    }","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Sort file list with java 8 Collections</p>\n\n<p>Example how to use Collections and Comparator Java 8 to sort a File list.</p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class ShortFile {\n\n    public static void main(String[] args) {\n        List&lt;File&gt; fileList = new ArrayList&lt;&gt;();\n        fileList.add(new File(\"infoSE-201904270100.txt\"));\n        fileList.add(new File(\"infoSE-201904280301.txt\"));\n        fileList.add(new File(\"infoSE-201904280101.txt\"));\n        fileList.add(new File(\"infoSE-201904270101.txt\"));\n\n        fileList.forEach(x -&gt; System.out.println(x.getName()));\n        Collections.sort(fileList, Comparator.comparing(File::getName).reversed());\n        System.out.println(\"===========================================\");\n        fileList.forEach(x -&gt; System.out.println(x.getName()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1679567433,"creation_date":1591334836,"answer_id":62208724,"question_id":28607191,"body_markdown":"In simple, using Comparator and Collection you can sort like below in **reversal** order using **JAVA 8** \r\n\r\n    import java.util.Comparator;;\r\n    import java.util.stream.Collectors;\r\n    \r\n    Arrays.asList(files).stream()\r\n        .sorted(Comparator.comparing(File::getLastModified).reversed())\r\n        .collect(Collectors.toList());\r\n\r\nMake sure that, you are `override` the object with `hashCode()` and `equals` methods, otherwise the above code will not work.","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>In simple, using Comparator and Collection you can sort like below in <strong>reversal</strong> order using <strong>JAVA 8</strong></p>\n<pre><code>import java.util.Comparator;;\nimport java.util.stream.Collectors;\n\nArrays.asList(files).stream()\n    .sorted(Comparator.comparing(File::getLastModified).reversed())\n    .collect(Collectors.toList());\n</code></pre>\n<p>Make sure that, you are <code>override</code> the object with <code>hashCode()</code> and <code>equals</code> methods, otherwise the above code will not work.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592214818,"creation_date":1592214818,"answer_id":62385672,"question_id":28607191,"body_markdown":"For reverse sorting just change the order of x1, x2 for calling the x1.compareTo(x2) method the result will be reverse to one another\r\n\r\n**Default order** \r\n\r\n    List&lt;String&gt; sortedByName = citiesName.stream().sorted((s1,s2)-&gt;s1.compareTo(s2)).collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted by Name : &quot;+ sortedByName);\r\n\r\n**Reverse Order**\r\n\r\n    List&lt;String&gt; reverseSortedByName = citiesName.stream().sorted((s1,s2)-&gt;s2.compareTo(s1)).collect(Collectors.toList());\r\n    System.out.println(&quot;Reverse Sorted by Name : &quot;+ reverseSortedByName );\r\n\r\n\t\t\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>For reverse sorting just change the order of x1, x2 for calling the x1.compareTo(x2) method the result will be reverse to one another</p>\n\n<p><strong>Default order</strong> </p>\n\n<pre><code>List&lt;String&gt; sortedByName = citiesName.stream().sorted((s1,s2)-&gt;s1.compareTo(s2)).collect(Collectors.toList());\nSystem.out.println(\"Sorted by Name : \"+ sortedByName);\n</code></pre>\n\n<p><strong>Reverse Order</strong></p>\n\n<pre><code>List&lt;String&gt; reverseSortedByName = citiesName.stream().sorted((s1,s2)-&gt;s2.compareTo(s1)).collect(Collectors.toList());\nSystem.out.println(\"Reverse Sorted by Name : \"+ reverseSortedByName );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595538399,"creation_date":1595538399,"answer_id":63063126,"question_id":28607191,"body_markdown":"If you want to sort by Object&#39;s date type property then\r\n\r\n    public class Visit implements Serializable, Comparable&lt;Visit&gt;{\r\n    private static final long serialVersionUID = 4976278839883192037L;\r\n    \r\n    private Date dos;\r\n\r\n    public Date getDos() {\r\n        return dos;\r\n    }\r\n\r\n    public void setDos(Date dos) {\r\n        this.dos = dos;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Visit visit) {\r\n        return this.getDos().compareTo(visit.getDos());\r\n    }\r\n}\r\n\r\n    List&lt;Visit&gt; visits = getResults();//Method making the list\r\n    Collections.sort(visits, Collections.reverseOrder());//Reverser order\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>If you want to sort by Object's date type property then</p>\n<pre><code>public class Visit implements Serializable, Comparable&lt;Visit&gt;{\nprivate static final long serialVersionUID = 4976278839883192037L;\n\nprivate Date dos;\n\npublic Date getDos() {\n    return dos;\n}\n\npublic void setDos(Date dos) {\n    this.dos = dos;\n}\n\n@Override\npublic int compareTo(Visit visit) {\n    return this.getDos().compareTo(visit.getDos());\n}\n</code></pre>\n<p>}</p>\n<pre><code>List&lt;Visit&gt; visits = getResults();//Method making the list\nCollections.sort(visits, Collections.reverseOrder());//Reverser order\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096271,"reputation":531,"user_id":6770146,"display_name":"Milan Paudyal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602340758,"creation_date":1602340758,"answer_id":64294589,"question_id":28607191,"body_markdown":"You can define your Comparator with your own logic like this;\r\n        \r\n    private static final Comparator&lt;UserResource&gt; sortByLastLogin = (c1, c2) -&gt; {\r\n        if (Objects.isNull(c1.getLastLoggedin())) {\r\n            return -1;\r\n        } else if (Objects.isNull(c2.getLastLoggedin())) {\r\n            return 1;\r\n        }\r\n        return c1.getLastLoggedin().compareTo(c2.getLastLoggedin());\r\n    };   \r\n\r\n \r\n    \r\nAnd use it inside foreach as:\r\n\r\n    list.stream()\r\n         .sorted(sortCredentialsByLastLogin.reversed())\r\n         .collect(Collectors.toList());\r\n    \r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can define your Comparator with your own logic like this;</p>\n<pre><code>private static final Comparator&lt;UserResource&gt; sortByLastLogin = (c1, c2) -&gt; {\n    if (Objects.isNull(c1.getLastLoggedin())) {\n        return -1;\n    } else if (Objects.isNull(c2.getLastLoggedin())) {\n        return 1;\n    }\n    return c1.getLastLoggedin().compareTo(c2.getLastLoggedin());\n};   \n</code></pre>\n<p>And use it inside foreach as:</p>\n<pre><code>list.stream()\n     .sorted(sortCredentialsByLastLogin.reversed())\n     .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11846697,"reputation":119,"user_id":8669079,"accept_rate":100,"display_name":"Huzefa"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1603615357,"creation_date":1603615357,"answer_id":64521869,"question_id":28607191,"body_markdown":"Instead of all these complications, this simple step should do the trick for reverse sorting using Lambda **.sorted(Comparator.reverseOrder())**\r\n\r\n    Arrays.asList(files).stream()\r\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n    .sorted(Comparator.reverseOrder()).skip(numOfNewestToLeave)\r\n    .forEach(item -&gt; item.delete());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Instead of all these complications, this simple step should do the trick for reverse sorting using Lambda <strong>.sorted(Comparator.reverseOrder())</strong></p>\n<pre><code>Arrays.asList(files).stream()\n.filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n.sorted(Comparator.reverseOrder()).skip(numOfNewestToLeave)\n.forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13133174,"reputation":421,"user_id":9487096,"display_name":"Ram Chhabra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625902389,"creation_date":1625902389,"answer_id":68325675,"question_id":28607191,"body_markdown":"\t\t//sort Stream in reverse oreder with using Lambda Expressrion.\r\n    \r\n\t\tList&lt;String&gt; list = Arrays.asList(&quot;Ram&quot;,&quot;Rahul&quot;,&quot;Ravi&quot;,&quot;Vishal&quot;,&quot;Vaibhav&quot;,&quot;Rohit&quot;,&quot;Harit&quot;,&quot;Raghav&quot;,&quot;Shubhan&quot;);\r\n\t\tList&lt;String&gt; sortedListLambda = list.stream().sorted((x,y)-&gt;y.compareTo(x)).collect(Collectors.toList());\r\n\t\tSystem.out.println(sortedListLambda);","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<pre><code>    //sort Stream in reverse oreder with using Lambda Expressrion.\n\n    List&lt;String&gt; list = Arrays.asList(&quot;Ram&quot;,&quot;Rahul&quot;,&quot;Ravi&quot;,&quot;Vishal&quot;,&quot;Vaibhav&quot;,&quot;Rohit&quot;,&quot;Harit&quot;,&quot;Raghav&quot;,&quot;Shubhan&quot;);\n    List&lt;String&gt; sortedListLambda = list.stream().sorted((x,y)-&gt;y.compareTo(x)).collect(Collectors.toList());\n    System.out.println(sortedListLambda);\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488834,"favorite_count":0,"down_vote_count":0,"up_vote_count":267,"accepted_answer_id":28607266,"answer_count":13,"score":267,"last_activity_date":1679567433,"creation_date":1424351054,"question_id":28607191,"body_markdown":"I&#39;m using java lambda to sort a list.\r\n\r\nhow can I sort it in a reverse way?\r\n\r\nI saw this [post][1], but I want to use java 8 lambda.\r\n\r\n\r\nHere is my code (I used * -1) as a hack\r\n\r\n    Arrays.asList(files).stream()\r\n        .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n        .sorted(new Comparator&lt;File&gt;() {\r\n            public int compare(File o1, File o2) {\r\n                int answer;\r\n                if (o1.lastModified() == o2.lastModified()) {\r\n                    answer = 0;\r\n                } else if (o1.lastModified() &gt; o2.lastModified()) {\r\n                    answer = 1;\r\n                } else {\r\n                    answer = -1;\r\n                }\r\n                return -1 * answer;\r\n            }\r\n        })\r\n        .skip(numOfNewestToLeave)\r\n        .forEach(item -&gt; item.delete());\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>I'm using java lambda to sort a list.</p>\n\n<p>how can I sort it in a reverse way?</p>\n\n<p>I saw this <a href=\"https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order\">post</a>, but I want to use java 8 lambda.</p>\n\n<p>Here is my code (I used * -1) as a hack</p>\n\n<pre><code>Arrays.asList(files).stream()\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n    .sorted(new Comparator&lt;File&gt;() {\n        public int compare(File o1, File o2) {\n            int answer;\n            if (o1.lastModified() == o2.lastModified()) {\n                answer = 0;\n            } else if (o1.lastModified() &gt; o2.lastModified()) {\n                answer = 1;\n            } else {\n                answer = -1;\n            }\n            return -1 * answer;\n        }\n    })\n    .skip(numOfNewestToLeave)\n    .forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":5481715,"reputation":176,"user_id":4357942,"display_name":"Sachin"},"score":0,"creation_date":1607796199,"post_id":65268107,"comment_id":115387756,"body_markdown":"Did you tried @jsonignore over property named content?","body":"Did you tried @jsonignore over property named content?"},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":0,"creation_date":1607802805,"post_id":65268107,"comment_id":115389632,"body_markdown":"Yes, I tried that as you can see I have commented it on line 2. If I ignore it, it returns null value even if I pass the value for `content` in the json object.","body":"Yes, I tried that as you can see I have commented it on line 2. If I ignore it, it returns null value even if I pass the value for <code>content</code> in the json object."},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":0,"creation_date":1607803442,"post_id":65268107,"comment_id":115389807,"body_markdown":"For now, I solved the problem by setting the `content` to null after storing it in S3, so that it does not get stored in DynamoDB(since DynamoDB is very expensive).","body":"For now, I solved the problem by setting the <code>content</code> to null after storing it in S3, so that it does not get stored in DynamoDB(since DynamoDB is very expensive)."}],"answers":[{"tags":[],"owner":{"account_id":2433490,"reputation":147,"user_id":2123924,"display_name":"mikethe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647781949,"creation_date":1637248209,"answer_id":70022246,"question_id":65268107,"body_markdown":"You can use ```@DynamoDBIgnore``` - [AWS documentation](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBIgnore)\r\n\r\nIn your example:\r\n\r\n```\r\n    @DynamoDBIgnore\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n```\r\n\r\n","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>You can use <code>@DynamoDBIgnore</code> - <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBIgnore\" rel=\"nofollow noreferrer\">AWS documentation</a></p>\n<p>In your example:</p>\n<pre><code>    @DynamoDBIgnore\n    public String getContent() {\n        return content;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679566989,"creation_date":1679566989,"answer_id":75821806,"question_id":65268107,"body_markdown":"it&#39;s @DynamoDbIgnore annotation.. not @DynamoDBIgnore","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>it's @DynamoDbIgnore annotation.. not @DynamoDBIgnore</p>\n"}],"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70022246,"answer_count":2,"score":1,"last_activity_date":1679566989,"creation_date":1607795942,"question_id":65268107,"body_markdown":"Here is my POJO that I use to store in DynamoDB using DynamodbMapper\r\n\r\n    @DynamoDBTable(tableName = &quot;Data&quot;)\r\n    // @JsonIgnoreProperties(value = { &quot;content&quot; })\r\n    public class Data {\r\n        @DynamoDBRangeKey(attributeName = &quot;Url&quot;)\r\n        @DynamoDBAutoGeneratedKey\r\n        @JsonProperty(&quot;url&quot;)\r\n        private String url;\r\n    \r\n        @DynamoDBHashKey(attributeName = &quot;UserName&quot;)\r\n        @JsonProperty(&quot;userName&quot;)\r\n        private String userName;\r\n    \r\n        @JsonProperty(&quot;title&quot;)\r\n        @DynamoDBAttribute(attributeName = &quot;Title&quot;)\r\n        private String pasteTitle;\r\n    \r\n        @JsonProperty(&quot;content&quot;)\r\n        private String content;\r\n    \r\n        @JsonProperty(&quot;date&quot;)\r\n        @DynamoDBAttribute(attributeName = &quot;Date&quot;)\r\n        private String date;\r\n    \r\n    }\r\n\r\nEvery time I run `DynamoDBMapper.save(data)`, it stores `content` as well even if it does not have `DynamoDBAttribute` annotation. By using `@JsonIgnoreProperties(value = { &quot;content&quot; })` it makes the value as null and does not store the content. But I would like to store the content in S3 and not DynamoDB and hence looking for a way to ignore this in DynamoDBAttribute.","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>Here is my POJO that I use to store in DynamoDB using DynamodbMapper</p>\n<pre><code>@DynamoDBTable(tableName = &quot;Data&quot;)\n// @JsonIgnoreProperties(value = { &quot;content&quot; })\npublic class Data {\n    @DynamoDBRangeKey(attributeName = &quot;Url&quot;)\n    @DynamoDBAutoGeneratedKey\n    @JsonProperty(&quot;url&quot;)\n    private String url;\n\n    @DynamoDBHashKey(attributeName = &quot;UserName&quot;)\n    @JsonProperty(&quot;userName&quot;)\n    private String userName;\n\n    @JsonProperty(&quot;title&quot;)\n    @DynamoDBAttribute(attributeName = &quot;Title&quot;)\n    private String pasteTitle;\n\n    @JsonProperty(&quot;content&quot;)\n    private String content;\n\n    @JsonProperty(&quot;date&quot;)\n    @DynamoDBAttribute(attributeName = &quot;Date&quot;)\n    private String date;\n\n}\n</code></pre>\n<p>Every time I run <code>DynamoDBMapper.save(data)</code>, it stores <code>content</code> as well even if it does not have <code>DynamoDBAttribute</code> annotation. By using <code>@JsonIgnoreProperties(value = { &quot;content&quot; })</code> it makes the value as null and does not store the content. But I would like to store the content in S3 and not DynamoDB and hence looking for a way to ignore this in DynamoDBAttribute.</p>\n"},{"tags":["java","opengl","lwjgl"],"comments":[{"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1679432601,"post_id":75806142,"comment_id":133720958,"body_markdown":"Is `Float.SIZE` the size in bits but not in bytes? So is it 32 instead of 4?","body":"Is <code>Float.SIZE</code> the size in bits but not in bytes? So is it 32 instead of 4?"}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679566940,"creation_date":1679432766,"answer_id":75806350,"question_id":75806142,"body_markdown":"The `SIZE` constant represents the size in **bits**, but not in bytes. However, the _stride_ argument of [`glVertexAttribPointer`](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml) specifies the **byte** offset between consecutive generic vertex attributes\r\n\r\n&lt;s&gt;`glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);`&lt;/s&gt;\r\n```java\r\nglVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE / 8, 0);\r\n```\r\n\r\nor \r\n\r\n```java\r\nglVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\r\n```","title":"GLFW3 Hello Triangle","body":"<p>The <code>SIZE</code> constant represents the size in <strong>bits</strong>, but not in bytes. However, the <em>stride</em> argument of <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml\" rel=\"nofollow noreferrer\"><code>glVertexAttribPointer</code></a> specifies the <strong>byte</strong> offset between consecutive generic vertex attributes</p>\n<p><s><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE / 8, 0);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\n</code></pre>\n"}],"owner":{"account_id":13247849,"reputation":91,"user_id":9566365,"display_name":"Bruno Ara&#250;jo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75806350,"answer_count":1,"score":1,"last_activity_date":1679566940,"creation_date":1679431121,"question_id":75806142,"body_markdown":"I&#39;m stuck trying to figure out why this code is wrong. Its suposed to show a square on the screen. With GL_FRONT_AND_BACK to GL_LINE i see a single line. With GL_FRONT_AND_BACK to GL_FILL a get nothing.\r\n\r\nFragment shader:\r\n```glsl\r\n#version 330 core\r\n\r\nout vec4 oColor;\r\n\r\nvoid main() {\r\n   oColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\r\n}\r\n```\r\n\r\nVertex Shader:\r\n```glsl\r\n#version 330 core\r\n\r\nlayout (location = 0) in vec3 iPosition;\r\n\r\nvoid main() {\r\n    gl_Position = vec4(iPosition, 1.0);\r\n}\r\n```\r\n\r\nAll this code is basicaly copied from the learn opengl site https://learnopengl.com/Getting-started/Hello-Triangle\r\n\r\n```java\r\nimport org.lwjgl.opengl.GL;\r\nimport org.lwjgl.opengl.GL11;\r\nimport org.lwjgl.system.MemoryUtil;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\nimport static org.lwjgl.opengl.GL15.*;\r\nimport static org.lwjgl.opengl.GL20.*;\r\nimport static org.lwjgl.opengl.GL30.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\n\r\npublic class HelloTriangle {\r\n\r\n    public static void main(String[] args) {\r\n        if (!glfwInit()) {\r\n            System.out.println(&quot;GLFW failed to initialize&quot;);\r\n            System.exit(9);\r\n        }\r\n\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n\r\n        final var window = glfwCreateWindow(800, 600, &quot;LearnOpenGL&quot;, MemoryUtil.NULL, MemoryUtil.NULL);\r\n        if (window == 0) {\r\n            System.out.println(&quot;GLFW failed to create window&quot;);\r\n            glfwTerminate();\r\n            System.exit(9);\r\n        }\r\n\r\n        {\r\n            glfwMakeContextCurrent(window);\r\n            GL.createCapabilities();\r\n            glfwSetFramebufferSizeCallback(window, (long w, int width, int height) -&gt; GL11.glViewport(0,0, width, height));\r\n        }\r\n\r\n        final var program = glCreateProgram();\r\n        {\r\n            final var vertex = glCreateShader(GL_VERTEX_SHADER);\r\n            glShaderSource(vertex, getResourceAsString(&quot;basic.vert&quot;));\r\n            glCompileShader(vertex);\r\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\r\n                System.out.printf(&quot;Failed to compile VERTEX Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\r\n                GL.destroy();\r\n                glfwTerminate();\r\n                System.exit(9);\r\n            }\r\n            glAttachShader(program, vertex);\r\n\r\n            final var fragment = glCreateShader(GL_FRAGMENT_SHADER);\r\n            glShaderSource(fragment, getResourceAsString(&quot;basic.frag&quot;));\r\n            glCompileShader(fragment);\r\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\r\n                System.out.printf(&quot;Failed to compile FRAGMENT Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\r\n                GL.destroy();\r\n                glfwTerminate();\r\n                System.exit(9);\r\n            }\r\n            glAttachShader(program, fragment);\r\n\r\n            glLinkProgram(program);\r\n            glDeleteShader(vertex);\r\n            glDeleteShader(fragment);\r\n        }\r\n\r\n        final var VAO = glGenVertexArrays();\r\n        final var VBO = glGenBuffers();\r\n        final var EBO = glGenBuffers();\r\n        {\r\n            glBindVertexArray(VAO);\r\n            float[] vertices = {\r\n                    0.5f,  0.5f, 0.0f,  // top right\r\n                    0.5f, -0.5f, 0.0f,  // bottom right\r\n                    -0.5f, -0.5f, 0.0f,  // bottom left\r\n                    -0.5f,  0.5f, 0.0f   // top left\r\n            };\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, VBO);\r\n            glBufferData(GL_ARRAY_BUFFER, vertices, GL_STATIC_DRAW);\r\n\r\n            int[] indices = {  // note that we start from 0!\r\n                    0, 1, 3,  // first Triangle\r\n                    1, 2, 3   // second Triangle\r\n            };\r\n\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\r\n            glBufferData(GL_ELEMENT_ARRAY_BUFFER, indices, GL_STATIC_DRAW);\r\n\r\n            glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);\r\n            glEnableVertexAttribArray(0);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        }\r\n\r\n        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);\r\n        glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\r\n\r\n        glfwShowWindow(window);\r\n        while (!glfwWindowShouldClose(window))\r\n        {\r\n            // input\r\n            // -----\r\n            if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)\r\n                glfwSetWindowShouldClose(window, true);\r\n\r\n            // render\r\n            // ------\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            // draw our first triangle\r\n            glUseProgram(program);\r\n            glBindVertexArray(VAO);\r\n            glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\r\n\r\n            // glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)\r\n            // -------------------------------------------------------------------------------\r\n            glfwSwapBuffers(window);\r\n            glfwPollEvents();\r\n        }\r\n\r\n        // optional: de-allocate all resources once they&#39;ve outlived their purpose:\r\n        // ------------------------------------------------------------------------\r\n        glDeleteVertexArrays(VAO);\r\n        glDeleteBuffers(VBO);\r\n        glDeleteBuffers(EBO);\r\n        glDeleteProgram(program);\r\n\r\n        // glfw: terminate, clearing all previously allocated GLFW resources.\r\n        // ------------------------------------------------------------------\r\n        GL.destroy();\r\n        glfwTerminate();\r\n    }\r\n\r\n    private static String getResourceAsString(String name) {\r\n        try {\r\n            final var resource = Thread.currentThread().getContextClassLoader().getResource(name);\r\n            if (resource == null) return null;\r\n\r\n            final var path = Paths.get(resource.toURI());\r\n            return Files.readString(path);\r\n        } catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"GLFW3 Hello Triangle","body":"<p>I'm stuck trying to figure out why this code is wrong. Its suposed to show a square on the screen. With GL_FRONT_AND_BACK to GL_LINE i see a single line. With GL_FRONT_AND_BACK to GL_FILL a get nothing.</p>\n<p>Fragment shader:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330 core\n\nout vec4 oColor;\n\nvoid main() {\n   oColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\n}\n</code></pre>\n<p>Vertex Shader:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330 core\n\nlayout (location = 0) in vec3 iPosition;\n\nvoid main() {\n    gl_Position = vec4(iPosition, 1.0);\n}\n</code></pre>\n<p>All this code is basicaly copied from the learn opengl site <a href=\"https://learnopengl.com/Getting-started/Hello-Triangle\" rel=\"nofollow noreferrer\">https://learnopengl.com/Getting-started/Hello-Triangle</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.lwjgl.opengl.GL;\nimport org.lwjgl.opengl.GL11;\nimport org.lwjgl.system.MemoryUtil;\n\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport static org.lwjgl.opengl.GL15.*;\nimport static org.lwjgl.opengl.GL20.*;\nimport static org.lwjgl.opengl.GL30.*;\nimport static org.lwjgl.glfw.GLFW.*;\n\npublic class HelloTriangle {\n\n    public static void main(String[] args) {\n        if (!glfwInit()) {\n            System.out.println(&quot;GLFW failed to initialize&quot;);\n            System.exit(9);\n        }\n\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n\n        final var window = glfwCreateWindow(800, 600, &quot;LearnOpenGL&quot;, MemoryUtil.NULL, MemoryUtil.NULL);\n        if (window == 0) {\n            System.out.println(&quot;GLFW failed to create window&quot;);\n            glfwTerminate();\n            System.exit(9);\n        }\n\n        {\n            glfwMakeContextCurrent(window);\n            GL.createCapabilities();\n            glfwSetFramebufferSizeCallback(window, (long w, int width, int height) -&gt; GL11.glViewport(0,0, width, height));\n        }\n\n        final var program = glCreateProgram();\n        {\n            final var vertex = glCreateShader(GL_VERTEX_SHADER);\n            glShaderSource(vertex, getResourceAsString(&quot;basic.vert&quot;));\n            glCompileShader(vertex);\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\n                System.out.printf(&quot;Failed to compile VERTEX Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\n                GL.destroy();\n                glfwTerminate();\n                System.exit(9);\n            }\n            glAttachShader(program, vertex);\n\n            final var fragment = glCreateShader(GL_FRAGMENT_SHADER);\n            glShaderSource(fragment, getResourceAsString(&quot;basic.frag&quot;));\n            glCompileShader(fragment);\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\n                System.out.printf(&quot;Failed to compile FRAGMENT Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\n                GL.destroy();\n                glfwTerminate();\n                System.exit(9);\n            }\n            glAttachShader(program, fragment);\n\n            glLinkProgram(program);\n            glDeleteShader(vertex);\n            glDeleteShader(fragment);\n        }\n\n        final var VAO = glGenVertexArrays();\n        final var VBO = glGenBuffers();\n        final var EBO = glGenBuffers();\n        {\n            glBindVertexArray(VAO);\n            float[] vertices = {\n                    0.5f,  0.5f, 0.0f,  // top right\n                    0.5f, -0.5f, 0.0f,  // bottom right\n                    -0.5f, -0.5f, 0.0f,  // bottom left\n                    -0.5f,  0.5f, 0.0f   // top left\n            };\n\n            glBindBuffer(GL_ARRAY_BUFFER, VBO);\n            glBufferData(GL_ARRAY_BUFFER, vertices, GL_STATIC_DRAW);\n\n            int[] indices = {  // note that we start from 0!\n                    0, 1, 3,  // first Triangle\n                    1, 2, 3   // second Triangle\n            };\n\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\n            glBufferData(GL_ELEMENT_ARRAY_BUFFER, indices, GL_STATIC_DRAW);\n\n            glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);\n            glEnableVertexAttribArray(0);\n\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\n        }\n\n        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);\n        glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\n\n        glfwShowWindow(window);\n        while (!glfwWindowShouldClose(window))\n        {\n            // input\n            // -----\n            if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)\n                glfwSetWindowShouldClose(window, true);\n\n            // render\n            // ------\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            // draw our first triangle\n            glUseProgram(program);\n            glBindVertexArray(VAO);\n            glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n\n            // glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)\n            // -------------------------------------------------------------------------------\n            glfwSwapBuffers(window);\n            glfwPollEvents();\n        }\n\n        // optional: de-allocate all resources once they've outlived their purpose:\n        // ------------------------------------------------------------------------\n        glDeleteVertexArrays(VAO);\n        glDeleteBuffers(VBO);\n        glDeleteBuffers(EBO);\n        glDeleteProgram(program);\n\n        // glfw: terminate, clearing all previously allocated GLFW resources.\n        // ------------------------------------------------------------------\n        GL.destroy();\n        glfwTerminate();\n    }\n\n    private static String getResourceAsString(String name) {\n        try {\n            final var resource = Thread.currentThread().getContextClassLoader().getResource(name);\n            if (resource == null) return null;\n\n            final var path = Paths.get(resource.toURI());\n            return Files.readString(path);\n        } catch (Exception ex) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","spring","xml-parsing"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1679567640,"post_id":75821752,"comment_id":133746169,"body_markdown":"What you probably need is the @XmlList annotation which does exactly what you want: https://howtodoinjava.com/jaxb/jaxb-annotations/#XmlList","body":"What you probably need is the @XmlList annotation which does exactly what you want: <a href=\"https://howtodoinjava.com/jaxb/jaxb-annotations/#XmlList\" rel=\"nofollow noreferrer\">howtodoinjava.com/jaxb/jaxb-annotations/#XmlList</a>"}],"owner":{"account_id":10959500,"reputation":210,"user_id":8053244,"display_name":"Buda Sergiu Flavius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679566689,"creation_date":1679566689,"question_id":75821752,"body_markdown":"I have an object that I want to parse to XML. I manage to parse it but it does contain also some tagname/fieldname that I don&#39;t want:\r\n\r\nThis is how it looks right now:\r\n\r\n\r\n```\r\n&lt;polygon&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.316&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3914&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.3158&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3952&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.3159&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3968&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n &lt;/polygon&gt;\r\n\r\n```\r\nAnd I want it like this:\r\n\r\n\r\n```\r\n&lt;polygon&gt;42.316,-71.3914 42.3158,-71.3952 42.3159,-71.3968&lt;/polygon&gt;\r\n```\r\n\r\nI have the classes defined like this:\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@XmlRootElement(name = &quot;area&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlSeeAlso(ArrayList.class)\r\npublic class Area {\r\n    @XmlElement(name = &quot;polygon&quot;)\r\n    List&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\r\n\r\n    public void addPolygon(Polygon polugon) {\r\n        if (polygonCList == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        polygonCList.add(polugon);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@XmlRootElement(name = &quot;polygon&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Polygon {\r\n    List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\r\n     \r\n    public void addPoint(Point pointC) {\r\n        if (pointC == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        pointCList.add(pointC);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Point {\r\n    Double latitude = 0D;\r\n    Double longitude = 0D;\r\n}\r\n\r\n```\r\n\r\nAnd I was parsing using:\r\n\r\n\r\n```\r\nJAXBContext jaxbContext3 = JAXBContext.newInstance(Area.class);\r\nMarshaller jaxbMarshaller3 = jaxbContext3.createMarshaller();\r\njaxbMarshaller3.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\naxbMarshaller3.marshal(alert, document);\r\n```\r\n\r\nIs there a way to achieve that format?\r\n","title":"How to parse an object to XML without specifying the tagname(fieldName)?","body":"<p>I have an object that I want to parse to XML. I manage to parse it but it does contain also some tagname/fieldname that I don't want:</p>\n<p>This is how it looks right now:</p>\n<pre><code>&lt;polygon&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.316&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3914&lt;/longitude&gt;\n        &lt;/pointList&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.3158&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3952&lt;/longitude&gt;\n        &lt;/pointList&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.3159&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3968&lt;/longitude&gt;\n        &lt;/pointList&gt;\n &lt;/polygon&gt;\n\n</code></pre>\n<p>And I want it like this:</p>\n<pre><code>&lt;polygon&gt;42.316,-71.3914 42.3158,-71.3952 42.3159,-71.3968&lt;/polygon&gt;\n</code></pre>\n<p>I have the classes defined like this:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@XmlRootElement(name = &quot;area&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlSeeAlso(ArrayList.class)\npublic class Area {\n    @XmlElement(name = &quot;polygon&quot;)\n    List&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\n\n    public void addPolygon(Polygon polugon) {\n        if (polygonCList == null) {\n            throw new NullPointerException();\n        }\n        polygonCList.add(polugon);\n    }\n}\n</code></pre>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@XmlRootElement(name = &quot;polygon&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Polygon {\n    List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\n     \n    public void addPoint(Point pointC) {\n        if (pointC == null) {\n            throw new NullPointerException();\n        }\n        pointCList.add(pointC);\n    }\n}\n\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Point {\n    Double latitude = 0D;\n    Double longitude = 0D;\n}\n\n</code></pre>\n<p>And I was parsing using:</p>\n<pre><code>JAXBContext jaxbContext3 = JAXBContext.newInstance(Area.class);\nMarshaller jaxbMarshaller3 = jaxbContext3.createMarshaller();\njaxbMarshaller3.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\naxbMarshaller3.marshal(alert, document);\n</code></pre>\n<p>Is there a way to achieve that format?</p>\n"},{"tags":["java","android","worker"],"comments":[{"owner":{"account_id":18430574,"reputation":601,"user_id":13425836,"display_name":"Bratislav Damnjanovic"},"score":0,"creation_date":1660806331,"post_id":69058278,"comment_id":129620666,"body_markdown":"Did you manage to find out what was the problem?","body":"Did you manage to find out what was the problem?"},{"owner":{"account_id":3406675,"reputation":105,"user_id":2857564,"display_name":"OlsonLong"},"score":0,"creation_date":1662127605,"post_id":69058278,"comment_id":129941072,"body_markdown":"@BratislavDamnjanovic Unfortunately not. I had to pause the project for a while but will work on it in the future again. Hope I&#39;ll solve it until then","body":"@BratislavDamnjanovic Unfortunately not. I had to pause the project for a while but will work on it in the future again. Hope I&#39;ll solve it until then"}],"answers":[{"tags":[],"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679520408,"creation_date":1679520408,"answer_id":75817380,"question_id":69058278,"body_markdown":"I&#39;ll try to answer some of these to my best knowledge.\r\n\r\n&gt; Why does the worker execute after closing the process and opening the\r\n&gt; App?\r\n\r\nNot sure, but you can cancel all unique work with that tag on app startup, which will stop it from automatically executing.\r\n\r\n&gt; Why are there so many workers listed?\r\n\r\n`WorkManager` keeps `WorkInfo`s in it&#39;s internal database and cleans it automatically when it thinks its best time to do so.\r\nYou can use `workmanager.pruneWork()` to do this cleaning yourself, but use it with caution as explained in the documentation.\r\n \r\n\r\n&gt; Does my logic create one single worker chain or multiple ones?\r\n\r\nIt creates single chain since you are using `uniqeWork` and `ExistingWorkPolicy.REPLACE`.\r\n\r\n&gt; Is my logic even consistent/usable like this?\r\n\r\nI do not see a reason why it should not be, you created your own implementation of periodic worker which can be executed with less than 15 minutes period.\r\n\r\n&gt; Why are the worker not closing using .cancelAllWorkByTag(TAG)?\r\n\r\nIf it is not cancelling it is most likely doe your code. Cancelation is on best effort, as explained in [documentation][1], so you need to check for it.\r\nI will quote separate [answer][2]:\r\n\r\n&gt; In summary, if you have a pending worker which hasn&#39;t started yet, the\r\n&gt; worker will be cancelled and will not run. However if the worker is\r\n&gt; already running, cancelling work does not terminate the worker in a\r\n&gt; hard fashion - it simply sets the state flag of the worker to\r\n&gt; CANCELLED, as explained in the docs. It is up to you to handle the\r\n&gt; cancellation inside your doWork and terminate the worker.\r\n&gt; \r\n&gt; One way to do this is to put a few checks in your doWork method to\r\n&gt; check if the worker has been cancelled, by calling isStopped(). If\r\n&gt; isStopped is true, return from the method with a Result instead of\r\n&gt; continuing with the rest of the work.\r\n\r\n Also double check that same tags are used. Since you are using `uniqueWork` you can also use `cancelUniqueWork`.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/persistent/how-to/manage-work#cancelling\r\n  [2]: https://stackoverflow.com/a/56891687/6845311","title":"Problem with Androids &quot;OneTimeWorker&quot;, it executes when app starts","body":"<p>I'll try to answer some of these to my best knowledge.</p>\n<blockquote>\n<p>Why does the worker execute after closing the process and opening the\nApp?</p>\n</blockquote>\n<p>Not sure, but you can cancel all unique work with that tag on app startup, which will stop it from automatically executing.</p>\n<blockquote>\n<p>Why are there so many workers listed?</p>\n</blockquote>\n<p><code>WorkManager</code> keeps <code>WorkInfo</code>s in it's internal database and cleans it automatically when it thinks its best time to do so.\nYou can use <code>workmanager.pruneWork()</code> to do this cleaning yourself, but use it with caution as explained in the documentation.</p>\n<blockquote>\n<p>Does my logic create one single worker chain or multiple ones?</p>\n</blockquote>\n<p>It creates single chain since you are using <code>uniqeWork</code> and <code>ExistingWorkPolicy.REPLACE</code>.</p>\n<blockquote>\n<p>Is my logic even consistent/usable like this?</p>\n</blockquote>\n<p>I do not see a reason why it should not be, you created your own implementation of periodic worker which can be executed with less than 15 minutes period.</p>\n<blockquote>\n<p>Why are the worker not closing using .cancelAllWorkByTag(TAG)?</p>\n</blockquote>\n<p>If it is not cancelling it is most likely doe your code. Cancelation is on best effort, as explained in <a href=\"https://developer.android.com/guide/background/persistent/how-to/manage-work#cancelling\" rel=\"nofollow noreferrer\">documentation</a>, so you need to check for it.\nI will quote separate <a href=\"https://stackoverflow.com/a/56891687/6845311\">answer</a>:</p>\n<blockquote>\n<p>In summary, if you have a pending worker which hasn't started yet, the\nworker will be cancelled and will not run. However if the worker is\nalready running, cancelling work does not terminate the worker in a\nhard fashion - it simply sets the state flag of the worker to\nCANCELLED, as explained in the docs. It is up to you to handle the\ncancellation inside your doWork and terminate the worker.</p>\n<p>One way to do this is to put a few checks in your doWork method to\ncheck if the worker has been cancelled, by calling isStopped(). If\nisStopped is true, return from the method with a Result instead of\ncontinuing with the rest of the work.</p>\n</blockquote>\n<p>Also double check that same tags are used. Since you are using <code>uniqueWork</code> you can also use <code>cancelUniqueWork</code>.</p>\n"}],"owner":{"account_id":3406675,"reputation":105,"user_id":2857564,"display_name":"OlsonLong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1679566439,"answer_count":1,"score":2,"last_activity_date":1679566433,"creation_date":1630782655,"question_id":69058278,"body_markdown":"### Short description:\r\n\r\nI am currently working in Android Studio with ```OneTimeWorkRequest()```. What I want to achieve is to create a background-worker that runs and repeats **&quot;almost&quot;** on a specific time, like every hour (09:00, 10:00, etc). It has not to be exactly but should not vary too much after a long time running.\r\n\r\nI already know that the worker only runs every 15 minutes at minimum due to Android restrictions (like battery saving mechanism and so on). I do not need the worker to run exactly at the given time but at least almost around a target time! That is why I used ```OneTimeWorkRequest()``` instead of ```PeriodicWorkRequest()``` because I needed the possibility of variation in setting the interval for the worker since the documentation mentions that the ```PeriodicWorkRequest()``` will add up a time delay from one execution to another.\r\n\r\n### What I did:\r\n\r\nI have created a custom Worker-Class and used ```OneTimeWorkRequest()``` in my ```MainActivity``` to create the BackgroundWorker. I have set the ```setInitialDelay()``` of the worker to 20 minutes for testing purpose. Every time the worker did ```doWork()```, it creates another ```OneTimeWorkRequest()``` at the end of execution so a chain of worker gets created in at a given time. The worker gets queued with the ```enqueueUniqueWork()``` method from the ```WorkerManager.getInstance(context)``` and the interval is calculated.\r\n\r\n### The Problem:\r\n\r\nEvery time I close the app&#39;s process and reopen the app, the worker executes directly. Also when I list all worker created by the specified tag, it lists many workers. It seems to me that my logic created too many worker without closing the old ones, or it creates multiple ones? Yet I thought the ```enqueueUniqueWork()``` would replace or create only unique/single worker with the given tag. In addition the ```WorkManager.getInstance(this).cancelAllWorkByTag(TAG)``` function does not close the (later in this post) listed worker!\r\n\r\nRight now it is not important for me how to create worker execution at a given time, but how to create consistent worker-chain with ```OneTimeWorkRequest()``` that do not create a &quot;worker-overload&quot;, if possible. Yet I am open for alternative solutions.\r\n\r\nSo again:\r\n- Why does the worker execute after closing the process and opening the App?\r\n- Why are there so many workers listed?\r\n- Does my logic create one single worker chain or multiple ones?\r\n- Is my logic even consistent/usable like this?\r\n- Why are the worker not closing using ```.cancelAllWorkByTag(TAG)```?\r\n\r\n### Code:\r\n\r\nMainActivity.java:\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\t\r\n\t...\r\n\t\r\n        // For testing purpose used...\r\n\tListScheduledWorker(TAG);\r\n\tWorkManager.getInstance(this).cancelAllWorkByTag(TAG);\r\n\tListScheduledWorker(TAG);\r\n        // ...until here.\r\n\r\n\tCreateOneTimeWorker();\r\n\t\r\n\t...\r\n}\r\n\r\nprivate void CreateOneTimeWorker(){\r\n    long timeValue = 20;\r\n    TimeUnit timeUnit = TimeUnit.MINUTES;\r\n\tString workerTag = MhdExpirationPushNotification.class.getSimpleName();\r\n\tOneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\r\n\t\t\t.setInitialDelay(timeValue, timeUnit)\r\n\t\t\t.addTag(workerTag)\r\n\t\t\t.setConstraints(Constraints.NONE)\r\n\t\t\t.build();\r\n\tWorkManager.getInstance(this).enqueueUniqueWork(workerTag, ExistingWorkPolicy.KEEP, worker);\r\n}\r\n```\r\n\r\nCustomPeriodicallyWorker.java:\r\n```java\r\npublic Result doWork(){\r\n\tLog.v(TAG, &quot;Work is in progress&quot;);\r\n\ttry {\r\n\t\tCustomDateFormatter currentDateTime = new CustomDateFormatter();\r\n\t\tCustomDateFormatter targetDateTime = new CustomDateFormatter();\r\n\t\ttargetDateTime.AddMinutes(20);\r\n\t\tlong timeDifference = targetDateTime.GetDateTime().getTime() - currentDateTime.GetDateTime().getTime();\r\n\r\n\t\tOneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\r\n\t\t\t\t.setInitialDelay(timeDifference, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.addTag(TAG)\r\n\t\t\t\t.build();\r\n\t\tWorkManager.getInstance(context).enqueueUniqueWork(TAG, ExistingWorkPolicy.REPLACE, worker);\r\n\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\tLog.v(TAG, &quot;Work finished&quot;);;\r\n\r\n\treturn Result.success();\r\n}\r\n```\r\n\r\nThe function in ```MainActivity.java``` that lists all scheduled worker:\r\n```java\r\nprivate boolean ListScheduledWorker(String tag) {\r\n\tWorkManager instance = WorkManager.getInstance(this);\r\n\tListenableFuture&lt;List&lt;WorkInfo&gt;&gt; statuses = instance.getWorkInfosByTag(tag);\r\n\ttry {\r\n\t\tboolean running = false;\r\n\t\tList&lt;WorkInfo&gt; workInfoList = statuses.get();\r\n\t\tfor (WorkInfo workInfo : workInfoList) {\r\n\t\t\tLog.i(TAG, &quot;Scheduled Worker running with ID: &quot; + workInfo.getId());\r\n\t\t\tWorkInfo.State state = workInfo.getState();\r\n\t\t\trunning = state == WorkInfo.State.RUNNING | state == WorkInfo.State.ENQUEUED;\r\n\t\t}\r\n\t\treturn running;\r\n\t} catch (ExecutionException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nThe ```ListScheduledWorker(String tag)``` prints me this out:\r\n```none\r\nI/TAG: Scheduled Worker running with ID: 27bb31ed-5984-434f-a6ca-08b50462b3df\r\n    Scheduled Worker running with ID: 2d6abbb1-3a55-4652-83ca-60617631e0ab\r\n    Scheduled Worker running with ID: 3e89851d-7e0b-410d-86b8-e664a4d710f0\r\n    Scheduled Worker running with ID: 430e77b2-5fb8-4596-acd5-51e35a6a538b\r\n    Scheduled Worker running with ID: 73b57443-8195-4c55-a24d-bd643b88e13c\r\n    Scheduled Worker running with ID: 74c8a44b-2a9a-4448-b3d5-e2c085be3d06\r\n    Scheduled Worker running with ID: 75deabd3-08e8-403a-b9d7-6c23f114a908\r\n    Scheduled Worker running with ID: 89ec6239-e215-4ea1-a7bc-fcaa8b63065c\r\n    Scheduled Worker running with ID: 9363038e-be74-4a83-9d1f-eeeda35ebbfa\r\n    Scheduled Worker running with ID: 9a09806f-f0cf-43c1-a4f6-1f10448904f4\r\n    Scheduled Worker running with ID: c6686c56-fd8a-4866-8eb1-5124654b6cb7\r\n    Scheduled Worker running with ID: d3343328-db8f-4c8d-8055-a1acfc9d1c5c\r\n    Scheduled Worker running with ID: dea9272f-6770-45f0-ba66-2c845e156d7b\r\n    Scheduled Worker running with ID: eb4c111c-97c5-46c3-ba5c-ceefe652398c\r\n    Scheduled Worker running with ID: fc71f8dc-1785-43cd-9a44-1fe4e913ca6e\r\n    Scheduled Worker running with ID: fca1bcea-97d9-4066-8b5a-8b5496ffed1e\r\n```\r\n\r\n..and the list grows every time when I rebuild/restart the app in Android Studio or on my physical device.","title":"Problem with Androids &quot;OneTimeWorker&quot;, it executes when app starts","body":"<h3>Short description:</h3>\n<p>I am currently working in Android Studio with <code>OneTimeWorkRequest()</code>. What I want to achieve is to create a background-worker that runs and repeats <strong>&quot;almost&quot;</strong> on a specific time, like every hour (09:00, 10:00, etc). It has not to be exactly but should not vary too much after a long time running.</p>\n<p>I already know that the worker only runs every 15 minutes at minimum due to Android restrictions (like battery saving mechanism and so on). I do not need the worker to run exactly at the given time but at least almost around a target time! That is why I used <code>OneTimeWorkRequest()</code> instead of <code>PeriodicWorkRequest()</code> because I needed the possibility of variation in setting the interval for the worker since the documentation mentions that the <code>PeriodicWorkRequest()</code> will add up a time delay from one execution to another.</p>\n<h3>What I did:</h3>\n<p>I have created a custom Worker-Class and used <code>OneTimeWorkRequest()</code> in my <code>MainActivity</code> to create the BackgroundWorker. I have set the <code>setInitialDelay()</code> of the worker to 20 minutes for testing purpose. Every time the worker did <code>doWork()</code>, it creates another <code>OneTimeWorkRequest()</code> at the end of execution so a chain of worker gets created in at a given time. The worker gets queued with the <code>enqueueUniqueWork()</code> method from the <code>WorkerManager.getInstance(context)</code> and the interval is calculated.</p>\n<h3>The Problem:</h3>\n<p>Every time I close the app's process and reopen the app, the worker executes directly. Also when I list all worker created by the specified tag, it lists many workers. It seems to me that my logic created too many worker without closing the old ones, or it creates multiple ones? Yet I thought the <code>enqueueUniqueWork()</code> would replace or create only unique/single worker with the given tag. In addition the <code>WorkManager.getInstance(this).cancelAllWorkByTag(TAG)</code> function does not close the (later in this post) listed worker!</p>\n<p>Right now it is not important for me how to create worker execution at a given time, but how to create consistent worker-chain with <code>OneTimeWorkRequest()</code> that do not create a &quot;worker-overload&quot;, if possible. Yet I am open for alternative solutions.</p>\n<p>So again:</p>\n<ul>\n<li>Why does the worker execute after closing the process and opening the App?</li>\n<li>Why are there so many workers listed?</li>\n<li>Does my logic create one single worker chain or multiple ones?</li>\n<li>Is my logic even consistent/usable like this?</li>\n<li>Why are the worker not closing using <code>.cancelAllWorkByTag(TAG)</code>?</li>\n</ul>\n<h3>Code:</h3>\n<p>MainActivity.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    ...\n    \n        // For testing purpose used...\n    ListScheduledWorker(TAG);\n    WorkManager.getInstance(this).cancelAllWorkByTag(TAG);\n    ListScheduledWorker(TAG);\n        // ...until here.\n\n    CreateOneTimeWorker();\n    \n    ...\n}\n\nprivate void CreateOneTimeWorker(){\n    long timeValue = 20;\n    TimeUnit timeUnit = TimeUnit.MINUTES;\n    String workerTag = MhdExpirationPushNotification.class.getSimpleName();\n    OneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\n            .setInitialDelay(timeValue, timeUnit)\n            .addTag(workerTag)\n            .setConstraints(Constraints.NONE)\n            .build();\n    WorkManager.getInstance(this).enqueueUniqueWork(workerTag, ExistingWorkPolicy.KEEP, worker);\n}\n</code></pre>\n<p>CustomPeriodicallyWorker.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Result doWork(){\n    Log.v(TAG, &quot;Work is in progress&quot;);\n    try {\n        CustomDateFormatter currentDateTime = new CustomDateFormatter();\n        CustomDateFormatter targetDateTime = new CustomDateFormatter();\n        targetDateTime.AddMinutes(20);\n        long timeDifference = targetDateTime.GetDateTime().getTime() - currentDateTime.GetDateTime().getTime();\n\n        OneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\n                .setInitialDelay(timeDifference, TimeUnit.MILLISECONDS)\n                .addTag(TAG)\n                .build();\n        WorkManager.getInstance(context).enqueueUniqueWork(TAG, ExistingWorkPolicy.REPLACE, worker);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Log.v(TAG, &quot;Work finished&quot;);;\n\n    return Result.success();\n}\n</code></pre>\n<p>The function in <code>MainActivity.java</code> that lists all scheduled worker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean ListScheduledWorker(String tag) {\n    WorkManager instance = WorkManager.getInstance(this);\n    ListenableFuture&lt;List&lt;WorkInfo&gt;&gt; statuses = instance.getWorkInfosByTag(tag);\n    try {\n        boolean running = false;\n        List&lt;WorkInfo&gt; workInfoList = statuses.get();\n        for (WorkInfo workInfo : workInfoList) {\n            Log.i(TAG, &quot;Scheduled Worker running with ID: &quot; + workInfo.getId());\n            WorkInfo.State state = workInfo.getState();\n            running = state == WorkInfo.State.RUNNING | state == WorkInfo.State.ENQUEUED;\n        }\n        return running;\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n        return false;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<p>The <code>ListScheduledWorker(String tag)</code> prints me this out:</p>\n<pre class=\"lang-none prettyprint-override\"><code>I/TAG: Scheduled Worker running with ID: 27bb31ed-5984-434f-a6ca-08b50462b3df\n    Scheduled Worker running with ID: 2d6abbb1-3a55-4652-83ca-60617631e0ab\n    Scheduled Worker running with ID: 3e89851d-7e0b-410d-86b8-e664a4d710f0\n    Scheduled Worker running with ID: 430e77b2-5fb8-4596-acd5-51e35a6a538b\n    Scheduled Worker running with ID: 73b57443-8195-4c55-a24d-bd643b88e13c\n    Scheduled Worker running with ID: 74c8a44b-2a9a-4448-b3d5-e2c085be3d06\n    Scheduled Worker running with ID: 75deabd3-08e8-403a-b9d7-6c23f114a908\n    Scheduled Worker running with ID: 89ec6239-e215-4ea1-a7bc-fcaa8b63065c\n    Scheduled Worker running with ID: 9363038e-be74-4a83-9d1f-eeeda35ebbfa\n    Scheduled Worker running with ID: 9a09806f-f0cf-43c1-a4f6-1f10448904f4\n    Scheduled Worker running with ID: c6686c56-fd8a-4866-8eb1-5124654b6cb7\n    Scheduled Worker running with ID: d3343328-db8f-4c8d-8055-a1acfc9d1c5c\n    Scheduled Worker running with ID: dea9272f-6770-45f0-ba66-2c845e156d7b\n    Scheduled Worker running with ID: eb4c111c-97c5-46c3-ba5c-ceefe652398c\n    Scheduled Worker running with ID: fc71f8dc-1785-43cd-9a44-1fe4e913ca6e\n    Scheduled Worker running with ID: fca1bcea-97d9-4066-8b5a-8b5496ffed1e\n</code></pre>\n<p>..and the list grows every time when I rebuild/restart the app in Android Studio or on my physical device.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-remoting"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679566382,"creation_date":1679566382,"answer_id":75821702,"question_id":72905946,"body_markdown":"According to\r\n\r\nhttps://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/\r\n\r\nthe whole package branch org.`springframework.remoting` is not available for Spring 6.","title":"HttpInvokerServiceExporter is deprecated in spring 5. Is there any replacement? Will it be available in spring 6?","body":"<p>According to</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/</a></p>\n<p>the whole package branch org.<code>springframework.remoting</code> is not available for Spring 6.</p>\n"}],"owner":{"account_id":1241770,"reputation":36,"user_id":1204207,"display_name":"Kablu Mandal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679566382,"creation_date":1657245690,"question_id":72905946,"body_markdown":"HttpInvokerServiceExporter is deprecated in spring 5. I want to call  spring remote bean via HTTP protocol. Is there any replacement? HttpInvokerServiceExporter has a vulnerability of RCE also so i need to use some replacement of HttpInvokerServiceExporter.\r\n\r\nRMI skeleton \r\n\r\n    @Configuration\r\n    public class RMIServer {\r\n    \r\n        @Bean\r\n        DTBookingService bookingService() {\r\n        return new DTBookingServiceImpl();\r\n    \t}\r\n    \r\n        @Bean(name = &quot;exporter&quot;)\r\n    \tRmiServiceExporter exporter(DTBookingService implementation) {\r\n    \t\tClass&lt;DTBookingService&gt; serviceInterface = DTBookingService.class;\r\n            RmiServiceExporter exporter = new RmiServiceExporter();\r\n            exporter.setServiceInterface(serviceInterface); //interface\r\n            exporter.setService(implementation); //bean\r\n            exporter.setServiceName(&quot;bookingService&quot;); //bean name\r\n            exporter.setRegistryPort(1099);\r\n            try {\r\n    \t\t\texporter.prepare();\r\n    \t\t} catch (RemoteException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}        \r\n            return exporter;\r\n    \t}\r\n    }\r\n\r\nRMI Stub to call remote bean\r\nimport javax.naming.Context;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.remoting.rmi.RmiProxyFactoryBean;\r\n    \r\n    @Configuration\r\n    public class RMIClientConfig {\r\n    \r\n    \t@Bean\r\n    \tRmiProxyFactoryBean service() {\r\n    \t\tRmiProxyFactoryBean proxyFactoryBean = new RmiProxyFactoryBean();\r\n    \t\tproxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/bookingService&quot;);\r\n    \t\tproxyFactoryBean.setServiceInterface(DTBookingService.class);\r\n    \t\treturn proxyFactoryBean;\r\n    \t}\r\n    }\r\n\r\nNow i am trying to call bean via  HttpInvokerServiceExporter via http protocol instead of rmi://(RmiServiceExporter). Please suggest if any replacement of HttpInvokerServiceExporter.\r\n","title":"HttpInvokerServiceExporter is deprecated in spring 5. Is there any replacement? Will it be available in spring 6?","body":"<p>HttpInvokerServiceExporter is deprecated in spring 5. I want to call  spring remote bean via HTTP protocol. Is there any replacement? HttpInvokerServiceExporter has a vulnerability of RCE also so i need to use some replacement of HttpInvokerServiceExporter.</p>\n<p>RMI skeleton</p>\n<pre><code>@Configuration\npublic class RMIServer {\n\n    @Bean\n    DTBookingService bookingService() {\n    return new DTBookingServiceImpl();\n    }\n\n    @Bean(name = &quot;exporter&quot;)\n    RmiServiceExporter exporter(DTBookingService implementation) {\n        Class&lt;DTBookingService&gt; serviceInterface = DTBookingService.class;\n        RmiServiceExporter exporter = new RmiServiceExporter();\n        exporter.setServiceInterface(serviceInterface); //interface\n        exporter.setService(implementation); //bean\n        exporter.setServiceName(&quot;bookingService&quot;); //bean name\n        exporter.setRegistryPort(1099);\n        try {\n            exporter.prepare();\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }        \n        return exporter;\n    }\n}\n</code></pre>\n<p>RMI Stub to call remote bean\nimport javax.naming.Context;</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.remoting.rmi.RmiProxyFactoryBean;\n\n@Configuration\npublic class RMIClientConfig {\n\n    @Bean\n    RmiProxyFactoryBean service() {\n        RmiProxyFactoryBean proxyFactoryBean = new RmiProxyFactoryBean();\n        proxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/bookingService&quot;);\n        proxyFactoryBean.setServiceInterface(DTBookingService.class);\n        return proxyFactoryBean;\n    }\n}\n</code></pre>\n<p>Now i am trying to call bean via  HttpInvokerServiceExporter via http protocol instead of rmi://(RmiServiceExporter). Please suggest if any replacement of HttpInvokerServiceExporter.</p>\n"},{"tags":["java","multithreading","locking","java.util.concurrent","reentrantlock"],"comments":[{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1679582011,"post_id":75820698,"comment_id":133750125,"body_markdown":"This probably needs a [mcve].  The simplest explanation is that you are mistaken when you say that the lock is free, but no way to tell without seeing the code.","body":"This probably needs a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  The simplest explanation is that you are mistaken when you say that the lock is free, but no way to tell without seeing the code."}],"owner":{"account_id":25462110,"reputation":23,"user_id":19261690,"display_name":"vishal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679566183,"creation_date":1679560229,"question_id":75820698,"body_markdown":"I&#39;m working on multithreading issue where threads failed to acquire the lock even though the lock is free i.e., none of the threads acquire the lock\r\n\r\nI&#39;m using ```java.util.concurrent.locks.ReentrantLock.ReentrantLock()```\r\n\r\nI&#39;m trying to acquire the lock using tryLock() with 3 seconds timeout ```lock.tryLock(3, TimeUnit.SECONDS)``` but threads are failing to acquire the lock, not even a single thread acquired the lock, I&#39;m not getting what may be the reason behind it?","title":"Is there any chance that even though the lock object is free thread fails to acquire the lock?","body":"<p>I'm working on multithreading issue where threads failed to acquire the lock even though the lock is free i.e., none of the threads acquire the lock</p>\n<p>I'm using <code>java.util.concurrent.locks.ReentrantLock.ReentrantLock()</code></p>\n<p>I'm trying to acquire the lock using tryLock() with 3 seconds timeout <code>lock.tryLock(3, TimeUnit.SECONDS)</code> but threads are failing to acquire the lock, not even a single thread acquired the lock, I'm not getting what may be the reason behind it?</p>\n"},{"tags":["java","jakarta-ee","classpath","smartcard","java-platform-module-system"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1515599758,"post_id":48191306,"comment_id":83362852,"body_markdown":"*I have just found out that javax.smartcardio still exists as a module java.smartcardio* So, what are you asking now?","body":"<i>I have just found out that javax.smartcardio still exists as a module java.smartcardio</i> So, what are you asking now?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1515600302,"post_id":48191306,"comment_id":83363241,"body_markdown":"Could you explain what do you mean when you say *this doesn&#39;t help me because I am still working with the ClassPath in my project* when `module java.smartcardio` is present in the JDK itself?","body":"Could you explain what do you mean when you say <i>this doesn&#39;t help me because I am still working with the ClassPath in my project</i> when <code>module java.smartcardio</code> is present in the JDK itself?"},{"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"score":0,"creation_date":1515661079,"post_id":48191306,"comment_id":83387038,"body_markdown":"I&#39;m working in my application without an moduldescriptor. So I can&#39;t use the module &#39;java.smartcardio&#39;. If I would use a module-info.java I should have to  use the module system in the full application.","body":"I&#39;m working in my application without an moduldescriptor. So I can&#39;t use the module &#39;java.smartcardio&#39;. If I would use a module-info.java I should have to  use the module system in the full application."},{"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"score":0,"creation_date":1516195652,"post_id":48191306,"comment_id":83589076,"body_markdown":"My goal is that I create a JAR with javax.smartcardio included or which automaticly reads the module java.smartcardio(manifest?). So that it runs with Java 9. Again, using module-info seems to be no solution for me.","body":"My goal is that I create a JAR with javax.smartcardio included or which automaticly reads the module java.smartcardio(manifest?). So that it runs with Java 9. Again, using module-info seems to be no solution for me."},{"owner":{"account_id":1806248,"reputation":441,"user_id":1643298,"display_name":"Andrea Mariottini"},"score":0,"creation_date":1524149765,"post_id":48191306,"comment_id":86864171,"body_markdown":"I have the same problem, please let me know if you solved.","body":"I have the same problem, please let me know if you solved."}],"answers":[{"tags":[],"owner":{"account_id":1806248,"reputation":441,"user_id":1643298,"display_name":"Andrea Mariottini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524563399,"creation_date":1524563399,"answer_id":49998510,"question_id":48191306,"body_markdown":"I verified that at runtime javax.smartcardio is available out of the box if you are on the classpath.&lt;br/&gt;\r\nNo --add-modules is required.\r\n","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>I verified that at runtime javax.smartcardio is available out of the box if you are on the classpath.<br/>\nNo --add-modules is required.</p>\n"},{"tags":[],"owner":{"account_id":9837339,"reputation":558,"user_id":7287324,"display_name":"Chemah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589166122,"creation_date":1589166122,"answer_id":61721622,"question_id":48191306,"body_markdown":"Use a `module-info.java` to require the `java.smartcardio` module. This worked for me.\r\n\r\nI posted a bit more detailed answer here:\r\nhttps://stackoverflow.com/a/61721513/7287324","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>Use a <code>module-info.java</code> to require the <code>java.smartcardio</code> module. This worked for me.</p>\n\n<p>I posted a bit more detailed answer here:\n<a href=\"https://stackoverflow.com/a/61721513/7287324\">https://stackoverflow.com/a/61721513/7287324</a></p>\n"},{"tags":[],"owner":{"account_id":2971195,"reputation":9,"user_id":2783150,"display_name":"Eranda Ediriweera"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679565847,"creation_date":1679565847,"answer_id":75821600,"question_id":48191306,"body_markdown":"I had the same problem because I was using a project with Java 8 for compile time.\r\n\r\nYou have to add this to your POM\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;XXXX&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen it compiles ok.","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>I had the same problem because I was using a project with Java 8 for compile time.</p>\n<p>You have to add this to your POM</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;XXXX&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then it compiles ok.</p>\n"}],"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3149,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1679565847,"creation_date":1515599697,"question_id":48191306,"body_markdown":"Under Java 9, various default packages have been switched to Java EE packages (no longer included in JVM - optionally addable).\r\nThis is not a problem for most of them because I simply specify the Java EE packages as dependencies. With the said package **javax.smartcardio**, however, I didn&#39;t find anything where it could have landed (github-jee, no Maven search result,...). Can someone give me a tip where to get the latest version of the package? Thank you much!\r\n\r\n*I have just found out that **javax.smartcardio** still exists as a module **java.smartcardio**. However, this doesn&#39;t help me because I am still working with the ClassPath in my project and would have to work with Jigsaw to get it.*\r\n","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>Under Java 9, various default packages have been switched to Java EE packages (no longer included in JVM - optionally addable).\nThis is not a problem for most of them because I simply specify the Java EE packages as dependencies. With the said package <strong>javax.smartcardio</strong>, however, I didn't find anything where it could have landed (github-jee, no Maven search result,...). Can someone give me a tip where to get the latest version of the package? Thank you much!</p>\n\n<p><em>I have just found out that <strong>javax.smartcardio</strong> still exists as a module <strong>java.smartcardio</strong>. However, this doesn't help me because I am still working with the ClassPath in my project and would have to work with Jigsaw to get it.</em></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679496527,"post_id":75813757,"comment_id":133732893,"body_markdown":"Change the first line of every Java file you moved to the correct name for your &quot;perfect&quot; hierarchy. It must be identical. Also, you can&#39;t change the `src` folder without modifying the project properties. `src` isn&#39;t part of the package name. See [source folders](https://i.imgur.com/vd0LWFu.png) under Java Build Path under project properties.","body":"Change the first line of every Java file you moved to the correct name for your &quot;perfect&quot; hierarchy. It must be identical. Also, you can&#39;t change the <code>src</code> folder without modifying the project properties. <code>src</code> isn&#39;t part of the package name. See <a href=\"https://i.imgur.com/vd0LWFu.png\" rel=\"nofollow noreferrer\">source folders</a> under Java Build Path under project properties."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679498060,"post_id":75813757,"comment_id":133733430,"body_markdown":"Also note: packages _are_ folders. There&#39;s no distinction. Additionally, `.java` files are _never_ executable, they are only compilable into `.class` files which a jvm can run for you.","body":"Also note: packages <i>are</i> folders. There&#39;s no distinction. Additionally, <code>.java</code> files are <i>never</i> executable, they are only compilable into <code>.class</code> files which a jvm can run for you."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1679520208,"post_id":75813757,"comment_id":133738929,"body_markdown":"When you move files again, use Eclipse&#39;s refactor tool. It will move files, adjust package declarations, and even import statements of users of the moved classes.","body":"When you move files again, use Eclipse&#39;s refactor tool. It will move files, adjust package declarations, and even import statements of users of the moved classes."},{"owner":{"account_id":19481778,"reputation":1,"user_id":14251920,"display_name":"user14251920"},"score":0,"creation_date":1679730947,"post_id":75813757,"comment_id":133776359,"body_markdown":"Thank you for the comment.\nI changed the first line of Java files, and it solved problem.","body":"Thank you for the comment. I changed the first line of Java files, and it solved problem."}],"owner":{"account_id":19481778,"reputation":1,"user_id":14251920,"display_name":"user14251920"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679565707,"creation_date":1679496362,"question_id":75813757,"body_markdown":"### Background and what we want to achieve\r\nI am developing Java in Eclipse. I originally stored and managed .java files in packages, but in order to organize .java files, I moved .java files in packages to folders as shown in the following hierarchy.\r\n\r\nHowever, as a result, the .java files are no longer executable. Probably the reason for this is because the .java files are stored in a folder, not in a package. I would like to move all .java folders into a package.\r\n\r\nIdeally, I would like to create the following package hierarchy.\r\n\r\n### The hierarchy I would like to make\r\n\r\nsrc {Java_basic (chapter1, chapter2)}{Java_Practice(chapter1, chapter2)}\r\n\r\n### Problems that are occurring / Question\r\nHowever, when I drag and drop a specific file into a specific package, an error occurs. How can I achieve the above hierarchy with .java files stored in a package?\r\n\r\n![screen image](https://i.stack.imgur.com/6GP5u.png)\r\n\r\n### Version\r\nLanguage: Java\\\r\nDevelopment environment: Eclipse\\\r\nVersion : 2022-12 (4.26.0)\r\n\r\nAfter moving the .java file to a specific package, the first line in the file `package chapter10;` to `package Java_basic`, but the error message _&quot;The declared package &quot;chaoter10&quot; does not match the expected package &quot;Java_basic&quot;&quot;_ is displayed and the file cannot be executed.","title":"I want to drag and drop .java files into a specific package in Eclipse to achieve the ideal hierarchy","body":"<h3>Background and what we want to achieve</h3>\n<p>I am developing Java in Eclipse. I originally stored and managed .java files in packages, but in order to organize .java files, I moved .java files in packages to folders as shown in the following hierarchy.</p>\n<p>However, as a result, the .java files are no longer executable. Probably the reason for this is because the .java files are stored in a folder, not in a package. I would like to move all .java folders into a package.</p>\n<p>Ideally, I would like to create the following package hierarchy.</p>\n<h3>The hierarchy I would like to make</h3>\n<p>src {Java_basic (chapter1, chapter2)}{Java_Practice(chapter1, chapter2)}</p>\n<h3>Problems that are occurring / Question</h3>\n<p>However, when I drag and drop a specific file into a specific package, an error occurs. How can I achieve the above hierarchy with .java files stored in a package?</p>\n<p><img src=\"https://i.stack.imgur.com/6GP5u.png\" alt=\"screen image\" /></p>\n<h3>Version</h3>\n<p>Language: Java<br />\nDevelopment environment: Eclipse<br />\nVersion : 2022-12 (4.26.0)</p>\n<p>After moving the .java file to a specific package, the first line in the file <code>package chapter10;</code> to <code>package Java_basic</code>, but the error message <em>&quot;The declared package &quot;chaoter10&quot; does not match the expected package &quot;Java_basic&quot;&quot;</em> is displayed and the file cannot be executed.</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679564814,"post_id":75820763,"comment_id":133745409,"body_markdown":"You forgot to set the classpath to the build directory for the java task.","body":"You forgot to set the classpath to the build directory for the java task."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679564827,"post_id":75820763,"comment_id":133745413,"body_markdown":"the `.class` file is not in the directory where `java` is being executed.... must add `${build.dir}` to the `java` task (as classpath, e.g. `classpath=&quot;${build.dir}&quot;` or so [long time not using ant]) -- see suggested related question for example: [0 error running java in another dir from ant](https://stackoverflow.com/questions/5260846/error-running-java-in-another-dir-from-ant?rq=2)","body":"the <code>.class</code> file is not in the directory where <code>java</code> is being executed.... must add <code>${build.dir}</code> to the <code>java</code> task (as classpath, e.g. <code>classpath=&quot;${build.dir}&quot;</code> or so [long time not using ant]) -- see suggested related question for example: <a href=\"https://stackoverflow.com/questions/5260846/error-running-java-in-another-dir-from-ant?rq=2\">0 error running java in another dir from ant</a>"}],"answers":[{"tags":[],"owner":{"account_id":35955,"reputation":1059,"user_id":102221,"accept_rate":100,"display_name":"BaruchLi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679565239,"creation_date":1679565239,"answer_id":75821502,"question_id":75820763,"body_markdown":"@user16320675 was correct. \r\nThis is a fix a `build.xml` `run` section fix:\r\n\r\n```\r\n&lt;target name=&quot;run&quot; depends=&quot;build&quot;&gt;\r\n  &lt;java classname=&quot;${main.class}&quot; classpath=&quot;${classpath}:${build.dir}&quot;&gt;\r\n  &lt;/java&gt;\r\n&lt;/target&gt;\r\n```","title":"Ant run failure to load main","body":"<p>@user16320675 was correct.\nThis is a fix a <code>build.xml</code> <code>run</code> section fix:</p>\n<pre><code>&lt;target name=&quot;run&quot; depends=&quot;build&quot;&gt;\n  &lt;java classname=&quot;${main.class}&quot; classpath=&quot;${classpath}:${build.dir}&quot;&gt;\n  &lt;/java&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":35955,"reputation":1059,"user_id":102221,"accept_rate":100,"display_name":"BaruchLi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75821502,"answer_count":1,"score":0,"last_activity_date":1679565239,"creation_date":1679560732,"question_id":75820763,"body_markdown":"I have oversimple Main.java file of next contents:\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello, world!&quot;);\r\n  }\r\n}\r\n```\r\nThe file was compiled by `ant` with next `compile` section in build.xml:\r\n```\r\n  &lt;target name=&quot;compile&quot;&gt;\r\n    &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;\r\n    &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;/&gt;\r\n  &lt;/target&gt;\r\n```\r\n`Main.class` file has been created in `./build` directory.\r\nChanging directory to `./build` and running`&quot;%JAVA_HOME%\\bin\\java.exe&quot; Main` brings correct output.\r\nHowever, running `ant -v run` from project root directory brungs next error:\r\n\r\n```\r\nrun:\r\n     [java] Executing &#39;C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe&#39; with arguments:\r\n     [java] &#39;Main&#39;\r\n     [java]\r\n     [java] The &#39; characters around the executable and arguments are\r\n     [java] not part of the command.\r\n     [java] Error: Could not find or load main class Main\r\n     [java] Caused by: java.lang.ClassNotFoundException: Main\r\n     [java] Java Result: 1\r\n```\r\nThis is `run` section of `build.xml`:\r\n\r\n```\r\n  &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n    &lt;java classname=&quot;Main&quot; fork=&quot;true&quot;&gt;\r\n    &lt;/java&gt;\r\n  &lt;/target&gt;\r\n```\r\n\r\nWhat is wrong? ","title":"Ant run failure to load main","body":"<p>I have oversimple Main.java file of next contents:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello, world!&quot;);\n  }\n}\n</code></pre>\n<p>The file was compiled by <code>ant</code> with next <code>compile</code> section in build.xml:</p>\n<pre><code>  &lt;target name=&quot;compile&quot;&gt;\n    &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;\n    &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;/&gt;\n  &lt;/target&gt;\n</code></pre>\n<p><code>Main.class</code> file has been created in <code>./build</code> directory.\nChanging directory to <code>./build</code> and running<code>&quot;%JAVA_HOME%\\bin\\java.exe&quot; Main</code> brings correct output.\nHowever, running <code>ant -v run</code> from project root directory brungs next error:</p>\n<pre><code>run:\n     [java] Executing 'C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe' with arguments:\n     [java] 'Main'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] Error: Could not find or load main class Main\n     [java] Caused by: java.lang.ClassNotFoundException: Main\n     [java] Java Result: 1\n</code></pre>\n<p>This is <code>run</code> section of <code>build.xml</code>:</p>\n<pre><code>  &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\n    &lt;java classname=&quot;Main&quot; fork=&quot;true&quot;&gt;\n    &lt;/java&gt;\n  &lt;/target&gt;\n</code></pre>\n<p>What is wrong?</p>\n"},{"tags":["java","dictionary","jframe","jlabel"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679565792,"post_id":75821482,"comment_id":133745705,"body_markdown":"As an aside I strongly recommend that you don’t use `SimpleDateFormat` and `Date`. Those classes were troublesome and were supplanted nearly 10 years ago for that reason. Today use for example `ZonedDateTime` and `DateTimeFormatter` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"As an aside I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes were troublesome and were supplanted nearly 10 years ago for that reason. Today use for example <code>ZonedDateTime</code> and <code>DateTimeFormatter</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1679565975,"post_id":75821482,"comment_id":133745747,"body_markdown":"Hi, please clean up the code a bit. I don&#39;t understand why the JPanel and JLabels are recreated every time an item is added (after the first). Also, what does `getLicense` do? Is that an add function? Think about descriptive names. And lastly, I would not check against the testmap size but rather if the new window is already visible, you should just need to add the new JLabel to the existing window, and make the window visible if it&#39;s not.","body":"Hi, please clean up the code a bit. I don&#39;t understand why the JPanel and JLabels are recreated every time an item is added (after the first). Also, what does <code>getLicense</code> do? Is that an add function? Think about descriptive names. And lastly, I would not check against the testmap size but rather if the new window is already visible, you should just need to add the new JLabel to the existing window, and make the window visible if it&#39;s not."},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679566163,"post_id":75821482,"comment_id":133745801,"body_markdown":"Function getLicense is a function which start JFrame and also serch the data from data bases based on parametr license which I add in TextFrame","body":"Function getLicense is a function which start JFrame and also serch the data from data bases based on parametr license which I add in TextFrame"},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679566477,"post_id":75821482,"comment_id":133745866,"body_markdown":"getLicense is a function which start second window when I add the first record in Map and then I would like to add new JLabels when I add new records to map but I can&#39;t call getLicense again only one time because this function start window","body":"getLicense is a function which start second window when I add the first record in Map and then I would like to add new JLabels when I add new records to map but I can&#39;t call getLicense again only one time because this function start window"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679571482,"post_id":75821482,"comment_id":133747039,"body_markdown":"You seem to be mixing the modeling of your data and its presentation. Worse, lines like *licname = nameField.getText();* suggest that you&#39;re even deriving the data from the presentation in some way (&#39;global&#39; variables are not good either btw). I would keep these layers of your program quite separate. Yes, they can *interact*, but at the moment they don&#39;t appear sufficiently separated from the outset","body":"You seem to be mixing the modeling of your data and its presentation. Worse, lines like <i>licname = nameField.getText();</i> suggest that you&#39;re even deriving the data from the presentation in some way (&#39;global&#39; variables are not good either btw). I would keep these layers of your program quite separate. Yes, they can <i>interact</i>, but at the moment they don&#39;t appear sufficiently separated from the outset"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1679580902,"post_id":75821482,"comment_id":133749757,"body_markdown":"`testlabel.setBounds(10, 140 + (i * 10), 200, 50);` ← You can remove that line, because it does nothing.  The parent JPanel’s layout determines the size and location of its children.  The initial layout of a JPanel created with [the zero-argument JPanel constructor](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JPanel.html#%3Cinit%3E()) is a FlowLayout, which I suspect is why you don’t see all of your labels.  For a vertical stack of labels, you probably want a GridLayout or a BoxLayout.","body":"<code>testlabel.setBounds(10, 140 + (i * 10), 200, 50);</code> ← You can remove that line, because it does nothing.  The parent JPanel’s layout determines the size and location of its children.  The initial layout of a JPanel created with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JPanel.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">the zero-argument JPanel constructor</a> is a FlowLayout, which I suspect is why you don’t see all of your labels.  For a vertical stack of labels, you probably want a GridLayout or a BoxLayout."}],"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679565150,"creation_date":1679565150,"question_id":75821482,"body_markdown":"I want to add new JLabels to JFrame with number and currenct date when I add new records to my Map. \r\n\r\nI&#39;m trying to create app in Java swing which will display new records in JLables in my Frame during I add new records to the Map in the second window (window with textField and button). When I add the first record - window will start and display one record, when I add second record in Frame I will see two JLabels. Now I can start first window when in map is one record but when I add next one I don&#39;t see nothing more. What is wrong ? \r\nThanks in advance!\r\n\r\n\r\n```\r\n public void actionPerformed(ActionEvent e) {\r\n        Object source = e.getSource();\r\n        if (source == button1) {\r\n\r\n            //Current date - when click on button\r\n            currentdata = new Date();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;YYYY-mm-dd HH:mm:ss&quot;);\r\n\r\n            //Read textfield and save in variable\r\n            licname = nameField.getText();\r\n\r\n            //add license number and date of click to Map\r\n            testmap.put(licname, currentdata);\r\n            //Display of map\r\n            System.out.println(testmap);\r\n\r\n            //Check if map has only 1 field - if yes application start, windows opens\r\n            if (testmap.size() == 1) {\r\n                Rest rest = new Rest();\r\n                try {\r\n                    rest.getLicense(licname, currentdata);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(ex);\r\n                } catch (XMLStreamException ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n            }\r\n           //Check if map has 2 or more fields - add new label\r\n                   else if (testmap.size() &gt; 1) {\r\n   \r\n                   ArrayList&lt;JLabel&gt; labellist = new ArrayList&lt;JLabel&gt;();\r\n                    for (int i = 2; i &gt; testmap.size(); i++) {\r\n                    testlabel = new JLabel();\r\n                        testlabel.setIcon(new ImageIcon(&quot;C:/images/tab.jpg&quot;));\r\n                        testlabel.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                        testlabel.setHorizontalTextPosition(JLabel.CENTER);\r\n                        testlabel.setVerticalTextPosition(JLabel.CENTER);\r\n                        testlabel.setBounds(10, 140 + (i * 10), 200, 50);\r\n                    labellist.add(testlabel);\r\n                }\r\n                    JPanel p = new JPanel();\r\n                    for(JLabel j:labellist) {\r\n                        p.add(j);\r\n                    }\r\n                    f.add(p);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n","title":"adding JLabels to JFrame during adding new records to Map","body":"<p>I want to add new JLabels to JFrame with number and currenct date when I add new records to my Map.</p>\n<p>I'm trying to create app in Java swing which will display new records in JLables in my Frame during I add new records to the Map in the second window (window with textField and button). When I add the first record - window will start and display one record, when I add second record in Frame I will see two JLabels. Now I can start first window when in map is one record but when I add next one I don't see nothing more. What is wrong ?\nThanks in advance!</p>\n<pre><code> public void actionPerformed(ActionEvent e) {\n        Object source = e.getSource();\n        if (source == button1) {\n\n            //Current date - when click on button\n            currentdata = new Date();\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;YYYY-mm-dd HH:mm:ss&quot;);\n\n            //Read textfield and save in variable\n            licname = nameField.getText();\n\n            //add license number and date of click to Map\n            testmap.put(licname, currentdata);\n            //Display of map\n            System.out.println(testmap);\n\n            //Check if map has only 1 field - if yes application start, windows opens\n            if (testmap.size() == 1) {\n                Rest rest = new Rest();\n                try {\n                    rest.getLicense(licname, currentdata);\n                } catch (IOException ex) {\n                    throw new RuntimeException(ex);\n                } catch (XMLStreamException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }\n           //Check if map has 2 or more fields - add new label\n                   else if (testmap.size() &gt; 1) {\n   \n                   ArrayList&lt;JLabel&gt; labellist = new ArrayList&lt;JLabel&gt;();\n                    for (int i = 2; i &gt; testmap.size(); i++) {\n                    testlabel = new JLabel();\n                        testlabel.setIcon(new ImageIcon(&quot;C:/images/tab.jpg&quot;));\n                        testlabel.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n                        testlabel.setHorizontalTextPosition(JLabel.CENTER);\n                        testlabel.setVerticalTextPosition(JLabel.CENTER);\n                        testlabel.setBounds(10, 140 + (i * 10), 200, 50);\n                    labellist.add(testlabel);\n                }\n                    JPanel p = new JPanel();\n                    for(JLabel j:labellist) {\n                        p.add(j);\n                    }\n                    f.add(p);\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","linux","sockets","thread-dump"],"comments":[{"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"score":0,"creation_date":1452174141,"post_id":34656396,"comment_id":57058393,"body_markdown":"Is this for a server or a client? E.g. server socket or a client socket?","body":"Is this for a server or a client? E.g. server socket or a client socket?"},{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":0,"creation_date":1452176968,"post_id":34656396,"comment_id":57060540,"body_markdown":"Sorry I don&#39;t have that info. All i have is only thread dump taken from the server. It interacts with many interfaces including DB, Webserver ... etc.It says &#39;SocketInputStream.read&#39;. Could it be server socket ?","body":"Sorry I don&#39;t have that info. All i have is only thread dump taken from the server. It interacts with many interfaces including DB, Webserver ... etc.It says &#39;SocketInputStream.read&#39;. Could it be server socket ?"},{"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"score":0,"creation_date":1452177043,"post_id":34656396,"comment_id":57060588,"body_markdown":"How big is the dump? Can you perhaps upload to Github or some other share?","body":"How big is the dump? Can you perhaps upload to Github or some other share?"},{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":0,"creation_date":1452183275,"post_id":34656396,"comment_id":57065189,"body_markdown":"What i provided is thread dump only. It is nothing but the stack trace of what the thread is doing by the time the dump is taken.","body":"What i provided is thread dump only. It is nothing but the stack trace of what the thread is doing by the time the dump is taken."}],"answers":[{"tags":[],"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452178950,"creation_date":1452177192,"answer_id":34657725,"question_id":34656396,"body_markdown":"The `nid` is actually the process/thread ID of the underlying OS (at least for Linux), albeit in hex notation. Convert to decimal pid and use \r\n\r\n    lsof -p pid |grep -Ei &#39;tcp|socket&#39;\r\n\r\nto learn more about the socket connections used. It may turn out though, that all sockets are opened by the main thread, in which case the sub-threads only inherit several (many) so it may be difficult to see which thread it connected where.\r\n\r\nIf `lsof` does not show the thread of the main process (seems it indeed does not) you may have to resolve to looking into `/proc/&lt;pid&gt;/fd`.","title":"Socket information from Linux-Java thread dump","body":"<p>The <code>nid</code> is actually the process/thread ID of the underlying OS (at least for Linux), albeit in hex notation. Convert to decimal pid and use </p>\n\n<pre><code>lsof -p pid |grep -Ei 'tcp|socket'\n</code></pre>\n\n<p>to learn more about the socket connections used. It may turn out though, that all sockets are opened by the main thread, in which case the sub-threads only inherit several (many) so it may be difficult to see which thread it connected where.</p>\n\n<p>If <code>lsof</code> does not show the thread of the main process (seems it indeed does not) you may have to resolve to looking into <code>/proc/&lt;pid&gt;/fd</code>.</p>\n"},{"tags":[],"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452184425,"creation_date":1452184425,"answer_id":34660391,"question_id":34656396,"body_markdown":"tid is the Java level thread id and nid is the native thread id. What nid actually refers to on different OS&#39;es, is [somewhat confusing][1]. What I would recommend is connecting to your application using a tool such as Visual VM and noting down the PID of the application. Once you have the PID, try the command below:\r\n\r\n    sudo netstat -nlpt\r\n\r\nThis should give you something like below (with remote/local address and PID and program name):\r\n\r\n    Active Internet connections (only servers)\r\n    Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\r\n    tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1144/dnsmasq    \r\n    tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      661/cupsd       \r\n    tcp6       0      0 ::1:631                 :::*                    LISTEN      661/cupsd\r\n\r\nThat should tell you which connections are open from your Java program.\r\n\r\n\r\n  [1]: https://gist.github.com/rednaxelafx/843622","title":"Socket information from Linux-Java thread dump","body":"<p>tid is the Java level thread id and nid is the native thread id. What nid actually refers to on different OS'es, is <a href=\"https://gist.github.com/rednaxelafx/843622\" rel=\"nofollow\">somewhat confusing</a>. What I would recommend is connecting to your application using a tool such as Visual VM and noting down the PID of the application. Once you have the PID, try the command below:</p>\n\n<pre><code>sudo netstat -nlpt\n</code></pre>\n\n<p>This should give you something like below (with remote/local address and PID and program name):</p>\n\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1144/dnsmasq    \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      661/cupsd       \ntcp6       0      0 ::1:631                 :::*                    LISTEN      661/cupsd\n</code></pre>\n\n<p>That should tell you which connections are open from your Java program.</p>\n"},{"tags":[],"owner":{"account_id":2268036,"reputation":628,"user_id":1996150,"display_name":"Mariano Paniga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679565096,"creation_date":1679565096,"answer_id":75821475,"question_id":34656396,"body_markdown":"From comments and replies to similar questions https://stackoverflow.com/questions/59777155/find-thread-id-that-open-socket-for-net , https://stackoverflow.com/questions/6044136/how-to-view-thread-id-of-a-process-which-has-opened-a-socket-connection , it seems there is no tracking, from the operating system, of the thread that is using a specific opened socket. So it appears to be very difficult to obtain the information you requested.\r\n\r\nIn the https://stackoverflow.com/a/50273809/1996150 reply there is a suggested (complex) method that requires to log the system calls with strace from the start of the process, and finally debug with gdb the process to find the thread.","title":"Socket information from Linux-Java thread dump","body":"<p>From comments and replies to similar questions <a href=\"https://stackoverflow.com/questions/59777155/find-thread-id-that-open-socket-for-net\">Find thread id that open socket for net</a> , <a href=\"https://stackoverflow.com/questions/6044136/how-to-view-thread-id-of-a-process-which-has-opened-a-socket-connection\">How to view thread id of a process which has opened a socket connection?</a> , it seems there is no tracking, from the operating system, of the thread that is using a specific opened socket. So it appears to be very difficult to obtain the information you requested.</p>\n<p>In the <a href=\"https://stackoverflow.com/a/50273809/1996150\">https://stackoverflow.com/a/50273809/1996150</a> reply there is a suggested (complex) method that requires to log the system calls with strace from the start of the process, and finally debug with gdb the process to find the thread.</p>\n"}],"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2061,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679565096,"creation_date":1452173418,"question_id":34656396,"body_markdown":"While analyzing a performance issue, I took continuous thread dumps for every 5 secs, and analyzed using samurai thread dump analyzer. Noticed that, many threads are in runnable state with below stack dump continuously on all the occurrences. But I couldn&#39;t find to which host they are communicating. I tried using the commands `ss -t -a`, `watch ss -tp` and `netstat -A inet -p`, but couldn&#39;t relate their results with the thread. Any idea? Thanks in advance.\r\n\r\n    \r\n\r\n    Thread dump 2/5 &quot;TP-Processor125&quot;   prio=5 tid=0x25756 nid=0x649c RUNNABLE (JNI Native Code) - stats: cpu=828 blk=-1 wait=-1 &#160;&#160;&#160;&#160; java.lang.Thread.State: RUNNABLE &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.socketRead0(Native Method) &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.read(SocketInputStream.java:152) &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.read(SocketInputStream.java:122) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.fill(BufferedInputStream.java:235) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.read1(BufferedInputStream.java:275) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.read(BufferedInputStream.java:334) &#160;&#160;&#160;&#160; \r\n         at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)\r\n    &#160;&#160;&#160;&#160; at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\r\n    &#160;&#160;&#160;&#160; at java.lang.Thread.run(Thread.java:745) &#160;&#160;&#160;&#160; Locked synchronizers: count = 0","title":"Socket information from Linux-Java thread dump","body":"<p>While analyzing a performance issue, I took continuous thread dumps for every 5 secs, and analyzed using samurai thread dump analyzer. Noticed that, many threads are in runnable state with below stack dump continuously on all the occurrences. But I couldn't find to which host they are communicating. I tried using the commands <code>ss -t -a</code>, <code>watch ss -tp</code> and <code>netstat -A inet -p</code>, but couldn't relate their results with the thread. Any idea? Thanks in advance.</p>\n\n<pre><code>Thread dump 2/5 \"TP-Processor125\"   prio=5 tid=0x25756 nid=0x649c RUNNABLE (JNI Native Code) - stats: cpu=828 blk=-1 wait=-1      java.lang.Thread.State: RUNNABLE      \n     at java.net.SocketInputStream.socketRead0(Native Method)      \n     at java.net.SocketInputStream.read(SocketInputStream.java:152)      \n     at java.net.SocketInputStream.read(SocketInputStream.java:122)      \n     at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)      \n     at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)      \n     at java.io.BufferedInputStream.read(BufferedInputStream.java:334)      \n     at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)\n     at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)\n     at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)\n     at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)\n     at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\n     at java.lang.Thread.run(Thread.java:745)      Locked synchronizers: count = 0\n</code></pre>\n"},{"tags":["java","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1351710644,"creation_date":1351710644,"answer_id":13165934,"question_id":13163256,"body_markdown":"To create a dynamic queue, you just open a model queue.  The dynamic queue is created and you get back a handle to it.  The name of the queue is provided as well and you can place that in the Reply-To-Queue field of a request message.\r\n\r\nIf you want to create a permanent queue, have a look at [`com.ibm.mq.pcf`][1] in the Infocenter.  To execute any WMQ admin command from an application, submit a Programmable Command Format (PCF) message to the `SYSTEM.ADMIN.COMMAND.QUEUE`.  The application must be authorized to put a message onto the queue for this to work.  Furthermore, the command server will use the user ID in the message header to look up authorizations for the specific command being executed.  To create a queue, the submitter must have `+crt` authority on queues.\r\n\r\nNote that any person or app with the ability to create a permanent queue is a defacto administrator.  If their ID is not authorized to create authorization control list entries, they need only to create an alias over the command queue and can then spoof the administrative user ID.  For this reason, it is rare that any non-administrator would be granted rights to create queues.\r\n\r\n\r\n  [1]: http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/pcf/package-frame.html","title":"Creating IBM queue programmatically in java","body":"<p>To create a dynamic queue, you just open a model queue.  The dynamic queue is created and you get back a handle to it.  The name of the queue is provided as well and you can place that in the Reply-To-Queue field of a request message.</p>\n\n<p>If you want to create a permanent queue, have a look at <a href=\"http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/pcf/package-frame.html\" rel=\"nofollow\"><code>com.ibm.mq.pcf</code></a> in the Infocenter.  To execute any WMQ admin command from an application, submit a Programmable Command Format (PCF) message to the <code>SYSTEM.ADMIN.COMMAND.QUEUE</code>.  The application must be authorized to put a message onto the queue for this to work.  Furthermore, the command server will use the user ID in the message header to look up authorizations for the specific command being executed.  To create a queue, the submitter must have <code>+crt</code> authority on queues.</p>\n\n<p>Note that any person or app with the ability to create a permanent queue is a defacto administrator.  If their ID is not authorized to create authorization control list entries, they need only to create an alias over the command queue and can then spoof the administrative user ID.  For this reason, it is rare that any non-administrator would be granted rights to create queues.</p>\n"},{"tags":[],"owner":{"account_id":3751910,"reputation":529,"user_id":3119246,"accept_rate":100,"display_name":"InCh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679564948,"creation_date":1391509566,"answer_id":21549779,"question_id":13163256,"body_markdown":"If you have the IBM WMQ installed go to the installation location on your system.\r\n\r\n&lt;installation folder&gt;\\IBM\\WebSphere MQ\\tools\\pcf\\samples (Windows)\r\n\r\nThey have given examples with code for how to do some basic operations using JAVA and PCF&#39;s.","title":"Creating IBM queue programmatically in java","body":"<p>If you have the IBM WMQ installed go to the installation location on your system.</p>\n<p>\\IBM\\WebSphere MQ\\tools\\pcf\\samples (Windows)</p>\n<p>They have given examples with code for how to do some basic operations using JAVA and PCF's.</p>\n"}],"owner":{"account_id":1268618,"reputation":160,"user_id":1225378,"accept_rate":50,"display_name":"siddhesh jog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13165934,"answer_count":2,"score":4,"last_activity_date":1679564948,"creation_date":1351703541,"question_id":13163256,"body_markdown":"How can you create a new queue programmatically using the `MQQueueManager` and `MQQueue` objects?\r\n\r\nIs there a guide on how to use these classes? The javadocs don&#39;t say much.","title":"Creating IBM queue programmatically in java","body":"<p>How can you create a new queue programmatically using the <code>MQQueueManager</code> and <code>MQQueue</code> objects?</p>\n\n<p>Is there a guide on how to use these classes? The javadocs don't say much.</p>\n"},{"tags":["java","android","webrtc","webrtc-android"],"comments":[{"owner":{"account_id":8539054,"reputation":1396,"user_id":6399762,"display_name":"Andy A."},"score":0,"creation_date":1679471507,"post_id":75790375,"comment_id":133726102,"body_markdown":"Welcome to SO! I think there should be a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)!","body":"Welcome to SO! I think there should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>!"}],"owner":{"account_id":28064939,"reputation":11,"user_id":21438463,"display_name":"Tokens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679624359,"answer_count":0,"score":1,"last_activity_date":1679564251,"creation_date":1679315984,"question_id":75790375,"body_markdown":"For a few days I have a problem that I do not understand at all. Everything seems to be working well, finally everything should be working well with everything I read right and left and all my tries.\r\nI would like to share audio and video on android with Webrtc from client A to client B and vice versa.\r\n\r\nThe problem is that when **onAddStream**(MediaStream mediaStream) is called I have `mediaStream.videoTracks.get(0).state() = LIVE` and `mediaStream.videoTracks.size()) = 1` but 0 frames received in the Remoterender. (But on both clients everything is OK in the Localrender).\r\n\r\nI think the problem is a network issue in that when client B creates the response to client A&#39;s offer it only receives half of the candidate ices and only audio with sdpindex at 0.\r\n\r\nI don&#39;t understand why! (I tried on different emulator or real phone devices and different networks always the same)\r\n\r\nHere is the code I am using. I specify that I know it&#39;s not the best, but for my tests I use a somewhat rudimentary signaling server with the Google Volley library and an SQL database instead of node or Firebase database.\r\n\r\nIf anyone has any idea why I only have audio on client B, or 0 frames in the remoteRender.\r\n\r\n```\r\npublic void createPeerConnection() {\r\n        if (mPeerConnection != null) return;\r\n        final ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\r\n         iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun1.l.google.com:19302&quot;).createIceServer());\r\n     iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun2.l.google.com:19302&quot;).createIceServer());\r\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun3.l.google.com:19302&quot;).createIceServer());\r\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun4.l.google.com:19302&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;stun:relay.meterd.ca:80&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:80&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:443&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.metered.ca:443?transport=tcp&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        mPeerConnection = mFactory.createPeerConnection(rtcConfiguration, this);\r\n        Log.d(TAG, &quot;Peer Connection created&quot;);\r\n\r\n    }\r\n\r\n    Connection(final Context context, ConnectionListener listener) {\r\n        final PeerConnectionFactory.InitializationOptions options = PeerConnectionFactory.InitializationOptions.builder(context)\r\n               .setEnableInternalTracer(true)\r\n                .setFieldTrials(&quot;WebRTC-H264HighProfile/Enabled/&quot;)\r\n                .createInitializationOptions();\r\n        final VideoEncoderFactory encoderFactory;\r\n        final VideoDecoderFactory decoderFactory;\r\n     encoderFactory = new SoftwareVideoEncoderFactory();\r\n     decoderFactory = new SoftwareVideoDecoderFactory();\r\n    \r\n        PeerConnectionFactory.initialize(options);\r\n        PeerConnectionFactory.Options options1 = new PeerConnectionFactory.Options();\r\n     options1.disableEncryption = true;\r\n     options1.disableNetworkMonitor  =  true;\r\n\r\n        mFactory = PeerConnectionFactory.builder()\r\n                .setOptions(options1)\r\n                .setVideoEncoderFactory(encoderFactory)\r\n                .setVideoDecoderFactory(decoderFactory)\r\n                .createPeerConnectionFactory();\r\n                 mListener = listener;\r\n    }\r\n\r\n   public void initializeMediaDevices(final Context context,  SurfaceViewRenderer localRenderer) throws Exception {\r\n\r\n        MediaStream mMediaStream = mFactory.createLocalMediaStream(MEDIA_STREAM_ID);;\r\n         mVideoCapturer =   createCameraCapturer(context);\r\n        final VideoSource videoSource = mFactory.createVideoSource(false);\r\n\r\n      //  videoSource.adaptOutputFormat(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\r\n        final EglBase.Context eglContext = EglBase.create().getEglBaseContext();\r\n        final SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;captureThread&quot;, eglContext);\r\n        mVideoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n\r\n        localRenderer.init(eglContext, new RendererCommon.RendererEvents() {\r\n            @Override\r\n            public void onFirstFrameRendered() {\r\n                Log.d(TAG, &quot;onFirstFrameRendered&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFrameResolutionChanged(int i, int i1, int i2) {\r\n                Log.d(TAG, &quot;Frame resolution changed&quot;);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i1);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i2);\r\n            }\r\n        });\r\n\r\n    localRenderer.setEnableHardwareScaler(true);\r\n\r\n        mVideoCapturer.startCapture(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\r\n\r\n      //  localRenderer.setEnableHardwareScaler(true);\r\n        final VideoTrack videoTrack = mFactory.createVideoTrack(VIDEO_TRACK_ID, videoSource);\r\n        videoTrack.setEnabled(true);\r\n       localRenderer.setMirror(true);\r\n       videoTrack.addSink(localRenderer);\r\n\r\n      final AudioSource audioSource = mFactory.createAudioSource(new MediaConstraints());\r\n   final AudioTrack audioTrack = mFactory.createAudioTrack(AUDIO_TRACK_ID, audioSource);\r\n    audioTrack.setEnabled(true);\r\n      //  audioTrack.setEnabled(true);\r\n      //  audioTrack.setVolume(100);\r\n\r\n      mMediaStream.addTrack(videoTrack);\r\n       mMediaStream.addTrack(audioTrack);\r\n   mPeerConnection.addStream(mMediaStream);\r\n```\r\n\r\n```\r\n public void createOffer() {\r\n        final MediaConstraints mediaConstraints = new MediaConstraints();\r\n        mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n      mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n      \r\n        mPeerConnection.createOffer(new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                mListener.createofferonCreateSuccess(sessionDescription);\r\n                mPeerConnection.setLocalDescription(this, sessionDescription);\r\n            }\r\n\r\n            @Override\r\n            public void onSetSuccess() {\r\n                Log.d(TAG, &quot;Local description set success&quot;);\r\n\r\n                mListener.createofferonSetSuccess();\r\n            }\r\n\r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local offer error:&quot; + s);\r\n            }\r\n\r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set local description error:&quot; + s);\r\n            }\r\n        }, mediaConstraints);\r\n    }\r\n```\r\n\r\n```\r\npublic static void createAnswerFromRemoteOffer(final String remoteOffer) {\r\n        SdpObserver observer = new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                Log.d(TAG, &quot;Local answer created&quot;);\r\n                mPeerConnection.setLocalDescription(this,sessionDescription);\r\n                mListener.createAnswerFromRemoteOffercreatesuccess(sessionDescription);\r\n            }\r\n    \r\n            @Override\r\n            public void onSetSuccess() {\r\n                mListener.createAnswerFromRemoteOfferSetsuccess();\r\n                Log.d(TAG, &quot;Set offer description was successful&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local answer error:&quot; + s);\r\n            }\r\n    \r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set offer description error :&quot; + s);\r\n            }\r\n        };\r\n    \r\n      final    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.OFFER, remoteOffer);\r\n      final MediaConstraints mediaConstraintss = new MediaConstraints();\r\n       mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n      mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n    \r\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\r\n        mPeerConnection.createAnswer(observer,  new MediaConstraints());\r\n    }\r\n```\r\n\r\n```\r\n public static void createAnswerFromRemoteOffer2(final String remoteOffer) {\r\n        SdpObserver observer = new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                Log.d(TAG, &quot;Local answer created 3&quot;);\r\n\r\n                mListener.createAnswerFromRemoteOffer2onCreateSucess(sessionDescription);\r\n            }\r\n\r\n            @Override\r\n            public void onSetSuccess() {\r\n                mListener.createAnswerFromRemoteOffer2onSetSuces();\r\n                Log.d(TAG, &quot;Set offer description 3  was successful&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local 3 answer error:&quot; + s);\r\n            }\r\n\r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set offer 3 description error :&quot; + s);\r\n            }\r\n        };\r\n  final SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER, remoteOffer);\r\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\r\n    }\r\n\r\n  public static void addRemoteIceCandidate(final JSONObject iceCandidateData) throws JSONException {\r\n        String icecandidate = iceCandidateData.getString(&quot;ICECANDIDATE&quot;);\r\n        final String sdpmid = iceCandidateData.getString(&quot;SDPMID&quot;);\r\n        final int sdpMLineIndex = iceCandidateData.getInt(&quot;SDPINDEX&quot;);\r\n        IceCandidate iceCandidate = new IceCandidate(sdpmid, sdpMLineIndex, icecandidate);\r\n\r\n        Log.d(TAG,&quot;add remote candidate &quot;+iceCandidate.toString());\r\n        Log.d(TAG,&quot;add remote sdpmid &quot;+sdpmid);\r\n        Log.d(TAG,&quot;add remote sdpindex &quot;+sdpMLineIndex);\r\n\r\n         if (queuedRemoteCandidates != null) {\r\n            queuedRemoteCandidates.add(iceCandidate);\r\n       } else {\r\n            mPeerConnection.addIceCandidate(iceCandidate);\r\n       }\r\n\r\n    }\r\n```\r\n\r\nCLIENT B only audio candidate\r\n\r\n```none\r\n2023-03-19 16:08:17.575 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1800307301 1 udp 2122187263 fec0::5054:ff:fe12:3456 59467 typ host generation 0 ufrag iT+A network-id 2::UNKNOWN\r\n2023-03-19 16:08:17.579 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:841689039 1 udp 2122129151 10.0.2.16 37211 typ host generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.583 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:3776784094 1 udp 2122056191 fec0::9ebc:2b3f:a56d:1ed8 48463 typ host generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.585 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:559267639 1 udp 2122005759 ::1 33214 typ host generation 0 ufrag iT+A network-id 4::UNKNOWN\r\n2023-03-19 16:08:17.591 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1510613869 1 udp 2121932543 127.0.0.1 54583 typ host generation 0 ufrag iT+A network-id 3::UNKNOWN\r\n2023-03-19 16:08:17.626 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1847424209 1 tcp 1518280447 10.0.2.15 55839 typ host tcptype passive generation 0 ufrag iT+A network-id 1::UNKNOWN\r\n2023-03-19 16:08:17.632 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63997 typ srflx raddr 10.0.2.16 rport 37211 generation 0 ufrag iT+A network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:17.636 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 43771 typ host tcptype passive generation 0 ufrag iT+A network-id 2::UNKNOWN\r\n2023-03-19 16:08:17.651 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 47563 typ host tcptype passive generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.690 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2946423342 1 tcp 1518076415 fec0::9ebc:2b3f:a56d:1ed8 51819 typ host tcptype passive generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.695 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63999 typ srflx raddr 10.0.2.15 rport 56570 generation 0 ufrag iT+A network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:17.702 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52341 typ host tcptype passive generation 0 ufrag iT+A network-id 4::UNKNOWN\r\n2023-03-19 16:08:17.707 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 53745 typ host tcptype passive generation 0 ufrag iT+A network-id 3::UNKNOWN\r\n2023-03-19 16:08:17.711 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2181291358 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 64000 typ srflx raddr fec0::9ebc:2b3f:a56d:1ed8 rport 48463 generation 0 ufrag iT+A network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n```\r\n\r\nCLIENT A audio and video candidate\r\n\r\n```none\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 59483 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 47321 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52945 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\r\n2023-03-19 16:08:07.078  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 37085 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\r\n2023-03-19 16:08:07.082  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1847424209 1 tcp 1518280447 10.0.2.15 41627 typ host tcptype passive generation 0 ufrag 5HN1 network-id 1::UNKNOWN\r\n2023-03-19 16:08:07.085  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 55563 typ host tcptype passive generation 0 ufrag 5HN1 network-id 2::UNKNOWN\r\n2023-03-19 16:08:07.089  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:2091440959 1 tcp 1518149375 10.0.2.16 51877 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.101  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 46365 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.102  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1876313031 1 tcp 1518025983 ::1 33561 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\r\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:344579997 1 tcp 1517952767 127.0.0.1 56545 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\r\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63983 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 43345 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n2023-03-19 16:08:07.152  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63981 typ srflx raddr 10.0.2.15 rport 35078 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.154  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63982 typ srflx raddr 10.0.2.16 rport 45157 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.159  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1645442729 1 udp 1686052607 92.134.12.255 63984 typ srflx raddr 10.0.2.15 rport 34609 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.165  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63988 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 59153 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n2023-03-19 16:08:07.168  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1889982791 1 udp 1685921535 92.134.12.255 63985 typ srflx raddr 10.0.2.16 rport 33873 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.773  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 25108223 216.39.253.20 43389 typ relay raddr 92.134.12.255 rport 57285 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.774  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 24977151 216.39.253.20 36391 typ relay raddr 92.134.12.255 rport 57284 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.783  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 25108223 216.39.253.20 41892 typ relay raddr 92.134.12.255 rport 57286 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.784  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 24977151 216.39.253.20 43228 typ relay raddr 92.134.12.255 rport 57287 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN`\r\n```\r\n\r\n0 frames on client A and B on remoteRender, but the localRender good and display it\r\n\r\n```none\r\n2023-03-19 16:08:35.861 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:37.690 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4003 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-19 16:08:37.862 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\r\n2023-03-19 16:08:39.757 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4003 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1100 us. Average swapBuffer time: 987 us.\r\n2023-03-19 16:08:39.863 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:41.696 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4005 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-19 16:08:41.864 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\r\n2023-03-19 16:08:43.758 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4001 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1107 us. Average swapBuffer time: 980 us.\r\n2023-03-19 16:08:43.865 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:45.702 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n```","title":"Webrtc issue with android (java) only audio in ice candidate on client B and 0 frame onAddstream but status is LIVE","body":"<p>For a few days I have a problem that I do not understand at all. Everything seems to be working well, finally everything should be working well with everything I read right and left and all my tries.\nI would like to share audio and video on android with Webrtc from client A to client B and vice versa.</p>\n<p>The problem is that when <strong>onAddStream</strong>(MediaStream mediaStream) is called I have <code>mediaStream.videoTracks.get(0).state() = LIVE</code> and <code>mediaStream.videoTracks.size()) = 1</code> but 0 frames received in the Remoterender. (But on both clients everything is OK in the Localrender).</p>\n<p>I think the problem is a network issue in that when client B creates the response to client A's offer it only receives half of the candidate ices and only audio with sdpindex at 0.</p>\n<p>I don't understand why! (I tried on different emulator or real phone devices and different networks always the same)</p>\n<p>Here is the code I am using. I specify that I know it's not the best, but for my tests I use a somewhat rudimentary signaling server with the Google Volley library and an SQL database instead of node or Firebase database.</p>\n<p>If anyone has any idea why I only have audio on client B, or 0 frames in the remoteRender.</p>\n<pre><code>public void createPeerConnection() {\n        if (mPeerConnection != null) return;\n        final ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\n         iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun1.l.google.com:19302&quot;).createIceServer());\n     iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun2.l.google.com:19302&quot;).createIceServer());\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun3.l.google.com:19302&quot;).createIceServer());\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun4.l.google.com:19302&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;stun:relay.meterd.ca:80&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:80&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:443&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.metered.ca:443?transport=tcp&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        mPeerConnection = mFactory.createPeerConnection(rtcConfiguration, this);\n        Log.d(TAG, &quot;Peer Connection created&quot;);\n\n    }\n\n    Connection(final Context context, ConnectionListener listener) {\n        final PeerConnectionFactory.InitializationOptions options = PeerConnectionFactory.InitializationOptions.builder(context)\n               .setEnableInternalTracer(true)\n                .setFieldTrials(&quot;WebRTC-H264HighProfile/Enabled/&quot;)\n                .createInitializationOptions();\n        final VideoEncoderFactory encoderFactory;\n        final VideoDecoderFactory decoderFactory;\n     encoderFactory = new SoftwareVideoEncoderFactory();\n     decoderFactory = new SoftwareVideoDecoderFactory();\n    \n        PeerConnectionFactory.initialize(options);\n        PeerConnectionFactory.Options options1 = new PeerConnectionFactory.Options();\n     options1.disableEncryption = true;\n     options1.disableNetworkMonitor  =  true;\n\n        mFactory = PeerConnectionFactory.builder()\n                .setOptions(options1)\n                .setVideoEncoderFactory(encoderFactory)\n                .setVideoDecoderFactory(decoderFactory)\n                .createPeerConnectionFactory();\n                 mListener = listener;\n    }\n\n   public void initializeMediaDevices(final Context context,  SurfaceViewRenderer localRenderer) throws Exception {\n\n        MediaStream mMediaStream = mFactory.createLocalMediaStream(MEDIA_STREAM_ID);;\n         mVideoCapturer =   createCameraCapturer(context);\n        final VideoSource videoSource = mFactory.createVideoSource(false);\n\n      //  videoSource.adaptOutputFormat(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\n        final EglBase.Context eglContext = EglBase.create().getEglBaseContext();\n        final SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;captureThread&quot;, eglContext);\n        mVideoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n\n        localRenderer.init(eglContext, new RendererCommon.RendererEvents() {\n            @Override\n            public void onFirstFrameRendered() {\n                Log.d(TAG, &quot;onFirstFrameRendered&quot;);\n            }\n\n            @Override\n            public void onFrameResolutionChanged(int i, int i1, int i2) {\n                Log.d(TAG, &quot;Frame resolution changed&quot;);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i1);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i2);\n            }\n        });\n\n    localRenderer.setEnableHardwareScaler(true);\n\n        mVideoCapturer.startCapture(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\n\n      //  localRenderer.setEnableHardwareScaler(true);\n        final VideoTrack videoTrack = mFactory.createVideoTrack(VIDEO_TRACK_ID, videoSource);\n        videoTrack.setEnabled(true);\n       localRenderer.setMirror(true);\n       videoTrack.addSink(localRenderer);\n\n      final AudioSource audioSource = mFactory.createAudioSource(new MediaConstraints());\n   final AudioTrack audioTrack = mFactory.createAudioTrack(AUDIO_TRACK_ID, audioSource);\n    audioTrack.setEnabled(true);\n      //  audioTrack.setEnabled(true);\n      //  audioTrack.setVolume(100);\n\n      mMediaStream.addTrack(videoTrack);\n       mMediaStream.addTrack(audioTrack);\n   mPeerConnection.addStream(mMediaStream);\n</code></pre>\n<pre><code> public void createOffer() {\n        final MediaConstraints mediaConstraints = new MediaConstraints();\n        mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n      mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n      \n        mPeerConnection.createOffer(new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                mListener.createofferonCreateSuccess(sessionDescription);\n                mPeerConnection.setLocalDescription(this, sessionDescription);\n            }\n\n            @Override\n            public void onSetSuccess() {\n                Log.d(TAG, &quot;Local description set success&quot;);\n\n                mListener.createofferonSetSuccess();\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local offer error:&quot; + s);\n            }\n\n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set local description error:&quot; + s);\n            }\n        }, mediaConstraints);\n    }\n</code></pre>\n<pre><code>public static void createAnswerFromRemoteOffer(final String remoteOffer) {\n        SdpObserver observer = new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;Local answer created&quot;);\n                mPeerConnection.setLocalDescription(this,sessionDescription);\n                mListener.createAnswerFromRemoteOffercreatesuccess(sessionDescription);\n            }\n    \n            @Override\n            public void onSetSuccess() {\n                mListener.createAnswerFromRemoteOfferSetsuccess();\n                Log.d(TAG, &quot;Set offer description was successful&quot;);\n            }\n    \n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local answer error:&quot; + s);\n            }\n    \n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set offer description error :&quot; + s);\n            }\n        };\n    \n      final    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.OFFER, remoteOffer);\n      final MediaConstraints mediaConstraintss = new MediaConstraints();\n       mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n      mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n    \n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\n        mPeerConnection.createAnswer(observer,  new MediaConstraints());\n    }\n</code></pre>\n<pre><code> public static void createAnswerFromRemoteOffer2(final String remoteOffer) {\n        SdpObserver observer = new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;Local answer created 3&quot;);\n\n                mListener.createAnswerFromRemoteOffer2onCreateSucess(sessionDescription);\n            }\n\n            @Override\n            public void onSetSuccess() {\n                mListener.createAnswerFromRemoteOffer2onSetSuces();\n                Log.d(TAG, &quot;Set offer description 3  was successful&quot;);\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local 3 answer error:&quot; + s);\n            }\n\n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set offer 3 description error :&quot; + s);\n            }\n        };\n  final SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER, remoteOffer);\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\n    }\n\n  public static void addRemoteIceCandidate(final JSONObject iceCandidateData) throws JSONException {\n        String icecandidate = iceCandidateData.getString(&quot;ICECANDIDATE&quot;);\n        final String sdpmid = iceCandidateData.getString(&quot;SDPMID&quot;);\n        final int sdpMLineIndex = iceCandidateData.getInt(&quot;SDPINDEX&quot;);\n        IceCandidate iceCandidate = new IceCandidate(sdpmid, sdpMLineIndex, icecandidate);\n\n        Log.d(TAG,&quot;add remote candidate &quot;+iceCandidate.toString());\n        Log.d(TAG,&quot;add remote sdpmid &quot;+sdpmid);\n        Log.d(TAG,&quot;add remote sdpindex &quot;+sdpMLineIndex);\n\n         if (queuedRemoteCandidates != null) {\n            queuedRemoteCandidates.add(iceCandidate);\n       } else {\n            mPeerConnection.addIceCandidate(iceCandidate);\n       }\n\n    }\n</code></pre>\n<p>CLIENT B only audio candidate</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:17.575 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1800307301 1 udp 2122187263 fec0::5054:ff:fe12:3456 59467 typ host generation 0 ufrag iT+A network-id 2::UNKNOWN\n2023-03-19 16:08:17.579 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:841689039 1 udp 2122129151 10.0.2.16 37211 typ host generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.583 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:3776784094 1 udp 2122056191 fec0::9ebc:2b3f:a56d:1ed8 48463 typ host generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.585 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:559267639 1 udp 2122005759 ::1 33214 typ host generation 0 ufrag iT+A network-id 4::UNKNOWN\n2023-03-19 16:08:17.591 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1510613869 1 udp 2121932543 127.0.0.1 54583 typ host generation 0 ufrag iT+A network-id 3::UNKNOWN\n2023-03-19 16:08:17.626 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1847424209 1 tcp 1518280447 10.0.2.15 55839 typ host tcptype passive generation 0 ufrag iT+A network-id 1::UNKNOWN\n2023-03-19 16:08:17.632 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63997 typ srflx raddr 10.0.2.16 rport 37211 generation 0 ufrag iT+A network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:17.636 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 43771 typ host tcptype passive generation 0 ufrag iT+A network-id 2::UNKNOWN\n2023-03-19 16:08:17.651 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 47563 typ host tcptype passive generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.690 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2946423342 1 tcp 1518076415 fec0::9ebc:2b3f:a56d:1ed8 51819 typ host tcptype passive generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.695 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63999 typ srflx raddr 10.0.2.15 rport 56570 generation 0 ufrag iT+A network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:17.702 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52341 typ host tcptype passive generation 0 ufrag iT+A network-id 4::UNKNOWN\n2023-03-19 16:08:17.707 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 53745 typ host tcptype passive generation 0 ufrag iT+A network-id 3::UNKNOWN\n2023-03-19 16:08:17.711 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2181291358 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 64000 typ srflx raddr fec0::9ebc:2b3f:a56d:1ed8 rport 48463 generation 0 ufrag iT+A network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n</code></pre>\n<p>CLIENT A audio and video candidate</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 59483 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 47321 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52945 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\n2023-03-19 16:08:07.078  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 37085 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\n2023-03-19 16:08:07.082  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1847424209 1 tcp 1518280447 10.0.2.15 41627 typ host tcptype passive generation 0 ufrag 5HN1 network-id 1::UNKNOWN\n2023-03-19 16:08:07.085  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 55563 typ host tcptype passive generation 0 ufrag 5HN1 network-id 2::UNKNOWN\n2023-03-19 16:08:07.089  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:2091440959 1 tcp 1518149375 10.0.2.16 51877 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.101  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 46365 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.102  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1876313031 1 tcp 1518025983 ::1 33561 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:344579997 1 tcp 1517952767 127.0.0.1 56545 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63983 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 43345 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n2023-03-19 16:08:07.152  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63981 typ srflx raddr 10.0.2.15 rport 35078 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.154  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63982 typ srflx raddr 10.0.2.16 rport 45157 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.159  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1645442729 1 udp 1686052607 92.134.12.255 63984 typ srflx raddr 10.0.2.15 rport 34609 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.165  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63988 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 59153 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n2023-03-19 16:08:07.168  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1889982791 1 udp 1685921535 92.134.12.255 63985 typ srflx raddr 10.0.2.16 rport 33873 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.773  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 25108223 216.39.253.20 43389 typ relay raddr 92.134.12.255 rport 57285 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.774  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 24977151 216.39.253.20 36391 typ relay raddr 92.134.12.255 rport 57284 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.783  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 25108223 216.39.253.20 41892 typ relay raddr 92.134.12.255 rport 57286 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.784  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 24977151 216.39.253.20 43228 typ relay raddr 92.134.12.255 rport 57287 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN`\n</code></pre>\n<p>0 frames on client A and B on remoteRender, but the localRender good and display it</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:35.861 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:37.690 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4003 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-19 16:08:37.862 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\n2023-03-19 16:08:39.757 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4003 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1100 us. Average swapBuffer time: 987 us.\n2023-03-19 16:08:39.863 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:41.696 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4005 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-19 16:08:41.864 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\n2023-03-19 16:08:43.758 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4001 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1107 us. Average swapBuffer time: 980 us.\n2023-03-19 16:08:43.865 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:45.702 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n</code></pre>\n"},{"tags":["java","xml","web-services","dom"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409145433,"post_id":25527971,"comment_id":39854985,"body_markdown":"what is the expected namespace for the Request element?","body":"what is the expected namespace for the Request element?"},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409147516,"post_id":25527971,"comment_id":39856370,"body_markdown":"I declared the namespace &#39;http://myservice.test.com/2013/8/v1.0&#39; for Body, &lt;SOAP-ENV:Body xmlns=&quot;http://myservice.test.com/2013/8/v1.0&quot;&gt;. I i belive it will be default one for whatever coming under it. So i dont need a seperate namespace for Request.","body":"I declared the namespace &#39;<a href=\"http://myservice.test.com/2013/8/v1.0\" rel=\"nofollow noreferrer\">myservice.test.com/2013/8/v1.0</a>&#39; for Body, &lt;SOAP-ENV:Body xmlns=&quot;<a href=\"http://myservice.test.com/2013/8/v1.0\" rel=\"nofollow noreferrer\">myservice.test.com/2013/8/v1.0</a>&quot;&gt;. I i belive it will be default one for whatever coming under it. So i dont need a seperate namespace for Request."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409147613,"post_id":25527971,"comment_id":39856445,"body_markdown":"then you need to set that as the namespace on those elements when you add them to the dom.","body":"then you need to set that as the namespace on those elements when you add them to the dom."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409147889,"post_id":25527971,"comment_id":39856682,"body_markdown":"How do i do that?. Help required. my code is given in other thread.[http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]","body":"How do i do that?. Help required. my code is given in other thread.[<a href=\"http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]\" title=\"namespace related error on creating soap request%5d\">stackoverflow.com/questions/25479797/&hellip;</a>"},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409148015,"post_id":25527971,"comment_id":39856775,"body_markdown":"again, it works fine when i have websphere runtime library in classpath. how does that works?","body":"again, it works fine when i have websphere runtime library in classpath. how does that works?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409148331,"post_id":25527971,"comment_id":39856991,"body_markdown":"you haven&#39;t shown any code, so i have no clue how it works.","body":"you haven&#39;t shown any code, so i have no clue how it works."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409148495,"post_id":25527971,"comment_id":39857112,"body_markdown":"Please look at this thread [http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]. thats the code i am working on","body":"Please look at this thread [<a href=\"http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]\" title=\"namespace related error on creating soap request%5d\">stackoverflow.com/questions/25479797/&hellip;</a>. thats the code i am working on"},{"owner":{"account_id":2796827,"reputation":2767,"user_id":2405914,"accept_rate":94,"display_name":"Leonardo Alves Machado"},"score":0,"creation_date":1495552389,"post_id":25527971,"comment_id":75295908,"body_markdown":"Possible duplicate of [Namespace related error on creating SOAP Request](https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\">Namespace related error on creating SOAP Request</a>"}],"answers":[{"tags":[],"owner":{"account_id":11035054,"reputation":205,"user_id":8105206,"display_name":"Paweł"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539591176,"creation_date":1539591176,"answer_id":52812347,"question_id":25527971,"body_markdown":"The simplest way what i found is:\r\n\r\nfirst:\r\nin child set nasmespace as in root:\r\nsecond:\r\nremove namespace\r\n\r\n     Document doc = new Document();\r\n            Namespace xmlns = Namespace.getNamespace(&quot;http://www.microsoft.com/networking/WLAN/profile/v1&quot;);\r\n            Element rootXML = new Element(&quot;WLANProfile&quot;, xmlns);\r\n    \r\n    \r\n            Element nameXML = new Element(&quot;name&quot;);\r\n                nameXML.addContent(name);\r\n            rootXML.addContent(nameXML);\r\n    //below solution\r\n                nameXML.setNamespace(xmlns);\r\n                nameXML.removeNamespaceDeclaration(xmlns);","title":"Remove empty namespace in java using DOM","body":"<p>The simplest way what i found is:</p>\n\n<p>first:\nin child set nasmespace as in root:\nsecond:\nremove namespace</p>\n\n<pre><code> Document doc = new Document();\n        Namespace xmlns = Namespace.getNamespace(\"http://www.microsoft.com/networking/WLAN/profile/v1\");\n        Element rootXML = new Element(\"WLANProfile\", xmlns);\n\n\n        Element nameXML = new Element(\"name\");\n            nameXML.addContent(name);\n        rootXML.addContent(nameXML);\n//below solution\n            nameXML.setNamespace(xmlns);\n            nameXML.removeNamespaceDeclaration(xmlns);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23999761,"reputation":1,"user_id":17984837,"display_name":"Sergey Kazakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679563981,"creation_date":1675413663,"answer_id":75333305,"question_id":25527971,"body_markdown":"Finally I found several solutions of the described problem.\r\n\r\nFirst, you can remove all namespaces from all xml using [this](https://stackoverflow.com/a/25202177/17984837) answer.\r\n\r\nSecond, if you do not need to remove all namespaces in Xml, but only empty ones, they arise due to the fact that some namespace is written in the root elements, which is not in the child.  For example:\r\n```\r\n&lt;Request xmlns=&quot;http://пф.рф/КСАФ/2018-04-03&quot;\r\n        xmlns:AF4=&quot;xx&quot;...&gt;\r\n   &lt;EMP xmlns=&quot;&quot;&gt;   \r\n   ...\r\n   &lt;/EMP&gt;\r\n```\r\nSo you need to set the same namespace for all children of root elements. It can be done using this code (call `setTheSameNamespaceForChildren(rootElement)` for root element before saving):\r\n```\r\n    private static final String namespaceKey = &quot;xmlns&quot;;\r\n    private static String namespaceValue;\r\n\r\n    public static void setTheSameNamespaceForChildren(Element rootEl) {\r\n        namespaceValue = rootEl.getAttribute(namespaceKey);\r\n        NodeList list = rootEl.getChildNodes();\r\n        for (int i = 0; i &lt; list.getLength(); i++) {\r\n            Node child = list.item(i);\r\n            setTheSameNamespaceRecursively(child);\r\n        }\r\n    }\r\n\r\n    private static void setTheSameNamespaceRecursively(Node node) {\r\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n            boolean isChanged = setTheSameNamespace((Element) node);\r\n            if (isChanged) {\r\n                NodeList list = node.getChildNodes();\r\n                for (int i = 0; i &lt; list.getLength(); i++) {\r\n                    Node child = list.item(i);\r\n                    setTheSameNamespaceRecursively(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private static boolean setTheSameNamespace(Element node) {\r\n        String curValue = node.getAttribute(namespaceKey);\r\n        if (curValue.length() == 0) {\r\n            node.setAttribute(namespaceKey, namespaceValue);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Remove empty namespace in java using DOM","body":"<p>Finally I found several solutions of the described problem.</p>\n<p>First, you can remove all namespaces from all xml using <a href=\"https://stackoverflow.com/a/25202177/17984837\">this</a> answer.</p>\n<p>Second, if you do not need to remove all namespaces in Xml, but only empty ones, they arise due to the fact that some namespace is written in the root elements, which is not in the child.  For example:</p>\n<pre><code>&lt;Request xmlns=&quot;http://пф.рф/КСАФ/2018-04-03&quot;\n        xmlns:AF4=&quot;xx&quot;...&gt;\n   &lt;EMP xmlns=&quot;&quot;&gt;   \n   ...\n   &lt;/EMP&gt;\n</code></pre>\n<p>So you need to set the same namespace for all children of root elements. It can be done using this code (call <code>setTheSameNamespaceForChildren(rootElement)</code> for root element before saving):</p>\n<pre><code>    private static final String namespaceKey = &quot;xmlns&quot;;\n    private static String namespaceValue;\n\n    public static void setTheSameNamespaceForChildren(Element rootEl) {\n        namespaceValue = rootEl.getAttribute(namespaceKey);\n        NodeList list = rootEl.getChildNodes();\n        for (int i = 0; i &lt; list.getLength(); i++) {\n            Node child = list.item(i);\n            setTheSameNamespaceRecursively(child);\n        }\n    }\n\n    private static void setTheSameNamespaceRecursively(Node node) {\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\n            boolean isChanged = setTheSameNamespace((Element) node);\n            if (isChanged) {\n                NodeList list = node.getChildNodes();\n                for (int i = 0; i &lt; list.getLength(); i++) {\n                    Node child = list.item(i);\n                    setTheSameNamespaceRecursively(child);\n                }\n            }\n        }\n    }\n    private static boolean setTheSameNamespace(Element node) {\n        String curValue = node.getAttribute(namespaceKey);\n        if (curValue.length() == 0) {\n            node.setAttribute(namespaceKey, namespaceValue);\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679563981,"creation_date":1409144691,"question_id":25527971,"body_markdown":"    &lt;Request&gt;\r\n      &lt;EMPId&gt;?&lt;/EMPId&gt;\r\n    &lt;/Request&gt;\r\n\r\nI know this is a repeated question, but i would like to post it again as i dint get a convincing answer from any of the threads i went through.\r\n\r\nMy ultimate aim is to add the XML given above as the Body content of a SOAP message.\r\nYou can have a look at the following link to see how i am doing it.\r\nhttps://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\r\nIt worked fine when i was using the Websphere Application Server 7.0 library.JRE is also present, forgot to include in screen shot.\r\n\r\n![With Websphere runtime (JRE is also present, forgot to include)][1]\r\n\r\nSince i have to export it as a jar and run it as a stand alone application, i have to remove the dependency of &#39;Websphere Application Server 7.0 library&#39;. Because, by keeping this library, my jar size will go above 100MB. So i thought of taking only the library which i needed.\r\n\r\n&gt; &#39;com.ibm.ws.prereq.soap.jar&#39;\r\n\r\n![With out Websphere runtime][2]\r\n\r\nNow the issue is, the Request tag of the generated SOAP request is coming in following format.\r\n\r\n    &lt;Request xmlns=&quot;&quot;&gt;\r\n      &lt;EMPId&gt;?&lt;/EMPId&gt;\r\n    &lt;/Request&gt;\r\n\r\nI am able to create a &#39;org.w3c.dom.Document&#39; representation for the generated SOAP message.\r\nNow, can any one tell me how can I delete the xmlns=&quot;&quot; from Request tag.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GXGiW.png\r\n  [2]: http://i.stack.imgur.com/XgGit.png","title":"Remove empty namespace in java using DOM","body":"<pre><code>&lt;Request&gt;\n  &lt;EMPId&gt;?&lt;/EMPId&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>I know this is a repeated question, but i would like to post it again as i dint get a convincing answer from any of the threads i went through.</p>\n\n<p>My ultimate aim is to add the XML given above as the Body content of a SOAP message.\nYou can have a look at the following link to see how i am doing it.\n<a href=\"https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\">Namespace related error on creating SOAP Request</a>\nIt worked fine when i was using the Websphere Application Server 7.0 library.JRE is also present, forgot to include in screen shot.</p>\n\n<p><img src=\"https://i.stack.imgur.com/GXGiW.png\" alt=\"With Websphere runtime (JRE is also present, forgot to include)\"></p>\n\n<p>Since i have to export it as a jar and run it as a stand alone application, i have to remove the dependency of 'Websphere Application Server 7.0 library'. Because, by keeping this library, my jar size will go above 100MB. So i thought of taking only the library which i needed.</p>\n\n<blockquote>\n  <p>'com.ibm.ws.prereq.soap.jar'</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/XgGit.png\" alt=\"With out Websphere runtime\"></p>\n\n<p>Now the issue is, the Request tag of the generated SOAP request is coming in following format.</p>\n\n<pre><code>&lt;Request xmlns=\"\"&gt;\n  &lt;EMPId&gt;?&lt;/EMPId&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>I am able to create a 'org.w3c.dom.Document' representation for the generated SOAP message.\nNow, can any one tell me how can I delete the xmlns=\"\" from Request tag.</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539262847,"creation_date":1539259972,"answer_id":52759810,"question_id":52759359,"body_markdown":"I think the problem is that you&#39;re using the raw type. You need to give it a class.\r\n\r\n    module.addSerializer(Object.class, new NullSerializer&lt;&gt;());\r\n","title":"How do I register my JsonSerializer on Spring","body":"<p>I think the problem is that you're using the raw type. You need to give it a class.</p>\n\n<pre><code>module.addSerializer(Object.class, new NullSerializer&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679563810,"creation_date":1679563810,"answer_id":75821268,"question_id":52759359,"body_markdown":"    you can configure with this method with spring\r\n        \r\n\r\n    public class TestClass {\r\n        \r\n            public static void main(String[] args) {\r\n                SpringApplication.run(LocalsFinanceCommissionServiceApplication.class, args);\r\n            }\r\n        \r\n            @Bean\r\n            CommandLineRunner sx(ObjectMapper mapper) {\r\n                return args -&gt; {\r\n        \r\n                    Map&lt;String, BigDecimal&gt; hello = Map.of(&quot;hello&quot;, BigDecimal.valueOf(12.11231));\r\n                    System.out.println(mapper.writeValueAsString(hello));\r\n    //{&quot;hello&quot;:12.1123}\r\n                };\r\n            }\r\n        }\r\n        \r\n        class PriceSerializer extends JsonSerializer&lt;BigDecimal&gt; {\r\n            @Override\r\n            public void serialize(BigDecimal value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n                // Using writNumber and removing toString make sure the output is number but not String.\r\n                jgen.writeNumber(value.setScale(4, RoundingMode.HALF_UP));\r\n            }\r\n        \r\n            @Override\r\n            public Class&lt;BigDecimal&gt; handledType() {\r\n                return BigDecimal.class;\r\n            }\r\n        }\r\n        \r\n        @Configuration\r\n        class JacksonConfig {\r\n        \r\n            @Bean\r\n            public com.fasterxml.jackson.databind.Module customSerializer() {\r\n                SimpleModule module = new SimpleModule();\r\n                module.addSerializer(new PriceSerializer());\r\n                return module;\r\n            }\r\n        }","title":"How do I register my JsonSerializer on Spring","body":"<pre><code>you can configure with this method with spring\n    \n\npublic class TestClass {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(LocalsFinanceCommissionServiceApplication.class, args);\n        }\n    \n        @Bean\n        CommandLineRunner sx(ObjectMapper mapper) {\n            return args -&gt; {\n    \n                Map&lt;String, BigDecimal&gt; hello = Map.of(&quot;hello&quot;, BigDecimal.valueOf(12.11231));\n                System.out.println(mapper.writeValueAsString(hello));\n//{&quot;hello&quot;:12.1123}\n            };\n        }\n    }\n    \n    class PriceSerializer extends JsonSerializer&lt;BigDecimal&gt; {\n        @Override\n        public void serialize(BigDecimal value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n            // Using writNumber and removing toString make sure the output is number but not String.\n            jgen.writeNumber(value.setScale(4, RoundingMode.HALF_UP));\n        }\n    \n        @Override\n        public Class&lt;BigDecimal&gt; handledType() {\n            return BigDecimal.class;\n        }\n    }\n    \n    @Configuration\n    class JacksonConfig {\n    \n        @Bean\n        public com.fasterxml.jackson.databind.Module customSerializer() {\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(new PriceSerializer());\n            return module;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4535,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52759810,"answer_count":2,"score":3,"last_activity_date":1679563810,"creation_date":1539258616,"question_id":52759359,"body_markdown":"Taking the response from this question: https://stackoverflow.com/a/45566139/2968729 I want to add the `NullSerializer` to the autoconfigured `ObjectMapper`. Spring Boot documentation:\r\n\r\n&gt; Any beans of type com.fasterxml.jackson.databind.Module are\r\n&gt; automatically registered with the auto-configured\r\n&gt; Jackson2ObjectMapperBuilder and are applied to any ObjectMapper\r\n&gt; instances that it creates. This provides a global mechanism for\r\n&gt; contributing custom modules when you add new features to your\r\n&gt; application.\r\n\r\nSo this is how I&#39;m trying:\r\n\r\n    @Configuration\r\n    public class JacksonConfig {\r\n    \r\n        @Bean\r\n        public Module customSerializer() {\r\n            SimpleModule module = new SimpleModule();\r\n            module.addSerializer(new NullSerializer());\r\n            return module;\r\n        }\r\n    }\r\n\r\nBut I&#39;m getting:\r\n\r\n    NullSerializer does not define valid handledType() -- must either register with method that takes type argument or make serializer extend com.fasterxml.jackson.databind.ser.std.StdSerializer\r\n\r\n\r\nJavadoc of handleType() method says:\r\n\r\n    \r\n\r\n&gt; Method for accessing type of Objects this serializer can handle. Note\r\n&gt; that this information is not guaranteed to be exact -- it may be a\r\n&gt; more generic (super-type) -- but it should not be incorrect (return a\r\n&gt; non-related type).\r\n&gt;     Default implementation will return null, which essentially means same as returning Object.class would; that is, that nothing is known\r\n&gt; about handled type.\r\n\r\n\r\nUsing Spring Boot 2.0.5.RELEASE","title":"How do I register my JsonSerializer on Spring","body":"<p>Taking the response from this question: <a href=\"https://stackoverflow.com/a/45566139/2968729\">https://stackoverflow.com/a/45566139/2968729</a> I want to add the <code>NullSerializer</code> to the autoconfigured <code>ObjectMapper</code>. Spring Boot documentation:</p>\n\n<blockquote>\n  <p>Any beans of type com.fasterxml.jackson.databind.Module are\n  automatically registered with the auto-configured\n  Jackson2ObjectMapperBuilder and are applied to any ObjectMapper\n  instances that it creates. This provides a global mechanism for\n  contributing custom modules when you add new features to your\n  application.</p>\n</blockquote>\n\n<p>So this is how I'm trying:</p>\n\n<pre><code>@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public Module customSerializer() {\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(new NullSerializer());\n        return module;\n    }\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<pre><code>NullSerializer does not define valid handledType() -- must either register with method that takes type argument or make serializer extend com.fasterxml.jackson.databind.ser.std.StdSerializer\n</code></pre>\n\n<p>Javadoc of handleType() method says:</p>\n\n<blockquote>\n  <p>Method for accessing type of Objects this serializer can handle. Note\n  that this information is not guaranteed to be exact -- it may be a\n  more generic (super-type) -- but it should not be incorrect (return a\n  non-related type).\n      Default implementation will return null, which essentially means same as returning Object.class would; that is, that nothing is known\n  about handled type.</p>\n</blockquote>\n\n<p>Using Spring Boot 2.0.5.RELEASE</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"owner":{"account_id":4380236,"reputation":1,"user_id":3572065,"display_name":"Charlie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679563505,"creation_date":1679501147,"question_id":75814662,"body_markdown":"I have an Entity I want to define a Unique Index for that is a field of the JSON column.\r\n\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\nimport lombok.EqualsAndHashCode;\r\n\r\nimport org.hibernate.annotations.JdbcTypeCode;\r\nimport org.hibernate.type.SqlTypes;\r\n\r\n@Entity\r\n@EqualsAndHashCode(callSuper = true)\r\n@Table(name = &quot;OWNER&quot;)\r\npublic class Owner extends AbstractEntity&lt;Integer&gt;\r\n{\r\n    @Column(name = &quot;CHEESE&quot;)\r\n    private String cheese;\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;JSON&quot;)\r\n    private String json;\r\n}\r\n```\r\nUsing hibernate 6.2, Postgres, and Jakarta Persistence 3.1.0. For information, the AbstractEntity just defines the id field.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf I want to define a unique index on the CHEESE column, I can do the following:\r\n\r\n```\r\n@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;CHEESE_UNIQUE_IDX&quot;, columnList = &quot;CHEESE&quot;) })\r\n```\r\nThen when auto generating the schema, I get the index constraint generated.\r\n\r\nIf my json looks like this:\r\n\r\n```\r\n{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30}\r\n```\r\nand I want to make &#39;name&#39; a unique index, I can do the following manually:\r\n\r\n```\r\nCREATE UNIQUE INDEX NAME_JSON_UNIQUE_IDX ON OWNER( (JSON-&gt;&gt;&#39;name&#39;) );\r\n```\r\n\r\nHowever, I want this constraint to be auto generated when I run my schema generator. What&#39;s the syntax for defining the Index? For example I&#39;ve tried things like:\r\n\r\n```\r\n@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;NAME_JSON_UNIQUE_IDX&quot;, columnList = &quot;JSON-&gt;&gt;&#39;name&#39;&quot;) })\r\n```\r\nBut that fails as it&#39;s not the correct syntax.\r\n","title":"JPA: Defining an Index using JPA for a field in a JSON column?","body":"<p>I have an Entity I want to define a Unique Index for that is a field of the JSON column.</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.EqualsAndHashCode;\n\nimport org.hibernate.annotations.JdbcTypeCode;\nimport org.hibernate.type.SqlTypes;\n\n@Entity\n@EqualsAndHashCode(callSuper = true)\n@Table(name = &quot;OWNER&quot;)\npublic class Owner extends AbstractEntity&lt;Integer&gt;\n{\n    @Column(name = &quot;CHEESE&quot;)\n    private String cheese;\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;JSON&quot;)\n    private String json;\n}\n</code></pre>\n<p>Using hibernate 6.2, Postgres, and Jakarta Persistence 3.1.0. For information, the AbstractEntity just defines the id field.</p>\n<p>If I want to define a unique index on the CHEESE column, I can do the following:</p>\n<pre><code>@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;CHEESE_UNIQUE_IDX&quot;, columnList = &quot;CHEESE&quot;) })\n</code></pre>\n<p>Then when auto generating the schema, I get the index constraint generated.</p>\n<p>If my json looks like this:</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30}\n</code></pre>\n<p>and I want to make 'name' a unique index, I can do the following manually:</p>\n<pre><code>CREATE UNIQUE INDEX NAME_JSON_UNIQUE_IDX ON OWNER( (JSON-&gt;&gt;'name') );\n</code></pre>\n<p>However, I want this constraint to be auto generated when I run my schema generator. What's the syntax for defining the Index? For example I've tried things like:</p>\n<pre><code>@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;NAME_JSON_UNIQUE_IDX&quot;, columnList = &quot;JSON-&gt;&gt;'name'&quot;) })\n</code></pre>\n<p>But that fails as it's not the correct syntax.</p>\n"},{"tags":["java","maven","pom.xml","artifactory","maven-dependency"],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648710864,"creation_date":1648707797,"answer_id":71687775,"question_id":71687675,"body_markdown":"Better way will be using `&lt;dependencyManagement/&gt;` tag. Dependency management will make sure the version will be maintained even if some other transitive dependency brings higher version of the dependency.\r\n\r\nUsage:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\nNote: `dependencyManagement` tag is used for defining the version and scope (if not in the default scope which is compile) of a dependency it does not add the dependencies in it to you project, you must define separate `&lt;dependencies/&gt;` section in your pom.xml for adding dependencies to your project. \r\n\r\nIn your case it will be like.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n...\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n       ...\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n...\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIn this case `spring-batch-core` is added as a direct dependency and if it has `xstream` as dependecny you project will use `1.4.11` version even `spring-batch-core` has a different version of `xstream` as dependency. \r\n\r\nRef: [Dependency Management](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-management)","title":"How to override default version of library included by artifact in maven?","body":"<p>Better way will be using <code>&lt;dependencyManagement/&gt;</code> tag. Dependency management will make sure the version will be maintained even if some other transitive dependency brings higher version of the dependency.</p>\n<p>Usage:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n            &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Note: <code>dependencyManagement</code> tag is used for defining the version and scope (if not in the default scope which is compile) of a dependency it does not add the dependencies in it to you project, you must define separate <code>&lt;dependencies/&gt;</code> section in your pom.xml for adding dependencies to your project.</p>\n<p>In your case it will be like.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n...\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n                &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n                &lt;version&gt;1.4.11&lt;/version&gt;\n            &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n       ...\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n...\n\n&lt;/project&gt;\n</code></pre>\n<p>In this case <code>spring-batch-core</code> is added as a direct dependency and if it has <code>xstream</code> as dependecny you project will use <code>1.4.11</code> version even <code>spring-batch-core</code> has a different version of <code>xstream</code> as dependency.</p>\n<p>Ref: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-management\" rel=\"nofollow noreferrer\">Dependency Management</a></p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71687775,"answer_count":1,"score":0,"last_activity_date":1679563369,"creation_date":1648707278,"question_id":71687675,"body_markdown":"I have a spring batch dependency in my pom.xml declared as below: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThere is one artifact xstream that is included by above with version 1.4.7 and it needs to be updated to 1.4.11.\r\n\r\nIt can be added as follow:\r\n\r\n```xml\r\n    &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhat is the correct way for this?I am thinking of following approach:\r\n\r\nBoth above pieces of code will be there but do I need to use &lt; exclusions &gt; to specifically exclude xstream artifact old version from spring-batch-core or does maven takes care of this automatically?","title":"How to override default version of library included by artifact in maven?","body":"<p>I have a spring batch dependency in my pom.xml declared as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There is one artifact xstream that is included by above with version 1.4.7 and it needs to be updated to 1.4.11.</p>\n<p>It can be added as follow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n    &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What is the correct way for this?I am thinking of following approach:</p>\n<p>Both above pieces of code will be there but do I need to use &lt; exclusions &gt; to specifically exclude xstream artifact old version from spring-batch-core or does maven takes care of this automatically?</p>\n"},{"tags":["java","eclipse","osgi","java-11","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1679478459,"post_id":75810175,"comment_id":133727761,"body_markdown":"You should have `javax.annotation` in the `Import-Package` in the MANIFEST.MF","body":"You should have <code>javax.annotation</code> in the <code>Import-Package</code> in the MANIFEST.MF"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679485308,"post_id":75810175,"comment_id":133729489,"body_markdown":"Try recompiling it, if it was over the Maven net  link it may been interrupted, or the local maven cache cleared. That should though failed texts and compile somewhere in the output info. Also noticed &quot;application start&quot; in the exception. Runtime annotation processing would-be needed to load before much of anything. Did you use the old binaries untouched or did you recompile?","body":"Try recompiling it, if it was over the Maven net  link it may been interrupted, or the local maven cache cleared. That should though failed texts and compile somewhere in the output info. Also noticed &quot;application start&quot; in the exception. Runtime annotation processing would-be needed to load before much of anything. Did you use the old binaries untouched or did you recompile?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679494126,"post_id":75810175,"comment_id":133732082,"body_markdown":"`javax.annotation.PostConstruct` has been moved to `jakarta.annotation.PostConstruct`. You have to make sure that all libraries are on the same level.","body":"<code>javax.annotation.PostConstruct</code> has been moved to <code>jakarta.annotation.PostConstruct</code>. You have to make sure that all libraries are on the same level."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679494265,"post_id":75810175,"comment_id":133732127,"body_markdown":"@Holger Eclipse includes a javax.annotation plug-in for RCPs with the old javax classes","body":"@Holger Eclipse includes a javax.annotation plug-in for RCPs with the old javax classes"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679494632,"post_id":75810175,"comment_id":133732252,"body_markdown":"@greg-449 so, if library X checks whether library Y is annotated with `jakarta.annotation.PostConstruct`, this check gets somehow converted to a check whether Y is annotated with `javax.annotation.PostConstruct`?","body":"@greg-449 so, if library X checks whether library Y is annotated with <code>jakarta.annotation.PostConstruct</code>, this check gets somehow converted to a check whether Y is annotated with <code>javax.annotation.PostConstruct</code>?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679499602,"post_id":75810175,"comment_id":133733828,"body_markdown":"@Holger This is just for Eclipse/OSGi plug-ins which still use javax.annotation. The question seems to be about such a plug-in.","body":"@Holger This is just for Eclipse/OSGi plug-ins which still use javax.annotation. The question seems to be about such a plug-in."},{"owner":{"account_id":28076537,"reputation":1,"user_id":21448292,"display_name":"Maximilian Lutz"},"score":0,"creation_date":1679500573,"post_id":75810175,"comment_id":133734163,"body_markdown":"@greg-449 yeah that seems to be the problem: org.eclipse.e4.core.di is a plugin provided by eclipse, I dont know in which way I could adjust the Manifest of that. \nTo everyone else: I will check your suggestions and give some Feedback, Thanks a lot everyone.","body":"@greg-449 yeah that seems to be the problem: org.eclipse.e4.core.di is a plugin provided by eclipse, I dont know in which way I could adjust the Manifest of that.  To everyone else: I will check your suggestions and give some Feedback, Thanks a lot everyone."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679520228,"post_id":75810175,"comment_id":133738933,"body_markdown":"The difficulty may be in the library names now supplied in Maven and it&#39;s compile files. Shifting from javax to Jakarta is a source code library compilation problem that mainly affects IBM web IBM eclipse, it splits away from proprietary naming of libraries enforced by Oracle since (aka level) Oracle java 1.8.0_202, the last free licensed Oracle SDK/JRE and equivalent OpenJDK 11. Shortly after, Oracle took over - reserved the javax library name as proprietary. IBM continued source upgrades and used the name Jakarta under the &quot;Jakarta project&quot;.  That is immense trouble in JSF tomcat 10.","body":"The difficulty may be in the library names now supplied in Maven and it&#39;s compile files. Shifting from javax to Jakarta is a source code library compilation problem that mainly affects IBM web IBM eclipse, it splits away from proprietary naming of libraries enforced by Oracle since (aka level) Oracle java 1.8.0_202, the last free licensed Oracle SDK/JRE and equivalent OpenJDK 11. Shortly after, Oracle took over - reserved the javax library name as proprietary. IBM continued source upgrades and used the name Jakarta under the &quot;Jakarta project&quot;.  That is immense trouble in JSF tomcat 10."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679521349,"post_id":75810175,"comment_id":133739134,"body_markdown":"Technically Jakarta or javax should not be a problem if the JDK is the only upgrade, however, the jre can trip over older code dependent architectures it&#39;s compiled or run on being different.  TIP, anything that uses core SE javax name remains the same, Extended functionalities such as frameworks and libraries e.g. JSF , java servers e.t.c changed since Oracle 1.8.0_202","body":"Technically Jakarta or javax should not be a problem if the JDK is the only upgrade, however, the jre can trip over older code dependent architectures it&#39;s compiled or run on being different.  TIP, anything that uses core SE javax name remains the same, Extended functionalities such as frameworks and libraries e.g. JSF , java servers e.t.c changed since Oracle 1.8.0_202"}],"owner":{"account_id":28076537,"reputation":1,"user_id":21448292,"display_name":"Maximilian Lutz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679563080,"creation_date":1679475602,"question_id":75810175,"body_markdown":"our RCP OSGi Application does not run anymore after upgrading to Java 11. This is because Java 11 removed javax.annotation and this leads to the following Exception while running our application:\r\n\r\n\r\n```\r\norg.eclipse.e4.core.di.InjectionException: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:414)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultHeadlessContext(E4Application.java:481)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultContext(E4Application.java:495)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:213)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:573)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat *.application.Application.start(Application.java:534)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\r\n\t... 23 more\r\nCaused by: java.lang.ClassNotFoundException: javax.annotation.PostConstruct cannot be found by org.eclipse.e4.core.di_1.8.200.v20220512-1957\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 25 more\r\n```\r\n\r\nThe Eclipse Plugin for Dependency Injection &quot;org.eclipse.e4.core.di&quot; cannot find the javax.annotation package at runtime right after starting the application. The Application runs as mentioned in an OSGi Container. There are no unresolved requirements or something similar at Compile time, furthermore javax.annotation is present in the Build and in the target platform. See the Manifest of the org.eclipse.e4.core.di Bundle below:\r\n\r\n\r\n```\r\n Automatic-Module-Name = org.eclipse.e4.core.di\r\n Build-Jdk-Spec = 11\r\n Bundle-ActivationPolicy = lazy\r\n Bundle-Localization = plugin\r\n Bundle-ManifestVersion = 2\r\n Bundle-Name = Eclipse Dependency Injection\r\n Bundle-RequiredExecutionEnvironment = JavaSE-11\r\n Bundle-SymbolicName = org.eclipse.e4.core.di\r\n Bundle-Vendor = Eclipse.org\r\n Bundle-Version = 1.8.200.v20220512-1957\r\n Created-By = Maven Archiver 3.5.2\r\n Eclipse-SourceReferences = scm:git:https://github.com/eclipse-platform/eclipse.platform.runtime.git;path=&quot;bundles/org.eclipse.e4.core.di&quot;;tag=&quot;I20220512-1800&quot;;commitId=ada015b6ae742e99f70411886c4f72f1a1fe1713\r\n Export-Package = org.eclipse.e4.core.di;version=&quot;1.7.0&quot;,org.eclipse.e4.core.di.suppliers;version=&quot;1.7.0&quot;,org.eclipse.e4.core.internal.di;x-friends:=&quot;org.eclipse.e4.core.contexts&quot;,org.eclipse.e4.core.internal.di.osgi;x-internal:=true,org.eclipse.e4.core.internal.di.shared;x-friends:=&quot;org.eclipse.e4.core.contexts,org.eclipse.e4.core.di.extensions.supplier&quot;\r\n Import-Package = javax.inject;version=&quot;1.0.0&quot;,org.eclipse.osgi.framework.log;version=&quot;1.1.0&quot;,org.osgi.framework;version=&quot;1.8.0&quot;,org.osgi.util.tracker;version=&quot;1.5.1&quot;\r\n Manifest-Version = 1.0\r\n Require-Bundle = org.eclipse.e4.core.di.annotations;bundle-version=&quot;[1.4.0,2.0.0)&quot;;visibility:=reexport,javax.annotation;bundle-version=&quot;[1.3.5,2.0.0)&quot;\r\n```\r\n\r\nThis Bundle requires the javax.annotation package, but does not import it. We have another Application that is built the same way and that one somehow works. We cannot really figure out why. As I understood OSGi correctly, every plugin has its own classloader and it seems like that javax.annotation is not loaded within the scope of the org.eclipse.e4.core.di plugin. Furthermore in the OSGi runtime it is visible that a javax.annotation bundle is started and active, so it should be available at runtime for the Dependency Injection Plugin. \r\n\r\nWe wonder how can we add javax.annotation to the OSGi runtime so that it is available for the dependency injection plugin? Has anybody maybe already had a similar problem? \r\n\r\nThe things we tried so far:\r\n\r\n- Adding the javax.annotation dependency to the maven tycho build: This did not change anything at all since the dependency is resolved by OSGi.\r\n- Comparison of the runtime environments of both applications: The OSGi runtimes are the same, we expected to see a difference here.  \r\n- We checked all versions of the package and the bundles regarding compatibility, nothing unusual here.\r\n- Adding javax.annotation to the run configuration in eclipse: Did not work as well, nothing changed here.\r\n\r\nEclipse BundleId: 20220609-1112\r\nJDK: 11.0.14.1","title":"Java 11 and javax.annotation: ClassNotFoundException","body":"<p>our RCP OSGi Application does not run anymore after upgrading to Java 11. This is because Java 11 removed javax.annotation and this leads to the following Exception while running our application:</p>\n<pre><code>org.eclipse.e4.core.di.InjectionException: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:414)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultHeadlessContext(E4Application.java:481)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultContext(E4Application.java:495)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:213)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:573)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n    at *.application.Application.start(Application.java:534)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\n    ... 23 more\nCaused by: java.lang.ClassNotFoundException: javax.annotation.PostConstruct cannot be found by org.eclipse.e4.core.di_1.8.200.v20220512-1957\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 25 more\n</code></pre>\n<p>The Eclipse Plugin for Dependency Injection &quot;org.eclipse.e4.core.di&quot; cannot find the javax.annotation package at runtime right after starting the application. The Application runs as mentioned in an OSGi Container. There are no unresolved requirements or something similar at Compile time, furthermore javax.annotation is present in the Build and in the target platform. See the Manifest of the org.eclipse.e4.core.di Bundle below:</p>\n<pre><code> Automatic-Module-Name = org.eclipse.e4.core.di\n Build-Jdk-Spec = 11\n Bundle-ActivationPolicy = lazy\n Bundle-Localization = plugin\n Bundle-ManifestVersion = 2\n Bundle-Name = Eclipse Dependency Injection\n Bundle-RequiredExecutionEnvironment = JavaSE-11\n Bundle-SymbolicName = org.eclipse.e4.core.di\n Bundle-Vendor = Eclipse.org\n Bundle-Version = 1.8.200.v20220512-1957\n Created-By = Maven Archiver 3.5.2\n Eclipse-SourceReferences = scm:git:https://github.com/eclipse-platform/eclipse.platform.runtime.git;path=&quot;bundles/org.eclipse.e4.core.di&quot;;tag=&quot;I20220512-1800&quot;;commitId=ada015b6ae742e99f70411886c4f72f1a1fe1713\n Export-Package = org.eclipse.e4.core.di;version=&quot;1.7.0&quot;,org.eclipse.e4.core.di.suppliers;version=&quot;1.7.0&quot;,org.eclipse.e4.core.internal.di;x-friends:=&quot;org.eclipse.e4.core.contexts&quot;,org.eclipse.e4.core.internal.di.osgi;x-internal:=true,org.eclipse.e4.core.internal.di.shared;x-friends:=&quot;org.eclipse.e4.core.contexts,org.eclipse.e4.core.di.extensions.supplier&quot;\n Import-Package = javax.inject;version=&quot;1.0.0&quot;,org.eclipse.osgi.framework.log;version=&quot;1.1.0&quot;,org.osgi.framework;version=&quot;1.8.0&quot;,org.osgi.util.tracker;version=&quot;1.5.1&quot;\n Manifest-Version = 1.0\n Require-Bundle = org.eclipse.e4.core.di.annotations;bundle-version=&quot;[1.4.0,2.0.0)&quot;;visibility:=reexport,javax.annotation;bundle-version=&quot;[1.3.5,2.0.0)&quot;\n</code></pre>\n<p>This Bundle requires the javax.annotation package, but does not import it. We have another Application that is built the same way and that one somehow works. We cannot really figure out why. As I understood OSGi correctly, every plugin has its own classloader and it seems like that javax.annotation is not loaded within the scope of the org.eclipse.e4.core.di plugin. Furthermore in the OSGi runtime it is visible that a javax.annotation bundle is started and active, so it should be available at runtime for the Dependency Injection Plugin.</p>\n<p>We wonder how can we add javax.annotation to the OSGi runtime so that it is available for the dependency injection plugin? Has anybody maybe already had a similar problem?</p>\n<p>The things we tried so far:</p>\n<ul>\n<li>Adding the javax.annotation dependency to the maven tycho build: This did not change anything at all since the dependency is resolved by OSGi.</li>\n<li>Comparison of the runtime environments of both applications: The OSGi runtimes are the same, we expected to see a difference here.</li>\n<li>We checked all versions of the package and the bundles regarding compatibility, nothing unusual here.</li>\n<li>Adding javax.annotation to the run configuration in eclipse: Did not work as well, nothing changed here.</li>\n</ul>\n<p>Eclipse BundleId: 20220609-1112\nJDK: 11.0.14.1</p>\n"},{"tags":["java","sql-server","spring-boot","encryption","spring-data-jpa"],"owner":{"account_id":25580356,"reputation":53,"user_id":19359032,"display_name":"LeoL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679563079,"creation_date":1679562730,"question_id":75821071,"body_markdown":"I&#39;m trying to integrate SQL SERVER column level encryption with a Spring Boot application, without success. In my application I defined an entity called Transaction\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRANSACTIONS&quot;)\r\n    public class Transaction {\r\n    \r\n        @Id\r\n        @Column(name = &quot;TRANSACTION_ID&quot;)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;AMOUNT&quot;, nullable = false)\r\n        private BigDecimal amount;\r\n    \r\n        @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;INSERT_TIMESTAMP&quot;)\r\n        private LocalDate insertTimestamp;\r\n    ...\r\n    }\r\nAnd a JPA repository like this:\r\n\r\n    @Repository\r\n    public interface TransactionRepository extends JpaRepository&lt;Transaction, String&gt; { ... }\r\n\r\n\r\nIn my SQL SERVER 2019 I have defined this table\r\n\r\n    CREATE TABLE [dbo].[TRANSACTIONS](\r\n    \t[transaction_id] [nvarchar](64) NOT NULL,\r\n    \t[amount] [numeric](16,2) ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;) NOT NULL,\r\n    \t[insert_timestamp] [date] NULL,\r\n    \t[description] [varchar](1024) COLLATE Latin1_General_BIN2 ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;) NOT NULL,\r\n     CONSTRAINT [TRANSACTIONS_PK] PRIMARY KEY CLUSTERED \r\n    (\r\n    \t[transaction_id] ASC\r\n    )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\r\n    ) ON [PRIMARY]\r\n    GO\r\n\r\nThen I defined an endpoint:\r\n\r\n    @PostMapping\r\n    public Transaction saveTransaction(@RequestBody Transaction request){\r\n    ...\r\n    }\r\n\r\nFrom Postman, I&#39;m calling the endpoint with this body:\r\n\r\n    {\r\n        &quot;amount&quot;:120.0,\r\n        &quot;description&quot;:&quot;TV&quot;\r\n    }\r\n\r\nBut I get this error:\r\n\r\n`com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: decimal(18,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;) is incompatible with numeric(16,2) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;)`\r\n\r\n\r\n\r\n\r\nSince the error states an operand type clash, I modified the data type in the DB table, so from `[amount] [numeric](16,2)` to `[amount] [decimal](18,1)`.\r\nNow, ironically let me say, the error is:\r\n\r\n`com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: numeric(4,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;) is incompatible with decimal(18,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;)`\r\n\r\nI also tried to use Double for the amount on Java entity and float for amount on DB table. This works, but I would like to use numeric(16,2) data type on DB. \r\n\r\nPlease notice I have this error only for decimal/numeric data types, everything works fine if I use varchar or integers.\r\n\r\nAny ideas?","title":"SQL Server always encrypted and JpaRepository in SpringBoot","body":"<p>I'm trying to integrate SQL SERVER column level encryption with a Spring Boot application, without success. In my application I defined an entity called Transaction</p>\n<pre><code>@Entity\n@Table(name = &quot;TRANSACTIONS&quot;)\npublic class Transaction {\n\n    @Id\n    @Column(name = &quot;TRANSACTION_ID&quot;)\n    private String id;\n\n    @Column(name = &quot;AMOUNT&quot;, nullable = false)\n    private BigDecimal amount;\n\n    @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;INSERT_TIMESTAMP&quot;)\n    private LocalDate insertTimestamp;\n...\n}\n</code></pre>\n<p>And a JPA repository like this:</p>\n<pre><code>@Repository\npublic interface TransactionRepository extends JpaRepository&lt;Transaction, String&gt; { ... }\n</code></pre>\n<p>In my SQL SERVER 2019 I have defined this table</p>\n<pre><code>CREATE TABLE [dbo].[TRANSACTIONS](\n    [transaction_id] [nvarchar](64) NOT NULL,\n    [amount] [numeric](16,2) ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = 'AEAD_AES_256_CBC_HMAC_SHA_256') NOT NULL,\n    [insert_timestamp] [date] NULL,\n    [description] [varchar](1024) COLLATE Latin1_General_BIN2 ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = 'AEAD_AES_256_CBC_HMAC_SHA_256') NOT NULL,\n CONSTRAINT [TRANSACTIONS_PK] PRIMARY KEY CLUSTERED \n(\n    [transaction_id] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\n) ON [PRIMARY]\nGO\n</code></pre>\n<p>Then I defined an endpoint:</p>\n<pre><code>@PostMapping\npublic Transaction saveTransaction(@RequestBody Transaction request){\n...\n}\n</code></pre>\n<p>From Postman, I'm calling the endpoint with this body:</p>\n<pre><code>{\n    &quot;amount&quot;:120.0,\n    &quot;description&quot;:&quot;TV&quot;\n}\n</code></pre>\n<p>But I get this error:</p>\n<p><code>com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: decimal(18,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK') is incompatible with numeric(16,2) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK')</code></p>\n<p>Since the error states an operand type clash, I modified the data type in the DB table, so from <code>[amount] [numeric](16,2)</code> to <code>[amount] [decimal](18,1)</code>.\nNow, ironically let me say, the error is:</p>\n<p><code>com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: numeric(4,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK') is incompatible with decimal(18,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK')</code></p>\n<p>I also tried to use Double for the amount on Java entity and float for amount on DB table. This works, but I would like to use numeric(16,2) data type on DB.</p>\n<p>Please notice I have this error only for decimal/numeric data types, everything works fine if I use varchar or integers.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679565253,"post_id":75819581,"comment_id":133745542,"body_markdown":"First question coming up here: `I have to install it locally in my .m2 repository ` why?   Do you use a repository manager? Only on your local machine?","body":"First question coming up here: <code>I have to install it locally in my .m2 repository </code> why?   Do you use a repository manager? Only on your local machine?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679562862,"creation_date":1679562862,"answer_id":75821098,"question_id":75819581,"body_markdown":"Your setup does not work.\r\n\r\nMaven picks up dependencies before **any phase runs**. So installing a dependency during the build will not allow you to use the dependency.","title":"Issue with order of plugin execution in maven builds","body":"<p>Your setup does not work.</p>\n<p>Maven picks up dependencies before <strong>any phase runs</strong>. So installing a dependency during the build will not allow you to use the dependency.</p>\n"}],"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679562862,"creation_date":1679550260,"question_id":75819581,"body_markdown":"I am working with a maven project and I have a local dependency (i.e a jar residing in my local file system). In order to include that dependency as part of fat jar of my project, I have to install it locally in my .m2 repository and then use it as a normal dependency in pom.xml file.\r\n\r\nI want to automate this process of installing the jar locally. So, I tried using the \r\n\r\n&gt; maven-install-plugin:install-file\r\n\r\n goal at **validation** phase. Based on this configuration, I expect that this plugin to execute before anything and when it comes to compile/package, the dependency is available locally to pick up from.\r\n\r\nBut with the above configuration, **mvn validate** and **mvn compile** commands are running successfully individually. But when it comes to **mvn package**, the build is trying to find the dependency in the central maven repo and throwing an error saying that it isn&#39;t found in the central repository. \r\n\r\nDoes **mvn package** run some additional checks before **validate** phase which the **mvn compile** doesn&#39;t? It seems like some checks are running before the plugins at **validate** phase are executed, that too only in the case of **mvn package**.\r\n\r\nIs there a way to execute the above mentioned goal as a starting point of execution for any maven command?","title":"Issue with order of plugin execution in maven builds","body":"<p>I am working with a maven project and I have a local dependency (i.e a jar residing in my local file system). In order to include that dependency as part of fat jar of my project, I have to install it locally in my .m2 repository and then use it as a normal dependency in pom.xml file.</p>\n<p>I want to automate this process of installing the jar locally. So, I tried using the</p>\n<blockquote>\n<p>maven-install-plugin:install-file</p>\n</blockquote>\n<p>goal at <strong>validation</strong> phase. Based on this configuration, I expect that this plugin to execute before anything and when it comes to compile/package, the dependency is available locally to pick up from.</p>\n<p>But with the above configuration, <strong>mvn validate</strong> and <strong>mvn compile</strong> commands are running successfully individually. But when it comes to <strong>mvn package</strong>, the build is trying to find the dependency in the central maven repo and throwing an error saying that it isn't found in the central repository.</p>\n<p>Does <strong>mvn package</strong> run some additional checks before <strong>validate</strong> phase which the <strong>mvn compile</strong> doesn't? It seems like some checks are running before the plugins at <strong>validate</strong> phase are executed, that too only in the case of <strong>mvn package</strong>.</p>\n<p>Is there a way to execute the above mentioned goal as a starting point of execution for any maven command?</p>\n"},{"tags":["java","mkdir","windows-11"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1679505703,"post_id":75815313,"comment_id":133735607,"body_markdown":"For what it&#39;s worth, the documentation you linked never states that it is an error to create such files. In fact that whole list is under a section called &quot;Naming **Conventions**&quot;, so it may be that such restrictions were relaxed and while Windows Explorer (or whatever the current Windows shell is called) keeps stopping you from creating files with those names, the actual operating system does not. Having said that, this is not really a Java question. It is borderline a *programming* question, imho.","body":"For what it&#39;s worth, the documentation you linked never states that it is an error to create such files. In fact that whole list is under a section called &quot;Naming <b>Conventions</b>&quot;, so it may be that such restrictions were relaxed and while Windows Explorer (or whatever the current Windows shell is called) keeps stopping you from creating files with those names, the actual operating system does not. Having said that, this is not really a Java question. It is borderline a <i>programming</i> question, imho."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679507210,"post_id":75815313,"comment_id":133736010,"body_markdown":"Just as an aside, I seem to recall once accidentally creating a directory or file with one of these reserved names. The creation occurred without errors. But it was a pain to delete. I believe this was with Windows 10 though.","body":"Just as an aside, I seem to recall once accidentally creating a directory or file with one of these reserved names. The creation occurred without errors. But it was a pain to delete. I believe this was with Windows 10 though."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1679509753,"post_id":75815313,"comment_id":133736632,"body_markdown":"CON0-CON9 are not reserved and never were. CON is reserved (it stands for &quot;console&quot;), and COM0..COM9 are (those stand for the RS232 serial ports).","body":"CON0-CON9 are not reserved and never were. CON is reserved (it stands for &quot;console&quot;), and COM0..COM9 are (those stand for the RS232 serial ports)."}],"answers":[{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679506880,"creation_date":1679506880,"answer_id":75815601,"question_id":75815313,"body_markdown":"The files are a remnant of the days of PC-DOS.  These pseudo-files are considered to exist regardless of any subdirectory (because DOS 1.0 didn&#39;t support directories).\r\n\r\nThe filename, `NUL` for example, is reserved and cannot be used.  Back in the day, DOS would also ignore the extension so `NUL.TXT` was equivalent to `NUL` but I believe that went away when Windows started to support long filenames.   Nowadays, the naked reserved words tend to be treated differently to when used as part of a larger filename such as `NUL.txt` or `C:\\NUL`.  This may be because many commands use `\\\\?\\` [naming][1] to avoid issues with filenames longer than `MAX_PATH`.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#nt-namespaces","title":"mkdir can create folders with Windows reserved keyword names","body":"<p>The files are a remnant of the days of PC-DOS.  These pseudo-files are considered to exist regardless of any subdirectory (because DOS 1.0 didn't support directories).</p>\n<p>The filename, <code>NUL</code> for example, is reserved and cannot be used.  Back in the day, DOS would also ignore the extension so <code>NUL.TXT</code> was equivalent to <code>NUL</code> but I believe that went away when Windows started to support long filenames.   Nowadays, the naked reserved words tend to be treated differently to when used as part of a larger filename such as <code>NUL.txt</code> or <code>C:\\NUL</code>.  This may be because many commands use <code>\\\\?\\</code> <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#nt-namespaces\" rel=\"nofollow noreferrer\">naming</a> to avoid issues with filenames longer than <code>MAX_PATH</code>.</p>\n"}],"owner":{"account_id":2485164,"reputation":2314,"user_id":2163727,"accept_rate":80,"display_name":"MasterHD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679562828,"creation_date":1679505124,"question_id":75815313,"body_markdown":"I recently discovered that due to backward compatibility with DOS, the Windows OS has some [reserved keywords][1] that cannot be created in the file system, since these were originally used to write streams of data to other hardware like printers. Microsoft states that you cannot name a folder nor a file (regardless of extension) with the following reserved keywords: `CON, PRN, AUX, NUL, COM0, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9`. If you try to create one of these in Windows explorer you should receive the error message &quot;the specified device name is invalid&quot;.\r\n\r\nHowever, using Windows Explorer (Windows 11) I was actually able to create all of them as ***files*** as long as they had an extension, and I could create some of the ***folders*** named `COM0`-`COM9`.\r\n\r\nI wanted to know if there were any safeguards to help avoid accidentally creating these folders in Java, and first checked if the `java.io.File` or `java.nio.file.Path` classes would throw exceptions like `InvalidPathException` when trying to store any of these reserved keywords. No exceptions were thrown.\r\n\r\nSo then I was curious to see if I could use `File.mkdir` (and `Files.createDirectories`) to create any of these invalid files, and I **could**. In fact they **all** returned `true` for success, and I can view them all in Windows Explorer fine, except for `NUL` which seems to be the only case that wasn&#39;t created. \r\n\r\nMy question is, are there any risks on modern Windows when creating one of these &#39;illegal&quot; names? Why doesn&#39;t Microsoft&#39;s own documentation match my results, is it a recent update in Windows 11? What kinds of bugs might happen or go unnoticed if I don&#39;t add my own safeguards? Are Unix/macOS plagued with any of these reserved keywords?\r\n\r\nHere is a passing unit test:\r\n\t\r\n\t@Test\r\n\tpublic void test() throws IOException {\r\n\t\tPath dirTest = Paths.get(&quot;C:\\\\Testing&quot;);\r\n\t\tFile fNul = dirTest.resolve(&quot;NUL&quot;).toFile();\r\n\t\tassertTrue(fNul.mkdir());\r\n\t\tassertFalse(fNul.exists()); //The only one impossible to create\r\n\r\n\t\tString[] vKeywords = {&quot;CON&quot;, &quot;PRN&quot;, &quot;AUX&quot; };\r\n\t\tfor (String s : vKeywords) {\r\n\t\t\tFile f = dirTest.resolve(s).toFile();\r\n\t\t\tassertTrue(f.mkdir());\r\n\t\t\tassertTrue(f.exists() || s.equals(&quot;NUL&quot;));\r\n\t\t}\r\n\t\tString[] vPrefixes = {&quot;COM&quot;, &quot;LPT&quot; };\r\n\t\tfor (String s : vPrefixes) {\r\n\t\t\tfor (int i = 0; i &lt; 10; i++) { // 0-9 suffix\r\n\t\t\t\tFile f = dirTest.resolve(s + i).toFile();\r\n\t\t\t\tassertTrue(f.mkdir());\r\n\t\t\t\tassertTrue(f.exists());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file","title":"mkdir can create folders with Windows reserved keyword names","body":"<p>I recently discovered that due to backward compatibility with DOS, the Windows OS has some <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file\" rel=\"nofollow noreferrer\">reserved keywords</a> that cannot be created in the file system, since these were originally used to write streams of data to other hardware like printers. Microsoft states that you cannot name a folder nor a file (regardless of extension) with the following reserved keywords: <code>CON, PRN, AUX, NUL, COM0, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9</code>. If you try to create one of these in Windows explorer you should receive the error message &quot;the specified device name is invalid&quot;.</p>\n<p>However, using Windows Explorer (Windows 11) I was actually able to create all of them as <em><strong>files</strong></em> as long as they had an extension, and I could create some of the <em><strong>folders</strong></em> named <code>COM0</code>-<code>COM9</code>.</p>\n<p>I wanted to know if there were any safeguards to help avoid accidentally creating these folders in Java, and first checked if the <code>java.io.File</code> or <code>java.nio.file.Path</code> classes would throw exceptions like <code>InvalidPathException</code> when trying to store any of these reserved keywords. No exceptions were thrown.</p>\n<p>So then I was curious to see if I could use <code>File.mkdir</code> (and <code>Files.createDirectories</code>) to create any of these invalid files, and I <strong>could</strong>. In fact they <strong>all</strong> returned <code>true</code> for success, and I can view them all in Windows Explorer fine, except for <code>NUL</code> which seems to be the only case that wasn't created.</p>\n<p>My question is, are there any risks on modern Windows when creating one of these 'illegal&quot; names? Why doesn't Microsoft's own documentation match my results, is it a recent update in Windows 11? What kinds of bugs might happen or go unnoticed if I don't add my own safeguards? Are Unix/macOS plagued with any of these reserved keywords?</p>\n<p>Here is a passing unit test:</p>\n<pre><code>@Test\npublic void test() throws IOException {\n    Path dirTest = Paths.get(&quot;C:\\\\Testing&quot;);\n    File fNul = dirTest.resolve(&quot;NUL&quot;).toFile();\n    assertTrue(fNul.mkdir());\n    assertFalse(fNul.exists()); //The only one impossible to create\n\n    String[] vKeywords = {&quot;CON&quot;, &quot;PRN&quot;, &quot;AUX&quot; };\n    for (String s : vKeywords) {\n        File f = dirTest.resolve(s).toFile();\n        assertTrue(f.mkdir());\n        assertTrue(f.exists() || s.equals(&quot;NUL&quot;));\n    }\n    String[] vPrefixes = {&quot;COM&quot;, &quot;LPT&quot; };\n    for (String s : vPrefixes) {\n        for (int i = 0; i &lt; 10; i++) { // 0-9 suffix\n            File f = dirTest.resolve(s + i).toFile();\n            assertTrue(f.mkdir());\n            assertTrue(f.exists());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1491402325,"post_id":43233898,"comment_id":73538114,"body_markdown":"are you looking for schema validation?","body":"are you looking for schema validation?"}],"answers":[{"tags":[],"owner":{"account_id":3438151,"reputation":1878,"user_id":2880747,"display_name":"WilomGfx"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1491402326,"creation_date":1491402326,"answer_id":43234034,"question_id":43233898,"body_markdown":"While it might be weird to you \r\n\r\n \r\n\r\n    &quot;bncjbhjfjhj&quot;\r\n\r\nIs indeed valid json, as it is a string, and its the only string.\r\n\r\nAccording to the not so new [JSON RFC](https://www.ietf.org/rfc/rfc7159.txt)\r\n\r\n&gt; A JSON text is a serialized value. Note that certain previous\r\n&gt; specifications of JSON constrained a JSON text to be an object or an\r\n&gt; array. Implementations that generate only objects or arrays where a\r\n&gt; JSON text is called for will be interoperable in the sense that all\r\n&gt; implementations will accept these as conforming JSON texts.","title":"How to check if JSON is valid in Java using GSON?","body":"<p>While it might be weird to you </p>\n\n<pre><code>\"bncjbhjfjhj\"\n</code></pre>\n\n<p>Is indeed valid json, as it is a string, and its the only string.</p>\n\n<p>According to the not so new <a href=\"https://www.ietf.org/rfc/rfc7159.txt\" rel=\"noreferrer\">JSON RFC</a></p>\n\n<blockquote>\n  <p>A JSON text is a serialized value. Note that certain previous\n  specifications of JSON constrained a JSON text to be an object or an\n  array. Implementations that generate only objects or arrays where a\n  JSON text is called for will be interoperable in the sense that all\n  implementations will accept these as conforming JSON texts.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1491409921,"creation_date":1491403684,"answer_id":43234600,"question_id":43233898,"body_markdown":"You should not use `Gson` to make such validation:\r\n\r\n* `Gson` is an object that performs _deserialization_ therefore it deserializes _entire_ JSON as an object in memory.\r\n* `Gson`, and I didn&#39;t know it, may be not very strict for some invalid JSONs: `bncjbhjfjhj` is deserialized as a `java.lang.String` instance. Surprise-surprise!\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate static final Gson gson = new Gson();\r\n\r\n\tprivate static final String VALID_JSON = &quot;{\\&quot;status\\&quot;: \\&quot;UP\\&quot;}&quot;;\r\n\tprivate static final String INVALID_JSON = &quot;bncjbhjfjhj&quot;;\r\n\r\n\tSystem.out.println(gson.fromJson(VALID_JSON, Object.class).getClass());\r\n\tSystem.out.println(gson.fromJson(INVALID_JSON, Object.class).getClass());\r\n\r\nOutput:\r\n\r\n&gt;class com.google.gson.internal.LinkedTreeMap  \r\n&gt;class java.lang.String  \r\n\r\nWhat you can do here is using `JsonReader` to read incoming JSON token by token thus making if the given JSON document is syntactically valid.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate static boolean isJsonValid(final String json)\r\n\t\t\tthrows IOException {\r\n\t\treturn isJsonValid(new StringReader(json));\r\n\t}\r\n\r\n\tprivate static boolean isJsonValid(final Reader reader)\r\n\t\t\tthrows IOException {\r\n\t\treturn isJsonValid(new JsonReader(reader));\r\n\t}\r\n\r\n\tprivate static boolean isJsonValid(final JsonReader jsonReader)\r\n\t\t\tthrows IOException {\r\n\t\ttry {\r\n\t\t\tJsonToken token;\r\n\t\t\tloop:\r\n\t\t\twhile ( (token = jsonReader.peek()) != END_DOCUMENT &amp;&amp; token != null ) {\r\n\t\t\t\tswitch ( token ) {\r\n\t\t\t\tcase BEGIN_ARRAY:\r\n\t\t\t\t\tjsonReader.beginArray();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase END_ARRAY:\r\n\t\t\t\t\tjsonReader.endArray();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase BEGIN_OBJECT:\r\n\t\t\t\t\tjsonReader.beginObject();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase END_OBJECT:\r\n\t\t\t\t\tjsonReader.endObject();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NAME:\r\n\t\t\t\t\tjsonReader.nextName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase STRING:\r\n\t\t\t\tcase NUMBER:\r\n\t\t\t\tcase BOOLEAN:\r\n\t\t\t\tcase NULL:\r\n\t\t\t\t\tjsonReader.skipValue();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase END_DOCUMENT:\r\n\t\t\t\t\tbreak loop;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new AssertionError(token);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} catch ( final MalformedJsonException ignored ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nAnd then test it:\r\n\r\n\tSystem.out.println(isJsonValid(VALID_JSON));\r\n\tSystem.out.println(isJsonValid(INVALID_JSON));\r\n\r\nOutput:\r\n\r\n&gt;true  \r\n&gt;false  ","title":"How to check if JSON is valid in Java using GSON?","body":"<p>You should not use <code>Gson</code> to make such validation:</p>\n\n<ul>\n<li><code>Gson</code> is an object that performs <em>deserialization</em> therefore it deserializes <em>entire</em> JSON as an object in memory.</li>\n<li><code>Gson</code>, and I didn't know it, may be not very strict for some invalid JSONs: <code>bncjbhjfjhj</code> is deserialized as a <code>java.lang.String</code> instance. Surprise-surprise!</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Gson gson = new Gson();\n\nprivate static final String VALID_JSON = \"{\\\"status\\\": \\\"UP\\\"}\";\nprivate static final String INVALID_JSON = \"bncjbhjfjhj\";\n\nSystem.out.println(gson.fromJson(VALID_JSON, Object.class).getClass());\nSystem.out.println(gson.fromJson(INVALID_JSON, Object.class).getClass());\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>class com.google.gson.internal.LinkedTreeMap<br>\n  class java.lang.String  </p>\n</blockquote>\n\n<p>What you can do here is using <code>JsonReader</code> to read incoming JSON token by token thus making if the given JSON document is syntactically valid.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isJsonValid(final String json)\n        throws IOException {\n    return isJsonValid(new StringReader(json));\n}\n\nprivate static boolean isJsonValid(final Reader reader)\n        throws IOException {\n    return isJsonValid(new JsonReader(reader));\n}\n\nprivate static boolean isJsonValid(final JsonReader jsonReader)\n        throws IOException {\n    try {\n        JsonToken token;\n        loop:\n        while ( (token = jsonReader.peek()) != END_DOCUMENT &amp;&amp; token != null ) {\n            switch ( token ) {\n            case BEGIN_ARRAY:\n                jsonReader.beginArray();\n                break;\n            case END_ARRAY:\n                jsonReader.endArray();\n                break;\n            case BEGIN_OBJECT:\n                jsonReader.beginObject();\n                break;\n            case END_OBJECT:\n                jsonReader.endObject();\n                break;\n            case NAME:\n                jsonReader.nextName();\n                break;\n            case STRING:\n            case NUMBER:\n            case BOOLEAN:\n            case NULL:\n                jsonReader.skipValue();\n                break;\n            case END_DOCUMENT:\n                break loop;\n            default:\n                throw new AssertionError(token);\n            }\n        }\n        return true;\n    } catch ( final MalformedJsonException ignored ) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>And then test it:</p>\n\n<pre><code>System.out.println(isJsonValid(VALID_JSON));\nSystem.out.println(isJsonValid(INVALID_JSON));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>true<br>\n  false  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1476136,"reputation":788,"user_id":2689246,"accept_rate":50,"display_name":"QkiZ"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1491404294,"creation_date":1491404294,"answer_id":43234833,"question_id":43233898,"body_markdown":"I found solution but using `org.json` library, according to https://stackoverflow.com/questions/10174898/how-to-check-whether-a-given-string-is-valid-json-in-java/10174938#10174938\r\n\r\n    public static boolean isJson(String Json) {\r\n            try {\r\n                new JSONObject(Json);\r\n            } catch (JSONException ex) {\r\n                try {\r\n                    new JSONArray(Json);\r\n                } catch (JSONException ex1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\nNow random looking string `bncjbhjfjhj` is `false` and `{&quot;status&quot;: &quot;UP&quot;}` is true.","title":"How to check if JSON is valid in Java using GSON?","body":"<p>I found solution but using <code>org.json</code> library, according to <a href=\"https://stackoverflow.com/questions/10174898/how-to-check-whether-a-given-string-is-valid-json-in-java/10174938#10174938\">How to check whether a given string is valid JSON in Java</a></p>\n\n<pre><code>public static boolean isJson(String Json) {\n        try {\n            new JSONObject(Json);\n        } catch (JSONException ex) {\n            try {\n                new JSONArray(Json);\n            } catch (JSONException ex1) {\n                return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n\n<p>Now random looking string <code>bncjbhjfjhj</code> is <code>false</code> and <code>{\"status\": \"UP\"}</code> is true.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1614344724,"creation_date":1513700050,"answer_id":47890960,"question_id":43233898,"body_markdown":"I was quite surprised that while [`GsonBuilder#setLenient`][1] states\r\n&gt; By default, Gson is strict and only accepts JSON as specified by [RFC 4627][2]. This option makes the parser liberal in what it accepts.\r\n\r\nIt appears to be flat-out lie as it is actually always lenient. Moreover, even any call to [`JsonReader.setLenient(false)`][3] is completely ignored!\r\n\r\nAfter some browsing in [numerous][3] [related][4] [issues][5] and [several][6] [rejected][7] [pull][8] requests &quot;due to legacy compatibility reasons&quot; I&#39;ve at last found https://github.com/google/gson/issues/1208 with sensible workaround:\r\n\r\n&gt; JakeWharton commented on 15 Dec 2017\r\n\r\n&gt; You can call getAdapter(type).fromJson(gson.newJsonReader(input))\r\n&gt; instead of just fromJson(input) to get strict parsing. We should\r\n&gt; really deprecate all of the fromJson methods and add new versions that\r\n&gt; are strict by default.\r\n&gt; \r\n&gt; The reason is bad decisions long ago that we can no longer change ;(\r\n\r\nSo here is pure Gson solution for strict json object parsing with extensive test case.\r\n\r\n    import org.junit.Test;\r\n    import com.google.gson.*;\r\n    import com.google.gson.stream.JsonReader;\r\n    import static org.junit.Assert.*;\r\n    \r\n    public class JsonTest {\r\n    \r\n        private static final TypeAdapter&lt;JsonObject&gt; strictGsonObjectAdapter = \r\n                new Gson().getAdapter(JsonObject.class);\r\n    \r\n        public static JsonObject parseStrict(String json) {\r\n            // https://stackoverflow.com/questions/43233898/how-to-check-if-json-is-valid-in-java-using-gson/47890960#47890960\r\n            try {\r\n                //return strictGsonObjectAdapter.fromJson(json); // this still allows multiple top level values (\r\n                try (JsonReader reader = new JsonReader(new StringReader(json))) {\r\n                    JsonObject result = strictGsonObjectAdapter.read(reader);\r\n                    reader.hasNext(); // throws on multiple top level values\r\n                    return result;\r\n                }\r\n            } catch (IOException e) {\r\n                throw new JsonSyntaxException(e);\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void testStrictParsing() {\r\n            // https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/stream/JsonReader.html#setLenient-boolean-\r\n            // Streams that start with the non-execute prefix, &quot;)]}&#39;\\n&quot;.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;){}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;]{}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;}{}&quot;));\r\n            // Streams that include multiple top-level values. With strict parsing, each stream must contain exactly one top-level value.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{}{}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{}[]null&quot;));\r\n            // Top-level values of any type. With strict parsing, the top-level value must be an object or an array.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;null&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;Abracadabra&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;13&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;\\&quot;literal\\&quot;&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;[]&quot;));\r\n            // Numbers may be NaNs or infinities.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;number\\&quot;: NaN}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;number\\&quot;: Infinity}&quot;));\r\n            // End of line comments starting with // or # and ending with a newline character.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{//comment\\n}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{#comment\\n}&quot;));\r\n            // C-style comments starting with /* and ending with */. Such comments may not be nested.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{/*comment*/}&quot;));\r\n            // Names that are unquoted or &#39;single quoted&#39;.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{a: 1}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{&#39;a&#39;: 1}&quot;));\r\n            // Strings that are unquoted or &#39;single quoted&#39;.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: str}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: &#39;&#39;}&quot;));\r\n            // Array elements separated by ; instead of ,.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: [1;2]}&quot;));\r\n            // Unnecessary array separators. These are interpreted as if null was the omitted value.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: [1,]}&quot;));\r\n            // Names and values separated by = or =&gt; instead of :.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot; = 13}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot; =&gt; 13}&quot;));\r\n            // Name/value pairs separated by ; instead of ,.\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: 1; \\&quot;b\\&quot;: 2}&quot;));\r\n    \r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: }&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: ,}&quot;));\r\n            assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: 0,}&quot;));\r\n    \r\n            assertTrue(parseStrict(&quot;{} &quot;).entrySet().isEmpty());\r\n            assertTrue(parseStrict(&quot;{\\&quot;a\\&quot;: null} \\n \\n&quot;).get(&quot;a&quot;).isJsonNull());\r\n            assertEquals(0, parseStrict(&quot;{\\&quot;a\\&quot;: 0}&quot;).get(&quot;a&quot;).getAsInt());\r\n            assertEquals(&quot;&quot;, parseStrict(&quot;{\\&quot;a\\&quot;: \\&quot;\\&quot;}&quot;).get(&quot;a&quot;).getAsString());\r\n            assertEquals(0, parseStrict(&quot;{\\&quot;a\\&quot;: []}&quot;).get(&quot;a&quot;).getAsJsonArray().size());\r\n        }\r\n   \r\n    }\r\n\r\nNote the this ensures single top level object. It&#39;s possible to replace `JsonObject.class` with `JsonArray.class` or `JsonElement.class` to allow top level array or [null][9].\r\n\r\nThe code above parses JSON to `JsonObject` DOM representation.\r\n\r\nThe code below does strict parsing into custom POJO with conventional fields mapping.\r\n\r\n    // https://github.com/google/gson/issues/1208\r\n    private static final TypeAdapter&lt;Pojo&gt; strictGsonAdapter = new Gson().getAdapter(Pojo.class);\r\n    \r\n    public static Pojo parsePayment(String json) throws IOException {\r\n        return strictGsonAdapter.fromJson(json);\r\n    }\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/GsonBuilder.html#setLenient--\r\n  [2]: http://www.ietf.org/rfc/rfc4627.txt\r\n  [3]: https://github.com/google/gson/issues?q=lenient\r\n  [4]: https://github.com/google/gson/issues/372#issuecomment-187766986\r\n  [5]: https://github.com/google/gson/issues/499\r\n  [6]: https://github.com/google/gson/pull/804\r\n  [7]: https://github.com/google/gson/pull/795\r\n  [8]: https://github.com/google/gson/pull/902\r\n  [9]: https://stackoverflow.com/questions/8526995/is-null-valid-json-4-bytes-nothing-else","title":"How to check if JSON is valid in Java using GSON?","body":"<p>I was quite surprised that while <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/GsonBuilder.html#setLenient--\" rel=\"noreferrer\"><code>GsonBuilder#setLenient</code></a> states</p>\n<blockquote>\n<p>By default, Gson is strict and only accepts JSON as specified by <a href=\"http://www.ietf.org/rfc/rfc4627.txt\" rel=\"noreferrer\">RFC 4627</a>. This option makes the parser liberal in what it accepts.</p>\n</blockquote>\n<p>It appears to be flat-out lie as it is actually always lenient. Moreover, even any call to <a href=\"https://github.com/google/gson/issues?q=lenient\" rel=\"noreferrer\"><code>JsonReader.setLenient(false)</code></a> is completely ignored!</p>\n<p>After some browsing in <a href=\"https://github.com/google/gson/issues?q=lenient\" rel=\"noreferrer\">numerous</a> <a href=\"https://github.com/google/gson/issues/372#issuecomment-187766986\" rel=\"noreferrer\">related</a> <a href=\"https://github.com/google/gson/issues/499\" rel=\"noreferrer\">issues</a> and <a href=\"https://github.com/google/gson/pull/804\" rel=\"noreferrer\">several</a> <a href=\"https://github.com/google/gson/pull/795\" rel=\"noreferrer\">rejected</a> <a href=\"https://github.com/google/gson/pull/902\" rel=\"noreferrer\">pull</a> requests &quot;due to legacy compatibility reasons&quot; I've at last found <a href=\"https://github.com/google/gson/issues/1208\" rel=\"noreferrer\">https://github.com/google/gson/issues/1208</a> with sensible workaround:</p>\n<blockquote>\n<p>JakeWharton commented on 15 Dec 2017</p>\n</blockquote>\n<blockquote>\n<p>You can call getAdapter(type).fromJson(gson.newJsonReader(input))\ninstead of just fromJson(input) to get strict parsing. We should\nreally deprecate all of the fromJson methods and add new versions that\nare strict by default.</p>\n<p>The reason is bad decisions long ago that we can no longer change ;(</p>\n</blockquote>\n<p>So here is pure Gson solution for strict json object parsing with extensive test case.</p>\n<pre><code>import org.junit.Test;\nimport com.google.gson.*;\nimport com.google.gson.stream.JsonReader;\nimport static org.junit.Assert.*;\n\npublic class JsonTest {\n\n    private static final TypeAdapter&lt;JsonObject&gt; strictGsonObjectAdapter = \n            new Gson().getAdapter(JsonObject.class);\n\n    public static JsonObject parseStrict(String json) {\n        // https://stackoverflow.com/questions/43233898/how-to-check-if-json-is-valid-in-java-using-gson/47890960#47890960\n        try {\n            //return strictGsonObjectAdapter.fromJson(json); // this still allows multiple top level values (\n            try (JsonReader reader = new JsonReader(new StringReader(json))) {\n                JsonObject result = strictGsonObjectAdapter.read(reader);\n                reader.hasNext(); // throws on multiple top level values\n                return result;\n            }\n        } catch (IOException e) {\n            throw new JsonSyntaxException(e);\n        }\n    }\n\n    @Test\n    public void testStrictParsing() {\n        // https://static.javadoc.io/com.google.code.gson/gson/2.8.5/com/google/gson/stream/JsonReader.html#setLenient-boolean-\n        // Streams that start with the non-execute prefix, &quot;)]}'\\n&quot;.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;){}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;]{}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;}{}&quot;));\n        // Streams that include multiple top-level values. With strict parsing, each stream must contain exactly one top-level value.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{}{}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{}[]null&quot;));\n        // Top-level values of any type. With strict parsing, the top-level value must be an object or an array.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;null&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;Abracadabra&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;13&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;\\&quot;literal\\&quot;&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;[]&quot;));\n        // Numbers may be NaNs or infinities.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;number\\&quot;: NaN}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;number\\&quot;: Infinity}&quot;));\n        // End of line comments starting with // or # and ending with a newline character.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{//comment\\n}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{#comment\\n}&quot;));\n        // C-style comments starting with /* and ending with */. Such comments may not be nested.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{/*comment*/}&quot;));\n        // Names that are unquoted or 'single quoted'.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{a: 1}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{'a': 1}&quot;));\n        // Strings that are unquoted or 'single quoted'.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: str}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: ''}&quot;));\n        // Array elements separated by ; instead of ,.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: [1;2]}&quot;));\n        // Unnecessary array separators. These are interpreted as if null was the omitted value.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: [1,]}&quot;));\n        // Names and values separated by = or =&gt; instead of :.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot; = 13}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot; =&gt; 13}&quot;));\n        // Name/value pairs separated by ; instead of ,.\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: 1; \\&quot;b\\&quot;: 2}&quot;));\n\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: }&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: ,}&quot;));\n        assertThrows(JsonSyntaxException.class, () -&gt; parseStrict(&quot;{\\&quot;a\\&quot;: 0,}&quot;));\n\n        assertTrue(parseStrict(&quot;{} &quot;).entrySet().isEmpty());\n        assertTrue(parseStrict(&quot;{\\&quot;a\\&quot;: null} \\n \\n&quot;).get(&quot;a&quot;).isJsonNull());\n        assertEquals(0, parseStrict(&quot;{\\&quot;a\\&quot;: 0}&quot;).get(&quot;a&quot;).getAsInt());\n        assertEquals(&quot;&quot;, parseStrict(&quot;{\\&quot;a\\&quot;: \\&quot;\\&quot;}&quot;).get(&quot;a&quot;).getAsString());\n        assertEquals(0, parseStrict(&quot;{\\&quot;a\\&quot;: []}&quot;).get(&quot;a&quot;).getAsJsonArray().size());\n    }\n\n}\n</code></pre>\n<p>Note the this ensures single top level object. It's possible to replace <code>JsonObject.class</code> with <code>JsonArray.class</code> or <code>JsonElement.class</code> to allow top level array or <a href=\"https://stackoverflow.com/questions/8526995/is-null-valid-json-4-bytes-nothing-else\">null</a>.</p>\n<p>The code above parses JSON to <code>JsonObject</code> DOM representation.</p>\n<p>The code below does strict parsing into custom POJO with conventional fields mapping.</p>\n<pre><code>// https://github.com/google/gson/issues/1208\nprivate static final TypeAdapter&lt;Pojo&gt; strictGsonAdapter = new Gson().getAdapter(Pojo.class);\n\npublic static Pojo parsePayment(String json) throws IOException {\n    return strictGsonAdapter.fromJson(json);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6622233,"reputation":21,"user_id":5113499,"display_name":"mathslimin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562056548,"creation_date":1562056548,"answer_id":56848435,"question_id":43233898,"body_markdown":"this works for me\r\n\r\n    public static boolean isJson(String Json) {\r\n        Gson gson = new Gson();\r\n        try {\r\n            gson.fromJson(Json, Object.class);\r\n            Object jsonObjType = gson.fromJson(Json, Object.class).getClass();\r\n            if(jsonObjType.equals(String.class)){\r\n                return false;\r\n            }\r\n            return true;\r\n        } catch (com.google.gson.JsonSyntaxException ex) {\r\n            return false;\r\n        }\r\n    }","title":"How to check if JSON is valid in Java using GSON?","body":"<p>this works for me</p>\n\n<pre><code>public static boolean isJson(String Json) {\n    Gson gson = new Gson();\n    try {\n        gson.fromJson(Json, Object.class);\n        Object jsonObjType = gson.fromJson(Json, Object.class).getClass();\n        if(jsonObjType.equals(String.class)){\n            return false;\n        }\n        return true;\n    } catch (com.google.gson.JsonSyntaxException ex) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663540525,"creation_date":1663540525,"answer_id":73766826,"question_id":43233898,"body_markdown":"If you just want to verify that the input is valid JSON without using the parsed JSON data, then the easiest and probably most performant solution to this is:\r\n```java\r\npublic static boolean isValidJson(String input) {\r\n    try (JsonReader reader = new JsonReader(new StringReader(input))) {\r\n        reader.skipValue();\r\n        return reader.peek() == JsonToken.END_DOCUMENT;\r\n    } catch (IOException e) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nNote however that even a `JsonReader` in non-lenient mode allows certain JSON strings which are not valid per specification, see the [documentation for `JsonReader.setLenient(boolean)`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html#setLenient(boolean)) which lists those cases.\r\n\r\nAll other solutions using either `Gson` or `JsonParser` will probably not work correctly because those classes are lenient by default and this behavior cannot be configured.","title":"How to check if JSON is valid in Java using GSON?","body":"<p>If you just want to verify that the input is valid JSON without using the parsed JSON data, then the easiest and probably most performant solution to this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isValidJson(String input) {\n    try (JsonReader reader = new JsonReader(new StringReader(input))) {\n        reader.skipValue();\n        return reader.peek() == JsonToken.END_DOCUMENT;\n    } catch (IOException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>Note however that even a <code>JsonReader</code> in non-lenient mode allows certain JSON strings which are not valid per specification, see the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html#setLenient(boolean)\" rel=\"nofollow noreferrer\">documentation for <code>JsonReader.setLenient(boolean)</code></a> which lists those cases.</p>\n<p>All other solutions using either <code>Gson</code> or <code>JsonParser</code> will probably not work correctly because those classes are lenient by default and this behavior cannot be configured.</p>\n"},{"tags":[],"owner":{"account_id":6906781,"reputation":19,"user_id":5304329,"display_name":"Nakul Panwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679562610,"creation_date":1679562610,"answer_id":75821049,"question_id":43233898,"body_markdown":"    /**\r\n     * Verify if its a valid json object or array.\r\n     *\r\n     * Note:- strings or primitives are not considered as valid json.\r\n     *\r\n     * @param json  string to verify\r\n     * @return      true if string is a valid json, otherwise false\r\n     */\r\n    private boolean isValidJson(String json) {\r\n        try {\r\n            JsonElement jsonElement = gson.fromJson(json, JsonElement.class);\r\n            if (!jsonElement.isJsonObject() &amp;&amp; !jsonElement.isJsonArray()) return false;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }","title":"How to check if JSON is valid in Java using GSON?","body":"<pre><code>/**\n * Verify if its a valid json object or array.\n *\n * Note:- strings or primitives are not considered as valid json.\n *\n * @param json  string to verify\n * @return      true if string is a valid json, otherwise false\n */\nprivate boolean isValidJson(String json) {\n    try {\n        JsonElement jsonElement = gson.fromJson(json, JsonElement.class);\n        if (!jsonElement.isJsonObject() &amp;&amp; !jsonElement.isJsonArray()) return false;\n    } catch (Exception e) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":1476136,"reputation":788,"user_id":2689246,"accept_rate":50,"display_name":"QkiZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49229,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":43234833,"answer_count":7,"score":14,"last_activity_date":1679562610,"creation_date":1491401968,"question_id":43233898,"body_markdown":"I have method that have to check if JSON is valid, found on https://stackoverflow.com/questions/10174898/how-to-check-whether-a-given-string-is-valid-json-in-java but it doesn&#39;t work.\r\n\r\n    public static boolean isJson(String Json) {\r\n            Gson gson = new Gson();\r\n            try {\r\n                gson.fromJson(Json, Object.class);\r\n                return true;\r\n            } catch (com.google.gson.JsonSyntaxException ex) {\r\n                return false;\r\n            }\r\n        }\r\n\r\nIf I use this method with some string it always returns true. For example:\r\n\r\n    System.out.println(renderHtml.isJson(&quot;{\\&quot;status\\&quot;: \\&quot;UP\\&quot;}&quot;));\r\n\r\nit gave me `true`, and\r\n\r\n    System.out.println(renderHtml.isJson(&quot;bncjbhjfjhj&quot;));\r\n\r\ngave me `true` also.","title":"How to check if JSON is valid in Java using GSON?","body":"<p>I have method that have to check if JSON is valid, found on <a href=\"https://stackoverflow.com/questions/10174898/how-to-check-whether-a-given-string-is-valid-json-in-java\">How to check whether a given string is valid JSON in Java</a> but it doesn't work.</p>\n\n<pre><code>public static boolean isJson(String Json) {\n        Gson gson = new Gson();\n        try {\n            gson.fromJson(Json, Object.class);\n            return true;\n        } catch (com.google.gson.JsonSyntaxException ex) {\n            return false;\n        }\n    }\n</code></pre>\n\n<p>If I use this method with some string it always returns true. For example:</p>\n\n<pre><code>System.out.println(renderHtml.isJson(\"{\\\"status\\\": \\\"UP\\\"}\"));\n</code></pre>\n\n<p>it gave me <code>true</code>, and</p>\n\n<pre><code>System.out.println(renderHtml.isJson(\"bncjbhjfjhj\"));\n</code></pre>\n\n<p>gave me <code>true</code> also.</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679506598,"creation_date":1679506598,"answer_id":75815550,"question_id":75799076,"body_markdown":"What you want to do is to change it as `CqlSession` level. The Cqlsession should be a singleton in your application.\r\n\r\nThe simplest is to create a file `application.conf` in your classpath with the following [reference][1]\r\n\r\n    datastax-java-driver {\r\n        basic.request {\r\n            consistency = LOCAL_ONE\r\n        }\r\n    }\r\n\r\nNow if you create your CqlSession programmatically update the proper key\r\n\r\n    DriverConfigLoader loader = DriverConfigLoader\r\n       .programmaticBuilder()\r\n       .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_ONE&quot;)\r\n       // more options\r\n       .build();\r\n    try (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\r\n         ///do stuff\r\n    }\r\n            \r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/4.9/manual/core/configuration/reference/","title":"How to set DAO global ConsistencyLevel","body":"<p>What you want to do is to change it as <code>CqlSession</code> level. The Cqlsession should be a singleton in your application.</p>\n<p>The simplest is to create a file <code>application.conf</code> in your classpath with the following <a href=\"https://docs.datastax.com/en/developer/java-driver/4.9/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">reference</a></p>\n<pre><code>datastax-java-driver {\n    basic.request {\n        consistency = LOCAL_ONE\n    }\n}\n</code></pre>\n<p>Now if you create your CqlSession programmatically update the proper key</p>\n<pre><code>DriverConfigLoader loader = DriverConfigLoader\n   .programmaticBuilder()\n   .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_ONE&quot;)\n   // more options\n   .build();\ntry (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\n     ///do stuff\n}\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15608990,"reputation":632,"user_id":11260972,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679562514,"creation_date":1679562514,"answer_id":75821030,"question_id":75799076,"body_markdown":"Ok, but i have a solution.\r\n\r\nI have created Profiles:\r\n\r\n    final DriverConfigLoader driverConfigLoader =\r\n        DriverConfigLoader.programmaticBuilder()\r\n            // default from datastax is LOCAL_ONE\r\n            .startProfile(&quot;myProfile1&quot;)\r\n            .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\r\n            .endProfile()\r\n            .startProfile(&quot;myProfile2&quot;)\r\n            .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;TWO&quot;)\r\n            .endProfile()\r\n            .build();\r\n\r\nand on initialization:\r\n\r\n    @Bean\r\n    public LogEntryMapper getLogEntryMapper(final CqlSession cqlSession) {\r\n    return new LogEntryMapperBuilder(cqlSession)\r\n                   .withDefaultExecutionProfileName(&quot;myProfile1&quot;).build();\r\n  }\r\n\r\n ","title":"How to set DAO global ConsistencyLevel","body":"<p>Ok, but i have a solution.</p>\n<p>I have created Profiles:</p>\n<pre><code>final DriverConfigLoader driverConfigLoader =\n    DriverConfigLoader.programmaticBuilder()\n        // default from datastax is LOCAL_ONE\n        .startProfile(&quot;myProfile1&quot;)\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\n        .endProfile()\n        .startProfile(&quot;myProfile2&quot;)\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;TWO&quot;)\n        .endProfile()\n        .build();\n</code></pre>\n<p>and on initialization:</p>\n<pre><code>@Bean\npublic LogEntryMapper getLogEntryMapper(final CqlSession cqlSession) {\nreturn new LogEntryMapperBuilder(cqlSession)\n               .withDefaultExecutionProfileName(&quot;myProfile1&quot;).build();\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15608990,"reputation":632,"user_id":11260972,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679562514,"creation_date":1679389111,"question_id":75799076,"body_markdown":"Hi datastax java driver experts :)\r\n\r\nDoes anyone know, how to set ConsistencyLevel globally per DAO or Mapper in Cassandra Datastax java driver 4.14. ?\r\n\r\nAt the moment I do in the DAO for each method:\r\n\r\nDAO:\r\n```\r\n @Select\r\n  PagingIterable&lt;AppTrackingEvent&gt; findBySessionId(\r\n      final UUID sessionId,\r\n      final Function&lt;BoundStatementBuilder, BoundStatementBuilder&gt; setAttributes);\r\n```\r\nRepository:\r\n\r\n```\r\npublic List&lt;AppTrackingEvent&gt; getBySessionId(final UUID sessionId) {\r\n    return this.mapper\r\n        .getAppTrackingDao()\r\n        .findBySessionId(\r\n            sessionId,\r\n            statement -&gt;\r\n                statement.setConsistencyLevel(DefaultConsistencyLevel.valueOf(consistencyLevel)))\r\n        .all();\r\n  }\r\n\r\n```\r\non every method for this Entity in my DAO interface and implementation. This is quite annoying, because the ConsistencyLevel is for every method in this DAO always the same.\r\n\r\n\r\n\r\nIn an older datastax java driver version there was a convenient solution for that: \r\n```\r\nMapper.Option.consistencyLevel(ConsistencyLevel.valueOf(consistencyLevel)));\r\n```\r\n\r\nIs this possible in the 4.14 too, and how?\r\n\r\nThanks in advance!\r\n\r\n","title":"How to set DAO global ConsistencyLevel","body":"<p>Hi datastax java driver experts :)</p>\n<p>Does anyone know, how to set ConsistencyLevel globally per DAO or Mapper in Cassandra Datastax java driver 4.14. ?</p>\n<p>At the moment I do in the DAO for each method:</p>\n<p>DAO:</p>\n<pre><code> @Select\n  PagingIterable&lt;AppTrackingEvent&gt; findBySessionId(\n      final UUID sessionId,\n      final Function&lt;BoundStatementBuilder, BoundStatementBuilder&gt; setAttributes);\n</code></pre>\n<p>Repository:</p>\n<pre><code>public List&lt;AppTrackingEvent&gt; getBySessionId(final UUID sessionId) {\n    return this.mapper\n        .getAppTrackingDao()\n        .findBySessionId(\n            sessionId,\n            statement -&gt;\n                statement.setConsistencyLevel(DefaultConsistencyLevel.valueOf(consistencyLevel)))\n        .all();\n  }\n\n</code></pre>\n<p>on every method for this Entity in my DAO interface and implementation. This is quite annoying, because the ConsistencyLevel is for every method in this DAO always the same.</p>\n<p>In an older datastax java driver version there was a convenient solution for that:</p>\n<pre><code>Mapper.Option.consistencyLevel(ConsistencyLevel.valueOf(consistencyLevel)));\n</code></pre>\n<p>Is this possible in the 4.14 too, and how?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1679556343,"post_id":75820145,"comment_id":133743450,"body_markdown":"Is this the actual query formatting in the code?","body":"Is this the actual query formatting in the code?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1679561400,"post_id":75820145,"comment_id":133744533,"body_markdown":"Popular option 1 - you are connected to a different database. Popular option 2 - a session  with  long running transaction produces different result as other session. Simple activate sql trace and replay the result query in the correct DB. Generally has Hibernate varying scoring, but *&quot;Is shit a problem in Hibernate?&quot;* is may be too hard;)","body":"Popular option 1 - you are connected to a different database. Popular option 2 - a session  with  long running transaction produces different result as other session. Simple activate sql trace and replay the result query in the correct DB. Generally has Hibernate varying scoring, but <i>&quot;Is shit a problem in Hibernate?&quot;</i> is may be too hard;)"},{"owner":{"account_id":28093072,"reputation":1,"user_id":21462274,"display_name":"acdc71 Liverpool"},"score":0,"creation_date":1679566897,"post_id":75820145,"comment_id":133745977,"body_markdown":"I&#39;m using only one DB connection.  \n In application.properties setting next parameters:\n \nspring.session.store-type=jdbc\nspring.session.jdbc.table-name=SPRING_SESSION\nspring.session.jdbc.schema=public\nspring.session.jdbc.initialize-schema=always\nspring.session.timeout=120\nspring.session.jdbc.initializer.enabled=true\n\nand in SPRING_SESSION table only 1 active session.\n\nI don&#39;t use org.hibernate.SessionFactory for seseion managament - i need to use SessionFactory ?","body":"I&#39;m using only one DB connection.    In application.properties setting next parameters:   spring.session.store-type=jdbc spring.session.jdbc.table-name=SPRING_SESSION spring.session.jdbc.schema=public spring.session.jdbc.initialize-schema=always spring.session.timeout=120 spring.session.jdbc.initializer.enabled=true  and in SPRING_SESSION table only 1 active session.  I don&#39;t use org.hibernate.SessionFactory for seseion managament - i need to use SessionFactory ?"},{"owner":{"account_id":28093072,"reputation":1,"user_id":21462274,"display_name":"acdc71 Liverpool"},"score":0,"creation_date":1679653307,"post_id":75820145,"comment_id":133763340,"body_markdown":"I found that subquery2 down not work in Spring Boot !! subquery2 returns 0 records, but in PGADmin return 1 record ! Why ?","body":"I found that subquery2 down not work in Spring Boot !! subquery2 returns 0 records, but in PGADmin return 1 record ! Why ?"},{"owner":{"account_id":28093072,"reputation":1,"user_id":21462274,"display_name":"acdc71 Liverpool"},"score":0,"creation_date":1679739809,"post_id":75820145,"comment_id":133777321,"body_markdown":"Select * from table1 b where tstzrange(b.start_date , b.end_date , ‘[]’) &amp;&amp; tstzrange(‘2023-04-16 09:17:00.0′,’2023-04-16 11:17:00.0’, ‘[]’ ) dont work in Spring.\nAll date overlapping functions such as OVERLAP and daterange from application dont work too. In PgAdmin all date overlapping functions works, but don t work in Spring","body":"Select * from table1 b where tstzrange(b.start_date , b.end_date , ‘[]’) &amp;&amp; tstzrange(‘2023-04-16 09:17:00.0′,’2023-04-16 11:17:00.0’, ‘[]’ ) dont work in Spring. All date overlapping functions such as OVERLAP and daterange from application dont work too. In PgAdmin all date overlapping functions works, but don t work in Spring"}],"owner":{"account_id":28093072,"reputation":1,"user_id":21462274,"display_name":"acdc71 Liverpool"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679562277,"creation_date":1679555998,"question_id":75820145,"body_markdown":"Spring Boot v2.5.5 + Postgresql 10\r\n\r\nNested query on Java Spring Boot Service:\r\n```\r\nString query = &quot;select d.*\r\n                from (\r\n \t              ( select a.*\r\n \t                from table1 a )            --subquery1\r\n \t            EXCEPT\r\n\t              ( select c.*                 --subquery2                \r\n \t\t            from table2 b, table1 c\r\n \t\t            where b.table1_id = c.id AND b.h_id = 1 \r\n                        AND b.h_id = c.h_id \r\n                        AND ( tstzrange(  b.start_date , b.end_date , \r\n                              &#39;[]&#39;)  \r\n                        &amp;&amp; tstzrange(&#39;2023-04-16 10:42:00.0&#39;,&#39;2023-04- \r\n                           16 14:42:00.0&#39;, &#39;[]&#39; )) \r\n                  ) \r\n                ) d&quot;\r\n\r\n\r\nList&lt;D&gt; dlist = new ArrayList&lt;&gt;();\r\ndlist = entityManager.createNativeQuery(query, D.class).getResultList();\r\n```\r\n\r\nsubquery1 returns 6 record, subquery2 return 1 records.\r\nEXCEPT in this nested query works fine in PGAdmin and returns 5 records, but in Spring Boot EXCEPT not work and I get all 6 records from subquery1\r\n\r\nIs this a problem in the Hibernate? \r\n\r\n","title":"Nested query not working in Java Spring + Postgresql","body":"<p>Spring Boot v2.5.5 + Postgresql 10</p>\n<p>Nested query on Java Spring Boot Service:</p>\n<pre><code>String query = &quot;select d.*\n                from (\n                  ( select a.*\n                    from table1 a )            --subquery1\n                EXCEPT\n                  ( select c.*                 --subquery2                \n                    from table2 b, table1 c\n                    where b.table1_id = c.id AND b.h_id = 1 \n                        AND b.h_id = c.h_id \n                        AND ( tstzrange(  b.start_date , b.end_date , \n                              '[]')  \n                        &amp;&amp; tstzrange('2023-04-16 10:42:00.0','2023-04- \n                           16 14:42:00.0', '[]' )) \n                  ) \n                ) d&quot;\n\n\nList&lt;D&gt; dlist = new ArrayList&lt;&gt;();\ndlist = entityManager.createNativeQuery(query, D.class).getResultList();\n</code></pre>\n<p>subquery1 returns 6 record, subquery2 return 1 records.\nEXCEPT in this nested query works fine in PGAdmin and returns 5 records, but in Spring Boot EXCEPT not work and I get all 6 records from subquery1</p>\n<p>Is this a problem in the Hibernate?</p>\n"},{"tags":["java","json","gson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":0,"creation_date":1679554174,"post_id":75819899,"comment_id":133743049,"body_markdown":"Just a thought could you try to use the @SerializedName annotation from Gson to map the JSON field to the correct field in the SentPlayer class like below","body":"Just a thought could you try to use the @SerializedName annotation from Gson to map the JSON field to the correct field in the SentPlayer class like below"},{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":0,"creation_date":1679554187,"post_id":75819899,"comment_id":133743051,"body_markdown":"`@SerializedName(&quot;playerName&quot;)\n    final String name;`","body":"<code>@SerializedName(&quot;playerName&quot;)     final String name;</code>"},{"owner":{"account_id":23399129,"reputation":43,"user_id":19740273,"display_name":"Rushmore75"},"score":0,"creation_date":1679555894,"post_id":75819899,"comment_id":133743381,"body_markdown":"I tried the response below, where all 3 fields have the annotation above it, or with just the annotation on playerName, and that didn&#39;t work. Even with changing the actual variable&#39;s name, to make sure it isn&#39;t some masking issue or something. So it is aware of the annotation, just not de serializing it.","body":"I tried the response below, where all 3 fields have the annotation above it, or with just the annotation on playerName, and that didn&#39;t work. Even with changing the actual variable&#39;s name, to make sure it isn&#39;t some masking issue or something. So it is aware of the annotation, just not de serializing it."},{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":0,"creation_date":1679559518,"post_id":75819899,"comment_id":133744146,"body_markdown":"let me mock the issue locally and see","body":"let me mock the issue locally and see"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679563571,"post_id":75819899,"comment_id":133745044,"body_markdown":"What does your **full** class look like?","body":"What does your <b>full</b> class look like?"},{"owner":{"account_id":23399129,"reputation":43,"user_id":19740273,"display_name":"Rushmore75"},"score":0,"creation_date":1679589512,"post_id":75819899,"comment_id":133752445,"body_markdown":"@M. Deinum not much more than what&#39;s there. I&#39;m getting the data from a http stream, building it into a string, trying to create the object, then turning it back into json to test if it was build correctly.","body":"@M. Deinum not much more than what&#39;s there. I&#39;m getting the data from a http stream, building it into a string, trying to create the object, then turning it back into json to test if it was build correctly."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1679605099,"post_id":75819899,"comment_id":133756224,"body_markdown":"@Rushmore75, please nonetheless provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). That would make it way easier for others to reproduce this issue. And also, while creating the minimal example maybe you yourself find the underlying cause for the issue.","body":"@Rushmore75, please nonetheless provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. That would make it way easier for others to reproduce this issue. And also, while creating the minimal example maybe you yourself find the underlying cause for the issue."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679651472,"post_id":75819899,"comment_id":133762928,"body_markdown":"There is more and we need to see it as that is probably part of your problem. Hence the request for the full classes.","body":"There is more and we need to see it as that is probably part of your problem. Hence the request for the full classes."}],"answers":[{"tags":[],"owner":{"account_id":16377630,"reputation":1,"user_id":11829401,"display_name":"Adrian Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679561653,"creation_date":1679554746,"answer_id":75820005,"question_id":75819899,"body_markdown":"*Edited\r\nI could not see how your request is being POSTED, and the source code is different from ur questions&#39; implementation, but using the below code and controller, it should work, this is **just a sample** you could ammend where neccesary:\r\n\r\n      public class SentPlayer {\r\n        @SerializedName(&quot;uuid&quot;)\r\n        private String uuid;\r\n        @SerializedName(&quot;playerName&quot;)\r\n        private String playerName;\r\n        @SerializedName(&quot;universeUuid&quot;)\r\n        private String universeUuid;\r\n        \r\n    public SentPlayer(String uuid, String playerName, String universeUuid) {\r\n        this.uuid = uuid;\r\n        this.playerName = playerName;\r\n        this.universeUuid = universeUuid;\r\n    }\r\n    \r\n    // getters and setters\r\n    public String getUuid() {\r\n        return uuid;\r\n    }\r\n    \r\n    public void setUuid(String uuid) {\r\n        this.uuid = uuid;\r\n    }\r\n    \r\n    public String getPlayerName() {\r\n        return playerName;\r\n    }\r\n    \r\n    public void setPlayerName(String playerName) {\r\n        this.playerName = playerName;\r\n    }\r\n    \r\n    public String getUniverseUuid() {\r\n        return universeUuid;\r\n    }\r\n    \r\n    public void setUniverseUuid(String universeUuid) {\r\n        this.universeUuid = universeUuid;\r\n    }\r\n    }\r\n\r\n    public class PlayerMsg {\r\n        public SentPlayer player;\r\n        public String msg; \r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/playerMsg&quot;)\r\n    public class PlayerMsgController {\r\n        @PostMapping\r\n        public ResponseEntity&lt;String&gt; createPlayerMsg(@RequestBody String jsonInput) {\r\n            Gson gson = new Gson();\r\n            PlayerMsg playerMsg = gson.fromJson(jsonInput, PlayerMsg.class);\r\n    \r\n            // Perform any necessary processing with playerMsg here...\r\n    \r\n            return ResponseEntity.ok(&quot;Player message created.&quot;);\r\n        }\r\n    }","title":"Java GSON not deserializing all fields, even when they are of same type","body":"<p>*Edited\nI could not see how your request is being POSTED, and the source code is different from ur questions' implementation, but using the below code and controller, it should work, this is <strong>just a sample</strong> you could ammend where neccesary:</p>\n<pre><code>  public class SentPlayer {\n    @SerializedName(&quot;uuid&quot;)\n    private String uuid;\n    @SerializedName(&quot;playerName&quot;)\n    private String playerName;\n    @SerializedName(&quot;universeUuid&quot;)\n    private String universeUuid;\n    \npublic SentPlayer(String uuid, String playerName, String universeUuid) {\n    this.uuid = uuid;\n    this.playerName = playerName;\n    this.universeUuid = universeUuid;\n}\n\n// getters and setters\npublic String getUuid() {\n    return uuid;\n}\n\npublic void setUuid(String uuid) {\n    this.uuid = uuid;\n}\n\npublic String getPlayerName() {\n    return playerName;\n}\n\npublic void setPlayerName(String playerName) {\n    this.playerName = playerName;\n}\n\npublic String getUniverseUuid() {\n    return universeUuid;\n}\n\npublic void setUniverseUuid(String universeUuid) {\n    this.universeUuid = universeUuid;\n}\n}\n\npublic class PlayerMsg {\n    public SentPlayer player;\n    public String msg; \n}\n\n@RestController\n@RequestMapping(&quot;/playerMsg&quot;)\npublic class PlayerMsgController {\n    @PostMapping\n    public ResponseEntity&lt;String&gt; createPlayerMsg(@RequestBody String jsonInput) {\n        Gson gson = new Gson();\n        PlayerMsg playerMsg = gson.fromJson(jsonInput, PlayerMsg.class);\n\n        // Perform any necessary processing with playerMsg here...\n\n        return ResponseEntity.ok(&quot;Player message created.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679562249,"creation_date":1679562249,"answer_id":75820990,"question_id":75819899,"body_markdown":"This worked for me \r\n\r\nMain.java\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String json = &quot;{\\&quot;player\\&quot;:{\\&quot;uuid\\&quot;:\\&quot;\\&quot;,\\&quot;playername\\&quot;:\\&quot;Rushmore75\\&quot;,\\&quot;universeUuid\\&quot;:\\&quot;9dae671e-91ed-440e722c12\\&quot;},\\&quot;msg\\&quot;:\\&quot;1234\\&quot;}&quot;;\r\n\r\n        Gson gson = new Gson();\r\n        PlayerMsg playerMsg = gson.fromJson(json, PlayerMsg.class);\r\n\r\n        System.out.println(playerMsg.getPlayer().getPlayerName());\r\n    }\r\n}\r\n\r\n```\r\nPlayerMsg.java\r\n```java\r\npublic class PlayerMsg {\r\n    private final SentPlayer player;\r\n    private final String msg;\r\n\r\n    public PlayerMsg(SentPlayer player, String msg) {\r\n        this.player = player;\r\n        this.msg = msg;\r\n    }\r\n\r\n    public SentPlayer getPlayer() {\r\n        return player;\r\n    }\r\n\r\n    public String getMsg() {\r\n        return msg;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nSentPlayer.java\r\n```java\r\nimport com.google.gson.annotations.SerializedName;\r\npublic class SentPlayer {\r\n    private final String uuid;\r\n    @SerializedName(&quot;playername&quot;)\r\n    private final String playerName;\r\n    private final String universeUuid;\r\n\r\n    public SentPlayer(String uuid, String playerName, String universeUuid) {\r\n        this.uuid = uuid;\r\n        this.playerName = playerName;\r\n        this.universeUuid = universeUuid;\r\n    }\r\n\r\n    public String getUuid() {\r\n        return uuid;\r\n    }\r\n\r\n    public String getPlayerName() {\r\n        return playerName;\r\n    }\r\n\r\n    public String getUniverseUuid() {\r\n        return universeUuid;\r\n    }\r\n}\r\n```\r\n\r\n\r\n`OUTPUT: Rushmore75`\r\n","title":"Java GSON not deserializing all fields, even when they are of same type","body":"<p>This worked for me</p>\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String json = &quot;{\\&quot;player\\&quot;:{\\&quot;uuid\\&quot;:\\&quot;\\&quot;,\\&quot;playername\\&quot;:\\&quot;Rushmore75\\&quot;,\\&quot;universeUuid\\&quot;:\\&quot;9dae671e-91ed-440e722c12\\&quot;},\\&quot;msg\\&quot;:\\&quot;1234\\&quot;}&quot;;\n\n        Gson gson = new Gson();\n        PlayerMsg playerMsg = gson.fromJson(json, PlayerMsg.class);\n\n        System.out.println(playerMsg.getPlayer().getPlayerName());\n    }\n}\n\n</code></pre>\n<p>PlayerMsg.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerMsg {\n    private final SentPlayer player;\n    private final String msg;\n\n    public PlayerMsg(SentPlayer player, String msg) {\n        this.player = player;\n        this.msg = msg;\n    }\n\n    public SentPlayer getPlayer() {\n        return player;\n    }\n\n    public String getMsg() {\n        return msg;\n    }\n}\n\n</code></pre>\n<p>SentPlayer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.annotations.SerializedName;\npublic class SentPlayer {\n    private final String uuid;\n    @SerializedName(&quot;playername&quot;)\n    private final String playerName;\n    private final String universeUuid;\n\n    public SentPlayer(String uuid, String playerName, String universeUuid) {\n        this.uuid = uuid;\n        this.playerName = playerName;\n        this.universeUuid = universeUuid;\n    }\n\n    public String getUuid() {\n        return uuid;\n    }\n\n    public String getPlayerName() {\n        return playerName;\n    }\n\n    public String getUniverseUuid() {\n        return universeUuid;\n    }\n}\n</code></pre>\n<p><code>OUTPUT: Rushmore75</code></p>\n"}],"owner":{"account_id":23399129,"reputation":43,"user_id":19740273,"display_name":"Rushmore75"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679562249,"creation_date":1679553638,"question_id":75819899,"body_markdown":"I have the classes:\r\n```java\r\npublic class SentPlayer {\r\n    final String uuid;\r\n    final String playerName;\r\n    final String universeUuid;\r\n/* some get methods and constructors */\r\n}\r\n``` \r\n```java\r\npublic class PlayerMsg {\r\n    public final SentPlayer player;\r\n    public final String msg;\r\n/* constructors and such */\r\n}\r\n```\r\n\r\nThen I have this JSON coming in from a api:\r\n```json\r\n{\r\n    &quot;player&quot;: {\r\n        &quot;uuid&quot;: &quot;&quot;,\r\n        &quot;playerName&quot;: &quot;Rushmore75&quot;,\r\n        &quot;universeUuid&quot;: &quot;9dae671e-91ed-440e722c12&quot;\r\n    },\r\n    &quot;msg&quot;: &quot;1234&quot;\r\n}\r\n```\r\n\r\nHowever when I go to deserialize said json into the `PlayerMsg` class all the fields except `&quot;playerName&quot;` deserialize, and `playerName` is just `null` instead of `&quot;Rushmore75&quot;`. I am using the default GSON configuration with &quot;serializeNulls&quot; enabled. Using gson 2.10","title":"Java GSON not deserializing all fields, even when they are of same type","body":"<p>I have the classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SentPlayer {\n    final String uuid;\n    final String playerName;\n    final String universeUuid;\n/* some get methods and constructors */\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerMsg {\n    public final SentPlayer player;\n    public final String msg;\n/* constructors and such */\n}\n</code></pre>\n<p>Then I have this JSON coming in from a api:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;player&quot;: {\n        &quot;uuid&quot;: &quot;&quot;,\n        &quot;playerName&quot;: &quot;Rushmore75&quot;,\n        &quot;universeUuid&quot;: &quot;9dae671e-91ed-440e722c12&quot;\n    },\n    &quot;msg&quot;: &quot;1234&quot;\n}\n</code></pre>\n<p>However when I go to deserialize said json into the <code>PlayerMsg</code> class all the fields except <code>&quot;playerName&quot;</code> deserialize, and <code>playerName</code> is just <code>null</code> instead of <code>&quot;Rushmore75&quot;</code>. I am using the default GSON configuration with &quot;serializeNulls&quot; enabled. Using gson 2.10</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1504482071,"post_id":46028625,"comment_id":79017451,"body_markdown":"and are you injecting its implementation?","body":"and are you injecting its implementation?"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1504678813,"post_id":46028625,"comment_id":79096510,"body_markdown":"are you still facing issue after this edits ?","body":"are you still facing issue after this edits ?"},{"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"score":0,"creation_date":1504691510,"post_id":46028625,"comment_id":79104717,"body_markdown":"Yes, I am facing the same issue.","body":"Yes, I am facing the same issue."}],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504643427,"creation_date":1504483985,"answer_id":46028872,"question_id":46028625,"body_markdown":"ProductManager is an interface, and you need an implementation of this interface defined in your applicationContext.xml so that it can be created and injected.\r\n\r\nSee here:\r\nhttps://stackoverflow.com/questions/10248000/spring-interface-injection-example\r\n\r\n**Edit**\r\n\r\nYou need to have a bean that `implements ProductManager` and that is what gets auto-wired as the interface.  Think about the difference between an interface and a concrete class - an interface just defines methods, but they do not do anything.  First step is to define the class above.\r\n\r\n**Edit 2**\r\n\r\nYou now have a class implementing `ProductManager`, but how do you expect Spring to know about it?  You say you have annotation scanning on, but your **implementation of ProductManager is not annotated nor is it defined in the `applicationContext.xml`**, so how will Spring know it exists?","title":"Exception autowiring a class in Spring Project","body":"<p>ProductManager is an interface, and you need an implementation of this interface defined in your applicationContext.xml so that it can be created and injected.</p>\n\n<p>See here:\n<a href=\"https://stackoverflow.com/questions/10248000/spring-interface-injection-example\">Spring interface injection example</a></p>\n\n<p><strong>Edit</strong></p>\n\n<p>You need to have a bean that <code>implements ProductManager</code> and that is what gets auto-wired as the interface.  Think about the difference between an interface and a concrete class - an interface just defines methods, but they do not do anything.  First step is to define the class above.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>You now have a class implementing <code>ProductManager</code>, but how do you expect Spring to know about it?  You say you have annotation scanning on, but your <strong>implementation of ProductManager is not annotated nor is it defined in the <code>applicationContext.xml</code></strong>, so how will Spring know it exists?</p>\n"},{"tags":[],"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504484283,"creation_date":1504484283,"answer_id":46028906,"question_id":46028625,"body_markdown":"You should define a bean that it&#39;s type is ProductManager.You can implement the ProductManager,Or create a dynamic proxy object with ProductManager type,and then register it to application context.\n","title":"Exception autowiring a class in Spring Project","body":"<p>You should define a bean that it's type is ProductManager.You can implement the ProductManager,Or create a dynamic proxy object with ProductManager type,and then register it to application context.</p>\n"},{"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679562115,"creation_date":1504647375,"answer_id":46063703,"question_id":46028625,"body_markdown":"Your component scan config seems to be wrong. If you have multiple packages to scan You can set root package of them(com.ryc.springapp) or you can use this approach: \r\n&lt;context:component-scan base-package=&quot;x.y.z.service, x.y.z.controller&quot; /&gt; as explained in here [scan-spring-config][1]\r\nOf course after adding @Service or @Component annotation to SimpleProductManager class.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5269450/multiple-packages-in-contextcomponent-%20scan-spring-config","title":"Exception autowiring a class in Spring Project","body":"<p>Your component scan config seems to be wrong. If you have multiple packages to scan You can set root package of them(com.ryc.springapp) or you can use this approach:\n&lt;context:component-scan base-package=&quot;x.y.z.service, x.y.z.controller&quot; /&gt; as explained in here <a href=\"https://stackoverflow.com/questions/5269450/multiple-packages-in-contextcomponent-%20scan-spring-config\">scan-spring-config</a>\nOf course after adding @Service or @Component annotation to SimpleProductManager class.</p>\n"}],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679562115,"creation_date":1504480815,"question_id":46028625,"body_markdown":"I&#39;m gonna show you all my classes and config file and explain my issue; I keep getting that exception even though I have set up the package to be scanned, also using proper annotations, I even used @Service, @Configuration and the rest of annotations for the services in ProductManager.java and nothing worked, I also checked some other topics in here an none helped me, am I missing something?\r\n\r\n**ProductManager.java**\r\n\r\n\r\n    public interface ProductManager extends Serializable{\r\n\t\r\n\t    public void increasePrice(int percentage);\r\n\t\r\n\t    public List&lt;Product&gt; getProducts();\r\n    }\r\n\r\n**InventoryController.java**\r\n\r\n    @Controller\r\n    public class InventoryController {\r\n\t\r\n\t@Autowired\r\n\tprivate ProductManager productManager;\r\n\t\r\n\t\r\n\t@RequestMapping(value=&quot;/hello.htm&quot;)\r\n\tpublic ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\r\n\t\t\r\n\t\tString now = (new Date()).toString();\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; myModel = new HashMap&lt;String, Object&gt;();\r\n\t\tmyModel.put(&quot;now&quot;, now);\r\n\t\tmyModel.put(&quot;products&quot;, this.productManager.getProducts());\r\n\t\t\r\n\t\treturn new ModelAndView(&quot;hello&quot;, &quot;model&quot;, myModel);\r\n\t}\r\n\t\r\n\tpublic void setProductManager(ProductManager productManager){\r\n\t\tthis.productManager = productManager;\r\n\t}\r\n\t\r\n\tpublic ProductManager getProductManager() {\r\n        return productManager;\r\n    }\r\n    }\r\n\r\n**app-config.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\t\t\r\n\t&lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;messages&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\t&lt;!-- Escanea el directorio de la aplicaci&#243;n para encontrar @Components como Beans --&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.ryc.springapp.web&quot;/&gt;\r\n\t\r\n\t&lt;!-- Configures the @Controller programming model --&gt;\r\n\t&lt;mvc:annotation-driven/&gt;\r\n\t\r\n\t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t&lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;        \r\n   \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n**applicationContext.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd&quot;&gt;\r\n\r\n \r\n    &lt;!-- holding properties for database connectivity /--&gt;\r\n    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;\r\n\r\n    &lt;!-- enabling annotation driven configuration /--&gt;\r\n    &lt;context:annotation-config/&gt;\r\n \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n      &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\r\n      &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n      &lt;property name=&quot;username&quot;  value=&quot;${jdbc.username}&quot;/&gt;\r\n      &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n\tp:dataSource-ref=&quot;dataSource&quot;\r\n\tp:jpaVendorAdapter-ref=&quot;jpaAdapter&quot;&gt;\r\n\t&lt;property name=&quot;loadTimeWeaver&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot;/&gt;\r\n\t&lt;/property&gt;                             \r\n\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;springappPU&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\t \r\n    &lt;bean id=&quot;jpaAdapter&quot;\r\n\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;\r\n\tp:database=&quot;${jpa.database}&quot;\r\n\tp:showSql=&quot;${jpa.showSql}&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\r\n\tp:entityManagerFactory-ref=&quot;entityManagerFactory&quot;/&gt;\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\r\n    &lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\r\n    &lt;context:component-scan base-package=&quot;com.ryc.springapp&quot; /&gt;\r\n\t\r\n    &lt;/beans&gt;\r\n\r\n**Exception thrown**\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inventoryController&#39;: Unsatisfied dependency expressed through field &#39;productManager&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.ryc.springapp.service.ProductManager&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:668)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:682)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:553)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:494)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:171)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1227)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1140)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1027)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5038)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5348)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3869)\r\n\tat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:291)\r\n\tat org.apache.catalina.core.StandardContext.backgroundProcess(StandardContext.java:5671)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1381)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1381)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1349)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.ryc.springapp.service.ProductManager&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n\t... 33 more\r\n\r\n    sep 04, 2017 1:04:49 AM org.apache.catalina.core.StandardContext loadOnStartup\r\n\r\n**EDIT I**\r\n\r\n**SimpleProductManager.java**\r\n\r\n    @Service\r\n    public class SimpleProductManager implements ProductManager{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Autowired\r\n\tprivate ProductDao productDao;\r\n\r\n\tpublic List&lt;Product&gt; getProducts() {\r\n\t\treturn productDao.getProductList();\r\n              \r\n    }\r\n\r\n    public void increasePrice(int percentage) {\r\n    \tList&lt;Product&gt; products = productDao.getProductList();\r\n         if(products != null){\r\n        \t for(Product product : products){\r\n        \t\t double newPrice = product.getPrice().doubleValue() * (100 + percentage)/100;\r\n        \t\t product.setPrice(newPrice);\r\n        \t\t productDao.saveProduct(product);\r\n        \t }\r\n         } \r\n\t}\r\n\r\n\tpublic ProductDao getProductDao() {\r\n\t\treturn productDao;\r\n\t}\r\n\r\n\tpublic void setProductDao(ProductDao productDao) {\r\n\t\tthis.productDao = productDao;\r\n\t}\r\n\r\n\r\n    }\r\n\r\n   **EDIT II**\r\n\r\nI have change my applicationContext so it scans the package parent and added @Service annotation to SimpleProductManager","title":"Exception autowiring a class in Spring Project","body":"<p>I'm gonna show you all my classes and config file and explain my issue; I keep getting that exception even though I have set up the package to be scanned, also using proper annotations, I even used @Service, @Configuration and the rest of annotations for the services in ProductManager.java and nothing worked, I also checked some other topics in here an none helped me, am I missing something?</p>\n\n<p><strong>ProductManager.java</strong></p>\n\n<pre><code>public interface ProductManager extends Serializable{\n\n    public void increasePrice(int percentage);\n\n    public List&lt;Product&gt; getProducts();\n}\n</code></pre>\n\n<p><strong>InventoryController.java</strong></p>\n\n<pre><code>@Controller\npublic class InventoryController {\n\n@Autowired\nprivate ProductManager productManager;\n\n\n@RequestMapping(value=\"/hello.htm\")\npublic ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\n\n    String now = (new Date()).toString();\n\n    Map&lt;String, Object&gt; myModel = new HashMap&lt;String, Object&gt;();\n    myModel.put(\"now\", now);\n    myModel.put(\"products\", this.productManager.getProducts());\n\n    return new ModelAndView(\"hello\", \"model\", myModel);\n}\n\npublic void setProductManager(ProductManager productManager){\n    this.productManager = productManager;\n}\n\npublic ProductManager getProductManager() {\n    return productManager;\n}\n}\n</code></pre>\n\n<p><strong>app-config.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n    http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd\"&gt;\n\n&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages\"/&gt;\n&lt;/bean&gt;\n\n&lt;!-- Escanea el directorio de la aplicación para encontrar @Components como Beans --&gt;\n&lt;context:component-scan base-package=\"com.ryc.springapp.web\"/&gt;\n\n&lt;!-- Configures the @Controller programming model --&gt;\n&lt;mvc:annotation-driven/&gt;\n\n&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\" value=\"org.springframework.web.servlet.view.JstlView\"&gt;&lt;/property&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/views/\"&gt;&lt;/property&gt;\n    &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;        \n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>applicationContext.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:p=\"http://www.springframework.org/schema/p\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd\"&gt;\n\n\n&lt;!-- holding properties for database connectivity /--&gt;\n&lt;context:property-placeholder location=\"classpath:jdbc.properties\"/&gt;\n\n&lt;!-- enabling annotation driven configuration /--&gt;\n&lt;context:annotation-config/&gt;\n\n&lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n  &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\"/&gt;\n  &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n  &lt;property name=\"username\"  value=\"${jdbc.username}\"/&gt;\n  &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"entityManagerFactory\"\nclass=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\np:dataSource-ref=\"dataSource\"\np:jpaVendorAdapter-ref=\"jpaAdapter\"&gt;\n&lt;property name=\"loadTimeWeaver\"&gt;\n        &lt;bean class=\"org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver\"/&gt;\n&lt;/property&gt;                             \n&lt;property name=\"persistenceUnitName\" value=\"springappPU\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"jpaAdapter\"\nclass=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"\np:database=\"${jpa.database}\"\np:showSql=\"${jpa.showSql}\"/&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"\np:entityManagerFactory-ref=\"entityManagerFactory\"/&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n&lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\n&lt;context:component-scan base-package=\"com.ryc.springapp\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>Exception thrown</strong></p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inventoryController': Unsatisfied dependency expressed through field 'productManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.ryc.springapp.service.ProductManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:668)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:634)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:682)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:553)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:494)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:171)\nat javax.servlet.GenericServlet.init(GenericServlet.java:158)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1227)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1140)\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1027)\nat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5038)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5348)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\nat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3869)\nat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:291)\nat org.apache.catalina.core.StandardContext.backgroundProcess(StandardContext.java:5671)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1377)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1381)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1381)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1349)\nat java.lang.Thread.run(Unknown Source)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.ryc.springapp.service.ProductManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n... 33 more\n\nsep 04, 2017 1:04:49 AM org.apache.catalina.core.StandardContext loadOnStartup\n</code></pre>\n\n<p><strong>EDIT I</strong></p>\n\n<p><strong>SimpleProductManager.java</strong></p>\n\n<pre><code>@Service\npublic class SimpleProductManager implements ProductManager{\n\nprivate static final long serialVersionUID = 1L;\n@Autowired\nprivate ProductDao productDao;\n\npublic List&lt;Product&gt; getProducts() {\n    return productDao.getProductList();\n\n}\n\npublic void increasePrice(int percentage) {\n    List&lt;Product&gt; products = productDao.getProductList();\n     if(products != null){\n         for(Product product : products){\n             double newPrice = product.getPrice().doubleValue() * (100 + percentage)/100;\n             product.setPrice(newPrice);\n             productDao.saveProduct(product);\n         }\n     } \n}\n\npublic ProductDao getProductDao() {\n    return productDao;\n}\n\npublic void setProductDao(ProductDao productDao) {\n    this.productDao = productDao;\n}\n\n\n}\n</code></pre>\n\n<p><strong>EDIT II</strong></p>\n\n<p>I have change my applicationContext so it scans the package parent and added @Service annotation to SimpleProductManager</p>\n"},{"tags":["java","scala","jupyter-notebook","classcastexception","delta-lake"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672126910,"creation_date":1672126910,"answer_id":74926780,"question_id":74926265,"body_markdown":"The error message gives you a hint:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException:\r\nclass org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction\r\n(org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\r\n```\r\n\r\nYou have the same class (same name and package) loaded twice: once by Spark and once by Scala Reflection.\r\n\r\n**You need to figure out why the class (likely the JAR) of Delta is loaded twice.**\r\n\r\nI&#39;m not familiar with Jupiter, this might be related to the `launcher.packages` you&#39;ve given. Maybe it&#39;s not necessary or it has to be something else. (Only a guess).","title":"Unable to read and write DELTA files via SPYLON-KERNEL in JupyterLab: java.lang.ClassCastException","body":"<p>The error message gives you a hint:</p>\n<pre><code>Caused by: java.lang.ClassCastException:\nclass org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction\n(org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\n</code></pre>\n<p>You have the same class (same name and package) loaded twice: once by Spark and once by Scala Reflection.</p>\n<p><strong>You need to figure out why the class (likely the JAR) of Delta is loaded twice.</strong></p>\n<p>I'm not familiar with Jupiter, this might be related to the <code>launcher.packages</code> you've given. Maybe it's not necessary or it has to be something else. (Only a guess).</p>\n"}],"owner":{"account_id":21076390,"reputation":11,"user_id":15491728,"display_name":"R_Daya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679561949,"creation_date":1672122088,"question_id":74926265,"body_markdown":"Unable to read delta files via spylon kernel in JupyterLab.\r\nUpon trying to read the delta files via spylon kernel in JupyterLab I am facing the java.lang.ClassCastException error as below,\r\nI tested other versions as well which all lead to the same error.\r\n\r\nSteps to recreate:\r\n\r\nspark version : 3.1.2\r\nscala version : 2.12.15\r\nspylon-kernel : 0.4.1\r\n\r\n\r\n```\r\n%%init_spark\r\nlauncher.master = &quot;local[*]&quot;\r\nlauncher.packages = [&quot;io.delta:delta-core_2.12:1.0.1&quot;]\r\n```\r\n\r\n[spylon-kernel delta read error](https://i.stack.imgur.com/dEIJ6.png)\r\n\r\n```\r\nval deadlines =spark.read.format(&quot;delta&quot;).load(&quot;/path/to/file/&quot;)\r\n\r\nIntitializing Scala interpreter ...\r\nSpark Web UI available at http://jupyter-xxxx:4040\r\nSparkContext available as &#39;sc&#39; (version = 3.1.2, master = local[*], app id = local-1672036786616)\r\nSparkSession available as &#39;spark&#39;\r\n:: loading settings :: url = jar:file:/usr/local/spark/jars/ivy-2.4.0.jar!/org/apache/ivy/core/settings/ivysettings.xml\r\n\r\n*Error:*\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0) (jupyter-XXXXXX executor driver): java.lang.ClassCastException: class org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction (org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n\tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:132)\r\n\tat org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nDriver stacktrace:\r\n  at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2258)\r\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2207)\r\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2206)\r\n  at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n  at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n  at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n  at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2206)\r\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1079)\r\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1079)\r\n  at scala.Option.foreach(Option.scala:407)\r\n  at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1079)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2445)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2387)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2376)\r\n  at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n  at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:868)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2196)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2217)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2236)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2261)\r\n  at org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1030)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n  at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n  at org.apache.spark.rdd.RDD.collect(RDD.scala:1029)\r\n  at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:390)\r\n  at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\r\n  at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2722)\r\n  at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n  at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n  at org.apache.spark.sql.Dataset.head(Dataset.scala:2722)\r\n  at org.apache.spark.sql.Dataset.head(Dataset.scala:2729)\r\n  at org.apache.spark.sql.Dataset.first(Dataset.scala:2736)\r\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$computedState$1(Snapshot.scala:151)\r\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withJobDescription(DeltaProgressReporter.scala:53)\r\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withStatusCode(DeltaProgressReporter.scala:32)\r\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withStatusCode$(DeltaProgressReporter.scala:27)\r\n  at org.apache.spark.sql.delta.Snapshot.withStatusCode(Snapshot.scala:55)\r\n  at org.apache.spark.sql.delta.Snapshot.computedState$lzycompute(Snapshot.scala:137)\r\n  at org.apache.spark.sql.delta.Snapshot.computedState(Snapshot.scala:136)\r\n  at org.apache.spark.sql.delta.Snapshot.metadata(Snapshot.scala:179)\r\n  at org.apache.spark.sql.delta.Snapshot.toString(Snapshot.scala:290)\r\n  at java.base/java.lang.String.valueOf(String.java:2951)\r\n  at java.base/java.lang.StringBuilder.append(StringBuilder.java:172)\r\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$new$1(Snapshot.scala:293)\r\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$logInfo$1(Snapshot.scala:270)\r\n  at org.apache.spark.internal.Logging.logInfo(Logging.scala:57)\r\n  at org.apache.spark.internal.Logging.logInfo$(Logging.scala:56)\r\n  at org.apache.spark.sql.delta.Snapshot.logInfo(Snapshot.scala:270)\r\n  at org.apache.spark.sql.delta.Snapshot.&lt;init&gt;(Snapshot.scala:293)\r\n  at org.apache.spark.sql.delta.SnapshotManagement.createSnapshot(SnapshotManagement.scala:223)\r\n  at org.apache.spark.sql.delta.SnapshotManagement.createSnapshot$(SnapshotManagement.scala:211)\r\n  at org.apache.spark.sql.delta.DeltaLog.createSnapshot(DeltaLog.scala:59)\r\n  at org.apache.spark.sql.delta.SnapshotManagement.getSnapshotAtInit(SnapshotManagement.scala:195)\r\n  at org.apache.spark.sql.delta.SnapshotManagement.getSnapshotAtInit$(SnapshotManagement.scala:186)\r\n  at org.apache.spark.sql.delta.DeltaLog.getSnapshotAtInit(DeltaLog.scala:59)\r\n  at org.apache.spark.sql.delta.SnapshotManagement.$init$(SnapshotManagement.scala:49)\r\n  at org.apache.spark.sql.delta.DeltaLog.&lt;init&gt;(DeltaLog.scala:63)\r\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$3(DeltaLog.scala:467)\r\n  at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper$.allowInvokingTransformsInAnalyzer(AnalysisHelper.scala:221)\r\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$2(DeltaLog.scala:467)\r\n  at com.databricks.spark.util.DatabricksLogging.recordOperation(DatabricksLogging.scala:77)\r\n  at com.databricks.spark.util.DatabricksLogging.recordOperation$(DatabricksLogging.scala:67)\r\n  at org.apache.spark.sql.delta.DeltaLog$.recordOperation(DeltaLog.scala:367)\r\n  at org.apache.spark.sql.delta.metering.DeltaLogging.recordDeltaOperation(DeltaLogging.scala:106)\r\n  at org.apache.spark.sql.delta.metering.DeltaLogging.recordDeltaOperation$(DeltaLogging.scala:91)\r\n  at org.apache.spark.sql.delta.DeltaLog$.recordDeltaOperation(DeltaLog.scala:367)\r\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$1(DeltaLog.scala:466)\r\n  at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4792)\r\n  at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3599)\r\n  at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2379)\r\n  at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2342)\r\n  at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2257)\r\n  at com.google.common.cache.LocalCache.get(LocalCache.java:4000)\r\n  at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4789)\r\n  at org.apache.spark.sql.delta.DeltaLog$.apply(DeltaLog.scala:464)\r\n  at org.apache.spark.sql.delta.DeltaLog$.forTable(DeltaLog.scala:401)\r\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\r\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\r\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\r\n  at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:355)\r\n  at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:325)\r\n  at org.apache.spark.sql.DataFrameReader.$anonfun$load$1(DataFrameReader.scala:305)\r\n  at scala.Option.map(Option.scala:230)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:265)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:239)\r\n  ... 37 elided\r\nCaused by: java.lang.ClassCastException: class org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction (org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\r\n  at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n  at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n  at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\r\n  at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n  at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:132)\r\n  at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n  at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n  at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n  at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n  at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  ... 1 more\r\n \r\n\r\n\r\n```\r\n\r\n\r\nI was expecting the delta file to be read but didn&#39;t incur a package error rather a java.lang.ClassCastException\r\n\r\nAnd upon trying to write back I am getting a FileFormatWriter error:\r\n\r\n```\r\nimport io.delta._\r\nval test_write = spark.range(0,100,15)\r\ntest_write.write.format(&quot;delta&quot;).save(&quot;test-delta&quot;)\r\n\r\nerror:\r\norg.apache.spark.SparkException: Job aborted.\r\n  at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\r\n  at org.apache.spark.sql.delta.files.TransactionalWrite.$anonfun$writeFiles$1(TransactionalWrite.scala:192)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles(TransactionalWrite.scala:163)\r\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles$(TransactionalWrite.scala:142)\r\n  at org.apache.spark.sql.delta.OptimisticTransaction.writeFiles(OptimisticTransaction.scala:84)\r\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles(TransactionalWrite.scala:135)\r\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles$(TransactionalWrite.scala:134)\r\n  at org.apache.spark.sql.delta.OptimisticTransaction.writeFiles(OptimisticTransaction.scala:84)\r\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.write(WriteIntoDelta.scala:107)\r\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.$anonfun$run$1(WriteIntoDelta.scala:66)\r\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.$anonfun$run$1$adapted(WriteIntoDelta.scala:65)\r\n  at org.apache.spark.sql.delta.DeltaLog.withNewTransaction(DeltaLog.scala:187)\r\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.run(WriteIntoDelta.scala:65)\r\n  at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:154)\r\n  at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n  at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n  at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n  at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n  at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n  at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n  at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\r\n  at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n  at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n  at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n  at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:409)\r\n  at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n  ... 49 elided\r\nCaused by: java.lang.ArrayStoreException: org.apache.spark.sql.delta.actions.AddFile\r\n  at scala.runtime.ScalaRunTime$.array_update(ScalaRunTime.scala:75)\r\n  at scala.Array$.slowcopy(Array.scala:84)\r\n  at scala.Array$.copy(Array.scala:110)\r\n  at scala.collection.mutable.ResizableArray.copyToArray(ResizableArray.scala:80)\r\n  at scala.collection.mutable.ResizableArray.copyToArray$(ResizableArray.scala:78)\r\n  at scala.collection.mutable.ArrayBuffer.copyToArray(ArrayBuffer.scala:49)\r\n  at scala.collection.TraversableOnce.copyToArray(TraversableOnce.scala:283)\r\n  at scala.collection.TraversableOnce.copyToArray$(TraversableOnce.scala:282)\r\n  at scala.collection.AbstractTraversable.copyToArray(Traversable.scala:108)\r\n  at scala.collection.TraversableOnce.toArray(TraversableOnce.scala:291)\r\n  at scala.collection.TraversableOnce.toArray$(TraversableOnce.scala:288)\r\n  at scala.collection.AbstractTraversable.toArray(Traversable.scala:108)\r\n  at org.apache.spark.sql.delta.files.DelayedCommitProtocol.commitJob(DelayedCommitProtocol.scala:58)\r\n  at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:220)\r\n  ... 88 more\r\n```\r\n\r\n\r\n\r\n","title":"Unable to read and write DELTA files via SPYLON-KERNEL in JupyterLab: java.lang.ClassCastException","body":"<p>Unable to read delta files via spylon kernel in JupyterLab.\nUpon trying to read the delta files via spylon kernel in JupyterLab I am facing the java.lang.ClassCastException error as below,\nI tested other versions as well which all lead to the same error.</p>\n<p>Steps to recreate:</p>\n<p>spark version : 3.1.2\nscala version : 2.12.15\nspylon-kernel : 0.4.1</p>\n<pre><code>%%init_spark\nlauncher.master = &quot;local[*]&quot;\nlauncher.packages = [&quot;io.delta:delta-core_2.12:1.0.1&quot;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dEIJ6.png\" rel=\"nofollow noreferrer\">spylon-kernel delta read error</a></p>\n<pre><code>val deadlines =spark.read.format(&quot;delta&quot;).load(&quot;/path/to/file/&quot;)\n\nIntitializing Scala interpreter ...\nSpark Web UI available at http://jupyter-xxxx:4040\nSparkContext available as 'sc' (version = 3.1.2, master = local[*], app id = local-1672036786616)\nSparkSession available as 'spark'\n:: loading settings :: url = jar:file:/usr/local/spark/jars/ivy-2.4.0.jar!/org/apache/ivy/core/settings/ivysettings.xml\n\n*Error:*\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0) (jupyter-XXXXXX executor driver): java.lang.ClassCastException: class org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction (org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\n    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n    at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n    at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:132)\n    at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\nDriver stacktrace:\n  at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2258)\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2207)\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2206)\n  at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n  at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n  at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n  at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2206)\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1079)\n  at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1079)\n  at scala.Option.foreach(Option.scala:407)\n  at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1079)\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2445)\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2387)\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2376)\n  at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\n  at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:868)\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2196)\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2217)\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2236)\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2261)\n  at org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1030)\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n  at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n  at org.apache.spark.rdd.RDD.collect(RDD.scala:1029)\n  at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:390)\n  at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\n  at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2722)\n  at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n  at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n  at org.apache.spark.sql.Dataset.head(Dataset.scala:2722)\n  at org.apache.spark.sql.Dataset.head(Dataset.scala:2729)\n  at org.apache.spark.sql.Dataset.first(Dataset.scala:2736)\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$computedState$1(Snapshot.scala:151)\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withJobDescription(DeltaProgressReporter.scala:53)\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withStatusCode(DeltaProgressReporter.scala:32)\n  at org.apache.spark.sql.delta.util.DeltaProgressReporter.withStatusCode$(DeltaProgressReporter.scala:27)\n  at org.apache.spark.sql.delta.Snapshot.withStatusCode(Snapshot.scala:55)\n  at org.apache.spark.sql.delta.Snapshot.computedState$lzycompute(Snapshot.scala:137)\n  at org.apache.spark.sql.delta.Snapshot.computedState(Snapshot.scala:136)\n  at org.apache.spark.sql.delta.Snapshot.metadata(Snapshot.scala:179)\n  at org.apache.spark.sql.delta.Snapshot.toString(Snapshot.scala:290)\n  at java.base/java.lang.String.valueOf(String.java:2951)\n  at java.base/java.lang.StringBuilder.append(StringBuilder.java:172)\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$new$1(Snapshot.scala:293)\n  at org.apache.spark.sql.delta.Snapshot.$anonfun$logInfo$1(Snapshot.scala:270)\n  at org.apache.spark.internal.Logging.logInfo(Logging.scala:57)\n  at org.apache.spark.internal.Logging.logInfo$(Logging.scala:56)\n  at org.apache.spark.sql.delta.Snapshot.logInfo(Snapshot.scala:270)\n  at org.apache.spark.sql.delta.Snapshot.&lt;init&gt;(Snapshot.scala:293)\n  at org.apache.spark.sql.delta.SnapshotManagement.createSnapshot(SnapshotManagement.scala:223)\n  at org.apache.spark.sql.delta.SnapshotManagement.createSnapshot$(SnapshotManagement.scala:211)\n  at org.apache.spark.sql.delta.DeltaLog.createSnapshot(DeltaLog.scala:59)\n  at org.apache.spark.sql.delta.SnapshotManagement.getSnapshotAtInit(SnapshotManagement.scala:195)\n  at org.apache.spark.sql.delta.SnapshotManagement.getSnapshotAtInit$(SnapshotManagement.scala:186)\n  at org.apache.spark.sql.delta.DeltaLog.getSnapshotAtInit(DeltaLog.scala:59)\n  at org.apache.spark.sql.delta.SnapshotManagement.$init$(SnapshotManagement.scala:49)\n  at org.apache.spark.sql.delta.DeltaLog.&lt;init&gt;(DeltaLog.scala:63)\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$3(DeltaLog.scala:467)\n  at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper$.allowInvokingTransformsInAnalyzer(AnalysisHelper.scala:221)\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$2(DeltaLog.scala:467)\n  at com.databricks.spark.util.DatabricksLogging.recordOperation(DatabricksLogging.scala:77)\n  at com.databricks.spark.util.DatabricksLogging.recordOperation$(DatabricksLogging.scala:67)\n  at org.apache.spark.sql.delta.DeltaLog$.recordOperation(DeltaLog.scala:367)\n  at org.apache.spark.sql.delta.metering.DeltaLogging.recordDeltaOperation(DeltaLogging.scala:106)\n  at org.apache.spark.sql.delta.metering.DeltaLogging.recordDeltaOperation$(DeltaLogging.scala:91)\n  at org.apache.spark.sql.delta.DeltaLog$.recordDeltaOperation(DeltaLog.scala:367)\n  at org.apache.spark.sql.delta.DeltaLog$.$anonfun$apply$1(DeltaLog.scala:466)\n  at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4792)\n  at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3599)\n  at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2379)\n  at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2342)\n  at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2257)\n  at com.google.common.cache.LocalCache.get(LocalCache.java:4000)\n  at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4789)\n  at org.apache.spark.sql.delta.DeltaLog$.apply(DeltaLog.scala:464)\n  at org.apache.spark.sql.delta.DeltaLog$.forTable(DeltaLog.scala:401)\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\n  at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\n  at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\n  at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:355)\n  at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:325)\n  at org.apache.spark.sql.DataFrameReader.$anonfun$load$1(DataFrameReader.scala:305)\n  at scala.Option.map(Option.scala:230)\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:265)\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:239)\n  ... 37 elided\nCaused by: java.lang.ClassCastException: class org.apache.spark.sql.delta.actions.SingleAction cannot be cast to class org.apache.spark.sql.delta.actions.SingleAction (org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @5c089b2f; org.apache.spark.sql.delta.actions.SingleAction is in unnamed module of loader scala.reflect.internal.util.ScalaClassLoader$URLClassLoader @89842c3)\n  at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n  at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n  at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\n  at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n  at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:132)\n  at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n  at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n  at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n  at org.apache.spark.scheduler.Task.run(Task.scala:131)\n  at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  ... 1 more\n \n\n\n</code></pre>\n<p>I was expecting the delta file to be read but didn't incur a package error rather a java.lang.ClassCastException</p>\n<p>And upon trying to write back I am getting a FileFormatWriter error:</p>\n<pre><code>import io.delta._\nval test_write = spark.range(0,100,15)\ntest_write.write.format(&quot;delta&quot;).save(&quot;test-delta&quot;)\n\nerror:\norg.apache.spark.SparkException: Job aborted.\n  at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\n  at org.apache.spark.sql.delta.files.TransactionalWrite.$anonfun$writeFiles$1(TransactionalWrite.scala:192)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles(TransactionalWrite.scala:163)\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles$(TransactionalWrite.scala:142)\n  at org.apache.spark.sql.delta.OptimisticTransaction.writeFiles(OptimisticTransaction.scala:84)\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles(TransactionalWrite.scala:135)\n  at org.apache.spark.sql.delta.files.TransactionalWrite.writeFiles$(TransactionalWrite.scala:134)\n  at org.apache.spark.sql.delta.OptimisticTransaction.writeFiles(OptimisticTransaction.scala:84)\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.write(WriteIntoDelta.scala:107)\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.$anonfun$run$1(WriteIntoDelta.scala:66)\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.$anonfun$run$1$adapted(WriteIntoDelta.scala:65)\n  at org.apache.spark.sql.delta.DeltaLog.withNewTransaction(DeltaLog.scala:187)\n  at org.apache.spark.sql.delta.commands.WriteIntoDelta.run(WriteIntoDelta.scala:65)\n  at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:154)\n  at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\n  at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n  at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n  at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n  at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n  at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n  at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\n  at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n  at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\n  at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\n  at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:409)\n  at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\n  ... 49 elided\nCaused by: java.lang.ArrayStoreException: org.apache.spark.sql.delta.actions.AddFile\n  at scala.runtime.ScalaRunTime$.array_update(ScalaRunTime.scala:75)\n  at scala.Array$.slowcopy(Array.scala:84)\n  at scala.Array$.copy(Array.scala:110)\n  at scala.collection.mutable.ResizableArray.copyToArray(ResizableArray.scala:80)\n  at scala.collection.mutable.ResizableArray.copyToArray$(ResizableArray.scala:78)\n  at scala.collection.mutable.ArrayBuffer.copyToArray(ArrayBuffer.scala:49)\n  at scala.collection.TraversableOnce.copyToArray(TraversableOnce.scala:283)\n  at scala.collection.TraversableOnce.copyToArray$(TraversableOnce.scala:282)\n  at scala.collection.AbstractTraversable.copyToArray(Traversable.scala:108)\n  at scala.collection.TraversableOnce.toArray(TraversableOnce.scala:291)\n  at scala.collection.TraversableOnce.toArray$(TraversableOnce.scala:288)\n  at scala.collection.AbstractTraversable.toArray(Traversable.scala:108)\n  at org.apache.spark.sql.delta.files.DelayedCommitProtocol.commitJob(DelayedCommitProtocol.scala:58)\n  at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:220)\n  ... 88 more\n</code></pre>\n"},{"tags":["python","java","web-services","azure-databricks","delta-lake"],"comments":[{"owner":{"account_id":21649083,"reputation":7694,"user_id":15969981,"display_name":"SwethaKandikonda"},"score":0,"creation_date":1679284825,"post_id":75771824,"comment_id":133687731,"body_markdown":"Can you provide what you have tried so far?","body":"Can you provide what you have tried so far?"},{"owner":{"account_id":3434968,"reputation":282,"user_id":2878290,"accept_rate":11,"display_name":"Developer KE"},"score":0,"creation_date":1679298289,"post_id":75771824,"comment_id":133689575,"body_markdown":"I have delta table and needs to export the restful API service, in this case, how do we handle","body":"I have delta table and needs to export the restful API service, in this case, how do we handle"},{"owner":{"account_id":21649083,"reputation":7694,"user_id":15969981,"display_name":"SwethaKandikonda"},"score":0,"creation_date":1679298455,"post_id":75771824,"comment_id":133689619,"body_markdown":"What do you mean by `export the restful API service`? Provide an example","body":"What do you mean by <code>export the restful API service</code>? Provide an example"},{"owner":{"account_id":3434968,"reputation":282,"user_id":2878290,"accept_rate":11,"display_name":"Developer KE"},"score":0,"creation_date":1679300858,"post_id":75771824,"comment_id":133690093,"body_markdown":"yes, exactly. how do we do this API , if possible small hello world example would be fine or guidelines","body":"yes, exactly. how do we do this API , if possible small hello world example would be fine or guidelines"}],"answers":[{"tags":[],"owner":{"account_id":21649083,"reputation":7694,"user_id":15969981,"display_name":"SwethaKandikonda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679481921,"creation_date":1679481921,"answer_id":75811234,"question_id":75771824,"body_markdown":"After reproducing from my end, I could get desired results by following either of the below mentioned ways.\r\n\r\n### WAY -1 (Databricks SQL statement execution)\r\n  \r\n You can retrieve the delta table data using SQL statement through REST API. Below is the sample cod ethat was working for me.\r\n \r\n ```\r\nimport requests\r\n\r\nmy_json = {&quot;statement&quot;: &quot;select * from delta.`/FileStore/&lt;YOUR_FILE_PATh&gt;`&quot;, &quot;warehouse_id&quot;: &quot;&lt;YOUR_WAREHOURSE_ID&gt;&quot;}\r\n\r\nauth = {&quot;Authorization&quot;: &quot;Bearer &lt;ACCESS_TOKEN&gt;&quot;}\r\n\r\nresponse = requests.post(&#39;https://&lt;DATABRICKS_WORKSPACE_URL&gt;/api/2.0/sql/statements&#39;, json = my_json, headers=auth).json()\r\n\r\nprint(response[&#39;result&#39;][&#39;data_array&#39;])\r\n```\r\n\r\nResults:\r\n\r\n![enter image description here](https://i.stack.imgur.com/hup1u.png)\r\n\r\n### WAY -2 (DBFS API)\r\n\r\nUsing DBFS API I&#39;m trying to list the files inside the folder and then appending each .parquet files&#39; data inside dataframe where I&#39;m storing the whole dataframe inside a CSV file. Below is the complete code that&#39;s working for me.\r\n\r\n```\r\nimport requests\r\nimport base64\r\nimport tempfile\r\nimport pyarrow.parquet as pq\r\nimport pandas as pd\r\n\r\nurl = &quot;https://&lt;DATABRICKS_WORKSPACE_URL&gt;/api/2.0/dbfs&quot;\r\n\r\nfolder_path = &quot;/FileStore/&lt;YOUR_FOLDER_PATH&gt;&quot;\r\n\r\naccess_token = &quot;&lt;YOUR_ACCESS_TOKEN&gt;&quot;\r\n\r\nheaders = {&quot;Authorization&quot;: f&quot;Bearer {access_token}&quot;}\r\n\r\nparams = {&quot;path&quot;: folder_path}\r\n\r\n# Lists folders in Databricks DBFS Folder\r\nresponse = requests.get(url+&#39;/list&#39;, headers=headers,params=params)\r\nfiles = response.json()\r\n\r\nfinal_df = None\r\n\r\nfor i in files[&#39;files&#39;][1:]:\r\n    params = {&quot;path&quot;:i[&#39;path&#39;]}\r\n    \r\n    # Reads files individually \r\n    response = requests.get(url+&#39;/read&#39;, headers=headers,params=params)\r\n    sample=base64.b64decode(response.json()[&#39;data&#39;])\r\n\r\n    with tempfile.NamedTemporaryFile(delete=False) as f:\r\n        f.write(sample)\r\n        f.seek(0)\r\n        parquet_file = pq.ParquetFile(f.name)\r\n        \r\n        df = parquet_file.read().to_pandas()\r\n        \r\n        if(final_df is None):\r\n            final_df=df\r\n        else:\r\n            final_df = pd.concat([df, final_df])\r\n            \r\nfinal_df.to_csv(&quot;example.csv&quot;, index=False)\r\n```\r\n\r\nResults:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Webov.png)","title":"How to Expose Delta Table Data or Synapse Table to Rest API Service using Java/python","body":"<p>After reproducing from my end, I could get desired results by following either of the below mentioned ways.</p>\n<h3>WAY -1 (Databricks SQL statement execution)</h3>\n<p>You can retrieve the delta table data using SQL statement through REST API. Below is the sample cod ethat was working for me.</p>\n<pre><code>import requests\n\nmy_json = {&quot;statement&quot;: &quot;select * from delta.`/FileStore/&lt;YOUR_FILE_PATh&gt;`&quot;, &quot;warehouse_id&quot;: &quot;&lt;YOUR_WAREHOURSE_ID&gt;&quot;}\n\nauth = {&quot;Authorization&quot;: &quot;Bearer &lt;ACCESS_TOKEN&gt;&quot;}\n\nresponse = requests.post('https://&lt;DATABRICKS_WORKSPACE_URL&gt;/api/2.0/sql/statements', json = my_json, headers=auth).json()\n\nprint(response['result']['data_array'])\n</code></pre>\n<p>Results:</p>\n<p><img src=\"https://i.stack.imgur.com/hup1u.png\" alt=\"enter image description here\" /></p>\n<h3>WAY -2 (DBFS API)</h3>\n<p>Using DBFS API I'm trying to list the files inside the folder and then appending each .parquet files' data inside dataframe where I'm storing the whole dataframe inside a CSV file. Below is the complete code that's working for me.</p>\n<pre><code>import requests\nimport base64\nimport tempfile\nimport pyarrow.parquet as pq\nimport pandas as pd\n\nurl = &quot;https://&lt;DATABRICKS_WORKSPACE_URL&gt;/api/2.0/dbfs&quot;\n\nfolder_path = &quot;/FileStore/&lt;YOUR_FOLDER_PATH&gt;&quot;\n\naccess_token = &quot;&lt;YOUR_ACCESS_TOKEN&gt;&quot;\n\nheaders = {&quot;Authorization&quot;: f&quot;Bearer {access_token}&quot;}\n\nparams = {&quot;path&quot;: folder_path}\n\n# Lists folders in Databricks DBFS Folder\nresponse = requests.get(url+'/list', headers=headers,params=params)\nfiles = response.json()\n\nfinal_df = None\n\nfor i in files['files'][1:]:\n    params = {&quot;path&quot;:i['path']}\n    \n    # Reads files individually \n    response = requests.get(url+'/read', headers=headers,params=params)\n    sample=base64.b64decode(response.json()['data'])\n\n    with tempfile.NamedTemporaryFile(delete=False) as f:\n        f.write(sample)\n        f.seek(0)\n        parquet_file = pq.ParquetFile(f.name)\n        \n        df = parquet_file.read().to_pandas()\n        \n        if(final_df is None):\n            final_df=df\n        else:\n            final_df = pd.concat([df, final_df])\n            \nfinal_df.to_csv(&quot;example.csv&quot;, index=False)\n</code></pre>\n<p>Results:</p>\n<p><img src=\"https://i.stack.imgur.com/Webov.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":3434968,"reputation":282,"user_id":2878290,"accept_rate":11,"display_name":"Developer KE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679561820,"creation_date":1679083768,"question_id":75771824,"body_markdown":"We would like to expose the data from delta table or synapse table to REST API service which is java based or either python language. kindly provide sample for java or python to kick start my new implementation.\r\n\r\nThanks\r\n","title":"How to Expose Delta Table Data or Synapse Table to Rest API Service using Java/python","body":"<p>We would like to expose the data from delta table or synapse table to REST API service which is java based or either python language. kindly provide sample for java or python to kick start my new implementation.</p>\n<p>Thanks</p>\n"},{"tags":["java","object","oop","methods","constructor"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679552009,"post_id":75819722,"comment_id":133742691,"body_markdown":"To initalize something while creating class object is use of constructor initialization whereas method invocation is after class object creation and should contain business logic","body":"To initalize something while creating class object is use of constructor initialization whereas method invocation is after class object creation and should contain business logic"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679552147,"post_id":75819722,"comment_id":133742714,"body_markdown":"why type more lines of code when less is enough?","body":"why type more lines of code when less is enough?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679552171,"post_id":75819722,"comment_id":133742717,"body_markdown":"You could also take a look at this SO post https://stackoverflow.com/a/19359582/16034206","body":"You could also take a look at this SO post <a href=\"https://stackoverflow.com/a/19359582/16034206\">stackoverflow.com/a/19359582/16034206</a>"},{"owner":{"account_id":25154586,"reputation":1,"user_id":19178090,"display_name":"Ajay Rawat"},"score":0,"creation_date":1679552171,"post_id":75819722,"comment_id":133742718,"body_markdown":"okay but I can also initialize my class variable using a method instead of creating a constructor right ok I understood thank you all for giving your response","body":"okay but I can also initialize my class variable using a method instead of creating a constructor right ok I understood thank you all for giving your response"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1679552819,"post_id":75819722,"comment_id":133742811,"body_markdown":"Programming can get very complicated epecially once you get into generics, Inheritance, and Polymorphism. Not having a constructor will eventually cause issues. It&#39;s important that you follow the ideas laid out for OOP. \\","body":"Programming can get very complicated epecially once you get into generics, Inheritance, and Polymorphism. Not having a constructor will eventually cause issues. It&#39;s important that you follow the ideas laid out for OOP. \\"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1679552873,"post_id":75819722,"comment_id":133742822,"body_markdown":"Look at ` `You don&#39;t have to provide any constructors for your class, but you must be careful when doing this. The compiler automatically provides a no-argument, default constructor for any class without constructors. This default constructor will call the no-argument constructor of the superclass. In this situation, the compiler will complain if the superclass doesn&#39;t have a no-argument constructor so you must verify that it does. If your class has no explicit superclass, then it has an implicit superclass of Object, which does have a no-argument constructor.`","body":"Look at ` <code>You don&#39;t have to provide any constructors for your class, but you must be careful when doing this. The compiler automatically provides a no-argument, default constructor for any class without constructors. This default constructor will call the no-argument constructor of the superclass. In this situation, the compiler will complain if the superclass doesn&#39;t have a no-argument constructor so you must verify that it does. If your class has no explicit superclass, then it has an implicit superclass of Object, which does have a no-argument constructor.</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1679552879,"post_id":75819722,"comment_id":133742824,"body_markdown":"from https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html","body":"from <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/constructors.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"score":0,"creation_date":1679554923,"post_id":75819722,"comment_id":133743184,"body_markdown":"using a constructor or using methods to set data dependence on the requirement, when you need to initialize with some data or some logics you can use constructors","body":"using a constructor or using methods to set data dependence on the requirement, when you need to initialize with some data or some logics you can use constructors"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1679557120,"post_id":75819722,"comment_id":133743609,"body_markdown":"As you found out you **could** use a method as well as a constructor. **But**: the users of your class can forget the call an initialization method. They can however never forget to call the constructor, because the constructor call is implicitly done when you write `new Student()` ( or`new Student(111, &quot;Karan&quot;)`).","body":"As you found out you <b>could</b> use a method as well as a constructor. <b>But</b>: the users of your class can forget the call an initialization method. They can however never forget to call the constructor, because the constructor call is implicitly done when you write <code>new Student()</code> ( or<code>new Student(111, &quot;Karan&quot;)</code>)."}],"answers":[{"tags":[],"owner":{"account_id":16377630,"reputation":1,"user_id":11829401,"display_name":"Adrian Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679560332,"creation_date":1679560089,"answer_id":75820672,"question_id":75819722,"body_markdown":"This as your reference:\r\n\r\n    public class Student {\r\n    private int rollNumber;\r\n    private String name;\r\n\r\n    public Student(int rollNumber, String name) {\r\n        this.rollNumber = rollNumber;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getRollNumber() {\r\n        return rollNumber;\r\n    }\r\n\r\n    public void setRollNumber(int rollNumber) {\r\n        this.rollNumber = rollNumber;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void displayInformation() {\r\n        System.out.println(rollNumber + &quot; &quot; + name);\r\n    }\r\n    }\r\n\r\n    public class TestStudent {\r\n        public static void main(String[] args) {\r\n            Student s1 = new Student(111, &quot;Karan&quot;);\r\n            Student s2 = new Student(222, &quot;Aryan&quot;);\r\n            s1.displayInformation();\r\n            s2.displayInformation();\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n * Or you do not have to use getters or setters if ure using Lombok, just use @Data annotation in Spring.\r\n\r\nwhile it is true that you could use a method to initialize instance variables, constructors are a more natural and convenient way to do so, and have additional benefits such as automatic invocation, clear syntax, and the ability to enforce initialization constraints.","title":"Can we use methods to initialize object or instance variable in Java?","body":"<p>This as your reference:</p>\n<pre><code>public class Student {\nprivate int rollNumber;\nprivate String name;\n\npublic Student(int rollNumber, String name) {\n    this.rollNumber = rollNumber;\n    this.name = name;\n}\n\npublic int getRollNumber() {\n    return rollNumber;\n}\n\npublic void setRollNumber(int rollNumber) {\n    this.rollNumber = rollNumber;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic void displayInformation() {\n    System.out.println(rollNumber + &quot; &quot; + name);\n}\n}\n\npublic class TestStudent {\n    public static void main(String[] args) {\n        Student s1 = new Student(111, &quot;Karan&quot;);\n        Student s2 = new Student(222, &quot;Aryan&quot;);\n        s1.displayInformation();\n        s2.displayInformation();\n    }\n}\n</code></pre>\n<hr />\n<ul>\n<li>Or you do not have to use getters or setters if ure using Lombok, just use @Data annotation in Spring.</li>\n</ul>\n<p>while it is true that you could use a method to initialize instance variables, constructors are a more natural and convenient way to do so, and have additional benefits such as automatic invocation, clear syntax, and the ability to enforce initialization constraints.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679561719,"creation_date":1679561719,"answer_id":75820915,"question_id":75819722,"body_markdown":"One important feature that can be implemented using constructors but can NOT be implemented with &quot;normal methods&quot; is to provide invariants:\r\n\r\nIt&#39;s very useful if a class can guarantee certain properties of all its instances (sometimes these are called &quot;invariants&quot;).\r\n\r\nFor example, you could have a `Person` class that guarantees that `givenName` and `lastName` will always have valid, non-null, non-empty values (which is [absolutely **not** true in the real world][1], by the way, but let&#39;s pretend that the world is simple for a second).\r\n\r\nYou could do that with a constructor that takes the parameters and verifies that they are valid:\r\n\r\n```\r\npublic class Person {\r\n    private final String givenName;\r\n    private final String lastName;\r\n    \r\n    public Person(String givenName, String lastName) {\r\n        this.givenName = verifyValidName(givenName);\r\n        this.lastName = verifyValidName(lastName);\r\n    }\r\n\r\n    private static String verifyValidName(String name) {\r\n        if (name == null || name.trim().isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;name is null or empty&quot;);\r\n        }\r\n        return name;\r\n    }\r\n    \r\n    // getters\r\n}\r\n```\r\n\r\n&lt;sup&gt;Note that in a real, current codebase this should almost certainly be a `record` instead of a regular class, but that doesn&#39;t fundamentally influence the answer and new developers might not yet know `record` classes.&lt;/sup&gt;\r\n\r\nWith this code any code that *uses* a `Person` object (independent of whether it created it on its own or it got passed from somewhere else) **knows** that the two fields will be non-null. There&#39;s no need to pepper `person.hasValidNames()` calls all throughout your code, because you know that no `Person` can exist where `givenName` is `null`.\r\n\r\nIf you instead initialized the fields in a normal method, then the default constructor would set the fields to `null`. That&#39;s not the end of the world itself, but it means that code that gets passed from *anywhere else* needs to consider the option that either one of those fields could be `null`, which potentially adds a lot of complexity.\r\n\r\n  [1]: https://www.w3.org/International/questions/qa-personal-names","title":"Can we use methods to initialize object or instance variable in Java?","body":"<p>One important feature that can be implemented using constructors but can NOT be implemented with &quot;normal methods&quot; is to provide invariants:</p>\n<p>It's very useful if a class can guarantee certain properties of all its instances (sometimes these are called &quot;invariants&quot;).</p>\n<p>For example, you could have a <code>Person</code> class that guarantees that <code>givenName</code> and <code>lastName</code> will always have valid, non-null, non-empty values (which is <a href=\"https://www.w3.org/International/questions/qa-personal-names\" rel=\"nofollow noreferrer\">absolutely <strong>not</strong> true in the real world</a>, by the way, but let's pretend that the world is simple for a second).</p>\n<p>You could do that with a constructor that takes the parameters and verifies that they are valid:</p>\n<pre><code>public class Person {\n    private final String givenName;\n    private final String lastName;\n    \n    public Person(String givenName, String lastName) {\n        this.givenName = verifyValidName(givenName);\n        this.lastName = verifyValidName(lastName);\n    }\n\n    private static String verifyValidName(String name) {\n        if (name == null || name.trim().isEmpty()) {\n            throw new IllegalArgumentException(&quot;name is null or empty&quot;);\n        }\n        return name;\n    }\n    \n    // getters\n}\n</code></pre>\n<p><sup>Note that in a real, current codebase this should almost certainly be a <code>record</code> instead of a regular class, but that doesn't fundamentally influence the answer and new developers might not yet know <code>record</code> classes.</sup></p>\n<p>With this code any code that <em>uses</em> a <code>Person</code> object (independent of whether it created it on its own or it got passed from somewhere else) <strong>knows</strong> that the two fields will be non-null. There's no need to pepper <code>person.hasValidNames()</code> calls all throughout your code, because you know that no <code>Person</code> can exist where <code>givenName</code> is <code>null</code>.</p>\n<p>If you instead initialized the fields in a normal method, then the default constructor would set the fields to <code>null</code>. That's not the end of the world itself, but it means that code that gets passed from <em>anywhere else</em> needs to consider the option that either one of those fields could be <code>null</code>, which potentially adds a lot of complexity.</p>\n"}],"owner":{"account_id":25154586,"reputation":1,"user_id":19178090,"display_name":"Ajay Rawat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1679561719,"creation_date":1679551829,"question_id":75819722,"body_markdown":"guys I am learning Java recently I just finished the concept of Constructor. So what I understand is that Constructors are used to initialize instance variable or objects but we can use methods to do that same task of initializing instance variable can anyone help me understand what exactly we use constructors\r\n\r\n```\r\n//This is my code I tried to initialize instance variable using methods instead of constructors\r\nclass Student {\r\n    int rollno;\r\n    String name;\r\n\r\n    void insertRecord(int r, String n) {\r\n        rollno = r;\r\n        name = n;\r\n    }\r\n\r\n    void displayInformation() {\r\n        System.out.println(rollno + &quot; &quot; + name);\r\n    }\r\n}\r\n\r\npublic class TestStudent4 {\r\n    public static void main(String args[]) {\r\n        Student s1 = new Student();\r\n        Student s2 = new Student();\r\n        s1.insertRecord(111, &quot;Karan&quot;);\r\n        s2.insertRecord(222, &quot;Aryan&quot;);\r\n        s1.displayInformation();\r\n        s2.displayInformation();\r\n    }\r\n}\r\n```","title":"Can we use methods to initialize object or instance variable in Java?","body":"<p>guys I am learning Java recently I just finished the concept of Constructor. So what I understand is that Constructors are used to initialize instance variable or objects but we can use methods to do that same task of initializing instance variable can anyone help me understand what exactly we use constructors</p>\n<pre><code>//This is my code I tried to initialize instance variable using methods instead of constructors\nclass Student {\n    int rollno;\n    String name;\n\n    void insertRecord(int r, String n) {\n        rollno = r;\n        name = n;\n    }\n\n    void displayInformation() {\n        System.out.println(rollno + &quot; &quot; + name);\n    }\n}\n\npublic class TestStudent4 {\n    public static void main(String args[]) {\n        Student s1 = new Student();\n        Student s2 = new Student();\n        s1.insertRecord(111, &quot;Karan&quot;);\n        s2.insertRecord(222, &quot;Aryan&quot;);\n        s1.displayInformation();\n        s2.displayInformation();\n    }\n}\n</code></pre>\n"},{"tags":["java","reactjs","bots","telegram","telegram-bot"],"owner":{"account_id":28091152,"reputation":1,"user_id":21460753,"display_name":"XXX YYY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679561313,"creation_date":1679559592,"question_id":75820614,"body_markdown":"I have a server on Java and client on React js. \r\n\r\nMy project it&#39;s a Telegram bot that just send me link by [Telegram bot Web-App][1].\r\n\r\nUrl for my client side has ssl, I use Ngrok for this.\r\n\r\nMy problem is - when I do fetch request to my backend API, client got an error ErrorType: Failed to fetch.\r\n\r\nI get this error only on Telegram phone app. In desktop and web browser version it works perfectly.\r\n\r\n\r\nPost request to - http://localhost:8080/api/do-something\r\n\r\nIn server I setting cors for accepting my urls and etc.\r\n\r\nMaybe anyone know what I need to do &#129300;\r\n\r\n\r\n  [1]: https://core.telegram.org/bots/webapps","title":"Telegram bot Web-app Failed to fetch Error Java + React","body":"<p>I have a server on Java and client on React js.</p>\n<p>My project it's a Telegram bot that just send me link by <a href=\"https://core.telegram.org/bots/webapps\" rel=\"nofollow noreferrer\">Telegram bot Web-App</a>.</p>\n<p>Url for my client side has ssl, I use Ngrok for this.</p>\n<p>My problem is - when I do fetch request to my backend API, client got an error ErrorType: Failed to fetch.</p>\n<p>I get this error only on Telegram phone app. In desktop and web browser version it works perfectly.</p>\n<p>Post request to - http://localhost:8080/api/do-something</p>\n<p>In server I setting cors for accepting my urls and etc.</p>\n<p>Maybe anyone know what I need to do 🤔</p>\n"},{"tags":["java","string","encoding","utf-8","utf-16"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1574963710,"post_id":59094164,"comment_id":104422303,"body_markdown":"A String is a sequence of characters. Encoding starts to matter when you want to transform a string to bytes, or bytes to a String, because the encoding defines which characters can be encoded, and how they are transformed to bytes (and vice-versa). So &quot;checking if a String is UTF-8 encoded&quot; doesn&#39;t make sense","body":"A String is a sequence of characters. Encoding starts to matter when you want to transform a string to bytes, or bytes to a String, because the encoding defines which characters can be encoded, and how they are transformed to bytes (and vice-versa). So &quot;checking if a String is UTF-8 encoded&quot; doesn&#39;t make sense"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574966300,"creation_date":1574966300,"answer_id":59094697,"question_id":59094164,"body_markdown":" &gt; Is it correct that it always returns correct UTF-8 bytes?\r\n\r\nYes.\r\n\r\n &gt; Does it make sense to perform such checks on String objects at all? Won&#39;t it always be returning true as a String object is already encoded?\r\n\r\nJava strings use Unicode characters encoded in UTF-16. Since UTF-16 uses surrogate pairs, any *unpaired surrogate* is invalid, so Java strings can contain invalid `char` sequences.\r\n\r\nJava strings can also contain characters that are unassigned in Unicode.\r\n\r\nWhich means that performing validation on a Java `String` makes sense, though it is very rarely done.\r\n\r\n &gt; As far as I understand such checks should be performed on bytes, not on String objects.\r\n\r\nDepending on the character set of the bytes, there is nothing to validate, e.g. character set CP437 maps all 256 byte values, so it cannot be invalid.\r\n\r\nUTF-8 can be invalid, so you&#39;re correct that validating bytes is useful.\r\n\r\n---\r\n\r\nAs the javadoc said, `getBytes(Charset)` always replaces malformed-input and unmappable-character sequences with the charset&#39;s default replacement byte.\r\n\r\nThat is because it does this:\r\n\r\n\tCharsetEncoder encoder = charset.newEncoder()\r\n\t\t\t.onMalformedInput(CodingErrorAction.REPLACE)\r\n\t\t\t.onUnmappableCharacter(CodingErrorAction.REPLACE);\r\n\r\nIf you want to get the bytes, but fail on malformed-input and unmappable-character sequences, use `CodingErrorAction.REPORT` instead. Since that&#39;s actually the default, simply don&#39;t call the two `onXxx()` methods.\r\n\r\n*Example*\r\n\r\n\tString s = &quot;\\uD800&quot;; // unpaired surrogate\r\n\tSystem.out.println(Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\r\n\r\nThat prints `[63]` which is a `?`, i.e. the unpaired surrogate is malformed-input, so it was replaced with the replacement byte.\r\n\r\n\tString s = &quot;\\uD800&quot;; // unpaired surrogate\r\n\t\r\n\tCharsetEncoder encoder = StandardCharsets.UTF_8.newEncoder();\r\n\tByteBuffer encoded = encoder.encode(CharBuffer.wrap(s.toCharArray()));\r\n\tbyte[] bytes = new byte[encoded.remaining()];\r\n\tencoded.get(bytes);\r\n\t\r\n\tSystem.out.println(Arrays.toString(bytes));\r\n\r\nThat causes `MalformedInputException: Input length = 1` since the default malformed-input action is `REPORT`.\r\n","title":"Verifying a string is UTF-8 encoded in Java","body":"<blockquote>\n  <p>Is it correct that it always returns correct UTF-8 bytes?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Does it make sense to perform such checks on String objects at all? Won't it always be returning true as a String object is already encoded?</p>\n</blockquote>\n\n<p>Java strings use Unicode characters encoded in UTF-16. Since UTF-16 uses surrogate pairs, any <em>unpaired surrogate</em> is invalid, so Java strings can contain invalid <code>char</code> sequences.</p>\n\n<p>Java strings can also contain characters that are unassigned in Unicode.</p>\n\n<p>Which means that performing validation on a Java <code>String</code> makes sense, though it is very rarely done.</p>\n\n<blockquote>\n  <p>As far as I understand such checks should be performed on bytes, not on String objects.</p>\n</blockquote>\n\n<p>Depending on the character set of the bytes, there is nothing to validate, e.g. character set CP437 maps all 256 byte values, so it cannot be invalid.</p>\n\n<p>UTF-8 can be invalid, so you're correct that validating bytes is useful.</p>\n\n<hr>\n\n<p>As the javadoc said, <code>getBytes(Charset)</code> always replaces malformed-input and unmappable-character sequences with the charset's default replacement byte.</p>\n\n<p>That is because it does this:</p>\n\n<pre><code>CharsetEncoder encoder = charset.newEncoder()\n        .onMalformedInput(CodingErrorAction.REPLACE)\n        .onUnmappableCharacter(CodingErrorAction.REPLACE);\n</code></pre>\n\n<p>If you want to get the bytes, but fail on malformed-input and unmappable-character sequences, use <code>CodingErrorAction.REPORT</code> instead. Since that's actually the default, simply don't call the two <code>onXxx()</code> methods.</p>\n\n<p><em>Example</em></p>\n\n<pre><code>String s = \"\\uD800\"; // unpaired surrogate\nSystem.out.println(Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\n</code></pre>\n\n<p>That prints <code>[63]</code> which is a <code>?</code>, i.e. the unpaired surrogate is malformed-input, so it was replaced with the replacement byte.</p>\n\n<pre><code>String s = \"\\uD800\"; // unpaired surrogate\n\nCharsetEncoder encoder = StandardCharsets.UTF_8.newEncoder();\nByteBuffer encoded = encoder.encode(CharBuffer.wrap(s.toCharArray()));\nbyte[] bytes = new byte[encoded.remaining()];\nencoded.get(bytes);\n\nSystem.out.println(Arrays.toString(bytes));\n</code></pre>\n\n<p>That causes <code>MalformedInputException: Input length = 1</code> since the default malformed-input action is <code>REPORT</code>.</p>\n"},{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575419281,"creation_date":1575418773,"answer_id":59167280,"question_id":59094164,"body_markdown":"Your function as shown makes no sense.  As the [documentation][1] says:\r\n\r\n&gt; **A `String` represents a string in the UTF-16 format** in which *supplementary characters* are represented by *surrogate pairs* (see the section [Unicode Character Representations][2] in the `Character` class for more information). Index values refer to `char` code units, so a supplementary character uses two positions in a `String`. \r\n\r\nA `String` is comprised of UTF-16 encoded characters, not UTF-8.  A `String` will NEVER be encoded in UTF-8, but it can ALWAYS be converted to UTF-8, so your function will ALWAYS return `true`.  &quot;UTF-8&quot; is a standard encoding supported by all Java implementations, so `getBytes(&quot;UTF-8&quot;)` will NEVER throw `UnsupportedEncodingException`, which is raised only when an unsupported charset is used.\r\n\r\nYour function would make more sense only if it took a `byte[]` as input instead.  But even then, doing a double-encode and comparing the results is not efficient.  As the [documentation][3] says:\r\n\r\n&gt; The behavior of this constructor when the given bytes are not valid in the given charset is unspecified. **The [`CharsetDecoder`][4] class should be used when more control over the decoding process is required.**\r\n\r\nFor example:\r\n\r\n```java\r\npublic static boolean isUTF8(byte[] bytes){\r\n    try{\r\n        StandardCharset.UTF_8.newDecoder()\r\n         .onMalformedInput(CodingErrorAction.REPORT)\r\n         .onUnmappableCharacter(CodingErrorAction.REPORT)\r\n         .decode(ByteBuffer.wrap(bytes)); \r\n    }\r\n    catch (CharacterCodingException e){\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String(byte[],%20java.lang.String)\r\n[2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\r\n[3]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String(byte[],%20java.lang.String)\r\n[4]: https://docs.oracle.com/javase/7/docs/api/java/nio/charset/CharsetDecoder.html","title":"Verifying a string is UTF-8 encoded in Java","body":"<p>Your function as shown makes no sense.  As the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String(byte[],%20java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p><strong>A <code>String</code> represents a string in the UTF-16 format</strong> in which <em>supplementary characters</em> are represented by <em>surrogate pairs</em> (see the section <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">Unicode Character Representations</a> in the <code>Character</code> class for more information). Index values refer to <code>char</code> code units, so a supplementary character uses two positions in a <code>String</code>. </p>\n</blockquote>\n\n<p>A <code>String</code> is comprised of UTF-16 encoded characters, not UTF-8.  A <code>String</code> will NEVER be encoded in UTF-8, but it can ALWAYS be converted to UTF-8, so your function will ALWAYS return <code>true</code>.  \"UTF-8\" is a standard encoding supported by all Java implementations, so <code>getBytes(\"UTF-8\")</code> will NEVER throw <code>UnsupportedEncodingException</code>, which is raised only when an unsupported charset is used.</p>\n\n<p>Your function would make more sense only if it took a <code>byte[]</code> as input instead.  But even then, doing a double-encode and comparing the results is not efficient.  As the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String(byte[],%20java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>The behavior of this constructor when the given bytes are not valid in the given charset is unspecified. <strong>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/CharsetDecoder.html\" rel=\"nofollow noreferrer\"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.</strong></p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isUTF8(byte[] bytes){\n    try{\n        StandardCharset.UTF_8.newDecoder()\n         .onMalformedInput(CodingErrorAction.REPORT)\n         .onUnmappableCharacter(CodingErrorAction.REPORT)\n         .decode(ByteBuffer.wrap(bytes)); \n    }\n    catch (CharacterCodingException e){\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14270487,"reputation":31,"user_id":10308111,"display_name":"extreme_logic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679561299,"creation_date":1679561299,"answer_id":75820845,"question_id":59094164,"body_markdown":"Just use this\r\n\r\n```\r\n    public static boolean isUTF8(String input) {\r\n        return StandardCharsets.UTF_8.newEncoder().canEncode(input);\r\n    }\r\n```\r\n\r\nInternally the `canEncode` is already handling the REPORT and is handling the exceptions.\r\n\r\n```\r\n    private boolean canEncode(CharBuffer cb) {\r\n        if (state == ST_FLUSHED)\r\n            reset();\r\n        else if (state != ST_RESET)\r\n            throwIllegalStateException(state, ST_CODING);\r\n        CodingErrorAction ma = malformedInputAction();\r\n        CodingErrorAction ua = unmappableCharacterAction();\r\n        try {\r\n            onMalformedInput(CodingErrorAction.REPORT);\r\n            onUnmappableCharacter(CodingErrorAction.REPORT);\r\n            encode(cb);\r\n        } catch (CharacterCodingException x) {\r\n            return false;\r\n        } finally {\r\n            onMalformedInput(ma);\r\n            onUnmappableCharacter(ua);\r\n            reset();\r\n        }\r\n        return true;\r\n    }\r\n```","title":"Verifying a string is UTF-8 encoded in Java","body":"<p>Just use this</p>\n<pre><code>    public static boolean isUTF8(String input) {\n        return StandardCharsets.UTF_8.newEncoder().canEncode(input);\n    }\n</code></pre>\n<p>Internally the <code>canEncode</code> is already handling the REPORT and is handling the exceptions.</p>\n<pre><code>    private boolean canEncode(CharBuffer cb) {\n        if (state == ST_FLUSHED)\n            reset();\n        else if (state != ST_RESET)\n            throwIllegalStateException(state, ST_CODING);\n        CodingErrorAction ma = malformedInputAction();\n        CodingErrorAction ua = unmappableCharacterAction();\n        try {\n            onMalformedInput(CodingErrorAction.REPORT);\n            onUnmappableCharacter(CodingErrorAction.REPORT);\n            encode(cb);\n        } catch (CharacterCodingException x) {\n            return false;\n        } finally {\n            onMalformedInput(ma);\n            onUnmappableCharacter(ua);\n            reset();\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":6061887,"reputation":731,"user_id":4733408,"accept_rate":18,"display_name":"void"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679561299,"creation_date":1574963527,"question_id":59094164,"body_markdown":"There are plenty of  to how to check if a string is UTF-8 encoded, for example:\r\n\r\n    public static boolean isUTF8(String s){\r\n        try{\r\n            byte[]bytes = s.getBytes(&quot;UTF-8&quot;);\r\n        }catch(UnsupportedEncodingException e){\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n        return true;\r\n    }\r\n\r\nThe doc of `java.lang.String#getBytes(java.nio.charset.Charset)` says:\r\n\r\n&gt; This method always replaces malformed-input and unmappable-character sequences with this charset&#39;s default replacement byte array.\r\n\r\n 1. Is it correct that it always returns correct UTF-8 bytes?\r\n 2. Does it make sense to perform such checks on `String` objects at all? \r\nWon&#39;t it always be returning `true` as a String object is already encoded?\r\n 3. As far as I understand such checks should be performed on bytes, not on `String` objects:\r\n\r\n```\r\npublic static final boolean isUTF8(final byte[] inputBytes) {\r\n    final String converted = new String(inputBytes, StandardCharsets.UTF_8);\r\n    final byte[] outputBytes = converted.getBytes(StandardCharsets.UTF_8);\r\n    return Arrays.equals(inputBytes, outputBytes);\r\n}\r\n```\r\nBut in this case I&#39;m not sure I understand where I should take those butes from as getting it straight from the `String` object will no be correct.","title":"Verifying a string is UTF-8 encoded in Java","body":"<p>There are plenty of  to how to check if a string is UTF-8 encoded, for example:</p>\n\n<pre><code>public static boolean isUTF8(String s){\n    try{\n        byte[]bytes = s.getBytes(\"UTF-8\");\n    }catch(UnsupportedEncodingException e){\n        e.printStackTrace();\n        System.exit(-1);\n    }\n    return true;\n}\n</code></pre>\n\n<p>The doc of <code>java.lang.String#getBytes(java.nio.charset.Charset)</code> says:</p>\n\n<blockquote>\n  <p>This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement byte array.</p>\n</blockquote>\n\n<ol>\n<li>Is it correct that it always returns correct UTF-8 bytes?</li>\n<li>Does it make sense to perform such checks on <code>String</code> objects at all? \nWon't it always be returning <code>true</code> as a String object is already encoded?</li>\n<li>As far as I understand such checks should be performed on bytes, not on <code>String</code> objects:</li>\n</ol>\n\n<pre><code>public static final boolean isUTF8(final byte[] inputBytes) {\n    final String converted = new String(inputBytes, StandardCharsets.UTF_8);\n    final byte[] outputBytes = converted.getBytes(StandardCharsets.UTF_8);\n    return Arrays.equals(inputBytes, outputBytes);\n}\n</code></pre>\n\n<p>But in this case I'm not sure I understand where I should take those butes from as getting it straight from the <code>String</code> object will no be correct.</p>\n"},{"tags":["java","android","ssl","kotlin","retrofit2"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1465324331,"post_id":37686625,"comment_id":62850706,"body_markdown":"if you don&#39;t have an ssl certificate on your dev server, why connect it using https?","body":"if you don&#39;t have an ssl certificate on your dev server, why connect it using https?"},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":1,"creation_date":1465324388,"post_id":37686625,"comment_id":62850733,"body_markdown":"@njzk2: It&#39;s a self-signed certificate. And URL aoti-redirects to `https`.","body":"@njzk2: It&#39;s a self-signed certificate. And URL aoti-redirects to <code>https</code>."},{"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"score":0,"creation_date":1465326482,"post_id":37686625,"comment_id":62851919,"body_markdown":"Why don&#39;t you add it to your trusted certificates? At least until you do the development work.","body":"Why don&#39;t you add it to your trusted certificates? At least until you do the development work."},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":0,"creation_date":1465327363,"post_id":37686625,"comment_id":62852343,"body_markdown":"@RuchiraRandana: How can I do that?","body":"@RuchiraRandana: How can I do that?"},{"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"score":0,"creation_date":1465327683,"post_id":37686625,"comment_id":62852517,"body_markdown":"The easiest way I can think of is to send an email to yourself with the self-signed certificate attached. Once you get that email, open it from your Android device and download it. Then select the downloaded certificate to install it. It will show a prompt, you can simply follow it. If it was successfully installed, you can see that certificate in your device&#39;s &quot;Settings-&gt; Trusted Credentials -&gt;User&quot; section.","body":"The easiest way I can think of is to send an email to yourself with the self-signed certificate attached. Once you get that email, open it from your Android device and download it. Then select the downloaded certificate to install it. It will show a prompt, you can simply follow it. If it was successfully installed, you can see that certificate in your device&#39;s &quot;Settings-&gt; Trusted Credentials -&gt;User&quot; section."},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1465641002,"post_id":37686625,"comment_id":62993972,"body_markdown":"@RuchiraRandana have you tried it successfully yet? The cert in my app can be added to Trusted Credential - Users, however, my app still gets that exception if not use custom trustmanager as in my answer","body":"@RuchiraRandana have you tried it successfully yet? The cert in my app can be added to Trusted Credential - Users, however, my app still gets that exception if not use custom trustmanager as in my answer"},{"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"score":0,"creation_date":1465642700,"post_id":37686625,"comment_id":62994515,"body_markdown":"Hi BNK, I&#39;ve done this to install the certificate for Charles which is used for HTTP debugging. That is why I recommend this approach.","body":"Hi BNK, I&#39;ve done this to install the certificate for Charles which is used for HTTP debugging. That is why I recommend this approach."},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1465657509,"post_id":37686625,"comment_id":62999063,"body_markdown":"@RuchiraRandana then your wifi must set your PC&#39;s IP as proxy?","body":"@RuchiraRandana then your wifi must set your PC&#39;s IP as proxy?"},{"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"score":0,"creation_date":1465705546,"post_id":37686625,"comment_id":63009845,"body_markdown":"Hi BNK, Yes. That&#39;s how I have done it. So, would that affect building the trust?","body":"Hi BNK, Yes. That&#39;s how I have done it. So, would that affect building the trust?"}],"answers":[{"tags":[],"owner":{"account_id":8592585,"reputation":11,"user_id":6436690,"display_name":"mwo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465326222,"creation_date":1465326222,"answer_id":37687339,"question_id":37686625,"body_markdown":"Implementation of such workaround in code, even for testing purposes is a bad practice.\r\n\r\nYou can:\r\n\r\n 1. Generate your CA.\r\n 2. Sign your certificate with CA.\r\n 3. Add your CA as trusted.\r\n\r\nSome links that may be useful:\r\n\r\n - https://jamielinux.com/docs/openssl-certificate-authority/create-the-root-pair.html\r\n  \r\n - http://wiki.cacert.org/FAQ/ImportRootCert\r\n\r\n \r\n","title":"Disable SSL certificate check in retrofit library","body":"<p>Implementation of such workaround in code, even for testing purposes is a bad practice.</p>\n\n<p>You can:</p>\n\n<ol>\n<li>Generate your CA.</li>\n<li>Sign your certificate with CA.</li>\n<li>Add your CA as trusted.</li>\n</ol>\n\n<p>Some links that may be useful:</p>\n\n<ul>\n<li><p><a href=\"https://jamielinux.com/docs/openssl-certificate-authority/create-the-root-pair.html\" rel=\"nofollow\">https://jamielinux.com/docs/openssl-certificate-authority/create-the-root-pair.html</a></p></li>\n<li><p><a href=\"http://wiki.cacert.org/FAQ/ImportRootCert\" rel=\"nofollow\">http://wiki.cacert.org/FAQ/ImportRootCert</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465443623,"creation_date":1465369564,"answer_id":37695466,"question_id":37686625,"body_markdown":"IMO, you can read [Google&#39;s documentation - Security with HTTPS and SSL][1].\r\n\r\nAbout sample code to use Retrofit with your self-signed certificate, please try the following, hope it helps!\r\n\r\n    ...\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.activity_main);\r\n    \r\n    \ttry{\r\n    \t\tOkHttpClient client = new OkHttpClient.Builder()\r\n    \t\t\t\t.sslSocketFactory(getSSLSocketFactory())\r\n    \t\t\t\t.hostnameVerifier(getHostnameVerifier())\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tRetrofit retrofit = new Retrofit.Builder()\r\n    \t\t\t\t.baseUrl(API_URL_BASE)\r\n    \t\t\t\t.addConverterFactory(GsonConverterFactory.create())\r\n    \t\t\t\t.client(client)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tWebAPIService service = retrofit.create(WebAPIService.class);\r\n    \r\n    \t\tCall&lt;JsonObject&gt; jsonObjectCall = service.getData(...);\r\n    \t\t...\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    // for SSL...    \r\n    // Read more at https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs\r\n    private HostnameVerifier getHostnameVerifier() {\r\n    \treturn new HostnameVerifier() {\r\n    \t\t@Override\r\n    \t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\treturn true; // verify always returns true, which could cause insecure network traffic due to trusting TLS/SSL server certificates for wrong hostnames\r\n    \t\t\t//HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\r\n    \t\t\t//return hv.verify(&quot;localhost&quot;, session);\r\n    \t\t}\r\n    \t};\r\n    }        \r\n\r\n    private TrustManager[] getWrappedTrustManagers(TrustManager[] trustManagers) {\r\n    \tfinal X509TrustManager originalTrustManager = (X509TrustManager) trustManagers[0];\r\n    \treturn new TrustManager[]{\r\n    \t\t\tnew X509TrustManager() {\r\n    \t\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\t\treturn originalTrustManager.getAcceptedIssuers();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tif (certs != null &amp;&amp; certs.length &gt; 0){\r\n    \t\t\t\t\t\t\tcerts[0].checkValidity();\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\toriginalTrustManager.checkClientTrusted(certs, authType);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} catch (CertificateException e) {\r\n    \t\t\t\t\t\tLog.w(&quot;checkClientTrusted&quot;, e.toString());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tif (certs != null &amp;&amp; certs.length &gt; 0){\r\n    \t\t\t\t\t\t\tcerts[0].checkValidity();\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\toriginalTrustManager.checkServerTrusted(certs, authType);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} catch (CertificateException e) {\r\n    \t\t\t\t\t\tLog.w(&quot;checkServerTrusted&quot;, e.toString());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t};\r\n    }\r\n    \r\n    private SSLSocketFactory getSSLSocketFactory()\r\n    \t\tthrows CertificateException, KeyStoreException, IOException,\r\n    \t\tNoSuchAlgorithmException, KeyManagementException {\r\n    \tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \tInputStream caInput = getResources().openRawResource(R.raw.your_cert); // File path: app\\src\\main\\res\\raw\\your_cert.cer\r\n    \tCertificate ca = cf.generateCertificate(caInput);\r\n    \tcaInput.close();\r\n    \tKeyStore keyStore = KeyStore.getInstance(&quot;BKS&quot;);\r\n    \tkeyStore.load(null, null);\r\n    \tkeyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n    \tString tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n    \tTrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n    \ttmf.init(keyStore);\r\n    \tTrustManager[] wrappedTrustManagers = getWrappedTrustManagers(tmf.getTrustManagers());\r\n    \tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \tsslContext.init(null, wrappedTrustManagers, null);\r\n    \treturn sslContext.getSocketFactory();\r\n    }\r\n    ...\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-ssl.html","title":"Disable SSL certificate check in retrofit library","body":"<p>IMO, you can read <a href=\"https://developer.android.com/training/articles/security-ssl.html\" rel=\"noreferrer\">Google's documentation - Security with HTTPS and SSL</a>.</p>\n\n<p>About sample code to use Retrofit with your self-signed certificate, please try the following, hope it helps!</p>\n\n<pre><code>...\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    try{\n        OkHttpClient client = new OkHttpClient.Builder()\n                .sslSocketFactory(getSSLSocketFactory())\n                .hostnameVerifier(getHostnameVerifier())\n                .build();\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(API_URL_BASE)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .build();\n\n        WebAPIService service = retrofit.create(WebAPIService.class);\n\n        Call&lt;JsonObject&gt; jsonObjectCall = service.getData(...);\n        ...\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n// for SSL...    \n// Read more at https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs\nprivate HostnameVerifier getHostnameVerifier() {\n    return new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession session) {\n            return true; // verify always returns true, which could cause insecure network traffic due to trusting TLS/SSL server certificates for wrong hostnames\n            //HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\n            //return hv.verify(\"localhost\", session);\n        }\n    };\n}        \n\nprivate TrustManager[] getWrappedTrustManagers(TrustManager[] trustManagers) {\n    final X509TrustManager originalTrustManager = (X509TrustManager) trustManagers[0];\n    return new TrustManager[]{\n            new X509TrustManager() {\n                public X509Certificate[] getAcceptedIssuers() {\n                    return originalTrustManager.getAcceptedIssuers();\n                }\n\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                    try {\n                        if (certs != null &amp;&amp; certs.length &gt; 0){\n                            certs[0].checkValidity();\n                        } else {\n                            originalTrustManager.checkClientTrusted(certs, authType);\n                        }\n                    } catch (CertificateException e) {\n                        Log.w(\"checkClientTrusted\", e.toString());\n                    }\n                }\n\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                    try {\n                        if (certs != null &amp;&amp; certs.length &gt; 0){\n                            certs[0].checkValidity();\n                        } else {\n                            originalTrustManager.checkServerTrusted(certs, authType);\n                        }\n                    } catch (CertificateException e) {\n                        Log.w(\"checkServerTrusted\", e.toString());\n                    }\n                }\n            }\n    };\n}\n\nprivate SSLSocketFactory getSSLSocketFactory()\n        throws CertificateException, KeyStoreException, IOException,\n        NoSuchAlgorithmException, KeyManagementException {\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n    InputStream caInput = getResources().openRawResource(R.raw.your_cert); // File path: app\\src\\main\\res\\raw\\your_cert.cer\n    Certificate ca = cf.generateCertificate(caInput);\n    caInput.close();\n    KeyStore keyStore = KeyStore.getInstance(\"BKS\");\n    keyStore.load(null, null);\n    keyStore.setCertificateEntry(\"ca\", ca);\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\n    tmf.init(keyStore);\n    TrustManager[] wrappedTrustManagers = getWrappedTrustManagers(tmf.getTrustManagers());\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(null, wrappedTrustManagers, null);\n    return sslContext.getSocketFactory();\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1679561177,"creation_date":1486718664,"answer_id":42155739,"question_id":37686625,"body_markdown":"Use this class I copied from the answer at https://stackoverflow.com/questions/25509296/trusting-all-certificates-with-okhttp/25992879#25992879 to get unsafe Retrofit instance:\r\n\r\n```java\r\nimport java.security.cert.CertificateException;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\nimport okhttp3.OkHttpClient;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\nimport view.utils.AppConstants;\r\n\r\npublic class NetworkHandler {\r\n\r\n    public static Retrofit getRetrofit() {\r\n\r\n        return new Retrofit.Builder()\r\n                .baseUrl(AppConstants.BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(getUnsafeOkHttpClient())\r\n                .build();\r\n    }\r\n\r\n\r\n    private static OkHttpClient getUnsafeOkHttpClient() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            final TrustManager[] trustAllCerts = new TrustManager[] {\r\n                    new X509TrustManager() {\r\n                        @Override\r\n                        public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {\r\n                        }\r\n\r\n                        @Override\r\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                            return new java.security.cert.X509Certificate[]{};\r\n                        }\r\n                    }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.sslSocketFactory(sslSocketFactory);\r\n            builder.hostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            OkHttpClient okHttpClient = builder.build();\r\n            return okHttpClient;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then simply use retrofit without ssl check like this:\r\n\r\n```java\r\nprivate void postFeedbackOnServer() {\r\n\r\n    MyApiEndpointInterface apiService =\r\n            NetworkHandler.getRetrofit().create(MyApiEndpointInterface.class);\r\n\r\n    Call&lt;ResponseBE&gt; call = apiService.submitFeedbackToServer(requestObject);\r\n\r\n    Log.e(TAG ,  &quot;Request is&quot; + new Gson().toJson(requestObject).toString() );\r\n\r\n    call.enqueue(new Callback&lt;ResponseBE&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;ResponseBE&gt; call, Response&lt;ResponseBE&gt; response) {\r\n            int statusCode = response.code();\r\n\r\n            if (statusCode == HttpURLConnection.HTTP_OK) {\r\n\r\n          ......\r\n\r\n            } else {\r\n                Toast.makeText(FeedbackActivity.this, &quot;Failed to submit Data&quot; + statusCode, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;ResponseBE&gt; call, Throwable t) {\r\n\r\n            // Log error here since request failed\r\n            Toast.makeText(FeedbackActivity.this, &quot;Failure&quot; + t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n}\r\n```","title":"Disable SSL certificate check in retrofit library","body":"<p>Use this class I copied from the answer at <a href=\"https://stackoverflow.com/questions/25509296/trusting-all-certificates-with-okhttp/25992879#25992879\">Trusting all certificates with okHttp</a> to get unsafe Retrofit instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.cert.CertificateException;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport okhttp3.OkHttpClient;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\nimport view.utils.AppConstants;\n\npublic class NetworkHandler {\n\n    public static Retrofit getRetrofit() {\n\n        return new Retrofit.Builder()\n                .baseUrl(AppConstants.BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(getUnsafeOkHttpClient())\n                .build();\n    }\n\n\n    private static OkHttpClient getUnsafeOkHttpClient() {\n        try {\n            // Create a trust manager that does not validate certificate chains\n            final TrustManager[] trustAllCerts = new TrustManager[] {\n                    new X509TrustManager() {\n                        @Override\n                        public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {\n                        }\n\n                        @Override\n                        public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {\n                        }\n\n                        @Override\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                            return new java.security.cert.X509Certificate[]{};\n                        }\n                    }\n            };\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n            // Create an ssl socket factory with our all-trusting manager\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\n            builder.sslSocketFactory(sslSocketFactory);\n            builder.hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n\n            OkHttpClient okHttpClient = builder.build();\n            return okHttpClient;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And then simply use retrofit without ssl check like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void postFeedbackOnServer() {\n\n    MyApiEndpointInterface apiService =\n            NetworkHandler.getRetrofit().create(MyApiEndpointInterface.class);\n\n    Call&lt;ResponseBE&gt; call = apiService.submitFeedbackToServer(requestObject);\n\n    Log.e(TAG ,  &quot;Request is&quot; + new Gson().toJson(requestObject).toString() );\n\n    call.enqueue(new Callback&lt;ResponseBE&gt;() {\n        @Override\n        public void onResponse(Call&lt;ResponseBE&gt; call, Response&lt;ResponseBE&gt; response) {\n            int statusCode = response.code();\n\n            if (statusCode == HttpURLConnection.HTTP_OK) {\n\n          ......\n\n            } else {\n                Toast.makeText(FeedbackActivity.this, &quot;Failed to submit Data&quot; + statusCode, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;ResponseBE&gt; call, Throwable t) {\n\n            // Log error here since request failed\n            Toast.makeText(FeedbackActivity.this, &quot;Failure&quot; + t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1539262433,"creation_date":1539262433,"answer_id":52760579,"question_id":37686625,"body_markdown":"The syntax has changed a little since Hitesh Sahu&#39;s answer was posted. Now you can use lambdas for some of the methods, remove some throw clauses and chain builder method invocations.\r\n\r\n    private static OkHttpClient createOkHttpClient() {\r\n        try {\r\n            final TrustManager[] trustAllCerts = new TrustManager[] {\r\n                    new X509TrustManager() {\r\n                        @Override\r\n                        public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n                        @Override\r\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                            return new java.security.cert.X509Certificate[]{};\r\n                        }\r\n                    }\r\n            };\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            return new OkHttpClient.Builder()\r\n                    .sslSocketFactory(sslContext.getSocketFactory())\r\n                    .hostnameVerifier((hostname, session) -&gt; true)\r\n                    .build();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"Disable SSL certificate check in retrofit library","body":"<p>The syntax has changed a little since Hitesh Sahu's answer was posted. Now you can use lambdas for some of the methods, remove some throw clauses and chain builder method invocations.</p>\n\n<pre><code>private static OkHttpClient createOkHttpClient() {\n    try {\n        final TrustManager[] trustAllCerts = new TrustManager[] {\n                new X509TrustManager() {\n                    @Override\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\n\n                    @Override\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                }\n        };\n        final SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n        sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n        return new OkHttpClient.Builder()\n                .sslSocketFactory(sslContext.getSocketFactory())\n                .hostnameVerifier((hostname, session) -&gt; true)\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5834741,"reputation":8404,"user_id":4598169,"accept_rate":80,"display_name":"Tarun Deep Attri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577714803,"creation_date":1577714803,"answer_id":59532160,"question_id":37686625,"body_markdown":"Adding code for doing same in Kotlin based on @Hitesh Sahu&#39;s answer : \r\n\r\n    fun getRetrofirApiService(currentBaseURL: String): YourAPIService{\r\n        val TIMEOUT = 2L\r\n        val logging = HttpLoggingInterceptor()\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY)\r\n\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(currentBaseURL)\r\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n            .addConverterFactory(NullOnEmptyConverterFactory())\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(createOkHttpClient())\r\n            .build()\r\n        return retrofit.create(APIService::class.java)\r\n    }\r\n\r\nNow create Http client for same as shown below :\r\n\r\n    private fun createOkHttpClient(): OkHttpClient {\r\n        return try {\r\n            val trustAllCerts: Array&lt;TrustManager&gt; = arrayOf(MyManager())\r\n            val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\r\n            sslContext.init(null, trustAllCerts, SecureRandom())\r\n            val logging = HttpLoggingInterceptor()\r\n            logging.level = HttpLoggingInterceptor.Level.BODY\r\n            OkHttpClient.Builder()\r\n                .sslSocketFactory(sslContext.getSocketFactory())\r\n                .addInterceptor(logging)\r\n                .hostnameVerifier { hostname: String?, session: SSLSession? -&gt; true }\r\n                .build()\r\n        } catch (e: Exception) {\r\n            throw RuntimeException(e)\r\n        }\r\n    }\r\n\r\nMyManager class is as shown below : \r\n\r\n    class MyManager : X509TrustManager {\r\n\r\n        override fun checkServerTrusted(\r\n            p0: Array&lt;out java.security.cert.X509Certificate&gt;?,\r\n            p1: String?\r\n        ) {\r\n            //allow all\r\n        }\r\n\r\n        override fun checkClientTrusted(\r\n            p0: Array&lt;out java.security.cert.X509Certificate&gt;?,\r\n            p1: String?\r\n        ) {\r\n            //allow all\r\n        }\r\n\r\n        override fun getAcceptedIssuers(): Array&lt;java.security.cert.X509Certificate&gt; {\r\n            return arrayOf()\r\n        }\r\n    }\r\n\r\nImports for same are as shown below : \r\n\r\n    \timport okhttp3.MediaType\r\n\t\timport okhttp3.OkHttpClient\r\n\t\timport okhttp3.RequestBody\r\n\t\timport okhttp3.logging.HttpLoggingInterceptor\r\n\t\timport retrofit2.Retrofit\r\n\t\timport retrofit2.adapter.rxjava2.Result\r\n\t\timport retrofit2.adapter.rxjava2.RxJava2CallAdapterFactory\r\n\t\timport retrofit2.converter.gson.GsonConverterFactory\r\n\t\timport java.security.SecureRandom\r\n\t\timport java.util.concurrent.TimeUnit\r\n\t\timport javax.net.ssl.SSLContext\r\n\t\timport javax.net.ssl.SSLSession\r\n\t\timport javax.net.ssl.TrustManager\r\n        import javax.net.ssl.X509TrustManager","title":"Disable SSL certificate check in retrofit library","body":"<p>Adding code for doing same in Kotlin based on @Hitesh Sahu's answer : </p>\n\n<pre><code>fun getRetrofirApiService(currentBaseURL: String): YourAPIService{\n    val TIMEOUT = 2L\n    val logging = HttpLoggingInterceptor()\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY)\n\n    val retrofit = Retrofit.Builder()\n        .baseUrl(currentBaseURL)\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(NullOnEmptyConverterFactory())\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(createOkHttpClient())\n        .build()\n    return retrofit.create(APIService::class.java)\n}\n</code></pre>\n\n<p>Now create Http client for same as shown below :</p>\n\n<pre><code>private fun createOkHttpClient(): OkHttpClient {\n    return try {\n        val trustAllCerts: Array&lt;TrustManager&gt; = arrayOf(MyManager())\n        val sslContext = SSLContext.getInstance(\"SSL\")\n        sslContext.init(null, trustAllCerts, SecureRandom())\n        val logging = HttpLoggingInterceptor()\n        logging.level = HttpLoggingInterceptor.Level.BODY\n        OkHttpClient.Builder()\n            .sslSocketFactory(sslContext.getSocketFactory())\n            .addInterceptor(logging)\n            .hostnameVerifier { hostname: String?, session: SSLSession? -&gt; true }\n            .build()\n    } catch (e: Exception) {\n        throw RuntimeException(e)\n    }\n}\n</code></pre>\n\n<p>MyManager class is as shown below : </p>\n\n<pre><code>class MyManager : X509TrustManager {\n\n    override fun checkServerTrusted(\n        p0: Array&lt;out java.security.cert.X509Certificate&gt;?,\n        p1: String?\n    ) {\n        //allow all\n    }\n\n    override fun checkClientTrusted(\n        p0: Array&lt;out java.security.cert.X509Certificate&gt;?,\n        p1: String?\n    ) {\n        //allow all\n    }\n\n    override fun getAcceptedIssuers(): Array&lt;java.security.cert.X509Certificate&gt; {\n        return arrayOf()\n    }\n}\n</code></pre>\n\n<p>Imports for same are as shown below : </p>\n\n<pre><code>    import okhttp3.MediaType\n    import okhttp3.OkHttpClient\n    import okhttp3.RequestBody\n    import okhttp3.logging.HttpLoggingInterceptor\n    import retrofit2.Retrofit\n    import retrofit2.adapter.rxjava2.Result\n    import retrofit2.adapter.rxjava2.RxJava2CallAdapterFactory\n    import retrofit2.converter.gson.GsonConverterFactory\n    import java.security.SecureRandom\n    import java.util.concurrent.TimeUnit\n    import javax.net.ssl.SSLContext\n    import javax.net.ssl.SSLSession\n    import javax.net.ssl.TrustManager\n    import javax.net.ssl.X509TrustManager\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1597335197,"creation_date":1597335197,"answer_id":63399149,"question_id":37686625,"body_markdown":"In my case I solved like this with kotlin:\r\n\r\n    object Instance {\r\n    \r\n        private const val BASE_URL: String = &quot;https://base_url/&quot;\r\n    \r\n        val service: Service by lazy {\r\n            Retrofit\r\n                .Builder()\r\n                .baseUrl(BASE_URL)\r\n                .client(getUnsafeOkHttpClient())\r\n                .build().create(Service::class.java)\r\n        }\r\n        private fun getUnsafeOkHttpClient(): OkHttpClient? {\r\n            return try {\r\n                // Create a trust manager that does not validate certificate chains\r\n                val trustAllCerts = arrayOf&lt;TrustManager&gt;(\r\n                    object : X509TrustManager {\r\n                        @Throws(CertificateException::class)\r\n                        override fun checkClientTrusted(\r\n                            chain: Array&lt;X509Certificate?&gt;?,\r\n                            authType: String?\r\n                        ) {\r\n                        }\r\n    \r\n                        @Throws(CertificateException::class)\r\n                        override fun checkServerTrusted(\r\n                            chain: Array&lt;X509Certificate?&gt;?,\r\n                            authType: String?\r\n                        ) {\r\n                        }\r\n    \r\n                        override fun getAcceptedIssuers(): Array&lt;X509Certificate?&gt;? {\r\n                            return arrayOf()\r\n                        }\r\n                    }\r\n                )\r\n    \r\n                // Install the all-trusting trust manager\r\n                val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\r\n                sslContext.init(null, trustAllCerts, SecureRandom())\r\n                // Create an ssl socket factory with our all-trusting manager\r\n                val sslSocketFactory = sslContext.socketFactory\r\n                val trustManagerFactory: TrustManagerFactory =\r\n                    TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\r\n                trustManagerFactory.init(null as KeyStore?)\r\n                val trustManagers: Array&lt;TrustManager&gt; =\r\n                    trustManagerFactory.trustManagers\r\n                check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\r\n                    &quot;Unexpected default trust managers:&quot; + trustManagers.contentToString()\r\n                }\r\n    \r\n                val trustManager =\r\n                    trustManagers[0] as X509TrustManager\r\n    \r\n    \r\n                val builder = OkHttpClient.Builder()\r\n                builder.sslSocketFactory(sslSocketFactory, trustManager)\r\n                builder.hostnameVerifier(HostnameVerifier { _, _ -&gt; true })\r\n                builder.build()\r\n            } catch (e: Exception) {\r\n                throw RuntimeException(e)\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Disable SSL certificate check in retrofit library","body":"<p>In my case I solved like this with kotlin:</p>\n<pre><code>object Instance {\n\n    private const val BASE_URL: String = &quot;https://base_url/&quot;\n\n    val service: Service by lazy {\n        Retrofit\n            .Builder()\n            .baseUrl(BASE_URL)\n            .client(getUnsafeOkHttpClient())\n            .build().create(Service::class.java)\n    }\n    private fun getUnsafeOkHttpClient(): OkHttpClient? {\n        return try {\n            // Create a trust manager that does not validate certificate chains\n            val trustAllCerts = arrayOf&lt;TrustManager&gt;(\n                object : X509TrustManager {\n                    @Throws(CertificateException::class)\n                    override fun checkClientTrusted(\n                        chain: Array&lt;X509Certificate?&gt;?,\n                        authType: String?\n                    ) {\n                    }\n\n                    @Throws(CertificateException::class)\n                    override fun checkServerTrusted(\n                        chain: Array&lt;X509Certificate?&gt;?,\n                        authType: String?\n                    ) {\n                    }\n\n                    override fun getAcceptedIssuers(): Array&lt;X509Certificate?&gt;? {\n                        return arrayOf()\n                    }\n                }\n            )\n\n            // Install the all-trusting trust manager\n            val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\n            sslContext.init(null, trustAllCerts, SecureRandom())\n            // Create an ssl socket factory with our all-trusting manager\n            val sslSocketFactory = sslContext.socketFactory\n            val trustManagerFactory: TrustManagerFactory =\n                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\n            trustManagerFactory.init(null as KeyStore?)\n            val trustManagers: Array&lt;TrustManager&gt; =\n                trustManagerFactory.trustManagers\n            check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\n                &quot;Unexpected default trust managers:&quot; + trustManagers.contentToString()\n            }\n\n            val trustManager =\n                trustManagers[0] as X509TrustManager\n\n\n            val builder = OkHttpClient.Builder()\n            builder.sslSocketFactory(sslSocketFactory, trustManager)\n            builder.hostnameVerifier(HostnameVerifier { _, _ -&gt; true })\n            builder.build()\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988279,"reputation":7009,"user_id":1782954,"accept_rate":71,"display_name":"javabeangrinder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597414552,"creation_date":1597414552,"answer_id":63414523,"question_id":37686625,"body_markdown":"I tried @whirlwin&#39;s solution on this page but that didn&#39;t work with java 9+. Some small changes resulted in this:\r\n\r\n        private static OkHttpClient createTrustingOkHttpClient() {\r\n        try {\r\n            X509TrustManager x509TrustManager = new X509TrustManager() {\r\n                @Override\r\n                public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n                @Override\r\n                public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n                @Override\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return new java.security.cert.X509Certificate[]{};\r\n                }\r\n            };\r\n            final TrustManager[] trustAllCerts = new TrustManager[] {\r\n                    x509TrustManager\r\n            };\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            return new OkHttpClient.Builder()\r\n                    .sslSocketFactory(sslContext.getSocketFactory(), x509TrustManager)\r\n                    .hostnameVerifier((hostname, session) -&gt; true)\r\n                    .build();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nAnd this worked for me as you can imagine. Happy days! Still, be careful when using this.","title":"Disable SSL certificate check in retrofit library","body":"<p>I tried @whirlwin's solution on this page but that didn't work with java 9+. Some small changes resulted in this:</p>\n<pre><code>    private static OkHttpClient createTrustingOkHttpClient() {\n    try {\n        X509TrustManager x509TrustManager = new X509TrustManager() {\n            @Override\n            public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\n\n            @Override\n            public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {}\n\n            @Override\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return new java.security.cert.X509Certificate[]{};\n            }\n        };\n        final TrustManager[] trustAllCerts = new TrustManager[] {\n                x509TrustManager\n        };\n        final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n        sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n        return new OkHttpClient.Builder()\n                .sslSocketFactory(sslContext.getSocketFactory(), x509TrustManager)\n                .hostnameVerifier((hostname, session) -&gt; true)\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>And this worked for me as you can imagine. Happy days! Still, be careful when using this.</p>\n"}],"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60931,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":7,"score":31,"last_activity_date":1679561177,"creation_date":1465323796,"question_id":37686625,"body_markdown":"I am using retrofit in android to connect with server.\r\n\r\n    public class ApiClient {\r\n        public static final String BASE_URL = &quot;https://example.com/&quot;;\r\n        private static Retrofit retrofit = null;\r\n    \r\n        public static Retrofit getClient() {\r\n            if (retrofit==null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n\r\nThis is my dev. server and I want to disable certificate check. How can I implement in this code?\r\n\r\n&gt;ERROR: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.","title":"Disable SSL certificate check in retrofit library","body":"<p>I am using retrofit in android to connect with server.</p>\n\n<pre><code>public class ApiClient {\n    public static final String BASE_URL = \"https://example.com/\";\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit==null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n\n<p>This is my dev. server and I want to disable certificate check. How can I implement in this code?</p>\n\n<blockquote>\n  <p>ERROR: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.</p>\n</blockquote>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":28093969,"reputation":19,"user_id":21463054,"display_name":"Natty123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679560661,"creation_date":1679560661,"answer_id":75820752,"question_id":75820722,"body_markdown":"One of the possible alternate solution is native query that works perfectly","title":"can do this with JPA / Hibernate using from for fn name","body":"<p>One of the possible alternate solution is native query that works perfectly</p>\n"}],"owner":{"account_id":28093969,"reputation":19,"user_id":21463054,"display_name":"Natty123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679624102,"answer_count":1,"score":0,"last_activity_date":1679561167,"creation_date":1679560437,"question_id":75820722,"body_markdown":"```sql\r\nSELECT col11,col12,col13\r\nFROM table(schema.fn_name(param1,param2,param3))\r\nORDER BY col11,col12;\r\n```\r\n\r\nthe query can display other additional field (xyz) as well, although there is no such column. I can do this with callable statement","title":"can do this with JPA / Hibernate using from for fn name","body":"<pre class=\"lang-sql prettyprint-override\"><code>SELECT col11,col12,col13\nFROM table(schema.fn_name(param1,param2,param3))\nORDER BY col11,col12;\n</code></pre>\n<p>the query can display other additional field (xyz) as well, although there is no such column. I can do this with callable statement</p>\n"},{"tags":["java","generics","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679560868,"creation_date":1679560868,"answer_id":75820782,"question_id":75817512,"body_markdown":"While it would be possible to implement an elaborate mapping between XML configuration and implied generics (after all, if you declare your interface to have a `&lt;R&gt;` type variable, that&#39;s *&quot;probably&quot;* the `Record` type), this isn&#39;t being done:\r\n\r\n1. It seems brittle and incomplete. Very quickly, additional edge cases arise that wouldn&#39;t be covered, and this would quickly turn into a maintenance nightmare\r\n2. You probably don&#39;t actually need the generic type on your interface\r\n3. If you really do, you can still implement a [programmatic generator strategy][1], where you&#39;re in full control of the exact string being generated for those super types.\r\n\r\n\r\nA bit more info on 2), you don&#39;t need the generic type on your interface. Just declare them like this:\r\n\r\n```java\r\npublic interface MyView {\r\n    default Field&lt;Integer&gt; get_MY_RECORD_COLUMN() {\r\n        return (Field&lt;Integer&gt;) this.field(&quot;my_record_column&quot;);\r\n    }\r\n...\r\n}\r\npublic interface MyRecord {\r\n    public void setMyRecordColumn(Integer value);\r\n...\r\n}\r\n```\r\n\r\nThe interfaces will be mixed in to your generated code. This should be good enough for most cases, I would think?\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/","title":"Implementing Interfaces with Generics in Jooq","body":"<p>While it would be possible to implement an elaborate mapping between XML configuration and implied generics (after all, if you declare your interface to have a <code>&lt;R&gt;</code> type variable, that's <em>&quot;probably&quot;</em> the <code>Record</code> type), this isn't being done:</p>\n<ol>\n<li>It seems brittle and incomplete. Very quickly, additional edge cases arise that wouldn't be covered, and this would quickly turn into a maintenance nightmare</li>\n<li>You probably don't actually need the generic type on your interface</li>\n<li>If you really do, you can still implement a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\" rel=\"nofollow noreferrer\">programmatic generator strategy</a>, where you're in full control of the exact string being generated for those super types.</li>\n</ol>\n<p>A bit more info on 2), you don't need the generic type on your interface. Just declare them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyView {\n    default Field&lt;Integer&gt; get_MY_RECORD_COLUMN() {\n        return (Field&lt;Integer&gt;) this.field(&quot;my_record_column&quot;);\n    }\n...\n}\npublic interface MyRecord {\n    public void setMyRecordColumn(Integer value);\n...\n}\n</code></pre>\n<p>The interfaces will be mixed in to your generated code. This should be good enough for most cases, I would think?</p>\n"}],"owner":{"account_id":17056088,"reputation":43,"user_id":12340586,"display_name":"Nickdom1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75820782,"answer_count":1,"score":2,"last_activity_date":1679560868,"creation_date":1679521475,"question_id":75817512,"body_markdown":"I have several dozen generated JOOQ tables representing views in my MySQL database, all with matching columns. I want to operate on these views generically - so I used a [generator strategy](https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/) below to implement Interfaces guaranteeing underlying fields:\r\n```\r\n&lt;strategy&gt;\r\n  &lt;matchers&gt;\r\n    &lt;tables&gt;\r\n      &lt;table&gt;\r\n        &lt;expression&gt;V_.*_TO.*&lt;/expression&gt;\r\n        &lt;tableImplements&gt;MyView&lt;/tableImplements&gt;\r\n        &lt;recordImplements&gt;MyRecord&lt;/recordImplements&gt;\r\n      &lt;/table&gt;\r\n    &lt;/tables&gt;\r\n  &lt;/matchers&gt;\r\n&lt;/strategy&gt;\r\n```\r\nHere&#39;s what my interfaces look like:\r\n```\r\npublic interface MyView&lt;R extends TableRecord&gt; extends Table&lt;R&gt; {\r\n    default TableField&lt;MyRecord, Integer&gt; get_MY_RECORD_COLUMN() {\r\n        return (TableField&lt;MyRecord, Integer&gt;) this.field(&quot;my_record_column&quot;);\r\n    }\r\n...\r\n}\r\n```\r\n```\r\npublic interface MyRecord&lt;R extends UpdatableRecord&lt;R&gt;&gt; extends UpdatableRecord&lt;R&gt; {\r\n    public void setMyRecordColumn(Integer value);\r\n...\r\n}\r\n```\r\nHere&#39;s what JOOQ generates:\r\n```\r\npublic class VMyGeneratedView extends TableImpl&lt;VMyGeneratedRecord&gt; implements MyView {\r\n...\r\n}\r\n```\r\n```\r\npublic class VMyGeneratedRecord extends TableRecordImpl&lt;VMyGeneratedRecord&gt; implements MyRecord, Record8&lt;Integer, Integer, Integer, String, Integer, Integer, Integer, String&gt; {\r\n...\r\n}\r\n```\r\nI had my interfaces extend `TableRecord` / `Table` above to access the underlying fields. Since both `MyView` and `TableImpl` implement an underlying `Table`, their generic arguments MUST match (same problem for `MyRecord`).\r\n\r\nThe generated tables will only work if I hand edit like so:\r\n```\r\npublic class VMyGeneratedView extends TableImpl&lt;VMyGeneratedRecord&gt; implements MyView&lt;VMyGeneratedRecord&gt; {\r\n...\r\n}\r\n```\r\n```\r\npublic class VMyGeneratedRecord extends TableRecordImpl&lt;VMyGeneratedRecord&gt; implements MyRecord&lt;VMyGeneratedRecord&gt;, Record8&lt;Integer, Integer, Integer, String, Integer, Integer, Integer, String&gt; {\r\n...\r\n}\r\n```\r\nHow do I configure JOOQ to inject the generics I need? Is there a better way to do this?","title":"Implementing Interfaces with Generics in Jooq","body":"<p>I have several dozen generated JOOQ tables representing views in my MySQL database, all with matching columns. I want to operate on these views generically - so I used a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/\" rel=\"nofollow noreferrer\">generator strategy</a> below to implement Interfaces guaranteeing underlying fields:</p>\n<pre><code>&lt;strategy&gt;\n  &lt;matchers&gt;\n    &lt;tables&gt;\n      &lt;table&gt;\n        &lt;expression&gt;V_.*_TO.*&lt;/expression&gt;\n        &lt;tableImplements&gt;MyView&lt;/tableImplements&gt;\n        &lt;recordImplements&gt;MyRecord&lt;/recordImplements&gt;\n      &lt;/table&gt;\n    &lt;/tables&gt;\n  &lt;/matchers&gt;\n&lt;/strategy&gt;\n</code></pre>\n<p>Here's what my interfaces look like:</p>\n<pre><code>public interface MyView&lt;R extends TableRecord&gt; extends Table&lt;R&gt; {\n    default TableField&lt;MyRecord, Integer&gt; get_MY_RECORD_COLUMN() {\n        return (TableField&lt;MyRecord, Integer&gt;) this.field(&quot;my_record_column&quot;);\n    }\n...\n}\n</code></pre>\n<pre><code>public interface MyRecord&lt;R extends UpdatableRecord&lt;R&gt;&gt; extends UpdatableRecord&lt;R&gt; {\n    public void setMyRecordColumn(Integer value);\n...\n}\n</code></pre>\n<p>Here's what JOOQ generates:</p>\n<pre><code>public class VMyGeneratedView extends TableImpl&lt;VMyGeneratedRecord&gt; implements MyView {\n...\n}\n</code></pre>\n<pre><code>public class VMyGeneratedRecord extends TableRecordImpl&lt;VMyGeneratedRecord&gt; implements MyRecord, Record8&lt;Integer, Integer, Integer, String, Integer, Integer, Integer, String&gt; {\n...\n}\n</code></pre>\n<p>I had my interfaces extend <code>TableRecord</code> / <code>Table</code> above to access the underlying fields. Since both <code>MyView</code> and <code>TableImpl</code> implement an underlying <code>Table</code>, their generic arguments MUST match (same problem for <code>MyRecord</code>).</p>\n<p>The generated tables will only work if I hand edit like so:</p>\n<pre><code>public class VMyGeneratedView extends TableImpl&lt;VMyGeneratedRecord&gt; implements MyView&lt;VMyGeneratedRecord&gt; {\n...\n}\n</code></pre>\n<pre><code>public class VMyGeneratedRecord extends TableRecordImpl&lt;VMyGeneratedRecord&gt; implements MyRecord&lt;VMyGeneratedRecord&gt;, Record8&lt;Integer, Integer, Integer, String, Integer, Integer, Integer, String&gt; {\n...\n}\n</code></pre>\n<p>How do I configure JOOQ to inject the generics I need? Is there a better way to do this?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"answers":[{"tags":[],"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679560797,"creation_date":1679532288,"answer_id":75818397,"question_id":74893013,"body_markdown":"Are the UserDetailService users being created? Perhaps the default user with autogenerated password (printed in console as INFO level log) is the only user that exists in the system.\r\n\r\nOutput for me looks like below:\r\n\r\n    2023-03-23T08:26:56.826+08:00  INFO 36604 --- [           main] ctiveUserDetailsServiceAutoConfiguration :\r\n    \r\n    Using generated security password: 89113256-0a54-4fec-84bb-872d48506f4e","title":"Spring - Registering new user in existing UserDetailsService bean within autoconfiguration class","body":"<p>Are the UserDetailService users being created? Perhaps the default user with autogenerated password (printed in console as INFO level log) is the only user that exists in the system.</p>\n<p>Output for me looks like below:</p>\n<pre><code>2023-03-23T08:26:56.826+08:00  INFO 36604 --- [           main] ctiveUserDetailsServiceAutoConfiguration :\n\nUsing generated security password: 89113256-0a54-4fec-84bb-872d48506f4e\n</code></pre>\n"}],"owner":{"account_id":15912864,"reputation":215,"user_id":11482353,"display_name":"Adrian Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679560797,"creation_date":1671736892,"question_id":74893013,"body_markdown":"So, I have the following scenario: I need to configure Spring Security for the Actuator endpoints. All this should be in an external library, as part of an autoconfiguration class dependent on a certain property. Access to some of those endpoints should only be allowed for a special role (I&#39;ve configured an `InMemoryUserDetailsManager` just for the sake of it). \r\n\r\nThe applications using this external library can have their own security configurations. If the `UserDetailsService` bean does not exist in the app context the autoconfigured one is created. The problem is the following - if I declare an `UserDetailsService` in the app configuration, the autoconfiguration class updates it with the actuator admin user (and I can see that both users exist): the security configuration is all messed up though (I am getting 401 when using the correct credentials). \r\n\r\nDoes anyone know how to manage this?\r\n\r\nThe autoconfiguration class (in external library - Kotlin):\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties(Props::class)\r\n    @ConditionalOnProperty(prefix = Props.PROPERTY_PREFIX, name = [&quot;securityEnabled&quot;])\r\n    @ConditionalOnWebApplication(type = SERVLET)\r\n    open class ActuatorSecurityAutoConfiguration(private val props: Props) {\r\n    \r\n    @Bean\r\n    @ConditionalOnMissingBean(PasswordEncoder::class)\r\n    public open fun passwordEncoder(): PasswordEncoder {\r\n        return BCryptPasswordEncoder()\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnBean(UserDetailsService::class)\r\n    public open fun actuatorUserDetailsManager(passwordEncoder: PasswordEncoder,\r\n                                               userDetailsManager: UserDetailsManager): UserDetailsManager {\r\n        userDetailsManager.createUser(\r\n                User.withUsername(props.username)\r\n                        .password(props.password)\r\n                        .passwordEncoder(passwordEncoder::encode)\r\n                        .roles(ACTUATOR_USER_ROLE)\r\n                        .build())\r\n        \r\n        return userDetailsManager\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(UserDetailsService::class)\r\n    public open fun defaultActuatorUserDetailsManager(passwordEncoder: PasswordEncoder): UserDetailsManager {\r\n        return InMemoryUserDetailsManager(listOf(\r\n                User.withUsername(props.username)\r\n                        .password(props.password)\r\n                        .passwordEncoder(passwordEncoder::encode)\r\n                        .roles(ACTUATOR_USER_ROLE)\r\n                        .build()\r\n        ))\r\n    }\r\n\r\n    @Bean\r\n    @Throws(Exception::class)\r\n    @Order(100) //the order is not respected as this is loaded after the main config class\r\n    public open fun actuatorSecurityFilterChain(httpSecurity: HttpSecurity): SecurityFilterChain {\r\n        httpSecurity\r\n                .antMatcher(&quot;/actuator/**&quot;)\r\n                .authorizeHttpRequests {\r\n                    it.antMatchers(&quot;/actuator/info&quot;, &quot;/actuator/health&quot;).permitAll()\r\n                            .antMatchers(HttpMethod.OPTIONS).permitAll()\r\n                            .anyRequest().hasRole(ACTUATOR_USER_ROLE)\r\n                }\r\n                .headers().disable()\r\n                .csrf().disable()\r\n                .httpBasic()\r\n\r\n        return httpSecurity.build()\r\n    }\r\n\r\nThe configuration class in the application using the external library:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n\r\n    @Value(&quot;${credentials.username}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${credentials.password}&quot;)\r\n    private String password;\r\n\r\n    @Value(&quot;${credentials.role}&quot;)\r\n    private String role;\r\n\r\n    private final AuthClient authClient;\r\n\r\n    public DashboardSecurityConfiguration(AuthClient authClient) {\r\n        this.authClient = authClient;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.antMatcher(&quot;/secure_endpoint/**&quot;)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .antMatchers(HttpMethod.OPTIONS).permitAll()\r\n                        .anyRequest().hasRole(role)\r\n                )\r\n                .authenticationProvider(new SsoAuthenticationProvider(authClient))\r\n                .addFilterBefore(new SsoTokenFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic();\r\n\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeHttpRequests(authorize -&gt; authorize\r\n                        .anyRequest().permitAll())\r\n                .headers().disable()\r\n                .csrf().disable();\r\n\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsManager() {\r\n        return new InMemoryUserDetailsManager(List.of(\r\n                createUser(username, password, role)\r\n        ));\r\n    }\r\n\r\n    private UserDetails createUser(String username, String password, String... roles) {\r\n        return User.builder()\r\n                .username(username)\r\n                .password(passwordEncoder().encode(password))\r\n                .roles(roles)\r\n                .build();\r\n    }\r\n\r\napplication.properties:\r\n\r\n    prefix.securityEnabled=true\r\n\r\nI can access `/actuator` endpoints without issues (even the secured paths) if I comment out the `UserDetailsService` in the Java application, but I can no longer access them (including `/secure_endpoint`) once I include it back in. \r\n\r\nAny thoughts? Many thanks!","title":"Spring - Registering new user in existing UserDetailsService bean within autoconfiguration class","body":"<p>So, I have the following scenario: I need to configure Spring Security for the Actuator endpoints. All this should be in an external library, as part of an autoconfiguration class dependent on a certain property. Access to some of those endpoints should only be allowed for a special role (I've configured an <code>InMemoryUserDetailsManager</code> just for the sake of it).</p>\n<p>The applications using this external library can have their own security configurations. If the <code>UserDetailsService</code> bean does not exist in the app context the autoconfigured one is created. The problem is the following - if I declare an <code>UserDetailsService</code> in the app configuration, the autoconfiguration class updates it with the actuator admin user (and I can see that both users exist): the security configuration is all messed up though (I am getting 401 when using the correct credentials).</p>\n<p>Does anyone know how to manage this?</p>\n<p>The autoconfiguration class (in external library - Kotlin):</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties(Props::class)\n@ConditionalOnProperty(prefix = Props.PROPERTY_PREFIX, name = [&quot;securityEnabled&quot;])\n@ConditionalOnWebApplication(type = SERVLET)\nopen class ActuatorSecurityAutoConfiguration(private val props: Props) {\n\n@Bean\n@ConditionalOnMissingBean(PasswordEncoder::class)\npublic open fun passwordEncoder(): PasswordEncoder {\n    return BCryptPasswordEncoder()\n}\n\n@Bean\n@ConditionalOnBean(UserDetailsService::class)\npublic open fun actuatorUserDetailsManager(passwordEncoder: PasswordEncoder,\n                                           userDetailsManager: UserDetailsManager): UserDetailsManager {\n    userDetailsManager.createUser(\n            User.withUsername(props.username)\n                    .password(props.password)\n                    .passwordEncoder(passwordEncoder::encode)\n                    .roles(ACTUATOR_USER_ROLE)\n                    .build())\n    \n    return userDetailsManager\n}\n\n@Bean\n@ConditionalOnMissingBean(UserDetailsService::class)\npublic open fun defaultActuatorUserDetailsManager(passwordEncoder: PasswordEncoder): UserDetailsManager {\n    return InMemoryUserDetailsManager(listOf(\n            User.withUsername(props.username)\n                    .password(props.password)\n                    .passwordEncoder(passwordEncoder::encode)\n                    .roles(ACTUATOR_USER_ROLE)\n                    .build()\n    ))\n}\n\n@Bean\n@Throws(Exception::class)\n@Order(100) //the order is not respected as this is loaded after the main config class\npublic open fun actuatorSecurityFilterChain(httpSecurity: HttpSecurity): SecurityFilterChain {\n    httpSecurity\n            .antMatcher(&quot;/actuator/**&quot;)\n            .authorizeHttpRequests {\n                it.antMatchers(&quot;/actuator/info&quot;, &quot;/actuator/health&quot;).permitAll()\n                        .antMatchers(HttpMethod.OPTIONS).permitAll()\n                        .anyRequest().hasRole(ACTUATOR_USER_ROLE)\n            }\n            .headers().disable()\n            .csrf().disable()\n            .httpBasic()\n\n    return httpSecurity.build()\n}\n</code></pre>\n<p>The configuration class in the application using the external library:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n@Value(&quot;${credentials.username}&quot;)\nprivate String username;\n\n@Value(&quot;${credentials.password}&quot;)\nprivate String password;\n\n@Value(&quot;${credentials.role}&quot;)\nprivate String role;\n\nprivate final AuthClient authClient;\n\npublic DashboardSecurityConfiguration(AuthClient authClient) {\n    this.authClient = authClient;\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\n@Order(1)\npublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.antMatcher(&quot;/secure_endpoint/**&quot;)\n            .authorizeHttpRequests(authorize -&gt; authorize\n                    .antMatchers(HttpMethod.OPTIONS).permitAll()\n                    .anyRequest().hasRole(role)\n            )\n            .authenticationProvider(new SsoAuthenticationProvider(authClient))\n            .addFilterBefore(new SsoTokenFilter(), UsernamePasswordAuthenticationFilter.class)\n            .httpBasic();\n\n    return httpSecurity.build();\n}\n\n@Bean\n@Order\npublic SecurityFilterChain defaultSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.authorizeHttpRequests(authorize -&gt; authorize\n                    .anyRequest().permitAll())\n            .headers().disable()\n            .csrf().disable();\n\n    return httpSecurity.build();\n}\n\n@Bean\npublic UserDetailsService userDetailsManager() {\n    return new InMemoryUserDetailsManager(List.of(\n            createUser(username, password, role)\n    ));\n}\n\nprivate UserDetails createUser(String username, String password, String... roles) {\n    return User.builder()\n            .username(username)\n            .password(passwordEncoder().encode(password))\n            .roles(roles)\n            .build();\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>prefix.securityEnabled=true\n</code></pre>\n<p>I can access <code>/actuator</code> endpoints without issues (even the secured paths) if I comment out the <code>UserDetailsService</code> in the Java application, but I can no longer access them (including <code>/secure_endpoint</code>) once I include it back in.</p>\n<p>Any thoughts? Many thanks!</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":996754,"reputation":2291,"user_id":1012497,"accept_rate":100,"display_name":"nikli"},"score":2,"creation_date":1463490249,"post_id":37276996,"comment_id":62079384,"body_markdown":"You may use http://stackoverflow.com/questions/289965/inserting-text-into-an-existing-file-via-java","body":"You may use <a href=\"http://stackoverflow.com/questions/289965/inserting-text-into-an-existing-file-via-java\" title=\"inserting text into an existing file via java\">stackoverflow.com/questions/289965/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7966237,"reputation":725,"user_id":6012392,"accept_rate":100,"display_name":"M. Suurland"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1463492314,"creation_date":1463490313,"answer_id":37277055,"question_id":37276996,"body_markdown":"In Java 7+ you can use the `Files` and `Path` class as following:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\r\n    lines.add(position, extraLine);\r\n    Files.write(path, lines, StandardCharsets.UTF_8);\r\n\r\nTo give an example:\r\n\r\n\tPath path = Paths.get(&quot;C:\\\\Users\\\\foo\\\\Downloads\\\\test.txt&quot;);\r\n\tList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\r\n\t\r\n    int position = lines.size() / 2;\r\n    String extraLine = &quot;This is an extraline&quot;;\t\r\n\r\n    lines.add(position, extraLine);\r\n    Files.write(path, lines, StandardCharsets.UTF_8);\r\n","title":"Java add text to a specific line in a file","body":"<p>In Java 7+ you can use the <code>Files</code> and <code>Path</code> class as following:</p>\n\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\nlines.add(position, extraLine);\nFiles.write(path, lines, StandardCharsets.UTF_8);\n</code></pre>\n\n<p>To give an example:</p>\n\n<pre><code>Path path = Paths.get(\"C:\\\\Users\\\\foo\\\\Downloads\\\\test.txt\");\nList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\n\nint position = lines.size() / 2;\nString extraLine = \"This is an extraline\";  \n\nlines.add(position, extraLine);\nFiles.write(path, lines, StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6497508,"reputation":11,"user_id":5029631,"display_name":"Daniel Gutierrez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463490564,"creation_date":1463490564,"answer_id":37277142,"question_id":37276996,"body_markdown":"You may read your file into an `ArrayList`, you can add elements in any position and manipulate all elements and its data, then you can write it again into file.\r\n\r\nPD: you can not add a line directly to the file, you just can read and write/append data to it, you must manipulte de data in memory and then write it again.\r\n\r\nlet me know if this is useful for you","title":"Java add text to a specific line in a file","body":"<p>You may read your file into an <code>ArrayList</code>, you can add elements in any position and manipulate all elements and its data, then you can write it again into file.</p>\n\n<p>PD: you can not add a line directly to the file, you just can read and write/append data to it, you must manipulte de data in memory and then write it again.</p>\n\n<p>let me know if this is useful for you</p>\n"}],"owner":{"account_id":4581280,"reputation":481,"user_id":3718160,"accept_rate":35,"display_name":"user3718160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15989,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37277055,"answer_count":2,"score":7,"last_activity_date":1679560590,"creation_date":1463490147,"question_id":37276996,"body_markdown":"I would like to know if it&#39;s possible to add a line in a File with Java.\r\n\r\nFor example myFile :\r\n\r\n    1: line 1\r\n    2: line 2\r\n    3: line 3\r\n    4: line 4\r\n\r\nI would like to add a line fox example in the third line so it would look like this\r\n\r\n    1: line 1\r\n    2: line 2\r\n    3: new line\r\n    4: line 3\r\n    5: line 4\r\n\r\nI found out how to add text in an empty file or at the end of the file but i don&#39;t know how to do it in the middle of the text without erasing the line.\r\n\r\nIs the another way than to cut the first file in 2 parts and then create a file add the first part the new line then the second part because that feels a bit extreme ?\r\n\r\nThank you","title":"Java add text to a specific line in a file","body":"<p>I would like to know if it's possible to add a line in a File with Java.</p>\n\n<p>For example myFile :</p>\n\n<pre><code>1: line 1\n2: line 2\n3: line 3\n4: line 4\n</code></pre>\n\n<p>I would like to add a line fox example in the third line so it would look like this</p>\n\n<pre><code>1: line 1\n2: line 2\n3: new line\n4: line 3\n5: line 4\n</code></pre>\n\n<p>I found out how to add text in an empty file or at the end of the file but i don't know how to do it in the middle of the text without erasing the line.</p>\n\n<p>Is the another way than to cut the first file in 2 parts and then create a file add the first part the new line then the second part because that feels a bit extreme ?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679562765,"post_id":75820656,"comment_id":133744850,"body_markdown":"First I would think about the shading. Why do both of these modules shade?","body":"First I would think about the shading. Why do both of these modules shade?"},{"owner":{"account_id":7365965,"reputation":655,"user_id":5607702,"accept_rate":80,"display_name":"K F"},"score":0,"creation_date":1679883472,"post_id":75820656,"comment_id":133795170,"body_markdown":"Not very sure about that. But Module A is a lib also used in other systems, so I guess that shade plugin was used to avoid conflict in other system.","body":"Not very sure about that. But Module A is a lib also used in other systems, so I guess that shade plugin was used to avoid conflict in other system."}],"owner":{"account_id":7365965,"reputation":655,"user_id":5607702,"accept_rate":80,"display_name":"K F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679559950,"creation_date":1679559950,"question_id":75820656,"body_markdown":"My team has a project containing two modules, A and B, and B depends on A. Because of another dependency of B, I need to ensure that B depends on Gson 2.8, but Gson 2.2 is in A&#39;s dependencies. The problem is that, when I used exclusion tag in in dependency of A, like following, it didn&#39;t work\r\n```xml\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThen I found that both A and B used maven-shade-plugin. And in A, `&lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;` was not set, so that gson 2.2 has been packed in A&#39;s jar. And I guess in module B, shade plugin probably selected the gson in A.jar directly, which is gson 2.2, and ignore both the maven dependency for gson 2.8 and exclusion for gson in dependency of A. I later add exclude setting directly in module A&#39;s shade plugin, and excluded gson 2.2 in A. Then I got corret final jar of B.\r\n\r\nSo my question is whether it&#39;s realy like what I guess, that maven-shade-plugin will pick up the dependent package in another shaded jar directly ingoring either depdency definition in current pom or exclusion of the dependency def of the shaded jar? And why? Or is it a bug?\r\n","title":"will maven shade plugin pick up dependencies in a shaded dependency jar directly?","body":"<p>My team has a project containing two modules, A and B, and B depends on A. Because of another dependency of B, I need to ensure that B depends on Gson 2.8, but Gson 2.2 is in A's dependencies. The problem is that, when I used exclusion tag in in dependency of A, like following, it didn't work</p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Then I found that both A and B used maven-shade-plugin. And in A, <code>&lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;</code> was not set, so that gson 2.2 has been packed in A's jar. And I guess in module B, shade plugin probably selected the gson in A.jar directly, which is gson 2.2, and ignore both the maven dependency for gson 2.8 and exclusion for gson in dependency of A. I later add exclude setting directly in module A's shade plugin, and excluded gson 2.2 in A. Then I got corret final jar of B.</p>\n<p>So my question is whether it's realy like what I guess, that maven-shade-plugin will pick up the dependent package in another shaded jar directly ingoring either depdency definition in current pom or exclusion of the dependency def of the shaded jar? And why? Or is it a bug?</p>\n"},{"tags":["java","android","xml","android-layout","styles"],"owner":{"account_id":22086285,"reputation":31,"user_id":16345082,"display_name":"di1um"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679559855,"creation_date":1679559855,"question_id":75820642,"body_markdown":"I have an Android app with a toolbar that displays a back button with a vector graphic of 24dp height and width. When there are back stacks in the app, the back button is displayed. Otherwise, there is a logo icon at the left corner of the toolbar.\r\n\r\nFor tablet devices, this displays correctly. However, for phones, there is always a space between the back button and the logo icon. I have used the same toolbar layout for both phones and tablets.\r\n\r\nIn the values/styles.xml file, I have set the max height and width of the toolbar button to 24dp. However, when I hover over the Widget.Toolbar.Button.Navigation style, it shows a minimum width of 56dp. This seems to be the cause of the problem, as it is not overriding the 24dp width I have set.\r\n\r\nCode lines:\r\n\r\n**Method calling the back button**\r\n\r\n```\r\nboolean canback = getSupportFragmentManager().getBackStackEntryCount() &gt; 0;\r\n        if (toolbarTop != null) {\r\n            if (canback) {\r\n\r\n                if(!getResources().getBoolean(R.bool.isSmallPortrait)) {\r\n                    toolbarTop.setNavigationIcon(R.drawable.back_btn_black);\r\n                }else {\r\n                    toolbarTop.setNavigationIcon(R.drawable.ic_baseline_arrow_back_ios_new_24_old);\r\n                }\r\n            } else {\r\n                toolbarTop.setNavigationIcon(null);\r\n            }\r\n        }\r\n```\r\n\r\n\r\n**values\\styles.xml\r\n**\r\n```\r\n&lt;style name=&quot;Widget.Toolbar.Button.NavigationV4&quot; parent=&quot;Widget.AppCompat.Toolbar.Button.Navigation&quot;&gt;\r\n        &lt;item name=&quot;android:maxHeight&quot;&gt;24dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:maxWidth&quot;&gt;24dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n```\r\n\r\n\r\n**Layout code for toolbar:**\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/coordinatorLayoutMain&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/toolbarBottom&quot;&gt;\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appbarlayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@drawable/toolbar_top_bg_gradient&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlayV4&quot;\r\n                app:contentInsetLeft=&quot;0dp&quot;\r\n                app:contentInsetStart=&quot;0dp&quot;\r\n                &gt;\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n\r\n\r\n                    &lt;ImageView\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        android:id=&quot;@+id/toolbar_client_logo&quot;\r\n                        android:layout_width=&quot;80dp&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:adjustViewBounds=&quot;true&quot;\r\n                        android:src=&quot;@drawable/logo&quot;\r\n                        /&gt;\r\n```\r\n\r\nI have tried several solutions, such as using a PNG with 24dp width, using the same PNG as in the tablet, using a different vector graphic, and setting the bounds and width/height in the class. However, none of these solutions have worked.\r\n\r\nHow can I override the minimum width of 56dp in the Widget.Toolbar.Button.Navigation style to display the back button with a lesser width on phones?","title":"How to adjust back button width in Android toolbar for different screen sizes?","body":"<p>I have an Android app with a toolbar that displays a back button with a vector graphic of 24dp height and width. When there are back stacks in the app, the back button is displayed. Otherwise, there is a logo icon at the left corner of the toolbar.</p>\n<p>For tablet devices, this displays correctly. However, for phones, there is always a space between the back button and the logo icon. I have used the same toolbar layout for both phones and tablets.</p>\n<p>In the values/styles.xml file, I have set the max height and width of the toolbar button to 24dp. However, when I hover over the Widget.Toolbar.Button.Navigation style, it shows a minimum width of 56dp. This seems to be the cause of the problem, as it is not overriding the 24dp width I have set.</p>\n<p>Code lines:</p>\n<p><strong>Method calling the back button</strong></p>\n<pre><code>boolean canback = getSupportFragmentManager().getBackStackEntryCount() &gt; 0;\n        if (toolbarTop != null) {\n            if (canback) {\n\n                if(!getResources().getBoolean(R.bool.isSmallPortrait)) {\n                    toolbarTop.setNavigationIcon(R.drawable.back_btn_black);\n                }else {\n                    toolbarTop.setNavigationIcon(R.drawable.ic_baseline_arrow_back_ios_new_24_old);\n                }\n            } else {\n                toolbarTop.setNavigationIcon(null);\n            }\n        }\n</code></pre>\n<p>**values\\styles.xml\n**</p>\n<pre><code>&lt;style name=&quot;Widget.Toolbar.Button.NavigationV4&quot; parent=&quot;Widget.AppCompat.Toolbar.Button.Navigation&quot;&gt;\n        &lt;item name=&quot;android:maxHeight&quot;&gt;24dp&lt;/item&gt;\n        &lt;item name=&quot;android:maxWidth&quot;&gt;24dp&lt;/item&gt;\n    &lt;/style&gt;\n\n</code></pre>\n<p><strong>Layout code for toolbar:</strong></p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/coordinatorLayoutMain&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/toolbarBottom&quot;&gt;\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:id=&quot;@+id/appbarlayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@drawable/toolbar_top_bg_gradient&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlayV4&quot;\n                app:contentInsetLeft=&quot;0dp&quot;\n                app:contentInsetStart=&quot;0dp&quot;\n                &gt;\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;&gt;\n\n\n\n\n                    &lt;ImageView\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        android:id=&quot;@+id/toolbar_client_logo&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:scaleType=&quot;fitXY&quot;\n                        android:adjustViewBounds=&quot;true&quot;\n                        android:src=&quot;@drawable/logo&quot;\n                        /&gt;\n</code></pre>\n<p>I have tried several solutions, such as using a PNG with 24dp width, using the same PNG as in the tablet, using a different vector graphic, and setting the bounds and width/height in the class. However, none of these solutions have worked.</p>\n<p>How can I override the minimum width of 56dp in the Widget.Toolbar.Button.Navigation style to display the back button with a lesser width on phones?</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1663789745,"post_id":73806052,"comment_id":130324862,"body_markdown":"You are trying to run an ages old version of eclipse (according to the information in the path from 19 February 2013, which is over nine years ago) with a current JVM (java.version=19). That simply doesn&#39;t work. If you must use that old version of eclipse then you must run it with Java 1.7 or Java 1.8.","body":"You are trying to run an ages old version of eclipse (according to the information in the path from 19 February 2013, which is over nine years ago) with a current JVM (java.version=19). That simply doesn&#39;t work. If you must use that old version of eclipse then you must run it with Java 1.7 or Java 1.8."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1663789885,"post_id":73806052,"comment_id":130324899,"body_markdown":"Also note that since about 2017 the preferred way to develop for Android is using the [Android Studio](https://developer.android.com/studio/). There might be features available in Android that you cannot use with Eclipse+ADT from 2013.","body":"Also note that since about 2017 the preferred way to develop for Android is using the <a href=\"https://developer.android.com/studio/\" rel=\"nofollow noreferrer\">Android Studio</a>. There might be features available in Android that you cannot use with Eclipse+ADT from 2013."},{"owner":{"account_id":26405617,"reputation":1,"user_id":20055459,"display_name":"Raonic"},"score":0,"creation_date":1663790755,"post_id":73806052,"comment_id":130325133,"body_markdown":"I figured it out a few minutes ago, but thank you for the answer. And yes, I have to use this version of Eclipse since this is the one our teacher assigned to us, but we will switch to Android Studio in the next Bimester!","body":"I figured it out a few minutes ago, but thank you for the answer. And yes, I have to use this version of Eclipse since this is the one our teacher assigned to us, but we will switch to Android Studio in the next Bimester!"}],"answers":[{"tags":[],"owner":{"account_id":13360088,"reputation":1,"user_id":9642430,"display_name":"jonadab_mg"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1679559788,"creation_date":1679439372,"answer_id":75807067,"question_id":73806052,"body_markdown":"Your eclipse doesn&#39;t work because you are trying to open it a java version not compatible with it, so you can try this (it works for me): go to file explorer and search your eclipse folder and open, search the file eclipse.in and put this after `openFile`:\r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\YouJDKVersion\\bin\\javaw.exe\r\n\r\nSource: [JVM eclipse.ini][1]\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\r\n\r\n","title":"Eclipse &quot;An error has occurred. See the log file&quot;","body":"<p>Your eclipse doesn't work because you are trying to open it a java version not compatible with it, so you can try this (it works for me): go to file explorer and search your eclipse folder and open, search the file eclipse.in and put this after <code>openFile</code>:</p>\n<pre><code>-vm\nC:\\Program Files\\Java\\YouJDKVersion\\bin\\javaw.exe\n</code></pre>\n<p>Source: <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\">JVM eclipse.ini</a></p>\n"}],"owner":{"account_id":26405617,"reputation":1,"user_id":20055459,"display_name":"Raonic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679559788,"creation_date":1663788639,"question_id":73806052,"body_markdown":"&gt; Eclipse &quot;An error has occurred. See the log file&quot; C:\\Program Files\\Android\\adt-bundle-windows-x86_64-20130219\\eclipse\\configuration\\1663787406897.log.\r\n\r\nwith the actual log being\r\n\r\n\r\n&gt; \r\n\r\n    !SESSION 2022-09-21 16:03:50.380 -----------------------------------------------\r\n    eclipse.buildId=v21.1.0-569685\r\n    java.version=19\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=pt_BR\r\n    Framework arguments:  -XX:-UseCompressedOops -product com.android.ide.eclipse.adt.package.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -XX:-UseCompressedOops -product com.android.ide.eclipse.adt.package.product\r\n    !ENTRY org.eclipse.osgi 4 0 2022-09-21 16:03:50.631\r\n    !MESSAGE error loading hook: org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator\r\n    !STACK 0\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @62043840\r\n    \tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\r\n    \tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:174)\r\n    \tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:181)\r\n    \tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.findAddURLMethod(BaseStorage.java:165)\r\n    \tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.&lt;init&gt;(BaseStorage.java:135)\r\n    \tat org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator.addHooks(BaseHookConfigurator.java:24)\r\n    \tat org.eclipse.osgi.baseadaptor.HookRegistry.loadConfigurators(HookRegistry.java:178)\r\n    \tat org.eclipse.osgi.baseadaptor.HookRegistry.initialize(HookRegistry.java:100)\r\n    \tat org.eclipse.osgi.baseadaptor.BaseAdaptor.&lt;init&gt;(BaseAdaptor.java:98)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.createAdaptor(EclipseStarter.java:737)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:258)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n    !ENTRY org.eclipse.osgi 4 0 2022-09-21 16:03:50.690\r\n    !MESSAGE Startup error\r\n    !STACK 1\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize(org.eclipse.osgi.baseadaptor.BaseAdaptor)&quot; because &quot;this.storage&quot; is null\r\n    \tat org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage(BaseAdaptor.java:123)\r\n    \tat org.eclipse.osgi.framework.internal.core.Framework.&lt;init&gt;(Framework.java:192)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:262)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n\r\nI couldn&#39;t find any board that dealt with this\r\n","title":"Eclipse &quot;An error has occurred. See the log file&quot;","body":"<blockquote>\n<p>Eclipse &quot;An error has occurred. See the log file&quot; C:\\Program Files\\Android\\adt-bundle-windows-x86_64-20130219\\eclipse\\configuration\\1663787406897.log.</p>\n</blockquote>\n<p>with the actual log being</p>\n<blockquote>\n</blockquote>\n<pre><code>!SESSION 2022-09-21 16:03:50.380 -----------------------------------------------\neclipse.buildId=v21.1.0-569685\njava.version=19\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=pt_BR\nFramework arguments:  -XX:-UseCompressedOops -product com.android.ide.eclipse.adt.package.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -XX:-UseCompressedOops -product com.android.ide.eclipse.adt.package.product\n!ENTRY org.eclipse.osgi 4 0 2022-09-21 16:03:50.631\n!MESSAGE error loading hook: org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator\n!STACK 0\njava.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @62043840\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:174)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findMethod(BaseStorage.java:181)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.findAddURLMethod(BaseStorage.java:165)\n    at org.eclipse.osgi.internal.baseadaptor.BaseStorage.&lt;init&gt;(BaseStorage.java:135)\n    at org.eclipse.osgi.internal.baseadaptor.BaseHookConfigurator.addHooks(BaseHookConfigurator.java:24)\n    at org.eclipse.osgi.baseadaptor.HookRegistry.loadConfigurators(HookRegistry.java:178)\n    at org.eclipse.osgi.baseadaptor.HookRegistry.initialize(HookRegistry.java:100)\n    at org.eclipse.osgi.baseadaptor.BaseAdaptor.&lt;init&gt;(BaseAdaptor.java:98)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.createAdaptor(EclipseStarter.java:737)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:258)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n!ENTRY org.eclipse.osgi 4 0 2022-09-21 16:03:50.690\n!MESSAGE Startup error\n!STACK 1\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize(org.eclipse.osgi.baseadaptor.BaseAdaptor)&quot; because &quot;this.storage&quot; is null\n    at org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage(BaseAdaptor.java:123)\n    at org.eclipse.osgi.framework.internal.core.Framework.&lt;init&gt;(Framework.java:192)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:262)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n</code></pre>\n<p>I couldn't find any board that dealt with this</p>\n"},{"tags":["java","android","for-loop","arraylist"],"comments":[{"owner":{"account_id":3249075,"reputation":2653,"user_id":2739864,"display_name":"Laxman"},"score":0,"creation_date":1568617505,"post_id":57951682,"comment_id":102315933,"body_markdown":"you need to use `java.util.Map`, this datastructure holds key-value pair. Your key will be userName and value will be list of userNumber.  \n\nThen you can have a loop which prints the entries from map.\n\nYou can also read about java8 stream api.\n\nAll the best :)","body":"you need to use <code>java.util.Map</code>, this datastructure holds key-value pair. Your key will be userName and value will be list of userNumber.    Then you can have a loop which prints the entries from map.  You can also read about java8 stream api.  All the best :)"},{"owner":{"account_id":1904597,"reputation":407,"user_id":1719724,"display_name":"nikk"},"score":0,"creation_date":1568618349,"post_id":57951682,"comment_id":102316309,"body_markdown":"if you want print data only then you can use oveeride method toString in user class . link (https://stackoverflow.com/questions/10734106/how-to-override-tostring-properly-in-java)","body":"if you want print data only then you can use oveeride method toString in user class . link (<a href=\"https://stackoverflow.com/questions/10734106/how-to-override-tostring-properly-in-java\" title=\"how to override tostring properly in java\">stackoverflow.com/questions/10734106/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568616948,"creation_date":1568616948,"answer_id":57951741,"question_id":57951682,"body_markdown":"A quick and easy way to do what you want is to use a `HashMap`. Hash maps are key-value collections, son in your case, you would create a `HashMap&lt;String, List&lt;String&gt;&gt;` which stores the `username` as key, and the `userNumber` as a list of values (since you have more than 1).\r\n\r\nThen your code would change as follows:\r\n\r\n 1. Iterate over all the users that your have.\r\n 2. If the `username` exists in the hashmap, add the `usernumber` to it.\r\n 3. If the `username` does not exist, add it to the hashmap with the `usernumber` as the first element of its list.\r\n\r\nLastly, you would then iterate over the hashmap, printing the key and values which it has.","title":"Java Print ArrayList Groups with Group Name","body":"<p>A quick and easy way to do what you want is to use a <code>HashMap</code>. Hash maps are key-value collections, son in your case, you would create a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code> which stores the <code>username</code> as key, and the <code>userNumber</code> as a list of values (since you have more than 1).</p>\n\n<p>Then your code would change as follows:</p>\n\n<ol>\n<li>Iterate over all the users that your have.</li>\n<li>If the <code>username</code> exists in the hashmap, add the <code>usernumber</code> to it.</li>\n<li>If the <code>username</code> does not exist, add it to the hashmap with the <code>usernumber</code> as the first element of its list.</li>\n</ol>\n\n<p>Lastly, you would then iterate over the hashmap, printing the key and values which it has.</p>\n"},{"tags":[],"owner":{"account_id":12846857,"reputation":913,"user_id":9292949,"display_name":"Anjana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568618261,"creation_date":1568617738,"answer_id":57951924,"question_id":57951682,"body_markdown":"Try Something like below using Java Streams.\r\n\r\n    //group by user name\r\n    Map&lt;String, Set&lt;String&gt;&gt; map =\r\n                model.stream().collect(\r\n                        Collectors.groupingBy(Users::getUserName,\r\n                                Collectors.mapping(Users::getUserNumber, Collectors.toSet())\r\n                        )\r\n                );\r\n    System.out.println(map);\r\n\r\nMake sure to have the getter methods *getUserName(), getUserNumber()* implemented in Users class. Here i have assumed that both *userName* and *userNumber* are string typed data.","title":"Java Print ArrayList Groups with Group Name","body":"<p>Try Something like below using Java Streams.</p>\n\n<pre><code>//group by user name\nMap&lt;String, Set&lt;String&gt;&gt; map =\n            model.stream().collect(\n                    Collectors.groupingBy(Users::getUserName,\n                            Collectors.mapping(Users::getUserNumber, Collectors.toSet())\n                    )\n            );\nSystem.out.println(map);\n</code></pre>\n\n<p>Make sure to have the getter methods <em>getUserName(), getUserNumber()</em> implemented in Users class. Here i have assumed that both <em>userName</em> and <em>userNumber</em> are string typed data.</p>\n"},{"tags":[],"owner":{"account_id":7416245,"reputation":679,"user_id":5641961,"display_name":"Machhindra Neupane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568618366,"creation_date":1568618366,"answer_id":57952058,"question_id":57951682,"body_markdown":"    public class User {\r\n    private String userName;\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public User(String userName, String userNumber) {\r\n        this.userName = userName;\r\n        this.userNumber = userNumber;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getUserNumber() {\r\n        return userNumber;\r\n    }\r\n\r\n    public void setUserNumber(String userPassword) {\r\n        this.userNumber = userPassword;\r\n    }\r\n\r\n    private String userNumber;\r\n    }\r\n\r\n## MainClass\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    public class MainMethod {\r\n\r\n    private static HashMap&lt;User, ArrayList&lt;User&gt;&gt; maps;\r\n    private static ArrayList&lt;User&gt; user1list;\r\n    private static ArrayList&lt;User&gt; user2list;\r\n\r\n    public static void main(String...args) {\r\n        maps = new HashMap&lt;&gt;();\r\n        user1list = new ArrayList&lt;&gt;();\r\n        user2list = new ArrayList&lt;&gt;();\r\n        User user1 = new User(&quot;Ram&quot;, &quot;1234&quot;);\r\n        User user2 = new User(&quot;Alish&quot;, &quot;5678&quot;);\r\n        User user3 = new User(&quot;Ram&quot;, &quot;91011&quot;);\r\n        User user4 = new User(&quot;Alish&quot;, &quot;121314&quot;);\r\n        user1list.add(user1);\r\n        user1list.add(user3);\r\n        user2list.add(user2);\r\n        user2list.add(user4);\r\n        maps.put(user1, user1list );\r\n        maps.put(user2, user2list);\r\n\r\n       /// User one lists\r\n        for ( User userone: maps.get(user1)) {\r\n            System.out.println(&quot;userone Name:::&quot;+userone.getUserName());\r\n            System.out.println(&quot;User one Number:::&quot;+userone.getUserNumber());\r\n        }\r\n\r\n        System.out.println();\r\n         // USer tow list\r\n        for (User usertwo: maps.get(user2)) {\r\n            System.out.println(&quot;User two Name:::&quot; +usertwo.getUserName());\r\n            System.out.println(&quot;User two Number :::&quot; +usertwo.getUserNumber());\r\n        }\r\n      }\r\n     }\r\n\r\n\r\n","title":"Java Print ArrayList Groups with Group Name","body":"<pre><code>public class User {\nprivate String userName;\npublic String getUserName() {\n    return userName;\n}\n\npublic User(String userName, String userNumber) {\n    this.userName = userName;\n    this.userNumber = userNumber;\n}\n\npublic void setUserName(String userName) {\n    this.userName = userName;\n}\n\npublic String getUserNumber() {\n    return userNumber;\n}\n\npublic void setUserNumber(String userPassword) {\n    this.userNumber = userPassword;\n}\n\nprivate String userNumber;\n}\n</code></pre>\n\n<h2>MainClass</h2>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\npublic class MainMethod {\n\nprivate static HashMap&lt;User, ArrayList&lt;User&gt;&gt; maps;\nprivate static ArrayList&lt;User&gt; user1list;\nprivate static ArrayList&lt;User&gt; user2list;\n\npublic static void main(String...args) {\n    maps = new HashMap&lt;&gt;();\n    user1list = new ArrayList&lt;&gt;();\n    user2list = new ArrayList&lt;&gt;();\n    User user1 = new User(\"Ram\", \"1234\");\n    User user2 = new User(\"Alish\", \"5678\");\n    User user3 = new User(\"Ram\", \"91011\");\n    User user4 = new User(\"Alish\", \"121314\");\n    user1list.add(user1);\n    user1list.add(user3);\n    user2list.add(user2);\n    user2list.add(user4);\n    maps.put(user1, user1list );\n    maps.put(user2, user2list);\n\n   /// User one lists\n    for ( User userone: maps.get(user1)) {\n        System.out.println(\"userone Name:::\"+userone.getUserName());\n        System.out.println(\"User one Number:::\"+userone.getUserNumber());\n    }\n\n    System.out.println();\n     // USer tow list\n    for (User usertwo: maps.get(user2)) {\n        System.out.println(\"User two Name:::\" +usertwo.getUserName());\n        System.out.println(\"User two Number :::\" +usertwo.getUserNumber());\n    }\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5564268,"reputation":637,"user_id":4412155,"display_name":"Bheem  Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568618995,"creation_date":1568618633,"answer_id":57952119,"question_id":57951682,"body_markdown":"please try the code below -\r\n\r\n\r\n    \r\n  \t\r\n\tpublic class Users {\r\n\r\n\tpublic String userName;\r\n\tpublic String userNumber;\r\n\r\n\tpublic Users(String userName, String userNumber) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.userNumber = userNumber;\r\n\t}\r\n\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n\tpublic String getUserNumber() {\r\n\t\treturn userNumber;\r\n\t}\r\n\r\n\tpublic void setUserNumber(String userNumber) {\r\n\t\tthis.userNumber = userNumber;\r\n\t}\r\n\r\n\tpublic static void main(String ar[]) {\r\n\r\n\t\tArrayList&lt;Users&gt; model = new ArrayList&lt;Users&gt;();\r\n\t\tmodel.add(new Users(&quot;abc&quot;, &quot;123&quot;));\r\n\t\tmodel.add(new Users(&quot;def&quot;, &quot;888&quot;));\r\n\t\tmodel.add(new Users(&quot;abc&quot;, &quot;246&quot;));\r\n\t\tmodel.add(new Users(&quot;def&quot;, &quot;999&quot;));\r\n\t\tmodel.add(new Users(&quot;abc&quot;, &quot;456&quot;));\r\n\r\n\t\tMap&lt;String, Set&lt;String&gt;&gt; map = model.stream().collect(Collectors.groupingBy(Users::getUserName,\r\n\t\t\t\tCollectors.mapping(Users::getUserNumber, Collectors.toSet())));\r\n\t\tfor (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : map.entrySet()) {\r\n\t\t\tSet set = entry.getValue();\r\n\t\t\tIterator value = set.iterator();\r\n\t\t\twhile (value.hasNext()) {\r\n\t\t\t\tSystem.out.println(entry.getKey() + &quot; : &quot; + value.next());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","title":"Java Print ArrayList Groups with Group Name","body":"<p>please try the code below -</p>\n\n<pre><code>public class Users {\n\npublic String userName;\npublic String userNumber;\n\npublic Users(String userName, String userNumber) {\n    this.userName = userName;\n    this.userNumber = userNumber;\n}\n\npublic String getUserName() {\n    return userName;\n}\n\npublic void setUserName(String userName) {\n    this.userName = userName;\n}\n\npublic String getUserNumber() {\n    return userNumber;\n}\n\npublic void setUserNumber(String userNumber) {\n    this.userNumber = userNumber;\n}\n\npublic static void main(String ar[]) {\n\n    ArrayList&lt;Users&gt; model = new ArrayList&lt;Users&gt;();\n    model.add(new Users(\"abc\", \"123\"));\n    model.add(new Users(\"def\", \"888\"));\n    model.add(new Users(\"abc\", \"246\"));\n    model.add(new Users(\"def\", \"999\"));\n    model.add(new Users(\"abc\", \"456\"));\n\n    Map&lt;String, Set&lt;String&gt;&gt; map = model.stream().collect(Collectors.groupingBy(Users::getUserName,\n            Collectors.mapping(Users::getUserNumber, Collectors.toSet())));\n    for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : map.entrySet()) {\n        Set set = entry.getValue();\n        Iterator value = set.iterator();\n        while (value.hasNext()) {\n            System.out.println(entry.getKey() + \" : \" + value.next());\n        }\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":14288920,"reputation":41,"user_id":10321519,"display_name":"ak_bhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679559083,"creation_date":1679167229,"answer_id":75778143,"question_id":57951682,"body_markdown":"    Map&lt;String, List&lt;Users&gt;&gt; use = model.stream.collect(Collectors.groupinBy(Person::getUsername)) ;\r\n\r\nYou use this approach to print the data by group","title":"Java Print ArrayList Groups with Group Name","body":"<pre><code>Map&lt;String, List&lt;Users&gt;&gt; use = model.stream.collect(Collectors.groupinBy(Person::getUsername)) ;\n</code></pre>\n<p>You use this approach to print the data by group</p>\n"}],"owner":{"account_id":15630482,"reputation":11,"user_id":11276936,"display_name":"HappyCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1679559083,"creation_date":1568616664,"question_id":57951682,"body_markdown":"I am just a beginner and learning Java to my own!\r\nI just have an arraylist of objects of Users:\r\n\r\n    class Users{\r\n       public userName;\r\n       public userNumber;\r\n    }  \r\n\r\nthen I create a model as:\r\n\r\n     ArrayList&lt;Users&gt; model=new ArrayList&lt;Users&gt;();\r\n\r\nand added the model items as:\r\n\r\n     model.add(new Users(&quot;abc&quot;,&quot;123&quot;));\r\n     model.add(new Users(&quot;def&quot;,&quot;888&quot;));\r\n     model.add(new Users(&quot;abc&quot;,&quot;246&quot;));\r\n     model.add(new Users(&quot;def&quot;,&quot;999&quot;));\r\n     model.add(new Users(&quot;abc&quot;,&quot;456&quot;));\r\n     \r\n\r\nWhat I want to do is to print the model in this way that should show similar grouped data with group name as:\r\n\r\n     for(int i=0;i:i&lt;users.size;i++){\r\n        System.out.printlin(&quot;users:::&quot;+users.get(i).userNumber);\r\n     }\r\n\r\nBut it should group and print group by name too that is: \r\n\r\n     abc -&gt;\r\n           users:::123\r\n           users:::246\r\n           users:::456\r\n    \r\n     def -&gt;\r\n           users:::888\r\n           users:::999  \r\n\r\nSo I want to group the data and then print the data in grouped format with each group name also!\r\n\r\nHow can I do that, I am just learning Java to my own. Thanks in advance\r\n","title":"Java Print ArrayList Groups with Group Name","body":"<p>I am just a beginner and learning Java to my own!\nI just have an arraylist of objects of Users:</p>\n\n<pre><code>class Users{\n   public userName;\n   public userNumber;\n}  \n</code></pre>\n\n<p>then I create a model as:</p>\n\n<pre><code> ArrayList&lt;Users&gt; model=new ArrayList&lt;Users&gt;();\n</code></pre>\n\n<p>and added the model items as:</p>\n\n<pre><code> model.add(new Users(\"abc\",\"123\"));\n model.add(new Users(\"def\",\"888\"));\n model.add(new Users(\"abc\",\"246\"));\n model.add(new Users(\"def\",\"999\"));\n model.add(new Users(\"abc\",\"456\"));\n</code></pre>\n\n<p>What I want to do is to print the model in this way that should show similar grouped data with group name as:</p>\n\n<pre><code> for(int i=0;i:i&lt;users.size;i++){\n    System.out.printlin(\"users:::\"+users.get(i).userNumber);\n }\n</code></pre>\n\n<p>But it should group and print group by name too that is: </p>\n\n<pre><code> abc -&gt;\n       users:::123\n       users:::246\n       users:::456\n\n def -&gt;\n       users:::888\n       users:::999  \n</code></pre>\n\n<p>So I want to group the data and then print the data in grouped format with each group name also!</p>\n\n<p>How can I do that, I am just learning Java to my own. Thanks in advance</p>\n"},{"tags":["java","android","firebase","kotlin","duplicates"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679558484,"post_id":75820427,"comment_id":133743922,"body_markdown":"Please show us the content of your build.gradle files.","body":"Please show us the content of your build.gradle files."},{"owner":{"account_id":23322155,"reputation":11,"user_id":17399862,"display_name":"LJ Castellanos"},"score":0,"creation_date":1679558794,"post_id":75820427,"comment_id":133743986,"body_markdown":"buildscript {\n    dependencies {\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\n}","body":"buildscript {     dependencies {         classpath &#39;com.google.gms:google-services:4.3.15&#39;     } }// Top-level build file where you can add configuration options common to all sub-projects/modules. plugins {     id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false     id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false     id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false }"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679562198,"post_id":75820427,"comment_id":133744732,"body_markdown":"Have you tried using `kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8\n    }`?","body":"Have you tried using <code>kotlinOptions {         jvmTarget = JavaVersion.VERSION_1_8     }</code>?"}],"owner":{"account_id":23322155,"reputation":11,"user_id":17399862,"display_name":"LJ Castellanos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679558998,"creation_date":1679558305,"question_id":75820427,"body_markdown":"Get the following error regarding kotlin duplicated classes\r\n\r\n\r\n&#39;FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)&#39;... and so on \r\n\r\n\r\nGreatly appreciated for your time!\r\n\r\nI tried modifying the code on the build gradle to cancel dependencies but with no succes so far \r\n\r\nBuild.Gradle(:app)\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.simpleloginapp&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.simpleloginapp&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nBuild.gradle(Simple login app)\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        }\r\n    }// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n    }","title":"Duplicate classes on android studio","body":"<p>Get the following error regarding kotlin duplicated classes</p>\n<p>'FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)'... and so on</p>\n</blockquote>\n<p>Greatly appreciated for your time!</p>\n<p>I tried modifying the code on the build gradle to cancel dependencies but with no succes so far</p>\n<p>Build.Gradle(:app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.simpleloginapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.simpleloginapp&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.0'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Build.gradle(Simple login app)</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n"},{"tags":["java","android","sql","sqlite"],"comments":[{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1685116787,"post_id":75820521,"comment_id":134621493,"body_markdown":"Are you closing the database and/or cursor after executing the query. If not, do so.","body":"Are you closing the database and/or cursor after executing the query. If not, do so."}],"owner":{"account_id":28093661,"reputation":1,"user_id":21462778,"display_name":"Nishchith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679558997,"creation_date":1679558940,"question_id":75820521,"body_markdown":"I am running a DB update via SQL `    statement.execute()    ` and clearing all bindings. Once this is done I am trying to read same table.\r\nIdeally DB lock the database and clears the lock once statement is executed.\r\n\r\nBut db seems to be not clearing it as I am unbale to read the DB. `    database.isDbLockedByOtherThreads()    ` is giving me true even though all write/update operation is completed. This never ends and hence app is stuck and cannot do any more db operations.\r\n\r\n**My update Statement**\r\n\r\n\r\n`\r\ntry{\r\n    .\r\n    .\r\n    .\r\n    statement.execute();\r\n    statement.clearBindings();\r\n    .\r\n    catch(){....}\r\n    finally{\r\n        if (statement != null) statement.close();\r\n    }\r\n`\r\n\r\n\r\n**My Get statement**\r\n\r\n\r\n`\r\n    .\r\n    .\r\n    .\r\n    database.rawQuery(sqlStatement, null);\r\n    .\r\n    .\r\n`\r\n\r\n\r\n**My version**\r\n\r\n`\r\n    implementation &#39;net.zetetic:android-database-sqlcipher:4.5.3@aar&#39;\r\n    implementation &quot;androidx.sqlite:sqlite:2.3.1&quot;\r\n`\r\n\r\nI tried enabling `WAL `mode\r\nUsed `synchronised `before executing get statement\r\n\r\nNone of them helped.","title":"Sqlite DB lock () not getting cleared after execution","body":"<p>I am running a DB update via SQL <code>   statement.execute()   </code> and clearing all bindings. Once this is done I am trying to read same table.\nIdeally DB lock the database and clears the lock once statement is executed.</p>\n<p>But db seems to be not clearing it as I am unbale to read the DB. <code>   database.isDbLockedByOtherThreads()   </code> is giving me true even though all write/update operation is completed. This never ends and hence app is stuck and cannot do any more db operations.</p>\n<p><strong>My update Statement</strong></p>\n<p><code>try{ . . . statement.execute(); statement.clearBindings(); . catch(){....} finally{ if (statement != null) statement.close(); }</code></p>\n<p><strong>My Get statement</strong></p>\n<p><code>. . . database.rawQuery(sqlStatement, null); . .</code></p>\n<p><strong>My version</strong></p>\n<p><code>implementation 'net.zetetic:android-database-sqlcipher:4.5.3@aar' implementation &quot;androidx.sqlite:sqlite:2.3.1&quot;</code></p>\n<p>I tried enabling <code>WAL </code>mode\nUsed <code>synchronised </code>before executing get statement</p>\n<p>None of them helped.</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-cloud-function","spring-cloud-bus"],"owner":{"account_id":2459367,"reputation":1439,"user_id":2143846,"accept_rate":77,"display_name":"Yuval Simhon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679558434,"creation_date":1679554888,"question_id":75820019,"body_markdown":"We are using Spring Boot 2.7.8 with Spring Cloud Stream 3.2.6 &amp; Spring Cloud 2021.0.5\r\n&lt;br&gt;\r\nWe are using the functional definition for our Kafka consumers, hence adding the consumers channel names under `spring.cloud.function.definition` list.&lt;br&gt;\r\n\r\nPreviously (on Spring boot 2.2.6) when we added the module for bus refresh `&lt;spring-cloud-bus&gt;` it was automatically creating a channel that consume the bus-refresh events.&lt;br&gt;\r\n\r\nWith the new functional way, we using spring-cloud-bus 3.1.2 and facing some strange behavior as the definition of the busrefresh channel `busConsumer` is getting overridden by our own channels definition list.\r\n\r\nSeems like the `busConsumer` is indeed being added automatically to `spring.cloud.function.definition` by this Class `org.springframework.cloud.bus.BusEnvironmentPostProcessor` **but** it&#39;s adding it into a different property source name than our application properties source name (We are using spring-cloud-starter-consul to load our YML properties).\r\n\r\nThis causes the application property source to have preceding over the `springCloudBusOverridesProperties` property source, hence only our consumers are being initialized correctly, but the busConsumer does not initialize.\r\n\r\nIs there a way to enforce it to be added automatically and effectively to the list of definitions without getting overridden?\r\n","title":"Busrefresh function.definition of busConsumer is being added on wrong property source","body":"<p>We are using Spring Boot 2.7.8 with Spring Cloud Stream 3.2.6 &amp; Spring Cloud 2021.0.5\n<br>\nWe are using the functional definition for our Kafka consumers, hence adding the consumers channel names under <code>spring.cloud.function.definition</code> list.<br></p>\n<p>Previously (on Spring boot 2.2.6) when we added the module for bus refresh <code>&lt;spring-cloud-bus&gt;</code> it was automatically creating a channel that consume the bus-refresh events.<br></p>\n<p>With the new functional way, we using spring-cloud-bus 3.1.2 and facing some strange behavior as the definition of the busrefresh channel <code>busConsumer</code> is getting overridden by our own channels definition list.</p>\n<p>Seems like the <code>busConsumer</code> is indeed being added automatically to <code>spring.cloud.function.definition</code> by this Class <code>org.springframework.cloud.bus.BusEnvironmentPostProcessor</code> <strong>but</strong> it's adding it into a different property source name than our application properties source name (We are using spring-cloud-starter-consul to load our YML properties).</p>\n<p>This causes the application property source to have preceding over the <code>springCloudBusOverridesProperties</code> property source, hence only our consumers are being initialized correctly, but the busConsumer does not initialize.</p>\n<p>Is there a way to enforce it to be added automatically and effectively to the list of definitions without getting overridden?</p>\n"},{"tags":["java","spring-boot","logging","logback","logstash-logback-encoder"],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1595299032,"creation_date":1595205386,"answer_id":62987148,"question_id":62984942,"body_markdown":"To limit the `message` field within the JSON output when using the `net.logstash.logback.encoder.LogstashEncoder`, you&#39;ll need to:\r\n\r\n1. Disable the default `message` field output\r\n2. Add a custom `message` field using the pattern provider\r\n\r\nFor example:\r\n\r\n```xml\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n    &lt;!-- Disable the default message field --&gt;\r\n    &lt;fieldNames&gt;\r\n        &lt;message&gt;[ignore]&lt;/message&gt;\r\n    &lt;/fieldNames&gt;\r\n    &lt;!-- Add a new message field that truncates the message to 20 characters --&gt;\r\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\r\n        &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-20message&quot;}&lt;/pattern&gt;\r\n    &lt;/provider&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nor as a custom encoder:\r\n\r\n```java\r\npublic class JsonEncoder extends LogstashEncoder {\r\n    @Override\r\n    public void start() {\r\n        // Disable the default message field\r\n        getFieldNames().setMessage(&quot;[ignore]&quot;);\r\n\r\n        // Add a new message field that truncates the message to 20 characters\r\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\r\n        patternProvider.setContext(getContext());\r\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\r\n        addProvider(patternProvider);\r\n        super.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlternatively, you can use `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder` (which is the superclass of `LogstashEncoder`), and build up the JSON event exactly as you like with JSON providers.  See [here](https://github.com/logstash/logstash-logback-encoder#composite-encoderlayout).\r\n\r\nFor example:\r\n\r\n```xml\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n    &lt;providers&gt;\r\n        &lt;pattern&gt;\r\n            &lt;pattern&gt;\r\n                {\r\n                &quot;timestamp&quot;: &quot;%date{ISO8601}&quot;,\r\n                &quot;message&quot;:&quot;%0.-20message&quot;\r\n                }\r\n            &lt;/pattern&gt;\r\n        &lt;/pattern&gt;\r\n        &lt;!--\r\n            To add additional fields to the JSON output, either\r\n            add the fields to the above pattern, or\r\n            add additional JSON providers here.\r\n         --&gt;\r\n    &lt;/providers&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nor as a custom encoder:\r\n\r\n```java\r\npublic class JsonEncoder extends LoggingEventCompositeJsonEncoder {\r\n    @Override\r\n    public void start() {\r\n        getProviders().addProvider(new LoggingEventFormattedTimestampJsonProvider());\r\n\r\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\r\n        patternProvider.setContext(getContext());\r\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\r\n        getProviders().addProvider(patternProvider);\r\n\r\n        /*\r\n         * To add additional fields to the JSON output, either\r\n         * add the fields to the above pattern, or\r\n         * add additional JSON providers here.\r\n         */\r\n        super.start();\r\n    }\r\n}\r\n```","title":"Limit message size with custom encoder using logback","body":"<p>To limit the <code>message</code> field within the JSON output when using the <code>net.logstash.logback.encoder.LogstashEncoder</code>, you'll need to:</p>\n<ol>\n<li>Disable the default <code>message</code> field output</li>\n<li>Add a custom <code>message</code> field using the pattern provider</li>\n</ol>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n    &lt;!-- Disable the default message field --&gt;\n    &lt;fieldNames&gt;\n        &lt;message&gt;[ignore]&lt;/message&gt;\n    &lt;/fieldNames&gt;\n    &lt;!-- Add a new message field that truncates the message to 20 characters --&gt;\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\n        &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-20message&quot;}&lt;/pattern&gt;\n    &lt;/provider&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>or as a custom encoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonEncoder extends LogstashEncoder {\n    @Override\n    public void start() {\n        // Disable the default message field\n        getFieldNames().setMessage(&quot;[ignore]&quot;);\n\n        // Add a new message field that truncates the message to 20 characters\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\n        patternProvider.setContext(getContext());\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\n        addProvider(patternProvider);\n        super.start();\n    }\n}\n\n</code></pre>\n<p>Alternatively, you can use <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code> (which is the superclass of <code>LogstashEncoder</code>), and build up the JSON event exactly as you like with JSON providers.  See <a href=\"https://github.com/logstash/logstash-logback-encoder#composite-encoderlayout\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n    &lt;providers&gt;\n        &lt;pattern&gt;\n            &lt;pattern&gt;\n                {\n                &quot;timestamp&quot;: &quot;%date{ISO8601}&quot;,\n                &quot;message&quot;:&quot;%0.-20message&quot;\n                }\n            &lt;/pattern&gt;\n        &lt;/pattern&gt;\n        &lt;!--\n            To add additional fields to the JSON output, either\n            add the fields to the above pattern, or\n            add additional JSON providers here.\n         --&gt;\n    &lt;/providers&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>or as a custom encoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonEncoder extends LoggingEventCompositeJsonEncoder {\n    @Override\n    public void start() {\n        getProviders().addProvider(new LoggingEventFormattedTimestampJsonProvider());\n\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\n        patternProvider.setContext(getContext());\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\n        getProviders().addProvider(patternProvider);\n\n        /*\n         * To add additional fields to the JSON output, either\n         * add the fields to the above pattern, or\n         * add additional JSON providers here.\n         */\n        super.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679558150,"creation_date":1679558150,"answer_id":75820399,"question_id":62984942,"body_markdown":"My version:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \t&lt;property resource=&quot;application.yml&quot; /&gt;\r\n    \t&lt;contextName&gt;Operator Platform&lt;/contextName&gt;\r\n    \t&lt;springProfile name=&quot;!local&quot;&gt;\r\n    \t\t&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n    \t\t\t\t&lt;fieldNames&gt;\r\n    \t\t\t\t\t&lt;message&gt;[ignore]&lt;/message&gt;\r\n    \t\t\t\t&lt;/fieldNames&gt;\r\n    \t\t\t\t&lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\r\n    \t\t\t\t\t&lt;pattern&gt;{&quot;message&quot;:&quot;%0.-10500message&quot;}&lt;/pattern&gt;\r\n    \t\t\t\t&lt;/provider&gt;\r\n    \t\t\t\t&lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n    \t\t\t\t\t&lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\r\n    \t\t\t\t\t&lt;maxLength&gt;4096&lt;/maxLength&gt;\r\n    \t\t\t\t\t&lt;shortenedClassNameLength&gt;40&lt;/shortenedClassNameLength&gt;\r\n    \t\t\t\t\t&lt;!-- generated class names --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;\\$\\$FastClassByCGLIB\\$\\$&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;\\$\\$EnhancerBySpringCGLIB\\$\\$&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;!-- JDK internals --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^com\\.sun\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^sun\\.net\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;!-- dynamic invocation --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.cglib\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.transaction\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.validation\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.app\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.aop\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.beans\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^java\\.lang\\.reflect\\.Method\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n    \t\t\t\t\t&lt;inlineHash&gt;true&lt;/inlineHash&gt;\r\n    \t\t\t\t&lt;/throwableConverter&gt;\r\n    \t\t\t\t&lt;providers&gt;\r\n    \t\t\t\t\t&lt;contextName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;app&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/contextName&gt;\r\n    \t\t\t\t\t&lt;timestamp&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;ts&lt;/fieldName&gt;\r\n    \t\t\t\t\t\t&lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n    \t\t\t\t\t&lt;/timestamp&gt;\r\n    \t\t\t\t\t&lt;loggerName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;logger&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/loggerName&gt;\r\n    \t\t\t\t\t&lt;logLevel&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;level&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/logLevel&gt;\r\n    \t\t\t\t\t&lt;callerData&gt;\r\n    \t\t\t\t\t\t&lt;classFieldName&gt;class&lt;/classFieldName&gt;\r\n    \t\t\t\t\t\t&lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\r\n    \t\t\t\t\t\t&lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\r\n    \t\t\t\t\t\t&lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\r\n    \t\t\t\t\t&lt;/callerData&gt;\r\n    \t\t\t\t\t&lt;threadName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;thread&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/threadName&gt;\r\n    \t\t\t\t\t&lt;mdc&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;requestId&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/mdc&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t&lt;stackTrace&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;stack&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/stackTrace&gt;\r\n    \t\t\t\t&lt;/providers&gt;\r\n    \t\t\t&lt;/encoder&gt;\r\n    \t\t&lt;/appender&gt;\r\n    \t\t&lt;root level=&quot;INFO&quot;&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    \t\t&lt;/root&gt;\r\n    \t&lt;/springProfile&gt;\r\n    \t&lt;springProfile name=&quot;local&quot;&gt;\r\n    \t\t&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t\t&lt;encoder&gt;\r\n    \t\t\t\t&lt;pattern&gt;\r\n    \t\t\t\t\t%d{HH:mm:ss.SSS} | %5p | %logger{25} | %m%n\r\n    \t\t\t\t&lt;/pattern&gt;\r\n    \t\t\t\t&lt;charset&gt;utf8&lt;/charset&gt;\r\n    \t\t\t&lt;/encoder&gt;\r\n    \t\t&lt;/appender&gt;\r\n    \r\n    \t\t&lt;root level=&quot;DEBUG&quot;&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    \t\t&lt;/root&gt;\r\n    \t&lt;/springProfile&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Limit message size with custom encoder using logback","body":"<p>My version:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;property resource=&quot;application.yml&quot; /&gt;\n    &lt;contextName&gt;Operator Platform&lt;/contextName&gt;\n    &lt;springProfile name=&quot;!local&quot;&gt;\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;fieldNames&gt;\n                    &lt;message&gt;[ignore]&lt;/message&gt;\n                &lt;/fieldNames&gt;\n                &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\n                    &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-10500message&quot;}&lt;/pattern&gt;\n                &lt;/provider&gt;\n                &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                    &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\n                    &lt;maxLength&gt;4096&lt;/maxLength&gt;\n                    &lt;shortenedClassNameLength&gt;40&lt;/shortenedClassNameLength&gt;\n                    &lt;!-- generated class names --&gt;\n                    &lt;exclude&gt;\\$\\$FastClassByCGLIB\\$\\$&lt;/exclude&gt;\n                    &lt;exclude&gt;\\$\\$EnhancerBySpringCGLIB\\$\\$&lt;/exclude&gt;\n                    &lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\n                    &lt;!-- JDK internals --&gt;\n                    &lt;exclude&gt;^com\\.sun\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^sun\\.net\\.&lt;/exclude&gt;\n                    &lt;!-- dynamic invocation --&gt;\n                    &lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.cglib\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.transaction\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.validation\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.app\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.aop\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.beans\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^java\\.lang\\.reflect\\.Method\\.invoke&lt;/exclude&gt;\n                    &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                    &lt;inlineHash&gt;true&lt;/inlineHash&gt;\n                &lt;/throwableConverter&gt;\n                &lt;providers&gt;\n                    &lt;contextName&gt;\n                        &lt;fieldName&gt;app&lt;/fieldName&gt;\n                    &lt;/contextName&gt;\n                    &lt;timestamp&gt;\n                        &lt;fieldName&gt;ts&lt;/fieldName&gt;\n                        &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n                    &lt;/timestamp&gt;\n                    &lt;loggerName&gt;\n                        &lt;fieldName&gt;logger&lt;/fieldName&gt;\n                    &lt;/loggerName&gt;\n                    &lt;logLevel&gt;\n                        &lt;fieldName&gt;level&lt;/fieldName&gt;\n                    &lt;/logLevel&gt;\n                    &lt;callerData&gt;\n                        &lt;classFieldName&gt;class&lt;/classFieldName&gt;\n                        &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\n                        &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\n                        &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\n                    &lt;/callerData&gt;\n                    &lt;threadName&gt;\n                        &lt;fieldName&gt;thread&lt;/fieldName&gt;\n                    &lt;/threadName&gt;\n                    &lt;mdc&gt;\n                        &lt;fieldName&gt;requestId&lt;/fieldName&gt;\n                    &lt;/mdc&gt;\n                    &lt;arguments&gt;\n                        &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\n                    &lt;/arguments&gt;\n                    &lt;stackTrace&gt;\n                        &lt;fieldName&gt;stack&lt;/fieldName&gt;\n                    &lt;/stackTrace&gt;\n                &lt;/providers&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;local&quot;&gt;\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;\n                    %d{HH:mm:ss.SSS} | %5p | %logger{25} | %m%n\n                &lt;/pattern&gt;\n                &lt;charset&gt;utf8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;root level=&quot;DEBUG&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":3650703,"reputation":379,"user_id":3042963,"accept_rate":38,"display_name":"Shalom Balulu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62987148,"answer_count":2,"score":2,"last_activity_date":1679558150,"creation_date":1595188257,"question_id":62984942,"body_markdown":"I&#39;m trying to limit the log message size, I succeed to do it with the error traceback (using `ShortenedThrowableConverter`) but I didn&#39;t manage to find a solution to the message itself.\r\n\r\nI know one way is to use `&lt;pattern/&gt;` but since I&#39;m implementing the encoder by myself.\r\n\r\nI tried using layout but encountered with this error below:\r\n```\r\nno applicable action for [layout], current ElementPath  is [[configuration][appender][encoder][layout]]\r\n```\r\n\r\nHere is some of my code:\r\n\r\nlogback.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;console-json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;com.test.log.logback.JsonEncoder&quot;&gt;\r\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                &lt;maxLength&gt;20&lt;/maxLength&gt;\r\n            &lt;/throwableConverter&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console-json&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n\r\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n    &lt;/contextListener&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nencoder: \r\n```\r\npackage com.test.log.logback;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport net.logstash.logback.stacktrace.ShortenedThrowableConverter;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\npublic class JsonEncoder extends net.logstash.logback.encoder.LogstashEncoder {\r\n\r\n\r\n    private String customFields;\r\n    ShortenedThrowableConverter converter = new ShortenedThrowableConverter();\r\n    public JsonEncoder() {\r\n        converter.setMaxLength(10);\r\n        setThrowableConverter(converter);\r\n        setFieldNames(new FieldNames());\r\n        setTimeZone(&quot;UTC&quot;);\r\n        setFindAndRegisterJacksonModules(false);\r\n    }   \r\n    \r\n}\r\n```","title":"Limit message size with custom encoder using logback","body":"<p>I'm trying to limit the log message size, I succeed to do it with the error traceback (using <code>ShortenedThrowableConverter</code>) but I didn't manage to find a solution to the message itself.</p>\n<p>I know one way is to use <code>&lt;pattern/&gt;</code> but since I'm implementing the encoder by myself.</p>\n<p>I tried using layout but encountered with this error below:</p>\n<pre><code>no applicable action for [layout], current ElementPath  is [[configuration][appender][encoder][layout]]\n</code></pre>\n<p>Here is some of my code:</p>\n<p>logback.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;console-json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;com.test.log.logback.JsonEncoder&quot;&gt;\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                &lt;maxLength&gt;20&lt;/maxLength&gt;\n            &lt;/throwableConverter&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;console-json&quot; /&gt;\n    &lt;/root&gt;\n\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n    &lt;/contextListener&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>encoder:</p>\n<pre><code>package com.test.log.logback;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.logstash.logback.stacktrace.ShortenedThrowableConverter;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class JsonEncoder extends net.logstash.logback.encoder.LogstashEncoder {\n\n\n    private String customFields;\n    ShortenedThrowableConverter converter = new ShortenedThrowableConverter();\n    public JsonEncoder() {\n        converter.setMaxLength(10);\n        setThrowableConverter(converter);\n        setFieldNames(new FieldNames());\n        setTimeZone(&quot;UTC&quot;);\n        setFindAndRegisterJacksonModules(false);\n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679497374,"creation_date":1679497374,"answer_id":75813946,"question_id":75811884,"body_markdown":"I don&#39;t think you can do it the way you are describing it with `namespace` attribute. It needs be custom element `xmlns:n1` not namespace","title":"Set namespace prefix in jackson POJO","body":"<p>I don't think you can do it the way you are describing it with <code>namespace</code> attribute. It needs be custom element <code>xmlns:n1</code> not namespace</p>\n"}],"owner":{"account_id":17253722,"reputation":135,"user_id":12493323,"display_name":"inquirymind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679558002,"creation_date":1679485771,"question_id":75811884,"body_markdown":"In a *Spring Boot 2.7.7* application using *jackson-databind, jackson-dataformat-xml and jackson-datatype-jsr310* I want to generate this XML with namespaces and, more important, the prefix n1 (must be this one):\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\r\n&lt;n1:EventMessage\r\n      xmlns:n1=&quot;http://we.com/2016/path/Types&quot;&gt;\r\n   &lt;n1:Header&gt;\r\n      &lt;n1:EventID&gt;eventid&lt;/n1:EventID&gt;\r\n      &lt;n1:EventTime&gt;eventTime&lt;/n1:EventTime&gt;\r\n   &lt;/n1:Header&gt;\r\n&lt;/n1:EventMessage&gt;\r\n````\r\n\r\nFor this I have two POJOs:\r\n````\r\n@JacksonXmlRootElement(localName = &quot;EventMessage&quot;, namespace = &quot;http://we.com/2016/path/Types&quot;)\r\npublic class EventMessage {\r\n    @XmlElement(name = &quot;Header&quot;)\r\n    private Header header;\r\n}\r\n````\r\n````\r\npublic class Header {\r\n\r\n    @XmlElement(name = &quot;EventID&quot;)\r\n    private String eventId;\r\n\r\n    @XmlElement(name = &quot;EventTime&quot;)\r\n    private String eventTime;\r\n````\r\nand try to generate with:\r\n````\r\nXmlMapper mapper = new XmlMapper();\r\nmapper.writeValueAsString(eventMessage);\r\n````\r\nwhat I get is\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\r\n&lt;EventMessage\r\n      xmlns=&quot;http://we.com/2016/path/Types&quot;&gt;\r\n   &lt;Header&gt;\r\n      &lt;EventID&gt;eventid&lt;/EventID&gt;\r\n      &lt;EventTime&gt;eventTime&lt;/EventTime&gt;\r\n   &lt;/Header&gt;\r\n&lt;/EventMessage&gt;\r\n````\r\n\r\nHow can I add the *n1:* prefix and add the *:n1* to xmlns?","title":"Set namespace prefix in jackson POJO","body":"<p>In a <em>Spring Boot 2.7.7</em> application using <em>jackson-databind, jackson-dataformat-xml and jackson-datatype-jsr310</em> I want to generate this XML with namespaces and, more important, the prefix n1 (must be this one):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\n&lt;n1:EventMessage\n      xmlns:n1=&quot;http://we.com/2016/path/Types&quot;&gt;\n   &lt;n1:Header&gt;\n      &lt;n1:EventID&gt;eventid&lt;/n1:EventID&gt;\n      &lt;n1:EventTime&gt;eventTime&lt;/n1:EventTime&gt;\n   &lt;/n1:Header&gt;\n&lt;/n1:EventMessage&gt;\n</code></pre>\n<p>For this I have two POJOs:</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;EventMessage&quot;, namespace = &quot;http://we.com/2016/path/Types&quot;)\npublic class EventMessage {\n    @XmlElement(name = &quot;Header&quot;)\n    private Header header;\n}\n</code></pre>\n<pre><code>public class Header {\n\n    @XmlElement(name = &quot;EventID&quot;)\n    private String eventId;\n\n    @XmlElement(name = &quot;EventTime&quot;)\n    private String eventTime;\n</code></pre>\n<p>and try to generate with:</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nmapper.writeValueAsString(eventMessage);\n</code></pre>\n<p>what I get is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\n&lt;EventMessage\n      xmlns=&quot;http://we.com/2016/path/Types&quot;&gt;\n   &lt;Header&gt;\n      &lt;EventID&gt;eventid&lt;/EventID&gt;\n      &lt;EventTime&gt;eventTime&lt;/EventTime&gt;\n   &lt;/Header&gt;\n&lt;/EventMessage&gt;\n</code></pre>\n<p>How can I add the <em>n1:</em> prefix and add the <em>:n1</em> to xmlns?</p>\n"},{"tags":["java","json","automation","rest-assured-jsonpath","jsonassert"],"owner":{"account_id":7705429,"reputation":1,"user_id":5836549,"display_name":"Java Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679557785,"creation_date":1679555329,"question_id":75820073,"body_markdown":"[error image that show value is not getting populated from json][1]Below given is json file used for comparison assume It is having 2 copies which are getting compared\r\n```\r\n{\r\n  &quot;FileInformation&quot;: [\r\n    {\r\n      &quot;ProductCode&quot;: &quot;&quot;,\r\n      &quot;MaterialName&quot;: &quot;&quot;,\r\n      &quot;GneBatchNum&quot;: &quot;3336515&quot;,\r\n      &quot;VendorName&quot;: &quot;abc&quot;,\r\n      &quot;MfgBatchNum&quot;: &quot;2122866&quot;,\r\n      &quot;GneReceiveDate&quot;: &quot;19-Aug-08&quot;,\r\n      &quot;DocumentDate&quot;: &quot;20-Apr-2018&quot;,\r\n      &quot;FileName&quot;: &quot;0C8B03C08BF2B8DDA13E75168E888D22.pdf&quot;,\r\n      &quot;documentURL&quot;: &quot;https://hostname/csp/ui/#!/doc/c0b7cc29-e263-4b47-b420-608dbf0bed96A&quot;,\r\n      &quot;extracted_text&quot;: &quot;Print timestamp: 17-Oct-2019 20:20:56&quot;\r\n    }\r\n  ],\r\n  &quot;MaterialParameters&quot;: [\r\n    {\r\n      &quot;Attribute&quot;: &quot;1 Amino Acid Quantitative Amino Acids Quantified&quot;,\r\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\r\n      &quot;Method&quot;: &quot;&quot;,\r\n      &quot;Units&quot;: &quot;&quot;,\r\n      &quot;Result&quot;: &quot;Acceptable&quot;\r\n    },\r\n    {\r\n      &quot;Attribute&quot;: &quot;2 Appearance White to Tan Powder&quot;,\r\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\r\n      &quot;Method&quot;: &quot;&quot;,\r\n      &quot;Units&quot;: &quot;&quot;,\r\n      &quot;Result&quot;: &quot;Acceptable&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nJava code responsible to compare I am using skyscreamer jsonassert Customization for ignoring a attribute in comparision.\r\n```\r\n@Then(&quot;^Compare and validate the expected downloaded Json with actual Json$&quot;)\r\npublic void compare_files_Json(DataTable path) {\r\n    scenario.log(&quot;Compare json files initiated&quot;);\r\n    try {\r\n        List &lt; Map &lt; String, String &gt;&gt; responseMessageMap = path.asMaps(String.class, String.class);\r\n        String expectedrespath = responseMessageMap.get(0).get(&quot;expected&quot;);\r\n        String projectId = responseMessageMap.get(0).get(&quot;projectId&quot;);\r\n        String bucketName = responseMessageMap.get(0).get(&quot;bucketName&quot;);\r\n        String directoryPrefix = responseMessageMap.get(0).get(&quot;directoryPrefix&quot;);\r\n        String objectName = responseMessageMap.get(0).get(&quot;objectName&quot;);\r\n        String filePath = responseMessageMap.get(0).get(&quot;filePath&quot;);\r\n        String outputrequest = CloudStorageFileProcessingUtil.downloadObject(projectId, bucketName, directoryPrefix,\r\n            objectName, filePath);\r\n        // Reading data from input json payload\r\n        String expectedresult = new String(Files.readAllBytes(Paths.get(expectedrespath)));\r\n\r\n        scenario.log(&quot;------------------------------------------&quot;);\r\n        scenario.log(&quot;Expected Exceptions are as below:&quot;);\r\n        scenario.log(expectedresult);\r\n        scenario.log(&quot;------------------------------------------&quot;);\r\n        scenario.log(&quot;Actual Exceptions are as below:&quot;);\r\n        scenario.log(outputrequest);\r\n        // Comparing input and output json data\r\n\r\n        JSONComparator com = new CustomComparator(JSONCompareMode.STRICT, new Customization(&quot;FileInformation.[0].documentURL&quot;, (o1, o2) - &gt; true));\r\n        JSONAssert.assertEquals(expectedresult, outputrequest, com);\r\n    } catch (Exception e) {\r\n        scenario.log(&quot;Exception occured:&quot; + e);\r\n        Assert.fail(&quot;Exception occurred while Json file comparison&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand the error\r\nwhile accessing the field &quot;documentURL&quot;\r\nfor ignoring during comparison is\r\n    [enter image description here](https: //i.stack.imgur.com/tJiw1.png)\r\n\r\n        I have tried below trees also but nothing is working FileInformation.[0].documentURL and FileInformation.documentURL and[0].FileInformation.documentURL\r\n\r\n        please suggest me\r\n        if am doing any mistake in accessing the json Attribute\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wecmo.png","title":"Comparing 2 complex nested array of Json objects while ignoring one field that is &quot;documentURL&quot; in Java and getting error &quot; class has no field&quot; error","body":"<p><a href=\"https://i.stack.imgur.com/wecmo.png\" rel=\"nofollow noreferrer\">error image that show value is not getting populated from json</a>Below given is json file used for comparison assume It is having 2 copies which are getting compared</p>\n<pre><code>{\n  &quot;FileInformation&quot;: [\n    {\n      &quot;ProductCode&quot;: &quot;&quot;,\n      &quot;MaterialName&quot;: &quot;&quot;,\n      &quot;GneBatchNum&quot;: &quot;3336515&quot;,\n      &quot;VendorName&quot;: &quot;abc&quot;,\n      &quot;MfgBatchNum&quot;: &quot;2122866&quot;,\n      &quot;GneReceiveDate&quot;: &quot;19-Aug-08&quot;,\n      &quot;DocumentDate&quot;: &quot;20-Apr-2018&quot;,\n      &quot;FileName&quot;: &quot;0C8B03C08BF2B8DDA13E75168E888D22.pdf&quot;,\n      &quot;documentURL&quot;: &quot;https://hostname/csp/ui/#!/doc/c0b7cc29-e263-4b47-b420-608dbf0bed96A&quot;,\n      &quot;extracted_text&quot;: &quot;Print timestamp: 17-Oct-2019 20:20:56&quot;\n    }\n  ],\n  &quot;MaterialParameters&quot;: [\n    {\n      &quot;Attribute&quot;: &quot;1 Amino Acid Quantitative Amino Acids Quantified&quot;,\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\n      &quot;Method&quot;: &quot;&quot;,\n      &quot;Units&quot;: &quot;&quot;,\n      &quot;Result&quot;: &quot;Acceptable&quot;\n    },\n    {\n      &quot;Attribute&quot;: &quot;2 Appearance White to Tan Powder&quot;,\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\n      &quot;Method&quot;: &quot;&quot;,\n      &quot;Units&quot;: &quot;&quot;,\n      &quot;Result&quot;: &quot;Acceptable&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Java code responsible to compare I am using skyscreamer jsonassert Customization for ignoring a attribute in comparision.</p>\n<pre><code>@Then(&quot;^Compare and validate the expected downloaded Json with actual Json$&quot;)\npublic void compare_files_Json(DataTable path) {\n    scenario.log(&quot;Compare json files initiated&quot;);\n    try {\n        List &lt; Map &lt; String, String &gt;&gt; responseMessageMap = path.asMaps(String.class, String.class);\n        String expectedrespath = responseMessageMap.get(0).get(&quot;expected&quot;);\n        String projectId = responseMessageMap.get(0).get(&quot;projectId&quot;);\n        String bucketName = responseMessageMap.get(0).get(&quot;bucketName&quot;);\n        String directoryPrefix = responseMessageMap.get(0).get(&quot;directoryPrefix&quot;);\n        String objectName = responseMessageMap.get(0).get(&quot;objectName&quot;);\n        String filePath = responseMessageMap.get(0).get(&quot;filePath&quot;);\n        String outputrequest = CloudStorageFileProcessingUtil.downloadObject(projectId, bucketName, directoryPrefix,\n            objectName, filePath);\n        // Reading data from input json payload\n        String expectedresult = new String(Files.readAllBytes(Paths.get(expectedrespath)));\n\n        scenario.log(&quot;------------------------------------------&quot;);\n        scenario.log(&quot;Expected Exceptions are as below:&quot;);\n        scenario.log(expectedresult);\n        scenario.log(&quot;------------------------------------------&quot;);\n        scenario.log(&quot;Actual Exceptions are as below:&quot;);\n        scenario.log(outputrequest);\n        // Comparing input and output json data\n\n        JSONComparator com = new CustomComparator(JSONCompareMode.STRICT, new Customization(&quot;FileInformation.[0].documentURL&quot;, (o1, o2) - &gt; true));\n        JSONAssert.assertEquals(expectedresult, outputrequest, com);\n    } catch (Exception e) {\n        scenario.log(&quot;Exception occured:&quot; + e);\n        Assert.fail(&quot;Exception occurred while Json file comparison&quot;);\n    }\n}\n</code></pre>\n<p>and the error\nwhile accessing the field &quot;documentURL&quot;\nfor ignoring during comparison is\n[enter image description here](https: //i.stack.imgur.com/tJiw1.png)</p>\n<pre><code>    I have tried below trees also but nothing is working FileInformation.[0].documentURL and FileInformation.documentURL and[0].FileInformation.documentURL\n\n    please suggest me\n    if am doing any mistake in accessing the json Attribute\n</code></pre>\n"},{"tags":["java","spring","spring-webclient"],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679557490,"creation_date":1679554761,"question_id":75820007,"body_markdown":"I&#39;m want to log headers and body from my request and response which is made trough WebClient HttpInterface in Spring 6.\r\nFor that i created a filter to log. But it is seams that the filter I can only intercept the headers not the body.\r\n\r\n     final HttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\r\n                    .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\r\n                    .setDefaultRequestConfig(RequestConfig.custom()\r\n                            .setConnectTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .setResponseTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .setConnectionRequestTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .build()\r\n                    );\r\n            final CloseableHttpAsyncClient client = clientBuilder\r\n                    .build();\r\n    \r\n            final WebClient webClient = WebClient.builder()\r\n                    .clientConnector(new HttpComponentsClientHttpConnector(client))\r\n                    .baseUrl(this.myBaseUrl)\r\n                    .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\r\n                    .filter(this.logRequest())\r\n                    .build();\r\n    \r\n            final var proxy = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient))\r\n                    .blockTimeout(Duration.ofSeconds(this.myTimeout))\r\n                    .build();\r\n            var myClient = proxy.createClient(MyClient.class);\r\n\r\nAnd here my filter\r\n\r\n    private ExchangeFilterFunction logRequest(final String id) {\r\n    \r\n            return (clientRequest, next) -&gt; {\r\n                return next.exchange(clientRequest).flatMap(\r\n                        clientResponse -&gt; {\r\n    \r\n                            final var url = String.format(&quot;[%s] %s (%s)&quot;, clientRequest.method().name(), clientRequest.url(), clientResponse.statusCode().value());\r\n    \r\n                            // Request\r\n                            var requestHdrs = &quot;&quot;;\r\n                            for (final var header : clientRequest.headers().entrySet()) {\r\n                                requestHdrs = requestHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\r\n                            }\r\n                            rawRequests.put(id, url + &quot;\\n&quot; + requestHdrs + &quot;\\n&quot;);\r\n    \r\n                            // Response\r\n                            var responseHdrs = &quot;&quot;;\r\n                            for (final var header : clientResponse.headers().asHttpHeaders().entrySet()) {\r\n                                responseHdrs = responseHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\r\n                            }\r\n                            rawResponses.put(id, url + &quot;\\n&quot; + responseHdrs + &quot;\\n&quot; + clientResponse.bodyToMono(String.class));\r\n    \r\n                            return Mono.just(clientResponse);\r\n                        }\r\n                );\r\n            };\r\n        }\r\n\r\n\r\nThe clientResponse.bodyToMono(String.class)) does not return the body and in the request I also do not know how to get the body.","title":"Intercept headers and body from WebClient","body":"<p>I'm want to log headers and body from my request and response which is made trough WebClient HttpInterface in Spring 6.\nFor that i created a filter to log. But it is seams that the filter I can only intercept the headers not the body.</p>\n<pre><code> final HttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\n                .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\n                .setDefaultRequestConfig(RequestConfig.custom()\n                        .setConnectTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .setResponseTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .setConnectionRequestTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .build()\n                );\n        final CloseableHttpAsyncClient client = clientBuilder\n                .build();\n\n        final WebClient webClient = WebClient.builder()\n                .clientConnector(new HttpComponentsClientHttpConnector(client))\n                .baseUrl(this.myBaseUrl)\n                .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\n                .filter(this.logRequest())\n                .build();\n\n        final var proxy = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient))\n                .blockTimeout(Duration.ofSeconds(this.myTimeout))\n                .build();\n        var myClient = proxy.createClient(MyClient.class);\n</code></pre>\n<p>And here my filter</p>\n<pre><code>private ExchangeFilterFunction logRequest(final String id) {\n\n        return (clientRequest, next) -&gt; {\n            return next.exchange(clientRequest).flatMap(\n                    clientResponse -&gt; {\n\n                        final var url = String.format(&quot;[%s] %s (%s)&quot;, clientRequest.method().name(), clientRequest.url(), clientResponse.statusCode().value());\n\n                        // Request\n                        var requestHdrs = &quot;&quot;;\n                        for (final var header : clientRequest.headers().entrySet()) {\n                            requestHdrs = requestHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\n                        }\n                        rawRequests.put(id, url + &quot;\\n&quot; + requestHdrs + &quot;\\n&quot;);\n\n                        // Response\n                        var responseHdrs = &quot;&quot;;\n                        for (final var header : clientResponse.headers().asHttpHeaders().entrySet()) {\n                            responseHdrs = responseHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\n                        }\n                        rawResponses.put(id, url + &quot;\\n&quot; + responseHdrs + &quot;\\n&quot; + clientResponse.bodyToMono(String.class));\n\n                        return Mono.just(clientResponse);\n                    }\n            );\n        };\n    }\n</code></pre>\n<p>The clientResponse.bodyToMono(String.class)) does not return the body and in the request I also do not know how to get the body.</p>\n"},{"tags":["java","maven","gradle","package","gitlab"],"answers":[{"tags":[],"owner":{"account_id":9335149,"reputation":11,"user_id":6929589,"display_name":"japzio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679557282,"creation_date":1679557282,"answer_id":75820298,"question_id":75129197,"body_markdown":"for jobs running in gitlab, configure `ci_settings.xml` and use property name `Job-Token`\r\n\r\n           &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Job-Token&lt;/name&gt;\r\n                        &lt;value&gt;${env.CI_JOB_TOKEN}&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n\r\nwhen running maven locally, use `Private-Token` property name in `.m2/settings.xml`\r\n\r\n     &lt;server&gt;\r\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n      &lt;configuration&gt;\r\n        &lt;httpHeaders&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;Private-Token&lt;/name&gt;\r\n            &lt;value&gt;tOk3n&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/httpHeaders&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n\r\nhttps://docs.gitlab.com/ee/user/packages/maven_repository/","title":"Issue pulling package from Gitlab Package Registry Maven","body":"<p>for jobs running in gitlab, configure <code>ci_settings.xml</code> and use property name <code>Job-Token</code></p>\n<pre><code>       &lt;server&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;httpHeaders&gt;\n                &lt;property&gt;\n                    &lt;name&gt;Job-Token&lt;/name&gt;\n                    &lt;value&gt;${env.CI_JOB_TOKEN}&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/httpHeaders&gt;\n        &lt;/configuration&gt;\n    &lt;/server&gt;\n</code></pre>\n<p>when running maven locally, use <code>Private-Token</code> property name in <code>.m2/settings.xml</code></p>\n<pre><code> &lt;server&gt;\n  &lt;id&gt;gitlab-maven&lt;/id&gt;\n  &lt;configuration&gt;\n    &lt;httpHeaders&gt;\n      &lt;property&gt;\n        &lt;name&gt;Private-Token&lt;/name&gt;\n        &lt;value&gt;tOk3n&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/httpHeaders&gt;\n  &lt;/configuration&gt;\n&lt;/server&gt;\n</code></pre>\n<p><a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/packages/maven_repository/</a></p>\n"}],"owner":{"account_id":13584095,"reputation":33,"user_id":9832335,"display_name":"Narrador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679557282,"creation_date":1673826602,"question_id":75129197,"body_markdown":"I try to pull packages from Gitlab Package Registry, but get error:\r\nCould not find group:package:0.0.18-SNAPSHOT.\r\nThis package is really exist in package registry \r\nCan anybody help?\r\nam i missing something?\r\n\r\n**I&#39;ve tried with gradle:**\r\nbuild.gradle:\r\n\r\n    repositories {\r\n       mavenCentral(),\r\n       maven {\r\n           url &quot;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&quot;\r\n           name &quot;GitLab&quot;\r\n           credentials(HttpHeaderCredentials) {\r\n               name = &quot;&lt;deploy-token-username&gt;&quot;\r\n               value = &quot;deploy-token-value&quot;\r\n           }\r\n           authentication {\r\n               header(HttpHeaderAuthentication)\r\n           }\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&quot;&lt;group&gt;:&lt;package&gt;:0.0.18-SNAPSHOT&quot;) \r\n    }\r\n\r\n**And with maven:**\r\npom.xml:\r\n\r\n     &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;package&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.18-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n.../.m2/settings.xml:\r\n\r\n    &lt;settings&gt;\r\n       &lt;servers&gt;\r\n         &lt;server&gt;\r\n           &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n           &lt;configuration&gt;\r\n             &lt;httpHeaders&gt;\r\n               &lt;property&gt;\r\n                 &lt;name&gt;deploy-token-username&lt;/name&gt;\r\n                 &lt;value&gt;deploy-token-value&lt;/value&gt;\r\n               &lt;/property&gt;\r\n             &lt;/httpHeaders&gt;\r\n           &lt;/configuration&gt;\r\n         &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;","title":"Issue pulling package from Gitlab Package Registry Maven","body":"<p>I try to pull packages from Gitlab Package Registry, but get error:\nCould not find group:package:0.0.18-SNAPSHOT.\nThis package is really exist in package registry\nCan anybody help?\nam i missing something?</p>\n<p><strong>I've tried with gradle:</strong>\nbuild.gradle:</p>\n<pre><code>repositories {\n   mavenCentral(),\n   maven {\n       url &quot;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&quot;\n       name &quot;GitLab&quot;\n       credentials(HttpHeaderCredentials) {\n           name = &quot;&lt;deploy-token-username&gt;&quot;\n           value = &quot;deploy-token-value&quot;\n       }\n       authentication {\n           header(HttpHeaderAuthentication)\n       }\n   }\n}\n\ndependencies {\n    implementation(&quot;&lt;group&gt;:&lt;package&gt;:0.0.18-SNAPSHOT&quot;) \n}\n</code></pre>\n<p><strong>And with maven:</strong>\npom.xml:</p>\n<pre><code> &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;group&lt;/groupId&gt;\n        &lt;artifactId&gt;package&lt;/artifactId&gt;\n        &lt;version&gt;0.0.18-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>.../.m2/settings.xml:</p>\n<pre><code>&lt;settings&gt;\n   &lt;servers&gt;\n     &lt;server&gt;\n       &lt;id&gt;gitlab-maven&lt;/id&gt;\n       &lt;configuration&gt;\n         &lt;httpHeaders&gt;\n           &lt;property&gt;\n             &lt;name&gt;deploy-token-username&lt;/name&gt;\n             &lt;value&gt;deploy-token-value&lt;/value&gt;\n           &lt;/property&gt;\n         &lt;/httpHeaders&gt;\n       &lt;/configuration&gt;\n     &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":["java","file","split","java-8","nio"],"comments":[{"owner":{"account_id":431277,"reputation":1398,"user_id":815227,"accept_rate":52,"display_name":"kazbeel"},"score":0,"creation_date":1453445020,"post_id":34940498,"comment_id":57613003,"body_markdown":"You may just start reading and formating line per line until you reach 100k and then save the new *part* file.","body":"You may just start reading and formating line per line until you reach 100k and then save the new <i>part</i> file."},{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453449127,"post_id":34940498,"comment_id":57614810,"body_markdown":"@WoozyCoder, hi! :) That&#39;s basically what I&#39;ve said on the last part of my post. Haha. My question is how do I do that using Java 8? Code snippets would be really helpful. :)","body":"@WoozyCoder, hi! :) That&#39;s basically what I&#39;ve said on the last part of my post. Haha. My question is how do I do that using Java 8? Code snippets would be really helpful. :)"},{"owner":{"account_id":431277,"reputation":1398,"user_id":815227,"accept_rate":52,"display_name":"kazbeel"},"score":0,"creation_date":1453450091,"post_id":34940498,"comment_id":57615246,"body_markdown":"You could use an `List&lt;String&gt;` to store the formatted data (don&#39;t really know what you mean with this, though). When you reach 100k or the end of the file, create the *part* file, save the data contained in the `ArrayList&lt;String&gt;` and continue with the next bunch of lines. Here the thing is, what have you tried so far?","body":"You could use an <code>List&lt;String&gt;</code> to store the formatted data (don&#39;t really know what you mean with this, though). When you reach 100k or the end of the file, create the <i>part</i> file, save the data contained in the <code>ArrayList&lt;String&gt;</code> and continue with the next bunch of lines. Here the thing is, what have you tried so far?"},{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453688396,"post_id":34940498,"comment_id":57697264,"body_markdown":"@WoozyCoder tried your idea and it works with smaller files. Not sure how it&#39;ll fare with large files though. I&#39;ll also be trying Tunaki and Jatin&#39;s answers to test which of your ideas is more fast and memory-efficient, since I will be using this on a production scale environment. :)","body":"@WoozyCoder tried your idea and it works with smaller files. Not sure how it&#39;ll fare with large files though. I&#39;ll also be trying Tunaki and Jatin&#39;s answers to test which of your ideas is more fast and memory-efficient, since I will be using this on a production scale environment. :)"}],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453709724,"creation_date":1453451994,"answer_id":34942287,"question_id":34940498,"body_markdown":"From what I understand in question. A simple way can be:\r\n\r\n    BufferedReader buff = new BufferedReader(new FileReader(new File(&quot;H:\\\\Docs\\\\log.txt&quot;)));\r\n    Pair&lt;Integer, BufferedWriter&gt; ans = buff.lines().reduce(new Pair&lt;Integer, BufferedWriter&gt;(0, null), (count, line) -&gt; {\r\n        try {\r\n            BufferedWriter w;\r\n            if (count.getKey() % 1000 == 0) {\r\n                if (count.getValue() != null) count.getValue().close();\r\n                w = new BufferedWriter(new FileWriter(new File(&quot;f&quot; + count.getKey() + &quot;.txt&quot;)));\r\n            } else w = count.getValue();\r\n            w.write(line + &quot;\\n&quot;); //do something\r\n            return new Pair&lt;&gt;(count.getKey() + 1, w);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }, (x, y) -&gt; {\r\n        throw new RuntimeException(&quot;Not supproted&quot;);\r\n    });\r\n    ans.getValue().close();","title":"Processing and splitting large files with Java 8","body":"<p>From what I understand in question. A simple way can be:</p>\n\n<pre><code>BufferedReader buff = new BufferedReader(new FileReader(new File(\"H:\\\\Docs\\\\log.txt\")));\nPair&lt;Integer, BufferedWriter&gt; ans = buff.lines().reduce(new Pair&lt;Integer, BufferedWriter&gt;(0, null), (count, line) -&gt; {\n    try {\n        BufferedWriter w;\n        if (count.getKey() % 1000 == 0) {\n            if (count.getValue() != null) count.getValue().close();\n            w = new BufferedWriter(new FileWriter(new File(\"f\" + count.getKey() + \".txt\")));\n        } else w = count.getValue();\n        w.write(line + \"\\n\"); //do something\n        return new Pair&lt;&gt;(count.getKey() + 1, w);\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}, (x, y) -&gt; {\n    throw new RuntimeException(\"Not supproted\");\n});\nans.getValue().close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453454192,"creation_date":1453454192,"answer_id":34942971,"question_id":34940498,"body_markdown":"When you start conceiving batch processes, I think you should consider using a framework specialized in that. You may want to handle restarts, scheduling... [Spring Batch](http://projects.spring.io/spring-batch/) is very good for that and already provides what you want: [`MultiResourceItemWriter`](https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/MultiResourceItemWriter.html) that writes to multiple files with max lines per file and [`FlatFileItemReader`](https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/FlatFileItemReader.html) to read data from a file.\r\n\r\n&lt;hr&gt;\r\n\r\nIn this case, what you want is to loop over each line of an input file and write a transformation of each line in multiple output files.\r\n\r\nOne way to do that would be to create a Stream over the lines of the input file, map each line and send it to a custom writer. This custom writer would implement the logic of switching writer when it has reached the maximum number of lines per file.\r\n\r\nIn the following code `MyWriter` opens a `BufferedWriter` to a file. When the `maxLines` is reached (a multiple of it), this writer is closed and another one is opened, incrementing `currentFile`. This way, it is transparent for the reader that we&#39;re writing to multiple files.\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry (\r\n\t\t\tMyWriter writer = new MyWriter(10);\r\n\t\t\tStream&lt;String&gt; lines = Files.lines(Paths.get(&quot;path/to/file&quot;));\r\n\t\t) {\r\n\t\t\tlines.map(l -&gt; /* do transformation here */ l).forEach(writer::write);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class MyWriter implements AutoCloseable {\r\n\t\t\r\n\t\tprivate long count = 0, currentFile = 1, maxLines = 0;\r\n\t\tprivate BufferedWriter bw = null;\r\n\t\t\r\n\t\tpublic MyWriter(long maxLines) {\r\n\t\t\tthis.maxLines = maxLines;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void write(String line) {\r\n\t\t\ttry {\r\n\t\t\t\tif (count % maxLines == 0) {\r\n\t\t\t\t\tclose();\r\n\t\t\t\t\tbw = Files.newBufferedWriter(Paths.get(&quot;path/to/newFiles/newFile&quot; + currentFile++ + &quot;.txt&quot;));\r\n\t\t\t\t}\r\n\t\t\t\tbw.write(line);\r\n\t\t\t\tbw.newLine();\r\n\t\t\t\tcount++;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new UncheckedIOException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void close() throws IOException {\r\n\t\t\tif (bw != null) bw.close();\r\n\t\t}\r\n\t}\r\n","title":"Processing and splitting large files with Java 8","body":"<p>When you start conceiving batch processes, I think you should consider using a framework specialized in that. You may want to handle restarts, scheduling... <a href=\"http://projects.spring.io/spring-batch/\" rel=\"nofollow\">Spring Batch</a> is very good for that and already provides what you want: <a href=\"https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/MultiResourceItemWriter.html\" rel=\"nofollow\"><code>MultiResourceItemWriter</code></a> that writes to multiple files with max lines per file and <a href=\"https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/FlatFileItemReader.html\" rel=\"nofollow\"><code>FlatFileItemReader</code></a> to read data from a file.</p>\n\n<hr>\n\n<p>In this case, what you want is to loop over each line of an input file and write a transformation of each line in multiple output files.</p>\n\n<p>One way to do that would be to create a Stream over the lines of the input file, map each line and send it to a custom writer. This custom writer would implement the logic of switching writer when it has reached the maximum number of lines per file.</p>\n\n<p>In the following code <code>MyWriter</code> opens a <code>BufferedWriter</code> to a file. When the <code>maxLines</code> is reached (a multiple of it), this writer is closed and another one is opened, incrementing <code>currentFile</code>. This way, it is transparent for the reader that we're writing to multiple files.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    try (\n        MyWriter writer = new MyWriter(10);\n        Stream&lt;String&gt; lines = Files.lines(Paths.get(\"path/to/file\"));\n    ) {\n        lines.map(l -&gt; /* do transformation here */ l).forEach(writer::write);\n    }\n}\n\nprivate static class MyWriter implements AutoCloseable {\n\n    private long count = 0, currentFile = 1, maxLines = 0;\n    private BufferedWriter bw = null;\n\n    public MyWriter(long maxLines) {\n        this.maxLines = maxLines;\n    }\n\n    public void write(String line) {\n        try {\n            if (count % maxLines == 0) {\n                close();\n                bw = Files.newBufferedWriter(Paths.get(\"path/to/newFiles/newFile\" + currentFile++ + \".txt\"));\n            }\n            bw.write(line);\n            bw.newLine();\n            count++;\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n\n    @Override\n    public void close() throws IOException {\n        if (bw != null) bw.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5354,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679557259,"creation_date":1453444699,"question_id":34940498,"body_markdown":"I&#39;m new to Java 8 and I have just started using the NIO package for file-handling. I need help in how to process large files--varying from 100,000 lines to 1,000,000 lines per file--by transforming each line into a specific format and writing the formatted lines to new files. The new file(s) generated must only contain a maximum of 100,000 lines per file. So:\r\n\r\n - if I have a 500,000-line file for processing, I must transform those\r\n   lines and distribute and print them on 5 new files.  \r\n - if I have a 745,000-line file for processing, I must transform those\r\n   lines and print them on 8 new files.\r\n\r\nI&#39;m having a hard time figuring out an approach that will efficiently utilize the new features of Java 8. I&#39;ve started out with determining the number of new files to be generated based on the line count of the large file, and then creating those new empty files:\r\n\r\n    Path largFile = Path.get(&quot;path\\to\\file&quot;);\r\n    long recordCount = Files.lines(file).count();\r\n    int maxRecordOfNewFiles = 100000;\r\n    int numberOfNewFiles =  1;\r\n    if (recordCount &gt; maxRecordOfNewFiles) {\r\n\t    numberOfNewFiles = Math.toIntExact(recordCount / maxRecordOfNewFiles);\r\n\tif (Math.toIntExact(recordCount % maxRecordOfNewFiles) &gt; 0) {\r\n\t\tnumberOfNewFiles ++;\r\n\t}\r\n    }\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    IntStream.rangeClosed(1, numberOfNewFiles).forEach((i) \r\n\t    -&gt; {\r\n\t\t    try {\r\n\t\t\t    Path newFile = Paths.get(&quot;path\\to\\newFiles\\newFile1.txt&quot;);\r\n\t\t\t\t        \tFiles.createFile(cdpFile);\r\n\t\t\t } catch (IOException iOex) {\r\n\t\t\t }\r\n\t\t\t});\r\n\r\n\r\nBut as I go through the the lines of the `largeFile` through the `Files.lines(largeFile).forEach(())` capability, I got lost on how to proceed with formatting the first 100,000 lines and then determining the first of the new files and printing them on that file, and then the second batch of 100,000 to the second new file, and so on.\r\n\r\nAny help will be appreciated. :)","title":"Processing and splitting large files with Java 8","body":"<p>I'm new to Java 8 and I have just started using the NIO package for file-handling. I need help in how to process large files--varying from 100,000 lines to 1,000,000 lines per file--by transforming each line into a specific format and writing the formatted lines to new files. The new file(s) generated must only contain a maximum of 100,000 lines per file. So:</p>\n\n<ul>\n<li>if I have a 500,000-line file for processing, I must transform those\nlines and distribute and print them on 5 new files.  </li>\n<li>if I have a 745,000-line file for processing, I must transform those\nlines and print them on 8 new files.</li>\n</ul>\n\n<p>I'm having a hard time figuring out an approach that will efficiently utilize the new features of Java 8. I've started out with determining the number of new files to be generated based on the line count of the large file, and then creating those new empty files:</p>\n\n<pre><code>Path largFile = Path.get(\"path\\to\\file\");\nlong recordCount = Files.lines(file).count();\nint maxRecordOfNewFiles = 100000;\nint numberOfNewFiles =  1;\nif (recordCount &gt; maxRecordOfNewFiles) {\n    numberOfNewFiles = Math.toIntExact(recordCount / maxRecordOfNewFiles);\nif (Math.toIntExact(recordCount % maxRecordOfNewFiles) &gt; 0) {\n    numberOfNewFiles ++;\n}\n}\n\nIntStream.rangeClosed(1, numberOfNewFiles).forEach((i) \n    -&gt; {\n        try {\n            Path newFile = Paths.get(\"path\\to\\newFiles\\newFile1.txt\");\n                        Files.createFile(cdpFile);\n         } catch (IOException iOex) {\n         }\n        });\n</code></pre>\n\n<p>But as I go through the the lines of the <code>largeFile</code> through the <code>Files.lines(largeFile).forEach(())</code> capability, I got lost on how to proceed with formatting the first 100,000 lines and then determining the first of the new files and printing them on that file, and then the second batch of 100,000 to the second new file, and so on.</p>\n\n<p>Any help will be appreciated. :)</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":43213,"reputation":497,"user_id":126217,"accept_rate":75,"display_name":"digital illusion"},"score":0,"creation_date":1308134025,"post_id":6356340,"comment_id":7439896,"body_markdown":"java runs in a virtual machine, it&#39;s like a closed box; by no means you kill a system process in pure java. There might be options invoking native interfaces. See JNI or JNA","body":"java runs in a virtual machine, it&#39;s like a closed box; by no means you kill a system process in pure java. There might be options invoking native interfaces. See JNI or JNA"},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1421307319,"post_id":6356340,"comment_id":44311237,"body_markdown":"What trick resolved your issue ? I am also facing the same issue. I have described details here:\nhttp://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder","body":"What trick resolved your issue ? I am also facing the same issue. I have described details here: <a href=\"http://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder\" title=\"how to terminate a process normally created using processbuilder\">stackoverflow.com/questions/27942679/&hellip;</a>"},{"owner":{"account_id":347193,"reputation":3284,"user_id":681159,"accept_rate":98,"display_name":"Jeel Shah"},"score":1,"creation_date":1464263844,"post_id":6356340,"comment_id":62419389,"body_markdown":"@BilalAhmedYaseen I used the selected answer and the answer by  Lakshitha Ranasingha, they did the trick for me.","body":"@BilalAhmedYaseen I used the selected answer and the answer by  Lakshitha Ranasingha, they did the trick for me."}],"answers":[{"tags":[],"owner":{"account_id":104480,"reputation":6890,"user_id":279320,"accept_rate":76,"display_name":"Yohan Liyanage"},"down_vote_count":2,"up_vote_count":65,"is_accepted":true,"score":63,"last_activity_date":1661424125,"creation_date":1308134271,"answer_id":6356410,"question_id":6356340,"body_markdown":"If you start the process from with in your Java application (ex. by calling `Runtime.exec()` or `ProcessBuilder.start()`) then you have a valid `Process` reference to it, and you can invoke the `destroy()` method in `Process` class to kill that particular process. \r\n\r\nBut be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see https://bugs.openjdk.org/browse/JDK-4770092).\r\n\r\nOn the other hand, if you want to kill external processes (which you did not spawn from your Java app), then one thing you can do is to call O/S utilities which allow you to do that. For example, you can try a `Runtime.exec()` on `kill` command under Unix / Linux and check for return values to ensure that the application was killed or not (0 means success, -1 means error). But that of course will make your application platform dependent.","title":"Killing a process using Java","body":"<p>If you start the process from with in your Java application (ex. by calling <code>Runtime.exec()</code> or <code>ProcessBuilder.start()</code>) then you have a valid <code>Process</code> reference to it, and you can invoke the <code>destroy()</code> method in <code>Process</code> class to kill that particular process.</p>\n<p>But be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see <a href=\"https://bugs.openjdk.org/browse/JDK-4770092\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-4770092</a>).</p>\n<p>On the other hand, if you want to kill external processes (which you did not spawn from your Java app), then one thing you can do is to call O/S utilities which allow you to do that. For example, you can try a <code>Runtime.exec()</code> on <code>kill</code> command under Unix / Linux and check for return values to ensure that the application was killed or not (0 means success, -1 means error). But that of course will make your application platform dependent.</p>\n"},{"tags":[],"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1308134962,"creation_date":1308134328,"answer_id":6356423,"question_id":6356340,"body_markdown":"AFAIU java.lang.Process is the process created by java itself (like Runtime.exec(&#39;firefox&#39;))\r\n\r\nYou can use system-dependant commands like \r\n \r\n\r\n     Runtime rt = Runtime.getRuntime();\r\n      if (System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) &gt; -1) \r\n         rt.exec(&quot;taskkill &quot; +....);\r\n       else\r\n         rt.exec(&quot;kill -9 &quot; +....);\r\n\r\n","title":"Killing a process using Java","body":"<p>AFAIU java.lang.Process is the process created by java itself (like Runtime.exec('firefox'))</p>\n\n<p>You can use system-dependant commands like </p>\n\n<pre><code> Runtime rt = Runtime.getRuntime();\n  if (System.getProperty(\"os.name\").toLowerCase().indexOf(\"windows\") &gt; -1) \n     rt.exec(\"taskkill \" +....);\n   else\n     rt.exec(\"kill -9 \" +....);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":3,"up_vote_count":65,"is_accepted":false,"score":62,"last_activity_date":1551657715,"creation_date":1341595035,"answer_id":11366828,"question_id":6356340,"body_markdown":"On Windows, you could use this command. \r\n\r\n    taskkill /F /IM &lt;processname&gt;.exe \r\n\r\nTo kill it forcefully, you may use;\r\n\r\n    Runtime.getRuntime().exec(&quot;taskkill /F /IM &lt;processname&gt;.exe&quot;)","title":"Killing a process using Java","body":"<p>On Windows, you could use this command. </p>\n\n<pre><code>taskkill /F /IM &lt;processname&gt;.exe \n</code></pre>\n\n<p>To kill it forcefully, you may use;</p>\n\n<pre><code>Runtime.getRuntime().exec(\"taskkill /F /IM &lt;processname&gt;.exe\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1366892638,"creation_date":1366892638,"answer_id":16214693,"question_id":6356340,"body_markdown":"It might be a java interpreter defect, but java on HPUX does not do a kill -9, but only a kill -TERM.\r\n\r\nI did a small test testDestroy.java: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(args);\r\n    Process process = pb.start();\r\n    Thread.sleep(1000);\r\n    process.destroy();\r\n    process.waitFor();\r\n\r\nAnd the invocation:\r\n\r\n    $ tusc -f -p -s signal,kill -e /opt/java1.5/bin/java testDestroy sh -c &#39;trap &quot;echo TERM&quot; TERM; sleep 10&#39;\r\n\r\ndies after 10s (not killed after 1s as expected) and shows:\r\n\r\n    ...\r\n    [19999]   Received signal 15, SIGTERM, in waitpid(), [caught], no siginfo\r\n    [19998] kill(19999, SIGTERM) ............................................................................. = 0\r\n    ...\r\n   \r\nDoing the same on windows seems to kill the process fine even if signal is handled (but that might be due to windows not using signals to destroy).\r\n\r\nActually i found https://stackoverflow.com/questions/10630303/java-process-destroy-source-code-for-linux related thread and openjava implementation seems to use -TERM as well, which seems very wrong.","title":"Killing a process using Java","body":"<p>It might be a java interpreter defect, but java on HPUX does not do a kill -9, but only a kill -TERM.</p>\n\n<p>I did a small test testDestroy.java: </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(args);\nProcess process = pb.start();\nThread.sleep(1000);\nprocess.destroy();\nprocess.waitFor();\n</code></pre>\n\n<p>And the invocation:</p>\n\n<pre><code>$ tusc -f -p -s signal,kill -e /opt/java1.5/bin/java testDestroy sh -c 'trap \"echo TERM\" TERM; sleep 10'\n</code></pre>\n\n<p>dies after 10s (not killed after 1s as expected) and shows:</p>\n\n<pre><code>...\n[19999]   Received signal 15, SIGTERM, in waitpid(), [caught], no siginfo\n[19998] kill(19999, SIGTERM) ............................................................................. = 0\n...\n</code></pre>\n\n<p>Doing the same on windows seems to kill the process fine even if signal is handled (but that might be due to windows not using signals to destroy).</p>\n\n<p>Actually i found <a href=\"https://stackoverflow.com/questions/10630303/java-process-destroy-source-code-for-linux\">Java - Process.destroy() source code for Linux</a> related thread and openjava implementation seems to use -TERM as well, which seems very wrong.</p>\n"},{"tags":[],"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1372781980,"creation_date":1372781980,"answer_id":17430683,"question_id":6356340,"body_markdown":"Accidentally i stumbled upon another way to do a force kill on Unix (for those who use Weblogic). This is cheaper and more elegant than running /bin/kill -9 via **Runtime.exec()**.\r\n\r\n    import weblogic.nodemanager.util.Platform;\r\n    import weblogic.nodemanager.util.ProcessControl;\r\n    ...\r\n    ProcessControl pctl = Platform.getProcessControl();\r\n    pctl.killProcess(pid);\r\n\r\nAnd if you struggle to get the pid, you can use reflection on **java.lang.UNIXProcess**, e.g.:\r\n\r\n    Process proc = Runtime.getRuntime().exec(cmdarray, envp);\r\n    if (proc instanceof UNIXProcess) {\r\n        Field f = proc.getClass().getDeclaredField(&quot;pid&quot;);\r\n        f.setAccessible(true);\r\n        int pid = f.get(proc);\r\n    }","title":"Killing a process using Java","body":"<p>Accidentally i stumbled upon another way to do a force kill on Unix (for those who use Weblogic). This is cheaper and more elegant than running /bin/kill -9 via <strong>Runtime.exec()</strong>.</p>\n\n<pre><code>import weblogic.nodemanager.util.Platform;\nimport weblogic.nodemanager.util.ProcessControl;\n...\nProcessControl pctl = Platform.getProcessControl();\npctl.killProcess(pid);\n</code></pre>\n\n<p>And if you struggle to get the pid, you can use reflection on <strong>java.lang.UNIXProcess</strong>, e.g.:</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(cmdarray, envp);\nif (proc instanceof UNIXProcess) {\n    Field f = proc.getClass().getDeclaredField(\"pid\");\n    f.setAccessible(true);\n    int pid = f.get(proc);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3492451,"reputation":59,"user_id":2921751,"display_name":"Haysa Rodrigues"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537997119,"creation_date":1489714916,"answer_id":42847787,"question_id":6356340,"body_markdown":"Try it:\r\n\r\n    String command = &quot;killall &lt;your_proccess&gt;&quot;;\r\n    Process p = Runtime.getRuntime().exec(command);\r\n    p.destroy();\r\n\r\nif the process is still alive, add:\r\n        \r\n    p.destroyForcibly();\r\n\r\n","title":"Killing a process using Java","body":"<p>Try it:</p>\n\n<pre><code>String command = \"killall &lt;your_proccess&gt;\";\nProcess p = Runtime.getRuntime().exec(command);\np.destroy();\n</code></pre>\n\n<p>if the process is still alive, add:</p>\n\n<pre><code>p.destroyForcibly();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298503,"reputation":63,"user_id":1248899,"display_name":"Jamie Lister"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529987828,"creation_date":1529987828,"answer_id":51034967,"question_id":6356340,"body_markdown":"You can kill a (SIGTERM) a windows process that was started from Java by calling the destroy method on the Process object. You can also kill any child Processes (since Java 9). \r\n\r\nThe following code starts a batch file, waits for ten seconds then kills all sub-processes and finally kills the batch process itself.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;cmd /c my_script.bat&quot;));\r\n    Process p = pb.start();\r\n    p.waitFor(10, TimeUnit.SECONDS);\r\n\r\n    p.descendants().forEach(ph -&gt; {\r\n        ph.destroy();\r\n\t});\r\n\t\t\t\t\r\n\tp.destroy();\r\n\t\t\r\n\t","title":"Killing a process using Java","body":"<p>You can kill a (SIGTERM) a windows process that was started from Java by calling the destroy method on the Process object. You can also kill any child Processes (since Java 9). </p>\n\n<p>The following code starts a batch file, waits for ten seconds then kills all sub-processes and finally kills the batch process itself.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"cmd /c my_script.bat\"));\nProcess p = pb.start();\np.waitFor(10, TimeUnit.SECONDS);\n\np.descendants().forEach(ph -&gt; {\n    ph.destroy();\n});\n\np.destroy();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12852886,"reputation":56785,"user_id":9297144,"display_name":"Xavier Guihot"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1679557093,"creation_date":1537996053,"answer_id":52526035,"question_id":6356340,"body_markdown":"With `Java 9`, we can use [ProcessHandle](https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html) which makes it easier to identify and control native processes:\r\n\r\n    ProcessHandle\r\n      .allProcesses()\r\n      .filter(p -&gt; p.info().commandLine().map(c -&gt; c.contains(&quot;firefox&quot;)).orElse(false))\r\n      .findFirst()\r\n      .ifPresent(ProcessHandle::destroy)\r\n\r\nwhere &quot;firefox&quot; is the process to kill.\r\n\r\nThis:\r\n\r\n* First lists all processes running on the system as a `Stream&lt;ProcessHandle&gt;`\r\n\r\n* Lazily filters this stream to only keep processes whose launched command line contains &quot;firefox&quot;. Both `commandLine` or `command` can be used depending on how we want to retrieve the process.\r\n\r\n* Finds the first filtered process meeting the filtering condition.\r\n\r\n* And if at least one process&#39; command line contained &quot;firefox&quot;, then kills it using `destroy`.\r\n\r\nNo import necessary as `ProcessHandle` is part of `java.lang`.\r\n","title":"Killing a process using Java","body":"<p>With <code>Java 9</code>, we can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\">ProcessHandle</a> which makes it easier to identify and control native processes:</p>\n<pre><code>ProcessHandle\n  .allProcesses()\n  .filter(p -&gt; p.info().commandLine().map(c -&gt; c.contains(&quot;firefox&quot;)).orElse(false))\n  .findFirst()\n  .ifPresent(ProcessHandle::destroy)\n</code></pre>\n<p>where &quot;firefox&quot; is the process to kill.</p>\n<p>This:</p>\n<ul>\n<li><p>First lists all processes running on the system as a <code>Stream&lt;ProcessHandle&gt;</code></p>\n</li>\n<li><p>Lazily filters this stream to only keep processes whose launched command line contains &quot;firefox&quot;. Both <code>commandLine</code> or <code>command</code> can be used depending on how we want to retrieve the process.</p>\n</li>\n<li><p>Finds the first filtered process meeting the filtering condition.</p>\n</li>\n<li><p>And if at least one process' command line contained &quot;firefox&quot;, then kills it using <code>destroy</code>.</p>\n</li>\n</ul>\n<p>No import necessary as <code>ProcessHandle</code> is part of <code>java.lang</code>.</p>\n"}],"owner":{"account_id":347193,"reputation":3284,"user_id":681159,"accept_rate":98,"display_name":"Jeel Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209569,"favorite_count":0,"down_vote_count":2,"up_vote_count":81,"accepted_answer_id":6356410,"answer_count":8,"score":79,"last_activity_date":1679557093,"creation_date":1308133778,"question_id":6356340,"body_markdown":"I would like to know how to &quot;kill&quot; a process that has started up. I am aware of the Process API, but I am not sure, If I can use that to &quot;kill&quot; an already running process, such as firefox.exe etc. If the Process API can be used, can you please point me into the correct direction? If not, what are the other available options? Thanks.","title":"Killing a process using Java","body":"<p>I would like to know how to \"kill\" a process that has started up. I am aware of the Process API, but I am not sure, If I can use that to \"kill\" an already running process, such as firefox.exe etc. If the Process API can be used, can you please point me into the correct direction? If not, what are the other available options? Thanks.</p>\n"},{"tags":["java","return","return-value","matcher"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1679555939,"post_id":75820114,"comment_id":133743387,"body_markdown":"You cant. The caller has to have the fallback logic, not this method. The caller has to do `if (result == null) dont do anything` or similar. By the way, you should prefer to use `Optional` as return type to indicate absence of a result, not `null` or `&quot;&quot;`.","body":"You cant. The caller has to have the fallback logic, not this method. The caller has to do <code>if (result == null) dont do anything</code> or similar. By the way, you should prefer to use <code>Optional</code> as return type to indicate absence of a result, not <code>null</code> or <code>&quot;&quot;</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679555984,"post_id":75820114,"comment_id":133743393,"body_markdown":"Hi&amp; Welcome! Maybe you *want* a `void` method, that (occasionally) prints... (The `if` statement is in place) When you have to stick with this &quot;signature&quot;, then your (only!?) choice is to print (only) `if (result != null)`..","body":"Hi&amp; Welcome! Maybe you <i>want</i> a <code>void</code> method, that (occasionally) prints... (The <code>if</code> statement is in place) When you have to stick with this &quot;signature&quot;, then your (only!?) choice is to print (only) <code>if (result != null)</code>.."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1679555995,"post_id":75820114,"comment_id":133743395,"body_markdown":"maybe a null check with the function call? `String output = pba[i].nameToPhone(&quot;name&quot;); if (output != null) { System.out.print(output); }`","body":"maybe a null check with the function call? <code>String output = pba[i].nameToPhone(&quot;name&quot;); if (output != null) { System.out.print(output); }</code>"},{"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"score":1,"creation_date":1679556383,"post_id":75820114,"comment_id":133743460,"body_markdown":"@Zabuzard thanks! it works and now only i know the Optional value","body":"@Zabuzard thanks! it works and now only i know the Optional value"},{"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"score":1,"creation_date":1679556519,"post_id":75820114,"comment_id":133743481,"body_markdown":"@xerx593 i have tried that and it also works! however, i think applying `result != null` logic in the main program leaves less stacktrace (maybee) but thank you very much","body":"@xerx593 i have tried that and it also works! however, i think applying <code>result != null</code> logic in the main program leaves less stacktrace (maybee) but thank you very much"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1679556708,"post_id":75820114,"comment_id":133743528,"body_markdown":"If you return `Optional`, the call site could look like `pba[i].nameToPhone(&quot;name&quot;).ifPresent(System.out::println);`, which is fairly compact and readable. Generally, you should prefer that over `null` and `&quot;&quot;` for multiple reasons.","body":"If you return <code>Optional</code>, the call site could look like <code>pba[i].nameToPhone(&quot;name&quot;).ifPresent(System.out::println);</code>, which is fairly compact and readable. Generally, you should prefer that over <code>null</code> and <code>&quot;&quot;</code> for multiple reasons."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679557093,"post_id":75820114,"comment_id":133743603,"body_markdown":"You can return java.lang.Void &quot;type&quot; in java. Much alike void (no type) as a method type. The clause is for the java.lang.Void method type use the return statement with null. So, public java.lang.Void noValueBack(){ // Some code here;  return null; }","body":"You can return java.lang.Void &quot;type&quot; in java. Much alike void (no type) as a method type. The clause is for the java.lang.Void method type use the return statement with null. So, public java.lang.Void noValueBack(){ // Some code here;  return null; }"}],"answers":[{"tags":[],"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679557053,"creation_date":1679556946,"answer_id":75820245,"question_id":75820114,"body_markdown":"&gt; You cant. The caller has to have the fallback logic, not this method. The caller has to do `if (result == null)` dont do anything or similar. By the way, you should prefer to use `Optional` as return type to indicate absence of a result, not `null` or `&quot;&quot;`. – [Zabuzard](https://stackoverflow.com/users/2411243/zabuzard)","title":"How to return nothing in Java","body":"<blockquote>\n<p>You cant. The caller has to have the fallback logic, not this method. The caller has to do <code>if (result == null)</code> dont do anything or similar. By the way, you should prefer to use <code>Optional</code> as return type to indicate absence of a result, not <code>null</code> or <code>&quot;&quot;</code>. – <a href=\"https://stackoverflow.com/users/2411243/zabuzard\">Zabuzard</a></p>\n</blockquote>\n"}],"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679557053,"creation_date":1679555711,"question_id":75820114,"body_markdown":"```\r\npublic String nameToPhone(String inputName) {\r\n        /* (c) Allow the user to search a contact’s phone number using his/her name. */\r\n        Pattern p;\r\n        Matcher m;\r\n\r\n        // Store name as pattern\r\n        p = Pattern.compile(inputName);\r\n        // Match pattern with array name\r\n        m = p.matcher(this.name);\r\n        if (m.matches())\r\n            return this.phoneNum;\r\n        else\r\n            return null;\r\n\r\n    }\r\n```\r\n\r\nThe function will be called with `System.out.print(phonebookArray[i].nameToPhone)`  \r\n\r\nExpected output:  \r\ndisplay only phone number if searched name exist  \r\n\r\nActual output:\r\n1. `else return null` will display phone number and also &quot;null&quot; if name exist\r\n2. `else return &quot;&quot;` will display phone number and a blank line if name exist  \r\n\r\nThe issue is `return null` will display null and `return &quot;&quot;` will display a blank line. How can I return absolutely nothing?","title":"How to return nothing in Java","body":"<pre><code>public String nameToPhone(String inputName) {\n        /* (c) Allow the user to search a contact’s phone number using his/her name. */\n        Pattern p;\n        Matcher m;\n\n        // Store name as pattern\n        p = Pattern.compile(inputName);\n        // Match pattern with array name\n        m = p.matcher(this.name);\n        if (m.matches())\n            return this.phoneNum;\n        else\n            return null;\n\n    }\n</code></pre>\n<p>The function will be called with <code>System.out.print(phonebookArray[i].nameToPhone)</code></p>\n<p>Expected output:<br />\ndisplay only phone number if searched name exist</p>\n<p>Actual output:</p>\n<ol>\n<li><code>else return null</code> will display phone number and also &quot;null&quot; if name exist</li>\n<li><code>else return &quot;&quot;</code> will display phone number and a blank line if name exist</li>\n</ol>\n<p>The issue is <code>return null</code> will display null and <code>return &quot;&quot;</code> will display a blank line. How can I return absolutely nothing?</p>\n"},{"tags":["java","spring","spring-boot","aop","aspectj"],"answers":[{"tags":[],"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679518632,"creation_date":1679518632,"answer_id":75817212,"question_id":75813219,"body_markdown":"An Aspect acts as a proxy and only triggers when the function it’s set on is called from another class. If you have a function annotated with @WithTennant in a regular class and call that function from another function within the same class it also won’t trigger the aspect. Unless you want to test using an implementation in your code directly, I don’t see how you could do it without a helper class like you did.","title":"How can I use an Aspect on a SpringBootTest","body":"<p>An Aspect acts as a proxy and only triggers when the function it’s set on is called from another class. If you have a function annotated with @WithTennant in a regular class and call that function from another function within the same class it also won’t trigger the aspect. Unless you want to test using an implementation in your code directly, I don’t see how you could do it without a helper class like you did.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679556891,"creation_date":1679556173,"answer_id":75820164,"question_id":75813219,"body_markdown":"I also recommend a separate `@Component` to be used in the test. You can, however, do something contrived in order to get it working with a method annotated in the test directly:\r\n* Add a `@Component` annotation to the test class or a corresponding XML `&lt;bean/&gt;` definition.\r\n* Add `@Autowired @Lazy private AspectTest aspectTest;` to your test.\r\n* Annotate a helper method within the test class, which is **not** a `@Test`.\r\n* Call that method from a `@Test` like so: `aspectTest.myHelper()`.\r\n\r\nNow the aspect will be triggered.\r\n\r\nI am not recommending this, it is super ugly. But it works and shows you that\r\n  * Spring AOP aspects only work on Spring components (native AspectJ aspects have no such limitations),\r\n  * [self-invocation does not work on Spring proxies](https://stackoverflow.com/a/56616248/1082681), i.e. you need the trick to auto-wire a proxy instance into its own class and use that proxy to call methods, if you want Spring AOP to kick in (again, in native AspectJ this would be unnecessary).","title":"How can I use an Aspect on a SpringBootTest","body":"<p>I also recommend a separate <code>@Component</code> to be used in the test. You can, however, do something contrived in order to get it working with a method annotated in the test directly:</p>\n<ul>\n<li>Add a <code>@Component</code> annotation to the test class or a corresponding XML <code>&lt;bean/&gt;</code> definition.</li>\n<li>Add <code>@Autowired @Lazy private AspectTest aspectTest;</code> to your test.</li>\n<li>Annotate a helper method within the test class, which is <strong>not</strong> a <code>@Test</code>.</li>\n<li>Call that method from a <code>@Test</code> like so: <code>aspectTest.myHelper()</code>.</li>\n</ul>\n<p>Now the aspect will be triggered.</p>\n<p>I am not recommending this, it is super ugly. But it works and shows you that</p>\n<ul>\n<li>Spring AOP aspects only work on Spring components (native AspectJ aspects have no such limitations),</li>\n<li><a href=\"https://stackoverflow.com/a/56616248/1082681\">self-invocation does not work on Spring proxies</a>, i.e. you need the trick to auto-wire a proxy instance into its own class and use that proxy to call methods, if you want Spring AOP to kick in (again, in native AspectJ this would be unnecessary).</li>\n</ul>\n"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75820164,"answer_count":2,"score":1,"last_activity_date":1679556891,"creation_date":1679493491,"question_id":75813219,"body_markdown":"I have an aspect that I have created that does not work when utilised directly on a Test method, but does work when added to a helper component. How can I get this working when I use it directly.\r\n\r\nSo in the code below testAspect fails, but testAspectHelper succeeds.\r\n\r\nA breakpoint within the aspect shows the code isn&#39;t hit in the failing test, but is hit in the test that passes.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.opennms.horizon.inventory.SpringContextTestInitializer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.actuate.observability.AutoConfigureObservability;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.ContextConfiguration;\r\n\r\n@SpringBootTest\r\n@ContextConfiguration(initializers = {SpringContextTestInitializer.class})\r\n@AutoConfigureObservability\r\npublic class AspectTest {\r\n    @Autowired\r\n    AspectTestHelper aspectTestHelper;\r\n\r\n    @Test\r\n    @WithTenant(tenantId = &quot;Fred&quot;)\r\n    public void testAspect() {\r\n        // Test fails\r\n        assert(&quot;Fred&quot;.equals(TenantContext.getTenantId()));\r\n    }\r\n\r\n    @Test\r\n    public void testAspectHelper() {\r\n        // Test succeeds\r\n        aspectTestHelper.setTenant();\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class AspectTestHelper {\r\n    @WithTenant(tenantId = &quot;Alex&quot;)\r\n    public void setTenant() {\r\n        assert(&quot;Alex&quot;.equals(TenantContext.getTenantId()));\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface WithTenant {\r\n    String tenantId() default &quot;&quot;;\r\n    int tenantIdArg() default -1;\r\n    String tenantIdArgInternalMethod() default &quot;&quot;;\r\n    String tenantIdArgInternalClass() default &quot;&quot;;\r\n}\r\n```\r\n```\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\n@Component\r\n@Aspect\r\npublic class WithTenantAspect {\r\n    private static final Logger LOG = LoggerFactory.getLogger(WithTenantAspect.class);\r\n\r\n    @Autowired\r\n    private TenantLookup tenantLookup;\r\n\r\n    @Around((&quot;@annotation(withTenant)&quot;))\r\n    public Object getTenant(ProceedingJoinPoint joinPoint, WithTenant withTenant) throws Throwable {\r\n        String tenantId = withTenant.tenantId();\r\n        int tenantIdArg = withTenant.tenantIdArg();\r\n        String tenantIdArgInternalMethod = withTenant.tenantIdArgInternalMethod();\r\n        String tenantIdArgInternalClass = withTenant.tenantIdArgInternalClass();\r\n\r\n        if (tenantIdArg &gt;= 0) {\r\n            Object[] args = joinPoint.getArgs();\r\n            if (args.length &lt;= tenantIdArg) {\r\n                throw new RuntimeException(&quot;TenantIdArg position is greater than the number of arguments to the method&quot;);\r\n            }\r\n            if (tenantIdArgInternalMethod == null || tenantIdArgInternalMethod.isEmpty() || tenantIdArgInternalClass == null || tenantIdArgInternalClass.isEmpty()) {\r\n                tenantId = String.valueOf(args[tenantIdArg]);\r\n            } else {\r\n                Object tenantObj = args[tenantIdArg];\r\n                Class clazz = Class.forName(tenantIdArgInternalClass);\r\n                Method method = clazz.getMethod(tenantIdArgInternalMethod);\r\n                Object tenant = method.invoke(tenantObj);\r\n                tenantId = String.valueOf(tenant);\r\n            }\r\n        }\r\n\r\n        if (tenantId == null || tenantId.isEmpty()) {\r\n            tenantId = tenantLookup.lookupTenantId().orElseThrow();\r\n        }\r\n\r\n        try {\r\n            TenantContext.setTenantId(tenantId);\r\n            Object proceed = joinPoint.proceed();\r\n            return proceed;\r\n        } finally {\r\n            TenantContext.clear();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can I use an Aspect on a SpringBootTest","body":"<p>I have an aspect that I have created that does not work when utilised directly on a Test method, but does work when added to a helper component. How can I get this working when I use it directly.</p>\n<p>So in the code below testAspect fails, but testAspectHelper succeeds.</p>\n<p>A breakpoint within the aspect shows the code isn't hit in the failing test, but is hit in the test that passes.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.opennms.horizon.inventory.SpringContextTestInitializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.actuate.observability.AutoConfigureObservability;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ContextConfiguration;\n\n@SpringBootTest\n@ContextConfiguration(initializers = {SpringContextTestInitializer.class})\n@AutoConfigureObservability\npublic class AspectTest {\n    @Autowired\n    AspectTestHelper aspectTestHelper;\n\n    @Test\n    @WithTenant(tenantId = &quot;Fred&quot;)\n    public void testAspect() {\n        // Test fails\n        assert(&quot;Fred&quot;.equals(TenantContext.getTenantId()));\n    }\n\n    @Test\n    public void testAspectHelper() {\n        // Test succeeds\n        aspectTestHelper.setTenant();\n    }\n}\n\n</code></pre>\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class AspectTestHelper {\n    @WithTenant(tenantId = &quot;Alex&quot;)\n    public void setTenant() {\n        assert(&quot;Alex&quot;.equals(TenantContext.getTenantId()));\n    }\n}\n\n</code></pre>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface WithTenant {\n    String tenantId() default &quot;&quot;;\n    int tenantIdArg() default -1;\n    String tenantIdArgInternalMethod() default &quot;&quot;;\n    String tenantIdArgInternalClass() default &quot;&quot;;\n}\n</code></pre>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Method;\n\n@Component\n@Aspect\npublic class WithTenantAspect {\n    private static final Logger LOG = LoggerFactory.getLogger(WithTenantAspect.class);\n\n    @Autowired\n    private TenantLookup tenantLookup;\n\n    @Around((&quot;@annotation(withTenant)&quot;))\n    public Object getTenant(ProceedingJoinPoint joinPoint, WithTenant withTenant) throws Throwable {\n        String tenantId = withTenant.tenantId();\n        int tenantIdArg = withTenant.tenantIdArg();\n        String tenantIdArgInternalMethod = withTenant.tenantIdArgInternalMethod();\n        String tenantIdArgInternalClass = withTenant.tenantIdArgInternalClass();\n\n        if (tenantIdArg &gt;= 0) {\n            Object[] args = joinPoint.getArgs();\n            if (args.length &lt;= tenantIdArg) {\n                throw new RuntimeException(&quot;TenantIdArg position is greater than the number of arguments to the method&quot;);\n            }\n            if (tenantIdArgInternalMethod == null || tenantIdArgInternalMethod.isEmpty() || tenantIdArgInternalClass == null || tenantIdArgInternalClass.isEmpty()) {\n                tenantId = String.valueOf(args[tenantIdArg]);\n            } else {\n                Object tenantObj = args[tenantIdArg];\n                Class clazz = Class.forName(tenantIdArgInternalClass);\n                Method method = clazz.getMethod(tenantIdArgInternalMethod);\n                Object tenant = method.invoke(tenantObj);\n                tenantId = String.valueOf(tenant);\n            }\n        }\n\n        if (tenantId == null || tenantId.isEmpty()) {\n            tenantId = tenantLookup.lookupTenantId().orElseThrow();\n        }\n\n        try {\n            TenantContext.setTenantId(tenantId);\n            Object proceed = joinPoint.proceed();\n            return proceed;\n        } finally {\n            TenantContext.clear();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1626862848,"post_id":68467601,"comment_id":121003463,"body_markdown":"There are tools like jenv","body":"There are tools like jenv"},{"owner":{"account_id":5077122,"reputation":166,"user_id":4074204,"display_name":"Wasim Zarin"},"score":10,"creation_date":1626864185,"post_id":68467601,"comment_id":121003968,"body_markdown":"A sidenote: In Java there is something called the classpath. Each application has their own classpath from where they can load dependencies. Thus we can say that  the dependencies of an application are somewhat already isolated. There is no global system wide installation of libraries. Therefore, the problem that virtualenv tries to solve is already somewhat solved by the classpath.","body":"A sidenote: In Java there is something called the classpath. Each application has their own classpath from where they can load dependencies. Thus we can say that  the dependencies of an application are somewhat already isolated. There is no global system wide installation of libraries. Therefore, the problem that virtualenv tries to solve is already somewhat solved by the classpath."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679562451,"post_id":68467601,"comment_id":133744782,"body_markdown":"So in summary: You don&#39;t need a venv for Java/Kotlin. Which is good, managing python venv is a nuisance at best.","body":"So in summary: You don&#39;t need a venv for Java/Kotlin. Which is good, managing python venv is a nuisance at best."}],"answers":[{"tags":[],"owner":{"account_id":3999217,"reputation":185,"user_id":3295701,"display_name":"SunTechnique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679556262,"creation_date":1679556262,"answer_id":75820179,"question_id":68467601,"body_markdown":"For Java - jenv\r\n\r\nFor Kotlin - Scoop (and jenv maybe)","title":"virtual environment for Java/Kotlin","body":"<p>For Java - jenv</p>\n<p>For Kotlin - Scoop (and jenv maybe)</p>\n"}],"owner":{"account_id":21618570,"reputation":21,"user_id":15943971,"display_name":"Afshan Navazdeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679556262,"creation_date":1626861784,"question_id":68467601,"body_markdown":"Does other languages like Java or Kotlin has a feature of virtual environment like python does?\r\n\r\nI have tried google searches but all the results are for Venv on Python only.","title":"virtual environment for Java/Kotlin","body":"<p>Does other languages like Java or Kotlin has a feature of virtual environment like python does?</p>\n<p>I have tried google searches but all the results are for Venv on Python only.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1444138978,"creation_date":1422205115,"answer_id":28138939,"question_id":28138864,"body_markdown":"If you must disable it...\r\n\r\n\r\nIn Spring Security 4, [CSRF is enabled by default][1] when using the XML configuration. Previously it was only enabled by default for the Java-based configuration.\r\n\r\nAccording to [Section 14.4.2 of the Spring Security Documentation][2]:\r\n\r\n&gt; As of Spring Security 4.0, CSRF protection is enabled by default with XML configuration. If you would like to disable CSRF protection, the corresponding XML configuration can be seen below.\r\n    \r\n    &lt;http&gt;\r\n       ...\r\n       &lt;csrf disabled=&quot;true&quot;/&gt;\r\n       ...\r\n    &lt;/http&gt;\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SEC-2347\r\n  [2]: http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>If you must disable it...</p>\n\n<p>In Spring Security 4, <a href=\"https://jira.spring.io/browse/SEC-2347\" rel=\"noreferrer\">CSRF is enabled by default</a> when using the XML configuration. Previously it was only enabled by default for the Java-based configuration.</p>\n\n<p>According to <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure\" rel=\"noreferrer\">Section 14.4.2 of the Spring Security Documentation</a>:</p>\n\n<blockquote>\n  <p>As of Spring Security 4.0, CSRF protection is enabled by default with XML configuration. If you would like to disable CSRF protection, the corresponding XML configuration can be seen below.</p>\n</blockquote>\n\n<pre><code>&lt;http&gt;\n   ...\n   &lt;csrf disabled=\"true\"/&gt;\n   ...\n&lt;/http&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1424466123,"creation_date":1424466123,"answer_id":28638129,"question_id":28138864,"body_markdown":"Disabling CSRF protection sounds like a bad idea, no?\r\n\r\nIf you use Spring&#39;s Form Tag library the CSRF token will be automatically included. It will also HTML Escape form element values, which makes your site safer against XSS, and more correct.\r\n\r\n    &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; %&gt; \r\n\r\n    &lt;form:form&gt;\r\n      &lt;form:input...\r\n    &lt;/form:form&gt;\r\n\r\nOtherwise, add this to your form:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>Disabling CSRF protection sounds like a bad idea, no?</p>\n\n<p>If you use Spring's Form Tag library the CSRF token will be automatically included. It will also HTML Escape form element values, which makes your site safer against XSS, and more correct.</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\" %&gt; \n\n&lt;form:form&gt;\n  &lt;form:input...\n&lt;/form:form&gt;\n</code></pre>\n\n<p>Otherwise, add this to your form:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6775198,"reputation":451,"user_id":5217207,"display_name":"Yinghua"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1456247069,"creation_date":1439340728,"answer_id":31954327,"question_id":28138864,"body_markdown":"I had the same problem. I use thymeleaf and Spring boot, and got the CSRF token issue when I try to post data in a form.\r\n\r\nHere is my working solution: \r\n\r\n1. Add this hidden input: \r\n\r\n    `&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot; /&gt;`\r\n\r\n\r\n2. In your `WebSecurityConfig` (which extends `WebSecurityConfigurerAdapter`), add a method:\r\n\r\n        private CsrfTokenRepository csrfTokenRepository() \r\n        { \r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository(); \r\n            repository.setSessionAttributeName(&quot;_csrf&quot;);\r\n            return repository; \r\n        }\r\n\r\n   and add code in method `configure()`:\r\n\r\n        @Override\r\n         protected void configure(HttpSecurity http) throws Exception {\r\n             http.csrf()\r\n             .csrfTokenRepository(csrfTokenRepository())\r\n\r\nI spent lot of time on this problem.  Hope it can help someone who has the same problem.","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>I had the same problem. I use thymeleaf and Spring boot, and got the CSRF token issue when I try to post data in a form.</p>\n\n<p>Here is my working solution: </p>\n\n<ol>\n<li><p>Add this hidden input: </p>\n\n<p><code>&lt;input type=\"hidden\" th:name=\"${_csrf.parameterName}\" th:value=\"${_csrf.token}\" /&gt;</code></p></li>\n<li><p>In your <code>WebSecurityConfig</code> (which extends <code>WebSecurityConfigurerAdapter</code>), add a method:</p>\n\n<pre><code>private CsrfTokenRepository csrfTokenRepository() \n{ \n    HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository(); \n    repository.setSessionAttributeName(\"_csrf\");\n    return repository; \n}\n</code></pre>\n\n<p>and add code in method <code>configure()</code>:</p>\n\n<pre><code>@Override\n protected void configure(HttpSecurity http) throws Exception {\n     http.csrf()\n     .csrfTokenRepository(csrfTokenRepository())\n</code></pre></li>\n</ol>\n\n<p>I spent lot of time on this problem.  Hope it can help someone who has the same problem.</p>\n"},{"tags":[],"owner":{"account_id":8432993,"reputation":579,"user_id":6328033,"display_name":"Java_Fire_Within"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471460531,"creation_date":1470952310,"answer_id":38906688,"question_id":28138864,"body_markdown":"To @St.Antario,\r\n  Please use this code to enable CSRF in your code\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .antMatcher(&quot;*/*&quot;).authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/login**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().csrf().csrfTokenRepository(csrfTokenRepository())\r\n                    .and().addFilterAfter(csrfHeaderFilter(), SessionManagementFilter.class);\r\n        }\r\n    \r\n        private Filter csrfHeaderFilter() {\r\n            return new OncePerRequestFilter() {\r\n    \r\n                @Override\r\n                protected void doFilterInternal(HttpServletRequest request,\r\n                                                HttpServletResponse response,\r\n                                                FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n                    CsrfToken csrf = (CsrfToken) request.getAttribute(CsrfToken.class.getName());\r\n                    if (csrf != null) {\r\n                        Cookie cookie = WebUtils.getCookie(request, &quot;XSRF-TOKEN&quot;);\r\n                        String token = csrf.getToken();\r\n                        if (cookie == null || token != null\r\n                                &amp;&amp; !token.equals(cookie.getValue())) {\r\n    \r\n                            // Token is being added to the XSRF-TOKEN cookie.\r\n                            cookie = new Cookie(&quot;XSRF-TOKEN&quot;, token);\r\n                            cookie.setPath(&quot;/&quot;);\r\n                            response.addCookie(cookie);\r\n                        }\r\n                    }\r\n                    filterChain.doFilter(request, response);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private CsrfTokenRepository csrfTokenRepository() {\r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n            repository.setHeaderName(&quot;X-XSRF-TOKEN&quot;);\r\n            //repository.setSessionAttributeName((&quot;X-XSRF-TOKEN&quot;));\r\n            return repository;\r\n        }\r\n    }","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>To @St.Antario,\n  Please use this code to enable CSRF in your code</p>\n\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(\"*/*\").authorizeRequests()\n                .antMatchers(\"/\", \"/login**\").permitAll()\n                .anyRequest().authenticated()\n                .and().csrf().csrfTokenRepository(csrfTokenRepository())\n                .and().addFilterAfter(csrfHeaderFilter(), SessionManagementFilter.class);\n    }\n\n    private Filter csrfHeaderFilter() {\n        return new OncePerRequestFilter() {\n\n            @Override\n            protected void doFilterInternal(HttpServletRequest request,\n                                            HttpServletResponse response,\n                                            FilterChain filterChain) throws ServletException, IOException {\n\n                CsrfToken csrf = (CsrfToken) request.getAttribute(CsrfToken.class.getName());\n                if (csrf != null) {\n                    Cookie cookie = WebUtils.getCookie(request, \"XSRF-TOKEN\");\n                    String token = csrf.getToken();\n                    if (cookie == null || token != null\n                            &amp;&amp; !token.equals(cookie.getValue())) {\n\n                        // Token is being added to the XSRF-TOKEN cookie.\n                        cookie = new Cookie(\"XSRF-TOKEN\", token);\n                        cookie.setPath(\"/\");\n                        response.addCookie(cookie);\n                    }\n                }\n                filterChain.doFilter(request, response);\n            }\n        };\n    }\n\n    private CsrfTokenRepository csrfTokenRepository() {\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(\"X-XSRF-TOKEN\");\n        //repository.setSessionAttributeName((\"X-XSRF-TOKEN\"));\n        return repository;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9206531,"reputation":169,"user_id":6841562,"display_name":"Carlos Alberto Gonzalez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498186320,"creation_date":1498184197,"answer_id":44712042,"question_id":28138864,"body_markdown":"**spring-security.xml**\r\n\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n                 xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/security \r\n        http://www.springframework.org/schema/security/spring-security.xsd\r\n        http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n     \r\n        &lt;http pattern=&quot;/resources/**&quot; security=&quot;none&quot; /&gt;\r\n        \r\n        &lt;http use-expressions=&quot;true&quot;&gt;\r\n            &lt;intercept-url pattern=&quot;/login*&quot; access=&quot;isAnonymous()&quot; /&gt;\r\n            &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;form-login\r\n                login-page=&quot;/login&quot;\r\n                default-target-url=&quot;/home&quot;\r\n                authentication-failure-url=&quot;/login?error=true&quot; /&gt; \r\n            &lt;logout\r\n                logout-success-url=&quot;/login&quot;\r\n                delete-cookies=&quot;JSESSIONID&quot; /&gt;\r\n        &lt;/http&gt;\r\n        &lt;authentication-manager&gt;\r\n            &lt;authentication-provider&gt;\r\n                &lt;user-service&gt;\r\n                    &lt;user name=&quot;carlos&quot; password=&quot;123&quot; authorities=&quot;ROLE_USER&quot; /&gt;\r\n                &lt;/user-service&gt;\r\n            &lt;/authentication-provider&gt;\r\n        &lt;/authentication-manager&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\n**web.xml** \r\n\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n**add add jsp login** \r\n\r\n    &lt;%@page session=&quot;true&quot;%&gt;\r\n\r\n**and input hidden:**\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n","title":"Expected CSRF token not found. Has your session expired 403","body":"<p><strong>spring-security.xml</strong></p>\n\n<pre><code>&lt;beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xmlns:beans=\"http://www.springframework.org/schema/beans\"\n             xsi:schemaLocation=\"\n    http://www.springframework.org/schema/security \n    http://www.springframework.org/schema/security/spring-security.xsd\n    http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;http pattern=\"/resources/**\" security=\"none\" /&gt;\n\n    &lt;http use-expressions=\"true\"&gt;\n        &lt;intercept-url pattern=\"/login*\" access=\"isAnonymous()\" /&gt;\n        &lt;intercept-url pattern=\"/**\" access=\"isAuthenticated()\"/&gt;\n        &lt;form-login\n            login-page=\"/login\"\n            default-target-url=\"/home\"\n            authentication-failure-url=\"/login?error=true\" /&gt; \n        &lt;logout\n            logout-success-url=\"/login\"\n            delete-cookies=\"JSESSIONID\" /&gt;\n    &lt;/http&gt;\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider&gt;\n            &lt;user-service&gt;\n                &lt;user name=\"carlos\" password=\"123\" authorities=\"ROLE_USER\" /&gt;\n            &lt;/user-service&gt;\n        &lt;/authentication-provider&gt;\n    &lt;/authentication-manager&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>web.xml</strong> </p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/applicationContext.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p><strong>add add jsp login</strong> </p>\n\n<pre><code>&lt;%@page session=\"true\"%&gt;\n</code></pre>\n\n<p><strong>and input hidden:</strong></p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576385109,"creation_date":1576385109,"answer_id":59341274,"question_id":28138864,"body_markdown":"What is your login page named\r\nIs it ending with .jsp\r\n\r\nIf the login page is not ending with .jsp Spring framework doesn&#39;t evaluate the JSP or EL expressions ","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>What is your login page named\nIs it ending with .jsp</p>\n\n<p>If the login page is not ending with .jsp Spring framework doesn't evaluate the JSP or EL expressions </p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679556194,"creation_date":1679556194,"answer_id":75820166,"question_id":28138864,"body_markdown":"&lt;h2&gt;Problem:&lt;/h2&gt;\r\n\r\nIn Spring Boot 2.7, the `csrf` is **DISABLED** by default. \r\n&lt;br/&gt;\r\nIn Spring Boot 3.x, the `csrf` is **ENABLED** by default.\r\n\r\n\r\n&lt;h2&gt;Solution&lt;/h2&gt;\r\n\r\n```\r\n@EnableWebFluxSecurity\r\n@Configuration\r\npublic class ReactiveWebfluxSecurityConfig {\r\n\r\n  @Bean\r\n  public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n    http.csrf(ServerHttpSecurity.CsrfSpec::disable);\r\n    return http.build();\r\n  }\r\n}\r\n```\r\n&lt;h5&gt;Note&lt;/h5&gt;\r\n\r\n**DON&#39;T FORGET** to add `@Configuration` to the `@EnableWebFluxSecurity` as in Spring 3.0 it has to be explicitly added as I&#39;ve done in the above code snippet.\r\n\r\n","title":"Expected CSRF token not found. Has your session expired 403","body":"<h2>Problem:</h2>\n<p>In Spring Boot 2.7, the <code>csrf</code> is <strong>DISABLED</strong> by default.\n<br/>\nIn Spring Boot 3.x, the <code>csrf</code> is <strong>ENABLED</strong> by default.</p>\n<h2>Solution</h2>\n<pre><code>@EnableWebFluxSecurity\n@Configuration\npublic class ReactiveWebfluxSecurityConfig {\n\n  @Bean\n  public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http.csrf(ServerHttpSecurity.CsrfSpec::disable);\n    return http.build();\n  }\n}\n</code></pre>\n<h5>Note</h5>\n<p><strong>DON'T FORGET</strong> to add <code>@Configuration</code> to the <code>@EnableWebFluxSecurity</code> as in Spring 3.0 it has to be explicitly added as I've done in the above code snippet.</p>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102387,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":7,"score":27,"last_activity_date":1679556194,"creation_date":1422204591,"question_id":28138864,"body_markdown":"I&#39;m trying to write my test spring security application with mkyong examples.\r\n\r\n    Spring Security: 4.0.0.RC1\r\n    Spring: 4.1.4.RELEASE\r\n\r\n I have the following security config:\r\n\r\n\t&lt;http auto-config=&quot;true&quot;&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/admin**&quot; \r\n\t\t\t\t\t\taccess=&quot;hasRole(&#39;ADMIN&#39;)&quot;/&gt;\r\n\t\t&lt;form-login authentication-failure-url=&quot;/?auth_error&quot; \r\n\t\t\t\t\t\t\tusername-parameter=&quot;user&quot; \r\n\t\t\t\t\t\t\tpassword-parameter=&quot;password&quot; \r\n\t\t\t\t\t\t\tlogin-page=&quot;/&quot;\r\n\t\t\t\t\t\t\tdefault-target-url=&quot;/?OK&quot;/&gt;\r\n    &lt;!-- &lt;csrf/&gt; --&gt;\r\n\t&lt;/http&gt;\r\n\t\r\n\t&lt;authentication-manager&gt;\r\n\t\t&lt;authentication-provider&gt;\r\n\t\t\t&lt;user-service&gt;\r\n\t\t\t\t&lt;user name=&quot;mkyong&quot; password=&quot;123456&quot; authorities=&quot;ADMIN&quot; /&gt;\r\n\t\t\t&lt;/user-service&gt;\r\n\t\t&lt;/authentication-provider&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\nlogin-page:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;form method=&quot;POST&quot;&gt;\r\n    \t&lt;label for=&quot;user&quot;&gt;User: &lt;/label&gt;\r\n    \t&lt;input type=&quot;text&quot; id=&quot;user&quot; name=&quot;user&quot; /&gt; &lt;/br&gt;\r\n    \t&lt;label for=&quot;password&quot;&gt;Password: &lt;/label&gt;\r\n    \t&lt;input type=&quot;text&quot; name=&quot;password&quot; id=&quot;password&quot; /&gt; &lt;/br&gt;\r\n    \t&lt;input type=&quot;submit&quot; /&gt; \r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nNow, when I try to login I get 403 error page:\r\n \r\n\r\n    Invalid CSRF Token &#39;null&#39; was found on the request parameter \r\n    &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;.\r\n\r\ndescription:\r\n\r\n    Access to the specified resource (Invalid CSRF Token &#39;null&#39; was\r\n    found on the request parameter &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;.) has been \r\n    forbidden.\r\n\r\nWhat&#39;s wrong, how can I fix that? I commented `csrf` in the config, but the error-message has to do with the `csrf`.","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>I'm trying to write my test spring security application with mkyong examples.</p>\n\n<pre><code>Spring Security: 4.0.0.RC1\nSpring: 4.1.4.RELEASE\n</code></pre>\n\n<p>I have the following security config:</p>\n\n<pre><code>&lt;http auto-config=\"true\"&gt;\n    &lt;intercept-url pattern=\"/admin**\" \n                    access=\"hasRole('ADMIN')\"/&gt;\n    &lt;form-login authentication-failure-url=\"/?auth_error\" \n                        username-parameter=\"user\" \n                        password-parameter=\"password\" \n                        login-page=\"/\"\n                        default-target-url=\"/?OK\"/&gt;\n&lt;!-- &lt;csrf/&gt; --&gt;\n&lt;/http&gt;\n\n&lt;authentication-manager&gt;\n    &lt;authentication-provider&gt;\n        &lt;user-service&gt;\n            &lt;user name=\"mkyong\" password=\"123456\" authorities=\"ADMIN\" /&gt;\n        &lt;/user-service&gt;\n    &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n</code></pre>\n\n<p>login-page:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;form method=\"POST\"&gt;\n    &lt;label for=\"user\"&gt;User: &lt;/label&gt;\n    &lt;input type=\"text\" id=\"user\" name=\"user\" /&gt; &lt;/br&gt;\n    &lt;label for=\"password\"&gt;Password: &lt;/label&gt;\n    &lt;input type=\"text\" name=\"password\" id=\"password\" /&gt; &lt;/br&gt;\n    &lt;input type=\"submit\" /&gt; \n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Now, when I try to login I get 403 error page:</p>\n\n<pre><code>Invalid CSRF Token 'null' was found on the request parameter \n'_csrf' or header 'X-CSRF-TOKEN'.\n</code></pre>\n\n<p>description:</p>\n\n<pre><code>Access to the specified resource (Invalid CSRF Token 'null' was\nfound on the request parameter '_csrf' or header 'X-CSRF-TOKEN'.) has been \nforbidden.\n</code></pre>\n\n<p>What's wrong, how can I fix that? I commented <code>csrf</code> in the config, but the error-message has to do with the <code>csrf</code>.</p>\n"},{"tags":["java","arrays","string","list"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1360328850,"post_id":14773264,"comment_id":20680979,"body_markdown":"How do you convert a random Object into a String?","body":"How do you convert a random Object into a String?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1360328937,"post_id":14773264,"comment_id":20681025,"body_markdown":"toString is (in most classes) purely intended for diagnostic messages, not &quot;production&quot;.","body":"toString is (in most classes) purely intended for diagnostic messages, not &quot;production&quot;."},{"owner":{"account_id":1750494,"reputation":1513,"user_id":1599681,"accept_rate":47,"display_name":"calbertts"},"score":0,"creation_date":1360328966,"post_id":14773264,"comment_id":20681035,"body_markdown":"I want convert all list in String[] without iterate over it.","body":"I want convert all list in String[] without iterate over it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1360329017,"post_id":14773264,"comment_id":20681061,"body_markdown":"Did you look at the spec for List?  (I&#39;m guessing not, otherwise you would have noticed toArray.)","body":"Did you look at the spec for List?  (I&#39;m guessing not, otherwise you would have noticed toArray.)"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1567483377,"post_id":14773264,"comment_id":101965347,"body_markdown":"Java 8 : https://stackoverflow.com/a/31002358/1216775","body":"Java 8 : <a href=\"https://stackoverflow.com/a/31002358/1216775\">stackoverflow.com/a/31002358/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1360328929,"creation_date":1360328929,"answer_id":14773298,"question_id":14773264,"body_markdown":"You have to loop through the list and fill your `String[]`.\r\n\r\n    String[] array = new String[lst.size()];\r\n    int index = 0;\r\n    for (Object value : lst) {\r\n      array[index] = (String) value;\r\n      index++;\r\n    }\r\n\r\nIf the list would be of `String` values, List&lt;String&gt; then this would be as simple as calling `lst.toArray(new String[0])`;\r\n","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>You have to loop through the list and fill your <code>String[]</code>.</p>\n\n<pre><code>String[] array = new String[lst.size()];\nint index = 0;\nfor (Object value : lst) {\n  array[index] = (String) value;\n  index++;\n}\n</code></pre>\n\n<p>If the list would be of <code>String</code> values, List then this would be as simple as calling <code>lst.toArray(new String[0])</code>;</p>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360329156,"creation_date":1360329156,"answer_id":14773362,"question_id":14773264,"body_markdown":"You could use toArray() to convert into an array of Objects followed by [this method][1] to convert the array of Objects into an array of Strings:\r\n\r\n    Object[] objectArray = lst.toArray();\r\n    String[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1018798/1063716","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>You could use toArray() to convert into an array of Objects followed by <a href=\"https://stackoverflow.com/a/1018798/1063716\">this method</a> to convert the array of Objects into an array of Strings:</p>\n\n<pre><code>Object[] objectArray = lst.toArray();\nString[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1360329761,"creation_date":1360329761,"answer_id":14773551,"question_id":14773264,"body_markdown":"If we are very sure that `List&lt;Object&gt;` will contain collection of `String`, then probably try this.\r\n\r\n    List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();\r\n    lst.add(&quot;sample&quot;);\r\n    lst.add(&quot;simple&quot;);\r\n    String[] arr = lst.toArray(new String[] {});\r\n    System.out.println(Arrays.deepToString(arr));","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>If we are very sure that <code>List&lt;Object&gt;</code> will contain collection of <code>String</code>, then probably try this.</p>\n\n<pre><code>List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();\nlst.add(\"sample\");\nlst.add(\"simple\");\nString[] arr = lst.toArray(new String[] {});\nSystem.out.println(Arrays.deepToString(arr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360350349,"creation_date":1360350349,"answer_id":14779601,"question_id":14773264,"body_markdown":"Lot of concepts here which will be useful:  \r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(Arrays.asList(new String[]{&quot;Java&quot;,&quot;is&quot;,&quot;cool&quot;}));\r\n    String[] a = new String[list.size()];\r\n    list.toArray(a);\r\n\r\n**Tip to print array of Strings:**\r\n\r\n    System.out.println(Arrays.toString(a));","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>Lot of concepts here which will be useful:  </p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(Arrays.asList(new String[]{\"Java\",\"is\",\"cool\"}));\nString[] a = new String[list.size()];\nlist.toArray(a);\n</code></pre>\n\n<p><strong>Tip to print array of Strings:</strong></p>\n\n<pre><code>System.out.println(Arrays.toString(a));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374066793,"creation_date":1374066793,"answer_id":17700762,"question_id":14773264,"body_markdown":"Using [Guava][1]\r\n  \r\n    List&lt;Object&gt; lst ...    \r\n    List&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>Using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a></p>\n\n<pre><code>List&lt;Object&gt; lst ...    \nList&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1679556148,"creation_date":1435061187,"answer_id":31002358,"question_id":14773264,"body_markdown":"&gt; Java 8\r\n\r\n Java 8 has the option of using streams as well. \r\n\r\n    List&lt;Object&gt; lst = new ArrayList&lt;&gt;(); \r\n    lst.add(&quot;Apple&quot;); \r\n    String[] strings = lst.stream().toArray(String[]::new); \r\n    System.out.println(Arrays.toString(strings));  // [Apple]\r\n\r\nIf we have a stream of `Object`, we would need an intermediate operation to do object-to-string conversion, and a terminal operation to collect the results. We can use `Objects.toString(obj, null)` or any other such implementation for string conversion.\r\n\r\n    String[] output = lst.stream()\r\n        .map((obj) -&gt; Objects.toString(obj, null))\r\n        .toArray(String[]::new);\r\n\r\n","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<blockquote>\n<p>Java 8</p>\n</blockquote>\n<p>Java 8 has the option of using streams as well.</p>\n<pre><code>List&lt;Object&gt; lst = new ArrayList&lt;&gt;(); \nlst.add(&quot;Apple&quot;); \nString[] strings = lst.stream().toArray(String[]::new); \nSystem.out.println(Arrays.toString(strings));  // [Apple]\n</code></pre>\n<p>If we have a stream of <code>Object</code>, we would need an intermediate operation to do object-to-string conversion, and a terminal operation to collect the results. We can use <code>Objects.toString(obj, null)</code> or any other such implementation for string conversion.</p>\n<pre><code>String[] output = lst.stream()\n    .map((obj) -&gt; Objects.toString(obj, null))\n    .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17993878,"reputation":121,"user_id":13077381,"display_name":"Umasankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613083282,"creation_date":1613048753,"answer_id":66155373,"question_id":14773264,"body_markdown":"There is a simple way available in Kotlin\r\n\r\n```kotlin\r\nvar lst: List&lt;Object&gt; = ...\r\n    \r\nlistOFStrings: ArrayList&lt;String&gt; = (lst!!.map { it.name })\r\n```","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>There is a simple way available in Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var lst: List&lt;Object&gt; = ...\n    \nlistOFStrings: ArrayList&lt;String&gt; = (lst!!.map { it.name })\n</code></pre>\n"}],"owner":{"account_id":1750494,"reputation":1513,"user_id":1599681,"accept_rate":47,"display_name":"calbertts"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128658,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":14773298,"answer_count":7,"score":19,"last_activity_date":1679556148,"creation_date":1360328800,"question_id":14773264,"body_markdown":"I need to convert from `List&lt;Object&gt;` to `String[]`.\r\n\r\nI made:\r\n\r\n    List&lt;Object&gt; lst ...\r\n    String arr = lst.toString();\r\n\r\nBut I got this string:\r\n\r\n    [&quot;...&quot;, &quot;...&quot;, &quot;...&quot;]\r\n\r\nis just one string, but I need String[]\r\n\r\nThanks a lot.","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>I need to convert from <code>List&lt;Object&gt;</code> to <code>String[]</code>.</p>\n\n<p>I made:</p>\n\n<pre><code>List&lt;Object&gt; lst ...\nString arr = lst.toString();\n</code></pre>\n\n<p>But I got this string:</p>\n\n<pre><code>[\"...\", \"...\", \"...\"]\n</code></pre>\n\n<p>is just one string, but I need String[]</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679525286,"post_id":75816867,"comment_id":133739847,"body_markdown":"Did you tried by doing it with lot of step ? like each tick you send few changes","body":"Did you tried by doing it with lot of step ? like each tick you send few changes"},{"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"score":0,"creation_date":1679555259,"post_id":75816867,"comment_id":133743249,"body_markdown":"How would I do that? Like duplicate the Runtime a few times?","body":"How would I do that? Like duplicate the Runtime a few times?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679555691,"post_id":75816867,"comment_id":133743341,"body_markdown":"I&#39;ll make an answer","body":"I&#39;ll make an answer"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679556101,"creation_date":1679556101,"answer_id":75820158,"question_id":75816867,"body_markdown":"To do that, instead of changing for somewhere to the given value, we will do it by step.\r\n\r\nImagine your want the player rotate in 1 second, so 20 ticks, you should do like that:\r\n\r\n```java\r\npublic class HeadTurnTimer implements Runnable {\r\n    private final Player p;\r\n    private yaw, pitch;\r\n    private addYaw, addPitch;\r\n\r\n    public HeadTurnTimer(Player p) {\r\n        this.p = p;\r\n        this.yaw = p.getLocation().getYaw();\r\n        this.pitch = p.getLocation().getPitch();\r\n        this.addYaw = (yaw - dirYaw) / 20;\r\n        this.addPitch = (pitch - dirPitch) / 20;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        // add few to go to next value\r\n        this.pitch += this.addPitch;\r\n        this.yaw += this.addYaw;\r\n        for (Player player : Bukkit.getOnlinePlayers()) { // your loop\r\n            if (player != target) {\r\n                player.setRotation(this.pitch, this.yaw); // set the actual values\r\n            }\r\n        }\r\n    }\r\n}\r\n// somewhere else:\r\nBukkit.getScheduler().runTaskTimer(myPlugin, new HeadTurnTimer(player), 0, 0);\r\n```\r\n`dirPitch` and `dirYaw` are value that you want at final. Feel free refactor the given class as you want. Don&#39;t forget to cancel timer.\r\n\r\nValue `0` means each ticks","title":"How to rotate a player smoothly to another direction?","body":"<p>To do that, instead of changing for somewhere to the given value, we will do it by step.</p>\n<p>Imagine your want the player rotate in 1 second, so 20 ticks, you should do like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeadTurnTimer implements Runnable {\n    private final Player p;\n    private yaw, pitch;\n    private addYaw, addPitch;\n\n    public HeadTurnTimer(Player p) {\n        this.p = p;\n        this.yaw = p.getLocation().getYaw();\n        this.pitch = p.getLocation().getPitch();\n        this.addYaw = (yaw - dirYaw) / 20;\n        this.addPitch = (pitch - dirPitch) / 20;\n    }\n\n    @Override\n    public void run() {\n        // add few to go to next value\n        this.pitch += this.addPitch;\n        this.yaw += this.addYaw;\n        for (Player player : Bukkit.getOnlinePlayers()) { // your loop\n            if (player != target) {\n                player.setRotation(this.pitch, this.yaw); // set the actual values\n            }\n        }\n    }\n}\n// somewhere else:\nBukkit.getScheduler().runTaskTimer(myPlugin, new HeadTurnTimer(player), 0, 0);\n</code></pre>\n<p><code>dirPitch</code> and <code>dirYaw</code> are value that you want at final. Feel free refactor the given class as you want. Don't forget to cancel timer.</p>\n<p>Value <code>0</code> means each ticks</p>\n"}],"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679556101,"creation_date":1679515796,"question_id":75816867,"body_markdown":"I&#39;m just trying to rotate a player to another player&#39;s direction _smoothly_.\r\n\r\nThe easy way out is to disregard &quot;smooth&quot; and just use:\r\n\r\n```\r\n@Override\r\npublic void run() {\r\n    for (Player player : Bukkit.getOnlinePlayers()) {\r\n        if (player != target) {\r\n            player.setRotation(Pitch, Yaw);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut what comes out is jagged movement, which I don&#39;t want. Is there a way to do this smoothly?","title":"How to rotate a player smoothly to another direction?","body":"<p>I'm just trying to rotate a player to another player's direction <em>smoothly</em>.</p>\n<p>The easy way out is to disregard &quot;smooth&quot; and just use:</p>\n<pre><code>@Override\npublic void run() {\n    for (Player player : Bukkit.getOnlinePlayers()) {\n        if (player != target) {\n            player.setRotation(Pitch, Yaw);\n        }\n    }\n}\n</code></pre>\n<p>but what comes out is jagged movement, which I don't want. Is there a way to do this smoothly?</p>\n"},{"tags":["java","apache-kafka","collections","jmx","mbeans"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679646451,"post_id":75820139,"comment_id":133761763,"body_markdown":"Isn’t the registration itself a mechanism to keep track of things? Why would you need additional “data structures or technologies” to keep track of things that are already tracked, by definition?","body":"Isn’t the registration itself a mechanism to keep track of things? Why would you need additional “data structures or technologies” to keep track of things that are already tracked, by definition?"}],"owner":{"account_id":26897145,"reputation":21,"user_id":20474870,"display_name":"Dona Dominic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555956,"creation_date":1679555956,"question_id":75820139,"body_markdown":"Does Kafka make use of any data structures or technologies to keep track of all the registered  Mbeans ?\r\n\r\nIf I am registering a large number of objects as MBean, I need some way to manage, access and keep track of them efficiently.\r\n\r\nWhat is the best or standard way to do that ?\r\n\r\nI just wanted to know does Kafka has any implementation for the above need. Or does any other application has ?\r\n\r\nIf not what is the best way to do that ?","title":"How Kafka keep track of registered mbeans","body":"<p>Does Kafka make use of any data structures or technologies to keep track of all the registered  Mbeans ?</p>\n<p>If I am registering a large number of objects as MBean, I need some way to manage, access and keep track of them efficiently.</p>\n<p>What is the best or standard way to do that ?</p>\n<p>I just wanted to know does Kafka has any implementation for the above need. Or does any other application has ?</p>\n<p>If not what is the best way to do that ?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679323845,"post_id":75791713,"comment_id":133696682,"body_markdown":"Storing 7k records in DynamoDB should take maybe a second or two at most.  Can you share a small example that shows the problem?","body":"Storing 7k records in DynamoDB should take maybe a second or two at most.  Can you share a small example that shows the problem?"},{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1679549370,"post_id":75791713,"comment_id":133742366,"body_markdown":"@stdunbar Updated the question with code","body":"@stdunbar Updated the question with code"}],"answers":[{"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679325651,"creation_date":1679325651,"answer_id":75792140,"question_id":75791713,"body_markdown":"You’re telling DynamoDB you want 1 read and write per second, so that’s what you’re getting. Yes, you let it auto scale up to 10 but it takes a few minutes to see the traffic and grow step by step up to 10.\r\n\r\nEasiest at this scale (and assuming long periods of zero traffic) is set the table to on-demand per-request pricing and you’ll have an extremely fast database.","title":"DynamoDb write and fetch are too slow","body":"<p>You’re telling DynamoDB you want 1 read and write per second, so that’s what you’re getting. Yes, you let it auto scale up to 10 but it takes a few minutes to see the traffic and grow step by step up to 10.</p>\n<p>Easiest at this scale (and assuming long periods of zero traffic) is set the table to on-demand per-request pricing and you’ll have an extremely fast database.</p>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679555363,"creation_date":1679323345,"question_id":75791713,"body_markdown":"I am using Dynamodb in one of my Springboot application for the first time and noticing very slow response time.\r\n\r\nMy table structure is like below -\r\n\r\n**itemid** - A unique key for each record, is made as primary partition key without any sort key.\r\nAround 10 other attributes including 2 of attributes of GSI (**item_category(PK), item_date(SK)**).\r\n\r\nIt&#39;s taking ~30 minutes to persist ~7k records and approximately a minute to fetch same records, which is too high for my scenario. I was under the impression that we can persist this many records in seconds in DynamoDB. Is my understanding is wrong or is my table is not correct?\r\n\r\nDynamoDB table is created with default read/write capacity units(1-10) with auto scaling enabled.\r\n\r\nHow to improve read/write speed of dynamodb transactions?\r\n\r\nUpdate: \r\n\r\n**Code which writes to Dynamo table -**\r\n\r\n    public List&lt;MyItems&gt; saveTransactions(List&lt;MyItems&gt; dynamoItems) {\r\n        DynamoDbTable&lt;MyItems&gt; dynamoDbTable = dynamoDbEnhancedClient.table(tableName, TableSchema.fromBean(MyItems.class));\r\n        WriteBatch.Builder&lt;MyItems&gt; dynamoItemsBuilder = WriteBatch.builder(MyItems.class).mappedTableResource(dynamoDbTable);\r\n        for (MyItems transactions : dynamoItems) {\r\n            dynamoItemsBuilder.addPutItem(builder -&gt; builder.item(transactions));\r\n        }\r\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(BatchWriteItemEnhancedRequest.builder().writeBatches(dynamoItemsBuilder.build()).build());\r\n        return batchWriteResult.unprocessedPutItemsForTable(dynamoDbTable);\r\n    }\r\n\r\n**Code which reads from Dynamo table -**\r\n\r\n     public Optional&lt;List&lt;MyItems&gt;&gt; fetchTransactions(String itemCategory, String itemDate) {\r\n        DynamoDbTable&lt;MyItems&gt; userTable = dynamo.table(tableName, TableSchema.fromBean(MyItems.class));\r\n        DynamoDbIndex&lt;MyItems&gt; gsiIndex = userTable.index(&quot;GSI_INDEX&quot;);\r\n        QueryConditional q = QueryConditional.keyEqualTo(Key.builder().partitionValue(itemCategory).sortValue(itemDate).build());\r\n        Iterator&lt;Page&lt;MyItems&gt;&gt; result = gsiIndex.query(q).iterator();\r\n        List&lt;MyItems&gt; poslogTransactionsList = new ArrayList&lt;&gt;();\r\n        while (result.hasNext()) {\r\n            poslogTransactionsList.addAll(result.next().items());\r\n        }\r\n        return Optional.of(poslogTransactionsList);\r\n    }\r\n\r\n**Bean class -**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @DynamoDbBean\r\n    public class MyItems {\r\n        @EqualsAndHashCode.Include\r\n        @Getter(AccessLevel.NONE)\r\n        String itemId;\r\n        @Getter(AccessLevel.NONE)\r\n        String itemCategory;\r\n        @Getter(AccessLevel.NONE)\r\n        String itemDate;\r\n        String amount;\r\n        String itemNumber;\r\n    \r\n        @DynamoDbPartitionKey\r\n        public String getItemId() {\r\n            return itemId;\r\n        }\r\n        @DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_INDEX&quot;)\r\n        public String getItemCategory() {\r\n            return itemCategory;}\r\n\r\n        @DynamoDbSecondarySortKey(indexNames = &quot;GSI_INDEX&quot;)\r\n        public String getItemDate() {\r\n            return itemDate;}}\r\n\r\nHere above piece of code runs based on message received from kafka consumer and each time List&lt;MyItems&gt; can contain 10 or less items. To persist these 10 records(with unique itemid&#39;s) also it&#39;s taking ~300milliseconds. Is something wrong with the code or table structure? ","title":"DynamoDb write and fetch are too slow","body":"<p>I am using Dynamodb in one of my Springboot application for the first time and noticing very slow response time.</p>\n<p>My table structure is like below -</p>\n<p><strong>itemid</strong> - A unique key for each record, is made as primary partition key without any sort key.\nAround 10 other attributes including 2 of attributes of GSI (<strong>item_category(PK), item_date(SK)</strong>).</p>\n<p>It's taking ~30 minutes to persist ~7k records and approximately a minute to fetch same records, which is too high for my scenario. I was under the impression that we can persist this many records in seconds in DynamoDB. Is my understanding is wrong or is my table is not correct?</p>\n<p>DynamoDB table is created with default read/write capacity units(1-10) with auto scaling enabled.</p>\n<p>How to improve read/write speed of dynamodb transactions?</p>\n<p>Update:</p>\n<p><strong>Code which writes to Dynamo table -</strong></p>\n<pre><code>public List&lt;MyItems&gt; saveTransactions(List&lt;MyItems&gt; dynamoItems) {\n    DynamoDbTable&lt;MyItems&gt; dynamoDbTable = dynamoDbEnhancedClient.table(tableName, TableSchema.fromBean(MyItems.class));\n    WriteBatch.Builder&lt;MyItems&gt; dynamoItemsBuilder = WriteBatch.builder(MyItems.class).mappedTableResource(dynamoDbTable);\n    for (MyItems transactions : dynamoItems) {\n        dynamoItemsBuilder.addPutItem(builder -&gt; builder.item(transactions));\n    }\n    BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(BatchWriteItemEnhancedRequest.builder().writeBatches(dynamoItemsBuilder.build()).build());\n    return batchWriteResult.unprocessedPutItemsForTable(dynamoDbTable);\n}\n</code></pre>\n<p><strong>Code which reads from Dynamo table -</strong></p>\n<pre><code> public Optional&lt;List&lt;MyItems&gt;&gt; fetchTransactions(String itemCategory, String itemDate) {\n    DynamoDbTable&lt;MyItems&gt; userTable = dynamo.table(tableName, TableSchema.fromBean(MyItems.class));\n    DynamoDbIndex&lt;MyItems&gt; gsiIndex = userTable.index(&quot;GSI_INDEX&quot;);\n    QueryConditional q = QueryConditional.keyEqualTo(Key.builder().partitionValue(itemCategory).sortValue(itemDate).build());\n    Iterator&lt;Page&lt;MyItems&gt;&gt; result = gsiIndex.query(q).iterator();\n    List&lt;MyItems&gt; poslogTransactionsList = new ArrayList&lt;&gt;();\n    while (result.hasNext()) {\n        poslogTransactionsList.addAll(result.next().items());\n    }\n    return Optional.of(poslogTransactionsList);\n}\n</code></pre>\n<p><strong>Bean class -</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@DynamoDbBean\npublic class MyItems {\n    @EqualsAndHashCode.Include\n    @Getter(AccessLevel.NONE)\n    String itemId;\n    @Getter(AccessLevel.NONE)\n    String itemCategory;\n    @Getter(AccessLevel.NONE)\n    String itemDate;\n    String amount;\n    String itemNumber;\n\n    @DynamoDbPartitionKey\n    public String getItemId() {\n        return itemId;\n    }\n    @DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_INDEX&quot;)\n    public String getItemCategory() {\n        return itemCategory;}\n\n    @DynamoDbSecondarySortKey(indexNames = &quot;GSI_INDEX&quot;)\n    public String getItemDate() {\n        return itemDate;}}\n</code></pre>\n<p>Here above piece of code runs based on message received from kafka consumer and each time List can contain 10 or less items. To persist these 10 records(with unique itemid's) also it's taking ~300milliseconds. Is something wrong with the code or table structure?</p>\n"},{"tags":["java","jvm","jprofiler"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678954033,"post_id":75753355,"comment_id":133633547,"body_markdown":"What JVM parameters did you specify? It could possibly limit the amount of memory you could use. 80 blocked threads sounds like some sort of deadlock where they all need some resource that they cant get. As for why theres a lot of HashMap$Node, I think it pertains to when you try to busy-spin and contend for a lock. I recently asked a question about [that](https://stackoverflow.com/a/75682761/16034206)","body":"What JVM parameters did you specify? It could possibly limit the amount of memory you could use. 80 blocked threads sounds like some sort of deadlock where they all need some resource that they cant get. As for why theres a lot of HashMap$Node, I think it pertains to when you try to busy-spin and contend for a lock. I recently asked a question about <a href=\"https://stackoverflow.com/a/75682761/16034206\">that</a>"}],"answers":[{"tags":[],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679555286,"creation_date":1678955846,"answer_id":75753735,"question_id":75753355,"body_markdown":"QnA\r\n 1. &gt; It is normal that the memory always reaches 2GB\r\n\r\n    It is normal memory reaching 2GB if you are storing large data in your JVM. Also, there are JVM setting which sets the [minimum and maximum memory allocated][1] to your program. \r\n\r\n 2. &gt; Is it normal that there are almost more than 80 threads in blocked state\r\n\r\n    Unfortunately, I cannot answer it for you due to not understanding how your program works. You might need to look through your documentation or the person developed it.\r\n\r\n 3. &gt; How does Java.util have such a high value\r\n\r\n    Instead of focusing that, would rather focus on a more general level. Here is some example\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n    Scenarios\r\n     1. High memory, low instance count\r\n\r\n        JVM detected that `org.jboss.weld.annotated.enhanced.jlr` is still needed thus it stored them. The instance count is low now doesn&#39;t mean it won&#39;t be high because certain event will triggered it and program will allocate more instance for it to process.\r\n\r\n     2. Low memory, high instance count\r\n\r\n        `org.jboss.weld.util.collections` uses low memory, but certain event triggered it and program need to allocate instance to it for processing.\r\n\r\n     In summary, that&#39;s why you could see some instance count is high but memory low and instance count low but memory high which against the theory \r\n\r\n     **high memory = high instance count** \r\n\r\n     or \r\n\r\n     **low memory = low instance count**\r\n\r\nAdditional: Java have garbage collector which removes unused variable which helps make works simple. For example, we do not need to clear some variables (probably have size of 10 million) like list or array.\r\n\r\nMy solution to your crashing is\r\n\r\n 1. You might need to allocate more RAM.\r\n 2. Please estimate what is the minimum and maximum memory for your program\r\n 3. Please make sure there is no memory leakage. For example, When you establish a connection to your database, make sure to close it, e.g. `mySql.close();`\r\n\r\n  [1]: https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\r\n  [2]: https://i.stack.imgur.com/4gGbO.png","title":"What&#39;s the best way to analyze a JVM?","body":"<p>QnA</p>\n<ol>\n<li>\n<blockquote>\n<p>It is normal that the memory always reaches 2GB</p>\n</blockquote>\n<p>It is normal memory reaching 2GB if you are storing large data in your JVM. Also, there are JVM setting which sets the <a href=\"https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\">minimum and maximum memory allocated</a> to your program.</p>\n</li>\n<li>\n<blockquote>\n<p>Is it normal that there are almost more than 80 threads in blocked state</p>\n</blockquote>\n<p>Unfortunately, I cannot answer it for you due to not understanding how your program works. You might need to look through your documentation or the person developed it.</p>\n</li>\n<li>\n<blockquote>\n<p>How does Java.util have such a high value</p>\n</blockquote>\n<p>Instead of focusing that, would rather focus on a more general level. Here is some example</p>\n<p><a href=\"https://i.stack.imgur.com/4gGbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4gGbO.png\" alt=\"enter image description here\" /></a></p>\n<p>Scenarios</p>\n<ol>\n<li><p>High memory, low instance count</p>\n<p>JVM detected that <code>org.jboss.weld.annotated.enhanced.jlr</code> is still needed thus it stored them. The instance count is low now doesn't mean it won't be high because certain event will triggered it and program will allocate more instance for it to process.</p>\n</li>\n<li><p>Low memory, high instance count</p>\n<p><code>org.jboss.weld.util.collections</code> uses low memory, but certain event triggered it and program need to allocate instance to it for processing.</p>\n</li>\n</ol>\n<p>In summary, that's why you could see some instance count is high but memory low and instance count low but memory high which against the theory</p>\n<p><strong>high memory = high instance count</strong></p>\n<p>or</p>\n<p><strong>low memory = low instance count</strong></p>\n</li>\n</ol>\n<p>Additional: Java have garbage collector which removes unused variable which helps make works simple. For example, we do not need to clear some variables (probably have size of 10 million) like list or array.</p>\n<p>My solution to your crashing is</p>\n<ol>\n<li>You might need to allocate more RAM.</li>\n<li>Please estimate what is the minimum and maximum memory for your program</li>\n<li>Please make sure there is no memory leakage. For example, When you establish a connection to your database, make sure to close it, e.g. <code>mySql.close();</code></li>\n</ol>\n"}],"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678979825,"answer_count":1,"score":0,"last_activity_date":1679555286,"creation_date":1678952878,"question_id":75753355,"body_markdown":"Our company has a Unix machine with a tomcat server inside, I, the webApp programmer using spring and vuejs, create the .war to be fed to the Tomcat to have it uploaded online and make it reachable via HTTPS;\r\n\r\na bit of history:\r\n\r\nInitially there were only 5 wars in this machine divided into: WebApp and Rest-Api with Job Scheduled (some written via Spring-boot Scheduled others via Quartz and others .war instead via spring-boot and Vuejs and/or vanilla javascript) is happened that for work reasons the wars from 5 have passed to 17. (always divided as written above) It happens that every 3 days the Tomcat server crashes and doesn&#39;t work anymore, analyzing the logs the reason why it crashes and doesn&#39;t works anymore is due to this &quot;GC overhead limit exceeded&quot; error and every time we restart tomcat, it writes in the catalina.out log a &quot;full dump of the 64 bit Java HotSpot(TM) Server VM thread&quot;\r\nthanks to the ycrash community I was able not only to analyze the dump and do further research to better understand why this error is generated and in my research I came across a tool called JProfile and I started using it\r\n\r\nimage gallery:\r\n[![memory](https://i.stack.imgur.com/brxiS.png)](https://i.stack.imgur.com/brxiS.png)\r\n[![summary](https://i.stack.imgur.com/vO1cU.png)](https://i.stack.imgur.com/vO1cU.png)\r\n[![thread](https://i.stack.imgur.com/TqemO.png)](https://i.stack.imgur.com/TqemO.png)\r\n\r\nCurrent situation:\r\n\r\nAfter several days of analysis with the JProfile tool I can&#39;t go on or rather many questions come into my head and I can&#39;t find an answer for example:\r\n\r\n1) It is normal that the memory always reaches 2GB;\r\n2) Is it normal that there are almost more than 80 threads in blocked state?\r\n3) How does Java.util have such a high value?\r\n[![Java Utili Exapand](https://i.stack.imgur.com/rypgC.png)](https://i.stack.imgur.com/rypgC.png)","title":"What&#39;s the best way to analyze a JVM?","body":"<p>Our company has a Unix machine with a tomcat server inside, I, the webApp programmer using spring and vuejs, create the .war to be fed to the Tomcat to have it uploaded online and make it reachable via HTTPS;</p>\n<p>a bit of history:</p>\n<p>Initially there were only 5 wars in this machine divided into: WebApp and Rest-Api with Job Scheduled (some written via Spring-boot Scheduled others via Quartz and others .war instead via spring-boot and Vuejs and/or vanilla javascript) is happened that for work reasons the wars from 5 have passed to 17. (always divided as written above) It happens that every 3 days the Tomcat server crashes and doesn't work anymore, analyzing the logs the reason why it crashes and doesn't works anymore is due to this &quot;GC overhead limit exceeded&quot; error and every time we restart tomcat, it writes in the catalina.out log a &quot;full dump of the 64 bit Java HotSpot(TM) Server VM thread&quot;\nthanks to the ycrash community I was able not only to analyze the dump and do further research to better understand why this error is generated and in my research I came across a tool called JProfile and I started using it</p>\n<p>image gallery:\n<a href=\"https://i.stack.imgur.com/brxiS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/brxiS.png\" alt=\"memory\" /></a>\n<a href=\"https://i.stack.imgur.com/vO1cU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vO1cU.png\" alt=\"summary\" /></a>\n<a href=\"https://i.stack.imgur.com/TqemO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TqemO.png\" alt=\"thread\" /></a></p>\n<p>Current situation:</p>\n<p>After several days of analysis with the JProfile tool I can't go on or rather many questions come into my head and I can't find an answer for example:</p>\n<ol>\n<li>It is normal that the memory always reaches 2GB;</li>\n<li>Is it normal that there are almost more than 80 threads in blocked state?</li>\n<li>How does Java.util have such a high value?\n<a href=\"https://i.stack.imgur.com/rypgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rypgC.png\" alt=\"Java Utili Exapand\" /></a></li>\n</ol>\n"},{"tags":["java","smartgwt"],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555245,"creation_date":1679472536,"question_id":75809725,"body_markdown":"initially all of my three Portlet object is within the same vertical position (where all of them is visually under the same row), but after I have added the setAttribute() method, all three of my Portlet object is now at different vertical position, where it now looks like a stair. \r\n\r\nMay I know how can I fix this? Below is my codes:\r\n\r\n    private Portlet populatePortlet(final int i, final VLayout layout){\r\n    \r\n    \t\tfinal Portlet portlet = new Portlet();\r\n    \t\tportlet.setHeight((countPortletHeight+20)+&quot;px&quot;);\r\n    \t\tportlet.setBodyColor(&quot;transparent&quot;);\r\n    \t\tportlet.setBodyStyle(&quot;&quot;);\r\n    \t\tportlet.setLayoutMargin(0);\r\n    \t\tportlet.setShowHeader(false);\r\n    \t\tportlet.setMinWidth(countPortletMinWidth);\r\n    \t\tElement portletElement = portlet.getElement();\r\n    \t\tif(UserDetailService.isDeviceModeHandsetOrTablet()){\r\n    \t\tdashletPortlet.setWidth100();\r\n    \t\t}\r\n    \r\n    \t\tif(i % 4 == 1) {\r\n    \t\t\tportlet.setBackgroundColor(&quot;#EC5B42&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n   \r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n            }else if(i % 4 == 2) {\r\n            \tportlet.setBackgroundColor(&quot;#F2B134&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n            }else if(i % 4 == 3) {\r\n            \tportlet.setBackgroundColor(&quot;#2EB997&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n    \r\n            }\r\n    \t\t\r\n    \t\treturn portlet;\r\n    \t}\r\nBased on my latest understanding, it is because I am manipulating the DOM of the portlet object directly, thats why I a having this issue. Is it true? If it is true, what alternatives should I use ?\r\n","title":"Portlet are at different vertical Position after using setAttribute() method","body":"<p>initially all of my three Portlet object is within the same vertical position (where all of them is visually under the same row), but after I have added the setAttribute() method, all three of my Portlet object is now at different vertical position, where it now looks like a stair.</p>\n<p>May I know how can I fix this? Below is my codes:</p>\n<pre><code>private Portlet populatePortlet(final int i, final VLayout layout){\n\n        final Portlet portlet = new Portlet();\n        portlet.setHeight((countPortletHeight+20)+&quot;px&quot;);\n        portlet.setBodyColor(&quot;transparent&quot;);\n        portlet.setBodyStyle(&quot;&quot;);\n        portlet.setLayoutMargin(0);\n        portlet.setShowHeader(false);\n        portlet.setMinWidth(countPortletMinWidth);\n        Element portletElement = portlet.getElement();\n        if(UserDetailService.isDeviceModeHandsetOrTablet()){\n        dashletPortlet.setWidth100();\n        }\n\n        if(i % 4 == 1) {\n            portlet.setBackgroundColor(&quot;#EC5B42&quot;);\n            portlet.setCanSelectText(true);\n\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n        }else if(i % 4 == 2) {\n            portlet.setBackgroundColor(&quot;#F2B134&quot;);\n            portlet.setCanSelectText(true);\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n        }else if(i % 4 == 3) {\n            portlet.setBackgroundColor(&quot;#2EB997&quot;);\n            portlet.setCanSelectText(true);\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n\n        }\n        \n        return portlet;\n    }\n</code></pre>\n<p>Based on my latest understanding, it is because I am manipulating the DOM of the portlet object directly, thats why I a having this issue. Is it true? If it is true, what alternatives should I use ?</p>\n"},{"tags":["java","android","kotlin","android-camera2"],"owner":{"account_id":25442848,"reputation":1,"user_id":21462247,"display_name":"Tryan Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555178,"creation_date":1679555178,"question_id":75820058,"body_markdown":"I am not able to set a particular focus distance. I have a few sub question here\r\n1. how to manually set the focus distance?\r\n\r\nI have tried the following code\r\n\r\n```\r\n        val characteristics: CameraCharacteristics =\r\n            manager!!.getCameraCharacteristics (mCameraDevice!!.id)\r\n        var afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\r\n        Log.d(TAG,&quot;AF mode : &quot;+afAvailableAeModes.toString())//a\r\n        var focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\r\n        Log.d(TAG,&quot;Focus Distance Original &quot;+focusDistance.toString())//b\r\n        mPreviewRequestBuilder.set(CaptureRequest.FLASH_MODE,CaptureRequest.FLASH_MODE_TORCH)\r\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE,CaptureRequest.CONTROL_AE_MODE_ON)\r\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_OFF);\r\n        mPreviewRequestBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, 30f);\r\n        mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),null,null)\r\n        focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\r\n        Log.d(TAG,&quot;Focus Distance after set &quot;+focusDistance.toString())//c\r\n\r\n        afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\r\n        Log.d(TAG,&quot;Focus Distance After Change &quot;+afAvailableAeModes.toString())//d\r\n\r\n```\r\nAfter seeing the log, I have these:\r\na. AF Mode : 10.0\r\nb. Focus Distance Original 2\r\nc. Focus Distance after set 2\r\nd. Focus Distance After Change 10.0\r\nas can be seen, nothing is changed, BUT the FLASH mode changed to TORCH. so I think the setting is changed, but I am not able to change the right parameters, in this case is focus distance.\r\n\r\n\r\n2. how to check if the focus distance is set?\r\nif the focus distance is changed, please provide the code to confirm the changes\r\n\r\n3. what is the unit of focus distance, is it cm or 100f/(focus_distance) ?\r\nAs can be seen that the default LENS_INFO_MINIMUM_FOCUS_DISTANCE is 10.0. What is the unit? cm? or the number is coming from a formula, like 100f/(focus_distance)?\r\n\r\n\r\n\r\nI hope that my questions are clear. I tried many answer like :\r\n1. https://stackoverflow.com/questions/42901334/manual-focus-using-android-camera2-api\r\n2. https://stackoverflow.com/questions/28170491/manual-focus-in-camera2-android\r\n3. https://stackoverflow.com/questions/54903737/setting-focus-distance-using-lens-focus-distance-camera2-api-is-not-set-at-a-giv ","title":"Set Manual Focus on camera2 API Android","body":"<p>I am not able to set a particular focus distance. I have a few sub question here</p>\n<ol>\n<li>how to manually set the focus distance?</li>\n</ol>\n<p>I have tried the following code</p>\n<pre><code>        val characteristics: CameraCharacteristics =\n            manager!!.getCameraCharacteristics (mCameraDevice!!.id)\n        var afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\n        Log.d(TAG,&quot;AF mode : &quot;+afAvailableAeModes.toString())//a\n        var focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\n        Log.d(TAG,&quot;Focus Distance Original &quot;+focusDistance.toString())//b\n        mPreviewRequestBuilder.set(CaptureRequest.FLASH_MODE,CaptureRequest.FLASH_MODE_TORCH)\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE,CaptureRequest.CONTROL_AE_MODE_ON)\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_OFF);\n        mPreviewRequestBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, 30f);\n        mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),null,null)\n        focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\n        Log.d(TAG,&quot;Focus Distance after set &quot;+focusDistance.toString())//c\n\n        afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\n        Log.d(TAG,&quot;Focus Distance After Change &quot;+afAvailableAeModes.toString())//d\n\n</code></pre>\n<p>After seeing the log, I have these:\na. AF Mode : 10.0\nb. Focus Distance Original 2\nc. Focus Distance after set 2\nd. Focus Distance After Change 10.0\nas can be seen, nothing is changed, BUT the FLASH mode changed to TORCH. so I think the setting is changed, but I am not able to change the right parameters, in this case is focus distance.</p>\n<ol start=\"2\">\n<li><p>how to check if the focus distance is set?\nif the focus distance is changed, please provide the code to confirm the changes</p>\n</li>\n<li><p>what is the unit of focus distance, is it cm or 100f/(focus_distance) ?\nAs can be seen that the default LENS_INFO_MINIMUM_FOCUS_DISTANCE is 10.0. What is the unit? cm? or the number is coming from a formula, like 100f/(focus_distance)?</p>\n</li>\n</ol>\n<p>I hope that my questions are clear. I tried many answer like :</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/42901334/manual-focus-using-android-camera2-api\">Manual Focus using android camera2 API</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28170491/manual-focus-in-camera2-android\">Manual focus in camera2, android</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54903737/setting-focus-distance-using-lens-focus-distance-camera2-api-is-not-set-at-a-giv\">Setting focus distance using LENS_FOCUS_DISTANCE Camera2 API is not set at a given distance</a></li>\n</ol>\n"},{"tags":["java","spring","provider","smartcard-reader"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679557374,"post_id":75820000,"comment_id":133743664,"body_markdown":"You haven&#39;t tried the sun package you tried to run the applicaiton on a non compatible JDK version.","body":"You haven&#39;t tried the sun package you tried to run the applicaiton on a non compatible JDK version."},{"owner":{"account_id":15162190,"reputation":11,"user_id":10940887,"display_name":"sess"},"score":0,"creation_date":1679557851,"post_id":75820000,"comment_id":133743773,"body_markdown":"I used jre because sun package works in jre. jdk has not that package.","body":"I used jre because sun package works in jre. jdk has not that package."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679561099,"post_id":75820000,"comment_id":133744464,"body_markdown":"You didn&#39;t use the proper JRE (also the JDK is the JRE with some additional stuff) that is still an older version then the version you need for Spring Boot. However newer JDKs might not have that part of the classes (or the specific JDK in use).","body":"You didn&#39;t use the proper JRE (also the JDK is the JRE with some additional stuff) that is still an older version then the version you need for Spring Boot. However newer JDKs might not have that part of the classes (or the specific JDK in use)."}],"owner":{"account_id":15162190,"reputation":11,"user_id":10940887,"display_name":"sess"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679554716,"creation_date":1679554716,"question_id":75820000,"body_markdown":"I am trying to read smart card. Sun package was used for reading smart card but it is not available in spring boot application.\r\nSo I want new libraries for my purpose. Can you help me?\r\nThanks.\r\n\r\n\r\nI tried sun package on spring boot application. But it gives this error message:\r\n```\r\norg/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n```","title":"how to read smart card on java spring boot application?","body":"<p>I am trying to read smart card. Sun package was used for reading smart card but it is not available in spring boot application.\nSo I want new libraries for my purpose. Can you help me?\nThanks.</p>\n<p>I tried sun package on spring boot application. But it gives this error message:</p>\n<pre><code>org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\n</code></pre>\n"},{"tags":["java","mysql","spring-data-jpa","projection","specifications"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679554543,"creation_date":1679554543,"answer_id":75819985,"question_id":75819550,"body_markdown":"Simply create a [custom method in your repository interface][1] and implement it yourself using an injected `EntityManager`. \r\n\r\nYou can use a query string or the criteria API. \r\nWith the latter you may reuse any `Specification` you might have lying around.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior","title":"Need insights on best approach for Querying multiple tables using Specifications in Spring JPA","body":"<p>Simply create a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">custom method in your repository interface</a> and implement it yourself using an injected <code>EntityManager</code>.</p>\n<p>You can use a query string or the criteria API.\nWith the latter you may reuse any <code>Specification</code> you might have lying around.</p>\n"}],"owner":{"account_id":6984587,"reputation":448,"user_id":5485767,"display_name":"hisdudeness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679554543,"creation_date":1679549856,"question_id":75819550,"body_markdown":"There is a requirement to fetch data from multiple tables based on a set of filters, each of which might be null. \r\nFor example:\r\nEntities A, B and C\r\n\r\nAssociations:\r\n```\r\nA&lt;-&gt;B Many to One\r\nA&lt;-&gt;C One to One\r\n```\r\n\r\nSpecifications can solve issue of nullable filters. Along with Join&lt;X,Y&gt; we should be able to solve this.\r\nHowever, using Join&lt;A,B&gt; still generates Specification of entity A only, as a result of which we get Page of Entity A. But I need attributes of B and C as well. \r\n\r\nTo solve this I attempted to create a custom projection with attributes from A, B and C, and created Specification of type A with Join&lt;A,B&gt; and Join&lt;A,C&gt; like below:\r\n\r\nProjectionWithAttributesOfABC fetchAttributes(Specification&lt;A&gt; spec)\r\n\r\nThis results in `NoSuchElementException`\r\n\r\nTo get it working functionally I added B and C within Entity A and annotated them like below:\r\n\r\n```\r\n@OneToOne(FetchType.EAGER) C cInstance;\r\n@ManyToOne(FetchType.EAGER) B bInstance;\r\n\r\n```\r\n\r\nThis works, but I think this will cause N+1 query issue in production. \r\nWhen I hit the API to fetch details using @OneToOne based approach, I can see in debug mysql log that there are many queries generated to fetch Entity C.\r\n\r\nUsing specifications with Projections will solve my issue but seems like its not supported in spring as of now. \r\n\r\nI am not able to figure out a way to solve this issue.\r\nPlease share insights as to how I can tackle this.","title":"Need insights on best approach for Querying multiple tables using Specifications in Spring JPA","body":"<p>There is a requirement to fetch data from multiple tables based on a set of filters, each of which might be null.\nFor example:\nEntities A, B and C</p>\n<p>Associations:</p>\n<pre><code>A&lt;-&gt;B Many to One\nA&lt;-&gt;C One to One\n</code></pre>\n<p>Specifications can solve issue of nullable filters. Along with Join&lt;X,Y&gt; we should be able to solve this.\nHowever, using Join&lt;A,B&gt; still generates Specification of entity A only, as a result of which we get Page of Entity A. But I need attributes of B and C as well.</p>\n<p>To solve this I attempted to create a custom projection with attributes from A, B and C, and created Specification of type A with Join&lt;A,B&gt; and Join&lt;A,C&gt; like below:</p>\n<p>ProjectionWithAttributesOfABC fetchAttributes(Specification spec)</p>\n<p>This results in <code>NoSuchElementException</code></p>\n<p>To get it working functionally I added B and C within Entity A and annotated them like below:</p>\n<pre><code>@OneToOne(FetchType.EAGER) C cInstance;\n@ManyToOne(FetchType.EAGER) B bInstance;\n\n</code></pre>\n<p>This works, but I think this will cause N+1 query issue in production.\nWhen I hit the API to fetch details using @OneToOne based approach, I can see in debug mysql log that there are many queries generated to fetch Entity C.</p>\n<p>Using specifications with Projections will solve my issue but seems like its not supported in spring as of now.</p>\n<p>I am not able to figure out a way to solve this issue.\nPlease share insights as to how I can tackle this.</p>\n"},{"tags":["java","oop","inheritance","interface"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679540896,"post_id":75818944,"comment_id":133741536,"body_markdown":"i think you would have to split the two methods into separate interfaces","body":"i think you would have to split the two methods into separate interfaces"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679541158,"post_id":75818944,"comment_id":133741566,"body_markdown":"you could consider set method1 and method2 in Interface1 to be default methods that throw an exception (runtime etc) with an optional message (ie not implemented for this class), then override the method accordingly in whatever class.","body":"you could consider set method1 and method2 in Interface1 to be default methods that throw an exception (runtime etc) with an optional message (ie not implemented for this class), then override the method accordingly in whatever class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679541849,"post_id":75818944,"comment_id":133741639,"body_markdown":"What do you want to happen if you write: `new Class2().method1();`?","body":"What do you want to happen if you write: <code>new Class2().method1();</code>?"},{"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"score":0,"creation_date":1679542672,"post_id":75818944,"comment_id":133741752,"body_markdown":"In Java, all methods have to have an implementation when an interface is implemented. It can be a default implementation in the interface or an implementation in a class or its superclass. In your case you can have an implementation for `method2` in `Class1` which throws `UnsupportedOperationException` . But this is not recommended practice as your interface will violate [SOLID principles](https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns).  Best practice would be to do as @experimentunit1998X mentioned to split the interface","body":"In Java, all methods have to have an implementation when an interface is implemented. It can be a default implementation in the interface or an implementation in a class or its superclass. In your case you can have an implementation for <code>method2</code> in <code>Class1</code> which throws <code>UnsupportedOperationException</code> . But this is not recommended practice as your interface will violate <a href=\"https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns\">SOLID principles</a>.  Best practice would be to do as @experimentunit1998X mentioned to split the interface"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679554165,"creation_date":1679553426,"answer_id":75819876,"question_id":75818944,"body_markdown":"By the definition of Interface, \r\n\r\n&gt; An interface is a contract which means a class implementing an\r\n&gt; interface must implement all the abstract methods declared in the\r\n&gt; interface (or contract).\r\n\r\nTherefore, your requirement is simply impossible to achieve.\r\n\r\nNote: \r\n\r\n&gt; From JDK 9 onwards, private concrete methods were introduced in the\r\n&gt; interface which helps to restrict the implementation of a concrete\r\n&gt; method in the implementation class. \r\n&gt; \r\n&gt; But it only applies to concrete method implementations and not to\r\n&gt; abstract methods as abstract methods cannot be private.\r\n\r\nHence, it&#39;s still impossible to achieve.\r\n \r\n\r\n","title":"Implement only few methods from an interface in some given classes","body":"<p>By the definition of Interface,</p>\n<blockquote>\n<p>An interface is a contract which means a class implementing an\ninterface must implement all the abstract methods declared in the\ninterface (or contract).</p>\n</blockquote>\n<p>Therefore, your requirement is simply impossible to achieve.</p>\n<p>Note:</p>\n<blockquote>\n<p>From JDK 9 onwards, private concrete methods were introduced in the\ninterface which helps to restrict the implementation of a concrete\nmethod in the implementation class.</p>\n<p>But it only applies to concrete method implementations and not to\nabstract methods as abstract methods cannot be private.</p>\n</blockquote>\n<p>Hence, it's still impossible to achieve.</p>\n"}],"owner":{"account_id":13200238,"reputation":43,"user_id":9533705,"display_name":"Wanderlust"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679554376,"creation_date":1679540807,"question_id":75818944,"body_markdown":"I have an interface with 2 methods say method1 and method2. I want to restrict the implementation of only method1 in class1 and method2 in class2 as shown below. Is it possible?\r\n\r\n    interface Interface1{ \r\n        method1(); \r\n        method2();\r\n    }\r\n    class Class1 implements Interface1{\r\n        method1() {\r\n            //method1 implementation\r\n        }\r\n        //method2 access is restricted\r\n    }\r\n    class Class2 implements Interface1{\r\n        method2() {\r\n            //method2 implementation\r\n        }\r\n        //method1 access is restricted\r\n    }","title":"Implement only few methods from an interface in some given classes","body":"<p>I have an interface with 2 methods say method1 and method2. I want to restrict the implementation of only method1 in class1 and method2 in class2 as shown below. Is it possible?</p>\n<pre><code>interface Interface1{ \n    method1(); \n    method2();\n}\nclass Class1 implements Interface1{\n    method1() {\n        //method1 implementation\n    }\n    //method2 access is restricted\n}\nclass Class2 implements Interface1{\n    method2() {\n        //method2 implementation\n    }\n    //method1 access is restricted\n}\n</code></pre>\n"},{"tags":["java","redis","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679553849,"creation_date":1679553849,"answer_id":75819921,"question_id":75819887,"body_markdown":"Create a rateLimter configration\r\n\r\n```java\r\n// Import all required packages\r\n\r\n@Configuration\r\npublic class RedisRateLimiterConfig {\r\n\r\n    @Autowired\r\n    private ReactiveRedisOperations&lt;String, String&gt; redisOperations;\r\n\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter() {\r\n        return new RedisRateLimiter(redisOperations);\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe in you gatewayconfig \r\n\r\ncreate a bean \r\n\r\n```java\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter(RedisRateLimiterConfig redisRateLimiterConfig) {\r\n        return redisRateLimiterConfig.redisRateLimiter();\r\n    }\r\n```\r\n\r\nthen in your routeLocator Bean add\r\n\r\n`.setRateLimiter(redisRateLimiter)`\r\n\r\nfor more info please check this [Rate Limiting With Client IP in Spring Cloud Gateway](https://www.baeldung.com/spring-cloud-gateway-rate-limit-by-client-ip)","title":"Request Rate Limiting using Redis using spring cloud gateway","body":"<p>Create a rateLimter configration</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Import all required packages\n\n@Configuration\npublic class RedisRateLimiterConfig {\n\n    @Autowired\n    private ReactiveRedisOperations&lt;String, String&gt; redisOperations;\n\n    @Bean\n    public RedisRateLimiter redisRateLimiter() {\n        return new RedisRateLimiter(redisOperations);\n    }\n}\n\n</code></pre>\n<p>the in you gatewayconfig</p>\n<p>create a bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisRateLimiter redisRateLimiter(RedisRateLimiterConfig redisRateLimiterConfig) {\n        return redisRateLimiterConfig.redisRateLimiter();\n    }\n</code></pre>\n<p>then in your routeLocator Bean add</p>\n<p><code>.setRateLimiter(redisRateLimiter)</code></p>\n<p>for more info please check this <a href=\"https://www.baeldung.com/spring-cloud-gateway-rate-limit-by-client-ip\" rel=\"nofollow noreferrer\">Rate Limiting With Client IP in Spring Cloud Gateway</a></p>\n"}],"owner":{"account_id":26766832,"reputation":3,"user_id":20363840,"display_name":"Shaik Shajahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679553849,"creation_date":1679553497,"question_id":75819887,"body_markdown":"Can Some one give me a sample example of how to implement Request rate limiting using redis in spring cloud gateway .\r\n\r\nI was trying to implement it but doesn’t, A sample Implementation would be appreciated ","title":"Request Rate Limiting using Redis using spring cloud gateway","body":"<p>Can Some one give me a sample example of how to implement Request rate limiting using redis in spring cloud gateway .</p>\n<p>I was trying to implement it but doesn’t, A sample Implementation would be appreciated</p>\n"},{"tags":["java","spring-boot","tinkerpop","janusgraph"],"comments":[{"owner":{"account_id":24449805,"reputation":41,"user_id":18372214,"display_name":"毛三王"},"score":0,"creation_date":1679896765,"post_id":75819840,"comment_id":133796511,"body_markdown":"I&#39;ve managed to get this working using Cluster to connect to the JanusGraph server and submitting the `ConfiguredGraphFactory.create(graphName)` as a command string via the client to create the graph dynamically. A traversal object can then be obtained with `traversal.withRemote(DriverRemoteConnection.using(host, port, traversalName));` where the traversal name is graphName_traversal.","body":"I&#39;ve managed to get this working using Cluster to connect to the JanusGraph server and submitting the <code>ConfiguredGraphFactory.create(graphName)</code> as a command string via the client to create the graph dynamically. A traversal object can then be obtained with <code>traversal.withRemote(DriverRemoteConnection.using(host, port, traversalName));</code> where the traversal name is graphName_traversal."},{"owner":{"account_id":21237617,"reputation":133,"user_id":15621590,"display_name":"Zonko"},"score":0,"creation_date":1686738836,"post_id":75819840,"comment_id":134839529,"body_markdown":"Did you write conf/janusgraph-hbase-configurationgraph.properties by yourself? Or should this be in the container by default? Because I dont have such","body":"Did you write conf/janusgraph-hbase-configurationgraph.properties by yourself? Or should this be in the container by default? Because I dont have such"}],"owner":{"account_id":24449805,"reputation":41,"user_id":18372214,"display_name":"毛三王"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679553140,"creation_date":1679553140,"question_id":75819840,"body_markdown":"I&#39;m trying to figure out how to connect to JanusGraph server from SpringBoot.\r\n\r\nJanusGraph was setup with Cassandra and ElasticSearch to run in docker and as each instance of JanusGraph only serves one graph, I&#39;ve updated gremlin-server.yaml to use ConfiguredGraphFactory so that it can dynamically add graphs on the server, following this guide https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/.\r\n\r\n```\r\ngraphManager: org.janusgraph.graphdb.management.JanusGraphManager\r\n  graphs: {\r\n    ConfigurationManagementGraph: conf/janusgraph-hbase-configurationgraph.properties\r\n  }\r\n```\r\n\r\nThe setup has been tested to be working with Gremlin-console and graphs are being created and persisted to Cassandra.\r\n\r\nWhat I couldn&#39;t figure out is how to connect from SpringBoot app. I&#39;ve tried using ConfiguredGraphFactory directly\r\n\r\n```\r\ngraph = ConfiguredGraphFactory.getGraphNames().contains(xxx)\r\n        ? ConfiguredGraphFactory.open(xxx)\r\n        : ConfiguredGraphFactory.create(xxx);\r\n    g = graph.traversal();\r\n```\r\n\r\nbut it fails to connect to the JanusGraph server with the following error\r\n\r\n\r\n&gt; java.lang.RuntimeException: org.janusgraph.graphdb.management.utils.ConfigurationManagementGraphNotEnabledException: Please add a key named &quot;ConfigurationManagementGraph&quot; to the &quot;graphs&quot; property in your YAML file and restart the server to be able to use the functionality of the ConfigurationManagementGraph class.\r\n&gt; \r\n\r\nMy guess is that the hostname/ip and port for JanusGraph server hasn&#39;t been specified but where and how can I set them using the JanusGraph classes?\r\n\r\nI&#39;ve checked the following but am still not getting it.\r\n\r\n- https://docs.janusgraph.org/operations/configured-graph-factory/ \r\n- https://docs.janusgraph.org/interactions/connecting/java/\r\n- https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html\r\n\r\nWould anyone be able to help?\r\n\r\nAppreciate and many thanks.","title":"Connecting to JanusGraph using ConfiguredGraphFactory","body":"<p>I'm trying to figure out how to connect to JanusGraph server from SpringBoot.</p>\n<p>JanusGraph was setup with Cassandra and ElasticSearch to run in docker and as each instance of JanusGraph only serves one graph, I've updated gremlin-server.yaml to use ConfiguredGraphFactory so that it can dynamically add graphs on the server, following this guide <a href=\"https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/\" rel=\"nofollow noreferrer\">https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/</a>.</p>\n<pre><code>graphManager: org.janusgraph.graphdb.management.JanusGraphManager\n  graphs: {\n    ConfigurationManagementGraph: conf/janusgraph-hbase-configurationgraph.properties\n  }\n</code></pre>\n<p>The setup has been tested to be working with Gremlin-console and graphs are being created and persisted to Cassandra.</p>\n<p>What I couldn't figure out is how to connect from SpringBoot app. I've tried using ConfiguredGraphFactory directly</p>\n<pre><code>graph = ConfiguredGraphFactory.getGraphNames().contains(xxx)\n        ? ConfiguredGraphFactory.open(xxx)\n        : ConfiguredGraphFactory.create(xxx);\n    g = graph.traversal();\n</code></pre>\n<p>but it fails to connect to the JanusGraph server with the following error</p>\n<blockquote>\n<p>java.lang.RuntimeException: org.janusgraph.graphdb.management.utils.ConfigurationManagementGraphNotEnabledException: Please add a key named &quot;ConfigurationManagementGraph&quot; to the &quot;graphs&quot; property in your YAML file and restart the server to be able to use the functionality of the ConfigurationManagementGraph class.</p>\n</blockquote>\n<p>My guess is that the hostname/ip and port for JanusGraph server hasn't been specified but where and how can I set them using the JanusGraph classes?</p>\n<p>I've checked the following but am still not getting it.</p>\n<ul>\n<li><a href=\"https://docs.janusgraph.org/operations/configured-graph-factory/\" rel=\"nofollow noreferrer\">https://docs.janusgraph.org/operations/configured-graph-factory/</a></li>\n<li><a href=\"https://docs.janusgraph.org/interactions/connecting/java/\" rel=\"nofollow noreferrer\">https://docs.janusgraph.org/interactions/connecting/java/</a></li>\n<li><a href=\"https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html</a></li>\n</ul>\n<p>Would anyone be able to help?</p>\n<p>Appreciate and many thanks.</p>\n"},{"tags":["java","amazon-web-services","inheritance","oauth-2.0","amazon-cognito"],"owner":{"account_id":15967487,"reputation":11,"user_id":11738095,"display_name":"Ayushman Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679552964,"creation_date":1679380571,"question_id":75797960,"body_markdown":"Can someone please help me with how can I extend AWSCognitoIdentityProviderClient class? The issue arises because all its constructors are now depreciated and through builder methods only I can instantiate this class. However, while extending I am not able to know how should I set the parent class fields and data. \r\n\r\nHelp is really appreciated. \r\n\r\nThis is how I instantiate an *AWSCognitoIdentityProviderClient\r\nhttps://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951\r\nI have tried using the constructors but that is not recommended because they are depreciated. ","title":"Extending AWSCognitoIdentityProviderClient from AWS SDK","body":"<p>Can someone please help me with how can I extend AWSCognitoIdentityProviderClient class? The issue arises because all its constructors are now depreciated and through builder methods only I can instantiate this class. However, while extending I am not able to know how should I set the parent class fields and data.</p>\n<p>Help is really appreciated.</p>\n<p>This is how I instantiate an *AWSCognitoIdentityProviderClient\n<a href=\"https://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951\" rel=\"nofollow noreferrer\">https://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951</a>\nI have tried using the constructors but that is not recommended because they are depreciated.</p>\n"},{"tags":["java","spring","lombok","accessor"],"comments":[{"owner":{"account_id":14158060,"reputation":1140,"user_id":10228119,"display_name":"Amir Hedieh"},"score":1,"creation_date":1549448581,"post_id":54551114,"comment_id":95902520,"body_markdown":"take a look at https://projectlombok.org/features/GetterSetter","body":"take a look at <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">projectlombok.org/features/GetterSetter</a>"}],"answers":[{"tags":[],"owner":{"account_id":14974674,"reputation":25,"user_id":10810444,"display_name":"Debi P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549448495,"creation_date":1549448495,"answer_id":54551234,"question_id":54551114,"body_markdown":"We can annotate any field with @Getter and/or @Setter, to let lombok generate the default getter/setter automatically.\r\n[Please refer here][1] to get more details.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/GetterSetter","title":"Using @Getter on Classes, Enums, etc","body":"<p>We can annotate any field with @Getter and/or @Setter, to let lombok generate the default getter/setter automatically.\n<a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">Please refer here</a> to get more details.</p>\n"},{"tags":[],"owner":{"account_id":2785411,"reputation":431,"user_id":2396962,"display_name":"Divanshu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549475396,"creation_date":1549448612,"answer_id":54551276,"question_id":54551114,"body_markdown":"**Added later**\r\nI think @cнŝdk answer is much better. So, please use it.\r\n\r\n**Originally wrote**\r\n\r\n@Getter, @Setter, and @Data annotations are provided by **Lombok** library. \r\n@Data will generate both setters and getters.\r\n\r\nYes, these annotations can be used with both class and enum. \r\n\r\nIf you are using maven then you can add Lombok as your dependency as given below:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nTo know more about Lombok please visit [https://projectlombok.org/][1].\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"Using @Getter on Classes, Enums, etc","body":"<p><strong>Added later</strong>\nI think @cнŝdk answer is much better. So, please use it.</p>\n\n<p><strong>Originally wrote</strong></p>\n\n<p>@Getter, @Setter, and @Data annotations are provided by <strong>Lombok</strong> library. \n@Data will generate both setters and getters.</p>\n\n<p>Yes, these annotations can be used with both class and enum. </p>\n\n<p>If you are using maven then you can add Lombok as your dependency as given below:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To know more about Lombok please visit <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a>.</p>\n"},{"tags":[],"owner":{"account_id":15177449,"reputation":4293,"user_id":10951752,"display_name":"flaxel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549449017,"creation_date":1549449017,"answer_id":54551423,"question_id":54551114,"body_markdown":"If you use the Getter annotation, the constants are not important. But for all the other variables that you create there exists a getter method: \r\n\r\n    @Getter\r\n\tpublic enum Test {\r\n\t\tTEST;\r\n\r\n\t\tprivate int variable;\r\n\t}\r\n\r\nSo in this example you get only a getter method for the variable. ","title":"Using @Getter on Classes, Enums, etc","body":"<p>If you use the Getter annotation, the constants are not important. But for all the other variables that you create there exists a getter method: </p>\n\n<pre><code>@Getter\npublic enum Test {\n    TEST;\n\n    private int variable;\n}\n</code></pre>\n\n<p>So in this example you get only a getter method for the variable. </p>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1679552824,"creation_date":1549449209,"answer_id":54551481,"question_id":54551114,"body_markdown":"If you check the [Lombok&#39;s **@Getter and @Setter** Reference](https://projectlombok.org/features/GetterSetter), you can see that:\r\n\r\n\r\n&gt; You can also put a @Getter and/or @Setter annotation on a class. In that case, it&#39;s as if you annotate all the non-static fields in that class with the annotation.\r\n\r\nThis means when you put `@Getter` in the Class/Enum level, it will generate `getters` for all non static members on this Class/Enum, as if you put `@Getter` for all those members repeatedly.\r\n\r\n**Example:**\r\n\r\nTo illustrate this with an example both these two codes are equivalent:\r\n\r\nCode 1:\r\n\r\n    @Getter\r\n    public enum MyEnum {\r\n        private int member1;\r\n        private int member2;\r\n    }\r\n\r\nCode 2:\r\n\r\n    \r\n    public enum MyEnum {\r\n        @Getter\r\n        private int member1;\r\n        @Getter\r\n        private int member2;\r\n    }\r\n\r\nHere `getter` methods will be generated for both members.","title":"Using @Getter on Classes, Enums, etc","body":"<p>If you check the <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">Lombok's <strong>@Getter and @Setter</strong> Reference</a>, you can see that:</p>\n<blockquote>\n<p>You can also put a @Getter and/or @Setter annotation on a class. In that case, it's as if you annotate all the non-static fields in that class with the annotation.</p>\n</blockquote>\n<p>This means when you put <code>@Getter</code> in the Class/Enum level, it will generate <code>getters</code> for all non static members on this Class/Enum, as if you put <code>@Getter</code> for all those members repeatedly.</p>\n<p><strong>Example:</strong></p>\n<p>To illustrate this with an example both these two codes are equivalent:</p>\n<p>Code 1:</p>\n<pre><code>@Getter\npublic enum MyEnum {\n    private int member1;\n    private int member2;\n}\n</code></pre>\n<p>Code 2:</p>\n<pre><code>public enum MyEnum {\n    @Getter\n    private int member1;\n    @Getter\n    private int member2;\n}\n</code></pre>\n<p>Here <code>getter</code> methods will be generated for both members.</p>\n"}],"owner":{"display_name":"user4773260"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11777,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":54551481,"answer_count":4,"score":8,"last_activity_date":1679552824,"creation_date":1549448135,"question_id":54551114,"body_markdown":"I came across a code where `@Getter` was used on an enum declaration, I want to know if it&#39;s possible to use `@Getter` over an enum declaration and what purpose it serves? \r\n\r\nAs far as I know, `@Getter` generates getter methods on member variables. Am I missing something? \r\n\r\nIs it possible to annotate the class with `@Getter` as well?\r\n\r\n","title":"Using @Getter on Classes, Enums, etc","body":"<p>I came across a code where <code>@Getter</code> was used on an enum declaration, I want to know if it's possible to use <code>@Getter</code> over an enum declaration and what purpose it serves? </p>\n\n<p>As far as I know, <code>@Getter</code> generates getter methods on member variables. Am I missing something? </p>\n\n<p>Is it possible to annotate the class with <code>@Getter</code> as well?</p>\n"},{"tags":["java","swing","jpanel","jbutton","grid-layout"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679542270,"post_id":75819020,"comment_id":133741684,"body_markdown":"I cannot reproduce this. It shows 3 large buttons for me.","body":"I cannot reproduce this. It shows 3 large buttons for me."},{"owner":{"account_id":25565310,"reputation":1,"user_id":19346885,"display_name":"randy pahang"},"score":0,"creation_date":1679542350,"post_id":75819020,"comment_id":133741694,"body_markdown":"@Unmitigated are you suggesting that the problem lies in the software and not the code?","body":"@Unmitigated are you suggesting that the problem lies in the software and not the code?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679544990,"creation_date":1679544990,"answer_id":75819209,"question_id":75819020,"body_markdown":"* Don&#39;t use `null` layouts, they aren&#39;t helping you\r\n* `this.setVisible(true)` is irrelevant, Swing components by default are visible (with the exception of window based classes)\r\n* Swing is lazy, so modifying a UI which is presented on the screen will not be immediately update.  In your case, simply make `this.setVisible` the last statement, otherwise you need to `revalidate` and `repaint` the container which has changed, in order to trigger a new layout and paint pass.\r\n* Setting the size of the window is ill-advised. This will make the visible content area `size - window decoration insets` which may cause you issues.  Better to set the preferred size of the content (or just let the layout managers do their jobs) and `pack` the window around it\r\n\r\n# For example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new MyFrame();\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MyFrame extends JFrame {\r\n\r\n            public static final int WIDTH = 800;\r\n            public static final int HEIGHT = 900;\r\n\r\n            MyFrame() {\r\n                this.setTitle(&quot;Percolation Simulation&quot;);\r\n                this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                JPanel mainPanel = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(MyFrame.WIDTH, MyFrame.HEIGHT);\r\n                    }\r\n                };\r\n                mainPanel.setBackground(Color.red);\r\n                mainPanel.setLayout(new GridLayout());\r\n\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n\r\n                this.add(mainPanel);\r\n\r\n                this.pack();\r\n                this.setLocationRelativeTo(null);\r\n                this.setVisible(true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uMOFV.png","title":"Java Swing, JButton not showing on a panel with a grid layout","body":"<ul>\n<li>Don't use <code>null</code> layouts, they aren't helping you</li>\n<li><code>this.setVisible(true)</code> is irrelevant, Swing components by default are visible (with the exception of window based classes)</li>\n<li>Swing is lazy, so modifying a UI which is presented on the screen will not be immediately update.  In your case, simply make <code>this.setVisible</code> the last statement, otherwise you need to <code>revalidate</code> and <code>repaint</code> the container which has changed, in order to trigger a new layout and paint pass.</li>\n<li>Setting the size of the window is ill-advised. This will make the visible content area <code>size - window decoration insets</code> which may cause you issues.  Better to set the preferred size of the content (or just let the layout managers do their jobs) and <code>pack</code> the window around it</li>\n</ul>\n<h1>For example...</h1>\n<p><a href=\"https://i.stack.imgur.com/uMOFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMOFV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new MyFrame();\n            }\n        });\n    }\n\n    public class MyFrame extends JFrame {\n\n        public static final int WIDTH = 800;\n        public static final int HEIGHT = 900;\n\n        MyFrame() {\n            this.setTitle(&quot;Percolation Simulation&quot;);\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            JPanel mainPanel = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(MyFrame.WIDTH, MyFrame.HEIGHT);\n                }\n            };\n            mainPanel.setBackground(Color.red);\n            mainPanel.setLayout(new GridLayout());\n\n            mainPanel.add(new JButton(&quot; &quot;));\n            mainPanel.add(new JButton(&quot; &quot;));\n            mainPanel.add(new JButton(&quot; &quot;));\n\n            this.add(mainPanel);\n\n            this.pack();\n            this.setLocationRelativeTo(null);\n            this.setVisible(true);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25565310,"reputation":1,"user_id":19346885,"display_name":"randy pahang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679551751,"creation_date":1679542089,"question_id":75819020,"body_markdown":"I&#39;ve been trying to add a grid layout of buttons onto a jpanel, but nothing shows up on the jpanel when I run the code.\r\n\r\npublic class MyFrame extends JFrame{\r\n\r\n    public static final int WIDTH = 800;\r\n    public static final int HEIGHT = 900;\r\n    \r\n    MyFrame() {\r\n    \tthis.setTitle(&quot;Percolation Simulation&quot;);\r\n    \tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tthis.setSize(WIDTH, HEIGHT);\r\n    \tthis.setLayout(null);\r\n    \tthis.setVisible(true);\r\n    \t\r\n    \tJPanel mainPanel = new JPanel();\r\n    \tmainPanel.setBounds(0, 0, WIDTH, 600);\r\n    \tmainPanel.setBackground(Color.red);\r\n    \tmainPanel.setLayout(new GridLayout());\r\n    \t\r\n    \tthis.add(mainPanel);\r\n    \t\r\n    \t\r\n    \tmainPanel.add(new JButton());\r\n    \tmainPanel.add(new JButton());\r\n    \tmainPanel.add(new JButton());\r\n    \t\r\n    \tmainPanel.setVisible(true);\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n}\r\n\r\n[enter image description here](https://i.stack.imgur.com/qyGt3.png)Output of code","title":"Java Swing, JButton not showing on a panel with a grid layout","body":"<p>I've been trying to add a grid layout of buttons onto a jpanel, but nothing shows up on the jpanel when I run the code.</p>\n<p>public class MyFrame extends JFrame{</p>\n<pre><code>public static final int WIDTH = 800;\npublic static final int HEIGHT = 900;\n\nMyFrame() {\n    this.setTitle(&quot;Percolation Simulation&quot;);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setSize(WIDTH, HEIGHT);\n    this.setLayout(null);\n    this.setVisible(true);\n    \n    JPanel mainPanel = new JPanel();\n    mainPanel.setBounds(0, 0, WIDTH, 600);\n    mainPanel.setBackground(Color.red);\n    mainPanel.setLayout(new GridLayout());\n    \n    this.add(mainPanel);\n    \n    \n    mainPanel.add(new JButton());\n    mainPanel.add(new JButton());\n    mainPanel.add(new JButton());\n    \n    mainPanel.setVisible(true);\n    \n    \n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/qyGt3.png\" rel=\"nofollow noreferrer\">enter image description here</a>Output of code</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1679548144,"post_id":75819396,"comment_id":133742253,"body_markdown":"Maven 3.9 requires Java 8 (also known as 1.8) or later","body":"Maven 3.9 requires Java 8 (also known as 1.8) or later"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679548211,"post_id":75819396,"comment_id":133742259,"body_markdown":"It required Java 8 version try to build with 8 . https://maven.apache.org/docs/history.html","body":"It required Java 8 version try to build with 8 . <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679565577,"post_id":75819396,"comment_id":133745644,"body_markdown":"First as already mentioned you have to have at minum JDK8 to run Maven 3.9.X Or you can use Maven 3.8.X (https://maven.apache.org/docs/history.html)  and use JDK 7 ... other option would be to use a more recent JDK9+ and use the `release` option to produce JDK7 compatible compiled classes... apart from that JDK 7 is really out of date (current JDK version is JDK20 https://inside.java/2023/03/21/the-arrival-of-java-20/)... etc. or you can use toolchains (Details: https://youtu.be/-KbDcJcglPc)","body":"First as already mentioned you have to have at minum JDK8 to run Maven 3.9.X Or you can use Maven 3.8.X (<a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>)  and use JDK 7 ... other option would be to use a more recent JDK9+ and use the <code>release</code> option to produce JDK7 compatible compiled classes... apart from that JDK 7 is really out of date (current JDK version is JDK20 <a href=\"https://inside.java/2023/03/21/the-arrival-of-java-20/\" rel=\"nofollow noreferrer\">inside.java/2023/03/21/the-arrival-of-java-20</a>)... etc. or you can use toolchains (Details: <a href=\"https://youtu.be/-KbDcJcglPc\" rel=\"nofollow noreferrer\">youtu.be/-KbDcJcglPc</a>)"}],"answers":[{"tags":[],"owner":{"account_id":14855107,"reputation":26,"user_id":10727854,"display_name":"Omkar Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679550305,"creation_date":1679550305,"answer_id":75819584,"question_id":75819396,"body_markdown":"maven 3.9.x will require java 1.8. see [maven release history][1]\r\n\r\nYou are getting\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\r\n\r\n\r\nIf you could see the error says that there is an unsupported version used and it gave you version 52.0.\r\n\r\nThis 52 version is associated with Java 1.8. check : [classFileStructure][2]\r\n\r\nIn a nutshell, the error tells you that the maven implementation is compiled in Java 8, you are using the unsupported version. it is providing you the correct version.\r\n\r\nJava 8 to resolve your issue.\r\n\r\n  [1]: https://maven.apache.org/docs/history.html\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html","title":"Maven throws error UnsupportedClassVersionError","body":"<p>maven 3.9.x will require java 1.8. see <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven release history</a></p>\n<p>You are getting</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\n</code></pre>\n<p>If you could see the error says that there is an unsupported version used and it gave you version 52.0.</p>\n<p>This 52 version is associated with Java 1.8. check : <a href=\"https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html\" rel=\"nofollow noreferrer\">classFileStructure</a></p>\n<p>In a nutshell, the error tells you that the maven implementation is compiled in Java 8, you are using the unsupported version. it is providing you the correct version.</p>\n<p>Java 8 to resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679551526,"creation_date":1679551526,"answer_id":75819685,"question_id":75819396,"body_markdown":"Maven 3.9.1 requires at least Java 1.8. But you can still use Java 1.7 to build your application using the maven toolchain if your application requires Java 1.7.\r\n\r\nIn `${user.home}/.m2/toolchains.xml` configure the Jdk as follows.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;toolchains&gt;\r\n  &lt;!-- JDK toolchains --&gt;\r\n  &lt;toolchain&gt;\r\n    &lt;type&gt;jdk&lt;/type&gt;\r\n    &lt;provides&gt;\r\n      &lt;version&gt;1.7&lt;/version&gt;\r\n      &lt;vendor&gt;sun&lt;/vendor&gt;\r\n    &lt;/provides&gt;\r\n    &lt;configuration&gt;\r\n      &lt;jdkHome&gt;/path/to/jdk/1.7&lt;/jdkHome&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/toolchain&gt;\r\n&lt;/toolchains&gt;\r\n```\r\n\r\nAnd in your `pom.xml` configure the toolchain as follows.\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.0&lt;/version&gt;\r\n  &lt;/plugin&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;toolchain&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;toolchains&gt;\r\n        &lt;jdk&gt;\r\n          &lt;version&gt;1.7&lt;/version&gt;\r\n          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n        &lt;/jdk&gt;\r\n      &lt;/toolchains&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\n&gt;NOTE: Do not change the `JAVA_HOME` environment variable; it should point to Java 1.8 or a later version of java.\r\n\r\nBy using toolchains, Maven will use Java 1.8, and the project will be compiled using Java 1.7\r\n\r\nREF: [Guide to Using Toolchains][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"Maven throws error UnsupportedClassVersionError","body":"<p>Maven 3.9.1 requires at least Java 1.8. But you can still use Java 1.7 to build your application using the maven toolchain if your application requires Java 1.7.</p>\n<p>In <code>${user.home}/.m2/toolchains.xml</code> configure the Jdk as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;!-- JDK toolchains --&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;1.7&lt;/version&gt;\n      &lt;vendor&gt;sun&lt;/vendor&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/path/to/jdk/1.7&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>And in your <code>pom.xml</code> configure the toolchain as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;toolchain&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;toolchains&gt;\n        &lt;jdk&gt;\n          &lt;version&gt;1.7&lt;/version&gt;\n          &lt;vendor&gt;sun&lt;/vendor&gt;\n        &lt;/jdk&gt;\n      &lt;/toolchains&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<blockquote>\n<p>NOTE: Do not change the <code>JAVA_HOME</code> environment variable; it should point to Java 1.8 or a later version of java.</p>\n</blockquote>\n<p>By using toolchains, Maven will use Java 1.8, and the project will be compiled using Java 1.7</p>\n<p>REF: <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Guide to Using Toolchains</a></p>\n"}],"owner":{"account_id":11517184,"reputation":742,"user_id":8440216,"display_name":"Neenu Chandran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679551526,"creation_date":1679547685,"question_id":75819396,"body_markdown":"I am seeing below error when trying to run maven. Java and javac is 1.7(versions are given below, and maven is 3.9.0. I am using mac os.\r\n\r\nAny help would be appreciated.\r\n\r\n\r\n```\r\nmvn\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n\tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.getMainClass(Launcher.java:140)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:259)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\r\npwd\r\n/usr/local/Cellar/maven/3.9.1\r\n\r\njava -version\r\njava version &quot;1.7.0_80&quot;\r\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\r\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\r\n\r\njavac -version\r\njavac 1.7.0_80","title":"Maven throws error UnsupportedClassVersionError","body":"<p>I am seeing below error when trying to run maven. Java and javac is 1.7(versions are given below, and maven is 3.9.0. I am using mac os.</p>\n<p>Any help would be appreciated.</p>\n<pre><code>mvn\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.getMainClass(Launcher.java:140)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:259)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n\npwd\n/usr/local/Cellar/maven/3.9.1\n\njava -version\njava version &quot;1.7.0_80&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\n\njavac -version\njavac 1.7.0_80\n</code></pre>\n"},{"tags":["java","eclipse","cucumber","window","gherkin"],"answers":[{"tags":[],"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679549973,"creation_date":1679549973,"answer_id":75819560,"question_id":75816317,"body_markdown":"Don&#39;t use marketplace, but instead install the offline zip package from [here](https://github.com/cucumber/cucumber-eclipse). I&#39;m running it in Eclipse 2020-09 with no problem.","title":"I am geeting error while Installing cucumber eclipse plugin 1.0.0 from market place","body":"<p>Don't use marketplace, but instead install the offline zip package from <a href=\"https://github.com/cucumber/cucumber-eclipse\" rel=\"nofollow noreferrer\">here</a>. I'm running it in Eclipse 2020-09 with no problem.</p>\n"}],"owner":{"account_id":23779415,"reputation":19,"user_id":17792318,"display_name":"Ankit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819560,"answer_count":1,"score":0,"last_activity_date":1679549973,"creation_date":1679511742,"question_id":75816317,"body_markdown":"[![enter image description here][1]][1]I&#39;m looking for Natural plugin. but doesn&#39;t found so insteade of try to installing Cucumber eclipse plugins.\r\n\r\nso for installing  &quot;Cucumber Eclipse&quot; plugin.so search for &quot;Cucumber&quot; in eclipse market place, and it would appear in the top of the list.\r\n\r\nalso try In Eclipse, in &quot;Help&quot; &gt;&gt; &quot;Install New Software...&quot;,\r\n\r\n\r\n\r\n\r\n\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_Ankit_eclipse_java-2021-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAIk9.png","title":"I am geeting error while Installing cucumber eclipse plugin 1.0.0 from market place","body":"<p><a href=\"https://i.stack.imgur.com/qAIk9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAIk9.png\" alt=\"enter image description here\" /></a>I'm looking for Natural plugin. but doesn't found so insteade of try to installing Cucumber eclipse plugins.</p>\n<p>so for installing  &quot;Cucumber Eclipse&quot; plugin.so search for &quot;Cucumber&quot; in eclipse market place, and it would appear in the top of the list.</p>\n<p>also try In Eclipse, in &quot;Help&quot; &gt;&gt; &quot;Install New Software...&quot;,</p>\n<p>An error occurred while collecting items to be installed\nsession context was:(profile=C__Users_Ankit_eclipse_java-2021-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for -9147676190077153272.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for -9147676190077153272.\nOK</p>\n"},{"tags":["java","azure-active-directory","microsoft-graph-api","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679548757,"creation_date":1679548757,"answer_id":75819473,"question_id":75815332,"body_markdown":"&gt; BadRequest Error message: /me request is only valid with delegated authentication flow\r\n\r\nThe above error usually occurs if you do not use **delegated** flows as auth providers while calling `/me` request. The code you mentioned is for **client credentials** that does not includes user interaction.\r\n\r\n***I tried to reproduce the same via Postman and got below results:***\r\n\r\nUsing client credentials flow, I generated **access token** with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\ngrant_type: client_credentials\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret&gt;\r\nscope: https://graph.microsoft.com/.default\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/TvVHv.png)\r\n\r\nWhen I included above access token while calling `/me` request, I got **same error** as below:\r\n\r\n    GET https://graph.microsoft.com/v1.0/me\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/INVxA.png)\r\n\r\nTo resolve the error, you need to use **delegated** flows that involves user interaction like authorization code flow, username password flow etc...\r\n\r\nIn my case, I used **authorization code** flow where you need to generate `code` initially with below request:\r\n```\r\nhttps://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\r\n?client_id=&lt;appID&gt;\r\n&amp;response_type=code\r\n&amp;redirect_uri= https://jwt.ms\r\n&amp;response_mode=query\r\n&amp;scope= https://graph.microsoft.com/.default\r\n&amp;state=12345\r\n```\r\nWhen I ran above request in browser, I got `code` in ***address bar*** along with redirect URL after signing in successfully like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/LJerk.png)\r\n\r\nNow, I generated access token using **authorization code** flow via Postman with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\ngrant_type:authorization_code\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret&gt;\r\nscope: https://graph.microsoft.com/.default\r\ncode: &lt;paste code from above request&gt;\r\nredirect_uri: https://jwt.ms\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/LJ9NM.png)\r\n\r\nWhen I used above access token while calling `/me` request, I got **user profile** successfully like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/TvkdC.png)\r\n\r\nTo do the same from Java, you can make use of below **sample code** of authorization code flow from MS Documentation:\r\n\r\n```java\r\nfinal AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\r\n        .clientId(clientId)\r\n        .clientSecret(clientSecret) //required for web apps, do not set for native apps\r\n        .authorizationCode(authorizationCode)\r\n        .redirectUrl(redirectUri)\r\n        .build();\r\n\r\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\r\n\r\nfinal GraphServiceClient graphClient =\r\n  GraphServiceClient\r\n    .builder()\r\n    .authenticationProvider(tokenCredentialAuthProvider)\r\n    .buildClient();\r\n\r\nfinal User me = graphClient.me().buildRequest().get();\r\n```\r\n**Reference:**\r\n\r\n[Choose a Microsoft Graph authentication provider - Microsoft Graph](https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider)","title":"Call microsoft graph from java app service","body":"<blockquote>\n<p>BadRequest Error message: /me request is only valid with delegated authentication flow</p>\n</blockquote>\n<p>The above error usually occurs if you do not use <strong>delegated</strong> flows as auth providers while calling <code>/me</code> request. The code you mentioned is for <strong>client credentials</strong> that does not includes user interaction.</p>\n<p><em><strong>I tried to reproduce the same via Postman and got below results:</strong></em></p>\n<p>Using client credentials flow, I generated <strong>access token</strong> with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\ngrant_type: client_credentials\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret&gt;\nscope: https://graph.microsoft.com/.default\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/TvVHv.png\" alt=\"enter image description here\" /></p>\n<p>When I included above access token while calling <code>/me</code> request, I got <strong>same error</strong> as below:</p>\n<pre><code>GET https://graph.microsoft.com/v1.0/me\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/INVxA.png\" alt=\"enter image description here\" /></p>\n<p>To resolve the error, you need to use <strong>delegated</strong> flows that involves user interaction like authorization code flow, username password flow etc...</p>\n<p>In my case, I used <strong>authorization code</strong> flow where you need to generate <code>code</code> initially with below request:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\n?client_id=&lt;appID&gt;\n&amp;response_type=code\n&amp;redirect_uri= https://jwt.ms\n&amp;response_mode=query\n&amp;scope= https://graph.microsoft.com/.default\n&amp;state=12345\n</code></pre>\n<p>When I ran above request in browser, I got <code>code</code> in <em><strong>address bar</strong></em> along with redirect URL after signing in successfully like below:</p>\n<p><img src=\"https://i.stack.imgur.com/LJerk.png\" alt=\"enter image description here\" /></p>\n<p>Now, I generated access token using <strong>authorization code</strong> flow via Postman with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\ngrant_type:authorization_code\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret&gt;\nscope: https://graph.microsoft.com/.default\ncode: &lt;paste code from above request&gt;\nredirect_uri: https://jwt.ms\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/LJ9NM.png\" alt=\"enter image description here\" /></p>\n<p>When I used above access token while calling <code>/me</code> request, I got <strong>user profile</strong> successfully like this:</p>\n<p><img src=\"https://i.stack.imgur.com/TvkdC.png\" alt=\"enter image description here\" /></p>\n<p>To do the same from Java, you can make use of below <strong>sample code</strong> of authorization code flow from MS Documentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\n        .clientId(clientId)\n        .clientSecret(clientSecret) //required for web apps, do not set for native apps\n        .authorizationCode(authorizationCode)\n        .redirectUrl(redirectUri)\n        .build();\n\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\n\nfinal GraphServiceClient graphClient =\n  GraphServiceClient\n    .builder()\n    .authenticationProvider(tokenCredentialAuthProvider)\n    .buildClient();\n\nfinal User me = graphClient.me().buildRequest().get();\n</code></pre>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\" rel=\"nofollow noreferrer\">Choose a Microsoft Graph authentication provider - Microsoft Graph</a></p>\n"}],"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679548757,"creation_date":1679505239,"question_id":75815332,"body_markdown":"I have a java azure app service with easy auth (auth enabled via azure portal, app registration automatically created).  I&#39;m trying to print out the user&#39;s display name on the page but I can&#39;t call microsoft graph, keeps giving me an &quot;BadRequest Error message: /me request is only valid with delegated authentication flow&quot;.\r\n\r\n\tTokenCredential credential = new DefaultAzureCredentialBuilder().build();\r\n\t\r\n\tList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n\r\n\tTokenCredentialAuthProvider tokenCredentialAuthProvider = \r\n\t\tnew TokenCredentialAuthProvider(scopes, credential);\r\n\r\n\tGraphServiceClient graphClient =\r\n\t  GraphServiceClient\r\n\t\t.builder()\r\n\t\t.authenticationProvider(tokenCredentialAuthProvider)\r\n\t\t.buildClient();\r\n\r\n\tUser me = graphClient.me().buildRequest().get();\r\n","title":"Call microsoft graph from java app service","body":"<p>I have a java azure app service with easy auth (auth enabled via azure portal, app registration automatically created).  I'm trying to print out the user's display name on the page but I can't call microsoft graph, keeps giving me an &quot;BadRequest Error message: /me request is only valid with delegated authentication flow&quot;.</p>\n<pre><code>TokenCredential credential = new DefaultAzureCredentialBuilder().build();\n\nList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\nTokenCredentialAuthProvider tokenCredentialAuthProvider = \n    new TokenCredentialAuthProvider(scopes, credential);\n\nGraphServiceClient graphClient =\n  GraphServiceClient\n    .builder()\n    .authenticationProvider(tokenCredentialAuthProvider)\n    .buildClient();\n\nUser me = graphClient.me().buildRequest().get();\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655901686,"creation_date":1655901169,"answer_id":72715584,"question_id":72715391,"body_markdown":"It&#39;s not possible. From [the docs](https://projectlombok.org/features/experimental/Accessors)\r\n\r\n&gt; The `@Accessors` annotation is used to configure **how** lombok\r\n&gt; generates and looks for getters, setters, and with-ers.\r\n\r\nEmphasis mine.\r\n\r\n`@Accessors` can configure *how* a method is generated, but not *how many* methods are generated.\r\n\r\nTechnically it&#39;s still an experimental feature so that could change in the future. However, I don&#39;t see any current intention to support that. You are doubling the API footprint of the class to have slightly different syntax; not really worth it, in my opinion.","title":"Lombok @Accessor and JPA Beans","body":"<p>It's not possible. From <a href=\"https://projectlombok.org/features/experimental/Accessors\" rel=\"nofollow noreferrer\">the docs</a></p>\n<blockquote>\n<p>The <code>@Accessors</code> annotation is used to configure <strong>how</strong> lombok\ngenerates and looks for getters, setters, and with-ers.</p>\n</blockquote>\n<p>Emphasis mine.</p>\n<p><code>@Accessors</code> can configure <em>how</em> a method is generated, but not <em>how many</em> methods are generated.</p>\n<p>Technically it's still an experimental feature so that could change in the future. However, I don't see any current intention to support that. You are doubling the API footprint of the class to have slightly different syntax; not really worth it, in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":8061316,"reputation":158,"user_id":6076761,"display_name":"Ivhani Maselesele"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679548521,"creation_date":1679548521,"answer_id":75819455,"question_id":72715391,"body_markdown":"A few months late, but this is for anyone that lands here after asking google about lombok&#39;s accessors being experimental. For your chaining requirements, you can use: \r\n\r\n    @With\r\n    @Getter\r\n    @Setter\r\n\r\nThis will give you regular setters and getters and will give you &quot;With&quot; methods that are chainable.\r\n\r\nNB @With requires:\r\n\r\n    @AllArgsConstructor","title":"Lombok @Accessor and JPA Beans","body":"<p>A few months late, but this is for anyone that lands here after asking google about lombok's accessors being experimental. For your chaining requirements, you can use:</p>\n<pre><code>@With\n@Getter\n@Setter\n</code></pre>\n<p>This will give you regular setters and getters and will give you &quot;With&quot; methods that are chainable.</p>\n<p>NB @With requires:</p>\n<pre><code>@AllArgsConstructor\n</code></pre>\n"}],"owner":{"account_id":12855419,"reputation":2712,"user_id":9298910,"display_name":"Lehks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679548521,"creation_date":1655900482,"question_id":72715391,"body_markdown":"I am using Lombok to generate getters and setters for my JPA entities. However, I also very much like the Syntax that is provided by the `@Accessor(fluent = true, chain = true)`. But this is not compatible with JPA, which requires the signature `void setProperty()` which prevents chaining.\r\n\r\nIs it possible to use both &quot;regular&quot; getters and setters and fluent accessors at the same time with Lombok?","title":"Lombok @Accessor and JPA Beans","body":"<p>I am using Lombok to generate getters and setters for my JPA entities. However, I also very much like the Syntax that is provided by the <code>@Accessor(fluent = true, chain = true)</code>. But this is not compatible with JPA, which requires the signature <code>void setProperty()</code> which prevents chaining.</p>\n<p>Is it possible to use both &quot;regular&quot; getters and setters and fluent accessors at the same time with Lombok?</p>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1421918330,"post_id":28084870,"comment_id":44547703,"body_markdown":"No need to call `MockitoAnnotations.initMocks(this);` if you declare `MockitoJUnitRunner` as junit test runner.","body":"No need to call <code>MockitoAnnotations.initMocks(this);</code> if you declare <code>MockitoJUnitRunner</code> as junit test runner."},{"owner":{"account_id":3063427,"reputation":2288,"user_id":2595642,"accept_rate":43,"display_name":"shikjohari"},"score":0,"creation_date":1421919126,"post_id":28084870,"comment_id":44548200,"body_markdown":"which version of mockito are you using","body":"which version of mockito are you using"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1421919185,"post_id":28084870,"comment_id":44548246,"body_markdown":"Why is the constructor name ShiftManagerServiceImpl in the ServiceImpl class?","body":"Why is the constructor name ShiftManagerServiceImpl in the ServiceImpl class?"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1421919339,"post_id":28084870,"comment_id":44548322,"body_markdown":"Actually assuming that the constructor name is only a copy-paste issue, I have tried this code using Mockito version 1.9.5 with some dummy test case, but no error was experienced","body":"Actually assuming that the constructor name is only a copy-paste issue, I have tried this code using Mockito version 1.9.5 with some dummy test case, but no error was experienced"},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421919533,"post_id":28084870,"comment_id":44548420,"body_markdown":"I am using Mockito version - 1.9.5","body":"I am using Mockito version - 1.9.5"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":1,"creation_date":1421919839,"post_id":28084870,"comment_id":44548611,"body_markdown":"Could you try instantiating via simply serviceImpl = new ServiceImpl(); after the initMocks() call instead of using @InjectMocks?","body":"Could you try instantiating via simply serviceImpl = new ServiceImpl(); after the initMocks() call instead of using @InjectMocks?"},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421920465,"post_id":28084870,"comment_id":44548963,"body_markdown":"Thank you for your response, when I tried with serviceImpl = new ServiceImpl(); after the initMocks() , I am getting NullpointerException at officeDAO = Client.getDaoFactory().getOfficeDAO(); What I think Client.getDaoFactory is a static call which is coming as null in my case.","body":"Thank you for your response, when I tried with serviceImpl = new ServiceImpl(); after the initMocks() , I am getting NullpointerException at officeDAO = Client.getDaoFactory().getOfficeDAO(); What I think Client.getDaoFactory is a static call which is coming as null in my case."},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421928931,"post_id":28084870,"comment_id":44553772,"body_markdown":"When I creating serviceImpl = new ServiceImpl(); object using new all dependents mocking are failing. Can you please tell me what&#39;s the reason behind it.","body":"When I creating serviceImpl = new ServiceImpl(); object using new all dependents mocking are failing. Can you please tell me what&#39;s the reason behind it."}],"answers":[{"tags":[],"owner":{"account_id":4099244,"reputation":353,"user_id":3365235,"display_name":"bbankowski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1421942696,"creation_date":1421942696,"answer_id":28093327,"question_id":28084870,"body_markdown":"You are using `@InjectMocks` annotation, which creates an instance of `ServiceImpl` class. Because your constructor is trying to get implementation from factory: `Client.getDaoFactory().getOfficeDAO()` you have NPE.\r\n\r\nMake sure what is returned by `Client.getDaoFactory()`. I bet it returns null and that&#39;s the problem :) Refactor your code, so that DaoFactory is passed via parameter rather than using static.\r\n\r\n----------\r\n\r\nI see you have a different exception right now. But based on the code I cannot really tell more. Please, provide full example of failing test.\r\n\r\n","title":"Mockito - Cannot instantiate @InjectMocks","body":"<p>You are using <code>@InjectMocks</code> annotation, which creates an instance of <code>ServiceImpl</code> class. Because your constructor is trying to get implementation from factory: <code>Client.getDaoFactory().getOfficeDAO()</code> you have NPE.</p>\n\n<p>Make sure what is returned by <code>Client.getDaoFactory()</code>. I bet it returns null and that's the problem :) Refactor your code, so that DaoFactory is passed via parameter rather than using static.</p>\n\n<hr>\n\n<p>I see you have a different exception right now. But based on the code I cannot really tell more. Please, provide full example of failing test.</p>\n"}],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23851,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28093327,"answer_count":1,"score":3,"last_activity_date":1679548429,"creation_date":1421917845,"question_id":28084870,"body_markdown":"I have two private fields in my class which I am testing and these two fields are initialized in constructor. \r\n\r\nNow when I am trying to call using my class annotated with @InjectMocks, it is throwing exception:\r\n\r\n     Cannot instantiate @InjectMocks field named &#39;ServiceImpl&#39; of type &#39;class com.test.ServiceImpl&#39;. You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n\r\n\r\nBelow is the piece of code.\r\n\r\n    public class ServiceImpl implements Service {\r\n\r\n\t    private OfficeDAO officeDAO;\r\n\r\n\t    private DBDAO dbDAO;\r\n\r\n\t    public ServiceImpl() {\r\n\t        officeDAO = Client.getDaoFactory().getOfficeDAO();\r\n\t        dbDAO = Client.getDaoFactory().getDBDAO();\r\n        }\r\n\t}\r\n\r\nMy test class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ServiceImplTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate OfficeDAO officeDAO;\r\n    \r\n    \t@Mock\r\n    \tprivate DBDAO dbDAO;\r\n    \r\n    \t@Mock\r\n    \tClient client;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate ServiceImpl serviceImpl;\r\n    \r\n    \t@Mock\r\n    \tprivate Logger log;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t}\r\n    }\r\n\r\nPlease help me how I can resolve it. \r\nAny help will be appreciated.\r\n\r\n","title":"Mockito - Cannot instantiate @InjectMocks","body":"<p>I have two private fields in my class which I am testing and these two fields are initialized in constructor.</p>\n<p>Now when I am trying to call using my class annotated with @InjectMocks, it is throwing exception:</p>\n<pre><code> Cannot instantiate @InjectMocks field named 'ServiceImpl' of type 'class com.test.ServiceImpl'. You haven't provided the instance at field declaration so I tried to construct the instance.\n</code></pre>\n<p>Below is the piece of code.</p>\n<pre><code>public class ServiceImpl implements Service {\n\n    private OfficeDAO officeDAO;\n\n    private DBDAO dbDAO;\n\n    public ServiceImpl() {\n        officeDAO = Client.getDaoFactory().getOfficeDAO();\n        dbDAO = Client.getDaoFactory().getDBDAO();\n    }\n}\n</code></pre>\n<p>My test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceImplTest {\n    \n    @Mock\n    private OfficeDAO officeDAO;\n\n    @Mock\n    private DBDAO dbDAO;\n\n    @Mock\n    Client client;\n\n    @InjectMocks\n    private ServiceImpl serviceImpl;\n\n    @Mock\n    private Logger log;\n\n    @Before\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n<p>Please help me how I can resolve it.\nAny help will be appreciated.</p>\n"},{"tags":["java","gradle","intellij-idea","junit","jacoco"],"comments":[{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1618837759,"post_id":67160975,"comment_id":118716023,"body_markdown":"Can we see your how you `-javaagent ...`? Have you downloaded `jamm.jar` and is the path to it correct?","body":"Can we see your how you <code>-javaagent ...</code>? Have you downloaded <code>jamm.jar</code> and is the path to it correct?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1618847637,"post_id":67160975,"comment_id":118720791,"body_markdown":"Do you launch it in Run or Debug mode? Have you configured any coverage settings in **Code Coverage** tab of run configuration? A sample project would be helpful.","body":"Do you launch it in Run or Debug mode? Have you configured any coverage settings in <b>Code Coverage</b> tab of run configuration? A sample project would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618860892,"creation_date":1618860892,"answer_id":67168301,"question_id":67160975,"body_markdown":"I found the solution here:\r\n\r\nhttps://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2\r\n\r\nI removed the line:\r\n\r\n    test {\r\n        reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\r\n        systemProperties System.properties -------&gt; REMOVED\r\n        systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\r\n    \r\n        testLogging {\r\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\r\n        }\r\n    \r\n        afterSuite { desc, result -&gt;\r\n            if (!desc.parent)\r\n                println(&quot;${result.resultType} &quot; +\r\n                        &quot;(${result.testCount} tests, &quot; +\r\n                        &quot;${result.successfulTestCount} successes, &quot; +\r\n                        &quot;${result.failedTestCount} failures, &quot; +\r\n                        &quot;${result.skippedTestCount} skipped)&quot;)\r\n        }\r\n        jacoco {\r\n            append = false\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n    }\r\n\r\nAND WORKED!\r\n\r\n    test {\r\n        reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\r\n        systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\r\n    \r\n        testLogging {\r\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\r\n        }\r\n    \r\n        afterSuite { desc, result -&gt;\r\n            if (!desc.parent)\r\n                println(&quot;${result.resultType} &quot; +\r\n                        &quot;(${result.testCount} tests, &quot; +\r\n                        &quot;${result.successfulTestCount} successes, &quot; +\r\n                        &quot;${result.failedTestCount} failures, &quot; +\r\n                        &quot;${result.skippedTestCount} skipped)&quot;)\r\n        }\r\n        jacoco {\r\n            append = false\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n    }\r\n\r\n","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I found the solution here:</p>\n<p><a href=\"https://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2</a></p>\n<p>I removed the line:</p>\n<pre><code>test {\n    reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\n    systemProperties System.properties -------&gt; REMOVED\n    systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\n    }\n\n    afterSuite { desc, result -&gt;\n        if (!desc.parent)\n            println(&quot;${result.resultType} &quot; +\n                    &quot;(${result.testCount} tests, &quot; +\n                    &quot;${result.successfulTestCount} successes, &quot; +\n                    &quot;${result.failedTestCount} failures, &quot; +\n                    &quot;${result.skippedTestCount} skipped)&quot;)\n    }\n    jacoco {\n        append = false\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n}\n</code></pre>\n<p>AND WORKED!</p>\n<pre><code>test {\n    reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\n    systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\n    }\n\n    afterSuite { desc, result -&gt;\n        if (!desc.parent)\n            println(&quot;${result.resultType} &quot; +\n                    &quot;(${result.testCount} tests, &quot; +\n                    &quot;${result.successfulTestCount} successes, &quot; +\n                    &quot;${result.failedTestCount} failures, &quot; +\n                    &quot;${result.skippedTestCount} skipped)&quot;)\n    }\n    jacoco {\n        append = false\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13848848,"reputation":841,"user_id":9997280,"display_name":"Arphile"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671684610,"creation_date":1671684610,"answer_id":74884233,"question_id":67160975,"body_markdown":"I know this is little bit late but for later person who engaged same situations, I&#39;ll give a solution.\r\n\r\nkeep \r\n\r\n    systemProperties System.properties \r\n\r\nin test task but put this line under there.\r\n\r\n    systemProperties[&#39;user.dir&#39;] = workingDir\r\n\r\nit&#39;ll solve the problem.","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I know this is little bit late but for later person who engaged same situations, I'll give a solution.</p>\n<p>keep</p>\n<pre><code>systemProperties System.properties \n</code></pre>\n<p>in test task but put this line under there.</p>\n<pre><code>systemProperties['user.dir'] = workingDir\n</code></pre>\n<p>it'll solve the problem.</p>\n"}],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679548391,"creation_date":1618831113,"question_id":67160975,"body_markdown":"I try to run test with intellij and gradle and this error keep bothering:\r\n\r\n    :compileTestJava NO-SOURCE\r\n    :processTestResources\r\n    :testClasses\r\n    :test\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 4&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 4&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 5&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 5&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 6&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 6&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 7&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 7&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 8&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 8&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 9&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 9&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 10&#39; finished with non-zero exit value 134\r\n\r\n[![configs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agpxS.png\r\n","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I try to run test with intellij and gradle and this error keep bothering:</p>\n<pre><code>:compileTestJava NO-SOURCE\n:processTestResources\n:testClasses\n:test\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\nFATAL ERROR in native method: processing of -javaagent failed\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 2' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 2' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 3' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 3' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 4' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 4' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 5' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 5' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 6' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 6' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 7' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 7' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 8' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 8' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 9' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 9' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 10' finished with non-zero exit value 134\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/agpxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agpxS.png\" alt=\"configs\" /></a></p>\n"},{"tags":["java","input","while-loop","conditional-statements","nested-loops"],"owner":{"account_id":26793002,"reputation":1,"user_id":20386134,"display_name":"therealslyvegas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679547856,"creation_date":1679547579,"question_id":75819386,"body_markdown":"Is it at all possible to not only verify that the user enters a int with hasNextInt() but that it also is number lets say between 1 and 4 for a following switch condition afterwards? So before it gets to a switch condition I want to, One, make sure the user can not break it with random input, and Two, that the input received is between 1 and 4. Now I know there are a number of ways I can solve this but I wanted ask everyone if it was possible to do it this way (inside a while loop condition with hasNextInt()) with as few line&#39;s as possible? I&#39;ve seen on here different implementations of hasNextInt() but only to the extent of making sure it is a int being inputted and nothing else.\r\n\r\n***THIS IS JUST A CONCEPT OF WHAT I AM TRYING TO CONVEY, IF SOMETHING LIKE THIS IN THEORY IS AT ALL POSSIBLE***\r\n```while(!input.hasNextInt() &amp;&amp; input.nextInt() &lt; 1 &amp;&amp; input.nextInt() &gt; 4){...code}```\r\n\r\n```c++\r\n    /// THIS IN A SENSE IS WHAT I COME UP WITH BUT I AM TRYING TO \r\n    /// SEE IF I CAN CONDENSE THIS WITH THE CONCEPT I STATED ABOVE. I \r\n    /// DON&#39;T WANT THIS CODE FIXED.\r\n    Scanner input = new Scanner(System.in);\r\n    int selection = 0;\r\n\r\n    while(!input.hasNextInt()) {\r\n        System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n        System.out.print(&quot;Enter Selection: &quot;);\r\n        input.next;\r\n    }\r\n\r\n    selection = input.nextInt();\r\n\r\n    boolean flag = true;\r\n    \r\n    while(flag &amp;&amp; selection &gt; 0 &amp;&amp; selection &lt; 5) {\r\n        if (selection &lt; 1 || selection &gt; 4) {\r\n            System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n            System.out.print(&quot;Enter Selection: &quot;);\r\n            while(!input.hasNextInt()) {\r\n               System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n               input.next;\r\n               System.out.print(&quot;Enter Selection: &quot;);\r\n            }\r\n        selection = input.nextInt();\r\n        \r\n    }","title":"Verify User Input Is An Int And That It Is Between A Specific Value Using hasNextInt()","body":"<p>Is it at all possible to not only verify that the user enters a int with hasNextInt() but that it also is number lets say between 1 and 4 for a following switch condition afterwards? So before it gets to a switch condition I want to, One, make sure the user can not break it with random input, and Two, that the input received is between 1 and 4. Now I know there are a number of ways I can solve this but I wanted ask everyone if it was possible to do it this way (inside a while loop condition with hasNextInt()) with as few line's as possible? I've seen on here different implementations of hasNextInt() but only to the extent of making sure it is a int being inputted and nothing else.</p>\n<p><em><strong>THIS IS JUST A CONCEPT OF WHAT I AM TRYING TO CONVEY, IF SOMETHING LIKE THIS IN THEORY IS AT ALL POSSIBLE</strong></em>\n<code>while(!input.hasNextInt() &amp;&amp; input.nextInt() &lt; 1 &amp;&amp; input.nextInt() &gt; 4){...code}</code></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>    /// THIS IN A SENSE IS WHAT I COME UP WITH BUT I AM TRYING TO \n    /// SEE IF I CAN CONDENSE THIS WITH THE CONCEPT I STATED ABOVE. I \n    /// DON'T WANT THIS CODE FIXED.\n    Scanner input = new Scanner(System.in);\n    int selection = 0;\n\n    while(!input.hasNextInt()) {\n        System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n        System.out.print(&quot;Enter Selection: &quot;);\n        input.next;\n    }\n\n    selection = input.nextInt();\n\n    boolean flag = true;\n    \n    while(flag &amp;&amp; selection &gt; 0 &amp;&amp; selection &lt; 5) {\n        if (selection &lt; 1 || selection &gt; 4) {\n            System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n            System.out.print(&quot;Enter Selection: &quot;);\n            while(!input.hasNextInt()) {\n               System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n               input.next;\n               System.out.print(&quot;Enter Selection: &quot;);\n            }\n        selection = input.nextInt();\n        \n    }\n</code></pre>\n"},{"tags":["java","kubernetes","redis","quarkus","redis-sentinel"],"answers":[{"tags":[],"owner":{"account_id":28076825,"reputation":1,"user_id":21448533,"display_name":"gcharon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679409551,"creation_date":1679409551,"answer_id":75802593,"question_id":75665363,"body_markdown":"This error means that the Redis client couldn&#39;t get the master address for the endpoints you specified in your config and there is no more endpoint to use for that.\r\n\r\nYou use the host `sentinel` as a endpoint for Redis, is this available ?\r\n\r\nTry this : \r\n\r\n    redis-cli -h sentinel -p 5000 sentinel GET-MASTER-ADDR-BY-NAME mymaster\r\n\r\n`mymaster` is the name of the sentinel master. This is the default value for Quarkus.\r\n\r\nIt should work if your Quarkus config is OK. Maybe you will see a explicit error to help you.","title":"Quarkus redis client throwing error &#39;java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.&#39;","body":"<p>This error means that the Redis client couldn't get the master address for the endpoints you specified in your config and there is no more endpoint to use for that.</p>\n<p>You use the host <code>sentinel</code> as a endpoint for Redis, is this available ?</p>\n<p>Try this :</p>\n<pre><code>redis-cli -h sentinel -p 5000 sentinel GET-MASTER-ADDR-BY-NAME mymaster\n</code></pre>\n<p><code>mymaster</code> is the name of the sentinel master. This is the default value for Quarkus.</p>\n<p>It should work if your Quarkus config is OK. Maybe you will see a explicit error to help you.</p>\n"}],"owner":{"account_id":8736070,"reputation":533,"user_id":6534684,"display_name":"KVS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679547578,"creation_date":1678210247,"question_id":75665363,"body_markdown":"We&#39;re trying to move from standalone redis to redis High availability mode. However while load testing in dev environment we&#39;re receiving below error.\r\n\r\n```\r\n    level=ERROR time=&quot;07-03-2023 20:54:35&quot; traceId=&quot;5a65a85d2f6ccaa8&quot; logger=GlobalExceptionMapper message=&quot;GlobalExceptionMapper: java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\r\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\r\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\r\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\r\n        at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:672)\r\n        at io.quarkus.redis.client.RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.set(RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.zig:2298)\r\n        at &lt;package&gt;.services.SequenceService.isKeyPresentForDuplicityCheck(SequenceService.java:34)\r\n        at &lt;package&gt;.services.SequenceService_ClientProxy.isKeyPresentForDuplicityCheck(SequenceService_ClientProxy.zig:256)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl.createCustomerAccount(AccountsApiServiceImpl.java:128)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount$$superforward1(AccountsApiServiceImpl_Subclass.zig:197)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass$$function$$2.apply(AccountsApiServiceImpl_Subclass$$function$$2.zig:33)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:132)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:103)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:57)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(TransactionalInterceptorRequired_Bean.zig:340)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount(AccountsApiServiceImpl_Subclass.zig:404)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_ClientProxy.createCustomerAccount(AccountsApiServiceImpl_ClientProxy.zig:659)\r\n        at &lt;package&gt;.resources.AccountsApi.createCustomerAccount(AccountsApi.java:48)\r\n        at &lt;package&gt;.resources.AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.invoke(AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.zig:39)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:7)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:829)\r\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\r\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\r\nCaused by: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\r\n```\r\n**How load testing is being performed?**\r\n\r\nWe&#39;re calling posting 30K requests from JMeter with below configuration. While the requests are being processed, we delete the redis master instance one by one (when the previously deleted pod is completely restarted). \r\nThe master redis instance is deleted using below command\r\n```kubectl -n &lt;namespace&gt; delete pod redis-0```\r\n\r\nSentinels are able to perform a complete failover when a master redis instance is deleted and a new redis master is selected. In most cases, a few requests are failed and after a short period of time new requests start executing successfully. However, for some cases, the Jmeter hangs for a while and then the error &#39;io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain&#39; is shown for every remaining request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**System Configuration**\r\n\r\nQuarkus Process which is connecting to redis\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAll the configuration are present in process&#39; application.properties file\r\n\r\nRedis\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSentinel\r\n[![enter image description here][4]][4]\r\n\r\n**Things we&#39;ve tried**\r\n - Tuning the quarkus redis parameters while load testing. We&#39;ve executed the load test about 20 times now with changes in redis paramters. All but 1 load tests have resulted in this issue\r\n - There is a way to reconnect on error in vertx redis client. Abandoned this approach as there was lot of code change involved to migrate to vertx redis client\r\n\r\n**Quarkus Process Details**\r\n\r\n - Traffic of ~300 tps is expected on this api\r\n - 1 pod was running in dev environment while load testing. In production, there are 5.\r\n - Quarkus version: &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;\r\n - Redis dependency\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n - Last time we observed this issue was when we provided incorrect connection string to sentinel\r\n - Redis configuration in the process. These values are overridden by the values in kubernetes deployment file\r\n```\r\nquarkus.redis.hosts=redis://sentinel:5000\r\nquarkus.redis.client-type=sentinel\r\nquarkus.redis.password=\r\nquarkus.redis.timeout=5S\r\nquarkus.redis.max-pool-size=50\r\nquarkus.redis.max-pool-waiting=5000\r\nquarkus.redis.pool-cleaner-interval=5S\r\nquarkus.redis.pool-recycle-timeout=5S\r\nquarkus.redis.reconnect-attempts=5\r\nquarkus.redis.reconnect-interval=30S\r\nquarkus.redis.max-waiting-handlers=20\r\n```\r\nI&#39;m seeking assistance on how to resolve this issue as I&#39;ve exhausted all ideas to resolve it. I would appreciate any guidance on the matter, including suggestions on load testing methods and configurations.\r\n\r\n**Update**\r\n\r\n 1. Tried load testing by crashing the redis master instances through liveness probe. Same issue observed again. After crashing the pods twice the error was thrown.\r\n\r\n 2. Added below parameters for load testing. Still facing the same error\r\n```\r\nquarkus.redis.timeout.connect=60_000\r\nquarkus.redis.timeout.read=70_000\r\nquarkus.redis.timeout.write=80_000\r\n```\r\nIncreased the timeout for redis\r\n```\r\nquarkus.redis.timeout=100S\r\n```\r\n\r\n3. Workaround done through Jedis library. This library reconnects to redis master automatically. There&#39;s probably some issue with quarkus redis client\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nS3eS.png\r\n  [2]: https://i.stack.imgur.com/1RkzM.png\r\n  [3]: https://i.stack.imgur.com/GqTGP.png\r\n  [4]: https://i.stack.imgur.com/1ZfQJ.png","title":"Quarkus redis client throwing error &#39;java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.&#39;","body":"<p>We're trying to move from standalone redis to redis High availability mode. However while load testing in dev environment we're receiving below error.</p>\n<pre><code>    level=ERROR time=&quot;07-03-2023 20:54:35&quot; traceId=&quot;5a65a85d2f6ccaa8&quot; logger=GlobalExceptionMapper message=&quot;GlobalExceptionMapper: java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:672)\n        at io.quarkus.redis.client.RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.set(RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.zig:2298)\n        at &lt;package&gt;.services.SequenceService.isKeyPresentForDuplicityCheck(SequenceService.java:34)\n        at &lt;package&gt;.services.SequenceService_ClientProxy.isKeyPresentForDuplicityCheck(SequenceService_ClientProxy.zig:256)\n        at &lt;package&gt;.services.AccountsApiServiceImpl.createCustomerAccount(AccountsApiServiceImpl.java:128)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount$$superforward1(AccountsApiServiceImpl_Subclass.zig:197)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass$$function$$2.apply(AccountsApiServiceImpl_Subclass$$function$$2.zig:33)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:132)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:103)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:57)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(TransactionalInterceptorRequired_Bean.zig:340)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount(AccountsApiServiceImpl_Subclass.zig:404)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_ClientProxy.createCustomerAccount(AccountsApiServiceImpl_ClientProxy.zig:659)\n        at &lt;package&gt;.resources.AccountsApi.createCustomerAccount(AccountsApi.java:48)\n        at &lt;package&gt;.resources.AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.invoke(AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.zig:39)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:7)\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:829)\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\nCaused by: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\n</code></pre>\n<p><strong>How load testing is being performed?</strong></p>\n<p>We're calling posting 30K requests from JMeter with below configuration. While the requests are being processed, we delete the redis master instance one by one (when the previously deleted pod is completely restarted).\nThe master redis instance is deleted using below command\n<code>kubectl -n &lt;namespace&gt; delete pod redis-0</code></p>\n<p>Sentinels are able to perform a complete failover when a master redis instance is deleted and a new redis master is selected. In most cases, a few requests are failed and after a short period of time new requests start executing successfully. However, for some cases, the Jmeter hangs for a while and then the error 'io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain' is shown for every remaining request.</p>\n<p><a href=\"https://i.stack.imgur.com/nS3eS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nS3eS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>System Configuration</strong></p>\n<p>Quarkus Process which is connecting to redis</p>\n<p><a href=\"https://i.stack.imgur.com/1RkzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RkzM.png\" alt=\"enter image description here\" /></a></p>\n<p>All the configuration are present in process' application.properties file</p>\n<p>Redis\n<a href=\"https://i.stack.imgur.com/GqTGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GqTGP.png\" alt=\"enter image description here\" /></a></p>\n<p>Sentinel\n<a href=\"https://i.stack.imgur.com/1ZfQJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZfQJ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Things we've tried</strong></p>\n<ul>\n<li>Tuning the quarkus redis parameters while load testing. We've executed the load test about 20 times now with changes in redis paramters. All but 1 load tests have resulted in this issue</li>\n<li>There is a way to reconnect on error in vertx redis client. Abandoned this approach as there was lot of code change involved to migrate to vertx redis client</li>\n</ul>\n<p><strong>Quarkus Process Details</strong></p>\n<ul>\n<li>Traffic of ~300 tps is expected on this api</li>\n<li>1 pod was running in dev environment while load testing. In production, there are 5.</li>\n<li>Quarkus version: &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;</li>\n<li>Redis dependency</li>\n</ul>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Last time we observed this issue was when we provided incorrect connection string to sentinel</li>\n<li>Redis configuration in the process. These values are overridden by the values in kubernetes deployment file</li>\n</ul>\n<pre><code>quarkus.redis.hosts=redis://sentinel:5000\nquarkus.redis.client-type=sentinel\nquarkus.redis.password=\nquarkus.redis.timeout=5S\nquarkus.redis.max-pool-size=50\nquarkus.redis.max-pool-waiting=5000\nquarkus.redis.pool-cleaner-interval=5S\nquarkus.redis.pool-recycle-timeout=5S\nquarkus.redis.reconnect-attempts=5\nquarkus.redis.reconnect-interval=30S\nquarkus.redis.max-waiting-handlers=20\n</code></pre>\n<p>I'm seeking assistance on how to resolve this issue as I've exhausted all ideas to resolve it. I would appreciate any guidance on the matter, including suggestions on load testing methods and configurations.</p>\n<p><strong>Update</strong></p>\n<ol>\n<li><p>Tried load testing by crashing the redis master instances through liveness probe. Same issue observed again. After crashing the pods twice the error was thrown.</p>\n</li>\n<li><p>Added below parameters for load testing. Still facing the same error</p>\n</li>\n</ol>\n<pre><code>quarkus.redis.timeout.connect=60_000\nquarkus.redis.timeout.read=70_000\nquarkus.redis.timeout.write=80_000\n</code></pre>\n<p>Increased the timeout for redis</p>\n<pre><code>quarkus.redis.timeout=100S\n</code></pre>\n<ol start=\"3\">\n<li>Workaround done through Jedis library. This library reconnects to redis master automatically. There's probably some issue with quarkus redis client</li>\n</ol>\n"},{"tags":["java","exception","methods","try-catch","evaluation"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1679486293,"post_id":75811907,"comment_id":133729747,"body_markdown":"A structure where an &#39;evaluator&#39; extends an exception thrown by the evaluator is broken to start with.  In what sense is the evaluator an object to be thrown?","body":"A structure where an &#39;evaluator&#39; extends an exception thrown by the evaluator is broken to start with.  In what sense is the evaluator an object to be thrown?"},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1679486465,"post_id":75811907,"comment_id":133729792,"body_markdown":"@undefinedsymbol going to be honest i am not sure an i thought that was the best course of action. i have no clue what to do here i have been stuck for a long time on just this.","body":"@undefinedsymbol going to be honest i am not sure an i thought that was the best course of action. i have no clue what to do here i have been stuck for a long time on just this."}],"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679547209,"creation_date":1679485914,"question_id":75811907,"body_markdown":"What i need help on is being able to print out LispExpressionEvaluatorException and LispExpressionException. i tried adding a catch block to evaluate method but it does not seem to be working. i am not sure where i am going wrong the other test are working but only last 3 questions seem to be errors. any help would be greatly appreciated. \r\n\r\n        package PJ2;\r\n    import java.util.*;\r\n    public class LispExpressionEvaluator extends LispExpressionEvaluatorException\r\n    {\r\n    \t// Current input Lisp expression\r\n    \tprivate String currentExpression;\r\n    \r\n    \t// Main expression stack, see algorithm in evaluate()\r\n    \tprivate Stack&lt;Object&gt; inputExprStack;\r\n    \tprivate Stack&lt;Double&gt; evaluationStack;\r\n    \tpublic LispExpressionEvaluator() {\r\n    \t\t currentExpression = &quot;&quot;;\r\n    \t\t inputExprStack = new Stack&lt;Object&gt;();\r\n    \t\t evaluationStack = new Stack&lt;Double&gt;();\r\n    \t\t//Stack&lt;Object&gt; inputExprStack = new Stack&lt;Object&gt;();\r\n    \t\t//Stack &lt;Double&gt; newEvaluationStack = new Stack&lt;Double&gt;();\r\n    \t}\r\n    \tpublic LispExpressionEvaluator(String inputExpression) {\r\n    \t\tif(inputExpression == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();\r\n    \t\t}\r\n    \t\tcurrentExpression = inputExpression;\r\n    \t\tinputExprStack = new Stack&lt;Object&gt;();\r\n    \t\tevaluationStack = new Stack&lt;Double&gt;();\r\n    \t}\r\n    \tpublic void reset(String inputExpression){\r\n    \t\tif(inputExpression == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();}\r\n    \t\tcurrentExpression = inputExpression;\r\n    \t\t//not pop\r\n    \t\tinputExprStack.clear();\r\n    \t\tevaluationStack.clear();\r\n    \t}\r\n    \t// This function evaluates current operator with its operands\r\n    \t// See complete algorithm in evaluate()\r\n    \t//\r\n    \t// Main Steps:\r\n    \t// Pop operands from allTokensStack and push them onto\r\n    \t// currentOperandsStack until you find an operator\r\n    \t// Apply the operator to the operands on currentOperandsStack\r\n    \t// Push the result into allTokensStack\r\n    \tprivate void solveCurrentParenthesisOperation() {\r\n    \r\n    \r\n    \t\tboolean isNumber = true;\r\n    \t\tdouble endResult = 0;\r\n    \t\tif(inputExprStack == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();}\r\n    \t\tString click = &quot;&quot;;\r\n    \t\twhile (isNumber) {\r\n    \t\t\tif (!inputExprStack.empty()) {\r\n    \t\t\t\tclick = String.valueOf(inputExprStack.pop());\r\n    \t\t\t} else {\r\n    \t\t\t\tisNumber = false;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tDouble number = Double.parseDouble(click);\r\n    \t\t\t\tevaluationStack.push(number);\r\n    \t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\tisNumber = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (evaluationStack.size() == 0)\r\n    \t\t\treturn;\r\n    \t\tswitch (click) {\r\n    \t\t\tcase &quot;+&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult +=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t\tcase &quot;-&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tif(evaluationStack.size() == 0){\r\n    \t\t\t\t\tendResult = -endResult;\r\n    \t\t\t\t}\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult -=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;*&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult *=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;/&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tif(evaluationStack.size() == 0 &amp;&amp; endResult != 0){\r\n    \t\t\t\t\tendResult = 1.0/endResult;\r\n    \t\t\t\t}\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult /=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \r\n    \r\n    \t\tinputExprStack.push(endResult);\r\n    \t\tSystem.out.println(endResult + &quot; line 165&quot;);\r\n    \t}\r\n    \t/**\r\n    \t * This funtion evaluates current Lisp expression in currentExpression\r\n    \t * It return result of the expression\r\n    \t *\r\n    \t * The algorithm:\r\n    \t *\r\n    \t * Step 1 Scan the tokens in the string.\r\n    \t * Step 2 If you see an operand, push operand object onto the allTokensStack\r\n    \t * Step 3 If you see &quot;(&quot;, next token should be an operator\r\n    \t * Step 4 If you see an operator, push operator object onto the allTokensStack\r\n    \t * Step 5 If you see &quot;)&quot; // steps in solveCurrentParenthesisOperation() :\r\n    \t * Step 6 Pop operands and push them onto currentOperandsStack\r\n    \t * until you find an operator\r\n    \t * Step 7 Apply the operator to the operands on currentOperandsStack\r\n    \t * Step 8 Push the result into allTokensStack\r\n    \t * Step 9 If you run out of tokens, the value on the top of allTokensStack is\r\n    \t * the result of the expression.\r\n    \t */\r\n    \tpublic double evaluate() {\r\n    \t\t\t// use scanner to tokenize currentExpression\r\n    \r\n    \t\t\tScanner currentExpressionScanner = new Scanner(currentExpression);\r\n    \t\t\tcurrentExpressionScanner = currentExpressionScanner.useDelimiter(&quot;\\\\s*&quot;);\r\n    \t\t\t//inputExprStack.push(&#39;(&#39;);\r\n    \t\t\tif (inputExprStack == null) {\r\n    \t\t\t\tthrow new LispExpressionEvaluatorException();\r\n    \t\t\t}\r\n    \t\t\twhile (currentExpressionScanner.hasNext()) {\r\n    \t\t\t\tif (currentExpressionScanner.hasNextInt()) {\r\n    \t\t\t\t\tString dataString = currentExpressionScanner.findInLine(&quot;\\\\d+&quot;);\r\n    \t\t\t\t\tinputExprStack.push(Double.parseDouble(dataString));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// Get next token, only one char in string token\r\n    \t\t\t\t\tString aToken = currentExpressionScanner.next();\r\n    \t\t\t\t\tchar item = aToken.charAt(0);\r\n    \r\n    \t\t\t\t\tswitch (item) {\r\n    \t\t\t\t\t\tcase &#39;(&#39;:\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;+&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;+&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;-&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;-&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;*&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;*&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;/&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;/&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;)&#39;:\r\n    \t\t\t\t\t\t\tsolveCurrentParenthesisOperation();\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tdefault: // error\r\n    \t\t\t\t\t\t\tthrow new LispExpressionEvaluator(item + &quot; is not a legal expression operator&quot;);\r\n    \t\t\t\t\t} // end switch\r\n    \t\t\t\t} // end else\r\n    \t\t\t} // end while\r\n    \t\t\t// Push a &#39;)&#39; onto the inputExprStack to balance the &#39;(&#39;\r\n    \t\t\t//inputExprStack.push(&#39;)&#39;);\r\n    \r\n    \t\t\t// process remaining operators in inputExprStack\r\n    \r\n    \t\t\treturn Double.parseDouble(String.valueOf(inputExprStack.pop()));\r\n    \r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \r\n        //=====================================================================\r\n        // DO NOT MODIFY ANY STATEMENTS BELOW\r\n        //=====================================================================\r\n    \r\n        \r\n        // This static method is used by main() only\r\n        private static void evaluateExprTest(String s, LispExpressionEvaluator expr, String expect)\r\n        {\r\n            Double result;\r\n            System.out.println(&quot;Expression &quot; + s);\r\n            System.out.printf(&quot;Expected result : %s\\n&quot;, expect);\r\n    \texpr.reset(s);\r\n            try {\r\n               result = expr.evaluate();\r\n               System.out.printf(&quot;Evaluated result : %.2f\\n&quot;, result);\r\n            }\r\n            catch (LispExpressionEvaluatorException e) {\r\n                System.out.println(&quot;Evaluated result :&quot;+e);\r\n            }\r\n            \r\n            System.out.println(&quot;-----------------------------&quot;);\r\n        }\r\n    \r\n        // define few test cases, exception may happen\r\n        public static void main (String args[])\r\n        {\r\n            LispExpressionEvaluator expr= new LispExpressionEvaluator();\r\n            String test1 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ 0))&quot;;\r\n            String test2 = &quot;(+ (- 632) (* 21 3 4) (/ (+ 32) (* 1) (- 21 3 1)) (+ 0))&quot;;\r\n            String test3 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 1) (- 2 1 )) (/ 1))&quot;;\r\n            String test4 = &quot;(+ (/2)(+ 1))&quot;;\r\n            String test5 = &quot;(+ (/2 3 0))&quot;;\r\n            String test6 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 3) (- 2 1 ))))&quot;;\r\n            String test7 = &quot;(+ (*))&quot;;\r\n            String test8 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ ))&quot;;\r\n    \r\n    \tevaluateExprTest(test1, expr, &quot;16.50&quot;);\r\n    \tevaluateExprTest(test2, expr, &quot;-378.12&quot;);\r\n    \tevaluateExprTest(test3, expr, &quot;4.50&quot;);\r\n    \tevaluateExprTest(test4, expr, &quot;1.50&quot;);\r\n    \tevaluateExprTest(test5, expr, &quot;Infinity or LispExpressionEvaluatorException&quot;);\r\n    \tevaluateExprTest(test6, expr, &quot;LispExpressionEvaluatorException&quot;);\r\n    \tevaluateExprTest(test7, expr, &quot;LispExpressionException&quot;);\r\n    \tevaluateExprTest(test8, expr, &quot;LispExpressionException&quot;);\r\n        }\r\n    }\r\n\r\nthis is the Exception method.\r\n\r\n\r\n\r\n    package PJ2;\r\n    \r\n    public class LispExpressionEvaluatorException extends RuntimeException\r\n    {\r\n        public LispExpressionEvaluatorException()\r\n        {\r\n    \tthis(&quot;&quot;);\r\n        }\r\n    \r\n        public LispExpressionEvaluatorException(String errorMsg) \r\n        {\r\n    \tsuper(errorMsg);\r\n        }\r\n    \r\n    }\r\n\r\nwhile this is the porject.iml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\r\n        &lt;exclude-output /&gt;\r\n        &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\r\n        &lt;/content&gt;\r\n        &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n        &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n      &lt;/component&gt;\r\n    &lt;/module&gt;\r\n\r\n","title":"lisp expression evaluator need help in find out how to return LispExpressionException, and LispExpressionEvaluatorException","body":"<p>What i need help on is being able to print out LispExpressionEvaluatorException and LispExpressionException. i tried adding a catch block to evaluate method but it does not seem to be working. i am not sure where i am going wrong the other test are working but only last 3 questions seem to be errors. any help would be greatly appreciated.</p>\n<pre><code>    package PJ2;\nimport java.util.*;\npublic class LispExpressionEvaluator extends LispExpressionEvaluatorException\n{\n    // Current input Lisp expression\n    private String currentExpression;\n\n    // Main expression stack, see algorithm in evaluate()\n    private Stack&lt;Object&gt; inputExprStack;\n    private Stack&lt;Double&gt; evaluationStack;\n    public LispExpressionEvaluator() {\n         currentExpression = &quot;&quot;;\n         inputExprStack = new Stack&lt;Object&gt;();\n         evaluationStack = new Stack&lt;Double&gt;();\n        //Stack&lt;Object&gt; inputExprStack = new Stack&lt;Object&gt;();\n        //Stack &lt;Double&gt; newEvaluationStack = new Stack&lt;Double&gt;();\n    }\n    public LispExpressionEvaluator(String inputExpression) {\n        if(inputExpression == null) {\n            throw new LispExpressionEvaluatorException();\n        }\n        currentExpression = inputExpression;\n        inputExprStack = new Stack&lt;Object&gt;();\n        evaluationStack = new Stack&lt;Double&gt;();\n    }\n    public void reset(String inputExpression){\n        if(inputExpression == null) {\n            throw new LispExpressionEvaluatorException();}\n        currentExpression = inputExpression;\n        //not pop\n        inputExprStack.clear();\n        evaluationStack.clear();\n    }\n    // This function evaluates current operator with its operands\n    // See complete algorithm in evaluate()\n    //\n    // Main Steps:\n    // Pop operands from allTokensStack and push them onto\n    // currentOperandsStack until you find an operator\n    // Apply the operator to the operands on currentOperandsStack\n    // Push the result into allTokensStack\n    private void solveCurrentParenthesisOperation() {\n\n\n        boolean isNumber = true;\n        double endResult = 0;\n        if(inputExprStack == null) {\n            throw new LispExpressionEvaluatorException();}\n        String click = &quot;&quot;;\n        while (isNumber) {\n            if (!inputExprStack.empty()) {\n                click = String.valueOf(inputExprStack.pop());\n            } else {\n                isNumber = false;\n                break;\n            }\n            try {\n                Double number = Double.parseDouble(click);\n                evaluationStack.push(number);\n            } catch (NumberFormatException e) {\n                isNumber = false;\n            }\n        }\n        if (evaluationStack.size() == 0)\n            return;\n        switch (click) {\n            case &quot;+&quot;:\n                endResult = evaluationStack.pop();\n                while (!evaluationStack.empty()){\n                    endResult +=evaluationStack.pop();\n                }\n            break;\n            case &quot;-&quot;:\n                endResult = evaluationStack.pop();\n                if(evaluationStack.size() == 0){\n                    endResult = -endResult;\n                }\n                while (!evaluationStack.empty()){\n                    endResult -=evaluationStack.pop();\n                }\n\n                break;\n            case &quot;*&quot;:\n                endResult = evaluationStack.pop();\n                while (!evaluationStack.empty()){\n                    endResult *=evaluationStack.pop();\n                }\n                break;\n            case &quot;/&quot;:\n                endResult = evaluationStack.pop();\n                if(evaluationStack.size() == 0 &amp;&amp; endResult != 0){\n                    endResult = 1.0/endResult;\n                }\n                while (!evaluationStack.empty()){\n                    endResult /=evaluationStack.pop();\n                }\n                break;\n\n                default:\n                endResult = evaluationStack.pop();\n                break;\n        }\n\n\n        inputExprStack.push(endResult);\n        System.out.println(endResult + &quot; line 165&quot;);\n    }\n    /**\n     * This funtion evaluates current Lisp expression in currentExpression\n     * It return result of the expression\n     *\n     * The algorithm:\n     *\n     * Step 1 Scan the tokens in the string.\n     * Step 2 If you see an operand, push operand object onto the allTokensStack\n     * Step 3 If you see &quot;(&quot;, next token should be an operator\n     * Step 4 If you see an operator, push operator object onto the allTokensStack\n     * Step 5 If you see &quot;)&quot; // steps in solveCurrentParenthesisOperation() :\n     * Step 6 Pop operands and push them onto currentOperandsStack\n     * until you find an operator\n     * Step 7 Apply the operator to the operands on currentOperandsStack\n     * Step 8 Push the result into allTokensStack\n     * Step 9 If you run out of tokens, the value on the top of allTokensStack is\n     * the result of the expression.\n     */\n    public double evaluate() {\n            // use scanner to tokenize currentExpression\n\n            Scanner currentExpressionScanner = new Scanner(currentExpression);\n            currentExpressionScanner = currentExpressionScanner.useDelimiter(&quot;\\\\s*&quot;);\n            //inputExprStack.push('(');\n            if (inputExprStack == null) {\n                throw new LispExpressionEvaluatorException();\n            }\n            while (currentExpressionScanner.hasNext()) {\n                if (currentExpressionScanner.hasNextInt()) {\n                    String dataString = currentExpressionScanner.findInLine(&quot;\\\\d+&quot;);\n                    inputExprStack.push(Double.parseDouble(dataString));\n                } else {\n                    // Get next token, only one char in string token\n                    String aToken = currentExpressionScanner.next();\n                    char item = aToken.charAt(0);\n\n                    switch (item) {\n                        case '(':\n                            break;\n                        case '+':\n                            inputExprStack.push('+');\n                            break;\n                        case '-':\n                            inputExprStack.push('-');\n                            break;\n                        case '*':\n                            inputExprStack.push('*');\n                            break;\n                        case '/':\n                            inputExprStack.push('/');\n                            break;\n                        case ')':\n                            solveCurrentParenthesisOperation();\n                            break;\n                        default: // error\n                            throw new LispExpressionEvaluator(item + &quot; is not a legal expression operator&quot;);\n                    } // end switch\n                } // end else\n            } // end while\n            // Push a ')' onto the inputExprStack to balance the '('\n            //inputExprStack.push(')');\n\n            // process remaining operators in inputExprStack\n\n            return Double.parseDouble(String.valueOf(inputExprStack.pop()));\n\n        }\n\n\n\n\n    //=====================================================================\n    // DO NOT MODIFY ANY STATEMENTS BELOW\n    //=====================================================================\n\n    \n    // This static method is used by main() only\n    private static void evaluateExprTest(String s, LispExpressionEvaluator expr, String expect)\n    {\n        Double result;\n        System.out.println(&quot;Expression &quot; + s);\n        System.out.printf(&quot;Expected result : %s\\n&quot;, expect);\n    expr.reset(s);\n        try {\n           result = expr.evaluate();\n           System.out.printf(&quot;Evaluated result : %.2f\\n&quot;, result);\n        }\n        catch (LispExpressionEvaluatorException e) {\n            System.out.println(&quot;Evaluated result :&quot;+e);\n        }\n        \n        System.out.println(&quot;-----------------------------&quot;);\n    }\n\n    // define few test cases, exception may happen\n    public static void main (String args[])\n    {\n        LispExpressionEvaluator expr= new LispExpressionEvaluator();\n        String test1 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ 0))&quot;;\n        String test2 = &quot;(+ (- 632) (* 21 3 4) (/ (+ 32) (* 1) (- 21 3 1)) (+ 0))&quot;;\n        String test3 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 1) (- 2 1 )) (/ 1))&quot;;\n        String test4 = &quot;(+ (/2)(+ 1))&quot;;\n        String test5 = &quot;(+ (/2 3 0))&quot;;\n        String test6 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 3) (- 2 1 ))))&quot;;\n        String test7 = &quot;(+ (*))&quot;;\n        String test8 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ ))&quot;;\n\n    evaluateExprTest(test1, expr, &quot;16.50&quot;);\n    evaluateExprTest(test2, expr, &quot;-378.12&quot;);\n    evaluateExprTest(test3, expr, &quot;4.50&quot;);\n    evaluateExprTest(test4, expr, &quot;1.50&quot;);\n    evaluateExprTest(test5, expr, &quot;Infinity or LispExpressionEvaluatorException&quot;);\n    evaluateExprTest(test6, expr, &quot;LispExpressionEvaluatorException&quot;);\n    evaluateExprTest(test7, expr, &quot;LispExpressionException&quot;);\n    evaluateExprTest(test8, expr, &quot;LispExpressionException&quot;);\n    }\n}\n</code></pre>\n<p>this is the Exception method.</p>\n<pre><code>package PJ2;\n\npublic class LispExpressionEvaluatorException extends RuntimeException\n{\n    public LispExpressionEvaluatorException()\n    {\n    this(&quot;&quot;);\n    }\n\n    public LispExpressionEvaluatorException(String errorMsg) \n    {\n    super(errorMsg);\n    }\n\n}\n</code></pre>\n<p>while this is the porject.iml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\n  &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\n    &lt;exclude-output /&gt;\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\n    &lt;/content&gt;\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9439,"page":553,"page_size":100}
