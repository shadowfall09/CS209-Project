{"items":[{"tags":["java","amazon-web-services","api","aws-api-gateway","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670883117,"creation_date":1670883117,"answer_id":74777895,"question_id":74777836,"body_markdown":"You can pass the AWS access and secret access key in your request in Java Http client library by using the `AWS Signature Version 4 signing` process. This process requires you to create a signature using your AWS access key, secret access key, and the request parameters. You can then add the signature to the request header.\r\n\r\nAn example code as to how we can get the signature is [here][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-examples-using-sdks.html#sig-v4-examples-using-sdk-java","title":"Making a request to AWS APIGateway API (with IAM permissions)","body":"<p>You can pass the AWS access and secret access key in your request in Java Http client library by using the <code>AWS Signature Version 4 signing</code> process. This process requires you to create a signature using your AWS access key, secret access key, and the request parameters. You can then add the signature to the request header.</p>\n<p>An example code as to how we can get the signature is <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-examples-using-sdks.html#sig-v4-examples-using-sdk-java\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74777895,"answer_count":1,"score":0,"last_activity_date":1670883117,"creation_date":1670882529,"question_id":74777836,"body_markdown":"I&#39;m a bit inexperienced with Java so that may be my main issue but I&#39;m trying to make an API request to an API that was generated by AWS&#39;s API Gateway. The API can only be executed by specific IAM roles. The issue I&#39;m having is that I can&#39;t figure out how to pass the AWS access and secret access key in my request. Below is my code, I was trying to do this with the core Java 11 HTTPClient library.\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpRequest;\r\n    \r\n    class Main {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        HttpClient client = HttpClient.newHttpClient();\r\n\r\n        // create a request\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n          .uri(URI.create(&quot;https://abc123.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1&quot;))\r\n          .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n          .build();\r\n    \r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n    \r\n        // the response:\r\n        System.out.println(response);\r\n        System.out.println(response.body());\r\n    \r\n      }\r\n    }\r\n\r\nRunning this gets me the following error since I didn&#39;t pass the AWS access keys.\r\n\r\n    Response:\r\n    (GET https://abc123.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1) 403\r\n    \r\n    {&quot;message&quot;:&quot;Missing Authentication Token&quot;}\r\n\r\nAnyone know how I can pass my AWS access keys to the request? (Preferably as an env var but I&#39;ll settle for hardcoded). It would be pretty easy for me to do in Python but I haven&#39;t found a way to do this here yet.","title":"Making a request to AWS APIGateway API (with IAM permissions)","body":"<p>I'm a bit inexperienced with Java so that may be my main issue but I'm trying to make an API request to an API that was generated by AWS's API Gateway. The API can only be executed by specific IAM roles. The issue I'm having is that I can't figure out how to pass the AWS access and secret access key in my request. Below is my code, I was trying to do this with the core Java 11 HTTPClient library.</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpRequest;\n\nclass Main {\n\n  public static void main(String[] args) throws Exception {\n    HttpClient client = HttpClient.newHttpClient();\n\n    // create a request\n    HttpRequest request = HttpRequest.newBuilder()\n      .uri(URI.create(&quot;https://abc123.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1&quot;))\n      .header(&quot;accept&quot;, &quot;application/json&quot;)\n      .build();\n\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n    // the response:\n    System.out.println(response);\n    System.out.println(response.body());\n\n  }\n}\n</code></pre>\n<p>Running this gets me the following error since I didn't pass the AWS access keys.</p>\n<pre><code>Response:\n(GET https://abc123.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1) 403\n\n{&quot;message&quot;:&quot;Missing Authentication Token&quot;}\n</code></pre>\n<p>Anyone know how I can pass my AWS access keys to the request? (Preferably as an env var but I'll settle for hardcoded). It would be pretty easy for me to do in Python but I haven't found a way to do this here yet.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1670909834,"post_id":74777791,"comment_id":131976359,"body_markdown":"Add the `HTML` source for the element, you wanted to scroll.","body":"Add the <code>HTML</code> source for the element, you wanted to scroll."}],"owner":{"account_id":27134642,"reputation":5,"user_id":20676344,"display_name":"Muhammet AYDIN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670882446,"creation_date":1670882303,"question_id":74777791,"body_markdown":"I&#39;m trying to right click and select option in Selenium Java. \r\nThat is my code: \r\n\r\n```\r\nActions action1= new Actions(driver);\r\n\r\naction1.moveToElement(captcha);\r\nThread.sleep(2000);\r\naction1.contextClick(captcha).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).build().perform();\r\n```\r\n\r\n\r\nThe first step works by right clicking, but when trying to hit the down arrow button the page scrolls down, but I want to select the object in the context menu.\r\n","title":"How to select option in context menu in selenium java","body":"<p>I'm trying to right click and select option in Selenium Java.\nThat is my code:</p>\n<pre><code>Actions action1= new Actions(driver);\n\naction1.moveToElement(captcha);\nThread.sleep(2000);\naction1.contextClick(captcha).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).build().perform();\n</code></pre>\n<p>The first step works by right clicking, but when trying to hit the down arrow button the page scrolls down, but I want to select the object in the context menu.</p>\n"},{"tags":["java","prometheus","grafana","smallrye","prometheus-blackbox-exporter"],"comments":[{"owner":{"account_id":17878903,"reputation":86,"user_id":12988220,"display_name":"Moein T"},"score":0,"creation_date":1671525828,"post_id":74777724,"comment_id":132112605,"body_markdown":"Hi , What features does your app have that you want to monitor? \n\napi  ?","body":"Hi , What features does your app have that you want to monitor?   api  ?"}],"owner":{"account_id":27233317,"reputation":21,"user_id":20760638,"display_name":"Laka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670881797,"creation_date":1670881797,"question_id":74777724,"body_markdown":"I want to monitor the health check of a Java application in Grafana. (the liveness and readiness)\r\nI used smallrye-health.\r\nThere is a way to see in Grafana if the app is healthy or not? and Ready or not?\r\nThanks.\r\n\r\nBlackbox exporter can query endpoints like /health/live and /health/ready and it checks the status code, I&#39;am not sure that it can read the json result and display it in Grafana.","title":"Is there a way to monitor Health Check of an application in Grafana?","body":"<p>I want to monitor the health check of a Java application in Grafana. (the liveness and readiness)\nI used smallrye-health.\nThere is a way to see in Grafana if the app is healthy or not? and Ready or not?\nThanks.</p>\n<p>Blackbox exporter can query endpoints like /health/live and /health/ready and it checks the status code, I'am not sure that it can read the json result and display it in Grafana.</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670829491,"post_id":74765137,"comment_id":131955312,"body_markdown":"You are not acting+asserting on your SUT, but you are acting+asserting on your cache. (How) is your `attemptsCache` mock injected/available in your SUT? A good read to understand the most common problems is [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968)","body":"You are not acting+asserting on your SUT, but you are acting+asserting on your cache. (How) is your <code>attemptsCache</code> mock injected/available in your SUT? A good read to understand the most common problems is <a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a>"},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670878335,"post_id":74765137,"comment_id":131970964,"body_markdown":"Thanks for sharing the link, I will take a look but to answer your questions:  I am acting on sut, see `sut.unlockFailed(USER)` above.  I am acting on `attemptsCache` only to confirm that it can throw `ExecutionException`, that line is non needed, I understand but was leftover over me trying to figure out why catch block does not get code coverage.  Plus, I am also verifying on SUT.  The `attemptsCache` is private variable of `MyService` (SUT in this case).","body":"Thanks for sharing the link, I will take a look but to answer your questions:  I am acting on sut, see <code>sut.unlockFailed(USER)</code> above.  I am acting on <code>attemptsCache</code> only to confirm that it can throw <code>ExecutionException</code>, that line is non needed, I understand but was leftover over me trying to figure out why catch block does not get code coverage.  Plus, I am also verifying on SUT.  The <code>attemptsCache</code> is private variable of <code>MyService</code> (SUT in this case)."},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670878591,"post_id":74765137,"comment_id":131971073,"body_markdown":"... so, any code above in test relating to `attemptCache` is added only to confirm that it will throw `ExecutionException` because I was confused why code coverage shows the entire class covered, except the &#39;catch` block.  My problem is &quot;how do I cover the above `catch` block in a unit test?","body":"... so, any code above in test relating to <code>attemptCache</code> is added only to confirm that it will throw <code>ExecutionException</code> because I was confused why code coverage shows the entire class covered, except the &#39;catch` block.  My problem is &quot;how do I cover the above <code>catch</code> block in a unit test?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670878607,"post_id":74765137,"comment_id":131971081,"body_markdown":"`assertThrows` is acting+asserting on the cache, not on the SUT. Still, you probably don&#39;t have a reference to your `attemptsCache` mock in your SUT. The explanation (and several solutions) is in the linked question and answer.","body":"<code>assertThrows</code> is acting+asserting on the cache, not on the SUT. Still, you probably don&#39;t have a reference to your <code>attemptsCache</code> mock in your SUT. The explanation (and several solutions) is in the linked question and answer."},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670879370,"post_id":74765137,"comment_id":131971322,"body_markdown":"I updated code of MyService to provide details about `attemptsCache`.  It is a private variable of `MyService`.  All code in test relating to `attemptsCache` was only added to confirm that the given exception is indeed thrown and cought.  It is a leftover of me trying to confirm it, it can be entirely removed to leave only SUT details if that makes sense, which will be acted on.  So, I am not sure I follow your suggestion but I suspect you are trying to say to inject `attemptsCache` rather than have it as private field and created in the c-tor of `MyService`?","body":"I updated code of MyService to provide details about <code>attemptsCache</code>.  It is a private variable of <code>MyService</code>.  All code in test relating to <code>attemptsCache</code> was only added to confirm that the given exception is indeed thrown and cought.  It is a leftover of me trying to confirm it, it can be entirely removed to leave only SUT details if that makes sense, which will be acted on.  So, I am not sure I follow your suggestion but I suspect you are trying to say to inject <code>attemptsCache</code> rather than have it as private field and created in the c-tor of <code>MyService</code>?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670879644,"post_id":74765137,"comment_id":131971417,"body_markdown":"Your &quot;verification if the exception is thrown&quot; is futile. You are mocking instance A to throw an exception and then checking if instance A is throwing an exception. Your SUT however is using instance B. But yes, unless you want to use reflection to replace your private cache with another instance, you should inject it (or a factory to create it; or wrap it in a custom class which can be injected). Again, the linked question describes this exact problem and its answer provides at least 3 solutinos to the problem.","body":"Your &quot;verification if the exception is thrown&quot; is futile. You are mocking instance A to throw an exception and then checking if instance A is throwing an exception. Your SUT however is using instance B. But yes, unless you want to use reflection to replace your private cache with another instance, you should inject it (or a factory to create it; or wrap it in a custom class which can be injected). Again, the linked question describes this exact problem and its answer provides at least 3 solutinos to the problem."},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670879922,"post_id":74765137,"comment_id":131971504,"body_markdown":"But how to inject `attemptsCache` with all its settings into `MyService`?  Wouldn&#39;t that mean I have to create create `attemptsCache` in a caller caller class?  I know how injection work (c-tor, prop, method) but I am confused given that the cache has to set its expiry time etc.  Thanks","body":"But how to inject <code>attemptsCache</code> with all its settings into <code>MyService</code>?  Wouldn&#39;t that mean I have to create create <code>attemptsCache</code> in a caller caller class?  I know how injection work (c-tor, prop, method) but I am confused given that the cache has to set its expiry time etc.  Thanks"},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670880288,"post_id":74765137,"comment_id":131971600,"body_markdown":"... btw, I understand it is futile and I understand your comment re instance A and B or different instances being used.  But my problem is then that the caller class needs to instantiate `attemptsCache` and pass it into c-tor of `MyService` for c-tor injection as an example.  That would make my caller class suffer from the same problem, woudn&#39;t it?","body":"... btw, I understand it is futile and I understand your comment re instance A and B or different instances being used.  But my problem is then that the caller class needs to instantiate <code>attemptsCache</code> and pass it into c-tor of <code>MyService</code> for c-tor injection as an example.  That would make my caller class suffer from the same problem, woudn&#39;t it?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670880787,"post_id":74765137,"comment_id":131971763,"body_markdown":"Well, you have to create your instances _somewhere_. If you want to be able to test your class independently of other collaborators, you have to create its dependencies outside of the class (when instantiating or deferred via a factory).","body":"Well, you have to create your instances <i>somewhere</i>. If you want to be able to test your class independently of other collaborators, you have to create its dependencies outside of the class (when instantiating or deferred via a factory)."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670881634,"creation_date":1670880204,"answer_id":74777474,"question_id":74765137,"body_markdown":"Inject a factory to create your cache or wrap it in a custom class.\r\n\r\n### Factory\r\n\r\n```\r\ninterface CacheFactory {\r\n  LoadingCache&lt;String, Integer&gt; createCache();\r\n}\r\n\r\nclass ExpiringCacheFactory implements CacheFactory {\r\n  LoadingCache&lt;String, Integer&gt; createCache() {\r\n      return CacheBuilder.newBuilder()\r\n           .expireAfterWrite(1, TimeUnits.HOURS)\r\n           .build(new CacheLoader&lt;String, Integer&gt;() {\r\n              @Override\r\n              public Integer load(String key) throws Exception {\r\n                  return 0\r\n              }\r\n       });\r\n  }\r\n}\r\n\r\nclass MyService\r\n    private LoadingCache&lt;String, Integer&gt; attemptsCache;\r\n\r\n    public MyService(final CacheFactory cacheFactory) {\r\n       super();\r\n       attemptCache = cacheFactory.createCache();\r\n    }\r\n}\r\n```\r\n\r\nIn your production code:\r\n\r\n```\r\nfinal MyService myService = new MyService(new ExpiringCacheFactory());\r\n```\r\n\r\nIn your test:\r\n\r\n```\r\nLoadingCache&lt;String, Integer&gt; attemptsCacheMock = Mockito.mock(LoadingCache.class);\r\ndoThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(attemptsCacheMock).get(USER);\r\nfinal MyService sut = new MyService(() -&gt; attemptsCacheMock);\r\n```\r\n\r\n### Custom wrapper class\r\n\r\n```\r\ninterface MyLoadingCache {\r\n  // methods from (Loading)Cache that you want to expose\r\n}\r\n\r\nclass MyLoadingCacheImpl implements MyLoadingCache {\r\n  private LoadingCache&lt;String, Integer&gt; attemptsCache;\r\n\r\n  public MyLoadingCacheImpl() {\r\n      this.attemptsCache = CacheBuilder.newBuilder()\r\n           .expireAfterWrite(1, TimeUnits.HOURS)\r\n           .build(new CacheLoader&lt;String, Integer&gt;() {\r\n              @Override\r\n              public Integer load(String key) throws Exception {\r\n                  return 0\r\n              }\r\n       });\r\n  }\r\n}\r\n\r\nclass MyService\r\n    private MyLoadingCache attemptsCache;\r\n\r\n    public MyService(final MyLoadingCache attemptsCache) {\r\n       super();\r\n       this.attemptCache = attemptsCache;\r\n    }\r\n}\r\n```\r\n\r\nIn your production code:\r\n\r\n```\r\nfinal MyService myService = new MyService(new MyLoadingCacheImpl());\r\n```\r\n\r\nIn your test:\r\n\r\n```\r\nMyLoadingCache cacheMock = Mockito.mock(MyLoadingCache.class);\r\ndoThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(cacheMock).get(USER);\r\nfinal MyService sut = new MyService(cacheMock);\r\n```\r\n\r\nBut you might as well inject the LoadingCache directly.\r\n\r\n*****\r\n\r\nSimilar solutions are discussed in [the answer to &quot;Why is my class not calling my mocked methods in unit test?&quot;](https://stackoverflow.com/a/74027325/112968)","title":"JUnit5/Mockito - test coverage on a void method that throws and handles an exception","body":"<p>Inject a factory to create your cache or wrap it in a custom class.</p>\n<h3>Factory</h3>\n<pre><code>interface CacheFactory {\n  LoadingCache&lt;String, Integer&gt; createCache();\n}\n\nclass ExpiringCacheFactory implements CacheFactory {\n  LoadingCache&lt;String, Integer&gt; createCache() {\n      return CacheBuilder.newBuilder()\n           .expireAfterWrite(1, TimeUnits.HOURS)\n           .build(new CacheLoader&lt;String, Integer&gt;() {\n              @Override\n              public Integer load(String key) throws Exception {\n                  return 0\n              }\n       });\n  }\n}\n\nclass MyService\n    private LoadingCache&lt;String, Integer&gt; attemptsCache;\n\n    public MyService(final CacheFactory cacheFactory) {\n       super();\n       attemptCache = cacheFactory.createCache();\n    }\n}\n</code></pre>\n<p>In your production code:</p>\n<pre><code>final MyService myService = new MyService(new ExpiringCacheFactory());\n</code></pre>\n<p>In your test:</p>\n<pre><code>LoadingCache&lt;String, Integer&gt; attemptsCacheMock = Mockito.mock(LoadingCache.class);\ndoThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(attemptsCacheMock).get(USER);\nfinal MyService sut = new MyService(() -&gt; attemptsCacheMock);\n</code></pre>\n<h3>Custom wrapper class</h3>\n<pre><code>interface MyLoadingCache {\n  // methods from (Loading)Cache that you want to expose\n}\n\nclass MyLoadingCacheImpl implements MyLoadingCache {\n  private LoadingCache&lt;String, Integer&gt; attemptsCache;\n\n  public MyLoadingCacheImpl() {\n      this.attemptsCache = CacheBuilder.newBuilder()\n           .expireAfterWrite(1, TimeUnits.HOURS)\n           .build(new CacheLoader&lt;String, Integer&gt;() {\n              @Override\n              public Integer load(String key) throws Exception {\n                  return 0\n              }\n       });\n  }\n}\n\nclass MyService\n    private MyLoadingCache attemptsCache;\n\n    public MyService(final MyLoadingCache attemptsCache) {\n       super();\n       this.attemptCache = attemptsCache;\n    }\n}\n</code></pre>\n<p>In your production code:</p>\n<pre><code>final MyService myService = new MyService(new MyLoadingCacheImpl());\n</code></pre>\n<p>In your test:</p>\n<pre><code>MyLoadingCache cacheMock = Mockito.mock(MyLoadingCache.class);\ndoThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(cacheMock).get(USER);\nfinal MyService sut = new MyService(cacheMock);\n</code></pre>\n<p>But you might as well inject the LoadingCache directly.</p>\n<hr />\n<p>Similar solutions are discussed in <a href=\"https://stackoverflow.com/a/74027325/112968\">the answer to &quot;Why is my class not calling my mocked methods in unit test?&quot;</a></p>\n"}],"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74777474,"answer_count":1,"score":1,"last_activity_date":1670881634,"creation_date":1670798653,"question_id":74765137,"body_markdown":"I have a service class MyService with following method\r\n\r\n```java\r\n    private LoadingCache&lt;String, Integer&gt; attemptsCache;\r\n\r\n    public MyService() {\r\n       super();\r\n       attemptCache = CacheBuilder.newBuilder()\r\n           .expireAfterWrite(1, TimeUnits.HOURS)\r\n           .build(new CacheLoader&lt;String, Integer&gt;() {\r\n              @Override\r\n              public Integer load(String key) throws Exception {\r\n                  return 0\r\n              }\r\n       });\r\n    }\r\n\r\n    public void unlockFailed(String key) {\r\n\r\n        int attempts = 0;\r\n\r\n        try {\r\n            attempts = attemptsCache.get(key);\r\n        }catch (ExecutionException e) {\r\n            attempts = 0; //unit test is not covering this block\r\n        }\r\n\r\n        attempts++;\r\n        attemptsCache.put(key, attempts);\r\n    }\r\n```\r\n\r\nMy existing tests are passing and providing coverage for this method in all except for the catch block.\r\n\r\nI would like to unit test this method using JUnit5, Mockito in order to get the coverage of the catch block but **I dont know how to make a unit test that will provide coverage for the above catch block**.\r\n\r\nI have tried few things and most I can do is this:\r\n\r\n```java\r\n\r\nprivate final String USER = &quot;fakeuser&quot;;\r\n@Spy\r\n@InjectMocks\r\nprivate UnlockAttemptServiceImpl sut;\r\n    \r\n\r\n@DisplayName(&quot;unlockFailed should handle ExecutionException&quot;)\r\n@Test()\r\npublic void unlockFailed_should_handle_ExecutionException() throws ExecutionException {\r\n\r\n    // Arrange\r\n    LoadingCache&lt;String, Integer&gt; attemptsCache = Mockito.mock(LoadingCache.class);\r\n    doThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(attemptsCache).get(USER);\r\n\r\n    // Act\r\n    sut.unlockFailed(USER);\r\n\r\n    // Assert\r\n    ExecutionException exception = Assertions.assertThrows(ExecutionException.class, () -&gt; {\r\n        // Act\r\n        attemptsCache.get(USER);\r\n    });\r\n\r\n    Mockito.verify(attemptsCache, times(1)).get(USER);\r\n    Mockito.verify(sut, times(1)).unlockFailed(USER);\r\n    Assertions.assertEquals(exception.getMessage(), &quot;Dummy ExecutionException&quot;);\r\n}\r\n```\r\n\r\nHowever, while the above test will pass, it will not provide coverage for the catch block in `unlockFailed()` method.","title":"JUnit5/Mockito - test coverage on a void method that throws and handles an exception","body":"<p>I have a service class MyService with following method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private LoadingCache&lt;String, Integer&gt; attemptsCache;\n\n    public MyService() {\n       super();\n       attemptCache = CacheBuilder.newBuilder()\n           .expireAfterWrite(1, TimeUnits.HOURS)\n           .build(new CacheLoader&lt;String, Integer&gt;() {\n              @Override\n              public Integer load(String key) throws Exception {\n                  return 0\n              }\n       });\n    }\n\n    public void unlockFailed(String key) {\n\n        int attempts = 0;\n\n        try {\n            attempts = attemptsCache.get(key);\n        }catch (ExecutionException e) {\n            attempts = 0; //unit test is not covering this block\n        }\n\n        attempts++;\n        attemptsCache.put(key, attempts);\n    }\n</code></pre>\n<p>My existing tests are passing and providing coverage for this method in all except for the catch block.</p>\n<p>I would like to unit test this method using JUnit5, Mockito in order to get the coverage of the catch block but <strong>I dont know how to make a unit test that will provide coverage for the above catch block</strong>.</p>\n<p>I have tried few things and most I can do is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final String USER = &quot;fakeuser&quot;;\n@Spy\n@InjectMocks\nprivate UnlockAttemptServiceImpl sut;\n    \n\n@DisplayName(&quot;unlockFailed should handle ExecutionException&quot;)\n@Test()\npublic void unlockFailed_should_handle_ExecutionException() throws ExecutionException {\n\n    // Arrange\n    LoadingCache&lt;String, Integer&gt; attemptsCache = Mockito.mock(LoadingCache.class);\n    doThrow(new ExecutionException(&quot;Dummy ExecutionException&quot;, null)).when(attemptsCache).get(USER);\n\n    // Act\n    sut.unlockFailed(USER);\n\n    // Assert\n    ExecutionException exception = Assertions.assertThrows(ExecutionException.class, () -&gt; {\n        // Act\n        attemptsCache.get(USER);\n    });\n\n    Mockito.verify(attemptsCache, times(1)).get(USER);\n    Mockito.verify(sut, times(1)).unlockFailed(USER);\n    Assertions.assertEquals(exception.getMessage(), &quot;Dummy ExecutionException&quot;);\n}\n</code></pre>\n<p>However, while the above test will pass, it will not provide coverage for the catch block in <code>unlockFailed()</code> method.</p>\n"},{"tags":["java","android"],"owner":{"account_id":9727892,"reputation":466,"user_id":7214113,"accept_rate":14,"display_name":"Nefarious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670880836,"creation_date":1670880836,"question_id":74777578,"body_markdown":"I am attempting to put an application on my pixel phone when I attempt to install it I get the message that the version of java needs to be java 11 or greater.\r\n\r\nthe version that android studio uses is located in .../android-studio/jre/bin and is a compressed file.  \r\n\r\nFirst, I don&#39;t understand why android would require a version of a tool that it supplies the wrong version of?\r\n\r\nDo I have to reinstall android studio to get the correct version, I can&#39;t find a simple button to press for android to do an incremental update or something?\r\n\r\n","title":"Android studio on Ubuntu to Pixel 6 phone","body":"<p>I am attempting to put an application on my pixel phone when I attempt to install it I get the message that the version of java needs to be java 11 or greater.</p>\n<p>the version that android studio uses is located in .../android-studio/jre/bin and is a compressed file.</p>\n<p>First, I don't understand why android would require a version of a tool that it supplies the wrong version of?</p>\n<p>Do I have to reinstall android studio to get the correct version, I can't find a simple button to press for android to do an incremental update or something?</p>\n"},{"tags":["java","swing","jformattedtextfield"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670931475,"post_id":74777477,"comment_id":131982432,"body_markdown":"to solve problems like this, it helps to read the api doc - of the class you are working on __and__ its ancestors ;) The default javadoc has a block titled &quot;Methods declared from XX&quot; for each of the ancestors ..","body":"to solve problems like this, it helps to read the api doc - of the class you are working on <b>and</b> its ancestors ;) The default javadoc has a block titled &quot;Methods declared from XX&quot; for each of the ancestors .."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670880764,"creation_date":1670880438,"answer_id":74777511,"question_id":74777477,"body_markdown":"Since `JFormattedTextField` extends from `JTextField`, you can use all of the methods available to the parent with the child, here the `setColumns(...)` method which will set the value for the displayed column width of the component. This is all as per the [JFormattedTextField API](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/swing/JFormattedTextField.html). \r\n\r\nFor example:\r\n\r\n```\r\n// in the field declaration section\r\nprivate JFormattedTextField textField = new JFormattedTextField(new DecimalFormat(&quot;###,###&quot;));\r\n\r\n// .....\r\n\r\n// in the constructor\r\ntextField.setColumns(20);\r\n```\r\n","title":"How to set size of JFormattedTextField","body":"<p>Since <code>JFormattedTextField</code> extends from <code>JTextField</code>, you can use all of the methods available to the parent with the child, here the <code>setColumns(...)</code> method which will set the value for the displayed column width of the component. This is all as per the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField API</a>.</p>\n<p>For example:</p>\n<pre><code>// in the field declaration section\nprivate JFormattedTextField textField = new JFormattedTextField(new DecimalFormat(&quot;###,###&quot;));\n\n// .....\n\n// in the constructor\ntextField.setColumns(20);\n</code></pre>\n"}],"owner":{"account_id":25055971,"reputation":5,"user_id":20668356,"display_name":"Hugeine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74777511,"answer_count":1,"score":0,"last_activity_date":1670880764,"creation_date":1670880217,"question_id":74777477,"body_markdown":"Hello I was just wondering is it possible to set the size of a JFormattedTextField like it is with a regular JTextField for example.\r\n\r\nBelow I have a normal JTextField and am just setting it to a decent size.\r\n\r\n```\r\n textField = new JTextField(20);//Setting the JTextFields size to 20\r\n```\r\n\r\nBut say I was to have  a JFormattedTextField as below how would I set the size of it I cant seem to find anything relating to it online any suggestions or help greatly appreciated.\r\n\r\n```\r\n textField =new JFormattedTextField(new DecimalFormat(&quot;###,###&quot;));//This JFormattedTextField is being set so only decimals may be entered into it\r\n\t\r\n```","title":"How to set size of JFormattedTextField","body":"<p>Hello I was just wondering is it possible to set the size of a JFormattedTextField like it is with a regular JTextField for example.</p>\n<p>Below I have a normal JTextField and am just setting it to a decent size.</p>\n<pre><code> textField = new JTextField(20);//Setting the JTextFields size to 20\n</code></pre>\n<p>But say I was to have  a JFormattedTextField as below how would I set the size of it I cant seem to find anything relating to it online any suggestions or help greatly appreciated.</p>\n<pre><code> textField =new JFormattedTextField(new DecimalFormat(&quot;###,###&quot;));//This JFormattedTextField is being set so only decimals may be entered into it\n    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":0,"creation_date":1462461825,"post_id":37054347,"comment_id":61655721,"body_markdown":"So, what&#39;s not working with that code?","body":"So, what&#39;s not working with that code?"},{"owner":{"account_id":8059064,"reputation":3,"user_id":6075155,"display_name":"Ruya V"},"score":0,"creation_date":1462461879,"post_id":37054347,"comment_id":61655752,"body_markdown":"@resueman I dont know how to populate it with 1A etc. aswell as setting the reservation boolean to false","body":"@resueman I dont know how to populate it with 1A etc. aswell as setting the reservation boolean to false"},{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":2,"creation_date":1462462063,"post_id":37054347,"comment_id":61655874,"body_markdown":"Well a `char` can only store a single character. There&#39;s not way to make it contain that much data. Pick a data type that represents the data you want to store.","body":"Well a <code>char</code> can only store a single character. There&#39;s not way to make it contain that much data. Pick a data type that represents the data you want to store."},{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1462462147,"post_id":37054347,"comment_id":61655929,"body_markdown":"I think you are confused and think you can label your seats like this `seats[1][A]` as you might be thinking that since this is a 2d char array that would mean that you can refer to the seat that way, which you cannot.","body":"I think you are confused and think you can label your seats like this <code>seats[1][A]</code> as you might be thinking that since this is a 2d char array that would mean that you can refer to the seat that way, which you cannot."}],"answers":[{"tags":[],"owner":{"account_id":4945491,"reputation":189,"user_id":3980989,"display_name":"jsurf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462462815,"creation_date":1462462815,"answer_id":37054673,"question_id":37054347,"body_markdown":"You can&#39;t make a char array to store such data since it can only store a single character (&#39;a&#39;,&#39;b&#39;,&#39;c&#39; etc). As mentioned above from resueman you have to choose another data type that can store much more information like String etc. \r\n\r\nOr even better try making your own custom object since you have already SeatType and Seat.","title":"How do I populate a 2D array with values?","body":"<p>You can't make a char array to store such data since it can only store a single character ('a','b','c' etc). As mentioned above from resueman you have to choose another data type that can store much more information like String etc. </p>\n\n<p>Or even better try making your own custom object since you have already SeatType and Seat.</p>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670880700,"creation_date":1462463562,"answer_id":37054925,"question_id":37054347,"body_markdown":"You should use a ```Seat[][]``` instead of a ```char[][]```, which can hold all the data you want.\r\n\r\nHere is a basic example:\r\n\r\n    class Seat {\r\n    \t\r\n        private final String name;\r\n        private final Type type;\r\n        private boolean reserved = false;\r\n    \r\n        public Seat(String name, Type type) {\r\n            this.name = name;\r\n            this.type = type;\r\n        }\r\n    \r\n        // ...Getters &amp; Setters...\r\n\r\n        public enum Type {\r\n    \t\tBusiness,\r\n    \t\tEconomy;\r\n    \t}\r\n    }\r\n    \r\n    class BoeingSeatMap {\r\n    \tprivate Seat[][] seats;\r\n    \t\r\n    \tpublic static final int rows = 10;\r\n    \tpublic static final int columns = 7;\r\n    \t\r\n    \tprivate static final String[] letters = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot; };\r\n    \r\n    \tpublic void intializeSeatMap() {\r\n    \t\tseats = new Seat[rows][columns];\r\n    \t\t\r\n    \t\tfor (int x = 0; x &lt; seats.length; x++) {\r\n    \t\t\tfor (int y = 0; y &lt; seats[x].length; y++) {\r\n    \t\t\t\tString name = (x + 1) + letters[y];\r\n    \t\t\t\tif(x &lt; 4) { // first 4 rows are Business\r\n    \t\t\t\t\tseats[x][y] = new Seat(name, Seat.Type.Business);\r\n    \t\t\t\t} else { // The rest Economy\r\n    \t\t\t\t\tseats[x][y] = new Seat(name, Seat.Type.Economy);\r\n    \t\t\t\t}\t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n---\r\nExample output:\r\n\r\n    [1A : Business, 1B : Business, 1C : Business, 1D : Business, 1E : Business, 1F : Business, 1G : Business]\r\n    [2A : Business, 2B : Business, 2C : Business, 2D : Business, 2E : Business, 2F : Business, 2G : Business]\r\n    [3A : Business, 3B : Business, 3C : Business, 3D : Business, 3E : Business, 3F : Business, 3G : Business]\r\n    [4A : Business, 4B : Business, 4C : Business, 4D : Business, 4E : Business, 4F : Business, 4G : Business]\r\n    [5A : Economy, 5B : Economy, 5C : Economy, 5D : Economy, 5E : Economy, 5F : Economy, 5G : Economy]\r\n    [6A : Economy, 6B : Economy, 6C : Economy, 6D : Economy, 6E : Economy, 6F : Economy, 6G : Economy]\r\n    [7A : Economy, 7B : Economy, 7C : Economy, 7D : Economy, 7E : Economy, 7F : Economy, 7G : Economy]\r\n    [8A : Economy, 8B : Economy, 8C : Economy, 8D : Economy, 8E : Economy, 8F : Economy, 8G : Economy]\r\n    [9A : Economy, 9B : Economy, 9C : Economy, 9D : Economy, 9E : Economy, 9F : Economy, 9G : Economy]\r\n    [10A : Economy, 10B : Economy, 10C : Economy, 10D : Economy, 10E : Economy, 10F : Economy, 10G : Economy]","title":"How do I populate a 2D array with values?","body":"<p>You should use a <code>Seat[][]</code> instead of a <code>char[][]</code>, which can hold all the data you want.</p>\n<p>Here is a basic example:</p>\n<pre><code>class Seat {\n    \n    private final String name;\n    private final Type type;\n    private boolean reserved = false;\n\n    public Seat(String name, Type type) {\n        this.name = name;\n        this.type = type;\n    }\n\n    // ...Getters &amp; Setters...\n\n    public enum Type {\n        Business,\n        Economy;\n    }\n}\n\nclass BoeingSeatMap {\n    private Seat[][] seats;\n    \n    public static final int rows = 10;\n    public static final int columns = 7;\n    \n    private static final String[] letters = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot; };\n\n    public void intializeSeatMap() {\n        seats = new Seat[rows][columns];\n        \n        for (int x = 0; x &lt; seats.length; x++) {\n            for (int y = 0; y &lt; seats[x].length; y++) {\n                String name = (x + 1) + letters[y];\n                if(x &lt; 4) { // first 4 rows are Business\n                    seats[x][y] = new Seat(name, Seat.Type.Business);\n                } else { // The rest Economy\n                    seats[x][y] = new Seat(name, Seat.Type.Economy);\n                }               \n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Example output:</p>\n<pre><code>[1A : Business, 1B : Business, 1C : Business, 1D : Business, 1E : Business, 1F : Business, 1G : Business]\n[2A : Business, 2B : Business, 2C : Business, 2D : Business, 2E : Business, 2F : Business, 2G : Business]\n[3A : Business, 3B : Business, 3C : Business, 3D : Business, 3E : Business, 3F : Business, 3G : Business]\n[4A : Business, 4B : Business, 4C : Business, 4D : Business, 4E : Business, 4F : Business, 4G : Business]\n[5A : Economy, 5B : Economy, 5C : Economy, 5D : Economy, 5E : Economy, 5F : Economy, 5G : Economy]\n[6A : Economy, 6B : Economy, 6C : Economy, 6D : Economy, 6E : Economy, 6F : Economy, 6G : Economy]\n[7A : Economy, 7B : Economy, 7C : Economy, 7D : Economy, 7E : Economy, 7F : Economy, 7G : Economy]\n[8A : Economy, 8B : Economy, 8C : Economy, 8D : Economy, 8E : Economy, 8F : Economy, 8G : Economy]\n[9A : Economy, 9B : Economy, 9C : Economy, 9D : Economy, 9E : Economy, 9F : Economy, 9G : Economy]\n[10A : Economy, 10B : Economy, 10C : Economy, 10D : Economy, 10E : Economy, 10F : Economy, 10G : Economy]\n</code></pre>\n"}],"owner":{"account_id":8059064,"reputation":3,"user_id":6075155,"display_name":"Ruya V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":37054925,"answer_count":2,"score":-3,"last_activity_date":1670880700,"creation_date":1462461742,"question_id":37054347,"body_markdown":"So I&#39;m making an airline reservation program and I&#39;m trying to populate a 2D array with seat numbers and changes per airline company, this is what I have so far\r\n\r\n    public class BoeingSeatMap extends SeatMap{\r\n\tprotected int row;\r\n\tprotected char column;\r\n\tSeatType seatType;\r\n\tSeat s1;\r\n\t\r\n\tpublic void intializeSeatMap(){\r\n\t\tthis.row = 10;\r\n\t\tthis.column =  7;\r\n\t\tchar [][] seats = new char[row][column];\r\n\t\tfor(int i = 0; i &lt; seats.length; i++){\r\n\t\t\tfor(int y = 0; y &lt; seats[i].length; y++){\r\n\t\t\t//\tseats[i][y] = s1.reserved(false);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nThis airline company has 10 rows and 7 columns, the first 4 rows are also first class and the layout is 2-3-2 (window, aisle, aisle, middle, aisle, aisle, window)\r\n\r\nI want to have the array populated with 1A, 1B etcetc.","title":"How do I populate a 2D array with values?","body":"<p>So I'm making an airline reservation program and I'm trying to populate a 2D array with seat numbers and changes per airline company, this is what I have so far</p>\n\n<pre><code>public class BoeingSeatMap extends SeatMap{\nprotected int row;\nprotected char column;\nSeatType seatType;\nSeat s1;\n\npublic void intializeSeatMap(){\n    this.row = 10;\n    this.column =  7;\n    char [][] seats = new char[row][column];\n    for(int i = 0; i &lt; seats.length; i++){\n        for(int y = 0; y &lt; seats[i].length; y++){\n        //  seats[i][y] = s1.reserved(false);\n\n        }\n    }\n}\n\n}\n</code></pre>\n\n<p>This airline company has 10 rows and 7 columns, the first 4 rows are also first class and the layout is 2-3-2 (window, aisle, aisle, middle, aisle, aisle, window)</p>\n\n<p>I want to have the array populated with 1A, 1B etcetc.</p>\n"},{"tags":["java","spring-boot","asynchronous","microservices","completable-future"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1670881227,"post_id":74776279,"comment_id":131971875,"body_markdown":"Can you please add to your question the StackTrace of the error (one of them at least)","body":"Can you please add to your question the StackTrace of the error (one of them at least)"},{"owner":{"account_id":13935563,"reputation":11,"user_id":10062644,"display_name":"harendra pratap singh"},"score":0,"creation_date":1671023286,"post_id":74776279,"comment_id":132007023,"body_markdown":"Hi @JorgeCampos\nUnfortunately, I cannot paste the stack trace here. But the error is exactly same as that of https://mkyong.com/spring/spring-request-scope-error-no-thread-bound-request-found/","body":"Hi @JorgeCampos Unfortunately, I cannot paste the stack trace here. But the error is exactly same as that of <a href=\"https://mkyong.com/spring/spring-request-scope-error-no-thread-bound-request-found/\" rel=\"nofollow noreferrer\">mkyong.com/spring/&hellip;</a>"},{"owner":{"account_id":13935563,"reputation":11,"user_id":10062644,"display_name":"harendra pratap singh"},"score":0,"creation_date":1671026322,"post_id":74776279,"comment_id":132008179,"body_markdown":"Also, if only a single call were to be made asynchronously to different ms, I am able to achieve that using a bean method which return RequentCOntextListener. My problem is coming because I a stream of data and I am unable to figure out how to do that for the stream.","body":"Also, if only a single call were to be made asynchronously to different ms, I am able to achieve that using a bean method which return RequentCOntextListener. My problem is coming because I a stream of data and I am unable to figure out how to do that for the stream."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1671144903,"post_id":74776279,"comment_id":132041916,"body_markdown":"Please provide a [mre] and the exact error you have. As it currently stands, there is not enough information to provide an accurate answer.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the exact error you have. As it currently stands, there is not enough information to provide an accurate answer."}],"owner":{"account_id":13935563,"reputation":11,"user_id":10062644,"display_name":"harendra pratap singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670879982,"creation_date":1670872869,"question_id":74776279,"body_markdown":"I am new to Spring boot.\r\n\r\nI have two microServices(MS) running.\r\n\r\nFrom 1st MS, I have a code like below\r\n\r\nList&lt;XYZ&gt; models.\r\nand for each of the entries of the models, I am invoking a call to 2nd MS like below\r\n\r\n`models.stream().filter(mod -&gt; isModActive(&lt;Call to 2nd MS&gt;)).collect(Collectors.toList())` --- (Invoker)\r\n\r\nThe above code snippet takes a time of 30 secs.\r\n\r\nNow, I want to optimize the code.\r\nFor this, I divided the models into batches of 20.\r\nFor Each batch, I am invoking the code like below\r\n\r\n    CompletableFuture.supplyAsync(() -&gt; batch1.stream().filter(mod -&gt; isModActive(&lt;Call to 2nd MS&gt;)).collect(Collectors.toList()))\r\n\r\nAfter invoking the batches using CompletableFuture, I am combining their results in code.\r\n\r\nDuring execution, I am getting an exception - No thread bound request for Dispatcher Servelet. Use RequestContextListener instead.\r\n\r\nI checked this error and tried using all the scenarios which were mentioned like - making a bean method to return RequestContextListnere, using @Async and making a custom threadpoolExecutor in the main Application class, nothing helped.\r\n\r\nCan anyone please help?\r\n\r\nThanks\r\n\r\nAlready mentioned in the description.","title":"No thread bound Request in Spring Boot","body":"<p>I am new to Spring boot.</p>\n<p>I have two microServices(MS) running.</p>\n<p>From 1st MS, I have a code like below</p>\n<p>List models.\nand for each of the entries of the models, I am invoking a call to 2nd MS like below</p>\n<p><code>models.stream().filter(mod -&gt; isModActive(&lt;Call to 2nd MS&gt;)).collect(Collectors.toList())</code> --- (Invoker)</p>\n<p>The above code snippet takes a time of 30 secs.</p>\n<p>Now, I want to optimize the code.\nFor this, I divided the models into batches of 20.\nFor Each batch, I am invoking the code like below</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt; batch1.stream().filter(mod -&gt; isModActive(&lt;Call to 2nd MS&gt;)).collect(Collectors.toList()))\n</code></pre>\n<p>After invoking the batches using CompletableFuture, I am combining their results in code.</p>\n<p>During execution, I am getting an exception - No thread bound request for Dispatcher Servelet. Use RequestContextListener instead.</p>\n<p>I checked this error and tried using all the scenarios which were mentioned like - making a bean method to return RequestContextListnere, using @Async and making a custom threadpoolExecutor in the main Application class, nothing helped.</p>\n<p>Can anyone please help?</p>\n<p>Thanks</p>\n<p>Already mentioned in the description.</p>\n"},{"tags":["java","regex","methods"],"answers":[{"tags":[],"owner":{"account_id":27213791,"reputation":452,"user_id":20744164,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670879266,"creation_date":1670878779,"answer_id":74777247,"question_id":74776729,"body_markdown":"how about you just extract the code into a private method in that class.\r\n\r\nlike this:\r\n\r\n    public void findSeperator(String data) {\r\n        Optional&lt;String&gt; optional = basicFilter(data.split(&quot;&quot;)).findFirst();\r\n        this.seperator = Arrays.stream(SeperatorEnum.values())\r\n                .filter(e -&gt; e.getSeperator().equals(optional.orElse(null)))\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }\r\n\r\n    public OptionalInt maxInt(String data) {\r\n        findSeperator(data);\r\n        return basicFilter(data.split(seperator.getSeperator()))\r\n                .mapToInt(Integer::parseInt)\r\n                .max();\r\n    }\r\n\r\n    public OptionalInt minInt(String data) {\r\n        return basicFilter(data.split(seperator.getSeperator())).mapToInt(Integer::parseInt).min();\r\n    }\r\n\r\n    // method for basic filtering\r\n    private String[] basicFilter(String[] toFilter) {\r\n        return Arrays.stream(toFilter).filter(e -&gt; numberPattern.matcher(e).matches());\r\n    }","title":"Using a method inside a method","body":"<p>how about you just extract the code into a private method in that class.</p>\n<p>like this:</p>\n<pre><code>public void findSeperator(String data) {\n    Optional&lt;String&gt; optional = basicFilter(data.split(&quot;&quot;)).findFirst();\n    this.seperator = Arrays.stream(SeperatorEnum.values())\n            .filter(e -&gt; e.getSeperator().equals(optional.orElse(null)))\n            .findFirst()\n            .orElseThrow();\n}\n\npublic OptionalInt maxInt(String data) {\n    findSeperator(data);\n    return basicFilter(data.split(seperator.getSeperator()))\n            .mapToInt(Integer::parseInt)\n            .max();\n}\n\npublic OptionalInt minInt(String data) {\n    return basicFilter(data.split(seperator.getSeperator())).mapToInt(Integer::parseInt).min();\n}\n\n// method for basic filtering\nprivate String[] basicFilter(String[] toFilter) {\n    return Arrays.stream(toFilter).filter(e -&gt; numberPattern.matcher(e).matches());\n}\n</code></pre>\n"}],"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670879923,"creation_date":1670875553,"question_id":74776729,"body_markdown":"I&#39;ve written a bit of code but as you can see most of the code is the same in 3 places, I would like to use the method findSeperator() to then be used in maxInt &amp; minInt. Although I&#39;m not really sure what would be the best way to address that, could you advise?\r\n\r\n    public void findSeperator(String data) {\r\n        Optional&lt;String&gt; optional = Arrays.stream(data.split(&quot;&quot;))\r\n                .filter(e -&gt; !numberPattern.matcher(e).matches())\r\n                .findFirst();\r\n        this.seperator = Arrays.stream(SeperatorEnum.values())\r\n                .filter(e -&gt; e.getSeperator().equals(optional.orElse(null)))\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }\r\n\r\n    public OptionalInt maxInt(String data) {\r\n        findSeperator(data);\r\n        return Arrays.stream(data.split(seperator.getSeperator()))\r\n                .filter(e -&gt; numberPattern.matcher(e).matches())\r\n                .mapToInt(Integer::parseInt)\r\n                .max();\r\n    }\r\n\r\n    public OptionalInt minInt(String data) {\r\n        return Arrays.stream(data.split(seperator.getSeperator()))\r\n                .filter(e -&gt; numberPattern.matcher(e).matches())\r\n                .mapToInt(Integer::parseInt)\r\n                .min();\r\n    }","title":"Using a method inside a method","body":"<p>I've written a bit of code but as you can see most of the code is the same in 3 places, I would like to use the method findSeperator() to then be used in maxInt &amp; minInt. Although I'm not really sure what would be the best way to address that, could you advise?</p>\n<pre><code>public void findSeperator(String data) {\n    Optional&lt;String&gt; optional = Arrays.stream(data.split(&quot;&quot;))\n            .filter(e -&gt; !numberPattern.matcher(e).matches())\n            .findFirst();\n    this.seperator = Arrays.stream(SeperatorEnum.values())\n            .filter(e -&gt; e.getSeperator().equals(optional.orElse(null)))\n            .findFirst()\n            .orElseThrow();\n}\n\npublic OptionalInt maxInt(String data) {\n    findSeperator(data);\n    return Arrays.stream(data.split(seperator.getSeperator()))\n            .filter(e -&gt; numberPattern.matcher(e).matches())\n            .mapToInt(Integer::parseInt)\n            .max();\n}\n\npublic OptionalInt minInt(String data) {\n    return Arrays.stream(data.split(seperator.getSeperator()))\n            .filter(e -&gt; numberPattern.matcher(e).matches())\n            .mapToInt(Integer::parseInt)\n            .min();\n}\n</code></pre>\n"},{"tags":["java","swing","file","jtextarea","txt"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1670878199,"post_id":74777085,"comment_id":131970916,"body_markdown":"*&quot;Now, I am completely unsure of how to go about my situation, whether it be I display the information from the .txt file onto a jTextArea or if I should just create a method to make a .txt file open externally and replace the pop up window I would otherwise have with the writing to JTextArea.&quot;* -- that&#39;s up to you. You can either read the text into a JTextArea and have it display it, or you can open a default text editor and have it display it. Which to choose depends on your needs and desires, and is something that only you can answer.","body":"<i>&quot;Now, I am completely unsure of how to go about my situation, whether it be I display the information from the .txt file onto a jTextArea or if I should just create a method to make a .txt file open externally and replace the pop up window I would otherwise have with the writing to JTextArea.&quot;</i> -- that&#39;s up to you. You can either read the text into a JTextArea and have it display it, or you can open a default text editor and have it display it. Which to choose depends on your needs and desires, and is something that only you can answer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1670878296,"post_id":74777085,"comment_id":131970948,"body_markdown":"I will however suggest that you not use null layouts and set-bounds as this can lead to very inflexible GUI&#39;s that are hard to maintain and this can also foul-up the ability of Swing text components, such as JTextAreas, from working correctly. Instead, learn and use the Swing layout managers. You can find the layout manager tutorial here: [Layout Manager Tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html). Also, you probably will probably want to read: [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/questions/9554636)","body":"I will however suggest that you not use null layouts and set-bounds as this can lead to very inflexible GUI&#39;s that are hard to maintain and this can also foul-up the ability of Swing text components, such as JTextAreas, from working correctly. Instead, learn and use the Swing layout managers. You can find the layout manager tutorial here: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Layout Manager Tutorial</a>. Also, you probably will probably want to read: <a href=\"http://stackoverflow.com/questions/9554636\">The Use of Multiple JFrames, Good/Bad Practice?</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1670878534,"post_id":74777085,"comment_id":131971047,"body_markdown":"I would also suggest that you get most of your code out of the static world and into the instance world, to help make it more OOPs compliant and thus somewhat easier to extend and to debug.","body":"I would also suggest that you get most of your code out of the static world and into the instance world, to help make it more OOPs compliant and thus somewhat easier to extend and to debug."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1670878686,"post_id":74777085,"comment_id":131971109,"body_markdown":"Camickr&#39;s answer to [this similar question](https://stackoverflow.com/questions/5880169/loading-a-text-file-into-a-textarea) shows you how to read a text file directly into a JTextArea as will [MadProgrammer&#39;s answer here](https://stackoverflow.com/a/17499497/5224440).","body":"Camickr&#39;s answer to <a href=\"https://stackoverflow.com/questions/5880169/loading-a-text-file-into-a-textarea\">this similar question</a> shows you how to read a text file directly into a JTextArea as will <a href=\"https://stackoverflow.com/a/17499497/5224440\">MadProgrammer&#39;s answer here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670879596,"post_id":74777085,"comment_id":131971404,"body_markdown":"And [this Q&amp;A](https://stackoverflow.com/questions/6273221/open-a-text-file-in-the-default-text-editor-via-java) touches on how to open a text file in a default text editor.","body":"And <a href=\"https://stackoverflow.com/questions/6273221/open-a-text-file-in-the-default-text-editor-via-java\">this Q&amp;A</a> touches on how to open a text file in a default text editor."}],"owner":{"account_id":27232070,"reputation":19,"user_id":20759622,"display_name":"TvonH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1670878656,"answer_count":0,"score":1,"last_activity_date":1670879577,"creation_date":1670877733,"question_id":74777085,"body_markdown":"I am currently making a java project that simulates a website for swimmers. It has multiple classes and incorporates the Jswing GUI. I have buttons that are used to display other classes GUI and data, but I was wondering if there was a way to have it so when I click a button, it would pull up a .txt file as a pop up externally, as opposed to just reading and writing the .txt files data into my console. \r\nI had initially tried to display information from a .txt file into a JLabel or JTextField so it could be seen but I had abandoned that idea in order to pursue the easier and simplier idea of bringing up a entirely new window of a .txt file\r\n\r\n\r\n```\r\npackage finalProject;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\n\r\npublic class FrontInterface extends JPanel {\r\n\tprivate static JButton nSwimmer;\r\n\tprivate static JButton cSwimmer;\r\n\tprivate static JButton coach;\r\n\tprivate JLabel heading;\r\n\tprivate static JButton equipment;\r\n\r\npublic FrontInterface() {\r\n\t//construct components\r\n\tnSwimmer = new JButton (&quot;New Swimmer&quot;);\r\n\tcSwimmer = new JButton (&quot;Current Swimmer&quot;);\r\n\tcoach = new JButton (&quot;Coach&quot;);\r\n\theading = new JLabel (&quot;Welcome to the Swimming Station&quot;);\r\n\tequipment = new JButton (&quot;Equipment&quot;);\r\n\r\n\t//adjust size and set layout\r\n\tsetPreferredSize (new Dimension (752, 425));\r\n\tsetLayout (null);\r\n\r\n\t//add components\r\n\tadd (nSwimmer);\r\n\tadd (cSwimmer);\r\n\tadd (coach);\r\n\tadd (heading);\r\n\tadd (equipment);\r\n\r\n\t//set component bounds (only needed by Absolute Positioning)\r\n\tnSwimmer.setBounds (280, 150, 200, 20);\r\n\tcSwimmer.setBounds (280, 175, 200, 20);\r\n\tcoach.setBounds (280, 200, 200, 20);\r\n\theading.setBounds (280, 95, 195, 30);\r\n\tequipment.setBounds (280, 225, 200, 25);\r\n}\r\n\r\npublic static void showWindow(){\r\n\tJFrame frame = new JFrame (&quot;Front Interface&quot;);\r\n\tframe.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\r\n\tframe.getContentPane().add(new FrontInterface());\r\n\tframe.pack();\r\n\tframe.setVisible(true);\r\n\t\r\n\tnSwimmer.addActionListener(new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\tframe.setVisible(false);\r\n\t\t\tNewSwimmerForm w2 = new NewSwimmerForm();\r\n\t\t\tw2.showWindow();\r\n\t\t}   \r\n\t});\r\n\t\r\n\tcSwimmer.addActionListener(new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\tframe.setVisible(false);\r\n\t\t\tCurrentSwimmer w2_1 = new CurrentSwimmer();\r\n\t\t\tw2_1.showWindow();\r\n\t\t}   \r\n\t});\r\n\t\r\n\tcoach.addActionListener(new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\tframe.setVisible(false);\r\n\t\t\tNewSwimmerForm w2 = new NewSwimmerForm();\r\n\t\t\tw2.showWindow();\r\n\t\t}   \r\n\t});\r\n\t\r\n\tequipment.addActionListener(new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\tframe.setVisible(false);\r\n\t\t\tNewSwimmerForm w2 = new NewSwimmerForm();\r\n\t\t\tw2.showWindow();\r\n\t\t}   \r\n\t});\r\n\t\r\n\tframe.setVisible(true);\r\n}    \r\n\r\n\tpublic static void main (String[] args) {\r\n\t\tshowWindow();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd below is the code that the cSwimmer button will take you to upon clicking the cSwimmer button:\r\n\r\n\r\n```\r\npackage finalProject; \r\n\r\nimport finalProject.FrontInterface;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.*;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\n\r\npublic class CurrentSwimmer extends JPanel {\r\nprivate static JTextArea informationHeader;\r\n\r\npublic static void showWindow(){\r\n\ttry{\r\n\t File file = new File(&quot;C:\\\\Users\\\\trent\\\\Desktop\\\\Intro to Computer Science\\\\Eclipse Codes\\\\FinalProject\\\\src\\\\finalProject\\\\history.txt&quot;);\r\n\t   System.out.println(file.getCanonicalPath());\r\n\t   FileInputStream ft = new FileInputStream(file);\r\n\r\n\t   DataInputStream in = new DataInputStream(ft);\r\n\t   BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\t   String strline;\r\n\r\n\t   while((strline = br.readLine()) != null){\r\n\t\t   System.out.println(strline);\r\n\t   }\r\n\t   in.close();\r\n   }catch(Exception e){\r\n\t   System.err.println(&quot;Error: &quot; + e.getMessage());\r\n\t   \r\n   }\r\n}\r\n\tpublic static void main(String [] args) {    \t    \t\r\n\tshowWindow(); \r\n\t}\r\n}\r\n```\r\n\r\n\r\nNow, I am completely unsure of how to go about my situation, whether it be I display the information from the .txt file onto a jTextArea or if I should just create a method to make a .txt file open externally and replace the pop up window I would otherwise have with the writing to JTextArea.","title":"Is There a Way to Make a Java Method that Opens a .txt File as a pop-up?","body":"<p>I am currently making a java project that simulates a website for swimmers. It has multiple classes and incorporates the Jswing GUI. I have buttons that are used to display other classes GUI and data, but I was wondering if there was a way to have it so when I click a button, it would pull up a .txt file as a pop up externally, as opposed to just reading and writing the .txt files data into my console.\nI had initially tried to display information from a .txt file into a JLabel or JTextField so it could be seen but I had abandoned that idea in order to pursue the easier and simplier idea of bringing up a entirely new window of a .txt file</p>\n<pre><code>package finalProject;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\npublic class FrontInterface extends JPanel {\n    private static JButton nSwimmer;\n    private static JButton cSwimmer;\n    private static JButton coach;\n    private JLabel heading;\n    private static JButton equipment;\n\npublic FrontInterface() {\n    //construct components\n    nSwimmer = new JButton (&quot;New Swimmer&quot;);\n    cSwimmer = new JButton (&quot;Current Swimmer&quot;);\n    coach = new JButton (&quot;Coach&quot;);\n    heading = new JLabel (&quot;Welcome to the Swimming Station&quot;);\n    equipment = new JButton (&quot;Equipment&quot;);\n\n    //adjust size and set layout\n    setPreferredSize (new Dimension (752, 425));\n    setLayout (null);\n\n    //add components\n    add (nSwimmer);\n    add (cSwimmer);\n    add (coach);\n    add (heading);\n    add (equipment);\n\n    //set component bounds (only needed by Absolute Positioning)\n    nSwimmer.setBounds (280, 150, 200, 20);\n    cSwimmer.setBounds (280, 175, 200, 20);\n    coach.setBounds (280, 200, 200, 20);\n    heading.setBounds (280, 95, 195, 30);\n    equipment.setBounds (280, 225, 200, 25);\n}\n\npublic static void showWindow(){\n    JFrame frame = new JFrame (&quot;Front Interface&quot;);\n    frame.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().add(new FrontInterface());\n    frame.pack();\n    frame.setVisible(true);\n    \n    nSwimmer.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            frame.setVisible(false);\n            NewSwimmerForm w2 = new NewSwimmerForm();\n            w2.showWindow();\n        }   \n    });\n    \n    cSwimmer.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            frame.setVisible(false);\n            CurrentSwimmer w2_1 = new CurrentSwimmer();\n            w2_1.showWindow();\n        }   \n    });\n    \n    coach.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            frame.setVisible(false);\n            NewSwimmerForm w2 = new NewSwimmerForm();\n            w2.showWindow();\n        }   \n    });\n    \n    equipment.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            frame.setVisible(false);\n            NewSwimmerForm w2 = new NewSwimmerForm();\n            w2.showWindow();\n        }   \n    });\n    \n    frame.setVisible(true);\n}    \n\n    public static void main (String[] args) {\n        showWindow();\n    }\n}\n\n</code></pre>\n<p>And below is the code that the cSwimmer button will take you to upon clicking the cSwimmer button:</p>\n<pre><code>package finalProject; \n\nimport finalProject.FrontInterface;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.io.*;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\npublic class CurrentSwimmer extends JPanel {\nprivate static JTextArea informationHeader;\n\npublic static void showWindow(){\n    try{\n     File file = new File(&quot;C:\\\\Users\\\\trent\\\\Desktop\\\\Intro to Computer Science\\\\Eclipse Codes\\\\FinalProject\\\\src\\\\finalProject\\\\history.txt&quot;);\n       System.out.println(file.getCanonicalPath());\n       FileInputStream ft = new FileInputStream(file);\n\n       DataInputStream in = new DataInputStream(ft);\n       BufferedReader br = new BufferedReader(new InputStreamReader(in));\n       String strline;\n\n       while((strline = br.readLine()) != null){\n           System.out.println(strline);\n       }\n       in.close();\n   }catch(Exception e){\n       System.err.println(&quot;Error: &quot; + e.getMessage());\n       \n   }\n}\n    public static void main(String [] args) {               \n    showWindow(); \n    }\n}\n</code></pre>\n<p>Now, I am completely unsure of how to go about my situation, whether it be I display the information from the .txt file onto a jTextArea or if I should just create a method to make a .txt file open externally and replace the pop up window I would otherwise have with the writing to JTextArea.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670879660,"post_id":74771299,"comment_id":131971424,"body_markdown":"`jaas.options` [isn&#39;t a valid config, by the way](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties)","body":"<code>jaas.options</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">isn&#39;t a valid config, by the way</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670879554,"creation_date":1670879554,"answer_id":74777369,"question_id":74771299,"body_markdown":"This isn&#39;t how Kafka works. Clients always send to the leader broker. Leaders can exist on any rack, and clients cannot control where they send data other than that leader first, and then configure `acks` to allow for replication to other followers on other racks. \r\n\r\nAlso, `client.rack` is a string, not a list. ","title":"How to send Kafka message to multiple client racks?","body":"<p>This isn't how Kafka works. Clients always send to the leader broker. Leaders can exist on any rack, and clients cannot control where they send data other than that leader first, and then configure <code>acks</code> to allow for replication to other followers on other racks.</p>\n<p>Also, <code>client.rack</code> is a string, not a list.</p>\n"}],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670879554,"creation_date":1670849103,"question_id":74771299,"body_markdown":"I have a Spring Boot Application that uses kafka to produce and consume messages to/from other applications.\r\n\r\nI implemented a new producer whose messages should be sent to different clients located in different development servers. Kafka configuration it&#39;s specificated in the application.yml of the project. This was the previous configuration:\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: server.a:port\r\n        producer:\r\n          properties:\r\n            client.rack: server.a\r\n        consumer:\r\n          clientId: a-client-id\r\n          groupId: a-group-id\r\n          properties:\r\n            client.rack: server.a\r\n        jaas:\r\n          options:\r\n            username: an-username\r\n            password: a-password\r\n\r\nNow with the new producer I need to produce message to a second server, `server.b` so:\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: \r\n          - server.a:port\r\n          - server.b:port\r\n        producer:\r\n          properties:\r\n            client.rack: \r\n              - server.a\r\n              - server.b\r\n        consumer:\r\n          clientId: a-client-id\r\n          groupId: a-group-id\r\n          properties:\r\n            client.rack: server.a\r\n        jaas:\r\n          options:\r\n            username: an-username\r\n            password: a-password\r\n\r\nHowever, this seems to be sending the produced messages to `server.b` only.\r\n\r\nI&#39;m not sure if my config it&#39;s wrong or not. As far as I read this seems to be the properly way of doing it but, obviously, I did something wrong because it&#39;s not working. Bit lost here.\r\n\r\n\r\n","title":"How to send Kafka message to multiple client racks?","body":"<p>I have a Spring Boot Application that uses kafka to produce and consume messages to/from other applications.</p>\n<p>I implemented a new producer whose messages should be sent to different clients located in different development servers. Kafka configuration it's specificated in the application.yml of the project. This was the previous configuration:</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: server.a:port\n    producer:\n      properties:\n        client.rack: server.a\n    consumer:\n      clientId: a-client-id\n      groupId: a-group-id\n      properties:\n        client.rack: server.a\n    jaas:\n      options:\n        username: an-username\n        password: a-password\n</code></pre>\n<p>Now with the new producer I need to produce message to a second server, <code>server.b</code> so:</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: \n      - server.a:port\n      - server.b:port\n    producer:\n      properties:\n        client.rack: \n          - server.a\n          - server.b\n    consumer:\n      clientId: a-client-id\n      groupId: a-group-id\n      properties:\n        client.rack: server.a\n    jaas:\n      options:\n        username: an-username\n        password: a-password\n</code></pre>\n<p>However, this seems to be sending the produced messages to <code>server.b</code> only.</p>\n<p>I'm not sure if my config it's wrong or not. As far as I read this seems to be the properly way of doing it but, obviously, I did something wrong because it's not working. Bit lost here.</p>\n"},{"tags":["java","odt","odftoolkit"],"comments":[{"owner":{"account_id":14749116,"reputation":11,"user_id":10651698,"display_name":"Hassan Ahmad"},"score":0,"creation_date":1622113388,"post_id":67676237,"comment_id":119699884,"body_markdown":"For those looking for answer to this questions, I did not find any specific method in the documentation which gives you specific page of odt file using pure java open source solution. Since I needed a free solution, it did not work out for me.","body":"For those looking for answer to this questions, I did not find any specific method in the documentation which gives you specific page of odt file using pure java open source solution. Since I needed a free solution, it did not work out for me."}],"answers":[{"tags":[],"owner":{"account_id":24077624,"reputation":72,"user_id":18052690,"display_name":"Raboro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670879295,"creation_date":1670879295,"answer_id":74777329,"question_id":67676237,"body_markdown":"The problem is that in OdfToolkit .odt implementation there is only one page. Sure the page count could be 10 or whatever the &quot;real&quot; page counter may look like in your program e.g. LibreOffice. But OdfToolkit sees all text as one page. \r\nThat means you can get the number of pages but you need to access the text of all pages not over there pages.","title":"get specific page of .odt document using java (odftoolkit)","body":"<p>The problem is that in OdfToolkit .odt implementation there is only one page. Sure the page count could be 10 or whatever the &quot;real&quot; page counter may look like in your program e.g. LibreOffice. But OdfToolkit sees all text as one page.\nThat means you can get the number of pages but you need to access the text of all pages not over there pages.</p>\n"}],"owner":{"account_id":14749116,"reputation":11,"user_id":10651698,"display_name":"Hassan Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670879295,"creation_date":1621876520,"question_id":67676237,"body_markdown":"```java\r\nOdfDocument odfDocument = OdfDocument.loadDocument(in);\r\n \r\nint pages =  odfDocument.getOfficeMetadata().getDocumentStatistic().getPageCount();\r\n```\r\n\r\n \r\nI am getting the total pages, but can&#39;t find a solution to get specific page of `.odt` document. Can you propose an approach for this?  \r\nI am trying to find a solution using `odftoolkit`. Read the documentation but did not find any helper method that gives a specific page of `.odt` document.","title":"get specific page of .odt document using java (odftoolkit)","body":"<pre class=\"lang-java prettyprint-override\"><code>OdfDocument odfDocument = OdfDocument.loadDocument(in);\n \nint pages =  odfDocument.getOfficeMetadata().getDocumentStatistic().getPageCount();\n</code></pre>\n<p>I am getting the total pages, but can't find a solution to get specific page of <code>.odt</code> document. Can you propose an approach for this?<br />\nI am trying to find a solution using <code>odftoolkit</code>. Read the documentation but did not find any helper method that gives a specific page of <code>.odt</code> document.</p>\n"},{"tags":["java","android","validation","android-studio"],"comments":[{"owner":{"account_id":6912230,"reputation":664,"user_id":5307644,"accept_rate":67,"display_name":"Neil"},"score":0,"creation_date":1444619133,"post_id":33072569,"comment_id":53963150,"body_markdown":"Actually there are some libs already https://github.com/vekexasia/android-edittext-validator and https://github.com/thyrlian/AwesomeValidation","body":"Actually there are some libs already <a href=\"https://github.com/vekexasia/android-edittext-validator\" rel=\"nofollow noreferrer\">github.com/vekexasia/android-edittext-validator</a> and <a href=\"https://github.com/thyrlian/AwesomeValidation\" rel=\"nofollow noreferrer\">github.com/thyrlian/AwesomeValidation</a>"}],"answers":[{"tags":[],"owner":{"account_id":5036059,"reputation":3632,"user_id":4044787,"accept_rate":78,"display_name":"Randyka Yudhistira"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1511530182,"creation_date":1444618847,"answer_id":33072633,"question_id":33072569,"body_markdown":"This java class implements a `TextWatcher` to &quot;watch&quot; your edit text, watching any changes done to the text: \r\n\r\n    public abstract class TextValidator implements TextWatcher {\r\n        private final TextView textView;\r\n    \r\n        public TextValidator(TextView textView) {\r\n            this.textView = textView;\r\n        }\r\n    \r\n        public abstract void validate(TextView textView, String text);\r\n    \r\n        @Override\r\n        final public void afterTextChanged(Editable s) {\r\n            String text = textView.getText().toString();\r\n            validate(textView, text);\r\n        }\r\n    \r\n        @Override\r\n        final public void \r\n        beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n             /* Needs to be implemented, but we are not using it. */ \r\n        }\r\n    \r\n        @Override\r\n        final public void \r\n        onTextChanged(CharSequence s, int start, int before, int count) { \r\n             /* Needs to be implemented, but we are not using it. */    \r\n        }\r\n    }\r\n\r\nAnd in your `EditText`, you can set that text watcher to its listener\r\n\r\n    editText.addTextChangedListener(new TextValidator(editText) {\r\n        @Override public void validate(TextView textView, String text) {\r\n           /* Insert your validation rules here */\r\n        }\r\n    });","title":"Best Practice: Input Validation (Android)","body":"<p>This java class implements a <code>TextWatcher</code> to \"watch\" your edit text, watching any changes done to the text: </p>\n\n<pre><code>public abstract class TextValidator implements TextWatcher {\n    private final TextView textView;\n\n    public TextValidator(TextView textView) {\n        this.textView = textView;\n    }\n\n    public abstract void validate(TextView textView, String text);\n\n    @Override\n    final public void afterTextChanged(Editable s) {\n        String text = textView.getText().toString();\n        validate(textView, text);\n    }\n\n    @Override\n    final public void \n    beforeTextChanged(CharSequence s, int start, int count, int after) {\n         /* Needs to be implemented, but we are not using it. */ \n    }\n\n    @Override\n    final public void \n    onTextChanged(CharSequence s, int start, int before, int count) { \n         /* Needs to be implemented, but we are not using it. */    \n    }\n}\n</code></pre>\n\n<p>And in your <code>EditText</code>, you can set that text watcher to its listener</p>\n\n<pre><code>editText.addTextChangedListener(new TextValidator(editText) {\n    @Override public void validate(TextView textView, String text) {\n       /* Insert your validation rules here */\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":963522,"reputation":1112,"user_id":3767684,"accept_rate":25,"display_name":"PinoyCoder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444619208,"creation_date":1444619208,"answer_id":33072670,"question_id":33072569,"body_markdown":"One approach (which I am using) is you should have a helper for validating inputs such as:\r\n\r\n1. Nullity (or emptiness)\r\n2. Dates\r\n3. Passwords\r\n4. Emails\r\n5. Numerical values\r\n6. and others\r\n\r\nhere&#39;s an exerpt from my ValidationHelper class:\r\n\r\n    public class InputValidatorHelper {\r\n    \tpublic boolean isValidEmail(String string){\r\n    \t\tfinal String EMAIL_PATTERN = &quot;^[_A-Za-z0-9-\\\\+]+(\\\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\\\.[A-Za-z0-9]+)*(\\\\.[A-Za-z]{2,})$&quot;;\r\n    \t\tPattern pattern = Pattern.compile(EMAIL_PATTERN);\r\n    \t\tMatcher matcher = pattern.matcher(string);\r\n    \t\treturn matcher.matches();\r\n    \t}\r\n    \r\n    \tpublic boolean isValidPassword(String string, boolean allowSpecialChars){\r\n    \t\tString PATTERN;\r\n    \t\tif(allowSpecialChars){\r\n    \t\t\t//PATTERN = &quot;((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})&quot;;\r\n    \t\t\tPATTERN = &quot;^[a-zA-Z@#$%]\\\\w{5,19}$&quot;;\r\n    \t\t}else{\r\n    \t\t\t//PATTERN = &quot;((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20})&quot;;\r\n    \t\t\tPATTERN = &quot;^[a-zA-Z]\\\\w{5,19}$&quot;;\r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \t\tPattern pattern = Pattern.compile(PATTERN);\r\n    \t\tMatcher matcher = pattern.matcher(string);\r\n    \t\treturn matcher.matches();\r\n    \t}\r\n    \r\n    \tpublic boolean isNullOrEmpty(String string){\r\n    \t\treturn TextUtils.isEmpty(string);\r\n    \t}\r\n    \r\n    \tpublic boolean isNumeric(String string){\r\n    \t\treturn TextUtils.isDigitsOnly(string);\r\n    \t}\r\n    \r\n        //Add more validators here if necessary\r\n    }\r\n\r\nNow the way I use this class is this:\r\n\r\n\r\n    \r\n\r\n    InputValidatorHelper inputValidatorHelper = new InputValidatorHelper();\r\n    StringBuilder errMsg = new StringBuilder(&quot;Unable to save. Please fix the following errors and try again.\\n&quot;);\r\n    //Validate and Save\r\n    boolean allowSave = true;\r\n    if (user.getEmail() == null &amp;&amp; !inputValidatorHelper.isValidEmail(user_email)) {\r\n    \terrMsg.append(&quot;- Invalid email address.\\n&quot;);\r\n    \tallowSave = false;\r\n    }\r\n    \r\n    if (inputValidatorHelper.isNullOrEmpty(user_first_name)) {\r\n    \terrMsg.append(&quot;- First name should not be empty.\\n&quot;);\r\n    \tallowSave = false;\r\n    }\r\n    \r\n    if(allowSave){\r\n        //Proceed with your save logic here\r\n    }\r\n\r\nYou can call your validation by using `TextWatcher` which is attached via `EditText#addTextChangedListener`\r\n\r\nexample:\r\n\r\n    txtName.addTextChangedListener(new TextWatcher() {\r\n    \t@Override\r\n    \tpublic void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \t\t//Do nothing\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterTextChanged(Editable s) {\r\n    \t\tvalidate();\r\n    \t}\r\n    });","title":"Best Practice: Input Validation (Android)","body":"<p>One approach (which I am using) is you should have a helper for validating inputs such as:</p>\n\n<ol>\n<li>Nullity (or emptiness)</li>\n<li>Dates</li>\n<li>Passwords</li>\n<li>Emails</li>\n<li>Numerical values</li>\n<li>and others</li>\n</ol>\n\n<p>here's an exerpt from my ValidationHelper class:</p>\n\n<pre><code>public class InputValidatorHelper {\n    public boolean isValidEmail(String string){\n        final String EMAIL_PATTERN = \"^[_A-Za-z0-9-\\\\+]+(\\\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\\\.[A-Za-z0-9]+)*(\\\\.[A-Za-z]{2,})$\";\n        Pattern pattern = Pattern.compile(EMAIL_PATTERN);\n        Matcher matcher = pattern.matcher(string);\n        return matcher.matches();\n    }\n\n    public boolean isValidPassword(String string, boolean allowSpecialChars){\n        String PATTERN;\n        if(allowSpecialChars){\n            //PATTERN = \"((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})\";\n            PATTERN = \"^[a-zA-Z@#$%]\\\\w{5,19}$\";\n        }else{\n            //PATTERN = \"((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20})\";\n            PATTERN = \"^[a-zA-Z]\\\\w{5,19}$\";\n        }\n\n\n\n        Pattern pattern = Pattern.compile(PATTERN);\n        Matcher matcher = pattern.matcher(string);\n        return matcher.matches();\n    }\n\n    public boolean isNullOrEmpty(String string){\n        return TextUtils.isEmpty(string);\n    }\n\n    public boolean isNumeric(String string){\n        return TextUtils.isDigitsOnly(string);\n    }\n\n    //Add more validators here if necessary\n}\n</code></pre>\n\n<p>Now the way I use this class is this:</p>\n\n<pre><code>InputValidatorHelper inputValidatorHelper = new InputValidatorHelper();\nStringBuilder errMsg = new StringBuilder(\"Unable to save. Please fix the following errors and try again.\\n\");\n//Validate and Save\nboolean allowSave = true;\nif (user.getEmail() == null &amp;&amp; !inputValidatorHelper.isValidEmail(user_email)) {\n    errMsg.append(\"- Invalid email address.\\n\");\n    allowSave = false;\n}\n\nif (inputValidatorHelper.isNullOrEmpty(user_first_name)) {\n    errMsg.append(\"- First name should not be empty.\\n\");\n    allowSave = false;\n}\n\nif(allowSave){\n    //Proceed with your save logic here\n}\n</code></pre>\n\n<p>You can call your validation by using <code>TextWatcher</code> which is attached via <code>EditText#addTextChangedListener</code></p>\n\n<p>example:</p>\n\n<pre><code>txtName.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n        //Do nothing\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n    }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n        validate();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19572651,"reputation":1,"user_id":14323444,"display_name":"Asiman Aghayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670879043,"creation_date":1670284480,"answer_id":74695744,"question_id":33072569,"body_markdown":"I think in order to handle it in a clean way, each view should keep their validation logic and their **valid** status. We shouldn&#39;t use same code lines in each screen. \r\n\r\nFor ex: if you have a phone number field, you shouldn&#39;t write its validation logic in every screen. You can create a custom view for phone field and keep its validation logic inside that custom view. By this you will get rid of field validation in each screen\r\nBut it is not finished yet, you can also handle on valid state inside your custom button view. By this you will eliminate duplicate lines of valid state handling from your screens.\r\nAnd at last you need to just a logic to introduce input fields to your button\r\n\r\nI have extracted all these logic as a [lib](https://github.com/asimanaghayev/Validator) and added simple demo for its usage.\r\n\r\n\r\n\r\nTo use it you need to just implement an interface in your custom input views and another interface in your custom button.\r\nThen you can bind all inputs to your button with one line of code in each screen\r\n\r\n[Demo.gif](https://github.com/asimanaghayev/Validator/blob/master/media/Demo.gif)\r\n\r\n**Usage**\r\n\r\n**For Input Field:** You need to implement `Validatable` interface in your input field. 2 methods will be implemented in here. \r\nIn this example our custom input view extends `AppCompatEditText`\r\n\r\n```kotlin\r\n/**\r\n * Validity State of View\r\n * In here input field is valid if any text is entered\r\n * */\r\noverride val isValid: Boolean\r\n    get() = length() &gt; 0\r\n\r\n/**\r\n * Informing Validator about change in input field\r\n * In here we are rechecking validity every time on after text change\r\n * */\r\noverride fun setupValidationListener(validator: Validator?) {\r\n    addTextChangedListener(object : TextWatcher {\r\n        override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\r\n\r\n        override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\r\n\r\n        /**\r\n         * To inform Validator view is changed\r\n         * */\r\n        override fun afterTextChanged(p0: Editable?) {\r\n            validator?.checkAll()\r\n        }\r\n    })\r\n}\r\n```\r\n\r\n&lt;hr&gt;\r\n&lt;br&gt;\r\n&lt;b&gt;For Output view(Button in most cases):&lt;/b&gt; You need to implement Verifier interface which handles onValid state of button. This method will be invoked if every input in page is valid.\r\n\r\n```kotlin\r\n/**\r\n *  Enabling button if validator informs that all inputs are valid\r\n */\r\noverride fun onValid(isValid: Boolean) {\r\n    isEnabled = isValid\r\n}\r\n```\r\n\r\n&lt;hr&gt;  \r\n&lt;br&gt;  \r\n&lt;b&gt;Binding input and output views:&lt;/b&gt; You have add this line to your activity/fragment for validation binding. First variable is your Verifier view then you can add all of your Validatable views, there is no Validatable view limit\r\n\r\n```kotlin\r\nValidationBinder.bind(bindind.btnContinue, bindind.inputFirst, bindind.inputSecond)\r\n```","title":"Best Practice: Input Validation (Android)","body":"<p>I think in order to handle it in a clean way, each view should keep their validation logic and their <strong>valid</strong> status. We shouldn't use same code lines in each screen.</p>\n<p>For ex: if you have a phone number field, you shouldn't write its validation logic in every screen. You can create a custom view for phone field and keep its validation logic inside that custom view. By this you will get rid of field validation in each screen\nBut it is not finished yet, you can also handle on valid state inside your custom button view. By this you will eliminate duplicate lines of valid state handling from your screens.\nAnd at last you need to just a logic to introduce input fields to your button</p>\n<p>I have extracted all these logic as a <a href=\"https://github.com/asimanaghayev/Validator\" rel=\"nofollow noreferrer\">lib</a> and added simple demo for its usage.</p>\n<p>To use it you need to just implement an interface in your custom input views and another interface in your custom button.\nThen you can bind all inputs to your button with one line of code in each screen</p>\n<p><a href=\"https://github.com/asimanaghayev/Validator/blob/master/media/Demo.gif\" rel=\"nofollow noreferrer\">Demo.gif</a></p>\n<p><strong>Usage</strong></p>\n<p><strong>For Input Field:</strong> You need to implement <code>Validatable</code> interface in your input field. 2 methods will be implemented in here.\nIn this example our custom input view extends <code>AppCompatEditText</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Validity State of View\n * In here input field is valid if any text is entered\n * */\noverride val isValid: Boolean\n    get() = length() &gt; 0\n\n/**\n * Informing Validator about change in input field\n * In here we are rechecking validity every time on after text change\n * */\noverride fun setupValidationListener(validator: Validator?) {\n    addTextChangedListener(object : TextWatcher {\n        override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\n\n        override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\n\n        /**\n         * To inform Validator view is changed\n         * */\n        override fun afterTextChanged(p0: Editable?) {\n            validator?.checkAll()\n        }\n    })\n}\n</code></pre>\n<hr>\n<br>\n<b>For Output view(Button in most cases):</b> You need to implement Verifier interface which handles onValid state of button. This method will be invoked if every input in page is valid.\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n *  Enabling button if validator informs that all inputs are valid\n */\noverride fun onValid(isValid: Boolean) {\n    isEnabled = isValid\n}\n</code></pre>\n<hr>  \n<br>  \n<b>Binding input and output views:</b> You have add this line to your activity/fragment for validation binding. First variable is your Verifier view then you can add all of your Validatable views, there is no Validatable view limit\n<pre class=\"lang-kotlin prettyprint-override\"><code>ValidationBinder.bind(bindind.btnContinue, bindind.inputFirst, bindind.inputSecond)\n</code></pre>\n"}],"owner":{"account_id":5281940,"reputation":351,"user_id":4216992,"display_name":"Salehin Rafi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35641,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":33072633,"answer_count":3,"score":19,"last_activity_date":1670879043,"creation_date":1444618410,"question_id":33072569,"body_markdown":"I am new to android mobile development (Android Studio native development - for new knowledge). And here I want to ask a question regarding best practice for input validation.\r\nAs far we know, when a developer develop input form. We need to prevent a user from key in a wrong input into the text field. So here is my question,\r\n\r\n1. Can we create one java file for validation purpose only? All input form ,must go to that one validation file only (In case of many input page screen in one apps). If **YES**, how can I get an example/link/tutorial of that technique for my learning study. If **NO**, why?\r\n\r\nFrom my point of view personally, it should have a way to implement the technique. So that we didn&#39;t need to reuse same code all over again for each java file (in term of clean code).  Unfortunately, I didn&#39;t find any example or tutorial for that. Maybe I search a wrong keyword or misread. And if there is no such technique exist, what are the best practice for input validation?\r\n\r\nThank you.\r\n\r\np/s: This thread for find a better way in best practice. Thank you.","title":"Best Practice: Input Validation (Android)","body":"<p>I am new to android mobile development (Android Studio native development - for new knowledge). And here I want to ask a question regarding best practice for input validation.\nAs far we know, when a developer develop input form. We need to prevent a user from key in a wrong input into the text field. So here is my question,</p>\n\n<ol>\n<li>Can we create one java file for validation purpose only? All input form ,must go to that one validation file only (In case of many input page screen in one apps). If <strong>YES</strong>, how can I get an example/link/tutorial of that technique for my learning study. If <strong>NO</strong>, why?</li>\n</ol>\n\n<p>From my point of view personally, it should have a way to implement the technique. So that we didn't need to reuse same code all over again for each java file (in term of clean code).  Unfortunately, I didn't find any example or tutorial for that. Maybe I search a wrong keyword or misread. And if there is no such technique exist, what are the best practice for input validation?</p>\n\n<p>Thank you.</p>\n\n<p>p/s: This thread for find a better way in best practice. Thank you.</p>\n"},{"tags":["java","eclipse","swing","eclipse-plugin","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":27225111,"reputation":15,"user_id":20753731,"display_name":"Mallhw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670879016,"creation_date":1670879016,"answer_id":74777287,"question_id":74776836,"body_markdown":"JPanel sometimes has issues working with other applications. Try uninstalling WindowBuilder and seeing if it works or switch to another IDE","title":"Eclipse WindowBuilder not showing the whole JFrame","body":"<p>JPanel sometimes has issues working with other applications. Try uninstalling WindowBuilder and seeing if it works or switch to another IDE</p>\n"}],"owner":{"account_id":18520902,"reputation":1,"user_id":13493948,"display_name":"&#193;ngel Rodr&#237;guez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670879016,"creation_date":1670876224,"question_id":74776836,"body_markdown":"I installed today the last version of the WindowBuilder add-on on my Eclipse and I keep having this annoying problem where I can&#39;t see the whole JFrame in Desing mode. If I try to resize it, it doesn&#39;t solve it. It&#39;s like if I only had access to see a corner of the JFrame.\r\nI don&#39;t seem to have a problem with JPanels so far.\r\n [Please check the picture to see the problem.][1]\r\n\r\n\r\nI tried reinstalling several times both Eclipse and WindowBuilder but it still doesn&#39;t work. \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tZRMF.png","title":"Eclipse WindowBuilder not showing the whole JFrame","body":"<p>I installed today the last version of the WindowBuilder add-on on my Eclipse and I keep having this annoying problem where I can't see the whole JFrame in Desing mode. If I try to resize it, it doesn't solve it. It's like if I only had access to see a corner of the JFrame.\nI don't seem to have a problem with JPanels so far.\n<a href=\"https://i.stack.imgur.com/tZRMF.png\" rel=\"nofollow noreferrer\">Please check the picture to see the problem.</a></p>\n<p>I tried reinstalling several times both Eclipse and WindowBuilder but it still doesn't work.</p>\n"},{"tags":["java","spring","lambda","idioms","axon"],"comments":[{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":0,"creation_date":1664280609,"post_id":73840398,"comment_id":130430752,"body_markdown":"I think you&#39;ve posted this question on AxonIQ&#39;s forum, too, correct? If so, others can find it here: https://discuss.axoniq.io/t/how-does-the-configuration-of-tokenstore-work/4378","body":"I think you&#39;ve posted this question on AxonIQ&#39;s forum, too, correct? If so, others can find it here: <a href=\"https://discuss.axoniq.io/t/how-does-the-configuration-of-tokenstore-work/4378\" rel=\"nofollow noreferrer\">discuss.axoniq.io/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666492245,"creation_date":1664281391,"answer_id":73867515,"question_id":73840398,"body_markdown":"Let me provide you some insights here, @vonSpots!\r\n\r\n#### Question 1\r\n\r\nThe `config` symbol stands for the input parameter of the `Function`. You can name it whatever you like. Note the type of the configuration method, which expects a `Function&lt;Configuration, TokenStore&gt;`. The first generic in there describes the input parameter of the `Function`, thus a `Configuration` instance. The second generic describes the return value of the `Function`, which should be a `TokenStore` instance. \r\n\r\nBy using [Java&#39;s lambda](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) notation of [input] -&gt; [output], ending up with something called `config` seems feasible given the input type. The component in charge of providing that `config` instance, is the framework itself. \r\n\r\nYou can see this within Axon Framework&#39;s [configuration module][1]. Lastly, it&#39;s worthwhile to note that Axon Framework does not necessitate the use of Spring at all. So, setting the `config` instance is not originating from Spring.\r\n\r\n#### Question 2\r\n\r\nIn the provided sample, there&#39;s no connection between the input and the output. However, Axon Framework defaults to providing the entire `Configuration` object so that the user is able to retrieve Axon components from it to construct other infrastructure components.\r\n\r\nAn example of where this would be useful with the `JpaTokenStore`, is when you need to set the `Serializer`. Axon Framework will set the `Serializer` up within the `Configuration`. Hence, you can retrieve it from Axon&#39;s configuration to construct your component.\r\n\r\n#### Question 3\r\n\r\nBecause Axon Framework does its own wiring of *all* components. You can integrate it with Spring if you like, but it does not rely on it at all. Thus, in the face of a &quot;pure&quot; Java configuration, you need to have some collecting component, the `Configuration`, to retrieve everything from. You could almost see it as the Application Context from Spring.\r\n\r\nFurthermore, Axon Framework chooses to have users register lambdas instead of concrete objects to ensure components are constructed and wired in the right order.\r\n\r\nAxon Framework has many moving components, with objects like the `CommandBus`, `EventProcessors`, `TokenStores`, and `DeadlineManager`, not forgetting to mention the Message Handling Components users wire into it themselves. By having end users provide a lambda, the framework can decide *when* to invoke the lambda.\r\n\r\nThis allows the framework to ensure all required components are in place _before_ a, in your sample, `TrackingEventProcessor` can utilize the `TokenStore`.\r\n\r\n\r\n  [1]: https://github.com/AxonFramework/AxonFramework/tree/master/config/src/main/java/org/axonframework/config","title":"Understanding an Axon library&#39;s Java Idiom involving Interface method and Lambda expression for configuration of TokenStore","body":"<p>Let me provide you some insights here, @vonSpots!</p>\n<h4>Question 1</h4>\n<p>The <code>config</code> symbol stands for the input parameter of the <code>Function</code>. You can name it whatever you like. Note the type of the configuration method, which expects a <code>Function&lt;Configuration, TokenStore&gt;</code>. The first generic in there describes the input parameter of the <code>Function</code>, thus a <code>Configuration</code> instance. The second generic describes the return value of the <code>Function</code>, which should be a <code>TokenStore</code> instance.</p>\n<p>By using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Java's lambda</a> notation of [input] -&gt; [output], ending up with something called <code>config</code> seems feasible given the input type. The component in charge of providing that <code>config</code> instance, is the framework itself.</p>\n<p>You can see this within Axon Framework's <a href=\"https://github.com/AxonFramework/AxonFramework/tree/master/config/src/main/java/org/axonframework/config\" rel=\"nofollow noreferrer\">configuration module</a>. Lastly, it's worthwhile to note that Axon Framework does not necessitate the use of Spring at all. So, setting the <code>config</code> instance is not originating from Spring.</p>\n<h4>Question 2</h4>\n<p>In the provided sample, there's no connection between the input and the output. However, Axon Framework defaults to providing the entire <code>Configuration</code> object so that the user is able to retrieve Axon components from it to construct other infrastructure components.</p>\n<p>An example of where this would be useful with the <code>JpaTokenStore</code>, is when you need to set the <code>Serializer</code>. Axon Framework will set the <code>Serializer</code> up within the <code>Configuration</code>. Hence, you can retrieve it from Axon's configuration to construct your component.</p>\n<h4>Question 3</h4>\n<p>Because Axon Framework does its own wiring of <em>all</em> components. You can integrate it with Spring if you like, but it does not rely on it at all. Thus, in the face of a &quot;pure&quot; Java configuration, you need to have some collecting component, the <code>Configuration</code>, to retrieve everything from. You could almost see it as the Application Context from Spring.</p>\n<p>Furthermore, Axon Framework chooses to have users register lambdas instead of concrete objects to ensure components are constructed and wired in the right order.</p>\n<p>Axon Framework has many moving components, with objects like the <code>CommandBus</code>, <code>EventProcessors</code>, <code>TokenStores</code>, and <code>DeadlineManager</code>, not forgetting to mention the Message Handling Components users wire into it themselves. By having end users provide a lambda, the framework can decide <em>when</em> to invoke the lambda.</p>\n<p>This allows the framework to ensure all required components are in place <em>before</em> a, in your sample, <code>TrackingEventProcessor</code> can utilize the <code>TokenStore</code>.</p>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670878768,"creation_date":1664051546,"question_id":73840398,"body_markdown":"I have a question on Java Syntax on lambda expressions and the [java.util.function.Function](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html) Object. Also probably Spring Dependency Injection. It is an idiom that I don&#39;t know and I hope somebody can explain it to me. I know (probably only the basics) about that idiom of generic`@FunctionalInterface(s)` and &quot;implementations&quot; through lambda expressions. This use-case seems similar, but still different. \r\n\r\nIn the example, the `Function&lt;T,R&gt;`-Object is the Type of a parameter of a method of a configuration class with a parameter name. The argument is the lambda expression `config -&gt; tokenStore`. \r\n\r\nBut please look at the information provided below. Here are my questions.\r\n\r\n1. What config is passed as the argument? There is no &quot;config&quot; symbol there. So I guess it is injected by the Spring IoC Container. \r\n2. And what it obviously returns is the symbol `tokenStore` that is bound to an `org.axonframework.eventhandling.tokenstore.TokenStore` Instance created by the`JpaTokenStore#build` method. There is no connection to the `config` argument. Or is there? \r\n3. To sum it up: Just &quot;Why?&quot; Why are you passing a lambda expression where there is no obvious (to me) connection between the argument and the return value and why are you passing a Function-placeholder to an Interface-method - how do you call it... the head of the method? Ultimately: What is *that* doing because to someone like me who obviously doesn&#39;t know the idiom it looks like the answer is: nothing ?\r\n\r\n\r\n\r\nSo, there is this example on how to configure a `TokenStore` from the Axon Framework and I would like to understand how it works:\r\n\r\n    public class AxonConfig { \r\n        // ...\r\n        public void registerTokenStore(EventProcessingConfigurer processingConfigurer) {\r\n            TokenStore tokenStore = JpaTokenStore.builder()\r\n                                                 // \r\n                                                 .build();\r\n        \r\n            processingConfigurer.registerTokenStore(config -&gt; tokenStore);\r\n        }\r\n    }\r\n\r\nsource: https://docs.axoniq.io/reference-guide/axon-framework/events/event-processors/streaming#token-store\r\n\r\nAnd here is the source code for the [EventProcessingConfigurer#registerTokenStore (GitHub)](https://github.com/AxonFramework/AxonFramework/blob/master/config/src/main/java/org/axonframework/config/EventProcessingConfigurer.java#L233) method.\r\n\r\n    public interface EventProcessingConfigurer {\r\n    \r\n    // ...\r\n    \r\n       EventProcessingConfigurer registerTokenStore(Function&lt;Configuration, TokenStore&gt; tokenStore);\r\n    \r\n    // ...\r\n    \r\n    }\r\n\r\nIncidentally, can I pass in an argument for the code block to tell the forum software which language it is?\r\n","title":"Understanding an Axon library&#39;s Java Idiom involving Interface method and Lambda expression for configuration of TokenStore","body":"<p>I have a question on Java Syntax on lambda expressions and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">java.util.function.Function</a> Object. Also probably Spring Dependency Injection. It is an idiom that I don't know and I hope somebody can explain it to me. I know (probably only the basics) about that idiom of generic<code>@FunctionalInterface(s)</code> and &quot;implementations&quot; through lambda expressions. This use-case seems similar, but still different.</p>\n<p>In the example, the <code>Function&lt;T,R&gt;</code>-Object is the Type of a parameter of a method of a configuration class with a parameter name. The argument is the lambda expression <code>config -&gt; tokenStore</code>.</p>\n<p>But please look at the information provided below. Here are my questions.</p>\n<ol>\n<li>What config is passed as the argument? There is no &quot;config&quot; symbol there. So I guess it is injected by the Spring IoC Container.</li>\n<li>And what it obviously returns is the symbol <code>tokenStore</code> that is bound to an <code>org.axonframework.eventhandling.tokenstore.TokenStore</code> Instance created by the<code>JpaTokenStore#build</code> method. There is no connection to the <code>config</code> argument. Or is there?</li>\n<li>To sum it up: Just &quot;Why?&quot; Why are you passing a lambda expression where there is no obvious (to me) connection between the argument and the return value and why are you passing a Function-placeholder to an Interface-method - how do you call it... the head of the method? Ultimately: What is <em>that</em> doing because to someone like me who obviously doesn't know the idiom it looks like the answer is: nothing ?</li>\n</ol>\n<p>So, there is this example on how to configure a <code>TokenStore</code> from the Axon Framework and I would like to understand how it works:</p>\n<pre><code>public class AxonConfig { \n    // ...\n    public void registerTokenStore(EventProcessingConfigurer processingConfigurer) {\n        TokenStore tokenStore = JpaTokenStore.builder()\n                                             // \n                                             .build();\n    \n        processingConfigurer.registerTokenStore(config -&gt; tokenStore);\n    }\n}\n</code></pre>\n<p>source: <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/events/event-processors/streaming#token-store\" rel=\"nofollow noreferrer\">https://docs.axoniq.io/reference-guide/axon-framework/events/event-processors/streaming#token-store</a></p>\n<p>And here is the source code for the <a href=\"https://github.com/AxonFramework/AxonFramework/blob/master/config/src/main/java/org/axonframework/config/EventProcessingConfigurer.java#L233\" rel=\"nofollow noreferrer\">EventProcessingConfigurer#registerTokenStore (GitHub)</a> method.</p>\n<pre><code>public interface EventProcessingConfigurer {\n\n// ...\n\n   EventProcessingConfigurer registerTokenStore(Function&lt;Configuration, TokenStore&gt; tokenStore);\n\n// ...\n\n}\n</code></pre>\n<p>Incidentally, can I pass in an argument for the code block to tell the forum software which language it is?</p>\n"},{"tags":["java","object","if-statement","merge","void"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670877498,"post_id":74776846,"comment_id":131970672,"body_markdown":"Those are methods, not objects. &quot;How&quot; do you want to merge them? Do you want to execute them sequentially? Interleaved? In random order? Nested? Something else? We don&#39;t really know what your expected result is and why you cannot append the body of `verifyRoom3` to the body of `verifyRoom2`.","body":"Those are methods, not objects. &quot;How&quot; do you want to merge them? Do you want to execute them sequentially? Interleaved? In random order? Nested? Something else? We don&#39;t really know what your expected result is and why you cannot append the body of <code>verifyRoom3</code> to the body of <code>verifyRoom2</code>."},{"owner":{"account_id":26262518,"reputation":1,"user_id":19933597,"display_name":"user19933597"},"score":0,"creation_date":1670877897,"post_id":74776846,"comment_id":131970814,"body_markdown":"Thank you for correcting me, I just started Java and it`s my first ever project... Wil try, thanks!","body":"Thank you for correcting me, I just started Java and it`s my first ever project... Wil try, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670878368,"creation_date":1670878368,"answer_id":74777184,"question_id":74776846,"body_markdown":"I&#39;m writing an answer because a comment is a too small. What about changing the signature.\r\n\r\n    public boolean verifyRoom2(){\r\n        return number.trim().startsWith(&quot;00&quot;) || number.trim().startsWith(&quot;99&quot;));\r\n    }\r\n\r\n    public boolean verifyRoom3() {\r\n         return (&#39;A&#39; == number.charAt(2) || (&#39;B&#39; == number.charAt(2)) || (&#39;C&#39; == number.charAt(2))); \r\n    }\r\n\r\nNow you can test both methods. (this could be your &quot;merged&quot; method)\r\n\r\n    if( verifyRoom2() &amp;&amp; verifyRoom3() ){\r\n        System.out.println(&quot;valid&quot;);\r\n    } else{\r\n        System.out.println(&quot;at least one room is invalid.&quot;);\r\n    }\r\n\r\nIt&#39;s odd that you use `.trim()` in one method, and not in the other.","title":"How can I merge two methods sequentially in a single one?","body":"<p>I'm writing an answer because a comment is a too small. What about changing the signature.</p>\n<pre><code>public boolean verifyRoom2(){\n    return number.trim().startsWith(&quot;00&quot;) || number.trim().startsWith(&quot;99&quot;));\n}\n\npublic boolean verifyRoom3() {\n     return ('A' == number.charAt(2) || ('B' == number.charAt(2)) || ('C' == number.charAt(2))); \n}\n</code></pre>\n<p>Now you can test both methods. (this could be your &quot;merged&quot; method)</p>\n<pre><code>if( verifyRoom2() &amp;&amp; verifyRoom3() ){\n    System.out.println(&quot;valid&quot;);\n} else{\n    System.out.println(&quot;at least one room is invalid.&quot;);\n}\n</code></pre>\n<p>It's odd that you use <code>.trim()</code> in one method, and not in the other.</p>\n"}],"owner":{"account_id":26262518,"reputation":1,"user_id":19933597,"display_name":"user19933597"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670878368,"creation_date":1670876301,"question_id":74776846,"body_markdown":"Good afternoon ! Here I have  2 Java objects in a class, but I have no clue how can I merge them together, so in the end result the will be just one single public void verifyRoom2() object... \r\n`\r\n```\r\npublic void verifyRoom2()\r\n    {\r\n        if (number.trim().startsWith(&quot;00&quot;) || number.trim().startsWith(&quot;99&quot;)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;not valid&quot;);\r\n        }\r\n    }\r\n    \r\n    public void verifyRoom3() {\r\n         if (&#39;A&#39; == number.charAt(2) || (&#39;B&#39; == number.charAt(2)) || (&#39;C&#39; == number.charAt(2))) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;not valid&quot;);\r\n        }\r\n    }\r\n```\r\n`\r\nMany thanks everyone ! &lt;3\r\n\r\nI tried to merge these methods sequentially together so at the end result there will be just one single public void verifyRoom2() method. ","title":"How can I merge two methods sequentially in a single one?","body":"<p>Good afternoon ! Here I have  2 Java objects in a class, but I have no clue how can I merge them together, so in the end result the will be just one single public void verifyRoom2() object...\n`</p>\n<pre><code>public void verifyRoom2()\n    {\n        if (number.trim().startsWith(&quot;00&quot;) || number.trim().startsWith(&quot;99&quot;)) {\n            System.out.println(&quot;valid&quot;);\n        }\n        else {\n            System.out.println(&quot;not valid&quot;);\n        }\n    }\n    \n    public void verifyRoom3() {\n         if ('A' == number.charAt(2) || ('B' == number.charAt(2)) || ('C' == number.charAt(2))) {\n            System.out.println(&quot;valid&quot;);\n        }\n        else {\n            System.out.println(&quot;not valid&quot;);\n        }\n    }\n</code></pre>\n<p>`\nMany thanks everyone ! &lt;3</p>\n<p>I tried to merge these methods sequentially together so at the end result there will be just one single public void verifyRoom2() method.</p>\n"},{"tags":["java","android","ftp"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1670880344,"post_id":74776833,"comment_id":131971616,"body_markdown":"Post complete exception callstack + [Log file](https://stackoverflow.com/q/53426062/850848) + Log file of any commandline/GUI FTP client application that can successfully upload the file from the *same machine*, where your Java code fails.","body":"Post complete exception callstack + <a href=\"https://stackoverflow.com/q/53426062/850848\">Log file</a> + Log file of any commandline/GUI FTP client application that can successfully upload the file from the <i>same machine</i>, where your Java code fails."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1671783381,"post_id":74776833,"comment_id":132174949,"body_markdown":"If you want a help, you will have to give us the information I&#39;ve asked for.","body":"If you want a help, you will have to give us the information I&#39;ve asked for."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670878348,"creation_date":1670878348,"answer_id":74777177,"question_id":74776833,"body_markdown":"You call logout() after disconnect().","title":"Java Android Upload image to server FTPClient - Error 501 PASV: Operation not permitted","body":"<p>You call logout() after disconnect().</p>\n"}],"owner":{"account_id":27232329,"reputation":1,"user_id":20759848,"display_name":"Sergio Lopez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670878348,"creation_date":1670876211,"question_id":74776833,"body_markdown":"When trying to upload the image to the server\r\n\r\n`clientFtp.getReplyCode()`\r\n\r\nreturns the value of 501 and\r\n\r\n`clientFtp.getReplyString()`\r\n\r\nreturns **501 PASV: Operation not permitted**, it reaches the validation of\r\n\r\n`FTPReply.isPositiveCompletion`\r\n\r\nand it returns false for which does not let me move forward, it disconnects the clientFtp and the image does not upload.\r\nIt then continues to close the input and when it reaches\r\n\r\n`clientFtp.logout()`\r\n\r\nThis throws me into the catch and prints the following error in the Log **java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.BufferedWriter.write(java.lang.String)&#39; on a null object reference**\r\nThe strange thing is that I try it with several devices and 99% if it works and 1% throws me these errors, my code is here;\r\n\r\n```\r\npublic static class uploadFileFtp extends AsyncTask&lt;String, Integer, Boolean&gt; {\r\n\r\n        String absolutePath;\r\n        String imagename;\r\n        String binder;\r\n        String idContrato;\r\n\r\n        public uploadFileFtp(String absolutePath, String imagename, String binder, String idContrato) {\r\n            this.absolutePath = absolutePath;\r\n            this.imagename = imagename;\r\n            this.binder = binder;\r\n            this.idContrato = idContrato;\r\n        }\r\n\r\n        @Override\r\n        protected Boolean doInBackground(String... strings) {\r\n\r\n            FTPClient clientFtp = null;\r\n            try{\r\n\r\n                clientFtp = new FTPClient();\r\n\r\n                clientFtp.connect(keys.hostname,keys.port);\r\n                clientFtp.setSoTimeout(10000);\r\n                clientFtp.enterLocalPassiveMode();\r\n                if(clientFtp.login(keys.username,keys.password)){\r\n                    clientFtp.setFileType(FTP.BINARY_FILE_TYPE);\r\n                    clientFtp.setFileTransferMode(FTP.BINARY_FILE_TYPE);\r\n\r\n                    InputStream input = new FileInputStream(absolutePath);\r\n                    clientFtp.storeFile(&quot;/&quot; + keys.ftp_home_folder + &quot;/&quot; + binder + &quot;/&quot; + imagename, input);\r\n                    int reply = clientFtp.getReplyCode();\r\n                    String replyString = clientFtp.getReplyString();\r\n                    if(!FTPReply.isPositiveCompletion(reply)){\r\n                        clientFtp.disconnect();\r\n                        Log.i(&quot;MESSAGE&quot;,&quot;THE SERVER DID NOT ALLOW TO CONNECT&quot;);\r\n                    }\r\n                    input.close();\r\n                    clientFtp.logout();\r\n                    return true;\r\n                }\r\n                return false;\r\n\r\n            }catch(Exception e){\r\n                global.writeError(e, 97);\r\n                Log.i(&quot;MESSAGE&quot;,&quot;Error: &quot;+e);\r\n                return false;\r\n            }finally {\r\n                if(clientFtp.isConnected()){\r\n                    try{clientFtp.disconnect();}\r\n                    catch(Exception e){\r\n                        global.writeError(e, 98);\r\n                        Log.i(&quot;MESSAGE&quot;,&quot;Error: &quot;+e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Boolean send) {\r\n            if (send) {\r\n                Log.i(&quot;MESSAGE&quot;, &quot;Send&quot;);\r\n            }else {\r\n                Log.i(&quot;MESSAGE&quot;, &quot;Not sent&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI hope you can help me, thanks","title":"Java Android Upload image to server FTPClient - Error 501 PASV: Operation not permitted","body":"<p>When trying to upload the image to the server</p>\n<p><code>clientFtp.getReplyCode()</code></p>\n<p>returns the value of 501 and</p>\n<p><code>clientFtp.getReplyString()</code></p>\n<p>returns <strong>501 PASV: Operation not permitted</strong>, it reaches the validation of</p>\n<p><code>FTPReply.isPositiveCompletion</code></p>\n<p>and it returns false for which does not let me move forward, it disconnects the clientFtp and the image does not upload.\nIt then continues to close the input and when it reaches</p>\n<p><code>clientFtp.logout()</code></p>\n<p>This throws me into the catch and prints the following error in the Log <strong>java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.BufferedWriter.write(java.lang.String)' on a null object reference</strong>\nThe strange thing is that I try it with several devices and 99% if it works and 1% throws me these errors, my code is here;</p>\n<pre><code>public static class uploadFileFtp extends AsyncTask&lt;String, Integer, Boolean&gt; {\n\n        String absolutePath;\n        String imagename;\n        String binder;\n        String idContrato;\n\n        public uploadFileFtp(String absolutePath, String imagename, String binder, String idContrato) {\n            this.absolutePath = absolutePath;\n            this.imagename = imagename;\n            this.binder = binder;\n            this.idContrato = idContrato;\n        }\n\n        @Override\n        protected Boolean doInBackground(String... strings) {\n\n            FTPClient clientFtp = null;\n            try{\n\n                clientFtp = new FTPClient();\n\n                clientFtp.connect(keys.hostname,keys.port);\n                clientFtp.setSoTimeout(10000);\n                clientFtp.enterLocalPassiveMode();\n                if(clientFtp.login(keys.username,keys.password)){\n                    clientFtp.setFileType(FTP.BINARY_FILE_TYPE);\n                    clientFtp.setFileTransferMode(FTP.BINARY_FILE_TYPE);\n\n                    InputStream input = new FileInputStream(absolutePath);\n                    clientFtp.storeFile(&quot;/&quot; + keys.ftp_home_folder + &quot;/&quot; + binder + &quot;/&quot; + imagename, input);\n                    int reply = clientFtp.getReplyCode();\n                    String replyString = clientFtp.getReplyString();\n                    if(!FTPReply.isPositiveCompletion(reply)){\n                        clientFtp.disconnect();\n                        Log.i(&quot;MESSAGE&quot;,&quot;THE SERVER DID NOT ALLOW TO CONNECT&quot;);\n                    }\n                    input.close();\n                    clientFtp.logout();\n                    return true;\n                }\n                return false;\n\n            }catch(Exception e){\n                global.writeError(e, 97);\n                Log.i(&quot;MESSAGE&quot;,&quot;Error: &quot;+e);\n                return false;\n            }finally {\n                if(clientFtp.isConnected()){\n                    try{clientFtp.disconnect();}\n                    catch(Exception e){\n                        global.writeError(e, 98);\n                        Log.i(&quot;MESSAGE&quot;,&quot;Error: &quot;+e);\n                    }\n                }\n            }\n        }\n\n        @Override\n        protected void onPostExecute(Boolean send) {\n            if (send) {\n                Log.i(&quot;MESSAGE&quot;, &quot;Send&quot;);\n            }else {\n                Log.i(&quot;MESSAGE&quot;, &quot;Not sent&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>I hope you can help me, thanks</p>\n"},{"tags":["java","android","kotlin","android-fragments","camera"],"comments":[{"owner":{"account_id":10909242,"reputation":127,"user_id":8019153,"display_name":"Adam Gowacki"},"score":0,"creation_date":1673475595,"post_id":74777139,"comment_id":132510771,"body_markdown":"Which CameraX version do you use? For some people upgrading the library version helped. Unfortunately not for me. See https://stackoverflow.com/q/73451099/8019153","body":"Which CameraX version do you use? For some people upgrading the library version helped. Unfortunately not for me. See <a href=\"https://stackoverflow.com/q/73451099/8019153\">stackoverflow.com/q/73451099/8019153</a>"},{"owner":{"account_id":6881895,"reputation":134,"user_id":5288359,"display_name":"Dieter27"},"score":0,"creation_date":1700671081,"post_id":74777139,"comment_id":136683988,"body_markdown":"Did you ever find a solution for this? I&#39;m experiencing the same issue when using it in a fragment instead of an activity.","body":"Did you ever find a solution for this? I&#39;m experiencing the same issue when using it in a fragment instead of an activity."}],"owner":{"account_id":12119042,"reputation":127,"user_id":8851456,"display_name":"Ramon Vermeulen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670878112,"creation_date":1670878112,"question_id":74777139,"body_markdown":"I&#39;m quite new to Android app development. However I can&#39;t really figure out why this code Fragment is not working, I&#39;m trying to preview the camera in a PreviewView within an android fragment. \r\n\r\nFragment XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Camera&quot;&gt;\r\n    \r\n    &lt;androidx.camera.view.PreviewView\r\n        android:id=&quot;@+id/cameraPreview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nFragment Kotlin code:\r\n\r\n```\r\npackage dev.splitsecond.splitsecond_poc\r\n\r\nimport android.Manifest\r\nimport android.content.pm.PackageManager\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport androidx.camera.core.CameraSelector\r\nimport androidx.camera.core.Preview\r\nimport androidx.camera.lifecycle.ProcessCameraProvider\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.fragment.app.Fragment\r\nimport dev.splitsecond.splitsecond_poc.databinding.FragmentCameraBinding\r\nimport java.util.concurrent.ExecutorService\r\nimport java.util.concurrent.Executors\r\n\r\n\r\nclass Camera : Fragment() {\r\n    private lateinit var cameraExecutor: ExecutorService\r\n    private lateinit var binding: FragmentCameraBinding\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = FragmentCameraBinding.inflate(layoutInflater, null, false)\r\n        cameraExecutor = Executors.newSingleThreadExecutor()\r\n        requestRequiredPermissions()\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        return inflater.inflate(R.layout.fragment_camera, container, false)\r\n    }\r\n\r\n    private fun requestRequiredPermissions() {\r\n        requestCameraPermissionIfMissing { granted -&gt;\r\n            if (granted)\r\n                startCamera()\r\n            else\r\n                Toast.makeText(activity, &quot;Please allow camera permission&quot;, Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n\r\n    private fun requestCameraPermissionIfMissing(onResult: ((Boolean) -&gt; Unit)) {\r\n        if (ContextCompat.checkSelfPermission(\r\n                requireContext(),\r\n                Manifest.permission.CAMERA\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n        )\r\n            onResult(true)\r\n        else\r\n            registerForActivityResult(ActivityResultContracts.RequestPermission()) {\r\n                onResult(it)\r\n            }.launch(Manifest.permission.CAMERA)\r\n    }\r\n\r\n    private fun startCamera() {\r\n        val processCameraProvider = ProcessCameraProvider.getInstance(requireContext())\r\n        processCameraProvider.addListener({\r\n\r\n            val cameraProvider = processCameraProvider.get()\r\n            val previewUseCase = buildPreviewUseCase()\r\n\r\n\r\n            cameraProvider.unbindAll()\r\n            cameraProvider.bindToLifecycle(this, CameraSelector.DEFAULT_BACK_CAMERA, previewUseCase)\r\n        }, ContextCompat.getMainExecutor(requireContext()))\r\n    }\r\n\r\n    private fun buildPreviewUseCase(): Preview {\r\n        return Preview.Builder().build()\r\n            .also { it.setSurfaceProvider(binding.cameraPreview.surfaceProvider) }\r\n    }\r\n}\r\n```\r\n\r\nAnd the logcat logs:\r\n\r\n\r\n```\r\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Opening camera.\r\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: INITIALIZED --&gt; OPENING\r\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPENING, error=null} from OPENING and null\r\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPENING, error=null}\r\n2022-12-01 09:21:15.985 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\r\n2022-12-01 09:21:15.996 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Use case androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323 ACTIVE\r\n2022-12-01 09:21:15.996 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\r\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} CameraDevice.onOpened()\r\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: OPENING --&gt; OPENED\r\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateRegistry: Recalculating open cameras:\r\n    Camera                                       State                 \r\n    -------------------------------------------------------------------\r\n    Camera@43190c8[id=0]                         OPEN                  \r\n    Camera@a26fb0c[id=1]                         UNKNOWN               \r\n    -------------------------------------------------------------------\r\n    Open count: 1 (Max allowed: 1)\r\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=null} from OPEN and null\r\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=null}\r\n2022-12-01 09:21:15.999 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\r\n2022-12-01 09:21:16.000 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\r\n2022-12-01 09:21:17.173 25928-25940/dev.splitsecond.splitsecond_poc W/System: A resource failed to call close. \r\n2022-12-01 09:21:21.006 25928-25961/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: OPENED --&gt; OPENED\r\n2022-12-01 09:21:21.007 25928-25961/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}} from OPEN and StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}\r\n2022-12-01 09:21:21.007 25928-25961/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}}\r\n2022-12-01 09:21:21.008 25928-25961/dev.splitsecond.splitsecond_poc E/Camera2CameraImpl: Unable to configure camera 0, timeout!\r\n```\r\n\r\nI would really like to understand what I am doing wrong.","title":"Android (Kotlin) CameraX in Fragment: Unable to configure camera 0, timeout","body":"<p>I'm quite new to Android app development. However I can't really figure out why this code Fragment is not working, I'm trying to preview the camera in a PreviewView within an android fragment.</p>\n<p>Fragment XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Camera&quot;&gt;\n    \n    &lt;androidx.camera.view.PreviewView\n        android:id=&quot;@+id/cameraPreview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Fragment Kotlin code:</p>\n<pre><code>package dev.splitsecond.splitsecond_poc\n\nimport android.Manifest\nimport android.content.pm.PackageManager\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Toast\nimport androidx.activity.result.contract.ActivityResultContracts\nimport androidx.camera.core.CameraSelector\nimport androidx.camera.core.Preview\nimport androidx.camera.lifecycle.ProcessCameraProvider\nimport androidx.core.content.ContextCompat\nimport androidx.fragment.app.Fragment\nimport dev.splitsecond.splitsecond_poc.databinding.FragmentCameraBinding\nimport java.util.concurrent.ExecutorService\nimport java.util.concurrent.Executors\n\n\nclass Camera : Fragment() {\n    private lateinit var cameraExecutor: ExecutorService\n    private lateinit var binding: FragmentCameraBinding\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = FragmentCameraBinding.inflate(layoutInflater, null, false)\n        cameraExecutor = Executors.newSingleThreadExecutor()\n        requestRequiredPermissions()\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_camera, container, false)\n    }\n\n    private fun requestRequiredPermissions() {\n        requestCameraPermissionIfMissing { granted -&gt;\n            if (granted)\n                startCamera()\n            else\n                Toast.makeText(activity, &quot;Please allow camera permission&quot;, Toast.LENGTH_LONG).show()\n        }\n    }\n\n    private fun requestCameraPermissionIfMissing(onResult: ((Boolean) -&gt; Unit)) {\n        if (ContextCompat.checkSelfPermission(\n                requireContext(),\n                Manifest.permission.CAMERA\n            ) == PackageManager.PERMISSION_GRANTED\n        )\n            onResult(true)\n        else\n            registerForActivityResult(ActivityResultContracts.RequestPermission()) {\n                onResult(it)\n            }.launch(Manifest.permission.CAMERA)\n    }\n\n    private fun startCamera() {\n        val processCameraProvider = ProcessCameraProvider.getInstance(requireContext())\n        processCameraProvider.addListener({\n\n            val cameraProvider = processCameraProvider.get()\n            val previewUseCase = buildPreviewUseCase()\n\n\n            cameraProvider.unbindAll()\n            cameraProvider.bindToLifecycle(this, CameraSelector.DEFAULT_BACK_CAMERA, previewUseCase)\n        }, ContextCompat.getMainExecutor(requireContext()))\n    }\n\n    private fun buildPreviewUseCase(): Preview {\n        return Preview.Builder().build()\n            .also { it.setSurfaceProvider(binding.cameraPreview.surfaceProvider) }\n    }\n}\n</code></pre>\n<p>And the logcat logs:</p>\n<pre><code>2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Opening camera.\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: INITIALIZED --&gt; OPENING\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPENING, error=null} from OPENING and null\n2022-12-01 09:21:15.984 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPENING, error=null}\n2022-12-01 09:21:15.985 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\n2022-12-01 09:21:15.996 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Use case androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323 ACTIVE\n2022-12-01 09:21:15.996 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} CameraDevice.onOpened()\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: OPENING --&gt; OPENED\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateRegistry: Recalculating open cameras:\n    Camera                                       State                 \n    -------------------------------------------------------------------\n    Camera@43190c8[id=0]                         OPEN                  \n    Camera@a26fb0c[id=1]                         UNKNOWN               \n    -------------------------------------------------------------------\n    Open count: 1 (Max allowed: 1)\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=null} from OPEN and null\n2022-12-01 09:21:15.998 25928-25962/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=null}\n2022-12-01 09:21:15.999 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\n2022-12-01 09:21:16.000 25928-25962/dev.splitsecond.splitsecond_poc D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-996def38-14f2-4f96-a3bb-26039503675b19184323] for camera: 0\n2022-12-01 09:21:17.173 25928-25940/dev.splitsecond.splitsecond_poc W/System: A resource failed to call close. \n2022-12-01 09:21:21.006 25928-25961/dev.splitsecond.splitsecond_poc D/Camera2CameraImpl: {Camera@43190c8[id=0]} Transitioning camera internal state: OPENED --&gt; OPENED\n2022-12-01 09:21:21.007 25928-25961/dev.splitsecond.splitsecond_poc D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}} from OPEN and StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}\n2022-12-01 09:21:21.007 25928-25961/dev.splitsecond.splitsecond_poc D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=StateError{code=4, cause=java.util.concurrent.TimeoutException: Cannot complete surfaceList within 5000}}\n2022-12-01 09:21:21.008 25928-25961/dev.splitsecond.splitsecond_poc E/Camera2CameraImpl: Unable to configure camera 0, timeout!\n</code></pre>\n<p>I would really like to understand what I am doing wrong.</p>\n"},{"tags":["java","recursion","sequence","permutation"],"comments":[{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":5,"creation_date":1273437608,"post_id":2799078,"comment_id":2836522,"body_markdown":"Recursion is a natural way to solve this problem. Why do you want to do it *without* recursion? Any sensible &quot;non-recursive&quot; solution will just end up using a separate stack to simulate recursion anyway.","body":"Recursion is a natural way to solve this problem. Why do you want to do it <i>without</i> recursion? Any sensible &quot;non-recursive&quot; solution will just end up using a separate stack to simulate recursion anyway."},{"owner":{"account_id":80415,"reputation":8564,"user_id":227426,"accept_rate":80,"display_name":"Robben_Ford_Fan_boy"},"score":3,"creation_date":1273437800,"post_id":2799078,"comment_id":2836528,"body_markdown":"@Greg Readability maybe?  A lot of people find recursion hard to understand - maybe not using recursion will make the intention more explicit?","body":"@Greg Readability maybe?  A lot of people find recursion hard to understand - maybe not using recursion will make the intention more explicit?"},{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":4,"creation_date":1273438024,"post_id":2799078,"comment_id":2836541,"body_markdown":"@drelihan: An example of a more readable non-recursive solution would be needed to support that assertion.","body":"@drelihan: An example of a more readable non-recursive solution would be needed to support that assertion."},{"owner":{"account_id":80415,"reputation":8564,"user_id":227426,"accept_rate":80,"display_name":"Robben_Ford_Fan_boy"},"score":0,"creation_date":1273438456,"post_id":2799078,"comment_id":2836572,"body_markdown":"@Greg: Not saying either is more readable - just sugesting that might be the reason why someone would want to do it in a non-recursive way","body":"@Greg: Not saying either is more readable - just sugesting that might be the reason why someone would want to do it in a non-recursive way"},{"owner":{"account_id":90656,"reputation":617,"user_id":249445,"display_name":"strainer"},"score":1,"creation_date":1273447587,"post_id":2799078,"comment_id":2837076,"body_markdown":"I suspect there are formulas which could be found, which could give the value of permutation element as a function of a count. Something like f(seq,len,place)= (seq!place)%len ..(but not that of course, i havent cracked one). But i can see it could be rather useful to be able to formulate details of unique permutation patterns formulaically.","body":"I suspect there are formulas which could be found, which could give the value of permutation element as a function of a count. Something like f(seq,len,place)= (seq!place)%len ..(but not that of course, i havent cracked one). But i can see it could be rather useful to be able to formulate details of unique permutation patterns formulaically."},{"owner":{"account_id":86728,"reputation":2449,"user_id":240977,"accept_rate":35,"display_name":"Andreas Hornig"},"score":0,"creation_date":1273664653,"post_id":2799078,"comment_id":2857937,"body_markdown":"Hi,\nI coded it recursively now. For now it&#39;s okay, because i just need this for doing a comparebetween all possible solution and an algorithm and checking if the last is doing the same task faster and giving the same result.\nAnd because i am a bad coder i try to keep it simple and not using complex stuff like recursion ;).\n\nI will post my code soon (just iphone right now).\n\nAndreas","body":"Hi, I coded it recursively now. For now it&#39;s okay, because i just need this for doing a comparebetween all possible solution and an algorithm and checking if the last is doing the same task faster and giving the same result. And because i am a bad coder i try to keep it simple and not using complex stuff like recursion ;).  I will post my code soon (just iphone right now).  Andreas"},{"owner":{"account_id":36969,"reputation":7033,"user_id":105583,"accept_rate":96,"display_name":"G__"},"score":0,"creation_date":1274288189,"post_id":2799078,"comment_id":2912564,"body_markdown":"Another reason to avoid recursion in Java is the lack of tail-call optimization in the JVM. Not a problem for a small example like this, but for bigger cases you&#39;ll run into issues if you don&#39;t iterate a state object.","body":"Another reason to avoid recursion in Java is the lack of tail-call optimization in the JVM. Not a problem for a small example like this, but for bigger cases you&#39;ll run into issues if you don&#39;t iterate a state object."},{"owner":{"account_id":1458611,"reputation":1,"user_id":1373560,"display_name":"Tsiros.P"},"score":0,"creation_date":1336105400,"post_id":2799078,"comment_id":35705650,"body_markdown":"i think, this could be an answer (presenting a permutation as a number and vice versa) http://stackoverflow.com/a/10439025/1373560","body":"i think, this could be an answer (presenting a permutation as a number and vice versa) <a href=\"http://stackoverflow.com/a/10439025/1373560\">stackoverflow.com/a/10439025/1373560</a>"},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1341713253,"post_id":2799078,"comment_id":14997965,"body_markdown":"Well, one non recursive solution are **Bells Permutation Algorithm** as I described it in the answer.","body":"Well, one non recursive solution are <b>Bells Permutation Algorithm</b> as I described it in the answer."},{"owner":{"account_id":3338065,"reputation":612,"user_id":2805017,"display_name":"Mattias F"},"score":0,"creation_date":1415801768,"post_id":2799078,"comment_id":42332288,"body_markdown":"@GregHewgill Sure it is natural to solve by recursion, but sometimes it&#39;s nice to try to solve problems by other means. Maybe the language, in this case java, does badly with huge recursion depths, or maybe the post owner just wanted to know out of curiosity. Maybe other iterative solutions would use a separate stack (or as in my solution, the result list), but perhaps that&#39;s what he wants?","body":"@GregHewgill Sure it is natural to solve by recursion, but sometimes it&#39;s nice to try to solve problems by other means. Maybe the language, in this case java, does badly with huge recursion depths, or maybe the post owner just wanted to know out of curiosity. Maybe other iterative solutions would use a separate stack (or as in my solution, the result list), but perhaps that&#39;s what he wants?"}],"answers":[{"tags":[],"owner":{"account_id":53906,"reputation":23839,"user_id":161201,"display_name":"bobbymcr"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1273438961,"creation_date":1273438961,"answer_id":2799173,"question_id":2799078,"body_markdown":"In general, any recursive algorithm can always be reduced to an iterative one through the use of stack or queue data structures.\r\n\r\nFor this particular problem, it might be more instructive to look at the C++ STL algorithm [`std::next_permutation`][1].  According to Thomas Guest at [wordaligned.org][2], the basic implementation looks like this:\r\n\r\n    template&lt;typename Iter&gt;\r\n    bool next_permutation(Iter first, Iter last)\r\n    {\r\n        if (first == last)\r\n            return false;\r\n        Iter i = first;\r\n        ++i;\r\n        if (i == last)\r\n            return false;\r\n        i = last;\r\n        --i;\r\n            \r\n        for(;;)\r\n        {\r\n            Iter ii = i;\r\n            --i;\r\n            if (*i &lt; *ii)\r\n            {\r\n                Iter j = last;\r\n                while (!(*i &lt; *--j))\r\n                {}\r\n                std::iter_swap(i, j);\r\n                std::reverse(ii, last);\r\n                return true;\r\n            }\r\n            if (i == first)\r\n            {\r\n                std::reverse(first, last);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nNote that it does not use recursion and is relatively straightforward to translate to another C-like language like Java.  You may want to read up on [std::iter_swap][3], [std::reverse][4], and [bidirectional iterators][5] (what `Iter` represents in this code) as well.\r\n\r\n\r\n  [1]: http://www.cplusplus.com/reference/algorithm/next_permutation/\r\n  [2]: http://wordaligned.org/articles/next-permutation\r\n  [3]: http://www.cppreference.com/wiki/stl/algorithm/iter_swap\r\n  [4]: http://www.cplusplus.com/reference/algorithm/reverse/\r\n  [5]: http://www.cplusplus.com/reference/std/iterator/BidirectionalIterator/","title":"Permutation algorithm without recursion? Java","body":"<p>In general, any recursive algorithm can always be reduced to an iterative one through the use of stack or queue data structures.</p>\n\n<p>For this particular problem, it might be more instructive to look at the C++ STL algorithm <a href=\"http://www.cplusplus.com/reference/algorithm/next_permutation/\" rel=\"noreferrer\"><code>std::next_permutation</code></a>.  According to Thomas Guest at <a href=\"http://wordaligned.org/articles/next-permutation\" rel=\"noreferrer\">wordaligned.org</a>, the basic implementation looks like this:</p>\n\n<pre><code>template&lt;typename Iter&gt;\nbool next_permutation(Iter first, Iter last)\n{\n    if (first == last)\n        return false;\n    Iter i = first;\n    ++i;\n    if (i == last)\n        return false;\n    i = last;\n    --i;\n\n    for(;;)\n    {\n        Iter ii = i;\n        --i;\n        if (*i &lt; *ii)\n        {\n            Iter j = last;\n            while (!(*i &lt; *--j))\n            {}\n            std::iter_swap(i, j);\n            std::reverse(ii, last);\n            return true;\n        }\n        if (i == first)\n        {\n            std::reverse(first, last);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>Note that it does not use recursion and is relatively straightforward to translate to another C-like language like Java.  You may want to read up on <a href=\"http://www.cppreference.com/wiki/stl/algorithm/iter_swap\" rel=\"noreferrer\">std::iter_swap</a>, <a href=\"http://www.cplusplus.com/reference/algorithm/reverse/\" rel=\"noreferrer\">std::reverse</a>, and <a href=\"http://www.cplusplus.com/reference/std/iterator/BidirectionalIterator/\" rel=\"noreferrer\">bidirectional iterators</a> (what <code>Iter</code> represents in this code) as well.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1273487462,"creation_date":1273439441,"answer_id":2799190,"question_id":2799078,"body_markdown":"Here is a generic permutation enumerator I wrote a year ago. It can also produce &quot;sub-permutations&quot;:\r\n\r\n    public class PermUtil &lt;T&gt; {\r\n     private T[] arr;\r\n     private int[] permSwappings;\r\n     \r\n     public PermUtil(T[] arr) {\r\n      this(arr,arr.length);\r\n     }\r\n     \r\n     public PermUtil(T[] arr, int permSize) {\r\n      this.arr = arr.clone();\r\n      this.permSwappings = new int[permSize];\r\n      for(int i = 0;i &lt; permSwappings.length;i++)\r\n       permSwappings[i] = i;\r\n     }\r\n     \r\n     public T[] next() {\r\n      if (arr == null)\r\n       return null;\r\n        \r\n      T[] res = Arrays.copyOf(arr, permSwappings.length);\r\n      //Prepare next\r\n      int i = permSwappings.length-1;\r\n      while (i &gt;= 0 &amp;&amp; permSwappings[i] == arr.length - 1) {\r\n       swap(i, permSwappings[i]); //Undo the swap represented by permSwappings[i]\r\n       permSwappings[i] = i;\r\n       i--;\r\n      }\r\n      \r\n      if (i &lt; 0)\r\n       arr = null;\r\n      else {   \r\n       int prev = permSwappings[i];\r\n       swap(i, prev);\r\n       int next = prev + 1;\r\n       permSwappings[i] = next;\r\n       swap(i, next);\r\n      }\r\n      \r\n      return res;\r\n     }\r\n     \r\n     private void swap(int i, int j) {\r\n      T tmp = arr[i];\r\n      arr[i] = arr[j];\r\n      arr[j] = tmp;\r\n     }\r\n    \r\n    }\r\n\r\n\r\nThe idea behind my algorithm is that any permutation can be expressed as a **unique** sequence of swap commands. For example, for &amp;lt;A,B,C&gt;, the swap sequence 012 leaves all items in place, while 122 starts by swapping index 0 with index 1, then swaps 1 with 2, and then swaps 2 with 2 (i.e. leaves it in place). This results in the permutation BCA. \r\n\r\nThis representation is isomorphic to the permutation representation (i.e. one to one relationship), and it is very easy to &quot;increment&quot; it when traversing the permutations space. For 4 items, it starts from 0123 (ABCD) and ends with 3333(DABC).\r\n\r\n","title":"Permutation algorithm without recursion? Java","body":"<p>Here is a generic permutation enumerator I wrote a year ago. It can also produce \"sub-permutations\":</p>\n\n<pre><code>public class PermUtil &lt;T&gt; {\n private T[] arr;\n private int[] permSwappings;\n\n public PermUtil(T[] arr) {\n  this(arr,arr.length);\n }\n\n public PermUtil(T[] arr, int permSize) {\n  this.arr = arr.clone();\n  this.permSwappings = new int[permSize];\n  for(int i = 0;i &lt; permSwappings.length;i++)\n   permSwappings[i] = i;\n }\n\n public T[] next() {\n  if (arr == null)\n   return null;\n\n  T[] res = Arrays.copyOf(arr, permSwappings.length);\n  //Prepare next\n  int i = permSwappings.length-1;\n  while (i &gt;= 0 &amp;&amp; permSwappings[i] == arr.length - 1) {\n   swap(i, permSwappings[i]); //Undo the swap represented by permSwappings[i]\n   permSwappings[i] = i;\n   i--;\n  }\n\n  if (i &lt; 0)\n   arr = null;\n  else {   \n   int prev = permSwappings[i];\n   swap(i, prev);\n   int next = prev + 1;\n   permSwappings[i] = next;\n   swap(i, next);\n  }\n\n  return res;\n }\n\n private void swap(int i, int j) {\n  T tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n }\n\n}\n</code></pre>\n\n<p>The idea behind my algorithm is that any permutation can be expressed as a <strong>unique</strong> sequence of swap commands. For example, for &lt;A,B,C>, the swap sequence 012 leaves all items in place, while 122 starts by swapping index 0 with index 1, then swaps 1 with 2, and then swaps 2 with 2 (i.e. leaves it in place). This results in the permutation BCA. </p>\n\n<p>This representation is isomorphic to the permutation representation (i.e. one to one relationship), and it is very easy to \"increment\" it when traversing the permutations space. For 4 items, it starts from 0123 (ABCD) and ends with 3333(DABC).</p>\n"},{"tags":[],"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1302166695,"creation_date":1302166695,"answer_id":5578494,"question_id":2799078,"body_markdown":"Here is the generic and iterative permutation, kpermutation and combination generator classes that I wrote based on the implementations [here][1] and [here][2]. My classes use those as inner classes. They also implement Iterable Interface to be foreachable.\r\n\r\n     List&lt;String&gt; objects = new ArrayList&lt;String&gt;();\r\n        objects.add(&quot;A&quot;);\r\n        objects.add(&quot;B&quot;);\r\n        objects.add(&quot;C&quot;);\r\n\r\n        Permutations&lt;String&gt; permutations = new Permutations&lt;String&gt;(objects);\r\n        for (List&lt;String&gt; permutation : permutations) {\r\n            System.out.println(permutation);\r\n        }\r\n\r\n        Combinations&lt;String&gt; combinations = new Combinations&lt;String&gt;(objects, 2);\r\n        for (List&lt;String&gt; combination : combinations) {\r\n            System.out.println(combination);\r\n        }\r\n\r\n        KPermutations&lt;String&gt; kPermutations = new KPermutations&lt;String&gt;(objects, 2);\r\n        for (List&lt;String&gt; kPermutation : kPermutations) {\r\n            System.out.println(kPermutation);\r\n        }\r\n\r\nThe Combinations class:\r\n\r\n    public class Combinations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n    \r\n        CombinationGenerator cGenerator;\r\n        T[] elements;\r\n        int[] indices;\r\n    \r\n        public Combinations(List&lt;T&gt; list, int n) {\r\n            cGenerator = new CombinationGenerator(list.size(), n);\r\n            elements = (T[]) list.toArray();\r\n        }\r\n    \r\n        public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n            return new Iterator&lt;List&lt;T&gt;&gt;() {\r\n    \r\n                int pos = 0;\r\n    \r\n                public boolean hasNext() {\r\n                    return cGenerator.hasMore();\r\n                }\r\n    \r\n                public List&lt;T&gt; next() {\r\n                    if (!hasNext()) {\r\n                        throw new NoSuchElementException();\r\n                    }\r\n                    indices = cGenerator.getNext();\r\n                    List&lt;T&gt; combination = new ArrayList&lt;T&gt;();\r\n                    for (int i = 0; i &lt; indices.length; i++) {\r\n                        combination.add(elements[indices[i]]);\r\n                    }\r\n                    return combination;\r\n                }\r\n    \r\n                public void remove() {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n            };\r\n        }\r\n    \r\n        private final class CombinationGenerator {\r\n    \r\n            private int[] a;\r\n            private int n;\r\n            private int r;\r\n            private BigInteger numLeft;\r\n            private BigInteger total;\r\n    \r\n            //------------\r\n            // Constructor\r\n            //------------\r\n            public CombinationGenerator(int n, int r) {\r\n                if (n &lt; 1) {\r\n                    throw new IllegalArgumentException(&quot;Set must have at least one element&quot;);\r\n                }\r\n                if (r &gt; n) {\r\n                    throw new IllegalArgumentException(&quot;Subset length can not be greater than set length&quot;);\r\n                }\r\n                this.n = n;\r\n                this.r = r;\r\n                a = new int[r];\r\n                BigInteger nFact = getFactorial(n);\r\n                BigInteger rFact = getFactorial(r);\r\n                BigInteger nminusrFact = getFactorial(n - r);\r\n                total = nFact.divide(rFact.multiply(nminusrFact));\r\n                reset();\r\n            }\r\n    \r\n            //------\r\n            // Reset\r\n            //------\r\n            public void reset() {\r\n                for (int i = 0; i &lt; a.length; i++) {\r\n                    a[i] = i;\r\n                }\r\n                numLeft = new BigInteger(total.toString());\r\n            }\r\n    \r\n            //------------------------------------------------\r\n            // Return number of combinations not yet generated\r\n            //------------------------------------------------\r\n            public BigInteger getNumLeft() {\r\n                return numLeft;\r\n            }\r\n    \r\n            //-----------------------------\r\n            // Are there more combinations?\r\n            //-----------------------------\r\n            public boolean hasMore() {\r\n                return numLeft.compareTo(BigInteger.ZERO) == 1;\r\n            }\r\n    \r\n            //------------------------------------\r\n            // Return total number of combinations\r\n            //------------------------------------\r\n            public BigInteger getTotal() {\r\n                return total;\r\n            }\r\n    \r\n            //------------------\r\n            // Compute factorial\r\n            //------------------\r\n            private BigInteger getFactorial(int n) {\r\n                BigInteger fact = BigInteger.ONE;\r\n                for (int i = n; i &gt; 1; i--) {\r\n                    fact = fact.multiply(new BigInteger(Integer.toString(i)));\r\n                }\r\n                return fact;\r\n            }\r\n    \r\n            //--------------------------------------------------------\r\n            // Generate next combination (algorithm from Rosen p. 286)\r\n            //--------------------------------------------------------\r\n            public int[] getNext() {\r\n    \r\n                if (numLeft.equals(total)) {\r\n                    numLeft = numLeft.subtract(BigInteger.ONE);\r\n                    return a;\r\n                }\r\n    \r\n                int i = r - 1;\r\n                while (a[i] == n - r + i) {\r\n                    i--;\r\n                }\r\n                a[i] = a[i] + 1;\r\n                for (int j = i + 1; j &lt; r; j++) {\r\n                    a[j] = a[i] + j - i;\r\n                }\r\n    \r\n                numLeft = numLeft.subtract(BigInteger.ONE);\r\n                return a;\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nThe Permutations Class: \r\n\r\n    public class Permutations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n    \r\n        PermutationGenerator pGenerator;\r\n        T[] elements;\r\n        int[] indices;\r\n    \r\n        public Permutations(List&lt;T&gt; list) {\r\n            pGenerator = new PermutationGenerator(list.size());\r\n            elements = (T[]) list.toArray();\r\n        }\r\n    \r\n        public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n            return new Iterator&lt;List&lt;T&gt;&gt;() {\r\n    \r\n                int pos = 0;\r\n    \r\n                public boolean hasNext() {\r\n                    return pGenerator.hasMore();\r\n                }\r\n    \r\n                public List&lt;T&gt; next() {\r\n                    if (!hasNext()) {\r\n                        throw new NoSuchElementException();\r\n                    }\r\n                    indices = pGenerator.getNext();\r\n                    List&lt;T&gt; permutation = new ArrayList&lt;T&gt;();\r\n                    for (int i = 0; i &lt; indices.length; i++) {\r\n                        permutation.add(elements[indices[i]]);\r\n                    }\r\n                    return permutation;\r\n                }\r\n    \r\n                public void remove() {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n            };\r\n        }\r\n    \r\n        private final class PermutationGenerator {\r\n    \r\n            private int[] a;\r\n            private BigInteger numLeft;\r\n            private BigInteger total;\r\n    \r\n            //-----------------------------------------------------------\r\n            // Constructor. WARNING: Don&#39;t make n too large.\r\n            // Recall that the number of permutations is n!\r\n            // which can be very large, even when n is as small as 20 --\r\n            // 20! = 2,432,902,008,176,640,000 and\r\n            // 21! is too big to fit into a Java long, which is\r\n            // why we use BigInteger instead.\r\n            //----------------------------------------------------------\r\n            public PermutationGenerator(int n) {\r\n                if (n &lt; 1) {\r\n                    throw new IllegalArgumentException(&quot;Set must have at least one element&quot;);\r\n                }\r\n                a = new int[n];\r\n                total = getFactorial(n);\r\n                reset();\r\n            }\r\n    \r\n            //------\r\n            // Reset\r\n            //------\r\n            public void reset() {\r\n                for (int i = 0; i &lt; a.length; i++) {\r\n                    a[i] = i;\r\n                }\r\n                numLeft = new BigInteger(total.toString());\r\n            }\r\n    \r\n            //------------------------------------------------\r\n            // Return number of permutations not yet generated\r\n            //------------------------------------------------\r\n            public BigInteger getNumLeft() {\r\n                return numLeft;\r\n            }\r\n    \r\n            //------------------------------------\r\n            // Return total number of permutations\r\n            //------------------------------------\r\n            public BigInteger getTotal() {\r\n                return total;\r\n            }\r\n    \r\n            //-----------------------------\r\n            // Are there more permutations?\r\n            //-----------------------------\r\n            public boolean hasMore() {\r\n                return numLeft.compareTo(BigInteger.ZERO) == 1;\r\n            }\r\n    \r\n            //------------------\r\n            // Compute factorial\r\n            //------------------\r\n            private BigInteger getFactorial(int n) {\r\n                BigInteger fact = BigInteger.ONE;\r\n                for (int i = n; i &gt; 1; i--) {\r\n                    fact = fact.multiply(new BigInteger(Integer.toString(i)));\r\n                }\r\n                return fact;\r\n            }\r\n    \r\n            //--------------------------------------------------------\r\n            // Generate next permutation (algorithm from Rosen p. 284)\r\n            //--------------------------------------------------------\r\n            public int[] getNext() {\r\n    \r\n                if (numLeft.equals(total)) {\r\n                    numLeft = numLeft.subtract(BigInteger.ONE);\r\n                    return a;\r\n                }\r\n    \r\n                int temp;\r\n    \r\n                // Find largest index j with a[j] &lt; a[j+1]\r\n    \r\n                int j = a.length - 2;\r\n                while (a[j] &gt; a[j + 1]) {\r\n                    j--;\r\n                }\r\n    \r\n                // Find index k such that a[k] is smallest integer\r\n                // greater than a[j] to the right of a[j]\r\n    \r\n                int k = a.length - 1;\r\n                while (a[j] &gt; a[k]) {\r\n                    k--;\r\n                }\r\n    \r\n                // Interchange a[j] and a[k]\r\n    \r\n                temp = a[k];\r\n                a[k] = a[j];\r\n                a[j] = temp;\r\n    \r\n                // Put tail end of permutation after jth position in increasing order\r\n    \r\n                int r = a.length - 1;\r\n                int s = j + 1;\r\n    \r\n                while (r &gt; s) {\r\n                    temp = a[s];\r\n                    a[s] = a[r];\r\n                    a[r] = temp;\r\n                    r--;\r\n                    s++;\r\n                }\r\n    \r\n                numLeft = numLeft.subtract(BigInteger.ONE);\r\n                return a;\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nAnd the KPermutations class that actually using Permutations and Combinations classes:\r\n\r\n    public class KPermutations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n        Combinations&lt;T&gt; combinations;\r\n    \r\n        public KPermutations(List&lt;T&gt; list, int k) {\r\n            if (k&lt;1){\r\n                throw new IllegalArgumentException(&quot;Subset length k must me at least 1&quot;);\r\n            }\r\n            combinations = new Combinations&lt;T&gt;(list, k);\r\n        }\r\n    \r\n        public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n            return new Iterator&lt;List&lt;T&gt;&gt;() {\r\n                Iterator&lt;List&lt;T&gt;&gt; it = combinations.iterator();\r\n                Permutations&lt;T&gt; permutations = new Permutations&lt;T&gt;(combinations.iterator().next());\r\n    \r\n                // Has more combinations but no more permutation for current combination\r\n                public boolean hasNext() {\r\n                    if (combinations.iterator().hasNext() &amp;&amp; !permutations.iterator().hasNext()){\r\n                        permutations = new Permutations&lt;T&gt;(combinations.iterator().next());\r\n                        return true;\r\n                    }\r\n                    //Has more permutation for current combination\r\n                    else if (permutations.iterator().hasNext()){\r\n                        return true;\r\n                    }\r\n                    // No more combination and permutation\r\n                    return false;\r\n                }\r\n    \r\n                public List&lt;T&gt; next() {\r\n                    if (!hasNext()) {\r\n                        throw new NoSuchElementException();\r\n                    }\r\n                    return permutations.iterator().next();\r\n                }\r\n    \r\n                public void remove() {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n            };\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: http://www.merriampark.com/perm.htm\r\n  [2]: http://www.merriampark.com/comb.htm\r\n","title":"Permutation algorithm without recursion? Java","body":"<p>Here is the generic and iterative permutation, kpermutation and combination generator classes that I wrote based on the implementations <a href=\"http://www.merriampark.com/perm.htm\" rel=\"noreferrer\">here</a> and <a href=\"http://www.merriampark.com/comb.htm\" rel=\"noreferrer\">here</a>. My classes use those as inner classes. They also implement Iterable Interface to be foreachable.</p>\n\n<pre><code> List&lt;String&gt; objects = new ArrayList&lt;String&gt;();\n    objects.add(\"A\");\n    objects.add(\"B\");\n    objects.add(\"C\");\n\n    Permutations&lt;String&gt; permutations = new Permutations&lt;String&gt;(objects);\n    for (List&lt;String&gt; permutation : permutations) {\n        System.out.println(permutation);\n    }\n\n    Combinations&lt;String&gt; combinations = new Combinations&lt;String&gt;(objects, 2);\n    for (List&lt;String&gt; combination : combinations) {\n        System.out.println(combination);\n    }\n\n    KPermutations&lt;String&gt; kPermutations = new KPermutations&lt;String&gt;(objects, 2);\n    for (List&lt;String&gt; kPermutation : kPermutations) {\n        System.out.println(kPermutation);\n    }\n</code></pre>\n\n<p>The Combinations class:</p>\n\n<pre><code>public class Combinations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n\n    CombinationGenerator cGenerator;\n    T[] elements;\n    int[] indices;\n\n    public Combinations(List&lt;T&gt; list, int n) {\n        cGenerator = new CombinationGenerator(list.size(), n);\n        elements = (T[]) list.toArray();\n    }\n\n    public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n        return new Iterator&lt;List&lt;T&gt;&gt;() {\n\n            int pos = 0;\n\n            public boolean hasNext() {\n                return cGenerator.hasMore();\n            }\n\n            public List&lt;T&gt; next() {\n                if (!hasNext()) {\n                    throw new NoSuchElementException();\n                }\n                indices = cGenerator.getNext();\n                List&lt;T&gt; combination = new ArrayList&lt;T&gt;();\n                for (int i = 0; i &lt; indices.length; i++) {\n                    combination.add(elements[indices[i]]);\n                }\n                return combination;\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n\n    private final class CombinationGenerator {\n\n        private int[] a;\n        private int n;\n        private int r;\n        private BigInteger numLeft;\n        private BigInteger total;\n\n        //------------\n        // Constructor\n        //------------\n        public CombinationGenerator(int n, int r) {\n            if (n &lt; 1) {\n                throw new IllegalArgumentException(\"Set must have at least one element\");\n            }\n            if (r &gt; n) {\n                throw new IllegalArgumentException(\"Subset length can not be greater than set length\");\n            }\n            this.n = n;\n            this.r = r;\n            a = new int[r];\n            BigInteger nFact = getFactorial(n);\n            BigInteger rFact = getFactorial(r);\n            BigInteger nminusrFact = getFactorial(n - r);\n            total = nFact.divide(rFact.multiply(nminusrFact));\n            reset();\n        }\n\n        //------\n        // Reset\n        //------\n        public void reset() {\n            for (int i = 0; i &lt; a.length; i++) {\n                a[i] = i;\n            }\n            numLeft = new BigInteger(total.toString());\n        }\n\n        //------------------------------------------------\n        // Return number of combinations not yet generated\n        //------------------------------------------------\n        public BigInteger getNumLeft() {\n            return numLeft;\n        }\n\n        //-----------------------------\n        // Are there more combinations?\n        //-----------------------------\n        public boolean hasMore() {\n            return numLeft.compareTo(BigInteger.ZERO) == 1;\n        }\n\n        //------------------------------------\n        // Return total number of combinations\n        //------------------------------------\n        public BigInteger getTotal() {\n            return total;\n        }\n\n        //------------------\n        // Compute factorial\n        //------------------\n        private BigInteger getFactorial(int n) {\n            BigInteger fact = BigInteger.ONE;\n            for (int i = n; i &gt; 1; i--) {\n                fact = fact.multiply(new BigInteger(Integer.toString(i)));\n            }\n            return fact;\n        }\n\n        //--------------------------------------------------------\n        // Generate next combination (algorithm from Rosen p. 286)\n        //--------------------------------------------------------\n        public int[] getNext() {\n\n            if (numLeft.equals(total)) {\n                numLeft = numLeft.subtract(BigInteger.ONE);\n                return a;\n            }\n\n            int i = r - 1;\n            while (a[i] == n - r + i) {\n                i--;\n            }\n            a[i] = a[i] + 1;\n            for (int j = i + 1; j &lt; r; j++) {\n                a[j] = a[i] + j - i;\n            }\n\n            numLeft = numLeft.subtract(BigInteger.ONE);\n            return a;\n\n        }\n    }\n}\n</code></pre>\n\n<p>The Permutations Class: </p>\n\n<pre><code>public class Permutations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n\n    PermutationGenerator pGenerator;\n    T[] elements;\n    int[] indices;\n\n    public Permutations(List&lt;T&gt; list) {\n        pGenerator = new PermutationGenerator(list.size());\n        elements = (T[]) list.toArray();\n    }\n\n    public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n        return new Iterator&lt;List&lt;T&gt;&gt;() {\n\n            int pos = 0;\n\n            public boolean hasNext() {\n                return pGenerator.hasMore();\n            }\n\n            public List&lt;T&gt; next() {\n                if (!hasNext()) {\n                    throw new NoSuchElementException();\n                }\n                indices = pGenerator.getNext();\n                List&lt;T&gt; permutation = new ArrayList&lt;T&gt;();\n                for (int i = 0; i &lt; indices.length; i++) {\n                    permutation.add(elements[indices[i]]);\n                }\n                return permutation;\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n\n    private final class PermutationGenerator {\n\n        private int[] a;\n        private BigInteger numLeft;\n        private BigInteger total;\n\n        //-----------------------------------------------------------\n        // Constructor. WARNING: Don't make n too large.\n        // Recall that the number of permutations is n!\n        // which can be very large, even when n is as small as 20 --\n        // 20! = 2,432,902,008,176,640,000 and\n        // 21! is too big to fit into a Java long, which is\n        // why we use BigInteger instead.\n        //----------------------------------------------------------\n        public PermutationGenerator(int n) {\n            if (n &lt; 1) {\n                throw new IllegalArgumentException(\"Set must have at least one element\");\n            }\n            a = new int[n];\n            total = getFactorial(n);\n            reset();\n        }\n\n        //------\n        // Reset\n        //------\n        public void reset() {\n            for (int i = 0; i &lt; a.length; i++) {\n                a[i] = i;\n            }\n            numLeft = new BigInteger(total.toString());\n        }\n\n        //------------------------------------------------\n        // Return number of permutations not yet generated\n        //------------------------------------------------\n        public BigInteger getNumLeft() {\n            return numLeft;\n        }\n\n        //------------------------------------\n        // Return total number of permutations\n        //------------------------------------\n        public BigInteger getTotal() {\n            return total;\n        }\n\n        //-----------------------------\n        // Are there more permutations?\n        //-----------------------------\n        public boolean hasMore() {\n            return numLeft.compareTo(BigInteger.ZERO) == 1;\n        }\n\n        //------------------\n        // Compute factorial\n        //------------------\n        private BigInteger getFactorial(int n) {\n            BigInteger fact = BigInteger.ONE;\n            for (int i = n; i &gt; 1; i--) {\n                fact = fact.multiply(new BigInteger(Integer.toString(i)));\n            }\n            return fact;\n        }\n\n        //--------------------------------------------------------\n        // Generate next permutation (algorithm from Rosen p. 284)\n        //--------------------------------------------------------\n        public int[] getNext() {\n\n            if (numLeft.equals(total)) {\n                numLeft = numLeft.subtract(BigInteger.ONE);\n                return a;\n            }\n\n            int temp;\n\n            // Find largest index j with a[j] &lt; a[j+1]\n\n            int j = a.length - 2;\n            while (a[j] &gt; a[j + 1]) {\n                j--;\n            }\n\n            // Find index k such that a[k] is smallest integer\n            // greater than a[j] to the right of a[j]\n\n            int k = a.length - 1;\n            while (a[j] &gt; a[k]) {\n                k--;\n            }\n\n            // Interchange a[j] and a[k]\n\n            temp = a[k];\n            a[k] = a[j];\n            a[j] = temp;\n\n            // Put tail end of permutation after jth position in increasing order\n\n            int r = a.length - 1;\n            int s = j + 1;\n\n            while (r &gt; s) {\n                temp = a[s];\n                a[s] = a[r];\n                a[r] = temp;\n                r--;\n                s++;\n            }\n\n            numLeft = numLeft.subtract(BigInteger.ONE);\n            return a;\n\n        }\n    }\n}\n</code></pre>\n\n<p>And the KPermutations class that actually using Permutations and Combinations classes:</p>\n\n<pre><code>public class KPermutations&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n    Combinations&lt;T&gt; combinations;\n\n    public KPermutations(List&lt;T&gt; list, int k) {\n        if (k&lt;1){\n            throw new IllegalArgumentException(\"Subset length k must me at least 1\");\n        }\n        combinations = new Combinations&lt;T&gt;(list, k);\n    }\n\n    public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n        return new Iterator&lt;List&lt;T&gt;&gt;() {\n            Iterator&lt;List&lt;T&gt;&gt; it = combinations.iterator();\n            Permutations&lt;T&gt; permutations = new Permutations&lt;T&gt;(combinations.iterator().next());\n\n            // Has more combinations but no more permutation for current combination\n            public boolean hasNext() {\n                if (combinations.iterator().hasNext() &amp;&amp; !permutations.iterator().hasNext()){\n                    permutations = new Permutations&lt;T&gt;(combinations.iterator().next());\n                    return true;\n                }\n                //Has more permutation for current combination\n                else if (permutations.iterator().hasNext()){\n                    return true;\n                }\n                // No more combination and permutation\n                return false;\n            }\n\n            public List&lt;T&gt; next() {\n                if (!hasNext()) {\n                    throw new NoSuchElementException();\n                }\n                return permutations.iterator().next();\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334205336,"creation_date":1334205336,"answer_id":10117424,"question_id":2799078,"body_markdown":"Here I have [a solution in scala][1], which could be used from java, but can be - with much more code - been implemented in Java as well, to allow to use an iterator for the simplified for-loop: \r\n\r\n    for (List&lt;Integer&gt; list: permutations) \r\n        doSomething (list);\r\n\r\n![Permutation tree][2]\r\n\r\nTo allow for the simplified for-loop, we need to implement Iterable, which means we have to provide a method which returns an Iterator, which happens to be another interface, which means we have to implement 3 methods: hasNext (); next (); and remove (); \r\n\r\n    import java.util.*;\r\n    \r\n    class PermutationIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\r\n    \r\n    \tprivate int  current = 0;\r\n    \tprivate final List &lt;T&gt; lilio;\r\n    \tpublic final long last;\r\n    \r\n    \tpublic PermutationIterator (final List &lt;T&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t\tlong product = 1;\r\n    \t\tfor (long p = 1; p &lt;= llo.size (); ++p) \r\n    \t\t\tproduct *= p; \r\n    \t\tlast = product;\r\n    \t}\r\n    \r\n    \tpublic boolean hasNext () {\r\n    \t\treturn current != last;\r\n    \t}\r\n    \r\n    \tpublic List &lt;T&gt; next () {\r\n    \t\t++current;\r\n    \t\treturn get (current - 1, lilio);\r\n    \t}\r\n    \r\n    \tpublic void remove () {\r\n    \t\t++current;\r\n    \t}\r\n    \r\n    \tprivate long fac (long l) \r\n    \t{\r\n    \t\tfor (long i = l - 1L; i &gt; 1L; --i)\r\n    \t\t\tl *= i; \r\n    \t\treturn l;\r\n    \t}\r\n    \t/**\r\n    \t\tnew version, which produces permutations in increasing order:\r\n    \t*/\r\n    \tprivate List &lt;T&gt; get (final long code, final List &lt;T&gt; list) {\r\n    \t\tif (list.isEmpty ()) \r\n    \t\t\treturn list;\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tint len = list.size ();\t\t// len = 4\r\n    \t\t\tlong max = fac (len);\t\t// max = 24\r\n    \t\t\tlong divisor = max / len;\t// divisor = 6\r\n    \t\t\tint i = (int) (code / divisor);\t// i = 2\r\n    \t\t\tList &lt;T&gt; second = new ArrayList &lt;T&gt; (list.size ());\r\n    \t\t\tsecond.addAll (list);\r\n    \t\t\tT el = second.remove (i);\r\n    \t\t\tList &lt;T&gt; tt = new ArrayList &lt;T&gt; ();\r\n    \t\t\ttt.add (el);\r\n    \t\t\ttt.addAll (get (code - divisor * i, second));\r\n    \t\t\treturn tt;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic List &lt;T&gt; get (final int code) \r\n    \t{\r\n    \t\treturn get (code, lilio);\r\n    \t}\r\n    }\r\n    \r\n    class PermutationIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\r\n    \r\n    \tprivate List &lt;T&gt; lilio;\t\r\n    \t\t\r\n    \tpublic PermutationIterable (List &lt;T&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t}\r\n    \r\n    \tpublic Iterator &lt;List &lt;T&gt;&gt; iterator () {\r\n    \t\treturn new PermutationIterator &lt;T&gt; (lilio);\r\n    \t}\r\n    \r\n    \tprivate long invers (final List &lt;T&gt; pattern, final List &lt;T&gt; matcher)\r\n    \t{\r\n    \t\tif (pattern.isEmpty ())\r\n    \t\t\treturn 0L;\r\n    \t\tT first = pattern.get (0);\r\n    \t\tint idx = matcher.indexOf (first);\r\n    \t\tlong l = (pattern.size () - 1L) * idx;\r\n    \t\tpattern.remove (0);\r\n    \t\tmatcher.remove (idx);\r\n    \t\treturn l + invers (pattern, matcher);\r\n    \t}\r\n    \t/**\r\n    \t  make a deep copy, since the called method will destroy the parameters\r\n    \t*/\r\n    \tpublic long invers (final List &lt;T&gt; lt)\r\n    \t{\r\n    \t\tList &lt;T&gt; copy = new ArrayList &lt;T&gt; (lilio.size ());\r\n    \t\tcopy.addAll (lilio);\r\n    \t\treturn invers (lt, copy); \r\n    \t}\t\r\n    }\r\n    \r\n    class PermutationIteratorTest {\r\n      \r\n      \tpublic static List &lt;Integer&gt; genList (int... a) {\r\n      \t\tList &lt;Integer&gt; li = new ArrayList &lt;Integer&gt; ();\r\n      \t\tfor (int i: a) \r\n      \t\t\tli.add (i);\r\n      \t\treturn li;\r\n      \t}\r\n      \r\n    \tpublic static void main (String[] args) {\r\n    \t\tList &lt;Integer&gt; il = new ArrayList &lt;Integer&gt; ();\r\n    \t\t// autoboxing, add &#39;0&#39; to &#39;z&#39; as Character: \r\n    \t\tfor (int c = 0; c &lt; 3; ++c)\r\n    \t\t{\r\n    \t\t\til.add (c);\r\n    \t\t}\r\n    \t\tPermutationIterable &lt;Integer&gt; pi = new PermutationIterable &lt;Integer&gt; (il);\r\n    \t\tfor (List&lt;Integer&gt; li: pi)\r\n    \t\t\tshow (li);\r\n    \t\tSystem.out.println (&quot;-again-&quot;);\r\n    \t\t// do it a second time: \r\n    \t\tfor (List &lt;Integer&gt; li: pi)\r\n    \t\t\tshow (li);\r\n    \t\t// test the inverse:\r\n    \t\tSystem.out.println (&quot;for (2,1,0) expecting 5 ?= &quot; + pi.invers (genList (2, 1, 0)));\r\n    \t\tSystem.out.println (&quot;for (2,0,1) expecting 4 ?= &quot; + pi.invers (genList (2, 0, 1)));\r\n    \t\tSystem.out.println (&quot;for (1,0,2) expecting 3 ?= &quot; + pi.invers (genList (1, 2, 0)));\r\n    \t\tSystem.out.println (&quot;for (1,2,0) expecting 2 ?= &quot; + pi.invers (genList (1, 0, 2)));\r\n    \t\tSystem.out.println (&quot;for (0,2,1) expecting 1 ?= &quot; + pi.invers (genList (0, 2, 1)));\r\n    \t\tSystem.out.println (&quot;for (0,1,2) expecting 0 ?= &quot; + pi.invers (genList (0, 1, 2)));\r\n\t\t\tRandom r = new Random ();\r\n\t\t\tPermutationIterator &lt;Integer&gt; pitor = (PermutationIterator  &lt;Integer&gt;) pi.iterator ();\r\n\t\t\tfor (int i = 0; i &lt; 10; ++i)\r\n\t\t\t{\r\n\t\t\t\tint rnd = r.nextInt ((int) pitor.last); \r\n\t\t\t\tList &lt;Integer&gt; rli = pitor.get (rnd);\r\n\t\t\t\tshow (rli);\r\n\t\t\t}\r\n    \t}\r\n    \r\n    \tpublic static void show (List &lt;?&gt; lo) {\r\n    \t\tSystem.out.print (&quot;(&quot;);\r\n    \t\tfor (Object o: lo)\r\n    \t\t  \tSystem.out.print (o);\r\n    \t\tSystem.out.println (&quot;)&quot;);\r\n    \t}\r\n    }\r\nPermutationIterator contains the additional, public method  `public List &lt;T&gt; get (final int code)` which is handy, if you like to pick a certain permutation by index, for example by random. You know the size (last) and can therefore take a permutation of the valid range by index. \r\n\r\nPermutationIterable contains a method &#39;invers&#39; which will generate the opposite: The index of a certain permutation. \r\n\r\nInternally, *invers* and *get* work recursively, but all the permutations aren&#39;t produced recursively, so this shouldn&#39;t be a problem even for big permutations. Note, that for 21 elements, you exceed the size of longs, and 20 steps of recursion shouldn&#39;t be a problem at all.\r\n\r\n  [1]: https://stackoverflow.com/a/8958309/312172\r\n  [2]: http://i.stack.imgur.com/n6NoU.png &quot;Permutation tree&quot;","title":"Permutation algorithm without recursion? Java","body":"<p>Here I have <a href=\"https://stackoverflow.com/a/8958309/312172\">a solution in scala</a>, which could be used from java, but can be - with much more code - been implemented in Java as well, to allow to use an iterator for the simplified for-loop: </p>\n\n<pre><code>for (List&lt;Integer&gt; list: permutations) \n    doSomething (list);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/n6NoU.png\" alt=\"Permutation tree\" title=\"Permutation tree\"></p>\n\n<p>To allow for the simplified for-loop, we need to implement Iterable, which means we have to provide a method which returns an Iterator, which happens to be another interface, which means we have to implement 3 methods: hasNext (); next (); and remove (); </p>\n\n<pre><code>import java.util.*;\n\nclass PermutationIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\n\n    private int  current = 0;\n    private final List &lt;T&gt; lilio;\n    public final long last;\n\n    public PermutationIterator (final List &lt;T&gt; llo) {\n        lilio = llo;\n        long product = 1;\n        for (long p = 1; p &lt;= llo.size (); ++p) \n            product *= p; \n        last = product;\n    }\n\n    public boolean hasNext () {\n        return current != last;\n    }\n\n    public List &lt;T&gt; next () {\n        ++current;\n        return get (current - 1, lilio);\n    }\n\n    public void remove () {\n        ++current;\n    }\n\n    private long fac (long l) \n    {\n        for (long i = l - 1L; i &gt; 1L; --i)\n            l *= i; \n        return l;\n    }\n    /**\n        new version, which produces permutations in increasing order:\n    */\n    private List &lt;T&gt; get (final long code, final List &lt;T&gt; list) {\n        if (list.isEmpty ()) \n            return list;\n        else\n        {\n            int len = list.size ();     // len = 4\n            long max = fac (len);       // max = 24\n            long divisor = max / len;   // divisor = 6\n            int i = (int) (code / divisor); // i = 2\n            List &lt;T&gt; second = new ArrayList &lt;T&gt; (list.size ());\n            second.addAll (list);\n            T el = second.remove (i);\n            List &lt;T&gt; tt = new ArrayList &lt;T&gt; ();\n            tt.add (el);\n            tt.addAll (get (code - divisor * i, second));\n            return tt;\n        }\n    }\n\n    public List &lt;T&gt; get (final int code) \n    {\n        return get (code, lilio);\n    }\n}\n\nclass PermutationIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\n\n    private List &lt;T&gt; lilio; \n\n    public PermutationIterable (List &lt;T&gt; llo) {\n        lilio = llo;\n    }\n\n    public Iterator &lt;List &lt;T&gt;&gt; iterator () {\n        return new PermutationIterator &lt;T&gt; (lilio);\n    }\n\n    private long invers (final List &lt;T&gt; pattern, final List &lt;T&gt; matcher)\n    {\n        if (pattern.isEmpty ())\n            return 0L;\n        T first = pattern.get (0);\n        int idx = matcher.indexOf (first);\n        long l = (pattern.size () - 1L) * idx;\n        pattern.remove (0);\n        matcher.remove (idx);\n        return l + invers (pattern, matcher);\n    }\n    /**\n      make a deep copy, since the called method will destroy the parameters\n    */\n    public long invers (final List &lt;T&gt; lt)\n    {\n        List &lt;T&gt; copy = new ArrayList &lt;T&gt; (lilio.size ());\n        copy.addAll (lilio);\n        return invers (lt, copy); \n    }   \n}\n\nclass PermutationIteratorTest {\n\n    public static List &lt;Integer&gt; genList (int... a) {\n        List &lt;Integer&gt; li = new ArrayList &lt;Integer&gt; ();\n        for (int i: a) \n            li.add (i);\n        return li;\n    }\n\n    public static void main (String[] args) {\n        List &lt;Integer&gt; il = new ArrayList &lt;Integer&gt; ();\n        // autoboxing, add '0' to 'z' as Character: \n        for (int c = 0; c &lt; 3; ++c)\n        {\n            il.add (c);\n        }\n        PermutationIterable &lt;Integer&gt; pi = new PermutationIterable &lt;Integer&gt; (il);\n        for (List&lt;Integer&gt; li: pi)\n            show (li);\n        System.out.println (\"-again-\");\n        // do it a second time: \n        for (List &lt;Integer&gt; li: pi)\n            show (li);\n        // test the inverse:\n        System.out.println (\"for (2,1,0) expecting 5 ?= \" + pi.invers (genList (2, 1, 0)));\n        System.out.println (\"for (2,0,1) expecting 4 ?= \" + pi.invers (genList (2, 0, 1)));\n        System.out.println (\"for (1,0,2) expecting 3 ?= \" + pi.invers (genList (1, 2, 0)));\n        System.out.println (\"for (1,2,0) expecting 2 ?= \" + pi.invers (genList (1, 0, 2)));\n        System.out.println (\"for (0,2,1) expecting 1 ?= \" + pi.invers (genList (0, 2, 1)));\n        System.out.println (\"for (0,1,2) expecting 0 ?= \" + pi.invers (genList (0, 1, 2)));\n        Random r = new Random ();\n        PermutationIterator &lt;Integer&gt; pitor = (PermutationIterator  &lt;Integer&gt;) pi.iterator ();\n        for (int i = 0; i &lt; 10; ++i)\n        {\n            int rnd = r.nextInt ((int) pitor.last); \n            List &lt;Integer&gt; rli = pitor.get (rnd);\n            show (rli);\n        }\n    }\n\n    public static void show (List &lt;?&gt; lo) {\n        System.out.print (\"(\");\n        for (Object o: lo)\n            System.out.print (o);\n        System.out.println (\")\");\n    }\n}\n</code></pre>\n\n<p>PermutationIterator contains the additional, public method  <code>public List &lt;T&gt; get (final int code)</code> which is handy, if you like to pick a certain permutation by index, for example by random. You know the size (last) and can therefore take a permutation of the valid range by index. </p>\n\n<p>PermutationIterable contains a method 'invers' which will generate the opposite: The index of a certain permutation. </p>\n\n<p>Internally, <em>invers</em> and <em>get</em> work recursively, but all the permutations aren't produced recursively, so this shouldn't be a problem even for big permutations. Note, that for 21 elements, you exceed the size of longs, and 20 steps of recursion shouldn't be a problem at all.</p>\n"},{"tags":[],"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338326364,"creation_date":1335913926,"answer_id":10405646,"question_id":2799078,"body_markdown":"This has of course been done before, and one sollution is *Bells Permutation Algorithm*.\r\nYou find a sollution [here](https://stackoverflow.com/questions/4856615/recursive-permutation/4857018), where you can find a recursive sollution in Prolog and the non-recursive Bell Permutation Algorithm written in Pascal.\r\n\r\nTo convert them to Java is left as an exercise for the reader.","title":"Permutation algorithm without recursion? Java","body":"<p>This has of course been done before, and one sollution is <em>Bells Permutation Algorithm</em>.\nYou find a sollution <a href=\"https://stackoverflow.com/questions/4856615/recursive-permutation/4857018\">here</a>, where you can find a recursive sollution in Prolog and the non-recursive Bell Permutation Algorithm written in Pascal.</p>\n\n<p>To convert them to Java is left as an exercise for the reader.</p>\n"},{"tags":[],"owner":{"account_id":54610,"reputation":1039,"user_id":163427,"accept_rate":55,"display_name":"Filip Nguyen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1342186920,"creation_date":1342186920,"answer_id":11471673,"question_id":2799078,"body_markdown":"You should use the fact that when you want all permutations of N numbers there are N! possibilities. Therefore each number x from 1..N! encodes such a permutation. Here is a sample that iteratively prints out all permutations of a sting. \r\n\r\n    private static void printPermutationsIterative(String string){\r\n    \t\tint [] factorials = new int[string.length()+1];\r\n    \t\tfactorials[0] = 1;\r\n    \t\tfor (int i = 1; i&lt;=string.length();i++)\t{\r\n    \t\t\tfactorials[i] = factorials[i-1] * i;\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; factorials[string.length()]; i++) {\r\n    \t\t\tString onePermutation=&quot;&quot;;\r\n    \t\t\tString temp = string;\r\n    \t\t\tint positionCode = i;\r\n    \t\t\tfor (int position = string.length(); position &gt; 0 ;position--){\r\n    \t\t\t\tint selected = positionCode / factorials[position-1];\r\n    \t\t\t\tonePermutation += temp.charAt(selected);\r\n    \t\t\t\tpositionCode = positionCode % factorials[position-1];\r\n    \t\t\t\ttemp = temp.substring(0,selected) + temp.substring(selected+1);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(onePermutation);\r\n    \t\t}\r\n    \t}","title":"Permutation algorithm without recursion? Java","body":"<p>You should use the fact that when you want all permutations of N numbers there are N! possibilities. Therefore each number x from 1..N! encodes such a permutation. Here is a sample that iteratively prints out all permutations of a sting. </p>\n\n<pre><code>private static void printPermutationsIterative(String string){\n        int [] factorials = new int[string.length()+1];\n        factorials[0] = 1;\n        for (int i = 1; i&lt;=string.length();i++) {\n            factorials[i] = factorials[i-1] * i;\n        }\n\n        for (int i = 0; i &lt; factorials[string.length()]; i++) {\n            String onePermutation=\"\";\n            String temp = string;\n            int positionCode = i;\n            for (int position = string.length(); position &gt; 0 ;position--){\n                int selected = positionCode / factorials[position-1];\n                onePermutation += temp.charAt(selected);\n                positionCode = positionCode % factorials[position-1];\n                temp = temp.substring(0,selected) + temp.substring(selected+1);\n            }\n            System.out.println(onePermutation);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1970114,"reputation":111,"user_id":1769313,"display_name":"dickf"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1351019763,"creation_date":1351018684,"answer_id":13037291,"question_id":2799078,"body_markdown":"It is easy to write the recursive permutation, but it requires exporting the permutations from deeply nested loops.  (That is an interesting exercise.)  I needed a version that permuted strings for anagrams.  I wrote a version that implements `Iterable&lt;String&gt;` so it can be used in foreach loops.  It can easily be adapted to other types such as `int[]` or even a generic type `&lt;T[]&gt;` by changing the constructor and the type of attribute &#39;array&#39;.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    /**\r\n     * An implicit immutable collection of all permutations of a string with an \r\n     * iterator over the permutations.&lt;p&gt;  implements Iterable&amp;ltString&amp;gt\r\n     * @see #StringPermutation(String)\r\n     */\r\n    public class StringPermutation implements Iterable&lt;String&gt; {\r\n        \r\n        // could implement Collection&lt;String&gt; but it&#39;s immutable, so most methods are essentially vacuous\r\n    \r\n        protected final String string;\r\n    \r\n        /**\r\n         * Creates an implicit Iterable collection of all permutations of a string\r\n         * @param string  String to be permuted\r\n         * @see Iterable\r\n         * @see #iterator\r\n         */\r\n        public StringPermutation(String string) {\r\n            this.string = string;\r\n        }\r\n    \r\n        /**\r\n         * Constructs and sequentially returns the permutation values \r\n         */\r\n        @Override\r\n        public Iterator&lt;String&gt; iterator() {\r\n    \r\n            return new Iterator&lt;String&gt;() {\r\n    \r\n                char[] array = string.toCharArray(); \r\n                int length = string.length();\r\n                int[] index = (length == 0) ? null : new int[length];\r\n    \r\n                @Override\r\n                public boolean hasNext() {\r\n                    return index != null;\r\n                }\r\n    \r\n                @Override\r\n                public String next() {\r\n    \r\n                    if (index == null) throw new NoSuchElementException();\r\n    \r\n                    for (int i = 1; i &lt; length; ++i) {\r\n                        char swap = array[i];\r\n                        System.arraycopy(array, 0, array, 1, i);\r\n                        array[0] = swap;\r\n                        for (int j = 1 ; j &lt; i; ++j) {\r\n                            index[j] = 0;\r\n                        }\r\n                        if (++index[i] &lt;= i) {\r\n                            return  new String(array);\r\n                        }\r\n                        index[i] = 0;                    \r\n                    }\r\n                    index = null;\r\n                    return new String(array);\r\n                }\r\n    \r\n                @Override\r\n                public void remove() {\r\n                    throw new UnsupportedOperationException(); \r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n","title":"Permutation algorithm without recursion? Java","body":"<p>It is easy to write the recursive permutation, but it requires exporting the permutations from deeply nested loops.  (That is an interesting exercise.)  I needed a version that permuted strings for anagrams.  I wrote a version that implements <code>Iterable&lt;String&gt;</code> so it can be used in foreach loops.  It can easily be adapted to other types such as <code>int[]</code> or even a generic type <code>&lt;T[]&gt;</code> by changing the constructor and the type of attribute 'array'.</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\n\n/**\n * An implicit immutable collection of all permutations of a string with an \n * iterator over the permutations.&lt;p&gt;  implements Iterable&amp;ltString&amp;gt\n * @see #StringPermutation(String)\n */\npublic class StringPermutation implements Iterable&lt;String&gt; {\n\n    // could implement Collection&lt;String&gt; but it's immutable, so most methods are essentially vacuous\n\n    protected final String string;\n\n    /**\n     * Creates an implicit Iterable collection of all permutations of a string\n     * @param string  String to be permuted\n     * @see Iterable\n     * @see #iterator\n     */\n    public StringPermutation(String string) {\n        this.string = string;\n    }\n\n    /**\n     * Constructs and sequentially returns the permutation values \n     */\n    @Override\n    public Iterator&lt;String&gt; iterator() {\n\n        return new Iterator&lt;String&gt;() {\n\n            char[] array = string.toCharArray(); \n            int length = string.length();\n            int[] index = (length == 0) ? null : new int[length];\n\n            @Override\n            public boolean hasNext() {\n                return index != null;\n            }\n\n            @Override\n            public String next() {\n\n                if (index == null) throw new NoSuchElementException();\n\n                for (int i = 1; i &lt; length; ++i) {\n                    char swap = array[i];\n                    System.arraycopy(array, 0, array, 1, i);\n                    array[0] = swap;\n                    for (int j = 1 ; j &lt; i; ++j) {\n                        index[j] = 0;\n                    }\n                    if (++index[i] &lt;= i) {\n                        return  new String(array);\n                    }\n                    index[i] = 0;                    \n                }\n                index = null;\n                return new String(array);\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException(); \n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068572,"reputation":1,"user_id":2599756,"display_name":"ArK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381155117,"creation_date":1374242714,"answer_id":17748123,"question_id":2799078,"body_markdown":"    import java.io.*;\r\n    class Permutation\r\n    {\r\n    String w;\r\n    \r\n    public void accept() throws IOException \r\n    { BufferedReader ak=new BufferedReader(new InputStreamReader(System.in)); System.out.println(&quot;Enter a word&quot;); w=ak.readLine(); }\r\n    \r\n    public void permute()\r\n    {\r\n    int l,s,m,p,k,t,x,n,r;\r\n    s=m=0;p=t=k=1;\r\n    l=w.length();\r\n    for(x=1;x&lt;=l;x++)\r\n    {\r\n    p*=x; s+=x; t*=10;\r\n    }\r\n    System.out.println(&quot;\\n&quot;+&quot;The &quot;+p+&quot; possible permutations of the word are:&quot;+&quot;\\n&quot;);\r\n    for(x=t/10;x\r\n    \r\n    public boolean isUnique(int n) {\r\n    int a[]={0,0,0,0,0,0,0,0,0,0};\r\n    int r;\r\n    while(n!=0)\r\n    {\r\n    r=n%10;\r\n    if(a[r]!=0 || r==0)\r\n    return false;\r\n    else\r\n    a[r]++;\r\n    n/=10;\r\n    }\r\n    return true;\r\n    }\r\n    }","title":"Permutation algorithm without recursion? Java","body":"<pre><code>import java.io.*;\nclass Permutation\n{\nString w;\n\npublic void accept() throws IOException \n{ BufferedReader ak=new BufferedReader(new InputStreamReader(System.in)); System.out.println(\"Enter a word\"); w=ak.readLine(); }\n\npublic void permute()\n{\nint l,s,m,p,k,t,x,n,r;\ns=m=0;p=t=k=1;\nl=w.length();\nfor(x=1;x&lt;=l;x++)\n{\np*=x; s+=x; t*=10;\n}\nSystem.out.println(\"\\n\"+\"The \"+p+\" possible permutations of the word are:\"+\"\\n\");\nfor(x=t/10;x\n\npublic boolean isUnique(int n) {\nint a[]={0,0,0,0,0,0,0,0,0,0};\nint r;\nwhile(n!=0)\n{\nr=n%10;\nif(a[r]!=0 || r==0)\nreturn false;\nelse\na[r]++;\nn/=10;\n}\nreturn true;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993027,"reputation":7385,"user_id":1786606,"accept_rate":100,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375873907,"creation_date":1375873907,"answer_id":18101874,"question_id":2799078,"body_markdown":"    IEnumerable&lt;IEnumerable&lt;int&gt;&gt; generatePermutations(int length)\r\n    {\r\n    \tif (length &lt;= 0) throw new ArgumentException();\r\n\r\n    \tvar resultCollection = new List&lt;IEnumerable&lt;int&gt;&gt; { new [] { 0 } };\r\n\t\r\n    \tfor (var index = 1; index &lt; length; index++)\r\n    \t{\r\n    \t\tvar newResultCollection = new List&lt;IEnumerable&lt;int&gt;&gt;();\r\n    \t\tforeach (var result in resultCollection)\r\n    \t\t{\r\n       \t\t\tfor (var insertIndex = index; insertIndex &gt;= 0; insertIndex--)\r\n    \t\t\t{\r\n    \t\t\t\tvar list = new List&lt;int&gt;(result);\r\n    \t\t\t\tlist.Insert(insertIndex, index);\r\n    \t\t\t\tnewResultCollection.Add(list);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tresultCollection = newResultCollection;\r\n    \t}\r\n    \t\r\n    \treturn resultCollection;\r\n    }","title":"Permutation algorithm without recursion? Java","body":"<pre><code>IEnumerable&lt;IEnumerable&lt;int&gt;&gt; generatePermutations(int length)\n{\n    if (length &lt;= 0) throw new ArgumentException();\n\n    var resultCollection = new List&lt;IEnumerable&lt;int&gt;&gt; { new [] { 0 } };\n\n    for (var index = 1; index &lt; length; index++)\n    {\n        var newResultCollection = new List&lt;IEnumerable&lt;int&gt;&gt;();\n        foreach (var result in resultCollection)\n        {\n            for (var insertIndex = index; insertIndex &gt;= 0; insertIndex--)\n            {\n                var list = new List&lt;int&gt;(result);\n                list.Insert(insertIndex, index);\n                newResultCollection.Add(list);\n            }\n        }\n        resultCollection = newResultCollection;\n    }\n\n    return resultCollection;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338065,"reputation":612,"user_id":2805017,"display_name":"Mattias F"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1415448303,"creation_date":1415448303,"answer_id":26816933,"question_id":2799078,"body_markdown":"Most examples I&#39;ve seen so far has either been too complicated, only using Strings or using swaps, so I figured I&#39;d make one which is iterative, intuitive, generic and swap free.\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; permutations(List&lt;T&gt; es){\r\n        \r\n      List&lt;List&lt;T&gt;&gt; permutations = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n    \r\n      if(es.isEmpty()){\r\n        return permutations;\r\n      }\r\n    \r\n      // We add the first element\r\n      permutations.add(new ArrayList&lt;T&gt;(Arrays.asList(es.get(0))));\r\n    \r\n      // Then, for all elements e in es (except from the first)\r\n      for (int i = 1, len = es.size(); i &lt; len; i++) {\r\n        T e = es.get(i);\r\n        \r\n        // We take remove each list l from &#39;permutations&#39;\r\n        for (int j = permutations.size() - 1; j &gt;= 0; j--) {\r\n          List&lt;T&gt; l = permutations.remove(j);\r\n          \r\n          // And adds a copy of l, with e inserted at index k for each position k in l\r\n          for (int k = l.size(); k &gt;= 0; k--) {\r\n            ArrayList&lt;T&gt; ts2 = new ArrayList&lt;&gt;(l);\r\n            ts2.add(k, e);\r\n            permutations.add(ts2);\r\n          }\r\n        }\r\n      }\r\n      return permutations;\r\n    }\r\n\r\nExample: we want all permutations of [a,b,c] &lt;br /&gt;\r\nWe add a and get [a] // [b,c] remaining&lt;br /&gt;\r\nWe take a from the list and adds [a,b] and [b,a] // [c] remaining&lt;br /&gt;\r\nWe remove [b,a], and inserts [b,a,c], [b,c,a], [c,b,a] and then we remove [a,b], and inserts [a,b,c], [a,c,b], [c,a,b] &lt;br /&gt;\r\n\r\n  [1]: http://pastebin.com/uSmFsSYH","title":"Permutation algorithm without recursion? Java","body":"<p>Most examples I've seen so far has either been too complicated, only using Strings or using swaps, so I figured I'd make one which is iterative, intuitive, generic and swap free.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; permutations(List&lt;T&gt; es){\n\n  List&lt;List&lt;T&gt;&gt; permutations = new ArrayList&lt;List&lt;T&gt;&gt;();\n\n  if(es.isEmpty()){\n    return permutations;\n  }\n\n  // We add the first element\n  permutations.add(new ArrayList&lt;T&gt;(Arrays.asList(es.get(0))));\n\n  // Then, for all elements e in es (except from the first)\n  for (int i = 1, len = es.size(); i &lt; len; i++) {\n    T e = es.get(i);\n\n    // We take remove each list l from 'permutations'\n    for (int j = permutations.size() - 1; j &gt;= 0; j--) {\n      List&lt;T&gt; l = permutations.remove(j);\n\n      // And adds a copy of l, with e inserted at index k for each position k in l\n      for (int k = l.size(); k &gt;= 0; k--) {\n        ArrayList&lt;T&gt; ts2 = new ArrayList&lt;&gt;(l);\n        ts2.add(k, e);\n        permutations.add(ts2);\n      }\n    }\n  }\n  return permutations;\n}\n</code></pre>\n\n<p>Example: we want all permutations of [a,b,c] <br />\nWe add a and get [a] // [b,c] remaining<br />\nWe take a from the list and adds [a,b] and [b,a] // [c] remaining<br />\nWe remove [b,a], and inserts [b,a,c], [b,c,a], [c,b,a] and then we remove [a,b], and inserts [a,b,c], [a,c,b], [c,a,b] <br /></p>\n"},{"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670878049,"creation_date":1428617069,"answer_id":29549866,"question_id":2799078,"body_markdown":"You can use [Factoradics](http://en.wikipedia.org/wiki/Factorial_number_system#Permutations) (you can see an implementation [here](https://gist.github.com/higuaro/8394933)) or the [Knuth&#39;s L-Algorithm](http://lh3.ggpht.com/_bLHHR6rd5Ug/Sxn2isijPNI/AAAAAAAAAK8/1oSWhhjB7AI/s1600-h/AlgorithmL20.gif) that generates all permutations. The following is an implementation of the latter:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Perm {\r\n        public static void main(String... args) {\r\n            final int N = 5;\r\n            int[] sequence = new int[N];\r\n            for (int i = 0; i &lt; N; i++) {\r\n                sequence[i] = i + 1;\r\n            }\r\n            \r\n            printSequence(sequence);\r\n            permutations(sequence);\r\n        }\r\n\r\n        private static int factorial(int n) {\r\n            int fact = 1;\r\n            for (int i = 1; i &lt;= n; i++) {\r\n                fact *= i;\r\n            }\r\n            return fact;\r\n        }\r\n        \r\n        private static void swap(int[] elements, int i, int j) {\r\n            int temp = elements[i];\r\n            elements[i] = elements[j];\r\n            elements[j] = temp;\r\n        }\r\n        \r\n        /**\r\n         * Reverses the elements of an array (in place) from the start index to the end index \r\n         */\r\n        private static void reverse(int[] array, int startIndex, int endIndex) {\r\n            int size = endIndex + 1 - startIndex;\r\n            int limit = startIndex + size / 2;\r\n            for (int i = startIndex; i &lt; limit; i++) {\r\n                // swap(array, i, startIndex + (size - 1 - (i - startIndex)));\r\n                swap(array, i, 2 * startIndex + size - 1 - i);\r\n            }\r\n        }\r\n    \r\n        private static void printSequence(int[] sequence) {\r\n            for (int i = 0; i &lt; sequence.length; i++) {\r\n                System.out.printf(&quot;%d, &quot;, sequence[i]);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        /**\r\n         * Implements the Knuth&#39;s L-Algorithm permutation algorithm \r\n         * modifying the collection in place\r\n         */\r\n        private static void permutations(int[] sequence) {\r\n            final int N = sequence.length;\r\n            // There are n! permutations, but the first permutation is the array without \r\n            // modifications, so the number of permutations is n! - 1\r\n            int numPermutations = factorial(N) - 1;\r\n            \r\n            // For every possible permutation \r\n            for (int n = 0; n &lt; numPermutations; n++) {\r\n    \r\n                // Iterate the array from right to left in search \r\n                // of the first couple of elements that are in ascending order\r\n                for (int i = N - 1; i &gt;= 1; i--) {\r\n                    // If the elements i and i - 1 are in ascending order\r\n                    if (sequence[i - 1] &lt; sequence[i]) {\r\n                        // Then the index &quot;i - 1&quot; becomes our pivot index \r\n                        int pivotIndex = i - 1;\r\n                        \r\n                        // Scan the elements at the right of the pivot (again, from right to left)\r\n                        // in search of the first element that is bigger\r\n                        // than the pivot and, if found, swap it\r\n                        for (int j = N - 1; j &gt; pivotIndex; j--) {\r\n                            if (sequence[j] &gt; sequence[pivotIndex]) {\r\n                                swap(sequence, j, pivotIndex);\r\n                                break;\r\n                            }\r\n                        }\r\n                        \r\n                        // Now reverse the elements from the right of the pivot index\r\n                        // (this nice touch to the algorithm avoids the recursion)\r\n                        reverse(sequence, pivotIndex + 1, N - 1);\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                printSequence(sequence);\r\n            }\r\n        }\r\n    }","title":"Permutation algorithm without recursion? Java","body":"<p>You can use <a href=\"http://en.wikipedia.org/wiki/Factorial_number_system#Permutations\" rel=\"nofollow noreferrer\">Factoradics</a> (you can see an implementation <a href=\"https://gist.github.com/higuaro/8394933\" rel=\"nofollow noreferrer\">here</a>) or the <a href=\"http://lh3.ggpht.com/_bLHHR6rd5Ug/Sxn2isijPNI/AAAAAAAAAK8/1oSWhhjB7AI/s1600-h/AlgorithmL20.gif\" rel=\"nofollow noreferrer\">Knuth's L-Algorithm</a> that generates all permutations. The following is an implementation of the latter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Perm {\n    public static void main(String... args) {\n        final int N = 5;\n        int[] sequence = new int[N];\n        for (int i = 0; i &lt; N; i++) {\n            sequence[i] = i + 1;\n        }\n        \n        printSequence(sequence);\n        permutations(sequence);\n    }\n\n    private static int factorial(int n) {\n        int fact = 1;\n        for (int i = 1; i &lt;= n; i++) {\n            fact *= i;\n        }\n        return fact;\n    }\n    \n    private static void swap(int[] elements, int i, int j) {\n        int temp = elements[i];\n        elements[i] = elements[j];\n        elements[j] = temp;\n    }\n    \n    /**\n     * Reverses the elements of an array (in place) from the start index to the end index \n     */\n    private static void reverse(int[] array, int startIndex, int endIndex) {\n        int size = endIndex + 1 - startIndex;\n        int limit = startIndex + size / 2;\n        for (int i = startIndex; i &lt; limit; i++) {\n            // swap(array, i, startIndex + (size - 1 - (i - startIndex)));\n            swap(array, i, 2 * startIndex + size - 1 - i);\n        }\n    }\n\n    private static void printSequence(int[] sequence) {\n        for (int i = 0; i &lt; sequence.length; i++) {\n            System.out.printf(&quot;%d, &quot;, sequence[i]);\n        }\n        System.out.println();\n    }\n\n    /**\n     * Implements the Knuth's L-Algorithm permutation algorithm \n     * modifying the collection in place\n     */\n    private static void permutations(int[] sequence) {\n        final int N = sequence.length;\n        // There are n! permutations, but the first permutation is the array without \n        // modifications, so the number of permutations is n! - 1\n        int numPermutations = factorial(N) - 1;\n        \n        // For every possible permutation \n        for (int n = 0; n &lt; numPermutations; n++) {\n\n            // Iterate the array from right to left in search \n            // of the first couple of elements that are in ascending order\n            for (int i = N - 1; i &gt;= 1; i--) {\n                // If the elements i and i - 1 are in ascending order\n                if (sequence[i - 1] &lt; sequence[i]) {\n                    // Then the index &quot;i - 1&quot; becomes our pivot index \n                    int pivotIndex = i - 1;\n                    \n                    // Scan the elements at the right of the pivot (again, from right to left)\n                    // in search of the first element that is bigger\n                    // than the pivot and, if found, swap it\n                    for (int j = N - 1; j &gt; pivotIndex; j--) {\n                        if (sequence[j] &gt; sequence[pivotIndex]) {\n                            swap(sequence, j, pivotIndex);\n                            break;\n                        }\n                    }\n                    \n                    // Now reverse the elements from the right of the pivot index\n                    // (this nice touch to the algorithm avoids the recursion)\n                    reverse(sequence, pivotIndex + 1, N - 1);\n                    break;\n                }\n            }\n\n            printSequence(sequence);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85715,"reputation":139,"user_id":238813,"display_name":"Sleem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563465383,"creation_date":1563465383,"answer_id":57098487,"question_id":2799078,"body_markdown":"This is a simple Java function to print all possible permutations (including the smaller ones down to empty string &quot;&quot;). if you need to print only the same length permutations, just add if statement prior the print.\r\n\r\n\r\nThe idea is same as recursion. But instead of stacking method calls. We use a data structure (as list in this example) to stack the permutations.\r\n\r\n\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n\r\n\r\n        public class Permutations {\r\n\r\n            public void perm(String input) {\r\n                List&lt;String[]&gt; buffer = new LinkedList&lt;&gt;();\r\n                buffer.add(new String[]{input, &quot;&quot;});\r\n                while (!buffer.isEmpty()) {\r\n                    String[] perm = buffer.remove(0);\r\n                    System.out.println(perm[1]);\r\n                    for (int i = 0; i &lt; perm[0].length(); i++) {\r\n                        buffer.add(new String[]{perm[0].substring(0, i) + perm[0].substring(i + 1), perm[1] + perm[0].charAt(i)});\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n","title":"Permutation algorithm without recursion? Java","body":"<p>This is a simple Java function to print all possible permutations (including the smaller ones down to empty string \"\"). if you need to print only the same length permutations, just add if statement prior the print.</p>\n\n<p>The idea is same as recursion. But instead of stacking method calls. We use a data structure (as list in this example) to stack the permutations.</p>\n\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\n\n\n    public class Permutations {\n\n        public void perm(String input) {\n            List&lt;String[]&gt; buffer = new LinkedList&lt;&gt;();\n            buffer.add(new String[]{input, \"\"});\n            while (!buffer.isEmpty()) {\n                String[] perm = buffer.remove(0);\n                System.out.println(perm[1]);\n                for (int i = 0; i &lt; perm[0].length(); i++) {\n                    buffer.add(new String[]{perm[0].substring(0, i) + perm[0].substring(i + 1), perm[1] + perm[0].charAt(i)});\n                }\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7007599,"reputation":5591,"user_id":5371505,"accept_rate":48,"display_name":"PirateApp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576901964,"creation_date":1576901964,"answer_id":59433460,"question_id":2799078,"body_markdown":"@Filip Nyugen solution in JS for those of you who want the answer in JS\r\n\r\n    function printPermutationsIterative(string) {\r\n        const factorials = [];\r\n        factorials[0] = 1;\r\n        for (let i = 1; i &lt;= string.length; i++) {\r\n            factorials[i] = factorials[i - 1] * i;\r\n        }\r\n    \r\n        for (let i = 0; i &lt; factorials[string.length]; i++) {\r\n            let onePermutation = &quot;&quot;;\r\n            let temp = string;\r\n            let positionCode = i;\r\n            for (let position = string.length; position &gt; 0; position--) {\r\n                let selected = positionCode / factorials[position - 1];\r\n                onePermutation += temp.charAt(selected);\r\n                positionCode = positionCode % factorials[position - 1];\r\n                temp = temp.substring(0, selected) + temp.substring(selected + 1);\r\n            }\r\n            console.log(onePermutation);\r\n        }\r\n    }","title":"Permutation algorithm without recursion? Java","body":"<p>@Filip Nyugen solution in JS for those of you who want the answer in JS</p>\n\n<pre><code>function printPermutationsIterative(string) {\n    const factorials = [];\n    factorials[0] = 1;\n    for (let i = 1; i &lt;= string.length; i++) {\n        factorials[i] = factorials[i - 1] * i;\n    }\n\n    for (let i = 0; i &lt; factorials[string.length]; i++) {\n        let onePermutation = \"\";\n        let temp = string;\n        let positionCode = i;\n        for (let position = string.length; position &gt; 0; position--) {\n            let selected = positionCode / factorials[position - 1];\n            onePermutation += temp.charAt(selected);\n            positionCode = positionCode % factorials[position - 1];\n            temp = temp.substring(0, selected) + temp.substring(selected + 1);\n        }\n        console.log(onePermutation);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":86728,"reputation":2449,"user_id":240977,"accept_rate":35,"display_name":"Andreas Hornig"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58023,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":13,"score":43,"last_activity_date":1670878049,"creation_date":1273437318,"question_id":2799078,"body_markdown":"I would like to get all combination of a number without any repetition.\r\nLike 0.1.2, 0.2.1, 1.2.0, 1.0.2, 2.0.1, 2.1.0.\r\nI tried to find an easy scheme, but couldn&#39;t. I drew a graph/tree for it and this screams to use recursion.\r\nBut I would like to do this without recursion, if this is possible.\r\n\r\nCan anyone please help me to do that?\r\n","title":"Permutation algorithm without recursion? Java","body":"<p>I would like to get all combination of a number without any repetition.\nLike 0.1.2, 0.2.1, 1.2.0, 1.0.2, 2.0.1, 2.1.0.\nI tried to find an easy scheme, but couldn't. I drew a graph/tree for it and this screams to use recursion.\nBut I would like to do this without recursion, if this is possible.</p>\n\n<p>Can anyone please help me to do that?</p>\n"},{"tags":["java","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1631529122,"post_id":69161034,"comment_id":122237741,"body_markdown":"I don&#39;t mean to be rude, but are you certain that you downloaded SQL Developer for MacOS? Also, I&#39;m only guessing but SQL Developer may be looking for environment variable JAVA_HOME. Have you defined such a variable?","body":"I don&#39;t mean to be rude, but are you certain that you downloaded SQL Developer for MacOS? Also, I&#39;m only guessing but SQL Developer may be looking for environment variable JAVA_HOME. Have you defined such a variable?"},{"owner":{"account_id":2125661,"reputation":814,"user_id":1887912,"accept_rate":65,"display_name":"JonB"},"score":0,"creation_date":1631529234,"post_id":69161034,"comment_id":122237778,"body_markdown":"@Abra I have downloaded the right version for a Mac, but I have not set the `JAVA_HOME` env. that is worth the try, I will try that, thanks for pointing that out.","body":"@Abra I have downloaded the right version for a Mac, but I have not set the <code>JAVA_HOME</code> env. that is worth the try, I will try that, thanks for pointing that out."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1631529308,"post_id":69161034,"comment_id":122237802,"body_markdown":"Maybe this will help: https://community.oracle.com/tech/developers/discussion/4477413/sql-developer-on-macos-11-big-sur","body":"Maybe this will help: <a href=\"https://community.oracle.com/tech/developers/discussion/4477413/sql-developer-on-macos-11-big-sur\" rel=\"nofollow noreferrer\">community.oracle.com/tech/developers/discussion/4477413/&hellip;</a>"},{"owner":{"account_id":2125661,"reputation":814,"user_id":1887912,"accept_rate":65,"display_name":"JonB"},"score":0,"creation_date":1631530567,"post_id":69161034,"comment_id":122238235,"body_markdown":"@Abra that&#39;s a great link, I managed to start up the SQL-Developer with the command line script, I think my issue is I have two java versions. When I run this command `  ~ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home` this java version is only needed for the Data Loader, and is not in path.","body":"@Abra that&#39;s a great link, I managed to start up the SQL-Developer with the command line script, I think my issue is I have two java versions. When I run this command <code>  ~ &#47;usr&#47;libexec&#47;java_home &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-16.jdk&#47;Contents&#47;Home</code> this java version is only needed for the Data Loader, and is not in path."},{"owner":{"account_id":2125661,"reputation":814,"user_id":1887912,"accept_rate":65,"display_name":"JonB"},"score":0,"creation_date":1631531528,"post_id":69161034,"comment_id":122238604,"body_markdown":"this is what have in my `~/.zshrc` =&gt; `export PATH=&quot;/usr/local/opt/openjdk@11/bin:$PATH&quot;`","body":"this is what have in my <code>~&#47;.zshrc</code> =&gt; <code>export PATH=&quot;&#47;usr&#47;local&#47;opt&#47;openjdk@11&#47;bin:$PATH&quot;</code>"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":1,"creation_date":1631532285,"post_id":69161034,"comment_id":122238855,"body_markdown":"we use this to find the JDK /usr/libexec/java_home -- that needs to return a valid jdk home. You can manually tell sqldev where to find java by updating product.conf file in your $HOME/.sqldeveloper directory.","body":"we use this to find the JDK /usr/libexec/java_home -- that needs to return a valid jdk home. You can manually tell sqldev where to find java by updating product.conf file in your $HOME/.sqldeveloper directory."}],"answers":[{"tags":[],"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1631549445,"creation_date":1631549445,"answer_id":69165950,"question_id":69161034,"body_markdown":"SQL Developer on a Mac will look for a Java JDK Home a la -\r\n\r\n    Jeffreys-Mini:21.2 thatjeffsmith$ /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home\r\n\r\nIf the answer is anything older than 7, equal to 9 or 10, or just something other than a valid JDK, it won&#39;t start.\r\n\r\n8 or 11 are officially supported. I&#39;ve played with 14, 16, and GraalVM 16. Stay away from the GraalVM for SQL Developer today - it&#39;s got issues. The newer Java&#39;s should be OK, although you&#39;ll get a warning about running a version higher than officially supported (8,11).\r\n\r\nIf you&#39;ve done all of this, and it STILL won&#39;t load. cd to your $HOME. Then go into your .sqldeveloper directory, and look for a a directory of the same name as your SQLDev version.\r\n\r\n    /Users/thatjeffsmith/.sqldeveloper/21.2.1\r\n\r\nIn there is a product.conf, find this line, uncomment it, supply full path to the JDK, save it, then start SQLDev.\r\n\r\n    #\r\n    # By default, the product launcher will search for a JDK to use, and if none\r\n    # can be found, it will ask for the location of a JDK and store its location\r\n    # in this file. If a particular JDK should be used instead, uncomment the\r\n    # line below and set the path to your preferred JDK.\r\n    #\r\n    # SetJavaHome /path/jdk\r\n\r\n","title":"Oracle SQL Developer complaining about java version missing","body":"<p>SQL Developer on a Mac will look for a Java JDK Home a la -</p>\n<pre><code>Jeffreys-Mini:21.2 thatjeffsmith$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home\n</code></pre>\n<p>If the answer is anything older than 7, equal to 9 or 10, or just something other than a valid JDK, it won't start.</p>\n<p>8 or 11 are officially supported. I've played with 14, 16, and GraalVM 16. Stay away from the GraalVM for SQL Developer today - it's got issues. The newer Java's should be OK, although you'll get a warning about running a version higher than officially supported (8,11).</p>\n<p>If you've done all of this, and it STILL won't load. cd to your $HOME. Then go into your .sqldeveloper directory, and look for a a directory of the same name as your SQLDev version.</p>\n<pre><code>/Users/thatjeffsmith/.sqldeveloper/21.2.1\n</code></pre>\n<p>In there is a product.conf, find this line, uncomment it, supply full path to the JDK, save it, then start SQLDev.</p>\n<pre><code>#\n# By default, the product launcher will search for a JDK to use, and if none\n# can be found, it will ask for the location of a JDK and store its location\n# in this file. If a particular JDK should be used instead, uncomment the\n# line below and set the path to your preferred JDK.\n#\n# SetJavaHome /path/jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219074,"reputation":2048,"user_id":475747,"accept_rate":78,"display_name":"ViV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670878024,"creation_date":1670878024,"answer_id":74777123,"question_id":69161034,"body_markdown":"For Mac M1, make sure you download the correct download for Mac ARM64.","title":"Oracle SQL Developer complaining about java version missing","body":"<p>For Mac M1, make sure you download the correct download for Mac ARM64.</p>\n"}],"owner":{"account_id":2125661,"reputation":814,"user_id":1887912,"accept_rate":65,"display_name":"JonB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69165950,"answer_count":2,"score":1,"last_activity_date":1670878024,"creation_date":1631528412,"question_id":69161034,"body_markdown":"I&#39;m not able to run Oracle SQL Developer on my mac(macOS Big Sur)\r\nIt complains about the Java Version which is strange, because I have Java 11 installed, installed via `HomeBrew`, and idea what might be the issue? \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4iv03.png","title":"Oracle SQL Developer complaining about java version missing","body":"<p>I'm not able to run Oracle SQL Developer on my mac(macOS Big Sur)\nIt complains about the Java Version which is strange, because I have Java 11 installed, installed via <code>HomeBrew</code>, and idea what might be the issue?</p>\n<p><a href=\"https://i.stack.imgur.com/4iv03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4iv03.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","interface","subclass"],"comments":[{"owner":{"account_id":5483,"reputation":4987,"user_id":8840,"accept_rate":79,"display_name":"Avrom"},"score":2,"creation_date":1233671959,"post_id":492184,"comment_id":321662,"body_markdown":"Although the solution based on the Reflections and Spring look interesting, I needed some simple solution that didn&#39;t have dependancies. It seems that my original code (with some tweaks) was the way to go.","body":"Although the solution based on the Reflections and Spring look interesting, I needed some simple solution that didn&#39;t have dependancies. It seems that my original code (with some tweaks) was the way to go."},{"owner":{"display_name":"user723720"},"score":1,"creation_date":1303734915,"post_id":492184,"comment_id":8975066,"body_markdown":"Surely you can use the getSupeClass method recursively?","body":"Surely you can use the getSupeClass method recursively?"},{"owner":{"account_id":5483,"reputation":4987,"user_id":8840,"accept_rate":79,"display_name":"Avrom"},"score":0,"creation_date":1304358531,"post_id":492184,"comment_id":8975067,"body_markdown":"I was specifically looking for *all subclasses* of a given class. getSuperClass will not tell you what subclasses a class has, only get the immediate super class for a specific subclass. Also, the method isAssignableFrom on Class is better suited for what you suggest (no need for recursion).","body":"I was specifically looking for <i>all subclasses</i> of a given class. getSuperClass will not tell you what subclasses a class has, only get the immediate super class for a specific subclass. Also, the method isAssignableFrom on Class is better suited for what you suggest (no need for recursion)."},{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":2,"creation_date":1588104079,"post_id":492184,"comment_id":108771340,"body_markdown":"This question is linked from many other duplicates, but it doesn&#39;t contain any useful, plain Java answer. Sigh...","body":"This question is linked from many other duplicates, but it doesn&#39;t contain any useful, plain Java answer. Sigh..."},{"owner":{"account_id":1076274,"reputation":2799,"user_id":1074353,"accept_rate":88,"display_name":"Art Swri"},"score":0,"creation_date":1657549494,"post_id":492184,"comment_id":128830514,"body_markdown":"@EricDuminil See Lyfing answer. Plain Java, constrained search. Just what I wanted.","body":"@EricDuminil See Lyfing answer. Plain Java, constrained search. Just what I wanted."}],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":4,"up_vote_count":84,"is_accepted":true,"score":80,"last_activity_date":1233244732,"creation_date":1233244732,"answer_id":492210,"question_id":492184,"body_markdown":"There is no other way to do it other than what you described. Think about it - how can anyone know what classes extend ClassX without scanning each class on the classpath?\r\n\r\nEclipse can only tell you about the super and subclasses in what seems to be an &quot;efficient&quot; amount of time because it already has all of the type data loaded at the point where you press the &quot;Display in Type Hierarchy&quot; button (since it is constantly compiling your classes, knows about everything on the classpath, etc).","title":"How do you find all subclasses of a given class in Java?","body":"<p>There is no other way to do it other than what you described. Think about it - how can anyone know what classes extend ClassX without scanning each class on the classpath?</p>\n\n<p>Eclipse can only tell you about the super and subclasses in what seems to be an \"efficient\" amount of time because it already has all of the type data loaded at the point where you press the \"Display in Type Hierarchy\" button (since it is constantly compiling your classes, knows about everything on the classpath, etc).</p>\n"},{"tags":[],"owner":{"account_id":589,"reputation":30817,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1583405826,"creation_date":1233244946,"answer_id":492224,"question_id":492184,"body_markdown":"This is not possible to do using only the built-in Java Reflections API.\n\nA project exists that does the necessary scanning and indexing of your classpath so you can get access this information...\n\n\n[Reflections][1]\n----------------\n&lt;blockquote&gt;\n&lt;p&gt;&lt;B&gt;A Java runtime metadata analysis, in the spirit of Scannotations&lt;/b&gt;&lt;/p&gt;\nReflections scans your classpath, indexes the metadata, allows you to query it on runtime and may save and collect that information for many modules within your project.\n&lt;p&gt;\nUsing Reflections you can query your metadata for:\n&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;get all subtypes of some type&lt;/li&gt;\n&lt;li&gt;get all types annotated with some annotation&lt;/li&gt;\n&lt;li&gt;get all types annotated with some annotation, including annotation parameters matching&lt;/li&gt;\n&lt;li&gt;get all methods annotated with some&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/blockquote&gt;\n\n(disclaimer: I have not used it, but the project&#39;s description seems to be an exact fit for your needs.)\n\n\n  [1]: https://github.com/ronmamo/reflections","title":"How do you find all subclasses of a given class in Java?","body":"<p>This is not possible to do using only the built-in Java Reflections API.</p>\n<p>A project exists that does the necessary scanning and indexing of your classpath so you can get access this information...</p>\n<h2><a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections</a></h2>\n<blockquote>\n<p><B>A Java runtime metadata analysis, in the spirit of Scannotations</b></p>\nReflections scans your classpath, indexes the metadata, allows you to query it on runtime and may save and collect that information for many modules within your project.\n<p>\nUsing Reflections you can query your metadata for:\n</p>\n<ul>\n<li>get all subtypes of some type</li>\n<li>get all types annotated with some annotation</li>\n<li>get all types annotated with some annotation, including annotation parameters matching</li>\n<li>get all methods annotated with some</li>\n</ul>\n</blockquote>\n<p>(disclaimer: I have not used it, but the project's description seems to be an exact fit for your needs.)</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233246691,"creation_date":1233246691,"answer_id":492376,"question_id":492184,"body_markdown":"It should be noted as well that this will of course only find all those subclasses that exist on your current classpath.  Presumably this is OK for what you are currently looking at, and chances are you did consider this, but if you have at any point released a non-`final` class into the wild (for varying levels of &quot;wild&quot;) then it is entirely feasible that someone else has written their own subclass that you will not know about.\r\n\r\nThus if you happened to be wanting to see all subclasses because you want to make a change and are going to see how it affects subclasses&#39; behaviour - then bear in mind the subclasses that you can&#39;t see.  Ideally all of your non-private methods, and the class itself should be well-documented; make changes according to this documentation without changing the semantics of methods/non-private fields and your changes should be backwards-compatible, for any subclass that followed your definition of the superclass at least.","title":"How do you find all subclasses of a given class in Java?","body":"<p>It should be noted as well that this will of course only find all those subclasses that exist on your current classpath.  Presumably this is OK for what you are currently looking at, and chances are you did consider this, but if you have at any point released a non-<code>final</code> class into the wild (for varying levels of \"wild\") then it is entirely feasible that someone else has written their own subclass that you will not know about.</p>\n\n<p>Thus if you happened to be wanting to see all subclasses because you want to make a change and are going to see how it affects subclasses' behaviour - then bear in mind the subclasses that you can't see.  Ideally all of your non-private methods, and the class itself should be well-documented; make changes according to this documentation without changing the semantics of methods/non-private fields and your changes should be backwards-compatible, for any subclass that followed your definition of the superclass at least.</p>\n"},{"tags":[],"owner":{"account_id":2539,"reputation":48109,"user_id":3542,"display_name":"Rob"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1233269831,"creation_date":1233269831,"answer_id":493865,"question_id":492184,"body_markdown":"Don&#39;t forget that the generated [Javadoc][1] for a class will include a list of known subclasses (and for interfaces, known implementing classes).\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/javadoc/","title":"How do you find all subclasses of a given class in Java?","body":"<p>Don't forget that the generated <a href=\"http://java.sun.com/j2se/javadoc/\" rel=\"noreferrer\">Javadoc</a> for a class will include a list of known subclasses (and for interfaces, known implementing classes).</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1320318976,"creation_date":1233270650,"answer_id":493902,"question_id":492184,"body_markdown":"The reason you see a difference between your implementation and Eclipse is because you scan each time, while Eclipse (and other tools) scan only once (during project load most of the times) and create an index. Next time you ask for the data it doesn&#39;t scan again, but look at the index.\r\n","title":"How do you find all subclasses of a given class in Java?","body":"<p>The reason you see a difference between your implementation and Eclipse is because you scan each time, while Eclipse (and other tools) scan only once (during project load most of the times) and create an index. Next time you ask for the data it doesn't scan again, but look at the index.</p>\n"},{"tags":[],"owner":{"account_id":23913,"reputation":5431,"user_id":60381,"display_name":"fforw"},"down_vote_count":2,"up_vote_count":153,"is_accepted":false,"score":151,"last_activity_date":1510503312,"creation_date":1233328436,"answer_id":495851,"question_id":492184,"body_markdown":"Scanning for classes is not easy with pure Java. \r\n\r\nThe spring framework offers a class called [ClassPathScanningCandidateComponentProvider](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.html) that can do what you need. The following example would find all subclasses of MyClass in the package org.example.package\r\n\r\n    ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\r\n    provider.addIncludeFilter(new AssignableTypeFilter(MyClass.class));\r\n\r\n    // scan in org.example.package\r\n    Set&lt;BeanDefinition&gt; components = provider.findCandidateComponents(&quot;org/example/package&quot;);\r\n    for (BeanDefinition component : components)\r\n    {\r\n        Class cls = Class.forName(component.getBeanClassName());\r\n        // use class cls found\r\n    }\r\n\r\nThis method has the additional benefit of using a bytecode analyzer to find the candidates which means it will *not* load all classes it scans.","title":"How do you find all subclasses of a given class in Java?","body":"<p>Scanning for classes is not easy with pure Java. </p>\n\n<p>The spring framework offers a class called <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.html\" rel=\"noreferrer\">ClassPathScanningCandidateComponentProvider</a> that can do what you need. The following example would find all subclasses of MyClass in the package org.example.package</p>\n\n<pre><code>ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\nprovider.addIncludeFilter(new AssignableTypeFilter(MyClass.class));\n\n// scan in org.example.package\nSet&lt;BeanDefinition&gt; components = provider.findCandidateComponents(\"org/example/package\");\nfor (BeanDefinition component : components)\n{\n    Class cls = Class.forName(component.getBeanClassName());\n    // use class cls found\n}\n</code></pre>\n\n<p>This method has the additional benefit of using a bytecode analyzer to find the candidates which means it will <em>not</em> load all classes it scans.</p>\n"},{"tags":[],"owner":{"account_id":150948,"reputation":3961,"user_id":364485,"accept_rate":78,"display_name":"Curtis"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1303327796,"creation_date":1303327796,"answer_id":5735629,"question_id":492184,"body_markdown":"I know I&#39;m a few years late to this party, but I came across this question trying to solve the same problem.  You can use Eclipse&#39;s internal searching programatically, if you&#39;re writing an Eclipse Plugin (and thus take advantage of their caching, etc), to find classes which implement an interface.  Here&#39;s my (very rough) first cut:\r\n\r\n      protected void listImplementingClasses( String iface ) throws CoreException\r\n      {\r\n        final IJavaProject project = &lt;get your project here&gt;;\r\n        try\r\n        {\r\n          final IType ifaceType = project.findType( iface );\r\n          final SearchPattern ifacePattern = SearchPattern.createPattern( ifaceType, IJavaSearchConstants.IMPLEMENTORS );\r\n          final IJavaSearchScope scope = SearchEngine.createWorkspaceScope();\r\n          final SearchEngine searchEngine = new SearchEngine();\r\n          final LinkedList&lt;SearchMatch&gt; results = new LinkedList&lt;SearchMatch&gt;();\r\n          searchEngine.search( ifacePattern, \r\n          new SearchParticipant[]{ SearchEngine.getDefaultSearchParticipant() }, scope, new SearchRequestor() {\r\n\r\n            @Override\r\n            public void acceptSearchMatch( SearchMatch match ) throws CoreException\r\n            {\r\n              results.add( match );\r\n            }\r\n            \r\n          }, new IProgressMonitor() {\r\n    \r\n            @Override\r\n            public void beginTask( String name, int totalWork )\r\n            {\r\n            }\r\n\r\n            @Override\r\n            public void done()\r\n            {\r\n              System.out.println( results );\r\n            }\r\n    \r\n            @Override\r\n            public void internalWorked( double work )\r\n            {\r\n            }\r\n    \r\n            @Override\r\n            public boolean isCanceled()\r\n            {\r\n              return false;\r\n            }\r\n    \r\n            @Override\r\n            public void setCanceled( boolean value )\r\n            {\r\n            }\r\n    \r\n            @Override\r\n            public void setTaskName( String name )\r\n            {\r\n            }\r\n\r\n            @Override\r\n            public void subTask( String name )\r\n            {\r\n            }\r\n\r\n            @Override\r\n            public void worked( int work )\r\n            {\r\n            }\r\n        \r\n          });\r\n      \r\n        } catch( JavaModelException e )\r\n        {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\nThe first problem I see so far is that I&#39;m only catching classes which directly implement the interface, not all their subclasses - but a little recursion never hurt anyone.","title":"How do you find all subclasses of a given class in Java?","body":"<p>I know I'm a few years late to this party, but I came across this question trying to solve the same problem.  You can use Eclipse's internal searching programatically, if you're writing an Eclipse Plugin (and thus take advantage of their caching, etc), to find classes which implement an interface.  Here's my (very rough) first cut:</p>\n\n<pre><code>  protected void listImplementingClasses( String iface ) throws CoreException\n  {\n    final IJavaProject project = &lt;get your project here&gt;;\n    try\n    {\n      final IType ifaceType = project.findType( iface );\n      final SearchPattern ifacePattern = SearchPattern.createPattern( ifaceType, IJavaSearchConstants.IMPLEMENTORS );\n      final IJavaSearchScope scope = SearchEngine.createWorkspaceScope();\n      final SearchEngine searchEngine = new SearchEngine();\n      final LinkedList&lt;SearchMatch&gt; results = new LinkedList&lt;SearchMatch&gt;();\n      searchEngine.search( ifacePattern, \n      new SearchParticipant[]{ SearchEngine.getDefaultSearchParticipant() }, scope, new SearchRequestor() {\n\n        @Override\n        public void acceptSearchMatch( SearchMatch match ) throws CoreException\n        {\n          results.add( match );\n        }\n\n      }, new IProgressMonitor() {\n\n        @Override\n        public void beginTask( String name, int totalWork )\n        {\n        }\n\n        @Override\n        public void done()\n        {\n          System.out.println( results );\n        }\n\n        @Override\n        public void internalWorked( double work )\n        {\n        }\n\n        @Override\n        public boolean isCanceled()\n        {\n          return false;\n        }\n\n        @Override\n        public void setCanceled( boolean value )\n        {\n        }\n\n        @Override\n        public void setTaskName( String name )\n        {\n        }\n\n        @Override\n        public void subTask( String name )\n        {\n        }\n\n        @Override\n        public void worked( int work )\n        {\n        }\n\n      });\n\n    } catch( JavaModelException e )\n    {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n\n<p>The first problem I see so far is that I'm only catching classes which directly implement the interface, not all their subclasses - but a little recursion never hurt anyone.</p>\n"},{"tags":[],"owner":{"account_id":9722,"reputation":3194,"user_id":18078,"accept_rate":0,"display_name":"David Leppik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1337029708,"creation_date":1337029708,"answer_id":10591089,"question_id":492184,"body_markdown":"I did this several years ago.  The most reliable way to do this (i.e. with official Java APIs and no external dependencies) is to write a custom doclet to produce a list that can be read at runtime.\r\n\r\nYou can run it from the command line like this:\r\n\r\n    javadoc -d build -doclet com.example.ObjectListDoclet -sourcepath java/src -subpackages com.example\r\n\r\nor run it from ant like this:\r\n\r\n    &lt;javadoc sourcepath=&quot;${src}&quot; packagenames=&quot;*&quot; &gt;\r\n      &lt;doclet name=&quot;com.example.ObjectListDoclet&quot; path=&quot;${build}&quot;/&gt;\r\n    &lt;/javadoc&gt;\r\n\r\nHere&#39;s the basic code:\r\n\r\n    public final class ObjectListDoclet {\r\n        public static final String TOP_CLASS_NAME =  &quot;com.example.MyClass&quot;;        \r\n\r\n        /** Doclet entry point. */\r\n        public static boolean start(RootDoc root) throws Exception {\r\n            try {\r\n                ClassDoc topClassDoc = root.classNamed(TOP_CLASS_NAME);\r\n                for (ClassDoc classDoc : root.classes()) {\r\n                    if (classDoc.subclassOf(topClassDoc)) {\r\n                        System.out.println(classDoc);\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    \r\nFor simplicity, I&#39;ve removed command line argument parsing and I&#39;m writing to System.out rather than a file.","title":"How do you find all subclasses of a given class in Java?","body":"<p>I did this several years ago.  The most reliable way to do this (i.e. with official Java APIs and no external dependencies) is to write a custom doclet to produce a list that can be read at runtime.</p>\n\n<p>You can run it from the command line like this:</p>\n\n<pre><code>javadoc -d build -doclet com.example.ObjectListDoclet -sourcepath java/src -subpackages com.example\n</code></pre>\n\n<p>or run it from ant like this:</p>\n\n<pre><code>&lt;javadoc sourcepath=\"${src}\" packagenames=\"*\" &gt;\n  &lt;doclet name=\"com.example.ObjectListDoclet\" path=\"${build}\"/&gt;\n&lt;/javadoc&gt;\n</code></pre>\n\n<p>Here's the basic code:</p>\n\n<pre><code>public final class ObjectListDoclet {\n    public static final String TOP_CLASS_NAME =  \"com.example.MyClass\";        \n\n    /** Doclet entry point. */\n    public static boolean start(RootDoc root) throws Exception {\n        try {\n            ClassDoc topClassDoc = root.classNamed(TOP_CLASS_NAME);\n            for (ClassDoc classDoc : root.classes()) {\n                if (classDoc.subclassOf(topClassDoc)) {\n                    System.out.println(classDoc);\n                }\n            }\n            return true;\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>For simplicity, I've removed command line argument parsing and I'm writing to System.out rather than a file.</p>\n"},{"tags":[],"owner":{"account_id":374251,"reputation":9615,"user_id":724361,"accept_rate":86,"display_name":"mikoak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376246096,"creation_date":1376246096,"answer_id":18175299,"question_id":492184,"body_markdown":"Keeping in mind the limitations mentioned in the other answers, you can also use [openpojo&#39;s `PojoClassFactory`][1] ([available on Maven][2]) in the following manner:\r\n\r\n    for(PojoClass pojoClass : PojoClassFactory.enumerateClassesByExtendingType(packageRoot, Superclass.class, null)) {\r\n    \tSystem.out.println(pojoClass.getClazz());\r\n    }\r\n\r\nWhere `packageRoot` is the root String of the packages you wish to search in (e.g. `&quot;com.mycompany&quot;` or even just `&quot;com&quot;`), and `Superclass` is your supertype (this works on interfaces as well).\r\n\r\n\r\n  [1]: https://code.google.com/p/openpojo/wiki/Documentation#Reflection_package\r\n  [2]: http://search.maven.org/#search%7Cga%7C1%7Copenpojo","title":"How do you find all subclasses of a given class in Java?","body":"<p>Keeping in mind the limitations mentioned in the other answers, you can also use <a href=\"https://code.google.com/p/openpojo/wiki/Documentation#Reflection_package\" rel=\"noreferrer\">openpojo's <code>PojoClassFactory</code></a> (<a href=\"http://search.maven.org/#search%7Cga%7C1%7Copenpojo\" rel=\"noreferrer\">available on Maven</a>) in the following manner:</p>\n\n<pre><code>for(PojoClass pojoClass : PojoClassFactory.enumerateClassesByExtendingType(packageRoot, Superclass.class, null)) {\n    System.out.println(pojoClass.getClazz());\n}\n</code></pre>\n\n<p>Where <code>packageRoot</code> is the root String of the packages you wish to search in (e.g. <code>\"com.mycompany\"</code> or even just <code>\"com\"</code>), and <code>Superclass</code> is your supertype (this works on interfaces as well).</p>\n"},{"tags":[],"owner":{"account_id":550474,"reputation":319,"user_id":915022,"accept_rate":47,"display_name":"Ravindranath Akila"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428984921,"creation_date":1428984921,"answer_id":29619080,"question_id":492184,"body_markdown":"Add them to a static map inside (this.getClass().getName()) the parent classes constructor (or create a default one) but this will get updated in runtime. If lazy initialization is an option you can try this approach.","title":"How do you find all subclasses of a given class in Java?","body":"<p>Add them to a static map inside (this.getClass().getName()) the parent classes constructor (or create a default one) but this will get updated in runtime. If lazy initialization is an option you can try this approach.</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1598451440,"creation_date":1443106553,"answer_id":32764587,"question_id":492184,"body_markdown":"Try [ClassGraph][1]. (Disclaimer, I am the author). ClassGraph supports scanning for subclasses of a given class, either at runtime or at build time, but also much more. ClassGraph can build an abstract representation of the entire class graph (all classes, annotations, methods, method parameters, and fields) in memory, for all classes on the classpath, or for classes in selected packages, and you can query this class graph however you want. ClassGraph supports [more classpath specification mechanisms and classloaders][2] than any other scanner, and also works seamlessly with the new JPMS module system, so if you base your code on ClassGraph, your code will be maximally portable. [See the API here.][3]\r\n\r\n  [1]: https://github.com/classgraph/classgraph\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n  [3]: https://github.com/classgraph/classgraph/wiki/ClassGraph-API","title":"How do you find all subclasses of a given class in Java?","body":"<p>Try <a href=\"https://github.com/classgraph/classgraph\" rel=\"noreferrer\">ClassGraph</a>. (Disclaimer, I am the author). ClassGraph supports scanning for subclasses of a given class, either at runtime or at build time, but also much more. ClassGraph can build an abstract representation of the entire class graph (all classes, annotations, methods, method parameters, and fields) in memory, for all classes on the classpath, or for classes in selected packages, and you can query this class graph however you want. ClassGraph supports <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"noreferrer\">more classpath specification mechanisms and classloaders</a> than any other scanner, and also works seamlessly with the new JPMS module system, so if you base your code on ClassGraph, your code will be maximally portable. <a href=\"https://github.com/classgraph/classgraph/wiki/ClassGraph-API\" rel=\"noreferrer\">See the API here.</a></p>\n"},{"tags":[],"owner":{"account_id":2273639,"reputation":1992,"user_id":2000468,"accept_rate":80,"display_name":"Xin Meng"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1486056756,"creation_date":1486056756,"answer_id":42008683,"question_id":492184,"body_markdown":"I just write a simple demo to use the `org.reflections.Reflections` to get subclasses of abstract class:\r\n\r\nhttps://github.com/xmeng1/ReflectionsDemo","title":"How do you find all subclasses of a given class in Java?","body":"<p>I just write a simple demo to use the <code>org.reflections.Reflections</code> to get subclasses of abstract class:</p>\n\n<p><a href=\"https://github.com/xmeng1/ReflectionsDemo\" rel=\"nofollow noreferrer\">https://github.com/xmeng1/ReflectionsDemo</a></p>\n"},{"tags":[],"owner":{"account_id":6414351,"reputation":399,"user_id":4973016,"display_name":"futchas"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1501750119,"creation_date":1501750119,"answer_id":45479267,"question_id":492184,"body_markdown":"I&#39;m using a reflection lib, which scans your classpath for all subclasses: https://github.com/ronmamo/reflections\r\n\r\nThis is how it would be done:\r\n\r\n    Reflections reflections = new Reflections(&quot;my.project&quot;);\r\n    Set&lt;Class&lt;? extends SomeType&gt;&gt; subTypes = reflections.getSubTypesOf(SomeType.class);","title":"How do you find all subclasses of a given class in Java?","body":"<p>I'm using a reflection lib, which scans your classpath for all subclasses: <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">https://github.com/ronmamo/reflections</a></p>\n\n<p>This is how it would be done:</p>\n\n<pre><code>Reflections reflections = new Reflections(\"my.project\");\nSet&lt;Class&lt;? extends SomeType&gt;&gt; subTypes = reflections.getSubTypesOf(SomeType.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74547,"reputation":14635,"user_id":214149,"accept_rate":93,"display_name":"Mac"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506300619,"creation_date":1502337941,"answer_id":45604272,"question_id":492184,"body_markdown":"Depending on your particular requirements, in some cases Java&#39;s [service loader][1] mechanism might achieve what you&#39;re after.\r\n\r\nIn short, it allows developers to explicitly declare that a class subclasses some other class (or implements some interface) by listing it in a file in the JAR/WAR file&#39;s `META-INF/services` directory. It can then be discovered using the [`java.util.ServiceLoader`][1] class which, when given a `Class` object, will generate instances of all the declared subclasses of that class (or, if the `Class` represents an interface, all the classes implementing that interface).\r\n\r\nThe main advantage of this approach is that there is no need to manually scan the entire classpath for subclasses - all the discovery logic is contained within the `ServiceLoader` class, and it only loads the classes explicitly declared in the `META-INF/services` directory (not every class on the classpath).\r\n\r\nThere are, however, some disadvantages:\r\n\r\n - It won&#39;t find **all** subclasses, only those that are explicitly declared. As such, if you need to truly find all subclasses, this approach may be insufficient.\r\n - It requires the developer to explicitly declare the class under the `META-INF/services` directory. This is an additional burden on the developer, and can be error-prone.\r\n - The `ServiceLoader.iterator()` generates subclass instances, not their `Class` objects. This causes two issues:\r\n   - You don&#39;t get any say on how the subclasses are constructed - the no-arg constructor is used to create the instances.\r\n   - As such, the subclasses must have a default constructor, or must explicity declare a no-arg constructor.\r\n\r\nApparently Java 9 will be addressing some of these shortcomings (in particular, the ones regarding instantiation of subclasses).\r\n\r\n### An Example\r\n\r\nSuppose you&#39;re interested in finding classes that implement an interface `com.example.Example`:\r\n\r\n    package com.example;\r\n    \r\n    public interface Example {\r\n        public String getStr();\r\n    }\r\n\r\nThe class `com.example.ExampleImpl` implements that interface:\r\n\r\n    package com.example;\r\n    \r\n    public class ExampleImpl implements Example {\r\n        public String getStr() {\r\n            return &quot;ExampleImpl&#39;s string.&quot;;\r\n        }\r\n    }\r\n\r\nYou would declare the class `ExampleImpl` is an implementation of `Example` by creating a file `META-INF/services/com.example.Example` containing the text `com.example.ExampleImpl`.\r\n\r\nThen, you could obtain an instance of each implementation of `Example` (including an instance of `ExampleImpl`) as follows:\r\n\r\n    ServiceLoader&lt;Example&gt; loader = ServiceLoader.load(Example.class)\r\n    for (Example example : loader) {\r\n        System.out.println(example.getStr());\r\n    }\r\n    \r\n    // Prints &quot;ExampleImpl&#39;s string.&quot;, plus whatever is returned\r\n    // by other declared implementations of com.example.Example.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html","title":"How do you find all subclasses of a given class in Java?","body":"<p>Depending on your particular requirements, in some cases Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">service loader</a> mechanism might achieve what you're after.</p>\n\n<p>In short, it allows developers to explicitly declare that a class subclasses some other class (or implements some interface) by listing it in a file in the JAR/WAR file's <code>META-INF/services</code> directory. It can then be discovered using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>java.util.ServiceLoader</code></a> class which, when given a <code>Class</code> object, will generate instances of all the declared subclasses of that class (or, if the <code>Class</code> represents an interface, all the classes implementing that interface).</p>\n\n<p>The main advantage of this approach is that there is no need to manually scan the entire classpath for subclasses - all the discovery logic is contained within the <code>ServiceLoader</code> class, and it only loads the classes explicitly declared in the <code>META-INF/services</code> directory (not every class on the classpath).</p>\n\n<p>There are, however, some disadvantages:</p>\n\n<ul>\n<li>It won't find <strong>all</strong> subclasses, only those that are explicitly declared. As such, if you need to truly find all subclasses, this approach may be insufficient.</li>\n<li>It requires the developer to explicitly declare the class under the <code>META-INF/services</code> directory. This is an additional burden on the developer, and can be error-prone.</li>\n<li>The <code>ServiceLoader.iterator()</code> generates subclass instances, not their <code>Class</code> objects. This causes two issues:\n\n<ul>\n<li>You don't get any say on how the subclasses are constructed - the no-arg constructor is used to create the instances.</li>\n<li>As such, the subclasses must have a default constructor, or must explicity declare a no-arg constructor.</li>\n</ul></li>\n</ul>\n\n<p>Apparently Java 9 will be addressing some of these shortcomings (in particular, the ones regarding instantiation of subclasses).</p>\n\n<h3>An Example</h3>\n\n<p>Suppose you're interested in finding classes that implement an interface <code>com.example.Example</code>:</p>\n\n<pre><code>package com.example;\n\npublic interface Example {\n    public String getStr();\n}\n</code></pre>\n\n<p>The class <code>com.example.ExampleImpl</code> implements that interface:</p>\n\n<pre><code>package com.example;\n\npublic class ExampleImpl implements Example {\n    public String getStr() {\n        return \"ExampleImpl's string.\";\n    }\n}\n</code></pre>\n\n<p>You would declare the class <code>ExampleImpl</code> is an implementation of <code>Example</code> by creating a file <code>META-INF/services/com.example.Example</code> containing the text <code>com.example.ExampleImpl</code>.</p>\n\n<p>Then, you could obtain an instance of each implementation of <code>Example</code> (including an instance of <code>ExampleImpl</code>) as follows:</p>\n\n<pre><code>ServiceLoader&lt;Example&gt; loader = ServiceLoader.load(Example.class)\nfor (Example example : loader) {\n    System.out.println(example.getStr());\n}\n\n// Prints \"ExampleImpl's string.\", plus whatever is returned\n// by other declared implementations of com.example.Example.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1389792,"reputation":913,"user_id":1320888,"accept_rate":100,"display_name":"Cutetare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524243091,"creation_date":1524243091,"answer_id":49946388,"question_id":492184,"body_markdown":"I needed to do this as a test case, to see if new classes had been added to the code. This is what I did\r\n\r\n    \r\n    final static File rootFolder = new File(SuperClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n\tprivate static ArrayList&lt;String&gt; files = new ArrayList&lt;String&gt;();\r\n\tlistFilesForFolder(rootFolder); \r\n\r\n\t@Test(timeout = 1000)\r\n    public void testNumberOfSubclasses(){\r\n\t\tArrayList&lt;String&gt; listSubclasses = new ArrayList&lt;&gt;(files);\r\n\t\tlistSubclasses.removeIf(s -&gt; !s.contains(&quot;Superclass.class&quot;));\r\n\t\tfor(String subclass : listSubclasses){\r\n\t\t\tSystem.out.println(subclass);\r\n\t\t}\r\n\t\tassertTrue(&quot;You did not create a new subclass!&quot;, listSubclasses.size() &gt;1);\t\t\r\n\t}\r\n\r\n\tpublic static void listFilesForFolder(final File folder) {\r\n\t\tfor (final File fileEntry : folder.listFiles()) {\r\n\t\t\tif (fileEntry.isDirectory()) {\r\n\t\t\t\tlistFilesForFolder(fileEntry);\r\n\t\t\t} else {\r\n\t\t\t\tfiles.add(fileEntry.getName().toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How do you find all subclasses of a given class in Java?","body":"<p>I needed to do this as a test case, to see if new classes had been added to the code. This is what I did</p>\n\n<pre><code>final static File rootFolder = new File(SuperClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\nprivate static ArrayList&lt;String&gt; files = new ArrayList&lt;String&gt;();\nlistFilesForFolder(rootFolder); \n\n@Test(timeout = 1000)\npublic void testNumberOfSubclasses(){\n    ArrayList&lt;String&gt; listSubclasses = new ArrayList&lt;&gt;(files);\n    listSubclasses.removeIf(s -&gt; !s.contains(\"Superclass.class\"));\n    for(String subclass : listSubclasses){\n        System.out.println(subclass);\n    }\n    assertTrue(\"You did not create a new subclass!\", listSubclasses.size() &gt;1);     \n}\n\npublic static void listFilesForFolder(final File folder) {\n    for (final File fileEntry : folder.listFiles()) {\n        if (fileEntry.isDirectory()) {\n            listFilesForFolder(fileEntry);\n        } else {\n            files.add(fileEntry.getName().toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14837517,"reputation":172,"user_id":10715144,"display_name":"P Mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583406477,"creation_date":1583406477,"answer_id":60543994,"question_id":492184,"body_markdown":"You can use org.reflections library and then, create an object of Reflections class. Using this object, you can get list of all subclasses of given class.\r\nhttps://www.javadoc.io/doc/org.reflections/reflections/0.9.10/org/reflections/Reflections.html\r\n\r\n\r\n        Reflections reflections = new Reflections(&quot;my.project.prefix&quot;);\r\n        System.out.println(reflections.getSubTypesOf(A.class)));","title":"How do you find all subclasses of a given class in Java?","body":"<p>You can use org.reflections library and then, create an object of Reflections class. Using this object, you can get list of all subclasses of given class.\n<a href=\"https://www.javadoc.io/doc/org.reflections/reflections/0.9.10/org/reflections/Reflections.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.reflections/reflections/0.9.10/org/reflections/Reflections.html</a></p>\n\n<pre><code>    Reflections reflections = new Reflections(\"my.project.prefix\");\n    System.out.println(reflections.getSubTypesOf(A.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289655,"reputation":1828,"user_id":1241980,"display_name":"Lyfing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607677176,"creation_date":1607677176,"answer_id":65248356,"question_id":492184,"body_markdown":"If you intend to load all subclassess of given class which are in the same package, you can do so:\r\n\r\n    public static List&lt;Class&gt; loadAllSubClasses(Class pClazz) throws IOException, ClassNotFoundException {\r\n        ClassLoader classLoader = pClazz.getClassLoader();\r\n        assert classLoader != null;\r\n        String packageName = pClazz.getPackage().getName();\r\n        String dirPath = packageName.replace(&quot;.&quot;, &quot;/&quot;);\r\n        Enumeration&lt;URL&gt; srcList = classLoader.getResources(dirPath);\r\n\r\n        List&lt;Class&gt; subClassList = new ArrayList&lt;&gt;();\r\n        while (srcList.hasMoreElements()) {\r\n            File dirFile = new File(srcList.nextElement().getFile());\r\n            File[] files = dirFile.listFiles();\r\n            if (files != null) {\r\n                for (File file : files) {\r\n                    String subClassName = packageName + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6);\r\n                    if (! subClassName.equals(pClazz.getName())) {\r\n                        subClassList.add(Class.forName(subClassName));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return subClassList;\r\n    }","title":"How do you find all subclasses of a given class in Java?","body":"<p>If you intend to load all subclassess of given class which are in the same package, you can do so:</p>\n<pre><code>public static List&lt;Class&gt; loadAllSubClasses(Class pClazz) throws IOException, ClassNotFoundException {\n    ClassLoader classLoader = pClazz.getClassLoader();\n    assert classLoader != null;\n    String packageName = pClazz.getPackage().getName();\n    String dirPath = packageName.replace(&quot;.&quot;, &quot;/&quot;);\n    Enumeration&lt;URL&gt; srcList = classLoader.getResources(dirPath);\n\n    List&lt;Class&gt; subClassList = new ArrayList&lt;&gt;();\n    while (srcList.hasMoreElements()) {\n        File dirFile = new File(srcList.nextElement().getFile());\n        File[] files = dirFile.listFiles();\n        if (files != null) {\n            for (File file : files) {\n                String subClassName = packageName + '.' + file.getName().substring(0, file.getName().length() - 6);\n                if (! subClassName.equals(pClazz.getName())) {\n                    subClassList.add(Class.forName(subClassName));\n                }\n            }\n        }\n    }\n\n    return subClassList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19028922,"reputation":25,"user_id":13891439,"display_name":"Enaium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619066872,"creation_date":1619066872,"answer_id":67206914,"question_id":492184,"body_markdown":"find all classes in classpath\r\n\r\n```java\r\npublic static List&lt;String&gt; getClasses() {\r\n        URLClassLoader urlClassLoader = (URLClassLoader) Thread.currentThread().getContextClassLoader();\r\n        List&lt;String&gt; classes = new ArrayList&lt;&gt;();\r\n        for (URL url : urlClassLoader.getURLs()) {\r\n            try {\r\n                if (url.toURI().getScheme().equals(&quot;file&quot;)) {\r\n                    File file = new File(url.toURI());\r\n                    if (file.exists()) {\r\n                        try {\r\n                            if (file.isDirectory()) {\r\n                                for (File listFile : FileUtils.listFiles(file, new String[]{&quot;class&quot;}, true)) {\r\n                                    String classFile = listFile.getAbsolutePath().replace(file.getAbsolutePath(), &quot;&quot;).replace(&quot;.class&quot;, &quot;&quot;);\r\n                                    if (classFile.startsWith(File.separator)) {\r\n                                        classFile = classFile.substring(1);\r\n                                    }\r\n                                    classes.add(classFile.replace(File.separator, &quot;.&quot;));\r\n                                }\r\n                            } else {\r\n                                JarFile jarFile = new JarFile(file);\r\n                                if (url.getFile().endsWith(&quot;.jar&quot;)) {\r\n                                    Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\r\n                                    while (entries.hasMoreElements()) {\r\n                                        JarEntry jarEntry = entries.nextElement();\r\n                                        if (jarEntry.getName().endsWith(&quot;.class&quot;)) {\r\n                                            classes.add(jarEntry.getName().replace(&quot;.class&quot;, &quot;&quot;).replace(&quot;/&quot;, &quot;.&quot;));\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return classes;\r\n    }\r\n```","title":"How do you find all subclasses of a given class in Java?","body":"<p>find all classes in classpath</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; getClasses() {\n        URLClassLoader urlClassLoader = (URLClassLoader) Thread.currentThread().getContextClassLoader();\n        List&lt;String&gt; classes = new ArrayList&lt;&gt;();\n        for (URL url : urlClassLoader.getURLs()) {\n            try {\n                if (url.toURI().getScheme().equals(&quot;file&quot;)) {\n                    File file = new File(url.toURI());\n                    if (file.exists()) {\n                        try {\n                            if (file.isDirectory()) {\n                                for (File listFile : FileUtils.listFiles(file, new String[]{&quot;class&quot;}, true)) {\n                                    String classFile = listFile.getAbsolutePath().replace(file.getAbsolutePath(), &quot;&quot;).replace(&quot;.class&quot;, &quot;&quot;);\n                                    if (classFile.startsWith(File.separator)) {\n                                        classFile = classFile.substring(1);\n                                    }\n                                    classes.add(classFile.replace(File.separator, &quot;.&quot;));\n                                }\n                            } else {\n                                JarFile jarFile = new JarFile(file);\n                                if (url.getFile().endsWith(&quot;.jar&quot;)) {\n                                    Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\n                                    while (entries.hasMoreElements()) {\n                                        JarEntry jarEntry = entries.nextElement();\n                                        if (jarEntry.getName().endsWith(&quot;.class&quot;)) {\n                                            classes.add(jarEntry.getName().replace(&quot;.class&quot;, &quot;&quot;).replace(&quot;/&quot;, &quot;.&quot;));\n                                        }\n                                    }\n                                }\n                            }\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            } catch (URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n        return classes;\n    }\n</code></pre>\n"}],"owner":{"account_id":5483,"reputation":4987,"user_id":8840,"accept_rate":79,"display_name":"Avrom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170157,"favorite_count":0,"down_vote_count":0,"up_vote_count":239,"accepted_answer_id":492210,"answer_count":18,"score":239,"last_activity_date":1670877835,"creation_date":1233244382,"question_id":492184,"body_markdown":"How does one go about and try to find all subclasses of a given class (or all implementors of a given interface) in Java?\r\nAs of now, I have a method to do this, but I find it quite inefficient (to say the least).\r\nThe method is: \r\n\r\n1. Get a list of all class names that exist on the class path\r\n1. Load each class and test to see if it is a subclass or implementor of the desired class or interface\r\n\r\nIn Eclipse, there is a nice feature called the Type Hierarchy that manages to show this quite efficiently.\r\nHow does one go about and do it programmatically?","title":"How do you find all subclasses of a given class in Java?","body":"<p>How does one go about and try to find all subclasses of a given class (or all implementors of a given interface) in Java?\nAs of now, I have a method to do this, but I find it quite inefficient (to say the least).\nThe method is: </p>\n\n<ol>\n<li>Get a list of all class names that exist on the class path</li>\n<li>Load each class and test to see if it is a subclass or implementor of the desired class or interface</li>\n</ol>\n\n<p>In Eclipse, there is a nice feature called the Type Hierarchy that manages to show this quite efficiently.\nHow does one go about and do it programmatically?</p>\n"},{"tags":["java","android","firebase","android-studio","unity-game-engine"],"comments":[{"owner":{"account_id":22802667,"reputation":371,"user_id":16955107,"display_name":"Hasnain Shaukat"},"score":0,"creation_date":1670908079,"post_id":74776120,"comment_id":131976130,"body_markdown":"As it is clearly mentioned you have duplicate files.","body":"As it is clearly mentioned you have duplicate files."}],"owner":{"account_id":25693315,"reputation":145,"user_id":19454412,"display_name":"Verc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670877795,"creation_date":1670871989,"question_id":74776120,"body_markdown":" I imported the project from unity to Android Studio, I can run it on the device and everything works fine, but when I try to connect Firebase to the project, I get this error immediately after connecting.\r\n\r\nI found similar problems and mostly they advise adding \r\n\r\nThese two lines, but it doesn&#39;t help me.\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nI also added the json file from Firebase to the project.   \r\n\r\n    Duplicate class androidx.annotation.AnimRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.AnimatorRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.AnyRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.AnyThread found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ArrayRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.AttrRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.BinderThread found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.BoolRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.CallSuper found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.CheckResult found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ChecksSdkIntAtLeast found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ColorInt found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ColorLong found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ColorRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.ContentView found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.DimenRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n        Duplicate class androidx.annotation.Dimension found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\r\n       ...\r\n        Go to the documentation to learn how to Fix dependency resolution errors.\r\n\r\nMy build.gradle(project)\r\n\r\n    allprojects {\r\n        buildscript {\r\n            repositories {\r\n                google()\r\n                jcenter()\r\n            }\r\n    \r\n            dependencies {\r\n                // If you are changing the Android Gradle Plugin version, make sure it is compatible with the Gradle version preinstalled with Unity\r\n                // See which Gradle version is preinstalled with Unity here https://docs.unity3d.com/Manual/android-gradle-overview.html\r\n                // See official Gradle and Android Gradle Plugin compatibility table here https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\r\n                // To specify a custom Gradle version in Unity, go do &quot;Preferences &gt; External Tools&quot;, uncheck &quot;Gradle Installed with Unity (recommended)&quot; and specify a path to a custom Gradle version\r\n                classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n                classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n    \r\n            }\r\n        }\r\n    \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            flatDir {\r\n                dirs &quot;${project(&#39;:unityLibrary&#39;).projectDir}/libs&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nMy build.gradle(module launcher)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    dependencies {\r\n        implementation project(&#39;:unityLibrary&#39;)\r\n        implementation &#39;com.google.firebase:firebase-inappmessaging-display:20.2.0&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 22\r\n            targetSdkVersion 30\r\n            applicationId &#39;com.MyCompany.test&#39;\r\n            ndk {\r\n                abiFilters &#39;armeabi-v7a&#39;\r\n            }\r\n            versionCode 1\r\n            versionName &#39;1.0&#39;\r\n        }\r\n    \r\n        aaptOptions {\r\n            noCompress = [&#39;.unity3d&#39;, &#39;.ress&#39;, &#39;.resource&#39;, &#39;.obb&#39;, &#39;.bundle&#39;, &#39;.unityexp&#39;] + unityStreamingAssets.tokenize(&#39;, &#39;)\r\n            ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\r\n        }\r\n    \r\n        lintOptions {\r\n            abortOnError false\r\n        }\r\n    \r\n        buildTypes {\r\n            debug {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n                signingConfig signingConfigs.debug\r\n                jniDebuggable true\r\n            }\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n                signingConfig signingConfigs.debug\r\n            }\r\n        }\r\n    \r\n        packagingOptions {\r\n            doNotStrip &#39;*/armeabi-v7a/*.so&#39;\r\n        }\r\n    \r\n        bundle {\r\n            language {\r\n                enableSplit = false\r\n            }\r\n            density {\r\n                enableSplit = false\r\n            }\r\n            abi {\r\n                enableSplit = true\r\n            }\r\n        }\r\n    }\r\n\r\n build.gradle (module libary)\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    \r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation(name: &#39;googlemobileads-unity&#39;, ext:&#39;aar&#39;)\r\n        implementation project(&#39;GoogleMobileAdsPlugin.androidlib&#39;)\r\n    \r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 22\r\n            targetSdkVersion 30\r\n            ndk {\r\n                abiFilters &#39;armeabi-v7a&#39;\r\n            }\r\n            versionCode 1\r\n            versionName &#39;1.0&#39;\r\n            consumerProguardFiles &#39;proguard-unity.txt&#39;\r\n        }\r\n    \r\n        lintOptions {\r\n            abortOnError false\r\n        }\r\n    \r\n        aaptOptions {\r\n            noCompress = [&#39;.unity3d&#39;, &#39;.ress&#39;, &#39;.resource&#39;, &#39;.obb&#39;, &#39;.bundle&#39;, &#39;.unityexp&#39;] + unityStreamingAssets.tokenize(&#39;, &#39;)\r\n            ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\r\n        }\r\n    \r\n        packagingOptions {\r\n            doNotStrip &#39;*/armeabi-v7a/*.so&#39;\r\n        }\r\n    }\r\n\r\nand gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx4096M\r\n    org.gradle.parallel=true\r\n    android.enableR8=false\r\n    unityStreamingAssets=.json\r\n    unityTemplateVersion=3\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\n","title":"Execution failed for task &#39;:launcher:checkDebugDuplicateClasses&#39;","body":"<p>I imported the project from unity to Android Studio, I can run it on the device and everything works fine, but when I try to connect Firebase to the project, I get this error immediately after connecting.</p>\n<p>I found similar problems and mostly they advise adding</p>\n<p>These two lines, but it doesn't help me.</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>I also added the json file from Firebase to the project.</p>\n<pre><code>Duplicate class androidx.annotation.AnimRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.AnimatorRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.AnyRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.AnyThread found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ArrayRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.AttrRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.BinderThread found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.BoolRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.CallSuper found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.CheckResult found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ChecksSdkIntAtLeast found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ColorInt found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ColorLong found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ColorRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.ContentView found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.DimenRes found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n    Duplicate class androidx.annotation.Dimension found in modules annotation-1.3.0.jar (androidx.annotation:annotation:1.3.0) and jetified-androidx.annotation.annotation-1.2.0.jar (androidx.annotation.annotation-1.2.0.jar)\n   ...\n    Go to the documentation to learn how to Fix dependency resolution errors.\n</code></pre>\n<p>My build.gradle(project)</p>\n<pre><code>allprojects {\n    buildscript {\n        repositories {\n            google()\n            jcenter()\n        }\n\n        dependencies {\n            // If you are changing the Android Gradle Plugin version, make sure it is compatible with the Gradle version preinstalled with Unity\n            // See which Gradle version is preinstalled with Unity here https://docs.unity3d.com/Manual/android-gradle-overview.html\n            // See official Gradle and Android Gradle Plugin compatibility table here https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\n            // To specify a custom Gradle version in Unity, go do &quot;Preferences &gt; External Tools&quot;, uncheck &quot;Gradle Installed with Unity (recommended)&quot; and specify a path to a custom Gradle version\n            classpath 'com.android.tools.build:gradle:4.0.1'\n            classpath 'com.google.gms:google-services:4.3.14'\n\n        }\n    }\n\n    repositories {\n        google()\n        jcenter()\n        flatDir {\n            dirs &quot;${project(':unityLibrary').projectDir}/libs&quot;\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>My build.gradle(module launcher)</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    implementation project(':unityLibrary')\n    implementation 'com.google.firebase:firebase-inappmessaging-display:20.2.0'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion '30.0.2'\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion 22\n        targetSdkVersion 30\n        applicationId 'com.MyCompany.test'\n        ndk {\n            abiFilters 'armeabi-v7a'\n        }\n        versionCode 1\n        versionName '1.0'\n    }\n\n    aaptOptions {\n        noCompress = ['.unity3d', '.ress', '.resource', '.obb', '.bundle', '.unityexp'] + unityStreamingAssets.tokenize(', ')\n        ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    buildTypes {\n        debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt')\n            signingConfig signingConfigs.debug\n            jniDebuggable true\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt')\n            signingConfig signingConfigs.debug\n        }\n    }\n\n    packagingOptions {\n        doNotStrip '*/armeabi-v7a/*.so'\n    }\n\n    bundle {\n        language {\n            enableSplit = false\n        }\n        density {\n            enableSplit = false\n        }\n        abi {\n            enableSplit = true\n        }\n    }\n}\n</code></pre>\n<p> build.gradle (module libary)</p>\n<pre><code>apply plugin: 'com.android.library'\n\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation(name: 'googlemobileads-unity', ext:'aar')\n    implementation project('GoogleMobileAdsPlugin.androidlib')\n\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion '30.0.2'\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion 22\n        targetSdkVersion 30\n        ndk {\n            abiFilters 'armeabi-v7a'\n        }\n        versionCode 1\n        versionName '1.0'\n        consumerProguardFiles 'proguard-unity.txt'\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    aaptOptions {\n        noCompress = ['.unity3d', '.ress', '.resource', '.obb', '.bundle', '.unityexp'] + unityStreamingAssets.tokenize(', ')\n        ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\n    }\n\n    packagingOptions {\n        doNotStrip '*/armeabi-v7a/*.so'\n    }\n}\n</code></pre>\n<p>and gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096M\norg.gradle.parallel=true\nandroid.enableR8=false\nunityStreamingAssets=.json\nunityTemplateVersion=3\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"},{"tags":["java","java-11","java-platform-module-system"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":1,"creation_date":1549893556,"post_id":54632086,"comment_id":96056561,"body_markdown":"In java 11, these libraries were removed from JDK. You need to add the libs as dependencies. Check this: https://blog.codefx.org/java/java-11-migration-guide/#Removal-Of-Java-EE-Modules","body":"In java 11, these libraries were removed from JDK. You need to add the libs as dependencies. Check this: <a href=\"https://blog.codefx.org/java/java-11-migration-guide/#Removal-Of-Java-EE-Modules\" rel=\"nofollow noreferrer\">blog.codefx.org/java/java-11-migration-guide/&hellip;</a>"},{"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"score":0,"creation_date":1549895231,"post_id":54632086,"comment_id":96057684,"body_markdown":"@NeplatnyUdaj i already added those dependencies. Otherwise, the application would not compile. For that reason i added org.glassfish.jaxb artefacts. If these are wrong, please tell me which one to use.","body":"@NeplatnyUdaj i already added those dependencies. Otherwise, the application would not compile. For that reason i added org.glassfish.jaxb artefacts. If these are wrong, please tell me which one to use."},{"owner":{"account_id":107535,"reputation":18395,"user_id":285878,"accept_rate":94,"display_name":"Jeremy Goodell"},"score":0,"creation_date":1619045284,"post_id":54632086,"comment_id":118789516,"body_markdown":"I followed the instructions in the first comment above. Adding jaxb-core and jaxb-impl to my lib directory solved my problems.","body":"I followed the instructions in the first comment above. Adding jaxb-core and jaxb-impl to my lib directory solved my problems."},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1623066775,"post_id":54632086,"comment_id":119964214,"body_markdown":"Does this answer your question? [Replacements for deprecated JPMS modules with Java EE APIs](https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a>"}],"answers":[{"tags":[],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1550059595,"creation_date":1550059595,"answer_id":54669831,"question_id":54632086,"body_markdown":"The solution is very easy. First, use jaxb 2.3.1. The beta-stuff is for testing only.\r\nThe real problem was the module-info.java. It is required to have 2 entries for jaxb:\r\n\r\n    requires java.xml.bind;\r\n    requires com.sun.xml.bind;\r\n\r\nThe first requires defines the implementation, the second the API.\r\n\r\nThe only two dependencies required are:\r\n\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    compile group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;2.3.1&#39;","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>The solution is very easy. First, use jaxb 2.3.1. The beta-stuff is for testing only.\nThe real problem was the module-info.java. It is required to have 2 entries for jaxb:</p>\n\n<pre><code>requires java.xml.bind;\nrequires com.sun.xml.bind;\n</code></pre>\n\n<p>The first requires defines the implementation, the second the API.</p>\n\n<p>The only two dependencies required are:</p>\n\n<pre><code>compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\ncompile group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '2.3.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425500,"reputation":793,"user_id":5822240,"display_name":"Filomat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568501981,"creation_date":1568501981,"answer_id":57939892,"question_id":54632086,"body_markdown":"Removed maven-dependency `com.sun.xml.bind` from my external library which is not modular and a lot of errors like `the unnamed module reads package com.sun.xml.bind.util` has gone.","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>Removed maven-dependency <code>com.sun.xml.bind</code> from my external library which is not modular and a lot of errors like <code>the unnamed module reads package com.sun.xml.bind.util</code> has gone.</p>\n"},{"tags":[],"owner":{"account_id":13534228,"reputation":27,"user_id":9763859,"display_name":"Amandeep Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660819579,"creation_date":1582008107,"answer_id":60275170,"question_id":54632086,"body_markdown":"I believe `java.lang.ClassNotFoundException` is coming because of multiple versions not able to define definition.\r\n\r\nSolution: delete `com.sun.xml` folder from your local m2 repository, and download only one dependency.\r\n\r\njavax.xml.bind:jaxb-api:&quot;latest-version&quot; in pom/gradle.","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I believe <code>java.lang.ClassNotFoundException</code> is coming because of multiple versions not able to define definition.</p>\n<p>Solution: delete <code>com.sun.xml</code> folder from your local m2 repository, and download only one dependency.</p>\n<p>javax.xml.bind:jaxb-api:&quot;latest-version&quot; in pom/gradle.</p>\n"},{"tags":[],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1612546900,"creation_date":1612546900,"answer_id":66068044,"question_id":54632086,"body_markdown":"In order to complete the other answers:\r\n\r\nJAXB uses the classloader bound to current thread to find the JAXB `ContextFactory` class (`Thread.currentThread().getContextClassLoader()`), and in some cases (for instance with jetty threads), the bound classloader is a `PlatformClassLoader`, which has the particularity to **not being aware of class-path**, contrary to the `AppClassLoader`.\r\n\r\nTo solve this issue JAXB API and runtime must be in the **module-path** (which is accessible by `PlatformClassLoader`).\r\n\r\nFor instance app is packaged with following dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo the application should be started with `jaxb-runtime` and its module dependencies, as below:\r\n\r\n```shell\r\n### Set the module-path\r\nMODULEPATH=&quot;./lib/jaxb-runtime-2.3.3.jar&quot;\r\nMODULEPATH=&quot;${MODULEPATH}:./lib/jakarta.activation-1.2.2.jar&quot;\r\nMODULEPATH=&quot;${MODULEPATH}:./lib/jakarta.xml.bind-api-2.3.3.jar&quot;\r\nMODULEPATH=&quot;${MODULEPATH}:./lib/txw2-2.3.3.jar&quot;\r\nMODULEPATH=&quot;${MODULEPATH}:./lib/istack-commons-runtime-3.0.11.jar&quot;\r\n\r\njava --module-path ${MODULEPATH} --add-modules ALL-MODULE-PATH [...]\r\n```\r\n\r\n&gt; Note: ALL-MODULE-PATH could be replaced by specific module names","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>In order to complete the other answers:</p>\n<p>JAXB uses the classloader bound to current thread to find the JAXB <code>ContextFactory</code> class (<code>Thread.currentThread().getContextClassLoader()</code>), and in some cases (for instance with jetty threads), the bound classloader is a <code>PlatformClassLoader</code>, which has the particularity to <strong>not being aware of class-path</strong>, contrary to the <code>AppClassLoader</code>.</p>\n<p>To solve this issue JAXB API and runtime must be in the <strong>module-path</strong> (which is accessible by <code>PlatformClassLoader</code>).</p>\n<p>For instance app is packaged with following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So the application should be started with <code>jaxb-runtime</code> and its module dependencies, as below:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>### Set the module-path\nMODULEPATH=&quot;./lib/jaxb-runtime-2.3.3.jar&quot;\nMODULEPATH=&quot;${MODULEPATH}:./lib/jakarta.activation-1.2.2.jar&quot;\nMODULEPATH=&quot;${MODULEPATH}:./lib/jakarta.xml.bind-api-2.3.3.jar&quot;\nMODULEPATH=&quot;${MODULEPATH}:./lib/txw2-2.3.3.jar&quot;\nMODULEPATH=&quot;${MODULEPATH}:./lib/istack-commons-runtime-3.0.11.jar&quot;\n\njava --module-path ${MODULEPATH} --add-modules ALL-MODULE-PATH [...]\n</code></pre>\n<blockquote>\n<p>Note: ALL-MODULE-PATH could be replaced by specific module names</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":432749,"reputation":111,"user_id":817698,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620320362,"creation_date":1620320362,"answer_id":67422763,"question_id":54632086,"body_markdown":"I found there to be a ClassLoader bug, especially if you&#39;re doing work within a thread via a ForkJoinPool or similar.  The bug is listed here: https://github.com/eclipse-ee4j/jaxb-api/issues/78\r\n\r\nCreating the JaxbContext statically will force the correct ClassLoader to be used, but it&#39;s hacky. :/","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I found there to be a ClassLoader bug, especially if you're doing work within a thread via a ForkJoinPool or similar.  The bug is listed here: <a href=\"https://github.com/eclipse-ee4j/jaxb-api/issues/78\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-api/issues/78</a></p>\n<p>Creating the JaxbContext statically will force the correct ClassLoader to be used, but it's hacky. :/</p>\n"},{"tags":[],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623064594,"creation_date":1623064594,"answer_id":67870623,"question_id":54632086,"body_markdown":"I was using the `Moxy` and I was getting this error even after adding the `jaxb.properties` file. So I had to make sure followings:\r\n\r\nFollowing are `dependency`:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n\r\nAlong with dependency its important to make sure that `Moxy` uses the `jaxb.properties` file during the `compilatation` which is present within the same package. So add the following above the `dependencies` within the `pom.xml`:\r\n```\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;8&lt;/source&gt;\r\n          &lt;target&gt;8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\n\r\nEvertything together would be something like this:\r\n```\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;8&lt;/source&gt;\r\n          &lt;target&gt;8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I was using the <code>Moxy</code> and I was getting this error even after adding the <code>jaxb.properties</code> file. So I had to make sure followings:</p>\n<p>Following are <code>dependency</code>:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p>Along with dependency its important to make sure that <code>Moxy</code> uses the <code>jaxb.properties</code> file during the <code>compilatation</code> which is present within the same package. So add the following above the <code>dependencies</code> within the <code>pom.xml</code>:</p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;8&lt;/source&gt;\n          &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Evertything together would be something like this:</p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;8&lt;/source&gt;\n          &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n  &lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12535990,"reputation":1549,"user_id":9122660,"display_name":"Ostecke"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1625559650,"creation_date":1625559650,"answer_id":68266985,"question_id":54632086,"body_markdown":"When upgrading to SpringBoot 2.5, I received the same exception. Adding the following dependency (Maven) solved my issues: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>When upgrading to SpringBoot 2.5, I received the same exception. Adding the following dependency (Maven) solved my issues:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11228004,"reputation":99,"user_id":8237072,"display_name":"DHEERAJ KUMAR GUPTA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640781821,"creation_date":1627911613,"answer_id":68622617,"question_id":54632086,"body_markdown":"For the implementation of OAuth2 with Spring 2.5.3, along with the dependency of OAuth2\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.1.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nuse of following dependency will remove the error\r\n      `Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:822) ~[na:na] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]`\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>For the implementation of OAuth2 with Spring 2.5.3, along with the dependency of OAuth2</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>use of following dependency will remove the error\n<code>Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:822) ~[na:na] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670877743,"creation_date":1670877743,"answer_id":74777087,"question_id":54632086,"body_markdown":"I was facing the same issue for Java 11 - Gradle and below dependencies resolved it\r\n\r\n    \r\n\tcompileOnly &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n\tcompileOnly &#39;org.glassfish.jaxb:jaxb-runtime:2.3.1&#39; code here","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I was facing the same issue for Java 11 - Gradle and below dependencies resolved it</p>\n<pre><code>compileOnly 'javax.xml.bind:jaxb-api:2.3.1'\ncompileOnly 'org.glassfish.jaxb:jaxb-runtime:2.3.1' code here\n</code></pre>\n"}],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77553,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":9,"score":20,"last_activity_date":1670877743,"creation_date":1549893206,"question_id":54632086,"body_markdown":"I have a little project which does throw an exception when i let it run.\r\n\r\nThe problem is here (TestObject.java):\r\n\r\n    final JAXBContext jaxbContext = JAXBContext.newInstance(...);\r\n\r\nI really do not understand why this throws the exception. I also created a test which works like a charm (TestTest.java). Please forgive me the names, but this is just a small test application to get this working with java 11.\r\n\r\nI followed this: https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\r\nand added \r\n\r\n    compile(&#39;javax.xml.bind:jaxb-api:2.3.0&#39;)\r\n    compile(&#39;javax.activation:activation:1.1&#39;)\r\n    compile(&#39;org.glassfish.jaxb:jaxb-runtime:2.3.0&#39;)\r\nto my build.gradle but then it complains that \r\n\r\n    Error:java: module not found: java.activation\r\nis missing. As this is also removed from Java 11 i added:\r\n\r\n    compile &#39;com.sun.activation:javax.activation:1.2.0&#39;\r\nbut then it throws a lot of errors:\r\n\r\n    Error:java: the unnamed module reads package com.sun.xml.bind from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.util from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.marshaller from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.api from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2 from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2.util from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2.model.impl from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2.model.annotation from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2.runtime from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.v2.runtime.unmarshaller from both jaxb.runtime and jaxb.core\r\n    Error:java: the unnamed module reads package com.sun.xml.bind.unmarshaller from both jaxb.runtime and jaxb.core\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.util from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.marshaller from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.api from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2 from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2.util from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2.model.impl from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2.model.annotation from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2.runtime from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.v2.runtime.unmarshaller from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.runtime reads package com.sun.xml.bind.unmarshaller from both jaxb.core and jaxb.runtime\r\n    Error:java: module jaxb.core reads package com.sun.xml.bind from both jaxb.core and jaxb.runtime\r\n\r\nWhat is so confusing to me: the test works. So it seems like there is some kind of jaxb-implementation in the junit5 environment. \r\nI also found some other information in how to migrate a java 8 app to java 9 modules, where i found this:\r\n\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.4.0-b180830.0359&#39;\r\n    compile group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;2.4.0-b180830.0438&#39;\r\n    compile group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-xjc&#39;, version: &#39;2.4.0-b180830.0438&#39;\r\nBut this is also not working. I would be very happy if someone can help me to get that running.\r\nI use java-openjdk-11.0.1.13-11.rolling.fc29.x86_64 on Fedora 29, 64 bit.\r\n\r\nps.: i wanted to write all that into the comment of the post with topic &quot;javax.xml.bind.JAXBException...&quot; but i was not allowed to do so. So i created this new post.\r\n\r\nedit: the exception which is thrown in that sample application is this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n    \tat test/com.example.TestObject.doSomething(TestObject.java:21)\r\n    \tat test/com.example.TestObject.main(TestObject.java:12)\r\n    Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n    \tat java.xml.bind/javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\r\n    \tat java.xml.bind/javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n    \tat java.xml.bind/javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tat java.xml.bind/javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \tat test/com.example.TestObject.doSomething(TestObject.java:17)\r\n    \t... 1 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat java.xml.bind/javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n    \tat java.xml.bind/javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n    \tat java.xml.bind/javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\r\n    \t... 5 more","title":"Java 11: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I have a little project which does throw an exception when i let it run.</p>\n\n<p>The problem is here (TestObject.java):</p>\n\n<pre><code>final JAXBContext jaxbContext = JAXBContext.newInstance(...);\n</code></pre>\n\n<p>I really do not understand why this throws the exception. I also created a test which works like a charm (TestTest.java). Please forgive me the names, but this is just a small test application to get this working with java 11.</p>\n\n<p>I followed this: <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a>\nand added </p>\n\n<pre><code>compile('javax.xml.bind:jaxb-api:2.3.0')\ncompile('javax.activation:activation:1.1')\ncompile('org.glassfish.jaxb:jaxb-runtime:2.3.0')\n</code></pre>\n\n<p>to my build.gradle but then it complains that </p>\n\n<pre><code>Error:java: module not found: java.activation\n</code></pre>\n\n<p>is missing. As this is also removed from Java 11 i added:</p>\n\n<pre><code>compile 'com.sun.activation:javax.activation:1.2.0'\n</code></pre>\n\n<p>but then it throws a lot of errors:</p>\n\n<pre><code>Error:java: the unnamed module reads package com.sun.xml.bind from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.util from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.marshaller from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.api from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2 from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2.util from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2.model.impl from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2.model.annotation from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2.runtime from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.v2.runtime.unmarshaller from both jaxb.runtime and jaxb.core\nError:java: the unnamed module reads package com.sun.xml.bind.unmarshaller from both jaxb.runtime and jaxb.core\nError:java: module jaxb.runtime reads package com.sun.xml.bind from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.util from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.marshaller from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.api from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2 from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2.util from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2.model.impl from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2.model.annotation from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2.runtime from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.v2.runtime.unmarshaller from both jaxb.core and jaxb.runtime\nError:java: module jaxb.runtime reads package com.sun.xml.bind.unmarshaller from both jaxb.core and jaxb.runtime\nError:java: module jaxb.core reads package com.sun.xml.bind from both jaxb.core and jaxb.runtime\n</code></pre>\n\n<p>What is so confusing to me: the test works. So it seems like there is some kind of jaxb-implementation in the junit5 environment. \nI also found some other information in how to migrate a java 8 app to java 9 modules, where i found this:</p>\n\n<pre><code>compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.4.0-b180830.0359'\ncompile group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '2.4.0-b180830.0438'\ncompile group: 'org.glassfish.jaxb', name: 'jaxb-xjc', version: '2.4.0-b180830.0438'\n</code></pre>\n\n<p>But this is also not working. I would be very happy if someone can help me to get that running.\nI use java-openjdk-11.0.1.13-11.rolling.fc29.x86_64 on Fedora 29, 64 bit.</p>\n\n<p>ps.: i wanted to write all that into the comment of the post with topic \"javax.xml.bind.JAXBException...\" but i was not allowed to do so. So i created this new post.</p>\n\n<p>edit: the exception which is thrown in that sample application is this:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    at test/com.example.TestObject.doSomething(TestObject.java:21)\n    at test/com.example.TestObject.main(TestObject.java:12)\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    at java.xml.bind/javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\n    at java.xml.bind/javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    at java.xml.bind/javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at java.xml.bind/javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    at test/com.example.TestObject.doSomething(TestObject.java:17)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.xml.bind/javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    at java.xml.bind/javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    at java.xml.bind/javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","eclipse","youtube","google-api","youtube-api"],"comments":[{"owner":{"account_id":45053,"reputation":3163,"user_id":132565,"accept_rate":67,"display_name":"Chase"},"score":0,"creation_date":1480390735,"post_id":36187677,"comment_id":68931147,"body_markdown":"As the question you linked to explained, the file you are looking for is at https://github.com/youtube/api-samples/blob/master/java/src/main/java/com/google/api/services/samples/youtube/cmdline/Auth.java","body":"As the question you linked to explained, the file you are looking for is at <a href=\"https://github.com/youtube/api-samples/blob/master/java/src/main/java/com/google/api/services/samples/youtube/cmdline/Auth.java\" rel=\"nofollow noreferrer\">github.com/youtube/api-samples/blob/master/java/src/main/jav&zwnj;&#8203;a/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5303874,"reputation":5062,"user_id":4464702,"accept_rate":96,"display_name":"randers"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458843568,"creation_date":1458843568,"answer_id":36207322,"question_id":36187677,"body_markdown":"The library you are looking for is here: https://github.com/google/gdata-java-client\r\n\r\nThe [maven][1] dependency is:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.47.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/com.google.gdata/core","title":"import com.google.api.services.samples.youtube.cmdline.Auth;","body":"<p>The library you are looking for is here: <a href=\"https://github.com/google/gdata-java-client\" rel=\"nofollow\">https://github.com/google/gdata-java-client</a></p>\n\n<p>The <a href=\"http://mvnrepository.com/artifact/com.google.gdata/core\" rel=\"nofollow\">maven</a> dependency is:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;1.47.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5687709,"reputation":213,"user_id":4496698,"accept_rate":44,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2525,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1670877718,"creation_date":1458763412,"question_id":36187677,"body_markdown":"I am trying to do the youtube example [here][1] about how to download captions using JAVA.  I was able to import all the libraries that they used except one,  com.google.api.services.samples.youtube.cmdline.Auth.  I don&#39;t konw where to find this libary to import.  This is similar to this [question][2] but im not sure how the given answer helps.\r\n\r\nthe two lines that need this import are \r\n\r\n     Credential credential = Auth.authorize(scopes, &quot;captions&quot;);\r\n\r\n    youtube = new YouTube.Builder(Auth.HTTP_TRANSPORT, Auth.JSON_FACTORY, credential)\r\n                    .setApplicationName(&quot;youtube-cmdline-captions-sample&quot;).build();\r\n    \r\n\r\n\r\n  [1]: https://developers.google.com/youtube/v3/docs/captions/download#examples\r\n  [2]: https://stackoverflow.com/questions/24065065/having-trouble-importing-google-api-services-samples-youtube-cmdline-auth","title":"import com.google.api.services.samples.youtube.cmdline.Auth;","body":"<p>I am trying to do the youtube example <a href=\"https://developers.google.com/youtube/v3/docs/captions/download#examples\" rel=\"nofollow noreferrer\">here</a> about how to download captions using JAVA.  I was able to import all the libraries that they used except one,  com.google.api.services.samples.youtube.cmdline.Auth.  I don't konw where to find this libary to import.  This is similar to this <a href=\"https://stackoverflow.com/questions/24065065/having-trouble-importing-google-api-services-samples-youtube-cmdline-auth\">question</a> but im not sure how the given answer helps.</p>\n\n<p>the two lines that need this import are </p>\n\n<pre><code> Credential credential = Auth.authorize(scopes, \"captions\");\n\nyoutube = new YouTube.Builder(Auth.HTTP_TRANSPORT, Auth.JSON_FACTORY, credential)\n                .setApplicationName(\"youtube-cmdline-captions-sample\").build();\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655618585,"post_id":72674565,"comment_id":128371590,"body_markdown":"You will need to print the first row of each letter *before* you print a newline.","body":"You will need to print the first row of each letter <i>before</i> you print a newline."},{"owner":{"account_id":23294850,"reputation":11,"user_id":17376401,"display_name":"Siriki Lohit"},"score":0,"creation_date":1655619040,"post_id":72674565,"comment_id":128371656,"body_markdown":"Oh Okay. ll try it.","body":"Oh Okay. ll try it."},{"owner":{"account_id":23294850,"reputation":11,"user_id":17376401,"display_name":"Siriki Lohit"},"score":0,"creation_date":1655619105,"post_id":72674565,"comment_id":128371667,"body_markdown":"@tgdavies can you send me the code to print TEL in a horizontal manner if you can???","body":"@tgdavies can you send me the code to print TEL in a horizontal manner if you can???"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1655622395,"post_id":72674565,"comment_id":128372052,"body_markdown":"Does this answer your question? [Print ASCII lines next to each other in Java?](https://stackoverflow.com/questions/69346613/print-ascii-lines-next-to-each-other-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69346613/print-ascii-lines-next-to-each-other-in-java\">Print ASCII lines next to each other in Java?</a>"}],"owner":{"account_id":23294850,"reputation":11,"user_id":17376401,"display_name":"Siriki Lohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670877297,"creation_date":1655618104,"question_id":72674565,"body_markdown":"I wanted to print &quot;TEL&quot; using star patterns and for loop.\r\n\r\n\r\nBut when I tried it, I&#39;m not getting it in a horizontal way, instead in a vertical way.\r\n\r\nThe output:\r\n\r\n```\r\n*****\r\n  *  \r\n  *  \r\n  *  \r\n  *  \r\n\r\n\r\n\r\n******\r\n*\r\n****\r\n*\r\n******\r\n\r\n\r\n ```\r\n\r\n\r\n\r\n\r\n```\r\n\r\n```\r\n**CODE**\r\n```\r\nThe code :\r\n```java\r\npublic class test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint h = 5;\r\n\t        int w = (2*h)-1;\r\n\r\n\t        int i, j;\r\n\t    for (i = 0; i &lt; h; i++)\r\n\t    {\r\n\t        for (j = 0; j &lt; h; j++)\r\n\t        {\r\n\t            if (i == 0)\r\n\t                System.out.print(&quot;*&quot;);\r\n\t            else if (j == h / 2)\r\n\t                System.out.print(&quot;*&quot;);\r\n\t            else if (i == h)\r\n\t            {\r\n\t            \tSystem.out.println(&quot;     &quot;);\r\n\t            }\r\n\t            else\r\n\t                System.out.print(&quot; &quot;);\r\n\t        }\r\n\t        System.out.print(&quot;\\n&quot;);\r\n\t        \r\n\t    \r\n\r\n\t    }\r\n\r\n\t     System.out.println();\r\n\t    System.out.println();\r\n\t    System.out.println();\r\n\r\n\t    for (i = 0; i &lt; h; i++)\r\n\t    {\r\n\t        System.out.print(&quot;*&quot;);\r\n\t        for (j = 0; j &lt; h; j++)\r\n\t        {\r\n\t            if ((i == 0 || i == h - 1)\r\n\t                || (i == h / 2\r\n\t                    &amp;&amp; j &lt;= h / 2))\r\n\t                System.out.print(&quot;*&quot;);\r\n\t            else\r\n\t                continue;\r\n\t        }\r\n\t        System.out.print(&quot;\\n&quot;);\r\n\t    }\r\n\r\n\t    System.out.println();\r\n\t    System.out.println();\r\n\t    System.out.println();\r\n\r\n\t    for (i = 0; i &lt; h; i++)\r\n\t    {\r\n\t        System.out.print(&quot;*&quot;);\r\n\t        for (j = 0; j &lt;= h; j++)\r\n\t        {\r\n\t            if (i == h - 1)\r\n\t                System.out.print(&quot;*&quot;);\r\n\t            else\r\n\t                System.out.print(&quot; &quot;);\r\n\t        }\r\n\t        System.out.println();\t    \r\n\t        }\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n```\r\n\r\nThe thing is that, I want &quot;TE&quot; in a star way and in a horizontal way.\r\nI&#39;ve tried multiple times, but I&#39;ve got no good.\r\n\r\nBut I wanted TE in this, not like\r\n```\r\nT\r\nE\r\n```\r\n\r\nCan anybody suggest what can I do to resolve this issue?","title":"Printing a word using Star Pattern in Java, but coming in vertical way, expected horizontally","body":"<p>I wanted to print &quot;TEL&quot; using star patterns and for loop.</p>\n<p>But when I tried it, I'm not getting it in a horizontal way, instead in a vertical way.</p>\n<p>The output:</p>\n<pre><code>*****\n  *  \n  *  \n  *  \n  *  \n\n\n\n******\n*\n****\n*\n******\n\n\n</code></pre>\n<pre><code>\n</code></pre>\n<p><strong>CODE</strong></p>\n<pre><code>The code :\n```java\npublic class test {\n\n        public static void main(String[] args) {\n            int h = 5;\n            int w = (2*h)-1;\n\n            int i, j;\n        for (i = 0; i &lt; h; i++)\n        {\n            for (j = 0; j &lt; h; j++)\n            {\n                if (i == 0)\n                    System.out.print(&quot;*&quot;);\n                else if (j == h / 2)\n                    System.out.print(&quot;*&quot;);\n                else if (i == h)\n                {\n                    System.out.println(&quot;     &quot;);\n                }\n                else\n                    System.out.print(&quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n            \n        \n\n        }\n\n         System.out.println();\n        System.out.println();\n        System.out.println();\n\n        for (i = 0; i &lt; h; i++)\n        {\n            System.out.print(&quot;*&quot;);\n            for (j = 0; j &lt; h; j++)\n            {\n                if ((i == 0 || i == h - 1)\n                    || (i == h / 2\n                        &amp;&amp; j &lt;= h / 2))\n                    System.out.print(&quot;*&quot;);\n                else\n                    continue;\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n\n        System.out.println();\n        System.out.println();\n        System.out.println();\n\n        for (i = 0; i &lt; h; i++)\n        {\n            System.out.print(&quot;*&quot;);\n            for (j = 0; j &lt;= h; j++)\n            {\n                if (i == h - 1)\n                    System.out.print(&quot;*&quot;);\n                else\n                    System.out.print(&quot; &quot;);\n            }\n            System.out.println();       \n            }\n        }\n\n    }\n\n\n</code></pre>\n<p>The thing is that, I want &quot;TE&quot; in a star way and in a horizontal way.\nI've tried multiple times, but I've got no good.</p>\n<p>But I wanted TE in this, not like</p>\n<pre><code>T\nE\n</code></pre>\n<p>Can anybody suggest what can I do to resolve this issue?</p>\n"},{"tags":["java","csv","jackson","jackson-dataformat-csv"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670884803,"post_id":74776992,"comment_id":131972757,"body_markdown":"Can you please share your **attempt** to the file as well as your POJO. Use the *edit* button or [this link](https://stackoverflow.com/posts/74776992/edit) to update the question.","body":"Can you please share your <b>attempt</b> to the file as well as your POJO. Use the <i>edit</i> button or <a href=\"https://stackoverflow.com/posts/74776992/edit\">this link</a> to update the question."}],"owner":{"account_id":27232744,"reputation":11,"user_id":20760183,"display_name":"Rohit Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670877175,"creation_date":1670877175,"question_id":74776992,"body_markdown":"I can&#39;t find a way to ignore &quot;blank&quot; lines in a CSV. I use quotes because I&#39;m talking about lines that look like `&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;` or `,,,,,,` Here is a CSV (blank lines could be random):\r\n\r\n```\r\nid,name,age\r\n1,alex,22\r\n3,tiff,42\r\n,,\r\n,,\r\n4,john,24\r\n```\r\n\r\nWhat I expect is output list of POJO will contain only these data\r\n```id,name,age\r\n1,alex,22\r\n3,tiff,42\r\n4,john,24\r\n```\r\n\r\n\r\nHere is similar questions that I&#39;ve been reading, but different to this in particular: [JACKSON :: SKIP_EMPTY_LINES](https://stackoverflow.com/questions/55537242/how-to-get-mappingiterator-to-not-include-empty-rows)\r\n\r\n\r\n\r\nHave tried out multiple approaches didn&#39;t find any csv mapper feature inbuilt. Am i missing something?","title":"ignore &quot;blank&quot; (unfilled) row with jackson csv","body":"<p>I can't find a way to ignore &quot;blank&quot; lines in a CSV. I use quotes because I'm talking about lines that look like <code>'','','','',''</code> or <code>,,,,,,</code> Here is a CSV (blank lines could be random):</p>\n<pre><code>id,name,age\n1,alex,22\n3,tiff,42\n,,\n,,\n4,john,24\n</code></pre>\n<p>What I expect is output list of POJO will contain only these data</p>\n<pre><code>1,alex,22\n3,tiff,42\n4,john,24\n</code></pre>\n<p>Here is similar questions that I've been reading, but different to this in particular: <a href=\"https://stackoverflow.com/questions/55537242/how-to-get-mappingiterator-to-not-include-empty-rows\">JACKSON :: SKIP_EMPTY_LINES</a></p>\n<p>Have tried out multiple approaches didn't find any csv mapper feature inbuilt. Am i missing something?</p>\n"},{"tags":["java","reactjs","spring","spring-security","cors"],"comments":[{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670881566,"post_id":74776976,"comment_id":131971972,"body_markdown":"possibly missing Origin: in fetch  ??  For a simple request, one that uses either GET or POST with no custom headers and whose body is text/plain, the request is sent with an extra header called Origin. The Origin header contains the origin (protocol, domain name, and port) of the requesting page so that the server can easily determine whether or not it should serve a response. An example Origin header might look like this:\nOrigin: http://localhost:8080  (not sure about the port)  https://humanwhocodes.com/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/","body":"possibly missing Origin: in fetch  ??  For a simple request, one that uses either GET or POST with no custom headers and whose body is text/plain, the request is sent with an extra header called Origin. The Origin header contains the origin (protocol, domain name, and port) of the requesting page so that the server can easily determine whether or not it should serve a response. An example Origin header might look like this: Origin: <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>  (not sure about the port)  <a href=\"https://humanwhocodes.com/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/\" rel=\"nofollow noreferrer\">humanwhocodes.com/blog/2010/05/25/&hellip;</a>"}],"owner":{"account_id":23067229,"reputation":99,"user_id":17181501,"display_name":"Meadas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670877092,"creation_date":1670877092,"question_id":74776976,"body_markdown":"I&#39;m having a struggle met CORS, after many attempts. I have tried the following; @CrossOrigin() in the controllers, added .cors() in filterchain, added a corsconfiurationsource in my securityconfig. Also if I dont write the whole url at the fetch function in React it goes to localhost:3000 instead of :8080 even though proxy is setup in package.json and works with other Get methods. \r\n\r\nAnd now I am getting the following error when fetching a post method from React:\r\n\r\n *&#39;Access to fetch at &#39;http://localhost:8080/like/liked&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.&#39;*\r\n\r\nSo this is how my code looks like right now(Spring as backend &amp; React as frontend) :\r\n\r\n**SecurityConfig.java**\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                        .antMatchers(&quot;/**/*.{js,html,css}&quot;).permitAll()\r\n                        .antMatchers(&quot;/&quot;, &quot;/user&quot;, &quot;/&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n\r\n\r\n                )\r\n                .csrf((csrf) -&gt; csrf\r\n                        .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n                )\r\n                .cors()\r\n                .and()\r\n                .oauth2Login();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public RequestCache refererRequestCache() {\r\n        return new HttpSessionRequestCache() {\r\n            @Override\r\n            public void saveRequest(HttpServletRequest request, HttpServletResponse response) {\r\n                String referrer = request.getHeader(&quot;referer&quot;);\r\n                if (referrer != null) {\r\n                    request.getSession().setAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;,\r\n                            new SimpleSavedRequest(referrer));\r\n                }\r\n            }\r\n        };\r\n    }\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n/*\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\r\n*/\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        //the below three lines will add the relevant CORS response headers\r\n            configuration.addAllowedOrigin(&quot;*&quot;);\r\n            configuration.addAllowedHeader(&quot;*&quot;);\r\n            configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n```\r\n**LikedController**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/like&quot;)\r\npublic class LikedController {\r\n    @Autowired\r\n    LikedService likedService = new LikedService();\r\n    @Autowired\r\n    NuserService nuserService = new NuserService();\r\n\r\n\r\n    @PostMapping(&quot;/liked&quot;)\r\n    public ResponseEntity&lt;?&gt; AddLikeToUser(@AuthenticationPrincipal OAuth2User ouser, @RequestBody Liked like)\r\n    {\r\n        if(like == null || ouser == null)\r\n        {\r\n            return ResponseEntity.ok().body(&quot;Something went wrong.&quot;);\r\n        }\r\n        else\r\n        {\r\n            Nuser user = nuserService.getuserbyemail(ouser.getAttribute(&quot;email&quot;));\r\n            like.setUser(user);\r\n            like.setLiked_date(LocalDate.now());\r\n            likedService.addLike(like);\r\n            return ResponseEntity.ok().body(&quot;Person has been successfully liked&quot;);\r\n\r\n        }\r\n    }\r\n```\r\n**Date.js** where I fetch the post method.\r\n```\r\nconst Date = () =&gt; {\r\n    const globalcontext = useContext(AppContext);\r\n    const [cookies] = useCookies([&#39;XRSF-TOKEN&#39;]);\r\n    const [loading, setloading] = useState(false);\r\n    const [error, seterror] = useState(false);\r\n    const [users, setusers] = useState([]);\r\n\r\n    useEffect(() =&gt; {\r\n        setloading(true);\r\n        fetch(&quot;/user/allotherusers&quot;, {credentials: &quot;include&quot;})\r\n            .then(response =&gt; response.text())\r\n            .then(body =&gt; {\r\n                if (body === &quot;&quot;) {\r\n                    return &lt;Navigate to=&quot;/&quot;/&gt;\r\n                } else {\r\n                    setusers(JSON.parse(body));\r\n                }\r\n                setloading(false);\r\n            });\r\n    }, [])\r\n\r\n    const userlist = users.map(user =&gt; {\r\n        return (\r\n            &lt;div key={user.id}&gt;\r\n                &lt;p&gt; {user.firstname}&lt;/p&gt;\r\n                &lt;button onClick={() =&gt; like(user, false)}&gt;Like&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    });\r\n\r\n    const like =  async (likeduser, superlike) =&gt; {\r\n        const likemodel =\r\n            {\r\n                likeduser: likeduser,\r\n                superlike: superlike\r\n\r\n            }\r\n\r\n         await fetch(&quot;http://localhost:8080/like/liked&quot;, {\r\n            method: &quot;POST&quot;,\r\n            headers: {\r\n                &#39;X-XSRF-TOKEN&#39;: cookies[&#39;XRSF-TOKEN&#39;],\r\n                &#39;Accept&#39;: &#39;application/json&#39;,\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            },\r\n             credentials: &#39;include&#39;,\r\n             body: JSON.stringify(likemodel)\r\n\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        &lt;div&gt;\r\n            {userlist}\r\n        &lt;/div&gt;\r\n    );\r\n\r\n}\r\nexport default Date;\r\n```\r\n**Package.json**\r\n```\r\n&quot;proxy&quot;: &quot;http://localhost:8080&quot;,\r\n```","title":"No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource","body":"<p>I'm having a struggle met CORS, after many attempts. I have tried the following; @CrossOrigin() in the controllers, added .cors() in filterchain, added a corsconfiurationsource in my securityconfig. Also if I dont write the whole url at the fetch function in React it goes to localhost:3000 instead of :8080 even though proxy is setup in package.json and works with other Get methods.</p>\n<p>And now I am getting the following error when fetching a post method from React:</p>\n<p><em>'Access to fetch at 'http://localhost:8080/like/liked' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.'</em></p>\n<p>So this is how my code looks like right now(Spring as backend &amp; React as frontend) :</p>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authz) -&gt; authz\n                        .antMatchers(&quot;/**/*.{js,html,css}&quot;).permitAll()\n                        .antMatchers(&quot;/&quot;, &quot;/user&quot;, &quot;/&quot;).permitAll()\n                        .anyRequest().authenticated()\n\n\n                )\n                .csrf((csrf) -&gt; csrf\n                        .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n                )\n                .cors()\n                .and()\n                .oauth2Login();\n        return http.build();\n    }\n\n    @Bean\n    public RequestCache refererRequestCache() {\n        return new HttpSessionRequestCache() {\n            @Override\n            public void saveRequest(HttpServletRequest request, HttpServletResponse response) {\n                String referrer = request.getHeader(&quot;referer&quot;);\n                if (referrer != null) {\n                    request.getSession().setAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;,\n                            new SimpleSavedRequest(referrer));\n                }\n            }\n        };\n    }\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n/*\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\n*/\n        configuration.setAllowedMethods(Arrays.asList(&quot;HEAD&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n        configuration.setAllowCredentials(true);\n        //the below three lines will add the relevant CORS response headers\n            configuration.addAllowedOrigin(&quot;*&quot;);\n            configuration.addAllowedHeader(&quot;*&quot;);\n            configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p><strong>LikedController</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/like&quot;)\npublic class LikedController {\n    @Autowired\n    LikedService likedService = new LikedService();\n    @Autowired\n    NuserService nuserService = new NuserService();\n\n\n    @PostMapping(&quot;/liked&quot;)\n    public ResponseEntity&lt;?&gt; AddLikeToUser(@AuthenticationPrincipal OAuth2User ouser, @RequestBody Liked like)\n    {\n        if(like == null || ouser == null)\n        {\n            return ResponseEntity.ok().body(&quot;Something went wrong.&quot;);\n        }\n        else\n        {\n            Nuser user = nuserService.getuserbyemail(ouser.getAttribute(&quot;email&quot;));\n            like.setUser(user);\n            like.setLiked_date(LocalDate.now());\n            likedService.addLike(like);\n            return ResponseEntity.ok().body(&quot;Person has been successfully liked&quot;);\n\n        }\n    }\n</code></pre>\n<p><strong>Date.js</strong> where I fetch the post method.</p>\n<pre><code>const Date = () =&gt; {\n    const globalcontext = useContext(AppContext);\n    const [cookies] = useCookies(['XRSF-TOKEN']);\n    const [loading, setloading] = useState(false);\n    const [error, seterror] = useState(false);\n    const [users, setusers] = useState([]);\n\n    useEffect(() =&gt; {\n        setloading(true);\n        fetch(&quot;/user/allotherusers&quot;, {credentials: &quot;include&quot;})\n            .then(response =&gt; response.text())\n            .then(body =&gt; {\n                if (body === &quot;&quot;) {\n                    return &lt;Navigate to=&quot;/&quot;/&gt;\n                } else {\n                    setusers(JSON.parse(body));\n                }\n                setloading(false);\n            });\n    }, [])\n\n    const userlist = users.map(user =&gt; {\n        return (\n            &lt;div key={user.id}&gt;\n                &lt;p&gt; {user.firstname}&lt;/p&gt;\n                &lt;button onClick={() =&gt; like(user, false)}&gt;Like&lt;/button&gt;\n            &lt;/div&gt;\n        )\n    });\n\n    const like =  async (likeduser, superlike) =&gt; {\n        const likemodel =\n            {\n                likeduser: likeduser,\n                superlike: superlike\n\n            }\n\n         await fetch(&quot;http://localhost:8080/like/liked&quot;, {\n            method: &quot;POST&quot;,\n            headers: {\n                'X-XSRF-TOKEN': cookies['XRSF-TOKEN'],\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n             credentials: 'include',\n             body: JSON.stringify(likemodel)\n\n        });\n    };\n\n\n    return (\n        &lt;div&gt;\n            {userlist}\n        &lt;/div&gt;\n    );\n\n}\nexport default Date;\n</code></pre>\n<p><strong>Package.json</strong></p>\n<pre><code>&quot;proxy&quot;: &quot;http://localhost:8080&quot;,\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":7934132,"reputation":19,"user_id":5990836,"display_name":"CGUltimateno"},"score":0,"creation_date":1670877008,"post_id":74776874,"comment_id":131970507,"body_markdown":"It&#39;s alright I fixed it. turns out as I said my issue is in the &#39; and &quot;. Here&#39;s the corrected version:\n&quot;values(&#39;&quot; + emp.getEmp_id() + &quot;&#39;,&#39;&quot; + emp.getName() + &quot;&#39;,&quot; + &quot;STR_TO_DATE(&#39;&quot; + emp.getDob() + &quot;&#39;,&#39;%d/%m/%y&#39;)&quot; + &quot;,&#39;&quot; + emp.getEmail() +&quot;&#39;,&#39;&quot; + emp.getPhone_no() + &quot;&#39;,&#39;&quot; +  emp.getAccount_number() + &quot;&#39;,&#39;&quot; + emp.getWage_type() + &quot;&#39;,&quot; +Integer.toString(emp.getWage_rate()) + &quot;,&#39;&quot; + emp.getAdmin_id() + &quot;&#39;)&quot;;","body":"It&#39;s alright I fixed it. turns out as I said my issue is in the &#39; and &quot;. Here&#39;s the corrected version: &quot;values(&#39;&quot; + emp.getEmp_id() + &quot;&#39;,&#39;&quot; + emp.getName() + &quot;&#39;,&quot; + &quot;STR_TO_DATE(&#39;&quot; + emp.getDob() + &quot;&#39;,&#39;%d/%m/%y&#39;)&quot; + &quot;,&#39;&quot; + emp.getEmail() +&quot;&#39;,&#39;&quot; + emp.getPhone_no() + &quot;&#39;,&#39;&quot; +  emp.getAccount_number() + &quot;&#39;,&#39;&quot; + emp.getWage_type() + &quot;&#39;,&quot; +Integer.toString(emp.getWage_rate()) + &quot;,&#39;&quot; + emp.getAdmin_id() + &quot;&#39;)&quot;;"},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1670879391,"post_id":74776874,"comment_id":131971331,"body_markdown":"I recommend you use query parameters instead of string concatenation. You&#39;ll find it easier to avoid these sorts of syntax errors.","body":"I recommend you use query parameters instead of string concatenation. You&#39;ll find it easier to avoid these sorts of syntax errors."}],"owner":{"account_id":7934132,"reputation":19,"user_id":5990836,"display_name":"CGUltimateno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670877165,"answer_count":0,"score":0,"last_activity_date":1670876480,"creation_date":1670876480,"question_id":74776874,"body_markdown":"I&#39;m trying to import data into a MySQL database using Java and I&#39;m getting this error:\r\n\r\n```\r\ninsert into employee(emp_id, name, dob, email, phone_no, account_number, wage_type, wage_rate, admin_id)values(&#39;20002&#39;,&#39;A B&#39;,STR_TO_DATE(&#39;20/03/10&#39;,&#39;%d/%m/%y&#39;),&#39;CGUltimateno1@gmail.com&#39;,&#39;02194024245&#39;,&#39;934546&#39;,&#39;Monthly&#39;,&#39;&#39;2000,20002&#39;)&#39;\r\nSQL State: 42000\r\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;2000,20002&#39;)&#39;&#39; at line 1\r\n```\r\n\r\nHere&#39;s the inserting code:\r\n\r\n```\r\n   query = &quot;insert into employee(emp_id, name, dob, email, phone_no, account_number, wage_type, wage_rate, admin_id)&quot; + \r\n&quot;values(&#39;&quot; + emp.getEmp_id() + &quot;&#39;,&#39;&quot; + emp.getName() + &quot;&#39;,&#39;&quot; + &quot;STR_TO_DATE(&#39;&quot; + emp.getDob() + &quot;&#39;,&#39;%d/%m/%y&#39;)&quot; + &quot;&#39;,&#39;&quot; + emp.getEmail() + &quot;&#39;,&#39;&quot; + emp.getPhone_no() + &quot;&#39;,&#39;&quot; +  emp.getAccount_number() + &quot;&#39;,&#39;&quot; + emp.getWage_type() + &quot;&#39;,&#39;&quot; + emp.getWage_rate() + &quot;&#39;,&#39;&#39;&quot; + emp.getAdmin_id() + &quot;&#39;)&#39;&quot;;\r\n```\r\n\r\nI tried to play around removing the extra &#39; and &quot; but no luck yet I&#39;m sure the issue is in it","title":"SQL State: 42000 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax","body":"<p>I'm trying to import data into a MySQL database using Java and I'm getting this error:</p>\n<pre><code>insert into employee(emp_id, name, dob, email, phone_no, account_number, wage_type, wage_rate, admin_id)values('20002','A B',STR_TO_DATE('20/03/10','%d/%m/%y'),'CGUltimateno1@gmail.com','02194024245','934546','Monthly',''2000,20002')'\nSQL State: 42000\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2000,20002')'' at line 1\n</code></pre>\n<p>Here's the inserting code:</p>\n<pre><code>   query = &quot;insert into employee(emp_id, name, dob, email, phone_no, account_number, wage_type, wage_rate, admin_id)&quot; + \n&quot;values('&quot; + emp.getEmp_id() + &quot;','&quot; + emp.getName() + &quot;','&quot; + &quot;STR_TO_DATE('&quot; + emp.getDob() + &quot;','%d/%m/%y')&quot; + &quot;','&quot; + emp.getEmail() + &quot;','&quot; + emp.getPhone_no() + &quot;','&quot; +  emp.getAccount_number() + &quot;','&quot; + emp.getWage_type() + &quot;','&quot; + emp.getWage_rate() + &quot;',''&quot; + emp.getAdmin_id() + &quot;')'&quot;;\n</code></pre>\n<p>I tried to play around removing the extra ' and &quot; but no luck yet I'm sure the issue is in it</p>\n"},{"tags":["java","android","opencv","cascade-classifier"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1670885529,"post_id":74775756,"comment_id":131972925,"body_markdown":"crosspost: https://forum.opencv.org/t/cascadeclassifier-detectmultiscale-get-error-insufficient-memory-in-outofmemoryerror/11293","body":"crosspost: <a href=\"https://forum.opencv.org/t/cascadeclassifier-detectmultiscale-get-error-insufficient-memory-in-outofmemoryerror/11293\" rel=\"nofollow noreferrer\">forum.opencv.org/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18341667,"reputation":110,"user_id":13357780,"display_name":"StormSpirite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670876354,"creation_date":1670876354,"answer_id":74776854,"question_id":74775756,"body_markdown":"Try to increase the amount of memory set android:largeHeap attribute in the &lt;application&gt; in AndroidManifest.xml file to true","title":"cascadeClassifier.detectMultiScale get error: Insufficient memory in OutOfMemoryError","body":"<p>Try to increase the amount of memory set android:largeHeap attribute in the  in AndroidManifest.xml file to true</p>\n"}],"owner":{"account_id":20050861,"reputation":3,"user_id":18750563,"display_name":"Tamada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670876354,"creation_date":1670869897,"question_id":74775756,"body_markdown":"Hello everyone I have the following code:\r\n```java\r\npublic boolean isContainsFace(String path){\r\n        Mat matImage = Imgcodecs.imread(path);\r\n\r\n        MatOfRect faceDetections = new MatOfRect();\r\n        cascadeClassifier.detectMultiScale(matImage, faceDetections);\r\n\r\n        return !faceDetections.empty();\r\n    }\r\n```\r\nI use it to check if there are faces in the photos. And that&#39;s when I tried a larger-than-usual photo, I got the following error:\r\n```java\r\nE/cv::error(): OpenCV(4.6.0-dev) Error: Insufficient memory (Failed to allocate 1281229312 bytes) in OutOfMemoryError, file E:/OpenCV/opencv/modules/core/src/alloc.cpp, line 73\r\nE/org.opencv.objdetect: objdetect::detectMultiScale_15() caught cv::Exception: OpenCV(4.6.0-dev) E:/OpenCV/opencv/modules/core/src/alloc.cpp:73: error: (-4:Insufficient memory) Failed to allocate 1281229312 bytes in function &#39;OutOfMemoryError&#39;\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.findyourselfinthephoto, PID: 25403\r\n    CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.6.0-dev) E:/OpenCV/opencv/modules/core/src/alloc.cpp:73: error: (-4:Insufficient memory) Failed to allocate 1281229312 bytes in function &#39;OutOfMemoryError&#39;\r\n    ]\r\n        at org.opencv.objdetect.CascadeClassifier.detectMultiScale_5(Native Method)\r\n        at org.opencv.objdetect.CascadeClassifier.detectMultiScale(CascadeClassifier.java:195)\r\n        at com.example.findyourselfinthephoto.Helpers.PhotoHelper.isContainsFace(PhotoHelper.java:41)\r\n        at com.example.findyourselfinthephoto.Fragments.Home.onRequestHandlePathOz(Home.java:164)\r\n        at br.com.onimur.handlepathoz.utils.HandlePathOzUtils$getRealPath$1.invokeSuspend(HandlePathOzUtils.kt:107)\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n        at kotlinx.coroutines.internal.ScopeCoroutine.afterResume(Scopes.kt:33)\r\n        at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:102)\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)\r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    \tSuppressed: kotlinx.coroutines.DiagnosticCoroutineContextException: [StandaloneCoroutine{Cancelling}@e6b34af, Dispatchers.Main]\r\n```\r\n\r\nWhat should i do to fix that?\r\n\r\n\r\n","title":"cascadeClassifier.detectMultiScale get error: Insufficient memory in OutOfMemoryError","body":"<p>Hello everyone I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isContainsFace(String path){\n        Mat matImage = Imgcodecs.imread(path);\n\n        MatOfRect faceDetections = new MatOfRect();\n        cascadeClassifier.detectMultiScale(matImage, faceDetections);\n\n        return !faceDetections.empty();\n    }\n</code></pre>\n<p>I use it to check if there are faces in the photos. And that's when I tried a larger-than-usual photo, I got the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>E/cv::error(): OpenCV(4.6.0-dev) Error: Insufficient memory (Failed to allocate 1281229312 bytes) in OutOfMemoryError, file E:/OpenCV/opencv/modules/core/src/alloc.cpp, line 73\nE/org.opencv.objdetect: objdetect::detectMultiScale_15() caught cv::Exception: OpenCV(4.6.0-dev) E:/OpenCV/opencv/modules/core/src/alloc.cpp:73: error: (-4:Insufficient memory) Failed to allocate 1281229312 bytes in function 'OutOfMemoryError'\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.findyourselfinthephoto, PID: 25403\n    CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.6.0-dev) E:/OpenCV/opencv/modules/core/src/alloc.cpp:73: error: (-4:Insufficient memory) Failed to allocate 1281229312 bytes in function 'OutOfMemoryError'\n    ]\n        at org.opencv.objdetect.CascadeClassifier.detectMultiScale_5(Native Method)\n        at org.opencv.objdetect.CascadeClassifier.detectMultiScale(CascadeClassifier.java:195)\n        at com.example.findyourselfinthephoto.Helpers.PhotoHelper.isContainsFace(PhotoHelper.java:41)\n        at com.example.findyourselfinthephoto.Fragments.Home.onRequestHandlePathOz(Home.java:164)\n        at br.com.onimur.handlepathoz.utils.HandlePathOzUtils$getRealPath$1.invokeSuspend(HandlePathOzUtils.kt:107)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.internal.ScopeCoroutine.afterResume(Scopes.kt:33)\n        at kotlinx.coroutines.AbstractCoroutine.resumeWith(AbstractCoroutine.kt:102)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n        Suppressed: kotlinx.coroutines.DiagnosticCoroutineContextException: [StandaloneCoroutine{Cancelling}@e6b34af, Dispatchers.Main]\n</code></pre>\n<p>What should i do to fix that?</p>\n"},{"tags":["java","spring","maven","boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670883591,"post_id":74776742,"comment_id":131972485,"body_markdown":"hi&amp; welcome! Spring cloud is not (dependency) managed by spring boot! (for spring-boot:3, we should use &quot;2022.0.x aka Kilburn&quot;... there + logging/bootstrap config, where I&#39;d investigate next) ([migration-3 guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide), [spring-cloud-overview](https://spring.io/projects/spring-cloud#overview) )","body":"hi&amp; welcome! Spring cloud is not (dependency) managed by spring boot! (for spring-boot:3, we should use &quot;2022.0.x aka Kilburn&quot;... there + logging/bootstrap config, where I&#39;d investigate next) (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">migration-3 guide</a>, <a href=\"https://spring.io/projects/spring-cloud#overview\" rel=\"nofollow noreferrer\">spring-cloud-overview</a> )"}],"owner":{"account_id":23980909,"reputation":1,"user_id":17968350,"display_name":"sligglerwiggler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670876346,"creation_date":1670875627,"question_id":74776742,"body_markdown":"Everything compiles, but I&#39;m getting an error with the spring framework cloud configuration. The errors are all within the compiled dependencies, so I&#39;m not sure what I am missing here. Any ideas?\r\n\r\nI&#39;m getting this error in particular.\r\n\r\n```\r\nERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.IllegalArgumentException: Unable to instantiate factory class [org.springframework.cloud.config.client.ConfigServerConfigDataLocationResolver] for factory type [org.springframework.boot.context.config.ConfigDataLocationResolver]\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$FailureHandler.lambda$throwing$0(SpringFactoriesLoader.java:650)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$FailureHandler.lambda$handleMessage$3(SpringFactoriesLoader.java:674)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:231)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:160)\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:66)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.createConfigDataLocationResolvers(ConfigDataEnvironment.java:160)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:148)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:101)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\r\n\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:197)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:77)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat navy.chino.fields.FieldsApp.main(FieldsApp.java:68)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalArgumentException: Log types cannot be injected, please use DeferredLogFactory\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$new$0(ConfigDataLocationResolvers.java:64)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver.lambda$ofSupplied$3(SpringFactoriesLoader.java:585)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver$1.resolve(SpringFactoriesLoader.java:601)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver.lambda$and$0(SpringFactoriesLoader.java:551)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver$1.resolve(SpringFactoriesLoader.java:601)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\r\n\tat java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)\r\n\tat java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.resolveArgs(SpringFactoriesLoader.java:387)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:377)\r\n\tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\r\n\t... 46 common frames omitted\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n\r\nTrying to upgrade an application to use Spring Framework 6 and all of the other updates needed along the way. ","title":"Can&#39;t instantiate factories after updating to Springboot 3 and SpringFramework 6","body":"<p>Everything compiles, but I'm getting an error with the spring framework cloud configuration. The errors are all within the compiled dependencies, so I'm not sure what I am missing here. Any ideas?</p>\n<p>I'm getting this error in particular.</p>\n<pre><code>ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.IllegalArgumentException: Unable to instantiate factory class [org.springframework.cloud.config.client.ConfigServerConfigDataLocationResolver] for factory type [org.springframework.boot.context.config.ConfigDataLocationResolver]\n    at org.springframework.core.io.support.SpringFactoriesLoader$FailureHandler.lambda$throwing$0(SpringFactoriesLoader.java:650)\n    at org.springframework.core.io.support.SpringFactoriesLoader$FailureHandler.lambda$handleMessage$3(SpringFactoriesLoader.java:674)\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:231)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:160)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.&lt;init&gt;(ConfigDataLocationResolvers.java:66)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.createConfigDataLocationResolvers(ConfigDataEnvironment.java:160)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.&lt;init&gt;(ConfigDataEnvironment.java:148)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.getConfigDataEnvironment(ConfigDataEnvironmentPostProcessor.java:101)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:197)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:77)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at navy.chino.fields.FieldsApp.main(FieldsApp.java:68)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: Log types cannot be injected, please use DeferredLogFactory\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$new$0(ConfigDataLocationResolvers.java:64)\n    at org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver.lambda$ofSupplied$3(SpringFactoriesLoader.java:585)\n    at org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver$1.resolve(SpringFactoriesLoader.java:601)\n    at org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver.lambda$and$0(SpringFactoriesLoader.java:551)\n    at org.springframework.core.io.support.SpringFactoriesLoader$ArgumentResolver$1.resolve(SpringFactoriesLoader.java:601)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)\n    at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\n    at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)\n    at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)\n    at org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.resolveArgs(SpringFactoriesLoader.java:387)\n    at org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:377)\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\n    ... 46 common frames omitted\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>Trying to upgrade an application to use Spring Framework 6 and all of the other updates needed along the way.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670856658,"post_id":74772881,"comment_id":131963779,"body_markdown":"This question is too broad. You have to narrow it down to where exactly you get the problem","body":"This question is too broad. You have to narrow it down to where exactly you get the problem"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670870370,"post_id":74772881,"comment_id":131968667,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":20317065,"reputation":1,"user_id":14902705,"display_name":"Presti"},"score":0,"creation_date":1670872134,"post_id":74772881,"comment_id":131969215,"body_markdown":"@XtremeBaumer edited it is this better?","body":"@XtremeBaumer edited it is this better?"}],"answers":[{"tags":[],"owner":{"account_id":20317065,"reputation":1,"user_id":14902705,"display_name":"Presti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670876267,"creation_date":1670876267,"answer_id":74776844,"question_id":74772881,"body_markdown":"For anyone else facing this Issue while using the org.reflections package to add all their annotated classes, you will need to use the ClassPathHelpers static classloader because of the way Springboot works.","title":"Hibernate does not work in a Spring Enviroment after Maven Export","body":"<p>For anyone else facing this Issue while using the org.reflections package to add all their annotated classes, you will need to use the ClassPathHelpers static classloader because of the way Springboot works.</p>\n"}],"owner":{"account_id":20317065,"reputation":1,"user_id":14902705,"display_name":"Presti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74776844,"answer_count":1,"score":0,"last_activity_date":1670876267,"creation_date":1670856462,"question_id":74772881,"body_markdown":"Using any Springboot with these Hibernate dependencies breaks Hibernate after exporting the Project with maven.\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIm facing this Issue in my own projekt here https://github.com/Ree6-Applications/Webinterface\r\n\r\nTo repdroduce this you will need atleast 2 entries in a table and then just try to access both of these as entites over the `SQLWorker` class by using `getEntityList`.\r\n\r\nThe wanted result is that the ``getEntityList`` method gives out a list of R which is a filled class instance, but running the project outside an IDE in this case a maven packaged runnable it always returns a List of Strings and the given strings are the primary keys set in the Entity class.\r\n\r\nTo be exact after exporting the Spring Application the Hibernate mapping breaks and the Native Query that is being called does not produce a filled out entity instance anymore, but a list of primary keys. As said this Issue does not happen while running the application in an IDE or exporting a none spring application as runnable jar.\r\n\r\n","title":"Hibernate does not work in a Spring Enviroment after Maven Export","body":"<p>Using any Springboot with these Hibernate dependencies breaks Hibernate after exporting the Project with maven.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Im facing this Issue in my own projekt here <a href=\"https://github.com/Ree6-Applications/Webinterface\" rel=\"nofollow noreferrer\">https://github.com/Ree6-Applications/Webinterface</a></p>\n<p>To repdroduce this you will need atleast 2 entries in a table and then just try to access both of these as entites over the <code>SQLWorker</code> class by using <code>getEntityList</code>.</p>\n<p>The wanted result is that the <code>getEntityList</code> method gives out a list of R which is a filled class instance, but running the project outside an IDE in this case a maven packaged runnable it always returns a List of Strings and the given strings are the primary keys set in the Entity class.</p>\n<p>To be exact after exporting the Spring Application the Hibernate mapping breaks and the Native Query that is being called does not produce a filled out entity instance anymore, but a list of primary keys. As said this Issue does not happen while running the application in an IDE or exporting a none spring application as runnable jar.</p>\n"},{"tags":["java","heap","max-heap"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1670816117,"post_id":74766236,"comment_id":131953325,"body_markdown":"Have you tried Googling Python heap implementation? Youre not the first one to implement a heap, and since youre already here asking for help, its no more violation of the honor protocol than already is","body":"Have you tried Googling Python heap implementation? Youre not the first one to implement a heap, and since youre already here asking for help, its no more violation of the honor protocol than already is"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670876212,"creation_date":1670815639,"answer_id":74766379,"question_id":74766236,"body_markdown":"There are a couple of issues I can see.\r\n\r\n1. consider what `Math.ceil((index - 2)/2)` would return for index 3. This would return 0 rather than 1 because the `/2` is an integer operation. Changing that to `/2.0` will fix it. Or even simpler would be to make use of integer arithmetic with `(index - 1) / 2` which is clearer and more efficient.\r\n\r\n2. `getParentIndex(index) &gt; 0` means that you are ignoring the root node at index 0 - currently your code will never swap that item. changing to `&gt;=` will fix it.\r\n\r\nThere could well be other issues but those are 2 I can see by inspection. Either unit testing or interactive debugging would have uncovered those issues.","title":"Heapify method is not working properly for max heap","body":"<p>There are a couple of issues I can see.</p>\n<ol>\n<li><p>consider what <code>Math.ceil((index - 2)/2)</code> would return for index 3. This would return 0 rather than 1 because the <code>/2</code> is an integer operation. Changing that to <code>/2.0</code> will fix it. Or even simpler would be to make use of integer arithmetic with <code>(index - 1) / 2</code> which is clearer and more efficient.</p>\n</li>\n<li><p><code>getParentIndex(index) &gt; 0</code> means that you are ignoring the root node at index 0 - currently your code will never swap that item. changing to <code>&gt;=</code> will fix it.</p>\n</li>\n</ol>\n<p>There could well be other issues but those are 2 I can see by inspection. Either unit testing or interactive debugging would have uncovered those issues.</p>\n"}],"owner":{"account_id":25346536,"reputation":1,"user_id":19164097,"display_name":"osty2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670876212,"creation_date":1670813854,"question_id":74766236,"body_markdown":"I am preparing for a data structures and algorithms final exam. I am trying to work through all of the data structures we have learnt this semester and program them by my self to help prepare me for the final. I am working on the max heap right now which includes a inserting (with a heapify) and a retrieve max. I am stuck on the heapifying/swapping of the parent and the child. It seems that the heapify is not working as I get back an array in the order of the way the numbers were inserted. Here is what I have so far. \r\n\r\n\r\n```\r\nprivate int getLeftChildIndex(int index)\r\n    {\r\n        return (2*index + 1);\r\n    }\r\n    private int getLeftChildValue(int index)\r\n    {\r\n        return heap[2*index + 1];\r\n    }\r\n\r\n\r\n    private int getRightChildIndex(int index)\r\n    {\r\n        return (2*index + 2);\r\n    }\r\n    private int getRightChildValue(int index)\r\n    {\r\n        return heap[2*index + 2];\r\n    }\r\n\r\n    private int getParentIndex(int index)\r\n    {\r\n        return ((int) Math.ceil((index - 2)/2));\r\n    }\r\n\r\n    private void swap(int child, int parent)\r\n    {\r\n        int temp = heap[parent];\r\n        heap[parent] = heap[child];\r\n        heap[child] = temp;\r\n    }\r\n\r\n    private void insert(int num)\r\n    {\r\n        heap[heapSize] = num;\r\n        heapSize++;\r\n        int index = heapSize - 1;\r\n        while (getParentIndex(index) &gt; 0 &amp;&amp; heap[index] &gt; heap[getParentIndex(index)])\r\n        {\r\n            swap(index, getParentIndex(index));\r\n            index = getParentIndex(index);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n public static void main(String[] args)\r\n    {\r\n        HeapTest heap = new HeapTest();\r\n        heap.insert(15);\r\n        heap.insert(5);\r\n        heap.insert(10);\r\n        heap.insert(30);\r\n    }\r\n```\r\n\r\n\r\nwhich just gives an array of the form [15,5,10,30] for example. This array for a max heap should be of the form [30,15,10,5]\r\n\r\nIm expecting this: [15,5,10,30] -&gt; [15,30,10,5] -&gt; [30,15,10,5]\r\n\r\nCould any one provide some insight as to why the heapify part of insert is not working? \r\n\r\nThanks!!\r\n\r\n","title":"Heapify method is not working properly for max heap","body":"<p>I am preparing for a data structures and algorithms final exam. I am trying to work through all of the data structures we have learnt this semester and program them by my self to help prepare me for the final. I am working on the max heap right now which includes a inserting (with a heapify) and a retrieve max. I am stuck on the heapifying/swapping of the parent and the child. It seems that the heapify is not working as I get back an array in the order of the way the numbers were inserted. Here is what I have so far.</p>\n<pre><code>private int getLeftChildIndex(int index)\n    {\n        return (2*index + 1);\n    }\n    private int getLeftChildValue(int index)\n    {\n        return heap[2*index + 1];\n    }\n\n\n    private int getRightChildIndex(int index)\n    {\n        return (2*index + 2);\n    }\n    private int getRightChildValue(int index)\n    {\n        return heap[2*index + 2];\n    }\n\n    private int getParentIndex(int index)\n    {\n        return ((int) Math.ceil((index - 2)/2));\n    }\n\n    private void swap(int child, int parent)\n    {\n        int temp = heap[parent];\n        heap[parent] = heap[child];\n        heap[child] = temp;\n    }\n\n    private void insert(int num)\n    {\n        heap[heapSize] = num;\n        heapSize++;\n        int index = heapSize - 1;\n        while (getParentIndex(index) &gt; 0 &amp;&amp; heap[index] &gt; heap[getParentIndex(index)])\n        {\n            swap(index, getParentIndex(index));\n            index = getParentIndex(index);\n        }\n    }\n</code></pre>\n<pre><code> public static void main(String[] args)\n    {\n        HeapTest heap = new HeapTest();\n        heap.insert(15);\n        heap.insert(5);\n        heap.insert(10);\n        heap.insert(30);\n    }\n</code></pre>\n<p>which just gives an array of the form [15,5,10,30] for example. This array for a max heap should be of the form [30,15,10,5]</p>\n<p>Im expecting this: [15,5,10,30] -&gt; [15,30,10,5] -&gt; [30,15,10,5]</p>\n<p>Could any one provide some insight as to why the heapify part of insert is not working?</p>\n<p>Thanks!!</p>\n"},{"tags":["java","apache-camel","spring-camel"],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670875961,"creation_date":1670875961,"question_id":74776791,"body_markdown":"I&#39;m working on parallelizing a camel route:\r\n\r\n```java\r\n//...\r\n.multicast(new GroupedMessageAggregationStrategy())\r\n.parallelProcessing()\r\n.to(&quot;direct:routeA&quot;)\r\n.to(&quot;direct:routeB&quot;)\r\n.end()\r\n//...\r\n```\r\n\r\nBut the routes that I run in parallel rely on some headers from the main route, that don&#39;t seem to be passed to the parallelized routes.\r\n\r\nFor context, I hope to wrangle all responses back to the main route as a list (currently using `GroupedMessageAggregationStrategy`, where I can iterate over responses to handle potential errors. The routes I am calling used to be part of the main route (leading from one to the next, sequentially).\r\n\r\nHow can I pass the route headers along to the parallelized routes?","title":"Camel how to pass headers to parallelized routes","body":"<p>I'm working on parallelizing a camel route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n.multicast(new GroupedMessageAggregationStrategy())\n.parallelProcessing()\n.to(&quot;direct:routeA&quot;)\n.to(&quot;direct:routeB&quot;)\n.end()\n//...\n</code></pre>\n<p>But the routes that I run in parallel rely on some headers from the main route, that don't seem to be passed to the parallelized routes.</p>\n<p>For context, I hope to wrangle all responses back to the main route as a list (currently using <code>GroupedMessageAggregationStrategy</code>, where I can iterate over responses to handle potential errors. The routes I am calling used to be part of the main route (leading from one to the next, sequentially).</p>\n<p>How can I pass the route headers along to the parallelized routes?</p>\n"},{"tags":["java","android","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":15219472,"reputation":1287,"user_id":10981777,"display_name":"G. Putnam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670875468,"creation_date":1670707689,"answer_id":74756653,"question_id":74557573,"body_markdown":"**Edit 1 - 12/12/2022**\r\n\r\n@Tinjzz [This Answer](https://stackoverflow.com/questions/69882490/msal-force-require-password-login-with-microsoft-account-android-studio) is almost your exact scenario.\r\n\r\n_Question Description_\r\n&quot;accounts are removed successfully, but when signing in again and the microsoft sign in intent is opened, the accounts can just be clicked to sign in without password&quot;\r\n\r\n**@Rutha answer** &quot;This is happening because MSAL automatically refreshes your token after expiration. When user opens your app it checks if that token is already present and valid.&quot;\r\n\r\n&quot;you need to remove the cache as well to remove the account from the cache, find the account that need to be removed and then call `PublicClientApplication.removeAccount()`&quot;\r\n\r\nIn a later answer, @Rutha notes &quot;On Android we basically don&#39;t have any control on the cookies&quot;  &quot;If you want the user to enter the password again then you should do this: `AcquireTokenInteractive(scopes).WithPrompt(Prompt.ForceLogin);`\r\n\r\n**Old Response**\r\n\r\nFrom the code posted, it looks like you are using an approach similar to [this site](https://www.zditect.com/code/android/enable-authentication-in-an-android-app.html) with a separate `loadAccounts()` method. &quot;Step 5.2: Load accounts&quot;\r\n\r\nHowever, in the [MS MSAL Single and Multi-Account](https://learn.microsoft.com/en-us/azure/active-directory/develop/single-multi-account#multiple-account-public-client-application) page, it notes:\r\n\r\n&quot;If your app is configured to use a broker, and a broker is installed on the device, the account won&#39;t be removed from the broker when you call removeAccount. Only tokens associated with your client are removed.&quot;\r\n\r\nMS specifically recommends using &quot;Call `getAccounts` to get a list of accounts currently known to the app.&quot;\r\n\r\nSo, the current setup may be using `loadAccounts()` per the first link, yet MS actually recommends `getAccounts` that specifically addresses only the internal MSAL token system.","title":"MSAL ANDROID : MultiAccountMode issue with Logout","body":"<p><strong>Edit 1 - 12/12/2022</strong></p>\n<p>@Tinjzz <a href=\"https://stackoverflow.com/questions/69882490/msal-force-require-password-login-with-microsoft-account-android-studio\">This Answer</a> is almost your exact scenario.</p>\n<p><em>Question Description</em>\n&quot;accounts are removed successfully, but when signing in again and the microsoft sign in intent is opened, the accounts can just be clicked to sign in without password&quot;</p>\n<p><strong>@Rutha answer</strong> &quot;This is happening because MSAL automatically refreshes your token after expiration. When user opens your app it checks if that token is already present and valid.&quot;</p>\n<p>&quot;you need to remove the cache as well to remove the account from the cache, find the account that need to be removed and then call <code>PublicClientApplication.removeAccount()</code>&quot;</p>\n<p>In a later answer, @Rutha notes &quot;On Android we basically don't have any control on the cookies&quot;  &quot;If you want the user to enter the password again then you should do this: <code>AcquireTokenInteractive(scopes).WithPrompt(Prompt.ForceLogin);</code></p>\n<p><strong>Old Response</strong></p>\n<p>From the code posted, it looks like you are using an approach similar to <a href=\"https://www.zditect.com/code/android/enable-authentication-in-an-android-app.html\" rel=\"nofollow noreferrer\">this site</a> with a separate <code>loadAccounts()</code> method. &quot;Step 5.2: Load accounts&quot;</p>\n<p>However, in the <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/single-multi-account#multiple-account-public-client-application\" rel=\"nofollow noreferrer\">MS MSAL Single and Multi-Account</a> page, it notes:</p>\n<p>&quot;If your app is configured to use a broker, and a broker is installed on the device, the account won't be removed from the broker when you call removeAccount. Only tokens associated with your client are removed.&quot;</p>\n<p>MS specifically recommends using &quot;Call <code>getAccounts</code> to get a list of accounts currently known to the app.&quot;</p>\n<p>So, the current setup may be using <code>loadAccounts()</code> per the first link, yet MS actually recommends <code>getAccounts</code> that specifically addresses only the internal MSAL token system.</p>\n"}],"owner":{"account_id":935522,"reputation":87,"user_id":964502,"accept_rate":20,"display_name":"Tinjzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670875468,"creation_date":1669277762,"question_id":74557573,"body_markdown":"I have an android native application using MSAL library to authenticate. We are facing issues to logout from application after login. While logout, it displays a screen where the already logged in email displays, tapping on that allows the user to login to the application with out a password. The application is configured as MultiAccount mode. Below is the code for logout.\r\n\r\n```\r\n removeAccountButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                if (mMultipleAccountApp == null) {\r\n                    return;\r\n                }\r\n\r\n                /**\r\n                 * Removes the selected account and cached tokens from this app (or device, if the device is in shared mode).\r\n                 */\r\n                mMultipleAccountApp.removeAccount(accountList.get(accountListSpinner.getSelectedItemPosition()),\r\n                        new IMultipleAccountPublicClientApplication.RemoveAccountCallback() {\r\n                            @Override\r\n                            public void onRemoved() {\r\n                                Toast.makeText(getContext(), &quot;Account removed.&quot;, Toast.LENGTH_SHORT)\r\n                                        .show();\r\n\r\n                                /* Reload account asynchronously to get the up-to-date list. */\r\n                                loadAccounts();\r\n                            }\r\n\r\n                            @Override\r\n                            public void onError(@NonNull MsalException exception) {\r\n                                displayError(exception);\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n```\r\nIt always display the toast &quot;Account removed&quot;, but it is actually not. Any help is appreciated!","title":"MSAL ANDROID : MultiAccountMode issue with Logout","body":"<p>I have an android native application using MSAL library to authenticate. We are facing issues to logout from application after login. While logout, it displays a screen where the already logged in email displays, tapping on that allows the user to login to the application with out a password. The application is configured as MultiAccount mode. Below is the code for logout.</p>\n<pre><code> removeAccountButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                if (mMultipleAccountApp == null) {\n                    return;\n                }\n\n                /**\n                 * Removes the selected account and cached tokens from this app (or device, if the device is in shared mode).\n                 */\n                mMultipleAccountApp.removeAccount(accountList.get(accountListSpinner.getSelectedItemPosition()),\n                        new IMultipleAccountPublicClientApplication.RemoveAccountCallback() {\n                            @Override\n                            public void onRemoved() {\n                                Toast.makeText(getContext(), &quot;Account removed.&quot;, Toast.LENGTH_SHORT)\n                                        .show();\n\n                                /* Reload account asynchronously to get the up-to-date list. */\n                                loadAccounts();\n                            }\n\n                            @Override\n                            public void onError(@NonNull MsalException exception) {\n                                displayError(exception);\n                            }\n                        });\n            }\n        });\n</code></pre>\n<p>It always display the toast &quot;Account removed&quot;, but it is actually not. Any help is appreciated!</p>\n"},{"tags":["java","dictionary","mapbox"],"owner":{"account_id":27232263,"reputation":1,"user_id":20759788,"display_name":"brti1022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670875094,"creation_date":1670875094,"question_id":74776670,"body_markdown":"The position of the user is not displayed. The permission is requested and the map is opened. Furthermore, the app is restarted when clicking on the map.\r\n\r\nThe Mapbox 9.0.2 with Java code was used.\r\n\r\n```\r\n\r\npublic void onMapReady(@NonNull MapboxMap mapboxMap) {\r\n        this.map = mapboxMap;\r\n        map.addOnMapClickListener(this);\r\n        mapboxMap.setStyle(Style.LIGHT, new Style.OnStyleLoaded() {\r\n            @Override\r\n            public void onStyleLoaded(@NonNull Style style) {\r\n\r\n                enaleCommponent(style);\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\r\n    public void enaleCommponent(@NonNull Style loadedMapStyle){\r\n        try {\r\n            if (PermissionsManager.areLocationPermissionsGranted(this)) {\r\n                locationComponent = map.getLocationComponent();\r\n                locationComponent.activateLocationComponent(LocationComponentActivationOptions.builder(this, loadedMapStyle).build());\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\r\n                locationComponent.setLocationComponentEnabled(true);\r\n                locationComponent.zoomWhileTracking(14,3000);\r\n                locationComponent.setCameraMode(CameraMode.TRACKING);\r\n                locationComponent.setRenderMode(RenderMode.COMPASS);\r\n                locationComponent.tiltWhileTracking(45);\r\n            }else{\r\n                permissionsManager= new PermissionsManager(this);\r\n                permissionsManager.requestLocationPermissions(this);\r\n            }\r\n        }\r\n        catch (Exception e){\r\n            Log.e(&quot;ERR_LOAD_MAP&quot;,e.getMessage());\r\n        }\r\n    }\r\n```","title":"Mapbox problems with user position and Map on Click in Android Studio","body":"<p>The position of the user is not displayed. The permission is requested and the map is opened. Furthermore, the app is restarted when clicking on the map.</p>\n<p>The Mapbox 9.0.2 with Java code was used.</p>\n<pre><code>\npublic void onMapReady(@NonNull MapboxMap mapboxMap) {\n        this.map = mapboxMap;\n        map.addOnMapClickListener(this);\n        mapboxMap.setStyle(Style.LIGHT, new Style.OnStyleLoaded() {\n            @Override\n            public void onStyleLoaded(@NonNull Style style) {\n\n                enaleCommponent(style);\n            }\n\n\n        });\n    }\n\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\n    public void enaleCommponent(@NonNull Style loadedMapStyle){\n        try {\n            if (PermissionsManager.areLocationPermissionsGranted(this)) {\n                locationComponent = map.getLocationComponent();\n                locationComponent.activateLocationComponent(LocationComponentActivationOptions.builder(this, loadedMapStyle).build());\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\n                locationComponent.setLocationComponentEnabled(true);\n                locationComponent.zoomWhileTracking(14,3000);\n                locationComponent.setCameraMode(CameraMode.TRACKING);\n                locationComponent.setRenderMode(RenderMode.COMPASS);\n                locationComponent.tiltWhileTracking(45);\n            }else{\n                permissionsManager= new PermissionsManager(this);\n                permissionsManager.requestLocationPermissions(this);\n            }\n        }\n        catch (Exception e){\n            Log.e(&quot;ERR_LOAD_MAP&quot;,e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":["java","generics","bounded-wildcard"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663236289,"post_id":73729137,"comment_id":130193588,"body_markdown":"What&#39;s the problem with `Optional&lt;? extends OnlineResource&gt;`? You can use it just like `Optional&lt;OnlineResource&gt;` in most cases.","body":"What&#39;s the problem with <code>Optional&lt;? extends OnlineResource&gt;</code>? You can use it just like <code>Optional&lt;OnlineResource&gt;</code> in most cases."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1663236860,"post_id":73729137,"comment_id":130193770,"body_markdown":"@Thomas Generic types are invariant, which is counter-intuitive for immutable collections (Optional is effectively a collection of length 1). `Optional&lt;? extends OnlineResource&gt;` is not assignable to `Optional&lt;OnlineResource&gt;`. There might be an interface that was too strictly defined which returns `Optional&lt;OnlineResource&gt;` or something. Just because there is nothing wrong with  `Optional&lt;? extends OnlineResource&gt;` in concept doesn&#39;t mean there is no reason to do what OP is asking","body":"@Thomas Generic types are invariant, which is counter-intuitive for immutable collections (Optional is effectively a collection of length 1). <code>Optional&lt;? extends OnlineResource&gt;</code> is not assignable to <code>Optional&lt;OnlineResource&gt;</code>. There might be an interface that was too strictly defined which returns <code>Optional&lt;OnlineResource&gt;</code> or something. Just because there is nothing wrong with  <code>Optional&lt;? extends OnlineResource&gt;</code> in concept doesn&#39;t mean there is no reason to do what OP is asking"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663240112,"post_id":73729137,"comment_id":130194848,"body_markdown":"@Thomas not really. If you have, e.g. `Optional&lt;? extends String&gt; o;`, not even something as simple as `String s = o.orElse(&quot;&quot;);` works.","body":"@Thomas not really. If you have, e.g. <code>Optional&lt;? extends String&gt; o;</code>, not even something as simple as <code>String s = o.orElse(&quot;&quot;);</code> works."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1663241175,"post_id":73729137,"comment_id":130195220,"body_markdown":"@Holger I see. Yes, `orElse()` and the like wouldn&#39;t work, that&#39;s why I added the &quot;in most cases&quot;. I agree that having a `Optional&lt;OnlineResource&gt;` is preferable since optionals are immutable anyway. I just tried to raise awareness of &quot;don&#39;t fix what doesn&#39;t need fixing&quot;, i.e. &quot;I want to do X&quot; isn&#39;t necessarily the same as &quot;I need to do X (because of Y)&quot; :)","body":"@Holger I see. Yes, <code>orElse()</code> and the like wouldn&#39;t work, that&#39;s why I added the &quot;in most cases&quot;. I agree that having a <code>Optional&lt;OnlineResource&gt;</code> is preferable since optionals are immutable anyway. I just tried to raise awareness of &quot;don&#39;t fix what doesn&#39;t need fixing&quot;, i.e. &quot;I want to do X&quot; isn&#39;t necessarily the same as &quot;I need to do X (because of Y)&quot; :)"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663237148,"creation_date":1663237148,"answer_id":73729414,"question_id":73729137,"body_markdown":"Add a cast. It&#39;s safe, since all `? extends X`s are necessarily `X`s.\r\n\r\n    Optional&lt;Number&gt; foo = Optional.of(&quot;ABC&quot;)\r\n        .flatMap(Main::length); // Does not compile\r\n    \r\n    Optional&lt;Number&gt; bar = Optional.of(&quot;DEFG&quot;)\r\n        .flatMap(Main::length)\r\n        .map(Number.class::cast); // Safe\r\n   \r\n&lt;span&gt;\r\n\r\n    private static Optional&lt;? extends Number&gt; length(String str) {\r\n        return Optional.ofNullable(str).map(String::length);\r\n    }","title":"Cast generic return type into lambda expression","body":"<p>Add a cast. It's safe, since all <code>? extends X</code>s are necessarily <code>X</code>s.</p>\n<pre><code>Optional&lt;Number&gt; foo = Optional.of(&quot;ABC&quot;)\n    .flatMap(Main::length); // Does not compile\n\nOptional&lt;Number&gt; bar = Optional.of(&quot;DEFG&quot;)\n    .flatMap(Main::length)\n    .map(Number.class::cast); // Safe\n</code></pre>\n\n<pre><code>private static Optional&lt;? extends Number&gt; length(String str) {\n    return Optional.ofNullable(str).map(String::length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663239296,"creation_date":1663239296,"answer_id":73729863,"question_id":73729137,"body_markdown":"It seems that either or both methods, `getTransferOptions()` and/or `getOnLines()` return a collection with a wildcard type, like `Collection&lt;? extends &gt;`. This is [strongly discouraged]:\r\n\r\n&gt; Using a wildcard as a return type should be avoided because it forces programmers using the code to deal with wildcards.\r\n\r\nWhich means precisely the problem you ran into. You should preferably fix these methods rather than the caller. If this is not possible, you may workaround the issue by specifying an explicit type for the `flatMap` operation instead of relying on type inference.\r\n\r\nE.g., if you have code like\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  Optional&lt;? extends Number&gt; result = Stream.of(&quot;&quot;)\r\n      .flatMap(x -&gt; method(x).stream())\r\n      .filter(x -&gt; true)\r\n      .findFirst();\r\n}\r\n\r\nprivate static List&lt;? extends Number&gt; method(Object arg) {\r\n    return Arrays.asList(42, 1.23);\r\n}\r\n```\r\n\r\nchange it to\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  Optional&lt;Number&gt; result = Stream.of(&quot;&quot;)\r\n      .&lt;Number&gt;flatMap(x -&gt; method(x).stream())\r\n      .filter(x -&gt; true)\r\n      .findFirst();\r\n}\r\n\r\nprivate static List&lt;? extends Number&gt; method(Object arg) {\r\n    return Arrays.asList(42, 1.23);\r\n}\r\n```\r\nto `flatMap` to a `Stream&lt;Number&gt;`, rather than `Stream&lt;? extends Number&gt;`. This works, because the `flatMap` has been declared as\r\n\r\n```java\r\n&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T,? extends Stream&lt;? extends R&gt;&gt; mapper)\r\n```\r\n\r\nallowing the specified function to return a stream of subtypes. This is an application of the [PECS rule].\r\n\r\n---\r\n\r\nBut as said, its preferable to fix the collection returning methods. More than often, they also call methods following the PECS rule and hence, allow changing an element type from `? extends E` to `E`.\r\n\r\nIt might be helpful to know the following features:\r\n\r\nIf you already have an immutable collection like those created with `List.of()`, you can use methods `List.copyOf()` or `Set.copyOf()` to widen their element type without a copy.\r\n\r\n```java\r\nList&lt;String&gt; list1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nList&lt;? extends Object&gt; list2 = list1;\r\n\r\nList&lt;Object&gt; list3 = List.copyOf(list2);\r\n\r\nSystem.out.println(list1 == (Object)list3); // prints true\r\n```\r\n\r\nThis works, because the immutability prevent callers from adding an `Object` to this `List&lt;String&gt;`. Likewise, you can create an unmodifiable *view* to any collection to avoid dealing with wildcard types:\r\n\r\n```java\r\nList&lt;String&gt; list1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nList&lt;? extends Object&gt; list2 = list1;\r\n\r\nList&lt;Object&gt; list3 = Collections.unmodifiableList(list2);\r\n```\r\nThis creates a new `List` instance, but without copying the contents, so its still cheap. But, as said, more than often, there are already methods involved which allow changing the type to the desired wildcard free type by just inserting the explicit type at an earlier point.\r\n\r\n[strongly discouraged]: https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\r\n[PECS rule]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"Cast generic return type into lambda expression","body":"<p>It seems that either or both methods, <code>getTransferOptions()</code> and/or <code>getOnLines()</code> return a collection with a wildcard type, like <code>Collection&lt;? extends &gt;</code>. This is <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">strongly discouraged</a>:</p>\n<blockquote>\n<p>Using a wildcard as a return type should be avoided because it forces programmers using the code to deal with wildcards.</p>\n</blockquote>\n<p>Which means precisely the problem you ran into. You should preferably fix these methods rather than the caller. If this is not possible, you may workaround the issue by specifying an explicit type for the <code>flatMap</code> operation instead of relying on type inference.</p>\n<p>E.g., if you have code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Optional&lt;? extends Number&gt; result = Stream.of(&quot;&quot;)\n      .flatMap(x -&gt; method(x).stream())\n      .filter(x -&gt; true)\n      .findFirst();\n}\n\nprivate static List&lt;? extends Number&gt; method(Object arg) {\n    return Arrays.asList(42, 1.23);\n}\n</code></pre>\n<p>change it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Optional&lt;Number&gt; result = Stream.of(&quot;&quot;)\n      .&lt;Number&gt;flatMap(x -&gt; method(x).stream())\n      .filter(x -&gt; true)\n      .findFirst();\n}\n\nprivate static List&lt;? extends Number&gt; method(Object arg) {\n    return Arrays.asList(42, 1.23);\n}\n</code></pre>\n<p>to <code>flatMap</code> to a <code>Stream&lt;Number&gt;</code>, rather than <code>Stream&lt;? extends Number&gt;</code>. This works, because the <code>flatMap</code> has been declared as</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T,? extends Stream&lt;? extends R&gt;&gt; mapper)\n</code></pre>\n<p>allowing the specified function to return a stream of subtypes. This is an application of the <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS rule</a>.</p>\n<hr />\n<p>But as said, its preferable to fix the collection returning methods. More than often, they also call methods following the PECS rule and hence, allow changing an element type from <code>? extends E</code> to <code>E</code>.</p>\n<p>It might be helpful to know the following features:</p>\n<p>If you already have an immutable collection like those created with <code>List.of()</code>, you can use methods <code>List.copyOf()</code> or <code>Set.copyOf()</code> to widen their element type without a copy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\n\nList&lt;? extends Object&gt; list2 = list1;\n\nList&lt;Object&gt; list3 = List.copyOf(list2);\n\nSystem.out.println(list1 == (Object)list3); // prints true\n</code></pre>\n<p>This works, because the immutability prevent callers from adding an <code>Object</code> to this <code>List&lt;String&gt;</code>. Likewise, you can create an unmodifiable <em>view</em> to any collection to avoid dealing with wildcard types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\n\nList&lt;? extends Object&gt; list2 = list1;\n\nList&lt;Object&gt; list3 = Collections.unmodifiableList(list2);\n</code></pre>\n<p>This creates a new <code>List</code> instance, but without copying the contents, so its still cheap. But, as said, more than often, there are already methods involved which allow changing the type to the desired wildcard free type by just inserting the explicit type at an earlier point.</p>\n"}],"owner":{"account_id":13487965,"reputation":1838,"user_id":9731186,"display_name":"charlycou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73729863,"answer_count":2,"score":1,"last_activity_date":1670874886,"creation_date":1663236061,"question_id":73729137,"body_markdown":"I use this lambda expression to find a nested object\r\n\r\n    Optional&lt;? extends OnlineResource&gt; onlineResourceOptional =\r\n            metadata.getDistributionInfo().stream()\r\n                    .filter(Objects::nonNull)\r\n                    .flatMap(distribution -&gt; distribution.getTransferOptions().stream())\r\n                    .filter(Objects::nonNull)\r\n                    .flatMap(digitalTransferOptions -&gt; digitalTransferOptions.getOnLines().stream())\r\n                    .filter(Objects::nonNull)\r\n                    .filter(onlineResource -&gt; onlineResource.getProtocol().equals(&quot;OGC:STA&quot;))\r\n                    .findFirst()\r\n                    ;\r\n\r\nIt returns a generic `Optional&lt;? extends OnlineResource&gt;` because of the `flatmap` method but I want it to return a `Optional&lt;OnlineResource&gt;`. How can I achieve that?","title":"Cast generic return type into lambda expression","body":"<p>I use this lambda expression to find a nested object</p>\n<pre><code>Optional&lt;? extends OnlineResource&gt; onlineResourceOptional =\n        metadata.getDistributionInfo().stream()\n                .filter(Objects::nonNull)\n                .flatMap(distribution -&gt; distribution.getTransferOptions().stream())\n                .filter(Objects::nonNull)\n                .flatMap(digitalTransferOptions -&gt; digitalTransferOptions.getOnLines().stream())\n                .filter(Objects::nonNull)\n                .filter(onlineResource -&gt; onlineResource.getProtocol().equals(&quot;OGC:STA&quot;))\n                .findFirst()\n                ;\n</code></pre>\n<p>It returns a generic <code>Optional&lt;? extends OnlineResource&gt;</code> because of the <code>flatmap</code> method but I want it to return a <code>Optional&lt;OnlineResource&gt;</code>. How can I achieve that?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":1820147,"reputation":1030,"user_id":1654381,"display_name":"loa_in_"},"score":0,"creation_date":1606606718,"post_id":65053923,"comment_id":115012593,"body_markdown":"both files use different `Fragment` base classes: `import androidx.fragment.app.Fragment;` in one and `import android.app.Fragment;` in other.","body":"both files use different <code>Fragment</code> base classes: <code>import androidx.fragment.app.Fragment;</code> in one and <code>import android.app.Fragment;</code> in other."}],"answers":[{"tags":[],"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1606594221,"creation_date":1606594221,"answer_id":65054005,"question_id":65053923,"body_markdown":"You have wrong import in your `AndresFragment`.\r\n\r\nInstead of:\r\n   \r\n    import android.app.Fragment;\r\n\r\nYou should use:\r\n   \r\n    import androidx.fragment.app.Fragment;\r\n\r\n\r\nIn your first file you have proper import and that is why you don&#39;t have error there, `android.app.Fragment` is old and deprecated so that is why you receive error message since you should be using new one.","title":"Default constructor is deprecated, I can&#39;t find the fragment problem in Adroid Studio","body":"<p>You have wrong import in your <code>AndresFragment</code>.</p>\n<p>Instead of:</p>\n<pre><code>import android.app.Fragment;\n</code></pre>\n<p>You should use:</p>\n<pre><code>import androidx.fragment.app.Fragment;\n</code></pre>\n<p>In your first file you have proper import and that is why you don't have error there, <code>android.app.Fragment</code> is old and deprecated so that is why you receive error message since you should be using new one.</p>\n"},{"tags":[],"owner":{"account_id":11085811,"reputation":124,"user_id":8139569,"display_name":"Daniel Cettour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670874387,"creation_date":1670874387,"answer_id":74776550,"question_id":65053923,"body_markdown":"If you are getting this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YT3r2.png\r\n\r\njust invalidate caches and restart","title":"Default constructor is deprecated, I can&#39;t find the fragment problem in Adroid Studio","body":"<p>If you are getting this:</p>\n<p><a href=\"https://i.stack.imgur.com/YT3r2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YT3r2.png\" alt=\"enter image description here\" /></a></p>\n<p>just invalidate caches and restart</p>\n"}],"owner":{"account_id":17156936,"reputation":43,"user_id":14726283,"display_name":"Josef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1775,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65054005,"answer_count":2,"score":3,"last_activity_date":1670874387,"creation_date":1606593664,"question_id":65053923,"body_markdown":"When I write the Code like this, the ControlFragment works fine, but when I use the exact same Code in my other Fragment named &quot;AndresFragment&quot; (second code), it&#39;s not working. It says &quot;Default constructor in android.app.Fragment is deprecated&quot;. I really don&#39;t get it... Can someone please help me, I&#39;m new in  \r\n```\r\npackage com.example.fragm;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class ControlFragment extends Fragment {\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        if (savedInstanceState != null) {\r\n\r\n        }\r\n        View myView = inflater.inflate(R.layout.controlfragment,\r\n                container, false);\r\n        return myView;\r\n    }\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nCode for &quot;AndresFragment&quot;:\r\n```\r\npackage com.example.fragm;\r\n\r\nimport android.app.Fragment;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\npublic class AndresFragment extends Fragment {\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        if (savedInstanceState != null) {\r\n// restore internal values if necessary\r\n        }\r\n        View myView1 = inflater.inflate(R.layout.andresfragment,\r\n                container, false);\r\n        return myView1;\r\n    }\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n    }\r\n}\r\n```\r\nThat&#39;s my Mainactivity.java with the ControlFragment it works:\r\n```\r\npackage com.example.fragm;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (savedInstanceState != null) {\r\n            return;\r\n        }\r\n        ControlFragment myFragment = new ControlFragment();\r\n        getSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();\r\n    }\r\n}\r\n```\r\nBut I can&#39;t use &quot;AndresFragment&quot;\r\n```\r\npackage com.example.fragm;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (savedInstanceState != null) {\r\n            return;\r\n        }\r\n        AndresFragment myFragment = new AndresFragment();\r\n        getSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();\r\n    }\r\n}\r\n```\r\nWhen I try to compile it, the error is: &quot;error: no suitable method found for add(int,AndresFragment)\r\n        getSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();&quot;","title":"Default constructor is deprecated, I can&#39;t find the fragment problem in Adroid Studio","body":"<p>When I write the Code like this, the ControlFragment works fine, but when I use the exact same Code in my other Fragment named &quot;AndresFragment&quot; (second code), it's not working. It says &quot;Default constructor in android.app.Fragment is deprecated&quot;. I really don't get it... Can someone please help me, I'm new in</p>\n<pre><code>package com.example.fragm;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\n\npublic class ControlFragment extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        if (savedInstanceState != null) {\n\n        }\n        View myView = inflater.inflate(R.layout.controlfragment,\n                container, false);\n        return myView;\n    }\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n\n    }\n\n}\n\n\n</code></pre>\n<p>Code for &quot;AndresFragment&quot;:</p>\n<pre><code>package com.example.fragm;\n\nimport android.app.Fragment;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class AndresFragment extends Fragment {\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        if (savedInstanceState != null) {\n// restore internal values if necessary\n        }\n        View myView1 = inflater.inflate(R.layout.andresfragment,\n                container, false);\n        return myView1;\n    }\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n    }\n}\n</code></pre>\n<p>That's my Mainactivity.java with the ControlFragment it works:</p>\n<pre><code>package com.example.fragm;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (savedInstanceState != null) {\n            return;\n        }\n        ControlFragment myFragment = new ControlFragment();\n        getSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();\n    }\n}\n</code></pre>\n<p>But I can't use &quot;AndresFragment&quot;</p>\n<pre><code>package com.example.fragm;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (savedInstanceState != null) {\n            return;\n        }\n        AndresFragment myFragment = new AndresFragment();\n        getSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();\n    }\n}\n</code></pre>\n<p>When I try to compile it, the error is: &quot;error: no suitable method found for add(int,AndresFragment)\ngetSupportFragmentManager().beginTransaction().add(R.id.my_fragment_container, myFragment).commit();&quot;</p>\n"},{"tags":["java","android","crash-reports","acra","acralyzer"],"answers":[{"tags":[],"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670874261,"creation_date":1662739030,"answer_id":73664723,"question_id":73657985,"body_markdown":"You can use the [debugging guide][1] to figure out what is going wrong on your device. It&#39;s probably not a server side issue.\r\n\r\n\r\n  [1]: https://acra.ch/docs/How-to-debug","title":"Crash report are not coming in with Aralyzer","body":"<p>You can use the <a href=\"https://acra.ch/docs/How-to-debug\" rel=\"nofollow noreferrer\">debugging guide</a> to figure out what is going wrong on your device. It's probably not a server side issue.</p>\n"}],"owner":{"account_id":21359856,"reputation":61,"user_id":15728478,"display_name":"codewithbawo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670874261,"creation_date":1662703808,"question_id":73657985,"body_markdown":"I have set up Acralyzer on my application, but the reports are not coming in. The last report came about 10 days ago, but now no reports are coming. I don&#39;t really know much about acralyzer, but after researching I was able to set it up like this. Please the log shows that the message was successful, cos I don&#39;t really understand the logs\r\n\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n        CoreConfigurationBuilder builder = new CoreConfigurationBuilder(this)\r\n                .setBuildConfigClass(BuildConfig.class)\r\n                .setReportFormat(StringFormat.JSON);\r\n        builder.getPluginConfigurationBuilder(HttpSenderConfigurationBuilder.class)\r\n                .setUri(&quot;*******&quot;)\r\n                .setHttpMethod(HttpSender.Method.PUT)\r\n                .setBasicAuthLogin(&quot;******&quot;)\r\n                .setBasicAuthPassword(&quot;*********&quot;)\r\n                .setEnabled(true);\r\n        builder.getPluginConfigurationBuilder(SchedulerConfigurationBuilder.class)\r\n                .setRequiresNetworkType(JobInfo.NETWORK_TYPE_ANY)\r\n                .setEnabled(true);\r\n        ACRA.DEV_LOGGING = true;\r\n        ACRA.init(this, builder);\r\n    }\r\n\r\nThis is what I get from the logs\r\n```2022-09-09 06:44:51.151 7476-7476/ D/ACRA: Found ConfigurationBuilders : [org.acra.config.HttpSenderConfigurationBuilderImpl@34e2b69, org.acra.config.SchedulerConfigurationBuilderImpl@5b8a9ee]\r\n2022-09-09 06:44:51.154 7476-7476/ D/ACRA: Using default Report Fields\r\n2022-09-09 06:44:51.159 7476-7476/ D/ACRA: ACRA processName=&#39;&#39;\r\n2022-09-09 06:44:51.166 7476-7476/ I/ACRA: ACRA is enabled for , initializing...\r\n2022-09-09 06:44:51.169 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.collector.Collector]\r\n2022-09-09 06:44:51.179 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ConfigurationCollector\r\n2022-09-09 06:44:51.179 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.CustomDataCollector\r\n2022-09-09 06:44:51.180 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DeviceFeaturesCollector\r\n2022-09-09 06:44:51.181 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DeviceIdCollector\r\n2022-09-09 06:44:51.183 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DisplayManagerCollector\r\n2022-09-09 06:44:51.185 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DropBoxCollector\r\n2022-09-09 06:44:51.187 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.LogCatCollector\r\n2022-09-09 06:44:51.188 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.LogFileCollector\r\n2022-09-09 06:44:51.190 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.MediaCodecListCollector\r\n2022-09-09 06:44:51.192 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.MemoryInfoCollector\r\n2022-09-09 06:44:51.192 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.PackageManagerCollector\r\n2022-09-09 06:44:51.193 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ReflectionCollector\r\n2022-09-09 06:44:51.195 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SettingsCollector\r\n2022-09-09 06:44:51.196 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SharedPreferencesCollector\r\n2022-09-09 06:44:51.197 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SimpleValuesCollector\r\n2022-09-09 06:44:51.198 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.StacktraceCollector\r\n2022-09-09 06:44:51.199 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ThreadCollector\r\n2022-09-09 06:44:51.219 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.TimeCollector\r\n2022-09-09 06:44:51.230 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.scheduler.SenderSchedulerFactory]\r\n2022-09-09 06:44:51.236 7476-7476/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.236 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.237 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.SchedulerConfiguration@969348b against plugin class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.237 7476-7476/ D/ACRA: Ignoring disabled SenderSchedulerFactory of type Factory\r\n2022-09-09 06:44:51.239 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.config.ReportingAdministrator]\r\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.SchedulerConfiguration@969348b against plugin class : class org.acra.config.SchedulerConfiguration\r\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Ignoring disabled ReportingAdministrator of type RestartingAdministrator\r\n2022-09-09 06:44:51.803 7476-7476/ D/ACRA: onActivityCreated class com.seamfix.nimc.activities.ExceptionHandlerActivity\r\n2022-09-09 06:44:51.864 7476-7476/ D/ACRA: onActivityStarted class com.seamfix.nimc.activities.ExceptionHandlerActivity\r\n2022-09-09 06:44:51.917 7476-7476/ D/ACRA: onActivityResumed class com.seamfix.nimc.activities.ExceptionHandlerActivity\r\n2022-09-09 06:44:52.164 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.startup.StartupProcessor]\r\n2022-09-09 06:44:52.170 7476-7523/ D/ACRA: Loaded StartupProcessor of type org.acra.startup.UnapprovedStartupProcessor\r\n2022-09-09 06:44:52.428 7476-7523/ D/ACRA: Schedule report sending\r\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: config#reportSenderFactoryClasses : ImmutableList{[]}\r\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: Using PluginLoader to find ReportSender factories\r\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.sender.ReportSenderFactory]\r\n2022-09-09 06:44:52.503 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: Loaded ReportSenderFactory of type org.acra.sender.HttpSenderFactory\r\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: reportSenderFactories : [org.acra.sender.HttpSenderFactory@9cb2a17]\r\n2022-09-09 06:44:52.506 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.507 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.507 7476-7523/ D/ACRA: Adding reportSender : org.acra.sender.HttpSender@71e1e04\r\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: config#reportSenderFactoryClasses : ImmutableList{[]}\r\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: Using PluginLoader to find ReportSender factories\r\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.sender.ReportSenderFactory]\r\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Loaded ReportSenderFactory of type org.acra.sender.HttpSenderFactory\r\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: reportSenderFactories : [org.acra.sender.HttpSenderFactory@54e50b3]\r\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\r\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Adding reportSender : org.acra.sender.HttpSender@c611670```","title":"Crash report are not coming in with Aralyzer","body":"<p>I have set up Acralyzer on my application, but the reports are not coming in. The last report came about 10 days ago, but now no reports are coming. I don't really know much about acralyzer, but after researching I was able to set it up like this. Please the log shows that the message was successful, cos I don't really understand the logs</p>\n<pre><code>protected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n    CoreConfigurationBuilder builder = new CoreConfigurationBuilder(this)\n            .setBuildConfigClass(BuildConfig.class)\n            .setReportFormat(StringFormat.JSON);\n    builder.getPluginConfigurationBuilder(HttpSenderConfigurationBuilder.class)\n            .setUri(&quot;*******&quot;)\n            .setHttpMethod(HttpSender.Method.PUT)\n            .setBasicAuthLogin(&quot;******&quot;)\n            .setBasicAuthPassword(&quot;*********&quot;)\n            .setEnabled(true);\n    builder.getPluginConfigurationBuilder(SchedulerConfigurationBuilder.class)\n            .setRequiresNetworkType(JobInfo.NETWORK_TYPE_ANY)\n            .setEnabled(true);\n    ACRA.DEV_LOGGING = true;\n    ACRA.init(this, builder);\n}\n</code></pre>\n<p>This is what I get from the logs</p>\n<pre><code>2022-09-09 06:44:51.154 7476-7476/ D/ACRA: Using default Report Fields\n2022-09-09 06:44:51.159 7476-7476/ D/ACRA: ACRA processName=''\n2022-09-09 06:44:51.166 7476-7476/ I/ACRA: ACRA is enabled for , initializing...\n2022-09-09 06:44:51.169 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.collector.Collector]\n2022-09-09 06:44:51.179 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ConfigurationCollector\n2022-09-09 06:44:51.179 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.CustomDataCollector\n2022-09-09 06:44:51.180 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DeviceFeaturesCollector\n2022-09-09 06:44:51.181 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DeviceIdCollector\n2022-09-09 06:44:51.183 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DisplayManagerCollector\n2022-09-09 06:44:51.185 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.DropBoxCollector\n2022-09-09 06:44:51.187 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.LogCatCollector\n2022-09-09 06:44:51.188 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.LogFileCollector\n2022-09-09 06:44:51.190 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.MediaCodecListCollector\n2022-09-09 06:44:51.192 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.MemoryInfoCollector\n2022-09-09 06:44:51.192 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.PackageManagerCollector\n2022-09-09 06:44:51.193 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ReflectionCollector\n2022-09-09 06:44:51.195 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SettingsCollector\n2022-09-09 06:44:51.196 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SharedPreferencesCollector\n2022-09-09 06:44:51.197 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.SimpleValuesCollector\n2022-09-09 06:44:51.198 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.StacktraceCollector\n2022-09-09 06:44:51.199 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.ThreadCollector\n2022-09-09 06:44:51.219 7476-7476/ D/ACRA: Loaded Collector of type org.acra.collector.TimeCollector\n2022-09-09 06:44:51.230 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.scheduler.SenderSchedulerFactory]\n2022-09-09 06:44:51.236 7476-7476/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.236 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.237 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.SchedulerConfiguration@969348b against plugin class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.237 7476-7476/ D/ACRA: Ignoring disabled SenderSchedulerFactory of type Factory\n2022-09-09 06:44:51.239 7476-7476/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.config.ReportingAdministrator]\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Checking plugin Configuration : org.acra.config.SchedulerConfiguration@969348b against plugin class : class org.acra.config.SchedulerConfiguration\n2022-09-09 06:44:51.245 7476-7476/ D/ACRA: Ignoring disabled ReportingAdministrator of type RestartingAdministrator\n2022-09-09 06:44:51.803 7476-7476/ D/ACRA: onActivityCreated class com.seamfix.nimc.activities.ExceptionHandlerActivity\n2022-09-09 06:44:51.864 7476-7476/ D/ACRA: onActivityStarted class com.seamfix.nimc.activities.ExceptionHandlerActivity\n2022-09-09 06:44:51.917 7476-7476/ D/ACRA: onActivityResumed class com.seamfix.nimc.activities.ExceptionHandlerActivity\n2022-09-09 06:44:52.164 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.startup.StartupProcessor]\n2022-09-09 06:44:52.170 7476-7523/ D/ACRA: Loaded StartupProcessor of type org.acra.startup.UnapprovedStartupProcessor\n2022-09-09 06:44:52.428 7476-7523/ D/ACRA: Schedule report sending\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: config#reportSenderFactoryClasses : ImmutableList{[]}\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: Using PluginLoader to find ReportSender factories\n2022-09-09 06:44:52.497 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.sender.ReportSenderFactory]\n2022-09-09 06:44:52.503 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: Loaded ReportSenderFactory of type org.acra.sender.HttpSenderFactory\n2022-09-09 06:44:52.504 7476-7523/ D/ACRA: reportSenderFactories : [org.acra.sender.HttpSenderFactory@9cb2a17]\n2022-09-09 06:44:52.506 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.507 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.507 7476-7523/ D/ACRA: Adding reportSender : org.acra.sender.HttpSender@71e1e04\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: config#reportSenderFactoryClasses : ImmutableList{[]}\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: Using PluginLoader to find ReportSender factories\n2022-09-09 06:44:52.517 7476-7523/ D/ACRA: ServicePluginLoader loading services from ServiceLoader : java.util.ServiceLoader[org.acra.sender.ReportSenderFactory]\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: Loaded ReportSenderFactory of type org.acra.sender.HttpSenderFactory\n2022-09-09 06:44:52.522 7476-7523/ D/ACRA: reportSenderFactories : [org.acra.sender.HttpSenderFactory@54e50b3]\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Checking plugin Configurations : ImmutableList{[org.acra.config.HttpSenderConfiguration@8a7fa5a, org.acra.config.SchedulerConfiguration@969348b]} for class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Checking plugin Configuration : org.acra.config.HttpSenderConfiguration@8a7fa5a against plugin class : class org.acra.config.HttpSenderConfiguration\n2022-09-09 06:44:52.523 7476-7523/ D/ACRA: Adding reportSender : org.acra.sender.HttpSender@c611670```\n</code></pre>\n"},{"tags":["java","kotlin","timestamp","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670874041,"post_id":74775916,"comment_id":131969695,"body_markdown":"Related: [this](https://stackoverflow.com/questions/7229603/simpledateformat-24h), [this](https://stackoverflow.com/questions/39133828/why-cant-offsetdatetime-parse-2016-08-24t183805-5070000-in-java-8) and many others. Dont think this exact question has been asked before, though.","body":"Related: <a href=\"https://stackoverflow.com/questions/7229603/simpledateformat-24h\">this</a>, <a href=\"https://stackoverflow.com/questions/39133828/why-cant-offsetdatetime-parse-2016-08-24t183805-5070000-in-java-8\">this</a> and many others. Dont think this exact question has been asked before, though."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670874280,"post_id":74775916,"comment_id":131969762,"body_markdown":"While the classes of java.time parse ISO 8601 format, they dont parse *all* variants of ISO 8601. `Instant.parse()` accepts the offset given as `Z` (Zulu = zero), in later Java versions also as `+01:00` with a colon. To parse `+0100` without a colon you do need to specify the format using a `DateTimeFormatter`.","body":"While the classes of java.time parse ISO 8601 format, they dont parse <i>all</i> variants of ISO 8601. <code>Instant.parse()</code> accepts the offset given as <code>Z</code> (Zulu = zero), in later Java versions also as <code>+01:00</code> with a colon. To parse <code>+0100</code> without a colon you do need to specify the format using a <code>DateTimeFormatter</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670873733,"creation_date":1670873733,"answer_id":74776444,"question_id":74775916,"body_markdown":"Apply `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxx&quot;)` while parsing the given date-time string into an `OffsetDateTime` and then convert the obtained `OffsetDateTime` into an `Instant` if required.\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxx&quot;);\r\n            OffsetDateTime odt = java.time.OffsetDateTime.parse(&quot;2022-12-12T09:51:09.681+0100&quot;, parser);\r\n            System.out.println(odt);\r\n    \r\n            // Convert to Instant\r\n            Instant instant = odt.toInstant();\r\n            System.out.println(instant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-12T09:51:09.681+01:00\r\n    2022-12-12T08:51:09.681Z\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. \r\n","title":"How to parse a time stamp with numeric time zone offset?","body":"<p>Apply <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxx&quot;)</code> while parsing the given date-time string into an <code>OffsetDateTime</code> and then convert the obtained <code>OffsetDateTime</code> into an <code>Instant</code> if required.</p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxx&quot;);\n        OffsetDateTime odt = java.time.OffsetDateTime.parse(&quot;2022-12-12T09:51:09.681+0100&quot;, parser);\n        System.out.println(odt);\n\n        // Convert to Instant\n        Instant instant = odt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-12T09:51:09.681+01:00\n2022-12-12T08:51:09.681Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74776444,"answer_count":1,"score":2,"last_activity_date":1670873733,"creation_date":1670870846,"question_id":74775916,"body_markdown":"I tried this:\r\n~~~kotlin\r\nval x = java.time.Instant.parse(&quot;2022-12-12T09:51:09.681+0100&quot;)\r\n~~~\r\nBut it throws an exception.\r\n~~~none\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2022-12-12T09:51:09.681+0100&#39; could not be parsed at index 23\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\r\n\tat java.base/java.time.Instant.parse(Instant.java:395)\r\n\tat org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated$ScratchFileRunnerGenerated.&lt;init&gt;(tmp.kt:8)\r\n\tat org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated.main(tmp.kt:13)\r\n~~~ \r\nWhat is wrong with the timestamp?\r\n\r\nIf I compare it to\r\nhttps://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\r\nI can not see an error.\r\n\r\nThis does not work either:\r\n~~~kotlin\r\njava.time.OffsetDateTime.parse(&quot;2022-12-12T09:51:09.681+0100&quot;)\r\n~~~                 ","title":"How to parse a time stamp with numeric time zone offset?","body":"<p>I tried this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val x = java.time.Instant.parse(&quot;2022-12-12T09:51:09.681+0100&quot;)\n</code></pre>\n<p>But it throws an exception.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2022-12-12T09:51:09.681+0100' could not be parsed at index 23\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\n    at java.base/java.time.Instant.parse(Instant.java:395)\n    at org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated$ScratchFileRunnerGenerated.&lt;init&gt;(tmp.kt:8)\n    at org.jetbrains.kotlin.idea.scratch.generated.ScratchFileRunnerGenerated.main(tmp.kt:13)\n</code></pre>\n<p>What is wrong with the timestamp?</p>\n<p>If I compare it to\n<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC</a>\nI can not see an error.</p>\n<p>This does not work either:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>java.time.OffsetDateTime.parse(&quot;2022-12-12T09:51:09.681+0100&quot;)\n</code></pre>\n"},{"tags":["java","spring","azure","kubernetes","feature-flags"],"owner":{"account_id":9001998,"reputation":21,"user_id":6710266,"display_name":"luke16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670873379,"creation_date":1670856948,"question_id":74772986,"body_markdown":"I implemented some feature-flag logic following Baeldungs guide, and it works great as long as the service is isolated (local, or 1 pod in the cloud) when I update the feature-flag via the controller endpoint. \r\n\r\nThe issue is, I deploy 2 pods for the microservice since it&#39;s heavy on usage. How can I make sure both pods are updated when I update the feature-flag programmatically?\r\n\r\nAm I supposed to use Kubernetes feature gates? I&#39;ve tried researching it, but have been hitting dead ends.\r\n\r\nTIA!","title":"How to Implement Feature-Flags in Java/Spring with Kubernetes Replica Set?","body":"<p>I implemented some feature-flag logic following Baeldungs guide, and it works great as long as the service is isolated (local, or 1 pod in the cloud) when I update the feature-flag via the controller endpoint.</p>\n<p>The issue is, I deploy 2 pods for the microservice since it's heavy on usage. How can I make sure both pods are updated when I update the feature-flag programmatically?</p>\n<p>Am I supposed to use Kubernetes feature gates? I've tried researching it, but have been hitting dead ends.</p>\n<p>TIA!</p>\n"},{"tags":["java","multidimensional-array","hashmap","test-suite"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1670873569,"post_id":74776362,"comment_id":131969592,"body_markdown":"What is the issue with copying the relevant part of the generic type one line above?","body":"What is the issue with copying the relevant part of the generic type one line above?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670874537,"post_id":74776362,"comment_id":131969832,"body_markdown":"What about `for(HashMap&lt;String,Object&gt; result : results)` ?","body":"What about <code>for(HashMap&lt;String,Object&gt; result : results)</code> ?"},{"owner":{"account_id":7905953,"reputation":3,"user_id":5971457,"display_name":"Sparks"},"score":0,"creation_date":1670875924,"post_id":74776362,"comment_id":131970239,"body_markdown":"@azro why does that not complain but just HashMap does? I am coming back to java from an extended time with python so I am struggling to remember these things...","body":"@azro why does that not complain but just HashMap does? I am coming back to java from an extended time with python so I am struggling to remember these things..."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670917389,"post_id":74776362,"comment_id":131977823,"body_markdown":"is &quot;that&quot; the object version ? Because Object is not a parametrized class, HashMap is","body":"is &quot;that&quot; the object version ? Because Object is not a parametrized class, HashMap is"}],"owner":{"account_id":7905953,"reputation":3,"user_id":5971457,"display_name":"Sparks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670873317,"creation_date":1670873317,"question_id":74776362,"body_markdown":"This works for me, however I know that it is incorrect to use a parameter Raw type, so how am I supposed to do this correctly? The end goal is to check each key for correctness in a test suite.\r\n\r\nI have other ideas but I want to learn the correct way to do this rather than guess. \r\n\r\n```\r\nArrayList&lt;HashMap&lt;String,Object&gt;&gt; results = dbConn.getDataFromTable(&quot;select * from paf_extract_in.hcr_retro_chart_list WHERE payer = &#39;HEALTHTEAMADVANTAGE&#39;&quot;);\r\n\r\nfor (HashMap result: results) {\r\n     if (!result.containsKey(&quot;hcr_retro_chart_list.packetid&quot;)) {\r\n         Assertions.fail();\r\n     }\r\n\r\n}\r\n```\r\n\r\n\r\nI can do this as well, however this feels wrong and I can not do any other Assertions on the items. \r\n\r\n```\r\nfor (Object result: results) {    \r\n    if (!result.toString().contains(&quot;hcr_retro_chart_list.packetid&quot;)) {\r\n        Assertions.fail();\r\n    }\r\n}\r\n```\r\n\r\n","title":"The correct Syntax for checking the keys in the hashmap inside ArrayList&lt;HashMap&lt;String,Object&gt;&gt;","body":"<p>This works for me, however I know that it is incorrect to use a parameter Raw type, so how am I supposed to do this correctly? The end goal is to check each key for correctness in a test suite.</p>\n<p>I have other ideas but I want to learn the correct way to do this rather than guess.</p>\n<pre><code>ArrayList&lt;HashMap&lt;String,Object&gt;&gt; results = dbConn.getDataFromTable(&quot;select * from paf_extract_in.hcr_retro_chart_list WHERE payer = 'HEALTHTEAMADVANTAGE'&quot;);\n\nfor (HashMap result: results) {\n     if (!result.containsKey(&quot;hcr_retro_chart_list.packetid&quot;)) {\n         Assertions.fail();\n     }\n\n}\n</code></pre>\n<p>I can do this as well, however this feels wrong and I can not do any other Assertions on the items.</p>\n<pre><code>for (Object result: results) {    \n    if (!result.toString().contains(&quot;hcr_retro_chart_list.packetid&quot;)) {\n        Assertions.fail();\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1670677388,"post_id":74753119,"comment_id":131931053,"body_markdown":"What is the purpose for this tree? If there is no meaning to where a value sits in that tree, then how will it benefit anything useful?","body":"What is the purpose for this tree? If there is no meaning to where a value sits in that tree, then how will it benefit anything useful?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1670677407,"post_id":74753119,"comment_id":131931056,"body_markdown":"That looks balanced and somewhat systematic to me. Can you show the expected result?","body":"That looks balanced and somewhat systematic to me. Can you show the expected result?"},{"owner":{"account_id":13823581,"reputation":37,"user_id":9978455,"display_name":"Mudpill"},"score":0,"creation_date":1670678194,"post_id":74753119,"comment_id":131931234,"body_markdown":"I edited my original post to reflect what I am looking for out of the tree structure.","body":"I edited my original post to reflect what I am looking for out of the tree structure."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670679289,"creation_date":1670679289,"answer_id":74753380,"question_id":74753119,"body_markdown":"If you would maintain the *size* of the tree then the binary representation of that size (plus 1) reveals which path to take to the next insertion point.\r\n\r\nFor instance, if the current tree is:\r\n\r\n          1\r\n        /   \\\r\n       2     3\r\n      /\r\n     4\r\n\r\n then its size+1 is 5, which in binary is 101. Ignore the most significant bit -- which is always 1 -- and then interpret a 0 as left, and 1 as right. And indeed that is the path for reaching the spot where the next value must be injected:\r\n\r\n              1\r\n    (left)  /   \\\r\n           2     3\r\n          / \\ (right)\r\n         4   5\r\n\r\nNot the question, but it is overkill to have a `root` parameter, when the function is a *method* on a `TreeNode` instance, so you already *have* the root (i.e. `this`).\r\n\r\nHere is an implementation -- not recursive, as it is quite straightforward to do iteratively:\r\n\r\n```\r\n    TreeNode insert(int data, int size) {\r\n        TreeNode root = this;\r\n        String bits = Integer.toBinaryString((size + 1) &gt;&gt; 1).substring(1);\r\n        for (char bit : bits.toCharArray()) {\r\n            root = bit == &#39;1&#39; ? root.right : root.left;\r\n        }\r\n        if (root.left == null) {\r\n            root.left = new TreeNode(data);\r\n        } else {\r\n            root.right = new TreeNode(data);\r\n        }\r\n        return this;\r\n    }\r\n```\r\n\r\nCall as:\r\n\r\n```\r\n        TreeNode root = new TreeNode(1);\r\n        int size = 1;\r\n        for(int i = 2; i &lt; 11; i++){\r\n            root.insert(i, size++);\r\n        }\r\n```\r\n","title":"How can I implement a recursive insert function for a binary tree?","body":"<p>If you would maintain the <em>size</em> of the tree then the binary representation of that size (plus 1) reveals which path to take to the next insertion point.</p>\n<p>For instance, if the current tree is:</p>\n<pre><code>      1\n    /   \\\n   2     3\n  /\n 4\n</code></pre>\n<p>then its size+1 is 5, which in binary is 101. Ignore the most significant bit -- which is always 1 -- and then interpret a 0 as left, and 1 as right. And indeed that is the path for reaching the spot where the next value must be injected:</p>\n<pre><code>          1\n(left)  /   \\\n       2     3\n      / \\ (right)\n     4   5\n</code></pre>\n<p>Not the question, but it is overkill to have a <code>root</code> parameter, when the function is a <em>method</em> on a <code>TreeNode</code> instance, so you already <em>have</em> the root (i.e. <code>this</code>).</p>\n<p>Here is an implementation -- not recursive, as it is quite straightforward to do iteratively:</p>\n<pre><code>    TreeNode insert(int data, int size) {\n        TreeNode root = this;\n        String bits = Integer.toBinaryString((size + 1) &gt;&gt; 1).substring(1);\n        for (char bit : bits.toCharArray()) {\n            root = bit == '1' ? root.right : root.left;\n        }\n        if (root.left == null) {\n            root.left = new TreeNode(data);\n        } else {\n            root.right = new TreeNode(data);\n        }\n        return this;\n    }\n</code></pre>\n<p>Call as:</p>\n<pre><code>        TreeNode root = new TreeNode(1);\n        int size = 1;\n        for(int i = 2; i &lt; 11; i++){\n            root.insert(i, size++);\n        }\n</code></pre>\n"}],"owner":{"account_id":13823581,"reputation":37,"user_id":9978455,"display_name":"Mudpill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74753380,"answer_count":1,"score":1,"last_activity_date":1670872464,"creation_date":1670677148,"question_id":74753119,"body_markdown":"I want to emphasize that I am specifically dealing with a binary tree, not a binary search tree (BST). The only requirements I have for this tree is that it should be balanced and insert children from left to right. I do not care about it being ordered or having duplicates.\r\n\r\nI ask this because most of the time I find examples of inserts for a binary tree, it is for a BST instead where there are no duplicates and we order things in a way that values less than the root node are stored at root.left and values that are higher than the root node get stored and root.right. I know how to implement that already, but would like to learn how to implement a basic insert for a regular binary tree. It is the recursive aspect that I am having difficulties with.\r\n\r\nAlso, I know it would be easier to do this using a data structure like a queue or a list but I would first like to attempt it without one.\r\n\r\nHere is my insert function: \r\n\r\n        TreeNode insert(int data, TreeNode root, boolean isLeft){\r\n\r\n        if(root == null){\r\n            root = new TreeNode(data);\r\n        }\r\n        else if(root.left == null){\r\n            root.left = new TreeNode(data);\r\n        }\r\n        else if(root.right == null){\r\n            root.right = new TreeNode(data);\r\n\r\n        }\r\n        else{\r\n            if(isLeft){\r\n                insert(data, root.right, false);\r\n            }\r\n            else{\r\n                insert(data, root.left, true);\r\n            }\r\n        }\r\n        return root;\r\n    }\r\n\r\nAnd here is what I am using to initialize the tree:\r\n\r\n    public static void main(String[] args){\r\n\r\n        TreeNode root = new TreeNode(1);\r\n\r\n        boolean isLeft = false;\r\n\r\n        for(int i = 2; i &lt; 11; i++){\r\n            isLeft = !isLeft;\r\n           root = root.insert(i, root, isLeft);\r\n        }\r\n\r\nThis produces a tree that looks like this:\r\n\r\n            7\r\n        3\r\n           5\r\n               9\r\n     1\r\n                10\r\n            6\r\n               8\r\n         2\r\n             4\r\n\r\nWhich does not insert systematically from left to right. Ideally it would look like this:\r\n\r\n            7\r\n        3\r\n           6\r\n               \r\n     1\r\n               \r\n            5\r\n               10\r\n         2    9\r\n             4\r\n                 8\r\n\r\nThe only reason it is numbered here is because I am using a for loop to create values but I do not care about number order, just left-to-right balance.","title":"How can I implement a recursive insert function for a binary tree?","body":"<p>I want to emphasize that I am specifically dealing with a binary tree, not a binary search tree (BST). The only requirements I have for this tree is that it should be balanced and insert children from left to right. I do not care about it being ordered or having duplicates.</p>\n<p>I ask this because most of the time I find examples of inserts for a binary tree, it is for a BST instead where there are no duplicates and we order things in a way that values less than the root node are stored at root.left and values that are higher than the root node get stored and root.right. I know how to implement that already, but would like to learn how to implement a basic insert for a regular binary tree. It is the recursive aspect that I am having difficulties with.</p>\n<p>Also, I know it would be easier to do this using a data structure like a queue or a list but I would first like to attempt it without one.</p>\n<p>Here is my insert function:</p>\n<pre><code>    TreeNode insert(int data, TreeNode root, boolean isLeft){\n\n    if(root == null){\n        root = new TreeNode(data);\n    }\n    else if(root.left == null){\n        root.left = new TreeNode(data);\n    }\n    else if(root.right == null){\n        root.right = new TreeNode(data);\n\n    }\n    else{\n        if(isLeft){\n            insert(data, root.right, false);\n        }\n        else{\n            insert(data, root.left, true);\n        }\n    }\n    return root;\n}\n</code></pre>\n<p>And here is what I am using to initialize the tree:</p>\n<pre><code>public static void main(String[] args){\n\n    TreeNode root = new TreeNode(1);\n\n    boolean isLeft = false;\n\n    for(int i = 2; i &lt; 11; i++){\n        isLeft = !isLeft;\n       root = root.insert(i, root, isLeft);\n    }\n</code></pre>\n<p>This produces a tree that looks like this:</p>\n<pre><code>        7\n    3\n       5\n           9\n 1\n            10\n        6\n           8\n     2\n         4\n</code></pre>\n<p>Which does not insert systematically from left to right. Ideally it would look like this:</p>\n<pre><code>        7\n    3\n       6\n           \n 1\n           \n        5\n           10\n     2    9\n         4\n             8\n</code></pre>\n<p>The only reason it is numbered here is because I am using a for loop to create values but I do not care about number order, just left-to-right balance.</p>\n"},{"tags":["java","algorithm","optimization","data-structures","dijkstra"],"answers":[{"tags":[],"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670857294,"creation_date":1670857294,"answer_id":74773077,"question_id":74770674,"body_markdown":"For each node that you process, you are doing a linear scan of the priority queue to see if something is already queued, and a second scan to find all the things that are queued if you have to update the distance. Instead, keep a separate multi-set of things that are in the queue.\r\n\r\n","title":"Really slow Dijkstra algorithm, what am I doing wrong?","body":"<p>For each node that you process, you are doing a linear scan of the priority queue to see if something is already queued, and a second scan to find all the things that are queued if you have to update the distance. Instead, keep a separate multi-set of things that are in the queue.</p>\n"},{"tags":[],"owner":{"account_id":14943184,"reputation":10724,"user_id":10789207,"display_name":"AirSquid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670872250,"creation_date":1670872250,"answer_id":74776171,"question_id":74770674,"body_markdown":"This is not a proper Dijkstra&#39;s implementation.  \r\n\r\nOne of the key elements of Dijkstra is that you mark nodes as &quot;visited&quot; when they have been evaluated and *prevent looking at them again because you can&#39;t do any better*.  You are not doing that, so your algorithm is doing many many more computations than necessary.  The only place where a priority queue or sort is required is to pick the next node to visit, from amongst the unvisited.  You should re-read the algorithm, implement the &quot;visitation tracking&quot; and re-formulate.","title":"Really slow Dijkstra algorithm, what am I doing wrong?","body":"<p>This is not a proper Dijkstra's implementation.</p>\n<p>One of the key elements of Dijkstra is that you mark nodes as &quot;visited&quot; when they have been evaluated and <em>prevent looking at them again because you can't do any better</em>.  You are not doing that, so your algorithm is doing many many more computations than necessary.  The only place where a priority queue or sort is required is to pick the next node to visit, from amongst the unvisited.  You should re-read the algorithm, implement the &quot;visitation tracking&quot; and re-formulate.</p>\n"}],"owner":{"account_id":27228006,"reputation":11,"user_id":20756196,"display_name":"christof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670872250,"creation_date":1670845717,"question_id":74770674,"body_markdown":"I was tasked to perform the Dijkstra Algorithm on big graphs (25 million nodes). These are represented as a 2D array: -each node as a double[] with latitude, longitude and offset (offset meaning index of the first outgoing edge of that node)\r\n-each edge as a int[] with sourceNodeId,targetNodeId and weight of that edge\r\nBelow is the code, I used int[] as a tupel for the comparison in the priority queue.\r\n\r\nThe algorithm is working and gets the right results HOWEVER it is required to be finished in 15s but takes like 8min on my laptop. Is my algorithm fundamentally slow? Am I using the wrong data structures? Am I missing something? I tried my best optimizing as far as I saw fit.\r\nAny help or any ideas would be greatly appreciated &lt;3\r\n\r\n\r\n```\r\npublic static int[] oneToAllArray(double[][]nodeList, int[][]edgeList,int sourceNodeId) {\r\n    \tint[] distance = new int[nodeList[0].length]; //the array that will be returned\r\n    \t//the priorityQueue will use arrays with the length 2, representing [index, weight] for each node and order them by their weight\r\n    \tPriorityQueue&lt;int[]&gt; prioQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; ((int[])a)[1] - ((int[])b)[1]);\r\n    \tint offset1; //used for determining the amount of outgoing edges\r\n    \tint offset2;\r\n    \tint newWeight; //declared here so we dont need to declare it a lot of times later (not sure if that makes a difference)\r\n    \t//currentSourceNode here means the node that will be looked at for OUTGOING edges\r\n    \tint[] currentSourceNode= {sourceNodeId,0};\r\n    \tprioQueue.add(currentSourceNode); \r\n    \t//at the start we only add the sourceNode, then we start the actual algorithm\r\n    \t\r\n    \twhile(!prioQueue.isEmpty()) {\r\n    \t\tif(prioQueue.size() % 55 == 2) {\r\n    \t\t\tSystem.out.println(prioQueue.size());\r\n    \t\t}\r\n    \t\t\r\n    \t\tcurrentSourceNode=prioQueue.poll();\r\n    \t\tint sourceIndex = currentSourceNode[0];\r\n    \t\t\r\n    \t\tif(sourceIndex == nodeList[0].length-1) {\r\n    \t\t\toffset1= (int) nodeList[2][sourceIndex];\r\n    \t\t\toffset2= edgeList[0].length;\r\n    \t\t} else {\r\n    \t\t\toffset1= (int) nodeList[2][sourceIndex];\r\n    \t\t\toffset2= (int) nodeList[2][sourceIndex+1];\r\n    \t\t}\r\n    \t\t//checking every outgoing edge for the currentNode\r\n    \t\tfor(int i=offset1;i&lt;offset2;i++) {\r\n    \t\t\tint targetIndex = edgeList[1][i];\r\n    \t\t\t\r\n    \t\t\t//if the node hasnt been looked at yet, the weight is just the weight of this edge + distance to sourceNode\r\n    \t\t\tif(distance[targetIndex]==0&amp;&amp;targetIndex!=sourceNodeId) {\r\n    \t\t\t\tdistance[targetIndex] = distance[sourceIndex] + edgeList[2][i];\r\n    \t\t\t\tint[]targetArray = {targetIndex, distance[targetIndex]};\r\n    \t\t\t\tprioQueue.add(targetArray);\r\n    \t\t\t} else if(prioQueue.stream().anyMatch(e -&gt; e[0]==targetIndex)) {\r\n    \t\t\t\t//above else if checks if this index is already in the prioQueue\r\n    \t\t\t\tnewWeight=distance[sourceIndex]+edgeList[2][i];\r\n    \t\t\t\t//if new weight is better, we have to update the distance + the prio queue\r\n    \t\t\t\tif(newWeight&lt;distance[targetIndex]) {\r\n    \t\t\t\t\tdistance[targetIndex]=newWeight;\r\n    \t\t\t\t\tint[] targetArray;\r\n    \t\t\t\t\ttargetArray=prioQueue.stream().filter(e-&gt;e[0]==targetIndex).toList().get(0);\r\n    \t\t\t\t\tprioQueue.remove(targetArray);\r\n    \t\t\t\t\ttargetArray[1]=newWeight;\r\n    \t\t\t\t\tprioQueue.add(targetArray);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \treturn distance;\r\n    }\r\n\r\n```\r\n","title":"Really slow Dijkstra algorithm, what am I doing wrong?","body":"<p>I was tasked to perform the Dijkstra Algorithm on big graphs (25 million nodes). These are represented as a 2D array: -each node as a double[] with latitude, longitude and offset (offset meaning index of the first outgoing edge of that node)\n-each edge as a int[] with sourceNodeId,targetNodeId and weight of that edge\nBelow is the code, I used int[] as a tupel for the comparison in the priority queue.</p>\n<p>The algorithm is working and gets the right results HOWEVER it is required to be finished in 15s but takes like 8min on my laptop. Is my algorithm fundamentally slow? Am I using the wrong data structures? Am I missing something? I tried my best optimizing as far as I saw fit.\nAny help or any ideas would be greatly appreciated &lt;3</p>\n<pre><code>public static int[] oneToAllArray(double[][]nodeList, int[][]edgeList,int sourceNodeId) {\n        int[] distance = new int[nodeList[0].length]; //the array that will be returned\n        //the priorityQueue will use arrays with the length 2, representing [index, weight] for each node and order them by their weight\n        PriorityQueue&lt;int[]&gt; prioQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; ((int[])a)[1] - ((int[])b)[1]);\n        int offset1; //used for determining the amount of outgoing edges\n        int offset2;\n        int newWeight; //declared here so we dont need to declare it a lot of times later (not sure if that makes a difference)\n        //currentSourceNode here means the node that will be looked at for OUTGOING edges\n        int[] currentSourceNode= {sourceNodeId,0};\n        prioQueue.add(currentSourceNode); \n        //at the start we only add the sourceNode, then we start the actual algorithm\n        \n        while(!prioQueue.isEmpty()) {\n            if(prioQueue.size() % 55 == 2) {\n                System.out.println(prioQueue.size());\n            }\n            \n            currentSourceNode=prioQueue.poll();\n            int sourceIndex = currentSourceNode[0];\n            \n            if(sourceIndex == nodeList[0].length-1) {\n                offset1= (int) nodeList[2][sourceIndex];\n                offset2= edgeList[0].length;\n            } else {\n                offset1= (int) nodeList[2][sourceIndex];\n                offset2= (int) nodeList[2][sourceIndex+1];\n            }\n            //checking every outgoing edge for the currentNode\n            for(int i=offset1;i&lt;offset2;i++) {\n                int targetIndex = edgeList[1][i];\n                \n                //if the node hasnt been looked at yet, the weight is just the weight of this edge + distance to sourceNode\n                if(distance[targetIndex]==0&amp;&amp;targetIndex!=sourceNodeId) {\n                    distance[targetIndex] = distance[sourceIndex] + edgeList[2][i];\n                    int[]targetArray = {targetIndex, distance[targetIndex]};\n                    prioQueue.add(targetArray);\n                } else if(prioQueue.stream().anyMatch(e -&gt; e[0]==targetIndex)) {\n                    //above else if checks if this index is already in the prioQueue\n                    newWeight=distance[sourceIndex]+edgeList[2][i];\n                    //if new weight is better, we have to update the distance + the prio queue\n                    if(newWeight&lt;distance[targetIndex]) {\n                        distance[targetIndex]=newWeight;\n                        int[] targetArray;\n                        targetArray=prioQueue.stream().filter(e-&gt;e[0]==targetIndex).toList().get(0);\n                        prioQueue.remove(targetArray);\n                        targetArray[1]=newWeight;\n                        prioQueue.add(targetArray);\n                    }\n                    \n                }\n                \n            }\n            \n            \n            \n            \n        }\n        \n        \n        \n        \n        return distance;\n    }\n\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"owner":{"account_id":7293664,"reputation":1,"user_id":5559279,"display_name":"Nungu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670872125,"creation_date":1670871996,"question_id":74776123,"body_markdown":"Our scanner implementation is very slow. We have an inputStream of one line of 1,9 MB big. It&#39;s big, I know, but we want to know why scanner in this example is so slow. With this input it takes around 70 seconds to get the return of scanner.hasNextLine. \r\n\r\n```\r\ntry (Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;)) {\r\n    while (scanner.hasNextLine()) {\r\n        String line = getSanitizedString(scanner.nextLine()).replaceAll(&quot;[\\\\r\\\\n\\\\t]&quot;, &quot;&quot;);\r\n        if (StringUtils.isNotBlank(line)) {\r\n            batchFileAsString.append(line.trim());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe see that in the Scanner library this while loop is happening 1000s of time until it&#39;s finally reaching the end, but still I don&#39;t understand why it&#39;s doing that. \r\n\r\nIn hasNextline it calls findWithinHorizon method. This method has a while loop where it calls **findPatternInBuffer**. This findPatternInBuffer is, because of the while loop, being called 1000s of times. \r\n\r\n```\r\npublic boolean hasNextLine() {\r\n    saveState();\r\n\r\n    modCount++;\r\n    String result = findWithinHorizon(linePattern(), 0);\r\n    ....\r\n```\r\n\r\n```\r\npublic String findWithinHorizon(Pattern pattern, int horizon) {\r\n    ensureOpen();\r\n    if (pattern == null)\r\n        throw new NullPointerException();\r\n    if (horizon &lt; 0)\r\n        throw new IllegalArgumentException(&quot;horizon &lt; 0&quot;);\r\n    clearCaches();\r\n    modCount++;\r\n\r\n    // Search for the pattern\r\n    while (true) {\r\n        if (findPatternInBuffer(pattern, horizon)) {\r\n            matchValid = true;\r\n            return matcher.group();\r\n        }\r\n        if (needInput)\r\n            readInput();\r\n        else\r\n            break; // up to end of input\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nAnyone knows what is going on here? ","title":"Scanner hasNextLine is extremely slow for big size lines","body":"<p>Our scanner implementation is very slow. We have an inputStream of one line of 1,9 MB big. It's big, I know, but we want to know why scanner in this example is so slow. With this input it takes around 70 seconds to get the return of scanner.hasNextLine.</p>\n<pre><code>try (Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;)) {\n    while (scanner.hasNextLine()) {\n        String line = getSanitizedString(scanner.nextLine()).replaceAll(&quot;[\\\\r\\\\n\\\\t]&quot;, &quot;&quot;);\n        if (StringUtils.isNotBlank(line)) {\n            batchFileAsString.append(line.trim());\n        }\n    }\n}\n</code></pre>\n<p>We see that in the Scanner library this while loop is happening 1000s of time until it's finally reaching the end, but still I don't understand why it's doing that.</p>\n<p>In hasNextline it calls findWithinHorizon method. This method has a while loop where it calls <strong>findPatternInBuffer</strong>. This findPatternInBuffer is, because of the while loop, being called 1000s of times.</p>\n<pre><code>public boolean hasNextLine() {\n    saveState();\n\n    modCount++;\n    String result = findWithinHorizon(linePattern(), 0);\n    ....\n</code></pre>\n<pre><code>public String findWithinHorizon(Pattern pattern, int horizon) {\n    ensureOpen();\n    if (pattern == null)\n        throw new NullPointerException();\n    if (horizon &lt; 0)\n        throw new IllegalArgumentException(&quot;horizon &lt; 0&quot;);\n    clearCaches();\n    modCount++;\n\n    // Search for the pattern\n    while (true) {\n        if (findPatternInBuffer(pattern, horizon)) {\n            matchValid = true;\n            return matcher.group();\n        }\n        if (needInput)\n            readInput();\n        else\n            break; // up to end of input\n    }\n    return null;\n}\n</code></pre>\n<p>Anyone knows what is going on here?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":3,"creation_date":1669892479,"post_id":74640781,"comment_id":131748373,"body_markdown":"Identify the tool that detected the vulnerability and include the full text of the vulnerability.","body":"Identify the tool that detected the vulnerability and include the full text of the vulnerability."},{"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"score":0,"creation_date":1670875120,"post_id":74640781,"comment_id":131970016,"body_markdown":"Alternatively, you could just exclude original log4j 1.x and use [reload4j](https://reload4j.qos.ch/) instead.","body":"Alternatively, you could just exclude original log4j 1.x and use <a href=\"https://reload4j.qos.ch/\" rel=\"nofollow noreferrer\">reload4j</a> instead."}],"owner":{"account_id":17768926,"reputation":161,"user_id":12903083,"display_name":"manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1670872116,"creation_date":1669892282,"question_id":74640781,"body_markdown":"I&#39;m using log4j 1.2.16 in my application.\r\n\r\nnow due to Java Log4j vulnerabilities(remote code execution) I&#39;m upgrading to 2.17.2(log4j 2.x)\r\n\r\nhere is the reference manual in the apache website.\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\nso here my question is, even if migrate from 1.x to 2.x using bridge-api still I&#39;m potential to vulnerable for remote code execution.?\r\n\r\nIf yes is there any performance impact?\r\n\r\n","title":"Migrating from log4j 1.x into log4j 2.x","body":"<p>I'm using log4j 1.2.16 in my application.</p>\n<p>now due to Java Log4j vulnerabilities(remote code execution) I'm upgrading to 2.17.2(log4j 2.x)</p>\n<p>here is the reference manual in the apache website.</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n<p>so here my question is, even if migrate from 1.x to 2.x using bridge-api still I'm potential to vulnerable for remote code execution.?</p>\n<p>If yes is there any performance impact?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1670869646,"post_id":74775650,"comment_id":131968449,"body_markdown":"Instead of distinct() use filter() . Although, you may need to use a stateful predicate, which remembers the IDs which it has already crossed: https://www.baeldung.com/java-streams-distinct-by","body":"Instead of distinct() use filter() . Although, you may need to use a stateful predicate, which remembers the IDs which it has already crossed: <a href=\"https://www.baeldung.com/java-streams-distinct-by\" rel=\"nofollow noreferrer\">baeldung.com/java-streams-distinct-by</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670872094,"creation_date":1670870647,"answer_id":74775876,"question_id":74775650,"body_markdown":"A plain and straightforward solution would be to generate a `Map` using the numeric index at the beginning of the line as a Key, and the line itself as a Value.\r\n\r\nThat how it might be implemented using Collector [`toMap()`][toMap]:\r\n\r\n```\r\nList&lt;String&gt; sourceList = List.of(\r\n    &quot;123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890&quot;,\r\n    &quot;123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891&quot;,\r\n    &quot;123456,Newyork street,near 100th avenue,King master company,Texas,US,10005&quot;\r\n);\r\n        \r\nList&lt;String&gt; uniqueList = sourceList.stream()\r\n    .collect(Collectors.toMap(\r\n        str -&gt; str.substring(0, str.indexOf(&#39;,&#39;)), // keyMapper - generating a Key\r\n        Function.identity(),   // valueMapper - creating a Value\r\n        (left, right) -&gt; left  // mergeFunction - resolving duplicates\r\n    ))\r\n    .values().stream().toList();\r\n```\r\n\r\nBut depending on what you&#39;re going to do with these strings further, it might make sense to introduce a class, like `Company`. Parse the string into it&#39;s instances and operate with them.\r\n\r\nConsider the following domain class, for conciseness I&#39;ll make use of the Lombok&#39;s annotations `@Getter` and `@Builder`:\r\n\r\n    @Builder\r\n    @Getter\r\n    public class Company {\r\n        private long id;\r\n        private String street;\r\n        private String locationDescription;\r\n        private String companyName;\r\n        private String state;\r\n        private String country;\r\n        private String zipCode;\r\n        \r\n        public static Company parse(String line) {\r\n            String[] arr = line.split(&quot;,&quot;);\r\n            \r\n            return Company.builder()\r\n                .id(Long.parseLong(arr[0]))\r\n                .locationDescription(arr[2])\r\n                .companyName(arr[3])\r\n                .state(arr[4])\r\n                .country(arr[5])\r\n                .zipCode(arr[6])\r\n                .build();\r\n        }\r\n    }\r\n\r\nAnd that&#39;s how we can generate a list of Companies with unique `id`s:\r\n\r\n```\r\nList&lt;String&gt; sourceList = List.of(\r\n    &quot;123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890&quot;,\r\n    &quot;123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891&quot;,\r\n    &quot;123456,Newyork street,near 100th avenue,King master company,Texas,US,10005&quot;\r\n);\r\n    \r\nList&lt;Company&gt; uniqueCompanies = sourceList.stream()\r\n    .map(Company::parse)\r\n    .collect(Collectors.toMap(\r\n        Company::getId,       // keyMapper - generating a Key\r\n        Function.identity(),  // valueMapper - creating a Value\r\n        (left, right) -&gt; left // mergeFunction - resolving duplicates\r\n    ))\r\n    .values().stream().toList();\r\n```\r\n\r\n\r\n\r\n   [toMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)","title":"How do I delete entire duplicate row if first value is repeated in text file java","body":"<p>A plain and straightforward solution would be to generate a <code>Map</code> using the numeric index at the beginning of the line as a Key, and the line itself as a Value.</p>\n<p>That how it might be implemented using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>List&lt;String&gt; sourceList = List.of(\n    &quot;123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890&quot;,\n    &quot;123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891&quot;,\n    &quot;123456,Newyork street,near 100th avenue,King master company,Texas,US,10005&quot;\n);\n        \nList&lt;String&gt; uniqueList = sourceList.stream()\n    .collect(Collectors.toMap(\n        str -&gt; str.substring(0, str.indexOf(',')), // keyMapper - generating a Key\n        Function.identity(),   // valueMapper - creating a Value\n        (left, right) -&gt; left  // mergeFunction - resolving duplicates\n    ))\n    .values().stream().toList();\n</code></pre>\n<p>But depending on what you're going to do with these strings further, it might make sense to introduce a class, like <code>Company</code>. Parse the string into it's instances and operate with them.</p>\n<p>Consider the following domain class, for conciseness I'll make use of the Lombok's annotations <code>@Getter</code> and <code>@Builder</code>:</p>\n<pre><code>@Builder\n@Getter\npublic class Company {\n    private long id;\n    private String street;\n    private String locationDescription;\n    private String companyName;\n    private String state;\n    private String country;\n    private String zipCode;\n    \n    public static Company parse(String line) {\n        String[] arr = line.split(&quot;,&quot;);\n        \n        return Company.builder()\n            .id(Long.parseLong(arr[0]))\n            .locationDescription(arr[2])\n            .companyName(arr[3])\n            .state(arr[4])\n            .country(arr[5])\n            .zipCode(arr[6])\n            .build();\n    }\n}\n</code></pre>\n<p>And that's how we can generate a list of Companies with unique <code>id</code>s:</p>\n<pre><code>List&lt;String&gt; sourceList = List.of(\n    &quot;123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890&quot;,\n    &quot;123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891&quot;,\n    &quot;123456,Newyork street,near 100th avenue,King master company,Texas,US,10005&quot;\n);\n    \nList&lt;Company&gt; uniqueCompanies = sourceList.stream()\n    .map(Company::parse)\n    .collect(Collectors.toMap(\n        Company::getId,       // keyMapper - generating a Key\n        Function.identity(),  // valueMapper - creating a Value\n        (left, right) -&gt; left // mergeFunction - resolving duplicates\n    ))\n    .values().stream().toList();\n</code></pre>\n"}],"owner":{"account_id":8003765,"reputation":167,"user_id":6037662,"accept_rate":100,"display_name":"Rajesh Qa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670872094,"creation_date":1670869350,"question_id":74775650,"body_markdown":"I&#39;m trying to delete entire duplicate row if first value is repeated in textfile using java then store the textfile records into ArrayList&lt;String&gt;\r\n\r\nMy Text file\r\n\r\n    123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890\r\n    123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891\r\n    123456,Newyork street,near 100th avenue,King master company,Texas,US,10005\r\n\r\nIn above file first ,3rd line starting word is same and other values are different and want to delete entire 3rd row.\r\n\r\nI tried below code to remove duplicates after storing the values into BufferedReader but not working\r\n\r\n    List&lt;String&gt; uniqueList = sourceList.stream().distinct().collect(Collectors.toList());\r\n\r\n","title":"How do I delete entire duplicate row if first value is repeated in text file java","body":"<p>I'm trying to delete entire duplicate row if first value is repeated in textfile using java then store the textfile records into ArrayList</p>\n<p>My Text file</p>\n<pre><code>123456,greenwitch street,near dominos store,Opp sandwitch company,Neyork,US,876890\n123480,Postwitch street,near KFC store,Opp masala company,Newyork,US,876891\n123456,Newyork street,near 100th avenue,King master company,Texas,US,10005\n</code></pre>\n<p>In above file first ,3rd line starting word is same and other values are different and want to delete entire 3rd row.</p>\n<p>I tried below code to remove duplicates after storing the values into BufferedReader but not working</p>\n<pre><code>List&lt;String&gt; uniqueList = sourceList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring","jackson","objectmapper"],"comments":[{"owner":{"account_id":13402550,"reputation":25,"user_id":9671608,"display_name":"Sam"},"score":0,"creation_date":1566908072,"post_id":57674037,"comment_id":101795927,"body_markdown":"That fixed it. Dunno how I failed to noticeI was passing the interface in as both parameters. Doh!","body":"That fixed it. Dunno how I failed to noticeI was passing the interface in as both parameters. Doh!"}],"answers":[{"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566907880,"creation_date":1566907567,"answer_id":57674333,"question_id":57674037,"body_markdown":"Probably you need to review your types.\r\n\r\nMy guess is following:\r\n\r\n    resolver.addMapping(method.getReturnType(), beanClass);\r\n(replace second parameter method.getReturnType() with beanClass)\r\n\r\nor as an alternative (the code is not completely clear for me, sorry)\r\n\r\n    resolver.addMapping(clazz, beanClass);\r\n\r\nYou should put an Interface and Implementation into addMapping().\r\n\r\nExample:\r\n\r\n    interface ITest{};\r\n\r\n    class TestImpl implements ITest {}\r\n\r\n    usage:\r\n    resolver.addMapping(ITest.class, TestImpl.class);\r\n\r\n\r\n","title":"Jackson ObjectMapper only interfaces known","body":"<p>Probably you need to review your types.</p>\n\n<p>My guess is following:</p>\n\n<pre><code>resolver.addMapping(method.getReturnType(), beanClass);\n</code></pre>\n\n<p>(replace second parameter method.getReturnType() with beanClass)</p>\n\n<p>or as an alternative (the code is not completely clear for me, sorry)</p>\n\n<pre><code>resolver.addMapping(clazz, beanClass);\n</code></pre>\n\n<p>You should put an Interface and Implementation into addMapping().</p>\n\n<p>Example:</p>\n\n<pre><code>interface ITest{};\n\nclass TestImpl implements ITest {}\n\nusage:\nresolver.addMapping(ITest.class, TestImpl.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19640486,"reputation":1,"user_id":15310132,"display_name":"iwfet"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670872026,"creation_date":1670872026,"answer_id":74776130,"question_id":57674037,"body_markdown":"Probably you need to review your types.\r\n\r\nMy guess is following:\r\n\r\n    new ObjectMapper().writerFor(&lt;Interface&gt;.class).writeValuesAsArray(&lt;Class&gt;);","title":"Jackson ObjectMapper only interfaces known","body":"<p>Probably you need to review your types.</p>\n<p>My guess is following:</p>\n<pre><code>new ObjectMapper().writerFor(&lt;Interface&gt;.class).writeValuesAsArray(&lt;Class&gt;);\n</code></pre>\n"}],"owner":{"account_id":13402550,"reputation":25,"user_id":9671608,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57674333,"answer_count":2,"score":0,"last_activity_date":1670872026,"creation_date":1566906504,"question_id":57674037,"body_markdown":"If I want to read some JSON into an object, and I have the interface but must use the Spring context to get the implementation class, I need to use a SimpleAbstractTypeResolver to map the interface to the implementation. So far, so good, if I know in advance what interfaces go to what implementation. But if the interface has methods that return other interfaces--and possibly down the line recursively--and I don&#39;t necessarily know in advance, I thought I could use reflection to figure it out. So this is what I came up with, but the compiler does NOT like the line **resolver.addMapping(method.getReturnType(), method.getReturnType());**, says it&#39;s not applicable for these arguments. I&#39;m pretty sure the types are okay for that method--any thoughts on how to make this happen? \r\n\r\n    \t\tfor (Method method : clazz.getMethods()) {\r\n\t\t\tif (method.getReturnType().isInterface() &amp;&amp; method.getName().startsWith(&quot;get&quot;)) {\r\n\t\t\t\t// getter method returns an interface so find its implementation class\r\n\t\t\t\tClass beanClass = context.getBean(method.getReturnType()).getClass();\r\n\t\t\t\tif (clazz.isAssignableFrom(beanClass)) {\r\n\t\t\t\t\tresolver.addMapping(method.getReturnType(), method.getReturnType());\r\n\t\t\t\t\tmapInterfaces(objectMapper, clazz, resolver);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n","title":"Jackson ObjectMapper only interfaces known","body":"<p>If I want to read some JSON into an object, and I have the interface but must use the Spring context to get the implementation class, I need to use a SimpleAbstractTypeResolver to map the interface to the implementation. So far, so good, if I know in advance what interfaces go to what implementation. But if the interface has methods that return other interfaces--and possibly down the line recursively--and I don't necessarily know in advance, I thought I could use reflection to figure it out. So this is what I came up with, but the compiler does NOT like the line <strong>resolver.addMapping(method.getReturnType(), method.getReturnType());</strong>, says it's not applicable for these arguments. I'm pretty sure the types are okay for that method--any thoughts on how to make this happen? </p>\n\n<pre><code>        for (Method method : clazz.getMethods()) {\n        if (method.getReturnType().isInterface() &amp;&amp; method.getName().startsWith(\"get\")) {\n            // getter method returns an interface so find its implementation class\n            Class beanClass = context.getBean(method.getReturnType()).getClass();\n            if (clazz.isAssignableFrom(beanClass)) {\n                resolver.addMapping(method.getReturnType(), method.getReturnType());\n                mapInterfaces(objectMapper, clazz, resolver);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","text","charts","position","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670871685,"creation_date":1670871685,"answer_id":74776061,"question_id":74592572,"body_markdown":"As discussed [here][1], one way to get the desired axis markings is to add a [`SymbolAxis`][2] on the right, as illustrated [here][3] and below.  In addition,\r\n\r\n- The axis/plot overlap may reflect the use of `RectangleInsets` in `setAxisOffset()`, omitted below; a third domain marker is shown instead.\r\n\r\n- Tick mark position support is provided by [`DataAxis`][4] and `DateTickMarkPosition`.\r\n\r\n- Instead of padding titles with spaces, use `setPadding()`, seen [here][5] and below.\r\n\r\n- Adjust the chart&#39;s overall size as shown [here][6].\r\n\r\n- In a Swing context, construct and manipulate GUI objects _only_ on the *[event dispatch thread][7]*.\r\n\r\n[![ChartImage][8]][8]\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.Stroke;\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport org.jfree.chart.ChartColor;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.XYLineAnnotation;\r\nimport org.jfree.chart.axis.AxisLocation;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.axis.SymbolAxis;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.ValueMarker;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\r\nimport org.jfree.chart.title.TextTitle;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\nimport org.jfree.chart.ui.HorizontalAlignment;\r\nimport org.jfree.chart.ui.Layer;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/74592572/230513\r\n * @see https://github.com/jfree/jfreechart/discussions/327\r\n */\r\npublic class GitHub327 {\r\n    \r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            PlotWindow pw = new PlotWindow();\r\n            pw.setLocationRelativeTo(null);\r\n            pw.setVisible(true);\r\n        });\r\n    }\r\n    \r\n    private static class PlotWindow extends JFrame {\r\n        \r\n        final double t_init = 0;\r\n        final double step = 0.1;\r\n        final double t_fin = 10;\r\n        int lengthValues;\r\n        double[] yValues;\r\n        double[] xValues;\r\n\r\n        //params\r\n        double Fmax = 5;\r\n        double Tau = 3;\r\n        double alpha = 3;\r\n        double deltaX;\r\n        \r\n        public PlotWindow() {\r\n            super(&quot;Test JFreechart&quot;);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setLocationRelativeTo(null);\r\n\r\n            // x y values\r\n            this.lengthValues = (int) ((this.t_fin - t_init) / this.step) + 1;\r\n            this.setTimeValues();\r\n            this.computeDeltaX();\r\n            this.setForceValues();\r\n            \r\n            this.add(createChartPanel(), BorderLayout.CENTER);\r\n            this.pack();\r\n        }\r\n        \r\n        private void setTimeValues() {\r\n            this.xValues = new double[this.lengthValues];\r\n            for (int i = 0; i &lt; this.lengthValues; ++i) {\r\n                this.xValues[i] = this.t_init + i * this.step;\r\n            }\r\n        }\r\n        \r\n        private void computeDeltaX() {\r\n            this.deltaX = Math.sqrt(-this.Tau * Math.log(this.alpha / (1 + this.alpha)));\r\n        }\r\n        \r\n        private void setForceValues() {\r\n            this.yValues = new double[lengthValues];\r\n            for (int i = 0; i &lt; lengthValues; ++i) {\r\n                double A = this.Fmax * (1 + 1 / this.alpha);\r\n                double B = 1 - Math.exp(-Math.pow(this.xValues[i] - this.deltaX, 2) / this.Tau);\r\n                this.yValues[i] = A * B - this.Fmax / this.alpha;\r\n            }\r\n        }\r\n        \r\n        private XYSeriesCollection createDataset() {\r\n            boolean autoSort = false;\r\n            boolean allowDuplicateXValues = false;\r\n            XYSeriesCollection dataset = new XYSeriesCollection();\r\n            XYSeries series1 = new XYSeries(&quot;&quot;, autoSort, allowDuplicateXValues);\r\n            \r\n            for (int i = 0; i &lt; lengthValues; ++i) {\r\n                series1.add(this.xValues[i], this.yValues[i]);\r\n            }\r\n            dataset.addSeries(series1);\r\n            var series2 = new XYSeries(&quot;S&quot;);\r\n            dataset.addSeries(series2);\r\n            return dataset;\r\n        }\r\n        \r\n        private JPanel createChartPanel() {\r\n            String chartTitle = &quot;Wetting balance curve&quot;;\r\n            String xAxisLabel = &quot;X&quot;;\r\n            String yAxisLabel = &quot;Y&quot;;\r\n            XYSeriesCollection dataset = createDataset();\r\n            JFreeChart chart = ChartFactory.createXYLineChart(chartTitle,\r\n                xAxisLabel, yAxisLabel, dataset, PlotOrientation.VERTICAL, false, true, false);\r\n            XYPlot plot = chart.getXYPlot();\r\n\r\n            //title\r\n            TextTitle tt = new TextTitle();\r\n            tt.setText(&quot;C:\\\\MENISCO ST60\\\\Mesures\\\\22-5912-100.PM1&quot;);\r\n            tt.setPaint(Color.BLUE);\r\n            tt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n            tt.setPadding(8, 8, 8, 8);\r\n            chart.setTitle(tt);\r\n\r\n            // norm subtitle\r\n            TextTitle normtt = new TextTitle(&quot;Norme : J-STD-002E&quot;);\r\n            normtt.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n            normtt.setPosition(RectangleEdge.BOTTOM);\r\n            normtt.setPaint(Color.BLACK);\r\n            normtt.setHorizontalAlignment(HorizontalAlignment.LEFT);\r\n            normtt.setPadding(0, 16, 8, 0);\r\n            chart.addSubtitle(normtt);\r\n\r\n            // fmoy subtitle\r\n            TextTitle fmoytt = new TextTitle(&quot;Force moyenne &#224; 0.900 S: 0.25mN&quot;);\r\n            fmoytt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 10));\r\n            fmoytt.setPosition(RectangleEdge.BOTTOM);\r\n            fmoytt.setPaint(Color.BLUE);\r\n            fmoytt.setHorizontalAlignment(HorizontalAlignment.LEFT);\r\n            fmoytt.setPadding(0, 16, 2, 0);\r\n            chart.addSubtitle(fmoytt);\r\n\r\n            // axis\r\n            //domain axis\r\n            plot.getDomainAxis().setLowerMargin(0.0);\r\n            plot.getDomainAxis().setUpperMargin(0.0);\r\n            NumberAxis domain = (NumberAxis) plot.getDomainAxis();\r\n            NumberFormat formatterd = DecimalFormat.getInstance();\r\n            formatterd.setMinimumFractionDigits(0);\r\n            domain.setNumberFormatOverride(formatterd);\r\n            domain.setStandardTickUnits(NumberAxis.createIntegerTickUnits());\r\n            domain.setTickMarksVisible(false);\r\n            //domain.setAxisLineVisible(false);\r\n\r\n            //range axis\r\n            plot.getRangeAxis().setLabelAngle(Math.PI / 2);\r\n            NumberAxis range = (NumberAxis) plot.getRangeAxis();\r\n            NumberFormat formatter = DecimalFormat.getInstance(Locale.ENGLISH);\r\n            formatter.setMinimumFractionDigits(2);\r\n            range.setNumberFormatOverride(formatter);\r\n            plot.getRangeAxis().setAxisLineStroke(new BasicStroke(1.5f));\r\n            plot.getRangeAxis().setAxisLinePaint(Color.BLUE);\r\n            plot.getRangeAxis().setTickMarksVisible(true);\r\n            plot.getRangeAxis().setTickMarkPaint(Color.BLACK);\r\n            plot.getRangeAxis().setTickMarkStroke(new BasicStroke(1.5f));\r\n            float lg = plot.getRangeAxis().getTickMarkOutsideLength();\r\n            plot.getRangeAxis().setTickMarkInsideLength(lg);\r\n            plot.getRangeAxis().setRange(-3, 6);\r\n\r\n            // background;gridline;outline \r\n            //plot.setAxisOffset(new RectangleInsets(0, 0, 0, 0));\r\n            plot.setDomainGridlinePaint(Color.DARK_GRAY);\r\n            plot.setRangeGridlinePaint(Color.DARK_GRAY);\r\n            plot.setBackgroundPaint(Color.white);\r\n            plot.setOutlineStroke(plot.getDomainGridlineStroke()); //dashed outline\r\n            plot.setOutlinePaint(Color.DARK_GRAY);\r\n            XYItemRenderer renderer = plot.getRenderer();\r\n            renderer.setSeriesPaint(0, ChartColor.VERY_DARK_GREEN); // set green color to the xyline\r\n\r\n            // vertical lines\r\n            ValueMarker marker0 = new ValueMarker(0.2, Color.MAGENTA, new BasicStroke(1.5f));  // position is the value on the axis\r\n            ValueMarker marker1 = new ValueMarker(1, Color.MAGENTA, new BasicStroke(1.5f));\r\n            ValueMarker marker2 = new ValueMarker(4, Color.GREEN, new BasicStroke(1.5f));  // position is the value on the axis\r\n            plot.addDomainMarker(marker0, Layer.FOREGROUND);\r\n            plot.addDomainMarker(marker1, Layer.FOREGROUND);\r\n            plot.addDomainMarker(marker2, Layer.FOREGROUND);\r\n            \r\n            var marker3 = new ValueMarker(10, Color.GREEN, new BasicStroke(1.5f));\r\n            plot.addDomainMarker(marker3, Layer.FOREGROUND);\r\n\r\n            //horizontal lines\r\n            XYLineAnnotation line = new XYLineAnnotation(0, 4, 10, 4, new BasicStroke(2.0f), Color.green);\r\n            plot.addAnnotation(line);\r\n            XYLineAnnotation line0 = new XYLineAnnotation(0, 0, 10, 0, new BasicStroke(1.0f), Color.BLUE);\r\n            plot.addAnnotation(line0);\r\n\r\n            //dashed horizontal line\r\n            float[] dash = {10.0f, 3.0f, 3.0f};\r\n            Stroke dashed = new BasicStroke(1.0f, BasicStroke.CAP_BUTT,\r\n                BasicStroke.JOIN_MITER, 10.0f, dash, 0.0f);\r\n            XYLineAnnotation line1 = new XYLineAnnotation(0, -1, 10, -1, dashed, Color.MAGENTA);\r\n            plot.addAnnotation(line1);\r\n\r\n            //right side axis\r\n            String[] syms = new String[]{&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;t(s)&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;4.0&quot;, &quot;&quot;, &quot;&quot;};\r\n            var range2 = new SymbolAxis(&quot;&quot;, syms);\r\n            range2.setGridBandsVisible(false);\r\n            plot.setRangeAxis(1, range2);\r\n            plot.setRangeAxisLocation(1, AxisLocation.BOTTOM_OR_RIGHT);\r\n            plot.mapDatasetToRangeAxis(1, 0);\r\n            \r\n            return new ChartPanel(chart) {\r\n                @Override\r\n                public Dimension getPreferredSize() {\r\n                    return new Dimension(640, 480);\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/jfree/jfreechart/discussions/327\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/SymbolAxis.html\r\n  [3]: https://stackoverflow.com/a/13466183/230513\r\n  [4]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\r\n  [5]: https://stackoverflow.com/q/38484591/230513\r\n  [6]: https://stackoverflow.com/a/10277372/230513\r\n  [7]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [8]: https://i.stack.imgur.com/HHQ3T.png","title":"Jfreechart place text/annotations/labels on desired position and line over outline of the chart","body":"<p>As discussed <a href=\"https://github.com/jfree/jfreechart/discussions/327\" rel=\"nofollow noreferrer\">here</a>, one way to get the desired axis markings is to add a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/SymbolAxis.html\" rel=\"nofollow noreferrer\"><code>SymbolAxis</code></a> on the right, as illustrated <a href=\"https://stackoverflow.com/a/13466183/230513\">here</a> and below.  In addition,</p>\n<ul>\n<li><p>The axis/plot overlap may reflect the use of <code>RectangleInsets</code> in <code>setAxisOffset()</code>, omitted below; a third domain marker is shown instead.</p>\n</li>\n<li><p>Tick mark position support is provided by <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\" rel=\"nofollow noreferrer\"><code>DataAxis</code></a> and <code>DateTickMarkPosition</code>.</p>\n</li>\n<li><p>Instead of padding titles with spaces, use <code>setPadding()</code>, seen <a href=\"https://stackoverflow.com/q/38484591/230513\">here</a> and below.</p>\n</li>\n<li><p>Adjust the chart's overall size as shown <a href=\"https://stackoverflow.com/a/10277372/230513\">here</a>.</p>\n</li>\n<li><p>In a Swing context, construct and manipulate GUI objects <em>only</em> on the <em><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a></em>.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/HHQ3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHQ3T.png\" alt=\"ChartImage\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Stroke;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport org.jfree.chart.ChartColor;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.XYLineAnnotation;\nimport org.jfree.chart.axis.AxisLocation;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.axis.SymbolAxis;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.ValueMarker;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\nimport org.jfree.chart.title.TextTitle;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\nimport org.jfree.chart.ui.HorizontalAlignment;\nimport org.jfree.chart.ui.Layer;\nimport org.jfree.chart.ui.RectangleEdge;\n\n/**\n * @see https://stackoverflow.com/q/74592572/230513\n * @see https://github.com/jfree/jfreechart/discussions/327\n */\npublic class GitHub327 {\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            PlotWindow pw = new PlotWindow();\n            pw.setLocationRelativeTo(null);\n            pw.setVisible(true);\n        });\n    }\n    \n    private static class PlotWindow extends JFrame {\n        \n        final double t_init = 0;\n        final double step = 0.1;\n        final double t_fin = 10;\n        int lengthValues;\n        double[] yValues;\n        double[] xValues;\n\n        //params\n        double Fmax = 5;\n        double Tau = 3;\n        double alpha = 3;\n        double deltaX;\n        \n        public PlotWindow() {\n            super(&quot;Test JFreechart&quot;);\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            this.setLocationRelativeTo(null);\n\n            // x y values\n            this.lengthValues = (int) ((this.t_fin - t_init) / this.step) + 1;\n            this.setTimeValues();\n            this.computeDeltaX();\n            this.setForceValues();\n            \n            this.add(createChartPanel(), BorderLayout.CENTER);\n            this.pack();\n        }\n        \n        private void setTimeValues() {\n            this.xValues = new double[this.lengthValues];\n            for (int i = 0; i &lt; this.lengthValues; ++i) {\n                this.xValues[i] = this.t_init + i * this.step;\n            }\n        }\n        \n        private void computeDeltaX() {\n            this.deltaX = Math.sqrt(-this.Tau * Math.log(this.alpha / (1 + this.alpha)));\n        }\n        \n        private void setForceValues() {\n            this.yValues = new double[lengthValues];\n            for (int i = 0; i &lt; lengthValues; ++i) {\n                double A = this.Fmax * (1 + 1 / this.alpha);\n                double B = 1 - Math.exp(-Math.pow(this.xValues[i] - this.deltaX, 2) / this.Tau);\n                this.yValues[i] = A * B - this.Fmax / this.alpha;\n            }\n        }\n        \n        private XYSeriesCollection createDataset() {\n            boolean autoSort = false;\n            boolean allowDuplicateXValues = false;\n            XYSeriesCollection dataset = new XYSeriesCollection();\n            XYSeries series1 = new XYSeries(&quot;&quot;, autoSort, allowDuplicateXValues);\n            \n            for (int i = 0; i &lt; lengthValues; ++i) {\n                series1.add(this.xValues[i], this.yValues[i]);\n            }\n            dataset.addSeries(series1);\n            var series2 = new XYSeries(&quot;S&quot;);\n            dataset.addSeries(series2);\n            return dataset;\n        }\n        \n        private JPanel createChartPanel() {\n            String chartTitle = &quot;Wetting balance curve&quot;;\n            String xAxisLabel = &quot;X&quot;;\n            String yAxisLabel = &quot;Y&quot;;\n            XYSeriesCollection dataset = createDataset();\n            JFreeChart chart = ChartFactory.createXYLineChart(chartTitle,\n                xAxisLabel, yAxisLabel, dataset, PlotOrientation.VERTICAL, false, true, false);\n            XYPlot plot = chart.getXYPlot();\n\n            //title\n            TextTitle tt = new TextTitle();\n            tt.setText(&quot;C:\\\\MENISCO ST60\\\\Mesures\\\\22-5912-100.PM1&quot;);\n            tt.setPaint(Color.BLUE);\n            tt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\n            tt.setPadding(8, 8, 8, 8);\n            chart.setTitle(tt);\n\n            // norm subtitle\n            TextTitle normtt = new TextTitle(&quot;Norme : J-STD-002E&quot;);\n            normtt.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n            normtt.setPosition(RectangleEdge.BOTTOM);\n            normtt.setPaint(Color.BLACK);\n            normtt.setHorizontalAlignment(HorizontalAlignment.LEFT);\n            normtt.setPadding(0, 16, 8, 0);\n            chart.addSubtitle(normtt);\n\n            // fmoy subtitle\n            TextTitle fmoytt = new TextTitle(&quot;Force moyenne  0.900 S: 0.25mN&quot;);\n            fmoytt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 10));\n            fmoytt.setPosition(RectangleEdge.BOTTOM);\n            fmoytt.setPaint(Color.BLUE);\n            fmoytt.setHorizontalAlignment(HorizontalAlignment.LEFT);\n            fmoytt.setPadding(0, 16, 2, 0);\n            chart.addSubtitle(fmoytt);\n\n            // axis\n            //domain axis\n            plot.getDomainAxis().setLowerMargin(0.0);\n            plot.getDomainAxis().setUpperMargin(0.0);\n            NumberAxis domain = (NumberAxis) plot.getDomainAxis();\n            NumberFormat formatterd = DecimalFormat.getInstance();\n            formatterd.setMinimumFractionDigits(0);\n            domain.setNumberFormatOverride(formatterd);\n            domain.setStandardTickUnits(NumberAxis.createIntegerTickUnits());\n            domain.setTickMarksVisible(false);\n            //domain.setAxisLineVisible(false);\n\n            //range axis\n            plot.getRangeAxis().setLabelAngle(Math.PI / 2);\n            NumberAxis range = (NumberAxis) plot.getRangeAxis();\n            NumberFormat formatter = DecimalFormat.getInstance(Locale.ENGLISH);\n            formatter.setMinimumFractionDigits(2);\n            range.setNumberFormatOverride(formatter);\n            plot.getRangeAxis().setAxisLineStroke(new BasicStroke(1.5f));\n            plot.getRangeAxis().setAxisLinePaint(Color.BLUE);\n            plot.getRangeAxis().setTickMarksVisible(true);\n            plot.getRangeAxis().setTickMarkPaint(Color.BLACK);\n            plot.getRangeAxis().setTickMarkStroke(new BasicStroke(1.5f));\n            float lg = plot.getRangeAxis().getTickMarkOutsideLength();\n            plot.getRangeAxis().setTickMarkInsideLength(lg);\n            plot.getRangeAxis().setRange(-3, 6);\n\n            // background;gridline;outline \n            //plot.setAxisOffset(new RectangleInsets(0, 0, 0, 0));\n            plot.setDomainGridlinePaint(Color.DARK_GRAY);\n            plot.setRangeGridlinePaint(Color.DARK_GRAY);\n            plot.setBackgroundPaint(Color.white);\n            plot.setOutlineStroke(plot.getDomainGridlineStroke()); //dashed outline\n            plot.setOutlinePaint(Color.DARK_GRAY);\n            XYItemRenderer renderer = plot.getRenderer();\n            renderer.setSeriesPaint(0, ChartColor.VERY_DARK_GREEN); // set green color to the xyline\n\n            // vertical lines\n            ValueMarker marker0 = new ValueMarker(0.2, Color.MAGENTA, new BasicStroke(1.5f));  // position is the value on the axis\n            ValueMarker marker1 = new ValueMarker(1, Color.MAGENTA, new BasicStroke(1.5f));\n            ValueMarker marker2 = new ValueMarker(4, Color.GREEN, new BasicStroke(1.5f));  // position is the value on the axis\n            plot.addDomainMarker(marker0, Layer.FOREGROUND);\n            plot.addDomainMarker(marker1, Layer.FOREGROUND);\n            plot.addDomainMarker(marker2, Layer.FOREGROUND);\n            \n            var marker3 = new ValueMarker(10, Color.GREEN, new BasicStroke(1.5f));\n            plot.addDomainMarker(marker3, Layer.FOREGROUND);\n\n            //horizontal lines\n            XYLineAnnotation line = new XYLineAnnotation(0, 4, 10, 4, new BasicStroke(2.0f), Color.green);\n            plot.addAnnotation(line);\n            XYLineAnnotation line0 = new XYLineAnnotation(0, 0, 10, 0, new BasicStroke(1.0f), Color.BLUE);\n            plot.addAnnotation(line0);\n\n            //dashed horizontal line\n            float[] dash = {10.0f, 3.0f, 3.0f};\n            Stroke dashed = new BasicStroke(1.0f, BasicStroke.CAP_BUTT,\n                BasicStroke.JOIN_MITER, 10.0f, dash, 0.0f);\n            XYLineAnnotation line1 = new XYLineAnnotation(0, -1, 10, -1, dashed, Color.MAGENTA);\n            plot.addAnnotation(line1);\n\n            //right side axis\n            String[] syms = new String[]{&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;t(s)&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;4.0&quot;, &quot;&quot;, &quot;&quot;};\n            var range2 = new SymbolAxis(&quot;&quot;, syms);\n            range2.setGridBandsVisible(false);\n            plot.setRangeAxis(1, range2);\n            plot.setRangeAxisLocation(1, AxisLocation.BOTTOM_OR_RIGHT);\n            plot.mapDatasetToRangeAxis(1, 0);\n            \n            return new ChartPanel(chart) {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(640, 480);\n                }\n            };\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20641971,"reputation":123,"user_id":19763219,"display_name":"vivier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74776061,"answer_count":1,"score":2,"last_activity_date":1670871870,"creation_date":1669572762,"question_id":74592572,"body_markdown":"I&#39;m trying to recreate a chart similar to the one in the following picture:\r\n\r\n![desired chart](https://i.stack.imgur.com/VNU3q.png)\r\n\r\nFor the moment, I managed to get this:\r\n\r\n![work in progress chart](https://i.stack.imgur.com/xkKhy.png)\r\n\r\nHow to add missing elements e.g axis labels out of `setLabelLocation()` method allowed boundaries. Also how to add value labels on shown positions? \r\n\r\nAnd for the last green vertical line it seems that the line is covered by the dashed outline, here I tried to plot a secondary axis at the right side of the chart but the line is still in background, any idea to solve that?\r\n\r\nHere is the code of the attempt :\r\n\r\n```\r\npackage javaapplication;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Stroke;\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport org.jfree.chart.ChartColor;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.XYLineAnnotation;\r\nimport org.jfree.chart.axis.AxisLabelLocation;\r\nimport org.jfree.chart.axis.AxisLocation;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.ValueMarker;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\r\nimport org.jfree.chart.title.TextTitle;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\nimport org.jfree.ui.HorizontalAlignment;\r\nimport org.jfree.ui.Layer;\r\nimport org.jfree.ui.RectangleEdge;\r\nimport org.jfree.ui.RectangleInsets;\r\n\r\npublic class JavaApplication { \r\n    public static void main(String[] args){\r\n        PlotWindow pw = new PlotWindow();\r\n        pw.setVisible(true);\r\n    }\r\n    \r\n}\r\n\r\npublic class PlotWindow extends JFrame\r\n{\r\n    final double t_init = 0;\r\n    final double step = 0.1;\r\n    final double t_fin = 10;\r\n    int lengthValues;\r\n    double [] yValues;\r\n    double [] xValues;\r\n\r\n    //params\r\n    double Fmax = 5;\r\n    double Tau = 3;\r\n    double alpha = 3;\r\n    double deltaX;\r\n    \r\n            \r\n    public PlotWindow()\r\n    {\r\n      super(&quot;Test JFreechart&quot;); \r\n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      this.setLocationRelativeTo(null);\r\n      \r\n      // x y values\r\n      this.lengthValues = (int) ((this.t_fin-t_init)/this.step) + 1;\r\n      this.setTimeValues();\r\n      this.computeDeltaX();\r\n      this.setForceValues();\r\n      \r\n      \r\n      JPanel jp = createChartPanel();\r\n      jp.setPreferredSize(new java.awt.Dimension(546, 447));\r\n      this.add(jp, BorderLayout.CENTER);\r\n\r\n      this.pack();\r\n      this.setPreferredSize(new Dimension(546, 447));\r\n    }\r\n    \r\n    private void setTimeValues()\r\n    {\r\n        this.xValues = new double[this.lengthValues];\r\n        for(int i = 0; i &lt; this.lengthValues; ++i)\r\n        {\r\n          this.xValues[i] = this.t_init + i*this.step;    \r\n        }\r\n    }\r\n   \r\n    private void computeDeltaX()\r\n    {\r\n        this.deltaX = Math.sqrt(-this.Tau*Math.log(this.alpha/(1+this.alpha)));\r\n    }\r\n    \r\n    private void setForceValues()\r\n    {\r\n        this.yValues = new double[lengthValues];\r\n        for(int i = 0; i &lt; lengthValues; ++i)\r\n        {\r\n          double A = this.Fmax*(1+1/this.alpha);\r\n          double B = 1-Math.exp(-Math.pow(this.xValues[i]-this.deltaX, 2)/this.Tau);\r\n          this.yValues[i] = A*B-this.Fmax/this.alpha;      \r\n        }\r\n    }\r\n    \r\n    private XYSeriesCollection createDataset() \r\n    {\r\n        boolean autoSort = false;\r\n        boolean allowDuplicateXValues = false;\r\n        XYSeriesCollection dataset = new XYSeriesCollection();\r\n        XYSeries series1 = new XYSeries(&quot;&quot;,autoSort,allowDuplicateXValues);\r\n        \r\n        for(int i = 0; i &lt; lengthValues; ++i)\r\n        {\r\n            series1.add(this.xValues[i], this.yValues[i]);\r\n        }\r\n        dataset.addSeries(series1);\r\n        return dataset;\r\n    }\r\n    \r\n    \r\n    private JPanel createChartPanel()\r\n    {\r\n        String chartTitle = &quot;Wetting balance curve&quot;;\r\n        String xAxisLabel = &quot;&quot;;\r\n        String yAxisLabel = &quot;&quot;;\r\n        //String yAxisLabel = &quot;Fr(mN)&quot;;\r\n\r\n        XYSeriesCollection dataset = createDataset();\r\n                \r\n        JFreeChart chart = ChartFactory.createXYLineChart(chartTitle,\r\n                xAxisLabel, yAxisLabel, dataset,PlotOrientation.VERTICAL,false,true,false);\r\n\r\n        XYPlot plot = chart.getXYPlot();\r\n        \r\n        \r\n        //title\r\n        TextTitle tt = new TextTitle();\r\n        tt.setText(&quot;C:\\\\MENISCO ST60\\\\Mesures\\\\22-5912-100.PM1&quot;);\r\n        tt.setPaint(Color.BLUE);\r\n        tt.setFont( new java.awt.Font( &quot;SansSerif&quot;, java.awt.Font.PLAIN, 10 ) );\r\n        chart.setTitle(tt);\r\n        //empty subtitle (offset for the title)\r\n        TextTitle tts = new TextTitle();\r\n        tts.setText(&quot; &quot;);\r\n        tts.setPaint(Color.BLUE);\r\n        tts.setFont( new java.awt.Font( &quot;SansSerif&quot;, java.awt.Font.PLAIN, 6 ) );\r\n        chart.addSubtitle(tts);\r\n\r\n        // norm subtitle\r\n        //TextTitle normtt = new TextTitle(&quot;          &quot; + &quot;Norme : J-STD-002E&quot;);\r\n        TextTitle normtt = new TextTitle(&quot;    &quot; + &quot;Norme : J-STD-002E&quot;);\r\n        normtt.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n        normtt.setPosition(RectangleEdge.BOTTOM);\r\n        normtt.setPaint(Color.BLACK);\r\n        normtt.setHorizontalAlignment(HorizontalAlignment.LEFT);\r\n        chart.addSubtitle(normtt);\r\n        \r\n        // fmoy subtitle\r\n        TextTitle fmoytt = new TextTitle(&quot;    &quot; + &quot;Force moyenne &#224; 0.900 S: 0.25mN&quot;);\r\n        fmoytt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 10));\r\n        fmoytt.setPosition(RectangleEdge.BOTTOM);\r\n        fmoytt.setPaint(Color.BLUE);\r\n        fmoytt.setHorizontalAlignment(HorizontalAlignment.LEFT);\r\n        chart.addSubtitle(fmoytt);\r\n              \r\n        // axis\r\n        //domain axis\r\n        plot.getDomainAxis().setLowerMargin(0.0);\r\n        plot.getDomainAxis().setUpperMargin(0.0);\r\n        NumberAxis domain = (NumberAxis) plot.getDomainAxis();\r\n        NumberFormat formatterd = DecimalFormat.getInstance();\r\n        formatterd.setMinimumFractionDigits(0);\r\n        domain.setNumberFormatOverride(formatterd);\r\n        domain.setStandardTickUnits(NumberAxis.createIntegerTickUnits());\r\n        domain.setTickMarksVisible(false);\r\n        plot.getDomainAxis().setAxisLineVisible(false);\r\n        \r\n        //range axis\r\n        plot.getRangeAxis().setLabelAngle(Math.PI/2);\r\n        plot.getRangeAxis().setLabelLocation(AxisLabelLocation.HIGH_END);\r\n        NumberAxis range = (NumberAxis) plot.getRangeAxis();\r\n        NumberFormat formatter = DecimalFormat.getInstance(Locale.ENGLISH);\r\n        formatter.setMinimumFractionDigits(2);\r\n        range.setNumberFormatOverride(formatter);\r\n        plot.getRangeAxis().setAxisLineStroke(new BasicStroke(1.5f));\r\n        plot.getRangeAxis().setAxisLinePaint(Color.BLUE);\r\n        plot.getRangeAxis().setTickMarksVisible(true);\r\n        plot.getRangeAxis().setTickMarkPaint(Color.BLACK);\r\n        plot.getRangeAxis().setTickMarkStroke(new BasicStroke(1.5f));\r\n        float lg = plot.getRangeAxis().getTickMarkOutsideLength();\r\n        plot.getRangeAxis().setTickMarkInsideLength(lg);\r\n        plot.getRangeAxis().setRange(-3, 6);\r\n\r\n        // background;gridline;outline \r\n        plot.setAxisOffset(new RectangleInsets(0, 0, 0, 0));\r\n        plot.setDomainGridlinePaint(Color.DARK_GRAY);\r\n        plot.setRangeGridlinePaint(Color.DARK_GRAY);\r\n        plot.setBackgroundPaint(Color.white);\r\n        plot.setOutlineStroke(plot.getDomainGridlineStroke()); //dashed outline\r\n        plot.setOutlinePaint(Color.DARK_GRAY);\r\n        XYItemRenderer  renderer =  plot.getRenderer();\r\n        renderer.setSeriesPaint(0, ChartColor.VERY_DARK_GREEN); // set green color to the xyline\r\n\r\n        // vertical lines\r\n        ValueMarker marker0 = new ValueMarker(0.2,Color.MAGENTA,new BasicStroke(1.5f));  // position is the value on the axis\r\n        ValueMarker marker1 = new ValueMarker(1,Color.MAGENTA,new BasicStroke(1.5f));\r\n        ValueMarker marker2 = new ValueMarker(4,Color.GREEN,new BasicStroke(1.5f));  // position is the value on the axis\r\n        plot.addDomainMarker(marker0, Layer.FOREGROUND);\r\n        plot.addDomainMarker(marker1,Layer.FOREGROUND);\r\n        plot.addDomainMarker(marker2,Layer.FOREGROUND);\r\n\r\n        //horizontal lines\r\n        XYLineAnnotation line = new XYLineAnnotation(0, 4, 10, 4, new BasicStroke(2.0f), Color.green);\r\n        plot.addAnnotation(line);\r\n        XYLineAnnotation line0 = new XYLineAnnotation(0, 0, 10, 0, new BasicStroke(1.0f), Color.BLUE);\r\n        plot.addAnnotation(line0);\r\n       \r\n       \r\n        //dashed horizontal line\r\n        float[] dash = {10.0f, 3.0f, 3.0f};\r\n        Stroke dashed = new BasicStroke(1.0f, BasicStroke.CAP_BUTT,\r\n                BasicStroke.JOIN_MITER, 10.0f, dash, 0.0f);\r\n        XYLineAnnotation line1 = new XYLineAnnotation(0, -1, 10, -1, dashed, Color.MAGENTA);\r\n        plot.addAnnotation(line1);\r\n        \r\n        //right side axis\r\n        NumberAxis range2 = new NumberAxis(&quot; &quot;);\r\n        range2.setAxisLinePaint(Color.GREEN);\r\n        range2.setAxisLineStroke(new BasicStroke(1.5f));\r\n        range2.setTickMarksVisible(false);\r\n        range2.setTickLabelsVisible(false);\r\n        plot.setRangeAxis(1, range2);\r\n        plot.setRangeAxisLocation(1, AxisLocation.BOTTOM_OR_RIGHT);\r\n                \r\n        return new ChartPanel(chart);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n","title":"Jfreechart place text/annotations/labels on desired position and line over outline of the chart","body":"<p>I'm trying to recreate a chart similar to the one in the following picture:</p>\n<p><img src=\"https://i.stack.imgur.com/VNU3q.png\" alt=\"desired chart\" /></p>\n<p>For the moment, I managed to get this:</p>\n<p><img src=\"https://i.stack.imgur.com/xkKhy.png\" alt=\"work in progress chart\" /></p>\n<p>How to add missing elements e.g axis labels out of <code>setLabelLocation()</code> method allowed boundaries. Also how to add value labels on shown positions?</p>\n<p>And for the last green vertical line it seems that the line is covered by the dashed outline, here I tried to plot a secondary axis at the right side of the chart but the line is still in background, any idea to solve that?</p>\n<p>Here is the code of the attempt :</p>\n<pre><code>package javaapplication;\n\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Stroke;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport org.jfree.chart.ChartColor;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.XYLineAnnotation;\nimport org.jfree.chart.axis.AxisLabelLocation;\nimport org.jfree.chart.axis.AxisLocation;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.ValueMarker;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\nimport org.jfree.chart.title.TextTitle;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\nimport org.jfree.ui.HorizontalAlignment;\nimport org.jfree.ui.Layer;\nimport org.jfree.ui.RectangleEdge;\nimport org.jfree.ui.RectangleInsets;\n\npublic class JavaApplication { \n    public static void main(String[] args){\n        PlotWindow pw = new PlotWindow();\n        pw.setVisible(true);\n    }\n    \n}\n\npublic class PlotWindow extends JFrame\n{\n    final double t_init = 0;\n    final double step = 0.1;\n    final double t_fin = 10;\n    int lengthValues;\n    double [] yValues;\n    double [] xValues;\n\n    //params\n    double Fmax = 5;\n    double Tau = 3;\n    double alpha = 3;\n    double deltaX;\n    \n            \n    public PlotWindow()\n    {\n      super(&quot;Test JFreechart&quot;); \n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      this.setLocationRelativeTo(null);\n      \n      // x y values\n      this.lengthValues = (int) ((this.t_fin-t_init)/this.step) + 1;\n      this.setTimeValues();\n      this.computeDeltaX();\n      this.setForceValues();\n      \n      \n      JPanel jp = createChartPanel();\n      jp.setPreferredSize(new java.awt.Dimension(546, 447));\n      this.add(jp, BorderLayout.CENTER);\n\n      this.pack();\n      this.setPreferredSize(new Dimension(546, 447));\n    }\n    \n    private void setTimeValues()\n    {\n        this.xValues = new double[this.lengthValues];\n        for(int i = 0; i &lt; this.lengthValues; ++i)\n        {\n          this.xValues[i] = this.t_init + i*this.step;    \n        }\n    }\n   \n    private void computeDeltaX()\n    {\n        this.deltaX = Math.sqrt(-this.Tau*Math.log(this.alpha/(1+this.alpha)));\n    }\n    \n    private void setForceValues()\n    {\n        this.yValues = new double[lengthValues];\n        for(int i = 0; i &lt; lengthValues; ++i)\n        {\n          double A = this.Fmax*(1+1/this.alpha);\n          double B = 1-Math.exp(-Math.pow(this.xValues[i]-this.deltaX, 2)/this.Tau);\n          this.yValues[i] = A*B-this.Fmax/this.alpha;      \n        }\n    }\n    \n    private XYSeriesCollection createDataset() \n    {\n        boolean autoSort = false;\n        boolean allowDuplicateXValues = false;\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        XYSeries series1 = new XYSeries(&quot;&quot;,autoSort,allowDuplicateXValues);\n        \n        for(int i = 0; i &lt; lengthValues; ++i)\n        {\n            series1.add(this.xValues[i], this.yValues[i]);\n        }\n        dataset.addSeries(series1);\n        return dataset;\n    }\n    \n    \n    private JPanel createChartPanel()\n    {\n        String chartTitle = &quot;Wetting balance curve&quot;;\n        String xAxisLabel = &quot;&quot;;\n        String yAxisLabel = &quot;&quot;;\n        //String yAxisLabel = &quot;Fr(mN)&quot;;\n\n        XYSeriesCollection dataset = createDataset();\n                \n        JFreeChart chart = ChartFactory.createXYLineChart(chartTitle,\n                xAxisLabel, yAxisLabel, dataset,PlotOrientation.VERTICAL,false,true,false);\n\n        XYPlot plot = chart.getXYPlot();\n        \n        \n        //title\n        TextTitle tt = new TextTitle();\n        tt.setText(&quot;C:\\\\MENISCO ST60\\\\Mesures\\\\22-5912-100.PM1&quot;);\n        tt.setPaint(Color.BLUE);\n        tt.setFont( new java.awt.Font( &quot;SansSerif&quot;, java.awt.Font.PLAIN, 10 ) );\n        chart.setTitle(tt);\n        //empty subtitle (offset for the title)\n        TextTitle tts = new TextTitle();\n        tts.setText(&quot; &quot;);\n        tts.setPaint(Color.BLUE);\n        tts.setFont( new java.awt.Font( &quot;SansSerif&quot;, java.awt.Font.PLAIN, 6 ) );\n        chart.addSubtitle(tts);\n\n        // norm subtitle\n        //TextTitle normtt = new TextTitle(&quot;          &quot; + &quot;Norme : J-STD-002E&quot;);\n        TextTitle normtt = new TextTitle(&quot;    &quot; + &quot;Norme : J-STD-002E&quot;);\n        normtt.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n        normtt.setPosition(RectangleEdge.BOTTOM);\n        normtt.setPaint(Color.BLACK);\n        normtt.setHorizontalAlignment(HorizontalAlignment.LEFT);\n        chart.addSubtitle(normtt);\n        \n        // fmoy subtitle\n        TextTitle fmoytt = new TextTitle(&quot;    &quot; + &quot;Force moyenne  0.900 S: 0.25mN&quot;);\n        fmoytt.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 10));\n        fmoytt.setPosition(RectangleEdge.BOTTOM);\n        fmoytt.setPaint(Color.BLUE);\n        fmoytt.setHorizontalAlignment(HorizontalAlignment.LEFT);\n        chart.addSubtitle(fmoytt);\n              \n        // axis\n        //domain axis\n        plot.getDomainAxis().setLowerMargin(0.0);\n        plot.getDomainAxis().setUpperMargin(0.0);\n        NumberAxis domain = (NumberAxis) plot.getDomainAxis();\n        NumberFormat formatterd = DecimalFormat.getInstance();\n        formatterd.setMinimumFractionDigits(0);\n        domain.setNumberFormatOverride(formatterd);\n        domain.setStandardTickUnits(NumberAxis.createIntegerTickUnits());\n        domain.setTickMarksVisible(false);\n        plot.getDomainAxis().setAxisLineVisible(false);\n        \n        //range axis\n        plot.getRangeAxis().setLabelAngle(Math.PI/2);\n        plot.getRangeAxis().setLabelLocation(AxisLabelLocation.HIGH_END);\n        NumberAxis range = (NumberAxis) plot.getRangeAxis();\n        NumberFormat formatter = DecimalFormat.getInstance(Locale.ENGLISH);\n        formatter.setMinimumFractionDigits(2);\n        range.setNumberFormatOverride(formatter);\n        plot.getRangeAxis().setAxisLineStroke(new BasicStroke(1.5f));\n        plot.getRangeAxis().setAxisLinePaint(Color.BLUE);\n        plot.getRangeAxis().setTickMarksVisible(true);\n        plot.getRangeAxis().setTickMarkPaint(Color.BLACK);\n        plot.getRangeAxis().setTickMarkStroke(new BasicStroke(1.5f));\n        float lg = plot.getRangeAxis().getTickMarkOutsideLength();\n        plot.getRangeAxis().setTickMarkInsideLength(lg);\n        plot.getRangeAxis().setRange(-3, 6);\n\n        // background;gridline;outline \n        plot.setAxisOffset(new RectangleInsets(0, 0, 0, 0));\n        plot.setDomainGridlinePaint(Color.DARK_GRAY);\n        plot.setRangeGridlinePaint(Color.DARK_GRAY);\n        plot.setBackgroundPaint(Color.white);\n        plot.setOutlineStroke(plot.getDomainGridlineStroke()); //dashed outline\n        plot.setOutlinePaint(Color.DARK_GRAY);\n        XYItemRenderer  renderer =  plot.getRenderer();\n        renderer.setSeriesPaint(0, ChartColor.VERY_DARK_GREEN); // set green color to the xyline\n\n        // vertical lines\n        ValueMarker marker0 = new ValueMarker(0.2,Color.MAGENTA,new BasicStroke(1.5f));  // position is the value on the axis\n        ValueMarker marker1 = new ValueMarker(1,Color.MAGENTA,new BasicStroke(1.5f));\n        ValueMarker marker2 = new ValueMarker(4,Color.GREEN,new BasicStroke(1.5f));  // position is the value on the axis\n        plot.addDomainMarker(marker0, Layer.FOREGROUND);\n        plot.addDomainMarker(marker1,Layer.FOREGROUND);\n        plot.addDomainMarker(marker2,Layer.FOREGROUND);\n\n        //horizontal lines\n        XYLineAnnotation line = new XYLineAnnotation(0, 4, 10, 4, new BasicStroke(2.0f), Color.green);\n        plot.addAnnotation(line);\n        XYLineAnnotation line0 = new XYLineAnnotation(0, 0, 10, 0, new BasicStroke(1.0f), Color.BLUE);\n        plot.addAnnotation(line0);\n       \n       \n        //dashed horizontal line\n        float[] dash = {10.0f, 3.0f, 3.0f};\n        Stroke dashed = new BasicStroke(1.0f, BasicStroke.CAP_BUTT,\n                BasicStroke.JOIN_MITER, 10.0f, dash, 0.0f);\n        XYLineAnnotation line1 = new XYLineAnnotation(0, -1, 10, -1, dashed, Color.MAGENTA);\n        plot.addAnnotation(line1);\n        \n        //right side axis\n        NumberAxis range2 = new NumberAxis(&quot; &quot;);\n        range2.setAxisLinePaint(Color.GREEN);\n        range2.setAxisLineStroke(new BasicStroke(1.5f));\n        range2.setTickMarksVisible(false);\n        range2.setTickLabelsVisible(false);\n        plot.setRangeAxis(1, range2);\n        plot.setRangeAxisLocation(1, AxisLocation.BOTTOM_OR_RIGHT);\n                \n        return new ChartPanel(chart);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","json","rest","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":8284847,"reputation":2590,"user_id":6228266,"accept_rate":100,"display_name":"Demon Coldmist"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1468818434,"creation_date":1468818434,"answer_id":38428940,"question_id":38424383,"body_markdown":"Actually,if ignore the validation,you can solve your problem like this.\r\n\r\n       public class BusDto {\r\n           private Map&lt;String, Object&gt; changedAttrs = new HashMap&lt;&gt;();\r\n           \r\n           /* getter and setter */\r\n       }\r\n\r\n - First, write a super class for your dto,like BusDto.\r\n - Second, change your dto to extend the super class, and change the\r\n   dto&#39;s set method,to put the attribute name and value to the\r\n   changedAttrs(beacause the spring would invoke the set when the\r\n   attribute has value no matter null or not null).\r\n - Third,traversal the map.","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Actually,if ignore the validation,you can solve your problem like this.</p>\n\n<pre><code>   public class BusDto {\n       private Map&lt;String, Object&gt; changedAttrs = new HashMap&lt;&gt;();\n\n       /* getter and setter */\n   }\n</code></pre>\n\n<ul>\n<li>First, write a super class for your dto,like BusDto.</li>\n<li>Second, change your dto to extend the super class, and change the\ndto's set method,to put the attribute name and value to the\nchangedAttrs(beacause the spring would invoke the set when the\nattribute has value no matter null or not null).</li>\n<li>Third,traversal the map.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468918082,"creation_date":1468831872,"answer_id":38432337,"question_id":38424383,"body_markdown":"I have tried to solve the same problem. I found it quite easy to use `JsonNode` as the DTOs. This way you only get what is submitted.\r\n\r\nYou will need to write a `MergeService` yourself that does the actual work, similar to the BeanWrapper. I haven&#39;t found an existing framework that can do exactly what is needed. (If you use only Json requests you might be able to use Jacksons `readForUpdate` method.)\r\n\r\nWe actually use another node type as we need the same functionality from &quot;standard form submits&quot; and other service calls. Additionally the modifications should be applied within a transaction inside something called `EntityService`. \r\n\r\nThis `MergeService` will unfortunately become quite complex, as you will need to handle properties, lists, sets and maps yourself :)\r\n\r\nThe most problematic piece for me was to distinguish between changes within an element of a list/set and modifications or replacements of lists/sets.\r\n\r\nAnd also validation will not be easy as you need to validate some properties against another model (the JPA entities in my case)\r\n\r\n\r\nEDIT - Some mapping code (pseudo-code):\r\n\r\n    class SomeController { \r\n       @RequestMapping(value = { &quot;/{id}&quot; }, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        @ResponseBody\r\n        public void save(\r\n                @PathVariable(&quot;id&quot;) final Integer id,\r\n                @RequestBody final JsonNode modifications) {\r\n            modifierService.applyModifications(someEntityLoadedById, modifications);\r\n        }\r\n    }\r\n    \r\n    class ModifierService {\r\n    \r\n        public void applyModifications(Object updateObj, JsonNode node)\r\n                throws Exception {\r\n    \r\n            BeanWrapperImpl bw = new BeanWrapperImpl(updateObj);\r\n            Iterator&lt;String&gt; fieldNames = node.fieldNames();\r\n    \r\n            while (fieldNames.hasNext()) {\r\n                String fieldName = fieldNames.next();\r\n                Object valueToBeUpdated = node.get(fieldName);\r\n                Class&lt;?&gt; propertyType = bw.getPropertyType(fieldName);\r\n                if (propertyType == null) {\r\n                   if (!ignoreUnkown) {\r\n                        throw new IllegalArgumentException(&quot;Unkown field &quot; + fieldName + &quot; on type &quot; + bw.getWrappedClass());\r\n                    }\r\n                } else if (Map.class.isAssignableFrom(propertyType)) {\r\n                        handleMap(bw, fieldName, valueToBeUpdated, ModificationType.MODIFY, createdObjects);\r\n                } else if (Collection.class.isAssignableFrom(propertyType)) {\r\n                        handleCollection(bw, fieldName, valueToBeUpdated, ModificationType.MODIFY, createdObjects);\r\n                } else {\r\n                        handleObject(bw, fieldName, valueToBeUpdated, propertyType, createdObjects);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>I have tried to solve the same problem. I found it quite easy to use <code>JsonNode</code> as the DTOs. This way you only get what is submitted.</p>\n\n<p>You will need to write a <code>MergeService</code> yourself that does the actual work, similar to the BeanWrapper. I haven't found an existing framework that can do exactly what is needed. (If you use only Json requests you might be able to use Jacksons <code>readForUpdate</code> method.)</p>\n\n<p>We actually use another node type as we need the same functionality from \"standard form submits\" and other service calls. Additionally the modifications should be applied within a transaction inside something called <code>EntityService</code>. </p>\n\n<p>This <code>MergeService</code> will unfortunately become quite complex, as you will need to handle properties, lists, sets and maps yourself :)</p>\n\n<p>The most problematic piece for me was to distinguish between changes within an element of a list/set and modifications or replacements of lists/sets.</p>\n\n<p>And also validation will not be easy as you need to validate some properties against another model (the JPA entities in my case)</p>\n\n<p>EDIT - Some mapping code (pseudo-code):</p>\n\n<pre><code>class SomeController { \n   @RequestMapping(value = { \"/{id}\" }, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public void save(\n            @PathVariable(\"id\") final Integer id,\n            @RequestBody final JsonNode modifications) {\n        modifierService.applyModifications(someEntityLoadedById, modifications);\n    }\n}\n\nclass ModifierService {\n\n    public void applyModifications(Object updateObj, JsonNode node)\n            throws Exception {\n\n        BeanWrapperImpl bw = new BeanWrapperImpl(updateObj);\n        Iterator&lt;String&gt; fieldNames = node.fieldNames();\n\n        while (fieldNames.hasNext()) {\n            String fieldName = fieldNames.next();\n            Object valueToBeUpdated = node.get(fieldName);\n            Class&lt;?&gt; propertyType = bw.getPropertyType(fieldName);\n            if (propertyType == null) {\n               if (!ignoreUnkown) {\n                    throw new IllegalArgumentException(\"Unkown field \" + fieldName + \" on type \" + bw.getWrappedClass());\n                }\n            } else if (Map.class.isAssignableFrom(propertyType)) {\n                    handleMap(bw, fieldName, valueToBeUpdated, ModificationType.MODIFY, createdObjects);\n            } else if (Collection.class.isAssignableFrom(propertyType)) {\n                    handleCollection(bw, fieldName, valueToBeUpdated, ModificationType.MODIFY, createdObjects);\n            } else {\n                    handleObject(bw, fieldName, valueToBeUpdated, propertyType, createdObjects);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041420,"reputation":1206,"user_id":1047387,"accept_rate":41,"display_name":"Vyacheslav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484156862,"creation_date":1484156862,"answer_id":41597437,"question_id":38424383,"body_markdown":"Maybe too late for an answer, but you could:\r\n\r\n* By default, don&#39;t unset &#39;null&#39; values. Provide an explicit list via query params what fields you want to unset. In such a way you can still send JSON that corresponds to your entity and have flexibility to unset fields when you need.\r\n\r\n* Depending on your use case, some endpoints may explicitly treat all null values as unset operations. A little bit dangerous for patching, but in some circumstances might be an option. ","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Maybe too late for an answer, but you could:</p>\n\n<ul>\n<li><p>By default, don't unset 'null' values. Provide an explicit list via query params what fields you want to unset. In such a way you can still send JSON that corresponds to your entity and have flexibility to unset fields when you need.</p></li>\n<li><p>Depending on your use case, some endpoints may explicitly treat all null values as unset operations. A little bit dangerous for patching, but in some circumstances might be an option. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1360311,"reputation":16577,"user_id":1297812,"display_name":"laffuste"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1591773453,"creation_date":1516861843,"answer_id":48436906,"question_id":38424383,"body_markdown":"Use boolean flags as [jackson&#39;s author recommends][1].\r\n\r\n\r\n    class PersonDTO {\r\n        private String firstName;\r\n        private boolean isFirstNameDirty;\r\n\r\n        public void setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n            this.isFirstNameDirty = true;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public boolean hasFirstName() {\r\n            return isFirstNameDirty;\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/578#issuecomment-58443025","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Use boolean flags as <a href=\"https://github.com/FasterXML/jackson-databind/issues/578#issuecomment-58443025\" rel=\"nofollow noreferrer\">jackson's author recommends</a>.</p>\n\n<pre><code>class PersonDTO {\n    private String firstName;\n    private boolean isFirstNameDirty;\n\n    public void setFirstName(String firstName){\n        this.firstName = firstName;\n        this.isFirstNameDirty = true;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public boolean hasFirstName() {\n        return isFirstNameDirty;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133592,"reputation":1064,"user_id":335059,"display_name":"zbateson"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1554240528,"creation_date":1553729920,"answer_id":55388095,"question_id":38424383,"body_markdown":"Another option is to use java.util.Optional.\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport java.util.Optional;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\nprivate class PersonDTO {\r\n    private Optional&lt;String&gt; firstName;\r\n    private Optional&lt;String&gt; lastName;\r\n    /* getters and setters ... */\r\n}\r\n```\r\n\r\nIf firstName is not set, the value is null, and would be ignored by the @JsonInclude annotation.  Otherwise, if implicitly set in the request object, firstName would not be null, but firstName.get() would be.  I found this browsing the solution @laffuste linked to a [little lower down in a different comment][1] (garretwilson&#39;s initial comment saying it didn&#39;t work turns out to work).\r\n\r\nYou can also map the DTO to the Entity with Jackson&#39;s ObjectMapper, and it will ignore properties that were not passed in the request object:\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nclass PersonController {\r\n    // ...\r\n    @Autowired\r\n    ObjectMapper objectMapper\r\n    \r\n    @Transactional\r\n    @RequestMapping(path = &quot;/{personId}&quot;, method = RequestMethod.PUT)\r\n    public ResponseEntity&lt;?&gt; update(\r\n            @PathVariable String personId,\r\n            @RequestBody PersonDTO dto\r\n    ) {\r\n        Person p = people.findOne(personId);\r\n        objectMapper.updateValue(p, dto);\r\n        personRepository.save(p);\r\n        // return ...\r\n    }\r\n}\r\n```\r\n\r\nValidating a DTO using java.util.Optional is a little different as well.  [It&#39;s documented here][2], but took me a while to find:\r\n\r\n```java\r\n// ...\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Pattern;\r\n// ...\r\nprivate class PersonDTO {\r\n    private Optional&lt;@NotNull String&gt; firstName;\r\n    private Optional&lt;@NotBlank @Pattern(regexp = &quot;...&quot;) String&gt; lastName;\r\n    /* getters and setters ... */\r\n}\r\n```\r\n\r\nIn this case, firstName may not be set at all, but if set, may not be set to null if PersonDTO is validated.\r\n\r\n```java\r\n//...\r\nimport javax.validation.Valid;\r\n//...\r\npublic ResponseEntity&lt;?&gt; update(\r\n        @PathVariable String personId,\r\n        @RequestBody @Valid PersonDTO dto\r\n) {\r\n    // ...\r\n}\r\n```\r\nAlso might be worth mentioning the use of Optional seems to be highly debated, and as of writing Lombok&#39;s maintainer(s) won&#39;t support it (see [this question for example][3]).  This means using lombok.Data/lombok.Setter on a class with Optional fields with constraints doesn&#39;t work (it attempts to create setters with the constraints intact), so using @Setter/@Data causes an exception to be thrown as both the setter and the member variable have constraints set.  It also seems better form to write the Setter without an Optional parameter, for example:\r\n\r\n```java\r\n//...\r\nimport lombok.Getter;\r\n//...\r\n@Getter\r\nprivate class PersonDTO {\r\n    private Optional&lt;@NotNull String&gt; firstName;\r\n    private Optional&lt;@NotBlank @Pattern(regexp = &quot;...&quot;) String&gt; lastName;\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = Optional.ofNullable(firstName);\r\n    }\r\n    // etc...\r\n}\r\n```\r\n \r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/578#issuecomment-385266611\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#container-element-constraints\r\n  [3]: https://stackoverflow.com/questions/31670785/optional-in-lombok","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Another option is to use java.util.Optional.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport java.util.Optional;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\nprivate class PersonDTO {\n    private Optional&lt;String&gt; firstName;\n    private Optional&lt;String&gt; lastName;\n    /* getters and setters ... */\n}\n</code></pre>\n\n<p>If firstName is not set, the value is null, and would be ignored by the @JsonInclude annotation.  Otherwise, if implicitly set in the request object, firstName would not be null, but firstName.get() would be.  I found this browsing the solution @laffuste linked to a <a href=\"https://github.com/FasterXML/jackson-databind/issues/578#issuecomment-385266611\" rel=\"noreferrer\">little lower down in a different comment</a> (garretwilson's initial comment saying it didn't work turns out to work).</p>\n\n<p>You can also map the DTO to the Entity with Jackson's ObjectMapper, and it will ignore properties that were not passed in the request object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nclass PersonController {\n    // ...\n    @Autowired\n    ObjectMapper objectMapper\n\n    @Transactional\n    @RequestMapping(path = \"/{personId}\", method = RequestMethod.PUT)\n    public ResponseEntity&lt;?&gt; update(\n            @PathVariable String personId,\n            @RequestBody PersonDTO dto\n    ) {\n        Person p = people.findOne(personId);\n        objectMapper.updateValue(p, dto);\n        personRepository.save(p);\n        // return ...\n    }\n}\n</code></pre>\n\n<p>Validating a DTO using java.util.Optional is a little different as well.  <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#container-element-constraints\" rel=\"noreferrer\">It's documented here</a>, but took me a while to find:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// ...\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Pattern;\n// ...\nprivate class PersonDTO {\n    private Optional&lt;@NotNull String&gt; firstName;\n    private Optional&lt;@NotBlank @Pattern(regexp = \"...\") String&gt; lastName;\n    /* getters and setters ... */\n}\n</code></pre>\n\n<p>In this case, firstName may not be set at all, but if set, may not be set to null if PersonDTO is validated.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//...\nimport javax.validation.Valid;\n//...\npublic ResponseEntity&lt;?&gt; update(\n        @PathVariable String personId,\n        @RequestBody @Valid PersonDTO dto\n) {\n    // ...\n}\n</code></pre>\n\n<p>Also might be worth mentioning the use of Optional seems to be highly debated, and as of writing Lombok's maintainer(s) won't support it (see <a href=\"https://stackoverflow.com/questions/31670785/optional-in-lombok\">this question for example</a>).  This means using lombok.Data/lombok.Setter on a class with Optional fields with constraints doesn't work (it attempts to create setters with the constraints intact), so using @Setter/@Data causes an exception to be thrown as both the setter and the member variable have constraints set.  It also seems better form to write the Setter without an Optional parameter, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//...\nimport lombok.Getter;\n//...\n@Getter\nprivate class PersonDTO {\n    private Optional&lt;@NotNull String&gt; firstName;\n    private Optional&lt;@NotBlank @Pattern(regexp = \"...\") String&gt; lastName;\n\n    public void setFirstName(String firstName) {\n        this.firstName = Optional.ofNullable(firstName);\n    }\n    // etc...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1655811155,"creation_date":1582541286,"answer_id":60374259,"question_id":38424383,"body_markdown":"There is a better option, that does not involve changing your DTO&#39;s or to customize your setters.\r\n\r\nIt involves letting Jackson merge data with an existing data object, as follows:\r\n\r\n    MyData existingData = ...\r\n    ObjectReader readerForUpdating = objectMapper.readerForUpdating(existingData);\r\n\r\n    MyData mergedData = readerForUpdating.readValue(newData);    \r\n\r\nAny fields not present in `newData` will not overwrite data in `existingData`, but if a field is present it will be overwritten, even if it contains `null`.\r\n\r\nDemo code:\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        MyDTO dto = new MyDTO();\r\n\r\n        dto.setText(&quot;text&quot;);\r\n        dto.setAddress(&quot;address&quot;);\r\n        dto.setCity(&quot;city&quot;);\r\n\r\n        String json = &quot;{\\&quot;text\\&quot;: \\&quot;patched text\\&quot;, \\&quot;city\\&quot;: null}&quot;;\r\n\r\n        ObjectReader readerForUpdating = objectMapper.readerForUpdating(dto);\r\n\r\n        MyDTO merged = readerForUpdating.readValue(json);\r\n\r\nResults in `{&quot;text&quot;: &quot;patched text&quot;, &quot;address&quot;: &quot;address&quot;, &quot;city&quot;: null}`\r\n\r\nNote that `text` and `city` were patched (`city` is now `null`) and that `address` was left alone.\r\n\r\nIn a Spring Rest Controller you will need to get the original JSON data instead of having Spring deserialize it in order to do this.  So change your endpoint like this:\r\n\r\n    @Autowired ObjectMapper objectMapper;\r\n\r\n    @RequestMapping(path = &quot;/{personId}&quot;, method = RequestMethod.PATCH)\r\n    public ResponseEntity&lt;?&gt; update(\r\n            @PathVariable String personId,\r\n            @RequestBody JsonNode jsonNode) {\r\n\r\n       RequestDTO existingData = getExistingDataFromSomewhere();\r\n\r\n       ObjectReader readerForUpdating = objectMapper.readerForUpdating(existingData);\r\n       \r\n       RequestDTO mergedData = readerForUpdating.readValue(jsonNode);\r\n\r\n       ...\r\n    }","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>There is a better option, that does not involve changing your DTO's or to customize your setters.</p>\n<p>It involves letting Jackson merge data with an existing data object, as follows:</p>\n<pre><code>MyData existingData = ...\nObjectReader readerForUpdating = objectMapper.readerForUpdating(existingData);\n\nMyData mergedData = readerForUpdating.readValue(newData);    \n</code></pre>\n<p>Any fields not present in <code>newData</code> will not overwrite data in <code>existingData</code>, but if a field is present it will be overwritten, even if it contains <code>null</code>.</p>\n<p>Demo code:</p>\n<pre><code>    ObjectMapper objectMapper = new ObjectMapper();\n    MyDTO dto = new MyDTO();\n\n    dto.setText(&quot;text&quot;);\n    dto.setAddress(&quot;address&quot;);\n    dto.setCity(&quot;city&quot;);\n\n    String json = &quot;{\\&quot;text\\&quot;: \\&quot;patched text\\&quot;, \\&quot;city\\&quot;: null}&quot;;\n\n    ObjectReader readerForUpdating = objectMapper.readerForUpdating(dto);\n\n    MyDTO merged = readerForUpdating.readValue(json);\n</code></pre>\n<p>Results in <code>{&quot;text&quot;: &quot;patched text&quot;, &quot;address&quot;: &quot;address&quot;, &quot;city&quot;: null}</code></p>\n<p>Note that <code>text</code> and <code>city</code> were patched (<code>city</code> is now <code>null</code>) and that <code>address</code> was left alone.</p>\n<p>In a Spring Rest Controller you will need to get the original JSON data instead of having Spring deserialize it in order to do this.  So change your endpoint like this:</p>\n<pre><code>@Autowired ObjectMapper objectMapper;\n\n@RequestMapping(path = &quot;/{personId}&quot;, method = RequestMethod.PATCH)\npublic ResponseEntity&lt;?&gt; update(\n        @PathVariable String personId,\n        @RequestBody JsonNode jsonNode) {\n\n   RequestDTO existingData = getExistingDataFromSomewhere();\n\n   ObjectReader readerForUpdating = objectMapper.readerForUpdating(existingData);\n   \n   RequestDTO mergedData = readerForUpdating.readValue(jsonNode);\n\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3337626,"reputation":318,"user_id":8459810,"display_name":"Dragan Velkovski"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1586160201,"creation_date":1586160201,"answer_id":61055374,"question_id":38424383,"body_markdown":"Probably to late but following code works for me to distinguish between null and not provided values\r\n\r\n    if(dto.getIban() == null){\r\n      log.info(&quot;Iban value is not provided&quot;);\r\n    }else if(dto.getIban().orElse(null) == null){\r\n      log.info(&quot;Iban is provided and has null value&quot;);\r\n    }else{\r\n      log.info(&quot;Iban value is : &quot; + dto.getIban().get());\r\n    }","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Probably to late but following code works for me to distinguish between null and not provided values</p>\n\n<pre><code>if(dto.getIban() == null){\n  log.info(\"Iban value is not provided\");\n}else if(dto.getIban().orElse(null) == null){\n  log.info(\"Iban is provided and has null value\");\n}else{\n  log.info(\"Iban value is : \" + dto.getIban().get());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6660922,"reputation":1159,"user_id":5140049,"display_name":"Micha Jaboski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670871825,"creation_date":1667465870,"answer_id":74300357,"question_id":38424383,"body_markdown":"Another solution would be to **imperatively deserialize the request body**. By doing it, you will be able to collect user provided fields and selectively validate them.\r\n\r\nSo your DTO might look like this: \r\n```\r\npublic class CatDto {\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @Min(0)\r\n    @Max(100)\r\n    private int laziness;\r\n\r\n    @Max(3)\r\n    private int purringVolume;\r\n}\r\n```\r\nAnd your controller can be something like this:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/cats&quot;)\r\n@io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n        content = @Content(schema = @Schema(implementation = CatDto.class)))\r\n// ^^ this passes your CatDto model to swagger (you must use springdoc to get it to work!)\r\npublic class CatController {\r\n    @Autowired\r\n    SmartValidator validator; // we&#39;ll use this to validate our request\r\n\r\n    @PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;String&gt; updateCat(\r\n            @PathVariable String id,\r\n            @RequestBody Map&lt;String, Object&gt; body\r\n            // ^^ no Valid annotation, no declarative DTO binding here!\r\n    ) throws MethodArgumentNotValidException {\r\n        CatDto catDto = new CatDto();\r\n        WebDataBinder binder = new WebDataBinder(catDto);\r\n        BindingResult bindingResult = binder.getBindingResult();\r\n        List&lt;String&gt; patchFields = new ArrayList&lt;&gt;();\r\n\r\n        binder.bind(new MutablePropertyValues(body));\r\n        // ^^ imperatively bind to DTO\r\n        body.forEach((k, v) -&gt; {\r\n            patchFields.add(k);\r\n            // ^^ collect user provided fields if you need\r\n            validator.validateValue(CatDto.class, k, v, bindingResult);\r\n            // ^^ imperatively validate user input\r\n        });\r\n        if (bindingResult.hasErrors()) {\r\n            throw new MethodArgumentNotValidException(null, bindingResult);\r\n            // ^^ this can be handled by your regular exception handler\r\n        }\r\n        // Here you can do normal stuff with your catDto.\r\n        // Map it to cat model, send to cat service, whatever.\r\n        return ResponseEntity.ok(&quot;cat updated&quot;);\r\n    }\r\n}\r\n```\r\nNo need for Optional&#39;s, no extra dependencies, your normal validation just works, your swagger looks good. The only problem is, you don&#39;t get proper merge patch on nested objects, but in many use cases that&#39;s not even required. ","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>Another solution would be to <strong>imperatively deserialize the request body</strong>. By doing it, you will be able to collect user provided fields and selectively validate them.</p>\n<p>So your DTO might look like this:</p>\n<pre><code>public class CatDto {\n    @NotBlank\n    private String name;\n\n    @Min(0)\n    @Max(100)\n    private int laziness;\n\n    @Max(3)\n    private int purringVolume;\n}\n</code></pre>\n<p>And your controller can be something like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/cats&quot;)\n@io.swagger.v3.oas.annotations.parameters.RequestBody(\n        content = @Content(schema = @Schema(implementation = CatDto.class)))\n// ^^ this passes your CatDto model to swagger (you must use springdoc to get it to work!)\npublic class CatController {\n    @Autowired\n    SmartValidator validator; // we'll use this to validate our request\n\n    @PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;String&gt; updateCat(\n            @PathVariable String id,\n            @RequestBody Map&lt;String, Object&gt; body\n            // ^^ no Valid annotation, no declarative DTO binding here!\n    ) throws MethodArgumentNotValidException {\n        CatDto catDto = new CatDto();\n        WebDataBinder binder = new WebDataBinder(catDto);\n        BindingResult bindingResult = binder.getBindingResult();\n        List&lt;String&gt; patchFields = new ArrayList&lt;&gt;();\n\n        binder.bind(new MutablePropertyValues(body));\n        // ^^ imperatively bind to DTO\n        body.forEach((k, v) -&gt; {\n            patchFields.add(k);\n            // ^^ collect user provided fields if you need\n            validator.validateValue(CatDto.class, k, v, bindingResult);\n            // ^^ imperatively validate user input\n        });\n        if (bindingResult.hasErrors()) {\n            throw new MethodArgumentNotValidException(null, bindingResult);\n            // ^^ this can be handled by your regular exception handler\n        }\n        // Here you can do normal stuff with your catDto.\n        // Map it to cat model, send to cat service, whatever.\n        return ResponseEntity.ok(&quot;cat updated&quot;);\n    }\n}\n</code></pre>\n<p>No need for Optional's, no extra dependencies, your normal validation just works, your swagger looks good. The only problem is, you don't get proper merge patch on nested objects, but in many use cases that's not even required.</p>\n"}],"owner":{"account_id":5180992,"reputation":895,"user_id":4146710,"display_name":"Danilo Cianciulli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27957,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":38428940,"answer_count":8,"score":80,"last_activity_date":1670871825,"creation_date":1468779050,"question_id":38424383,"body_markdown":"I&#39;m trying to distinguish between null values and not provided values when partially updating an entity with PUT request method in Spring Rest Controller.\r\n\r\n\r\nConsider the following entity, as an example:\r\n\r\n    @Entity\r\n    private class Person {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        /* let&#39;s assume the following attributes may be null */\r\n        private String firstName;\r\n        private String lastName;\r\n\r\n        /* getters and setters ... */\r\n    }\r\n\r\nMy Person repository (Spring Data):\r\n\r\n    @Repository\r\n    public interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\r\n    }\r\n\r\nThe DTO I use:\r\n\r\n    private class PersonDTO {\r\n        private String firstName;\r\n        private String lastName;\r\n\r\n        /* getters and setters ... */\r\n    }\r\n\r\nMy Spring RestController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/people&quot;)\r\n    public class PersonController {\r\n\r\n        @Autowired\r\n        private PersonRepository people;\r\n     \r\n        @Transactional\r\n        @RequestMapping(path = &quot;/{personId}&quot;, method = RequestMethod.PUT)\r\n        public ResponseEntity&lt;?&gt; update(\r\n                @PathVariable String personId,\r\n                @RequestBody PersonDTO dto) {\r\n\r\n            // get the entity by ID\r\n            Person p = people.findOne(personId); // we assume it exists\r\n            \r\n            // update ONLY entity attributes that have been defined\r\n            if(/* dto.getFirstName is defined */)\r\n                p.setFirstName = dto.getFirstName;\r\n            \r\n            if(/* dto.getLastName is defined */)\r\n                p.setLastName = dto.getLastName;\r\n\r\n            return ResponseEntity.ok(p);\r\n        }\r\n    }\r\n\r\n\r\n**Request with missing property**\r\n\r\n    {&quot;firstName&quot;: &quot;John&quot;}\r\n\r\n*Expected behaviour: update `firstName= &quot;John&quot;` (leave `lastName` unchanged).*\r\n\r\n**Request with null property**\r\n\r\n    {&quot;firstName&quot;: &quot;John&quot;, &quot;lastName&quot;: null}\r\n\r\n*Expected behaviour: update `firstName=&quot;John&quot;` and set `lastName=null`.*\r\n\r\n\r\nI cannot distinguish between these two cases, since`lastName` in the DTO is always set to `null` by Jackson.\r\n\r\n*Note:\r\nI know that REST best practices (RFC 6902) recommend using PATCH instead of PUT for partial updates, but in my particular scenario I need to use PUT.*\r\n","title":"How to distinguish between null and not provided values for partial updates in Spring Rest Controller","body":"<p>I'm trying to distinguish between null values and not provided values when partially updating an entity with PUT request method in Spring Rest Controller.</p>\n\n<p>Consider the following entity, as an example:</p>\n\n<pre><code>@Entity\nprivate class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /* let's assume the following attributes may be null */\n    private String firstName;\n    private String lastName;\n\n    /* getters and setters ... */\n}\n</code></pre>\n\n<p>My Person repository (Spring Data):</p>\n\n<pre><code>@Repository\npublic interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\n}\n</code></pre>\n\n<p>The DTO I use:</p>\n\n<pre><code>private class PersonDTO {\n    private String firstName;\n    private String lastName;\n\n    /* getters and setters ... */\n}\n</code></pre>\n\n<p>My Spring RestController:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/people\")\npublic class PersonController {\n\n    @Autowired\n    private PersonRepository people;\n\n    @Transactional\n    @RequestMapping(path = \"/{personId}\", method = RequestMethod.PUT)\n    public ResponseEntity&lt;?&gt; update(\n            @PathVariable String personId,\n            @RequestBody PersonDTO dto) {\n\n        // get the entity by ID\n        Person p = people.findOne(personId); // we assume it exists\n\n        // update ONLY entity attributes that have been defined\n        if(/* dto.getFirstName is defined */)\n            p.setFirstName = dto.getFirstName;\n\n        if(/* dto.getLastName is defined */)\n            p.setLastName = dto.getLastName;\n\n        return ResponseEntity.ok(p);\n    }\n}\n</code></pre>\n\n<p><strong>Request with missing property</strong></p>\n\n<pre><code>{\"firstName\": \"John\"}\n</code></pre>\n\n<p><em>Expected behaviour: update <code>firstName= \"John\"</code> (leave <code>lastName</code> unchanged).</em></p>\n\n<p><strong>Request with null property</strong></p>\n\n<pre><code>{\"firstName\": \"John\", \"lastName\": null}\n</code></pre>\n\n<p><em>Expected behaviour: update <code>firstName=\"John\"</code> and set <code>lastName=null</code>.</em></p>\n\n<p>I cannot distinguish between these two cases, since<code>lastName</code> in the DTO is always set to <code>null</code> by Jackson.</p>\n\n<p><em>Note:\nI know that REST best practices (RFC 6902) recommend using PATCH instead of PUT for partial updates, but in my particular scenario I need to use PUT.</em></p>\n"},{"tags":["java","apache","ant"],"comments":[{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1427523840,"post_id":29314326,"comment_id":46821490,"body_markdown":"Add import statement in java file?","body":"Add import statement in java file?"},{"owner":{"account_id":5876997,"reputation":1925,"user_id":4627552,"accept_rate":65,"display_name":"Clyde D&#39;Cruz"},"score":0,"creation_date":1427523858,"post_id":29314326,"comment_id":46821493,"body_markdown":"You need to have the ant jar apache-ant-1.8.2.jar (or later version )in your buid path http://www.java2s.com/Code/JarDownload/apache-ant/apache-ant-zip.jar.zip","body":"You need to have the ant jar apache-ant-1.8.2.jar (or later version )in your buid path <a href=\"http://www.java2s.com/Code/JarDownload/apache-ant/apache-ant-zip.jar.zip\" rel=\"nofollow noreferrer\">java2s.com/Code/JarDownload/apache-ant/apache-ant-zip.jar.zi&zwnj;&#8203;p</a>"},{"owner":{"account_id":2757652,"reputation":136,"user_id":2375268,"accept_rate":86,"display_name":"San Lewy"},"score":0,"creation_date":1427560025,"post_id":29314326,"comment_id":46830648,"body_markdown":"@Clyde  ant -version shows I have 1.9.3 installed.  I can do Ant builds, but I can&#39;t do this:  Import org.apache.tools.ant.BuildException  in my Java program.","body":"@Clyde  ant -version shows I have 1.9.3 installed.  I can do Ant builds, but I can&#39;t do this:  Import org.apache.tools.ant.BuildException  in my Java program."},{"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"score":0,"creation_date":1456528537,"post_id":29314326,"comment_id":59007096,"body_markdown":"These are two separate paths, so you need to set the path to the Ant jar in your classpath (or, depending on your IDE, your build path as CJ Croix mentioned). The end result would be something like this in your \tpath: `&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/ant-1.7.1.jar&quot;/&gt;`","body":"These are two separate paths, so you need to set the path to the Ant jar in your classpath (or, depending on your IDE, your build path as CJ Croix mentioned). The end result would be something like this in your \tpath: <code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib&#47;ant-1.7.1.jar&quot;&#47;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":9117109,"reputation":21,"user_id":6783901,"display_name":"shadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670871419,"creation_date":1670871419,"answer_id":74776017,"question_id":29314326,"body_markdown":" you can download it from\r\n[http://www.java2s.com/Code/Jar/a/Downloadapacheant182jar.htm][1]\r\nand insert in project structure","title":"How to satisfy: Import org.apache.tools.ant.BuildException;","body":"<p>you can download it from\n[http://www.java2s.com/Code/Jar/a/Downloadapacheant182jar.htm][1]\nand insert in project structure</p>\n"}],"owner":{"account_id":2757652,"reputation":136,"user_id":2375268,"accept_rate":86,"display_name":"San Lewy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670871419,"creation_date":1427523653,"question_id":29314326,"body_markdown":"In NetBeans or at the command-line, how do I get what is needed to satisfy this Import?","title":"How to satisfy: Import org.apache.tools.ant.BuildException;","body":"<p>In NetBeans or at the command-line, how do I get what is needed to satisfy this Import?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":21250,"reputation":6690,"user_id":51493,"accept_rate":83,"display_name":"nasty pasty"},"score":4,"creation_date":1311231162,"post_id":135919,"comment_id":8032792,"body_markdown":"Hey there. You marked the answer as correct - any chance you remember what you found by doing some sniffing? This problem has got me. (See my question http://stackoverflow.com/questions/6772215/java-net-socketexception-software-caused-connection-abort-recv-failed-with-jav)","body":"Hey there. You marked the answer as correct - any chance you remember what you found by doing some sniffing? This problem has got me. (See my question <a href=\"http://stackoverflow.com/questions/6772215/java-net-socketexception-software-caused-connection-abort-recv-failed-with-jav\" title=\"java net socketexception software caused connection abort recv failed with jav\">stackoverflow.com/questions/6772215/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":10824,"reputation":2092,"user_id":20621,"display_name":"Ken"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1222375766,"creation_date":1222375766,"answer_id":135983,"question_id":135919,"body_markdown":"Are you accessing http data?  Can you use the HttpClient library instead of the standard library?  The library has more options and will provide better error messages.\r\n\r\n[http://hc.apache.org/httpclient-3.x/][1]\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>Are you accessing http data?  Can you use the HttpClient library instead of the standard library?  The library has more options and will provide better error messages.</p>\n\n<p><a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">http://hc.apache.org/httpclient-3.x/</a></p>\n"},{"tags":[],"owner":{"account_id":11508,"reputation":3302,"user_id":22221,"display_name":"pfranza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222375796,"creation_date":1222375796,"answer_id":135985,"question_id":135919,"body_markdown":"The only time I&#39;ve seen something like this happen is when I have a bad connection, or when somebody is closing the socket that I am using from a different thread context.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>The only time I've seen something like this happen is when I have a bad connection, or when somebody is closing the socket that I am using from a different thread context.</p>\n"},{"tags":[],"owner":{"account_id":9016,"reputation":16147,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1222375821,"creation_date":1222375821,"answer_id":135991,"question_id":135919,"body_markdown":"This usually means that there was a network error, such as a TCP timeout. I would start by placing a sniffer (wireshark) on the connection to see if you can see any problems.  If there is a TCP error, you should be able to see it.  Also, you can check your router logs, if this is applicable.  If wireless is involved anywhere, that is another source for these kind of errors.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>This usually means that there was a network error, such as a TCP timeout. I would start by placing a sniffer (wireshark) on the connection to see if you can see any problems.  If there is a TCP error, you should be able to see it.  Also, you can check your router logs, if this is applicable.  If wireless is involved anywhere, that is another source for these kind of errors.</p>\n"},{"tags":[],"owner":{"account_id":1133243,"reputation":67,"user_id":1118833,"display_name":"Anantharaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325055240,"creation_date":1325055240,"answer_id":8652823,"question_id":135919,"body_markdown":"Try adding &#39;autoReconnect=true&#39; to the jdbc connection string","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>Try adding 'autoReconnect=true' to the jdbc connection string</p>\n"},{"tags":[],"owner":{"account_id":214748,"reputation":9822,"user_id":468904,"accept_rate":98,"display_name":"Michael J. Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334925160,"creation_date":1334925160,"answer_id":10246311,"question_id":135919,"body_markdown":"This will happen from time to time either when a connection times out or when a remote host terminates their connection (closed application, computer shutdown, etc). You can avoid this by managing sockets yourself and handling disconnections in your application via its communications protocol and then calling `shutdownInput` and `shutdownOutput` to clear up the session.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>This will happen from time to time either when a connection times out or when a remote host terminates their connection (closed application, computer shutdown, etc). You can avoid this by managing sockets yourself and handling disconnections in your application via its communications protocol and then calling <code>shutdownInput</code> and <code>shutdownOutput</code> to clear up the session.</p>\n"},{"tags":[],"owner":{"account_id":1779973,"reputation":21,"user_id":1622969,"display_name":"trinity"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1345820370,"creation_date":1345820370,"answer_id":12111883,"question_id":135919,"body_markdown":"Look if you have another service or program running on the http port. It happened to me when I tried to use the port and it was taken by another program.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>Look if you have another service or program running on the http port. It happened to me when I tried to use the port and it was taken by another program.</p>\n"},{"tags":[],"owner":{"account_id":1970424,"reputation":146,"user_id":1769533,"accept_rate":43,"display_name":"Maro Koina"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384168518,"creation_date":1384168518,"answer_id":19904978,"question_id":135919,"body_markdown":"If you are using Netbeans to manage Tomcat, try to disable HTTP monitor in Tools - Servers","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>If you are using Netbeans to manage Tomcat, try to disable HTTP monitor in Tools - Servers</p>\n"},{"tags":[],"owner":{"account_id":4364264,"reputation":369,"user_id":3560512,"display_name":"desbocages"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1398171183,"creation_date":1398171183,"answer_id":23220205,"question_id":135919,"body_markdown":"This also happens if your TLS client is unable to be authenticate by the server configured to require client authentication.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>This also happens if your TLS client is unable to be authenticate by the server configured to require client authentication.</p>\n"},{"tags":[],"owner":{"account_id":4936233,"reputation":19,"user_id":3974252,"display_name":"Sergio"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1408946751,"creation_date":1408946106,"answer_id":25479748,"question_id":135919,"body_markdown":"I too had this problem. My solution was:\r\n\r\n    sc.setSoLinger(true, 10);\r\n\r\nCOPY FROM A WEBSITE --&gt;By using the `setSoLinger()` method, you can explicitly set a delay before a reset is sent, giving more time for data to be read or send.\r\n\r\nMaybe it is not the answer to everybody but to some people.","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>I too had this problem. My solution was:</p>\n\n<pre><code>sc.setSoLinger(true, 10);\n</code></pre>\n\n<p>COPY FROM A WEBSITE -->By using the <code>setSoLinger()</code> method, you can explicitly set a delay before a reset is sent, giving more time for data to be read or send.</p>\n\n<p>Maybe it is not the answer to everybody but to some people.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1427702168,"creation_date":1427578225,"answer_id":29322850,"question_id":135919,"body_markdown":"This error occurs when a connection is closed abruptly (when a TCP connection is reset while there is still data in the send buffer). The condition is very similar to a much more common &#39;Connection reset by peer&#39;. It can happen sporadically when connecting over the Internet, but also systematically if the timing is right (e.g. with keep-alive connections on localhost).\r\n\r\nAn HTTP client should just re-open the connection and retry the request. It is important to understand that when a connection is in this state, there is no way out of it other than to close it. Any attempt to send or receive will produce the same error.\r\n\r\nDon&#39;t use `URL.open()`, use Apache-Commons [HttpClient](https://hc.apache.org/httpcomponents-client-ga/) which has a retry mechanism, connection pooling, keep-alive and many other features.\r\n\r\nSample usage:\r\n\r\n    HttpClient httpClient = HttpClients.custom()\r\n                .setConnectionTimeToLive(20, TimeUnit.SECONDS)\r\n\t\t        .setMaxConnTotal(400).setMaxConnPerRoute(400)\r\n                .setDefaultRequestConfig(RequestConfig.custom()\r\n                \t\t.setSocketTimeout(30000).setConnectTimeout(5000).build())\r\n                .setRetryHandler(new DefaultHttpRequestRetryHandler(5, true))\r\n                .build();\r\n    // the httpClient should be re-used because it is pooled and thread-safe.\r\n\r\n    HttpGet request = new HttpGet(uri);\r\n    HttpResponse response = httpClient.execute(request);\r\n    reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n    // handle response ...","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>This error occurs when a connection is closed abruptly (when a TCP connection is reset while there is still data in the send buffer). The condition is very similar to a much more common 'Connection reset by peer'. It can happen sporadically when connecting over the Internet, but also systematically if the timing is right (e.g. with keep-alive connections on localhost).</p>\n\n<p>An HTTP client should just re-open the connection and retry the request. It is important to understand that when a connection is in this state, there is no way out of it other than to close it. Any attempt to send or receive will produce the same error.</p>\n\n<p>Don't use <code>URL.open()</code>, use Apache-Commons <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"noreferrer\">HttpClient</a> which has a retry mechanism, connection pooling, keep-alive and many other features.</p>\n\n<p>Sample usage:</p>\n\n<pre><code>HttpClient httpClient = HttpClients.custom()\n            .setConnectionTimeToLive(20, TimeUnit.SECONDS)\n            .setMaxConnTotal(400).setMaxConnPerRoute(400)\n            .setDefaultRequestConfig(RequestConfig.custom()\n                    .setSocketTimeout(30000).setConnectTimeout(5000).build())\n            .setRetryHandler(new DefaultHttpRequestRetryHandler(5, true))\n            .build();\n// the httpClient should be re-used because it is pooled and thread-safe.\n\nHttpGet request = new HttpGet(uri);\nHttpResponse response = httpClient.execute(request);\nreader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n// handle response ...\n</code></pre>\n"}],"owner":{"account_id":7383,"reputation":2010,"user_id":12815,"display_name":"grammar31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359338,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":135991,"answer_count":10,"score":96,"last_activity_date":1670871019,"creation_date":1222375380,"question_id":135919,"body_markdown":"I haven&#39;t been able to find an adequate answer to what exactly the following error means:\r\n\r\n`java.net.SocketException: Software caused connection abort: recv failed` \r\n\r\nNotes:\r\n\r\n   - This error is infrequent and unpredictable; although getting this error means that all future requests for URIs will also fail.\r\n   - The only solution that works (also, only occasionally) is to reboot Tomcat and/or the actual machine (Windows in this case).\r\n   - The URI is definitely available (as confirmed by asking the browser to do the fetch).\r\n\r\nRelevant code:\r\n\r\n    BufferedReader reader;\r\n    try { \r\n     URL url = new URL(URI);\r\n     reader = new BufferedReader(new InputStreamReader(url.openStream())));\r\n    } catch( MalformedURLException e ) { \r\n     throw new IOException(&quot;Expecting a well-formed URL: &quot; + e); \r\n    }//end try: Have a stream\r\n    \r\n    String buffer;\r\n    StringBuilder result = new StringBuilder();\r\n    while( null != (buffer = reader.readLine()) ) { \r\n     result.append(buffer); \r\n    }//end while: Got the contents.\r\n    reader.close();","title":"java.net.SocketException: Software caused connection abort: recv failed","body":"<p>I haven't been able to find an adequate answer to what exactly the following error means:</p>\n\n<p><code>java.net.SocketException: Software caused connection abort: recv failed</code> </p>\n\n<p>Notes:</p>\n\n<ul>\n<li>This error is infrequent and unpredictable; although getting this error means that all future requests for URIs will also fail.</li>\n<li>The only solution that works (also, only occasionally) is to reboot Tomcat and/or the actual machine (Windows in this case).</li>\n<li>The URI is definitely available (as confirmed by asking the browser to do the fetch).</li>\n</ul>\n\n<p>Relevant code:</p>\n\n<pre><code>BufferedReader reader;\ntry { \n URL url = new URL(URI);\n reader = new BufferedReader(new InputStreamReader(url.openStream())));\n} catch( MalformedURLException e ) { \n throw new IOException(\"Expecting a well-formed URL: \" + e); \n}//end try: Have a stream\n\nString buffer;\nStringBuilder result = new StringBuilder();\nwhile( null != (buffer = reader.readLine()) ) { \n result.append(buffer); \n}//end while: Got the contents.\nreader.close();\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670867841,"post_id":74774804,"comment_id":131967857,"body_markdown":"check your effective pom/dependency resolution/target folder: how comes `ch.qos.logback.*` there?","body":"check your effective pom/dependency resolution/target folder: how comes <code>ch.qos.logback.*</code> there?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1670869376,"post_id":74774804,"comment_id":131968372,"body_markdown":"@xerx593 Please read topic update","body":"@xerx593 Please read topic update"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1670870466,"post_id":74774804,"comment_id":131968702,"body_markdown":"exclude `ch.qos.logback:logback-classic` from `org.liquibase:liquibase-core`!? ;) (analogous to &quot;starter-web&quot;-&quot;starter-logging&quot; ;)","body":"exclude <code>ch.qos.logback:logback-classic</code> from <code>org.liquibase:liquibase-core</code>!? ;) (analogous to &quot;starter-web&quot;-&quot;starter-logging&quot; ;)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1670870895,"post_id":74774804,"comment_id":131968824,"body_markdown":"@xerx593 I still see the same error but there no `logback-classic` on result of `mvn dependency:tree`","body":"@xerx593 I still see the same error but there no <code>logback-classic</code> on result of <code>mvn dependency:tree</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1670871161,"post_id":74774804,"comment_id":131968929,"body_markdown":"@xerx593 oh my bad - please read Update 3:","body":"@xerx593 oh my bad - please read Update 3:"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670871259,"post_id":74774804,"comment_id":131968955,"body_markdown":"then, (of course...update3) is my bad! :) ...","body":"then, (of course...update3) is my bad! :) ..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670871335,"post_id":74774804,"comment_id":131968974,"body_markdown":"1. https://logging.apache.org/log4j/2.x/log4j-liquibase/index.html","body":"1. <a href=\"https://logging.apache.org/log4j/2.x/log4j-liquibase/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/log4j-liquibase/index.html</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1670871570,"post_id":74774804,"comment_id":131969051,"body_markdown":"Do you mean to add ?\n``` \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-liquibase&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n```","body":"Do you mean to add ? ```  &lt;dependency&gt;     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;     &lt;artifactId&gt;log4j-liquibase&lt;/artifactId&gt;     &lt;version&gt;2.19.0&lt;/version&gt; &lt;/dependency&gt; ```"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1670872124,"post_id":74774804,"comment_id":131969210,"body_markdown":"@xerx593 unfortunately adding depdency didn&#39;t help","body":"@xerx593 unfortunately adding depdency didn&#39;t help"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1670873958,"post_id":74774804,"comment_id":131969676,"body_markdown":"Your &quot;Update 3&quot; indicates that the version of `log4j-core` you are using is newer than the version of `log4j-api`. Spring Boot starters use the `log4j2.version` to manage Log4j2 dependencies. Just set the property to `2.19.0` in your POM and remove the explicit versions.","body":"Your &quot;Update 3&quot; indicates that the version of <code>log4j-core</code> you are using is newer than the version of <code>log4j-api</code>. Spring Boot starters use the <code>log4j2.version</code> to manage Log4j2 dependencies. Just set the property to <code>2.19.0</code> in your POM and remove the explicit versions."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670875867,"post_id":74774804,"comment_id":131970214,"body_markdown":"It seems to come down to the question: &quot;how to spring-boot, liquibase with log4j?&quot; ...","body":"It seems to come down to the question: &quot;how to spring-boot, liquibase with log4j?&quot; ..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670875935,"post_id":74774804,"comment_id":131970242,"body_markdown":"but one last &quot;gutshot&quot;: please revert the logback exclusion and try: rename file to `log4j2-spring.xml` (hoping to sneak around the original problem)","body":"but one last &quot;gutshot&quot;: please revert the logback exclusion and try: rename file to <code>log4j2-spring.xml</code> (hoping to sneak around the original problem)"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670870995,"creation_date":1670865185,"question_id":74774804,"body_markdown":"I have simple spring boot application:\r\n\r\n\r\n**log4j2.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- Extra logging related to initialization of Log4j.\r\n     Set to debug or trace if log4j initialization is failing. --&gt;\r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;!-- Console appender configuration --&gt;\r\n            &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout\r\n                        pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;!-- Root logger referring to console appender --&gt;\r\n            &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\npom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.6&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n     ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-slf4j-impl.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen I start the application I see the following error:\r\n\r\n    Logging system failed to initialize using configuration from &#39;classpath:log4j2.xml&#39;\r\n    java.lang.IllegalStateException: Logback configuration error detected: \r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@3:17 - no applicable action for [Properties], current ElementPath  is [[Configuration][Properties]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:42 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@14:50 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@22:56 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@23:44 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@24:49 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@25:46 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@26:50 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@27:43 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@28:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@29:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@30:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@31:38 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@32:39 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@34:16 - no applicable action for [Appenders], current ElementPath  is [[Configuration][Appenders]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@35:52 - no applicable action for [Console], current ElementPath  is [[Configuration][Appenders][Console]]\r\n    ...\r\n\r\nLooks like spring-boot try to parse `log4j2` configuration like logback config file.\r\n\r\nHow can I fix it ?\r\n\r\nUpdate 1\r\n-\r\n\r\nIn effective pom I see following logback related sections:\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n          &lt;version&gt;7.2&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-logback&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.13&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;simpleclient_logback&lt;/artifactId&gt;\r\n            &lt;version&gt;0.15.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n          &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n          &lt;version&gt;7.2&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nrelated `ch.qos.logback` depdendency:tree result:\r\n\r\n    [INFO] +- org.liquibase:liquibase-core:jar:3.8.9:compile\r\n    [INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n    [INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] |  \\- ch.qos.logback:logback-classic:jar:1.2.11:compile\r\n    [INFO] |     \\- ch.qos.logback:logback-core:jar:1.2.11:compile\r\n\r\nUpdate 2:\r\n-\r\n\r\nI&#39;ve corrected depdency like this:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nBut I still see the initial error but depdendency:tree doesn&#39;t return any logback-classic\r\n\r\nUpdate 3:\r\n-\r\n\r\n\r\nAfter project update in intellij I see another error:\r\n\r\n\r\n    ERROR StatusLogger Unable to create Lookup for ctx\r\n     java.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\r\n\r\n","title":"Spring boot considers log4j2.xml as logback config file","body":"<p>I have simple spring boot application:</p>\n<p><strong>log4j2.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Extra logging related to initialization of Log4j.\n Set to debug or trace if log4j initialization is failing. --&gt;\n&lt;Configuration status=&quot;warn&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Console appender configuration --&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Root logger referring to console appender --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.6&lt;/version&gt;\n&lt;/parent&gt;\n ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    ...\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;${log4j-slf4j-impl.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n        &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I start the application I see the following error:</p>\n<pre><code>Logging system failed to initialize using configuration from 'classpath:log4j2.xml'\njava.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.spi.Interpreter@3:17 - no applicable action for [Properties], current ElementPath  is [[Configuration][Properties]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@4:42 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@14:50 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@22:56 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@23:44 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@24:49 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@25:46 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@26:50 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@27:43 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@28:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@29:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@30:34 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@31:38 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@32:39 - no applicable action for [Property], current ElementPath  is [[Configuration][Properties][Property]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@34:16 - no applicable action for [Appenders], current ElementPath  is [[Configuration][Appenders]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@35:52 - no applicable action for [Console], current ElementPath  is [[Configuration][Appenders][Console]]\n...\n</code></pre>\n<p>Looks like spring-boot try to parse <code>log4j2</code> configuration like logback config file.</p>\n<p>How can I fix it ?</p>\n<h2>Update 1</h2>\n<p>In effective pom I see following logback related sections:</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n        &lt;version&gt;1.2.11&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.11&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;version&gt;1.2.11&lt;/version&gt;\n      &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n      &lt;version&gt;7.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n        &lt;artifactId&gt;metrics-logback&lt;/artifactId&gt;\n        &lt;version&gt;4.2.13&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n        &lt;artifactId&gt;simpleclient_logback&lt;/artifactId&gt;\n        &lt;version&gt;0.15.0&lt;/version&gt;\n      &lt;/dependency&gt;\n        &lt;dependency&gt;\n      &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n      &lt;version&gt;7.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>related <code>ch.qos.logback</code> depdendency:tree result:</p>\n<pre><code>[INFO] +- org.liquibase:liquibase-core:jar:3.8.9:compile\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  \\- ch.qos.logback:logback-classic:jar:1.2.11:compile\n[INFO] |     \\- ch.qos.logback:logback-core:jar:1.2.11:compile\n</code></pre>\n<h2>Update 2:</h2>\n<p>I've corrected depdency like this:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But I still see the initial error but depdendency:tree doesn't return any logback-classic</p>\n<h2>Update 3:</h2>\n<p>After project update in intellij I see another error:</p>\n<pre><code>ERROR StatusLogger Unable to create Lookup for ctx\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\n</code></pre>\n"},{"tags":["java","android","android-studio","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1670865136,"post_id":74774568,"comment_id":131966947,"body_markdown":"&quot;In java you could simply put the file in the project and do this&quot; -- it is unclear what you mean by &quot;put the file in the project&quot;. Your code reads a file from the filesystem of the computer running the code, and that might not be the computer that has the project.","body":"&quot;In java you could simply put the file in the project and do this&quot; -- it is unclear what you mean by &quot;put the file in the project&quot;. Your code reads a file from the filesystem of the computer running the code, and that might not be the computer that has the project."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1670865191,"post_id":74774568,"comment_id":131966959,"body_markdown":"&quot;How to put a .dat file in android studio&quot; -- what do you mean by this? Do you mean that you wish to ship this `.dat` file as part of your app and be able to read in its contents on an Android phone? If so, put it in an `assets/` directory that is peer of `res/` and `src/` in your module, and use `getAssets().open(relativePath)` on a `Context` to get an `InputStream` on the content. `relativePath` is the path to your asset within `assets/`.","body":"&quot;How to put a .dat file in android studio&quot; -- what do you mean by this? Do you mean that you wish to ship this <code>.dat</code> file as part of your app and be able to read in its contents on an Android phone? If so, put it in an <code>assets&#47;</code> directory that is peer of <code>res&#47;</code> and <code>src&#47;</code> in your module, and use <code>getAssets().open(relativePath)</code> on a <code>Context</code> to get an <code>InputStream</code> on the content. <code>relativePath</code> is the path to your asset within <code>assets&#47;</code>."},{"owner":{"account_id":22104790,"reputation":1,"user_id":16360672,"display_name":"Osama Abkar"},"score":0,"creation_date":1670866428,"post_id":74774568,"comment_id":131967364,"body_markdown":"@CommonsWare I mean in java you could add the file within the project so you could use it on any device, i.e if the file is &quot;data.dat&quot; in java I could put the file in the project root and write this line        ` try (ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;data.dat&#39;)))`","body":"@CommonsWare I mean in java you could add the file within the project so you could use it on any device, i.e if the file is &quot;data.dat&quot; in java I could put the file in the project root and write this line        ` try (ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;data.dat&#39;)))`"}],"owner":{"account_id":22104790,"reputation":1,"user_id":16360672,"display_name":"Osama Abkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670870851,"creation_date":1670864036,"question_id":74774568,"body_markdown":"in java you could add the file within the project so you could use it on any device, i.e if the file is &quot;data.dat&quot; in java I could put the file in the project root and write this line \r\n```\r\ntry (ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;data.dat&#39;)))\r\n```\r\nunfortunately I couldn&#39;t do this in android studio can someone please explain  \r\n\r\nin Android Studio it always gives me FileNotFoundException, I even tried using the absolute path but it didn&#39;t work, any Idea on how to do it?\r\n","title":"add files to root and access it within Android Studio Project","body":"<p>in java you could add the file within the project so you could use it on any device, i.e if the file is &quot;data.dat&quot; in java I could put the file in the project root and write this line</p>\n<pre><code>try (ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;data.dat')))\n</code></pre>\n<p>unfortunately I couldn't do this in android studio can someone please explain</p>\n<p>in Android Studio it always gives me FileNotFoundException, I even tried using the absolute path but it didn't work, any Idea on how to do it?</p>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"owner":{"account_id":6661932,"reputation":3905,"user_id":5140756,"accept_rate":16,"display_name":"Augusto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670870825,"creation_date":1670870825,"question_id":74775914,"body_markdown":"The Sonar Qube has reported some bugs in Overall Code on the long-live branches (main, release...). So, I fixed those issues then I created a Pull Request to a long-live branch. The Sonar Qube has analyzed my new PR and is not showing any report regarding the bug issues, neither on the old code nor on my new fixes. The report shows **0 Bugs new Bugs**. How to know if my changes have fixed the bugs?\r\n\r\nI know that the PR analysis shows only stuff regarding the new code. But I&#39;d like to know if my changes have been effective. ","title":"How to check if the pull request changes have fixed a bug on SonarQube?","body":"<p>The Sonar Qube has reported some bugs in Overall Code on the long-live branches (main, release...). So, I fixed those issues then I created a Pull Request to a long-live branch. The Sonar Qube has analyzed my new PR and is not showing any report regarding the bug issues, neither on the old code nor on my new fixes. The report shows <strong>0 Bugs new Bugs</strong>. How to know if my changes have fixed the bugs?</p>\n<p>I know that the PR analysis shows only stuff regarding the new code. But I'd like to know if my changes have been effective.</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1670858076,"post_id":74773038,"comment_id":131964289,"body_markdown":"It&#39;s kind of strange to have 2 different enums for the same object, can&#39;t they be merged? Or maybe is wrapping them in a typed object a acceptable workaround (since it won&#39;t rely on genericity then)","body":"It&#39;s kind of strange to have 2 different enums for the same object, can&#39;t they be merged? Or maybe is wrapping them in a typed object a acceptable workaround (since it won&#39;t rely on genericity then)"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1670858181,"post_id":74773038,"comment_id":131964335,"body_markdown":"They have some values in common, but essentially have different lists of valid values.  Other than that, the objects are the same.   I&#39;ll have to think about wrapping in a typed object.  That might work.","body":"They have some values in common, but essentially have different lists of valid values.  Other than that, the objects are the same.   I&#39;ll have to think about wrapping in a typed object.  That might work."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1670858620,"post_id":74773038,"comment_id":131964546,"body_markdown":"If you need polymorphism with standard classes, you can use  annotations that&#39;s add class name in a custom property: `@JsonTypeInfo` + `@JsonSubTypes`","body":"If you need polymorphism with standard classes, you can use  annotations that&#39;s add class name in a custom property: <code>@JsonTypeInfo</code> + <code>@JsonSubTypes</code>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1670858932,"post_id":74773038,"comment_id":131964679,"body_markdown":"Do you have control over the classes/enums? Can you change them at all?","body":"Do you have control over the classes/enums? Can you change them at all?"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670870129,"creation_date":1670860896,"answer_id":74773894,"question_id":74773038,"body_markdown":"The question is missing some context about how the enum field is used, but assuming you can alter the classes/enums, one solution could be to use an interface that both `MyEnum1` and `MyEnum2` implement. Like this:\r\n\r\n```java\r\npublic interface MyEnumType {\r\n}\r\n\r\npublic enum MyEnum1 implements MyEnumType {\r\n}\r\n\r\npublic enum MyEnum2 implements MyEnumType {\r\n}\r\n\r\npublic class MyObject {\r\n\r\n\tprivate MyEnumType myEnum;\r\n}\r\n```\r\n\r\nWith that basic structure, we can use Jackson&#39;s `@JsonTypeInfo` and `@JsonSubStypes` annotations to achieve polymorphism in serialization/deserialization. Here&#39;s the annotated interface:\r\n\r\n```java\r\n@JsonTypeInfo(use = Id.NAME)\r\n@JsonSubTypes({ @Type(MyEnum1.class), @Type(MyEnum2.class) })\r\npublic interface MyEnumType {\r\n}\r\n```\r\n\r\nHere is how I test that it&#39;s working:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MyObject {\r\n\r\n\t@JsonProperty\r\n\tprivate MyEnumType myEnum;\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Enum value is &quot; + myEnum;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws JsonProcessingException {\r\n\t\tObjectMapper jsonMapper = new ObjectMapper();\r\n\r\n\t\tMyObject original = new MyObject(MyEnum1.Blue);\r\n\t\t//MyObject original = new MyObject(MyEnum2.Triangle);\r\n\t\tString json = jsonMapper.writeValueAsString(original);\r\n\r\n\t\tMyObject result = jsonMapper.readValue(json, MyObject.class);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n}\r\n```\r\n\r\n**Important note: this solution assumes that you can control the JSON format _and_ both serialization and deserialization.**\r\n\r\nIf you can not alter the JSON format or control the serialization side, you can instead use `@JsonCreator` to write a factory method that converts from the string JSON value to a matching instance of `MyEnumType`. For example, something like this:\r\n\r\n```java\r\npublic interface MyEnumType {\r\n\r\n\t@JsonCreator\r\n\tpublic static MyEnumType deserailize(String value) {\r\n\t\tMyEnumType result = null;\r\n\r\n\t\ttry {\r\n\t\t\tresult = MyEnum1.valueOf(value);\r\n\t\t} catch (IllegalArgumentException ex) {}\r\n\r\n\t\tif (result == null) {\r\n\t\t\ttry {\r\n\t\t\t\tresult = MyEnum2.valueOf(value);\r\n\t\t\t} catch (IllegalArgumentException ex) {}\r\n\t\t}\r\n\r\n\t\tif (result == null) {\r\n\t\t\tthrow new IllegalArgumentException(value + &quot; does not match any known enum.&quot;);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\nThis is a somewhat naive implementation; if you have more enum types you probably would want to make the implementation a little cleaner than just repeating the same `try...catch` again and again. But this should give a good starting point.","title":"Deserialize to dynamic enum with Jackson","body":"<p>The question is missing some context about how the enum field is used, but assuming you can alter the classes/enums, one solution could be to use an interface that both <code>MyEnum1</code> and <code>MyEnum2</code> implement. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEnumType {\n}\n\npublic enum MyEnum1 implements MyEnumType {\n}\n\npublic enum MyEnum2 implements MyEnumType {\n}\n\npublic class MyObject {\n\n    private MyEnumType myEnum;\n}\n</code></pre>\n<p>With that basic structure, we can use Jackson's <code>@JsonTypeInfo</code> and <code>@JsonSubStypes</code> annotations to achieve polymorphism in serialization/deserialization. Here's the annotated interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = Id.NAME)\n@JsonSubTypes({ @Type(MyEnum1.class), @Type(MyEnum2.class) })\npublic interface MyEnumType {\n}\n</code></pre>\n<p>Here is how I test that it's working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\n\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MyObject {\n\n    @JsonProperty\n    private MyEnumType myEnum;\n\n    @Override\n    public String toString() {\n        return &quot;Enum value is &quot; + myEnum;\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper jsonMapper = new ObjectMapper();\n\n        MyObject original = new MyObject(MyEnum1.Blue);\n        //MyObject original = new MyObject(MyEnum2.Triangle);\n        String json = jsonMapper.writeValueAsString(original);\n\n        MyObject result = jsonMapper.readValue(json, MyObject.class);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Important note: this solution assumes that you can control the JSON format <em>and</em> both serialization and deserialization.</strong></p>\n<p>If you can not alter the JSON format or control the serialization side, you can instead use <code>@JsonCreator</code> to write a factory method that converts from the string JSON value to a matching instance of <code>MyEnumType</code>. For example, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEnumType {\n\n    @JsonCreator\n    public static MyEnumType deserailize(String value) {\n        MyEnumType result = null;\n\n        try {\n            result = MyEnum1.valueOf(value);\n        } catch (IllegalArgumentException ex) {}\n\n        if (result == null) {\n            try {\n                result = MyEnum2.valueOf(value);\n            } catch (IllegalArgumentException ex) {}\n        }\n\n        if (result == null) {\n            throw new IllegalArgumentException(value + &quot; does not match any known enum.&quot;);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>This is a somewhat naive implementation; if you have more enum types you probably would want to make the implementation a little cleaner than just repeating the same <code>try...catch</code> again and again. But this should give a good starting point.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74773894,"answer_count":1,"score":0,"last_activity_date":1670870129,"creation_date":1670857147,"question_id":74773038,"body_markdown":"I have a Pojo that looks something like this\r\n\r\n```\r\npublic class MyObject {\r\nprivate MyEnum enum\r\n}\r\n```\r\nAnd it works fine for de-serializing a Json object where the string value of &#39;enum&#39; (in the Json) is a valud enum object.\r\n\r\nNow, I have a new requirement that requires the enum to be determined dynamically.  In other words, I have 2 types of MyObjects.  They each use a different set of enum values.  So I now have 2 enums, `MyEnum1` and `MyEnum2`.  When I read in a Json object, I know which type it is. Since an Enum class can&#39;t really be instantiated, I don&#39;t think I can use a factory method to determine which one to use.  But not sure how to handle the de-serialization.  I thought of using a generic, such as\r\n\r\n```\r\npublic class MyObject&lt;T&gt; {\r\nprivate T enum\r\n}\r\n```\r\n\r\nBut that doesn&#39;t really work since generics can&#39;t be specified at runtime. \r\n\r\nIs there some other solution?","title":"Deserialize to dynamic enum with Jackson","body":"<p>I have a Pojo that looks something like this</p>\n<pre><code>public class MyObject {\nprivate MyEnum enum\n}\n</code></pre>\n<p>And it works fine for de-serializing a Json object where the string value of 'enum' (in the Json) is a valud enum object.</p>\n<p>Now, I have a new requirement that requires the enum to be determined dynamically.  In other words, I have 2 types of MyObjects.  They each use a different set of enum values.  So I now have 2 enums, <code>MyEnum1</code> and <code>MyEnum2</code>.  When I read in a Json object, I know which type it is. Since an Enum class can't really be instantiated, I don't think I can use a factory method to determine which one to use.  But not sure how to handle the de-serialization.  I thought of using a generic, such as</p>\n<pre><code>public class MyObject&lt;T&gt; {\nprivate T enum\n}\n</code></pre>\n<p>But that doesn't really work since generics can't be specified at runtime.</p>\n<p>Is there some other solution?</p>\n"},{"tags":["java","android","android-intent","webview"],"answers":[{"tags":[],"owner":{"account_id":3325738,"reputation":519,"user_id":2795864,"display_name":"cgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670858395,"creation_date":1670858395,"answer_id":74773346,"question_id":74773222,"body_markdown":"I think you should declare an intent-filter on your AndroidManifest.xml, something like that:\r\n\r\n    &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data\r\n                    android:host=&quot;tcg-wallet.ga&quot;\r\n                    android:scheme=&quot;https&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\nInside the Activity you want to manage the url","title":"share a link by whatsapp that opens a specific application instead of browser","body":"<p>I think you should declare an intent-filter on your AndroidManifest.xml, something like that:</p>\n<pre><code>&lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n            &lt;data\n                android:host=&quot;tcg-wallet.ga&quot;\n                android:scheme=&quot;https&quot; /&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n<p>Inside the Activity you want to manage the url</p>\n"},{"tags":[],"owner":{"display_name":"user10771503"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670869909,"creation_date":1670869909,"answer_id":74775760,"question_id":74773222,"body_markdown":"After a while of research I have found what I needed to implement certainly:\r\n\r\n1. Edit **AndroidManifest.xml:**\r\nyou must include new `intent-filters`, place them after the filter that brings the application by default, like this:\r\n\r\n```xml\r\n             &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:scheme=&quot;https&quot;\r\n                    android:host=&quot;tcg-wallet.ga&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:scheme=&quot;app&quot;\r\n                    android:host=&quot;com.icarosnet.tcgwallet&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n2. then you must make sure in your `MainActivity.java` to evaluate if you are receiving the intent:\r\n\r\n```java\r\n        Uri url_shared = getIntent().getData();\r\n\r\n        if(url_shared != null){\r\n            Url = url_shared.toString();\r\n        }\r\n```\r\n\r\nonce the url variable has been processed it will contain the full web address.\r\n\r\n3. At this point we have already done the main part of the development or integration of the intent reading, but even so the application will not open automatically: for this we will need to enable the validation of the intent host:\r\n\r\n4. our intent-filter must contain the self-verification instruction  `android:autoVerify=&quot;true&quot;` and on our website we must have a digital signature resource json file that links to the application: \r\n\r\n`https://your-host-domain/.well-know/assetlinks.json` \\\r\nor \\\r\n`http://your-host-domain/.well-know/assetlinks.json`\r\n\r\nwith json content like:\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;package_namespace&quot;,\r\n      &quot;package_name&quot;: &quot;com.package_name.myapp&quot;,\r\n      &quot;sha256_cert_fingerprints&quot;: [\r\n       &quot;14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5&quot;\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nRelationed documentation:\r\n[Link-1][1] and [Link-2][2]\r\n\r\n\r\n  [1]: https://developer.android.com/training/app-links/verify-android-applinks\r\n  [2]: https://developers.google.com/digital-asset-links/v1/getting-started?utm_source=developer.android.com&amp;utm_medium=referral","title":"share a link by whatsapp that opens a specific application instead of browser","body":"<p>After a while of research I have found what I needed to implement certainly:</p>\n<ol>\n<li>Edit <strong>AndroidManifest.xml:</strong>\nyou must include new <code>intent-filters</code>, place them after the filter that brings the application by default, like this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>             &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data\n                    android:scheme=&quot;https&quot;\n                    android:host=&quot;tcg-wallet.ga&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data\n                    android:scheme=&quot;app&quot;\n                    android:host=&quot;com.icarosnet.tcgwallet&quot; /&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<ol start=\"2\">\n<li>then you must make sure in your <code>MainActivity.java</code> to evaluate if you are receiving the intent:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        Uri url_shared = getIntent().getData();\n\n        if(url_shared != null){\n            Url = url_shared.toString();\n        }\n</code></pre>\n<p>once the url variable has been processed it will contain the full web address.</p>\n<ol start=\"3\">\n<li><p>At this point we have already done the main part of the development or integration of the intent reading, but even so the application will not open automatically: for this we will need to enable the validation of the intent host:</p>\n</li>\n<li><p>our intent-filter must contain the self-verification instruction  <code>android:autoVerify=&quot;true&quot;</code> and on our website we must have a digital signature resource json file that links to the application:</p>\n</li>\n</ol>\n<p><code>https://your-host-domain/.well-know/assetlinks.json</code> <br />\nor <br />\n<code>http://your-host-domain/.well-know/assetlinks.json</code></p>\n<p>with json content like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;package_namespace&quot;,\n      &quot;package_name&quot;: &quot;com.package_name.myapp&quot;,\n      &quot;sha256_cert_fingerprints&quot;: [\n       &quot;14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5&quot;\n      ]\n    }\n  }\n]\n</code></pre>\n<p>Relationed documentation:\n<a href=\"https://developer.android.com/training/app-links/verify-android-applinks\" rel=\"nofollow noreferrer\">Link-1</a> and <a href=\"https://developers.google.com/digital-asset-links/v1/getting-started?utm_source=developer.android.com&amp;utm_medium=referral\" rel=\"nofollow noreferrer\">Link-2</a></p>\n"}],"owner":{"display_name":"user10771503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670869909,"creation_date":1670857882,"question_id":74773222,"body_markdown":"I have an app programmed in java for android with a range of devices from sdk 23 to 33.\r\n\r\nThis app only incorporates a webview where I load my web page/app https://tcg-wallet.ga\r\n\r\na brief explanation of what the site does: it does web scraping to obtain TCG card price data and everything is referenced to a search url volatile.\r\n\r\nInside the website I have added an html button with the intention of opening the share dialog using javascript:\r\n\r\n\r\n```\r\n\r\nconst shareData = {\r\n    title: &#39;Search Price&#39;,\r\n    text: &#39;Search Card by: &quot;&#39; + document.getElementById(&#39;search&#39;).value + &#39;&quot;&#39;,\r\n    url: document.URL\r\n}\r\n\r\nconst btn = document.getElementById(&#39;share-url&#39;);\r\n\r\nif (typeof btn !== &#39;undefined&#39;) {\r\n    btn.addEventListener(&#39;click&#39;, async () =&gt; {\r\n        try {\r\n            console.log(window.AndroidShareHandler);\r\n            if (typeof (window.AndroidShareHandler) != &#39;undefined&#39;) {\r\n                window.AndroidShareHandler.shareSearch(JSON.stringify(shareData));\r\n            } else {\r\n                alert(&#39;shared Working&#39;);\r\n                await navigator.share(shareData);\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n            alert(&#39;[Error]: Error on share link!&#39;);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nand i received it on the app on android via:\r\n\r\n\r\n```\r\nwebview.addJavascriptInterface(new JavaScriptShareInterface(context),&quot;AndroidShareHandler&quot;);\r\n```\r\n\r\nI successfully tried to share this data like this to other apps:\r\n\r\n\r\n```\r\n@JavascriptInterface\r\npublic void shareSearch(String javascript_data) {\r\n    try {\r\n\r\n        JSONObject search = new JSONObject(javascript_data);\r\n        String title = search.getString(&quot;title&quot;);\r\n        String text = search.getString(&quot;text&quot;);\r\n        String url = search.getString(&quot;url&quot;);\r\n        String content = title+&quot;\\n&quot;+text+&quot;\\n\\n&quot;+url;\r\n\r\n        Intent sendIntent = new Intent(Intent.ACTION_SEND);\r\n        sendIntent.setType(&quot;text/plain&quot;);\r\n        sendIntent.putExtra(Intent.EXTRA_TEXT, content);\r\n        app_context.startActivity(Intent.createChooser(sendIntent, content));\r\n\r\n    } catch (Exception ex) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nbut the result is not as desired (the problem)\r\n\r\nWhen I share the information, for example through WhatsApp, the message must be sent as plain text and by including a url like this (https://tcg-wallet.ga/home?search=MP21-EN056&amp;event=search) if they click on it link, it opens automatically in the android web browser and not in my application.\r\n\r\nQuestion: How can I register in the android operating system or configuration that when trying to open the url my application opens and that I pass the url arguments to it.\r\n\r\n\r\nupdate it is my `intent-filter`:\r\n\r\n```xml\r\n&lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\r\n&lt;/intent-filter&gt;\r\n```","title":"share a link by whatsapp that opens a specific application instead of browser","body":"<p>I have an app programmed in java for android with a range of devices from sdk 23 to 33.</p>\n<p>This app only incorporates a webview where I load my web page/app <a href=\"https://tcg-wallet.ga\" rel=\"nofollow noreferrer\">https://tcg-wallet.ga</a></p>\n<p>a brief explanation of what the site does: it does web scraping to obtain TCG card price data and everything is referenced to a search url volatile.</p>\n<p>Inside the website I have added an html button with the intention of opening the share dialog using javascript:</p>\n<pre><code>\nconst shareData = {\n    title: 'Search Price',\n    text: 'Search Card by: &quot;' + document.getElementById('search').value + '&quot;',\n    url: document.URL\n}\n\nconst btn = document.getElementById('share-url');\n\nif (typeof btn !== 'undefined') {\n    btn.addEventListener('click', async () =&gt; {\n        try {\n            console.log(window.AndroidShareHandler);\n            if (typeof (window.AndroidShareHandler) != 'undefined') {\n                window.AndroidShareHandler.shareSearch(JSON.stringify(shareData));\n            } else {\n                alert('shared Working');\n                await navigator.share(shareData);\n            }\n        } catch (err) {\n            console.log(err);\n            alert('[Error]: Error on share link!');\n        }\n    });\n}\n</code></pre>\n<p>and i received it on the app on android via:</p>\n<pre><code>webview.addJavascriptInterface(new JavaScriptShareInterface(context),&quot;AndroidShareHandler&quot;);\n</code></pre>\n<p>I successfully tried to share this data like this to other apps:</p>\n<pre><code>@JavascriptInterface\npublic void shareSearch(String javascript_data) {\n    try {\n\n        JSONObject search = new JSONObject(javascript_data);\n        String title = search.getString(&quot;title&quot;);\n        String text = search.getString(&quot;text&quot;);\n        String url = search.getString(&quot;url&quot;);\n        String content = title+&quot;\\n&quot;+text+&quot;\\n\\n&quot;+url;\n\n        Intent sendIntent = new Intent(Intent.ACTION_SEND);\n        sendIntent.setType(&quot;text/plain&quot;);\n        sendIntent.putExtra(Intent.EXTRA_TEXT, content);\n        app_context.startActivity(Intent.createChooser(sendIntent, content));\n\n    } catch (Exception ex) {\n\n    }\n}\n</code></pre>\n<p>but the result is not as desired (the problem)</p>\n<p>When I share the information, for example through WhatsApp, the message must be sent as plain text and by including a url like this (<a href=\"https://tcg-wallet.ga/home?search=MP21-EN056&amp;event=search\" rel=\"nofollow noreferrer\">https://tcg-wallet.ga/home?search=MP21-EN056&amp;event=search</a>) if they click on it link, it opens automatically in the android web browser and not in my application.</p>\n<p>Question: How can I register in the android operating system or configuration that when trying to open the url my application opens and that I pass the url arguments to it.</p>\n<p>update it is my <code>intent-filter</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n\n&lt;/intent-filter&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","transactions"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670869483,"creation_date":1670869483,"answer_id":74775676,"question_id":74775394,"body_markdown":"Yes. Your transaction will be valid. By default `@Transactional` have **REQUIRED Propagation**\r\n\r\n&gt;REQUIRED is the default propagation. Spring checks if there is an active transaction, and if nothing exists, it creates a new one. Otherwise, the business logic appends to the currently active transaction\r\n\r\nSo when you call `methodOne` it has already `@Transactional`. So it will start the transaction and `methodTwo` will continue using that transaction.\r\n\r\nMore info at [Transaction Propagation and Isolation in Spring @Transactional](https://www.baeldung.com/spring-transactional-propagation-isolation)","title":"spring boot java one call but has two times @Transactional can get error when executed insert data in the database","body":"<p>Yes. Your transaction will be valid. By default <code>@Transactional</code> have <strong>REQUIRED Propagation</strong></p>\n<blockquote>\n<p>REQUIRED is the default propagation. Spring checks if there is an active transaction, and if nothing exists, it creates a new one. Otherwise, the business logic appends to the currently active transaction</p>\n</blockquote>\n<p>So when you call <code>methodOne</code> it has already <code>@Transactional</code>. So it will start the transaction and <code>methodTwo</code> will continue using that transaction.</p>\n<p>More info at <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">Transaction Propagation and Isolation in Spring @Transactional</a></p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670869483,"creation_date":1670867969,"question_id":74775394,"body_markdown":"Can someone please clarify whether the transaction can stall when writing data to the database when I have the following case:\r\n```\r\n  @Transactional\r\n  public void methodOne(List&lt;Long&gt; ids) {\r\n        this.methodTwo(ids);\r\n    }\r\n\r\n    @Transactional\r\n    public void methodTwo(List&lt;Long&gt; ids) {\r\n        testRepository.deleteData(ids);\r\n        testRepository.insertData(ids);;\r\n    }\r\n```","title":"spring boot java one call but has two times @Transactional can get error when executed insert data in the database","body":"<p>Can someone please clarify whether the transaction can stall when writing data to the database when I have the following case:</p>\n<pre><code>  @Transactional\n  public void methodOne(List&lt;Long&gt; ids) {\n        this.methodTwo(ids);\n    }\n\n    @Transactional\n    public void methodTwo(List&lt;Long&gt; ids) {\n        testRepository.deleteData(ids);\n        testRepository.insertData(ids);;\n    }\n</code></pre>\n"},{"tags":["java","authentication","quarkus","password-hash"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1670888728,"post_id":74775651,"comment_id":131973544,"body_markdown":"check https://stackoverflow.com/a/33085670/175554 and below answer too","body":"check <a href=\"https://stackoverflow.com/a/33085670/175554\">stackoverflow.com/a/33085670/175554</a> and below answer too"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670869369,"creation_date":1670869369,"question_id":74775651,"body_markdown":"I currently have a Quarkus project and implemented JWT authentication wit smallrye. I have a simple login API endpoint, but currently the password is stored in plain text as i do not have any hashing. I know there are a lot of complicated framework things with configuration files etc., but is there a simple component or class that is provided by the framework i can use to hash the password to store/check it with the database? I just want to have a class i can call to hash a password for a specific algorithm. Here is the code for the API endpoint:\r\n\r\n    @POST\r\n    @Path(&quot;/login&quot;)\r\n    @PermitAll\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public TokenResponse login(@Valid LoginRequest request) {\r\n        // Hash the password in request.getPassword() first here?\r\n        User user = userRepository.getByEmailAndPassword(request.getEmail(), request.getPassword());\r\n        if (user == null) throw new NotFoundException();\r\n        String jwt = jwtGenerator.generateTokenFor(user);\r\n        return tokenResponseBuilder.buildTokenResponseFor(user, jwt);\r\n    }\r\n\r\nIf there is not anything provided by default, can anyone recommend one to use here? I am not sure how to go about this, as with Spring Boot there was seemingly always a straightforward way to do this.","title":"Does Quarkus provide a simple password hashing component?","body":"<p>I currently have a Quarkus project and implemented JWT authentication wit smallrye. I have a simple login API endpoint, but currently the password is stored in plain text as i do not have any hashing. I know there are a lot of complicated framework things with configuration files etc., but is there a simple component or class that is provided by the framework i can use to hash the password to store/check it with the database? I just want to have a class i can call to hash a password for a specific algorithm. Here is the code for the API endpoint:</p>\n<pre><code>@POST\n@Path(&quot;/login&quot;)\n@PermitAll\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic TokenResponse login(@Valid LoginRequest request) {\n    // Hash the password in request.getPassword() first here?\n    User user = userRepository.getByEmailAndPassword(request.getEmail(), request.getPassword());\n    if (user == null) throw new NotFoundException();\n    String jwt = jwtGenerator.generateTokenFor(user);\n    return tokenResponseBuilder.buildTokenResponseFor(user, jwt);\n}\n</code></pre>\n<p>If there is not anything provided by default, can anyone recommend one to use here? I am not sure how to go about this, as with Spring Boot there was seemingly always a straightforward way to do this.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"owner":{"account_id":15068247,"reputation":23,"user_id":10874634,"display_name":"Habi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670869197,"creation_date":1670869197,"question_id":74775619,"body_markdown":"my App should model a statemachine.\r\nFor this I have the Entities Statemachine and State. A statemachine may have many States. A state belongs to only statemachine.\r\n\r\nI established a bidirectional relation by adding  a @ManyToOne Annotation in class State\r\nand a @OneToMany Annotation in class Statemachine.\r\n\r\nBoth classes have Id with\r\n\r\n    @Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long id;\r\n\r\nIn class Statemachine I have Method addState(State aState)\r\nWithin this method I make sure that the reference to the Statemachine in the State Object is set.\r\n\r\n\tpublic void addState(State aState) {\r\n\t\taState.setStatemachineid(this.getId());\r\n\t\tstates.add(aState);\r\n\t}\r\n\r\nThis works fine, as long as the statemachine has been saved before and a valid id is present,\r\nbut something like this would not work.\r\n\r\n\t@Test\r\n\tvoid addStateToStatemachineTest() {\r\n\r\n\t\tStateMachine sm = new StateMachine();\r\n\t\t\r\n\t\tsm.addState(new State(&quot;StartState&quot;, &quot;This is the Start State of the Machine&quot; ));\t\t\r\n\r\n\t\tsmRepo.save(sm);\r\n\t\t\r\n\t}\r\n\r\nI assume that there is a common pattern for this problem.\r\n\r\n\r\n\r\n\r\n","title":"How to enable referential integrity of many to one relationship before persistence","body":"<p>my App should model a statemachine.\nFor this I have the Entities Statemachine and State. A statemachine may have many States. A state belongs to only statemachine.</p>\n<p>I established a bidirectional relation by adding  a @ManyToOne Annotation in class State\nand a @OneToMany Annotation in class Statemachine.</p>\n<p>Both classes have Id with</p>\n<pre><code>@Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n</code></pre>\n<p>In class Statemachine I have Method addState(State aState)\nWithin this method I make sure that the reference to the Statemachine in the State Object is set.</p>\n<pre><code>public void addState(State aState) {\n    aState.setStatemachineid(this.getId());\n    states.add(aState);\n}\n</code></pre>\n<p>This works fine, as long as the statemachine has been saved before and a valid id is present,\nbut something like this would not work.</p>\n<pre><code>@Test\nvoid addStateToStatemachineTest() {\n\n    StateMachine sm = new StateMachine();\n    \n    sm.addState(new State(&quot;StartState&quot;, &quot;This is the Start State of the Machine&quot; ));        \n\n    smRepo.save(sm);\n    \n}\n</code></pre>\n<p>I assume that there is a common pattern for this problem.</p>\n"},{"tags":["java","spring","rest","jwt"],"comments":[{"owner":{"account_id":7077774,"reputation":878,"user_id":5417130,"accept_rate":38,"display_name":"MatMat"},"score":0,"creation_date":1507898361,"post_id":46729203,"comment_id":80406288,"body_markdown":"Would be awesome with some code examples :)","body":"Would be awesome with some code examples :)"}],"answers":[{"tags":[],"owner":{"account_id":8436588,"reputation":298,"user_id":6330587,"display_name":"paddy_89"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507997502,"creation_date":1507997502,"answer_id":46746620,"question_id":46729203,"body_markdown":"Basically your token should be located in the header of the request, like for example: Authorization: Bearer &lt;token&gt;. For getting it you can retrieve any header value by @RequestHeader(&lt;HEADER-NAME&gt;) in your controller:\r\n\r\n    @GetMapping(&quot;/someMapping&quot;)\r\n\tpublic String someMethod(@RequestHeader(&quot;Authorization&quot;) String token) {\r\n\r\n\t}\r\n\r\nNow you can place the token within the header for the following request:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;Authorization&quot;, token);\r\n\r\n    HttpEntity&lt;RestRequest&gt; entityReq = new HttpEntity&lt;RestRequest&gt;(request, headers);\r\n    \r\nNow you can pass the HttpEntity to your rest template:\r\n\r\n    template.exchange(&quot;RestSvcUrl&quot;, HttpMethod.POST, entityReq, SomeResponse.class);\r\n\r\nHope I could help","title":"Propagate HTTP header (JWT Token) over services using spring rest template","body":"<p>Basically your token should be located in the header of the request, like for example: Authorization: Bearer . For getting it you can retrieve any header value by @RequestHeader() in your controller:</p>\n\n<pre><code>@GetMapping(\"/someMapping\")\npublic String someMethod(@RequestHeader(\"Authorization\") String token) {\n\n}\n</code></pre>\n\n<p>Now you can place the token within the header for the following request:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(\"Authorization\", token);\n\nHttpEntity&lt;RestRequest&gt; entityReq = new HttpEntity&lt;RestRequest&gt;(request, headers);\n</code></pre>\n\n<p>Now you can pass the HttpEntity to your rest template:</p>\n\n<pre><code>template.exchange(\"RestSvcUrl\", HttpMethod.POST, entityReq, SomeResponse.class);\n</code></pre>\n\n<p>Hope I could help</p>\n"},{"tags":[],"owner":{"account_id":478034,"reputation":733,"user_id":889869,"accept_rate":50,"display_name":"dragonalvaro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1508771598,"creation_date":1508771598,"answer_id":46892805,"question_id":46729203,"body_markdown":"I&#39;ve accomplished the task, creating a custom Filter\r\n\r\n    public class RequestFilter implements Filter{\r\n    \r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \t\t\r\n    \t\tHttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n            String token = httpServletRequest.getHeader(RequestContext.REQUEST_HEADER_NAME);\r\n     \r\n            if (token == null || &quot;&quot;.equals(token)) {\r\n            \tthrow new IllegalArgumentException(&quot;Can&#39;t retrieve JWT Token&quot;);\r\n            }\r\n     \r\n            RequestContext.getContext().setToken(token);\r\n            chain.doFilter(request, response);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {\t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void init(FilterConfig arg0) throws ServletException {}\r\n    \r\n    \t\r\n    }\r\n\r\nThen, setting in my config\r\n\r\n    \t@Bean\r\n    public FilterRegistrationBean getPeticionFilter() {\r\n \r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(new RequestFilter());\r\n        registration.addUrlPatterns(&quot;/*&quot;);\r\n        registration.setName(&quot;requestFilter&quot;);\r\n \r\n        return registration;\r\n    }\r\n\r\nWith that in mind, I&#39;ve create another class with a ThreadLocal variable to pass the JWT token from the Controller to the Rest Templace interceptor\r\n\r\n    public class RequestContext {\r\n\r\n\tpublic static final String REQUEST_HEADER_NAME = &quot;Authorization&quot;;\r\n\r\n\tprivate static final ThreadLocal&lt;RequestContext&gt; CONTEXT = new ThreadLocal&lt;&gt;();\r\n\t \r\n    private String token;\r\n \r\n    public static RequestContext getContext() {\r\n        RequestContext result = CONTEXT.get();\r\n \r\n        if (result == null) {\r\n            result = new RequestContext();\r\n            CONTEXT.set(result);\r\n        }\r\n \r\n        return result;\r\n    }\r\n\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n    \r\n    \r\n}\r\n\r\n    public class RestTemplateInterceptor implements ClientHttpRequestInterceptor{\r\n\r\n\t@Override\r\n\tpublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n\t\t\r\n\t\tString token = RequestContext.getContext().getToken();\r\n\t\t\r\n\t\trequest.getHeaders().add(RequestContext.REQUEST_HEADER_NAME, token);\r\n\t\t\r\n\t\treturn execution.execute(request, body);\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\nAdd interceptor to the config\r\n\r\n      @PostConstruct\r\n    public void addInterceptors() {\r\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n        interceptors.add(new RestTemplateInterceptor());\r\n        restTemplate.setInterceptors(interceptors);\r\n    }","title":"Propagate HTTP header (JWT Token) over services using spring rest template","body":"<p>I've accomplished the task, creating a custom Filter</p>\n\n<pre><code>public class RequestFilter implements Filter{\n\n\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        String token = httpServletRequest.getHeader(RequestContext.REQUEST_HEADER_NAME);\n\n        if (token == null || \"\".equals(token)) {\n            throw new IllegalArgumentException(\"Can't retrieve JWT Token\");\n        }\n\n        RequestContext.getContext().setToken(token);\n        chain.doFilter(request, response);\n\n    }\n\n    @Override\n    public void destroy() { }\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {}\n\n\n}\n</code></pre>\n\n<p>Then, setting in my config</p>\n\n<pre><code>    @Bean\npublic FilterRegistrationBean getPeticionFilter() {\n\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    registration.setFilter(new RequestFilter());\n    registration.addUrlPatterns(\"/*\");\n    registration.setName(\"requestFilter\");\n\n    return registration;\n}\n</code></pre>\n\n<p>With that in mind, I've create another class with a ThreadLocal variable to pass the JWT token from the Controller to the Rest Templace interceptor</p>\n\n<pre><code>public class RequestContext {\n\npublic static final String REQUEST_HEADER_NAME = \"Authorization\";\n\nprivate static final ThreadLocal&lt;RequestContext&gt; CONTEXT = new ThreadLocal&lt;&gt;();\n\nprivate String token;\n\npublic static RequestContext getContext() {\n    RequestContext result = CONTEXT.get();\n\n    if (result == null) {\n        result = new RequestContext();\n        CONTEXT.set(result);\n    }\n\n    return result;\n}\n\npublic String getToken() {\n    return token;\n}\n\npublic void setToken(String token) {\n    this.token = token;\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class RestTemplateInterceptor implements ClientHttpRequestInterceptor{\n\n@Override\npublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n\n    String token = RequestContext.getContext().getToken();\n\n    request.getHeaders().add(RequestContext.REQUEST_HEADER_NAME, token);\n\n    return execution.execute(request, body);\n\n}\n\n}\n</code></pre>\n\n<p>Add interceptor to the config</p>\n\n<pre><code>  @PostConstruct\npublic void addInterceptors() {\n    List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n    interceptors.add(new RestTemplateInterceptor());\n    restTemplate.setInterceptors(interceptors);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612610,"reputation":90,"user_id":1491150,"accept_rate":75,"display_name":"nickoooname"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558530635,"creation_date":1558530635,"answer_id":56257623,"question_id":46729203,"body_markdown":"I think it is better to add the interceptor specifically to the RestTemplate, like this: \r\n\r\n```kotlin\r\nclass RestTemplateHeaderModifierInterceptor(private val authenticationService: IAuthenticationService) : ClientHttpRequestInterceptor {\r\n    override fun intercept(request: org.springframework.http.HttpRequest, body: ByteArray, execution: ClientHttpRequestExecution): ClientHttpResponse {\r\n        if (!request.headers.containsKey(&quot;Authorization&quot;)) {\r\n            // don&#39;t overwrite, just add if not there.\r\n            val jwt = authenticationService.getCurrentUser()!!.jwt\r\n            request.headers.add(&quot;Authorization&quot;, &quot;Bearer $jwt&quot;)\r\n        }\r\n        val response = execution.execute(request, body)\r\n        return response\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd add it to the RestTemplate like so: \r\n```kotlin\r\n@Bean\r\nfun restTemplate(): RestTemplate {\r\n    val restTemplate = RestTemplate()\r\nrestTemplate.interceptors.add(RestTemplateHeaderModifierInterceptor(authenticationService)) // add interceptor to send JWT along with requests.\r\n    return restTemplate\r\n}\r\n```\r\n\r\nThat way, every time you need a RestTemplate you can just use autowiring to get it. You do need to implement the AuthenticationService still to get the token from the TokenStore, like this: \r\n\r\n```kotlin\r\n\r\nval details = SecurityContextHolder.getContext().authentication.details\r\nif (details is OAuth2AuthenticationDetails) {\r\n   val token = tokenStore.readAccessToken(details.tokenValue)\r\n   return token.value\r\n}\r\n\r\n```","title":"Propagate HTTP header (JWT Token) over services using spring rest template","body":"<p>I think it is better to add the interceptor specifically to the RestTemplate, like this: </p>\n\n<pre><code>class RestTemplateHeaderModifierInterceptor(private val authenticationService: IAuthenticationService) : ClientHttpRequestInterceptor {\n    override fun intercept(request: org.springframework.http.HttpRequest, body: ByteArray, execution: ClientHttpRequestExecution): ClientHttpResponse {\n        if (!request.headers.containsKey(\"Authorization\")) {\n            // don't overwrite, just add if not there.\n            val jwt = authenticationService.getCurrentUser()!!.jwt\n            request.headers.add(\"Authorization\", \"Bearer $jwt\")\n        }\n        val response = execution.execute(request, body)\n        return response\n    }\n}\n</code></pre>\n\n<p>And add it to the RestTemplate like so: </p>\n\n<pre><code>@Bean\nfun restTemplate(): RestTemplate {\n    val restTemplate = RestTemplate()\nrestTemplate.interceptors.add(RestTemplateHeaderModifierInterceptor(authenticationService)) // add interceptor to send JWT along with requests.\n    return restTemplate\n}\n</code></pre>\n\n<p>That way, every time you need a RestTemplate you can just use autowiring to get it. You do need to implement the AuthenticationService still to get the token from the TokenStore, like this: </p>\n\n<pre><code>\nval details = SecurityContextHolder.getContext().authentication.details\nif (details is OAuth2AuthenticationDetails) {\n   val token = tokenStore.readAccessToken(details.tokenValue)\n   return token.value\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12609810,"reputation":111,"user_id":9169379,"display_name":"Miguel Galindo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670868633,"creation_date":1670868633,"answer_id":74775514,"question_id":46729203,"body_markdown":"May be a little bit late but I think this is a common question, regarding\r\n[Spring Security 6.0.0][1] for web client there is a class called `ServletBearerExchangeFilterFunction` that you can use to read the token from the security context and inject it.\r\n\r\n\r\n    @Bean\r\n    public WebClient rest() {\r\n    return WebClient.builder()\r\n            .filter(new ServletBearerExchangeFilterFunction())\r\n            .build();\r\n\r\n\r\nFor `RestTemplate` there is no automatic way and is recommended use a filter\r\n\r\n    @Bean\r\n    RestTemplate rest() {\r\n\t  RestTemplate rest = new RestTemplate();\r\n\t  rest.getInterceptors().add((request, body, execution) -&gt; {\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tif (authentication == null) {\r\n\t\t\treturn execution.execute(request, body);\r\n\t\t}\r\n\r\n\t\tif (!(authentication.getCredentials() instanceof AbstractOAuth2Token)) {\r\n\t\t\treturn execution.execute(request, body);\r\n\t\t}\r\n\r\n\t\tAbstractOAuth2Token token = (AbstractOAuth2Token) authentication.getCredentials();\r\n\t    request.getHeaders().setBearerAuth(token.getTokenValue());\r\n\t    return execution.execute(request, body);\r\n\t});\r\n\treturn rest;\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/bearer-tokens.html","title":"Propagate HTTP header (JWT Token) over services using spring rest template","body":"<p>May be a little bit late but I think this is a common question, regarding\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/bearer-tokens.html\" rel=\"nofollow noreferrer\">Spring Security 6.0.0</a> for web client there is a class called <code>ServletBearerExchangeFilterFunction</code> that you can use to read the token from the security context and inject it.</p>\n<pre><code>@Bean\npublic WebClient rest() {\nreturn WebClient.builder()\n        .filter(new ServletBearerExchangeFilterFunction())\n        .build();\n</code></pre>\n<p>For <code>RestTemplate</code> there is no automatic way and is recommended use a filter</p>\n<pre><code>@Bean\nRestTemplate rest() {\n  RestTemplate rest = new RestTemplate();\n  rest.getInterceptors().add((request, body, execution) -&gt; {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    if (authentication == null) {\n        return execution.execute(request, body);\n    }\n\n    if (!(authentication.getCredentials() instanceof AbstractOAuth2Token)) {\n        return execution.execute(request, body);\n    }\n\n    AbstractOAuth2Token token = (AbstractOAuth2Token) authentication.getCredentials();\n    request.getHeaders().setBearerAuth(token.getTokenValue());\n    return execution.execute(request, body);\n});\nreturn rest;\n}\n</code></pre>\n"}],"owner":{"account_id":478034,"reputation":733,"user_id":889869,"accept_rate":50,"display_name":"dragonalvaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25710,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":46892805,"answer_count":4,"score":17,"last_activity_date":1670868633,"creation_date":1507895110,"question_id":46729203,"body_markdown":"I have a microservice architecture, both of them securized by spring security an JWT tokens.\r\n\r\nSo, when I call my first microservice, I want to take the JWT token and send a request to another service using those credentials.\r\n\r\nHow can I retrieve the token and sent again to the other service?","title":"Propagate HTTP header (JWT Token) over services using spring rest template","body":"<p>I have a microservice architecture, both of them securized by spring security an JWT tokens.</p>\n\n<p>So, when I call my first microservice, I want to take the JWT token and send a request to another service using those credentials.</p>\n\n<p>How can I retrieve the token and sent again to the other service?</p>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"score":0,"creation_date":1578961937,"post_id":59725977,"comment_id":105602347,"body_markdown":"Does this help?: https://math.stackexchange.com/questions/2093314/rotation-matrix-of-rotation-around-a-point-other-than-the-origin","body":"Does this help?: <a href=\"https://math.stackexchange.com/questions/2093314/rotation-matrix-of-rotation-around-a-point-other-than-the-origin\" title=\"rotation matrix of rotation around a point other than the origin\">math.stackexchange.com/questions/2093314/&hellip;</a>"},{"owner":{"account_id":17521776,"reputation":13,"user_id":12707663,"display_name":"Hydronic"},"score":1,"creation_date":1579012125,"post_id":59725977,"comment_id":105620288,"body_markdown":"Yep, that&#39;s exactly what I needed. Thanks!","body":"Yep, that&#39;s exactly what I needed. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1366462,"reputation":2166,"user_id":1302784,"accept_rate":69,"display_name":"Code Doggo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670868384,"creation_date":1579025788,"answer_id":59739579,"question_id":59725977,"body_markdown":"I just wanted to document the answer here that I provided in the comments. If you want to rotate an object around a different origin other than (0,0), you will need to offset the rotational matrix by your new origin.\r\n\r\n[The following post][1] on Math Stack Exchange details how to do this precisely!\r\n\r\nAnother way to think about this is to move your new origin back to (0, 0) and move your point by the same amount. You can then apply the rotation matrix and then move your rotated point back by the same amount. Take a look at [this explanation here][2] to get an idea of this.\r\n\r\n\r\n  [1]: https://math.stackexchange.com/questions/2093314/rotation-matrix-of-rotation-around-a-point-other-than-the-origin\r\n  [2]: https://web.archive.org/web/20180128161100/http://mathforum.org/library/drmath/view/69806.html","title":"LWJGL Object not rotating correctly","body":"<p>I just wanted to document the answer here that I provided in the comments. If you want to rotate an object around a different origin other than (0,0), you will need to offset the rotational matrix by your new origin.</p>\n<p><a href=\"https://math.stackexchange.com/questions/2093314/rotation-matrix-of-rotation-around-a-point-other-than-the-origin\">The following post</a> on Math Stack Exchange details how to do this precisely!</p>\n<p>Another way to think about this is to move your new origin back to (0, 0) and move your point by the same amount. You can then apply the rotation matrix and then move your rotated point back by the same amount. Take a look at <a href=\"https://web.archive.org/web/20180128161100/http://mathforum.org/library/drmath/view/69806.html\" rel=\"nofollow noreferrer\">this explanation here</a> to get an idea of this.</p>\n"}],"owner":{"account_id":17521776,"reputation":13,"user_id":12707663,"display_name":"Hydronic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670868384,"creation_date":1578961223,"question_id":59725977,"body_markdown":"apologies if this has been asked before, but I couldn&#39;t find any suitable answers for my case. I&#39;m trying to rotate an object (collection of faces) but it rotates around the world&#39;s origin rather than the object&#39;s origin. This is my view() method for the calculation:\r\n\r\n    public static Matrix view(Vector position, Vector rotator) {\r\n            Matrix translation = Matrix.translate(new Vector(-position.getX(), -position.getY(), -position.getZ()));\r\n            Matrix rotX = Matrix.rotate(rotator.getX(), new Vector(1, 0, 0));\r\n            Matrix rotY = Matrix.rotate(rotator.getY(), new Vector(0, 1, 0));\r\n            Matrix rotZ = Matrix.rotate(rotator.getZ(), new Vector(0, 0, 1));\r\n    \r\n            Matrix rotation = Matrix.multiply(rotZ, Matrix.multiply(rotY, rotX));\r\n    \r\n            return Matrix.multiply(translation, rotation);\r\n        }\r\n\r\nI have already tried swapping the translation and rotating parameters in the multiply() method but things got a bit weird upon doing so. \r\n\r\nAlso, this is my vertex shader is case anyone needs it:\r\n```gl_Position = projection * view * model * vec4(position.x , position.y, position.z, 1.0);```\r\n\r\nAnyone know the fix for this?","title":"LWJGL Object not rotating correctly","body":"<p>apologies if this has been asked before, but I couldn't find any suitable answers for my case. I'm trying to rotate an object (collection of faces) but it rotates around the world's origin rather than the object's origin. This is my view() method for the calculation:</p>\n\n<pre><code>public static Matrix view(Vector position, Vector rotator) {\n        Matrix translation = Matrix.translate(new Vector(-position.getX(), -position.getY(), -position.getZ()));\n        Matrix rotX = Matrix.rotate(rotator.getX(), new Vector(1, 0, 0));\n        Matrix rotY = Matrix.rotate(rotator.getY(), new Vector(0, 1, 0));\n        Matrix rotZ = Matrix.rotate(rotator.getZ(), new Vector(0, 0, 1));\n\n        Matrix rotation = Matrix.multiply(rotZ, Matrix.multiply(rotY, rotX));\n\n        return Matrix.multiply(translation, rotation);\n    }\n</code></pre>\n\n<p>I have already tried swapping the translation and rotating parameters in the multiply() method but things got a bit weird upon doing so. </p>\n\n<p>Also, this is my vertex shader is case anyone needs it:\n<code>gl_Position = projection * view * model * vec4(position.x , position.y, position.z, 1.0);</code></p>\n\n<p>Anyone know the fix for this?</p>\n"},{"tags":["javascript","java","php","jquery","coldfusion"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1670856628,"post_id":74772764,"comment_id":131963770,"body_markdown":"You set this at the web server end. In the virtual host for the secure SSL connection. You specify that you are only prepared to accept a specific verion(s). this is then sorted out in the initial handshake process between browser and server. If browser cannot work with your requirements the connection will be refused","body":"You set this at the web server end. In the virtual host for the secure SSL connection. You specify that you are only prepared to accept a specific verion(s). this is then sorted out in the initial handshake process between browser and server. If browser cannot work with your requirements the connection will be refused"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1670856778,"post_id":74772764,"comment_id":131963832,"body_markdown":"https://tecadmin.net/enable-tls-in-modssl-and-apache/","body":"<a href=\"https://tecadmin.net/enable-tls-in-modssl-and-apache/\" rel=\"nofollow noreferrer\">tecadmin.net/enable-tls-in-modssl-and-apache</a>"},{"owner":{"account_id":27117461,"reputation":19,"user_id":20661588,"display_name":"Roza"},"score":0,"creation_date":1670856883,"post_id":74772764,"comment_id":131963852,"body_markdown":"exactly, but how can i write such thing, can i use the cgi scope for this or do i need to write some custom java to handle this","body":"exactly, but how can i write such thing, can i use the cgi scope for this or do i need to write some custom java to handle this"},{"owner":{"account_id":27117461,"reputation":19,"user_id":20661588,"display_name":"Roza"},"score":0,"creation_date":1670856961,"post_id":74772764,"comment_id":131963878,"body_markdown":"ok, in my case we are using IIS, how can i do that in IIS to accept TLS 1.1 and above","body":"ok, in my case we are using IIS, how can i do that in IIS to accept TLS 1.1 and above"},{"owner":{"account_id":4329392,"reputation":3542,"user_id":3535297,"display_name":"haxtbh"},"score":1,"creation_date":1670858352,"post_id":74772764,"comment_id":131964414,"body_markdown":"https://www.google.com/search?q=windows+disable+tls+1.0","body":"<a href=\"https://www.google.com/search?q=windows+disable+tls+1.0\" rel=\"nofollow noreferrer\">google.com/search?q=windows+disable+tls+1.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":6540,"reputation":14591,"user_id":11047,"display_name":"Adrian J. Moreno"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670867649,"creation_date":1670867343,"answer_id":74775264,"question_id":74772764,"body_markdown":"There&#39;s no easy way to detect the TLS from the browser. This is likely better suited for [ServerFault][1].\r\n\r\nAs of 2018, you should not allow anything less than TLS 1.2 period. Anything less is insecure and vulnerable to attacks. 2018 is when PayPal and other payment processors enforced it. More fun, we&#39;re almost at the point of TLS 1.3 being the minimum.\r\n\r\n**Adding a Header**\r\n\r\nWhen TLS 1.2 was new, I had my DevOps guy add a header sent from our load balancer. We then checked the value in the header and displayed a message on the login screen that as of some date, they could no longer log in with an old browser. This affected &lt; 1% of customers. \r\n\r\n**Reject from IIS**\r\n\r\nHere&#39;s an article to disable legacy TLS settings in IIS 10. \r\n\r\nhttps://learn.microsoft.com/en-us/security/engineering/disable-legacy-tls\r\n\r\nIf you&#39;re on an older version of IIS, you can find ways to disable it via registry changes. However, there&#39;s an overall easier way. \r\n\r\n**Reject from CloudFlare**\r\n\r\nIt&#39;s a great idea to add https://www.cloudflare.com/ in front of many applications to manage more things than TLS. You can reject requests based on IP address and handle compression and static caching as well. Once you put this in front of your site, all requests go through it. Rejecting legacy TLS is a breeze: \r\n\r\n 1. Log in to the Cloudflare dashboard and select your account.\r\n 2. Select your website.\r\n 3. Go to SSL/TLS &gt; Edge Certificates.\r\n 4. For Minimum TLS Version, select an option.\r\n\r\n[![CLoudFlare TLS Settings][2]][2]\r\n\r\n\r\n  [1]: https://serverfault.com/\r\n  [2]: https://i.stack.imgur.com/VFfrZ.png","title":"how can i detect if browser is using TLS 1.1 or older","body":"<p>There's no easy way to detect the TLS from the browser. This is likely better suited for <a href=\"https://serverfault.com/\">ServerFault</a>.</p>\n<p>As of 2018, you should not allow anything less than TLS 1.2 period. Anything less is insecure and vulnerable to attacks. 2018 is when PayPal and other payment processors enforced it. More fun, we're almost at the point of TLS 1.3 being the minimum.</p>\n<p><strong>Adding a Header</strong></p>\n<p>When TLS 1.2 was new, I had my DevOps guy add a header sent from our load balancer. We then checked the value in the header and displayed a message on the login screen that as of some date, they could no longer log in with an old browser. This affected &lt; 1% of customers.</p>\n<p><strong>Reject from IIS</strong></p>\n<p>Here's an article to disable legacy TLS settings in IIS 10.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/security/engineering/disable-legacy-tls\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/security/engineering/disable-legacy-tls</a></p>\n<p>If you're on an older version of IIS, you can find ways to disable it via registry changes. However, there's an overall easier way.</p>\n<p><strong>Reject from CloudFlare</strong></p>\n<p>It's a great idea to add <a href=\"https://www.cloudflare.com/\" rel=\"nofollow noreferrer\">https://www.cloudflare.com/</a> in front of many applications to manage more things than TLS. You can reject requests based on IP address and handle compression and static caching as well. Once you put this in front of your site, all requests go through it. Rejecting legacy TLS is a breeze:</p>\n<ol>\n<li>Log in to the Cloudflare dashboard and select your account.</li>\n<li>Select your website.</li>\n<li>Go to SSL/TLS &gt; Edge Certificates.</li>\n<li>For Minimum TLS Version, select an option.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/VFfrZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFfrZ.png\" alt=\"CLoudFlare TLS Settings\" /></a></p>\n"}],"owner":{"account_id":27117461,"reputation":19,"user_id":20661588,"display_name":"Roza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670867649,"creation_date":1670855934,"question_id":74772764,"body_markdown":"I want to know how can i disable my website access if the TLS version of browser being used is 1.1 lower, i mean 1.1 is allowed, but anything lower than 1.1 will be denied access. I am using coldfusion server ide language and i am not sure how should i approach this, i tried checking some questions over here in stack overflow but all are java related and i can get the list of headers using CGI but not sure how in CGI variables i can make sure that browser is still using old TLS or new, if there any way of checking this in java internal methods, i can try that but as of now looking for a simplistic way so this can be achieved\r\n\r\nPlease guide \r\n\r\nThanks \r\n\r\ni can do **&lt;cfdump var=&quot;#cgi#&quot;&gt;**\r\n\r\nwhich shows data like this \r\n\r\n[![**https://prnt.sc/wqano7zNeOiB**][1]][1]\r\n\r\ni have tried the cgi dump to see if i can use that to handle it \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m9o4v.png","title":"how can i detect if browser is using TLS 1.1 or older","body":"<p>I want to know how can i disable my website access if the TLS version of browser being used is 1.1 lower, i mean 1.1 is allowed, but anything lower than 1.1 will be denied access. I am using coldfusion server ide language and i am not sure how should i approach this, i tried checking some questions over here in stack overflow but all are java related and i can get the list of headers using CGI but not sure how in CGI variables i can make sure that browser is still using old TLS or new, if there any way of checking this in java internal methods, i can try that but as of now looking for a simplistic way so this can be achieved</p>\n<p>Please guide</p>\n<p>Thanks</p>\n<p>i can do <strong></strong></p>\n<p>which shows data like this</p>\n<p><a href=\"https://i.stack.imgur.com/m9o4v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9o4v.png\" alt=\"https://prnt.sc/wqano7zNeOiB\" /></a></p>\n<p>i have tried the cgi dump to see if i can use that to handle it</p>\n"},{"tags":["java","android","json","android-volley"],"owner":{"account_id":27230758,"reputation":1,"user_id":20758502,"display_name":"Mthn46300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670867562,"creation_date":1670867415,"question_id":74775276,"body_markdown":"I bought a movie app from Codecanyon. The support team screwed up, they can&#39;t fix the problem. I&#39;m having trouble with letters like &#231;, , , &#252; (Space) while searching for movies in the app. When I add a space between a two-word movie, all movies come off the screen.\r\n\r\nhttps://youtube.com/shorts/Z9SOkbIa5kk\r\n\r\n 1. Home.java\r\n 2. Searchlistaddepter.java\r\n 3. Searchlist.java\r\nBelow\r\n\r\n```\r\n----------------------------------------------------------------------------\r\nHOME.java\r\n---------------------------------------------------------------------------\r\nvoid searchContent(String text) {\r\n    RequestQueue queue = Volley.newRequestQueue(this);\r\n    StringRequest sr = new StringRequest(Request.Method.GET, AppConfig.url +&quot;searchContent/&quot;+text+&quot;/&quot;+onlyPremium, response -&gt; {\r\n        if(!response.equals(&quot;No Data Avaliable&quot;) ) {\r\n            JsonArray jsonArray = new Gson().fromJson(response, JsonArray.class);\r\n\r\n            List&lt;SearchList&gt; searchList = new ArrayList&lt;&gt;();\r\n            for (JsonElement r : jsonArray) {\r\n                JsonObject rootObject = r.getAsJsonObject();\r\n                int id = rootObject.get(&quot;id&quot;).getAsInt();\r\n                String name = rootObject.get(&quot;name&quot;).getAsString();\r\n\r\n                String year = &quot;&quot;;\r\n                if(!rootObject.get(&quot;release_date&quot;).getAsString().equals(&quot;&quot;)) {\r\n                    year = getYearFromDate(rootObject.get(&quot;release_date&quot;).getAsString());\r\n                }\r\n\r\n                String poster = rootObject.get(&quot;poster&quot;).getAsString();\r\n                int type = rootObject.get(&quot;type&quot;).getAsInt();\r\n                int status = rootObject.get(&quot;status&quot;).getAsInt();\r\n                int contentType = rootObject.get(&quot;content_type&quot;).getAsInt();\r\n\r\n                if (status == 1) {\r\n                    searchList.add(new SearchList(id, type, name, year, poster, contentType));\r\n                }\r\n            }\r\n\r\n\r\n            RecyclerView searchLayoutRecyclerView = findViewById(R.id.Search_Layout_RecyclerView);\r\n            SearchListAdepter myadepter = new SearchListAdepter(context, searchList);\r\n            searchLayoutRecyclerView.setLayoutManager(new GridLayoutManager(context, 3));\r\n            searchLayoutRecyclerView.setAdapter(myadepter);\r\n\r\n        } else {\r\n            View bigSearchLottieAnimation = findViewById(R.id.big_search_Lottie_animation);\r\n            RecyclerView searchLayoutRecyclerView = findViewById(R.id.Search_Layout_RecyclerView);\r\n            bigSearchLottieAnimation.setVisibility(View.VISIBLE);\r\n            searchLayoutRecyclerView.setVisibility(View.GONE);\r\n\r\n\r\n        }\r\n    }, error -&gt; {\r\n        //  Do nothing because There is No Error if error It will return 0\r\n    }) {\r\n        @Override\r\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n            Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;x-api-key&quot;, AppConfig.apiKey);\r\n            return params;\r\n        }\r\n        @Override\r\n        protected Map&lt;String,String&gt; getParams(){\r\n            Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;search&quot;,text);\r\n            params.put(&quot;onlypremium&quot;, String.valueOf(onlyPremium));\r\n            return params;\r\n        }\r\n    };\r\n    queue.add(sr);\r\n}\r\n---------------------------------------------------------\r\nSEARCHLSTADDEPTER.Java\r\n----------------------------------------------------------\r\npackage com.xxxx.android.adepter;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport com.xxxx.android.AppConfig;\r\nimport com.xxxx.android.R;\r\nimport com.xxxx.android.MovieDetails;\r\nimport com.xxxx.android.list.SearchList;\r\nimport com.xxxx.android.WebSeriesDetails;\r\n\r\nimport java.util.List;\r\n\r\npublic class SearchListAdepter extends RecyclerView.Adapter&lt;SearchListAdepter.MyViewHolder&gt; {\r\n    private Context mContext;\r\n    private List&lt;SearchList&gt; mData;\r\n\r\n    Context context;\r\n\r\n    public SearchListAdepter(Context mContext, List&lt;SearchList&gt; mData) {\r\n        this.mContext = mContext;\r\n        this.mData = mData;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SearchListAdepter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        context = parent.getContext();\r\n        View view;\r\n        LayoutInflater mInflater = LayoutInflater.from(mContext);\r\n        view = mInflater.inflate(AppConfig.contentItem,parent,false);\r\n        return new SearchListAdepter.MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SearchListAdepter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        holder.setTitle(mData.get(position));\r\n        holder.setYear(mData.get(position));\r\n        holder.setImage(mData.get(position));\r\n\r\n        holder.IsPremium(mData.get(position));\r\n\r\n        holder.Movie_Item.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(mData.get(position).getContent_Type() == 1) {\r\n                    Intent intent = new Intent(mContext, MovieDetails.class);\r\n                    intent.putExtra(&quot;ID&quot;, mData.get(position).getID());\r\n                    mContext.startActivity(intent);\r\n                } else if(mData.get(position).getContent_Type() == 2) {\r\n                    Intent intent = new Intent(mContext, WebSeriesDetails.class);\r\n                    intent.putExtra(&quot;ID&quot;, mData.get(position).getID());\r\n                    mContext.startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mData.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView Title;\r\n        TextView Year;\r\n        ImageView Thumbnail;\r\n\r\n        View Premium_Tag;\r\n\r\n        CardView Movie_Item;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            Title = (TextView) itemView.findViewById(R.id.Movie_list_Title);\r\n            Year = (TextView) itemView.findViewById(R.id.Movie_list_Year);\r\n            Thumbnail = (ImageView) itemView.findViewById(R.id.Movie_Item_thumbnail);\r\n\r\n            Premium_Tag = (View) itemView.findViewById(R.id.Premium_Tag);\r\n\r\n            Movie_Item = itemView.findViewById(R.id.Movie_Item);\r\n        }\r\n\r\n        void IsPremium(SearchList type) {\r\n            if(type.getType() == 1) {\r\n                Premium_Tag.setVisibility(View.VISIBLE);\r\n            } else {\r\n                Premium_Tag.setVisibility(View.GONE);\r\n            }\r\n        }\r\n\r\n        void setTitle(SearchList title_text) {\r\n            Title.setText(title_text.getTitle());\r\n        }\r\n\r\n        void setYear(SearchList year_text) {\r\n            Year.setText(year_text.getYear());\r\n        }\r\n\r\n        void setImage(SearchList Thumbnail_Image) {\r\n            Glide.with(context)\r\n                    .load(Thumbnail_Image.getThumbnail())\r\n                    .placeholder(R.drawable.thumbnail_placeholder)\r\n                    .into(Thumbnail);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n------------------------------------------\r\nSEARCHLST.Java\r\n---------------------------------------\r\npackage com.xxxx.android.list;\r\n\r\npublic class SearchList {\r\n    private int ID;\r\n    private int Type;\r\n    private String Title;\r\n    private String Year;\r\n    private String Thumbnail;\r\n    private int Content_Type;\r\n\r\n    public SearchList(int ID, int type, String title, String year, String thumbnail, int content_Type) {\r\n        this.ID = ID;\r\n        Type = type;\r\n        Title = title;\r\n        Year = year;\r\n        Thumbnail = thumbnail;\r\n        Content_Type = content_Type;\r\n    }\r\n\r\n    public int getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(int ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public int getType() {\r\n        return Type;\r\n    }\r\n\r\n    public void setType(int type) {\r\n        Type = type;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return Title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        Title = title;\r\n    }\r\n\r\n    public String getYear() {\r\n        return Year;\r\n    }\r\n\r\n    public void setYear(String year) {\r\n        Year = year;\r\n    }\r\n\r\n    public String getThumbnail() {\r\n        return Thumbnail;\r\n    }\r\n\r\n    public void setThumbnail(String thumbnail) {\r\n        Thumbnail = thumbnail;\r\n    }\r\n\r\n    public int getContent_Type() {\r\n        return Content_Type;\r\n    }\r\n\r\n    public void setContent_Type(int content_Type) {\r\n        Content_Type = content_Type;\r\n    }\r\n    public void onResponse(String response) {\r\n\r\n        try{ byte[] u = response.toString().getBytes(&quot;ISO-8859-1&quot;);\r\n\r\n            response = new String(u, &quot;UTF-8&quot;);\r\n\r\n        }\r\n\r\n        catch (Exception e){\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"I&#39;m having trouble with some characters when searching within the app","body":"<p>I bought a movie app from Codecanyon. The support team screwed up, they can't fix the problem. I'm having trouble with letters like , , ,  (Space) while searching for movies in the app. When I add a space between a two-word movie, all movies come off the screen.</p>\n<p><a href=\"https://youtube.com/shorts/Z9SOkbIa5kk\" rel=\"nofollow noreferrer\">https://youtube.com/shorts/Z9SOkbIa5kk</a></p>\n<ol>\n<li>Home.java</li>\n<li>Searchlistaddepter.java</li>\n<li>Searchlist.java\nBelow</li>\n</ol>\n<pre><code>----------------------------------------------------------------------------\nHOME.java\n---------------------------------------------------------------------------\nvoid searchContent(String text) {\n    RequestQueue queue = Volley.newRequestQueue(this);\n    StringRequest sr = new StringRequest(Request.Method.GET, AppConfig.url +&quot;searchContent/&quot;+text+&quot;/&quot;+onlyPremium, response -&gt; {\n        if(!response.equals(&quot;No Data Avaliable&quot;) ) {\n            JsonArray jsonArray = new Gson().fromJson(response, JsonArray.class);\n\n            List&lt;SearchList&gt; searchList = new ArrayList&lt;&gt;();\n            for (JsonElement r : jsonArray) {\n                JsonObject rootObject = r.getAsJsonObject();\n                int id = rootObject.get(&quot;id&quot;).getAsInt();\n                String name = rootObject.get(&quot;name&quot;).getAsString();\n\n                String year = &quot;&quot;;\n                if(!rootObject.get(&quot;release_date&quot;).getAsString().equals(&quot;&quot;)) {\n                    year = getYearFromDate(rootObject.get(&quot;release_date&quot;).getAsString());\n                }\n\n                String poster = rootObject.get(&quot;poster&quot;).getAsString();\n                int type = rootObject.get(&quot;type&quot;).getAsInt();\n                int status = rootObject.get(&quot;status&quot;).getAsInt();\n                int contentType = rootObject.get(&quot;content_type&quot;).getAsInt();\n\n                if (status == 1) {\n                    searchList.add(new SearchList(id, type, name, year, poster, contentType));\n                }\n            }\n\n\n            RecyclerView searchLayoutRecyclerView = findViewById(R.id.Search_Layout_RecyclerView);\n            SearchListAdepter myadepter = new SearchListAdepter(context, searchList);\n            searchLayoutRecyclerView.setLayoutManager(new GridLayoutManager(context, 3));\n            searchLayoutRecyclerView.setAdapter(myadepter);\n\n        } else {\n            View bigSearchLottieAnimation = findViewById(R.id.big_search_Lottie_animation);\n            RecyclerView searchLayoutRecyclerView = findViewById(R.id.Search_Layout_RecyclerView);\n            bigSearchLottieAnimation.setVisibility(View.VISIBLE);\n            searchLayoutRecyclerView.setVisibility(View.GONE);\n\n\n        }\n    }, error -&gt; {\n        //  Do nothing because There is No Error if error It will return 0\n    }) {\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;x-api-key&quot;, AppConfig.apiKey);\n            return params;\n        }\n        @Override\n        protected Map&lt;String,String&gt; getParams(){\n            Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;search&quot;,text);\n            params.put(&quot;onlypremium&quot;, String.valueOf(onlyPremium));\n            return params;\n        }\n    };\n    queue.add(sr);\n}\n---------------------------------------------------------\nSEARCHLSTADDEPTER.Java\n----------------------------------------------------------\npackage com.xxxx.android.adepter;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport com.xxxx.android.AppConfig;\nimport com.xxxx.android.R;\nimport com.xxxx.android.MovieDetails;\nimport com.xxxx.android.list.SearchList;\nimport com.xxxx.android.WebSeriesDetails;\n\nimport java.util.List;\n\npublic class SearchListAdepter extends RecyclerView.Adapter&lt;SearchListAdepter.MyViewHolder&gt; {\n    private Context mContext;\n    private List&lt;SearchList&gt; mData;\n\n    Context context;\n\n    public SearchListAdepter(Context mContext, List&lt;SearchList&gt; mData) {\n        this.mContext = mContext;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public SearchListAdepter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        context = parent.getContext();\n        View view;\n        LayoutInflater mInflater = LayoutInflater.from(mContext);\n        view = mInflater.inflate(AppConfig.contentItem,parent,false);\n        return new SearchListAdepter.MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SearchListAdepter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        holder.setTitle(mData.get(position));\n        holder.setYear(mData.get(position));\n        holder.setImage(mData.get(position));\n\n        holder.IsPremium(mData.get(position));\n\n        holder.Movie_Item.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(mData.get(position).getContent_Type() == 1) {\n                    Intent intent = new Intent(mContext, MovieDetails.class);\n                    intent.putExtra(&quot;ID&quot;, mData.get(position).getID());\n                    mContext.startActivity(intent);\n                } else if(mData.get(position).getContent_Type() == 2) {\n                    Intent intent = new Intent(mContext, WebSeriesDetails.class);\n                    intent.putExtra(&quot;ID&quot;, mData.get(position).getID());\n                    mContext.startActivity(intent);\n                }\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView Title;\n        TextView Year;\n        ImageView Thumbnail;\n\n        View Premium_Tag;\n\n        CardView Movie_Item;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            Title = (TextView) itemView.findViewById(R.id.Movie_list_Title);\n            Year = (TextView) itemView.findViewById(R.id.Movie_list_Year);\n            Thumbnail = (ImageView) itemView.findViewById(R.id.Movie_Item_thumbnail);\n\n            Premium_Tag = (View) itemView.findViewById(R.id.Premium_Tag);\n\n            Movie_Item = itemView.findViewById(R.id.Movie_Item);\n        }\n\n        void IsPremium(SearchList type) {\n            if(type.getType() == 1) {\n                Premium_Tag.setVisibility(View.VISIBLE);\n            } else {\n                Premium_Tag.setVisibility(View.GONE);\n            }\n        }\n\n        void setTitle(SearchList title_text) {\n            Title.setText(title_text.getTitle());\n        }\n\n        void setYear(SearchList year_text) {\n            Year.setText(year_text.getYear());\n        }\n\n        void setImage(SearchList Thumbnail_Image) {\n            Glide.with(context)\n                    .load(Thumbnail_Image.getThumbnail())\n                    .placeholder(R.drawable.thumbnail_placeholder)\n                    .into(Thumbnail);\n        }\n    }\n\n}\n\n\n------------------------------------------\nSEARCHLST.Java\n---------------------------------------\npackage com.xxxx.android.list;\n\npublic class SearchList {\n    private int ID;\n    private int Type;\n    private String Title;\n    private String Year;\n    private String Thumbnail;\n    private int Content_Type;\n\n    public SearchList(int ID, int type, String title, String year, String thumbnail, int content_Type) {\n        this.ID = ID;\n        Type = type;\n        Title = title;\n        Year = year;\n        Thumbnail = thumbnail;\n        Content_Type = content_Type;\n    }\n\n    public int getID() {\n        return ID;\n    }\n\n    public void setID(int ID) {\n        this.ID = ID;\n    }\n\n    public int getType() {\n        return Type;\n    }\n\n    public void setType(int type) {\n        Type = type;\n    }\n\n    public String getTitle() {\n        return Title;\n    }\n\n    public void setTitle(String title) {\n        Title = title;\n    }\n\n    public String getYear() {\n        return Year;\n    }\n\n    public void setYear(String year) {\n        Year = year;\n    }\n\n    public String getThumbnail() {\n        return Thumbnail;\n    }\n\n    public void setThumbnail(String thumbnail) {\n        Thumbnail = thumbnail;\n    }\n\n    public int getContent_Type() {\n        return Content_Type;\n    }\n\n    public void setContent_Type(int content_Type) {\n        Content_Type = content_Type;\n    }\n    public void onResponse(String response) {\n\n        try{ byte[] u = response.toString().getBytes(&quot;ISO-8859-1&quot;);\n\n            response = new String(u, &quot;UTF-8&quot;);\n\n        }\n\n        catch (Exception e){\n\n            e.printStackTrace();\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","automation","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1670868444,"post_id":74775248,"comment_id":131968042,"body_markdown":"How about trying https://poi.apache.org/apidocs/dev/org/apache/poi/hwpf/extractor/WordExtractor.html ?","body":"How about trying <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/hwpf/extractor/WordExtractor.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/hwpf/extractor/&hellip;</a> ?"}],"owner":{"account_id":18740935,"reputation":1,"user_id":13664211,"display_name":"Manoj kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670867274,"creation_date":1670867274,"question_id":74775248,"body_markdown":"I am trying to work with .doc files and i am stuck where i neei need to compare two documents. Even though the documents are similar, because of the field codes on the document the program says they don&#39;t match.\r\n\r\nThe same document with xwpf works fine.Is there anyway i can do the same with hwpf too?\r\n\r\nAny other method to achieve this will also work!\r\n\r\nCan anyone help me with this?\r\n\r\nTried with different methods with in poi.... nothing seems to be working!","title":"Ignore field codes and compare only text on word documents using hwpf","body":"<p>I am trying to work with .doc files and i am stuck where i neei need to compare two documents. Even though the documents are similar, because of the field codes on the document the program says they don't match.</p>\n<p>The same document with xwpf works fine.Is there anyway i can do the same with hwpf too?</p>\n<p>Any other method to achieve this will also work!</p>\n<p>Can anyone help me with this?</p>\n<p>Tried with different methods with in poi.... nothing seems to be working!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"score":0,"creation_date":1525776887,"post_id":50231865,"comment_id":87480983,"body_markdown":"Can you show how you set it as? You might be setting it as a double. Try storing it as toString.","body":"Can you show how you set it as? You might be setting it as a double. Try storing it as toString."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1525776985,"post_id":50231865,"comment_id":87481045,"body_markdown":"I think that&#39;s the same number. Any JSON parser should be able to handle it, and any application on top of that can format the Double as needed. Unless someone is looking at the JSON directly, it should not make a difference.","body":"I think that&#39;s the same number. Any JSON parser should be able to handle it, and any application on top of that can format the Double as needed. Unless someone is looking at the JSON directly, it should not make a difference."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1525777110,"post_id":50231865,"comment_id":87481122,"body_markdown":"@SiddarthSreeni The JSON types _number_ and _string_ are completely different types. You cannot simply switch them. Additionally, if a value is a number than treat it as such.","body":"@SiddarthSreeni The JSON types <i>number</i> and <i>string</i> are completely different types. You cannot simply switch them. Additionally, if a value is a number than treat it as such."},{"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"score":0,"creation_date":1525777227,"post_id":50231865,"comment_id":87481193,"body_markdown":"@Seelenvirtuose True. But Biasing is done because exponents have to be signed values in order to be able to represent both tiny and huge values, but two&#39;s complement, the usual representation for signed values, would make comparison harder. It shouldn&#39;t make a difference in interpreting them for codes. But, pretty formats is what I believe the consumer looks for.","body":"@Seelenvirtuose True. But Biasing is done because exponents have to be signed values in order to be able to represent both tiny and huge values, but two&#39;s complement, the usual representation for signed values, would make comparison harder. It shouldn&#39;t make a difference in interpreting them for codes. But, pretty formats is what I believe the consumer looks for."},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525777651,"post_id":50231865,"comment_id":87481438,"body_markdown":"@SiddarthSreeni i tried both, when string is stored as &quot;123456789.23&quot; which is bad for me, and when double is stored as 1.2345678923E8 and that is the main problem.","body":"@SiddarthSreeni i tried both, when string is stored as &quot;123456789.23&quot; which is bad for me, and when double is stored as 1.2345678923E8 and that is the main problem."},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525777708,"post_id":50231865,"comment_id":87481476,"body_markdown":"@Thilo am using the JSON in security process first in client and then in the server, so they must be the same","body":"@Thilo am using the JSON in security process first in client and then in the server, so they must be the same"},{"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"score":0,"creation_date":1525777773,"post_id":50231865,"comment_id":87481514,"body_markdown":"@MaJiD I guess: Double.parseDouble(n) would get your number back.","body":"@MaJiD I guess: Double.parseDouble(n) would get your number back."},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525777868,"post_id":50231865,"comment_id":87481577,"body_markdown":"@Seelenvirtuose your comment is very useful, BUT the problem is that i&#39;m using the JSON in security process, so it MUST be the same as the client send to my server.","body":"@Seelenvirtuose your comment is very useful, BUT the problem is that i&#39;m using the JSON in security process, so it MUST be the same as the client send to my server."},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525778003,"post_id":50231865,"comment_id":87481661,"body_markdown":"@SiddarthSreeni yes i can get it back, BUT i need it in JSON for security","body":"@SiddarthSreeni yes i can get it back, BUT i need it in JSON for security"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1525778191,"post_id":50231865,"comment_id":87481792,"body_markdown":"Please explain the &quot;security process&quot; and why it would fail here. That is the part that should probably be fixed. Otherwise, you could dive into the innards of the JSON library you use to stringify the object and somehow bend it to your requirement of avoiding scientific notation. Maybe there is a configuration option for that. What library do you use?","body":"Please explain the &quot;security process&quot; and why it would fail here. That is the part that should probably be fixed. Otherwise, you could dive into the innards of the JSON library you use to stringify the object and somehow bend it to your requirement of avoiding scientific notation. Maybe there is a configuration option for that. What library do you use?"},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525778597,"post_id":50231865,"comment_id":87482060,"body_markdown":"@Thilo OK, process as follow, the user send JSON contain payment info, and **authentication** header, this header generated using the JSON, so i have to generate **authentication** in server using the same JSON, otherwise it will fail. and **i&#39;m using jettison**","body":"@Thilo OK, process as follow, the user send JSON contain payment info, and <b>authentication</b> header, this header generated using the JSON, so i have to generate <b>authentication</b> in server using the same JSON, otherwise it will fail. and <b>i&#39;m using jettison</b>"},{"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"score":0,"creation_date":1525778776,"post_id":50231865,"comment_id":87482190,"body_markdown":"Try `DecimalFormat formatter = new DecimalFormat(&quot;0.00000000&quot;);` Not sure how this would help you. But, give me your views","body":"Try <code>DecimalFormat formatter = new DecimalFormat(&quot;0.00000000&quot;);</code> Not sure how this would help you. But, give me your views"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1525778789,"post_id":50231865,"comment_id":87482199,"body_markdown":"You could just pass the JSON through as received from the user, then. Store it as an unparsed string. Parse to validate and inspect, but then pass on the original. Otherwise things like whitespace or order of keys might also throw you off.","body":"You could just pass the JSON through as received from the user, then. Store it as an unparsed string. Parse to validate and inspect, but then pass on the original. Otherwise things like whitespace or order of keys might also throw you off."},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1525789920,"post_id":50231865,"comment_id":87489524,"body_markdown":"https://stackoverflow.com/q/11520781/3295987 have a look","body":"<a href=\"https://stackoverflow.com/q/11520781/3295987\">stackoverflow.com/q/11520781/3295987</a> have a look"},{"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"score":0,"creation_date":1525947574,"post_id":50231865,"comment_id":87558461,"body_markdown":"Thanks guys, i solved the problem by using `BigDecimal.valueOf(double)` so it convert it from 1.2345678923E8 to 123456789.23","body":"Thanks guys, i solved the problem by using <code>BigDecimal.valueOf(double)</code> so it convert it from 1.2345678923E8 to 123456789.23"}],"answers":[{"tags":[],"owner":{"account_id":10568808,"reputation":21,"user_id":7786270,"display_name":"yabets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670867247,"creation_date":1670867247,"answer_id":74775246,"question_id":50231865,"body_markdown":"You can have a deserialiser and utilise a fasterxml(com.fasterxml.jackson.databind.annotation.JsonSerialize) annotation  \r\n\r\ndeserialiser class:\r\n\r\n        class DecimalJsonSerializer extends JsonSerializer&lt;Double&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Double value, JsonGenerator jsonGenerator, SerializerProvider provider)\r\n                throws IOException {\r\n    \r\n            jsonGenerator.writeNumber(String.format(&quot;%.1f&quot;, value));\r\n        }\r\n    }\r\n\r\n\r\nAnd the annotation on your field should look like:\r\n\r\n    @JsonSerialize(using = DecimalJsonSerializer.class)\r\n    private Double total_amount;\r\n\r\n","title":"Can JSONObject hold large formatted Double value using java?","body":"<p>You can have a deserialiser and utilise a fasterxml(com.fasterxml.jackson.databind.annotation.JsonSerialize) annotation</p>\n<p>deserialiser class:</p>\n<pre><code>    class DecimalJsonSerializer extends JsonSerializer&lt;Double&gt; {\n\n    @Override\n    public void serialize(Double value, JsonGenerator jsonGenerator, SerializerProvider provider)\n            throws IOException {\n\n        jsonGenerator.writeNumber(String.format(&quot;%.1f&quot;, value));\n    }\n}\n</code></pre>\n<p>And the annotation on your field should look like:</p>\n<pre><code>@JsonSerialize(using = DecimalJsonSerializer.class)\nprivate Double total_amount;\n</code></pre>\n"}],"owner":{"account_id":8006176,"reputation":74,"user_id":6039420,"display_name":"MaJiD"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670867247,"creation_date":1525776750,"question_id":50231865,"body_markdown":"**Greetings,**\r\n&lt;br&gt;\r\n&lt;p&gt; I have &lt;b&gt;JSONObject&lt;/b&gt; that contain payment information, today our customer asked for 10 digit number formatted as &lt;b&gt;(1234567890.12)&lt;/b&gt;, i have parameter &lt;b&gt; total_amount &lt;/b&gt;, when i set this parameter value &lt;b&gt;{&quot;total_amount&quot;:123456789.23}&lt;/b&gt; it shown in server like &lt;b&gt; {&quot;total_amount&quot;:1.2345678923E8} &lt;/b&gt;, is there anyway that i can make JSONObject hold it as &lt;b&gt;123456789.23&lt;/b&gt;\r\n&lt;/p&gt;","title":"Can JSONObject hold large formatted Double value using java?","body":"<p><strong>Greetings,</strong>\n<br></p>\n\n<p> I have <b>JSONObject</b> that contain payment information, today our customer asked for 10 digit number formatted as <b>(1234567890.12)</b>, i have parameter <b> total_amount </b>, when i set this parameter value <b>{\"total_amount\":123456789.23}</b> it shown in server like <b> {\"total_amount\":1.2345678923E8} </b>, is there anyway that i can make JSONObject hold it as <b>123456789.23</b>\n</p>\n"},{"tags":["java","android","image","variables","android-activity"],"comments":[{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1670867102,"post_id":74775098,"comment_id":131967618,"body_markdown":"I think you don&#39;t need to create 100 activities, you have 1 table, you pass this item clicked to a new activity, then this activity show it. I mean 1 activity that you pass an element you clicked","body":"I think you don&#39;t need to create 100 activities, you have 1 table, you pass this item clicked to a new activity, then this activity show it. I mean 1 activity that you pass an element you clicked"},{"owner":{"account_id":27230994,"reputation":1,"user_id":20758702,"display_name":" "},"score":0,"creation_date":1670867738,"post_id":74775098,"comment_id":131967820,"body_markdown":"i know that every image must have a activity to  define and to show in the screen after I clicked the name I&#39;m a beginner and i didn&#39;t know how to write the code to customize in one activity","body":"i know that every image must have a activity to  define and to show in the screen after I clicked the name I&#39;m a beginner and i didn&#39;t know how to write the code to customize in one activity"},{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1670868091,"post_id":74775098,"comment_id":131967928,"body_markdown":"Check this out https://stackoverflow.com/questions/31868468/how-do-i-open-an-image-by-clicking-on-a-listview-in-android","body":"Check this out <a href=\"https://stackoverflow.com/questions/31868468/how-do-i-open-an-image-by-clicking-on-a-listview-in-android\" title=\"how do i open an image by clicking on a listview in android\">stackoverflow.com/questions/31868468/&hellip;</a>"}],"owner":{"account_id":27230994,"reputation":1,"user_id":20758702,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670867190,"creation_date":1670866549,"question_id":74775098,"body_markdown":"i create a (table) list of names, and images of those names in drawable, and each image i create an activity   so when i click the name it show the image in new activity .\r\n(100 names means 100 activities)\r\nthe question is:\r\nhow to make one constant activity instead of many activities having image as variable?\r\n(100 names need main activity and constant activity)   \r\n\r\nI watch many tutorials but didn&#39;t find the answer","title":"how to make a constant activity with many variable images, data..... : android studio","body":"<p>i create a (table) list of names, and images of those names in drawable, and each image i create an activity   so when i click the name it show the image in new activity .\n(100 names means 100 activities)\nthe question is:\nhow to make one constant activity instead of many activities having image as variable?\n(100 names need main activity and constant activity)</p>\n<p>I watch many tutorials but didn't find the answer</p>\n"},{"tags":["java","macos","command-line","zsh","java-home"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670866025,"post_id":74774824,"comment_id":131967228,"body_markdown":"*export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home)* That&#39;s quite wrong. You&#39;re attempting to assign the result of a *command* to a variable. That should be `export JAVA_HOME=$HOME/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home`","body":"<i>export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachi&zwnj;&#8203;nes/corretto-11.0.17&zwnj;&#8203;/Contents/Home)</i> That&#39;s quite wrong. You&#39;re attempting to assign the result of a <i>command</i> to a variable. That should be <code>export JAVA_HOME=$HOME&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;corretto-11&zwnj;&#8203;.0.17&#47;Contents&#47;Home</code>"},{"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"score":0,"creation_date":1670866548,"post_id":74774824,"comment_id":131967404,"body_markdown":"@g00se thanks for the suggestion. I changed my export command to `export JAVA_HOME=$HOME/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home`, and now when I run `source ~/.zshrc` I don&#39;t get the permission denied error. But when I run `echo $JAVA_HOME`, I still get a blank line.","body":"@g00se thanks for the suggestion. I changed my export command to <code>export JAVA_HOME=$HOME&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;corretto-11&zwnj;&#8203;.0.17&#47;Contents&#47;Home</code>, and now when I run <code>source ~&#47;.zshrc</code> I don&#39;t get the permission denied error. But when I run <code>echo $JAVA_HOME</code>, I still get a blank line."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670867164,"post_id":74774824,"comment_id":131967633,"body_markdown":"What about `echo $SHELL`?","body":"What about <code>echo $SHELL</code>?"},{"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"score":0,"creation_date":1670868687,"post_id":74774824,"comment_id":131968138,"body_markdown":"@g00se `echo $SHELL` gives me `/bin/zsh`.","body":"@g00se <code>echo $SHELL</code> gives me <code>&#47;bin&#47;zsh</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670869183,"post_id":74774824,"comment_id":131968317,"body_markdown":"Are you able to post your .zshrc as code?","body":"Are you able to post your .zshrc as code?"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1670924019,"post_id":74774824,"comment_id":131979870,"body_markdown":"_whenever I run almost any command in the terminal_ : This looks that you have a hook function installed, which is executed for every command prompt (and on certain conditions may invoke `jenv`). Perhaps it would make sense to save your .zshrc (and other zsh setup files you may have) to somewhere and recreate them piece by piece.","body":"<i>whenever I run almost any command in the terminal</i> : This looks that you have a hook function installed, which is executed for every command prompt (and on certain conditions may invoke <code>jenv</code>). Perhaps it would make sense to save your .zshrc (and other zsh setup files you may have) to somewhere and recreate them piece by piece."}],"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670866876,"creation_date":1670865279,"question_id":74774824,"body_markdown":"I am trying to fix Java for projects I am working on on my local computer. I had jenv installed to switch between versions more easily, but at some point over the last couple of days I must have done something and messed up my `JAVA_HOME` environment variable and now I can&#39;t seem to fix it.\r\n\r\nI use zsh, and I am on a Mac running MacOS Monterey 12.2. I first tried uninstalling jenv (`brew uninstall jenv` - just wasn&#39;t really using it and seemed to be making things more confusing to solve this issue). Even though I did that and took jenv out of my `$PATH` variable, whenever I run almost any command in the terminal the statement &quot;**jenv:11: command not found: jenv**&quot; prints. I&#39;m not sure if that is a lesser issue, but something that probably needs to be solved.\r\n\r\nMy bigger issue is fixing Java on my machine. Up until a couple days ago this was not an issue, but now if I try to set `JAVA_HOME` in my `.zshrc` file like this\r\n\r\n```export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home)```\r\n\r\nand run `source ~/.zshrc` I get the message:\r\n\r\n```/Users/[user-name]/.zshrc:119: permission denied: /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home```\r\n\r\nThis happens no matter which Java version I try to set `JAVA_HOME` to. My Java installation directories and versions are as follows:\r\n\r\n    # dir - /Library/Java/JavaVirtualMachines\r\n    drwxr-xr-x  3 root  wheel   96 Apr 20  2021 adoptopenjdk-8.jdk\r\n    drwxr-xr-x  3 root  wheel   96 Oct 19 08:54 temurin-11.jdk\r\n\r\n    # dir - /Users/[user-name]/Library/Java/JavaVirtualMachines\r\n    drwxr-xr-x  3 [user-name]  staff   96 Dec 10 11:36 corretto-11.0.17\r\n    drwxr-xr-x  3 [user-name]  staff   96 Sep 30 09:56 corretto-17.0.4.1\r\n\r\nRunning `/usr/libexec/java_home -V` prints the following:\r\n\r\n    Matching Java Virtual Machines (4):\r\n        17.0.4 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 17&quot; /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-17.0.4.1/Contents/Home\r\n        11.0.17 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home\r\n        11.0.17 (x86_64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 11.0.17&quot; /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home\r\n        1.8.0_292 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 8&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n    /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-17.0.4.1/Contents/Home\r\n\r\nIf I run `echo $JAVA_HOME`, a blank line prints followed by `jenv:11: command not found: jenv`.\r\n\r\nI tried to run `unset JAVA_HOME`, followed by either:\r\n\r\n`export JAVA_HOME=/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home`\r\n\r\nor\r\n\r\n`export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home)`\r\n\r\nand don&#39;t get a permission denied error, only the `jenv:11: command not found: jenv` complaint. But after, if I run `echo $JAVA_HOME`, I still get a blank line followed by the jenv complaint.\r\n\r\nIt seems like no matter what I do, something keeps preventing me from setting `JAVA_HOME`.\r\n\r\nOut of desperation, I ran `mod 777 ~/.zshrc`, and also checked ***System Preferences -&gt; Security and Privacy -&gt; Full Disk Access*** and made sure that iTerm was checked in that list, and to check my user permissions I ran `sudo -l` and got the following:\r\n\r\n\r\n```\r\nUser [user-name] may run the following commands on [computer-name]:\r\n    (ALL) ALL\r\n```\r\n\r\nNone of that seemed to work either.\r\n\r\nI also use IntelliJ as my Java IDE; I don&#39;t know if something changed there that I&#39;m unaware of.\r\n\r\n\r\nAny help is appreciated. I would really just like to change my java version and have it working properly on my machine, and up until recently (aside from using jenv) I would change my `JAVA_HOME` value to wherever I had a version of Java installed.\r\n\r\nEdit: Worth noting that when I run `java -version`, I get the following:\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)\r\n```\r\n\r\nI&#39;ve also gone through various tutorials and other stackoverflow questions on how to set the `JAVA_HOME` environment variable, including:\r\n\r\n - https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\r\n - https://stackoverflow.com/questions/22842743/how-to-set-java-home-environment-variable-on-mac-os-x-10-9\r\n - https://www.youtube.com/watch?v=mENryUqoNzY\r\n\r\n-------------------------------------------------------------------\r\n\r\n**UPDATE**: As per a suggestion in the comments below, I changed my export statement in `~/.zshrc` to\r\n\r\n```\r\nexport JAVA_HOME=$HOME/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home\r\n```\r\n\r\nWhen I run `source ~/.zshrc` after that change, the console doesn&#39;t print `permission denied`, but when I run `echo $JAVA_HOME` I still get a blank line (followed by the jenv complaint).","title":"Cannot fix JAVA_HOME environment variable","body":"<p>I am trying to fix Java for projects I am working on on my local computer. I had jenv installed to switch between versions more easily, but at some point over the last couple of days I must have done something and messed up my <code>JAVA_HOME</code> environment variable and now I can't seem to fix it.</p>\n<p>I use zsh, and I am on a Mac running MacOS Monterey 12.2. I first tried uninstalling jenv (<code>brew uninstall jenv</code> - just wasn't really using it and seemed to be making things more confusing to solve this issue). Even though I did that and took jenv out of my <code>$PATH</code> variable, whenever I run almost any command in the terminal the statement &quot;<strong>jenv:11: command not found: jenv</strong>&quot; prints. I'm not sure if that is a lesser issue, but something that probably needs to be solved.</p>\n<p>My bigger issue is fixing Java on my machine. Up until a couple days ago this was not an issue, but now if I try to set <code>JAVA_HOME</code> in my <code>.zshrc</code> file like this</p>\n<p><code>export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home)</code></p>\n<p>and run <code>source ~/.zshrc</code> I get the message:</p>\n<p><code>/Users/[user-name]/.zshrc:119: permission denied: /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home</code></p>\n<p>This happens no matter which Java version I try to set <code>JAVA_HOME</code> to. My Java installation directories and versions are as follows:</p>\n<pre><code># dir - /Library/Java/JavaVirtualMachines\ndrwxr-xr-x  3 root  wheel   96 Apr 20  2021 adoptopenjdk-8.jdk\ndrwxr-xr-x  3 root  wheel   96 Oct 19 08:54 temurin-11.jdk\n\n# dir - /Users/[user-name]/Library/Java/JavaVirtualMachines\ndrwxr-xr-x  3 [user-name]  staff   96 Dec 10 11:36 corretto-11.0.17\ndrwxr-xr-x  3 [user-name]  staff   96 Sep 30 09:56 corretto-17.0.4.1\n</code></pre>\n<p>Running <code>/usr/libexec/java_home -V</code> prints the following:</p>\n<pre><code>Matching Java Virtual Machines (4):\n    17.0.4 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 17&quot; /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-17.0.4.1/Contents/Home\n    11.0.17 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home\n    11.0.17 (x86_64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 11.0.17&quot; /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home\n    1.8.0_292 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 8&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-17.0.4.1/Contents/Home\n</code></pre>\n<p>If I run <code>echo $JAVA_HOME</code>, a blank line prints followed by <code>jenv:11: command not found: jenv</code>.</p>\n<p>I tried to run <code>unset JAVA_HOME</code>, followed by either:</p>\n<p><code>export JAVA_HOME=/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home</code></p>\n<p>or</p>\n<p><code>export JAVA_HOME=$(/Users/[user-name]/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home)</code></p>\n<p>and don't get a permission denied error, only the <code>jenv:11: command not found: jenv</code> complaint. But after, if I run <code>echo $JAVA_HOME</code>, I still get a blank line followed by the jenv complaint.</p>\n<p>It seems like no matter what I do, something keeps preventing me from setting <code>JAVA_HOME</code>.</p>\n<p>Out of desperation, I ran <code>mod 777 ~/.zshrc</code>, and also checked <em><strong>System Preferences -&gt; Security and Privacy -&gt; Full Disk Access</strong></em> and made sure that iTerm was checked in that list, and to check my user permissions I ran <code>sudo -l</code> and got the following:</p>\n<pre><code>User [user-name] may run the following commands on [computer-name]:\n    (ALL) ALL\n</code></pre>\n<p>None of that seemed to work either.</p>\n<p>I also use IntelliJ as my Java IDE; I don't know if something changed there that I'm unaware of.</p>\n<p>Any help is appreciated. I would really just like to change my java version and have it working properly on my machine, and up until recently (aside from using jenv) I would change my <code>JAVA_HOME</code> value to wherever I had a version of Java installed.</p>\n<p>Edit: Worth noting that when I run <code>java -version</code>, I get the following:</p>\n<pre><code>java -version\nopenjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS\nOpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)\n</code></pre>\n<p>I've also gone through various tutorials and other stackoverflow questions on how to set the <code>JAVA_HOME</code> environment variable, including:</p>\n<ul>\n<li><a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22842743/how-to-set-java-home-environment-variable-on-mac-os-x-10-9\">How to set JAVA_HOME environment variable on Mac OS X 10.9?</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=mENryUqoNzY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=mENryUqoNzY</a></li>\n</ul>\n<hr />\n<p><strong>UPDATE</strong>: As per a suggestion in the comments below, I changed my export statement in <code>~/.zshrc</code> to</p>\n<pre><code>export JAVA_HOME=$HOME/Library/Java/JavaVirtualMachines/corretto-11.0.17/Contents/Home\n</code></pre>\n<p>When I run <code>source ~/.zshrc</code> after that change, the console doesn't print <code>permission denied</code>, but when I run <code>echo $JAVA_HOME</code> I still get a blank line (followed by the jenv complaint).</p>\n"},{"tags":["java","reflection","enums"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670856454,"post_id":74772849,"comment_id":131963687,"body_markdown":"1. it makes no sense. 2. `Numbers.valueOf(ClassWithStaticMembers.ONE.toUpperCase());`","body":"1. it makes no sense. 2. <code>Numbers.valueOf(ClassWithStaticMembers.ONE.toUpperCase());</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1670856731,"post_id":74772849,"comment_id":131963817,"body_markdown":"What convenience of coding, exactly? Just using the constant name is pretty much the same if it&#39;s a static final or if it&#39;s an enum constant. The question is if there are any other attributes of enum which you consider important.","body":"What convenience of coding, exactly? Just using the constant name is pretty much the same if it&#39;s a static final or if it&#39;s an enum constant. The question is if there are any other attributes of enum which you consider important."},{"owner":{"account_id":8519074,"reputation":1592,"user_id":6386632,"display_name":"phhu"},"score":0,"creation_date":1670856908,"post_id":74772849,"comment_id":131963858,"body_markdown":"Convenience, possibly mixed with Java ignorance and laziness, is that I have a context where an enum is used (like the one above, but with more than 100 values), and I&#39;ve found a class which has the same values as static members. I&#39;m either too lazy, scared or not allowed to change either context, so I want a function to map between them (of form Class -&gt; Enum or otherwise). I don&#39;t want to duplicate values (so that I benefit from future updates of the class, for example, in the enum-using contexts).","body":"Convenience, possibly mixed with Java ignorance and laziness, is that I have a context where an enum is used (like the one above, but with more than 100 values), and I&#39;ve found a class which has the same values as static members. I&#39;m either too lazy, scared or not allowed to change either context, so I want a function to map between them (of form Class -&gt; Enum or otherwise). I don&#39;t want to duplicate values (so that I benefit from future updates of the class, for example, in the enum-using contexts)."},{"owner":{"account_id":8519074,"reputation":1592,"user_id":6386632,"display_name":"phhu"},"score":0,"creation_date":1670857288,"post_id":74772849,"comment_id":131963985,"body_markdown":"&quot; If you simply want to parse these strings into constants of an existing enum, then it doesn&#39;t require usage of refection&quot;: possible I this is what I want: how do I do it?","body":"&quot; If you simply want to parse these strings into constants of an existing enum, then it doesn&#39;t require usage of refection&quot;: possible I this is what I want: how do I do it?"}],"answers":[{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670862168,"creation_date":1670857297,"answer_id":74773078,"question_id":74772849,"body_markdown":"To make it simple: Enum are statically described so there isn&#39;t any possibility to create it by reflection.\r\n\r\nYou can still create an enumeration that wraps your constants, and optionally had a unit test (that uses reflection) to ensure that your enum is complete.\r\n\r\n    public enum NumbersEnumeration {\r\n      ONE(ClassWithStaticMembers.ONE),\r\n      TWO(ClassWithStaticMembers.TWO);\r\n      private static final String name;\r\n      public String getName(){return name};\r\n      public NumbersEnumeration(String name){this.name=name;}\r\n    }\r\n\r\n\r\n    public class NumbersEnumerationTest{\r\n\r\n      @Test\r\n      public void checkEnumComplete() throws Exception{\r\n        var fields = List.of(ClassWithStaticMembers.class.getDeclaredFields());\r\n        for( var field:fields){\r\n          Assertions.assertNotNull(NumbersEnumeration.valueof(field.getName());\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n(there may be compilation problems on reflection but you got the idea)","title":"How to get an enum of static class members in Java?","body":"<p>To make it simple: Enum are statically described so there isn't any possibility to create it by reflection.</p>\n<p>You can still create an enumeration that wraps your constants, and optionally had a unit test (that uses reflection) to ensure that your enum is complete.</p>\n<pre><code>public enum NumbersEnumeration {\n  ONE(ClassWithStaticMembers.ONE),\n  TWO(ClassWithStaticMembers.TWO);\n  private static final String name;\n  public String getName(){return name};\n  public NumbersEnumeration(String name){this.name=name;}\n}\n\n\npublic class NumbersEnumerationTest{\n\n  @Test\n  public void checkEnumComplete() throws Exception{\n    var fields = List.of(ClassWithStaticMembers.class.getDeclaredFields());\n    for( var field:fields){\n      Assertions.assertNotNull(NumbersEnumeration.valueof(field.getName());\n    }\n  }\n}\n</code></pre>\n<p>(there may be compilation problems on reflection but you got the idea)</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670866767,"creation_date":1670864418,"answer_id":74774660,"question_id":74772849,"body_markdown":"You can obtain `java.lang.reflect.Field` instances representing fields defined by your class using `Class.getDeclaredFields()` and filter out those that marked as `static` and access their values.\r\n\r\n**But** the problem is that `getDeclaredFields()` does **not guarantee** that an array it returns would be ordered in any particular way. Here&#39;s a quote from the [**documentation**][getDeclaredFields]:\r\n\r\n&gt; The elements in the returned array are **not sorted** and are **not in any particular order**.\r\n\r\nSo if you were thinking about associating static fields and enum members automatically based on their order of declaration, then it wouldn&#39;t work, Reflection API can&#39;t help here.\r\n\r\nI would advise introducing a separate utility-class which would wrap a `Map` associating string values and enum constants.\r\n\r\n    public class NumbersUtils {\r\n        public static final Map&lt;String, Numbers&gt; NUMBERS = Map.ofEntries(\r\n            Map.entry(&quot;one&quot;, Numbers.ONE),\r\n            Map.entry(&quot;dos&quot;, Numbers.TWO),\r\n            ...\r\n        );\r\n        \r\n        private NumbersUtils() {} // utility classes are not meant to be instantiated\r\n    \r\n        public static Numbers toNumber(String str) {\r\n            if (!NUMBERS.containsKey(str)) throw new IllegalStateException(); // or remove this line if you don&#39;s want to throw in such case, method would return null instead\r\n            \r\n            return NUMBERS.get(str);\r\n        }\r\n    }\r\n\r\nEven if you have a possibility of modifying the enum, probably it would be better to keep this logic outside the enum and within the enum you can introduce a method delegating to `NumbersUtils.toNumber()`\r\n\r\n&lt;h3&gt;Sidenotes:&lt;/h3&gt;\r\n\r\n* If these static strings and enums in your code represent the same thing in different languages, and they are mean to facilitate internationalization of the application, then keeping hard-coded strings you might want to get familiar with the proper I18N technics (through `properties` files and `ResourceBundle`s). [This tutorial][i18n] will give a general idea on that topic.\r\n\r\n* Try to adhere to the [Java language naming conventions][conventions] while writing code. Names enums (as well as classes and interfaces) should newer be written in uppercase.\r\n\r\n\r\n\r\n   [getDeclaredFields]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getDeclaredFields()\r\n\r\n   [i18n]: https://docs.oracle.com/javase/tutorial/i18n/intro/index.html\r\n\r\n   [converntions]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to get an enum of static class members in Java?","body":"<p>You can obtain <code>java.lang.reflect.Field</code> instances representing fields defined by your class using <code>Class.getDeclaredFields()</code> and filter out those that marked as <code>static</code> and access their values.</p>\n<p><strong>But</strong> the problem is that <code>getDeclaredFields()</code> does <strong>not guarantee</strong> that an array it returns would be ordered in any particular way. Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getDeclaredFields()\" rel=\"nofollow noreferrer\"><strong>documentation</strong></a>:</p>\n<blockquote>\n<p>The elements in the returned array are <strong>not sorted</strong> and are <strong>not in any particular order</strong>.</p>\n</blockquote>\n<p>So if you were thinking about associating static fields and enum members automatically based on their order of declaration, then it wouldn't work, Reflection API can't help here.</p>\n<p>I would advise introducing a separate utility-class which would wrap a <code>Map</code> associating string values and enum constants.</p>\n<pre><code>public class NumbersUtils {\n    public static final Map&lt;String, Numbers&gt; NUMBERS = Map.ofEntries(\n        Map.entry(&quot;one&quot;, Numbers.ONE),\n        Map.entry(&quot;dos&quot;, Numbers.TWO),\n        ...\n    );\n    \n    private NumbersUtils() {} // utility classes are not meant to be instantiated\n\n    public static Numbers toNumber(String str) {\n        if (!NUMBERS.containsKey(str)) throw new IllegalStateException(); // or remove this line if you don's want to throw in such case, method would return null instead\n        \n        return NUMBERS.get(str);\n    }\n}\n</code></pre>\n<p>Even if you have a possibility of modifying the enum, probably it would be better to keep this logic outside the enum and within the enum you can introduce a method delegating to <code>NumbersUtils.toNumber()</code></p>\n<h3>Sidenotes:</h3>\n<ul>\n<li><p>If these static strings and enums in your code represent the same thing in different languages, and they are mean to facilitate internationalization of the application, then keeping hard-coded strings you might want to get familiar with the proper I18N technics (through <code>properties</code> files and <code>ResourceBundle</code>s). <a href=\"https://docs.oracle.com/javase/tutorial/i18n/intro/index.html\" rel=\"nofollow noreferrer\">This tutorial</a> will give a general idea on that topic.</p>\n</li>\n<li><p>Try to adhere to the [Java language naming conventions][conventions] while writing code. Names enums (as well as classes and interfaces) should newer be written in uppercase.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8519074,"reputation":1592,"user_id":6386632,"display_name":"phhu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670866767,"creation_date":1670856290,"question_id":74772849,"body_markdown":"I have a Java class (which I do not control and cannot modify) which has a large number of static String members. How can I have these as an enum (for convenience in coding)? \r\n\r\nE.g. I have:\r\n\r\n```java\r\npublic class ClassWithStaticMembers {\r\n  public static String ONE = &quot;one&quot;;\r\n  public static String TWO = &quot;dos&quot;;\r\n}\r\n```\r\n\r\n...and I want to derive the following from it:\r\n\r\n```java\r\npublic enum NUMBERS {\r\n  ONE,\r\n  TWO\r\n}\r\n```\r\n\r\nIs this possible, with reflection or otherwise? \r\n\r\n(Assume I don&#39;t know Java well, and that I have 100+ values, so repeating each is painful and not desirable (in case more values get added later). Also I don&#39;t need the actual values from the class (&quot;one&quot; and &quot;dos&quot; above)).","title":"How to get an enum of static class members in Java?","body":"<p>I have a Java class (which I do not control and cannot modify) which has a large number of static String members. How can I have these as an enum (for convenience in coding)?</p>\n<p>E.g. I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassWithStaticMembers {\n  public static String ONE = &quot;one&quot;;\n  public static String TWO = &quot;dos&quot;;\n}\n</code></pre>\n<p>...and I want to derive the following from it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum NUMBERS {\n  ONE,\n  TWO\n}\n</code></pre>\n<p>Is this possible, with reflection or otherwise?</p>\n<p>(Assume I don't know Java well, and that I have 100+ values, so repeating each is painful and not desirable (in case more values get added later). Also I don't need the actual values from the class (&quot;one&quot; and &quot;dos&quot; above)).</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1670866801,"post_id":74775120,"comment_id":131967517,"body_markdown":"It seems you should be doing + ${graphVariable}","body":"It seems you should be doing + ${graphVariable}"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1670866978,"post_id":74775120,"comment_id":131967575,"body_markdown":"You may need a comma after base64","body":"You may need a comma after base64"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1670918369,"post_id":74775120,"comment_id":131978081,"body_markdown":"Is `graph` the actual SVG as a String? If so, you could just include the SVG itself without using an `img` tag.","body":"Is <code>graph</code> the actual SVG as a String? If so, you could just include the SVG itself without using an <code>img</code> tag."},{"owner":{"account_id":15362424,"reputation":29,"user_id":11082878,"display_name":"anony_std"},"score":0,"creation_date":1670933846,"post_id":74775120,"comment_id":131983269,"body_markdown":"@WimDeblauwe I tried to insert the actual svg string, but it is not displayed as an image, instead it is displayed as a text string. That&#39;s where I am stuck.","body":"@WimDeblauwe I tried to insert the actual svg string, but it is not displayed as an image, instead it is displayed as a text string. That&#39;s where I am stuck."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1670933963,"post_id":74775120,"comment_id":131983309,"body_markdown":"Have you checked in the browser how the generated HTML looks like? Did you use `[(...)]` to insert it?","body":"Have you checked in the browser how the generated HTML looks like? Did you use <code>[(...)]</code> to insert it?"},{"owner":{"account_id":15362424,"reputation":29,"user_id":11082878,"display_name":"anony_std"},"score":0,"creation_date":1670934072,"post_id":74775120,"comment_id":131983354,"body_markdown":"@WimDeblauwe no, i am storing the text file in a variable and trying to insert it using this fragment:  ``` &lt;span th:text=&quot;${graphVariable}&quot;&gt; ```","body":"@WimDeblauwe no, i am storing the text file in a variable and trying to insert it using this fragment:  ``` &lt;span th:text=&quot;${graphVariable}&quot;&gt; ```"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1671010441,"post_id":74775120,"comment_id":132002658,"body_markdown":"Try with `th:utext` instead of `th:text`","body":"Try with <code>th:utext</code> instead of <code>th:text</code>"}],"owner":{"account_id":15362424,"reputation":29,"user_id":11082878,"display_name":"anony_std"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670866662,"creation_date":1670866662,"question_id":74775120,"body_markdown":"I am stuck at one point where I have to display a SVG image on the springboot webpage, which is generated from Graphviz code in Java.\r\nAny help is highly appreciated. \r\n\r\nThis is my controller class.  \r\n\r\n```\r\n\t@RequestMapping(value = &quot;/e2emap&quot;, method = RequestMethod.GET)\r\n\tpublic String getE2E_WebPage(Model model\r\n\t\t\t@RequestParam(name = Query_refresh_param, required = false) String refreshInterval) throws IOException {\r\n\t\tfinal var graph = graphGenerator.createGraph();\r\n\t\tfinal String graphString = java.util.Base64.getEncoder().encodeToString(graph);\r\n\r\n\t\tmodel.addAttribute(&quot;graphVariable&quot;, graphString);\r\n\t\tmodel.addAttribute(&quot;graph&quot;, graph);\r\n\r\n\t\treturn &quot;Dynamic&quot;;\r\n```\r\nHere is the Dynamic.html file. \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n &lt;meta charset = &quot;UTF-8&quot; /&gt;\r\n &lt;link href=&quot;../static/css/styles.css&quot; data-th-href=&quot;@{/css/styles.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n &lt;title&gt;SRE End-2-End flow&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n &lt;div class=&quot;title&quot;&gt;&lt;a class=&quot;a-sre-e2e&quot; &gt;SRE End-2-End Flow&lt;/a&gt;&lt;/div&gt;\r\n &lt;meta http-equiv= &quot;refresh&quot; content = &quot;15 &quot; /&gt;\r\n &lt;p&gt;\r\n &lt;form action=&quot;/e2emap&quot; method=&quot;get&quot;&gt;\r\n &lt;span class=&quot;variable-title&quot;&gt;Target Environment&lt;/span&gt;\r\n &lt;select class=&quot;variable-combobox-values&quot; name=&quot;target_env&quot; id=&quot;target_env&quot; onchange=&quot;submit()&quot;&gt; \r\n &lt;option th:each=&quot;env : ${environments}&quot; th:text=&quot;${env}&quot; th:selected=&quot;${env}==${targetEnv}&quot;&gt;sample-env&lt;/option&gt;\r\n   &lt;/select&gt;\r\n  &lt;/form&gt;\r\n  &lt;h1 th:text=&quot;${targetEnv}&quot;&gt;bla-bla&lt;/h1&gt;\r\n  &lt;span&gt;\r\n  &lt;img th:src=&quot;@{&#39;data:graph/svg;base64&#39; + ${graph}}&quot;&gt; &lt;/img&gt; Image\r\n  &lt;/span&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nSome points to specify: \r\nmethod createGraph() is the main method that uses graphviz to generate the graph and returns the graph in byteArray[] form. \r\n\r\nThe html has a drop down list to select different values. On-click, it should display the graph, which is not happening at the moment. \r\n","title":"How to dynamically generate SVG image from java code in thymeleaf?","body":"<p>I am stuck at one point where I have to display a SVG image on the springboot webpage, which is generated from Graphviz code in Java.\nAny help is highly appreciated.</p>\n<p>This is my controller class.</p>\n<pre><code>    @RequestMapping(value = &quot;/e2emap&quot;, method = RequestMethod.GET)\n    public String getE2E_WebPage(Model model\n            @RequestParam(name = Query_refresh_param, required = false) String refreshInterval) throws IOException {\n        final var graph = graphGenerator.createGraph();\n        final String graphString = java.util.Base64.getEncoder().encodeToString(graph);\n\n        model.addAttribute(&quot;graphVariable&quot;, graphString);\n        model.addAttribute(&quot;graph&quot;, graph);\n\n        return &quot;Dynamic&quot;;\n</code></pre>\n<p>Here is the Dynamic.html file.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n &lt;meta charset = &quot;UTF-8&quot; /&gt;\n &lt;link href=&quot;../static/css/styles.css&quot; data-th-href=&quot;@{/css/styles.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n &lt;title&gt;SRE End-2-End flow&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;div class=&quot;title&quot;&gt;&lt;a class=&quot;a-sre-e2e&quot; &gt;SRE End-2-End Flow&lt;/a&gt;&lt;/div&gt;\n &lt;meta http-equiv= &quot;refresh&quot; content = &quot;15 &quot; /&gt;\n &lt;p&gt;\n &lt;form action=&quot;/e2emap&quot; method=&quot;get&quot;&gt;\n &lt;span class=&quot;variable-title&quot;&gt;Target Environment&lt;/span&gt;\n &lt;select class=&quot;variable-combobox-values&quot; name=&quot;target_env&quot; id=&quot;target_env&quot; onchange=&quot;submit()&quot;&gt; \n &lt;option th:each=&quot;env : ${environments}&quot; th:text=&quot;${env}&quot; th:selected=&quot;${env}==${targetEnv}&quot;&gt;sample-env&lt;/option&gt;\n   &lt;/select&gt;\n  &lt;/form&gt;\n  &lt;h1 th:text=&quot;${targetEnv}&quot;&gt;bla-bla&lt;/h1&gt;\n  &lt;span&gt;\n  &lt;img th:src=&quot;@{'data:graph/svg;base64' + ${graph}}&quot;&gt; &lt;/img&gt; Image\n  &lt;/span&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Some points to specify:\nmethod createGraph() is the main method that uses graphviz to generate the graph and returns the graph in byteArray[] form.</p>\n<p>The html has a drop down list to select different values. On-click, it should display the graph, which is not happening at the moment.</p>\n"},{"tags":["java","xml","spring","maven","filenotfoundexception"],"owner":{"account_id":10409307,"reputation":1,"user_id":7675231,"display_name":"Claire P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670866621,"creation_date":1670866621,"question_id":74775109,"body_markdown":"We are upgrading a library and are running into an error when loading the App context:\r\n\r\nAbstractApplicationContext appCtx = new ClassPathXmlApplicationContext(&quot;/spring/**/*.xml&quot;);\r\n\r\nThe relevant xml (container-service.xml) has never been part of this project, but is mentioned in the xmls of a few dependencies. Even when these dependencies are excluded, we see the below error. I am wondering how we can resolve this? is there an issue with the the way the application context is being loaded? Thank you!\r\n\r\nThe error is:\r\n\r\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Failed to import bean definitions from URL location [classpath:/spring/container-service.xml]\r\nOffending resource: class path resource [spring/attribute-management-remote-service.xml]; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [spring/container-service.xml]; nested exception is java.io.FileNotFoundException: class path resource [spring/container-service.xml] cannot be opened because it does not exist\r\n    at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72)\r\n    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:119)\r\n    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:104)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(DefaultBeanDefinitionDocumentReader.java:240)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseDefaultElement(DefaultBeanDefinitionDocumentReader.java:191)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:176)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    at \r\n\r\n","title":"java.io.FileNotFoundException: class path resource [spring/container-service.xml] cannot be opened because it does not exist","body":"<p>We are upgrading a library and are running into an error when loading the App context:</p>\n<p>AbstractApplicationContext appCtx = new ClassPathXmlApplicationContext(&quot;/spring/**/*.xml&quot;);</p>\n<p>The relevant xml (container-service.xml) has never been part of this project, but is mentioned in the xmls of a few dependencies. Even when these dependencies are excluded, we see the below error. I am wondering how we can resolve this? is there an issue with the the way the application context is being loaded? Thank you!</p>\n<p>The error is:</p>\n<p>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Failed to import bean definitions from URL location [classpath:/spring/container-service.xml]\nOffending resource: class path resource [spring/attribute-management-remote-service.xml]; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [spring/container-service.xml]; nested exception is java.io.FileNotFoundException: class path resource [spring/container-service.xml] cannot be opened because it does not exist\nat org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72)\nat org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:119)\nat org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:104)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(DefaultBeanDefinitionDocumentReader.java:240)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseDefaultElement(DefaultBeanDefinitionDocumentReader.java:191)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:176)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\nat</p>\n"},{"tags":["java","xml","pdf","base64","itext"],"owner":{"account_id":26787724,"reputation":1,"user_id":20381643,"display_name":"Nikz5454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670866301,"creation_date":1670866301,"question_id":74775039,"body_markdown":"I am having html document whose base64 data is stored in XML format(means when I decode that base64 data online I get an XML file). Now, I want to decode that base64 data and convert into PDF in my java code. \r\n\r\n```\r\nbyte[] bytes = string.getBytes();\r\nString encoded = Base64.getEncoder().encodeToString(bytes);\r\nbyte[] decode = Base64.getDecoder().decode(bytes);\r\nString htmlStr= new String(decode);\r\nbyte[] fileArray = new byte[0];\r\nfinal String testFilename = &quot;test.pdf&quot;;\r\nfinal File testFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;), testFilename);\r\n\r\ntry {\r\n     HtmlConverter.convertToPdf(htmlContent,new FileOutputStream(localFile));\r\n     fileBlob = FileUtil.read(localFile);\r\n}catch (Exception e) {\r\n     e.printStackTrace();\r\n}\r\n```\r\n\r\n\r\nI tried to convert the document above code but I am getting exception while converting to PDF using HtmlConverter as \r\n\r\n```\r\njava.lang.IllegalArgumentException: Invalid token detected at the beginning of the selector string: &quot; &quot;\r\n\tat com.itextpdf.styledxmlparser.css.parse.CssSelectorParser.parseSelectorItems(CssSelectorParser.java:133) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.selector.CssSelector.&lt;init&gt;(CssSelector.java:76) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.CssRuleSetParser.parseRuleSet(CssRuleSetParser.java:133) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.processProperties(CssParserStateController.java:390) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.storeCurrentProperties(CssParserStateController.java:315) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.syntax.BlockState.process(BlockState.java:70) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.process(CssParserStateController.java:179) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:84) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:111) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:124) ~[styled-xml-parser-7.2.3.jar:na]\r\n\tat com.itextpdf.html2pdf.css.resolve.DefaultCssResolver.collectCssDeclarations(DefaultCssResolver.java:316) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.css.resolve.DefaultCssResolver.&lt;init&gt;(DefaultCssResolver.java:138) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.attach.impl.DefaultHtmlProcessor.processDocument(DefaultHtmlProcessor.java:251) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.attach.Attacher.attach(Attacher.java:78) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToDocument(HtmlConverter.java:331) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:141) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:128) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:105) ~[html2pdf-4.0.3.jar:na]\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:93) ~[html2pdf-4.0.3.jar:na]\r\n\r\n```\r\n","title":"Read and Decode base64 XML and convert it to PDF","body":"<p>I am having html document whose base64 data is stored in XML format(means when I decode that base64 data online I get an XML file). Now, I want to decode that base64 data and convert into PDF in my java code.</p>\n<pre><code>byte[] bytes = string.getBytes();\nString encoded = Base64.getEncoder().encodeToString(bytes);\nbyte[] decode = Base64.getDecoder().decode(bytes);\nString htmlStr= new String(decode);\nbyte[] fileArray = new byte[0];\nfinal String testFilename = &quot;test.pdf&quot;;\nfinal File testFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;), testFilename);\n\ntry {\n     HtmlConverter.convertToPdf(htmlContent,new FileOutputStream(localFile));\n     fileBlob = FileUtil.read(localFile);\n}catch (Exception e) {\n     e.printStackTrace();\n}\n</code></pre>\n<p>I tried to convert the document above code but I am getting exception while converting to PDF using HtmlConverter as</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid token detected at the beginning of the selector string: &quot; &quot;\n    at com.itextpdf.styledxmlparser.css.parse.CssSelectorParser.parseSelectorItems(CssSelectorParser.java:133) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.selector.CssSelector.&lt;init&gt;(CssSelector.java:76) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.CssRuleSetParser.parseRuleSet(CssRuleSetParser.java:133) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.processProperties(CssParserStateController.java:390) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.storeCurrentProperties(CssParserStateController.java:315) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.syntax.BlockState.process(BlockState.java:70) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.syntax.CssParserStateController.process(CssParserStateController.java:179) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:84) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:111) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.styledxmlparser.css.parse.CssStyleSheetParser.parse(CssStyleSheetParser.java:124) ~[styled-xml-parser-7.2.3.jar:na]\n    at com.itextpdf.html2pdf.css.resolve.DefaultCssResolver.collectCssDeclarations(DefaultCssResolver.java:316) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.css.resolve.DefaultCssResolver.&lt;init&gt;(DefaultCssResolver.java:138) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.attach.impl.DefaultHtmlProcessor.processDocument(DefaultHtmlProcessor.java:251) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.attach.Attacher.attach(Attacher.java:78) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.HtmlConverter.convertToDocument(HtmlConverter.java:331) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:141) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:128) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:105) ~[html2pdf-4.0.3.jar:na]\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:93) ~[html2pdf-4.0.3.jar:na]\n\n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":3822436,"reputation":1171,"user_id":3170186,"accept_rate":88,"display_name":"Atequer Rahman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1524635225,"creation_date":1524635225,"answer_id":50014823,"question_id":50014402,"body_markdown":"I have found the problem after doing some R&amp;D. Problem is in report page. Java code is ok. `JRXmlLoader can&#39;t load xml of the report page accurately. So SAXParser wasn&#39;t able to parse xml.` That&#39;s why I am getting error. ","title":"cvc-complex-type.2.1: Element &#39;property&#39; must have no character or element information item [children], because the type&#39;s content type is empty","body":"<p>I have found the problem after doing some R&amp;D. Problem is in report page. Java code is ok. <code>JRXmlLoader can't load xml of the report page accurately. So SAXParser wasn't able to parse xml.</code> That's why I am getting error. </p>\n"}],"owner":{"account_id":3822436,"reputation":1171,"user_id":3170186,"accept_rate":88,"display_name":"Atequer Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50014823,"answer_count":1,"score":0,"last_activity_date":1670866262,"creation_date":1524632824,"question_id":50014402,"body_markdown":"I am developing report using jasper report with spring mvc. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELGQL.png\r\n\r\nI am getting blank page with following error while clicking on view button.\r\n\r\n    net.sf.jasperreports.engine.JRException: org.xml.sax.SAXParseException; lineNumber: 59; columnNumber: 14; cvc-complex-type.2.1: Element &#39;property&#39; must have no character or element information item [children], because the type&#39;s content type is empty.\r\n\tat net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:247)\r\n\tat net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:230)\r\n\tat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:218)\r\n\tat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:172)\r\n\tat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:156)\r\n\tat net.sf.jasperreports.engine.JasperCompileManager.compile(JasperCompileManager.java:171)\r\n\tat net.sf.jasperreports.engine.JasperCompileManager.compileReport(JasperCompileManager.java:448)\r\n\tat com.asd.cms.service.ReportService.getReport(ReportService.java:137)\r\n\tat com.asd.cms.service.ReportService.generateReport(ReportService.java:58)\r\n\tat com.asd.cms.controller.KGDLCReport.viewReport(KGDLCReport.java:70)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n...........................................................`\r\n\r\nMy Code of KGDLCReport.java: \r\n`com.asd.cms.controller.KGDLCReport.viewReport(KGDLCReport.java:70)` \t\r\n\r\n    @RequestMapping(&quot;/userWiseReportKGDLC&quot;)\r\n\t    public void viewReport(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tString dateFrom = request.getParameter(&quot;dateFrom&quot;);\r\n\t\tString dateTo = request.getParameter(&quot;dateTo&quot;);\r\n\t\tString outputFormat = request.getParameter(&quot;outputFormat&quot;);\r\n\t\t\r\n\t\tMap&lt;String,Object&gt; param = new HashMap&lt;String,Object&gt;();\r\n\t\tparam.put(&quot;dateFrom&quot;, dateFrom);\r\n\t\tparam.put(&quot;dateTo&quot;, dateTo);\r\n\t\t\r\n\t\tString path = request.getSession().getServletContext().getRealPath(&quot;/resources/jasper/KGDCL_Report1.jrxml&quot;);\r\n\t**KGDLCReport.java:70** -&gt;\treportService.generateReport(path, outputFormat, param, response);\r\n\t}\r\n\r\n`com.asd.cms.service.ReportService.generateReport(ReportService.java:58)`\r\n\r\n     public void generateReport(String path, String outputFormat, Map&lt;String, Object&gt; param, HttpServletResponse res){\r\n\t\ttry{\r\n\t\t\tif(new File(path).exists()){\r\n\t\t\t\t\r\n\t\t    \tJasperPrint jp = getReport(path, param);  // Line: 58\r\n\t\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\t\t//String outputFormat = req.getParameter(&quot;outputFormat&quot;);\r\n\t\t\t\tif(outputFormat.equals(&quot;pdf&quot;)){\r\n\t\t\t\t\t\r\n\t\t\t\t\tJasperExportManager.exportReportToPdfStream(jp, baos);\r\n                        .............\r\n             }\r\n        }     \r\n\r\n`com.asd.cms.service.ReportService.getReport(ReportService.java:137)`\r\n\r\n    public JasperPrint getReport(String path, Map&lt;String, Object&gt; parameters) throws SQLException{\r\n\t\tJasperPrint print = new JasperPrint();\t\t\r\n\t\tJasperReport report;\r\n\t\ttry {\r\n\r\n\t\t    System.out.println(&quot;Path inside ReportService.java line 135&quot;+path); \r\n\t\t    \r\n\t\t    report = JasperCompileManager.compileReport(path); //Line: 137 \r\n\t\t    \r\n\t\t\tprint = JasperFillManager.fillReport(report, parameters, jdbcTemplate.getDataSource().getConnection());\r\n\t\t\t\r\n\t\t} catch (JRException e) {  \r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn print;\r\n\t}        \r\n\r\nWhich one may be the cause of getting error? \r\nThanks in advance.","title":"cvc-complex-type.2.1: Element &#39;property&#39; must have no character or element information item [children], because the type&#39;s content type is empty","body":"<p>I am developing report using jasper report with spring mvc. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ELGQL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELGQL.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am getting blank page with following error while clicking on view button.</p>\n\n<pre><code>net.sf.jasperreports.engine.JRException: org.xml.sax.SAXParseException; lineNumber: 59; columnNumber: 14; cvc-complex-type.2.1: Element 'property' must have no character or element information item [children], because the type's content type is empty.\nat net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:247)\nat net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:230)\nat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:218)\nat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:172)\nat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:156)\nat net.sf.jasperreports.engine.JasperCompileManager.compile(JasperCompileManager.java:171)\nat net.sf.jasperreports.engine.JasperCompileManager.compileReport(JasperCompileManager.java:448)\nat com.asd.cms.service.ReportService.getReport(ReportService.java:137)\nat com.asd.cms.service.ReportService.generateReport(ReportService.java:58)\nat com.asd.cms.controller.KGDLCReport.viewReport(KGDLCReport.java:70)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\n</code></pre>\n\n<p>...........................................................`</p>\n\n<p>My Code of KGDLCReport.java: \n<code>com.asd.cms.controller.KGDLCReport.viewReport(KGDLCReport.java:70)</code>    </p>\n\n<pre><code>@RequestMapping(\"/userWiseReportKGDLC\")\n    public void viewReport(HttpServletRequest request, HttpServletResponse response) {\n    String dateFrom = request.getParameter(\"dateFrom\");\n    String dateTo = request.getParameter(\"dateTo\");\n    String outputFormat = request.getParameter(\"outputFormat\");\n\n    Map&lt;String,Object&gt; param = new HashMap&lt;String,Object&gt;();\n    param.put(\"dateFrom\", dateFrom);\n    param.put(\"dateTo\", dateTo);\n\n    String path = request.getSession().getServletContext().getRealPath(\"/resources/jasper/KGDCL_Report1.jrxml\");\n**KGDLCReport.java:70** -&gt;  reportService.generateReport(path, outputFormat, param, response);\n}\n</code></pre>\n\n<p><code>com.asd.cms.service.ReportService.generateReport(ReportService.java:58)</code></p>\n\n<pre><code> public void generateReport(String path, String outputFormat, Map&lt;String, Object&gt; param, HttpServletResponse res){\n    try{\n        if(new File(path).exists()){\n\n            JasperPrint jp = getReport(path, param);  // Line: 58\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            //String outputFormat = req.getParameter(\"outputFormat\");\n            if(outputFormat.equals(\"pdf\")){\n\n                JasperExportManager.exportReportToPdfStream(jp, baos);\n                    .............\n         }\n    }     \n</code></pre>\n\n<p><code>com.asd.cms.service.ReportService.getReport(ReportService.java:137)</code></p>\n\n<pre><code>public JasperPrint getReport(String path, Map&lt;String, Object&gt; parameters) throws SQLException{\n    JasperPrint print = new JasperPrint();      \n    JasperReport report;\n    try {\n\n        System.out.println(\"Path inside ReportService.java line 135\"+path); \n\n        report = JasperCompileManager.compileReport(path); //Line: 137 \n\n        print = JasperFillManager.fillReport(report, parameters, jdbcTemplate.getDataSource().getConnection());\n\n    } catch (JRException e) {  \n\n        e.printStackTrace();\n    }\n    return print;\n}        \n</code></pre>\n\n<p>Which one may be the cause of getting error? \nThanks in advance.</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1670860463,"post_id":74773651,"comment_id":131965285,"body_markdown":"It looks like that message is coming from a catch block which does something like `catch (Exception exc) { System.out.println(exc.getMessage()); }` (or equivalently `System.out.println(exc);`). If you have such catch blocks in your code, replace them with `catch (Exception exc) { exc.printStackTrace();}` (or, if these are unchecked exceptions, maybe just remove the `try`-`catch` entirely). If there is third-party library code that is suppressing the stack trace in that way, then there is little you can do (though that is a strong sign the library is not good enough quality to use).","body":"It looks like that message is coming from a catch block which does something like <code>catch (Exception exc) { System.out.println(exc.getMessage()); }</code> (or equivalently <code>System.out.println(exc);</code>). If you have such catch blocks in your code, replace them with <code>catch (Exception exc) { exc.printStackTrace();}</code> (or, if these are unchecked exceptions, maybe just remove the <code>try</code>-<code>catch</code> entirely). If there is third-party library code that is suppressing the stack trace in that way, then there is little you can do (though that is a strong sign the library is not good enough quality to use)."},{"owner":{"account_id":27228211,"reputation":9,"user_id":20756369,"display_name":"Hababbeldu"},"score":0,"creation_date":1670861484,"post_id":74773651,"comment_id":131965673,"body_markdown":"Thank you! I checked my own code and found no catches that catch the thrown exceptions, and all catch statements either print the stacktrace or open an error window. So I can only hope that the error comes from a catch in JavaFX and not one of the smaller dependencies and there is someone out there who can help disable them...","body":"Thank you! I checked my own code and found no catches that catch the thrown exceptions, and all catch statements either print the stacktrace or open an error window. So I can only hope that the error comes from a catch in JavaFX and not one of the smaller dependencies and there is someone out there who can help disable them..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1670865491,"post_id":74773651,"comment_id":131967031,"body_markdown":"I&#39;m pretty sure JavaFX does not do this. JavaFX is essentially single-threaded.","body":"I&#39;m pretty sure JavaFX does not do this. JavaFX is essentially single-threaded."}],"answers":[{"tags":[],"owner":{"account_id":27228211,"reputation":9,"user_id":20756369,"display_name":"Hababbeldu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1670866100,"creation_date":1670866020,"answer_id":74774986,"question_id":74773651,"body_markdown":"I found the culprit, it is indeed the **something JavaFX-y catching the error**:\r\n\r\nThe class from the exception is a JavaFX...module _(? component? whatever, it has a CanvasView and CanvasPresenter class and is in a folder that contains all the ressources like .fxml and .properties files, and it is really hard to google the basic concept)_\r\n\r\nThe exception is thrown in the `CanvasPresenter` `initialize` method (`CanvasPresenter` implements the `Initializable` interface), and there I could wrap the offending code in a `try {...} catch(Exception e) {e.printStackTrace();}` and get more information.","title":"How to show Stacktrace of java.util.concurrent.CompletionException (Using JavaFX)","body":"<p>I found the culprit, it is indeed the <strong>something JavaFX-y catching the error</strong>:</p>\n<p>The class from the exception is a JavaFX...module <em>(? component? whatever, it has a CanvasView and CanvasPresenter class and is in a folder that contains all the ressources like .fxml and .properties files, and it is really hard to google the basic concept)</em></p>\n<p>The exception is thrown in the <code>CanvasPresenter</code> <code>initialize</code> method (<code>CanvasPresenter</code> implements the <code>Initializable</code> interface), and there I could wrap the offending code in a <code>try {...} catch(Exception e) {e.printStackTrace();}</code> and get more information.</p>\n"}],"owner":{"account_id":27228211,"reputation":9,"user_id":20756369,"display_name":"Hababbeldu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74774986,"answer_count":1,"score":-2,"last_activity_date":1670866100,"creation_date":1670859858,"question_id":74773651,"body_markdown":"I am developing a Java Library that is used in a Java GUI that is based on JavaFX. \r\nDuring manual testing, I can produce the following Error, printed to the console - the GUI hangs, but the window stays open:\r\n```\r\njava.util.concurrent.CompletionException: java.lang.IllegalStateException: Cannot load xxx.xxx.xxx.main.tab.editor.workspace.canvas.canvas\r\n```\r\nNo Stacktrace, no line number, no class that caused the exception, nothing that I can work with.\r\n\r\nHow do I get a stacktrace for this?\r\n\r\nI tried the following things already:\r\n- Instead of running the packaged jar with `java -jar Application.jar`, I tried just running the main class with `mvn exec:java -Dexec.mainClass=&quot;xxx.xxx.xxx.App&quot;`\r\n- I tried using the verbose flag: `java -verbose -jar Application.jar`\r\n- From other threads, I tried the `-XX:-OmitStackTraceInFastThrow` flag\r\n\r\nNothing changed the error message to be anything else than this single line.\r\n\r\nEdit: The exception is not caught in the project&#39;s own code, however it might be caught by a library - so I hope maybe this is something done by JavaFX itself and there is a way to fix it? I guess JavaFX should be the main source of concurrency in the project.","title":"How to show Stacktrace of java.util.concurrent.CompletionException (Using JavaFX)","body":"<p>I am developing a Java Library that is used in a Java GUI that is based on JavaFX.\nDuring manual testing, I can produce the following Error, printed to the console - the GUI hangs, but the window stays open:</p>\n<pre><code>java.util.concurrent.CompletionException: java.lang.IllegalStateException: Cannot load xxx.xxx.xxx.main.tab.editor.workspace.canvas.canvas\n</code></pre>\n<p>No Stacktrace, no line number, no class that caused the exception, nothing that I can work with.</p>\n<p>How do I get a stacktrace for this?</p>\n<p>I tried the following things already:</p>\n<ul>\n<li>Instead of running the packaged jar with <code>java -jar Application.jar</code>, I tried just running the main class with <code>mvn exec:java -Dexec.mainClass=&quot;xxx.xxx.xxx.App&quot;</code></li>\n<li>I tried using the verbose flag: <code>java -verbose -jar Application.jar</code></li>\n<li>From other threads, I tried the <code>-XX:-OmitStackTraceInFastThrow</code> flag</li>\n</ul>\n<p>Nothing changed the error message to be anything else than this single line.</p>\n<p>Edit: The exception is not caught in the project's own code, however it might be caught by a library - so I hope maybe this is something done by JavaFX itself and there is a way to fix it? I guess JavaFX should be the main source of concurrency in the project.</p>\n"},{"tags":["java","spring-webflux","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670866023,"creation_date":1670866023,"answer_id":74774987,"question_id":74774217,"body_markdown":"What you want is called a *zip* operation.\r\n\r\nIn your case, you can use [Mono.zipWith](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-java.util.function.BiFunction-) over your accounts: \r\n\r\n```java\r\nMono&lt;Payments&gt; combined = accountsFailed.collectList().zipWith(\r\n        accountsSucceeded.collectList(), \r\n        (failedAccounts, successAccounts) \r\n                -&gt; Payments.builder()\r\n                        .failedAccounts(failedAccounts)\r\n                        .successAccounts(successAccounts)\r\n                        .build()\r\n);\r\n```","title":"Aggregating result of two Flux into Mono without blocking","body":"<p>What you want is called a <em>zip</em> operation.</p>\n<p>In your case, you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Mono.zipWith</a> over your accounts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Payments&gt; combined = accountsFailed.collectList().zipWith(\n        accountsSucceeded.collectList(), \n        (failedAccounts, successAccounts) \n                -&gt; Payments.builder()\n                        .failedAccounts(failedAccounts)\n                        .successAccounts(successAccounts)\n                        .build()\n);\n</code></pre>\n"}],"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74774987,"answer_count":1,"score":0,"last_activity_date":1670866023,"creation_date":1670862359,"question_id":74774217,"body_markdown":"I have the domain structure as follows\r\n```\r\npackage org.example;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.ToString;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Builder\r\n@ToString\r\npublic class Payments {\r\n\r\n    private List&lt;SuccessAccount&gt; successAccounts;\r\n    private List&lt;FailedAccount&gt; failedAccounts;\r\n\r\n    @Getter\r\n    @Builder\r\n    @ToString\r\n    public static class SuccessAccount {\r\n        private String name;\r\n        private String accountNumber;\r\n    }\r\n\r\n    @Getter\r\n    @Builder\r\n    @ToString\r\n    public static class FailedAccount {\r\n        private String name;\r\n        private String accountNumber;\r\n        private String errorCode;\r\n    }\r\n}\r\n```\r\n\r\nI get the the accounts failed and accounts which passed from two different methods , After i receive both failed and passed account i want to create a Payments object without blocking. I tried the following but as per docs calling subscribe on collectList is blocking call. Can someone help how to make it work without blocking? \r\nIt is possible to call subscribe method in main method, but this is an simple example of what i am trying to solve .In my actual case i get failed and success from same webservice call. I need to return an object with both success and failure as Response in rest controller \r\n\r\n```\r\npackage org.example;\r\n\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        getPaymentData().subscribe(System.out::println);\r\n    }\r\n\r\n    public static Mono&lt;Payments&gt; getPaymentData() {\r\n\r\n        Flux&lt;Payments.SuccessAccount&gt; accountsSucceeded = getAccountsSucceeded();\r\n        Flux&lt;Payments.FailedAccount&gt; accountsFailed = getAccountsFailed();\r\n\r\n        List&lt;Payments.SuccessAccount&gt; successAccounts = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Payments.FailedAccount&gt; failedAccounts = new ArrayList&lt;&gt;();\r\n\r\n        accountsFailed.collectList().subscribe(failedAccounts::addAll);// This is blocking call as per docs\r\n\r\n        accountsSucceeded.collectList().subscribe(successAccounts::addAll);// This is blocking call as per docs\r\n\r\n        return Mono.just(Payments.builder()\r\n                .failedAccounts(failedAccounts)\r\n                .successAccounts(successAccounts)\r\n                .build());\r\n    }\r\n    \r\n    public static Flux&lt;Payments.SuccessAccount&gt; getAccountsSucceeded() {\r\n        return Flux.just(Payments.SuccessAccount.builder()\r\n                        .accountNumber(&quot;1234345&quot;)\r\n                        .name(&quot;Payee1&quot;)\r\n                        .build(),\r\n                Payments.SuccessAccount.builder()\r\n                        .accountNumber(&quot;83673674&quot;)\r\n                        .name(&quot;Payee2&quot;)\r\n                        .build());\r\n    }\r\n    \r\n    public static Flux&lt;Payments.FailedAccount&gt; getAccountsFailed() {\r\n        return Flux.just(Payments.FailedAccount.builder()\r\n                        .accountNumber(&quot;12234345&quot;)\r\n                        .name(&quot;Payee3&quot;)\r\n                        .errorCode(&quot;8938&quot;)\r\n                        .build(),\r\n                Payments.FailedAccount.builder()\r\n                        .accountNumber(&quot;3342343&quot;)\r\n                        .name(&quot;Payee4&quot;)\r\n                        .errorCode(&quot;8938&quot;)\r\n                        .build());\r\n    }\r\n}```\r\n","title":"Aggregating result of two Flux into Mono without blocking","body":"<p>I have the domain structure as follows</p>\n<pre><code>package org.example;\n\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport java.util.List;\n\n@Getter\n@Builder\n@ToString\npublic class Payments {\n\n    private List&lt;SuccessAccount&gt; successAccounts;\n    private List&lt;FailedAccount&gt; failedAccounts;\n\n    @Getter\n    @Builder\n    @ToString\n    public static class SuccessAccount {\n        private String name;\n        private String accountNumber;\n    }\n\n    @Getter\n    @Builder\n    @ToString\n    public static class FailedAccount {\n        private String name;\n        private String accountNumber;\n        private String errorCode;\n    }\n}\n</code></pre>\n<p>I get the the accounts failed and accounts which passed from two different methods , After i receive both failed and passed account i want to create a Payments object without blocking. I tried the following but as per docs calling subscribe on collectList is blocking call. Can someone help how to make it work without blocking?\nIt is possible to call subscribe method in main method, but this is an simple example of what i am trying to solve .In my actual case i get failed and success from same webservice call. I need to return an object with both success and failure as Response in rest controller</p>\n<pre><code>package org.example;\n\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        getPaymentData().subscribe(System.out::println);\n    }\n\n    public static Mono&lt;Payments&gt; getPaymentData() {\n\n        Flux&lt;Payments.SuccessAccount&gt; accountsSucceeded = getAccountsSucceeded();\n        Flux&lt;Payments.FailedAccount&gt; accountsFailed = getAccountsFailed();\n\n        List&lt;Payments.SuccessAccount&gt; successAccounts = new ArrayList&lt;&gt;();\n\n        List&lt;Payments.FailedAccount&gt; failedAccounts = new ArrayList&lt;&gt;();\n\n        accountsFailed.collectList().subscribe(failedAccounts::addAll);// This is blocking call as per docs\n\n        accountsSucceeded.collectList().subscribe(successAccounts::addAll);// This is blocking call as per docs\n\n        return Mono.just(Payments.builder()\n                .failedAccounts(failedAccounts)\n                .successAccounts(successAccounts)\n                .build());\n    }\n    \n    public static Flux&lt;Payments.SuccessAccount&gt; getAccountsSucceeded() {\n        return Flux.just(Payments.SuccessAccount.builder()\n                        .accountNumber(&quot;1234345&quot;)\n                        .name(&quot;Payee1&quot;)\n                        .build(),\n                Payments.SuccessAccount.builder()\n                        .accountNumber(&quot;83673674&quot;)\n                        .name(&quot;Payee2&quot;)\n                        .build());\n    }\n    \n    public static Flux&lt;Payments.FailedAccount&gt; getAccountsFailed() {\n        return Flux.just(Payments.FailedAccount.builder()\n                        .accountNumber(&quot;12234345&quot;)\n                        .name(&quot;Payee3&quot;)\n                        .errorCode(&quot;8938&quot;)\n                        .build(),\n                Payments.FailedAccount.builder()\n                        .accountNumber(&quot;3342343&quot;)\n                        .name(&quot;Payee4&quot;)\n                        .errorCode(&quot;8938&quot;)\n                        .build());\n    }\n}```\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1670372682,"post_id":74706862,"comment_id":131860795,"body_markdown":"Do you mean like this? `([a-z])(?!\\1)([a-z])(?!\\2|\\1)([a-z])(?!\\3|\\2|\\1)[a-z]` https://regex101.com/r/hKikrW/1","body":"Do you mean like this? <code>([a-z])(?!\\1)([a-z])(?!\\2|\\1)([a-z])(?!\\3|\\2|\\1)[a-z]</code> <a href=\"https://regex101.com/r/hKikrW/1\" rel=\"nofollow noreferrer\">regex101.com/r/hKikrW/1</a>"},{"owner":{"account_id":22144948,"reputation":31,"user_id":16394394,"display_name":"Tom Lamprecht"},"score":0,"creation_date":1670393687,"post_id":74706862,"comment_id":131863756,"body_markdown":"@Thefourthbird Yes excatly. But this is needed for a size n and not just 4. Every example I mentioned was just an example. Maybe that was a bit unclear","body":"@Thefourthbird Yes excatly. But this is needed for a size n and not just 4. Every example I mentioned was just an example. Maybe that was a bit unclear"}],"answers":[{"tags":[],"owner":{"account_id":21450488,"reputation":11,"user_id":20758562,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670865856,"creation_date":1670865856,"answer_id":74774949,"question_id":74706862,"body_markdown":"I guess this is for this year&#39;s advent of code? I wrote a [function](https://github.com/LtSalt/AoC-2022-1/blob/main/code/06.qmd) that returns a regex similar to what [@The fourth bird](https://stackoverflow.com/users/5424988/the-fourth-bird) proposed, for a given length n. The code is in R but might help you nonetheless:\r\n\r\n```lang-R\r\nn_unique &lt;- function(n) {\r\n  if(n == 1) return(&quot;(\\\\w)(?!\\\\1)&quot;)\r\n  \r\n  make_regex &lt;- function(out, input) paste0(out,&quot;(?!\\\\&quot;, input, &quot;)&quot;)\r\n  \r\n  regex &lt;- accumulate(seq(2, n - 1), make_regex, .init = &quot;(\\\\w)(?!\\\\1)&quot;) %&gt;% \r\n    paste0(&quot;(\\\\w)&quot;) %&gt;% \r\n    paste0(collapse = &quot;&quot;)\r\n  \r\n  return(regex)\r\n}\r\n\r\nn_unique(4) #(\\\\w)(?!\\\\1)(\\\\w)(\\\\w)(?!\\\\1)(?!\\\\2)(\\\\w)(\\\\w)(?!\\\\1)(?!\\\\2)(?!\\\\3)(\\\\w)\r\n```\r\n\r\nThis function relies heavily on `accumulate`, a reducer function which saves it&#39;s intermediate returns. \r\n\r\nYou basically 1) glue your growing negative lookaheads together, then 2) glue a final capture group to the end and 3) finally collapse your string vector into a single regular expression. You&#39;ll also need to give your reducer function the correct starting value (`.init`).","title":"Regex for finding a distinct group of letters","body":"<p>I guess this is for this year's advent of code? I wrote a <a href=\"https://github.com/LtSalt/AoC-2022-1/blob/main/code/06.qmd\" rel=\"nofollow noreferrer\">function</a> that returns a regex similar to what <a href=\"https://stackoverflow.com/users/5424988/the-fourth-bird\">@The fourth bird</a> proposed, for a given length n. The code is in R but might help you nonetheless:</p>\n<pre class=\"lang-R prettyprint-override\"><code>n_unique &lt;- function(n) {\n  if(n == 1) return(&quot;(\\\\w)(?!\\\\1)&quot;)\n  \n  make_regex &lt;- function(out, input) paste0(out,&quot;(?!\\\\&quot;, input, &quot;)&quot;)\n  \n  regex &lt;- accumulate(seq(2, n - 1), make_regex, .init = &quot;(\\\\w)(?!\\\\1)&quot;) %&gt;% \n    paste0(&quot;(\\\\w)&quot;) %&gt;% \n    paste0(collapse = &quot;&quot;)\n  \n  return(regex)\n}\n\nn_unique(4) #(\\\\w)(?!\\\\1)(\\\\w)(\\\\w)(?!\\\\1)(?!\\\\2)(\\\\w)(\\\\w)(?!\\\\1)(?!\\\\2)(?!\\\\3)(\\\\w)\n</code></pre>\n<p>This function relies heavily on <code>accumulate</code>, a reducer function which saves it's intermediate returns.</p>\n<p>You basically 1) glue your growing negative lookaheads together, then 2) glue a final capture group to the end and 3) finally collapse your string vector into a single regular expression. You'll also need to give your reducer function the correct starting value (<code>.init</code>).</p>\n"}],"owner":{"account_id":22144948,"reputation":31,"user_id":16394394,"display_name":"Tom Lamprecht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670865856,"creation_date":1670348264,"question_id":74706862,"body_markdown":"Im searching a regex that matches a group of size n which consists of distinct letters inside the context of the group\r\nit should for example match\r\n\r\n\r\n```\r\naabcddbc =&gt; abcd\r\nor jkjklmnqrrqkn =&gt; klmn\r\naabcb =&gt; should not match \r\n```\r\n\r\n\r\nso the distinctness of the letters is only specified inside the group. Not for the global String if that makes sense.\r\n\r\nA solution like: \r\n```\r\n(?:([a-z])(?!(.*\\1))){4}\r\n```\r\nwill check if the letter is distinct in the whole string and not only in the group\r\n\r\n\r\nSo far I came up with this:\r\n\r\n```\r\n([a-z])(?&lt;=^.*\\1#MISSING#)([a-z]){4}\r\n```\r\n\r\nMy plan is: \r\n\r\nMatch start of group and save it as \\1 \r\n\r\nMatch next letter (\\2) if the letters before do not include \\2 between beginning of the group and size n.\r\nAt this step I am failing. I managed to find the beginning of the group by `^.*\\1` but then how do I check if the next 3 letters only incldue \\2 once?\r\na check like `[^\\2]{3}\\2` or `\\2[^\\2]{3}` doesn&#39;t work because \\2 could be anywhere inbetween the group.    ","title":"Regex for finding a distinct group of letters","body":"<p>Im searching a regex that matches a group of size n which consists of distinct letters inside the context of the group\nit should for example match</p>\n<pre><code>aabcddbc =&gt; abcd\nor jkjklmnqrrqkn =&gt; klmn\naabcb =&gt; should not match \n</code></pre>\n<p>so the distinctness of the letters is only specified inside the group. Not for the global String if that makes sense.</p>\n<p>A solution like:</p>\n<pre><code>(?:([a-z])(?!(.*\\1))){4}\n</code></pre>\n<p>will check if the letter is distinct in the whole string and not only in the group</p>\n<p>So far I came up with this:</p>\n<pre><code>([a-z])(?&lt;=^.*\\1#MISSING#)([a-z]){4}\n</code></pre>\n<p>My plan is:</p>\n<p>Match start of group and save it as \\1</p>\n<p>Match next letter (\\2) if the letters before do not include \\2 between beginning of the group and size n.\nAt this step I am failing. I managed to find the beginning of the group by <code>^.*\\1</code> but then how do I check if the next 3 letters only incldue \\2 once?\na check like <code>[^\\2]{3}\\2</code> or <code>\\2[^\\2]{3}</code> doesn't work because \\2 could be anywhere inbetween the group.</p>\n"},{"tags":["java","linux","windows","launch4j"],"comments":[{"owner":{"account_id":937962,"reputation":1168,"user_id":966549,"accept_rate":100,"display_name":"Justin Reeves"},"score":1,"creation_date":1403222366,"post_id":24316881,"comment_id":37586859,"body_markdown":"Okay, I added %JAVA_HOME% set to the jre directory, and added %JAVA_HOME%\\bin\\ to %PATH%\n\nThen I tried &lt;jre&gt;&lt;path&gt;%JAVA_HOME%&lt;/path&gt;...&lt;/jre&gt; with the same poor results. I am lost.","body":"Okay, I added %JAVA_HOME% set to the jre directory, and added %JAVA_HOME%\\bin\\ to %PATH%  Then I tried &lt;jre&gt;&lt;path&gt;%JAVA_HOME%&lt;/path&gt;...&lt;/jre&gt; with the same poor results. I am lost."}],"answers":[{"tags":[],"owner":{"account_id":5022713,"reputation":418,"user_id":4035712,"accept_rate":88,"display_name":"matthiasboesinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1425904844,"creation_date":1425904394,"answer_id":28942107,"question_id":24316881,"body_markdown":"a bit late but maybe it can still help you ...\r\n\r\nOne thing which works for sure with launch4j and JRE is to bundle the JRE in the folder of your application.\r\n\r\nTo do so:\r\n\r\n - create a path &#39;jre&#39; in the folder with your &#39;*.exe&#39;\r\n - copy a JRE in this folder (this jre has to fit the &#39;min&#39;/&#39;max&#39; conditions you have set)\r\n - set &#39;&amp;lt;path&gt;/jre&amp;lt;/path&gt;&#39; inside the &amp;lt;jre&gt; configuration of your &#39;.xml&#39;\r\n\r\n... this should work\r\n\r\n","title":"launch4j exe can&#39;t find jre","body":"<p>a bit late but maybe it can still help you ...</p>\n\n<p>One thing which works for sure with launch4j and JRE is to bundle the JRE in the folder of your application.</p>\n\n<p>To do so:</p>\n\n<ul>\n<li>create a path 'jre' in the folder with your '*.exe'</li>\n<li>copy a JRE in this folder (this jre has to fit the 'min'/'max' conditions you have set)</li>\n<li>set '&lt;path>/jre&lt;/path>' inside the &lt;jre> configuration of your '.xml'</li>\n</ul>\n\n<p>... this should work</p>\n"},{"tags":[],"owner":{"account_id":10098256,"reputation":81,"user_id":7462938,"display_name":"Pulsar07"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603359129,"creation_date":1603359129,"answer_id":64479347,"question_id":24316881,"body_markdown":"I struggled around with the JRE setting using launch4j 3.12 (2020) and OpenJDK and got also the message &quot;no java runtime found&quot;.\r\nMy target, was to use OpenJDK (https://adoptopenjdk.net/) \r\nTwo ways were successful:\r\n1. Install OpenJDK, with the JavaSoft (Oracle) registry keys activated and select the &quot;only use public JREs&quot; launch4j-option.\r\n2. Install OpenJDK, with the JAVA_HOME option set, and set the &quot;bundled jre path&quot; in the JRE tab to %JAVA_HOME% (xml content: &lt;path&gt;%JAVA_HOME%&lt;/path&gt;)\r\nWith this you are able to use different JRE for different applications setting the JAVA_HOME variable for each of the differently.\r\n","title":"launch4j exe can&#39;t find jre","body":"<p>I struggled around with the JRE setting using launch4j 3.12 (2020) and OpenJDK and got also the message &quot;no java runtime found&quot;.\nMy target, was to use OpenJDK (<a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/</a>)\nTwo ways were successful:</p>\n<ol>\n<li>Install OpenJDK, with the JavaSoft (Oracle) registry keys activated and select the &quot;only use public JREs&quot; launch4j-option.</li>\n<li>Install OpenJDK, with the JAVA_HOME option set, and set the &quot;bundled jre path&quot; in the JRE tab to %JAVA_HOME% (xml content: %JAVA_HOME%)\nWith this you are able to use different JRE for different applications setting the JAVA_HOME variable for each of the differently.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6225230,"reputation":104,"user_id":4843712,"display_name":"Christian Benner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627049361,"creation_date":1627049361,"answer_id":68500553,"question_id":24316881,"body_markdown":"It appears to be that launch4j is looking for the JRE path relative to its &#39;outfile&#39; location.\r\n\r\nSolutions:\r\n - You can use an absolute path e.g. &#39;C:\\loc\\of\\jre&#39;\r\n - Put your JRE in your &#39;outfile&#39; directory and set the JRE path relatively e.g. &#39;jre&#39;\r\n - Treat the JRE path as relative to the &#39;outfile&#39; directory e.g. &#39;..\\..\\somefolder\\jre&#39;\r\n\r\nMy launch4j version: 3.14","title":"launch4j exe can&#39;t find jre","body":"<p>It appears to be that launch4j is looking for the JRE path relative to its 'outfile' location.</p>\n<p>Solutions:</p>\n<ul>\n<li>You can use an absolute path e.g. 'C:\\loc\\of\\jre'</li>\n<li>Put your JRE in your 'outfile' directory and set the JRE path relatively e.g. 'jre'</li>\n<li>Treat the JRE path as relative to the 'outfile' directory e.g. '....\\somefolder\\jre'</li>\n</ul>\n<p>My launch4j version: 3.14</p>\n"},{"tags":[],"owner":{"account_id":10534332,"reputation":63,"user_id":7762711,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670865641,"creation_date":1670865641,"answer_id":74774898,"question_id":24316881,"body_markdown":"This fixed it for me. The `%PATH%` was missing\r\n\r\n  \r\n    &lt;jre&gt;\r\n        &lt;path&gt;%JAVA_HOME%;%PATH%&lt;/path&gt;\r\n        &lt;requiresJdk&gt;false&lt;/requiresJdk&gt;\r\n        &lt;requires64Bit&gt;false&lt;/requires64Bit&gt;\r\n        &lt;minVersion&gt;&lt;/minVersion&gt;\r\n        &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n      &lt;/jre&gt;","title":"launch4j exe can&#39;t find jre","body":"<p>This fixed it for me. The <code>%PATH%</code> was missing</p>\n<pre><code>&lt;jre&gt;\n    &lt;path&gt;%JAVA_HOME%;%PATH%&lt;/path&gt;\n    &lt;requiresJdk&gt;false&lt;/requiresJdk&gt;\n    &lt;requires64Bit&gt;false&lt;/requires64Bit&gt;\n    &lt;minVersion&gt;&lt;/minVersion&gt;\n    &lt;maxVersion&gt;&lt;/maxVersion&gt;\n  &lt;/jre&gt;\n</code></pre>\n"}],"owner":{"account_id":937962,"reputation":1168,"user_id":966549,"accept_rate":100,"display_name":"Justin Reeves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8642,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28942107,"answer_count":4,"score":2,"last_activity_date":1670865641,"creation_date":1403215060,"question_id":24316881,"body_markdown":"Issues with launch4j\r\n\r\nProgram consists on one uber jar via maven-shade plugin and a Data/\r\nRuns fine on any jre7 machine, windows or linux\r\n\r\nHowever I&#39;ve been unable to get launch4j to work.\r\n\r\nlaunch4j config.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;launch4jConfig&gt;\r\n      &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\r\n      &lt;headerType&gt;gui&lt;/headerType&gt;\r\n      &lt;jar&gt;pllsolver-0.2alpha.jar&lt;/jar&gt;\r\n      &lt;outfile&gt;pllsolver-0.2alpha.exe&lt;/outfile&gt;\r\n      &lt;errTitle&gt;NO JRE FOUND&lt;/errTitle&gt;\r\n      &lt;cmdLine&gt;&lt;/cmdLine&gt;\r\n      &lt;chdir&gt;&lt;/chdir&gt;\r\n      &lt;priority&gt;normal&lt;/priority&gt;\r\n      &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\r\n      &lt;supportUrl&gt;&lt;/supportUrl&gt;\r\n      &lt;stayAlive&gt;false&lt;/stayAlive&gt;\r\n      &lt;manifest&gt;&lt;/manifest&gt;\r\n      &lt;icon&gt;sicr.ico&lt;/icon&gt;\r\n      &lt;jre&gt;\r\n        &lt;path&gt;jre7&lt;/path&gt;\r\n        &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\r\n        &lt;minVersion&gt;&lt;/minVersion&gt;\r\n        &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n        &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n        &lt;runtimeBits&gt;64/32&lt;/runtimeBits&gt;\r\n      &lt;/jre&gt;\r\n      &lt;splash&gt;\r\n        &lt;file&gt;sicr.bmp&lt;/file&gt;\r\n        &lt;waitForWindow&gt;false&lt;/waitForWindow&gt;\r\n        &lt;timeout&gt;5&lt;/timeout&gt;\r\n        &lt;timeoutErr&gt;true&lt;/timeoutErr&gt;\r\n      &lt;/splash&gt;\r\n      &lt;messages&gt;\r\n      &lt;/messages&gt;\r\n    &lt;/launch4jConfig&gt;\r\n\r\nThen to build, on windows, I try this:\r\n\r\n    PS K:\\test&gt; set PATH=&quot;K:\\test\\jre7\\bin\\&quot;\r\n    PS K:\\test&gt; ..\\launch4j\\launch4jc.exe .\\config.xml\r\n    launch4j: Compiling resources\r\n    launch4j: Linking\r\n    launch4j: Wrapping\r\n    launch4j: Successfully created K:\\test\\.\\pllsolver-0.2alpha.exe\r\n    PS K:\\test&gt; .\\pllsolver-0.2alpha.exe\r\n    PS K:\\test&gt;\r\n\r\nIt&#39;s at this point that I get a nice little window about how it failed to find the JRE.\r\n\r\nJava is in\r\nK:\\test\\jre7\\bin\\java.exe\r\nMy jar is\r\nK:\\test\\pllsolver-0.2alpha.jar\r\n\r\nAdditionally, I don&#39;t know if this will be an issue yet, but the executable and the Data/ need to be in the same directory.  I&#39;m planning to do better pathing later but I don&#39;t have a clear understanding of Windows ENV variables.","title":"launch4j exe can&#39;t find jre","body":"<p>Issues with launch4j</p>\n\n<p>Program consists on one uber jar via maven-shade plugin and a Data/\nRuns fine on any jre7 machine, windows or linux</p>\n\n<p>However I've been unable to get launch4j to work.</p>\n\n<p>launch4j config.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;launch4jConfig&gt;\n  &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\n  &lt;headerType&gt;gui&lt;/headerType&gt;\n  &lt;jar&gt;pllsolver-0.2alpha.jar&lt;/jar&gt;\n  &lt;outfile&gt;pllsolver-0.2alpha.exe&lt;/outfile&gt;\n  &lt;errTitle&gt;NO JRE FOUND&lt;/errTitle&gt;\n  &lt;cmdLine&gt;&lt;/cmdLine&gt;\n  &lt;chdir&gt;&lt;/chdir&gt;\n  &lt;priority&gt;normal&lt;/priority&gt;\n  &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\n  &lt;supportUrl&gt;&lt;/supportUrl&gt;\n  &lt;stayAlive&gt;false&lt;/stayAlive&gt;\n  &lt;manifest&gt;&lt;/manifest&gt;\n  &lt;icon&gt;sicr.ico&lt;/icon&gt;\n  &lt;jre&gt;\n    &lt;path&gt;jre7&lt;/path&gt;\n    &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\n    &lt;minVersion&gt;&lt;/minVersion&gt;\n    &lt;maxVersion&gt;&lt;/maxVersion&gt;\n    &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n    &lt;runtimeBits&gt;64/32&lt;/runtimeBits&gt;\n  &lt;/jre&gt;\n  &lt;splash&gt;\n    &lt;file&gt;sicr.bmp&lt;/file&gt;\n    &lt;waitForWindow&gt;false&lt;/waitForWindow&gt;\n    &lt;timeout&gt;5&lt;/timeout&gt;\n    &lt;timeoutErr&gt;true&lt;/timeoutErr&gt;\n  &lt;/splash&gt;\n  &lt;messages&gt;\n  &lt;/messages&gt;\n&lt;/launch4jConfig&gt;\n</code></pre>\n\n<p>Then to build, on windows, I try this:</p>\n\n<pre><code>PS K:\\test&gt; set PATH=\"K:\\test\\jre7\\bin\\\"\nPS K:\\test&gt; ..\\launch4j\\launch4jc.exe .\\config.xml\nlaunch4j: Compiling resources\nlaunch4j: Linking\nlaunch4j: Wrapping\nlaunch4j: Successfully created K:\\test\\.\\pllsolver-0.2alpha.exe\nPS K:\\test&gt; .\\pllsolver-0.2alpha.exe\nPS K:\\test&gt;\n</code></pre>\n\n<p>It's at this point that I get a nice little window about how it failed to find the JRE.</p>\n\n<p>Java is in\nK:\\test\\jre7\\bin\\java.exe\nMy jar is\nK:\\test\\pllsolver-0.2alpha.jar</p>\n\n<p>Additionally, I don't know if this will be an issue yet, but the executable and the Data/ need to be in the same directory.  I'm planning to do better pathing later but I don't have a clear understanding of Windows ENV variables.</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":18254001,"reputation":31,"user_id":13288376,"display_name":"Andre Long"},"score":0,"creation_date":1670865405,"post_id":74774842,"comment_id":131967005,"body_markdown":"Hello, I am trying to follow this tutorial on YouTube called Spring Boot Tutorial | Full Course [2022] [NEW] located at https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s","body":"Hello, I am trying to follow this tutorial on YouTube called Spring Boot Tutorial | Full Course [2022] [NEW] located at <a href=\"https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670866535,"post_id":74774842,"comment_id":131967400,"body_markdown":"the video is a &quot;fake&quot; :) ..while it states it is from 2022, it uses (official) spring boot starter with spring boot current version: 2.4 (which was released in Nov. 2020;)","body":"the video is a &quot;fake&quot; :) ..while it states it is from 2022, it uses (official) spring boot starter with spring boot current version: 2.4 (which was released in Nov. 2020;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670866607,"post_id":74774842,"comment_id":131967429,"body_markdown":"fix probably: 1. remove eclipselink dependency 2. replace (all source code, text) occurences of `javax.persistence` with `jakarta.persistence` (rest of the tutorial could still hold;) (this and other(but not all!) `javax.` apis (significantly) changed with spring-boot-3/spring-6) https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes","body":"fix probably: 1. remove eclipselink dependency 2. replace (all source code, text) occurences of <code>javax.persistence</code> with <code>jakarta.persistence</code> (rest of the tutorial could still hold;) (this and other(but not all!) <code>javax.</code> apis (significantly) changed with spring-boot-3/spring-6) <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671033420,"post_id":74774842,"comment_id":132011101,"body_markdown":"better than some obscure &quot;video tutorial&quot; (from in-official sources): the official docs/guides, blogs, youtube/twitter/tictoc... (most-up-to-date) channels! :) e.g. https://spring.io/guides#gs (and as a side note to a &quot;beginner&quot;: prefer &quot;release&quot; version to &quot;RC/SNAPSHOT&quot; (bleeding edge:))","body":"better than some obscure &quot;video tutorial&quot; (from in-official sources): the official docs/guides, blogs, youtube/twitter/tictoc... (most-up-to-date) channels! :) e.g. <a href=\"https://spring.io/guides#gs\" rel=\"nofollow noreferrer\">spring.io/guides#gs</a> (and as a side note to a &quot;beginner&quot;: prefer &quot;release&quot; version to &quot;RC/SNAPSHOT&quot; (bleeding edge:))"}],"owner":{"account_id":18254001,"reputation":31,"user_id":13288376,"display_name":"Andre Long"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670865343,"creation_date":1670865343,"question_id":74774842,"body_markdown":"I see other people have posted similar questions regarding the same project from YouTube but I have a slightly different problem. My problem is that I keep getting:\r\n Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentService&#39; defined in file\r\n\r\nHello, I am trying to follow this tutorial on YouTube called Spring Boot Tutorial | Full Course [2022] [NEW] located at https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s\r\n\r\nEverything is going along fine until I get to StudentService and StudentRepository\r\n\r\nThe error I keep getting is Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentService&#39;\r\n\r\nSide Note: Should I troubleshoot from the top or bottom of the stack trace?\r\n\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::       (v3.0.1-SNAPSHOT)\r\n\r\n2022-12-12T08:20:56.844-08:00  INFO 13088 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.5 with PID 13088 (C:\\Users\\19163\\Desktop\\demo\\target\\classes started by 19163 in C:\\Users\\19163\\Desktop\\demo)\r\n2022-12-12T08:20:56.854-08:00  INFO 13088 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-12T08:20:57.617-08:00  INFO 13088 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-12T08:20:57.697-08:00  INFO 13088 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 1 JPA repository interfaces.\r\n2022-12-12T08:20:58.272-08:00  INFO 13088 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-12-12T08:20:58.283-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-12T08:20:58.284-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n2022-12-12T08:20:58.396-08:00  INFO 13088 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-12T08:20:58.397-08:00  INFO 13088 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1447 ms\r\n2022-12-12T08:20:58.593-08:00  INFO 13088 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-12-12T08:20:58.668-08:00  INFO 13088 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\r\n2022-12-12T08:20:58.897-08:00  WARN 13088 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2022-12-12T08:20:59.042-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-12-12T08:21:00.466-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2edb2f8b\r\n2022-12-12T08:21:00.468-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-12-12T08:21:00.599-08:00  INFO 13088 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2022-12-12T08:21:01.117-08:00  INFO 13088 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-12-12T08:21:01.131-08:00  INFO 13088 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-12T08:21:01.270-08:00  WARN 13088 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentController&#39; defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentService&#39; defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentRepository&#39; defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\r\n2022-12-12T08:21:01.271-08:00  INFO 13088 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-12T08:21:01.273-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-12-12T08:21:01.441-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2022-12-12T08:21:01.443-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-12-12T08:21:01.457-08:00  INFO 13088 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2022-12-12T08:21:01.477-08:00 ERROR 13088 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentController&#39; defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentService&#39; defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentRepository&#39; defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentService&#39; defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentRepository&#39; defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentRepository&#39; defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\t... 33 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo.Student\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\r\n\t... 44 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\nThings I have already tried:\r\n1) I tried arranging the files and packages as they are in the video so EntityScan is not needed, no\r\n    success \r\n\r\n2) I tried putting all java files including the main class in the same package with no success\r\n3) I tried updating the Maven Project but intellij ultimate will not update the maven repository\r\n4) I tried putting DemoApplication in the main package called &quot;com.example.demo&quot; and all student\r\n    related files in a subpackage called &quot;com.example.demo.student&quot; to use with EntityScan with no \r\n    success\r\nAlways get the same exact error\r\n\r\nI am on a Windows 10 laptop, using Spring Boot 3.0, and IntelliJ Ultimate \r\nHere is my pom.xml file\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nHere is my current project structure\r\n[![Project Structure][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n\r\n\r\nAny help will be appreciated  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/psJOa.png\r\n  [2]: https://i.stack.imgur.com/8tx4w.png","title":"Spring UnsatisfiedDependencyException 2","body":"<p>I see other people have posted similar questions regarding the same project from YouTube but I have a slightly different problem. My problem is that I keep getting:\nUnsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentService' defined in file</p>\n<p>Hello, I am trying to follow this tutorial on YouTube called Spring Boot Tutorial | Full Course [2022] [NEW] located at <a href=\"https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=3141s</a></p>\n<p>Everything is going along fine until I get to StudentService and StudentRepository</p>\n<p>The error I keep getting is Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentService'</p>\n<p>Side Note: Should I troubleshoot from the top or bottom of the stack trace?</p>\n<p>.   ____          _            __ _ _\n/\\ / <em><em><em>'</em> __ _ <em>(</em>)</em> __  __ _ \\ \\ \\ <br />\n( ( )_</em>_ | '_ | '<em>| | '</em> / <em>` | \\ \\ \\ <br />\n\\/  __<em>)| |</em>)| | | | | || (</em>| |  ) ) ) )\n'  |<strong><em><em>| .__|</em>| |</em>|<em>| |</em>_<em>, | / / / /\n=========|</em>|==============|</strong><em>/=/</em>/<em>/</em>/\n:: Spring Boot ::       (v3.0.1-SNAPSHOT)</p>\n<p>2022-12-12T08:20:56.844-08:00  INFO 13088 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.5 with PID 13088 (C:\\Users\\19163\\Desktop\\demo\\target\\classes started by 19163 in C:\\Users\\19163\\Desktop\\demo)\n2022-12-12T08:20:56.854-08:00  INFO 13088 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-12T08:20:57.617-08:00  INFO 13088 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-12T08:20:57.697-08:00  INFO 13088 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 1 JPA repository interfaces.\n2022-12-12T08:20:58.272-08:00  INFO 13088 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-12-12T08:20:58.283-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-12T08:20:58.284-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2022-12-12T08:20:58.396-08:00  INFO 13088 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-12T08:20:58.397-08:00  INFO 13088 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1447 ms\n2022-12-12T08:20:58.593-08:00  INFO 13088 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-12-12T08:20:58.668-08:00  INFO 13088 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\n2022-12-12T08:20:58.897-08:00  WARN 13088 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2022-12-12T08:20:59.042-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-12-12T08:21:00.466-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2edb2f8b\n2022-12-12T08:21:00.468-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-12-12T08:21:00.599-08:00  INFO 13088 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2022-12-12T08:21:01.117-08:00  INFO 13088 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-12-12T08:21:01.131-08:00  INFO 13088 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-12-12T08:21:01.270-08:00  WARN 13088 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentController' defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentService' defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentRepository' defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\n2022-12-12T08:21:01.271-08:00  INFO 13088 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-12-12T08:21:01.273-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-12-12T08:21:01.441-08:00  INFO 13088 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-12-12T08:21:01.443-08:00  INFO 13088 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-12T08:21:01.457-08:00  INFO 13088 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2022-12-12T08:21:01.477-08:00 ERROR 13088 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentController' defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentService' defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentRepository' defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1-20221212.130302-27.jar:3.0.1-SNAPSHOT]\nat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentService' defined in file [C:\\Users\\19163\\Desktop\\demo\\target\\classes\\com\\example\\demo\\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentRepository' defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\n... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentRepository' defined in com.example.demo.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.demo.Student\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\n... 33 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.demo.Student\nat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\nat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\nat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\nat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\nat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\nat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3-20221212.155846-51.jar:6.0.3-SNAPSHOT]\n... 44 common frames omitted</p>\n<p>Process finished with exit code 1</p>\n<p>Things I have already tried:</p>\n<ol>\n<li><p>I tried arranging the files and packages as they are in the video so EntityScan is not needed, no\nsuccess</p>\n</li>\n<li><p>I tried putting all java files including the main class in the same package with no success</p>\n</li>\n<li><p>I tried updating the Maven Project but intellij ultimate will not update the maven repository</p>\n</li>\n<li><p>I tried putting DemoApplication in the main package called &quot;com.example.demo&quot; and all student\nrelated files in a subpackage called &quot;com.example.demo.student&quot; to use with EntityScan with no\nsuccess\nAlways get the same exact error</p>\n</li>\n</ol>\n<p>I am on a Windows 10 laptop, using Spring Boot 3.0, and IntelliJ Ultimate\nHere is my pom.xml file</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.0.1-SNAPSHOT\n \n\ncom.example\ndemo\n0.0.1-SNAPSHOT\ndemo\nDemo project for Spring Boot\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Here is my current project structure\n<a href=\"https://i.stack.imgur.com/psJOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psJOa.png\" alt=\"Project Structure\" /></a>\n<a href=\"https://i.stack.imgur.com/8tx4w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tx4w.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help will be appreciated</p>\n"},{"tags":["java","hibernate","entity-framework","entity"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670870978,"post_id":74774807,"comment_id":131968861,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23589218,"reputation":1,"user_id":20758768,"display_name":"Abhinav Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670865196,"creation_date":1670865196,"question_id":74774807,"body_markdown":"We are using Entity framework to retrieve data from database in our application. I&#39;m at a point where I have to use a command &#39;show tables&#39;. Until now, I&#39;ve created Entities for each table and a respective Repository class and wrote the the queries related to the table in the Repo class. Now, inorder to run generic sql queries which are not specific to any table I&#39;m unable to determine where do I write it on JAVA end. Any suggestions are appreciated. Thanks in advance!\r\n \r\n\r\nOne way I&#39;ve tried doing this is by including the query in any Repo class but that dosen&#39;t seem to be a good approach. I would like to know if there is a better or an actual way that this can be done that I&#39;m missing.","title":"On which table/how can we query SQL commands like &#39;show tables&#39; in an Entity Framework in java","body":"<p>We are using Entity framework to retrieve data from database in our application. I'm at a point where I have to use a command 'show tables'. Until now, I've created Entities for each table and a respective Repository class and wrote the the queries related to the table in the Repo class. Now, inorder to run generic sql queries which are not specific to any table I'm unable to determine where do I write it on JAVA end. Any suggestions are appreciated. Thanks in advance!</p>\n<p>One way I've tried doing this is by including the query in any Repo class but that dosen't seem to be a good approach. I would like to know if there is a better or an actual way that this can be done that I'm missing.</p>\n"},{"tags":["java","object","immutability","member","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1306406579,"creation_date":1306406579,"answer_id":6137267,"question_id":6137224,"body_markdown":"You are returning a reference to the `list`. And `list` isn&#39;t immutable.\r\n\r\n------\r\n\r\nIf you do not want your list to be changed return a copy of it:\r\n\r\n    public List&lt;String&gt; get() {\r\n        return new ArrayList&lt;String&gt;(this.list);\r\n    }\r\n\r\nOr you can return a [unmodifiable list][1]:\r\n\r\n\r\n    public List&lt;String&gt; get() {\r\n        return Collections.unmodifiableList(this.list);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/449325/alpian","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>You are returning a reference to the <code>list</code>. And <code>list</code> isn't immutable.</p>\n\n<hr>\n\n<p>If you do not want your list to be changed return a copy of it:</p>\n\n<pre><code>public List&lt;String&gt; get() {\n    return new ArrayList&lt;String&gt;(this.list);\n}\n</code></pre>\n\n<p>Or you can return a <a href=\"https://stackoverflow.com/users/449325/alpian\">unmodifiable list</a>:</p>\n\n<pre><code>public List&lt;String&gt; get() {\n    return Collections.unmodifiableList(this.list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1434698684,"creation_date":1306406586,"answer_id":6137270,"question_id":6137224,"body_markdown":"Just because *the reference* to the list is immutable doesn&#39;t mean that the list *it refers* to is immutable.\r\n\r\nEven if `list` was made `final` this would be allowed\r\n\r\n    // changing the object which list refers to\r\n    example.getList().add(&quot;stuff&quot;);\r\n\r\nbut this would *not* allowed:\r\n    \r\n    // changing list\r\n    example.list = new ArrayList&lt;String&gt;();   // assuming list is public\r\n\r\n\r\n----------\r\n\r\n\r\nIn order to make the list immutable (prevent also the first line), I suggest you use [`Collections.unmodifiableList`](http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29):\r\n\r\n    public class Example {\r\n        final private ArrayList&lt;String&gt; list;\r\n\r\n        Example(ArrayList&lt;String&gt; listArg) {\r\n            list = Collections.unmodifiableList(listArg);\r\n        }\r\n    }\r\n\r\n(Note that this creates an unmodifiable view of the list. If someone is holding on to the original reference, then the list can still be modified through that.)\r\n\r\n----------\r\n\r\n&gt; ***With a String this behaviour isnt possible. So what is the difference here?***\r\n\r\nThat is because a `String` is already immutable (unmodifiable) just as the list would be if you turned it into an unmodifiableList.\r\n\r\nComparison:\r\n\r\n                  String data structure  | List data structure\r\n               .-------------------------+------------------------------------.\r\n    Immutable  | String                  | Collection.unmodifiableList(...)   |\r\n    -----------+-------------------------+------------------------------------|\r\n    Mutable    | StringBuffer            | ArrayList                          |\r\n               &#39;-------------------------+------------------------------------&#39;\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Just because <em>the reference</em> to the list is immutable doesn't mean that the list <em>it refers</em> to is immutable.</p>\n\n<p>Even if <code>list</code> was made <code>final</code> this would be allowed</p>\n\n<pre><code>// changing the object which list refers to\nexample.getList().add(\"stuff\");\n</code></pre>\n\n<p>but this would <em>not</em> allowed:</p>\n\n<pre><code>// changing list\nexample.list = new ArrayList&lt;String&gt;();   // assuming list is public\n</code></pre>\n\n<hr>\n\n<p>In order to make the list immutable (prevent also the first line), I suggest you use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"noreferrer\"><code>Collections.unmodifiableList</code></a>:</p>\n\n<pre><code>public class Example {\n    final private ArrayList&lt;String&gt; list;\n\n    Example(ArrayList&lt;String&gt; listArg) {\n        list = Collections.unmodifiableList(listArg);\n    }\n}\n</code></pre>\n\n<p>(Note that this creates an unmodifiable view of the list. If someone is holding on to the original reference, then the list can still be modified through that.)</p>\n\n<hr>\n\n<blockquote>\n  <p><strong><em>With a String this behaviour isnt possible. So what is the difference here?</em></strong></p>\n</blockquote>\n\n<p>That is because a <code>String</code> is already immutable (unmodifiable) just as the list would be if you turned it into an unmodifiableList.</p>\n\n<p>Comparison:</p>\n\n<pre><code>              String data structure  | List data structure\n           .-------------------------+------------------------------------.\nImmutable  | String                  | Collection.unmodifiableList(...)   |\n-----------+-------------------------+------------------------------------|\nMutable    | StringBuffer            | ArrayList                          |\n           '-------------------------+------------------------------------'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505731194,"creation_date":1306406698,"answer_id":6137293,"question_id":6137224,"body_markdown":"The key is to understand that you&#39;re not changing the *string* - you&#39;re changing *which string references the list contains*.\r\n\r\nTo put it another way: if I take a dollar out of your wallet, and replace it with a dime, I haven&#39;t changed either the dollar or the dime - I&#39;ve just changed the contents of your wallet.\r\n\r\nIf you want a read-only view on the list, look at `Collections.unmodifiableList`. That won&#39;t stop the list that it&#39;s *wrapping* from changing of course, but it will stop anyone who only has a reference to the unmodifiable list from modifying the contents.\r\n\r\nFor a *truly* immutable list, look at [Guava][1]&#39;s [ImmutableList][2] class.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>The key is to understand that you're not changing the <em>string</em> - you're changing <em>which string references the list contains</em>.</p>\n\n<p>To put it another way: if I take a dollar out of your wallet, and replace it with a dime, I haven't changed either the dollar or the dime - I've just changed the contents of your wallet.</p>\n\n<p>If you want a read-only view on the list, look at <code>Collections.unmodifiableList</code>. That won't stop the list that it's <em>wrapping</em> from changing of course, but it will stop anyone who only has a reference to the unmodifiable list from modifying the contents.</p>\n\n<p>For a <em>truly</em> immutable list, look at <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">ImmutableList</a> class.</p>\n"},{"tags":[],"owner":{"account_id":304151,"reputation":7913,"user_id":613495,"accept_rate":95,"display_name":"Boro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306406700,"creation_date":1306406700,"answer_id":6137294,"question_id":6137224,"body_markdown":"Therefore you should not provide a getter method for the list if you want to protect it from being changed. \r\n\r\nIts objects are still staying intact since you didn&#39;t have setters. But what you do is remove/add new/different objects to it and this is fine.","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Therefore you should not provide a getter method for the list if you want to protect it from being changed. </p>\n\n<p>Its objects are still staying intact since you didn't have setters. But what you do is remove/add new/different objects to it and this is fine.</p>\n"},{"tags":[],"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306406740,"creation_date":1306406740,"answer_id":6137301,"question_id":6137224,"body_markdown":"As the other answers say the Object you return from the getters is still mutable.\r\n\r\nYou can turn the List immutable by decorating it using the Collections class:\r\n\r\n     list = Collections.unmodifiableList(list);\r\n\r\nIf you return this to clients they will not be able to add or remove elements to it.  However, they can still get elements out of the list - so you have to make sure they&#39;re immutable too, if that&#39;s what you&#39;re after!","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>As the other answers say the Object you return from the getters is still mutable.</p>\n\n<p>You can turn the List immutable by decorating it using the Collections class:</p>\n\n<pre><code> list = Collections.unmodifiableList(list);\n</code></pre>\n\n<p>If you return this to clients they will not be able to add or remove elements to it.  However, they can still get elements out of the list - so you have to make sure they're immutable too, if that's what you're after!</p>\n"},{"tags":[],"owner":{"account_id":28663,"reputation":12716,"user_id":76777,"accept_rate":86,"display_name":"simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306406821,"creation_date":1306406821,"answer_id":6137316,"question_id":6137224,"body_markdown":"The list reference is immutable, but not the list. If you want the list itself to be immutable, consider using [ImmutableList][1]\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>The list reference is immutable, but not the list. If you want the list itself to be immutable, consider using <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"nofollow\">ImmutableList</a></p>\n"},{"tags":[],"owner":{"account_id":5066229,"reputation":29,"user_id":4066256,"display_name":"Pratik Adhau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421059345,"creation_date":1421059345,"answer_id":27900134,"question_id":6137224,"body_markdown":" Collections.unmodifiableList() makes list unmidifiable. Which again creates  a new final array list and override add, remove, addall and clear method to throw unsupportedoperationexception. Its a hack of Collections class. But at compile time it does not stop you from adding and removing stuff. I would rather go with cloning of that list. Which can help me to keep my existing object immutable and does not cost me creating of new list. Read difference between cloning and new operator(http://www.javatpoint.com/object-cloning). Also will help from crashing my code at runtime. ","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Collections.unmodifiableList() makes list unmidifiable. Which again creates  a new final array list and override add, remove, addall and clear method to throw unsupportedoperationexception. Its a hack of Collections class. But at compile time it does not stop you from adding and removing stuff. I would rather go with cloning of that list. Which can help me to keep my existing object immutable and does not cost me creating of new list. Read difference between cloning and new operator(<a href=\"http://www.javatpoint.com/object-cloning\" rel=\"nofollow\">http://www.javatpoint.com/object-cloning</a>). Also will help from crashing my code at runtime. </p>\n"},{"tags":[],"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495868045,"creation_date":1495868045,"answer_id":44213919,"question_id":6137224,"body_markdown":"To get a really immutable list, you will have to make deep copies of the contents of the list. UnmodifiableList would only render the list of references somewhat immutable.\r\nNow making a deep copy of the List or array will be tough on memory with the growing size. \r\nYou can make use of serialization/deserialization and store the deep copy of array/list into a temp file. The setter would not be available as the member varaible needs to be immutable. The getter would serialize the member variable into a file and then desialize it to get a deep copy. Seraialization has an innate nature of going into the depths of an object tree. This would ensure complete immutability at some performance cost though.\r\n\r\n    package com.home.immutable.serial;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    \r\n    public final class ImmutableBySerial {\r\n    \t\r\n    \tprivate final int num;\r\n    \tprivate final String str;\r\n    \tprivate final TestObjSerial[] arr;\r\n    \t\r\n    \tImmutableBySerial(int num, String str, TestObjSerial[] arr){\r\n    \t\tthis.num = num;\r\n    \t\tthis.str = str;\r\n    \t\tthis.arr = getDeepCloned(arr);\r\n    \t}\r\n    \t\r\n    \tpublic int getNum(){\r\n    \t\treturn num;\r\n    \t}\r\n    \t\r\n    \tpublic String getStr(){\r\n    \t\treturn str;\r\n    \t}\r\n    \t\r\n    \tpublic TestObjSerial[] getArr(){\r\n    \t\treturn getDeepCloned(arr);\r\n    \t}\r\n    \t\r\n    \tprivate TestObjSerial[] getDeepCloned(TestObjSerial[] arr){\r\n    \t\tFileOutputStream fos = null;\r\n    \t\tObjectOutputStream oos = null;\r\n    \t\tFileInputStream fis = null;\r\n    \t\tObjectInputStream ois = null;\r\n    \t\tTestObjSerial[] clonedObj = null;\r\n    \t\ttry {\r\n    \t\t\t fos = new FileOutputStream(new File(&quot;temp&quot;));\r\n    \t\t\t oos = new ObjectOutputStream(fos);\r\n    \t\t\t oos.writeObject(arr);\r\n    \t\t\t fis = new FileInputStream(new File(&quot;temp&quot;));\r\n    \t\t\t ois = new ObjectInputStream(fis);\r\n    \t\t\t clonedObj = (TestObjSerial[])ois.readObject();\r\n    \t\t\t \r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\toos.close();\r\n    \t\t\t\tfos.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn clonedObj;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>To get a really immutable list, you will have to make deep copies of the contents of the list. UnmodifiableList would only render the list of references somewhat immutable.\nNow making a deep copy of the List or array will be tough on memory with the growing size. \nYou can make use of serialization/deserialization and store the deep copy of array/list into a temp file. The setter would not be available as the member varaible needs to be immutable. The getter would serialize the member variable into a file and then desialize it to get a deep copy. Seraialization has an innate nature of going into the depths of an object tree. This would ensure complete immutability at some performance cost though.</p>\n\n<pre><code>package com.home.immutable.serial;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\n\npublic final class ImmutableBySerial {\n\n    private final int num;\n    private final String str;\n    private final TestObjSerial[] arr;\n\n    ImmutableBySerial(int num, String str, TestObjSerial[] arr){\n        this.num = num;\n        this.str = str;\n        this.arr = getDeepCloned(arr);\n    }\n\n    public int getNum(){\n        return num;\n    }\n\n    public String getStr(){\n        return str;\n    }\n\n    public TestObjSerial[] getArr(){\n        return getDeepCloned(arr);\n    }\n\n    private TestObjSerial[] getDeepCloned(TestObjSerial[] arr){\n        FileOutputStream fos = null;\n        ObjectOutputStream oos = null;\n        FileInputStream fis = null;\n        ObjectInputStream ois = null;\n        TestObjSerial[] clonedObj = null;\n        try {\n             fos = new FileOutputStream(new File(\"temp\"));\n             oos = new ObjectOutputStream(fos);\n             oos.writeObject(arr);\n             fis = new FileInputStream(new File(\"temp\"));\n             ois = new ObjectInputStream(fis);\n             clonedObj = (TestObjSerial[])ois.readObject();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                oos.close();\n                fos.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return clonedObj;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8260058,"reputation":103,"user_id":6211841,"display_name":"Hamada Ibrahim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510672732,"creation_date":1510667379,"answer_id":47287512,"question_id":6137224,"body_markdown":"One another solution is to return copy of the arraylist not the actual array list like this code\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public final class ImmutableExample {\r\n\r\n\t    private final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\r\n\t    public ImmutableExample() {\r\n\t\t    strings.add(&quot;strin 1&quot;);\r\n\t\t    strings.add(&quot;string 2&quot;);\r\n\t    }\r\n\r\n\t    public List&lt;String&gt; getStrings() {\r\n\t\t    List&lt;String&gt; newStrings = new ArrayList&lt;String&gt;();\r\n\t\t    strings.forEach(s -&gt; newStrings.add(s));\r\n\t\t    return newStrings;\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t\t    ImmutableExample im = new ImmutableExample();\r\n\t\t    System.out.println(im.getStrings());\r\n\t\t    im.getStrings().add(&quot;string 3&quot;);\r\n\t\t    System.out.println(im.getStrings());\r\n\r\n\t    }\r\n    }","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>One another solution is to return copy of the arraylist not the actual array list like this code</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic final class ImmutableExample {\n\n    private final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n\n    public ImmutableExample() {\n        strings.add(\"strin 1\");\n        strings.add(\"string 2\");\n    }\n\n    public List&lt;String&gt; getStrings() {\n        List&lt;String&gt; newStrings = new ArrayList&lt;String&gt;();\n        strings.forEach(s -&gt; newStrings.add(s));\n        return newStrings;\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ImmutableExample im = new ImmutableExample();\n        System.out.println(im.getStrings());\n        im.getStrings().add(\"string 3\");\n        System.out.println(im.getStrings());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22432441,"reputation":1,"user_id":16638111,"display_name":"Vishnu Priya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637091108,"creation_date":1628660498,"answer_id":68736537,"question_id":6137224,"body_markdown":"This works for me. We need to have the class as final so that it can not be inherited. keep the list as final (this is just a reference to the list). In the constructor, use unmodifiableList and create a new list and assign a reference to that and not the input.\r\n\r\n\r\n    public final class ImmutableClassWithList {\r\n    \t\r\n    \tprivate  final List&lt;String&gt; list;\r\n    \t\r\n    \tpublic ImmutableClassWithList(ArrayList&lt;String&gt; input) {\r\n    \t\tlist = Collections.unmodifiableList(new ArrayList&lt;String&gt;(input));\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;String&gt; getList(){\r\n    \t\t\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>This works for me. We need to have the class as final so that it can not be inherited. keep the list as final (this is just a reference to the list). In the constructor, use unmodifiableList and create a new list and assign a reference to that and not the input.</p>\n<pre><code>public final class ImmutableClassWithList {\n    \n    private  final List&lt;String&gt; list;\n    \n    public ImmutableClassWithList(ArrayList&lt;String&gt; input) {\n        list = Collections.unmodifiableList(new ArrayList&lt;String&gt;(input));\n    }\n    \n    public List&lt;String&gt; getList(){\n        \n        return list;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670865062,"creation_date":1670865062,"answer_id":74774775,"question_id":6137224,"body_markdown":"Since Java 10 you can use `List.copyOf` static method.\r\n\r\n```java\r\npublic void setList(List&lt;T&gt; list){\r\n  this.list = List.copyOf(list);\r\n}\r\n```\r\n\r\nAs per [javadoc][1], the resulting list is immutable, and any changes to the underlying list will not affect the new one.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Since Java 10 you can use <code>List.copyOf</code> static method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setList(List&lt;T&gt; list){\n  this.list = List.copyOf(list);\n}\n</code></pre>\n<p>As per <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\">javadoc</a>, the resulting list is immutable, and any changes to the underlying list will not affect the new one.</p>\n"}],"owner":{"account_id":339716,"reputation":2465,"user_id":669356,"accept_rate":65,"display_name":"nano7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47048,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":6137270,"answer_count":11,"score":23,"last_activity_date":1670865062,"creation_date":1306406370,"question_id":6137224,"body_markdown":"I have got one class with various member variables. There is a constructor and there are getter-methods, but no setter-methods. In fact, this object should be immutable.\r\n\r\n    public class Example {\r\n       private ArrayList&lt;String&gt; list; \r\n    }\r\n\r\nNow I noticed the following: when I get the variable list with a getter-method, I can add new values and so on - I can change the `ArrayList`. When I call the next time `get()` for this variable, the changed `ArrayList` is returned. How can this be? I didn&#39;t set it again, I just worked on it!\r\nWith a `String` this behaviour isn&#39;t possible. So what is the difference here?\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>I have got one class with various member variables. There is a constructor and there are getter-methods, but no setter-methods. In fact, this object should be immutable.</p>\n\n<pre><code>public class Example {\n   private ArrayList&lt;String&gt; list; \n}\n</code></pre>\n\n<p>Now I noticed the following: when I get the variable list with a getter-method, I can add new values and so on - I can change the <code>ArrayList</code>. When I call the next time <code>get()</code> for this variable, the changed <code>ArrayList</code> is returned. How can this be? I didn't set it again, I just worked on it!\nWith a <code>String</code> this behaviour isn't possible. So what is the difference here?</p>\n"},{"tags":["java","maven","pom.xml","deprecated"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670865428,"post_id":74774767,"comment_id":131967009,"body_markdown":"Tried `**/deprecated/**` (it follows [&quot;ant style path pattern&quot;](https://ant.apache.org/manual/dirtasks.html#patterns) ..but i have doubts regarding &quot;overall scenario&quot;... have you tried just to (reversably) delete them?","body":"Tried <code>**&#47;deprecated&#47;**</code> (it follows <a href=\"https://ant.apache.org/manual/dirtasks.html#patterns\" rel=\"nofollow noreferrer\">&quot;ant style path pattern&quot;</a> ..but i have doubts regarding &quot;overall scenario&quot;... have you tried just to (reversably) delete them?"},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":1,"creation_date":1670865705,"post_id":74774767,"comment_id":131967115,"body_markdown":"@xerx593 Adding the double asterisks at the end worked; thanks! Don&#39;t want to delete the deprecated code yet for various reasons but being able to exclude it from the build works just as well. Thanks again!","body":"@xerx593 Adding the double asterisks at the end worked; thanks! Don&#39;t want to delete the deprecated code yet for various reasons but being able to exclude it from the build works just as well. Thanks again!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670932280,"post_id":74774767,"comment_id":131982708,"body_markdown":"Remove them from your project... that&#39;s much simpler...","body":"Remove them from your project... that&#39;s much simpler..."}],"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670865020,"creation_date":1670865020,"question_id":74774767,"body_markdown":"I have a few directories in my Java project that hold deprecated code: com.company.deprecated and com.partner.company.deprecated. I want to exclude everything in these two &quot;deprecated&quot; directories from Maven compilation, regardless of content or directory structure inside them, so I have created a build tag like this at the very end of my POM:\r\n\r\n```\r\n    &lt;!-- Exclude directories that hold deprecated code --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/com/company/deprecated&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/com/partner/company/deprecated&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThis POM handles a module inside a larger project, but the deprecated code isn&#39;t used anywhere else inside other modules, so I don&#39;t think there are any conflict issues going on with other POMs. I have tried putting the &quot;build&quot; element at the end of either the specific module POM or the project POM, and get the same compilation errors each time.\r\n\r\nAs far as I can tell, this should exclude the deprecated directories from my Maven build, but I keep getting compilation errors in files within the &quot;deprecated&quot; directories. I have tried the double asterisk syntax above, absolute paths, and wildcards after &quot;deprecated&quot; but nothing seems to work. I&#39;ve gone through StackOverflow and haven&#39;t found anything exactly like what I&#39;m trying to do, although I am still relatively new to Maven so it is very possible there is something I&#39;m just being dense about.\r\n\r\nCan anyone please help me with the proper syntax (or perhaps a different plugin?) for this issue? Thank you!","title":"Syntax for excluding deprecated directories with Maven","body":"<p>I have a few directories in my Java project that hold deprecated code: com.company.deprecated and com.partner.company.deprecated. I want to exclude everything in these two &quot;deprecated&quot; directories from Maven compilation, regardless of content or directory structure inside them, so I have created a build tag like this at the very end of my POM:</p>\n<pre><code>    &lt;!-- Exclude directories that hold deprecated code --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/com/company/deprecated&lt;/exclude&gt;\n                        &lt;exclude&gt;**/com/partner/company/deprecated&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>This POM handles a module inside a larger project, but the deprecated code isn't used anywhere else inside other modules, so I don't think there are any conflict issues going on with other POMs. I have tried putting the &quot;build&quot; element at the end of either the specific module POM or the project POM, and get the same compilation errors each time.</p>\n<p>As far as I can tell, this should exclude the deprecated directories from my Maven build, but I keep getting compilation errors in files within the &quot;deprecated&quot; directories. I have tried the double asterisk syntax above, absolute paths, and wildcards after &quot;deprecated&quot; but nothing seems to work. I've gone through StackOverflow and haven't found anything exactly like what I'm trying to do, although I am still relatively new to Maven so it is very possible there is something I'm just being dense about.</p>\n<p>Can anyone please help me with the proper syntax (or perhaps a different plugin?) for this issue? Thank you!</p>\n"},{"tags":["java","hibernate","jpa","integration-testing","interceptor"],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670864831,"creation_date":1646996883,"question_id":71437586,"body_markdown":"I have created interceptor for `boolean onFlushDirty` method.\r\n\r\nRegistered it like that\r\n```\r\n@Component\r\npublic class HibernateInterceptorRegistration implements HibernatePropertiesCustomizer {\r\n\r\n  // My interceptor\r\n  private final EntityInterceptor entityInterceptor;\r\n\r\n  public HibernateInterceptorRegistration(EntityInterceptor entityInterceptor) {\r\n    this.entityInterceptor = entityInterceptor;\r\n  }\r\n\r\n  @Override\r\n  public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n    hibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, entityInterceptor);\r\n  }\r\n}\r\n```\r\n\r\nApplication works correct, but I cannot trigger this interceptor in integrational test.\r\nI have TestConfig class, that I `@Import` to the integrational test class.\r\n\r\nThere I&#39;ve added 2 beans:\r\n\r\n```\r\n  @Bean\r\n  public HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\r\n    return new HibernateInterceptorRegistration(entityInterceptor());\r\n  }\r\n\r\n  @Bean\r\n  public EntityInterceptor entityInterceptor() {\r\n    return new EntityInterceptor();\r\n  }\r\n```\r\n\r\nNothing helped. What should I do to use interceptor in tests?","title":"How to trigger Hibernate interceptor in the integration test?","body":"<p>I have created interceptor for <code>boolean onFlushDirty</code> method.</p>\n<p>Registered it like that</p>\n<pre><code>@Component\npublic class HibernateInterceptorRegistration implements HibernatePropertiesCustomizer {\n\n  // My interceptor\n  private final EntityInterceptor entityInterceptor;\n\n  public HibernateInterceptorRegistration(EntityInterceptor entityInterceptor) {\n    this.entityInterceptor = entityInterceptor;\n  }\n\n  @Override\n  public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n    hibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, entityInterceptor);\n  }\n}\n</code></pre>\n<p>Application works correct, but I cannot trigger this interceptor in integrational test.\nI have TestConfig class, that I <code>@Import</code> to the integrational test class.</p>\n<p>There I've added 2 beans:</p>\n<pre><code>  @Bean\n  public HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\n    return new HibernateInterceptorRegistration(entityInterceptor());\n  }\n\n  @Bean\n  public EntityInterceptor entityInterceptor() {\n    return new EntityInterceptor();\n  }\n</code></pre>\n<p>Nothing helped. What should I do to use interceptor in tests?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1670866611,"post_id":74774706,"comment_id":131967432,"body_markdown":"As the error says, probably you need to add your activity in the manifest. https://stackoverflow.com/a/20871106/16404907\nBy the way if you add your code, we&#39;ll help you better","body":"As the error says, probably you need to add your activity in the manifest. <a href=\"https://stackoverflow.com/a/20871106/16404907\">stackoverflow.com/a/20871106/16404907</a> By the way if you add your code, we&#39;ll help you better"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670870824,"post_id":74774706,"comment_id":131968810,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20152820,"reputation":1,"user_id":14779745,"display_name":"sachin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670864598,"creation_date":1670864598,"question_id":74774706,"body_markdown":"In Android 13 not open the chrome browser I can&#39;t open chrome using htm text\r\n\r\n\r\nError-unable to find explicit activity class{com.android.chrome/com.google.android.apps.chrome.Main} have you declared this activity in your Android Manifest.xml\r\n\r\nI am trying to open chrome browser in Android 13\r\nI want to open chrome browser using html text ","title":"Chrome issues in Android 13","body":"<p>In Android 13 not open the chrome browser I can't open chrome using htm text</p>\n<p>Error-unable to find explicit activity class{com.android.chrome/com.google.android.apps.chrome.Main} have you declared this activity in your Android Manifest.xml</p>\n<p>I am trying to open chrome browser in Android 13\nI want to open chrome browser using html text</p>\n"},{"tags":["java","spring","jpa","javabeans"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670862007,"post_id":74774096,"comment_id":131965865,"body_markdown":"How does your package structure looks like? Make sure that the class annotated with @SpringBootApplication is in the hierarchy above all other classeses","body":"How does your package structure looks like? Make sure that the class annotated with @SpringBootApplication is in the hierarchy above all other classeses"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670862130,"post_id":74774096,"comment_id":131965922,"body_markdown":"I have checked it, it is placed above all other classes","body":"I have checked it, it is placed above all other classes"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1670863096,"post_id":74774096,"comment_id":131966264,"body_markdown":"Your model looks fine, but it&#39;s not registering.  Please provide more code so we can see what&#39;s happening.  It would be great to see your `SpringBootApplication` class and your configuration class so we can see how you&#39;ve set up your project.  Without knowing more, my best guess would be that your model class is outside of your application&#39;s main package, and so it isn&#39;t being picked up by Spring.  However, further review of your Spring structure (application, configuration, file structure, etc) would help narrow down the issue.","body":"Your model looks fine, but it&#39;s not registering.  Please provide more code so we can see what&#39;s happening.  It would be great to see your <code>SpringBootApplication</code> class and your configuration class so we can see how you&#39;ve set up your project.  Without knowing more, my best guess would be that your model class is outside of your application&#39;s main package, and so it isn&#39;t being picked up by Spring.  However, further review of your Spring structure (application, configuration, file structure, etc) would help narrow down the issue."},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670863914,"post_id":74774096,"comment_id":131966575,"body_markdown":"I am not sure that my project is completely fine because I don&#39;t have a configuration class, but I have already maken Spring projects and I haven&#39;t any there too, only WebSecurityConfig, but I do not have Spring Security in this project.","body":"I am not sure that my project is completely fine because I don&#39;t have a configuration class, but I have already maken Spring projects and I haven&#39;t any there too, only WebSecurityConfig, but I do not have Spring Security in this project."},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1670863944,"post_id":74774096,"comment_id":131966584,"body_markdown":"In `Article` id feild is of type `int` but in `ArticleRepository` id feild is defined as Long. This could be the issue.","body":"In <code>Article</code> id feild is of type <code>int</code> but in <code>ArticleRepository</code> id feild is defined as Long. This could be the issue."},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670864148,"post_id":74774096,"comment_id":131966658,"body_markdown":"I have rewrited it to Long and it hasn&#39;t helped :(","body":"I have rewrited it to Long and it hasn&#39;t helped :("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670865610,"post_id":74774096,"comment_id":131967088,"body_markdown":"Hi &amp; Welcome! Try please: remove `@Repository` annotation... (i search evidence)","body":"Hi &amp; Welcome! Try please: remove <code>@Repository</code> annotation... (i search evidence)"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1670865697,"post_id":74774096,"comment_id":131967114,"body_markdown":"Which version of Spring Boot are you using?","body":"Which version of Spring Boot are you using?"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670865920,"post_id":74774096,"comment_id":131967183,"body_markdown":"I removed @Repository annotation, but it didn&#39;t work((","body":"I removed @Repository annotation, but it didn&#39;t work(("},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":1,"creation_date":1670865944,"post_id":74774096,"comment_id":131967194,"body_markdown":"I am currently using v3.0.0","body":"I am currently using v3.0.0"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1670866007,"post_id":74774096,"comment_id":131967216,"body_markdown":"then, gotcha! since spring-boot:3 it should be `jakarta.persistence` and not `javax.persistence`...!","body":"then, gotcha! since spring-boot:3 it should be <code>jakarta.persistence</code> and not <code>javax.persistence</code>...!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670866062,"post_id":74774096,"comment_id":131967239,"body_markdown":"Please check your classpath for this (offending, javax...) dependency ... and exclude it (stick to one version) ...https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x","body":"Please check your classpath for this (offending, javax...) dependency ... and exclude it (stick to one version) ...<a href=\"https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":1,"creation_date":1670866486,"post_id":74774096,"comment_id":131967384,"body_markdown":"It helped! Thank you so much! You are my hero!!!","body":"It helped! Thank you so much! You are my hero!!!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670878010,"post_id":74774096,"comment_id":131970854,"body_markdown":"link (same issue): https://stackoverflow.com/q/74776741/592355","body":"link (same issue): <a href=\"https://stackoverflow.com/q/74776741/592355\">stackoverflow.com/q/74776741/592355</a>"}],"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670864482,"creation_date":1670861766,"question_id":74774096,"body_markdown":"I am making a simple Spring application. And I keep getting this error\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;articleController&#39;: Unsatisfied dependency expressed through field &#39;articleRepository&#39;: Error creating bean with name &#39;articleRepository&#39; defined in com.example.work.repositories.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.work.models.Article\r\n```\r\nHere is my Article.java code\r\n\r\n    package com.example.work.models;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\n\r\n    @Entity\r\n    public class Article {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n\r\n        private String name;\r\n        private String description;\r\n        private String text;\r\n\r\n        public Article(String name, String description, String text) {\r\n            this.name = name;\r\n            this.description = description;\r\n            this.text = text;\r\n        }\r\n\r\n        public Article(){\r\n\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        public String getText() {\r\n            return text;\r\n        }\r\n\r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n    }\r\nHere is my @SpringBootApplication class\r\n\r\n    package com.example.work;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class WorkApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(WorkApplication.class, args);\r\n\t    }\r\n\r\n    }\r\nHere is the ArticleRepository.java\r\n\r\n    package com.example.work.repositories;\r\n\r\n    import com.example.work.models.Article;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n\r\n    @Repository\r\n    public interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\r\n    }\r\nAnd the ArticleController.java\r\n\r\n    package com.example.work.controllers;\r\n\r\n    import com.example.work.models.Article;\r\n    import com.example.work.repositories.ArticleRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n\r\n\r\n    @Controller\r\n    public class ArticleController {\r\n        @Autowired\r\n        private ArticleRepository articleRepository;\r\n\r\n        @GetMapping(&quot;/article&quot;)\r\n        public String article(Model model){\r\n            Iterable&lt;Article&gt; articles = articleRepository.findAll();\r\n            model.addAttribute(&quot;articles&quot;, articles);\r\n            return &quot;article&quot;;\r\n        }\r\n    }\r\n\r\nAnd the whole project structure:\r\n[project structure][1]\r\n\r\n\r\nI have tried to find answerd for my issue, but I have only found the advice to check `@Entity` and `@Id` annotations in my models. But I do have them there, so I have no idea what to do :(\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JYA0u.png","title":"BeanCreationException: Error creating bean with name &#39;articleRepository&#39; defined in","body":"<p>I am making a simple Spring application. And I keep getting this error</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'articleController': Unsatisfied dependency expressed through field 'articleRepository': Error creating bean with name 'articleRepository' defined in com.example.work.repositories.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.work.models.Article\n</code></pre>\n<p>Here is my Article.java code</p>\n<pre><code>package com.example.work.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n\n@Entity\npublic class Article {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n    private String description;\n    private String text;\n\n    public Article(String name, String description, String text) {\n        this.name = name;\n        this.description = description;\n        this.text = text;\n    }\n\n    public Article(){\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>Here is my @SpringBootApplication class</p>\n<pre><code>package com.example.work;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class WorkApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WorkApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is the ArticleRepository.java</p>\n<pre><code>package com.example.work.repositories;\n\nimport com.example.work.models.Article;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\n}\n</code></pre>\n<p>And the ArticleController.java</p>\n<pre><code>package com.example.work.controllers;\n\nimport com.example.work.models.Article;\nimport com.example.work.repositories.ArticleRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n\n@Controller\npublic class ArticleController {\n    @Autowired\n    private ArticleRepository articleRepository;\n\n    @GetMapping(&quot;/article&quot;)\n    public String article(Model model){\n        Iterable&lt;Article&gt; articles = articleRepository.findAll();\n        model.addAttribute(&quot;articles&quot;, articles);\n        return &quot;article&quot;;\n    }\n}\n</code></pre>\n<p>And the whole project structure:\n<a href=\"https://i.stack.imgur.com/JYA0u.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>I have tried to find answerd for my issue, but I have only found the advice to check <code>@Entity</code> and <code>@Id</code> annotations in my models. But I do have them there, so I have no idea what to do :(</p>\n"},{"tags":["java","function","recursion","binary-search"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1670695649,"post_id":74755285,"comment_id":131934802,"body_markdown":"Hint: when you call `rec_binarysearch`, you&#39;re ignoring the value returned. I suggest you don&#39;t do that. (I&#39;d also strongly recommend that you get your IDE to format your code - the inconsistent indentation makes it really hard to read.)","body":"Hint: when you call <code>rec_binarysearch</code>, you&#39;re ignoring the value returned. I suggest you don&#39;t do that. (I&#39;d also strongly recommend that you get your IDE to format your code - the inconsistent indentation makes it really hard to read.)"}],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670702366,"creation_date":1670695883,"answer_id":74755443,"question_id":74755285,"body_markdown":"Your function `rec_binarysearch` is a recursive function, which is calling itself. But at the points where you call it recursively, you just ignore the return value. Thus you need to return the value from the function itself inside of the function. I only need to add two return statements and your code works:\r\n```\r\npublic class ReBinarySearch {\r\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n        if (array.length == 0) {\r\n            return -1;\r\n        }\r\n        int mid = first + (last - first) / 2;\r\n        if (first &lt;= last) {\r\n            if (array[mid] == search) {\r\n                System.out.println(mid);\r\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\r\n                return mid; //Not returning this Value\r\n            } else if (array[mid] &gt; search) {\r\n                return rec_binarysearch(array, search, first, mid - 1);\r\n            } else if (array[mid] &lt; search) {\r\n                return rec_binarysearch(array, search, mid + 1, last);\r\n            }\r\n        }\r\n        return -1; //Always Returning this Value\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n        int search = 10;\r\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\r\n    }\r\n}\r\n```\r\n\r\nYour code can further be optimized to the following:\r\n```\r\npublic static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n    //// base cases/termination points should come first:\r\n    // terminate if the array is empty\r\n    if (array.length == 0) {\r\n        return -1;\r\n    }\r\n    // terminate if first is greater than last.\r\n    if (first &gt; last) {\r\n        return -1;\r\n    }\r\n    // terminate if search was found\r\n    int mid = first + (last - first) / 2;\r\n    if (array[mid] == search) {\r\n        return mid; //Not returning this Value\r\n    }\r\n\r\n    //// recursive cases:\r\n    // if none of the above was true we can continue \r\n    // searching with the recursive calls...\r\n    if (array[mid] &gt; search) {\r\n        return rec_binarysearch(array, search, first, mid - 1);\r\n    } else { // (array[mid] &lt; search) is always true at this point\r\n        return rec_binarysearch(array, search, mid + 1, last);\r\n    }\r\n}\r\n```\r\n\r\nI applied the best practice in there, that a recursively called function should always begin with the base cases (termination points). Meaning, we should always start the function with handling the cases, in which the recursion should stop and exit the function. In your case the following needs to be checked:\r\n* is the array empty?\r\n* is (first &gt; last)? this is especially important, because your recursive calls increase the value of `first` and decrease the value of `last`. So if you try to find a value in an array that doesn&#39;t contain the search value, you will run into this case.\r\n* did you find a match?\r\n\r\n### Edit\r\nTo make the function 100% correct, you would also need to check, that `first` and `last` are not out of range. But in that case it would be better to have another function that does these checks (as well as `array.length ==0`) and then calls the recursive function to retrieve the result.","title":"Recursive function in Java prints correct value but returns wrong one","body":"<p>Your function <code>rec_binarysearch</code> is a recursive function, which is calling itself. But at the points where you call it recursively, you just ignore the return value. Thus you need to return the value from the function itself inside of the function. I only need to add two return statements and your code works:</p>\n<pre><code>public class ReBinarySearch {\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\n        if (array.length == 0) {\n            return -1;\n        }\n        int mid = first + (last - first) / 2;\n        if (first &lt;= last) {\n            if (array[mid] == search) {\n                System.out.println(mid);\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\n                return mid; //Not returning this Value\n            } else if (array[mid] &gt; search) {\n                return rec_binarysearch(array, search, first, mid - 1);\n            } else if (array[mid] &lt; search) {\n                return rec_binarysearch(array, search, mid + 1, last);\n            }\n        }\n        return -1; //Always Returning this Value\n    }\n\n    public static void main(String args[]) {\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int search = 10;\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\n    }\n}\n</code></pre>\n<p>Your code can further be optimized to the following:</p>\n<pre><code>public static int rec_binarysearch(int[] array, int search, int first, int last) {\n    //// base cases/termination points should come first:\n    // terminate if the array is empty\n    if (array.length == 0) {\n        return -1;\n    }\n    // terminate if first is greater than last.\n    if (first &gt; last) {\n        return -1;\n    }\n    // terminate if search was found\n    int mid = first + (last - first) / 2;\n    if (array[mid] == search) {\n        return mid; //Not returning this Value\n    }\n\n    //// recursive cases:\n    // if none of the above was true we can continue \n    // searching with the recursive calls...\n    if (array[mid] &gt; search) {\n        return rec_binarysearch(array, search, first, mid - 1);\n    } else { // (array[mid] &lt; search) is always true at this point\n        return rec_binarysearch(array, search, mid + 1, last);\n    }\n}\n</code></pre>\n<p>I applied the best practice in there, that a recursively called function should always begin with the base cases (termination points). Meaning, we should always start the function with handling the cases, in which the recursion should stop and exit the function. In your case the following needs to be checked:</p>\n<ul>\n<li>is the array empty?</li>\n<li>is (first &gt; last)? this is especially important, because your recursive calls increase the value of <code>first</code> and decrease the value of <code>last</code>. So if you try to find a value in an array that doesn't contain the search value, you will run into this case.</li>\n<li>did you find a match?</li>\n</ul>\n<h3>Edit</h3>\n<p>To make the function 100% correct, you would also need to check, that <code>first</code> and <code>last</code> are not out of range. But in that case it would be better to have another function that does these checks (as well as <code>array.length ==0</code>) and then calls the recursive function to retrieve the result.</p>\n"}],"owner":{"account_id":26979528,"reputation":37,"user_id":20544107,"display_name":"muad Pn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74755443,"answer_count":1,"score":0,"last_activity_date":1670864111,"creation_date":1670694633,"question_id":74755285,"body_markdown":"I tried to do Binary Search In Java, but it&#39;s not returning the correct value even though it finds the right one and prints it.\r\n\r\n\r\n```\r\npublic class ReBinarySearch {\r\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n        if (array.length == 0) {\r\n            return -1;\r\n        }\r\n        int mid = first + (last - first) / 2;\r\n        if (first &lt;= last) {\r\n            if (array[mid] == search) {\r\n                System.out.println(mid);\r\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\r\n                return mid; //Not returning this Value\r\n            } else if (array[mid] &gt; search) {\r\n                rec_binarysearch(array, search, first, mid - 1);\r\n            } else if (array[mid] &lt; search) {\r\n                rec_binarysearch(array, search, mid + 1, last);\r\n            }\r\n        }\r\n        return -1; //Always Returning this Value\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n        int search = 11;\r\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nBinary search is not returning the value as expected the code above. but its printing the Solution Right.\r\nwhat I need is to return that Value into main function.","title":"Recursive function in Java prints correct value but returns wrong one","body":"<p>I tried to do Binary Search In Java, but it's not returning the correct value even though it finds the right one and prints it.</p>\n<pre><code>public class ReBinarySearch {\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\n        if (array.length == 0) {\n            return -1;\n        }\n        int mid = first + (last - first) / 2;\n        if (first &lt;= last) {\n            if (array[mid] == search) {\n                System.out.println(mid);\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\n                return mid; //Not returning this Value\n            } else if (array[mid] &gt; search) {\n                rec_binarysearch(array, search, first, mid - 1);\n            } else if (array[mid] &lt; search) {\n                rec_binarysearch(array, search, mid + 1, last);\n            }\n        }\n        return -1; //Always Returning this Value\n    }\n\n    public static void main(String args[]) {\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int search = 11;\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\n\n    }\n}\n</code></pre>\n<p>Binary search is not returning the value as expected the code above. but its printing the Solution Right.\nwhat I need is to return that Value into main function.</p>\n"},{"tags":["java","image","bufferedimage","raster"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1375875227,"post_id":18102054,"comment_id":26499381,"body_markdown":"You will need a `WritableRaster` to create a `BufferedImage`, using `new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null)`. What a suitable `ColorModel`might be, depends on the pixel data in the raster. What format/pixel layout does it use?","body":"You will need a <code>WritableRaster</code> to create a <code>BufferedImage</code>, using <code>new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null)</code>. What a suitable <code>ColorModel</code>might be, depends on the pixel data in the raster. What format/pixel layout does it use?"},{"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"score":0,"creation_date":1376279602,"post_id":18102054,"comment_id":26636294,"body_markdown":"I mean compatible color model corresponding to the raster in such a way that image does not change.","body":"I mean compatible color model corresponding to the raster in such a way that image does not change."},{"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"score":0,"creation_date":1376281785,"post_id":18102054,"comment_id":26636715,"body_markdown":"I mean a color model compatible with a tiff image!","body":"I mean a color model compatible with a tiff image!"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1376292415,"post_id":18102054,"comment_id":26639929,"body_markdown":"Pretty much any color model is compatible with TIFF.. What does your raster look like? What sample model does it use? What is the transfer type? How many color components? Does it have alpha?","body":"Pretty much any color model is compatible with TIFF.. What does your raster look like? What sample model does it use? What is the transfer type? How many color components? Does it have alpha?"}],"answers":[{"tags":[],"owner":{"account_id":1145238,"reputation":2988,"user_id":1128171,"accept_rate":88,"display_name":"Codey McCodeface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375875115,"creation_date":1375875115,"answer_id":18102291,"question_id":18102054,"body_markdown":"Using the constructor\r\n\r\n    BufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties) \r\n\r\nIf you provide more info on how you get the raster I can be more helpful  ","title":"Create a BufferedImage from a Raster","body":"<p>Using the constructor</p>\n\n<pre><code>BufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties) \n</code></pre>\n\n<p>If you provide more info on how you get the raster I can be more helpful  </p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670863797,"creation_date":1375951666,"answer_id":18121674,"question_id":18102054,"body_markdown":"What a suitable `ColorModel` might be, depends on the pixel data in the raster. Here are some common variants:\r\n\r\n* If the raster contains interleaved or banded samples in `byte` (8 bits) or `ushort` (16 bits) format, a `ComponentColorModel` will work. You will need to specify the data type, color space and wether or not the data contains alpha and if the alpha is premultiplied or not. \r\n\r\n* If the raster is in &quot;packed&quot; format, you typically need a `DirectColorModel`. Again, you will need to know details about the raster for the colors to be correct. \r\n\r\n* If the raster contains a single component that represents indexes into a lookup table, you will need an `IndexColorModel` with the correct lookup table.\r\n\r\nThere is no &quot;one-size-fits-all&quot; solution here, but the code will look something like this:\r\n\r\n    Raster raster = ...; // Your raster\r\n    ColorModel colorModel = ...; // A suitable color model (see above)\r\n\r\n    WritableRaster writableRaster = raster.createCompatibleWritableRaster();\r\n    writableRaster.setDataElements(0, 0, raster);\r\n\r\n    BufferedImage image = new BufferedImage(colorModel, writableRaster, colorModel.isAlphaPremultiplied(), null);\r\n","title":"Create a BufferedImage from a Raster","body":"<p>What a suitable <code>ColorModel</code> might be, depends on the pixel data in the raster. Here are some common variants:</p>\n<ul>\n<li><p>If the raster contains interleaved or banded samples in <code>byte</code> (8 bits) or <code>ushort</code> (16 bits) format, a <code>ComponentColorModel</code> will work. You will need to specify the data type, color space and wether or not the data contains alpha and if the alpha is premultiplied or not.</p>\n</li>\n<li><p>If the raster is in &quot;packed&quot; format, you typically need a <code>DirectColorModel</code>. Again, you will need to know details about the raster for the colors to be correct.</p>\n</li>\n<li><p>If the raster contains a single component that represents indexes into a lookup table, you will need an <code>IndexColorModel</code> with the correct lookup table.</p>\n</li>\n</ul>\n<p>There is no &quot;one-size-fits-all&quot; solution here, but the code will look something like this:</p>\n<pre><code>Raster raster = ...; // Your raster\nColorModel colorModel = ...; // A suitable color model (see above)\n\nWritableRaster writableRaster = raster.createCompatibleWritableRaster();\nwritableRaster.setDataElements(0, 0, raster);\n\nBufferedImage image = new BufferedImage(colorModel, writableRaster, colorModel.isAlphaPremultiplied(), null);\n</code></pre>\n"}],"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7340,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1670863902,"creation_date":1375874448,"question_id":18102054,"body_markdown":"Simply I have a raster of an image and I want to make a `BufferedImage` of it.  \r\n\r\n    Raster raster = someObject.getAsRaster();\r\n    BufferedImage bi = ?\r\n\r\nHow can I make a `BufferedImage` with suitable `ColorModel` so the image is shown properly?","title":"Create a BufferedImage from a Raster","body":"<p>Simply I have a raster of an image and I want to make a <code>BufferedImage</code> of it.</p>\n<pre><code>Raster raster = someObject.getAsRaster();\nBufferedImage bi = ?\n</code></pre>\n<p>How can I make a <code>BufferedImage</code> with suitable <code>ColorModel</code> so the image is shown properly?</p>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":1088718,"reputation":4568,"user_id":1083843,"accept_rate":79,"display_name":"Renato Lochetti"},"score":1,"creation_date":1661456575,"post_id":71083140,"comment_id":129783716,"body_markdown":"I just want to say that you saved my day! Same problem here and it was NordVPN messing things up! But why? :(","body":"I just want to say that you saved my day! Same problem here and it was NordVPN messing things up! But why? :("},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":0,"creation_date":1669342925,"post_id":71083140,"comment_id":131626139,"body_markdown":"Were you using Windows 11? I&#39;ve had similar strange and frustrating issues where Android Studio can&#39;t connect to the internet since switching to this OS","body":"Were you using Windows 11? I&#39;ve had similar strange and frustrating issues where Android Studio can&#39;t connect to the internet since switching to this OS"},{"owner":{"account_id":19149477,"reputation":469,"user_id":13987708,"display_name":"Christian"},"score":0,"creation_date":1669621607,"post_id":71083140,"comment_id":131675023,"body_markdown":"Moin Cody,\n\nI think I was using Windows 11, but I am not sure. I am using Windows 11 now, though. And I haven&#39;t had any issues with Android Studio since, even the error I described above no longer exists.\n\nBut I suggest, you check other Apps on your computer, to make sure, they are not causing the issues. Even Apps you think shouldn&#39;t be an issue. Like in my case, I never thought NordVPN might cause problems with other Apps like this.","body":"Moin Cody,  I think I was using Windows 11, but I am not sure. I am using Windows 11 now, though. And I haven&#39;t had any issues with Android Studio since, even the error I described above no longer exists.  But I suggest, you check other Apps on your computer, to make sure, they are not causing the issues. Even Apps you think shouldn&#39;t be an issue. Like in my case, I never thought NordVPN might cause problems with other Apps like this."}],"answers":[{"tags":[],"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670863758,"creation_date":1670863758,"answer_id":74774513,"question_id":71083140,"body_markdown":"I was able to ultimately able to solve the issue in Android Studio by going into File -&gt; Settings -&gt; Version Control -&gt; Git -&gt; Enabling &quot;User credential helper&quot;","title":"Android Studio invalid authentication data. Cannot assign requested address: connect","body":"<p>I was able to ultimately able to solve the issue in Android Studio by going into File -&gt; Settings -&gt; Version Control -&gt; Git -&gt; Enabling &quot;User credential helper&quot;</p>\n"}],"owner":{"account_id":19149477,"reputation":469,"user_id":13987708,"display_name":"Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1670863758,"creation_date":1644595654,"question_id":71083140,"body_markdown":"I have a Issue where I can&#39;t login to GitHub anymore.\r\n\r\nAll worked fine just a moment ago, then suddenly my Flutter Build stopped to work. When I wanted to check out a different branch to check if my changes are the problem I was asked for my GitHub Login Info, which was odd because the Token hasn&#39;t expired yet. Anyway I generated a new Token and got the following error: \r\n\r\n&gt; Invalid authentication data. Cannot assign requested address: connect\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I suspect that somehow my JAVA installation is at fault, so installed a freshly downloaded JAVA version. To no success.\r\n\r\nThe reason why I suspected JAVA is the error when building is also JAVA related. I only found one thread that talked about that problem and it suggested to kill oll JAVA related apps in the Taskmanager, of which I have none. And a reboot of the Computer also didn&#39;t help. This error also persists after the fresh install of JAVA.\r\n\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    java.net.BindException: Cannot assign requested address: bind\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    *\r\n    Exception is:\r\n    org.gradle.api.UncheckedIOException: java.net.BindException: Cannot assign requested address: bind\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:61)\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\r\n        at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:51)\r\n        at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.getCommunicator(DefaultFileLockContentionHandler.java:263)\r\n        at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.reservePort(DefaultFileLockContentionHandler.java:255)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:108)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:95)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:90)\r\n        at org.gradle.cache.internal.OnDemandFileAccess.readFile(OnDemandFileAccess.java:41)\r\n        at org.gradle.cache.internal.SimpleStateCache.get(SimpleStateCache.java:49)\r\n        at org.gradle.cache.internal.FileIntegrityViolationSuppressingPersistentStateCacheDecorator.get(FileIntegrityViolationSuppressingPersistentStateCacheDecorator.java:34)\r\n        at org.gradle.launcher.daemon.registry.PersistentDaemonRegistry.getAll(PersistentDaemonRegistry.java:71)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:115)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:144)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:98)\r\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:57)\r\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:275)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:247)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:240)\r\n        at org.gradle.launcher.Main.doAction(Main.java:35)\r\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\r\n    Caused by: java.net.BindException: Cannot assign requested address: bind\r\n        at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n        at java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\r\n        at java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\r\n        at java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\r\n        at java.base/java.net.DatagramSocket.createDelegate(DatagramSocket.java:1426)\r\n        at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:330)\r\n        at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:389)\r\n        at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:49)\r\n        ... 34 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n\r\n  [1]: https://i.stack.imgur.com/JjOg0.png\r\n\r\n\r\n**--- Edit ---**\r\n\r\nI can&#39;t believe it. I just closed NordVPN and everything works again. Anyone has an idea what Nord does to make all JAVA stuff to stop working? And also why did it suddenly crash JAVA, I am using Nord for a long time, and this never happened before...","title":"Android Studio invalid authentication data. Cannot assign requested address: connect","body":"<p>I have a Issue where I can't login to GitHub anymore.</p>\n<p>All worked fine just a moment ago, then suddenly my Flutter Build stopped to work. When I wanted to check out a different branch to check if my changes are the problem I was asked for my GitHub Login Info, which was odd because the Token hasn't expired yet. Anyway I generated a new Token and got the following error:</p>\n<blockquote>\n<p>Invalid authentication data. Cannot assign requested address: connect</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/JjOg0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JjOg0.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I suspect that somehow my JAVA installation is at fault, so installed a freshly downloaded JAVA version. To no success.</p>\n<p>The reason why I suspected JAVA is the error when building is also JAVA related. I only found one thread that talked about that problem and it suggested to kill oll JAVA related apps in the Taskmanager, of which I have none. And a reboot of the Computer also didn't help. This error also persists after the fresh install of JAVA.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\njava.net.BindException: Cannot assign requested address: bind\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n*\nException is:\norg.gradle.api.UncheckedIOException: java.net.BindException: Cannot assign requested address: bind\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:61)\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\n    at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:51)\n    at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.getCommunicator(DefaultFileLockContentionHandler.java:263)\n    at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.reservePort(DefaultFileLockContentionHandler.java:255)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:108)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:95)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:90)\n    at org.gradle.cache.internal.OnDemandFileAccess.readFile(OnDemandFileAccess.java:41)\n    at org.gradle.cache.internal.SimpleStateCache.get(SimpleStateCache.java:49)\n    at org.gradle.cache.internal.FileIntegrityViolationSuppressingPersistentStateCacheDecorator.get(FileIntegrityViolationSuppressingPersistentStateCacheDecorator.java:34)\n    at org.gradle.launcher.daemon.registry.PersistentDaemonRegistry.getAll(PersistentDaemonRegistry.java:71)\n    at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:115)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:144)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:98)\n    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:57)\n    at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:275)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:247)\n    at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\n    at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\n    at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\n    at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\n    at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\n    at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:240)\n    at org.gradle.launcher.Main.doAction(Main.java:35)\n    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n    at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\nCaused by: java.net.BindException: Cannot assign requested address: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\n    at java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\n    at java.base/java.net.DatagramSocket.createDelegate(DatagramSocket.java:1426)\n    at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:330)\n    at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:389)\n    at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:49)\n    ... 34 more\n\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p><strong>--- Edit ---</strong></p>\n<p>I can't believe it. I just closed NordVPN and everything works again. Anyone has an idea what Nord does to make all JAVA stuff to stop working? And also why did it suddenly crash JAVA, I am using Nord for a long time, and this never happened before...</p>\n"},{"tags":["java","selenium-webdriver","recaptcha"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1670938373,"post_id":74774449,"comment_id":131984940,"body_markdown":"Do you get same result with selenium 3.x.x?","body":"Do you get same result with selenium 3.x.x?"},{"owner":{"account_id":27090137,"reputation":1,"user_id":20638058,"display_name":"Revathi Natarajan"},"score":0,"creation_date":1670963424,"post_id":74774449,"comment_id":131993578,"body_markdown":"I did not try with selenium 3 , i am trying this in Selenium 4","body":"I did not try with selenium 3 , i am trying this in Selenium 4"}],"owner":{"account_id":27090137,"reputation":1,"user_id":20638058,"display_name":"Revathi Natarajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863727,"creation_date":1670863446,"question_id":74774449,"body_markdown":"**Steps to Produce:**\r\n\r\n1. I am trying to handle &quot;Recaptcha&quot; through manual intervention using Selenium Web Driver (Java) in Firefox Browser\r\n\r\n2. In the demosite,&quot;https://demoqa.com/register&quot;, I am trying to automate &quot;Recaptcha&quot; through manual intervention \r\n\r\n3. I am switching into &quot;I&#39;m not a Robot&quot; frame and trying to click on the checkbox and then use &quot;Explicit Wait&quot; till I manually click on &quot;Verify&quot; button \r\n\r\n4. Then I am switching out of the iframe to the default content and trying to click &quot;Register&quot;\r\n\r\n \r\n\r\n\r\n**Issue:**\r\n\r\n1. My code works till switching into &quot;I&#39;m not a Robot&quot; frame and the random image tiles open, then it doesn&#39;t work\r\n\r\n**My Code:**\r\n\r\n\r\n```\r\n//Check &quot;I&#39;m not a Robot&quot;\r\n    driver.switchTo().frame(7);\r\n    driver.findElement(By.xpath(&quot;//span[@id=&#39;recaptcha-anchor&#39;]/div&quot;)).click();\r\n    \r\n   \r\n    \r\n   WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\r\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\r\n            By.xpath(&quot;//iframe[starts-with(@name, &#39;a-4fg5nocuvnax&#39;) and starts-with(@src, &#39;https://www.google.com/recaptcha&#39;)]&quot;)));\r\n   \r\n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#recaptcha-verify-button&quot;))).click();\r\n    driver.switchTo().defaultContent();\r\n```\r\n\r\nHelp me and correct if I am wrong .\r\n\r\n```\r\n\r\n\r\n","title":"&quot;I&#39;m not a Robot&quot; Recaptcha is not working as expected -Selenium WebDriver(Java)","body":"<p><strong>Steps to Produce:</strong></p>\n<ol>\n<li><p>I am trying to handle &quot;Recaptcha&quot; through manual intervention using Selenium Web Driver (Java) in Firefox Browser</p>\n</li>\n<li><p>In the demosite,&quot;https://demoqa.com/register&quot;, I am trying to automate &quot;Recaptcha&quot; through manual intervention</p>\n</li>\n<li><p>I am switching into &quot;I'm not a Robot&quot; frame and trying to click on the checkbox and then use &quot;Explicit Wait&quot; till I manually click on &quot;Verify&quot; button</p>\n</li>\n<li><p>Then I am switching out of the iframe to the default content and trying to click &quot;Register&quot;</p>\n</li>\n</ol>\n<p><strong>Issue:</strong></p>\n<ol>\n<li>My code works till switching into &quot;I'm not a Robot&quot; frame and the random image tiles open, then it doesn't work</li>\n</ol>\n<p><strong>My Code:</strong></p>\n<pre><code>//Check &quot;I'm not a Robot&quot;\n    driver.switchTo().frame(7);\n    driver.findElement(By.xpath(&quot;//span[@id='recaptcha-anchor']/div&quot;)).click();\n    \n   \n    \n   WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\n            By.xpath(&quot;//iframe[starts-with(@name, 'a-4fg5nocuvnax') and starts-with(@src, 'https://www.google.com/recaptcha')]&quot;)));\n   \n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#recaptcha-verify-button&quot;))).click();\n    driver.switchTo().defaultContent();\n</code></pre>\n<p>Help me and correct if I am wrong .</p>\n<pre><code>\n\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito","protected"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670870845,"post_id":74774452,"comment_id":131968815,"body_markdown":"I don&#39;t get point 2. If you mock it, it&#39;s an &quot;empty&quot; mock: all methods return the default value for their type. If you want your mock to return different values, you have to set it up with `when(mockObj.methodCall()).thenReturn(yourDesiredValue)`. And what prevents you from putting the test in the same package as the class itself? `protected` members can be accessed from within the same package","body":"I don&#39;t get point 2. If you mock it, it&#39;s an &quot;empty&quot; mock: all methods return the default value for their type. If you want your mock to return different values, you have to set it up with <code>when(mockObj.methodCall()).thenReturn(yourDesiredValue)</code>. And what prevents you from putting the test in the same package as the class itself? <code>protected</code> members can be accessed from within the same package"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1670872999,"post_id":74774452,"comment_id":131969444,"body_markdown":"You must have a way to construct RequestInfo in your production code - be it a factory method, subclass with public constructor etc. Why dont you use one of those in your unit test?","body":"You must have a way to construct RequestInfo in your production code - be it a factory method, subclass with public constructor etc. Why dont you use one of those in your unit test?"},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1670880052,"post_id":74774452,"comment_id":131971538,"body_markdown":"@knittl as I said, I can&#39;t use `thenReturn` because I have no desired value to return. I can&#39;t construct my desired `RequestInfo` instance because its constructor is protected. Regarding your 2nd question - It&#39;s not good practice to place tests in the same package as the src code base files. I&#39;m talking about a mS.","body":"@knittl as I said, I can&#39;t use <code>thenReturn</code> because I have no desired value to return. I can&#39;t construct my desired <code>RequestInfo</code> instance because its constructor is protected. Regarding your 2nd question - It&#39;s not good practice to place tests in the same package as the src code base files. I&#39;m talking about a mS."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1670880163,"post_id":74774452,"comment_id":131971572,"body_markdown":"@Lesiak I do have a way to construct this class in my production code - but I construct it in the same package. I construct it and then pass it to `getReport` which is also in the same package.","body":"@Lesiak I do have a way to construct this class in my production code - but I construct it in the same package. I construct it and then pass it to <code>getReport</code> which is also in the same package."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670880369,"post_id":74774452,"comment_id":131971627,"body_markdown":"@NoobCoder why is it bad practice to have tests in the same package? Almost all tests that I know are placed in the same package as their tested classes (but in a different source set). In your question you write &quot;but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.&quot; and in your comment you write &quot;because I have no desired value to return&quot;. I read the former as &quot;there are some values that must be returned by the instance, otherwise the test will not work&quot;  those are your desired values.","body":"@NoobCoder why is it bad practice to have tests in the same package? Almost all tests that I know are placed in the same package as their tested classes (but in a different source set). In your question you write &quot;but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.&quot; and in your comment you write &quot;because I have no desired value to return&quot;. I read the former as &quot;there are some values that must be returned by the instance, otherwise the test will not work&quot;  those are your desired values."}],"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863455,"creation_date":1670863455,"question_id":74774452,"body_markdown":"I have a public POJO class whos constructor is protected &amp; its setters are protected/private as well.\r\nThe only thing that is public is the getters.\r\n\r\n    public class RequestInfo {\r\n        \r\n        private String user;\r\n        private String date;\r\n        private String action;\r\n        \r\n    \r\n        protected RequestInfo(String user, String date, String action) {\r\n            this.user = user;\r\n            this.date = date;\r\n            this.action = action;\r\n        }\r\n        \r\n        public String getUser(){\r\n            return user;\r\n        }\r\n        ...\r\n        ...\r\n        private void setUser(String user){\r\n            this.user = user;\r\n        }\r\n        ..\r\n        ..\r\n    }\r\n\r\nI want to write a JUnit test which tests a method, that gets as a parameter an instance of the POJO class I have mentioned in the beginning.\r\n\r\n    public String getReport(RequestInfo requestInfo){\r\n        String requestUser = requestInfo.getUser();\r\n        String requestDate = requestInfo.getDate();\r\n        String requestAction = requestInfo.getAction();\r\n        ....\r\n        ....\r\n    }\r\n\r\n\r\nThis complicates things for me, because I want to mock this instance in order to test the method as needed, but I can&#39;t mock it because:\r\n1. I can&#39;t just create a new instance of the class and insert my mocked values because the **constructor is protected.**\r\n\r\n```\r\n@Test\r\npublic void getReportTest(){\r\n    RequestInfo requestInfo = new RequestInfo(&quot;john&quot;, &quot;12DEC22&quot;, &quot;addUser&quot;);\r\n    String report = ReportsManager.getReport(requestInfo);\r\n    assertEquals(.......)\r\n    .....\r\n}\r\n```\r\n\r\n2. I can&#39;t mock it using `Mockito.mock(RequestInfo.Class)` because although it will create a mock of the class, but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.\r\n\r\nI can make the constructor public, but I wrote it as protected for a reason, and I don&#39;t want to break my design just because of one or two tests.\r\n\r\n**I have wrote the codes as an example to clarify my needs, please address to the general idea and not for these specific code samples**\r\n\r\nI&#39;ll be glad to get tips,\r\nthanks.","title":"How to mock a protected class whos instance is used by the tested method in Java?","body":"<p>I have a public POJO class whos constructor is protected &amp; its setters are protected/private as well.\nThe only thing that is public is the getters.</p>\n<pre><code>public class RequestInfo {\n    \n    private String user;\n    private String date;\n    private String action;\n    \n\n    protected RequestInfo(String user, String date, String action) {\n        this.user = user;\n        this.date = date;\n        this.action = action;\n    }\n    \n    public String getUser(){\n        return user;\n    }\n    ...\n    ...\n    private void setUser(String user){\n        this.user = user;\n    }\n    ..\n    ..\n}\n</code></pre>\n<p>I want to write a JUnit test which tests a method, that gets as a parameter an instance of the POJO class I have mentioned in the beginning.</p>\n<pre><code>public String getReport(RequestInfo requestInfo){\n    String requestUser = requestInfo.getUser();\n    String requestDate = requestInfo.getDate();\n    String requestAction = requestInfo.getAction();\n    ....\n    ....\n}\n</code></pre>\n<p>This complicates things for me, because I want to mock this instance in order to test the method as needed, but I can't mock it because:</p>\n<ol>\n<li>I can't just create a new instance of the class and insert my mocked values because the <strong>constructor is protected.</strong></li>\n</ol>\n<pre><code>@Test\npublic void getReportTest(){\n    RequestInfo requestInfo = new RequestInfo(&quot;john&quot;, &quot;12DEC22&quot;, &quot;addUser&quot;);\n    String report = ReportsManager.getReport(requestInfo);\n    assertEquals(.......)\n    .....\n}\n</code></pre>\n<ol start=\"2\">\n<li>I can't mock it using <code>Mockito.mock(RequestInfo.Class)</code> because although it will create a mock of the class, but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.</li>\n</ol>\n<p>I can make the constructor public, but I wrote it as protected for a reason, and I don't want to break my design just because of one or two tests.</p>\n<p><strong>I have wrote the codes as an example to clarify my needs, please address to the general idea and not for these specific code samples</strong></p>\n<p>I'll be glad to get tips,\nthanks.</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":4737832,"reputation":1453,"user_id":3831651,"display_name":"Rohith K"},"score":2,"creation_date":1484118181,"post_id":41584454,"comment_id":70373319,"body_markdown":"I think you need MockitoJunitRunner.class if you are trying to mock them. Also use when() stub to mock the function as you used for mUserInfoService.","body":"I think you need MockitoJunitRunner.class if you are trying to mock them. Also use when() stub to mock the function as you used for mUserInfoService."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1484120226,"post_id":41584454,"comment_id":70374242,"body_markdown":"Register the mock as a spring bean. You will now only receive the bean from the context and it will not mock anything (as you see).","body":"Register the mock as a spring bean. You will now only receive the bean from the context and it will not mock anything (as you see)."}],"answers":[{"tags":[],"owner":{"account_id":5973062,"reputation":557,"user_id":4694855,"accept_rate":80,"display_name":"jAvA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484176661,"creation_date":1484176661,"answer_id":41602545,"question_id":41584454,"body_markdown":"there is no need of @Autowired annotation when you inject in the test class. And use the mock for the method to get your mocked response as the way you did for UserInfoService.That will be something like below.\r\nMockito.when(mCreateMailboxService. getData()).thenReturn(&quot;my response&quot;);\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>there is no need of @Autowired annotation when you inject in the test class. And use the mock for the method to get your mocked response as the way you did for UserInfoService.That will be something like below.\nMockito.when(mCreateMailboxService. getData()).thenReturn(\"my response\");</p>\n"},{"tags":[],"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1484185252,"creation_date":1484185252,"answer_id":41603773,"question_id":41584454,"body_markdown":"You can create `package` level setter for `mUserInfoService` in `CreateMailboxService` class.\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        @Autowired UserInfoService mUserInfoService; // this should be mocked\r\n        @Autowired LogicService mLogicService;  // this should be autowired by Spring\r\n    \r\n        public void createMailbox() {\r\n            // do mething\r\n            System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\r\n        }\r\n        \r\n        void setUserInfoService(UserInfoService mUserInfoService) {\r\n            this.mUserInfoService = mUserInfoService;\r\n        }\r\n    }\r\n\r\nThen, you can inject that mock in the test using the setter.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n    \r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n    \r\n        CreateMailboxService mCreateMailboxService;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n            mCreateMailboxService = new CreateMailboxService();\r\n            mCreateMailboxService.setUserInfoService(mUserInfoService);\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nThis way you can avoid problems with `@InjectMocks` and Spring annotations.","title":"Injecting mocks with Mockito does not work","body":"<p>You can create <code>package</code> level setter for <code>mUserInfoService</code> in <code>CreateMailboxService</code> class.</p>\n\n<pre><code>@Service\npublic class CreateMailboxService {   \n    @Autowired UserInfoService mUserInfoService; // this should be mocked\n    @Autowired LogicService mLogicService;  // this should be autowired by Spring\n\n    public void createMailbox() {\n        // do mething\n        System.out.println(\"test 2: \" + mUserInfoService.getData());\n    }\n\n    void setUserInfoService(UserInfoService mUserInfoService) {\n        this.mUserInfoService = mUserInfoService;\n    }\n}\n</code></pre>\n\n<p>Then, you can inject that mock in the test using the setter.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"file:src/main/webapp/WEB-INF/spring/root-context.xml\" })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n        mCreateMailboxService = new CreateMailboxService();\n        mCreateMailboxService.setUserInfoService(mUserInfoService);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>This way you can avoid problems with <code>@InjectMocks</code> and Spring annotations.</p>\n"},{"tags":[],"owner":{"account_id":2291948,"reputation":326,"user_id":2014477,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594288539,"creation_date":1550608789,"answer_id":54774560,"question_id":41584454,"body_markdown":"For those who stumbles on this thread and are running with JUnit 5 you need to replace\r\n`@RunWith(SpringJUnit4ClassRunner.class)` \r\n\r\nwith \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @RunWith(JUnitPlatform.class)\r\n\r\nFurther reading [here][1]. Unfortunately there is no hint when executing the test cases with JUnit 5 using the old annotation.\r\n\r\n  [1]: https://www.baeldung.com/mockito-junit-5-extension","title":"Injecting mocks with Mockito does not work","body":"<p>For those who stumbles on this thread and are running with JUnit 5 you need to replace\n<code>@RunWith(SpringJUnit4ClassRunner.class)</code></p>\n<p>with</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@RunWith(JUnitPlatform.class)\n</code></pre>\n<p>Further reading <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"noreferrer\">here</a>. Unfortunately there is no hint when executing the test cases with JUnit 5 using the old annotation.</p>\n"},{"tags":[],"owner":{"account_id":6006149,"reputation":61,"user_id":4718020,"display_name":"Derek Nash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578952066,"creation_date":1578952066,"answer_id":59724641,"question_id":41584454,"body_markdown":"If you are trying to use the @Mock annotation for a test that relies directly on Spring injection, you may need to replace **@Mock** with **@MockBean @Inject** (both annotations), and **@InjectMocks** with **@Inject**. Using your example:\r\n\r\n    @MockBean\r\n    @Inject\r\n    UserInfoService mUserInfoService;\r\n\r\n    @Inject\r\n    CreateMailboxService mCreateMailboxService;\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>If you are trying to use the @Mock annotation for a test that relies directly on Spring injection, you may need to replace <strong>@Mock</strong> with <strong>@MockBean @Inject</strong> (both annotations), and <strong>@InjectMocks</strong> with <strong>@Inject</strong>. Using your example:</p>\n\n<pre><code>@MockBean\n@Inject\nUserInfoService mUserInfoService;\n\n@Inject\nCreateMailboxService mCreateMailboxService;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14456773,"reputation":440,"user_id":10442757,"display_name":"Raj Shukla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594288691,"creation_date":1590042523,"answer_id":61928576,"question_id":41584454,"body_markdown":"For those who are running with **JUnit 5** you need to replace the `@RunWith(SpringJUnit4ClassRunner.class)` with  `@ExtendWith(MockitoExtension.class)`.\r\n\r\nFor further reading take a look [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-junit-5-extension","title":"Injecting mocks with Mockito does not work","body":"<p>For those who are running with <strong>JUnit 5</strong> you need to replace the <code>@RunWith(SpringJUnit4ClassRunner.class)</code> with  <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<p>For further reading take a look <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2923529,"reputation":309,"user_id":2784821,"display_name":"Seba Cervantes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1590554934,"creation_date":1590554934,"answer_id":62035672,"question_id":41584454,"body_markdown":"I had a pretty similar situation. I am writing it down just in case any reader is going through the same. In my case I found that the problem was that I was setting my injected variable as `final` in the local class.\r\n\r\nFollowing your example, I had things like this: \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n\r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n\r\n        @InjectMocks\r\n        CreateMailboxService mCreateMailboxService = new CreateMailboxService(mUserInfoService);\r\n\r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n\r\n        @Test\r\n        public void deleteWithPermission() {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nBut in this class I had it like this:\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        \r\n        private final UserInfoService mUserInfoService; // it is NOT injecting Mocks just because it is final! (all ok with private)\r\n\r\n         \r\n        private final LogicService mLogicService;  // it is NOT injecting Mocks just because it is final! (all ok with private)\r\n\r\n        @Autowired\r\n        public CreateMailboxService(UserInfoService mUserInfoService, LogicService mLogicService) {\r\n            this.mUserInfoService = mUserInfoService;\r\n            this.mLogicService = mLogicService;\r\n        }\r\n\r\n        public void createMailbox() {\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\nJust deleting the `final` condition, `@InjectMocks` problem was solved.","title":"Injecting mocks with Mockito does not work","body":"<p>I had a pretty similar situation. I am writing it down just in case any reader is going through the same. In my case I found that the problem was that I was setting my injected variable as <code>final</code> in the local class.</p>\n\n<p>Following your example, I had things like this: </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"file:src/main/webapp/WEB-INF/spring/root-context.xml\" })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    CreateMailboxService mCreateMailboxService = new CreateMailboxService(mUserInfoService);\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void deleteWithPermission() {\n        ...\n    }\n}\n</code></pre>\n\n<p>But in this class I had it like this:</p>\n\n<pre><code>@Service\npublic class CreateMailboxService {   \n\n    private final UserInfoService mUserInfoService; // it is NOT injecting Mocks just because it is final! (all ok with private)\n\n\n    private final LogicService mLogicService;  // it is NOT injecting Mocks just because it is final! (all ok with private)\n\n    @Autowired\n    public CreateMailboxService(UserInfoService mUserInfoService, LogicService mLogicService) {\n        this.mUserInfoService = mUserInfoService;\n        this.mLogicService = mLogicService;\n    }\n\n    public void createMailbox() {\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Just deleting the <code>final</code> condition, <code>@InjectMocks</code> problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1628076706,"creation_date":1610365298,"answer_id":65666230,"question_id":41584454,"body_markdown":"In my case, I had a similar issue when I worked with JUnit5\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n    ...\r\n    \r\n    @InjectMocks\r\n    MyService underTest;\r\n\r\n    @Test\r\n    void myMethodTest() {\r\n    ...\r\n    }\r\n\r\n`underTest` was null.\r\nThe cause of the problem was that I used `@Test` from JUnit4 package `import org.junit.Test;` instead JUnit5 `import org.junit.jupiter.api.Test;`","title":"Injecting mocks with Mockito does not work","body":"<p>In my case, I had a similar issue when I worked with JUnit5</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n...\n\n@InjectMocks\nMyService underTest;\n\n@Test\nvoid myMethodTest() {\n...\n}\n</code></pre>\n<p><code>underTest</code> was null.\nThe cause of the problem was that I used <code>@Test</code> from JUnit4 package <code>import org.junit.Test;</code> instead JUnit5 <code>import org.junit.jupiter.api.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":13471718,"reputation":563,"user_id":9719998,"display_name":"Rajshree Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655908006,"creation_date":1620819272,"answer_id":67502843,"question_id":41584454,"body_markdown":"You can use MockitoJUnitRunner to mock in unit tests.\r\nUse @Mock annotations over classes whose behavior you want to mock.\r\nUse @InjectMocks over the class you are testing.\r\nIts a bad practice to use new and initialize classes (better to go for dependency injection) or to introduce setters for your injections. Using setter injection to set dependencies only for tests is wrong as production code should never be altered for tests.\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CreateMailboxServiceMockTest {\r\n\r\n    @Mock\r\n    UserInfoService mUserInfoService;\r\n\r\n    @InjectMocks\r\n    CreateMailboxService mCreateMailboxService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    ...\r\n}\r\n```","title":"Injecting mocks with Mockito does not work","body":"<p>You can use MockitoJUnitRunner to mock in unit tests.\nUse @Mock annotations over classes whose behavior you want to mock.\nUse @InjectMocks over the class you are testing.\nIts a bad practice to use new and initialize classes (better to go for dependency injection) or to introduce setters for your injections. Using setter injection to set dependencies only for tests is wrong as production code should never be altered for tests.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":930786,"reputation":177,"user_id":960707,"display_name":"Victor Tsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54971,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":41603773,"answer_count":8,"score":16,"last_activity_date":1670863247,"creation_date":1484117403,"question_id":41584454,"body_markdown":"I&#39;m using Mockito to test my Spring project, but the `@InjectMocks` seems not working in injecting a mocked service into another Spring service(bean).\r\n\r\nHere is my Spring service that I want to test:\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        @Autowired UserInfoService mUserInfoService; // this should be mocked\r\n        @Autowired LogicService mLogicService;  // this should be autowired by Spring\r\n\r\n        public void createMailbox() {\r\n            // do mething\r\n            System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\r\n        }\r\n\r\n    }\r\n\r\nAnd below is the service that I want to mock:\r\n\r\n    @Service\r\n    public class UserInfoService {\r\n        public String getData() {\r\n            return &quot;original text&quot;;\r\n        }\r\n    }\r\n\r\n\r\nMy test code is here:\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n\r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n\r\n        @InjectMocks\r\n        @Autowired\r\n        CreateMailboxService mCreateMailboxService;\r\n \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        public void deleteWithPermission() {\r\n    \t    when(mUserInfoService.getData()).thenReturn(&quot;mocked text&quot;);\r\n    \t\r\n    \t    System.out.println(&quot;test 1: &quot; + mUserInfoService.getData());\r\n    \t\r\n    \t    mCreateMailboxService.createMailbox();\r\n        }\r\n    }\r\n\r\nbut the result would like \r\n\r\n    test 1: mocked text\r\n    test 2: original text  // I want this be &quot;mocked text&quot;, too\r\n\r\n\r\nit seems that the *CreateMailboxService* didn&#39;t get the mocked *UserInfoService* but using Spring&#39;s autowired bean.\r\nWhy is my `@InjectMocks` not working?\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>I'm using Mockito to test my Spring project, but the <code>@InjectMocks</code> seems not working in injecting a mocked service into another Spring service(bean).</p>\n<p>Here is my Spring service that I want to test:</p>\n<pre><code>@Service\npublic class CreateMailboxService {   \n    @Autowired UserInfoService mUserInfoService; // this should be mocked\n    @Autowired LogicService mLogicService;  // this should be autowired by Spring\n\n    public void createMailbox() {\n        // do mething\n        System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\n    }\n\n}\n</code></pre>\n<p>And below is the service that I want to mock:</p>\n<pre><code>@Service\npublic class UserInfoService {\n    public String getData() {\n        return &quot;original text&quot;;\n    }\n}\n</code></pre>\n<p>My test code is here:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    @Autowired\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void deleteWithPermission() {\n        when(mUserInfoService.getData()).thenReturn(&quot;mocked text&quot;);\n    \n        System.out.println(&quot;test 1: &quot; + mUserInfoService.getData());\n    \n        mCreateMailboxService.createMailbox();\n    }\n}\n</code></pre>\n<p>but the result would like</p>\n<pre><code>test 1: mocked text\ntest 2: original text  // I want this be &quot;mocked text&quot;, too\n</code></pre>\n<p>it seems that the <em>CreateMailboxService</em> didn't get the mocked <em>UserInfoService</em> but using Spring's autowired bean.\nWhy is my <code>@InjectMocks</code> not working?</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670864162,"post_id":74774351,"comment_id":131966661,"body_markdown":"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development would be the best place to ask plug-in development questions.","body":"<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> would be the best place to ask plug-in development questions."}],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863044,"creation_date":1670863044,"question_id":74774351,"body_markdown":"I am developing an intellij plugin which is in fact an icon pack.\r\nI would like to make sure that when folders are opened, their icons change and the same when we close them.\r\nHow can I achieve this?\r\nIs there a Listener class that would do what I want?\r\n\r\nAs an example on the picture: \r\n\r\n1 and 3 are open folders =&gt; put icon folder open.\r\n\r\n2 folder close =&gt; leave icon folder closed\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks in advance.\r\nRicko\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eNC7q.png","title":"Intellij plugin, directory open listener","body":"<p>I am developing an intellij plugin which is in fact an icon pack.\nI would like to make sure that when folders are opened, their icons change and the same when we close them.\nHow can I achieve this?\nIs there a Listener class that would do what I want?</p>\n<p>As an example on the picture:</p>\n<p>1 and 3 are open folders =&gt; put icon folder open.</p>\n<p>2 folder close =&gt; leave icon folder closed</p>\n<p><a href=\"https://i.stack.imgur.com/eNC7q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNC7q.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance.\nRicko</p>\n"},{"tags":["java","spring","cucumber-java"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1486637790,"post_id":42134750,"comment_id":71435925,"body_markdown":"Create a configuration without `@EnableAsync`.","body":"Create a configuration without <code>@EnableAsync</code>."},{"owner":{"display_name":"user7539762"},"score":0,"creation_date":1486637970,"post_id":42134750,"comment_id":71436031,"body_markdown":"I cant. Is a project from job and should remain with @EnableAsync","body":"I cant. Is a project from job and should remain with @EnableAsync"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1486638323,"post_id":42134750,"comment_id":71436236,"body_markdown":"You can... Create a test configuration or simply override the task executor with a `SyncTaskExecutor`.","body":"You can... Create a test configuration or simply override the task executor with a <code>SyncTaskExecutor</code>."}],"answers":[{"tags":[],"owner":{"account_id":4395937,"reputation":2784,"user_id":3582996,"accept_rate":100,"display_name":"Mohamed Ibrahim Elsayed"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542503819,"creation_date":1542503819,"answer_id":53357076,"question_id":42134750,"body_markdown":"Create your async configuration class:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    @ConditionalOnProperty(name = &quot;async.enabled&quot;, havingValue = &quot;true&quot;)\r\n    public class SpringAsyncConfig {\r\n    \t// Your configuration here\r\n    }\r\n\r\nthe annotation `@ConditionalOnProperty` here will create this bean if only the configuration value `async.enabled` is `true`\r\n\r\nThen in the configuration file if you are going to run the integration test you can set the value to false\r\n\r\n`async.enabled = false`\r\n\r\nor if you are using Spring profiles you can always set the value to `true` in other profiles configuration files like `application.properties`, `application-dev` and set to `false` in `application-integration.properties`","title":"Is it possible to disable Spring&#39;s @Async during integration test?","body":"<p>Create your async configuration class:</p>\n\n<pre><code>@Configuration\n@EnableAsync\n@ConditionalOnProperty(name = \"async.enabled\", havingValue = \"true\")\npublic class SpringAsyncConfig {\n    // Your configuration here\n}\n</code></pre>\n\n<p>the annotation <code>@ConditionalOnProperty</code> here will create this bean if only the configuration value <code>async.enabled</code> is <code>true</code></p>\n\n<p>Then in the configuration file if you are going to run the integration test you can set the value to false</p>\n\n<p><code>async.enabled = false</code></p>\n\n<p>or if you are using Spring profiles you can always set the value to <code>true</code> in other profiles configuration files like <code>application.properties</code>, <code>application-dev</code> and set to <code>false</code> in <code>application-integration.properties</code></p>\n"}],"owner":{"display_name":"user7539762"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5134,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1670862529,"creation_date":1486637585,"question_id":42134750,"body_markdown":"I have a method annotated with @Async say\r\n\r\n*@Async \r\npublic void createArticles(long Id){}*\r\n\r\nbut I&#39;m just trying to a cucumber test of that method. Is it possible to test it synchronously?","title":"Is it possible to disable Spring&#39;s @Async during integration test?","body":"<p>I have a method annotated with @Async say</p>\n\n<p><em>@Async \npublic void createArticles(long Id){}</em></p>\n\n<p>but I'm just trying to a cucumber test of that method. Is it possible to test it synchronously?</p>\n"},{"tags":["java","intellij-idea","indentation"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1670323096,"post_id":74693293,"comment_id":131844578,"body_markdown":"You can refer to this spec https://www.jetbrains.com/help/idea/code-style-java.html#wrapping_and_braces_tab and check options in &#39;Preferences | Editor | Code Style | Java | Wrapping and Braces&#39;, especially &quot;Chained method calls&quot;","body":"You can refer to this spec <a href=\"https://www.jetbrains.com/help/idea/code-style-java.html#wrapping_and_braces_tab\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> and check options in &#39;Preferences | Editor | Code Style | Java | Wrapping and Braces&#39;, especially &quot;Chained method calls&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670861804,"creation_date":1670861804,"answer_id":74774108,"question_id":74693293,"body_markdown":"From the comments: You can setup this behaviour in the IntelliJ-settings.  \r\nIt is under `Preferences | Editor | Code Style | Java` in the tab `Wrapping and braces` and it is called `Chained method calls`.\r\n\r\nBut be aware: Sometimes you might dislike this. In your example, you want that `List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()` is in one line. But it is a chained method call and IntelliJ do this:\r\n```java\r\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;)\r\n    .stream()\r\n    .filter(Objects::nonNull)\r\n    .filter(s -&gt; s.length() &gt; 1)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nIf want you that setting, then it is properly a good idea to put it into a [EditorConfig](https://www.jetbrains.com/help/idea/editorconfig.html).  \r\n\r\n### .editorconfig\r\n```properties\r\n[*.java]\r\nij_java_method_call_chain_wrap = always\r\n```","title":"Intellij 2022.2.3 : Indent Java Lambok and Stream Code","body":"<p>From the comments: You can setup this behaviour in the IntelliJ-settings.<br />\nIt is under <code>Preferences | Editor | Code Style | Java</code> in the tab <code>Wrapping and braces</code> and it is called <code>Chained method calls</code>.</p>\n<p>But be aware: Sometimes you might dislike this. In your example, you want that <code>List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()</code> is in one line. But it is a chained method call and IntelliJ do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;)\n    .stream()\n    .filter(Objects::nonNull)\n    .filter(s -&gt; s.length() &gt; 1)\n    .collect(Collectors.toList());\n</code></pre>\n<p>If want you that setting, then it is properly a good idea to put it into a <a href=\"https://www.jetbrains.com/help/idea/editorconfig.html\" rel=\"nofollow noreferrer\">EditorConfig</a>.</p>\n<h3>.editorconfig</h3>\n<pre><code>[*.java]\nij_java_method_call_chain_wrap = always\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670861804,"creation_date":1670267815,"question_id":74693293,"body_markdown":"\r\n\t\tTestDTO.builder().date(Date.from(Instant.now())).productName(&quot;product &quot; + i).total(new BigDecimal(i)).purchaseType(1).sourceAppId(&quot;sourceAppId&quot; + i).numberOfLicense(i).build();\r\n\tList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream().filter(Objects::nonNull).filter(s -&gt; s.length() &gt; 1).collect(Collectors.toList());\r\n\r\nAbove is my Java in which am trying to indent it to have each method in a new line as below, I&#39;m wondering if this is doable with IntelliJ Java code format config changes or not? I tried ctrl+shift+L and its not doing what I expected\r\n\r\n\tTestDTO.builder()\r\n\t\t\t  .date(Date.from(Instant.now()))\r\n\t\t\t  .productName(&quot;product &quot; + i)\r\n\t\t\t  .total(new BigDecimal(i)).purchaseType(1)\r\n\t\t\t  .sourceAppId(&quot;sourceAppId&quot; + i)\r\n\t\t\t  .numberOfLicense(i)\r\n\t\t\t  .build();\r\n\tList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(s -&gt; s.length() &gt; 1)\r\n                .collect(Collectors.toList());","title":"Intellij 2022.2.3 : Indent Java Lambok and Stream Code","body":"<pre><code>    TestDTO.builder().date(Date.from(Instant.now())).productName(&quot;product &quot; + i).total(new BigDecimal(i)).purchaseType(1).sourceAppId(&quot;sourceAppId&quot; + i).numberOfLicense(i).build();\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream().filter(Objects::nonNull).filter(s -&gt; s.length() &gt; 1).collect(Collectors.toList());\n</code></pre>\n<p>Above is my Java in which am trying to indent it to have each method in a new line as below, I'm wondering if this is doable with IntelliJ Java code format config changes or not? I tried ctrl+shift+L and its not doing what I expected</p>\n<pre><code>TestDTO.builder()\n          .date(Date.from(Instant.now()))\n          .productName(&quot;product &quot; + i)\n          .total(new BigDecimal(i)).purchaseType(1)\n          .sourceAppId(&quot;sourceAppId&quot; + i)\n          .numberOfLicense(i)\n          .build();\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()\n            .filter(Objects::nonNull)\n            .filter(s -&gt; s.length() &gt; 1)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring-boot","nullpointerexception"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1670849665,"post_id":74768449,"comment_id":131961186,"body_markdown":"It seems your request `&quot;http://localhost:1080/ratingdata/users&quot; + userId` is not an object but its list. Can you please provide the output of the above request? It&#39;s not able to convert your JSON to your class. So the value is null.","body":"It seems your request <code>&quot;http:&#47;&#47;localhost:1080&#47;ratingdata&#47;users&quot; + userId</code> is not an object but its list. Can you please provide the output of the above request? It&#39;s not able to convert your JSON to your class. So the value is null."},{"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"score":0,"creation_date":1670856254,"post_id":74768449,"comment_id":131963583,"body_markdown":"@DhavalGajjar so here is the output i am getting for this URL-&gt;&quot;http://localhost:1080/ratingdata/users&quot; + userId\n{&quot;userRating&quot;:[{&quot;movieId&quot;:&quot;1234&quot;,&quot;rating&quot;:4},{&quot;movieId&quot;:&quot;5678&quot;,&quot;rating&quot;:3}]}","body":"@DhavalGajjar so here is the output i am getting for this URL-&gt;&quot;<a href=\"http://localhost:1080/ratingdata/users\" rel=\"nofollow noreferrer\">localhost:1080/ratingdata/users</a>&quot; + userId {&quot;userRating&quot;:[{&quot;movieId&quot;:&quot;1234&quot;,&quot;rating&quot;:4},{&quot;movieId&quot;:&quot;567&zwnj;&#8203;8&quot;,&quot;rating&quot;:3}]}"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1670861556,"post_id":74768449,"comment_id":131965704,"body_markdown":"I don&#39;t think that for user ID 1 the call to http://localhost:1080/ratingdata/users1 will return the correct answer - probably you are missing a `/` after the &quot;...users&quot; at the end of the string literal?","body":"I don&#39;t think that for user ID 1 the call to <a href=\"http://localhost:1080/ratingdata/users1\" rel=\"nofollow noreferrer\">localhost:1080/ratingdata/users1</a> will return the correct answer - probably you are missing a <code>&#47;</code> after the &quot;...users&quot; at the end of the string literal?"},{"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"score":0,"creation_date":1672919287,"post_id":74768449,"comment_id":132383617,"body_markdown":"i am still getting an error","body":"i am still getting an error"}],"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670861302,"creation_date":1670833915,"question_id":74768449,"body_markdown":"When iI&#39;m trying to make a rest call on another service it says nullpointer exception even though I&#39;ve added an empty constructor in the Rating.class even though it says the same\r\n\r\n**java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null**\r\n\r\n\r\nI followed below tutorial \r\n[https://www.youtube.com/watch?v=Dmvhe2cw-_k&amp;list=PLqq-6Pq4lTTZSKAFG6aCDVDP86Qx4lNas&amp;index=15&amp;ab_channel=JavaBrains]\r\n\r\nplease find the below code \r\n```\r\n\r\npackage com.microservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@SpringBootApplication\r\npublic class MovieCatalogsServicesApplication {\r\n\r\n\t@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MovieCatalogsServicesApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nController class\r\n\r\n```\r\npackage com.microservice.resources;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport com.microservice.model.CatalogItem;\r\nimport com.microservice.model.Movie;\r\nimport com.microservice.model.Rating;\r\nimport com.microservice.model.UserRating;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/catalog&quot;)\r\npublic class MovieCatalogResource {\r\n\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\r\n\t@RequestMapping(&quot;/{UserId}&quot;)\r\n\tpublic List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;UserId&quot;) String UserId) {\r\n\r\n\t\t//RestTemplate restTemplate = new RestTemplate();\r\n\r\n\t\tUserRating ratings = restTemplate.getForObject(&quot;http://localhost:1080/ratingdata/users&quot; + UserId,\r\n\t\t\t\tUserRating.class);\r\n\r\n\t\treturn ratings.getUserRating().stream().map(rating -&gt; {\r\n\t\t\tMovie movie = restTemplate.getForObject(&quot;http://localhost:9080/movies/&quot; + rating.getMovieId(), Movie.class);\r\n\t\t\treturn new CatalogItem(movie.getName(), &quot;Suspense&quot;, rating.getRating());\r\n\t\t}).collect(Collectors.toList());\r\n\t}\r\n}\r\n\r\n```\r\nModel class\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class CatalogItem {\r\n\r\n\tprivate String name;\r\n\tprivate String desc;\r\n\tprivate int rating;\r\n\t\r\n\tpublic CatalogItem(String name, String desc, int rating) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.desc = desc;\r\n\t\tthis.rating = rating;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDesc() {\r\n\t\treturn desc;\r\n\t}\r\n\tpublic void setDesc(String desc) {\r\n\t\tthis.desc = desc;\r\n\t}\r\n\tpublic int getRating() {\r\n\t\treturn rating;\r\n\t}\r\n\tpublic void setRating(int rating) {\r\n\t\tthis.rating = rating;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class Movie {\r\n\r\n\tprivate String movieId;\r\n\tprivate String name;\r\n\r\n\t\r\n\tpublic Movie() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Movie(String movieId, String name) {\r\n\t\tsuper();\r\n\t\tthis.movieId = movieId;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getMovieId() {\r\n\t\treturn movieId;\r\n\t}\r\n\r\n\tpublic void setMovieId(String movieId) {\r\n\t\tthis.movieId = movieId;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class Rating {\r\n\r\n\tprivate String movieId;\r\n\tprivate int rating;\r\n\r\n\tpublic Rating() {\r\n\t}\r\n\r\n\tpublic Rating(String movieId, int rating) {\r\n\t\tthis.movieId = movieId;\r\n\t\tthis.rating = rating;\r\n\t}\r\n\r\n\tpublic String getMovieId() {\r\n\t\treturn movieId;\r\n\t}\r\n\r\n\tpublic void setMovieId(String movieId) {\r\n\t\tthis.movieId = movieId;\r\n\t}\r\n\r\n\tpublic int getRating() {\r\n\t\treturn rating;\r\n\t}\r\n\r\n\tpublic void setRating(int rating) {\r\n\t\tthis.rating = rating;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\nimport java.util.List;\r\n//mcs\r\npublic class UserRating {\r\n\r\n\tprivate List&lt;Rating&gt; userRating;\r\n\r\n\tpublic List&lt;Rating&gt; getUserRating() {\r\n\t\treturn userRating;\r\n\t}\r\n\r\n\tpublic void setUserRating(List&lt;Rating&gt; userRating) {\r\n\t\tthis.userRating = userRating;\r\n\t}\r\n\r\n}\r\n```\r\n \r\n\r\nI tried to hit URL - &gt; http://localhost:8080/catalog/foo and the expected result was [{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:4},{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:3}]\r\nBut actually resulted into \r\n&gt; Whitelabel Error Page\r\n&gt; This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n&gt; \r\n&gt; Mon Dec 12 13:33:17 IST 2022\r\n&gt; There was an unexpected error (type=Internal Server Error, status=500).\r\n\r\nError below\r\n`\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m     [2m (v2.7.7-SNAPSHOT)[0;39m\r\n\r\n[2m2022-12-12 13:33:08.931[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Starting MovieCatalogsServicesApplication using Java 16.0.2 on MKW58ZLPC0034 with PID 21932 (C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services\\target\\classes started by ST57540 in C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services)\r\n[2m2022-12-12 13:33:08.934[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2022-12-12 13:33:09.827[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.69]\r\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1001 ms\r\n[2m2022-12-12 13:33:10.373[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2022-12-12 13:33:10.384[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Started MovieCatalogsServicesApplication in 1.845 seconds (JVM running for 2.967)\r\n[2m2022-12-12 13:33:16.888[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\r\n[2m2022-12-12 13:33:17.048[0;39m [31mERROR[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null\r\n\tat com.microservice.resources.MovieCatalogResource.getCatalog(MovieCatalogResource.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\n```\r\n`","title":"When i make a rest call between the services i get a Exception says Cannot invoke &quot;java.util.List.stream()&quot; because the return value is null","body":"<p>When iI'm trying to make a rest call on another service it says nullpointer exception even though I've added an empty constructor in the Rating.class even though it says the same</p>\n<p><strong>java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null</strong></p>\n<p>I followed below tutorial\n[https://www.youtube.com/watch?v=Dmvhe2cw-_k&amp;list=PLqq-6Pq4lTTZSKAFG6aCDVDP86Qx4lNas&amp;index=15&amp;ab_channel=JavaBrains]</p>\n<p>please find the below code</p>\n<pre><code>\npackage com.microservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class MovieCatalogsServicesApplication {\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n        return new RestTemplate();\n        \n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(MovieCatalogsServicesApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Controller class</p>\n<pre><code>package com.microservice.resources;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.microservice.model.CatalogItem;\nimport com.microservice.model.Movie;\nimport com.microservice.model.Rating;\nimport com.microservice.model.UserRating;\n\n@RestController\n@RequestMapping(&quot;/catalog&quot;)\npublic class MovieCatalogResource {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @RequestMapping(&quot;/{UserId}&quot;)\n    public List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;UserId&quot;) String UserId) {\n\n        //RestTemplate restTemplate = new RestTemplate();\n\n        UserRating ratings = restTemplate.getForObject(&quot;http://localhost:1080/ratingdata/users&quot; + UserId,\n                UserRating.class);\n\n        return ratings.getUserRating().stream().map(rating -&gt; {\n            Movie movie = restTemplate.getForObject(&quot;http://localhost:9080/movies/&quot; + rating.getMovieId(), Movie.class);\n            return new CatalogItem(movie.getName(), &quot;Suspense&quot;, rating.getRating());\n        }).collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<p>Model class</p>\n<pre><code>package com.microservice.model;\n\npublic class CatalogItem {\n\n    private String name;\n    private String desc;\n    private int rating;\n    \n    public CatalogItem(String name, String desc, int rating) {\n        super();\n        this.name = name;\n        this.desc = desc;\n        this.rating = rating;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDesc() {\n        return desc;\n    }\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n    public int getRating() {\n        return rating;\n    }\n    public void setRating(int rating) {\n        this.rating = rating;\n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\npublic class Movie {\n\n    private String movieId;\n    private String name;\n\n    \n    public Movie() {\n        super();\n    }\n\n    public Movie(String movieId, String name) {\n        super();\n        this.movieId = movieId;\n        this.name = name;\n    }\n\n    public String getMovieId() {\n        return movieId;\n    }\n\n    public void setMovieId(String movieId) {\n        this.movieId = movieId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\npublic class Rating {\n\n    private String movieId;\n    private int rating;\n\n    public Rating() {\n    }\n\n    public Rating(String movieId, int rating) {\n        this.movieId = movieId;\n        this.rating = rating;\n    }\n\n    public String getMovieId() {\n        return movieId;\n    }\n\n    public void setMovieId(String movieId) {\n        this.movieId = movieId;\n    }\n\n    public int getRating() {\n        return rating;\n    }\n\n    public void setRating(int rating) {\n        this.rating = rating;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\nimport java.util.List;\n//mcs\npublic class UserRating {\n\n    private List&lt;Rating&gt; userRating;\n\n    public List&lt;Rating&gt; getUserRating() {\n        return userRating;\n    }\n\n    public void setUserRating(List&lt;Rating&gt; userRating) {\n        this.userRating = userRating;\n    }\n\n}\n</code></pre>\n<p>I tried to hit URL - &gt; http://localhost:8080/catalog/foo and the expected result was [{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:4},{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:3}]\nBut actually resulted into</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Mon Dec 12 13:33:17 IST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).</p>\n</blockquote>\n<p>Error below\n`</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m     [2m (v2.7.7-SNAPSHOT)[0;39m\n\n[2m2022-12-12 13:33:08.931[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Starting MovieCatalogsServicesApplication using Java 16.0.2 on MKW58ZLPC0034 with PID 21932 (C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services\\target\\classes started by ST57540 in C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services)\n[2m2022-12-12 13:33:08.934[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2022-12-12 13:33:09.827[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.69]\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1001 ms\n[2m2022-12-12 13:33:10.373[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2022-12-12 13:33:10.384[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Started MovieCatalogsServicesApplication in 1.845 seconds (JVM running for 2.967)\n[2m2022-12-12 13:33:16.888[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\n[2m2022-12-12 13:33:17.048[0;39m [31mERROR[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null\n    at com.microservice.resources.MovieCatalogResource.getCatalog(MovieCatalogResource.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","android-studio","kotlin","android-imageview"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1670859544,"post_id":74773370,"comment_id":131964919,"body_markdown":"You want `android:src` (or `app:srcCompat`) if you&#39;re setting the source for an `ImageView`","body":"You want <code>android:src</code> (or <code>app:srcCompat</code>) if you&#39;re setting the source for an <code>ImageView</code>"}],"answers":[{"tags":[],"owner":{"account_id":21336706,"reputation":72,"user_id":15707830,"display_name":"Prem Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670861252,"creation_date":1670861252,"answer_id":74773982,"question_id":74773370,"body_markdown":"In your drawable/gradient.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--You have to specify the shape of the gradient--&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;\r\n    &gt;\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:endColor=&quot;#aaFFB5B9&quot;\r\n        android:startColor=&quot;#aaFFDEB5&quot;\r\n        /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\n```\r\n\r\nIn your Imageview:\r\n\r\n```\r\n        &lt;ImageView\r\n         ...\r\n            android:src=&quot;@drawable/gradient&quot;\r\n            /&gt;\r\n\r\n```\r\n\r\nDo the same with ImageView2","title":"how to make a gradient color and set it on ImageView (android)","body":"<p>In your drawable/gradient.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--You have to specify the shape of the gradient--&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;\n    &gt;\n    &lt;gradient\n        android:angle=&quot;135&quot;\n        android:endColor=&quot;#aaFFB5B9&quot;\n        android:startColor=&quot;#aaFFDEB5&quot;\n        /&gt;\n\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\n    &lt;size\n        android:width=&quot;120dp&quot;\n        android:height=&quot;120dp&quot;/&gt;\n&lt;/shape&gt;\n\n</code></pre>\n<p>In your Imageview:</p>\n<pre><code>        &lt;ImageView\n         ...\n            android:src=&quot;@drawable/gradient&quot;\n            /&gt;\n\n</code></pre>\n<p>Do the same with ImageView2</p>\n"}],"owner":{"account_id":14299085,"reputation":1,"user_id":10328827,"display_name":"ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670861252,"creation_date":1670858504,"question_id":74773370,"body_markdown":"gradient.xml:\r\n\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;oval&quot; &gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:endColor=&quot;#aaFFB5B9&quot;\r\n        android:startColor=&quot;#aaFFDEB5&quot;\r\n         /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\ngradient2.xml:\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;oval&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:startColor=&quot;#aaECB4FF&quot;\r\n        android:endColor=&quot;#aaB4CCFF&quot;\r\n         /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\nImageView:\r\nandroid:foreground=&quot;@drawable/gradient&quot;\r\n\r\nImageView2:\r\nandroid:foreground=&quot;@drawable/gradient2&quot;\r\n","title":"how to make a gradient color and set it on ImageView (android)","body":"<p>gradient.xml:</p>\n<p></p>\n<pre><code>&lt;gradient\n    android:angle=&quot;135&quot;\n    android:endColor=&quot;#aaFFB5B9&quot;\n    android:startColor=&quot;#aaFFDEB5&quot;\n     /&gt;\n\n&lt;corners android:radius=&quot;0dp&quot; /&gt;\n&lt;size\n    android:width=&quot;120dp&quot;\n    android:height=&quot;120dp&quot;/&gt;\n</code></pre>\n\n<p>gradient2.xml:\n</p>\n<pre><code>&lt;gradient\n    android:angle=&quot;135&quot;\n    android:startColor=&quot;#aaECB4FF&quot;\n    android:endColor=&quot;#aaB4CCFF&quot;\n     /&gt;\n\n&lt;corners android:radius=&quot;0dp&quot; /&gt;\n\n&lt;size\n    android:width=&quot;120dp&quot;\n    android:height=&quot;120dp&quot;/&gt;\n</code></pre>\n\n<p>ImageView:\nandroid:foreground=&quot;@drawable/gradient&quot;</p>\n<p>ImageView2:\nandroid:foreground=&quot;@drawable/gradient2&quot;</p>\n"},{"tags":["java","amazon-ec2","centos7","dropwizard","amazon-linux"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1670409262,"post_id":74683729,"comment_id":131868303,"body_markdown":"Is this seg fault constant? If so, can you run it locally and see if it still happens?","body":"Is this seg fault constant? If so, can you run it locally and see if it still happens?"},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1670503321,"post_id":74683729,"comment_id":131892973,"body_markdown":"This happens when it&#39;s deployed to AWS. Not happening on local.","body":"This happens when it&#39;s deployed to AWS. Not happening on local."},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":1,"creation_date":1670571996,"post_id":74683729,"comment_id":131909455,"body_markdown":"which instance type do you use? It could be some architecture limitation on specific instance type","body":"which instance type do you use? It could be some architecture limitation on specific instance type"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1670852591,"post_id":74683729,"comment_id":131962197,"body_markdown":"The JVM is for linux-amd64 - just to double check, you&#39;re not running on a Graviton CPU? Have you tried a version of Java higher than 8?","body":"The JVM is for linux-amd64 - just to double check, you&#39;re not running on a Graviton CPU? Have you tried a version of Java higher than 8?"},{"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"score":0,"creation_date":1670859835,"post_id":74683729,"comment_id":131965035,"body_markdown":"did u set either `Xmx` or `Xms` ? if so what&#39;s the value? also it might be because of setting docker memory limit","body":"did u set either <code>Xmx</code> or <code>Xms</code> ? if so what&#39;s the value? also it might be because of setting docker memory limit"},{"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"score":0,"creation_date":1670973276,"post_id":74683729,"comment_id":131995878,"body_markdown":"Make sure the stack size is big enough for the thread, which you can control with `-Xss`","body":"Make sure the stack size is big enough for the thread, which you can control with <code>-Xss</code>"}],"answers":[{"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670860954,"creation_date":1670860954,"answer_id":74773906,"question_id":74683729,"body_markdown":"it seems that the application need to allocate a large block of memory.\r\n\r\nreading [this report][1] and [this question][2] can help. \r\n\r\nusually there is no need to resize `TLAB` size but if you didn&#39;t find any solution, try tuning it by either `-XX:TLABSize=N` or `-XX:ResizeTLAB`. \r\n\r\n**if you are about to change** `TLAB` size, it is strongly recommended to read [this article][3], and you can take a look at [this question][4]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7081933\r\n  [2]: https://stackoverflow.com/questions/43747221/what-is-a-tlab-thread-local-allocation-buffer\r\n  [3]: https://alidg.me/blog/2019/6/21/tlab-jvm\r\n  [4]: https://stackoverflow.com/questions/61893915/how-do-i-decide-on-a-suitable-tlabsize-setting-for-a-java-application","title":"Segmentation fault in GC Thread","body":"<p>it seems that the application need to allocate a large block of memory.</p>\n<p>reading <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7081933\" rel=\"nofollow noreferrer\">this report</a> and <a href=\"https://stackoverflow.com/questions/43747221/what-is-a-tlab-thread-local-allocation-buffer\">this question</a> can help.</p>\n<p>usually there is no need to resize <code>TLAB</code> size but if you didn't find any solution, try tuning it by either <code>-XX:TLABSize=N</code> or <code>-XX:ResizeTLAB</code>.</p>\n<p><strong>if you are about to change</strong> <code>TLAB</code> size, it is strongly recommended to read <a href=\"https://alidg.me/blog/2019/6/21/tlab-jvm\" rel=\"nofollow noreferrer\">this article</a>, and you can take a look at <a href=\"https://stackoverflow.com/questions/61893915/how-do-i-decide-on-a-suitable-tlabsize-setting-for-a-java-application\">this question</a></p>\n"}],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670860954,"creation_date":1670218095,"question_id":74683729,"body_markdown":"We&#39;ve deployed our Dropwizard service on aws-ec2 with centos7.\r\n\r\nWe are intermittently facing with segmentation fault on our GC thread.\r\n\r\nCurrently we are taking thread-pumps every minute to analyze.\r\n\r\nCurrent GC Algo - CMS\r\n\r\n**What we tried so far:**\r\n\r\n 1. Changing OS from Amazon linux to centos7\r\n 2. Tried different GC algos - parallel GC, CMS, G1-GC\r\n\r\n\r\nPlease find the stack trace below.\r\n\r\n```txt\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f4be96146bb, pid=1016, tid=139963858630400\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_72-b15) (build 1.8.0_72-b15)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.72-b15 mixed mode linux-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.so+0x6516bb]  CollectedHeap::common_mem_allocate_init(KlassHandle, unsigned long, Thread*)+0x9b\r\n#\r\n# Core dump written. Default location: //core or core.1016\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n---------------  T H R E A D  ---------------\r\nCurrent thread (0x00007f4be40d7800):  GCTaskThread [stack: 0x00007f4be0034000,0x00007f4be0134000] [id=3424]\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x000000010000000b\r\n\r\nRegisters:\r\nRAX=0x00007f4be9f68c19, RBX=0x00007f4be40d7800, RCX=0x0000000000000000, RDX=0x00007f4be40d7800\r\nRSP=0x00007f4be0131920, RBP=0x00007f4be0131950, RSI=0x0000000000000003, RDI=0x00000007c00016d0\r\nR8 =0x0000000000000000, R9 =0x0000000000000000, R10=0x202e64657265746e, R11=0x0000000000000001\r\nR12=0x00000000ffffffff, R13=0x0000000000000003, R14=0x00000007c00016d0, R15=0x0000000010000031\r\nRIP=0x00007f4be96146bb, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000006\r\n  TRAPNO=0x000000000000000e\r\n...\r\n\r\nJavaThread 0x00007f4adc006800 (nid = 13003) was being processed\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nv  ~RuntimeStub::_new_array_nozero_Java\r\nJ 3340 C2 java.util.zip.ZipFile.getEntry(Ljava/lang/String;)Ljava/util/zip/ZipEntry; (86 bytes) @ 0x00007f4bb99ea98c [0x00007f4bb99ea2c0+0x6cc]\r\nJ 4234 C2 sun.misc.URLClassPath$JarLoader.getResource(Ljava/lang/String;Z)Lsun/misc/Resource; (97 bytes) @ 0x00007f4bb9cfc970 [0x00007f4bb9cfc8e0+0x90]\r\nJ 5849 C2 java.net.URLClassLoader$2.run()Ljava/lang/Object; (5 bytes) @ 0x00007f4bb9360d7c [0x00007f4bb9360c20+0x15c]\r\nv  ~StubRoutines::call_stub\r\nJ 5043  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;)Ljava/lang/Object; (0 bytes) @ 0x00007f4bb9e2a563 [0x00007f4bb9e2a500+0x63]\r\nJ 5846 C2 java.lang.ClassLoader.getResource(Ljava/lang/String;)Ljava/net/URL; (87 bytes) @ 0x00007f4bb98f51d4 [0x00007f4bb98f4ee0+0x2f4]\r\nJ 26710 C2 javax.xml.soap.FactoryFinder.find(Ljava/lang/String;Ljava/lang/String;Z)Ljava/lang/Object; (317 bytes) @ 0x00007f4bbacd220c [0x00007f4bbacd18c0+0x94c]\r\nJ 27488 C2 javax.xml.soap.SAAJMetaFactory.getInstance()Ljavax/xml/soap/SAAJMetaFactory; (44 bytes) @ 0x00007f4bbab9d3ac [0x00007f4bbab9d380+0x2c]\r\nJ 21785 C1 javax.xml.soap.MessageFactory.newInstance(Ljava/lang/String;)Ljavax/xml/soap/MessageFactory; (8 bytes) @ 0x00007f4bbbe04b1c [0x00007f4bbbe04ac0+0x5c]\r\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.&lt;init&gt;()V+18\r\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory.createConnection()Ljavax/xml/soap/SOAPConnection;+4\r\nJ 24605 C1 com.tp.pg.util.shopping.SoapWSCall.getToken(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;I)Ljava/util/Map; (160 bytes) @ 0x00007f4bbc4be4d4 [0x00007f4bbc4be380+0x154]\r\nJ 24677 C1 com.tp.pg.util.shopping.SoapWSCall.getTransactionToken(Ljava/lang/String;Ljava/lang/String;I)Ljava/util/Map; (452 bytes) @ 0x00007f4bbdbd060c [0x00007f4bbdbced80+0x188c]\r\nJ 24279 C1 com.tp.pg.util.TransactionRequestBean.getTransactionToken()Ljava/lang/String; (259 bytes) @ 0x00007f4bbc40132c [0x00007f4bbc4005e0+0xd4c]\r\nJ 27355 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getTechProcessToken(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String; (321 bytes) @ 0x00007f4bbdf815bc [0x00007f4bbdf7f740+0x1e7c]\r\nJ 27354 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getReconcilationRequest(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Lorg/json/JSONObject; (176 bytes) @ 0x00007f4bbb8014f4 [0x00007f4bbb801420+0xd4]\r\nj  com.games24x7.paymentservice.util.TechprocessReconciliationTask.run()V+166\r\nJ 16559 C2 java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object; (14 bytes) @ 0x00007f4bbaa327ec [0x00007f4bbaa327a0+0x4c]\r\nJ 19385 C2 java.util.concurrent.FutureTask.run()V (126 bytes) @ 0x00007f4bbcdef074 [0x00007f4bbcdeefc0+0xb4]\r\nJ 21343% C2 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00007f4bbc1fbc0c [0x00007f4bbc1fb980+0x28c]\r\nj  java.util.concurrent.ThreadPoolExecutor$Worker.run()V+5\r\nj  java.lang.Thread.run()V+11\r\nv  ~StubRoutines::call_stub\r\n...\r\n\r\nGC Heap History (10 events):\r\nEvent: 241217.875 GC heap after\r\nHeap after GC invocations=5932 (full 1):\r\n par new generation   total 613440K, used 1702K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241220.784 GC heap before\r\n{Heap before GC invocations=5932 (full 1):\r\n par new generation   total 613440K, used 547046K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241220.794 GC heap after\r\nHeap after GC invocations=5933 (full 1):\r\n par new generation   total 613440K, used 2633K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a2400, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241224.818 GC heap before\r\n{Heap before GC invocations=5933 (full 1):\r\n par new generation   total 613440K, used 547977K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a24a8, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241224.828 GC heap after\r\nHeap after GC invocations=5934 (full 1):\r\n par new generation   total 613440K, used 2257K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241224.829 GC heap before\r\n{Heap before GC invocations=5934 (full 1):\r\n par new generation   total 613440K, used 8425K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   1% used [0x00000006c0000000, 0x00000006c0605fc8, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241224.836 GC heap after\r\nHeap after GC invocations=5935 (full 1):\r\n par new generation   total 613440K, used 1601K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a0760, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241228.987 GC heap before\r\n{Heap before GC invocations=5935 (full 1):\r\n par new generation   total 613440K, used 546945K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a07a0, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241228.995 GC heap after\r\nHeap after GC invocations=5936 (full 1):\r\n par new generation   total 613440K, used 2411K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241233.095 GC heap before\r\n{Heap before GC invocations=5936 (full 1):\r\n par new generation   total 613440K, used 547755K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n\r\nInternal exceptions (10 events):\r\nEvent: 241213.639 Thread 0x00007f4b60005800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c548d5f8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.641 Thread 0x00007f4b580a5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c548de20) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.797 Thread 0x00007f4b54917800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c64df2a0) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.903 Thread 0x00007f4b5c028000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c6bfddb8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241222.033 Thread 0x00007f4b849e9000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006cccff568) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241226.620 Thread 0x00007f4b849e9000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006cf3d4c60) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.641 Thread 0x00007f4b60005800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006de46f1e8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.642 Thread 0x00007f4b580a5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006de46fa10) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.907 Thread 0x00007f4b5c028000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006e0b591b8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241230.221 Thread 0x00007f4b787e5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c9c63328) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\n\r\nEvents (10 events):\r\nEvent: 241232.882 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.094 Executing VM operation: GenCollectForAllocation\r\n\r\n...\r\n```\r\n\r\nAny help will be greatly appreciated.","title":"Segmentation fault in GC Thread","body":"<p>We've deployed our Dropwizard service on aws-ec2 with centos7.</p>\n<p>We are intermittently facing with segmentation fault on our GC thread.</p>\n<p>Currently we are taking thread-pumps every minute to analyze.</p>\n<p>Current GC Algo - CMS</p>\n<p><strong>What we tried so far:</strong></p>\n<ol>\n<li>Changing OS from Amazon linux to centos7</li>\n<li>Tried different GC algos - parallel GC, CMS, G1-GC</li>\n</ol>\n<p>Please find the stack trace below.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4be96146bb, pid=1016, tid=139963858630400\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_72-b15) (build 1.8.0_72-b15)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.72-b15 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.so+0x6516bb]  CollectedHeap::common_mem_allocate_init(KlassHandle, unsigned long, Thread*)+0x9b\n#\n# Core dump written. Default location: //core or core.1016\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  T H R E A D  ---------------\nCurrent thread (0x00007f4be40d7800):  GCTaskThread [stack: 0x00007f4be0034000,0x00007f4be0134000] [id=3424]\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x000000010000000b\n\nRegisters:\nRAX=0x00007f4be9f68c19, RBX=0x00007f4be40d7800, RCX=0x0000000000000000, RDX=0x00007f4be40d7800\nRSP=0x00007f4be0131920, RBP=0x00007f4be0131950, RSI=0x0000000000000003, RDI=0x00000007c00016d0\nR8 =0x0000000000000000, R9 =0x0000000000000000, R10=0x202e64657265746e, R11=0x0000000000000001\nR12=0x00000000ffffffff, R13=0x0000000000000003, R14=0x00000007c00016d0, R15=0x0000000010000031\nRIP=0x00007f4be96146bb, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000006\n  TRAPNO=0x000000000000000e\n...\n\nJavaThread 0x00007f4adc006800 (nid = 13003) was being processed\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nv  ~RuntimeStub::_new_array_nozero_Java\nJ 3340 C2 java.util.zip.ZipFile.getEntry(Ljava/lang/String;)Ljava/util/zip/ZipEntry; (86 bytes) @ 0x00007f4bb99ea98c [0x00007f4bb99ea2c0+0x6cc]\nJ 4234 C2 sun.misc.URLClassPath$JarLoader.getResource(Ljava/lang/String;Z)Lsun/misc/Resource; (97 bytes) @ 0x00007f4bb9cfc970 [0x00007f4bb9cfc8e0+0x90]\nJ 5849 C2 java.net.URLClassLoader$2.run()Ljava/lang/Object; (5 bytes) @ 0x00007f4bb9360d7c [0x00007f4bb9360c20+0x15c]\nv  ~StubRoutines::call_stub\nJ 5043  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;)Ljava/lang/Object; (0 bytes) @ 0x00007f4bb9e2a563 [0x00007f4bb9e2a500+0x63]\nJ 5846 C2 java.lang.ClassLoader.getResource(Ljava/lang/String;)Ljava/net/URL; (87 bytes) @ 0x00007f4bb98f51d4 [0x00007f4bb98f4ee0+0x2f4]\nJ 26710 C2 javax.xml.soap.FactoryFinder.find(Ljava/lang/String;Ljava/lang/String;Z)Ljava/lang/Object; (317 bytes) @ 0x00007f4bbacd220c [0x00007f4bbacd18c0+0x94c]\nJ 27488 C2 javax.xml.soap.SAAJMetaFactory.getInstance()Ljavax/xml/soap/SAAJMetaFactory; (44 bytes) @ 0x00007f4bbab9d3ac [0x00007f4bbab9d380+0x2c]\nJ 21785 C1 javax.xml.soap.MessageFactory.newInstance(Ljava/lang/String;)Ljavax/xml/soap/MessageFactory; (8 bytes) @ 0x00007f4bbbe04b1c [0x00007f4bbbe04ac0+0x5c]\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.&lt;init&gt;()V+18\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory.createConnection()Ljavax/xml/soap/SOAPConnection;+4\nJ 24605 C1 com.tp.pg.util.shopping.SoapWSCall.getToken(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;I)Ljava/util/Map; (160 bytes) @ 0x00007f4bbc4be4d4 [0x00007f4bbc4be380+0x154]\nJ 24677 C1 com.tp.pg.util.shopping.SoapWSCall.getTransactionToken(Ljava/lang/String;Ljava/lang/String;I)Ljava/util/Map; (452 bytes) @ 0x00007f4bbdbd060c [0x00007f4bbdbced80+0x188c]\nJ 24279 C1 com.tp.pg.util.TransactionRequestBean.getTransactionToken()Ljava/lang/String; (259 bytes) @ 0x00007f4bbc40132c [0x00007f4bbc4005e0+0xd4c]\nJ 27355 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getTechProcessToken(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String; (321 bytes) @ 0x00007f4bbdf815bc [0x00007f4bbdf7f740+0x1e7c]\nJ 27354 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getReconcilationRequest(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Lorg/json/JSONObject; (176 bytes) @ 0x00007f4bbb8014f4 [0x00007f4bbb801420+0xd4]\nj  com.games24x7.paymentservice.util.TechprocessReconciliationTask.run()V+166\nJ 16559 C2 java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object; (14 bytes) @ 0x00007f4bbaa327ec [0x00007f4bbaa327a0+0x4c]\nJ 19385 C2 java.util.concurrent.FutureTask.run()V (126 bytes) @ 0x00007f4bbcdef074 [0x00007f4bbcdeefc0+0xb4]\nJ 21343% C2 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00007f4bbc1fbc0c [0x00007f4bbc1fb980+0x28c]\nj  java.util.concurrent.ThreadPoolExecutor$Worker.run()V+5\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n...\n\nGC Heap History (10 events):\nEvent: 241217.875 GC heap after\nHeap after GC invocations=5932 (full 1):\n par new generation   total 613440K, used 1702K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241220.784 GC heap before\n{Heap before GC invocations=5932 (full 1):\n par new generation   total 613440K, used 547046K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241220.794 GC heap after\nHeap after GC invocations=5933 (full 1):\n par new generation   total 613440K, used 2633K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a2400, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241224.818 GC heap before\n{Heap before GC invocations=5933 (full 1):\n par new generation   total 613440K, used 547977K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a24a8, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241224.828 GC heap after\nHeap after GC invocations=5934 (full 1):\n par new generation   total 613440K, used 2257K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241224.829 GC heap before\n{Heap before GC invocations=5934 (full 1):\n par new generation   total 613440K, used 8425K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   1% used [0x00000006c0000000, 0x00000006c0605fc8, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241224.836 GC heap after\nHeap after GC invocations=5935 (full 1):\n par new generation   total 613440K, used 1601K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a0760, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241228.987 GC heap before\n{Heap before GC invocations=5935 (full 1):\n par new generation   total 613440K, used 546945K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a07a0, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241228.995 GC heap after\nHeap after GC invocations=5936 (full 1):\n par new generation   total 613440K, used 2411K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241233.095 GC heap before\n{Heap before GC invocations=5936 (full 1):\n par new generation   total 613440K, used 547755K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n\nInternal exceptions (10 events):\nEvent: 241213.639 Thread 0x00007f4b60005800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c548d5f8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.641 Thread 0x00007f4b580a5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c548de20) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.797 Thread 0x00007f4b54917800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c64df2a0) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.903 Thread 0x00007f4b5c028000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c6bfddb8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241222.033 Thread 0x00007f4b849e9000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006cccff568) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241226.620 Thread 0x00007f4b849e9000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006cf3d4c60) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.641 Thread 0x00007f4b60005800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006de46f1e8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.642 Thread 0x00007f4b580a5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006de46fa10) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.907 Thread 0x00007f4b5c028000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006e0b591b8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241230.221 Thread 0x00007f4b787e5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c9c63328) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\n\nEvents (10 events):\nEvent: 241232.882 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.094 Executing VM operation: GenCollectForAllocation\n\n...\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","stomp","spring-websocket"],"owner":{"account_id":6441401,"reputation":506,"user_id":4991308,"accept_rate":62,"display_name":"Ares91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670860709,"creation_date":1670860709,"question_id":74773843,"body_markdown":"I have created a simple websocket server with this configuration and I&#39;m trying to subscribe or unsubscribe a user to a certain topic automaticaly, without the user permission (without sending SUBSCRIPTION event from the client). Example: a user connect to the server and the server automatically subscribe the user to topic &quot;news&quot; and &quot;football&quot;. I&#39;m trying to replicate what done when a client send this event &quot;***SUBSCRIBE\\ndestination:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\nid:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\n\\n\\u0000***&quot; but without the client sending it actualy, is it possible?\r\n\r\n    package com.websocket.socket;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.messaging.simp.config.ChannelRegistration;\r\n    import org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\n    import org.springframework.web.socket.WebSocketHandler;\r\n    import org.springframework.web.socket.WebSocketSession;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\n    import org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n    import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\r\n    import org.springframework.web.socket.handler.WebSocketHandlerDecorator;\r\n    import org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketConfiguration.class);\r\n        public static final String APP = &quot;/app&quot;;\r\n    \r\n    \r\n        private static final String[] topics = new String[]{\r\n                NEWS.BROKER_NAME,\r\n                FOOTBALL.BROKER_NAME\r\n        };\r\n    \r\n        @Autowired\r\n        private TopicChannelInterceptor topicChannelInterceptor;\r\n        @Autowired\r\n        private UserSessions userSessions;\r\n    \r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n    \r\n            config.enableSimpleBroker(topics);\r\n            config.setApplicationDestinationPrefixes(APP);\r\n    \r\n            LOGGER.info(&quot;Prefix: {}&quot;, APP);\r\n            LOGGER.info(&quot;Topics: {}&quot;, Arrays.toString(topics));\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    \r\n            registry.addEndpoint(&quot;/socket&quot;)\r\n                    .setAllowedOriginPatterns(&quot;*&quot;)\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureClientInboundChannel(ChannelRegistration registration) {\r\n    \r\n            registration.interceptors(topicChannelInterceptor);\r\n            WebSocketMessageBrokerConfigurer.super.configureClientInboundChannel(registration);\r\n        }\r\n    \r\n        @Override\r\n        public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\r\n            registration.addDecoratorFactory(new WebSocketHandlerDecoratorFactory() {\r\n                @Override\r\n                public WebSocketHandler decorate(final WebSocketHandler handler) {\r\n                    return new WebSocketHandlerDecorator(handler) {\r\n    \r\n                        @Override\r\n                        public void afterConnectionEstablished(final WebSocketSession session) throws Exception {\r\n    \r\n                            // We will store current user&#39;s session into WebsocketSessionHolder after connection is established\r\n                            userSessions.addUserSession(session.getId(), session);\r\n    \r\n                            LOGGER.info(&quot;Session stored&quot;);\r\n                            super.afterConnectionEstablished(session);\r\n                        }\r\n                    };\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Java WebSocket subscribe/unsubscribe manually from inside server","body":"<p>I have created a simple websocket server with this configuration and I'm trying to subscribe or unsubscribe a user to a certain topic automaticaly, without the user permission (without sending SUBSCRIPTION event from the client). Example: a user connect to the server and the server automatically subscribe the user to topic &quot;news&quot; and &quot;football&quot;. I'm trying to replicate what done when a client send this event &quot;<em><strong>SUBSCRIBE\\ndestination:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\nid:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\n\\n\\u0000</strong></em>&quot; but without the client sending it actualy, is it possible?</p>\n<pre><code>package com.websocket.socket;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.ChannelRegistration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\nimport org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\nimport org.springframework.web.socket.handler.WebSocketHandlerDecorator;\nimport org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\n\nimport java.util.Arrays;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketConfiguration.class);\n    public static final String APP = &quot;/app&quot;;\n\n\n    private static final String[] topics = new String[]{\n            NEWS.BROKER_NAME,\n            FOOTBALL.BROKER_NAME\n    };\n\n    @Autowired\n    private TopicChannelInterceptor topicChannelInterceptor;\n    @Autowired\n    private UserSessions userSessions;\n\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n\n        config.enableSimpleBroker(topics);\n        config.setApplicationDestinationPrefixes(APP);\n\n        LOGGER.info(&quot;Prefix: {}&quot;, APP);\n        LOGGER.info(&quot;Topics: {}&quot;, Arrays.toString(topics));\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n\n        registry.addEndpoint(&quot;/socket&quot;)\n                .setAllowedOriginPatterns(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n\n        registration.interceptors(topicChannelInterceptor);\n        WebSocketMessageBrokerConfigurer.super.configureClientInboundChannel(registration);\n    }\n\n    @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\n        registration.addDecoratorFactory(new WebSocketHandlerDecoratorFactory() {\n            @Override\n            public WebSocketHandler decorate(final WebSocketHandler handler) {\n                return new WebSocketHandlerDecorator(handler) {\n\n                    @Override\n                    public void afterConnectionEstablished(final WebSocketSession session) throws Exception {\n\n                        // We will store current user's session into WebsocketSessionHolder after connection is established\n                        userSessions.addUserSession(session.getId(), session);\n\n                        LOGGER.info(&quot;Session stored&quot;);\n                        super.afterConnectionEstablished(session);\n                    }\n                };\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670860614,"creation_date":1670860614,"answer_id":74773817,"question_id":74773486,"body_markdown":"I found the issue. Visual Studio Code was open and the project was loaded using [Extension Pack for Java][1]. This was deleting the classes while Maven was building them which resulted in the error above.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"Spring Boot native:compile with multi module Maven build","body":"<p>I found the issue. Visual Studio Code was open and the project was loaded using <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a>. This was deleting the classes while Maven was building them which resulted in the error above.</p>\n"}],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670860614,"creation_date":1670859086,"question_id":74773486,"body_markdown":"I try to compile GraalVM Native Image for a Spring Boot 3.0 application with multiple Maven modules.\r\n\r\nThe module structure is like the following:\r\n\r\n```\r\nheroes-parent\r\n|- heroes-backend\r\n|- heroes-frontend\r\n|- heroes-webapp\r\n```\r\n\r\nwhere each sub-directory is a module of the parent\r\n\r\npom.xml extract:\r\n```xml\r\n  &lt;modules&gt;\r\n    &lt;module&gt;heroes-backend&lt;/module&gt;\r\n    &lt;module&gt;heroes-frontend&lt;/module&gt;\r\n    &lt;module&gt;heroes-webapp&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n```\r\n\r\nWhen I try to build the app with (see [Spring Boot docs][1]):\r\n```\r\nmvn -Pnative native:compile\r\n```\r\n\r\nit errors with (because the parent has no classes):\r\n\r\n```\r\n[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.18:compile (default-cli) on project heroes-parent: Image classpath is empty. Check if your classpath configuration is correct. -&gt; [Help 1]\r\n```\r\n\r\nSo, I have tried to build the whole application first with `mvn install` and then only build the application `heroes-webapp` with `native:compile`\r\n```\r\nmvn install \r\ncd heroes-webapp\r\nmvn -Pnative native:compile\r\n```\r\n\r\nBut this fails with the following error:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.047 s\r\n[INFO] Finished at: 2022-12-12T16:26:20+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.0:process-aot (process-aot) on project heroes-webapp: Unable to compile generated source\r\n[ERROR] cannot access heroes.WeblateProperties\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/WeblateProperties__BeanDefinitions.java 15:25\r\n[ERROR] cannot access heroes.MainController\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/MainController__BeanDefinitions.java 15:25\r\n[ERROR] cannot access heroes.HeroesApplication\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/HeroesApplication__BeanDefinitions.java 18:25\r\n```\r\n\r\nYou can find the [source code for the whole application on GitHub][2].\r\n\r\nIs there any way to build a native-image with a Maven multi-module Spring Boot 3 application?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools.maven\r\n  [2]: https://github.com/porscheinformatik/angular-spring-heroes","title":"Spring Boot native:compile with multi module Maven build","body":"<p>I try to compile GraalVM Native Image for a Spring Boot 3.0 application with multiple Maven modules.</p>\n<p>The module structure is like the following:</p>\n<pre><code>heroes-parent\n|- heroes-backend\n|- heroes-frontend\n|- heroes-webapp\n</code></pre>\n<p>where each sub-directory is a module of the parent</p>\n<p>pom.xml extract:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;modules&gt;\n    &lt;module&gt;heroes-backend&lt;/module&gt;\n    &lt;module&gt;heroes-frontend&lt;/module&gt;\n    &lt;module&gt;heroes-webapp&lt;/module&gt;\n  &lt;/modules&gt;\n</code></pre>\n<p>When I try to build the app with (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools.maven\" rel=\"nofollow noreferrer\">Spring Boot docs</a>):</p>\n<pre><code>mvn -Pnative native:compile\n</code></pre>\n<p>it errors with (because the parent has no classes):</p>\n<pre><code>[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.18:compile (default-cli) on project heroes-parent: Image classpath is empty. Check if your classpath configuration is correct. -&gt; [Help 1]\n</code></pre>\n<p>So, I have tried to build the whole application first with <code>mvn install</code> and then only build the application <code>heroes-webapp</code> with <code>native:compile</code></p>\n<pre><code>mvn install \ncd heroes-webapp\nmvn -Pnative native:compile\n</code></pre>\n<p>But this fails with the following error:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.047 s\n[INFO] Finished at: 2022-12-12T16:26:20+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.0:process-aot (process-aot) on project heroes-webapp: Unable to compile generated source\n[ERROR] cannot access heroes.WeblateProperties\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/WeblateProperties__BeanDefinitions.java 15:25\n[ERROR] cannot access heroes.MainController\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/MainController__BeanDefinitions.java 15:25\n[ERROR] cannot access heroes.HeroesApplication\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/HeroesApplication__BeanDefinitions.java 18:25\n</code></pre>\n<p>You can find the <a href=\"https://github.com/porscheinformatik/angular-spring-heroes\" rel=\"nofollow noreferrer\">source code for the whole application on GitHub</a>.</p>\n<p>Is there any way to build a native-image with a Maven multi-module Spring Boot 3 application?</p>\n"},{"tags":["java","lucee"],"comments":[{"owner":{"account_id":3126626,"reputation":1078,"user_id":2645359,"display_name":"AndreasRu"},"score":1,"creation_date":1670821760,"post_id":74765045,"comment_id":131954004,"body_markdown":"Have you tried a stable Lucee version, instead of the bleeding edge snapshot versions?","body":"Have you tried a stable Lucee version, instead of the bleeding edge snapshot versions?"},{"owner":{"account_id":20701207,"reputation":1,"user_id":15200238,"display_name":"Saifullah Khalid"},"score":0,"creation_date":1670909674,"post_id":74765045,"comment_id":131976331,"body_markdown":"yes sir even stable version does the same","body":"yes sir even stable version does the same"}],"owner":{"account_id":20701207,"reputation":1,"user_id":15200238,"display_name":"Saifullah Khalid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670860385,"creation_date":1670797611,"question_id":74765045,"body_markdown":"&gt;lucee.runtime.exp.NativeException: Pool exhausted\r\n\r\n\r\n\r\n\r\nGetting this error every two hours on lucee server.\r\nMessage: Pool exhausted\r\n","title":"Lucee 6.0.0.313-SNAPSHOT Error (java.util.NoSuchElementException)","body":"<blockquote>\n<p>lucee.runtime.exp.NativeException: Pool exhausted</p>\n</blockquote>\n<p>Getting this error every two hours on lucee server.\nMessage: Pool exhausted</p>\n"},{"tags":["java","sftp","inputstream","jsch","apache-commons-io"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657829146,"post_id":72985697,"comment_id":128909842,"body_markdown":"Root cause is that it says - `sharePointUpload ` was called with a closed `inputStream`.  You need to check/provide details of the code where this stream was created.","body":"Root cause is that it says - <code>sharePointUpload </code> was called with a closed <code>inputStream</code>.  You need to check/provide details of the code where this stream was created."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657863384,"post_id":72985697,"comment_id":128915394,"body_markdown":"@Tintin Few files were transferred from List... I have added code to get file and method call","body":"@Tintin Few files were transferred from List... I have added code to get file and method call"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1657889061,"post_id":72985697,"comment_id":128923057,"body_markdown":"We need [mcve]. Have your question anything to do with SharePoint at all? What if you just read the `InputStream` in a loop without using any SharePoint code.","body":"We need <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Have your question anything to do with SharePoint at all? What if you just read the <code>InputStream</code> in a loop without using any SharePoint code."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657891811,"post_id":72985697,"comment_id":128924132,"body_markdown":"@MartinPrikryl I have mentioned error occurred while calling, `IOUtils.toByteArray(inputStream)` which is in **sharePointUplod()**... nothing to do while uploading file to SharePoint.","body":"@MartinPrikryl I have mentioned error occurred while calling, <code>IOUtils.toByteArray(inputStream)</code> which is in <b>sharePointUplod()</b>... nothing to do while uploading file to SharePoint."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1657892462,"post_id":72985697,"comment_id":128924398,"body_markdown":"So why do you complicate your question with SharePoint? Why don&#39;t you post a simple sequential code snippet that reproduces the problem? Instead of two disjoined methods with code that it not relevant to the problem?","body":"So why do you complicate your question with SharePoint? Why don&#39;t you post a simple sequential code snippet that reproduces the problem? Instead of two disjoined methods with code that it not relevant to the problem?"}],"answers":[{"tags":[],"owner":{"account_id":18264099,"reputation":17,"user_id":13296254,"display_name":"ItsVaske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657830110,"creation_date":1657830110,"answer_id":72986265,"question_id":72985697,"body_markdown":"You are providing it with closed InputStream when the method is being called. Make sure the InputStream you are providing is open and initialized.","title":"java.io.IOException: inputstream is closed","body":"<p>You are providing it with closed InputStream when the method is being called. Make sure the InputStream you are providing is open and initialized.</p>\n"},{"tags":[],"owner":{"account_id":2319820,"reputation":1,"user_id":2035915,"display_name":"ant1eicher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657882078,"creation_date":1657882078,"answer_id":72992827,"question_id":72985697,"body_markdown":"This line is giving you a closed InputStream:\r\n\r\n```\r\nInputStream stream = sourceChannelSftp.get(sourceLocation + &#39;/&#39; + sourcefilenamelist);\r\n```\r\n\r\nPerhaps the `sourceLocation` argument that you are sending to it is not correct?\r\n\r\n","title":"java.io.IOException: inputstream is closed","body":"<p>This line is giving you a closed InputStream:</p>\n<pre><code>InputStream stream = sourceChannelSftp.get(sourceLocation + '/' + sourcefilenamelist);\n</code></pre>\n<p>Perhaps the <code>sourceLocation</code> argument that you are sending to it is not correct?</p>\n"},{"tags":[],"owner":{"account_id":12016455,"reputation":1936,"user_id":8791436,"display_name":"mindlid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658034487,"creation_date":1658034487,"answer_id":73009385,"question_id":72985697,"body_markdown":"supposing the stream works, but once the stream is read, it will close, try checking if it&#39;s being read somewhere else.","title":"java.io.IOException: inputstream is closed","body":"<p>supposing the stream works, but once the stream is read, it will close, try checking if it's being read somewhere else.</p>\n"}],"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4055,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1670860016,"creation_date":1657826747,"question_id":72985697,"body_markdown":"I am trying to transfer file from SFTP to SharePoint folder.  \r\nI have used JSCH Library to connect to SFTP.\r\n\r\nFollowing is my code snippet to **upload file**.\r\n\r\n    private void sharePointUpload(String driveId, String targetLocation, InputStream inputStream, String fileName) throws FileNotFoundException, IOException {\r\n\t\tUploadSession uploadSession = this.graphServiceClient.drives().byId(driveId).root().itemWithPath(targetLocation +&quot;/&quot;+ fileName)\r\n\t\t\t\t\t\t\t\t\t\t.createUploadSession(this.uploadParams).buildRequest().post();\r\n\t\tbyte[] inputStreamByteArray = IOUtils.toByteArray(inputStream);\r\n\t\tLargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t(uploadSession, this.graphServiceClient, new ByteArrayInputStream(inputStreamByteArray), inputStreamByteArray.length, DriveItem.class);\r\n\t\tlargeFileUploadTask.upload(MAXIMUM_CHUNK_SIZE);\r\n\t}\r\n\r\nI am getting error **java.io.IOException: inputstream is closed** at `IOUtils.toByteArray(inputStream)`  \r\nWhat will be the root cause ?\r\n\r\nError Logs\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Update :**  \r\nCode Snippet to **Get InputStream**\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        sourcefilenamelist = list.get(i);\r\n        logger.log(proccessingFileLogText + sourcefilenamelist);\r\n        if (targetFilenameflag.equalsIgnoreCase(&quot;false&quot;)) {\r\n            targetFilename = sourcefilenamelist;\r\n        }\r\n        \r\n        InputStream stream = sourceChannelSftp.get(sourceLocation + &#39;/&#39; + sourcefilenamelist);\r\n        InputStreamDetails decryptEncryptInputStreamDetails = decryptEncryptInputStream(stream, targetFilename, sourceEncryption, targetEncryption, jobjsource);\r\n        stream = decryptEncryptInputStreamDetails.getInputStream();\r\n        targetFilename = decryptEncryptInputStreamDetails.getFileName();\r\n        \r\n        try {\r\n            sharePointUpload(targetDriveId, targetLocation, stream, targetFilename);\r\n        } catch (ClientException e) {\r\n            logger.log(&quot; Graph API ClientException : &quot;);\r\n            logger.log( &quot;e.getMessage()\t\t:- &quot; + e.getMessage() );\r\n            logger.log( &quot;RootCauseMessage\t:- &quot; + ExceptionUtils.getRootCauseMessage(e) );\r\n    //\t\t\t\t\t\t\t\t\t\tisSQSMessageRetry = true;\r\n            throw e;\r\n        }\r\n    ...\r\n    ...\r\n    ...\r\n    }\r\n\r\n\r\n**PS: Few files are transferred from List**\r\n\r\n  [1]: https://i.stack.imgur.com/lvZlI.png","title":"java.io.IOException: inputstream is closed","body":"<p>I am trying to transfer file from SFTP to SharePoint folder.<br />\nI have used JSCH Library to connect to SFTP.</p>\n<p>Following is my code snippet to <strong>upload file</strong>.</p>\n<pre><code>private void sharePointUpload(String driveId, String targetLocation, InputStream inputStream, String fileName) throws FileNotFoundException, IOException {\n    UploadSession uploadSession = this.graphServiceClient.drives().byId(driveId).root().itemWithPath(targetLocation +&quot;/&quot;+ fileName)\n                                    .createUploadSession(this.uploadParams).buildRequest().post();\n    byte[] inputStreamByteArray = IOUtils.toByteArray(inputStream);\n    LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;\n                                        (uploadSession, this.graphServiceClient, new ByteArrayInputStream(inputStreamByteArray), inputStreamByteArray.length, DriveItem.class);\n    largeFileUploadTask.upload(MAXIMUM_CHUNK_SIZE);\n}\n</code></pre>\n<p>I am getting error <strong>java.io.IOException: inputstream is closed</strong> at <code>IOUtils.toByteArray(inputStream)</code><br />\nWhat will be the root cause ?</p>\n<p>Error Logs</p>\n<p><a href=\"https://i.stack.imgur.com/lvZlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvZlI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update :</strong><br />\nCode Snippet to <strong>Get InputStream</strong></p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    sourcefilenamelist = list.get(i);\n    logger.log(proccessingFileLogText + sourcefilenamelist);\n    if (targetFilenameflag.equalsIgnoreCase(&quot;false&quot;)) {\n        targetFilename = sourcefilenamelist;\n    }\n    \n    InputStream stream = sourceChannelSftp.get(sourceLocation + '/' + sourcefilenamelist);\n    InputStreamDetails decryptEncryptInputStreamDetails = decryptEncryptInputStream(stream, targetFilename, sourceEncryption, targetEncryption, jobjsource);\n    stream = decryptEncryptInputStreamDetails.getInputStream();\n    targetFilename = decryptEncryptInputStreamDetails.getFileName();\n    \n    try {\n        sharePointUpload(targetDriveId, targetLocation, stream, targetFilename);\n    } catch (ClientException e) {\n        logger.log(&quot; Graph API ClientException : &quot;);\n        logger.log( &quot;e.getMessage()     :- &quot; + e.getMessage() );\n        logger.log( &quot;RootCauseMessage   :- &quot; + ExceptionUtils.getRootCauseMessage(e) );\n//                                      isSQSMessageRetry = true;\n        throw e;\n    }\n...\n...\n...\n}\n</code></pre>\n<p><strong>PS: Few files are transferred from List</strong></p>\n"},{"tags":["java","mongodb","pojo"],"owner":{"account_id":19773704,"reputation":11,"user_id":14480177,"display_name":"1k3w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670859910,"creation_date":1670859910,"question_id":74773662,"body_markdown":"I&#39;m using MongoDB&#39;s POJO encoder, but it&#39;s not working. it&#39;s returning an empty document only containing an _id. i have enabled the Convention for annotation based POJOs, i also enabled the private field convention so that it uses reflection for private fields. I also know that it was using the getters instead of fields, since it did work before i put @BsonIgnore on my getters, but i modify data in a getter so this is not desirable for me. Here&#39;s my code for the class i want to serialize:\r\n\r\n\r\n```\r\npublic class PermissionPlayer {\r\n    public static final String MONGO_COLLECTION = &quot;permission_players&quot;;\r\n\r\n    @BsonProperty( &quot;uuid&quot;)\r\n    private UUID uuid;\r\n\r\n    @BsonProperty( &quot;groupNames&quot;)\r\n    private List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\r\n\r\n    @BsonProperty( &quot;permissions&quot;)\r\n    private List&lt;String&gt; perms = new ArrayList&lt;&gt;();\r\n\r\n    @BsonIgnore\r\n    private List&lt;PermissionGroup&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n    @BsonCreator\r\n    public PermissionPlayer(@BsonProperty( &quot;uuid&quot;) UUID uuid, @BsonProperty( &quot;groupNames&quot;) List&lt;String&gt; groupNames, @BsonProperty( &quot;permissions&quot;) List&lt;String&gt; perms) {\r\n        this.uuid = uuid;\r\n        this.groupNames = groupNames == null ? new ArrayList&lt;&gt;() : groupNames;\r\n        this.perms = perms;\r\n        loadGroups();\r\n    }\r\n\r\n\r\n    @BsonIgnore\r\n    public void loadGroups() {\r\n        groups = new ArrayList&lt;&gt;();\r\n        for (String s : groupNames)\r\n            groups.add(PermissionManager.get().getGroup(s));\r\n        groups.removeIf(Objects::isNull);\r\n        Collections.sort(groups);\r\n    }\r\n\r\n    public PermissionPlayer(UUID uuid) {\r\n        this.uuid = uuid;\r\n    }\r\n\r\n    @BsonIgnore\r\n    public void removePermission(String permission) {\r\n        perms.remove(permission);\r\n    }\r\n\r\n    @BsonIgnore\r\n    public void addPermission(String permission) {\r\n        perms.add(permission);\r\n    }\r\n\r\n    @BsonIgnore\r\n    public List&lt;String&gt; getPermissions() {\r\n        List&lt;String&gt; permissions = new ArrayList&lt;&gt;(); // individually set perms\r\n        permissions.addAll(perms);\r\n        for (PermissionGroup g : groups) {\r\n            permissions.addAll(g.getPermissions());\r\n```\r\n\r\nand here is the Mongo class for database access &amp; how i construct the client:\r\n\r\n\r\n```\r\npublic class Mongo {\r\n\r\n    private static MongoClient client = null;\r\n    private static MongoDatabase database = null;\r\n\r\n    public static final CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\r\n            MongoClientSettings.builder().uuidRepresentation(UuidRepresentation.STANDARD).build().getCodecRegistry(),\r\n            CodecRegistries.fromProviders(PojoCodecProvider.builder()\r\n                    .conventions(Arrays.asList(Conventions.ANNOTATION_CONVENTION, Conventions.SET_PRIVATE_FIELDS_CONVENTION)).automatic(true).build())\r\n    );\r\n\r\n\r\n    public static void connectDatabase() {\r\n        String db = Main.env.get(&quot;DATABASE_NAME&quot;);\r\n        String uri = Main.env.get(&quot;DATABASE_URL&quot;);\r\n        client = MongoClients.create(MongoClientSettings.builder().applyConnectionString(new ConnectionString(uri)).\r\n                uuidRepresentation(UuidRepresentation.STANDARD).codecRegistry(codecRegistry).build());\r\n\r\n        database = client.getDatabase(db);\r\n    }\r\n\r\n    public static MongoCollection&lt;Document&gt; getCollection(String name) {\r\n        return database.getCollection(name.toLowerCase());\r\n    }\r\n\r\n    public static MongoDatabase getDatabase() {\r\n        return database;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried changing the Conventions to no avail. also i have followed an article on this by MongoDB itself which you can find [here](https://www.mongodb.com/developer/languages/java/java-mapping-pojos/).","title":"MongoDB POJO in Java producing empty document and not using fields","body":"<p>I'm using MongoDB's POJO encoder, but it's not working. it's returning an empty document only containing an _id. i have enabled the Convention for annotation based POJOs, i also enabled the private field convention so that it uses reflection for private fields. I also know that it was using the getters instead of fields, since it did work before i put @BsonIgnore on my getters, but i modify data in a getter so this is not desirable for me. Here's my code for the class i want to serialize:</p>\n<pre><code>public class PermissionPlayer {\n    public static final String MONGO_COLLECTION = &quot;permission_players&quot;;\n\n    @BsonProperty( &quot;uuid&quot;)\n    private UUID uuid;\n\n    @BsonProperty( &quot;groupNames&quot;)\n    private List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\n\n    @BsonProperty( &quot;permissions&quot;)\n    private List&lt;String&gt; perms = new ArrayList&lt;&gt;();\n\n    @BsonIgnore\n    private List&lt;PermissionGroup&gt; groups = new ArrayList&lt;&gt;();\n\n    @BsonCreator\n    public PermissionPlayer(@BsonProperty( &quot;uuid&quot;) UUID uuid, @BsonProperty( &quot;groupNames&quot;) List&lt;String&gt; groupNames, @BsonProperty( &quot;permissions&quot;) List&lt;String&gt; perms) {\n        this.uuid = uuid;\n        this.groupNames = groupNames == null ? new ArrayList&lt;&gt;() : groupNames;\n        this.perms = perms;\n        loadGroups();\n    }\n\n\n    @BsonIgnore\n    public void loadGroups() {\n        groups = new ArrayList&lt;&gt;();\n        for (String s : groupNames)\n            groups.add(PermissionManager.get().getGroup(s));\n        groups.removeIf(Objects::isNull);\n        Collections.sort(groups);\n    }\n\n    public PermissionPlayer(UUID uuid) {\n        this.uuid = uuid;\n    }\n\n    @BsonIgnore\n    public void removePermission(String permission) {\n        perms.remove(permission);\n    }\n\n    @BsonIgnore\n    public void addPermission(String permission) {\n        perms.add(permission);\n    }\n\n    @BsonIgnore\n    public List&lt;String&gt; getPermissions() {\n        List&lt;String&gt; permissions = new ArrayList&lt;&gt;(); // individually set perms\n        permissions.addAll(perms);\n        for (PermissionGroup g : groups) {\n            permissions.addAll(g.getPermissions());\n</code></pre>\n<p>and here is the Mongo class for database access &amp; how i construct the client:</p>\n<pre><code>public class Mongo {\n\n    private static MongoClient client = null;\n    private static MongoDatabase database = null;\n\n    public static final CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\n            MongoClientSettings.builder().uuidRepresentation(UuidRepresentation.STANDARD).build().getCodecRegistry(),\n            CodecRegistries.fromProviders(PojoCodecProvider.builder()\n                    .conventions(Arrays.asList(Conventions.ANNOTATION_CONVENTION, Conventions.SET_PRIVATE_FIELDS_CONVENTION)).automatic(true).build())\n    );\n\n\n    public static void connectDatabase() {\n        String db = Main.env.get(&quot;DATABASE_NAME&quot;);\n        String uri = Main.env.get(&quot;DATABASE_URL&quot;);\n        client = MongoClients.create(MongoClientSettings.builder().applyConnectionString(new ConnectionString(uri)).\n                uuidRepresentation(UuidRepresentation.STANDARD).codecRegistry(codecRegistry).build());\n\n        database = client.getDatabase(db);\n    }\n\n    public static MongoCollection&lt;Document&gt; getCollection(String name) {\n        return database.getCollection(name.toLowerCase());\n    }\n\n    public static MongoDatabase getDatabase() {\n        return database;\n    }\n}\n</code></pre>\n<p>I have tried changing the Conventions to no avail. also i have followed an article on this by MongoDB itself which you can find <a href=\"https://www.mongodb.com/developer/languages/java/java-mapping-pojos/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9178,"page":814,"page_size":100}
