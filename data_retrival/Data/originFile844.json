{"items":[{"tags":["java","html","jsf","markdown","flexmark"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1669204704,"post_id":74546161,"comment_id":131590470,"body_markdown":"You could use https://www.primefaces.org/showcase-ext/views/localized.jsf which supports Markdown","body":"You could use <a href=\"https://www.primefaces.org/showcase-ext/views/localized.jsf\" rel=\"nofollow noreferrer\">primefaces.org/showcase-ext/views/localized.jsf</a> which supports Markdown"},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1669205986,"post_id":74546161,"comment_id":131590900,"body_markdown":"Interesting. But the focus of localized is the localization. I&#39;m unsure, if links would work in this solution different/better than e. g. flexmark.","body":"Interesting. But the focus of localized is the localization. I&#39;m unsure, if links would work in this solution different/better than e. g. flexmark."},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1669206973,"post_id":74546161,"comment_id":131591220,"body_markdown":"The big win is that you can use this as a tag within your JSF pages. No third party transformation is required. So links will work.","body":"The big win is that you can use this as a tag within your JSF pages. No third party transformation is required. So links will work."}],"answers":[{"tags":[],"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669826497,"creation_date":1669826497,"answer_id":74631258,"question_id":74546161,"body_markdown":"Ok, no other answers, so I answer on my own.\r\nThe comment about primefaces extension with localized is interesting, but too far away from my focus and some features did not really match to my requirements.\r\n\r\nTherefore I stayed with a pure markdown library and made the rest on my own.\r\nWith the links it was much more easy than expected! Within JavaScript you can very easily detect all links of the page (`document.links`), iterate over them and just set an onclick function (see [here][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/688196/how-to-use-a-link-to-call-javascript/688228#688228","title":"How to use Markdown with links in JSF?","body":"<p>Ok, no other answers, so I answer on my own.\nThe comment about primefaces extension with localized is interesting, but too far away from my focus and some features did not really match to my requirements.</p>\n<p>Therefore I stayed with a pure markdown library and made the rest on my own.\nWith the links it was much more easy than expected! Within JavaScript you can very easily detect all links of the page (<code>document.links</code>), iterate over them and just set an onclick function (see <a href=\"https://stackoverflow.com/questions/688196/how-to-use-a-link-to-call-javascript/688228#688228\">here</a>).</p>\n"}],"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74631258,"answer_count":1,"score":0,"last_activity_date":1669826497,"creation_date":1669203337,"question_id":74546161,"body_markdown":"I am developing an JSF web application and would like to introduce a lot of documentation to be visible directly in the web application. Technically I would like to use Markdown language and made already first experimence with.\r\nI am currently playing around with flexmark Java library to render e. g. HTML strings from a markdown document. Also this seems to work fine. But what to do with links to other md files?\r\n\r\nIf I do have my markdown part: `See also [here](Background.md)`\r\nThen this will be rendered correct to HTML with a link like: `See also &lt;a href=&quot;Background.md&quot;&gt;here&lt;/a&gt;`.\r\n\r\nBut how should I tell my web server to react on this link and update the document part of the page with the rendered md file?\r\n\r\nI would need to manually find such links in the generated HTML and change them to a kind of JavaScript call, telling my server to render the panel using the other md file.\r\n\r\nOr should I create an IFrame so that within this frame, I could follow the link to e. g. a web servlet, rendering the md files to new HTML?\r\n\r\nBut this all feels a bit clumbsy to me. Am I missing a more easy solution?","title":"How to use Markdown with links in JSF?","body":"<p>I am developing an JSF web application and would like to introduce a lot of documentation to be visible directly in the web application. Technically I would like to use Markdown language and made already first experimence with.\nI am currently playing around with flexmark Java library to render e. g. HTML strings from a markdown document. Also this seems to work fine. But what to do with links to other md files?</p>\n<p>If I do have my markdown part: <code>See also [here](Background.md)</code>\nThen this will be rendered correct to HTML with a link like: <code>See also &lt;a href=&quot;Background.md&quot;&gt;here&lt;/a&gt;</code>.</p>\n<p>But how should I tell my web server to react on this link and update the document part of the page with the rendered md file?</p>\n<p>I would need to manually find such links in the generated HTML and change them to a kind of JavaScript call, telling my server to render the panel using the other md file.</p>\n<p>Or should I create an IFrame so that within this frame, I could follow the link to e. g. a web servlet, rendering the md files to new HTML?</p>\n<p>But this all feels a bit clumbsy to me. Am I missing a more easy solution?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826396,"creation_date":1669825384,"answer_id":74631016,"question_id":74630943,"body_markdown":"You can simply achieve this by adding a new line to your print statement as follow:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 14; i++) {\r\n            for (int j = 1; j &lt;= i; j++) {\r\n                System.out.print(6 * j + &quot; &quot;);\r\n            }\r\n            System.out.println(System.lineSeparator());\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve used the `System.lineSeparator()` to ensure that we will break the line independently on the operation system we&#39;re running - so for Linux for example it would be `\\n` while on windows it would be `\\r\\n`\r\n\r\nAlternatively, you can simply call the `System.out.println()` twice, and it will do the same...\r\n\r\nYou can see that running this code will result in the following output as expected:\r\n\r\n```text\r\n6 \r\n\r\n6 12 \r\n\r\n6 12 18 \r\n\r\n6 12 18 24 \r\n\r\n6 12 18 24 30 \r\n\r\n6 12 18 24 30 36 \r\n\r\n6 12 18 24 30 36 42 \r\n\r\n6 12 18 24 30 36 42 48 \r\n\r\n6 12 18 24 30 36 42 48 54 \r\n\r\n6 12 18 24 30 36 42 48 54 60 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 78 \r\n\r\n```\r\n\r\nIf it&#39;s important to you to avoid the last empty line you can add an if-statement to the outer loop and check the index","title":"How do i add if else with break and continue in nested for loop, the outcome should be that there are spaces between rows","body":"<p>You can simply achieve this by adding a new line to your print statement as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        for (int i = 1; i &lt; 14; i++) {\n            for (int j = 1; j &lt;= i; j++) {\n                System.out.print(6 * j + &quot; &quot;);\n            }\n            System.out.println(System.lineSeparator());\n        }\n    }\n</code></pre>\n<p>I've used the <code>System.lineSeparator()</code> to ensure that we will break the line independently on the operation system we're running - so for Linux for example it would be <code>\\n</code> while on windows it would be <code>\\r\\n</code></p>\n<p>Alternatively, you can simply call the <code>System.out.println()</code> twice, and it will do the same...</p>\n<p>You can see that running this code will result in the following output as expected:</p>\n<pre><code>6 \n\n6 12 \n\n6 12 18 \n\n6 12 18 24 \n\n6 12 18 24 30 \n\n6 12 18 24 30 36 \n\n6 12 18 24 30 36 42 \n\n6 12 18 24 30 36 42 48 \n\n6 12 18 24 30 36 42 48 54 \n\n6 12 18 24 30 36 42 48 54 60 \n\n6 12 18 24 30 36 42 48 54 60 66 \n\n6 12 18 24 30 36 42 48 54 60 66 72 \n\n6 12 18 24 30 36 42 48 54 60 66 72 78 \n\n</code></pre>\n<p>If it's important to you to avoid the last empty line you can add an if-statement to the outer loop and check the index</p>\n"}],"owner":{"account_id":27100917,"reputation":1,"user_id":20647493,"display_name":"Jason Thorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826396,"creation_date":1669825054,"question_id":74630943,"body_markdown":"```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    for (int i = 1;i&lt;14;i++){\r\n     for (int j=1;j&lt;=i;j++){\r\n      System.out.print(6 *j+&quot; &quot;);\r\n    }\r\n    System.out.println();\r\n   }\r\n  }\r\n```\r\n\r\nThis is the code that i need to add break and continue on.\r\n\r\n```\r\n6 \r\n\r\n6 12 \r\n\r\n6 12 18 \r\n\r\n6 12 18 24 \r\n\r\n6 12 18 24 30 \r\n\r\n6 12 18 24 30 36 \r\n\r\n6 12 18 24 30 36 42 \r\n\r\n6 12 18 24 30 36 42 48 \r\n\r\n6 12 18 24 30 36 42 48 54 \r\n\r\n6 12 18 24 30 36 42 48 54 60 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 \r\n\r\n6 12 18 24 30 36 42 48 54 60 66 72 78 \r\n```\r\n\r\nThe outcome should be like this, Im just starting java so simplifiying helps and im still learning ","title":"How do i add if else with break and continue in nested for loop, the outcome should be that there are spaces between rows","body":"<pre><code>public class Main {\n  public static void main(String[] args) {\n    for (int i = 1;i&lt;14;i++){\n     for (int j=1;j&lt;=i;j++){\n      System.out.print(6 *j+&quot; &quot;);\n    }\n    System.out.println();\n   }\n  }\n</code></pre>\n<p>This is the code that i need to add break and continue on.</p>\n<pre><code>6 \n\n6 12 \n\n6 12 18 \n\n6 12 18 24 \n\n6 12 18 24 30 \n\n6 12 18 24 30 36 \n\n6 12 18 24 30 36 42 \n\n6 12 18 24 30 36 42 48 \n\n6 12 18 24 30 36 42 48 54 \n\n6 12 18 24 30 36 42 48 54 60 \n\n6 12 18 24 30 36 42 48 54 60 66 \n\n6 12 18 24 30 36 42 48 54 60 66 72 \n\n6 12 18 24 30 36 42 48 54 60 66 72 78 \n</code></pre>\n<p>The outcome should be like this, Im just starting java so simplifiying helps and im still learning</p>\n"},{"tags":["java","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":13428419,"reputation":11,"user_id":9688949,"display_name":"Sandy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669826213,"creation_date":1669826213,"answer_id":74631209,"question_id":74631010,"body_markdown":"Are you annotating your service class?\r\nSpring uses component scanning to find the classes that it needs to auto-wire and insert into classes for IoC. Basically, Spring is going to scan the project&#39;s classpath (or paths you specified), find all of the @Component classes and make them available for auto-wiring. So if you forget to annotate a class it will not be auto-wired and when you try and use it you will get a null and a NullPointerException.\r\n\r\n@Service, @Repository and @Controller are all specializations of @Component, so any class you want to auto-wire needs to be annotated with one of them.","title":"Null pointer exception thrown in Autowired service class when I used JWT Authentication","body":"<p>Are you annotating your service class?\nSpring uses component scanning to find the classes that it needs to auto-wire and insert into classes for IoC. Basically, Spring is going to scan the project's classpath (or paths you specified), find all of the @Component classes and make them available for auto-wiring. So if you forget to annotate a class it will not be auto-wired and when you try and use it you will get a null and a NullPointerException.</p>\n<p>@Service, @Repository and @Controller are all specializations of @Component, so any class you want to auto-wire needs to be annotated with one of them.</p>\n"}],"owner":{"account_id":25986767,"reputation":1,"user_id":19699631,"display_name":"Shashank Trivedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826213,"creation_date":1669825361,"question_id":74631010,"body_markdown":"I am creating the jwt authentication for a different role than here showing a null pointer exception. but when this URL I paste on the web security configuration class with the antmatcher method the API works fine but it shows an error in pre-authorize when I used it.\r\n\r\n# **This is the Controller class**  \r\n\r\n[Controller Class Image](https://i.stack.imgur.com/9oDOX.png)\r\n\r\n```\r\npackage com.shashank.controller;\r\n.........\r\n@RestController\r\n@CrossOrigin\r\npublic class StudentController {\r\n    @Autowired\r\n    StudentService studentService;\r\n\r\n        @GetMapping(&quot;/api/student/stu&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;User&#39;)&quot;)\r\n        private List&lt;Student&gt; getAllUStudent(){\r\n            System.out.println(&quot;Get Call&quot;);\r\n            return studentService.getAllStudent();\r\n        }\r\n```\r\n\r\n# **This is the Error in console**\r\n\r\n[Error showing in Postman](https://i.stack.imgur.com/j253u.png)\r\n\r\n```\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;com.shashank.service.StudentService.getAllStudent()&quot; because &quot;this.studentService&quot; is null\r\n\tat com.shashank.controller.StudentController.getAllUStudent(StudentController.java:28) ~[classes/:na]\r\n```","title":"Null pointer exception thrown in Autowired service class when I used JWT Authentication","body":"<p>I am creating the jwt authentication for a different role than here showing a null pointer exception. but when this URL I paste on the web security configuration class with the antmatcher method the API works fine but it shows an error in pre-authorize when I used it.</p>\n<h1><strong>This is the Controller class</strong></h1>\n<p><a href=\"https://i.stack.imgur.com/9oDOX.png\" rel=\"nofollow noreferrer\">Controller Class Image</a></p>\n<pre><code>package com.shashank.controller;\n.........\n@RestController\n@CrossOrigin\npublic class StudentController {\n    @Autowired\n    StudentService studentService;\n\n        @GetMapping(&quot;/api/student/stu&quot;)\n        @PreAuthorize(&quot;hasRole('User')&quot;)\n        private List&lt;Student&gt; getAllUStudent(){\n            System.out.println(&quot;Get Call&quot;);\n            return studentService.getAllStudent();\n        }\n</code></pre>\n<h1><strong>This is the Error in console</strong></h1>\n<p><a href=\"https://i.stack.imgur.com/j253u.png\" rel=\"nofollow noreferrer\">Error showing in Postman</a></p>\n<pre><code>\njava.lang.NullPointerException: Cannot invoke &quot;com.shashank.service.StudentService.getAllStudent()&quot; because &quot;this.studentService&quot; is null\n    at com.shashank.controller.StudentController.getAllUStudent(StudentController.java:28) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1669815724,"post_id":74628497,"comment_id":131728542,"body_markdown":"weakKeys are identity based (==, same reference), so an auto-boxed long wouldn’t map to the same entry. And weakValues means it will evict if no strong references exist. You can use a listener to log evictions to debug with as you familiarize yourself with the cache.","body":"weakKeys are identity based (==, same reference), so an auto-boxed long wouldn’t map to the same entry. And weakValues means it will evict if no strong references exist. You can use a listener to log evictions to debug with as you familiarize yourself with the cache."}],"answers":[{"tags":[],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669826201,"creation_date":1669826201,"answer_id":74631204,"question_id":74628497,"body_markdown":"I solve it next way: make field `static final` and remove weakKeya(), weakValues()","title":"How to solve problem with Caffeine storing values","body":"<p>I solve it next way: make field <code>static final</code> and remove weakKeya(), weakValues()</p>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669826201,"creation_date":1669814482,"question_id":74628497,"body_markdown":"I create cache for manual storing values:\r\n\r\n    private Cache&lt;Long, SmsData&gt; codeCache = Caffeine.newBuilder()\r\n    \t\t.expireAfterWrite(24, TimeUnit.HOURS)\r\n    \t\t.weakKeys()\r\n    \t\t.weakValues()\r\n    \t\t.build();\r\n\r\nIn public method after some calcultion I try to store value:\r\n\r\n    SmsData data = SopdSmsData();\r\n    data.setSendCount(++currentSendCount);\r\n    data.setCheckCount(0);\r\n    codeCache.put(id, data);\r\n\r\nAfter that I want to get value, but its null:\r\n\r\n    SmsData data = codeCache.getIfPresent(id);\r\n\r\nWhat I missed?\r\nThanks in advance.","title":"How to solve problem with Caffeine storing values","body":"<p>I create cache for manual storing values:</p>\n<pre><code>private Cache&lt;Long, SmsData&gt; codeCache = Caffeine.newBuilder()\n        .expireAfterWrite(24, TimeUnit.HOURS)\n        .weakKeys()\n        .weakValues()\n        .build();\n</code></pre>\n<p>In public method after some calcultion I try to store value:</p>\n<pre><code>SmsData data = SopdSmsData();\ndata.setSendCount(++currentSendCount);\ndata.setCheckCount(0);\ncodeCache.put(id, data);\n</code></pre>\n<p>After that I want to get value, but its null:</p>\n<pre><code>SmsData data = codeCache.getIfPresent(id);\n</code></pre>\n<p>What I missed?\nThanks in advance.</p>\n"},{"tags":["java","design-patterns","reflection","functional-programming","hashmap"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1669824895,"post_id":74630807,"comment_id":131732380,"body_markdown":"As for the extra tip: Java kind of mixes imperative and functional styles so I&#39;d suggest trying to learn functional programming using a purely functional language, e.g. Clojure (because it&#39;s on the JVM), and functional concepts. Once you have a good grasp of FP then apply your knowledge to what Java supports :)","body":"As for the extra tip: Java kind of mixes imperative and functional styles so I&#39;d suggest trying to learn functional programming using a purely functional language, e.g. Clojure (because it&#39;s on the JVM), and functional concepts. Once you have a good grasp of FP then apply your knowledge to what Java supports :)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1669825225,"post_id":74630807,"comment_id":131732504,"body_markdown":"Why wouldn&#39;t you just create a factory producing WebDriver&#39;s so you would create driver for your first time and you would use the same factory for re-creating driver?","body":"Why wouldn&#39;t you just create a factory producing WebDriver&#39;s so you would create driver for your first time and you would use the same factory for re-creating driver?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1669825375,"post_id":74630807,"comment_id":131732558,"body_markdown":"Why are you trying to call [Function.identity](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--) from the instance (it&#39;s static a method, creating new function)? What exactly are you trying to achieve here?","body":"Why are you trying to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--\" rel=\"nofollow noreferrer\">Function.identity</a> from the instance (it&#39;s static a method, creating new function)? What exactly are you trying to achieve here?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669826172,"creation_date":1669825203,"answer_id":74630979,"question_id":74630807,"body_markdown":"Since `getFunction(Class)` returns a `Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt;` you&#39;d need to call it like `e.getValue().apply(driver.getClass())`. However, `Supplier&lt;RemoteWebDriver&gt;` seems to be more appropriate:\r\n\r\n    @SneakyThrows\r\n    static Supplier&lt;RemoteWebDriver&gt; getSupplier(Class&lt;? extends RemoteWebDriver&gt; driverClass){\r\n      return () -&gt; {\r\n            try {\r\n               return driverClass.getConstructor().newInstance();\r\n            } catch (IllegalAccessException | InstantiationException e) {\r\n               throw new RuntimeException(e);\r\n            }\r\n         };\r\n    }\r\n\r\nThen use it like `....map((e)-&gt;e.getValue().get())`.\r\n\r\nWhat did I change appart from the method name?\r\n- return a `Supplier&lt;RemoveWebDriver&gt;` which has the `get()` method to execute it and return the result\r\n- since suppliers don&#39;t take arguments the lambda changes from `c -&gt; { ... }` to `() -&gt; { ... }`.\r\n- `c` is not available anymore but you&#39;d want to &quot;bind&quot; the argument to `getSupplier()` to the lambda anyway which is possible since it&#39;s &quot;effectively final&quot;. That means instead of `c.getConstructor()` you can use `driverClass.getConstructor()` \r\n\r\nHowever, all that complexity isn&#39;t needed - you can just put the suppliers directly into the map:\r\n\r\n    //the &lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt; is needed to help the compiler infer the generic types\r\n    Map.&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;of(ChromeDriver.class, ChromeDriver::new, \r\n            EdgeDriver.class, EdgeDriver::new,\r\n            FirefoxDriver.class, FirefoxDriver::new,\r\n            OperaDriver.class, OperaDriver::new)\r\n            ...\r\n\r\nIf you don&#39;t like this `&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;` you could help the compiler with a small method that has the type &quot;baked in&quot;:\r\n\r\n    static Supplier&lt;? extends RemoteWebDriver&gt; supply(Supplier&lt;? extends I&gt; s) { return s ; }\r\n\r\n    Map.of(ChromeDriver.class, supply(ChromeDriver::new), \r\n            EdgeDriver.class, supply(EdgeDriver::new),\r\n            FirefoxDriver.class, supply(FirefoxDriver::new),\r\n            OperaDriver.class, supply(OperaDriver::new))\r\n            ...","title":"How to call a function that will create an object of a class if required?","body":"<p>Since <code>getFunction(Class)</code> returns a <code>Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt;</code> you'd need to call it like <code>e.getValue().apply(driver.getClass())</code>. However, <code>Supplier&lt;RemoteWebDriver&gt;</code> seems to be more appropriate:</p>\n<pre><code>@SneakyThrows\nstatic Supplier&lt;RemoteWebDriver&gt; getSupplier(Class&lt;? extends RemoteWebDriver&gt; driverClass){\n  return () -&gt; {\n        try {\n           return driverClass.getConstructor().newInstance();\n        } catch (IllegalAccessException | InstantiationException e) {\n           throw new RuntimeException(e);\n        }\n     };\n}\n</code></pre>\n<p>Then use it like <code>....map((e)-&gt;e.getValue().get())</code>.</p>\n<p>What did I change appart from the method name?</p>\n<ul>\n<li>return a <code>Supplier&lt;RemoveWebDriver&gt;</code> which has the <code>get()</code> method to execute it and return the result</li>\n<li>since suppliers don't take arguments the lambda changes from <code>c -&gt; { ... }</code> to <code>() -&gt; { ... }</code>.</li>\n<li><code>c</code> is not available anymore but you'd want to &quot;bind&quot; the argument to <code>getSupplier()</code> to the lambda anyway which is possible since it's &quot;effectively final&quot;. That means instead of <code>c.getConstructor()</code> you can use <code>driverClass.getConstructor()</code></li>\n</ul>\n<p>However, all that complexity isn't needed - you can just put the suppliers directly into the map:</p>\n<pre><code>//the &lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt; is needed to help the compiler infer the generic types\nMap.&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;of(ChromeDriver.class, ChromeDriver::new, \n        EdgeDriver.class, EdgeDriver::new,\n        FirefoxDriver.class, FirefoxDriver::new,\n        OperaDriver.class, OperaDriver::new)\n        ...\n</code></pre>\n<p>If you don't like this <code>&lt;Class&lt;? extends RemoteWebDriver&gt;, Supplier&lt;? extends RemoteWebDriver&gt;&gt;</code> you could help the compiler with a small method that has the type &quot;baked in&quot;:</p>\n<pre><code>static Supplier&lt;? extends RemoteWebDriver&gt; supply(Supplier&lt;? extends I&gt; s) { return s ; }\n\nMap.of(ChromeDriver.class, supply(ChromeDriver::new), \n        EdgeDriver.class, supply(EdgeDriver::new),\n        FirefoxDriver.class, supply(FirefoxDriver::new),\n        OperaDriver.class, supply(OperaDriver::new))\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669825698,"creation_date":1669825368,"answer_id":74631012,"question_id":74630807,"body_markdown":"You can access stored as a *Value* using method reference `Map.Entry::getValue` but it wouldn&#39;t be applicable.\r\n\r\nBecause in the `map()` you need a provide a *Function* that can dial with a `Map.Entry`, but your Function expects `Class` instance as an argument as an argument (i.e. the expected argument doesn&#39;t match).\r\n\r\nSo the correct function can be written as the following lambda expression:\r\n\r\n```\r\ne -&gt; e.getValue().apply(e.getKey())\r\n```\r\n\r\n*Example:*\r\n\r\n```\r\nRemoteWebDriver target = // initializing the target driver\r\n    \r\nRemoteWebDriver driver = Map.of(\r\n        ChromeDriver.class, getFunction(ChromeDriver.class),\r\n        EdgeDriver.class, getFunction(EdgeDriver.class),\r\n        FirefoxDriver.class, getFunction(FirefoxDriver.class),\r\n        OperaDriver.class, getFunction(OperaDriver.class)\r\n    )\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getKey().isInstance(target))\r\n    .map(e -&gt; e.getValue().apply(e.getKey()))\r\n    .findFirst()\r\n    .orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\r\n```","title":"How to call a function that will create an object of a class if required?","body":"<p>You can access stored as a <em>Value</em> using method reference <code>Map.Entry::getValue</code> but it wouldn't be applicable.</p>\n<p>Because in the <code>map()</code> you need a provide a <em>Function</em> that can dial with a <code>Map.Entry</code>, but your Function expects <code>Class</code> instance as an argument as an argument (i.e. the expected argument doesn't match).</p>\n<p>So the correct function can be written as the following lambda expression:</p>\n<pre><code>e -&gt; e.getValue().apply(e.getKey())\n</code></pre>\n<p><em>Example:</em></p>\n<pre><code>RemoteWebDriver target = // initializing the target driver\n    \nRemoteWebDriver driver = Map.of(\n        ChromeDriver.class, getFunction(ChromeDriver.class),\n        EdgeDriver.class, getFunction(EdgeDriver.class),\n        FirefoxDriver.class, getFunction(FirefoxDriver.class),\n        OperaDriver.class, getFunction(OperaDriver.class)\n    )\n    .entrySet().stream()\n    .filter(e -&gt; e.getKey().isInstance(target))\n    .map(e -&gt; e.getValue().apply(e.getKey()))\n    .findFirst()\n    .orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\n</code></pre>\n"}],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74630979,"answer_count":2,"score":0,"last_activity_date":1669826172,"creation_date":1669824400,"question_id":74630807,"body_markdown":"Context:\r\n\r\n*I&#39;ve found a bug in a selenium framework I&#39;m working on, in which the Web Browser (at least Chrome) crashes unexpectedly with no notification.  \r\nAs a patch, I&#39;m reinitializing the WebDriver so it keeps working, but right now I&#39;m creating a new EdgeDriver and I want to create a new WebDriver of the **same type** it was before (the one that crashed).*\r\n\r\nI came up with this approach:\r\n\r\n```\r\ndriver = Map.of(\r\n            ChromeDriver.class, getFunction(ChromeDriver.class),\r\n            EdgeDriver.class, getFunction(EdgeDriver.class),\r\n            FirefoxDriver.class, getFunction(FirefoxDriver.class),\r\n            OperaDriver.class, getFunction(OperaDriver.class)\r\n      ).entrySet().stream().filter((e) -&gt; e.getKey().isInstance(driver))\r\n      .map((e)-&gt;e.getValue().identity()).findFirst().orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\r\n```\r\n\r\n...\r\n\r\n```\r\n@SneakyThrows\r\nstatic Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt; getFunction(Class&lt;? extends RemoteWebDriver&gt; driverClass){\r\n   return c -&gt; {\r\n            try {\r\n               return c.getConstructor().newInstance();\r\n            } catch (IllegalAccessException | InstantiationException e) {\r\n               throw new RuntimeException(e);\r\n            }\r\n         };\r\n}\r\n```\r\n\r\nThe problem is that I can&#39;t use this type of call\r\n\r\n```\r\ne.getValue().identity()\r\n```\r\n\r\nDo you know how can I achieve this?\r\n\r\nI&#39;m using the **Map** approach so I don&#39;t have to specify a bunch of `if`&#39;s with all the code inside.  \r\nAnd I&#39;m using a separate method returning a **Function** so I don&#39;t have to spend resources in creating the instances before (and if they) are required.\r\n\r\nI have faced this problem before and I&#39;m pretty sure I&#39;m going to keep facing it, I have almost no idea what I&#39;m writing in the functional programming section because I&#39;m very new to it. I hope I&#39;m on the right track but honestly, I doubt it.\r\n\r\n*As an extra tip if you can provide a way to become an expert in functional programming in Java will be great because I&#39;ve been looking for a course or any resources deep enough and I have not been able to find anything so far. Not only will solve this problem but it will help me to solve any future problems like this.*","title":"How to call a function that will create an object of a class if required?","body":"<p>Context:</p>\n<p><em>I've found a bug in a selenium framework I'm working on, in which the Web Browser (at least Chrome) crashes unexpectedly with no notification.<br />\nAs a patch, I'm reinitializing the WebDriver so it keeps working, but right now I'm creating a new EdgeDriver and I want to create a new WebDriver of the <strong>same type</strong> it was before (the one that crashed).</em></p>\n<p>I came up with this approach:</p>\n<pre><code>driver = Map.of(\n            ChromeDriver.class, getFunction(ChromeDriver.class),\n            EdgeDriver.class, getFunction(EdgeDriver.class),\n            FirefoxDriver.class, getFunction(FirefoxDriver.class),\n            OperaDriver.class, getFunction(OperaDriver.class)\n      ).entrySet().stream().filter((e) -&gt; e.getKey().isInstance(driver))\n      .map((e)-&gt;e.getValue().identity()).findFirst().orElseThrow(() -&gt; new RuntimeException(&quot;WebDriver not detected&quot;));\n</code></pre>\n<p>...</p>\n<pre><code>@SneakyThrows\nstatic Function&lt;Class&lt;? extends RemoteWebDriver&gt;, RemoteWebDriver&gt; getFunction(Class&lt;? extends RemoteWebDriver&gt; driverClass){\n   return c -&gt; {\n            try {\n               return c.getConstructor().newInstance();\n            } catch (IllegalAccessException | InstantiationException e) {\n               throw new RuntimeException(e);\n            }\n         };\n}\n</code></pre>\n<p>The problem is that I can't use this type of call</p>\n<pre><code>e.getValue().identity()\n</code></pre>\n<p>Do you know how can I achieve this?</p>\n<p>I'm using the <strong>Map</strong> approach so I don't have to specify a bunch of <code>if</code>'s with all the code inside.<br />\nAnd I'm using a separate method returning a <strong>Function</strong> so I don't have to spend resources in creating the instances before (and if they) are required.</p>\n<p>I have faced this problem before and I'm pretty sure I'm going to keep facing it, I have almost no idea what I'm writing in the functional programming section because I'm very new to it. I hope I'm on the right track but honestly, I doubt it.</p>\n<p><em>As an extra tip if you can provide a way to become an expert in functional programming in Java will be great because I've been looking for a course or any resources deep enough and I have not been able to find anything so far. Not only will solve this problem but it will help me to solve any future problems like this.</em></p>\n"},{"tags":["java","multithreading","performance","mutex","semaphore"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669825013,"post_id":74630536,"comment_id":131732423,"body_markdown":"Point of style: Your class has members named `sem1` and `sem2`. Your `main()` method, _in_ that same class has local variables with the same names, but different types. That&#39;s confusing. You might think that it&#39;s _only_ a point of style, but bad style makes your code harder for other people to read. It makes them less likely to want to collaborate with you or, in this case, to help you debug your code. I have taken the liberty to re-name your class and the local variables in its `main()` function.","body":"Point of style: Your class has members named <code>sem1</code> and <code>sem2</code>. Your <code>main()</code> method, <i>in</i> that same class has local variables with the same names, but different types. That&#39;s confusing. You might think that it&#39;s <i>only</i> a point of style, but bad style makes your code harder for other people to read. It makes them less likely to want to collaborate with you or, in this case, to help you debug your code. I have taken the liberty to re-name your class and the local variables in its <code>main()</code> function."}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669825106,"creation_date":1669825106,"answer_id":74630959,"question_id":74630536,"body_markdown":"I am not sure this is the right way to fix things, but I moved some code around and removed confusion around the `sem1` and `sem2` variable names.\r\n\r\n```\r\npackage semaphore;\r\n\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class MySemaphore {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        Semaphore sem1 = new Semaphore(1);\r\n        Semaphore sem2 = new Semaphore(0);\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    numb1();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n            private void numb1()\r\n            {\r\n                while (true) {\r\n                    try {\r\n                        sem1.acquire();\r\n                        System.out.println(&quot; 1&quot;);\r\n                        sem2.release();\r\n\r\n                        Thread.sleep(1000);\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            }\r\n        }.start();\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    numb2();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n            private void numb2()\r\n            {\r\n                while (true) {\r\n                    try {\r\n                        sem2.acquire();\r\n                        System.out.println(&quot; 2&quot;);\r\n                        sem1.release();\r\n                        Thread.sleep(1000);\r\n                    }\r\n\r\n                    catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n}\r\n```\r\n\r\nThe correct output seems to be given:\r\n```\r\n 1\r\n 2\r\n 1\r\n 2\r\n 1\r\n 2\r\n 1\r\n 2\r\n...\r\n```","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>I am not sure this is the right way to fix things, but I moved some code around and removed confusion around the <code>sem1</code> and <code>sem2</code> variable names.</p>\n<pre><code>package semaphore;\n\nimport java.util.concurrent.Semaphore;\n\npublic class MySemaphore {\n\n    public static void main(String args[]) {\n\n        Semaphore sem1 = new Semaphore(1);\n        Semaphore sem2 = new Semaphore(0);\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    numb1();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            private void numb1()\n            {\n                while (true) {\n                    try {\n                        sem1.acquire();\n                        System.out.println(&quot; 1&quot;);\n                        sem2.release();\n\n                        Thread.sleep(1000);\n                    }\n                    catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        }.start();\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    numb2();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            private void numb2()\n            {\n                while (true) {\n                    try {\n                        sem2.acquire();\n                        System.out.println(&quot; 2&quot;);\n                        sem1.release();\n                        Thread.sleep(1000);\n                    }\n\n                    catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }.start();\n    }\n}\n</code></pre>\n<p>The correct output seems to be given:</p>\n<pre><code> 1\n 2\n 1\n 2\n 1\n 2\n 1\n 2\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669825468,"creation_date":1669825468,"answer_id":74631033,"question_id":74630536,"body_markdown":"The problem is, your program creates two instances of the `SemTest` (as I renamed it) class. Each instance has its own distinct `sem1` and `sem2` fields. Each of your two threads operates on a different instance of the class with its own semaphores, so they do not interact with each other at all.\r\n\r\n@hooknc showed you one way to fix it. In that answer, the `sem1` and `sem2` semaphores are moved into the `main()` method, and they are [_captured_](https://en.wikipedia.org/wiki/Closure_(computer_programming)) by your two anonymous `Runnable` objects. Since both Runnables captured the same two Semaphores, the two threads are now able to interact with each other.","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>The problem is, your program creates two instances of the <code>SemTest</code> (as I renamed it) class. Each instance has its own distinct <code>sem1</code> and <code>sem2</code> fields. Each of your two threads operates on a different instance of the class with its own semaphores, so they do not interact with each other at all.</p>\n<p>@hooknc showed you one way to fix it. In that answer, the <code>sem1</code> and <code>sem2</code> semaphores are moved into the <code>main()</code> method, and they are <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\"><em>captured</em></a> by your two anonymous <code>Runnable</code> objects. Since both Runnables captured the same two Semaphores, the two threads are now able to interact with each other.</p>\n"}],"owner":{"account_id":26838015,"reputation":23,"user_id":20424991,"display_name":"T_MAC_1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669825468,"creation_date":1669823334,"question_id":74630536,"body_markdown":"I have to use Semaphore to work on two different processes at the same time. \r\nBut they work in a specific sequence and have to exclude each other. \r\n\r\nProcess 1 &quot;p1&quot; has to print out first number &quot;1&quot; and after p1 is ready, p2 is allowed to work and print out the number 2. After p2 has finished, p1 should be allowed to work again on p1 and after p2 and so on..\r\nThe output shoult be 12121212....121212.\r\nMy solution has somewhere an error and I am not able to see where it is.\r\nUnfortunately I need to solve this problem with a Semaphore. I think the problem could also be solved with mutex.\r\n\r\nHow would the solution look like for:\r\nSemaphore?\r\nMutex?\r\n\r\n\r\n\r\nI initialized two Semaphores sem1 and sem2. Sem1 has a permit of 1 and sem2 starts with a permit of 0.\r\n\r\nBoth threads start simultaneously but since sem2 doesn&#39;t have a permit, sem1 enters the critical area with the acquire(); method. There it prints out &quot;1&quot; and after it&#39;s done, it will release a permit for sem2. \r\n\r\nsem2 is now allowed to enter its process with acquire(); and prints out &quot;2&quot;, when it is finished it releases a permit for sem1. \r\n\r\nThe algorithm should continue this way, but somewhere is a lock and the program stops after printing 1\r\n\r\n\r\n```\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class SemTest {\r\n    Semaphore sem1 = new Semaphore(1);\r\n    Semaphore sem2 = new Semaphore(0);\r\n\r\n    public static void main(String args[])\r\n    {\r\n\r\n        final SemTest semTest1 = new SemTest();\r\n        final SemTest semTest2 = new SemTest();\r\n\r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    semTest1.numb1();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }.start();\r\n        \r\n        new Thread()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                try {\r\n                    semTest2.numb2();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void numb1()\r\n    {\r\n        while (true) {\r\n            try {\r\n                sem1.acquire();\r\n                System.out.println(&quot; 1&quot;);\r\n                sem2.release();\r\n\r\n                Thread.sleep(1000);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n    private void numb2()\r\n    {\r\n        while (true) {\r\n            try {\r\n                sem2.acquire();\r\n                System.out.println(&quot; 2&quot;);\r\n                sem1.release();\r\n                Thread.sleep(1000);\r\n            }\r\n\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java 2 Threads exclusion concurrently work on different methods","body":"<p>I have to use Semaphore to work on two different processes at the same time.\nBut they work in a specific sequence and have to exclude each other.</p>\n<p>Process 1 &quot;p1&quot; has to print out first number &quot;1&quot; and after p1 is ready, p2 is allowed to work and print out the number 2. After p2 has finished, p1 should be allowed to work again on p1 and after p2 and so on..\nThe output shoult be 12121212....121212.\nMy solution has somewhere an error and I am not able to see where it is.\nUnfortunately I need to solve this problem with a Semaphore. I think the problem could also be solved with mutex.</p>\n<p>How would the solution look like for:\nSemaphore?\nMutex?</p>\n<p>I initialized two Semaphores sem1 and sem2. Sem1 has a permit of 1 and sem2 starts with a permit of 0.</p>\n<p>Both threads start simultaneously but since sem2 doesn't have a permit, sem1 enters the critical area with the acquire(); method. There it prints out &quot;1&quot; and after it's done, it will release a permit for sem2.</p>\n<p>sem2 is now allowed to enter its process with acquire(); and prints out &quot;2&quot;, when it is finished it releases a permit for sem1.</p>\n<p>The algorithm should continue this way, but somewhere is a lock and the program stops after printing 1</p>\n<pre><code>import java.util.concurrent.Semaphore;\n\npublic class SemTest {\n    Semaphore sem1 = new Semaphore(1);\n    Semaphore sem2 = new Semaphore(0);\n\n    public static void main(String args[])\n    {\n\n        final SemTest semTest1 = new SemTest();\n        final SemTest semTest2 = new SemTest();\n\n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    semTest1.numb1();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }.start();\n        \n        new Thread()\n        {\n            @Override\n            public void run()\n            {\n                try {\n                    semTest2.numb2();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }.start();\n    }\n\n    private void numb1()\n    {\n        while (true) {\n            try {\n                sem1.acquire();\n                System.out.println(&quot; 1&quot;);\n                sem2.release();\n\n                Thread.sleep(1000);\n            }\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n    private void numb2()\n    {\n        while (true) {\n            try {\n                sem2.acquire();\n                System.out.println(&quot; 2&quot;);\n                sem1.release();\n                Thread.sleep(1000);\n            }\n\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1669825446,"creation_date":1669825446,"answer_id":74631031,"question_id":74628063,"body_markdown":"I figured it out. You need to use an exchange filter. I implemented a similiar solution for a different problem: https://stackoverflow.com/questions/50752021/adding-a-retry-all-requests-of-webclient\r\n\r\n     @Bean\r\n      TodoClient todoClient() {\r\n        WebClient webClient =\r\n            WebClient.builder()\r\n                .baseUrl(&quot;sampleUrl&quot;)\r\n                .filter(retryFilter())\r\n                .build();\r\n        HttpServiceProxyFactory factory =\r\n            HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\r\n        return factory.createClient(TodoClient.class);\r\n      }\r\n    \r\n      \r\n    private ExchangeFilterFunction retryFilter() {\r\n         return (request, next) -&gt;\r\n             next.exchange(request)\r\n                 .retryWhen(\r\n                             Retry.fixedDelay(3, Duration.ofSeconds(30))\r\n                 .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\r\n          };\r\n      }","title":"How to retry in the new HTTP interface in Spring 6 and Spring Boot 3","body":"<p>I figured it out. You need to use an exchange filter. I implemented a similiar solution for a different problem: <a href=\"https://stackoverflow.com/questions/50752021/adding-a-retry-all-requests-of-webclient\">Adding a retry all requests of WebClient</a></p>\n<pre><code> @Bean\n  TodoClient todoClient() {\n    WebClient webClient =\n        WebClient.builder()\n            .baseUrl(&quot;sampleUrl&quot;)\n            .filter(retryFilter())\n            .build();\n    HttpServiceProxyFactory factory =\n        HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\n    return factory.createClient(TodoClient.class);\n  }\n\n  \nprivate ExchangeFilterFunction retryFilter() {\n     return (request, next) -&gt;\n         next.exchange(request)\n             .retryWhen(\n                         Retry.fixedDelay(3, Duration.ofSeconds(30))\n             .doAfterRetry(retrySignal -&gt; log.warn(&quot;Retrying&quot;));\n      };\n  }\n</code></pre>\n"}],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74631031,"answer_count":1,"score":1,"last_activity_date":1669825446,"creation_date":1669812566,"question_id":74628063,"body_markdown":"Spring has introduced the new HTTP interface. For exception handling [the documentation][1] states to register a response status handler that applies to all responses performed through the client:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .defaultStatusHandler(HttpStatusCode::isError, resp -&gt; ...)\r\n        .build();\r\n\r\nHowever, it&#39;s not clear how to handle retries. \r\n\r\nIn WebClient you could simple use retryWhen():\r\n\r\n    public Mono&lt;String&gt; getData(String stockId) {\r\n    return webClient.get()\r\n      .uri(PATH_BY_ID, stockId)\r\n      .retrieve()\r\n      .bodyToMono(String.class)\r\n      .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\r\n    }\r\n\r\nI&#39;m not sure how to incorporate retries with the Http interfaces.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.0-SNAPSHOT/reference/html/integration.html#rest-http-interface-exceptions","title":"How to retry in the new HTTP interface in Spring 6 and Spring Boot 3","body":"<p>Spring has introduced the new HTTP interface. For exception handling <a href=\"https://docs.spring.io/spring-framework/docs/6.0.0-SNAPSHOT/reference/html/integration.html#rest-http-interface-exceptions\" rel=\"nofollow noreferrer\">the documentation</a> states to register a response status handler that applies to all responses performed through the client:</p>\n<pre><code>WebClient webClient = WebClient.builder()\n    .defaultStatusHandler(HttpStatusCode::isError, resp -&gt; ...)\n    .build();\n</code></pre>\n<p>However, it's not clear how to handle retries.</p>\n<p>In WebClient you could simple use retryWhen():</p>\n<pre><code>public Mono&lt;String&gt; getData(String stockId) {\nreturn webClient.get()\n  .uri(PATH_BY_ID, stockId)\n  .retrieve()\n  .bodyToMono(String.class)\n  .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\n}\n</code></pre>\n<p>I'm not sure how to incorporate retries with the Http interfaces.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669659609,"creation_date":1669658969,"answer_id":74604800,"question_id":74604742,"body_markdown":"This is just a variant of the [0/1 knapsack problem][1].\r\n\r\n- The cost of each item is the &quot;weight&quot;\r\n- The budget becomes the &quot;total weight&quot;\r\n- The number of items you can collect becomes the &quot;value&quot; for that item\r\n\r\n**Edit**\r\n\r\nIf the total weight is large and the traditional dynamic programming approach can&#39;t be used, you can redefine the states to get a solution, as demonstrated [here][2].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/\r\n  [2]: https://www.geeksforgeeks.org/knapsack-with-large-weights/","title":"Maximize the result for given array of values","body":"<p>This is just a variant of the <a href=\"https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/\" rel=\"nofollow noreferrer\">0/1 knapsack problem</a>.</p>\n<ul>\n<li>The cost of each item is the &quot;weight&quot;</li>\n<li>The budget becomes the &quot;total weight&quot;</li>\n<li>The number of items you can collect becomes the &quot;value&quot; for that item</li>\n</ul>\n<p><strong>Edit</strong></p>\n<p>If the total weight is large and the traditional dynamic programming approach can't be used, you can redefine the states to get a solution, as demonstrated <a href=\"https://www.geeksforgeeks.org/knapsack-with-large-weights/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74604800,"answer_count":1,"score":2,"last_activity_date":1669825187,"creation_date":1669658663,"question_id":74604742,"body_markdown":"I have an array of values example:\r\n\r\n`[[x,y], [x1,y1]]` each element holds two values, the `amount` we need to pay at 0th index and `items` we can collect at 1st index. Also, I have a `budget` of z. \r\n\r\nI want to find the maximum number of items I can collect using this budget.\r\n\r\nHere is my program:\r\n\r\n    public static long solve(List&lt;List&lt;Long&gt;&gt; arr, long z) {\r\n    \tarr.sort((a, b) -&gt; {\r\n    \t\tint z1 = Long.compare(a.get(0) , b.get(0));\r\n    \t\tif(z1 == 0) {\r\n    \t\t\tz1 = Long.compare(b.get(1) , a.get(1));\r\n    \t\t}\r\n    \t\treturn z1;\r\n    \t});\r\n    \t\r\n    \tlong total = 0;\r\n    \tlong result = 0;\r\n    \tfor(List&lt;Long&gt; list : arr) {\r\n    \t\tif(total + list.get(0) &lt;= z) {\r\n    \t\t\ttotal += list.get(0);\r\n    \t\t\tresult += list.get(1);\r\n    \t\t} else {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhat is the correct approach for this problem?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maximize the result for given array of values","body":"<p>I have an array of values example:</p>\n<p><code>[[x,y], [x1,y1]]</code> each element holds two values, the <code>amount</code> we need to pay at 0th index and <code>items</code> we can collect at 1st index. Also, I have a <code>budget</code> of z.</p>\n<p>I want to find the maximum number of items I can collect using this budget.</p>\n<p>Here is my program:</p>\n<pre><code>public static long solve(List&lt;List&lt;Long&gt;&gt; arr, long z) {\n    arr.sort((a, b) -&gt; {\n        int z1 = Long.compare(a.get(0) , b.get(0));\n        if(z1 == 0) {\n            z1 = Long.compare(b.get(1) , a.get(1));\n        }\n        return z1;\n    });\n    \n    long total = 0;\n    long result = 0;\n    for(List&lt;Long&gt; list : arr) {\n        if(total + list.get(0) &lt;= z) {\n            total += list.get(0);\n            result += list.get(1);\n        } else {\n            break;\n        }\n    }\n}\n</code></pre>\n<p>What is the correct approach for this problem?</p>\n"},{"tags":["java","hibernate","jdbc","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1651135338,"post_id":72039776,"comment_id":127292719,"body_markdown":"Please show a code where you create entities , set fields and save it","body":"Please show a code where you create entities , set fields and save it"}],"answers":[{"tags":[],"owner":{"account_id":21713771,"reputation":1,"user_id":16246744,"display_name":"Eric BASCLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669824747,"creation_date":1669823857,"answer_id":74630673,"question_id":72039776,"body_markdown":"I encountered the same problem, in my case I have an application with:\r\n\r\n     public class Claim extends BaseEntity&lt;Integer&gt; implements Serializable {\r\n          \r\n          @OneToOne(cascade = CascadeType.ALL)\r\n          @JoinColumn(name = &quot;claimdetailsid&quot;, referencedColumnName = &quot;id&quot;)\r\n          private ClaimDetails claimDetails;\r\n        \r\n          @OneToOne(cascade = CascadeType.PERSIST)\r\n          @JoinColumn(name = &quot;beneficiaryid&quot;, referencedColumnName = &quot;id&quot;)\r\n          private Beneficiary beneficiary;\r\n    \r\n          ....\r\n    }\r\n\r\n\r\nWhen I saved the Claim entity, the Claim and ClaimDetails objects were inserted correctly. The other entities had all the fields null, except the id and the creation date.\r\n\r\nI tried changing CascadeType.PERSIST to CascadeType.ALL, that solved my insert problem.\r\n\r\nBut the delete cascade doesn&#39;t work now.\r\n\r\n\r\n\r\n","title":"Hibernate inserts null even when field is not null in the object being saved","body":"<p>I encountered the same problem, in my case I have an application with:</p>\n<pre><code> public class Claim extends BaseEntity&lt;Integer&gt; implements Serializable {\n      \n      @OneToOne(cascade = CascadeType.ALL)\n      @JoinColumn(name = &quot;claimdetailsid&quot;, referencedColumnName = &quot;id&quot;)\n      private ClaimDetails claimDetails;\n    \n      @OneToOne(cascade = CascadeType.PERSIST)\n      @JoinColumn(name = &quot;beneficiaryid&quot;, referencedColumnName = &quot;id&quot;)\n      private Beneficiary beneficiary;\n\n      ....\n}\n</code></pre>\n<p>When I saved the Claim entity, the Claim and ClaimDetails objects were inserted correctly. The other entities had all the fields null, except the id and the creation date.</p>\n<p>I tried changing CascadeType.PERSIST to CascadeType.ALL, that solved my insert problem.</p>\n<p>But the delete cascade doesn't work now.</p>\n"}],"owner":{"account_id":8565296,"reputation":109,"user_id":6417952,"display_name":"rupesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669824747,"creation_date":1651131590,"question_id":72039776,"body_markdown":"I am facing a weird issue where even though all fields are set in the java object, when I save the object hibernate tries to insert null values in the fields.\r\n\r\nWhen I further debugged, I saw that while merging the new entity at [this][1] line hibernate generates an empty object and sets to the target instead of setting given entity to the target. This results in insert query with null values.\r\n\r\nAm I missing some configuration here? Below are the example entities having associations similar to my case.\r\n\r\n```\r\nclass Vehicle {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    @EqualsAndHashCode.Include\r\n    private VehicleType vehicleType;\r\n\r\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\r\n    private Car car;\r\n\r\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\r\n    private Truck truck;\r\n}\r\n\r\nclass Car {\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;vehicle_id&quot;)\r\n    private Vehicle vehicle;\r\n\r\n    ...\r\n}\r\n\r\nclass Truck {\r\n\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;vehicle_id&quot;)\r\n    private Vehicle vehicle;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/type/EntityType.java#L294","title":"Hibernate inserts null even when field is not null in the object being saved","body":"<p>I am facing a weird issue where even though all fields are set in the java object, when I save the object hibernate tries to insert null values in the fields.</p>\n<p>When I further debugged, I saw that while merging the new entity at <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/type/EntityType.java#L294\" rel=\"nofollow noreferrer\">this</a> line hibernate generates an empty object and sets to the target instead of setting given entity to the target. This results in insert query with null values.</p>\n<p>Am I missing some configuration here? Below are the example entities having associations similar to my case.</p>\n<pre><code>class Vehicle {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    @EqualsAndHashCode.Include\n    private VehicleType vehicleType;\n\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\n    private Car car;\n\n    @OneToOne(mappedBy=&quot;vehicle&quot;, fetch=FetchType.LAZY)\n    private Truck truck;\n}\n\nclass Car {\n    @Id\n    private Integer id;\n    \n    @OneToOne(fetch = FetchType.LAZY, optional = false)\n    @MapsId\n    @JoinColumn(name = &quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n\n    ...\n}\n\nclass Truck {\n\n    @Id\n    private Integer id;\n    \n    @OneToOne(fetch = FetchType.LAZY, optional = false)\n    @MapsId\n    @JoinColumn(name = &quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","database","hibernate","postgresql","blob"],"comments":[{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1285004363,"post_id":3677380,"comment_id":3969538,"body_markdown":"This seems to have been fixed in 3.6, not sure about 3.5.6; the MaterializedBlobType class was totally re-written from 3.5.5 &gt; 3.6.  The OID type now works since they changed implementation.","body":"This seems to have been fixed in 3.6, not sure about 3.5.6; the MaterializedBlobType class was totally re-written from 3.5.5 &gt; 3.6.  The OID type now works since they changed implementation."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1285006474,"post_id":3677380,"comment_id":3969867,"body_markdown":"Nice! I wonder what Jira issue is tracking this rewrite, if any (maybe the rewrite is a consequence of a deeper change). It would be nice to backport the changes in 3.5, if possible. Bad news if it&#39;s not possible.","body":"Nice! I wonder what Jira issue is tracking this rewrite, if any (maybe the rewrite is a consequence of a deeper change). It would be nice to backport the changes in 3.5, if possible. Bad news if it&#39;s not possible."},{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1285016982,"post_id":3677380,"comment_id":3971567,"body_markdown":"Actually my test gave me a false positive the first time around (knew I should have waited!) -- its still not fixed, the bug has just moved to BlobTypeDescriptor.","body":"Actually my test gave me a false positive the first time around (knew I should have waited!) -- its still not fixed, the bug has just moved to BlobTypeDescriptor."},{"owner":{"account_id":4746687,"reputation":164,"user_id":4194335,"display_name":"jmoran"},"score":0,"creation_date":1544336666,"post_id":3677380,"comment_id":94236038,"body_markdown":"Thanks. @Type(type=&quot;org.hibernate.type.BinaryType&quot;) worked for me for a table that storage PDF files. I migrated a database from Oracle to Postgres using Oracle-To-PostgreSQL from Intelligent Converters, and it automatically converted and inserted from BLOB to BYTEA but BlobType didn&#39;t worked for me.","body":"Thanks. @Type(type=&quot;org.hibernate.type.BinaryType&quot;) worked for me for a table that storage PDF files. I migrated a database from Oracle to Postgres using Oracle-To-PostgreSQL from Intelligent Converters, and it automatically converted and inserted from BLOB to BYTEA but BlobType didn&#39;t worked for me."},{"owner":{"account_id":1005774,"reputation":351,"user_id":1019602,"display_name":"Gwaptiva"},"score":0,"creation_date":1683210038,"post_id":3677380,"comment_id":134334450,"body_markdown":"No fun for us that need a generic mapping to use for multiple RDBMSs... I cannot have one type mapped for SQLServer and one for PostgrSQL","body":"No fun for us that need a generic mapping to use for multiple RDBMSs... I cannot have one type mapped for SQLServer and one for PostgrSQL"}],"answers":[{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1285095561,"creation_date":1284740737,"answer_id":3737149,"question_id":3677380,"body_markdown":"I have finally got this working.  It expands on the solution from A. Garcia, however, since the problem lies in the hibernate type MaterializedBlob type just mapping Blob &gt; bytea is not sufficient, we need a replacement for MaterializedBlobType which works with hibernates broken blob support.  This implementation only works with bytea, but maybe the guy from the JIRA issue who wanted OID could contribute an OID implementation.\r\n\r\nSadly replacing these types at runtime is a pain, since they should be part of the Dialect.\r\nIf only [this JIRA enhanement][1] gets into 3.6 it would be possible.\r\n\r\n    public class PostgresqlMateralizedBlobType extends AbstractSingleColumnStandardBasicType&lt;byte[]&gt; {\r\n     public static final PostgresqlMateralizedBlobType INSTANCE = new PostgresqlMateralizedBlobType();\r\n    \t\r\n     public PostgresqlMateralizedBlobType() {\r\n      super( PostgresqlBlobTypeDescriptor.INSTANCE, PrimitiveByteArrayTypeDescriptor.INSTANCE );\r\n     }\r\n    \t\r\n      public String getName() {\r\n       return &quot;materialized_blob&quot;;\r\n      }\r\n    }\r\n\r\nMuch of this could probably be static (does getBinder() really need a new instance?), but I don&#39;t really understand the hibernate internal so this is mostly copy + paste + modify.\r\n\r\n    public class PostgresqlBlobTypeDescriptor extends BlobTypeDescriptor implements SqlTypeDescriptor {\r\n      public static final BlobTypeDescriptor INSTANCE = new PostgresqlBlobTypeDescriptor();\r\n      \t\r\n      public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n       return new PostgresqlBlobBinder&lt;X&gt;(javaTypeDescriptor, this);\r\n      }\r\n      public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n       return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\r\n        protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException { \r\n          return (X)rs.getBytes(name);\r\n        }\r\n       };\r\n      }\r\n    }\r\n\r\n    public class PostgresqlBlobBinder&lt;J&gt; implements ValueBinder&lt;J&gt; {\r\n     private final JavaTypeDescriptor&lt;J&gt; javaDescriptor;\r\n     private final SqlTypeDescriptor sqlDescriptor;\r\n    \r\n     public PostgresqlBlobBinder(JavaTypeDescriptor&lt;J&gt; javaDescriptor, SqlTypeDescriptor sqlDescriptor) { \r\n      this.javaDescriptor = javaDescriptor; this.sqlDescriptor = sqlDescriptor;\r\n     }\t\r\n     ...\r\n     public final void bind(PreparedStatement st, J value, int index, WrapperOptions options) \r\n     throws SQLException {\r\n      st.setBytes(index, (byte[])value);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-5584","title":"proper hibernate annotation for byte[]","body":"<p>I have finally got this working.  It expands on the solution from A. Garcia, however, since the problem lies in the hibernate type MaterializedBlob type just mapping Blob > bytea is not sufficient, we need a replacement for MaterializedBlobType which works with hibernates broken blob support.  This implementation only works with bytea, but maybe the guy from the JIRA issue who wanted OID could contribute an OID implementation.</p>\n\n<p>Sadly replacing these types at runtime is a pain, since they should be part of the Dialect.\nIf only <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-5584\" rel=\"noreferrer\">this JIRA enhanement</a> gets into 3.6 it would be possible.</p>\n\n<pre><code>public class PostgresqlMateralizedBlobType extends AbstractSingleColumnStandardBasicType&lt;byte[]&gt; {\n public static final PostgresqlMateralizedBlobType INSTANCE = new PostgresqlMateralizedBlobType();\n\n public PostgresqlMateralizedBlobType() {\n  super( PostgresqlBlobTypeDescriptor.INSTANCE, PrimitiveByteArrayTypeDescriptor.INSTANCE );\n }\n\n  public String getName() {\n   return \"materialized_blob\";\n  }\n}\n</code></pre>\n\n<p>Much of this could probably be static (does getBinder() really need a new instance?), but I don't really understand the hibernate internal so this is mostly copy + paste + modify.</p>\n\n<pre><code>public class PostgresqlBlobTypeDescriptor extends BlobTypeDescriptor implements SqlTypeDescriptor {\n  public static final BlobTypeDescriptor INSTANCE = new PostgresqlBlobTypeDescriptor();\n\n  public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n   return new PostgresqlBlobBinder&lt;X&gt;(javaTypeDescriptor, this);\n  }\n  public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n   return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\n    protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException { \n      return (X)rs.getBytes(name);\n    }\n   };\n  }\n}\n\npublic class PostgresqlBlobBinder&lt;J&gt; implements ValueBinder&lt;J&gt; {\n private final JavaTypeDescriptor&lt;J&gt; javaDescriptor;\n private final SqlTypeDescriptor sqlDescriptor;\n\n public PostgresqlBlobBinder(JavaTypeDescriptor&lt;J&gt; javaDescriptor, SqlTypeDescriptor sqlDescriptor) { \n  this.javaDescriptor = javaDescriptor; this.sqlDescriptor = sqlDescriptor;\n }  \n ...\n public final void bind(PreparedStatement st, J value, int index, WrapperOptions options) \n throws SQLException {\n  st.setBytes(index, (byte[])value);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1438887173,"creation_date":1284746511,"answer_id":3737774,"question_id":3677380,"body_markdown":"Here goes what O&#39;reilly Enterprise JavaBeans, 3.0 says\r\n\r\n&gt; JDBC has special types for these very large objects. **The java.sql.Blob type represents binary data**, and java.sql.Clob represents character data.\r\n\r\nHere goes PostgreSQLDialect source code\r\n\r\n    public PostgreSQLDialect() {\r\n        super();\r\n        ...\r\n        registerColumnType(Types.VARBINARY, &quot;bytea&quot;);\r\n        /**\r\n          * Notice it maps java.sql.Types.BLOB as oid\r\n          */\r\n        registerColumnType(Types.BLOB, &quot;oid&quot;);\r\n    }\r\n\r\nSo what you can do\r\n\r\nOverride PostgreSQLDialect as follows\r\n\r\n    public class CustomPostgreSQLDialect extends PostgreSQLDialect {\r\n        \r\n        public CustomPostgreSQLDialect() {\r\n            super();\r\n            \r\n            registerColumnType(Types.BLOB, &quot;bytea&quot;);\r\n        }\r\n    }\r\n\r\nNow just define your custom dialect\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;br.com.ar.dialect.CustomPostgreSQLDialect&quot;/&gt;\r\n\r\nAnd use your portable JPA @Lob annotation\r\n\r\n    @Lob\r\n    public byte[] getValueBuffer() {\r\n\r\n**UPDATE**\r\n\r\nHere has been extracted [here][1]\r\n\r\n&gt; I have an application running in *hibernate 3.3.2 and the applications works fine*, with all blob fields using oid (byte[] in java)\r\n\r\n... \r\n\r\n&gt; Migrating to *hibernate 3.5 all blob fields not work anymore*, and the server log shows: ERROR org.hibernate.util.JDBCExceptionReporter - ERROR: column is of type oid but expression is of type bytea\r\n\r\n**which can be explained** [here][2]\r\n\r\n&gt; This generaly *is not bug in PG JDBC*, **but change of default implementation of Hibernate in 3.5 version**. In my situation **setting compatible property on connection\r\ndid not helped**. \r\n\r\n...\r\n\r\n&gt; Much more this what I saw in 3.5 - beta 2, and i do not know if this was fixed is Hibernate - without @Type annotation - **will auto-create column of type oid, but will try to read this as bytea** \r\n\r\nInteresting is because when he maps Types.BOLB as bytea (See CustomPostgreSQLDialect) He get\r\n\r\n&gt; Could not execute JDBC batch update \r\n\r\nwhen inserting or updating\r\n\r\n  [1]: http://www.postgresql.org/message-id/4BBF38F9.3080708@serhmatica.com.br\r\n  [2]: http://www.postgresql.org/message-id/201004121828.52833.rsmogura@softperience.eu","title":"proper hibernate annotation for byte[]","body":"<p>Here goes what O'reilly Enterprise JavaBeans, 3.0 says</p>\n\n<blockquote>\n  <p>JDBC has special types for these very large objects. <strong>The java.sql.Blob type represents binary data</strong>, and java.sql.Clob represents character data.</p>\n</blockquote>\n\n<p>Here goes PostgreSQLDialect source code</p>\n\n<pre><code>public PostgreSQLDialect() {\n    super();\n    ...\n    registerColumnType(Types.VARBINARY, \"bytea\");\n    /**\n      * Notice it maps java.sql.Types.BLOB as oid\n      */\n    registerColumnType(Types.BLOB, \"oid\");\n}\n</code></pre>\n\n<p>So what you can do</p>\n\n<p>Override PostgreSQLDialect as follows</p>\n\n<pre><code>public class CustomPostgreSQLDialect extends PostgreSQLDialect {\n\n    public CustomPostgreSQLDialect() {\n        super();\n\n        registerColumnType(Types.BLOB, \"bytea\");\n    }\n}\n</code></pre>\n\n<p>Now just define your custom dialect</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"br.com.ar.dialect.CustomPostgreSQLDialect\"/&gt;\n</code></pre>\n\n<p>And use your portable JPA @Lob annotation</p>\n\n<pre><code>@Lob\npublic byte[] getValueBuffer() {\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here has been extracted <a href=\"http://www.postgresql.org/message-id/4BBF38F9.3080708@serhmatica.com.br\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>I have an application running in <em>hibernate 3.3.2 and the applications works fine</em>, with all blob fields using oid (byte[] in java)</p>\n</blockquote>\n\n<p>... </p>\n\n<blockquote>\n  <p>Migrating to <em>hibernate 3.5 all blob fields not work anymore</em>, and the server log shows: ERROR org.hibernate.util.JDBCExceptionReporter - ERROR: column is of type oid but expression is of type bytea</p>\n</blockquote>\n\n<p><strong>which can be explained</strong> <a href=\"http://www.postgresql.org/message-id/201004121828.52833.rsmogura@softperience.eu\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>This generaly <em>is not bug in PG JDBC</em>, <strong>but change of default implementation of Hibernate in 3.5 version</strong>. In my situation <strong>setting compatible property on connection\n  did not helped</strong>. </p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Much more this what I saw in 3.5 - beta 2, and i do not know if this was fixed is Hibernate - without @Type annotation - <strong>will auto-create column of type oid, but will try to read this as bytea</strong> </p>\n</blockquote>\n\n<p>Interesting is because when he maps Types.BOLB as bytea (See CustomPostgreSQLDialect) He get</p>\n\n<blockquote>\n  <p>Could not execute JDBC batch update </p>\n</blockquote>\n\n<p>when inserting or updating</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1285012238,"creation_date":1284757771,"answer_id":3739047,"question_id":3677380,"body_markdown":"&gt; What is the portable way to annotate a byte[] property?\r\n\r\nIt depends on what you want. JPA can persist a non annotated `byte[]`. From the JPA 2.0 spec: \r\n\r\n&gt; ### 11.1.6 Basic Annotation\r\n&gt; \r\n&gt; The `Basic` annotation is the simplest\r\n&gt; type of mapping to a database column.\r\n&gt; The `Basic` annotation can be applied\r\n&gt; to a persistent property or instance\r\n&gt; variable of any of the following\r\n&gt; types: Java primitive, types, wrappers\r\n&gt; of the primitive types,\r\n&gt; `java.lang.String`,\r\n&gt; `java.math.BigInteger`,\r\n&gt; `java.math.BigDecimal`,\r\n&gt; `java.util.Date`,\r\n&gt; `java.util.Calendar`, `java.sql.Date`,\r\n&gt; `java.sql.Time`, `java.sql.Timestamp`,\r\n&gt; **`byte[]`, `Byte[]`**, `char[]`, `Character[]`, enums, and any other\r\n&gt; type that implements `Serializable`.\r\n&gt; As described in Section 2.8, the use\r\n&gt; of the `Basic` annotation is optional\r\n&gt; for persistent fields and properties\r\n&gt; of these types. If the Basic\r\n&gt; annotation is not specified for such a\r\n&gt; field or property, the default values\r\n&gt; of the Basic annotation will apply.\r\n\r\nAnd Hibernate will map a it &quot;by default&quot; to a SQL `VARBINARY` (or a SQL `LONGVARBINARY` depending on the `Column` size?) that PostgreSQL handles with a `bytea`.\r\n\r\nBut if you want the `byte[]` to be stored in a Large Object, you should use a `@Lob`. From the spec:\r\n\r\n&gt; ### 11.1.24 Lob Annotation\r\n&gt; \r\n&gt; A `Lob` annotation specifies that a\r\n&gt; persistent property or field should be\r\n&gt; persisted as a large object to a\r\n&gt; database-supported large object type.\r\n&gt; Portable applications should use the\r\n&gt; `Lob` annotation when mapping to a\r\n&gt; database `Lob` type. The `Lob` annotation\r\n&gt; may be used in conjunction with the\r\n&gt; Basic annotation or with the\r\n&gt; `ElementCollection` annotation when the\r\n&gt; element collection value is of basic\r\n&gt; type. A `Lob` may be either a binary or\r\n&gt; character type. The `Lob` type is\r\n&gt; inferred from the type of the\r\n&gt; persistent field or property and,\r\n&gt; except for string and character types,\r\n&gt; defaults to Blob.\r\n\r\nAnd Hibernate will map it to a SQL `BLOB` that PostgreSQL handles with a `oid`\r\n.\r\n&gt; Is this fixed in some recent version of hibernate?\r\n\r\nWell, the problem is that I don&#39;t know what the problem is exactly. But I can at least say that nothing has changed since 3.5.0-Beta-2 (which is where a changed has been introduced)in the 3.5.x branch.\r\n\r\nBut my understanding of issues like [HHH-4876][1], [HHH-4617][2] and of [PostgreSQL and BLOBs][3] (mentioned in the javadoc of the  `PostgreSQLDialect`) is that you are supposed to set the following property\r\n\r\n    hibernate.jdbc.use_streams_for_binary=false\r\n\r\nif you want to use `oid` i.e. `byte[]` with `@Lob` (which is my understanding since `VARBINARY` is not what you want with Oracle). Did you try this?\r\n\r\nAs an alternative, [HHH-4876][1] suggests using the deprecated `PrimitiveByteArrayBlobType` to get the old behavior (pre Hibernate 3.5).\r\n\r\n### References \r\n\r\n- JPA 2.0 Specification\r\n - Section 2.8 &quot;Mapping Defaults for Non-Relationship Fields or Properties&quot;\r\n - Section 11.1.6 &quot;Basic Annotation&quot;\r\n - Section 11.1.24 &quot;Lob Annotation&quot;\r\n\r\n### Resources\r\n\r\n- http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\r\n- http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\r\n- http://relation.to/Bloggers/PostgreSQLAndBLOBs\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\r\n  [2]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\r\n  [3]: http://relation.to/Bloggers/PostgreSQLAndBLOBs","title":"proper hibernate annotation for byte[]","body":"<blockquote>\n  <p>What is the portable way to annotate a byte[] property?</p>\n</blockquote>\n\n<p>It depends on what you want. JPA can persist a non annotated <code>byte[]</code>. From the JPA 2.0 spec: </p>\n\n<blockquote>\n  <h3>11.1.6 Basic Annotation</h3>\n  \n  <p>The <code>Basic</code> annotation is the simplest\n  type of mapping to a database column.\n  The <code>Basic</code> annotation can be applied\n  to a persistent property or instance\n  variable of any of the following\n  types: Java primitive, types, wrappers\n  of the primitive types,\n  <code>java.lang.String</code>,\n  <code>java.math.BigInteger</code>,\n  <code>java.math.BigDecimal</code>,\n  <code>java.util.Date</code>,\n  <code>java.util.Calendar</code>, <code>java.sql.Date</code>,\n  <code>java.sql.Time</code>, <code>java.sql.Timestamp</code>,\n  <strong><code>byte[]</code>, <code>Byte[]</code></strong>, <code>char[]</code>, <code>Character[]</code>, enums, and any other\n  type that implements <code>Serializable</code>.\n  As described in Section 2.8, the use\n  of the <code>Basic</code> annotation is optional\n  for persistent fields and properties\n  of these types. If the Basic\n  annotation is not specified for such a\n  field or property, the default values\n  of the Basic annotation will apply.</p>\n</blockquote>\n\n<p>And Hibernate will map a it \"by default\" to a SQL <code>VARBINARY</code> (or a SQL <code>LONGVARBINARY</code> depending on the <code>Column</code> size?) that PostgreSQL handles with a <code>bytea</code>.</p>\n\n<p>But if you want the <code>byte[]</code> to be stored in a Large Object, you should use a <code>@Lob</code>. From the spec:</p>\n\n<blockquote>\n  <h3>11.1.24 Lob Annotation</h3>\n  \n  <p>A <code>Lob</code> annotation specifies that a\n  persistent property or field should be\n  persisted as a large object to a\n  database-supported large object type.\n  Portable applications should use the\n  <code>Lob</code> annotation when mapping to a\n  database <code>Lob</code> type. The <code>Lob</code> annotation\n  may be used in conjunction with the\n  Basic annotation or with the\n  <code>ElementCollection</code> annotation when the\n  element collection value is of basic\n  type. A <code>Lob</code> may be either a binary or\n  character type. The <code>Lob</code> type is\n  inferred from the type of the\n  persistent field or property and,\n  except for string and character types,\n  defaults to Blob.</p>\n</blockquote>\n\n<p>And Hibernate will map it to a SQL <code>BLOB</code> that PostgreSQL handles with a <code>oid</code>\n.</p>\n\n<blockquote>\n  <p>Is this fixed in some recent version of hibernate?</p>\n</blockquote>\n\n<p>Well, the problem is that I don't know what the problem is exactly. But I can at least say that nothing has changed since 3.5.0-Beta-2 (which is where a changed has been introduced)in the 3.5.x branch.</p>\n\n<p>But my understanding of issues like <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">HHH-4876</a>, <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\" rel=\"noreferrer\">HHH-4617</a> and of <a href=\"http://relation.to/Bloggers/PostgreSQLAndBLOBs\" rel=\"noreferrer\">PostgreSQL and BLOBs</a> (mentioned in the javadoc of the  <code>PostgreSQLDialect</code>) is that you are supposed to set the following property</p>\n\n<pre><code>hibernate.jdbc.use_streams_for_binary=false\n</code></pre>\n\n<p>if you want to use <code>oid</code> i.e. <code>byte[]</code> with <code>@Lob</code> (which is my understanding since <code>VARBINARY</code> is not what you want with Oracle). Did you try this?</p>\n\n<p>As an alternative, <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">HHH-4876</a> suggests using the deprecated <code>PrimitiveByteArrayBlobType</code> to get the old behavior (pre Hibernate 3.5).</p>\n\n<h3>References</h3>\n\n<ul>\n<li>JPA 2.0 Specification\n\n<ul>\n<li>Section 2.8 \"Mapping Defaults for Non-Relationship Fields or Properties\"</li>\n<li>Section 11.1.6 \"Basic Annotation\"</li>\n<li>Section 11.1.24 \"Lob Annotation\"</li>\n</ul></li>\n</ul>\n\n<h3>Resources</h3>\n\n<ul>\n<li><a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876\" rel=\"noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/HHH-4876</a></li>\n<li><a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617\" rel=\"noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/HHH-4617</a></li>\n<li><a href=\"http://relation.to/Bloggers/PostgreSQLAndBLOBs\" rel=\"noreferrer\">http://relation.to/Bloggers/PostgreSQLAndBLOBs</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":453237,"reputation":161,"user_id":850128,"display_name":"Vinh Vo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369084381,"creation_date":1369084381,"answer_id":16658512,"question_id":3677380,"body_markdown":"I got it work by overriding annotation with XML file for Postgres. Annotation is kept for Oracle. In my opinion, in this case it would be best we override the mapping of this trouble-some enity with xml mapping. We can override single / multiple entities with xml mapping. So we would use annotation for our mainly-supported database, and a xml file for each other database.\r\n\r\nNote: we just need to override one single class , so it is not a big deal.\r\nRead more from my example \r\n[Example to override annotation with XML][1]\r\n\r\n\r\n  [1]: http://goo.gl/GKy3x","title":"proper hibernate annotation for byte[]","body":"<p>I got it work by overriding annotation with XML file for Postgres. Annotation is kept for Oracle. In my opinion, in this case it would be best we override the mapping of this trouble-some enity with xml mapping. We can override single / multiple entities with xml mapping. So we would use annotation for our mainly-supported database, and a xml file for each other database.</p>\n\n<p>Note: we just need to override one single class , so it is not a big deal.\nRead more from my example \n<a href=\"http://goo.gl/GKy3x\" rel=\"nofollow\">Example to override annotation with XML</a></p>\n"},{"tags":[],"owner":{"account_id":1726548,"reputation":11349,"user_id":1581069,"accept_rate":85,"display_name":"Peter Butkovic"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1393966692,"creation_date":1393966692,"answer_id":22182893,"question_id":3677380,"body_markdown":"I&#39;m using the Hibernate 4.2.7.SP1 with Postgres 9.3 and following works for me:\r\n\r\n    @Entity\r\n    public class ConfigAttribute {\r\n      @Lob\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }\r\n    }\r\n\r\nas Oracle has no trouble with that, and for Postgres I&#39;m using custom dialect:\r\n\r\n\tpublic class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\r\n\t    \r\n\t    @Override\r\n\t    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n\t    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\r\n\t      return BinaryTypeDescriptor.INSTANCE;\r\n\t    }\r\n\t    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n\t  }\r\n\t}\r\n\r\nthe advantage of this solution I consider, that I can keep hibernate jars untouched.\r\n\r\nFor more Postgres/Oracle compatibility issues with Hibernate, see my [blog post][1].\r\n\r\n\r\n  [1]: http://peter-butkovic.blogspot.de/2014/03/postgres-and-oracle-compatibility-with_4.html","title":"proper hibernate annotation for byte[]","body":"<p>I'm using the Hibernate 4.2.7.SP1 with Postgres 9.3 and following works for me:</p>\n\n<pre><code>@Entity\npublic class ConfigAttribute {\n  @Lob\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n}\n</code></pre>\n\n<p>as Oracle has no trouble with that, and for Postgres I'm using custom dialect:</p>\n\n<pre><code>public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\n\n    @Override\n    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\n      return BinaryTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n}\n</code></pre>\n\n<p>the advantage of this solution I consider, that I can keep hibernate jars untouched.</p>\n\n<p>For more Postgres/Oracle compatibility issues with Hibernate, see my <a href=\"http://peter-butkovic.blogspot.de/2014/03/postgres-and-oracle-compatibility-with_4.html\" rel=\"noreferrer\">blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":3368180,"reputation":908,"user_id":2828177,"display_name":"Gajendra Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499942113,"creation_date":1499942113,"answer_id":45078162,"question_id":3677380,"body_markdown":"On Postgres @Lob is breaking for byte[] as it tries to save it as oid, and for String also same problem occurs. Below code is breaking on postgres which is working fine on oracle.\r\n\r\n    @Lob\r\n    private String stringField;\r\n\r\nand \r\n\r\n    @Lob\r\n    private byte[]   someByteStream;\r\n\r\n\r\nIn order to fix above on postgres have written below custom hibernate.dialect \r\n\r\n    public class PostgreSQLDialectCustom extends PostgreSQL82Dialect{\r\n\t\r\n\tpublic PostgreSQLDialectCustom()\r\n\t{\r\n\t\tsuper();\r\n\t\tregisterColumnType(Types.BLOB, &quot;bytea&quot;);\r\n\t}\r\n\r\n\t @Override\r\n\t public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n\t    if (Types.CLOB == sqlTypeDescriptor.getSqlType()) {\r\n\t      return LongVarcharTypeDescriptor.INSTANCE;\r\n\t    }\r\n\t    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n\t  }\r\n    }\r\n\r\n\r\nNow configure custom dialect in hibernate \r\n\r\n    hibernate.dialect=X.Y.Z.PostgreSQLDialectCustom   \r\nX.Y.Z is package name. \r\n\r\nNow it working fine. \r\nNOTE- My Hibernate version - 5.2.8.Final \r\n      Postgres version- 9.6.3\r\n","title":"proper hibernate annotation for byte[]","body":"<p>On Postgres @Lob is breaking for byte[] as it tries to save it as oid, and for String also same problem occurs. Below code is breaking on postgres which is working fine on oracle.</p>\n\n<pre><code>@Lob\nprivate String stringField;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Lob\nprivate byte[]   someByteStream;\n</code></pre>\n\n<p>In order to fix above on postgres have written below custom hibernate.dialect </p>\n\n<pre><code>public class PostgreSQLDialectCustom extends PostgreSQL82Dialect{\n\npublic PostgreSQLDialectCustom()\n{\n    super();\n    registerColumnType(Types.BLOB, \"bytea\");\n}\n\n @Override\n public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (Types.CLOB == sqlTypeDescriptor.getSqlType()) {\n      return LongVarcharTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n}\n</code></pre>\n\n<p>Now configure custom dialect in hibernate </p>\n\n<pre><code>hibernate.dialect=X.Y.Z.PostgreSQLDialectCustom   \n</code></pre>\n\n<p>X.Y.Z is package name. </p>\n\n<p>Now it working fine. \nNOTE- My Hibernate version - 5.2.8.Final \n      Postgres version- 9.6.3</p>\n"},{"tags":[],"owner":{"account_id":7312344,"reputation":375,"user_id":5571092,"display_name":"El Ghandor Yasser"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510228566,"creation_date":1510228566,"answer_id":47201224,"question_id":3677380,"body_markdown":"i fixed My issue by adding the annotation of @Lob which will create the byte[] in oracle as blob , but this annotation will create the field as oid which not work properly , To make byte[] created as bytea i made customer Dialect for postgres as below \r\n\r\n\r\n    Public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\r\n\t    public PostgreSQLDialectCustom() {\r\n\t\t    System.out.println(&quot;Init PostgreSQLDialectCustom&quot;);\r\n\t\t    registerColumnType( Types.BLOB, &quot;bytea&quot; );\r\n\r\n\t      }\r\n\r\n    \t@Override\r\n        public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n        if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\r\n          return BinaryTypeDescriptor.INSTANCE;\r\n        }\r\n        return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n      }\r\n     }\r\n \r\n\r\nAlso need to override parameter for the Dialect\r\n\r\nspring.jpa.properties.hibernate.dialect=com.ntg.common.DBCompatibilityHelper.PostgreSQLDialectCustom\r\n\r\nmore hint can be found her : [https://dzone.com/articles/postgres-and-oracle][1]\r\n \r\n\r\n\r\n  [1]: https://dzone.com/articles/postgres-and-oracle","title":"proper hibernate annotation for byte[]","body":"<p>i fixed My issue by adding the annotation of @Lob which will create the byte[] in oracle as blob , but this annotation will create the field as oid which not work properly , To make byte[] created as bytea i made customer Dialect for postgres as below </p>\n\n<pre><code>Public class PostgreSQLDialectCustom extends PostgreSQL82Dialect {\n    public PostgreSQLDialectCustom() {\n        System.out.println(\"Init PostgreSQLDialectCustom\");\n        registerColumnType( Types.BLOB, \"bytea\" );\n\n      }\n\n    @Override\n    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\n      return BinaryTypeDescriptor.INSTANCE;\n    }\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n }\n</code></pre>\n\n<p>Also need to override parameter for the Dialect</p>\n\n<p>spring.jpa.properties.hibernate.dialect=com.ntg.common.DBCompatibilityHelper.PostgreSQLDialectCustom</p>\n\n<p>more hint can be found her : <a href=\"https://dzone.com/articles/postgres-and-oracle\" rel=\"noreferrer\">https://dzone.com/articles/postgres-and-oracle</a></p>\n"},{"tags":[],"owner":{"account_id":2781112,"reputation":291,"user_id":2393658,"display_name":"Nibin Jacob Panicker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522309114,"creation_date":1522301511,"answer_id":49548704,"question_id":3677380,"body_markdown":"Thanks Justin, Pascal for guiding me to the right direction. I was also facing the same issue with Hibernate 3.5.3. Your research and pointers to the right classes had helped me identify the issue and do a fix.\r\n\r\nFor the benefit for those who are still stuck with Hibernate 3.5 and using oid + byte[] + @LoB combination, following is what I have done to fix the issue.\r\n\r\n1. I created a custom BlobType extending MaterializedBlobType and overriding the set and the get methods with the oid style access.\r\n\r\n        public class CustomBlobType extends MaterializedBlobType {\r\n    \r\n        private static final String POSTGRESQL_DIALECT = PostgreSQLDialect.class.getName();\r\n    \r\n        /**\r\n         * Currently set dialect.\r\n         */\r\n        private String dialect = hibernateConfiguration.getProperty(Environment.DIALECT);\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.hibernate.type.AbstractBynaryType#set(java.sql.PreparedStatement, java.lang.Object, int)\r\n         */\r\n        @Override\r\n        public void set(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\r\n            byte[] internalValue = toInternalFormat(value);\r\n    \r\n            if (POSTGRESQL_DIALECT.equals(dialect)) {\r\n                try {\r\n    \r\n        //I had access to sessionFactory through a custom sessionFactory wrapper.\r\n        st.setBlob(index, Hibernate.createBlob(internalValue, sessionFactory.getCurrentSession()));\r\n                    } catch (SystemException e) {\r\n                        throw new HibernateException(e);\r\n                    }\r\n                } else {\r\n                    st.setBytes(index, internalValue);\r\n                }\r\n            }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.hibernate.type.AbstractBynaryType#get(java.sql.ResultSet, java.lang.String)\r\n         */\r\n        @Override\r\n        public Object get(ResultSet rs, String name) throws HibernateException, SQLException {\r\n            Blob blob = rs.getBlob(name);\r\n            if (rs.wasNull()) {\r\n                return null;\r\n            }\r\n            int length = (int) blob.length();\r\n            return toExternalFormat(blob.getBytes(1, length));\r\n          }\r\n        }\r\n\r\n 2. Register the CustomBlobType with Hibernate. Following is what i did to achieve that.\r\n\r\n            hibernateConfiguration= new AnnotationConfiguration();\r\n            Mappings mappings = hibernateConfiguration.createMappings();\r\n            mappings.addTypeDef(&quot;materialized_blob&quot;, &quot;x.y.z.BlobType&quot;, null);\r\n\r\n","title":"proper hibernate annotation for byte[]","body":"<p>Thanks Justin, Pascal for guiding me to the right direction. I was also facing the same issue with Hibernate 3.5.3. Your research and pointers to the right classes had helped me identify the issue and do a fix.</p>\n\n<p>For the benefit for those who are still stuck with Hibernate 3.5 and using oid + byte[] + @LoB combination, following is what I have done to fix the issue.</p>\n\n<ol>\n<li><p>I created a custom BlobType extending MaterializedBlobType and overriding the set and the get methods with the oid style access.</p>\n\n<pre><code>public class CustomBlobType extends MaterializedBlobType {\n\nprivate static final String POSTGRESQL_DIALECT = PostgreSQLDialect.class.getName();\n\n/**\n * Currently set dialect.\n */\nprivate String dialect = hibernateConfiguration.getProperty(Environment.DIALECT);\n\n/*\n * (non-Javadoc)\n * @see org.hibernate.type.AbstractBynaryType#set(java.sql.PreparedStatement, java.lang.Object, int)\n */\n@Override\npublic void set(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\n    byte[] internalValue = toInternalFormat(value);\n\n    if (POSTGRESQL_DIALECT.equals(dialect)) {\n        try {\n\n//I had access to sessionFactory through a custom sessionFactory wrapper.\nst.setBlob(index, Hibernate.createBlob(internalValue, sessionFactory.getCurrentSession()));\n            } catch (SystemException e) {\n                throw new HibernateException(e);\n            }\n        } else {\n            st.setBytes(index, internalValue);\n        }\n    }\n\n/*\n * (non-Javadoc)\n * @see org.hibernate.type.AbstractBynaryType#get(java.sql.ResultSet, java.lang.String)\n */\n@Override\npublic Object get(ResultSet rs, String name) throws HibernateException, SQLException {\n    Blob blob = rs.getBlob(name);\n    if (rs.wasNull()) {\n        return null;\n    }\n    int length = (int) blob.length();\n    return toExternalFormat(blob.getBytes(1, length));\n  }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Register the CustomBlobType with Hibernate. Following is what i did to achieve that.</p>\n\n<pre><code>hibernateConfiguration= new AnnotationConfiguration();\nMappings mappings = hibernateConfiguration.createMappings();\nmappings.addTypeDef(\"materialized_blob\", \"x.y.z.BlobType\", null);\n</code></pre></li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16317426,"reputation":1,"user_id":11784108,"display_name":"miche d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630347616,"creation_date":1630337841,"answer_id":68986718,"question_id":3677380,"body_markdown":"1. You can use in the entity\r\n\r\n```java\r\n@Lob\r\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\r\n@Column(name = &quot;stringField&quot;)\r\nprivate byte[] stringField;\r\n```","title":"proper hibernate annotation for byte[]","body":"<ol>\n<li>You can use in the entity</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Lob\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\n@Column(name = &quot;stringField&quot;)\nprivate byte[] stringField;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2683188,"reputation":135,"user_id":2318089,"display_name":"Arun VC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669824442,"creation_date":1669824442,"answer_id":74630819,"question_id":3677380,"body_markdown":"Hibernate 6+, javaee 9+\r\n\r\n      @Lob\r\n      @JdbcTypeCode(Types.BINARY)\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }","title":"proper hibernate annotation for byte[]","body":"<p>Hibernate 6+, javaee 9+</p>\n<pre><code>  @Lob\n  @JdbcTypeCode(Types.BINARY)\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n</code></pre>\n"}],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130295,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":3739047,"answer_count":10,"score":140,"last_activity_date":1669824442,"creation_date":1284041442,"question_id":3677380,"body_markdown":"I have an application using hibernate 3.1 and JPA annotations.  It has a few objects with byte[] attributes (1k - 200k in size).  It uses the JPA @Lob annotation, and hibernate 3.1 can read these just fine on all major databases -- it seems to hide the JDBC Blob vendor peculiarities (as it should do).\r\n\r\n    @Entity\r\n    public class ConfigAttribute {\r\n      @Lob\r\n      public byte[] getValueBuffer() {\r\n        return m_valueBuffer;\r\n      }\r\n    }\r\n\r\nWe had to upgrade to 3.5, when we discovered that hibernate 3.5  [breaks (and won&#39;t fix)][1] this annotation combination in postgresql (with no workaround).  I have not found a clear fix so far, but I did notice that if I just remove the @Lob, it uses the postgresql type bytea (which works, but only on postgres).\r\n\r\n    annotation                   postgres     oracle      works on\r\n    -------------------------------------------------------------\r\n    byte[] + @Lob                oid          blob        oracle\r\n    byte[]                       bytea        raw(255)    postgresql\r\n    byte[] + @Type(PBA)          oid          blob        oracle\r\n    byte[] + @Type(BT)           bytea        blob        postgresql\r\n    \r\n    once you use @Type, @Lob seems to not be relevant\r\n    note: oracle seems to have deprecated the &quot;raw&quot; type since 8i.\r\n\r\nI am looking for a way to have a single annotated class (with a blob property) which is portable across major databases.\r\n\r\n - What is the portable way to annotate a byte[] property?\r\n - Is this fixed in some recent version of hibernate?\r\n\r\n**Update:**\r\nAfter reading [this blog][2] I have finally figured out what the original workaround in the JIRA issue was: Apparently you are supposed to drop @Lob and annotate the property as:\r\n\r\n    @Type(type=&quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot;) \r\n    byte[] getValueBuffer() {...\r\n\r\nHowever, this does not work _for me_ -- I still get OIDs instead of bytea; it did however work for the author of the JIRA issue, who seemed to want oid.\r\n\r\nAfter the answer from A. Garcia, I then tried this combo, which actually does work on postgresql, but not on oracle.\r\n\r\n    @Type(type=&quot;org.hibernate.type.BinaryType&quot;) \r\n    byte[] getValueBuffer() {...\r\n\r\nWhat I really need to do is control which @org.hibernate.annotations.Type the combination (@Lob + byte[] gets mapped) to (on postgresql).\r\n\r\n----------\r\n\r\nHere is the snippet from 3.5.5.Final from MaterializedBlobType (sql type Blob).  According to Steve&#39;s blog, postgresql wants you to use Streams for bytea (don&#39;t ask me why) and postgresql&#39;s custom Blob type for oids.  Note also that using setBytes() on JDBC is also for bytea (from past experience).  So this explains why use-streams has no affect they both assume &#39;bytea&#39;.\r\n\r\n    public void set(PreparedStatement st, Object value, int index) {\r\n     byte[] internalValue = toInternalFormat( value );\r\n     if ( Environment.useStreamsForBinary() ) {\r\n      // use streams = true\r\n       st.setBinaryStream( index, \r\n        new ByteArrayInputStream( internalValue ), internalValue.length );\r\n     }\r\n     else {\r\n      // use streams = false\r\n      st.setBytes( index, internalValue );\r\n     }\r\n    }\r\n\r\nThis results in:\r\n\r\n    ERROR: column &quot;signature&quot; is of type oid but expression is of type bytea\r\n\r\n**Update**\r\nThe next logical question is: &quot;why not just change the table definitions manually to bytea&quot; and keep the (@Lob + byte[])?  This _does_ work, **UNTIL** you try to store a null byte[].  Which the postgreSQL driver thinks is an OID type expression and the column type is bytea -- this is because hibernate (rightly) calls JDBC.setNull() instead of JDBC.setBytes(null) which PG driver expects. \r\n\r\n    ERROR: column &quot;signature&quot; is of type bytea but expression is of type oid\r\n\r\nThe type system in hibernate is currently a &#39;work in progress&#39; (according to 3.5.5 deprecation comment).  In fact so much of the 3.5.5 code is deprecated, it is hard to know what to look at when sub-classing the PostgreSQLDialect).  \r\n\r\nAFAKT, Types.BLOB/&#39;oid&#39; on postgresql should be mapped to some custom type which uses OID style JDBC access (i.e. PostgresqlBlobType object and NOT MaterializedBlobType).  I&#39;ve never actually successfully used Blobs with postgresql, but I do know that bytea just simply works as one / I would expect.\r\n\r\nI am currently looking at the BatchUpdateException -- its possible that the driver doesn&#39;t support batching.  \r\n\r\n----------\r\nGreat quote from 2004:\r\n &quot;To sum up my ramblings, I&#39;d say they we should wait for the JDBC driver to do LOBs properly before changing Hibernate.&quot;\r\n\r\n\r\n**References:**\r\n\r\n - https://forum.hibernate.org/viewtopic.php?p=2393203\r\n - https://forum.hibernate.org/viewtopic.php?p=2435174\r\n - http://hibernate.atlassian.net/browse/HHH-4617\r\n - http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html\r\n - https://jira.springframework.org/browse/SPR-2318\r\n - https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd\r\n - http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/\r\n\r\n  [1]: http://hibernate.atlassian.net/browse/HHH-4876\r\n  [2]: http://in.relation.to/Bloggers/PostgreSQLAndBLOBs#comment15505\r\n\r\n","title":"proper hibernate annotation for byte[]","body":"<p>I have an application using hibernate 3.1 and JPA annotations.  It has a few objects with byte[] attributes (1k - 200k in size).  It uses the JPA @Lob annotation, and hibernate 3.1 can read these just fine on all major databases -- it seems to hide the JDBC Blob vendor peculiarities (as it should do).</p>\n\n<pre><code>@Entity\npublic class ConfigAttribute {\n  @Lob\n  public byte[] getValueBuffer() {\n    return m_valueBuffer;\n  }\n}\n</code></pre>\n\n<p>We had to upgrade to 3.5, when we discovered that hibernate 3.5  <a href=\"http://hibernate.atlassian.net/browse/HHH-4876\" rel=\"noreferrer\">breaks (and won't fix)</a> this annotation combination in postgresql (with no workaround).  I have not found a clear fix so far, but I did notice that if I just remove the @Lob, it uses the postgresql type bytea (which works, but only on postgres).</p>\n\n<pre><code>annotation                   postgres     oracle      works on\n-------------------------------------------------------------\nbyte[] + @Lob                oid          blob        oracle\nbyte[]                       bytea        raw(255)    postgresql\nbyte[] + @Type(PBA)          oid          blob        oracle\nbyte[] + @Type(BT)           bytea        blob        postgresql\n\nonce you use @Type, @Lob seems to not be relevant\nnote: oracle seems to have deprecated the \"raw\" type since 8i.\n</code></pre>\n\n<p>I am looking for a way to have a single annotated class (with a blob property) which is portable across major databases.</p>\n\n<ul>\n<li>What is the portable way to annotate a byte[] property?</li>\n<li>Is this fixed in some recent version of hibernate?</li>\n</ul>\n\n<p><strong>Update:</strong>\nAfter reading <a href=\"http://in.relation.to/Bloggers/PostgreSQLAndBLOBs#comment15505\" rel=\"noreferrer\">this blog</a> I have finally figured out what the original workaround in the JIRA issue was: Apparently you are supposed to drop @Lob and annotate the property as:</p>\n\n<pre><code>@Type(type=\"org.hibernate.type.PrimitiveByteArrayBlobType\") \nbyte[] getValueBuffer() {...\n</code></pre>\n\n<p>However, this does not work <em>for me</em> -- I still get OIDs instead of bytea; it did however work for the author of the JIRA issue, who seemed to want oid.</p>\n\n<p>After the answer from A. Garcia, I then tried this combo, which actually does work on postgresql, but not on oracle.</p>\n\n<pre><code>@Type(type=\"org.hibernate.type.BinaryType\") \nbyte[] getValueBuffer() {...\n</code></pre>\n\n<p>What I really need to do is control which @org.hibernate.annotations.Type the combination (@Lob + byte[] gets mapped) to (on postgresql).</p>\n\n<hr>\n\n<p>Here is the snippet from 3.5.5.Final from MaterializedBlobType (sql type Blob).  According to Steve's blog, postgresql wants you to use Streams for bytea (don't ask me why) and postgresql's custom Blob type for oids.  Note also that using setBytes() on JDBC is also for bytea (from past experience).  So this explains why use-streams has no affect they both assume 'bytea'.</p>\n\n<pre><code>public void set(PreparedStatement st, Object value, int index) {\n byte[] internalValue = toInternalFormat( value );\n if ( Environment.useStreamsForBinary() ) {\n  // use streams = true\n   st.setBinaryStream( index, \n    new ByteArrayInputStream( internalValue ), internalValue.length );\n }\n else {\n  // use streams = false\n  st.setBytes( index, internalValue );\n }\n}\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>ERROR: column \"signature\" is of type oid but expression is of type bytea\n</code></pre>\n\n<p><strong>Update</strong>\nThe next logical question is: \"why not just change the table definitions manually to bytea\" and keep the (@Lob + byte[])?  This <em>does</em> work, <strong>UNTIL</strong> you try to store a null byte[].  Which the postgreSQL driver thinks is an OID type expression and the column type is bytea -- this is because hibernate (rightly) calls JDBC.setNull() instead of JDBC.setBytes(null) which PG driver expects. </p>\n\n<pre><code>ERROR: column \"signature\" is of type bytea but expression is of type oid\n</code></pre>\n\n<p>The type system in hibernate is currently a 'work in progress' (according to 3.5.5 deprecation comment).  In fact so much of the 3.5.5 code is deprecated, it is hard to know what to look at when sub-classing the PostgreSQLDialect).  </p>\n\n<p>AFAKT, Types.BLOB/'oid' on postgresql should be mapped to some custom type which uses OID style JDBC access (i.e. PostgresqlBlobType object and NOT MaterializedBlobType).  I've never actually successfully used Blobs with postgresql, but I do know that bytea just simply works as one / I would expect.</p>\n\n<p>I am currently looking at the BatchUpdateException -- its possible that the driver doesn't support batching.  </p>\n\n<hr>\n\n<p>Great quote from 2004:\n \"To sum up my ramblings, I'd say they we should wait for the JDBC driver to do LOBs properly before changing Hibernate.\"</p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><a href=\"https://forum.hibernate.org/viewtopic.php?p=2393203\" rel=\"noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2393203</a></li>\n<li><a href=\"https://forum.hibernate.org/viewtopic.php?p=2435174\" rel=\"noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2435174</a></li>\n<li><a href=\"http://hibernate.atlassian.net/browse/HHH-4617\" rel=\"noreferrer\">http://hibernate.atlassian.net/browse/HHH-4617</a></li>\n<li><a href=\"http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html\" rel=\"noreferrer\">http://postgresql.1045698.n5.nabble.com/Migration-to-Hibernate-3-5-final-td2175339.html</a></li>\n<li><a href=\"https://jira.springframework.org/browse/SPR-2318\" rel=\"noreferrer\">https://jira.springframework.org/browse/SPR-2318</a></li>\n<li><a href=\"https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd\" rel=\"noreferrer\">https://forums.hibernate.org/viewtopic.php?p=2203382&amp;sid=b526a17d9cf60a80f13d40cf8082aafd</a></li>\n<li><a href=\"http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/\" rel=\"noreferrer\">http://virgo47.wordpress.com/2008/06/13/jpa-postgresql-and-bytea-vs-oid-type/</a></li>\n</ul>\n"},{"tags":["java","android","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":43035,"reputation":2835,"user_id":125615,"accept_rate":80,"display_name":"nickfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309799512,"creation_date":1309799512,"answer_id":6574324,"question_id":6574303,"body_markdown":"I started 2 emulator instances and was able to send an SMS from instance to the other, but... I had a problem where it would only send from the second instance I started. Look at this post: \r\n\r\n[Sending sms text message from android emulator to second emulator instance][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6521349/sending-sms-text-message-from-android-emulator-to-second-emulator-instance","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>I started 2 emulator instances and was able to send an SMS from instance to the other, but... I had a problem where it would only send from the second instance I started. Look at this post: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/6521349/sending-sms-text-message-from-android-emulator-to-second-emulator-instance\">Sending sms text message from android emulator to second emulator instance</a></p>\n"},{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1309807977,"creation_date":1309807977,"answer_id":6575411,"question_id":6574303,"body_markdown":"Use something like from the host computer\r\n\r\n    $ adb emu sms send 5551234 Hello Android\r\n","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>Use something like from the host computer</p>\n\n<pre><code>$ adb emu sms send 5551234 Hello Android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457165191,"creation_date":1457165191,"answer_id":35811718,"question_id":6574303,"body_markdown":"To send SMS to a specific emulator: \r\n\r\n    $ adb -s emulator-5554 emu sms send 5551234 Hello Android\r\n\r\n","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>To send SMS to a specific emulator: </p>\n\n<pre><code>$ adb -s emulator-5554 emu sms send 5551234 Hello Android\n</code></pre>\n"}],"owner":{"account_id":403927,"reputation":5389,"user_id":771964,"accept_rate":88,"display_name":"Sergii Zagriichuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4998,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6574324,"answer_count":3,"score":3,"last_activity_date":1669824364,"creation_date":1309799281,"question_id":6574303,"body_markdown":"I have received some code from another team and started to simple improvement and re-factoring.\r\nThe first phase is adding unit test to the project. I need to test functionality of parsing input sms.\r\nRelated to above information my question is:\r\n - Can I send sms to the emulator port from test method? \r\nI have writen next code but have no received anything ...\r\n \r\n\r\n    @Test\r\n    public void sendSmsTest() {\r\n        SmsManager smsManager = SmsManager.getDefault();\r\n        smsManager.sendTextMessage(&quot;5554&quot;, null, getSms(&quot;sms1&quot;), null, null);\r\n    }\r\n\r\n    private String getSms(String smsKey) {\r\n        return (String) smsMessages.get(smsKey);\r\n    }\r\nThanks.\r\n\r\n\r\n----------\r\nAfter restarting emulators and IDE I have received next error in console:\r\n\r\n&gt; Test running failed: Exception thrown\r\n&gt; in onCreate() of\r\n&gt; ComponentInfo{com.example/android.test.InstrumentationTestRunner}:\r\n&gt; java.lang.NullPointerException","title":"Android Testing: Can I send sms to the emulator number from test method?","body":"<p>I have received some code from another team and started to simple improvement and re-factoring.\nThe first phase is adding unit test to the project. I need to test functionality of parsing input sms.\nRelated to above information my question is:\n - Can I send sms to the emulator port from test method? \nI have writen next code but have no received anything ...</p>\n\n<pre><code>@Test\npublic void sendSmsTest() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(\"5554\", null, getSms(\"sms1\"), null, null);\n}\n\nprivate String getSms(String smsKey) {\n    return (String) smsMessages.get(smsKey);\n}\n</code></pre>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>After restarting emulators and IDE I have received next error in console:</p>\n\n<blockquote>\n  <p>Test running failed: Exception thrown\n  in onCreate() of\n  ComponentInfo{com.example/android.test.InstrumentationTestRunner}:\n  java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","xml","web-services","soap","wsdl"],"comments":[{"owner":{"account_id":3760744,"reputation":217,"user_id":3125814,"display_name":"Sambhav"},"score":1,"creation_date":1397039985,"post_id":22959314,"comment_id":35055330,"body_markdown":"Use a SOAPUI tool.... it will help you...http://www.soapui.org/","body":"Use a SOAPUI tool.... it will help you...<a href=\"http://www.soapui.org/\" rel=\"nofollow noreferrer\">soapui.org</a>"},{"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"score":0,"creation_date":1397042317,"post_id":22959314,"comment_id":35056928,"body_markdown":"Thanks for the reply, but SoapUI will be a manual task. I have write code to extract Soap request xml from wsdl. Could you please tell how can I achieve that.","body":"Thanks for the reply, but SoapUI will be a manual task. I have write code to extract Soap request xml from wsdl. Could you please tell how can I achieve that."},{"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"score":0,"creation_date":1397042616,"post_id":22959314,"comment_id":35057134,"body_markdown":"I was using below code\n\nWsdlProject project = new WsdlProject;\nWsdlInterface[] wsdls = WsdlImporter.importWsdl(project, &quot;&lt;wsdl url&gt;&quot;);\nWsdlInterface wsdl = wsdls[0];\n       for (com.eviware.soapui.model.iface.Operation operation : wsdl.getOperationList()) {\n        WsdlOperation wsdlOperation = (WsdlOperation) operation;\n        System.out.println(&quot;OP:&quot;+wsdlOperation.getName());\n        System.out.println(&quot;Request:&quot;);\n        System.out.println(wsdlOperation.createRequest(true));\n        System.out.println(&quot;Response:&quot;);\n        System.out.println(wsdlOperation.createResponse(true));\n}\n}","body":"I was using below code  WsdlProject project = new WsdlProject; WsdlInterface[] wsdls = WsdlImporter.importWsdl(project, &quot;&lt;wsdl url&gt;&quot;); WsdlInterface wsdl = wsdls[0];        for (com.eviware.soapui.model.iface.Operation operation : wsdl.getOperationList()) {         WsdlOperation wsdlOperation = (WsdlOperation) operation;         System.out.println(&quot;OP:&quot;+wsdlOperation.getName());         System.out.println(&quot;Request:&quot;);         System.out.println(wsdlOperation.createRequest(true));         System.out.println(&quot;Response:&quot;);         System.out.println(wsdlOperation.createResponse(true)); } }"}],"answers":[{"tags":[],"owner":{"account_id":3760744,"reputation":217,"user_id":3125814,"display_name":"Sambhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397045510,"creation_date":1397045510,"answer_id":22962144,"question_id":22959314,"body_markdown":"\r\n\r\n    1. Create a Java Project: File-&gt;New-&gt;Other-&gt;Java Project. (TestWSDL)\r\n    2. Create a WSDL File: File-&gt;New-&gt;Other-&gt;Web Services-&gt;WSDL File-&gt; Name the file-&gt;Next-&gt;finish. (NewWSDLFile.wsdl)\r\n    3. Modify the WSDL File: Open NewWSDLFile.wsdl and replace all its content by your desired WSDL file.Save it. (Suppose I have saved my desired wsdl file at D:\\sampleWSDL.xml, which i want to convert. Open this xml file using Notepad++,copy all its content and paste it to NewWSDLFile.wsdl)\r\n    4. Create Web Service Client: File-&gt;New-&gt;Other-&gt;Web Services-&gt;Web Service Client-&gt;Next-&gt;Browse Service definition and show the path of the NewWSDLFile.wsdl file we created at step 2 -&gt;OK-&gt; 5. Click Client Project(blue colored link at right) and set it to the project we created at step\r\n    6. Press Next -&gt; Set Output Folder-&gt;Finish.\r\n    7. You will have all the converted Java files at the folder you set at step 5.","title":"Creating SOAP request from wsdl","body":"<pre><code>1. Create a Java Project: File-&gt;New-&gt;Other-&gt;Java Project. (TestWSDL)\n2. Create a WSDL File: File-&gt;New-&gt;Other-&gt;Web Services-&gt;WSDL File-&gt; Name the file-&gt;Next-&gt;finish. (NewWSDLFile.wsdl)\n3. Modify the WSDL File: Open NewWSDLFile.wsdl and replace all its content by your desired WSDL file.Save it. (Suppose I have saved my desired wsdl file at D:\\sampleWSDL.xml, which i want to convert. Open this xml file using Notepad++,copy all its content and paste it to NewWSDLFile.wsdl)\n4. Create Web Service Client: File-&gt;New-&gt;Other-&gt;Web Services-&gt;Web Service Client-&gt;Next-&gt;Browse Service definition and show the path of the NewWSDLFile.wsdl file we created at step 2 -&gt;OK-&gt; 5. Click Client Project(blue colored link at right) and set it to the project we created at step\n6. Press Next -&gt; Set Output Folder-&gt;Finish.\n7. You will have all the converted Java files at the folder you set at step 5.\n</code></pre>\n"}],"owner":{"account_id":4099047,"reputation":723,"user_id":3365075,"accept_rate":33,"display_name":"user3365075"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7850,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669824340,"creation_date":1397038178,"question_id":22959314,"body_markdown":"I have a requirement of creating SOAP request xml for one operation from wsdl. I researched and tried the solution of the blog &quot;https://stackoverflow.com/questions/20486743/java-get-sample-request-xml-from-wsdl/22958611#22958611&quot; , but I was getting exception &quot;java.lang.NoClassDefFoundError: org/fife/ui/rtextarea/RTextArea&quot; in line &quot;WsdlProject project = new WsdlProject();&quot;\r\n\r\nI imported latest jars (soapui-xmlbeans-4.5.0,wsdl-xmlbeans-1.1,soapui-4.5.0) but still throwing exception. Could anybody&quot;http://www.soapui.org/repository/eviware/&quot; please suggest how can I rectify it. Is there any other approach which I can take apart from this?\r\n\r\nThanks in advance !! ","title":"Creating SOAP request from wsdl","body":"<p>I have a requirement of creating SOAP request xml for one operation from wsdl. I researched and tried the solution of the blog \"<a href=\"https://stackoverflow.com/questions/20486743/java-get-sample-request-xml-from-wsdl/22958611#22958611\">Java: Get Sample Request XML from wsdl</a>\" , but I was getting exception \"java.lang.NoClassDefFoundError: org/fife/ui/rtextarea/RTextArea\" in line \"WsdlProject project = new WsdlProject();\"</p>\n\n<p>I imported latest jars (soapui-xmlbeans-4.5.0,wsdl-xmlbeans-1.1,soapui-4.5.0) but still throwing exception. Could anybody\"<a href=\"http://www.soapui.org/repository/eviware/\" rel=\"nofollow noreferrer\">http://www.soapui.org/repository/eviware/</a>\" please suggest how can I rectify it. Is there any other approach which I can take apart from this?</p>\n\n<p>Thanks in advance !! </p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":7061392,"reputation":25,"user_id":5406485,"display_name":"Kjempen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669824333,"creation_date":1669824333,"answer_id":74630792,"question_id":74574268,"body_markdown":"Update:\r\n\r\nIt seems to be Confluent&#39;s encryption libraries that causes these issues. I&#39;ve done quite an extensive A/B test, and every time it occurs is with Confluent encryption. Without I never experience this issue.","title":"stateStore.delete(key) in Kafka is not working","body":"<p>Update:</p>\n<p>It seems to be Confluent's encryption libraries that causes these issues. I've done quite an extensive A/B test, and every time it occurs is with Confluent encryption. Without I never experience this issue.</p>\n"}],"owner":{"account_id":7061392,"reputation":25,"user_id":5406485,"display_name":"Kjempen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74630792,"answer_count":1,"score":0,"last_activity_date":1669824333,"creation_date":1669386583,"question_id":74574268,"body_markdown":"I have what it thought would be a simple statestore use case. We loop through a state store every 10s and try to send to a partner, if we receive 404, we try again next intervall.\r\nIf we receive 200, we delete the entry from the state store.\r\n\r\nIn my test (1 entry in statestore) I first let it run a few loops, where we receive 404, just to test that the retry works. When I switch my mock endpoint to return 200, I can see through the logs that both:\r\nstateStore.delete(key) and stateStore.flush() is called. I even confirm after stateStore.delete(key) that stateStore.get(key) returns a null value (tombstone).\r\n\r\nHowever, the next time the punctuator runs (10s), the object is still in the state store and the entire block is called again. it keeps looping like this, without ever deleting the entry in the statestore\r\n\r\n```\r\n@Override\r\npublic void punctuate(long l) {\r\n\tlog.info(&quot;PeriodicRetryPunctuator started: &quot; + l);\r\n\r\n\ttry(KeyValueIterator&lt;String, TestEventObject&gt; iter = stateStore.all()) {\r\n\t\twhile(iter.hasNext()) {\r\n\t\t\tKeyValue&lt;String, TestEventObject&gt; keyValue = iter.next();\r\n\t\t\tString key = keyValue.key;\r\n\t\t\tTestEventObject event = keyValue.value;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlog.info(&quot;Event: &quot; + event);\r\n\t\t\t\t// Sends event over HTTP. Will throw HttpResponseException if 404 is received\r\n\t\t\t\teventService.processEvent(event);\r\n\t\t\t\t\r\n\t\t\t\tstateStore.delete(key);\r\n\t\t\t\tstateStore.flush();\r\n\t\t\t\t\r\n\t\t\t\t// Check that statestore returns null\r\n\t\t\t\tlog.info(&quot;Check: &quot; + stateStore.get(key));\r\n\t\t\t} catch (HttpResponseException hre) {\r\n\t\t\t\tlog.info(&quot;Periodic retry received 404. Retrying at next interval&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tlog.error(&quot;Exception with periodic retry: {}&quot;, e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"stateStore.delete(key) in Kafka is not working","body":"<p>I have what it thought would be a simple statestore use case. We loop through a state store every 10s and try to send to a partner, if we receive 404, we try again next intervall.\nIf we receive 200, we delete the entry from the state store.</p>\n<p>In my test (1 entry in statestore) I first let it run a few loops, where we receive 404, just to test that the retry works. When I switch my mock endpoint to return 200, I can see through the logs that both:\nstateStore.delete(key) and stateStore.flush() is called. I even confirm after stateStore.delete(key) that stateStore.get(key) returns a null value (tombstone).</p>\n<p>However, the next time the punctuator runs (10s), the object is still in the state store and the entire block is called again. it keeps looping like this, without ever deleting the entry in the statestore</p>\n<pre><code>@Override\npublic void punctuate(long l) {\n    log.info(&quot;PeriodicRetryPunctuator started: &quot; + l);\n\n    try(KeyValueIterator&lt;String, TestEventObject&gt; iter = stateStore.all()) {\n        while(iter.hasNext()) {\n            KeyValue&lt;String, TestEventObject&gt; keyValue = iter.next();\n            String key = keyValue.key;\n            TestEventObject event = keyValue.value;\n            \n            try {\n                log.info(&quot;Event: &quot; + event);\n                // Sends event over HTTP. Will throw HttpResponseException if 404 is received\n                eventService.processEvent(event);\n                \n                stateStore.delete(key);\n                stateStore.flush();\n                \n                // Check that statestore returns null\n                log.info(&quot;Check: &quot; + stateStore.get(key));\n            } catch (HttpResponseException hre) {\n                log.info(&quot;Periodic retry received 404. Retrying at next interval&quot;);\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n                log.error(&quot;Exception with periodic retry: {}&quot;, e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1669824213,"post_id":74630697,"comment_id":131732091,"body_markdown":"https://stackoverflow.com/a/72103741/3426309","body":"<a href=\"https://stackoverflow.com/a/72103741/3426309\">stackoverflow.com/a/72103741/3426309</a>"}],"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669823951,"creation_date":1669823951,"question_id":74630697,"body_markdown":"I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service interacting with the database backwards compatible with the older version of the database without the new column. The Springboot service would be upgraded to have the new column in the Entity but I would like it to interact with either version of the database. Is there a way to prevent the service from failing if the new column in the Entity does not exist in the database?\r\n\r\nI researched around and was not able to find a viable solution as of yet.","title":"Spring Data JPA/Hibernate - is it possible to have a column that optionally exists in the database?","body":"<p>I have a database that is being upgraded to add a column to an existing table. However, I would like to make the Springboot service interacting with the database backwards compatible with the older version of the database without the new column. The Springboot service would be upgraded to have the new column in the Entity but I would like it to interact with either version of the database. Is there a way to prevent the service from failing if the new column in the Entity does not exist in the database?</p>\n<p>I researched around and was not able to find a viable solution as of yet.</p>\n"},{"tags":["java","android","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":13455966,"reputation":786,"user_id":9709533,"display_name":"CPI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823939,"creation_date":1669823939,"answer_id":74630692,"question_id":73992799,"body_markdown":"Did you define the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON?\r\n\r\nAccording to the [AccessibilityServiceInfo documentation][1], the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON must be defined in accessibilityFlags of the metadata of the service if targeting APIs greater than API 29\r\n\r\n    &lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:description=&quot;@string/accessibility_service_description&quot;\r\n    android:accessibilityEventTypes=&quot;typeAllMask&quot;\r\n    android:accessibilityFlags=&quot;flagDefault|flagReportViewIds|flagRetrieveInteractiveWindows|flagRequestAccessibilityButton&quot;\r\n    android:accessibilityFeedbackType=&quot;feedbackVisual&quot;\r\n    android:notificationTimeout=&quot;100&quot;\r\n    android:canRetrieveWindowContent=&quot;true&quot;\r\n    android:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;/&gt;\r\n\r\n  [1]: https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_REQUEST_ACCESSIBILITY_BUTTON","title":"android accessibility service accessibility button not working","body":"<p>Did you define the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON?</p>\n<p>According to the <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_REQUEST_ACCESSIBILITY_BUTTON\" rel=\"nofollow noreferrer\">AccessibilityServiceInfo documentation</a>, the flag FLAG_REQUEST_ACCESSIBILITY_BUTTON must be defined in accessibilityFlags of the metadata of the service if targeting APIs greater than API 29</p>\n<pre><code>&lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:description=&quot;@string/accessibility_service_description&quot;\nandroid:accessibilityEventTypes=&quot;typeAllMask&quot;\nandroid:accessibilityFlags=&quot;flagDefault|flagReportViewIds|flagRetrieveInteractiveWindows|flagRequestAccessibilityButton&quot;\nandroid:accessibilityFeedbackType=&quot;feedbackVisual&quot;\nandroid:notificationTimeout=&quot;100&quot;\nandroid:canRetrieveWindowContent=&quot;true&quot;\nandroid:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":22293228,"reputation":31,"user_id":16519691,"display_name":"job bot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669823939,"creation_date":1665178639,"question_id":73992799,"body_markdown":"I am attempting create an android accessibility service that uses the on screen accessibility button function as described here https://developer.android.com/guide/topics/ui/accessibility/service#button when the code from this article is ran on my test device (moto z4) running android 10. The function ``` accessibilityButtonController.isAccessibilityButtonAvailable(); ``` returns false. although according to the link provided above the only reason that this function should return false is on a device without software rendered navigation which my test device has. This is the sample I am using:\r\n``` \r\n\r\nimport android.accessibilityservice.AccessibilityButtonController;\r\nimport android.accessibilityservice.AccessibilityService;\r\nimport android.accessibilityservice.AccessibilityServiceInfo;\r\nimport android.util.Log;\r\nimport android.view.accessibility.AccessibilityEvent;\r\n\r\npublic class MyAccessibilityService extends AccessibilityService {\r\n    private AccessibilityButtonController accessibilityButtonController;\r\n    private AccessibilityButtonController\r\n            .AccessibilityButtonCallback accessibilityButtonCallback;\r\n    private boolean mIsAccessibilityButtonAvailable;\r\n\r\n    @Override\r\n    protected void onServiceConnected() {\r\n        Log.d(&quot;info&quot;, &quot;connect&quot;);\r\n        accessibilityButtonController = getAccessibilityButtonController();\r\n        mIsAccessibilityButtonAvailable =\r\n                accessibilityButtonController.isAccessibilityButtonAvailable();\r\n\r\n        if (!mIsAccessibilityButtonAvailable) {\r\n            Log.d(&quot;info&quot;, &quot;not supported&quot;);\r\n            return;\r\n        }\r\n\r\n        AccessibilityServiceInfo serviceInfo = getServiceInfo();\r\n        serviceInfo.flags\r\n                |= AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\r\n        setServiceInfo(serviceInfo);\r\n\r\n        accessibilityButtonCallback =\r\n                new AccessibilityButtonController.AccessibilityButtonCallback() {\r\n                    @Override\r\n                    public void onClicked(AccessibilityButtonController controller) {\r\n                        Log.d(&quot;MY_APP_TAG&quot;, &quot;Accessibility button pressed!&quot;);\r\n\r\n                        // Add custom logic for a service to react to the\r\n                        // accessibility button being pressed.\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAvailabilityChanged(\r\n                            AccessibilityButtonController controller, boolean available) {\r\n                        if (controller.equals(accessibilityButtonController)) {\r\n                            mIsAccessibilityButtonAvailable = available;\r\n                        }\r\n                    }\r\n                };\r\n\r\n        if (accessibilityButtonCallback != null) {\r\n            accessibilityButtonController.registerAccessibilityButtonCallback(\r\n                    accessibilityButtonCallback, null);\r\n        }\r\n    }\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n    }\r\n\r\n\r\n}\r\n```","title":"android accessibility service accessibility button not working","body":"<p>I am attempting create an android accessibility service that uses the on screen accessibility button function as described here <a href=\"https://developer.android.com/guide/topics/ui/accessibility/service#button\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/accessibility/service#button</a> when the code from this article is ran on my test device (moto z4) running android 10. The function <code>accessibilityButtonController.isAccessibilityButtonAvailable();</code> returns false. although according to the link provided above the only reason that this function should return false is on a device without software rendered navigation which my test device has. This is the sample I am using:</p>\n<pre><code>\nimport android.accessibilityservice.AccessibilityButtonController;\nimport android.accessibilityservice.AccessibilityService;\nimport android.accessibilityservice.AccessibilityServiceInfo;\nimport android.util.Log;\nimport android.view.accessibility.AccessibilityEvent;\n\npublic class MyAccessibilityService extends AccessibilityService {\n    private AccessibilityButtonController accessibilityButtonController;\n    private AccessibilityButtonController\n            .AccessibilityButtonCallback accessibilityButtonCallback;\n    private boolean mIsAccessibilityButtonAvailable;\n\n    @Override\n    protected void onServiceConnected() {\n        Log.d(&quot;info&quot;, &quot;connect&quot;);\n        accessibilityButtonController = getAccessibilityButtonController();\n        mIsAccessibilityButtonAvailable =\n                accessibilityButtonController.isAccessibilityButtonAvailable();\n\n        if (!mIsAccessibilityButtonAvailable) {\n            Log.d(&quot;info&quot;, &quot;not supported&quot;);\n            return;\n        }\n\n        AccessibilityServiceInfo serviceInfo = getServiceInfo();\n        serviceInfo.flags\n                |= AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON;\n        setServiceInfo(serviceInfo);\n\n        accessibilityButtonCallback =\n                new AccessibilityButtonController.AccessibilityButtonCallback() {\n                    @Override\n                    public void onClicked(AccessibilityButtonController controller) {\n                        Log.d(&quot;MY_APP_TAG&quot;, &quot;Accessibility button pressed!&quot;);\n\n                        // Add custom logic for a service to react to the\n                        // accessibility button being pressed.\n                    }\n\n                    @Override\n                    public void onAvailabilityChanged(\n                            AccessibilityButtonController controller, boolean available) {\n                        if (controller.equals(accessibilityButtonController)) {\n                            mIsAccessibilityButtonAvailable = available;\n                        }\n                    }\n                };\n\n        if (accessibilityButtonCallback != null) {\n            accessibilityButtonController.registerAccessibilityButtonCallback(\n                    accessibilityButtonCallback, null);\n        }\n    }\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n    }\n\n    @Override\n    public void onInterrupt() {\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","linux","installation","wget"],"answers":[{"tags":[],"owner":{"account_id":444156,"reputation":9359,"user_id":835806,"accept_rate":94,"display_name":"thejartender"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1362249613,"creation_date":1335103448,"answer_id":10268587,"question_id":10268583,"body_markdown":"Oracle has put a prevention cookie on the download link to force you to agree to the terms even though the license agreement to use Java clearly states that merely by using Java you &#39;agree&#39; to the license..\r\n\r\n\r\n   \r\nThe method that Oracle wants is you to download it with an agreement. After that, this script cn be modified for your  specific Linux\r\n\r\n    #!/bin/bash\r\n    #Author: Yucca Nel http://thejarbar.org\r\n    #Will restart system\r\n    #Modify these variables as needed...\r\n    tempWork=/tmp/work\r\n    locBin=/usr/local/bin\r\n    javaUsrLib=/usr/lib/jvm\r\n    \r\n    sudo mkdir -p $javaUsrLib\r\n    mkdir -p $tempWork\r\n    cd $tempWork\r\n    \r\n    #Extract the download\r\n    tar -zxvf $downloadDir/jdk*tar.gz\r\n    \r\n    #Move it to where it can be found...\r\n    \r\n    sudo mv -f $tempWork/jdk* $javaUsrLib/\r\n    \r\n    sudo ln -f -s $javaUsrLib/jdk1/bin/* /usr/bin/\r\n    \r\n    #Update this line to reflect versions of JDK...\r\n    export JAVA_HOME=&quot;$javaUsrLib/jdk1.7.0_03&quot;\r\n    #Extract the download\r\n    tar -zxvf $tempWork/*\r\n    \r\n    #Move it to where it can be found...\r\n    \r\n    sudo mv -f $tempWork/jdk1* $javaUsrLib/\r\n    \r\n    sudo ln -f -s $javaUsrLib/jdk1*/bin/* /usr/bin/\r\n    sudo rm -rf $tempWork\r\n    #Update this line to reflect newer versions of JDK...\r\n    export JAVA_HOME=&quot;$javaUsrLib/jdk1.7.0_03&quot;\r\n    \r\n    if ! grep &quot;JAVA_HOME=$javaUsrLib/jdk1.7.0_03&quot; /etc/environment\r\n    then\r\n        echo &quot;JAVA_HOME=$javaUsrLib/jdk1.7.0_03&quot;| sudo tee -a /etc/environment\r\n    fi\r\n    \r\n    \r\n    exit 0","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Oracle has put a prevention cookie on the download link to force you to agree to the terms even though the license agreement to use Java clearly states that merely by using Java you 'agree' to the license..</p>\n\n<p>The method that Oracle wants is you to download it with an agreement. After that, this script cn be modified for your  specific Linux</p>\n\n<pre><code>#!/bin/bash\n#Author: Yucca Nel http://thejarbar.org\n#Will restart system\n#Modify these variables as needed...\ntempWork=/tmp/work\nlocBin=/usr/local/bin\njavaUsrLib=/usr/lib/jvm\n\nsudo mkdir -p $javaUsrLib\nmkdir -p $tempWork\ncd $tempWork\n\n#Extract the download\ntar -zxvf $downloadDir/jdk*tar.gz\n\n#Move it to where it can be found...\n\nsudo mv -f $tempWork/jdk* $javaUsrLib/\n\nsudo ln -f -s $javaUsrLib/jdk1/bin/* /usr/bin/\n\n#Update this line to reflect versions of JDK...\nexport JAVA_HOME=\"$javaUsrLib/jdk1.7.0_03\"\n#Extract the download\ntar -zxvf $tempWork/*\n\n#Move it to where it can be found...\n\nsudo mv -f $tempWork/jdk1* $javaUsrLib/\n\nsudo ln -f -s $javaUsrLib/jdk1*/bin/* /usr/bin/\nsudo rm -rf $tempWork\n#Update this line to reflect newer versions of JDK...\nexport JAVA_HOME=\"$javaUsrLib/jdk1.7.0_03\"\n\nif ! grep \"JAVA_HOME=$javaUsrLib/jdk1.7.0_03\" /etc/environment\nthen\n    echo \"JAVA_HOME=$javaUsrLib/jdk1.7.0_03\"| sudo tee -a /etc/environment\nfi\n\n\nexit 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1488689,"reputation":17707,"user_id":1396340,"display_name":"Eric Kamara"},"down_vote_count":8,"up_vote_count":1729,"is_accepted":true,"score":1721,"last_activity_date":1640314065,"creation_date":1339233716,"answer_id":10959815,"question_id":10268583,"body_markdown":"\r\n**Works as of December 23rd, 2021 for JDK 17**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.rpm\r\n\r\n\r\n**Works as of July 27th, 2021 for JDK 16**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/16.0.2%2B7/d4a915d82b4c4fbb9bde534da945d746/jdk-16.0.2_linux-x64_bin.rpm\r\n```\r\n\r\n**Works as of November 5th, 2020 for JDK 15**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/15.0.1+9/51f4f36ad4ef43e39d0dfdbaf6549e32/jdk-15.0.1_linux-x64_bin.rpm\r\n```\r\n\r\n**Works as of 07-11-2020 for JDK 14**\r\n```\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/14.0.1+7/664493ef4a6946b186ff29eb326336a2/jdk-14.0.1_linux-x64_bin.rpm -O ~/Downloads/jdk-14.0.1_linux-x64_bin.rpm\r\n```\r\nPS: Alf added this ( me ) :-) this, I couldn&#39;t figured out how to just commented at the end... Enjoy it.\r\n\r\n\r\n**UPDATED FOR Oracle JDK 11**\r\n\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/11+28/55eed80b163941c8885ad9298e6d786a/jdk-11_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 10.0.2**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.2+13/19aef61b38124481863b1413dce1855f/jdk-10.0.2_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 10.0.1**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 9**\r\nit looks like you can download it now directly from java.net without sending a header \r\n  \r\n    wget http://download.java.net/java/GA/jdk9/9/binaries/jdk-9+181_linux-x64_bin.tar.gz\r\n\r\n**UPDATED FOR JDK 8u191**\r\n\r\nTAR GZ:\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz&quot;\r\n\r\nRPM:\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.rpm&quot;\r\n\r\n**UPDATED FOR JDK 8u131**\r\n\r\nRPM:\r\n\r\n      wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\r\n\r\nTAR GZ: \r\n\r\n     wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\r\n\r\nRPM using curl:\r\n\r\n     curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm &gt; jdk-8u112-linux-x64.rpm\r\n\r\nIn all cases above, subst &#39;i586&#39; for &#39;x64&#39; to download the 32-bit build.\r\n\r\n   - **-j** -&gt; junk cookies\r\n   - **-k** -&gt; ignore certificates\r\n   - **-L** -&gt; follow redirects\r\n   - **-H [arg]** -&gt; headers\r\n\r\n`curl` can be used in place of `wget`.\r\n\r\n**UPDATE FOR JDK 7u79**\r\n\r\nTAR GZ:  \r\n\r\n    wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz\r\n\r\nRPM using curl:\r\n\r\n    curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.rpm &gt; jdk-7u79-linux-x64.rpm\r\n\r\nOnce again, make sure you specify the correct URL for the version you are downloading. You can find the URL here: [Oracle JDK download site][1]\r\n\r\n**ORIGINAL ANSWER FROM 9th June 2012**\r\n\r\nIf you are looking to download the Oracle JDK from the command line using `wget`, there is a workaround. Run the `wget` command as follows:\r\n\r\n    wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-linux-x64.tar.gz&quot;\r\n\r\nBe sure to replace the download link with the correct one for the version you are downloading.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\r\n\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Works as of December 23rd, 2021 for JDK 17</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of July 27th, 2021 for JDK 16</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/16.0.2%2B7/d4a915d82b4c4fbb9bde534da945d746/jdk-16.0.2_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of November 5th, 2020 for JDK 15</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/15.0.1+9/51f4f36ad4ef43e39d0dfdbaf6549e32/jdk-15.0.1_linux-x64_bin.rpm\n</code></pre>\n<p><strong>Works as of 07-11-2020 for JDK 14</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn-pub/java/jdk/14.0.1+7/664493ef4a6946b186ff29eb326336a2/jdk-14.0.1_linux-x64_bin.rpm -O ~/Downloads/jdk-14.0.1_linux-x64_bin.rpm\n</code></pre>\n<p>PS: Alf added this ( me ) :-) this, I couldn't figured out how to just commented at the end... Enjoy it.</p>\n<p><strong>UPDATED FOR Oracle JDK 11</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/11+28/55eed80b163941c8885ad9298e6d786a/jdk-11_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 10.0.2</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.2+13/19aef61b38124481863b1413dce1855f/jdk-10.0.2_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 10.0.1</strong></p>\n<pre><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 9</strong>\nit looks like you can download it now directly from java.net without sending a header</p>\n<pre><code>wget http://download.java.net/java/GA/jdk9/9/binaries/jdk-9+181_linux-x64_bin.tar.gz\n</code></pre>\n<p><strong>UPDATED FOR JDK 8u191</strong></p>\n<p>TAR GZ:</p>\n<pre><code>wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz&quot;\n</code></pre>\n<p>RPM:</p>\n<pre><code>wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;&quot; &quot;https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.rpm&quot;\n</code></pre>\n<p><strong>UPDATED FOR JDK 8u131</strong></p>\n<p>RPM:</p>\n<pre><code>  wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\n</code></pre>\n<p>TAR GZ:</p>\n<pre><code> wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\n</code></pre>\n<p>RPM using curl:</p>\n<pre><code> curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm &gt; jdk-8u112-linux-x64.rpm\n</code></pre>\n<p>In all cases above, subst 'i586' for 'x64' to download the 32-bit build.</p>\n<ul>\n<li><strong>-j</strong> -&gt; junk cookies</li>\n<li><strong>-k</strong> -&gt; ignore certificates</li>\n<li><strong>-L</strong> -&gt; follow redirects</li>\n<li><strong>-H [arg]</strong> -&gt; headers</li>\n</ul>\n<p><code>curl</code> can be used in place of <code>wget</code>.</p>\n<p><strong>UPDATE FOR JDK 7u79</strong></p>\n<p>TAR GZ:</p>\n<pre><code>wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz\n</code></pre>\n<p>RPM using curl:</p>\n<pre><code>curl -v -j -k -L -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.rpm &gt; jdk-7u79-linux-x64.rpm\n</code></pre>\n<p>Once again, make sure you specify the correct URL for the version you are downloading. You can find the URL here: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"noreferrer\">Oracle JDK download site</a></p>\n<p><strong>ORIGINAL ANSWER FROM 9th June 2012</strong></p>\n<p>If you are looking to download the Oracle JDK from the command line using <code>wget</code>, there is a workaround. Run the <code>wget</code> command as follows:</p>\n<pre><code>wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-linux-x64.tar.gz&quot;\n</code></pre>\n<p>Be sure to replace the download link with the correct one for the version you are downloading.</p>\n"},{"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346273355,"creation_date":1339594230,"answer_id":11015931,"question_id":10268583,"body_markdown":"This works for the JDK 6, you just need to replace the download url with the latest version.\r\n\r\n    wget --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6-downloads-1637591.html;&quot; http://download.oracle.com/otn-pub/java/jdk/6u33-b03/jdk-6u33-linux-x64.bin","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This works for the JDK 6, you just need to replace the download url with the latest version.</p>\n\n<pre><code>wget --no-cookies --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6-downloads-1637591.html;\" http://download.oracle.com/otn-pub/java/jdk/6u33-b03/jdk-6u33-linux-x64.bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48890,"reputation":1786,"user_id":145395,"accept_rate":0,"display_name":"Andrew Gilmartin"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1340722046,"creation_date":1340722046,"answer_id":11209953,"question_id":10268583,"body_markdown":"Downloading Java from the command line has always been troublesome. What I have been doing reciently is to use FireFox (other browsers might work) to get a download started on my laptop, pause it (within the Downloads windows), use the &quot;Copy Download Link&quot; menu item of the context menu displayed for the downloading file. This URL can then be used on the Linux box to download the same file. I expect the URL has a short time to live. Ugly, but generally successful.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Downloading Java from the command line has always been troublesome. What I have been doing reciently is to use FireFox (other browsers might work) to get a download started on my laptop, pause it (within the Downloads windows), use the \"Copy Download Link\" menu item of the context menu displayed for the downloading file. This URL can then be used on the Linux box to download the same file. I expect the URL has a short time to live. Ugly, but generally successful.</p>\n"},{"tags":[],"owner":{"account_id":35261,"reputation":163460,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1383492615,"creation_date":1352736256,"answer_id":13347087,"question_id":10268583,"body_markdown":"I know that Oracle made everything possible to make their Java Runtime and Java SDK as hard as possible.\r\n\r\nHere are some guides for command line lovers.\r\n\r\nFor Debian like systems (tested on `Debian` squeeze and `Ubuntu` 12.x+)\r\n\r\n    su -\r\n    echo &quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main&quot; | tee -a /etc/apt/sources.list\r\n    echo &quot;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main&quot; | tee -a /etc/apt/sources.list\r\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\r\n    apt-get update\r\n    apt-get install --yes oracle-java7-installer\r\n    exit\r\n\r\nNote: if you know a better or easier way add a comment, I will update the guide.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I know that Oracle made everything possible to make their Java Runtime and Java SDK as hard as possible.</p>\n\n<p>Here are some guides for command line lovers.</p>\n\n<p>For Debian like systems (tested on <code>Debian</code> squeeze and <code>Ubuntu</code> 12.x+)</p>\n\n<pre><code>su -\necho \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main\" | tee -a /etc/apt/sources.list\necho \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main\" | tee -a /etc/apt/sources.list\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\napt-get update\napt-get install --yes oracle-java7-installer\nexit\n</code></pre>\n\n<p>Note: if you know a better or easier way add a comment, I will update the guide.</p>\n"},{"tags":[],"owner":{"account_id":142944,"reputation":2923,"user_id":1682262,"accept_rate":71,"display_name":"Jason Xu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372143336,"creation_date":1372143336,"answer_id":17290992,"question_id":10268583,"body_markdown":"latest tested,\r\n\r\n&gt; wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz&quot;\r\n\r\nBe aware that certificate check is disabled if you care about absolute security. : )","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>latest tested,</p>\n\n<blockquote>\n  <p>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \"<a href=\"https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz\" rel=\"noreferrer\">https://edelivery.oracle.com/otn-pub/java/jdk/7u25-b15/jdk-7u25-linux-x64.tar.gz</a>\"</p>\n</blockquote>\n\n<p>Be aware that certificate check is disabled if you care about absolute security. : )</p>\n"},{"tags":[],"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1381160094,"creation_date":1380225231,"answer_id":19037455,"question_id":10268583,"body_markdown":"Why not click to download from your browser then copy &amp; paste the exact link where it was downloaded, for example: \r\n\r\n    wget http://download.oracle.com/otn-pub/java/jdk/7u40-b43/jdk-7u40-linux-x64.tar.gz?AuthParam=1380225131_dd70d2038c57a4729d8c0226684xxxx\r\n\r\nYou can find out the link by looking at the network tab of your browser after accepting terms in oracle and clicking to download. F12 in Chrome. Firebug in Firefox.\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Why not click to download from your browser then copy &amp; paste the exact link where it was downloaded, for example: </p>\n\n<pre><code>wget http://download.oracle.com/otn-pub/java/jdk/7u40-b43/jdk-7u40-linux-x64.tar.gz?AuthParam=1380225131_dd70d2038c57a4729d8c0226684xxxx\n</code></pre>\n\n<p>You can find out the link by looking at the network tab of your browser after accepting terms in oracle and clicking to download. F12 in Chrome. Firebug in Firefox.</p>\n"},{"tags":[],"owner":{"account_id":1287092,"reputation":115,"user_id":1239963,"display_name":"nmeegama"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1386335639,"creation_date":1386335639,"answer_id":20424827,"question_id":10268583,"body_markdown":"    sudo wget --no-check-certificate --no-cookies --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-x64.rpm&quot;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<pre><code>sudo wget --no-check-certificate --no-cookies --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \"http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-x64.rpm\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3756935,"reputation":31,"user_id":3123092,"display_name":"tfewster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389608430,"creation_date":1387550069,"answer_id":20705933,"question_id":10268583,"body_markdown":"All of the above seem to assume you know the URL for the latest Java RPM...\r\n\r\nOracle provide persistent links to the *latest* updates of each Java version as documented at\r\nhttps://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1 - though you need to create/log in to an Oracle Support account. *Otherwise you can only access the last &quot;public&quot; update of each Java version, e.g. 1.6_u45 (Mar 2013; Latest update is u65, Oct 2013)*\r\n\r\nOnce you **know** the persistent link, you should be able to resolve it to the real download;\r\nThe following works for me, though I don&#39;t yet know if the &quot;aru&quot; reference changes.\r\n\r\n    ME=&lt;myOracleID&gt;\r\n    PW=&lt;myOraclePW&gt;\r\n    PATCH_FILE=p13079846_17000_Linux-x86-64.zip\r\n\r\n    echo &quot;Get real URL from the persistent link&quot;\r\n\r\n    wget -o getrealurl.out --no-cookies --no-check-certificate --user=$ME \\\r\n    --password=$PW --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot; \\\r\n    https://updates.oracle.com/Orion/Services/download/$PATCH_FILE?aru=16884382&amp;\\\r\n    patch_file=$PATCH_FILE\r\n\r\n    wait    # wget appears to go into background, so &quot;wait&quot; waits \r\n            # until all background processes complete\r\n\r\n    REALURL=`grep &quot;^--&quot; getrealurl.out |tail -1 |sed -e &#39;s/.*http/http/&#39;`\r\n    wget -O $PATCH_FILE $REALURL\r\n    #These last steps must be done quickly, as the REALURL seems to have a short-lived \r\n    #cookie on it and I&#39;ve had no success with  --keep-session-cookies etc.\r\n\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>All of the above seem to assume you know the URL for the latest Java RPM...</p>\n\n<p>Oracle provide persistent links to the <em>latest</em> updates of each Java version as documented at\n<a href=\"https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1\" rel=\"nofollow\">https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=397248601136938&amp;id=1414485.1</a> - though you need to create/log in to an Oracle Support account. *Otherwise you can only access the last \"public\" update of each Java version, e.g. 1.6_u45 (Mar 2013; Latest update is u65, Oct 2013)*</p>\n\n<p>Once you <strong>know</strong> the persistent link, you should be able to resolve it to the real download;\nThe following works for me, though I don't yet know if the \"aru\" reference changes.</p>\n\n<pre><code>ME=&lt;myOracleID&gt;\nPW=&lt;myOraclePW&gt;\nPATCH_FILE=p13079846_17000_Linux-x86-64.zip\n\necho \"Get real URL from the persistent link\"\n\nwget -o getrealurl.out --no-cookies --no-check-certificate --user=$ME \\\n--password=$PW --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com\" \\\nhttps://updates.oracle.com/Orion/Services/download/$PATCH_FILE?aru=16884382&amp;\\\npatch_file=$PATCH_FILE\n\nwait    # wget appears to go into background, so \"wait\" waits \n        # until all background processes complete\n\nREALURL=`grep \"^--\" getrealurl.out |tail -1 |sed -e 's/.*http/http/'`\nwget -O $PATCH_FILE $REALURL\n#These last steps must be done quickly, as the REALURL seems to have a short-lived \n#cookie on it and I've had no success with  --keep-session-cookies etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1112426,"reputation":5231,"user_id":1102648,"accept_rate":71,"display_name":"ssgao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391905941,"creation_date":1391905941,"answer_id":21653625,"question_id":10268583,"body_markdown":"Try \r\n\r\n    wget --no-cookies --header &quot;Cookie: s_nr=1359635827494; s_cc=true; gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6downloads-1902814.html; s_sq=%5B%5BB%5D%5D; gpv_p24=no%20value&quot; http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64-rpm.bin --no-check-certificate -O ./jdk-6u45-linux-x64-rpm.bin\r\n\r\nif you are like me trying to get Oracle JDK 6. \r\n\r\nsource: [Oracle JVM download using curl/wget][1]\r\n\r\n\r\n  [1]: https://gist.github.com/hgomez/4697585","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Try </p>\n\n<pre><code>wget --no-cookies --header \"Cookie: s_nr=1359635827494; s_cc=true; gpw_e24=http%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk6downloads-1902814.html; s_sq=%5B%5BB%5D%5D; gpv_p24=no%20value\" http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64-rpm.bin --no-check-certificate -O ./jdk-6u45-linux-x64-rpm.bin\n</code></pre>\n\n<p>if you are like me trying to get Oracle JDK 6. </p>\n\n<p>source: <a href=\"https://gist.github.com/hgomez/4697585\" rel=\"nofollow\">Oracle JVM download using curl/wget</a></p>\n"},{"tags":[],"owner":{"account_id":2040128,"reputation":3660,"user_id":1821548,"accept_rate":91,"display_name":"Det"},"down_vote_count":0,"up_vote_count":256,"is_accepted":false,"score":256,"last_activity_date":1640693606,"creation_date":1395094114,"answer_id":22466509,"question_id":10268583,"body_markdown":"(*[Irani][1] updated to my answer, but here&#39;s to clarify it all.*)\r\n\r\n### Edit: Updated for [Java 17.0.1][2], released in [19th October, 2021][3]\r\n\r\n## Wget\r\n\r\n    wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\n*See the downloads in [oracle.com][4] for more.*&lt;br&gt;\r\n\r\n - **`-c / --continue`**\r\n\r\n Allows continuing an unfinished download.\r\n\r\n - **`--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;`**\r\n\r\n Since *15th March 2014* this cookie is provided to the user after accepting the [License Agreement][6] and is necessary for accessing the Java packages in *download.oracle.com*. The previous (and first) implementation in *27th March 2012* made use of the cookie `gpw_e24=http%3A%2F%2Fwww.oracle.com[...]`. Both cases remain unannounced to the public.\r\n\r\n *The value doesn&#39;t have to be &quot;`accept-securebackup-cookie`&quot;.*\r\n\r\n### Not required\r\n\r\n - **`--no-cookies`**\r\n\r\n The combination `--no-cookies --header &quot;Cookie: name=value&quot;` is mentioned as the &quot;[official][7]&quot; cookie support, but not strictly required here.\r\n\r\n## cURL\r\n\r\n    curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\n - **`-L / --location`**\r\n\r\n Required for *cURL* to redirect through all the mirrors.\r\n\r\n - **`-C / --continue-at -`**\r\n\r\n *See above. cURL requires the dash (`-`) in the end.*\r\n\r\n - **`-b / --cookie &quot;oraclelicense=accept-securebackup-cookie&quot;`**\r\n\r\n *Same as `-H / --header &quot;Cookie: ...&quot;`, but accepts files too.*\r\n\r\n - **`-O`**\r\n\r\n Required for *cURL* to save files (see [author&#39;s comparison][8] for more differences).\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/10268583/1821548\r\n  [2]: https://www.oracle.com/java/technologies/javase/17u-relnotes.html\r\n  [3]: https://blogs.oracle.com/java/post/jdk-1701-11013-8u311-and-7u321-have-been-released\r\n  [4]: https://www.oracle.com/java/technologies/javase-downloads.html\r\n  [5]: http://www.oracle.com/technetwork/java/javase/terms/license/index.html\r\n  [6]: https://www.gnu.org/software/wget/manual/wget.html#HTTP-Options\r\n  [7]: https://daniel.haxx.se/docs/curl-vs-wget.html\r\n  ","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>(<em><a href=\"https://stackoverflow.com/q/10268583/1821548\">Irani</a> updated to my answer, but here's to clarify it all.</em>)</p>\n<h3>Edit: Updated for <a href=\"https://www.oracle.com/java/technologies/javase/17u-relnotes.html\" rel=\"nofollow noreferrer\">Java 17.0.1</a>, released in <a href=\"https://blogs.oracle.com/java/post/jdk-1701-11013-8u311-and-7u321-have-been-released\" rel=\"nofollow noreferrer\">19th October, 2021</a></h3>\n<h2>Wget</h2>\n<pre><code>wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<p><em>See the downloads in <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">oracle.com</a> for more.</em><br></p>\n<ul>\n<li><strong><code>-c / --continue</code></strong></li>\n</ul>\n<p>Allows continuing an unfinished download.</p>\n<ul>\n<li><strong><code>--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;</code></strong></li>\n</ul>\n<p>Since <em>15th March 2014</em> this cookie is provided to the user after accepting the <a href=\"https://www.gnu.org/software/wget/manual/wget.html#HTTP-Options\" rel=\"nofollow noreferrer\">License Agreement</a> and is necessary for accessing the Java packages in <em>download.oracle.com</em>. The previous (and first) implementation in <em>27th March 2012</em> made use of the cookie <code>gpw_e24=http%3A%2F%2Fwww.oracle.com[...]</code>. Both cases remain unannounced to the public.</p>\n<p><em>The value doesn't have to be &quot;<code>accept-securebackup-cookie</code>&quot;.</em></p>\n<h3>Not required</h3>\n<ul>\n<li><strong><code>--no-cookies</code></strong></li>\n</ul>\n<p>The combination <code>--no-cookies --header &quot;Cookie: name=value&quot;</code> is mentioned as the &quot;<a href=\"https://daniel.haxx.se/docs/curl-vs-wget.html\" rel=\"nofollow noreferrer\">official</a>&quot; cookie support, but not strictly required here.</p>\n<h2>cURL</h2>\n<pre><code>curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<ul>\n<li><strong><code>-L / --location</code></strong></li>\n</ul>\n<p>Required for <em>cURL</em> to redirect through all the mirrors.</p>\n<ul>\n<li><strong><code>-C / --continue-at -</code></strong></li>\n</ul>\n<p><em>See above. cURL requires the dash (<code>-</code>) in the end.</em></p>\n<ul>\n<li><strong><code>-b / --cookie &quot;oraclelicense=accept-securebackup-cookie&quot;</code></strong></li>\n</ul>\n<p><em>Same as <code>-H / --header &quot;Cookie: ...&quot;</code>, but accepts files too.</em></p>\n<ul>\n<li><strong><code>-O</code></strong></li>\n</ul>\n<p>Required for <em>cURL</em> to save files (see [author's comparison][8] for more differences).</p>\n"},{"tags":[],"owner":{"account_id":134731,"reputation":4031,"user_id":337079,"display_name":"mogsie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398160309,"creation_date":1398160309,"answer_id":23216090,"question_id":10268583,"body_markdown":"I solve this (for Debian based Linux distros) by making packages using `java-package` a few times (for various architectures), then distributing them internally.\r\n\r\nThe big plus side is that this method always works; no matter how crazy Oracle&#39;s web pages become.  Oracle can no longer break my build!\r\n\r\nThe downside is that it&#39;s a bit more work to set up initially.\r\n\r\n - Download the tar.gz files manually in a browser (thus &quot;accepting&quot; their terms)\r\n - Run `make-jpkg jdk-7u51-linux-x64.tar.gz`. This creates `oracle-java8-jdk_8_amd64.deb`\r\n - Distribute it within your organization\r\n\r\nFor distribution over the Internet, I suggest using a password protected apt repository or provide raw packages using symmetric encryption:\r\n\r\n    passphrase=&quot;Hard to crack string. Use /dev/urandom for inspiration.&quot;\r\n    gpg --batch --symmetric --force-mdc --passphrase-fd 0 \\\r\n       oracle-java8-jdk_8_amd64.deb &lt;&lt;&lt; &quot;$passphrase&quot;\r\n\r\nOf course providing (unencrypted) .deb packages on the internet is *probably* a violation of your license agreement with Oracle, which states:\r\n&gt; ... Oracle grants you a ... license ... to reproduce and use internally the Software complete and unmodified for the sole purpose of running Programs&quot;\r\n\r\nOn the receiving end, if you have a password protected apt repo, all you need to do is `apt-get install` it. If you have raw packages, download, decrypt and `dpkg -i` them.  Works like a charm!\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I solve this (for Debian based Linux distros) by making packages using <code>java-package</code> a few times (for various architectures), then distributing them internally.</p>\n\n<p>The big plus side is that this method always works; no matter how crazy Oracle's web pages become.  Oracle can no longer break my build!</p>\n\n<p>The downside is that it's a bit more work to set up initially.</p>\n\n<ul>\n<li>Download the tar.gz files manually in a browser (thus \"accepting\" their terms)</li>\n<li>Run <code>make-jpkg jdk-7u51-linux-x64.tar.gz</code>. This creates <code>oracle-java8-jdk_8_amd64.deb</code></li>\n<li>Distribute it within your organization</li>\n</ul>\n\n<p>For distribution over the Internet, I suggest using a password protected apt repository or provide raw packages using symmetric encryption:</p>\n\n<pre><code>passphrase=\"Hard to crack string. Use /dev/urandom for inspiration.\"\ngpg --batch --symmetric --force-mdc --passphrase-fd 0 \\\n   oracle-java8-jdk_8_amd64.deb &lt;&lt;&lt; \"$passphrase\"\n</code></pre>\n\n<p>Of course providing (unencrypted) .deb packages on the internet is <em>probably</em> a violation of your license agreement with Oracle, which states:</p>\n\n<blockquote>\n  <p>... Oracle grants you a ... license ... to reproduce and use internally the Software complete and unmodified for the sole purpose of running Programs\"</p>\n</blockquote>\n\n<p>On the receiving end, if you have a password protected apt repo, all you need to do is <code>apt-get install</code> it. If you have raw packages, download, decrypt and <code>dpkg -i</code> them.  Works like a charm!</p>\n"},{"tags":[],"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432036524,"creation_date":1432036524,"answer_id":30324941,"question_id":10268583,"body_markdown":"I&#39;ve made a jdk-download script (specific for the tar.gz) for my gentoo boxes. Doesn&#39;t need to be updated like other similar scripts, trying to &quot;brute-force&quot; download the latest build for whatever version you want.\r\n\r\n**USAGE**\r\n\r\n    jdk-download&lt; &lt;version&gt; &lt;platform&gt; [&lt;build&gt;]\r\n    \r\n    * &lt;version&gt; - Something like &quot;8u40&quot;\r\n    * &lt;platform&gt; - Usually i586 or x64\r\n    * &lt;build&gt; - The internal build number used by oracle, to avoid guessing and trying to download starting from 99 to 1 (build 0, really?!!)\r\n\r\n[Blog post][1]\r\n\r\n[Source on bitbucket][2]\r\n\r\n\r\n  [1]: http://bonfab.io/?p=10\r\n  [2]: https://bitbucket.org/bfx/jdk-download/src/2b32dbe6775ce6008b84bf3dc1d9329708f88774/jdk-download?at=default","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>I've made a jdk-download script (specific for the tar.gz) for my gentoo boxes. Doesn't need to be updated like other similar scripts, trying to \"brute-force\" download the latest build for whatever version you want.</p>\n\n<p><strong>USAGE</strong></p>\n\n<pre><code>jdk-download&lt; &lt;version&gt; &lt;platform&gt; [&lt;build&gt;]\n\n* &lt;version&gt; - Something like \"8u40\"\n* &lt;platform&gt; - Usually i586 or x64\n* &lt;build&gt; - The internal build number used by oracle, to avoid guessing and trying to download starting from 99 to 1 (build 0, really?!!)\n</code></pre>\n\n<p><a href=\"http://bonfab.io/?p=10\" rel=\"nofollow\">Blog post</a></p>\n\n<p><a href=\"https://bitbucket.org/bfx/jdk-download/src/2b32dbe6775ce6008b84bf3dc1d9329708f88774/jdk-download?at=default\" rel=\"nofollow\">Source on bitbucket</a></p>\n"},{"tags":[],"owner":{"account_id":84536,"reputation":2437,"user_id":236241,"display_name":"Cole Stanfield"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435852814,"creation_date":1435852814,"answer_id":31189401,"question_id":10268583,"body_markdown":"For those needing JCE8 as well, you can download that also.\r\n\r\n    curl -L -C - -b &quot;oraclelicense=accept-securebackup-cookie&quot; -O http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\r\n\r\nOr\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>For those needing JCE8 as well, you can download that also.</p>\n\n<pre><code>curl -L -C - -b \"oraclelicense=accept-securebackup-cookie\" -O http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500797,"reputation":134,"user_id":4370196,"display_name":"Benjen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484744394,"creation_date":1484744394,"answer_id":41720110,"question_id":10268583,"body_markdown":"As already posted here:\r\nhttps://stackoverflow.com/a/41718895/4370196\r\n\r\n# Update for JDK 8 Update 121 #\r\n\r\nSince Oracle inserted some md5hash in their download links, one cannot automatically assemble a download link for command line.\r\n\r\nSo I tinkered some nasty bash command line to get the latest jdk download link, download it and directly install via rpm.\r\nFor all who are interested:\r\n\r\n&gt; wget -q http://www.oracle.com/technetwork/java/javase/downloads/index.html -O ./index.html &amp;&amp; grep -Eoi &#39;&lt;a [^&gt;]+&gt;&#39; index.html | grep -Eoi &#39;/technetwork/java/javase/downloads/jdk8-downloads-[0-9]+.html&#39; | (head -n 1) | awk &#39;{print &quot;http://www.oracle.com&quot;$1}&#39; | xargs wget --no-cookies --header &quot;Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;&quot; -O index.html -q &amp;&amp; grep -Eoi &#39;&quot;filepath&quot;:&quot;[^&quot;]+jdk-8u[0-9]+-**linux-x64.rpm**&quot;&#39; index.html | grep -Eoi &#39;http:[^&quot;]+&#39; | xargs wget --no-cookies --header &quot;Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;&quot; -q -O ./jdk8.rpm &amp;&amp; sudo rpm -i ./jdk8.rpm\r\n\r\nThe **bold part** should be replaced by the package of your liking.\r\n\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>As already posted here:\n<a href=\"https://stackoverflow.com/a/41718895/4370196\">https://stackoverflow.com/a/41718895/4370196</a></p>\n\n<h1>Update for JDK 8 Update 121</h1>\n\n<p>Since Oracle inserted some md5hash in their download links, one cannot automatically assemble a download link for command line.</p>\n\n<p>So I tinkered some nasty bash command line to get the latest jdk download link, download it and directly install via rpm.\nFor all who are interested:</p>\n\n<blockquote>\n  <p>wget -q <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a> -O ./index.html &amp;&amp; grep -Eoi ']+>' index.html | grep -Eoi '/technetwork/java/javase/downloads/jdk8-downloads-[0-9]+.html' | (head -n 1) | awk '{print \"<a href=\"http://www.oracle.com\" rel=\"nofollow noreferrer\">http://www.oracle.com</a>\"$1}' | xargs wget --no-cookies --header \"Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;\" -O index.html -q &amp;&amp; grep -Eoi '\"filepath\":\"[^\"]+jdk-8u[0-9]+-<strong>linux-x64.rpm</strong>\"' index.html | grep -Eoi 'http:[^\"]+' | xargs wget --no-cookies --header \"Cookie: gpw_e24=xxx; oraclelicense=accept-securebackup-cookie;\" -q -O ./jdk8.rpm &amp;&amp; sudo rpm -i ./jdk8.rpm</p>\n</blockquote>\n\n<p>The <strong>bold part</strong> should be replaced by the package of your liking.</p>\n"},{"tags":[],"owner":{"account_id":1398258,"reputation":386,"user_id":1327583,"display_name":"jdrews"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1524076670,"creation_date":1491938168,"answer_id":43354450,"question_id":10268583,"body_markdown":"**Updated for JDK 8u171 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm\r\n\r\n\r\n----------\r\n\r\n\r\n*Outdated links below*\r\n\r\n&lt;s&gt; **Updated for JDK 8u161 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm\r\n  \r\n\r\n**Updated for JDK 8u152 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u152-b16/aa0333dd3019491ca4f6ddbe78cdb6d0/jdk-8u152-linux-x64.rpm\r\n\r\n**Updated for JDK 8u144 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.rpm\r\n\r\n**Updated for JDK 8u131 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\r\n\r\n**Updated for JDK 8u121 RPM**\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u121-b13/e9e7ea248e2c4826b92b3f075a80e441/jdk-8u121-linux-x64.rpm\r\n\r\n&lt;/s&gt;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Updated for JDK 8u171 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm\n</code></pre>\n\n<hr>\n\n<p><em>Outdated links below</em></p>\n\n<p><s> <strong>Updated for JDK 8u161 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u152 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u152-b16/aa0333dd3019491ca4f6ddbe78cdb6d0/jdk-8u152-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u144 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u131 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\n</code></pre>\n\n<p><strong>Updated for JDK 8u121 RPM</strong></p>\n\n<pre><code>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u121-b13/e9e7ea248e2c4826b92b3f075a80e441/jdk-8u121-linux-x64.rpm\n</code></pre>\n\n<p></s></p>\n"},{"tags":[],"owner":{"account_id":2033634,"reputation":1432,"user_id":1980619,"accept_rate":75,"display_name":"ILMostro_7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507749851,"creation_date":1493150440,"answer_id":43619926,"question_id":10268583,"body_markdown":"The accepted answer was not working for me, as of 2017-04-25.  However, the simple solution was using the `-b` flag instead of the `--header` option.\r\n\r\nFor example, to get jdk-1.8_131:\r\n\r\n\r\n    version=&#39;8u131&#39;; wget -H -O jdk-$version-linux-x64.tar.gz --no-check-certificate --no-cookies -b &quot;oraclelicense=a&quot; http://download.oracle.com/otn-pub/java/jdk/$version-b11/jdk-$version-linux-x64.tar.gz\r\n\r\n\r\nThat will execute in the background, writing output to `wget-log`.\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>The accepted answer was not working for me, as of 2017-04-25.  However, the simple solution was using the <code>-b</code> flag instead of the <code>--header</code> option.</p>\n\n<p>For example, to get jdk-1.8_131:</p>\n\n<pre><code>version='8u131'; wget -H -O jdk-$version-linux-x64.tar.gz --no-check-certificate --no-cookies -b \"oraclelicense=a\" http://download.oracle.com/otn-pub/java/jdk/$version-b11/jdk-$version-linux-x64.tar.gz\n</code></pre>\n\n<p>That will execute in the background, writing output to <code>wget-log</code>.</p>\n"},{"tags":[],"owner":{"account_id":6786775,"reputation":657,"user_id":5225255,"display_name":"vvardhanz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506267181,"creation_date":1506267181,"answer_id":46391763,"question_id":10268583,"body_markdown":"**wget** This Worked for me JDK8\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2F%www.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm&quot;\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>wget</strong> This Worked for me JDK8</p>\n\n<pre><code>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2F%www.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.rpm\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509496137,"creation_date":1509496137,"answer_id":47046488,"question_id":10268583,"body_markdown":"[oracle-java-download][1] is a project on GitHub that allows you to create download links for JDK 8 and JDK 9 which you can use for further processing e.g in automated build or deployment processes.\r\n\r\nIt requires Linux, Docker and a JDK &gt;= 8 to run.\r\n\r\n  [1]: https://github.com/veita/oracle-java-download","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><a href=\"https://github.com/veita/oracle-java-download\" rel=\"nofollow noreferrer\">oracle-java-download</a> is a project on GitHub that allows you to create download links for JDK 8 and JDK 9 which you can use for further processing e.g in automated build or deployment processes.</p>\n\n<p>It requires Linux, Docker and a JDK >= 8 to run.</p>\n"},{"tags":[],"owner":{"account_id":10935039,"reputation":37,"user_id":8037053,"display_name":"Роман В"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516282559,"creation_date":1516282559,"answer_id":48322664,"question_id":10268583,"body_markdown":"wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05&quot;","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"<a href=\"http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-x64.rpm?AuthParam=1516282527_40effcfefd78d78bce12c0a4030a1b05</a>\"</p>\n"},{"tags":[],"owner":{"account_id":4583611,"reputation":406,"user_id":3813621,"display_name":"Stats_Lover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518011121,"creation_date":1518011121,"answer_id":48665419,"question_id":10268583,"body_markdown":"**Context**\r\n\r\nI recently faced the same problem and although the comments on this page and some \r\nothers provided helpful hints - I thought it would be good to document the steps I took to fix the problem for folks who may be in need of further help.\r\n\r\n**System Details**\r\n\r\nI am following the PNDA set up on AWS by following the step by step pnda installation guide at: \r\n\r\n    https://github.com/pndaproject/pnda-guide/blob/develop/provisioning/aws/PREPARE.md\r\n\r\nI am using ubuntu 14.04 [free tier eligible] on AWS cloud, and am running the code from 64 bit windows8.1 laptop. I am using PUTTY to connect to the server instance. I git cloned the pnda code from https://github.com/pndaproject/pnda to the ubuntu instance. \r\n\r\n**Important Note**\r\nPlease note that if you plan to use Ubuntu instance on AWS make sure it&#39;s 14.04 only. If you use version 16, it does not work. I learnt it the hard way!\r\n\r\n**Resolution Steps**\r\n\r\nAs those who have gone as far as to have encountered the error being discussed here would know - the mirror creation file involves the following steps - \r\n\r\n1) Run the script create_mirror.sh `[ sudo su -s ./create_mirror.sh ]` to run the full mirror creation process\r\n\r\n2) This script in turn calls various other scripts - one of them being **create_mirror_misc.sh**; this script refers to `pnda-static-file-dependencies.txt` which has a list of files to be downloaded.\r\n\r\n3) On the very first line of the pnda-static-file-dependencies.txt is a reference to download the jdk-8u131-linux-x64.tar.gz file from  `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz oraclelicense=accept-securebackup-cookie`; It is at this point that my script was failing with the message `Failed to download http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz after 3 retries`\r\n\r\n4) I browsed to the page `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz` and found the following error message displayed `**In order to download products from Oracle Technology Network you must agree to the OTN license terms**` \r\n\r\n5) To resolve this problem I made the following change to the `pnda-static-file-dependencies.txt`; I added --no-check-certificate --no-cookies to bypass the license term agreement condition  \r\n\r\n6) So the revised code looks like - `http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz --no-check-certificate --no-cookies oraclelicense=accept-securebackup-cookie`\r\n\r\n\r\n\r\nI hope this is helpful.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p><strong>Context</strong></p>\n\n<p>I recently faced the same problem and although the comments on this page and some \nothers provided helpful hints - I thought it would be good to document the steps I took to fix the problem for folks who may be in need of further help.</p>\n\n<p><strong>System Details</strong></p>\n\n<p>I am following the PNDA set up on AWS by following the step by step pnda installation guide at: </p>\n\n<pre><code>https://github.com/pndaproject/pnda-guide/blob/develop/provisioning/aws/PREPARE.md\n</code></pre>\n\n<p>I am using ubuntu 14.04 [free tier eligible] on AWS cloud, and am running the code from 64 bit windows8.1 laptop. I am using PUTTY to connect to the server instance. I git cloned the pnda code from <a href=\"https://github.com/pndaproject/pnda\" rel=\"nofollow noreferrer\">https://github.com/pndaproject/pnda</a> to the ubuntu instance. </p>\n\n<p><strong>Important Note</strong>\nPlease note that if you plan to use Ubuntu instance on AWS make sure it's 14.04 only. If you use version 16, it does not work. I learnt it the hard way!</p>\n\n<p><strong>Resolution Steps</strong></p>\n\n<p>As those who have gone as far as to have encountered the error being discussed here would know - the mirror creation file involves the following steps - </p>\n\n<p>1) Run the script create_mirror.sh <code>[ sudo su -s ./create_mirror.sh ]</code> to run the full mirror creation process</p>\n\n<p>2) This script in turn calls various other scripts - one of them being <strong>create_mirror_misc.sh</strong>; this script refers to <code>pnda-static-file-dependencies.txt</code> which has a list of files to be downloaded.</p>\n\n<p>3) On the very first line of the pnda-static-file-dependencies.txt is a reference to download the jdk-8u131-linux-x64.tar.gz file from  <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz oraclelicense=accept-securebackup-cookie</code>; It is at this point that my script was failing with the message <code>Failed to download http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz after 3 retries</code></p>\n\n<p>4) I browsed to the page <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz</code> and found the following error message displayed <code>**In order to download products from Oracle Technology Network you must agree to the OTN license terms**</code> </p>\n\n<p>5) To resolve this problem I made the following change to the <code>pnda-static-file-dependencies.txt</code>; I added --no-check-certificate --no-cookies to bypass the license term agreement condition  </p>\n\n<p>6) So the revised code looks like - <code>http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz --no-check-certificate --no-cookies oraclelicense=accept-securebackup-cookie</code></p>\n\n<p>I hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":9097660,"reputation":9383,"user_id":6771046,"display_name":"U880D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525117964,"creation_date":1523464152,"answer_id":49780226,"question_id":10268583,"body_markdown":"Instead of using for every new Java version a new link or changing existing scripts, I was looking for a more generic way to automate the download of the required Java packages and later installation via `yum localinstall ${JAVA_ENVIRONMENT}-${JAVA_VERSION}-linux-x64.rpm`. \r\n\r\nI&#39;ve used a somehow trivial approach similar to manual/user action to find the package and to download it. I am also pretty sure that one will find a more elegant way to do it by using other tools like `egrep`, `awk`, etc.., so leave it as an example here: \r\n\r\n    #!/bin/bash\r\n\r\n    ### Proxy settings\r\n    # If there is a company proxy \r\n    \r\n    PROXY=&quot;my.proxy.local:8080&quot;\r\n    PROXY_TYPE=&quot;--proxy-ntlm&quot; # or leave empty with &quot;&quot;\r\n    USER=&quot;user&quot;\r\n    PASS=&#39;pass&#39;\r\n    \r\n    ### Find out the links to JRE and JDK \r\n    # To do so, got to the page http://www.oracle.com/technetwork/java/javase/downloads/\r\n    \r\n    BASE_URL=&quot;technetwork/java/javase/downloads&quot;\r\n    \r\n    # Put the whole page into a single string/line\r\n    \r\n    BASE_URL_OUTPUT=&quot;$(curl -s -k ${PROXY_TYPE} -x &quot;http://${USER}:${PASS}@${PROXY}&quot; -L0 http://www.oracle.com/${BASE_URL}/)&quot;\r\n    \r\n    # Define the environments to download \r\n    \r\n    JAVA_ENVIRONMENTS=(&quot;JRE&quot; &quot;JDK&quot;) # ! yet &quot;SERVER-JRE&quot;\r\n    \r\n    for JAVA_ENVIRONMENT in &quot;${JAVA_ENVIRONMENTS[@]}&quot;\r\n    do\r\n    \r\n    echo\r\n    echo &quot;JAVA_ENVIRONMENT=&quot;$JAVA_ENVIRONMENT\r\n    echo\r\n    \r\n    for (( JAVA_BASE_VERSION = 8; JAVA_BASE_VERSION &lt;= 10; JAVA_BASE_VERSION += 2 ))  \r\n    do\r\n    \r\n    echo &quot;JAVA_BASE_VERSION=&quot;$JAVA_BASE_VERSION\r\n    \r\n    ### &quot;Read the page&quot;\r\n    # and follow the links for the package interested in \r\n    \r\n    DOWNLOAD_SITE=&quot;$(echo $BASE_URL_OUTPUT | grep -m 1 -io &quot;${JAVA_ENVIRONMENT}${JAVA_BASE_VERSION}-downloads-[0-9]*.html&quot; -- | tail -1)&quot;\r\n    echo &quot;DOWNLOAD_SITE=&quot;$DOWNLOAD_SITE\r\n    \r\n    ### Gather the necessary download links\r\n    # To do so, following the link to the download site\r\n    # reading and accept the license \r\n    # \r\n    # ... the greedy regular expression is to address the different syntax of the links\r\n    # and already prepared for OR .gz files \r\n    \r\n    DOWNLOAD_LINK_OUTPUT=&quot;$(curl -s -k ${PROXY_TYPE} -x &quot;http://${USER}:${PASS}@${PROXY}&quot; -L -j -H &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://www.oracle.com/${BASE_URL}/${DOWNLOAD_SITE} |  grep -io &quot;filepath.*${JAVA_ENVIRONMENT}-[${JAVA_BASE_VERSION}].*linux[-_]x64[._].*\\(rpm\\)&quot; -- | cut -d &#39;&quot;&#39; -f 3 | tail -1)&quot;\r\n    \r\n    # and echo out the link\r\n    \r\n    echo &quot;DOWNLOAD_LINK_OUTPUT=&quot;$DOWNLOAD_LINK_OUTPUT\r\n    \r\n    done\r\n    \r\n    done\r\n\r\nSince the download links are available now, one may proceed further with `wget` or `curl`. ","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Instead of using for every new Java version a new link or changing existing scripts, I was looking for a more generic way to automate the download of the required Java packages and later installation via <code>yum localinstall ${JAVA_ENVIRONMENT}-${JAVA_VERSION}-linux-x64.rpm</code>. </p>\n\n<p>I've used a somehow trivial approach similar to manual/user action to find the package and to download it. I am also pretty sure that one will find a more elegant way to do it by using other tools like <code>egrep</code>, <code>awk</code>, etc.., so leave it as an example here: </p>\n\n<pre><code>#!/bin/bash\n\n### Proxy settings\n# If there is a company proxy \n\nPROXY=\"my.proxy.local:8080\"\nPROXY_TYPE=\"--proxy-ntlm\" # or leave empty with \"\"\nUSER=\"user\"\nPASS='pass'\n\n### Find out the links to JRE and JDK \n# To do so, got to the page http://www.oracle.com/technetwork/java/javase/downloads/\n\nBASE_URL=\"technetwork/java/javase/downloads\"\n\n# Put the whole page into a single string/line\n\nBASE_URL_OUTPUT=\"$(curl -s -k ${PROXY_TYPE} -x \"http://${USER}:${PASS}@${PROXY}\" -L0 http://www.oracle.com/${BASE_URL}/)\"\n\n# Define the environments to download \n\nJAVA_ENVIRONMENTS=(\"JRE\" \"JDK\") # ! yet \"SERVER-JRE\"\n\nfor JAVA_ENVIRONMENT in \"${JAVA_ENVIRONMENTS[@]}\"\ndo\n\necho\necho \"JAVA_ENVIRONMENT=\"$JAVA_ENVIRONMENT\necho\n\nfor (( JAVA_BASE_VERSION = 8; JAVA_BASE_VERSION &lt;= 10; JAVA_BASE_VERSION += 2 ))  \ndo\n\necho \"JAVA_BASE_VERSION=\"$JAVA_BASE_VERSION\n\n### \"Read the page\"\n# and follow the links for the package interested in \n\nDOWNLOAD_SITE=\"$(echo $BASE_URL_OUTPUT | grep -m 1 -io \"${JAVA_ENVIRONMENT}${JAVA_BASE_VERSION}-downloads-[0-9]*.html\" -- | tail -1)\"\necho \"DOWNLOAD_SITE=\"$DOWNLOAD_SITE\n\n### Gather the necessary download links\n# To do so, following the link to the download site\n# reading and accept the license \n# \n# ... the greedy regular expression is to address the different syntax of the links\n# and already prepared for OR .gz files \n\nDOWNLOAD_LINK_OUTPUT=\"$(curl -s -k ${PROXY_TYPE} -x \"http://${USER}:${PASS}@${PROXY}\" -L -j -H \"Cookie: oraclelicense=accept-securebackup-cookie\" http://www.oracle.com/${BASE_URL}/${DOWNLOAD_SITE} |  grep -io \"filepath.*${JAVA_ENVIRONMENT}-[${JAVA_BASE_VERSION}].*linux[-_]x64[._].*\\(rpm\\)\" -- | cut -d '\"' -f 3 | tail -1)\"\n\n# and echo out the link\n\necho \"DOWNLOAD_LINK_OUTPUT=\"$DOWNLOAD_LINK_OUTPUT\n\ndone\n\ndone\n</code></pre>\n\n<p>Since the download links are available now, one may proceed further with <code>wget</code> or <code>curl</code>. </p>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528878389,"creation_date":1528878389,"answer_id":50832483,"question_id":10268583,"body_markdown":"you should try:\r\n\r\n    wget \\\r\n        \t--no-cookies \\\r\n        \t--header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\r\n        \thttp://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz \\\r\n        \t-O java.tar.gz","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>you should try:</p>\n\n<pre><code>wget \\\n        --no-cookies \\\n        --header \"Cookie: oraclelicense=accept-securebackup-cookie\" \\\n        http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz \\\n        -O java.tar.gz\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1669823713,"creation_date":1533587149,"answer_id":51715155,"question_id":10268583,"body_markdown":"There is a good alternative for installing different JDK from the command line ... using https://sdkman.io/ there are plenty of vendedors\r\n\r\n    sdk install java 19.0.1-oracle","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>There is a good alternative for installing different JDK from the command line ... using <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a> there are plenty of vendedors</p>\n<pre><code>sdk install java 19.0.1-oracle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501711,"reputation":709,"user_id":5699784,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536228077,"creation_date":1536228077,"answer_id":52201546,"question_id":10268583,"body_markdown":"this command can download jdk8 tgz package at now (2018-09-06), good luck !\r\n\r\n    wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz&quot;\r\n","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>this command can download jdk8 tgz package at now (2018-09-06), good luck !</p>\n\n<pre><code>wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9412854,"reputation":129,"user_id":7001350,"display_name":"AnJia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568860057,"creation_date":1568860057,"answer_id":58002894,"question_id":10268583,"body_markdown":"download jdk 8u221\r\n\r\n```\r\n$ wget -c --content-disposition &quot;https://javadl.oracle.com/webapps/download/AutoDL?BundleId=239835_230deb18db3e4014bb8e3e8324f81b43&quot;\r\n$ old=$(ls -hat | grep jre | head -n1)\r\n$ mv $old $(echo $old | awk -F&quot;?&quot; &#39;{print $1}&#39;)\r\n```\r\nmy blog [044-wget下载jdk8u221][1]\r\n\r\n\r\n  [1]: https://anjia0532.github.io/2019/09/18/wget-jdk-8u221","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>download jdk 8u221</p>\n\n<pre><code>$ wget -c --content-disposition \"https://javadl.oracle.com/webapps/download/AutoDL?BundleId=239835_230deb18db3e4014bb8e3e8324f81b43\"\n$ old=$(ls -hat | grep jre | head -n1)\n$ mv $old $(echo $old | awk -F\"?\" '{print $1}')\n</code></pre>\n\n<p>my blog <a href=\"https://anjia0532.github.io/2019/09/18/wget-jdk-8u221\" rel=\"nofollow noreferrer\">044-wget下载jdk8u221</a></p>\n"},{"tags":[],"owner":{"account_id":9545664,"reputation":1242,"user_id":7091867,"display_name":"krishnakeshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570549715,"creation_date":1570549715,"answer_id":58289860,"question_id":10268583,"body_markdown":"This happens because when you click the &quot;Accept&quot; button on the download page in your browser, the webpage saves a cookie that it uses to check your agreement before letting you download the file. The problem occurs when trying to download from the command line using wget and it&#39;s because there&#39;s no cookie information sent with the wget request for downloading the file so from the file server&#39;s perspective, you&#39;re a completely new user who hasn&#39;t accepted the license agreement.\r\n\r\nOne solution is to send cookie information using the --header option of the wget utility (as shown above in other answers). Ideally if some content is protected, you&#39;d use the various session management options available with wget. For this particular problem however, it&#39;s solved (currently) by sending the `Cookie` header with the download request.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This happens because when you click the \"Accept\" button on the download page in your browser, the webpage saves a cookie that it uses to check your agreement before letting you download the file. The problem occurs when trying to download from the command line using wget and it's because there's no cookie information sent with the wget request for downloading the file so from the file server's perspective, you're a completely new user who hasn't accepted the license agreement.</p>\n\n<p>One solution is to send cookie information using the --header option of the wget utility (as shown above in other answers). Ideally if some content is protected, you'd use the various session management options available with wget. For this particular problem however, it's solved (currently) by sending the <code>Cookie</code> header with the download request.</p>\n"},{"tags":[],"owner":{"account_id":3166084,"reputation":908,"user_id":2676075,"display_name":"EvilKittenLord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584374994,"creation_date":1584374994,"answer_id":60709417,"question_id":10268583,"body_markdown":"Here&#39;s how to get the command yourself.\r\nThis works for any version:\r\n\r\n 1. Access packages page here: https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n 2. Click the download link for your desired package\r\n 3. Check the box indicating that you have &quot;reviewed and accept...&quot;\r\n 4. Right-click &amp; Copy the link address from the button\r\n 5. Paste into a text editor and then copy everything AFTER &#39;nexturl=&#39;, beginning with &#39;https://&#39;\r\n 6. Update the download URL in this command and you should be good to go:\r\n\r\n    wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz\r\n\r\nTo further explain the wget, the --no-check-certificate should be clear enough, but the header content (for any call) is discoverable by using the Developer Tools Network Tab in your browser. The developer tools are powerful and are well worth the time to learn.\r\nEnjoy.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>Here's how to get the command yourself.\nThis works for any version:</p>\n\n<ol>\n<li>Access packages page here: <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jdk11-downloads.html</a></li>\n<li>Click the download link for your desired package</li>\n<li>Check the box indicating that you have \"reviewed and accept...\"</li>\n<li>Right-click &amp; Copy the link address from the button</li>\n<li>Paste into a text editor and then copy everything AFTER 'nexturl=', beginning with 'https://'</li>\n<li><p>Update the download URL in this command and you should be good to go:</p>\n\n<p>wget --no-check-certificate -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" <a href=\"https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn/java/jdk/11.0.6+8/90eb79fb590d45c8971362673c5ab495/jdk-11.0.6_linux-x64_bin.tar.gz</a></p></li>\n</ol>\n\n<p>To further explain the wget, the --no-check-certificate should be clear enough, but the header content (for any call) is discoverable by using the Developer Tools Network Tab in your browser. The developer tools are powerful and are well worth the time to learn.\nEnjoy.</p>\n"},{"tags":[],"owner":{"account_id":3443585,"reputation":3422,"user_id":2884893,"display_name":"The Billionaire Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585503549,"creation_date":1585503549,"answer_id":60918268,"question_id":10268583,"body_markdown":"@eric answer did the trick for me, you need to accept terms in the command you are setting\r\ni.e\r\n\r\n    &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\r\n\r\nso your final command looks thus\r\n\r\n    wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\r\n\r\nYou can decide to update the version by changing `8u131` to `8uXXX`. so long it is available in the repo.","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>@eric answer did the trick for me, you need to accept terms in the command you are setting\ni.e</p>\n\n<pre><code>\"Cookie: oraclelicense=accept-securebackup-cookie\"\n</code></pre>\n\n<p>so your final command looks thus</p>\n\n<pre><code>wget -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\n</code></pre>\n\n<p>You can decide to update the version by changing <code>8u131</code> to <code>8uXXX</code>. so long it is available in the repo.</p>\n"},{"tags":[],"owner":{"account_id":3673356,"reputation":64,"user_id":3059977,"display_name":"HereToLearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632742248,"creation_date":1632742248,"answer_id":69345833,"question_id":10268583,"body_markdown":"This problem will be solved from Oracle JDK 17 onwards -\r\n\r\nhttps://www.oracle.com/java/technologies/jdk-script-friendly-urls/\r\n\r\nThe latest version of Oracle JDK 17 can be downloaded from a command line, or automatically in scripts and dockerfiles by using download URLs which will deliver the then current update release.\r\n\r\nOne can use -\r\n```\r\nwget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n```\r\nformat to get the latest 17 release","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>This problem will be solved from Oracle JDK 17 onwards -</p>\n<p><a href=\"https://www.oracle.com/java/technologies/jdk-script-friendly-urls/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/jdk-script-friendly-urls/</a></p>\n<p>The latest version of Oracle JDK 17 can be downloaded from a command line, or automatically in scripts and dockerfiles by using download URLs which will deliver the then current update release.</p>\n<p>One can use -</p>\n<pre><code>wget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\n</code></pre>\n<p>format to get the latest 17 release</p>\n"}],"owner":{"account_id":444156,"reputation":9359,"user_id":835806,"accept_rate":94,"display_name":"thejartender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544374,"favorite_count":0,"down_vote_count":4,"up_vote_count":650,"accepted_answer_id":10959815,"answer_count":30,"score":646,"last_activity_date":1669823713,"creation_date":1335103390,"question_id":10268583,"body_markdown":"When I try to download Java from Oracle I instead end up downloading a page telling me that I need agree to the OTN license terms.\r\n\r\n&gt; # Sorry!\r\n&gt; \r\n&gt; In order to download products from Oracle Technology Network you must agree to the OTN license terms.\r\n&gt; \r\n&gt; Be sure that...\r\n&gt; \r\n&gt; - Your browser has &quot;cookies&quot; and JavaScript enabled.\r\n&gt; - You clicked on &quot;Accept License&quot; for the product you wish to download.\r\n&gt; - You attempt the download within 30 minutes of accepting the license.\r\n\r\nHow can I download and install Java?","title":"Downloading Java JDK on Linux via wget is shown license page instead","body":"<p>When I try to download Java from Oracle I instead end up downloading a page telling me that I need agree to the OTN license terms.</p>\n\n<blockquote>\n  <h1>Sorry!</h1>\n  \n  <p>In order to download products from Oracle Technology Network you must agree to the OTN license terms.</p>\n  \n  <p>Be sure that...</p>\n  \n  <ul>\n  <li>Your browser has \"cookies\" and JavaScript enabled.</li>\n  <li>You clicked on \"Accept License\" for the product you wish to download.</li>\n  <li>You attempt the download within 30 minutes of accepting the license.</li>\n  </ul>\n</blockquote>\n\n<p>How can I download and install Java?</p>\n"},{"tags":["java","list","hashmap","treemap"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1669823334,"post_id":74630409,"comment_id":131731752,"body_markdown":"`sublist.add(submap);` -&gt; `submap.clear();` You use the same instance, and then clear it. Add new instances of submap.","body":"<code>sublist.add(submap);</code> -&gt; <code>submap.clear();</code> You use the same instance, and then clear it. Add new instances of submap."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669823565,"creation_date":1669823214,"answer_id":74630504,"question_id":74630409,"body_markdown":"You need to generate a **new** sub-Map when the desired size is reached, instead of cleaning the same sub-Map and placing it into the resulting list multiple times.\r\n\r\n```\r\nList&lt;NavigableMap&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        \r\nNavigableMap&lt;String, List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\r\nfinal int limit = 200;\r\n        \r\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n    submap.put(entry.getKey(), entry.getValue());\r\n    if (submap.size() == limit) {\r\n        list.add(submap);\r\n        submap = new TreeMap&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\n***Sidenote:** it&#39;s more beneficial to use* [`NavigableMap`][navMap] *interface while working with a* `TreeMap` *because it offers many methods* `firtKey()`, `higherKey()`*, etc. that are not defined in the* `Map` *interface.*\r\n\r\n\r\n\r\n   [navMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html","title":"Split a map into submaps Java","body":"<p>You need to generate a <strong>new</strong> sub-Map when the desired size is reached, instead of cleaning the same sub-Map and placing it into the resulting list multiple times.</p>\n<pre><code>List&lt;NavigableMap&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\n        \nNavigableMap&lt;String, List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\nfinal int limit = 200;\n        \nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\n    submap.put(entry.getKey(), entry.getValue());\n    if (submap.size() == limit) {\n        list.add(submap);\n        submap = new TreeMap&lt;&gt;();\n    }\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong> it's more beneficial to use</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> <em>interface while working with a</em> <code>TreeMap</code> <em>because it offers many methods</em> <code>firtKey()</code>, <code>higherKey()</code><em>, etc. that are not defined in the</em> <code>Map</code> <em>interface.</em></p>\n"}],"owner":{"account_id":23977479,"reputation":21,"user_id":17965389,"display_name":"M. Todoroff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669823620,"creation_date":1669822778,"question_id":74630409,"body_markdown":"I have a map with 10 000 keys and it looks like this:\r\n\r\n`Map&lt;String, List&lt;Integer&gt;&gt;`. I want to make a list of `Map&lt;String, List&lt;Integer&gt;&gt;` which will contains 50 submaps X 200 elements.\r\n\r\nThis is the code:\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 10000; i++) {\r\n    map.put(String.valueOf(i),new ArrayList&lt;&gt;(Arrays.asList(new Random().nextInt(100),new Random().nextInt(200),new Random().nextInt(300)\r\n    ,new Random().nextInt(400))));\r\n}\r\n\r\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\nMap&lt;String,List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\r\n\r\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; sublist = new ArrayList&lt;&gt;();\r\n\r\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; stringListEntry : map.entrySet()) {\r\n    submap.put(stringListEntry.getKey(),stringListEntry.getValue());\r\n    if (submap.size() == 200){\r\n        sublist.add(submap);\r\n        list.addAll(sublist);\r\n        sublist.clear();\r\n        submap.clear();\r\n    }\r\n}\r\n\r\nSystem.out.println(list);\r\n```\r\n\r\nbut the list by the end is empty.\r\n\r\nWhy does this happen?","title":"Split a map into submaps Java","body":"<p>I have a map with 10 000 keys and it looks like this:</p>\n<p><code>Map&lt;String, List&lt;Integer&gt;&gt;</code>. I want to make a list of <code>Map&lt;String, List&lt;Integer&gt;&gt;</code> which will contains 50 submaps X 200 elements.</p>\n<p>This is the code:</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; 10000; i++) {\n    map.put(String.valueOf(i),new ArrayList&lt;&gt;(Arrays.asList(new Random().nextInt(100),new Random().nextInt(200),new Random().nextInt(300)\n    ,new Random().nextInt(400))));\n}\n\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\n\nMap&lt;String,List&lt;Integer&gt;&gt; submap = new TreeMap&lt;&gt;();\n\nList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt; sublist = new ArrayList&lt;&gt;();\n\nfor (Map.Entry&lt;String, List&lt;Integer&gt;&gt; stringListEntry : map.entrySet()) {\n    submap.put(stringListEntry.getKey(),stringListEntry.getValue());\n    if (submap.size() == 200){\n        sublist.add(submap);\n        list.addAll(sublist);\n        sublist.clear();\n        submap.clear();\n    }\n}\n\nSystem.out.println(list);\n</code></pre>\n<p>but the list by the end is empty.</p>\n<p>Why does this happen?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4473563,"reputation":1021,"user_id":3639208,"display_name":"Doug Simonton"},"score":0,"creation_date":1497740532,"post_id":44609531,"comment_id":76207056,"body_markdown":"Is there anything helpful in the IDE logs  (click Show Log)?  What does your gradle.properties look like?  Have you tried all of the suggestions in this related question: https://stackoverflow.com/questions/25009717/android-studio-gradle-project-unable-to-start-the-daemon-process-initializatio ?","body":"Is there anything helpful in the IDE logs  (click Show Log)?  What does your gradle.properties look like?  Have you tried all of the suggestions in this related question: <a href=\"https://stackoverflow.com/questions/25009717/android-studio-gradle-project-unable-to-start-the-daemon-process-initializatio\" title=\"android studio gradle project unable to start the daemon process initializatio\">stackoverflow.com/questions/25009717/&hellip;</a> ?"},{"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"score":0,"creation_date":1497780166,"post_id":44609531,"comment_id":76214028,"body_markdown":"@DougSimonton Thank you for your link.  I went through all the solutions again one by one as I had tried so many things with different suggested variables it was hard to remember what I had tried.  I have now found that although I had made sure Android Studio and the JDK are allowed through my firewall, if I turn off the firewall, it works!.  I cant however see any entry in the firewall rules to permit or block gradle.  Any suggestions on how to get Android Studio to work with the firewall on would be greatly appreciated.  I use Bullguard Internet Security.","body":"@DougSimonton Thank you for your link.  I went through all the solutions again one by one as I had tried so many things with different suggested variables it was hard to remember what I had tried.  I have now found that although I had made sure Android Studio and the JDK are allowed through my firewall, if I turn off the firewall, it works!.  I cant however see any entry in the firewall rules to permit or block gradle.  Any suggestions on how to get Android Studio to work with the firewall on would be greatly appreciated.  I use Bullguard Internet Security."},{"owner":{"account_id":4473563,"reputation":1021,"user_id":3639208,"display_name":"Doug Simonton"},"score":0,"creation_date":1498399454,"post_id":44609531,"comment_id":76475066,"body_markdown":"Apparently Gradle only accepts connections from the loopback interfaces.  There are some suggested solutions starting here: https://stackoverflow.com/a/32777685/982303","body":"Apparently Gradle only accepts connections from the loopback interfaces.  There are some suggested solutions starting here: <a href=\"https://stackoverflow.com/a/32777685/982303\">stackoverflow.com/a/32777685/982303</a>"},{"owner":{"account_id":2251572,"reputation":975,"user_id":4965381,"accept_rate":83,"display_name":"voiDnyx"},"score":0,"creation_date":1498662036,"post_id":44609531,"comment_id":76592223,"body_markdown":"I have a similar (maybe same) problem, also android studio 2.3.3 and JDK1.8.0_131, windows10 and bullguard AV, do you by any chance have solved yours? The log file in my daemon folder says `java.net.SocketException: Permission denied: listen` as cause for the error.","body":"I have a similar (maybe same) problem, also android studio 2.3.3 and JDK1.8.0_131, windows10 and bullguard AV, do you by any chance have solved yours? The log file in my daemon folder says <code>java.net.SocketException: Permission denied: listen</code> as cause for the error."},{"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"score":0,"creation_date":1501104070,"post_id":44609531,"comment_id":77637313,"body_markdown":"@voiDnyx I also use Bullguard and as mentioned above found that it was their firewall causing my issue.  Turned off the firewall and it worked fine.  Unfortunately I have not been able to find out what settings to adjust or exceptions to create in Bullguard to allow Android Studio to work properly but have been able to overcome the problem by disabling any network connections, then turning off Bullguard Firewall and then running AS.  Then once running, turn the firewall back on and re-enable the network adapter.  Its low tech but works for me!.","body":"@voiDnyx I also use Bullguard and as mentioned above found that it was their firewall causing my issue.  Turned off the firewall and it worked fine.  Unfortunately I have not been able to find out what settings to adjust or exceptions to create in Bullguard to allow Android Studio to work properly but have been able to overcome the problem by disabling any network connections, then turning off Bullguard Firewall and then running AS.  Then once running, turn the firewall back on and re-enable the network adapter.  Its low tech but works for me!."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1683106835,"post_id":44609531,"comment_id":134314456,"body_markdown":"[This answer](https://stackoverflow.com/a/69630720/2289835) was useful for me.","body":"<a href=\"https://stackoverflow.com/a/69630720/2289835\">This answer</a> was useful for me."}],"answers":[{"tags":[],"owner":{"account_id":11094140,"reputation":1,"user_id":8144932,"display_name":"user8144932"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497735631,"creation_date":1497735631,"answer_id":44609626,"question_id":44609531,"body_markdown":"Sheff Do Following steps:\n\n1.Start Android Studio.\n\n2.Close any open project.Go to File &gt; Close\n\n 3.Project.(Welcome window will open)\nGo to Configure &gt; Settings.\n\nOn Settings dialog,select Compiler (Gradle-based Android Projects) \n\nfrom left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.\n\n                         O&#174;\n\nThe Solution Worked for me\n\n1.Open the projects gradle.properties file in android studio\n\n\n2.Added this line at end of file org.gradle.jvmargs=-Xmx1024m &amp; Save the file\n\n3.Close &amp; reopen the project\n\nBoth method is same but  you said  new to Android studio so I give both suggestions..if any doubt  text me","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>Sheff Do Following steps:</p>\n\n<p>1.Start Android Studio.</p>\n\n<p>2.Close any open project.Go to File > Close</p>\n\n<p>3.Project.(Welcome window will open)\nGo to Configure > Settings.</p>\n\n<p>On Settings dialog,select Compiler (Gradle-based Android Projects) </p>\n\n<p>from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.</p>\n\n<pre><code>                     O®\n</code></pre>\n\n<p>The Solution Worked for me</p>\n\n<p>1.Open the projects gradle.properties file in android studio</p>\n\n<p>2.Added this line at end of file org.gradle.jvmargs=-Xmx1024m &amp; Save the file</p>\n\n<p>3.Close &amp; reopen the project</p>\n\n<p>Both method is same but  you said  new to Android studio so I give both suggestions..if any doubt  text me</p>\n"},{"tags":[],"owner":{"account_id":3428224,"reputation":154,"user_id":2873396,"accept_rate":75,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532598152,"creation_date":1532598152,"answer_id":51535780,"question_id":44609531,"body_markdown":"Strangely, restarting the computer worked for every single time in my case.","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>Strangely, restarting the computer worked for every single time in my case.</p>\n"},{"tags":[],"owner":{"account_id":185975,"reputation":4542,"user_id":423033,"display_name":"Iain Ballard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823517,"creation_date":1669823517,"answer_id":74630577,"question_id":44609531,"body_markdown":"If this affects a single project, it can be due to a missing `gradle.properties` or `gradle-wrapper.properties` file.\r\n\r\nTry these defaults in the project directory\r\n\r\n`gradle.properties`\r\n\r\n```\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\nandroid.useAndroidX=false\r\nandroid.nonTransitiveRClass=true\r\nandroid.enableR8.fullMode=true\r\nandroid.buildTypes.release.ndk.debugSymbolLevel = SYMBOL_TABLE\r\n```\r\n\r\nand \r\n\r\n`gradle-wrapper.properties`\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>If this affects a single project, it can be due to a missing <code>gradle.properties</code> or <code>gradle-wrapper.properties</code> file.</p>\n<p>Try these defaults in the project directory</p>\n<p><code>gradle.properties</code></p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\nandroid.useAndroidX=false\nandroid.nonTransitiveRClass=true\nandroid.enableR8.fullMode=true\nandroid.buildTypes.release.ndk.debugSymbolLevel = SYMBOL_TABLE\n</code></pre>\n<p>and</p>\n<p><code>gradle-wrapper.properties</code></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n"}],"owner":{"account_id":11140212,"reputation":21,"user_id":8177096,"display_name":"SheffSlacker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7487,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1669823517,"creation_date":1497734878,"question_id":44609531,"body_markdown":"I am new to Android development and Java but after successfully installing Android Studio and the JDK, managing to create my first app and test it both in the emulator and on a phone now whenever I open Android Studio I get the following Message:\r\n\r\n    Gradle sync failed: Unable to start the daemon process.\r\n\t\t\tThis problem might be caused by incorrect configuration of the daemon.\r\n\t\t\tFor example, an unrecognized jvm option is used.\r\n\t\t\tPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/3.3/userguide/gradle_daemon.html\r\n\t\t\tPlease read the following process output to find out more:\r\n\t\t\t-----------------------\r\n\t\t\tConsult IDE log for more details (Help | Show Log)\r\n\r\nI have searched this site and extensively on Google and so far all suggested solutions I have found have failed.\r\n\r\nI am using Android Studio 2.3.3 and JDK 1.8.0_131.\r\n\r\nSo far I have tried:-\r\nUninstalling both Android Studio and the JDK, deleting any folders left behind and then re-installing both.\r\n\r\n 1. Deleting the .gradle folder from C:\\Users\\$username$.\r\n 2. Changing the Build Process Heap Size to 1024.  \r\n 3. Invalidating all caches and restarting multiple times.  \r\n 4. Double checking and even Triple checking the paths to the JDK and Android SDK.  \r\n 5. Ensuring that I have no extra open programs/windows and background apps in case it was a memory shortage issue suggested in some posts.\r\n\r\nI am still at a loss as to how to fix this problem and open to any suggestions.\r\nThank you.\r\n\r\n\r\n","title":"Gradle sync failed: Unable to start the daemon process","body":"<p>I am new to Android development and Java but after successfully installing Android Studio and the JDK, managing to create my first app and test it both in the emulator and on a phone now whenever I open Android Studio I get the following Message:</p>\n\n<pre><code>Gradle sync failed: Unable to start the daemon process.\n        This problem might be caused by incorrect configuration of the daemon.\n        For example, an unrecognized jvm option is used.\n        Please refer to the user guide chapter on the daemon at https://docs.gradle.org/3.3/userguide/gradle_daemon.html\n        Please read the following process output to find out more:\n        -----------------------\n        Consult IDE log for more details (Help | Show Log)\n</code></pre>\n\n<p>I have searched this site and extensively on Google and so far all suggested solutions I have found have failed.</p>\n\n<p>I am using Android Studio 2.3.3 and JDK 1.8.0_131.</p>\n\n<p>So far I have tried:-\nUninstalling both Android Studio and the JDK, deleting any folders left behind and then re-installing both.</p>\n\n<ol>\n<li>Deleting the .gradle folder from C:\\Users\\$username$.</li>\n<li>Changing the Build Process Heap Size to 1024.  </li>\n<li>Invalidating all caches and restarting multiple times.  </li>\n<li>Double checking and even Triple checking the paths to the JDK and Android SDK.  </li>\n<li>Ensuring that I have no extra open programs/windows and background apps in case it was a memory shortage issue suggested in some posts.</li>\n</ol>\n\n<p>I am still at a loss as to how to fix this problem and open to any suggestions.\nThank you.</p>\n"},{"tags":["java","arrays","itext"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1637323929,"post_id":70034569,"comment_id":123802039,"body_markdown":"The error message suggests that whatever is in `userSign` doesn&#39;t represent an image (or uses an image format that the `Image` class doesn&#39;t support). Can you dump the first few bytes (like 10-20) and [edit] your question to include them? Then we could take a look if it looks like a common image format. Alternatively try to write it to a file and see if that opens in the image viewer of your choice.","body":"The error message suggests that whatever is in <code>userSign</code> doesn&#39;t represent an image (or uses an image format that the <code>Image</code> class doesn&#39;t support). Can you dump the first few bytes (like 10-20) and <a href=\"https://stackoverflow.com/posts/70034569/edit\">edit</a> your question to include them? Then we could take a look if it looks like a common image format. Alternatively try to write it to a file and see if that opens in the image viewer of your choice."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637325028,"post_id":70034569,"comment_id":123802401,"body_markdown":"Maybe Joachim guessed right. Could you also state at which line the IOException is thrown?","body":"Maybe Joachim guessed right. Could you also state at which line the IOException is thrown?"},{"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"score":0,"creation_date":1637326613,"post_id":70034569,"comment_id":123802945,"body_markdown":"@HiranChaudhuri Exception Thrown at this line ----&gt; Image signpr = Image.getInstance(userSign);","body":"@HiranChaudhuri Exception Thrown at this line ----&gt; Image signpr = Image.getInstance(userSign);"},{"owner":{"account_id":20878403,"reputation":103,"user_id":15336730,"display_name":"kHLVT"},"score":0,"creation_date":1638195222,"post_id":70034569,"comment_id":124016209,"body_markdown":"Have you checked if the image type you are using is supported in iText? iText supports JPEG, JPEG2000, GIF, PNG, SVG, BMP, WMF, TIFF, CCITT and JBIG2 images\nhttps://kb.itextpdf.com/home/it7kb/faq/which-image-types-are-supported-by-itext","body":"Have you checked if the image type you are using is supported in iText? iText supports JPEG, JPEG2000, GIF, PNG, SVG, BMP, WMF, TIFF, CCITT and JBIG2 images <a href=\"https://kb.itextpdf.com/home/it7kb/faq/which-image-types-are-supported-by-itext\" rel=\"nofollow noreferrer\">kb.itextpdf.com/home/it7kb/faq/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14946559,"reputation":1,"user_id":10791657,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669823078,"creation_date":1669823078,"answer_id":74630478,"question_id":70034569,"body_markdown":"ALTER DATABASE your_db SET bytea_output TO &#39;escape&#39;;","title":"Couldn&#39;t retrieve signature from database got this error java.io.IOException: The byte array is not a recognized imageformat","body":"<p>ALTER DATABASE your_db SET bytea_output TO 'escape';</p>\n"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669823078,"creation_date":1637323416,"question_id":70034569,"body_markdown":"I am successfully stored user signatures into database. but, when I try to retrieve list of user signatures in a loop into pdf document, I got this java.io.IOException thrown at the line `Image signpr = Image.getInstance(userSign);`: as The byte array is not a recognized imageformat. Can anyone please tell me how to resolve this issue.\r\n\r\nBelow is my code\r\n\r\n    PdfPTable userTable = new PdfPTable(1);\r\n\tif (user.size() != 0) {\r\n\r\n\t\tuserTable .setWidthPercentage(100.0f);\r\n\t\tuserTable .setWidths(new float[] { 6.5f });\r\n\t\r\n\t\tfor (int i = 0; i &lt; user.size(); i++) {\r\n\t\t\tfor (User e : user) {\r\n\t\t\t\t\r\n\t\t\t\tbyte[] userSign = e.getuserSigns().getBytes(); \r\n\t\t\t\tif(userSign!=null) {\r\n\t\t\t\t\tImage signpr = Image.getInstance(userSign); //sign\r\n\t\t\t\t\tsignpr.scaleToFit(100,80);\r\n\t\t\t\t\tsignpr.setAbsolutePosition(450, 80); \r\n\t\t\t\t\tdoc.add(signpr);\r\n\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\tPdfPCell userName = new PdfPCell(new Phrase(e.getuserNames()));\r\n\t\t\t\tuserName.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n\t\t\t\tuserTable .addCell(userName);\r\n\t\t\t\t\r\n\t\t\t\tuserName.setBorder(Rectangle.NO_BORDER);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tdoc.add(userTable);","title":"Couldn&#39;t retrieve signature from database got this error java.io.IOException: The byte array is not a recognized imageformat","body":"<p>I am successfully stored user signatures into database. but, when I try to retrieve list of user signatures in a loop into pdf document, I got this java.io.IOException thrown at the line <code>Image signpr = Image.getInstance(userSign);</code>: as The byte array is not a recognized imageformat. Can anyone please tell me how to resolve this issue.</p>\n<p>Below is my code</p>\n<pre><code>PdfPTable userTable = new PdfPTable(1);\nif (user.size() != 0) {\n\n    userTable .setWidthPercentage(100.0f);\n    userTable .setWidths(new float[] { 6.5f });\n\n    for (int i = 0; i &lt; user.size(); i++) {\n        for (User e : user) {\n            \n            byte[] userSign = e.getuserSigns().getBytes(); \n            if(userSign!=null) {\n                Image signpr = Image.getInstance(userSign); //sign\n                signpr.scaleToFit(100,80);\n                signpr.setAbsolutePosition(450, 80); \n                doc.add(signpr);\n            }                           \n            PdfPCell userName = new PdfPCell(new Phrase(e.getuserNames()));\n            userName.setHorizontalAlignment(Element.ALIGN_CENTER);\n            userTable .addCell(userName);\n            \n            userName.setBorder(Rectangle.NO_BORDER);\n        }\n    }\n}\ndoc.add(userTable);\n</code></pre>\n"},{"tags":["java","intellij-idea","java-8","apple-m1"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1669822999,"post_id":74630246,"comment_id":131731628,"body_markdown":"You can simply start a x86 shell using `arch -x86_64 /bin/zsh --login`.","body":"You can simply start a x86 shell using <code>arch -x86_64 &#47;bin&#47;zsh --login</code>."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669823027,"creation_date":1669823027,"answer_id":74630470,"question_id":74630246,"body_markdown":"Per [this discussion](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360010485779-is-it-possible-to-run-the-terminal-through-rosetta-for-arm-), use the following as the Terminal shell path:\r\n\r\n```\r\nenv /usr/bin/arch -x86_64 /bin/zsh\r\n```","title":"How to access Terminal Rosetta as a terminal in Intellij IDEA CE on M1 Mac?","body":"<p>Per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360010485779-is-it-possible-to-run-the-terminal-through-rosetta-for-arm-\" rel=\"nofollow noreferrer\">this discussion</a>, use the following as the Terminal shell path:</p>\n<pre><code>env /usr/bin/arch -x86_64 /bin/zsh\n</code></pre>\n"}],"owner":{"account_id":19498036,"reputation":379,"user_id":14264760,"display_name":"Ayush Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74630470,"answer_count":1,"score":1,"last_activity_date":1669823027,"creation_date":1669822053,"question_id":74630246,"body_markdown":"I&#39;m working on a codebase that require openjadk@8 specifically. I&#39;ve a M1 Mac chip while openjdk8 is for intel chips and not for for m1 chips. \r\n[![enter image description here](https://i.stack.imgur.com/vNPEF.png)](https://i.stack.imgur.com/vNPEF.png)\r\nSo I&#39;ve configured Rosetta terminal on, which is an Apple built emulator  translates layer for running Intel-based apps on Apple Silicon Macs. \r\nRosetta 2 terminal: https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/\r\n\r\n\r\nI&#39;m unable to get this rosetta based terminal on Intellij IDEA CE.\r\n[![enter image description here][1]][1]\r\n[![enter image description here](https://i.stack.imgur.com/ty2I5.png)]\r\n\r\nI&#39;m able to open default terminal and the one with rosetta outside the intellij idea ce.\r\n[![enter image description here](https://i.stack.imgur.com/6V8Yn.png)](https://i.stack.imgur.com/6V8Yn.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvS9g.png\r\n\r\n\r\nNow, please help to use to use terminal with rosetta inside intellij idea.","title":"How to access Terminal Rosetta as a terminal in Intellij IDEA CE on M1 Mac?","body":"<p>I'm working on a codebase that require openjadk@8 specifically. I've a M1 Mac chip while openjdk8 is for intel chips and not for for m1 chips.\n<a href=\"https://i.stack.imgur.com/vNPEF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vNPEF.png\" alt=\"enter image description here\" /></a>\nSo I've configured Rosetta terminal on, which is an Apple built emulator  translates layer for running Intel-based apps on Apple Silicon Macs.\nRosetta 2 terminal: <a href=\"https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/\" rel=\"nofollow noreferrer\">https://www.courier.com/blog/tips-and-tricks-to-setup-your-apple-m1-for-development/</a></p>\n<p>I'm unable to get this rosetta based terminal on Intellij IDEA CE.\n<a href=\"https://i.stack.imgur.com/mvS9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvS9g.png\" alt=\"enter image description here\" /></a>\n[<img src=\"https://i.stack.imgur.com/ty2I5.png\" alt=\"enter image description here\" />]</p>\n<p>I'm able to open default terminal and the one with rosetta outside the intellij idea ce.\n<a href=\"https://i.stack.imgur.com/6V8Yn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6V8Yn.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, please help to use to use terminal with rosetta inside intellij idea.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646354609,"post_id":71342749,"comment_id":126108823,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":10782763,"reputation":85,"user_id":7932777,"display_name":"Syed Muzamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669822845,"creation_date":1669822845,"answer_id":74630425,"question_id":71342749,"body_markdown":"This can be because of following reasons:\r\n\r\n 1. The incorrect or failed installation of application that may have left invalid entries in your Windows registry;\r\n 2. The virus or malware attack;\r\n 3. The improper system shutdown;\r\n 4. Corrupted or deleted system files.\r\n\r\nYou need to either restart the program or shutdown the system once and try to start the program again.\r\nIf that doesn&#39;t help re-install the application again.","title":"Process finished with exit code -1073740791 (0xC0000409) error shown in IntelliJ","body":"<p>This can be because of following reasons:</p>\n<ol>\n<li>The incorrect or failed installation of application that may have left invalid entries in your Windows registry;</li>\n<li>The virus or malware attack;</li>\n<li>The improper system shutdown;</li>\n<li>Corrupted or deleted system files.</li>\n</ol>\n<p>You need to either restart the program or shutdown the system once and try to start the program again.\nIf that doesn't help re-install the application again.</p>\n"}],"owner":{"account_id":10782763,"reputation":85,"user_id":7932777,"display_name":"Syed Muzamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669822845,"creation_date":1646335800,"question_id":71342749,"body_markdown":"While running a program in IntelliJ which was running earlier but now this error pops up:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nand this error is shown\r\n\r\nProcess finished with exit code -1073740791 (0xC0000409)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXEPB.png","title":"Process finished with exit code -1073740791 (0xC0000409) error shown in IntelliJ","body":"<p>While running a program in IntelliJ which was running earlier but now this error pops up:</p>\n<p><a href=\"https://i.stack.imgur.com/sXEPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXEPB.png\" alt=\"enter image description here\" /></a></p>\n<p>and this error is shown</p>\n<p>Process finished with exit code -1073740791 (0xC0000409)</p>\n"},{"tags":["java","model-view-controller","design-patterns","jsf"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1298550225,"creation_date":1298547887,"answer_id":5104176,"question_id":5104094,"body_markdown":"**M** odel would be your `ManagedBean`\r\n\r\n**V** iew would be `jsp`,`XHTML` (well you can accommodate various views here )\r\n\r\n**C** ontroller will be `FacesServlet` \r\n\r\nUpdate, hope this picture helps more\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ck46r.png","title":"What components are MVC in JSF MVC framework?","body":"<p><strong>M</strong> odel would be your <code>ManagedBean</code></p>\n\n<p><strong>V</strong> iew would be <code>jsp</code>,<code>XHTML</code> (well you can accommodate various views here )</p>\n\n<p><strong>C</strong> ontroller will be <code>FacesServlet</code> </p>\n\n<p>Update, hope this picture helps more</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ck46r.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":158,"is_accepted":true,"score":158,"last_activity_date":1669822462,"creation_date":1298550233,"answer_id":5104604,"question_id":5104094,"body_markdown":"This depends on the point of view (pun intented).\r\n\r\nIn the big architectural picture, your own JSF code is the **V**:\r\n\r\n**M** - Business domain/Service layer (e.g. EJB/JPA/DAO)   \r\n**V** - Your JSF code  \r\n**C** - FacesServlet  \r\n\r\nIn the developer picture, the architectural **V** is in turn dividable as below:\r\n\r\n**M** - Entity  \r\n**V** - Facelets/JSP page  \r\n**C** - Managed bean  \r\n\r\nIn the smaller client picture, the developer **V** is in turn dividable as below:\r\n\r\n**M** - JSF component tree  \r\n**V** - Rendered HTML output  \r\n**C** - Client (webbrowser)\r\n\r\nIn the yet smaller JavaScript picture, the client **V** is in turn dividable as below:\r\n\r\n**M** - HTML DOM tree  \r\n**V** - Visual presentation  \r\n**C** - Event listener functions (enduser interaction and Ajax)\r\n\r\nSo it&#39;s basically a M(M(M(MVC)C)C)C ;)\r\n\r\nNote that some starters and even some &amp;mdash;very basic&amp;mdash; tutorials mingle/copy/flatten the entity&#39;s properties in the managed bean, which would effectively make the controller a model. Needless to say that this is poor design (i.e. not a clean MVC design).\r\n\r\nThe code snippets in the following answers illustrate the right MVC approach:\r\n\r\n- https://stackoverflow.com/questions/30639785/jsf-controller-service-and-dao\r\n- https://stackoverflow.com/questions/8459903/creating-master-detail-pages-for-entities-how-to-link-them-and-which-bean-scope\r\n- https://stackoverflow.com/questions/9246141/passing-a-jsf2-managed-pojo-bean-into-ejb-or-putting-what-is-required-into-a-tra/9249012#9249012\r\n- https://stackoverflow.com/questions/7934447/filter-do-not-initialize-entitymanager/7934604#7934604\r\n- https://stackoverflow.com/questions/16526267/javax-persistence-transactionrequiredexception-in-small-facelet-application/16542568#16542568\r\n\r\nIn the books [The Definitive Guide to JSF in Java EE 8][1], chapter 8 &quot;Backing beans&quot;, page 276, and [The Definitive Guide to Jakarta Faces in Jakarta EE 10][2], chapter 8 &quot;Backing Beans&quot;, page 288, the below Venn diagram is used to illustrate the position of the backing bean in the MVC paradigm within the context relevant to the JSF developer. Copyright disclaimer: aforementioned books are written by me and the picture is created by me.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.amazon.com/dp/1484233867\r\n  [2]: https://www.amazon.com/dp/B09VNVZYP6\r\n  [3]: https://i.stack.imgur.com/A3Ki3.png","title":"What components are MVC in JSF MVC framework?","body":"<p>This depends on the point of view (pun intented).</p>\n<p>In the big architectural picture, your own JSF code is the <strong>V</strong>:</p>\n<p><strong>M</strong> - Business domain/Service layer (e.g. EJB/JPA/DAO)<br />\n<strong>V</strong> - Your JSF code<br />\n<strong>C</strong> - FacesServlet</p>\n<p>In the developer picture, the architectural <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - Entity<br />\n<strong>V</strong> - Facelets/JSP page<br />\n<strong>C</strong> - Managed bean</p>\n<p>In the smaller client picture, the developer <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - JSF component tree<br />\n<strong>V</strong> - Rendered HTML output<br />\n<strong>C</strong> - Client (webbrowser)</p>\n<p>In the yet smaller JavaScript picture, the client <strong>V</strong> is in turn dividable as below:</p>\n<p><strong>M</strong> - HTML DOM tree<br />\n<strong>V</strong> - Visual presentation<br />\n<strong>C</strong> - Event listener functions (enduser interaction and Ajax)</p>\n<p>So it's basically a M(M(M(MVC)C)C)C ;)</p>\n<p>Note that some starters and even some —very basic— tutorials mingle/copy/flatten the entity's properties in the managed bean, which would effectively make the controller a model. Needless to say that this is poor design (i.e. not a clean MVC design).</p>\n<p>The code snippets in the following answers illustrate the right MVC approach:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30639785/jsf-controller-service-and-dao\">JSF Controller, Service and DAO</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8459903/creating-master-detail-pages-for-entities-how-to-link-them-and-which-bean-scope\">Creating master-detail pages for entities, how to link them and which bean scope to choose</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9246141/passing-a-jsf2-managed-pojo-bean-into-ejb-or-putting-what-is-required-into-a-tra/9249012#9249012\">Passing a JSF2 managed pojo bean into EJB or putting what is required into a transfer object</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7934447/filter-do-not-initialize-entitymanager/7934604#7934604\">Filter do not initialize EntityManager</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16526267/javax-persistence-transactionrequiredexception-in-small-facelet-application/16542568#16542568\">javax.persistence.TransactionRequiredException in small facelet application</a></li>\n</ul>\n<p>In the books <a href=\"https://rads.stackoverflow.com/amzn/click/com/1484233867\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">The Definitive Guide to JSF in Java EE 8</a>, chapter 8 &quot;Backing beans&quot;, page 276, and <a href=\"https://rads.stackoverflow.com/amzn/click/com/B09VNVZYP6\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">The Definitive Guide to Jakarta Faces in Jakarta EE 10</a>, chapter 8 &quot;Backing Beans&quot;, page 288, the below Venn diagram is used to illustrate the position of the backing bean in the MVC paradigm within the context relevant to the JSF developer. Copyright disclaimer: aforementioned books are written by me and the picture is created by me.</p>\n<p><a href=\"https://i.stack.imgur.com/A3Ki3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3Ki3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2095840,"reputation":124,"user_id":1864637,"display_name":"Don"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354225735,"creation_date":1354225735,"answer_id":13635364,"question_id":5104094,"body_markdown":"The faces servlet manages the faces lifecycle so in that sense it is the controller combined with your own code that may get called during each lifecycle phase\r\n\r\n[http://www.java-samples.com/images/jsf-lifecycle.gif][1]\r\n\r\n\r\n  [1]: http://www.java-samples.com/images/jsf-lifecycle.gif","title":"What components are MVC in JSF MVC framework?","body":"<p>The faces servlet manages the faces lifecycle so in that sense it is the controller combined with your own code that may get called during each lifecycle phase</p>\n\n<p><a href=\"http://www.java-samples.com/images/jsf-lifecycle.gif\" rel=\"nofollow\">http://www.java-samples.com/images/jsf-lifecycle.gif</a></p>\n"},{"tags":[],"owner":{"account_id":11205809,"reputation":1433,"user_id":8221470,"display_name":"Hetal Rachh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549175116,"creation_date":1547138150,"answer_id":54133155,"question_id":5104094,"body_markdown":"Java Server Faces is an MVC web framework where the MVC components are as follows,\r\n\r\n1. **Model** - It is the managed bean class annotated with @ManagedBean, which has properties to hold the data and respective getters and setters. The managed bean class can also contain the business logic.These are also known as backing beans which can have different scopes like request, session, application.\r\n\r\n2. **View** - The user interface shown to the client i.e. .xhtml files. It gets the data from the managed beans and it is rendered as the response.\r\n\r\n3. **Controller** - javax.servlet.webapp.FacesServlet is the centralized controller class which is basically a servlet. Any request that comes to the JSF first goes to the FacesServlet controller. Unlike the JSP in which we write our own controller class, in JSF the controller servlet is a fixed part of the framework and we do not write it.\r\n\r\nMVC flow-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AqfdP.jpg","title":"What components are MVC in JSF MVC framework?","body":"<p>Java Server Faces is an MVC web framework where the MVC components are as follows,</p>\n\n<ol>\n<li><p><strong>Model</strong> - It is the managed bean class annotated with @ManagedBean, which has properties to hold the data and respective getters and setters. The managed bean class can also contain the business logic.These are also known as backing beans which can have different scopes like request, session, application.</p></li>\n<li><p><strong>View</strong> - The user interface shown to the client i.e. .xhtml files. It gets the data from the managed beans and it is rendered as the response.</p></li>\n<li><p><strong>Controller</strong> - javax.servlet.webapp.FacesServlet is the centralized controller class which is basically a servlet. Any request that comes to the JSF first goes to the FacesServlet controller. Unlike the JSP in which we write our own controller class, in JSF the controller servlet is a fixed part of the framework and we do not write it.</p></li>\n</ol>\n\n<p>MVC flow-</p>\n\n<p><a href=\"https://i.stack.imgur.com/AqfdP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AqfdP.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43419,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":5104604,"answer_count":4,"score":101,"last_activity_date":1669822462,"creation_date":1298547414,"question_id":5104094,"body_markdown":"In JSF MVC framework who is Model, View, and Controller?","title":"What components are MVC in JSF MVC framework?","body":"<p>In JSF MVC framework who is Model, View, and Controller?</p>\n"},{"tags":["java","database","calendar","timestamp","simpledateformat"],"answers":[{"tags":[],"owner":{"account_id":4651861,"reputation":592,"user_id":3768529,"accept_rate":44,"display_name":"June"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413218690,"creation_date":1413218690,"answer_id":26344917,"question_id":26344819,"body_markdown":"The problem is in your SimpleDateFormat instantiation. You&#39;re using this pattern: &quot;yyyy-mm-dd hh:mm:ss a z&quot;\r\n\r\nThe issue is in the month. It should be &quot;MM&quot; instead of &quot;mm&quot;. &quot;mm&quot; is for &quot;minute in the hour&quot;.\r\n\r\nReference: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>The problem is in your SimpleDateFormat instantiation. You're using this pattern: \"yyyy-mm-dd hh:mm:ss a z\"</p>\n\n<p>The issue is in the month. It should be \"MM\" instead of \"mm\". \"mm\" is for \"minute in the hour\".</p>\n\n<p>Reference: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":2637065,"reputation":7621,"user_id":2281472,"accept_rate":71,"display_name":"Develop4Life"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499331516,"creation_date":1499331516,"answer_id":44944234,"question_id":26344819,"body_markdown":"check if there is **incompatible setter or getter** , either form your database model side , view pages , beans to xhtml mapping. I found date value for float and fixed it.","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>check if there is <strong>incompatible setter or getter</strong> , either form your database model side , view pages , beans to xhtml mapping. I found date value for float and fixed it.</p>\n"},{"tags":[],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669657731,"creation_date":1669657731,"answer_id":74604588,"question_id":26344819,"body_markdown":"here is my working successful code :\r\n\r\n    com.google.firebase.Timestamp currentTimeStamp = com.google.firebase.Timestamp.now();\r\n    Date ServDate = currentTimeStamp.toDate();\r\n    String currentDateStringFormated = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(ServDate);\r\n\r\n","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<p>here is my working successful code :</p>\n<pre><code>com.google.firebase.Timestamp currentTimeStamp = com.google.firebase.Timestamp.now();\nDate ServDate = currentTimeStamp.toDate();\nString currentDateStringFormated = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(ServDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669822329,"creation_date":1669822010,"answer_id":74630236,"question_id":26344819,"body_markdown":"What went wrong with your code\r\n--\r\n [`Timestamp#valueOf`](https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.lang.String-) accepts the timestamp string in the format yyyy-[m]m-[d]d hh:mm:ss[.f...] while your timestamp string, `DateToStoreInDataBase` has the value 2014-19-13 12:19:59 PM EDT i.e. it has two other things `PM` (AM/PM marker) and `EDT` (time zone) - none of which are supported by this parameter.\r\n\r\njava.time\r\n--\r\n\r\nThe `java.time` API, released with Java-8 in March 2014, supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, using this modern date-time API has been strongly recommended. Note that the class, `java.sql.Timestamp`, not only inherited those problems from its parent,  `java.util.Date` but also introduced many awful hacks.\r\n\r\nSolution using java.time API\r\n--\r\n\r\nIf you scroll down to the bottom of [this page](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) (the same link shared above), you will find the support for `java.time` API in JDBC. \r\n\r\nAssuming your database column is of type, `TIMESTAMP WITH TIMEZONE`,  the solution would be\r\n\r\n    OffsetDateTime odt = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;))\r\n                                      .toOffsetDateTime();\r\n    preparedStatement.setObject(72, odt);\r\n\r\nIf the column is of type, `TIMESTAMP`, the solution would be \r\n\r\n    LocalDateTime ldt = LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\r\n    preparedStatement.setObject(72, ldt);\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<h2>What went wrong with your code</h2>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Timestamp#valueOf</code></a> accepts the timestamp string in the format yyyy-[m]m-[d]d hh:mm:ss[.f...] while your timestamp string, <code>DateToStoreInDataBase</code> has the value 2014-19-13 12:19:59 PM EDT i.e. it has two other things <code>PM</code> (AM/PM marker) and <code>EDT</code> (time zone) - none of which are supported by this parameter.</p>\n<h2>java.time</h2>\n<p>The <code>java.time</code> API, released with Java-8 in March 2014, supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, using this modern date-time API has been strongly recommended. Note that the class, <code>java.sql.Timestamp</code>, not only inherited those problems from its parent,  <code>java.util.Date</code> but also introduced many awful hacks.</p>\n<h2>Solution using java.time API</h2>\n<p>If you scroll down to the bottom of <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">this page</a> (the same link shared above), you will find the support for <code>java.time</code> API in JDBC.</p>\n<p>Assuming your database column is of type, <code>TIMESTAMP WITH TIMEZONE</code>,  the solution would be</p>\n<pre><code>OffsetDateTime odt = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;))\n                                  .toOffsetDateTime();\npreparedStatement.setObject(72, odt);\n</code></pre>\n<p>If the column is of type, <code>TIMESTAMP</code>, the solution would be</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\npreparedStatement.setObject(72, ldt);\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2794423,"reputation":5214,"user_id":2403913,"accept_rate":63,"display_name":"tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54384,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1669822329,"creation_date":1413218286,"question_id":26344819,"body_markdown":"    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss a z&quot;);\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;US/Eastern&quot;));\r\n\tString DateToStoreInDataBase= sdf.format(obj1.getSomeDate().toGregorianCalendar().getTime());\r\n\tSystem.out.println(emprSubDte);\r\n\t \r\n\tTimestamp ts = Timestamp.valueOf(emprSubDte);\r\n\t\r\n\tpreparedStatement.setTimestamp(72,ts);\r\n\r\nsysout of DateToStoreInDataBase is = &quot; 2014-19-13 12:19:59 PM EDT&quot; when i am trying to save this result into database in am getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff].\r\n\r\nI have the same format but still i am reciving the error.\r\n","title":"Error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff] while saving timestamp into databse","body":"<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-mm-dd hh:mm:ss a z\");\nsdf.setTimeZone(TimeZone.getTimeZone(\"US/Eastern\"));\nString DateToStoreInDataBase= sdf.format(obj1.getSomeDate().toGregorianCalendar().getTime());\nSystem.out.println(emprSubDte);\n\nTimestamp ts = Timestamp.valueOf(emprSubDte);\n\npreparedStatement.setTimestamp(72,ts);\n</code></pre>\n\n<p>sysout of DateToStoreInDataBase is = \" 2014-19-13 12:19:59 PM EDT\" when i am trying to save this result into database in am getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff].</p>\n\n<p>I have the same format but still i am reciving the error.</p>\n"},{"tags":["java","regex","format"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669822424,"post_id":74630241,"comment_id":131731417,"body_markdown":"What should happen in situation when after last word there are also spaces like `&quot;foo  bar  &quot;` (there are two spaces after each word). What should be result here?","body":"What should happen in situation when after last word there are also spaces like <code>&quot;foo  bar  &quot;</code> (there are two spaces after each word). What should be result here?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669822122,"creation_date":1669822122,"answer_id":74630265,"question_id":74630241,"body_markdown":"You can use\r\n```java\r\nString[] parts = sentence.split(&quot;\\\\s(?=\\\\S)&quot;);\r\n```\r\nThat will split with a whitespace char that is immediately followed with a non-whitespace char.\r\n\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `\\s` - a whitespace char\r\n - `(?=\\S)` - a positive lookahead that requires a non-whitespace char to appear immediately to the right of the current location.\r\n\r\nTo make it fully Unicode-aware in Java, add the `(?U)` (`Pattern.UNICODE_CHARACTER_CLASS` option equivalent) embedded flag option: `.split(&quot;(?U)\\\\s(?=\\\\S)&quot;)`.\r\n\r\n  [1]: https://regex101.com/r/38pHij/1","title":"Java regex splitting, but only removing one whitespace","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] parts = sentence.split(&quot;\\\\s(?=\\\\S)&quot;);\n</code></pre>\n<p>That will split with a whitespace char that is immediately followed with a non-whitespace char.</p>\n<p>See the <a href=\"https://regex101.com/r/38pHij/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>\\s</code> - a whitespace char</li>\n<li><code>(?=\\S)</code> - a positive lookahead that requires a non-whitespace char to appear immediately to the right of the current location.</li>\n</ul>\n<p>To make it fully Unicode-aware in Java, add the <code>(?U)</code> (<code>Pattern.UNICODE_CHARACTER_CLASS</code> option equivalent) embedded flag option: <code>.split(&quot;(?U)\\\\s(?=\\\\S)&quot;)</code>.</p>\n"}],"owner":{"account_id":23863685,"reputation":13,"user_id":20647130,"display_name":"stneric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74630265,"answer_count":1,"score":1,"last_activity_date":1669822157,"creation_date":1669822021,"question_id":74630241,"body_markdown":"I have this code:\r\n\r\n```\r\nString[] parts = sentence.split(&quot;\\\\s&quot;);\r\n```\r\n\r\nand a sentence like: `&quot;this is a whitespace   and I want to split it&quot;` (note there are 3 whitespaces after &quot;whitespace&quot;)\r\n\r\nI want to split it in a way, where only the last whitespace will be removed, keeping the original message intact. The output should be \r\n\r\n`&quot;[this], [is], [a], [whitespace  ], [and], [I], [want], [to], [split], [it]&quot;` \r\n(two whitespaces after the word &quot;whitespace&quot;)\r\n\r\nCan I do this with regex and if not, is there even a way?\r\n\r\nI removed the `+` from `\\\\s+` to only remove one whitespace","title":"Java regex splitting, but only removing one whitespace","body":"<p>I have this code:</p>\n<pre><code>String[] parts = sentence.split(&quot;\\\\s&quot;);\n</code></pre>\n<p>and a sentence like: <code>&quot;this is a whitespace   and I want to split it&quot;</code> (note there are 3 whitespaces after &quot;whitespace&quot;)</p>\n<p>I want to split it in a way, where only the last whitespace will be removed, keeping the original message intact. The output should be</p>\n<p><code>&quot;[this], [is], [a], [whitespace  ], [and], [I], [want], [to], [split], [it]&quot;</code>\n(two whitespaces after the word &quot;whitespace&quot;)</p>\n<p>Can I do this with regex and if not, is there even a way?</p>\n<p>I removed the <code>+</code> from <code>\\\\s+</code> to only remove one whitespace</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669820920,"post_id":74629950,"comment_id":131730745,"body_markdown":"Create an Interface that contains the common methods (`getValue()` by the looks of it) of those 3 classes. Have your 3 classes implement that Interface and then you only need one single method that accepts an argument of that Interface.","body":"Create an Interface that contains the common methods (<code>getValue()</code> by the looks of it) of those 3 classes. Have your 3 classes implement that Interface and then you only need one single method that accepts an argument of that Interface."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1669820932,"post_id":74629950,"comment_id":131730752,"body_markdown":"Looking at your amount of points I assume that you can&#39;t change these types to implement an interface where you could just override some methods?","body":"Looking at your amount of points I assume that you can&#39;t change these types to implement an interface where you could just override some methods?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669821030,"post_id":74629950,"comment_id":131730798,"body_markdown":"Another option would be to use an abstract class with the common logic","body":"Another option would be to use an abstract class with the common logic"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1669821047,"post_id":74629950,"comment_id":131730807,"body_markdown":"or reflection but it&#39;s not recommended","body":"or reflection but it&#39;s not recommended"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1669821092,"post_id":74629950,"comment_id":131730830,"body_markdown":"I second the notion of trying to introduce an interface if possible. If it isn&#39;t possible, it seems you might be able to create a common method that just takes the return value of `getValue()` (assuming it&#39;s the same type in each case) and the 3 original methods just call `getValue()` and pass that to the common method.","body":"I second the notion of trying to introduce an interface if possible. If it isn&#39;t possible, it seems you might be able to create a common method that just takes the return value of <code>getValue()</code> (assuming it&#39;s the same type in each case) and the 3 original methods just call <code>getValue()</code> and pass that to the common method."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1669823962,"post_id":74629950,"comment_id":131732002,"body_markdown":"Are you able to modify the 3 classes? What type does their `getValue()` return?","body":"Are you able to modify the 3 classes? What type does their <code>getValue()</code> return?"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1669887590,"post_id":74629950,"comment_id":131746716,"body_markdown":"Yes, I can modify the classes. `getValue()` returns a `Value` type","body":"Yes, I can modify the classes. <code>getValue()</code> returns a <code>Value</code> type"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1669912328,"post_id":74629950,"comment_id":131755736,"body_markdown":"The first option of Thomas&#39;s answer &quot;Introduce an interface&quot; is the best way then.","body":"The first option of Thomas&#39;s answer &quot;Introduce an interface&quot; is the best way then."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669822117,"creation_date":1669821438,"answer_id":74630120,"question_id":74629950,"body_markdown":"Expanding on my comment, I&#39;d suggest the following options:\r\n\r\n**Introduce an interface**\r\n\r\nThis allows you to write code which knows that whatever you pass is of type `HasValue` and thus has a `getValue()` method. \r\n\r\n    interface HasValue {\r\n      ValueType getValue();\r\n    }\r\n\r\n    class QRequest implements HasValue { ... }\r\n    class CState implements HasValue { ... }\r\n    class RState implements HasValue { ... }\r\n\r\n    public static String calculateAmount(HasValue hasValue) {\r\n      ValueType value = hasValue.getValue();\r\n      if ( value  == null) {\r\n        return 300_VALUE;\r\n      }\r\n\r\n      if ( value.getOptionalCodes().contains(125_CODE)\r\n        &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\r\n        throw new ServiceException(&quot;Multiple options received&quot;);\r\n      }\r\n\r\n      if (value.getOptionalCodes().contains(125_CODE)) {\r\n        return 125_VALUE;\r\n      } else if (value.getOptionalCodes().contains(600_CODE)) {\r\n        return 600_VALUE;\r\n      } else {\r\n        return 300_VALUE;\r\n      }\r\n    }\r\n\r\n**Introduce a helper method**\r\n\r\nIf you can&#39;t introduce a common interface for some reason you need to provide the overloads for each type. However, if their `getValue()` methods all return the same type (`ValueType` is a placeholder for it) then a helper method that just gets the value and operates on that.\r\n\r\n    public static String calculateAmount(QRequest qRequest) {\r\n      return calculateAmountHelper(qRequest.getValue());\r\n    }\r\n\r\n    public static String calculateAmount(CState cState) {\r\n      return calculateAmountHelper(cState.getValue());\r\n    }\r\n\r\n    public static String calculateAmount(RState rState) {\r\n      return calculateAmountHelper(rState.getValue());\r\n    }\r\n\r\n    //or make it public and call this instead of the other 3 methods\r\n    private static String calculateAmountHelper(ValueType value) {\r\n      if ( value  == null) {\r\n        return 300_VALUE;\r\n      }\r\n\r\n      if ( value.getOptionalCodes().contains(125_CODE)\r\n        &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\r\n        throw new ServiceException(&quot;Multiple options received&quot;);\r\n      }\r\n\r\n      if (value.getOptionalCodes().contains(125_CODE)) {\r\n        return 125_VALUE;\r\n      } else if (value.getOptionalCodes().contains(600_CODE)) {\r\n        return 600_VALUE;\r\n      } else {\r\n        return 300_VALUE;\r\n      }\r\n    }\r\n","title":"Refactor 3 methods to one which takes various arguments into one method","body":"<p>Expanding on my comment, I'd suggest the following options:</p>\n<p><strong>Introduce an interface</strong></p>\n<p>This allows you to write code which knows that whatever you pass is of type <code>HasValue</code> and thus has a <code>getValue()</code> method.</p>\n<pre><code>interface HasValue {\n  ValueType getValue();\n}\n\nclass QRequest implements HasValue { ... }\nclass CState implements HasValue { ... }\nclass RState implements HasValue { ... }\n\npublic static String calculateAmount(HasValue hasValue) {\n  ValueType value = hasValue.getValue();\n  if ( value  == null) {\n    return 300_VALUE;\n  }\n\n  if ( value.getOptionalCodes().contains(125_CODE)\n    &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (value.getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (value.getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n<p><strong>Introduce a helper method</strong></p>\n<p>If you can't introduce a common interface for some reason you need to provide the overloads for each type. However, if their <code>getValue()</code> methods all return the same type (<code>ValueType</code> is a placeholder for it) then a helper method that just gets the value and operates on that.</p>\n<pre><code>public static String calculateAmount(QRequest qRequest) {\n  return calculateAmountHelper(qRequest.getValue());\n}\n\npublic static String calculateAmount(CState cState) {\n  return calculateAmountHelper(cState.getValue());\n}\n\npublic static String calculateAmount(RState rState) {\n  return calculateAmountHelper(rState.getValue());\n}\n\n//or make it public and call this instead of the other 3 methods\nprivate static String calculateAmountHelper(ValueType value) {\n  if ( value  == null) {\n    return 300_VALUE;\n  }\n\n  if ( value.getOptionalCodes().contains(125_CODE)\n    &amp;&amp; value.getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (value.getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (value.getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669822117,"creation_date":1669820753,"question_id":74629950,"body_markdown":"I have these 3 methods which all have the same logic. The only difference is that a different parameter type is passed in:\r\n\r\n```Java\r\npublic static String calculateAmount(QRequest qRequest) {\r\n\r\n  if (qRequest.getValue() == null) {\r\n    return 300_VALUE;\r\n  }\r\n\r\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n\r\npublic static String calculateAmount(CState cState) {\r\n\r\n  if (cState.getValue() == null) {\r\n    return 300_VALUE;\r\n  }\r\n\r\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; cState\r\n          .getValue()\r\n          .getOptionalCodes()\r\n          .contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (cState\r\n      .getValue()\r\n      .getOptionalCodes()\r\n      .contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n\r\npublic static String calculateAmount(RState rState) {\r\n\r\n  if (rState.getValue() == null) {\r\n    return EXCESS_300_VALUE;\r\n  }\r\n\r\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)\r\n      &amp;&amp; rState\r\n          .getValue()\r\n          .getOptionalCodes()\r\n          .contains(600_CODE)) {\r\n    throw new ServiceException(&quot;Multiple options received&quot;);\r\n  }\r\n\r\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)) {\r\n    return 125_VALUE;\r\n  } else if (rState\r\n      .getValue()\r\n      .getOptionalCodes()\r\n      .contains(600_CODE)) {\r\n    return 600_VALUE;\r\n  } else {\r\n    return 300_VALUE;\r\n  }\r\n}\r\n```\r\n\r\nI thought I might be able to refactor it to something like `public static String calculateAmount(QRequest ... qRequest, CState ... cState, RState ... rState) {` then add some logic to the method to work out which type it is and proceed from there but that doesn&#39;t work.\r\n\r\nAn option which would work would be to refactor my `calculateAmount()` to accept a `Value` object and have 3 new methods, one which will accept each parameter type and extract the `Value` object.\r\n\r\n\r\nIs it possible to refactor this so there&#39;s only one method which will accept any one of the 3 parameter types?","title":"Refactor 3 methods to one which takes various arguments into one method","body":"<p>I have these 3 methods which all have the same logic. The only difference is that a different parameter type is passed in:</p>\n<pre><code>public static String calculateAmount(QRequest qRequest) {\n\n  if (qRequest.getValue() == null) {\n    return 300_VALUE;\n  }\n\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (qRequest.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (qRequest.getValue().getOptionalCodes().contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n\npublic static String calculateAmount(CState cState) {\n\n  if (cState.getValue() == null) {\n    return 300_VALUE;\n  }\n\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; cState\n          .getValue()\n          .getOptionalCodes()\n          .contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (cState.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (cState\n      .getValue()\n      .getOptionalCodes()\n      .contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n\npublic static String calculateAmount(RState rState) {\n\n  if (rState.getValue() == null) {\n    return EXCESS_300_VALUE;\n  }\n\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)\n      &amp;&amp; rState\n          .getValue()\n          .getOptionalCodes()\n          .contains(600_CODE)) {\n    throw new ServiceException(&quot;Multiple options received&quot;);\n  }\n\n  if (rState.getValue().getOptionalCodes().contains(125_CODE)) {\n    return 125_VALUE;\n  } else if (rState\n      .getValue()\n      .getOptionalCodes()\n      .contains(600_CODE)) {\n    return 600_VALUE;\n  } else {\n    return 300_VALUE;\n  }\n}\n</code></pre>\n<p>I thought I might be able to refactor it to something like <code>public static String calculateAmount(QRequest ... qRequest, CState ... cState, RState ... rState) {</code> then add some logic to the method to work out which type it is and proceed from there but that doesn't work.</p>\n<p>An option which would work would be to refactor my <code>calculateAmount()</code> to accept a <code>Value</code> object and have 3 new methods, one which will accept each parameter type and extract the <code>Value</code> object.</p>\n<p>Is it possible to refactor this so there's only one method which will accept any one of the 3 parameter types?</p>\n"},{"tags":["java","spring-boot","grpc","grpc-java","proto"],"comments":[{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652461978,"post_id":72233169,"comment_id":127620427,"body_markdown":"Does this answer your question? [How to convert Google proto timestamp to Java LocalDate?](https://stackoverflow.com/questions/52645487/how-to-convert-google-proto-timestamp-to-java-localdate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52645487/how-to-convert-google-proto-timestamp-to-java-localdate\">How to convert Google proto timestamp to Java LocalDate?</a>"},{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652462631,"post_id":72233169,"comment_id":127620604,"body_markdown":"Google Protocol Buffer does not have a Date type. See also: https://stackoverflow.com/questions/72231236/how-to-convert-grpc-java-proto-timestamp-to-date You can always declare a field of type String and do with it whatever you want, i.e. let it contain a date.","body":"Google Protocol Buffer does not have a Date type. See also: <a href=\"https://stackoverflow.com/questions/72231236/how-to-convert-grpc-java-proto-timestamp-to-date\" title=\"how to convert grpc java proto timestamp to date\">stackoverflow.com/questions/72231236/&hellip;</a> You can always declare a field of type String and do with it whatever you want, i.e. let it contain a date."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652463376,"post_id":72233169,"comment_id":127620807,"body_markdown":"I think you are right @Franck i will make the proto as &quot;String&quot; then convert it to &quot;Date&quot; and lastly make a validation for Date.","body":"I think you are right @Franck i will make the proto as &quot;String&quot; then convert it to &quot;Date&quot; and lastly make a validation for Date."},{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1652488904,"post_id":72233169,"comment_id":127626018,"body_markdown":"should we assume you can&#39;t change the proto file ?","body":"should we assume you can&#39;t change the proto file ?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652490915,"post_id":72233169,"comment_id":127626179,"body_markdown":"I change the proto file as String instead of timestamp, its already working @Cl&#233;mentJean","body":"I change the proto file as String instead of timestamp, its already working @Cl&#233;mentJean"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1652491369,"post_id":72233169,"comment_id":127626226,"body_markdown":"The reason for this is, its connected to a sepearated file &quot;Grpc client&quot;  with rest api, i cannot have just seconds and nano @Cl&#233;mentJean","body":"The reason for this is, its connected to a sepearated file &quot;Grpc client&quot;  with rest api, i cannot have just seconds and nano @Cl&#233;mentJean"},{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1652494047,"post_id":72233169,"comment_id":127626459,"body_markdown":"My question was more related to the fact that you could define your own date format that is serialised more efficiently than a string and more idiomatic. If you are interested let me know.","body":"My question was more related to the fact that you could define your own date format that is serialised more efficiently than a string and more idiomatic. If you are interested let me know."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":1,"creation_date":1652502948,"post_id":72233169,"comment_id":127627225,"body_markdown":"I see, i will try that @Cl&#233;mentJean i think that is much better","body":"I see, i will try that @Cl&#233;mentJean i think that is much better"}],"answers":[{"tags":[],"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654933500,"creation_date":1652506963,"answer_id":72237651,"question_id":72233169,"body_markdown":"In order to get more efficient serialization and more descriptive code than just having a string you could do copy the implementation of [Date](https://github.com/googleapis/googleapis/blob/master/google/type/date.proto) from the Google API repo. If you are working only with Java you will only need to copy this:\r\n\r\n```proto3\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage google.type;\r\n\r\noption java_multiple_files = true;\r\noption java_outer_classname = &quot;DateProto&quot;;\r\noption java_package = &quot;com.google.type&quot;;\r\n\r\nmessage Date {\r\n  int32 year = 1;\r\n  int32 month = 2;\r\n  int32 day = 3;\r\n}\r\n```\r\n\r\nand then you will be able to import with:\r\n\r\n```java\r\nimport com.google.type.Date;\r\n```\r\n\r\nAnd obviously you can personalise the `package` and `java_package` if needed. After that, this is pretty simple, you just set the year, month and date.","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>In order to get more efficient serialization and more descriptive code than just having a string you could do copy the implementation of <a href=\"https://github.com/googleapis/googleapis/blob/master/google/type/date.proto\" rel=\"nofollow noreferrer\">Date</a> from the Google API repo. If you are working only with Java you will only need to copy this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage google.type;\n\noption java_multiple_files = true;\noption java_outer_classname = &quot;DateProto&quot;;\noption java_package = &quot;com.google.type&quot;;\n\nmessage Date {\n  int32 year = 1;\n  int32 month = 2;\n  int32 day = 3;\n}\n</code></pre>\n<p>and then you will be able to import with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.type.Date;\n</code></pre>\n<p>And obviously you can personalise the <code>package</code> and <code>java_package</code> if needed. After that, this is pretty simple, you just set the year, month and date.</p>\n"},{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652630439,"creation_date":1652518419,"answer_id":72238699,"question_id":72233169,"body_markdown":"Thanks here what i did. I imported the date.proto to other proto file and change the &quot;String&quot; to Date from date.proto @Cl&#233;mentJean \r\n[here is photo update][1]\r\n\r\n\r\n```proto\r\nimport &quot;date.proto&quot;;\r\n\r\n......\r\n\r\nmessage Product {\r\n\tint32 purchase_item = 1;\r\n    string productname = 2;\r\n    string productbrand = 3;\r\n    double productprice = 4;\r\n    string productdescription = 5;\r\n    int32 productquantity = 6;\r\n    .google.type.Date productexpirationdate = 7;\r\n}\r\n```\r\n\r\n```java\r\n//convert to Date to make it compatible to a Entity Date\r\n@GrpcService\r\npublic class ProductGRPCserver  extends ProductServiceImplBase{\r\n\t\r\n\t@Autowired\r\n\tprivate ProductServiceImpl productServiceImpl;\r\n\t\r\n//convert Date from date.proto to Java &quot;Date&quot;.\r\n\tpublic static Date getDateFromDateProto(com.google.type.Date date) {\r\n\t\tInteger year = date.getYear();\r\n\t\tInteger month = date.getMonth();\r\n\t\tInteger days = date.getDay();\r\n\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.clear();\r\n\t\tcalendar.set(Calendar.YEAR, year);\r\n\t\tcalendar.set(Calendar.MONTH, month);\r\n\t\tcalendar.set(Calendar.DATE, days);\r\n\t\tDate datess = calendar.getTime();\r\n\t\t\r\n        return datess;\r\n    }\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\t    ProductEntity productEntity = new ProductEntity();\r\n\r\n\t    productEntity.setPurchase_item(request.getPurchaseItem());\r\n\t    productEntity.setProductname(request.getProductname());\r\n\t    productEntity.setProductbrand(request.getProductbrand());\r\n\t    productEntity.setProductprice(request.getProductprice());\r\n\t    productEntity.setProductdescription(request.getProductdescription());\r\n\t    productEntity.setProductquantity(request.getProductquantity());\r\n\r\n        //setProductexpirationdate is Date and getProductexpirationdate is customize Date proto to make is compatible. convert it\r\n\t    productEntity.setProductexpirationdate(getDateFromDateProto(request.getProductexpirationdate()));\r\n\t\r\n\t    productServiceImpl.saveDataFromDTO(productEntity);\r\n\t    APIResponse.Builder  responce = APIResponse.newBuilder();\r\n\t    responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\r\n\t\r\n\t    responseObserver.onNext(responce.build());\r\n\t    responseObserver.onCompleted();\t\r\n    }\r\n}\r\n```\r\nThe Code above is sending data with converted Date.\r\nNow for retrieving Data is opposite code above as shown below.\r\n\r\nLets just say that im calling the ProductEntity.class method &quot;toProduct&quot; with converted &quot;Java Date&quot; to &quot;proto Date&quot; thats means its opposite to sending data. You can also use the method &quot;getDateFromDateProto&quot; to get Data for 1 row in database like findbyid and get data in 1 row [this picture is retrieve data &quot;List&quot;][2]\r\n\r\n```\r\n\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\nimport com.grpcserver.product.ProductServer.Product;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ProductEntity {\r\n\t\r\n\tprivate Integer purchase_item;\r\n    private String productname;\r\n    private String productbrand;\r\n    private Double productprice;\r\n    private String productdescription;\r\n    private Integer productquantity;\r\n    private Date  productexpirationdate;\r\n    \r\n    public Product toProduct(){\r\n\r\n    \treturn Product.newBuilder()\r\n    \t\t\t.setPurchaseItem(getPurchase_item())\r\n    \t\t\t.setProductname(getProductbrand())\r\n    \t\t\t.setProductbrand(getProductbrand())\r\n    \t\t\t.setProductprice(getProductprice())\r\n    \t\t\t.setProductdescription(getProductdescription())\r\n    \t\t\t.setProductquantity(getProductquantity())\r\n    \t\t\t.setProductexpirationdate(getDateFromDateProto(getProductexpirationdate()))\r\n    \t\t\t.build();\r\n    }\r\n    \r\n\tpublic static com.google.type.Date getDateFromDateProto(Date date) {\r\n\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(date);\r\n\t\tint year = calendar.get(Calendar.YEAR);\r\n\t\tint month = calendar.get(Calendar.MONTH);\r\n\t\tint day = calendar.get(Calendar.DAY_OF_MONTH);\r\n\t\t\r\n\t\tcom.google.type.Date datess = com.google.type.Date.newBuilder().setYear(year).setMonth(month).setDay(day).build();\r\n\t\t\r\n        return datess ;\r\n    }\r\n    \r\n\r\n    \r\n\r\n}\r\n\r\n```\r\n```\r\n//get list\r\n//&quot;toProduct&quot;\r\n\t@Override\r\n\tpublic void findAllRepeated(Product request, StreamObserver&lt;ProductList&gt; responseObserver) {\r\n\t\r\n\t\tList&lt;ProductDTO&gt; list = productServiceImpl.getAllPpoduct();\r\n\t\t\r\n\t\tList&lt;Product&gt; products = list.stream().map(ProductDTO::toProduct).collect(Collectors.toList());\r\n\t\tProductList productList = ProductList.newBuilder().addAllProduct(products)\r\n\t\t\t\t.setResultCount(Int64Value.newBuilder().setValue(list.size()).build()).build();\r\n\t\tresponseObserver.onNext(productList);\r\n        responseObserver.onCompleted();\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nfor Rest Api output [postman output via rest api][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ay19.png\r\n  [2]: https://i.stack.imgur.com/nrTNx.png\r\n  [3]: https://i.stack.imgur.com/yeVfO.png","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>Thanks here what i did. I imported the date.proto to other proto file and change the &quot;String&quot; to Date from date.proto @ClémentJean\n<a href=\"https://i.stack.imgur.com/2ay19.png\" rel=\"nofollow noreferrer\">here is photo update</a></p>\n<pre><code>import &quot;date.proto&quot;;\n\n......\n\nmessage Product {\n    int32 purchase_item = 1;\n    string productname = 2;\n    string productbrand = 3;\n    double productprice = 4;\n    string productdescription = 5;\n    int32 productquantity = 6;\n    .google.type.Date productexpirationdate = 7;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//convert to Date to make it compatible to a Entity Date\n@GrpcService\npublic class ProductGRPCserver  extends ProductServiceImplBase{\n    \n    @Autowired\n    private ProductServiceImpl productServiceImpl;\n    \n//convert Date from date.proto to Java &quot;Date&quot;.\n    public static Date getDateFromDateProto(com.google.type.Date date) {\n        Integer year = date.getYear();\n        Integer month = date.getMonth();\n        Integer days = date.getDay();\n        \n        Calendar calendar = Calendar.getInstance();\n        calendar.clear();\n        calendar.set(Calendar.YEAR, year);\n        calendar.set(Calendar.MONTH, month);\n        calendar.set(Calendar.DATE, days);\n        Date datess = calendar.getTime();\n        \n        return datess;\n    }\n    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n        ProductEntity productEntity = new ProductEntity();\n\n        productEntity.setPurchase_item(request.getPurchaseItem());\n        productEntity.setProductname(request.getProductname());\n        productEntity.setProductbrand(request.getProductbrand());\n        productEntity.setProductprice(request.getProductprice());\n        productEntity.setProductdescription(request.getProductdescription());\n        productEntity.setProductquantity(request.getProductquantity());\n\n        //setProductexpirationdate is Date and getProductexpirationdate is customize Date proto to make is compatible. convert it\n        productEntity.setProductexpirationdate(getDateFromDateProto(request.getProductexpirationdate()));\n    \n        productServiceImpl.saveDataFromDTO(productEntity);\n        APIResponse.Builder  responce = APIResponse.newBuilder();\n        responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\n    \n        responseObserver.onNext(responce.build());\n        responseObserver.onCompleted(); \n    }\n}\n</code></pre>\n<p>The Code above is sending data with converted Date.\nNow for retrieving Data is opposite code above as shown below.</p>\n<p>Lets just say that im calling the ProductEntity.class method &quot;toProduct&quot; with converted &quot;Java Date&quot; to &quot;proto Date&quot; thats means its opposite to sending data. You can also use the method &quot;getDateFromDateProto&quot; to get Data for 1 row in database like findbyid and get data in 1 row <a href=\"https://i.stack.imgur.com/nrTNx.png\" rel=\"nofollow noreferrer\">this picture is retrieve data &quot;List&quot;</a></p>\n<pre><code>\n\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport com.grpcserver.product.ProductServer.Product;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProductEntity {\n    \n    private Integer purchase_item;\n    private String productname;\n    private String productbrand;\n    private Double productprice;\n    private String productdescription;\n    private Integer productquantity;\n    private Date  productexpirationdate;\n    \n    public Product toProduct(){\n\n        return Product.newBuilder()\n                .setPurchaseItem(getPurchase_item())\n                .setProductname(getProductbrand())\n                .setProductbrand(getProductbrand())\n                .setProductprice(getProductprice())\n                .setProductdescription(getProductdescription())\n                .setProductquantity(getProductquantity())\n                .setProductexpirationdate(getDateFromDateProto(getProductexpirationdate()))\n                .build();\n    }\n    \n    public static com.google.type.Date getDateFromDateProto(Date date) {\n        \n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\n        \n        com.google.type.Date datess = com.google.type.Date.newBuilder().setYear(year).setMonth(month).setDay(day).build();\n        \n        return datess ;\n    }\n    \n\n    \n\n}\n\n</code></pre>\n<pre><code>//get list\n//&quot;toProduct&quot;\n    @Override\n    public void findAllRepeated(Product request, StreamObserver&lt;ProductList&gt; responseObserver) {\n    \n        List&lt;ProductDTO&gt; list = productServiceImpl.getAllPpoduct();\n        \n        List&lt;Product&gt; products = list.stream().map(ProductDTO::toProduct).collect(Collectors.toList());\n        ProductList productList = ProductList.newBuilder().addAllProduct(products)\n                .setResultCount(Int64Value.newBuilder().setValue(list.size()).build()).build();\n        responseObserver.onNext(productList);\n        responseObserver.onCompleted();\n        \n    }\n\n</code></pre>\n<p>for Rest Api output <a href=\"https://i.stack.imgur.com/yeVfO.png\" rel=\"nofollow noreferrer\">postman output via rest api</a></p>\n"},{"tags":[],"owner":{"account_id":24741081,"reputation":169,"user_id":18627817,"display_name":"Christian Chiama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669821874,"creation_date":1669821874,"answer_id":74630212,"question_id":72233169,"body_markdown":"Put this in your proto file:\r\n\r\n  \r\n\r\n    message Date {\r\n      int32 year = 1;\r\n      int32 month = 2;\r\n      int32 day = 3;\r\n    }\r\n\r\nand then you can use Date in your proto file, for instance: \r\n\r\n    message Customer {\r\n      string name = 1;\r\n      string address = 2;\r\n      Date birthDate = 3;\r\n    }","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>Put this in your proto file:</p>\n<pre><code>message Date {\n  int32 year = 1;\n  int32 month = 2;\n  int32 day = 3;\n}\n</code></pre>\n<p>and then you can use Date in your proto file, for instance:</p>\n<pre><code>message Customer {\n  string name = 1;\n  string address = 2;\n  Date birthDate = 3;\n}\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72237651,"answer_count":3,"score":0,"last_activity_date":1669821874,"creation_date":1652461649,"question_id":72233169,"body_markdown":"I want to make timestamp to convert to `Date` but  I was expecting to input `Date` format ,&quot;NOT&quot; seconds and nano.  How do change it to date format input?\r\n\r\n![This is the insert data picture ][1]\r\n\r\n\r\n```java\r\n@GrpcService\r\npublic class ProductGRPCserver extends ProductServiceImplBase {\r\n\r\n\t@Autowired\r\n\tprivate ProductServiceImpl productServiceImpl;\r\n\r\n\tpublic static Date getDateFromTimestamp(Timestamp timestamp) {\r\n\t\treturn new Date(Timestamps.toMillis(timestamp));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\t\tProductEntity productEntity = new ProductEntity();\r\n\r\n\t\tDate date = getDateFromTimestamp(request.getProductexpirationdate());\r\n\r\n\t\tproductEntity.setPurchase_item(request.getPurchaseItem());\r\n\t\tproductEntity.setProductname(request.getProductname());\r\n\t\tproductEntity.setProductbrand(request.getProductbrand());\r\n\t\tproductEntity.setProductprice(request.getProductprice());\r\n\t\tproductEntity.setProductdescription(request.getProductdescription());\r\n\t\tproductEntity.setProductquantity(request.getProductquantity());\r\n\t\tproductEntity.setProductexpirationdate(date);\r\n\t\tSystem.out.println(date);\r\n\t\tproductServiceImpl.saveDataFromDTO(productEntity);\r\n\r\n\t\tAPIResponse.Builder responce = APIResponse.newBuilder();\r\n\t\tresponce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; + productEntity);\r\n\r\n\t\tresponseObserver.onNext(responce.build());\r\n\t\tresponseObserver.onCompleted();\r\n\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ufXQ.png","title":"how to make grpc proto &quot;timestamp&quot; change to Date input format?","body":"<p>I want to make timestamp to convert to <code>Date</code> but  I was expecting to input <code>Date</code> format ,&quot;NOT&quot; seconds and nano.  How do change it to date format input?</p>\n<p><img src=\"https://i.stack.imgur.com/2ufXQ.png\" alt=\"This is the insert data picture \" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GrpcService\npublic class ProductGRPCserver extends ProductServiceImplBase {\n\n    @Autowired\n    private ProductServiceImpl productServiceImpl;\n\n    public static Date getDateFromTimestamp(Timestamp timestamp) {\n        return new Date(Timestamps.toMillis(timestamp));\n    }\n\n    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n        ProductEntity productEntity = new ProductEntity();\n\n        Date date = getDateFromTimestamp(request.getProductexpirationdate());\n\n        productEntity.setPurchase_item(request.getPurchaseItem());\n        productEntity.setProductname(request.getProductname());\n        productEntity.setProductbrand(request.getProductbrand());\n        productEntity.setProductprice(request.getProductprice());\n        productEntity.setProductdescription(request.getProductdescription());\n        productEntity.setProductquantity(request.getProductquantity());\n        productEntity.setProductexpirationdate(date);\n        System.out.println(date);\n        productServiceImpl.saveDataFromDTO(productEntity);\n\n        APIResponse.Builder responce = APIResponse.newBuilder();\n        responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; + productEntity);\n\n        responseObserver.onNext(responce.build());\n        responseObserver.onCompleted();\n\n    }\n</code></pre>\n"},{"tags":["java","loops","skip"],"comments":[{"owner":{"account_id":13900216,"reputation":178822,"user_id":10035985,"display_name":"Andrej Kesely"},"score":0,"creation_date":1669654959,"post_id":74601271,"comment_id":131686442,"body_markdown":"What language are you using?","body":"What language are you using?"},{"owner":{"account_id":27043461,"reputation":1,"user_id":20597979,"display_name":"DarkDimensionZ"},"score":0,"creation_date":1669690123,"post_id":74601271,"comment_id":131694648,"body_markdown":"java my bad i havent included it","body":"java my bad i havent included it"}],"answers":[{"tags":[],"owner":{"account_id":1891511,"reputation":381,"user_id":1709454,"display_name":"Abbas Dehghan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669821699,"creation_date":1669717259,"answer_id":74612493,"question_id":74601271,"body_markdown":"you can do something like this:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int num = sc.nextInt();\r\n            int count = 0;\r\n            for (int i = 1; count &lt; num; i++) {\r\n                if (String.valueOf(i).contains(&quot;1&quot;)) {\r\n                    continue;\r\n                }\r\n                System.out.println(i);\r\n                count++;\r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\n\r\n**Update:**\r\n\r\nIf you do not want to use String.valueOf() you can go like this:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int num = sc.nextInt();\r\n            int count = 0;\r\n            for (int i = 1; count &lt; num; i++) {\r\n                int val = i;\r\n                boolean hasOne = false;\r\n                while (val &gt; 0) {\r\n                    if (val % 10 == 1) {\r\n                        hasOne = true;\r\n                        break;\r\n                    }\r\n                    val = val / 10;\r\n                }\r\n                if (hasOne) {\r\n                    continue;\r\n                }\r\n                System.out.println(i);\r\n                count++;\r\n            }\r\n            sc.close();\r\n        }\r\n    }","title":"How to exclude every number that has 1 and print the rest that the user has inputted and match the inputted number with printed numbers?","body":"<p>you can do something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        int num = sc.nextInt();\n        int count = 0;\n        for (int i = 1; count &lt; num; i++) {\n            if (String.valueOf(i).contains(&quot;1&quot;)) {\n                continue;\n            }\n            System.out.println(i);\n            count++;\n        }\n        sc.close();\n    }\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>If you do not want to use String.valueOf() you can go like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        int num = sc.nextInt();\n        int count = 0;\n        for (int i = 1; count &lt; num; i++) {\n            int val = i;\n            boolean hasOne = false;\n            while (val &gt; 0) {\n                if (val % 10 == 1) {\n                    hasOne = true;\n                    break;\n                }\n                val = val / 10;\n            }\n            if (hasOne) {\n                continue;\n            }\n            System.out.println(i);\n            count++;\n        }\n        sc.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27043461,"reputation":1,"user_id":20597979,"display_name":"DarkDimensionZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74612493,"answer_count":1,"score":-1,"last_activity_date":1669821699,"creation_date":1669641896,"question_id":74601271,"body_markdown":"I&#39;m having trouble coding this program in JAVA\r\n\r\nAsk the user an integer number then print 1 to n where is input number. if the number have a 1 skip that number and make sure match the length of n number to the output.\r\n\r\nExample:\r\n\r\ninput: 22\r\n\r\noutput 2 3 4 5 6 7 8 9 20 22 23 24 25 26 27 28 29 30 32 33 34 35 - Total of 22 numbers\r\n\r\nskipped all numbers with 1 and matched the length of the inputted numbers\r\n\r\nI tried doing conditional statements, nested ifs and for loop but i failed and i badly need some lessons so i can understand the logic","title":"How to exclude every number that has 1 and print the rest that the user has inputted and match the inputted number with printed numbers?","body":"<p>I'm having trouble coding this program in JAVA</p>\n<p>Ask the user an integer number then print 1 to n where is input number. if the number have a 1 skip that number and make sure match the length of n number to the output.</p>\n<p>Example:</p>\n<p>input: 22</p>\n<p>output 2 3 4 5 6 7 8 9 20 22 23 24 25 26 27 28 29 30 32 33 34 35 - Total of 22 numbers</p>\n<p>skipped all numbers with 1 and matched the length of the inputted numbers</p>\n<p>I tried doing conditional statements, nested ifs and for loop but i failed and i badly need some lessons so i can understand the logic</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1440625145,"creation_date":1440625145,"answer_id":32237145,"question_id":32235993,"body_markdown":"You can use Jackson [@JsonAnySetter and @JsonAnyGetter annotations][1]. \r\n\r\nHere is a complete example:\r\n\r\n    public class JacksonAnyGetter {\r\n    \r\n        static final String JSON = &quot;{&quot;\r\n                + &quot;  \\&quot;id\\&quot;: 123,&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;some name\\&quot;,&quot;\r\n                + &quot;  \\&quot;custom_name\\&quot;: \\&quot;Some value\\&quot;,&quot;\r\n                + &quot;  \\&quot;some_other_custom_name\\&quot;: \\&quot;Some other value\\&quot;&quot;\r\n                + &quot;}&quot;;\r\n    \r\n        static class Bean {\r\n            public int id;\r\n            public String name;\r\n            private Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    \r\n            @JsonAnySetter\r\n            public void add(String key, String value) {\r\n                properties.put(key, value);\r\n            }\r\n    \r\n            @JsonAnyGetter\r\n            public Map&lt;String, Object&gt; getProperties() {\r\n                return properties;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Bean{&quot; +\r\n                        &quot;id=&quot; + id +\r\n                        &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, properties=&quot; + properties +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            final Bean bean = mapper.readValue(JSON, Bean.class);\r\n            System.out.println(bean);\r\n            final String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\r\n            System.out.println(json);\r\n        }\r\n    }\r\n\r\nOutput: \r\n\r\n    Bean{id=123, name=&#39;some name&#39;, properties={custom_name=Some value, some_other_custom_name=Some other value}}\r\n\r\n    {\r\n      &quot;id&quot; : 123,\r\n      &quot;name&quot; : &quot;some name&quot;,\r\n      &quot;custom_name&quot; : &quot;Some value&quot;,\r\n      &quot;some_other_custom_name&quot; : &quot;Some other value&quot;\r\n    }\r\n\r\n\r\n  [1]: http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>You can use Jackson <a href=\"http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\" rel=\"noreferrer\">@JsonAnySetter and @JsonAnyGetter annotations</a>. </p>\n\n<p>Here is a complete example:</p>\n\n<pre><code>public class JacksonAnyGetter {\n\n    static final String JSON = \"{\"\n            + \"  \\\"id\\\": 123,\"\n            + \"  \\\"name\\\": \\\"some name\\\",\"\n            + \"  \\\"custom_name\\\": \\\"Some value\\\",\"\n            + \"  \\\"some_other_custom_name\\\": \\\"Some other value\\\"\"\n            + \"}\";\n\n    static class Bean {\n        public int id;\n        public String name;\n        private Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n\n        @JsonAnySetter\n        public void add(String key, String value) {\n            properties.put(key, value);\n        }\n\n        @JsonAnyGetter\n        public Map&lt;String, Object&gt; getProperties() {\n            return properties;\n        }\n\n        @Override\n        public String toString() {\n            return \"Bean{\" +\n                    \"id=\" + id +\n                    \", name='\" + name + '\\'' +\n                    \", properties=\" + properties +\n                    '}';\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        final ObjectMapper mapper = new ObjectMapper();\n        final Bean bean = mapper.readValue(JSON, Bean.class);\n        System.out.println(bean);\n        final String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\n        System.out.println(json);\n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Bean{id=123, name='some name', properties={custom_name=Some value, some_other_custom_name=Some other value}}\n\n{\n  \"id\" : 123,\n  \"name\" : \"some name\",\n  \"custom_name\" : \"Some value\",\n  \"some_other_custom_name\" : \"Some other value\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669821506,"creation_date":1669821506,"answer_id":74630129,"question_id":32235993,"body_markdown":"Problem with dynamic properties (e.g. in Spring 3.0 `ProblemDetail`) and Jackson field type serialization: props duplicate in answer\r\n```\r\n{\r\n  &quot;type&quot;: &quot;about:blank&quot;,\r\n  &quot;title&quot;: null,\r\n  &quot;status&quot;: 400,\r\n  &quot;detail&quot;: &quot;Invalid request content.&quot;,\r\n  &quot;instance&quot;: &quot;/api/register&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\r\n  },\r\n  &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\r\n}\r\n```\r\n\r\n`@JsonIgnoreProperties({&quot;properties&quot;})` remove `email` everywhere.\r\n\r\nFound fix:\r\n```\r\n    @JsonAutoDetect(fieldVisibility = NONE, getterVisibility = ANY)\r\n    interface MixIn {\r\n        @JsonAnyGetter\r\n        Map&lt;String, Object&gt; getProperties();\r\n    }\r\n\r\n    @Autowired\r\n    void configureAndStoreObjectMapper(ObjectMapper objectMapper) {\r\n        // https://stackoverflow.com/questions/7421474/548473\r\n        objectMapper.addMixIn(ProblemDetail.class, MixIn.class);\r\n    }\r\n```","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>Problem with dynamic properties (e.g. in Spring 3.0 <code>ProblemDetail</code>) and Jackson field type serialization: props duplicate in answer</p>\n<pre><code>{\n  &quot;type&quot;: &quot;about:blank&quot;,\n  &quot;title&quot;: null,\n  &quot;status&quot;: 400,\n  &quot;detail&quot;: &quot;Invalid request content.&quot;,\n  &quot;instance&quot;: &quot;/api/register&quot;,\n  &quot;properties&quot;: {\n    &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\n  },\n  &quot;email&quot;: &quot;должно иметь формат адреса электронной почты&quot;\n}\n</code></pre>\n<p><code>@JsonIgnoreProperties({&quot;properties&quot;})</code> remove <code>email</code> everywhere.</p>\n<p>Found fix:</p>\n<pre><code>    @JsonAutoDetect(fieldVisibility = NONE, getterVisibility = ANY)\n    interface MixIn {\n        @JsonAnyGetter\n        Map&lt;String, Object&gt; getProperties();\n    }\n\n    @Autowired\n    void configureAndStoreObjectMapper(ObjectMapper objectMapper) {\n        // https://stackoverflow.com/questions/7421474/548473\n        objectMapper.addMixIn(ProblemDetail.class, MixIn.class);\n    }\n</code></pre>\n"}],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2639,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32237145,"answer_count":2,"score":4,"last_activity_date":1669821506,"creation_date":1440620408,"question_id":32235993,"body_markdown":"We are working with a REST service that provides json that will consist of some standard properties, as well as a number of dynamic properties.\r\n\r\nFor example:\r\n\r\n    {\r\n      id: 123,\r\n      name: &quot;some name&quot;,\r\n      custom_name: &quot;Some value&quot;,\r\n      some_other_custom_name: &quot;Some other value&quot;,\r\n    }\r\n\r\n\r\nIdeally, I&#39;d like to have the class designed as follows:\r\n\r\n    public class MyObject{\r\n      @JsonProperty int id;\r\n      @JsonProperty String name;\r\n      private Map&lt;String, String&gt; customVals;\r\n    \r\n      public int getId(){\r\n        return id;\r\n      }\r\n    \r\n      public String getName(){\r\n        return name;\r\n      }\r\n    \r\n      public String getCustomVal(String key){\r\n        return customVals.get(key);\r\n      }\r\n    }\r\n\r\n\r\nIs there any way to convince Jackson to push the custom values into the Map (or achieve equivalent functionality)?\r\n\r\nRight now, I&#39;m just deserializing the whole object into a Map, and wrapping that in my business object, but it&#39;s not nearly as elegant as it would be if the deserialization would take care of it.","title":"Mix of standard and dynamic properties in Jackson mapping","body":"<p>We are working with a REST service that provides json that will consist of some standard properties, as well as a number of dynamic properties.</p>\n\n<p>For example:</p>\n\n<pre><code>{\n  id: 123,\n  name: \"some name\",\n  custom_name: \"Some value\",\n  some_other_custom_name: \"Some other value\",\n}\n</code></pre>\n\n<p>Ideally, I'd like to have the class designed as follows:</p>\n\n<pre><code>public class MyObject{\n  @JsonProperty int id;\n  @JsonProperty String name;\n  private Map&lt;String, String&gt; customVals;\n\n  public int getId(){\n    return id;\n  }\n\n  public String getName(){\n    return name;\n  }\n\n  public String getCustomVal(String key){\n    return customVals.get(key);\n  }\n}\n</code></pre>\n\n<p>Is there any way to convince Jackson to push the custom values into the Map (or achieve equivalent functionality)?</p>\n\n<p>Right now, I'm just deserializing the whole object into a Map, and wrapping that in my business object, but it's not nearly as elegant as it would be if the deserialization would take care of it.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669819516,"creation_date":1669819516,"answer_id":74629647,"question_id":74628826,"body_markdown":"Two changes are needed.\r\n\r\n*First change:*\r\n\r\nThe entry in the config file needs to be adjusted. SpEL uses a `{key:value}` notation ([reference](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps)), where the `key` should not be enclosed in quotes.\r\n\r\nSo, use this:\r\n\r\n    ordering = {SOMEVALUE : {&#39;ONE&#39;, &#39;THREE&#39;, &#39;TWO&#39;}, OTHERVALUE : {&#39;THREE&#39;, &#39;ONE&#39;, &#39;TWO&#39;}}\r\n\r\n*Second change:*\r\n\r\nNow you can refer to this as follows in your Java:\r\n\r\n```java\r\n@Value(&quot;#{${ordering}}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\r\n```\r\n\r\nAnd if you want to provide a default empty map, you can use `{:}` as follows:\r\n\r\n```java\r\n@Value(&quot;#{${ordering_MISSING : {:} }}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering2;\r\n```\r\n\r\nBecause there is no property called `ordering_MISSING`, the default will be used.\r\n\r\nReference: [inline maps](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps)\r\n\r\n&gt; `{:}` by itself means an empty map.\r\n\r\n---\r\n\r\n&quot;_is there an online tool for parsing SpEL?_&quot; - I am not aware of one. Someone else may know of one.","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>Two changes are needed.</p>\n<p><em>First change:</em></p>\n<p>The entry in the config file needs to be adjusted. SpEL uses a <code>{key:value}</code> notation (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">reference</a>), where the <code>key</code> should not be enclosed in quotes.</p>\n<p>So, use this:</p>\n<pre><code>ordering = {SOMEVALUE : {'ONE', 'THREE', 'TWO'}, OTHERVALUE : {'THREE', 'ONE', 'TWO'}}\n</code></pre>\n<p><em>Second change:</em></p>\n<p>Now you can refer to this as follows in your Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{${ordering}}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\n</code></pre>\n<p>And if you want to provide a default empty map, you can use <code>{:}</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{${ordering_MISSING : {:} }}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering2;\n</code></pre>\n<p>Because there is no property called <code>ordering_MISSING</code>, the default will be used.</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">inline maps</a></p>\n<blockquote>\n<p><code>{:}</code> by itself means an empty map.</p>\n</blockquote>\n<hr />\n<p>&quot;<em>is there an online tool for parsing SpEL?</em>&quot; - I am not aware of one. Someone else may know of one.</p>\n"},{"tags":[],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669820712,"creation_date":1669820712,"answer_id":74629947,"question_id":74628826,"body_markdown":"I think I figured out what I was doing wrong: My actual SpEL might have been correct at some point, but I&#39;m parsing the data read from that and storing it in another variable, at which point `ordering` was `null`. What I forgot to consider is that the other field I&#39;m parsing `ordering` into might (and does) get evaluated first.","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>I think I figured out what I was doing wrong: My actual SpEL might have been correct at some point, but I'm parsing the data read from that and storing it in another variable, at which point <code>ordering</code> was <code>null</code>. What I forgot to consider is that the other field I'm parsing <code>ordering</code> into might (and does) get evaluated first.</p>\n"}],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74629947,"answer_count":2,"score":1,"last_activity_date":1669820712,"creation_date":1669816009,"question_id":74628826,"body_markdown":"I&#39;m making a config in my Spring application and I want to define a map:   \r\n\r\n```java\r\n@Value(&quot;${ordering:#{{:}}&quot;)\r\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\r\n```  \r\nHere&#39;s what&#39;s in my config:\r\n```\r\nordering = {&#39;SOMEVALUE&#39; : {&#39;ONE&#39;, &#39;THREE&#39;, &#39;TWO&#39;}, &#39;OTHERVALUE&#39; : {&#39;THREE&#39;, &#39;ONE&#39;, &#39;TWO&#39;}}\r\n```  \r\nBut this always gets read as null (so I assume invalid SpEL).  \r\nThe name of the variable and config value aren&#39;t misspelled and other values are loaded from the same config, so those parts are set up properly.  \r\nHow should such a map be defined, what am I screwing up? Is there an online tool for parsing SpEL?\r\n\r\nI tried several things: adding and removing the single ticks, same for double ticks and wrapping the lists in an extra {}, but none of these helped and the value is still set to null.  \r\nI also tried modifying the annotation, to no avail:  \r\n```\r\n@Value(&quot;#{${ordering:#{{:}}}&quot;)\r\n```\r\n","title":"How do I make a Map&lt;String, List&lt;String&gt;&gt; with SpEL?","body":"<p>I'm making a config in my Spring application and I want to define a map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${ordering:#{{:}}&quot;)\nprivate Map&lt;String, List&lt;String&gt;&gt; ordering;\n</code></pre>\n<p>Here's what's in my config:</p>\n<pre><code>ordering = {'SOMEVALUE' : {'ONE', 'THREE', 'TWO'}, 'OTHERVALUE' : {'THREE', 'ONE', 'TWO'}}\n</code></pre>\n<p>But this always gets read as null (so I assume invalid SpEL).<br />\nThe name of the variable and config value aren't misspelled and other values are loaded from the same config, so those parts are set up properly.<br />\nHow should such a map be defined, what am I screwing up? Is there an online tool for parsing SpEL?</p>\n<p>I tried several things: adding and removing the single ticks, same for double ticks and wrapping the lists in an extra {}, but none of these helped and the value is still set to null.<br />\nI also tried modifying the annotation, to no avail:</p>\n<pre><code>@Value(&quot;#{${ordering:#{{:}}}&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1669818541,"post_id":74629382,"comment_id":131729685,"body_markdown":"Mocking cannot mock local variable from inside a method. You need to extract the RestTemplate to a Bean that is autowired.","body":"Mocking cannot mock local variable from inside a method. You need to extract the RestTemplate to a Bean that is autowired."},{"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"score":0,"creation_date":1669818601,"post_id":74629382,"comment_id":131729716,"body_markdown":"Thanks for the suggestion @grekier . As I am new to junit , please suggest how to implement this","body":"Thanks for the suggestion @grekier . As I am new to junit , please suggest how to implement this"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669819248,"creation_date":1669819248,"answer_id":74629592,"question_id":74629382,"body_markdown":"The class you are testing should be a Spring Component (or sub-interface i.e. Service). Then you need to have the Mock as a class variable that you can mock somewhere. This means that you need to define the `RestTemplate` in a config somewhere.\r\n\r\nThe config:\r\n```\r\n@SpringBootApplication\r\npublic class YourAppName {\r\n  @Bean\r\n  public RestTemplate restTemplate() {\r\n    return new RestTemplate\r\n  }\r\n...\r\n}\r\n\r\n```\r\nThe Class in test:\r\n```\r\n@Service\r\npublic class UserHelper {\r\n  private RestTemplate restTemplate;\r\n\r\n  public UserHelper(RestTemplate restTemplate) {\r\n    this.restTemplate = restTemplate\r\n  }\r\n...\r\n// your methods but remove RetTemplate from them\r\n}\r\n```\r\n\r\nTest:\r\n```\r\n@SpringBootTest\r\npublic class UserHelperTest{\r\n  @Mock\r\n  RestTemplate restTemplate;\r\n\r\n  @Autowired // or create it in a @BeforeEach method\r\n  UserHelper instanceToTest;\r\n\r\n  // your test with mocking should now work here  \r\n}\r\n```","title":"RestTemplate exchange mock is not working","body":"<p>The class you are testing should be a Spring Component (or sub-interface i.e. Service). Then you need to have the Mock as a class variable that you can mock somewhere. This means that you need to define the <code>RestTemplate</code> in a config somewhere.</p>\n<p>The config:</p>\n<pre><code>@SpringBootApplication\npublic class YourAppName {\n  @Bean\n  public RestTemplate restTemplate() {\n    return new RestTemplate\n  }\n...\n}\n\n</code></pre>\n<p>The Class in test:</p>\n<pre><code>@Service\npublic class UserHelper {\n  private RestTemplate restTemplate;\n\n  public UserHelper(RestTemplate restTemplate) {\n    this.restTemplate = restTemplate\n  }\n...\n// your methods but remove RetTemplate from them\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@SpringBootTest\npublic class UserHelperTest{\n  @Mock\n  RestTemplate restTemplate;\n\n  @Autowired // or create it in a @BeforeEach method\n  UserHelper instanceToTest;\n\n  // your test with mocking should now work here  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433020,"reputation":24,"user_id":11726419,"display_name":"ga_ts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669820670,"creation_date":1669820592,"answer_id":74629914,"question_id":74629382,"body_markdown":"In order to mock an object via Mockito, you need to be sure to autowire it and inject the dummy instance into your service method, if you use one. Here&#39;s an example:\r\n\r\n    public class userHelper {\r\n    \r\n        @Autowired\r\n        RestTemplate restTemplate;\r\n\r\n        ...\r\n    \r\n        RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        ...\r\n\r\n\r\nAnd your test class would look like this:\r\n\r\n    @ExtendWIth(MockitoExtension.class)\r\n    public class userHelperTest(){\r\n    \r\n        @Mock\r\n        RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        UserHelper userHelper = new UserHelper();\r\n\r\n        @Test \r\n        getUserResponseTest(){\r\n    \r\n        ...\r\n\r\nThis link provides a good explanation:\r\n[baeldung.com/spring-mock-rest-template][1]\r\n\r\n\r\n  [1]: https://baeldung.com/spring-mock-rest-template","title":"RestTemplate exchange mock is not working","body":"<p>In order to mock an object via Mockito, you need to be sure to autowire it and inject the dummy instance into your service method, if you use one. Here's an example:</p>\n<pre><code>public class userHelper {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    ...\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    ...\n</code></pre>\n<p>And your test class would look like this:</p>\n<pre><code>@ExtendWIth(MockitoExtension.class)\npublic class userHelperTest(){\n\n    @Mock\n    RestTemplate restTemplate;\n\n    @InjectMocks\n    UserHelper userHelper = new UserHelper();\n\n    @Test \n    getUserResponseTest(){\n\n    ...\n</code></pre>\n<p>This link provides a good explanation:\n<a href=\"https://baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">baeldung.com/spring-mock-rest-template</a></p>\n"}],"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669820670,"creation_date":1669818441,"question_id":74629382,"body_markdown":"I want to mock a resttemplate.exchange() method but it is not getting mocked . It is throwing  `NoClassDefFoundError`\r\n\r\nHere&#39;s the class I want to mock:\r\n\r\n    public class userHelper {\r\n    \r\n    /*\r\n    \r\n    */\r\n    \r\n    public getUserResponse(userPayload){\r\n    String url = &quot;abc/def&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setAccept(...);\r\n    ...\r\n    ...\r\n    HttpEntity&lt;userPayload&gt; httpEntity = new HttpEntity&lt;~&gt;(userpayload,headers);\r\n    \r\n    RestTtemplate restTemplate = new RestTemplate();\r\n    restTemplate.getInterceptors().add(testInterceptor.Builder.of().setHttpRequestContext(false).setPrintResponseBody(false).build());\r\n    ResponseEntity&lt;userPayload&gt; response = restTemplate.exchange(url,HttpMethod.POST,httpEntity,UserPayload.class);\r\n    ...\r\n    ...\r\n    ...\r\n    }\r\n    }\r\n\r\nIn my test class i have mocked the resttemplate but it is not working\r\nTest class:\r\n\r\n    @ExtendWIth(MockitoExtension.class)\r\n    public class userHelperTest(){\r\n    \r\n    @Mock\r\n    RestTemplate restTemplate;\r\n    \r\n    @Test \r\n    getUserResponseTest(){\r\n    \r\n    ...\r\n    ...\r\n    when(restTemplate.exchange(ArgumentMatchers.anyString(), ArgumentMatchers.eq(HttpMethod.POST, ArgumentMatchers,any(HttpEntity.class), ArgumentMatchers.eq(UserPayload.class))).thenReturn(response);\r\n    \r\n    }}\r\n\r\nPlease suggest how to resolve this. Thanks in advance!","title":"RestTemplate exchange mock is not working","body":"<p>I want to mock a resttemplate.exchange() method but it is not getting mocked . It is throwing  <code>NoClassDefFoundError</code></p>\n<p>Here's the class I want to mock:</p>\n<pre><code>public class userHelper {\n\n/*\n\n*/\n\npublic getUserResponse(userPayload){\nString url = &quot;abc/def&quot;;\nHttpHeaders headers = new HttpHeaders();\nheaders.setAccept(...);\n...\n...\nHttpEntity&lt;userPayload&gt; httpEntity = new HttpEntity&lt;~&gt;(userpayload,headers);\n\nRestTtemplate restTemplate = new RestTemplate();\nrestTemplate.getInterceptors().add(testInterceptor.Builder.of().setHttpRequestContext(false).setPrintResponseBody(false).build());\nResponseEntity&lt;userPayload&gt; response = restTemplate.exchange(url,HttpMethod.POST,httpEntity,UserPayload.class);\n...\n...\n...\n}\n}\n</code></pre>\n<p>In my test class i have mocked the resttemplate but it is not working\nTest class:</p>\n<pre><code>@ExtendWIth(MockitoExtension.class)\npublic class userHelperTest(){\n\n@Mock\nRestTemplate restTemplate;\n\n@Test \ngetUserResponseTest(){\n\n...\n...\nwhen(restTemplate.exchange(ArgumentMatchers.anyString(), ArgumentMatchers.eq(HttpMethod.POST, ArgumentMatchers,any(HttpEntity.class), ArgumentMatchers.eq(UserPayload.class))).thenReturn(response);\n\n}}\n</code></pre>\n<p>Please suggest how to resolve this. Thanks in advance!</p>\n"},{"tags":["java","selenium-webdriver","junit"],"answers":[{"tags":[],"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669820451,"creation_date":1573156620,"answer_id":58756083,"question_id":58755369,"body_markdown":"You can possibly use `TestWatcher` this one have hooks for failed and success results. And you can add your hooks logic\r\n\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.TestWatcher;\r\n    import org.junit.runner.Description;\r\n\r\n    public class Test1 {\r\n\r\n        @Rule\r\n        public TestWatcher watch = new TestWatcher() {\r\n            @Override\r\n            protected void failed(Throwable e, Description description) {\r\n                System.out.println(&quot;failed&quot;);\r\n            }\r\n        };\r\n\r\n        @Test\r\n        public void test() {\r\n            Assert.assertEquals(2, 4);\r\n        }\r\n\r\n    }\r\n","title":"Run a method if test fails on Junit","body":"<p>You can possibly use <code>TestWatcher</code> this one have hooks for failed and success results. And you can add your hooks logic</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TestWatcher;\nimport org.junit.runner.Description;\n\npublic class Test1 {\n\n    @Rule\n    public TestWatcher watch = new TestWatcher() {\n        @Override\n        protected void failed(Throwable e, Description description) {\n            System.out.println(&quot;failed&quot;);\n        }\n    };\n\n    @Test\n    public void test() {\n        Assert.assertEquals(2, 4);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1148675,"reputation":2643,"user_id":1130864,"accept_rate":60,"display_name":"Keva161"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58756083,"answer_count":1,"score":0,"last_activity_date":1669820451,"creation_date":1573153261,"question_id":58755369,"body_markdown":"I have added a method to my Selenium framework that takes a screenshot at the end of a test, but as some tests don&#39;t run all the way to the end due to failing. i&#39;d like to implement a rule to run this screenshot method if the test fails.\r\n\r\nSomething like:\r\n\r\n    @Rule\r\n    public Failure fail = new Failure();\r\n    \r\n    if (fail)\r\n    {\r\n        // Method\r\n    }\r\n\r\n","title":"Run a method if test fails on Junit","body":"<p>I have added a method to my Selenium framework that takes a screenshot at the end of a test, but as some tests don't run all the way to the end due to failing. i'd like to implement a rule to run this screenshot method if the test fails.</p>\n\n<p>Something like:</p>\n\n<pre><code>@Rule\npublic Failure fail = new Failure();\n\nif (fail)\n{\n    // Method\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","websphere","ejb"],"comments":[{"owner":{"account_id":9651072,"reputation":1933,"user_id":7162232,"display_name":"Jarid"},"score":0,"creation_date":1669814398,"post_id":74627543,"comment_id":131728050,"body_markdown":"What&#39;s in the stack of the ClassNotFoundException (most likely the deepest &quot;caused by&quot; in the NoClassDefFoundError stack)? That&#39;ll tell you what class loaders are being used - app/WAR loaders are of type CompoundClassLoader in WAS 8.5. My best guess is that something is preventing the jar from being added to the EAR class path, but it&#39;d be hard to tell that without trace logs.","body":"What&#39;s in the stack of the ClassNotFoundException (most likely the deepest &quot;caused by&quot; in the NoClassDefFoundError stack)? That&#39;ll tell you what class loaders are being used - app/WAR loaders are of type CompoundClassLoader in WAS 8.5. My best guess is that something is preventing the jar from being added to the EAR class path, but it&#39;d be hard to tell that without trace logs."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669815643,"post_id":74627543,"comment_id":131728511,"body_markdown":"Since you said Maven was able to package the EAR correctly but you hit a problem doing a &quot;publish&quot;, this suggests an issue in the Eclipse tooling, with some part of the WTP Java EE function.     I don&#39;t know the answer, but I&#39;ll include some links/references from RAD doc in case it helps somehow.   Note that since this WTP function is broader than just WebSphere you might find useful clues in non-RAD/WebSphere doc too.   I also know sometimes right-click &quot;Maven-&gt;Update Project&quot; helps in general using Maven &amp; WTP in Eclipse.  Possibly worth a try.","body":"Since you said Maven was able to package the EAR correctly but you hit a problem doing a &quot;publish&quot;, this suggests an issue in the Eclipse tooling, with some part of the WTP Java EE function.     I don&#39;t know the answer, but I&#39;ll include some links/references from RAD doc in case it helps somehow.   Note that since this WTP function is broader than just WebSphere you might find useful clues in non-RAD/WebSphere doc too.   I also know sometimes right-click &quot;Maven-&gt;Update Project&quot; helps in general using Maven &amp; WTP in Eclipse.  Possibly worth a try."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669815708,"post_id":74627543,"comment_id":131728538,"body_markdown":"Some WebSphere/RAD links:  1. overview - https://www.ibm.com/docs/en/radfws/9.7?topic=developing-maven-  2. https://www.ibm.com/docs/en/radfws/9.7?topic=dependencies-adding-other-modules   3. https://www.ibm.com/docs/en/radfws/9.7?topic=projects-working-dependencies    4. https://www.ibm.com/docs/en/radfws/9.7?topic=preferences-setting","body":"Some WebSphere/RAD links:  1. overview - <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=developing-maven-\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=developing-maven-</a>  2. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=dependencies-adding-other-modules\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/&hellip;</a>   3. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=projects-working-dependencies\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=projects-working-dependenci&zwnj;&#8203;es</a>    4. <a href=\"https://www.ibm.com/docs/en/radfws/9.7?topic=preferences-setting\" rel=\"nofollow noreferrer\">ibm.com/docs/en/radfws/9.7?topic=preferences-setting</a>"},{"owner":{"account_id":8458838,"reputation":71,"user_id":6345242,"accept_rate":25,"display_name":"Mohammed Mostafa"},"score":0,"creation_date":1669820402,"post_id":74627543,"comment_id":131730498,"body_markdown":"@Jarid\n Thanks for your reply first\nI updated the post with all exception trace","body":"@Jarid  Thanks for your reply first I updated the post with all exception trace"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1669925738,"post_id":74627543,"comment_id":131760004,"body_markdown":"Can you try comparing the two packages?   Comparing 1) the target EAR produced by the Maven build (in the target/xxx.ear location)  with 2) the EAR exported via:  File-&gt;Export-&gt; Java EE -&gt; EAR file.     I think that 2) would be representative of the contents of the &quot;Publish&quot; operation..maybe it will suggest a clue.","body":"Can you try comparing the two packages?   Comparing 1) the target EAR produced by the Maven build (in the target/xxx.ear location)  with 2) the EAR exported via:  File-&gt;Export-&gt; Java EE -&gt; EAR file.     I think that 2) would be representative of the contents of the &quot;Publish&quot; operation..maybe it will suggest a clue."}],"owner":{"account_id":8458838,"reputation":71,"user_id":6345242,"accept_rate":25,"display_name":"Mohammed Mostafa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669820312,"creation_date":1669810028,"question_id":74627543,"body_markdown":"I develop Java enterprise application using maven on eclipse IDE\r\nApplication consist from ear,1 war,1 ejb and 1 jar file\r\nwhen I build the ear outside eclipse with mvn install and deploy it on WebSphere its worked fine and this is ear structure:\r\n\r\n    Ear\r\n      ejb.jar\r\n      web.war\r\n      /lib/datamodel.jar \r\n      META-INF/application.xml\r\n\r\nthe problem when I run the application and publish it from eclipse give me this exception\r\n\r\n    Caused by: com.ibm.ws.exception.RuntimeWarning: Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3434)\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:750)\r\n\tat com.ibm.ws.runtime.component.MetaDataMgrImpl.createNestedModuleMetaData(MetaDataMgrImpl.java:564)\r\n\tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:635)\r\n\tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:1034)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5482)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5698)\r\n\tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\r\n\tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\r\n\tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:673)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\r\n\r\n     Caused by: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\r\n\tat java.lang.Class.getDeclaredMethodsImpl(Native Method)\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:977)\r\n\tat java.lang.Class.getMethodSet(Class.java:1444)\r\n\tat java.lang.Class.getMethods(Class.java:1368)\r\n\tat com.ibm.ejs.container.util.DeploymentUtil.getMethods(DeploymentUtil.java:276)\r\n\tat com.ibm.ws.metadata.ejb.EJBMDOrchestrator.finishBMDInitForReferenceContext(EJBMDOrchestrator.java:8091)\r\n\tat com.ibm.ws.ejbcontainer.runtime.AbstractEJBRuntime.finishBMDInitForReferenceContext(AbstractEJBRuntime.java:1678)\r\n\tat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3427)\r\n\t\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.fawry.maven.model.EmployeeDto\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:610)\r\n\tat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:243)\r\n\tat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:925)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:870)\r\n\tat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:134)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\r\n\tat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62)\r\n\tat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58)\r\n\tat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\r\n\t... 80 more\r\n\r\nHint: EmployeeDto class exist in jar module\r\n\r\nThe dependency between modules like this:\r\n\r\n    web depend on ejb(web have ejb dependency in web pom)  and ejb depend on jar(ejb have jar dependency in ejb pom)\r\n\r\nthis is pom for ear module:\r\n\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ear&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ejb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;MavenDemo${build.number}&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;displayName&gt;demo${build.number}&lt;/displayName&gt;\r\n\t\t\t\t\t\t&lt;version&gt;6&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;generateApplicationXml&gt;true&lt;/generateApplicationXml&gt;\r\n\t\t\t\t\t\t&lt;generateModuleId&gt;true&lt;/generateModuleId&gt;\r\n\t\t\t\t\t\t&lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\r\n\t\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t\t&lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\r\n\t\t\t\t\t\t&lt;modules&gt;\r\n\t\t\t\t\t\t\t&lt;webModule&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;contextRoot&gt;/web&lt;/contextRoot&gt;\r\n\t\t\t\t\t\t\t&lt;/webModule&gt;\r\n\t\t\t\t\t\t\t&lt;ejbModule&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;ejb&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;bundleFileName&gt;ejb.jar&lt;/bundleFileName&gt;\r\n\t\t\t\t\t\t\t&lt;/ejbModule&gt;\r\n\t\t\t\t\t\t&lt;/modules&gt;\r\n\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI am using:\r\n\r\n    eclipse 2022 \r\n    maven 3.8.4\r\n    java 8\r\n    websphere 8.5.5\r\n\r\nany more information I can provide it , thanks for your help\r\n\r\n\r\n\r\n","title":"Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError","body":"<p>I develop Java enterprise application using maven on eclipse IDE\nApplication consist from ear,1 war,1 ejb and 1 jar file\nwhen I build the ear outside eclipse with mvn install and deploy it on WebSphere its worked fine and this is ear structure:</p>\n<pre><code>Ear\n  ejb.jar\n  web.war\n  /lib/datamodel.jar \n  META-INF/application.xml\n</code></pre>\n<p>the problem when I run the application and publish it from eclipse give me this exception</p>\n<pre><code>Caused by: com.ibm.ws.exception.RuntimeWarning: Error while processing references for EJB-in-WAR: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3434)\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:750)\nat com.ibm.ws.runtime.component.MetaDataMgrImpl.createNestedModuleMetaData(MetaDataMgrImpl.java:564)\nat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:635)\nat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:1034)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\nat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\nat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5482)\nat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5698)\nat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\nat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\nat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\nat java.lang.reflect.Method.invoke(Method.java:508)\nat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\nat java.lang.reflect.Method.invoke(Method.java:508)\nat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\nat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\nat java.security.AccessController.doPrivileged(AccessController.java:673)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\n\n Caused by: java.lang.NoClassDefFoundError: com.fawry.maven.model.EmployeeDto\nat java.lang.Class.getDeclaredMethodsImpl(Native Method)\nat java.lang.Class.getDeclaredMethods(Class.java:977)\nat java.lang.Class.getMethodSet(Class.java:1444)\nat java.lang.Class.getMethods(Class.java:1368)\nat com.ibm.ejs.container.util.DeploymentUtil.getMethods(DeploymentUtil.java:276)\nat com.ibm.ws.metadata.ejb.EJBMDOrchestrator.finishBMDInitForReferenceContext(EJBMDOrchestrator.java:8091)\nat com.ibm.ws.ejbcontainer.runtime.AbstractEJBRuntime.finishBMDInitForReferenceContext(AbstractEJBRuntime.java:1678)\nat com.ibm.ws.runtime.component.EJBContainerImpl.createNestedModuleMetaData(EJBContainerImpl.java:3427)\n\n\nCaused by: java.lang.ClassNotFoundException: com.fawry.maven.model.EmployeeDto\nat java.net.URLClassLoader.findClass(URLClassLoader.java:610)\nat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:243)\nat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:925)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:870)\nat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:134)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62)\nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58)\nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:853)\n... 80 more\n</code></pre>\n<p>Hint: EmployeeDto class exist in jar module</p>\n<p>The dependency between modules like this:</p>\n<pre><code>web depend on ejb(web have ejb dependency in web pom)  and ejb depend on jar(ejb have jar dependency in ejb pom)\n</code></pre>\n<p>this is pom for ear module:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;ear&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;ear&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;ejb&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;ejb&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;web&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;war&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;MavenDemo${build.number}&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;displayName&gt;demo${build.number}&lt;/displayName&gt;\n                    &lt;version&gt;6&lt;/version&gt;\n                    &lt;generateApplicationXml&gt;true&lt;/generateApplicationXml&gt;\n                    &lt;generateModuleId&gt;true&lt;/generateModuleId&gt;\n                    &lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\n                    &lt;modules&gt;\n                        &lt;webModule&gt;\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\n                            &lt;artifactId&gt;web&lt;/artifactId&gt;\n                            &lt;contextRoot&gt;/web&lt;/contextRoot&gt;\n                        &lt;/webModule&gt;\n                        &lt;ejbModule&gt;\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\n                            &lt;artifactId&gt;ejb&lt;/artifactId&gt;\n                            &lt;bundleFileName&gt;ejb.jar&lt;/bundleFileName&gt;\n                        &lt;/ejbModule&gt;\n                    &lt;/modules&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I am using:</p>\n<pre><code>eclipse 2022 \nmaven 3.8.4\njava 8\nwebsphere 8.5.5\n</code></pre>\n<p>any more information I can provide it , thanks for your help</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1669812209,"post_id":74626647,"comment_id":131727286,"body_markdown":"Do not link images.  Cut and paste the error message into the question.","body":"Do not link images.  Cut and paste the error message into the question."},{"owner":{"account_id":25847958,"reputation":21,"user_id":19582453,"display_name":"Shruti Mishra"},"score":0,"creation_date":1669820410,"post_id":74626647,"comment_id":131730504,"body_markdown":"Can you please check now and suggest if any solution for the above mentioned problem please","body":"Can you please check now and suggest if any solution for the above mentioned problem please"}],"owner":{"account_id":25847958,"reputation":21,"user_id":19582453,"display_name":"Shruti Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669820309,"creation_date":1669805884,"question_id":74626647,"body_markdown":"This is the error below\r\n    \r\ncancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerOnboardingEndpoint&#39; defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/endpoint/CustomerOnboardingEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;controller&#39; defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/controller/Controller.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;serviceFacadeImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [fi.op.bcsio.service.impl.ServiceFacadeImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5e853265]&quot;}}\r\n\r\n    Here is my controller class\r\n    package fi.op.bcsio.controller;\r\n    \r\n    import static fi.op.jopo.logging.LogMarker.SENSITIVE_DATA;\r\n    import static fi.op.jopo.logging.LogMarker.TECH;\r\n    import static org.slf4j.LoggerFactory.getLogger;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import fi.op.bcsio.bancs.business.CreateCustomerBancsRequestBody;\r\n    import fi.op.bcsio.bancs.business.CreateCustomerShipBancsRequestBody;\r\n    import fi.op.bcsio.bancs.response.bean.SuccessResponse;\r\n    import fi.op.bcsio.configurableproperties.ExternalProperty;\r\n    import fi.op.bcsio.domain.bean.bancs.customership.request.CreateCustomerShipRequest;\r\n    import fi.op.bcsio.domain.bean.bancs.request.CustomerCustomerShipRequest;\r\n    import fi.op.bcsio.domain.bean.bancs.response.CustomerNCustomershipCheck;\r\n    import fi.op.bcsio.domain.bean.luukku.response.LuukkuBasicInfoResponse;\r\n    import fi.op.bcsio.domain.bean.luukku.response.LuukkuCustomerShipResponse;\r\n    import fi.op.bcsio.errorhandler.DateUtility;\r\n    import fi.op.bcsio.exception.BadRequestError;\r\n    import fi.op.bcsio.exception.InternalServerError;\r\n    import fi.op.bcsio.exception.UnauthorizedError;\r\n    import fi.op.bcsio.jwt.TokenValidation;\r\n    import fi.op.bcsio.luukku.business.LuukkuLogic;\r\n    import fi.op.bcsio.service.ServiceFacade;\r\n    import fi.op.bcsio.validation.bean.RequestBodyValidation;\r\n    import fi.op.jopo.security.ecb.EcbUtils;\r\n    \r\n    @Component\r\n    public class Controller {\r\n    \r\n    \tprivate final Logger logger = getLogger(getClass());\r\n    \r\n    \t@Autowired\r\n    \tServiceFacade serviceFacade;\r\n    \r\n    \t@Autowired\r\n    \tTokenValidation tokenValidation;\r\n    \r\n    \t@Autowired\r\n    \tLuukkuLogic luukkuLogic;\r\n    \r\n    \t@Autowired\r\n    \tCreateCustomerBancsRequestBody createCustomerBancsRequestBody;\r\n    \r\n    \t@Autowired\r\n    \tExternalProperty externalProperty;\r\n    \r\n    \t@Autowired\r\n    \tEcbUtils ecbUtils;\r\n    \r\n    \t@Autowired\r\n    \tCreateCustomerShipBancsRequestBody createCustomerShipBancsRequestBody;\r\n    \t\r\n    \t\r\n    \tString internalServerExceptionMessage = &quot;Unable to process the request!&quot;;\r\n    \t\r\n    \r\n    \tpublic void validatingToken(String authorizationToken, String requestId,\r\n    \t\t\tRequestBodyValidation requestBodyValidation) {\r\n    \t\ttokenValidation.validateToken(authorizationToken, requestId, requestBodyValidation);\r\n    \t}\r\n    \r\n    \tpublic ResponseEntity&lt;?&gt; checkAndOnboardCustomer(RequestBodyValidation requestBodyValidation, String requestId,\r\n    \t\t\tString authorizationToken) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tCustomerNCustomershipCheck enquiryServiceResponse = serviceFacade.customerandCustomershipCheck(\r\n    \t\t\t\t\trequestBodyValidation.getBankNumber(), requestBodyValidation.getCustomerId(), &quot;18&quot;, requestId);\r\n    \t\t\tlogger.info(SENSITIVE_DATA,&quot;Response from BaNCS Customer and CustomerShip enquiry Service {}&quot;, enquiryServiceResponse);\r\n    \r\n    \t\t\tif ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(1))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\r\n    \r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER EXISTS&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n                 logger.info(TECH,&quot;CUSTOMER EXISTS&quot;);\r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.OK);\r\n    \r\n    \t\t\t} else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(0))) {\r\n    \r\n    \t\t\t\tString encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\r\n    \r\n    \t\t\t\tLuukkuBasicInfoResponse luukkuBasicInfoResponse = serviceFacade.luukkuBasicInfoResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response received from Luukku basic info is {}&quot;, luukkuBasicInfoResponse);\r\n    \t\t\t\tLuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken, encryptedssn);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response receives from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tCustomerCustomerShipRequest customerCustomerShipRequest = createCustomerBancsRequestBody\r\n    \t\t\t\t\t\t.bancsCreateCustomerRequest(requestId, externalProperty, requestBodyValidation,\r\n    \t\t\t\t\t\t\t\tluukkuBasicInfoResponse, luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Create Customer request body sent to Bancs is {}&quot;, customerCustomerShipRequest);\r\n    \t\t\t\tserviceFacade.createCustomerCustomership(requestId, customerCustomerShipRequest);\r\n    \r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER ONBOARDED&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n    \t\t\t\t logger.info(TECH,&quot;CUSTOMER ONBOARDED&quot;);     \r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\r\n    \r\n    \t\t\t} else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\r\n    \t\t\t\t\t&amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\r\n    \t\t\t\tString encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\r\n    \t\t\t\tLuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\r\n    \t\t\t\t\t\tauthorizationToken, encryptedssn);\r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Response received from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\r\n    \r\n    \t\t\t\tCreateCustomerShipRequest createCustomerShipRequestBody = createCustomerShipBancsRequestBody\r\n    \t\t\t\t\t\t.createCustomerShipBancsRequestBody(externalProperty, requestBodyValidation,\r\n    \t\t\t\t\t\t\t\tluukkuCustomerShipResponse);\r\n    \t\t\t\tlogger.info(SENSITIVE_DATA,&quot;Customership request body {}&quot;, createCustomerShipRequestBody);\r\n    \t\t\t\tserviceFacade.createCustomerShip(requestId, createCustomerShipRequestBody);\r\n    \t\t\t\t\r\n    \t\t\t\tSuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMERSHIP ONBOARDED&quot;, DateUtility.getDate(),\r\n    \t\t\t\t\t\trequestId);\r\n    \t\t\t\tlogger.info(TECH,&quot;CUSTOMERSHIP ONBOARDED&quot;);\r\n    \t\t\t\treturn new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\r\n    \t\t\t} else {\r\n    \t\t\t\tlogger.info(TECH,&quot;Customer and CustomerShip exist is neither of case 0 0 , 1 0, 1 1&quot;);\r\n    \t\t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \r\n    \t\t\t}\r\n    \t\t} catch (InternalServerError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Internal Server Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(e.getMessage(), e.getRequestId());\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\tlogger.info(TECH,&quot;Null Pointer Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \t\t} catch (BadRequestError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Bad Request Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new BadRequestError(e.getMessage(), e.getrequestId());\r\n    \t\t} catch (UnauthorizedError e) {\r\n    \t\t\tlogger.info(TECH,&quot;Unauthorized Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new UnauthorizedError(e.getMessage(), e.getRequestId());\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tlogger.info(TECH,&quot;Exception {}&quot;,e.getMessage());\r\n    \t\t\tthrow new InternalServerError(internalServerExceptionMessage, requestId);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    I am getting this highlighted error in an spring boot application. Have also tried after including the spring-data-elasticserach in the pom.xml file.\r\n    \r\n    Can someone please suggest me the reason of why this error is occuring?\r\n    \r\n    While deploying in the rancher cluster this error is occuring, in my local system the application is running fine.","title":"Lookup method resolution failed, nested exception is java.lang.IllegalStateException. Failed to interospect class from classLoader","body":"<p>This is the error below</p>\n<p>cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerOnboardingEndpoint' defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/endpoint/CustomerOnboardingEndpoint.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'controller' defined in URL [jar:file:/app/app.jar!/BOOT-INF/classes!/fi/op/bcsio/controller/Controller.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serviceFacadeImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [fi.op.bcsio.service.impl.ServiceFacadeImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5e853265]&quot;}}</p>\n<pre><code>Here is my controller class\npackage fi.op.bcsio.controller;\n\nimport static fi.op.jopo.logging.LogMarker.SENSITIVE_DATA;\nimport static fi.op.jopo.logging.LogMarker.TECH;\nimport static org.slf4j.LoggerFactory.getLogger;\n\nimport org.slf4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\n\nimport fi.op.bcsio.bancs.business.CreateCustomerBancsRequestBody;\nimport fi.op.bcsio.bancs.business.CreateCustomerShipBancsRequestBody;\nimport fi.op.bcsio.bancs.response.bean.SuccessResponse;\nimport fi.op.bcsio.configurableproperties.ExternalProperty;\nimport fi.op.bcsio.domain.bean.bancs.customership.request.CreateCustomerShipRequest;\nimport fi.op.bcsio.domain.bean.bancs.request.CustomerCustomerShipRequest;\nimport fi.op.bcsio.domain.bean.bancs.response.CustomerNCustomershipCheck;\nimport fi.op.bcsio.domain.bean.luukku.response.LuukkuBasicInfoResponse;\nimport fi.op.bcsio.domain.bean.luukku.response.LuukkuCustomerShipResponse;\nimport fi.op.bcsio.errorhandler.DateUtility;\nimport fi.op.bcsio.exception.BadRequestError;\nimport fi.op.bcsio.exception.InternalServerError;\nimport fi.op.bcsio.exception.UnauthorizedError;\nimport fi.op.bcsio.jwt.TokenValidation;\nimport fi.op.bcsio.luukku.business.LuukkuLogic;\nimport fi.op.bcsio.service.ServiceFacade;\nimport fi.op.bcsio.validation.bean.RequestBodyValidation;\nimport fi.op.jopo.security.ecb.EcbUtils;\n\n@Component\npublic class Controller {\n\n    private final Logger logger = getLogger(getClass());\n\n    @Autowired\n    ServiceFacade serviceFacade;\n\n    @Autowired\n    TokenValidation tokenValidation;\n\n    @Autowired\n    LuukkuLogic luukkuLogic;\n\n    @Autowired\n    CreateCustomerBancsRequestBody createCustomerBancsRequestBody;\n\n    @Autowired\n    ExternalProperty externalProperty;\n\n    @Autowired\n    EcbUtils ecbUtils;\n\n    @Autowired\n    CreateCustomerShipBancsRequestBody createCustomerShipBancsRequestBody;\n    \n    \n    String internalServerExceptionMessage = &quot;Unable to process the request!&quot;;\n    \n\n    public void validatingToken(String authorizationToken, String requestId,\n            RequestBodyValidation requestBodyValidation) {\n        tokenValidation.validateToken(authorizationToken, requestId, requestBodyValidation);\n    }\n\n    public ResponseEntity&lt;?&gt; checkAndOnboardCustomer(RequestBodyValidation requestBodyValidation, String requestId,\n            String authorizationToken) {\n\n        try {\n            CustomerNCustomershipCheck enquiryServiceResponse = serviceFacade.customerandCustomershipCheck(\n                    requestBodyValidation.getBankNumber(), requestBodyValidation.getCustomerId(), &quot;18&quot;, requestId);\n            logger.info(SENSITIVE_DATA,&quot;Response from BaNCS Customer and CustomerShip enquiry Service {}&quot;, enquiryServiceResponse);\n\n            if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(1))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\n\n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER EXISTS&quot;, DateUtility.getDate(),\n                        requestId);\n             logger.info(TECH,&quot;CUSTOMER EXISTS&quot;);\n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.OK);\n\n            } else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(0))) {\n\n                String encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\n\n                LuukkuBasicInfoResponse luukkuBasicInfoResponse = serviceFacade.luukkuBasicInfoResponse(requestId,\n                        authorizationToken);\n\n                logger.info(SENSITIVE_DATA,&quot;Response received from Luukku basic info is {}&quot;, luukkuBasicInfoResponse);\n                LuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\n                        authorizationToken, encryptedssn);\n\n                logger.info(SENSITIVE_DATA,&quot;Response receives from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\n\n                CustomerCustomerShipRequest customerCustomerShipRequest = createCustomerBancsRequestBody\n                        .bancsCreateCustomerRequest(requestId, externalProperty, requestBodyValidation,\n                                luukkuBasicInfoResponse, luukkuCustomerShipResponse);\n\n                logger.info(SENSITIVE_DATA,&quot;Create Customer request body sent to Bancs is {}&quot;, customerCustomerShipRequest);\n                serviceFacade.createCustomerCustomership(requestId, customerCustomerShipRequest);\n\n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMER ONBOARDED&quot;, DateUtility.getDate(),\n                        requestId);\n                 logger.info(TECH,&quot;CUSTOMER ONBOARDED&quot;);     \n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\n\n            } else if ((enquiryServiceResponse.getCustomership().getCustomershipExists().equals(0))\n                    &amp;&amp; (enquiryServiceResponse.getCustomership().getCustomerExists().equals(1))) {\n                String encryptedssn = ecbUtils.encrypt(requestBodyValidation.getCustomerId(), &quot;&quot;);\n                LuukkuCustomerShipResponse[] luukkuCustomerShipResponse = serviceFacade.luukkuCustomerShipResponse(requestId,\n                        authorizationToken, encryptedssn);\n                logger.info(SENSITIVE_DATA,&quot;Response received from Luukku customership is {}&quot;, (Object) luukkuCustomerShipResponse);\n\n                CreateCustomerShipRequest createCustomerShipRequestBody = createCustomerShipBancsRequestBody\n                        .createCustomerShipBancsRequestBody(externalProperty, requestBodyValidation,\n                                luukkuCustomerShipResponse);\n                logger.info(SENSITIVE_DATA,&quot;Customership request body {}&quot;, createCustomerShipRequestBody);\n                serviceFacade.createCustomerShip(requestId, createCustomerShipRequestBody);\n                \n                SuccessResponse successResponse = new SuccessResponse(&quot;CUSTOMERSHIP ONBOARDED&quot;, DateUtility.getDate(),\n                        requestId);\n                logger.info(TECH,&quot;CUSTOMERSHIP ONBOARDED&quot;);\n                return new ResponseEntity&lt;SuccessResponse&gt;(successResponse, HttpStatus.CREATED);\n            } else {\n                logger.info(TECH,&quot;Customer and CustomerShip exist is neither of case 0 0 , 1 0, 1 1&quot;);\n                throw new InternalServerError(internalServerExceptionMessage, requestId);\n\n            }\n        } catch (InternalServerError e) {\n            logger.info(TECH,&quot;Internal Server Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(e.getMessage(), e.getRequestId());\n        } catch (NullPointerException e) {\n            logger.info(TECH,&quot;Null Pointer Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(internalServerExceptionMessage, requestId);\n        } catch (BadRequestError e) {\n            logger.info(TECH,&quot;Bad Request Exception {}&quot;,e.getMessage());\n            throw new BadRequestError(e.getMessage(), e.getrequestId());\n        } catch (UnauthorizedError e) {\n            logger.info(TECH,&quot;Unauthorized Exception {}&quot;,e.getMessage());\n            throw new UnauthorizedError(e.getMessage(), e.getRequestId());\n        }catch (Exception e) {\n            logger.info(TECH,&quot;Exception {}&quot;,e.getMessage());\n            throw new InternalServerError(internalServerExceptionMessage, requestId);\n        }\n\n    }\n}\n\n\nI am getting this highlighted error in an spring boot application. Have also tried after including the spring-data-elasticserach in the pom.xml file.\n\nCan someone please suggest me the reason of why this error is occuring?\n\nWhile deploying in the rancher cluster this error is occuring, in my local system the application is running fine.\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","entity","h2"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669834027,"post_id":74628764,"comment_id":131735478,"body_markdown":"Is movie meant to be shared, in that multiple users can reference the same Movie? Such a setup would mean you really have a ManyToMany relation between users and movies, so that two users can have the same favorites - you will want to use an entirely different relationship with a JoinTable in between to map it correctly. See https://docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.html","body":"Is movie meant to be shared, in that multiple users can reference the same Movie? Such a setup would mean you really have a ManyToMany relation between users and movies, so that two users can have the same favorites - you will want to use an entirely different relationship with a JoinTable in between to map it correctly. See <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/ManyToMany.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669820027,"creation_date":1669820027,"answer_id":74629765,"question_id":74628764,"body_markdown":"Let&#39;s focus on the relevant part of your mapping:\r\n\r\n```java\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;movie_id&quot;)\r\n    private Integer id;\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\npublic class wUser {\r\n\r\n    @OneToMany(cascade =CascadeType.ALL)\r\n    @JoinColumn(name = &quot;movie_id&quot;)\r\n    private List&lt;Movie&gt; favouriteMovies;\r\n}\r\n```\r\n\r\nThe `id` property of `Movie` is mapped to the table column `movie_id` by the configuration in the `Movie` class.\r\n\r\nBut for the `wUser.favouriteMovies` you use `@JoinColumn` to make it use `movie_id` the join column, i.e. the column in the `Movie` table that references the `wUser`.\r\n\r\nBy this that column is mapped to two completely different values and it seems in your scenario the second one wins.\r\n\r\nTo fix this simply choose a different column for the join column. `user_id` might be a good choice.","title":"repository.save function changes id of it&#39;s children entity","body":"<p>Let's focus on the relevant part of your mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;movie_id&quot;)\n    private Integer id;\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class wUser {\n\n    @OneToMany(cascade =CascadeType.ALL)\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private List&lt;Movie&gt; favouriteMovies;\n}\n</code></pre>\n<p>The <code>id</code> property of <code>Movie</code> is mapped to the table column <code>movie_id</code> by the configuration in the <code>Movie</code> class.</p>\n<p>But for the <code>wUser.favouriteMovies</code> you use <code>@JoinColumn</code> to make it use <code>movie_id</code> the join column, i.e. the column in the <code>Movie</code> table that references the <code>wUser</code>.</p>\n<p>By this that column is mapped to two completely different values and it seems in your scenario the second one wins.</p>\n<p>To fix this simply choose a different column for the join column. <code>user_id</code> might be a good choice.</p>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669820111,"creation_date":1669815764,"question_id":74628764,"body_markdown":"I&#39;m trying to update existing entry in parent Entity and I encounter error I can&#39;t understand nor resolve.\r\nI have two entities in a simple crud repository - Parent(User) and Children(movie). I am trying to pass a favourite movie to an user. The goal is that the movie doesn&#39;t have to be already in database, and the @PostMapping has to accept an user_id and movie name as parameters, other method uses the movie name, goes through the OMDBapi, parses data from json to fields and then gives the user at user_id the movie as a favourite. The PostMapping sort of works, because it gets the user at user_id, the movie is also added, but when the url looks like this  - http://localhost:8080/users/2/fight+club the user at user_id 2 gets the movie as his favourite, but the movie gets it&#39;s id also as 2, even if it&#39;s first movie being added to repository. What I don&#39;t understand is why when I try to debug this every line of code is acting as I expect it to do -\r\n wUser(id=2, name=Jan, favouriteMovies=[Movie(id=1, title=Fight Club, plot=An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more., genre=Drama, director=David Fincher, posterURL=https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg)])\r\nbut after it passes repository.save(user) line I get redirected to InvocableHandlerMethod class, into doInvoke method, into \r\n```\r\nreturn KotlinDetector.isSuspendingFunction(method) ? this.invokeSuspendingFunction(method, this.getBean(), args) : method.invoke(this.getBean(), args);\r\n```\r\nthis line, and after that it&#39;s just deep into the rabbit hole. As I am quite an inexperienced in coding in Java, what probably can be deducted, I don&#39;t really understand nor can find solution to this problem.\r\n\r\nThe entities and controller classes below\r\n\r\n\r\n```\r\npackage com.example.omdbapirest.movie;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;movie_id&quot;)\r\n    private Integer id;\r\n    private String title;\r\n    private String plot;\r\n    private String genre;\r\n    private String director;\r\n    private String posterURL;\r\n\r\n    public Movie(String title, String plot, String genre, String director, String posterURL) {\r\n        this.title = title;\r\n        this.plot = plot;\r\n        this.genre = genre;\r\n        this.director = director;\r\n        this.posterURL = posterURL;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.omdbapirest.user;\r\n\r\nimport com.example.omdbapirest.movie.Movie;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class wUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String name;\r\n//    @OneToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\r\n    @OneToMany(cascade =CascadeType.ALL)\r\n    @JoinColumn(name = &quot;movie_id&quot;)\r\n    private List&lt;Movie&gt; favouriteMovies;\r\n\r\n    public wUser(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserController\r\n```\r\npackage com.example.omdbapirest.user;\r\n\r\nimport com.example.omdbapirest.movie.Movie;\r\nimport com.example.omdbapirest.movie.MovieService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.json.simple.parser.ParseException;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\n@RequiredArgsConstructor\r\npublic class UserController {\r\n     private final MovieService  movieService;\r\n    private final UserRepository repository;\r\n    private final UserService service;\r\n\r\n    @GetMapping\r\n    public List&lt;wUser&gt; getUsers(){\r\n        return repository.findAll();\r\n    }\r\n\r\n    @PostMapping(&quot;/{id}/{moviename}&quot;)\r\n    public void addMovieAsFavorite (@PathVariable (name= &quot;id&quot;) int id,\r\n                                    @PathVariable (name=&quot;moviename&quot;) String moviename)\r\n            throws ParseException{\r\n        String url = &quot;https://www.omdbapi.com/?t=&quot;+moviename+&quot;&amp;apikey=30ccf40c&quot;;\r\n        wUser user = repository.getById(id);\r\n        List&lt;Movie&gt; movies = user.getFavouriteMovies();\r\n\r\n        List&lt;Movie&gt;moviesToAdd = new ArrayList&lt;&gt;();\r\n        Movie movie = movieService.getDataFromOMDBAsMovie(url);\r\n        movies.add(movie);\r\n        moviesToAdd.addAll(movies);\r\n        user.setFavouriteMovies(moviesToAdd);\r\n        repository.save(user);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m also adding MovieService class in case there is some error in the JSON parser\r\n\r\n```\r\npackage com.example.omdbapirest.movie;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\nimport org.json.simple.parser.ParseException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\nimport java.util.List;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MovieService {\r\n    private final MovieRepository repository;\r\n    public String getJSONFromURL(String strUrl) {\r\n        String jsonText = &quot;&quot;;\r\n\r\n        try {\r\n            URL url = new URL(strUrl);\r\n            InputStream is = url.openStream();\r\n\r\n            BufferedReader bufferedReader =\r\n                    new BufferedReader(new InputStreamReader(is));\r\n\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                jsonText += line + &quot;\\n&quot;;\r\n            }\r\n\r\n            is.close();\r\n            bufferedReader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return jsonText;\r\n    }\r\n\r\n    public Movie getDataFromOMDBAsMovie(String strURL) throws ParseException {\r\n        String json = getJSONFromURL(strURL);\r\n\r\n            Movie movie = new Movie();\r\n            JSONParser parser = new JSONParser();\r\n            Object object = parser.parse(json);\r\n            JSONObject mainJsonObject = (JSONObject) object;\r\n            String title = (String)mainJsonObject.get(&quot;Title&quot;);\r\n            movie.setTitle(title);\r\n            String plot = (String)mainJsonObject.get(&quot;Plot&quot;);\r\n            movie.setPlot(plot);\r\n            String genre = (String)mainJsonObject.get(&quot;Genre&quot;);\r\n            movie.setGenre(genre);\r\n            String director = (String)mainJsonObject.get(&quot;Director&quot;);\r\n            movie.setDirector(director);\r\n            String posterURL = (String)mainJsonObject.get(&quot;Poster&quot;);\r\n            movie.setPosterURL(posterURL);\r\n            repository.save(movie);\r\n        return movie;\r\n    }\r\n    public Movie addMovie(Movie movie){\r\n        return repository.save(movie);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried adding movies to db, reworking the favourite saving class, all to no avail, I was getting different errors when not debuging, including \r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Pole nie może być NULL&quot;MOVIE_ID&quot;(Field cannot be NULL)\r\nNULL not allowed for column &quot;MOVIE_ID&quot;; SQL statement:\r\nupdate movie set movie_id=null where movie_id=? [23502-214]\r\n```\r\n\r\nand \r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Naruszenie ograniczenia Klucza Gł&#243;wnego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID)(translating to- Unique Index or primary key violated)\r\n ( /* key:2 */ 2, &#39;David Fincher&#39;, &#39;Drama&#39;, &#39;An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.&#39;, &#39;https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg&#39;, &#39;Fight Club&#39;)&quot;\r\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID) ( /* key:2 */ 2, &#39;David Fincher&#39;, &#39;Drama&#39;, &#39;An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.&#39;, &#39;https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg&#39;, &#39;Fight Club&#39;)&quot;; SQL statement:\r\ninsert into movie (director, genre, plot, posterurl, title, movie_id) values (?, ?, ?, ?, ?, ?) [23505-214]\r\n```\r\n\r\nBoth of these errors appear when I try to add another movie to given user, I mean I was able to give all users 1 movie, but never more since it tries to always add the movie with id of the user","title":"repository.save function changes id of it&#39;s children entity","body":"<p>I'm trying to update existing entry in parent Entity and I encounter error I can't understand nor resolve.\nI have two entities in a simple crud repository - Parent(User) and Children(movie). I am trying to pass a favourite movie to an user. The goal is that the movie doesn't have to be already in database, and the @PostMapping has to accept an user_id and movie name as parameters, other method uses the movie name, goes through the OMDBapi, parses data from json to fields and then gives the user at user_id the movie as a favourite. The PostMapping sort of works, because it gets the user at user_id, the movie is also added, but when the url looks like this  - http://localhost:8080/users/2/fight+club the user at user_id 2 gets the movie as his favourite, but the movie gets it's id also as 2, even if it's first movie being added to repository. What I don't understand is why when I try to debug this every line of code is acting as I expect it to do -\nwUser(id=2, name=Jan, favouriteMovies=[Movie(id=1, title=Fight Club, plot=An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more., genre=Drama, director=David Fincher, posterURL=https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg)])\nbut after it passes repository.save(user) line I get redirected to InvocableHandlerMethod class, into doInvoke method, into</p>\n<pre><code>return KotlinDetector.isSuspendingFunction(method) ? this.invokeSuspendingFunction(method, this.getBean(), args) : method.invoke(this.getBean(), args);\n</code></pre>\n<p>this line, and after that it's just deep into the rabbit hole. As I am quite an inexperienced in coding in Java, what probably can be deducted, I don't really understand nor can find solution to this problem.</p>\n<p>The entities and controller classes below</p>\n<pre><code>package com.example.omdbapirest.movie;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;movie_id&quot;)\n    private Integer id;\n    private String title;\n    private String plot;\n    private String genre;\n    private String director;\n    private String posterURL;\n\n    public Movie(String title, String plot, String genre, String director, String posterURL) {\n        this.title = title;\n        this.plot = plot;\n        this.genre = genre;\n        this.director = director;\n        this.posterURL = posterURL;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.omdbapirest.user;\n\nimport com.example.omdbapirest.movie.Movie;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class wUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n//    @OneToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\n    @OneToMany(cascade =CascadeType.ALL)\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private List&lt;Movie&gt; favouriteMovies;\n\n    public wUser(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>UserController</p>\n<pre><code>package com.example.omdbapirest.user;\n\nimport com.example.omdbapirest.movie.Movie;\nimport com.example.omdbapirest.movie.MovieService;\nimport lombok.RequiredArgsConstructor;\nimport org.json.simple.parser.ParseException;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\n@RequiredArgsConstructor\npublic class UserController {\n     private final MovieService  movieService;\n    private final UserRepository repository;\n    private final UserService service;\n\n    @GetMapping\n    public List&lt;wUser&gt; getUsers(){\n        return repository.findAll();\n    }\n\n    @PostMapping(&quot;/{id}/{moviename}&quot;)\n    public void addMovieAsFavorite (@PathVariable (name= &quot;id&quot;) int id,\n                                    @PathVariable (name=&quot;moviename&quot;) String moviename)\n            throws ParseException{\n        String url = &quot;https://www.omdbapi.com/?t=&quot;+moviename+&quot;&amp;apikey=30ccf40c&quot;;\n        wUser user = repository.getById(id);\n        List&lt;Movie&gt; movies = user.getFavouriteMovies();\n\n        List&lt;Movie&gt;moviesToAdd = new ArrayList&lt;&gt;();\n        Movie movie = movieService.getDataFromOMDBAsMovie(url);\n        movies.add(movie);\n        moviesToAdd.addAll(movies);\n        user.setFavouriteMovies(moviesToAdd);\n        repository.save(user);\n    }\n}\n\n</code></pre>\n<p>I'm also adding MovieService class in case there is some error in the JSON parser</p>\n<pre><code>package com.example.omdbapirest.movie;\n\nimport lombok.RequiredArgsConstructor;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\nimport org.json.simple.parser.ParseException;\nimport org.springframework.stereotype.Service;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class MovieService {\n    private final MovieRepository repository;\n    public String getJSONFromURL(String strUrl) {\n        String jsonText = &quot;&quot;;\n\n        try {\n            URL url = new URL(strUrl);\n            InputStream is = url.openStream();\n\n            BufferedReader bufferedReader =\n                    new BufferedReader(new InputStreamReader(is));\n\n            String line;\n            while ((line = bufferedReader.readLine()) != null) {\n                jsonText += line + &quot;\\n&quot;;\n            }\n\n            is.close();\n            bufferedReader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n        return jsonText;\n    }\n\n    public Movie getDataFromOMDBAsMovie(String strURL) throws ParseException {\n        String json = getJSONFromURL(strURL);\n\n            Movie movie = new Movie();\n            JSONParser parser = new JSONParser();\n            Object object = parser.parse(json);\n            JSONObject mainJsonObject = (JSONObject) object;\n            String title = (String)mainJsonObject.get(&quot;Title&quot;);\n            movie.setTitle(title);\n            String plot = (String)mainJsonObject.get(&quot;Plot&quot;);\n            movie.setPlot(plot);\n            String genre = (String)mainJsonObject.get(&quot;Genre&quot;);\n            movie.setGenre(genre);\n            String director = (String)mainJsonObject.get(&quot;Director&quot;);\n            movie.setDirector(director);\n            String posterURL = (String)mainJsonObject.get(&quot;Poster&quot;);\n            movie.setPosterURL(posterURL);\n            repository.save(movie);\n        return movie;\n    }\n    public Movie addMovie(Movie movie){\n        return repository.save(movie);\n    }\n}\n\n</code></pre>\n<p>I tried adding movies to db, reworking the favourite saving class, all to no avail, I was getting different errors when not debuging, including</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Pole nie może być NULL&quot;MOVIE_ID&quot;(Field cannot be NULL)\nNULL not allowed for column &quot;MOVIE_ID&quot;; SQL statement:\nupdate movie set movie_id=null where movie_id=? [23502-214]\n</code></pre>\n<p>and</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Naruszenie ograniczenia Klucza Głównego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID)(translating to- Unique Index or primary key violated)\n ( /* key:2 */ 2, 'David Fincher', 'Drama', 'An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.', 'https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg', 'Fight Club')&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MOVIE(MOVIE_ID) ( /* key:2 */ 2, 'David Fincher', 'Drama', 'An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.', 'https://m.media-amazon.com/images/M/MV5BNDIzNDU0YzEtYzE5Ni00ZjlkLTk5ZjgtNjM3NWE4YzA3Nzk3XkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg', 'Fight Club')&quot;; SQL statement:\ninsert into movie (director, genre, plot, posterurl, title, movie_id) values (?, ?, ?, ?, ?, ?) [23505-214]\n</code></pre>\n<p>Both of these errors appear when I try to add another movie to given user, I mean I was able to give all users 1 movie, but never more since it tries to always add the movie with id of the user</p>\n"},{"tags":["java","arrays","loops","nullpointerexception","null"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1669703207,"post_id":74609823,"comment_id":131696625,"body_markdown":"If you&#39;d like to break when there&#39;s -1 for ID or score, use while loop and add these condition there, rather than breaking","body":"If you&#39;d like to break when there&#39;s -1 for ID or score, use while loop and add these condition there, rather than breaking"},{"owner":{"account_id":26709348,"reputation":25,"user_id":20315005,"display_name":"yasakrami"},"score":0,"creation_date":1669703459,"post_id":74609823,"comment_id":131696672,"body_markdown":"Thank you so much. Is it possible for you to write it as a code and tell exactly where to put the loop because when I tried this, I still get the same result.","body":"Thank you so much. Is it possible for you to write it as a code and tell exactly where to put the loop because when I tried this, I still get the same result."}],"answers":[{"tags":[],"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818234,"creation_date":1669818234,"answer_id":74629332,"question_id":74609823,"body_markdown":"you can put it inside a while loop and put all your code in it and put the condition of breaking it if the value is -1","title":"Avoid Adding Null Value to Array","body":"<p>you can put it inside a while loop and put all your code in it and put the condition of breaking it if the value is -1</p>\n"},{"tags":[],"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669819841,"creation_date":1669819841,"answer_id":74629727,"question_id":74609823,"body_markdown":"Note, your array is of predefined size `k`:\r\n\r\n`Student[] students = new Student[k];`\r\n\r\nTherefore, if user needs to break input before entering all `k` values, you have to truncate the array. E.g.:\r\n\r\n```\r\n            if (score == -1) {\r\n                students = Arrays.copyOf(students, i);\r\n                break;\r\n            }\r\n```\r\n\r\nBut better consider using [`ArrayList`][1] instead of plain array\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Avoid Adding Null Value to Array","body":"<p>Note, your array is of predefined size <code>k</code>:</p>\n<p><code>Student[] students = new Student[k];</code></p>\n<p>Therefore, if user needs to break input before entering all <code>k</code> values, you have to truncate the array. E.g.:</p>\n<pre><code>            if (score == -1) {\n                students = Arrays.copyOf(students, i);\n                break;\n            }\n</code></pre>\n<p>But better consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> instead of plain array</p>\n"}],"owner":{"account_id":26709348,"reputation":25,"user_id":20315005,"display_name":"yasakrami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669819841,"creation_date":1669702577,"question_id":74609823,"body_markdown":"I am making a function that gets the students&#39; Id, score, last name, and first name and compares them according to their Score, then the last name, and then the first name and prints the result in the descending format. \r\n\r\nI have used a Comparator to compare the elements of the array. The problem is that when the user enters `-1` as `score` or `ID`, the program needs to break and show the result but when I use break, it will add a null value to my array which prevents comparing. \r\n\r\nThis is my code:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    private static class Student {\r\n        String fName;\r\n        String lName;\r\n        int id;\r\n        int score;\r\n\r\n        public Student(String fName, String lName, int id, int score) {\r\n            this.fName = fName;\r\n            this.lName = lName;\r\n            this.id = id;\r\n            this.score = score;\r\n        }\r\n\r\n        public int getScore() {\r\n            return score;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return fName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lName;\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;id: &quot; + this.id + &quot; &quot; + &quot;fName: &quot; + this.fName + &quot; &quot; + &quot;lName: &quot; + this.lName + &quot; &quot; + &quot;score: &quot; + this.score;\r\n        }\r\n\r\n    }\r\n\r\n    public static boolean alphabetic(String str) {\r\n        char[] charArray = str.toCharArray();\r\n        for (char c : charArray) {\r\n            if (!Character.isLetter(c)) {\r\n                if (c != &#39; &#39;) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    static class Comparators implements Comparator&lt;Student&gt; {\r\n        @Override\r\n        public int compare(Student s1, Student s2) {\r\n            int n = Integer.compare(s2.getScore(), s1.getScore());\r\n            if (n == 0) {\r\n                int last = s1.getLastName().compareTo(s2.getLastName());\r\n                return last == 0 ? s1.getFirstName().compareTo(s2.getFirstName()) : last;\r\n\r\n            } else {\r\n                return n;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter the number of students&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        HashSet&lt;Integer&gt; used = new HashSet&lt;&gt;();\r\n        List&lt;List&lt;Object&gt;&gt; listData = new ArrayList&lt;List&lt;Object&gt;&gt;();\r\n        int k = input.nextInt();\r\n        Student[] students = new Student[k];\r\n        for (int i = 0; i &lt; k; ) {\r\n            System.out.println(&quot;Enter id&quot;);\r\n            int id = input.nextInt();\r\n            if (id == -1) {\r\n                break;\r\n            }\r\n            input.nextLine();\r\n            System.out.println(&quot;Enter first name &quot;);\r\n            String fName;\r\n            while (alphabetic(fName = input.nextLine()) == false) {\r\n                System.out.println(&quot;Wrong! please enter again&quot;);\r\n            }\r\n            fName = fName.replace(&quot; &quot;, &quot;&quot;);\r\n            System.out.println(&quot;Enter last name &quot;);\r\n            String lName;\r\n            while (alphabetic(lName = input.nextLine()) == false) {\r\n                System.out.println(&quot;Wrong! please enter again&quot;);\r\n            }\r\n            lName = lName.replace(&quot; &quot;, &quot;&quot;);\r\n            System.out.println(&quot;Enter score &quot;);\r\n            int score = input.nextInt();\r\n            if (score == -1) {\r\n                break;\r\n            }\r\n            if (used.contains(id)) {\r\n                listData.add(Arrays.asList(id, lName, fName, score));\r\n                continue;\r\n            }\r\n            used.add(id);\r\n            students[i++] = new Student(fName, lName, id, score);\r\n\r\n        }\r\n        Arrays.toString(students);\r\n        System.out.println(Arrays.toString(students));\r\n        Arrays.sort(students, new Comparators());\r\n        Arrays.toString(students);\r\n        System.out.println(&quot;Data without duplication:&quot;);\r\n        for (int i = 0; i &lt; k; i++) {\r\n            System.out.println(students[i]);\r\n        }\r\n        if (listData.toArray().length == 0) {\r\n            System.out.println(&quot;No duplicated Data&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;Data with duplication:&quot;);\r\n            System.out.println(&quot;ID/ LastName/Name/ Score&quot;);\r\n            System.out.println(Arrays.toString(listData.toArray()));\r\n        }\r\n```\r\n\r\n\r\nI have tried nullhandlingExpectation methods but I could not get the result I want.\r\n\r\nIs there any method to avoid adding the null value to the array while breaking, or remove the null from the array before comparing?","title":"Avoid Adding Null Value to Array","body":"<p>I am making a function that gets the students' Id, score, last name, and first name and compares them according to their Score, then the last name, and then the first name and prints the result in the descending format.</p>\n<p>I have used a Comparator to compare the elements of the array. The problem is that when the user enters <code>-1</code> as <code>score</code> or <code>ID</code>, the program needs to break and show the result but when I use break, it will add a null value to my array which prevents comparing.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.*;\n\npublic class Main {\n    private static class Student {\n        String fName;\n        String lName;\n        int id;\n        int score;\n\n        public Student(String fName, String lName, int id, int score) {\n            this.fName = fName;\n            this.lName = lName;\n            this.id = id;\n            this.score = score;\n        }\n\n        public int getScore() {\n            return score;\n        }\n\n        public String getFirstName() {\n            return fName;\n        }\n\n        public String getLastName() {\n            return lName;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;id: &quot; + this.id + &quot; &quot; + &quot;fName: &quot; + this.fName + &quot; &quot; + &quot;lName: &quot; + this.lName + &quot; &quot; + &quot;score: &quot; + this.score;\n        }\n\n    }\n\n    public static boolean alphabetic(String str) {\n        char[] charArray = str.toCharArray();\n        for (char c : charArray) {\n            if (!Character.isLetter(c)) {\n                if (c != ' ') {\n                    return false;\n                }\n            }\n\n        }\n        return true;\n    }\n\n    static class Comparators implements Comparator&lt;Student&gt; {\n        @Override\n        public int compare(Student s1, Student s2) {\n            int n = Integer.compare(s2.getScore(), s1.getScore());\n            if (n == 0) {\n                int last = s1.getLastName().compareTo(s2.getLastName());\n                return last == 0 ? s1.getFirstName().compareTo(s2.getFirstName()) : last;\n\n            } else {\n                return n;\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter the number of students&quot;);\n        Scanner input = new Scanner(System.in);\n        HashSet&lt;Integer&gt; used = new HashSet&lt;&gt;();\n        List&lt;List&lt;Object&gt;&gt; listData = new ArrayList&lt;List&lt;Object&gt;&gt;();\n        int k = input.nextInt();\n        Student[] students = new Student[k];\n        for (int i = 0; i &lt; k; ) {\n            System.out.println(&quot;Enter id&quot;);\n            int id = input.nextInt();\n            if (id == -1) {\n                break;\n            }\n            input.nextLine();\n            System.out.println(&quot;Enter first name &quot;);\n            String fName;\n            while (alphabetic(fName = input.nextLine()) == false) {\n                System.out.println(&quot;Wrong! please enter again&quot;);\n            }\n            fName = fName.replace(&quot; &quot;, &quot;&quot;);\n            System.out.println(&quot;Enter last name &quot;);\n            String lName;\n            while (alphabetic(lName = input.nextLine()) == false) {\n                System.out.println(&quot;Wrong! please enter again&quot;);\n            }\n            lName = lName.replace(&quot; &quot;, &quot;&quot;);\n            System.out.println(&quot;Enter score &quot;);\n            int score = input.nextInt();\n            if (score == -1) {\n                break;\n            }\n            if (used.contains(id)) {\n                listData.add(Arrays.asList(id, lName, fName, score));\n                continue;\n            }\n            used.add(id);\n            students[i++] = new Student(fName, lName, id, score);\n\n        }\n        Arrays.toString(students);\n        System.out.println(Arrays.toString(students));\n        Arrays.sort(students, new Comparators());\n        Arrays.toString(students);\n        System.out.println(&quot;Data without duplication:&quot;);\n        for (int i = 0; i &lt; k; i++) {\n            System.out.println(students[i]);\n        }\n        if (listData.toArray().length == 0) {\n            System.out.println(&quot;No duplicated Data&quot;);\n\n        } else {\n            System.out.println(&quot;Data with duplication:&quot;);\n            System.out.println(&quot;ID/ LastName/Name/ Score&quot;);\n            System.out.println(Arrays.toString(listData.toArray()));\n        }\n</code></pre>\n<p>I have tried nullhandlingExpectation methods but I could not get the result I want.</p>\n<p>Is there any method to avoid adding the null value to the array while breaking, or remove the null from the array before comparing?</p>\n"},{"tags":["java","maven","apache-spark","apache-kafka","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669819763,"creation_date":1669817768,"answer_id":74629230,"question_id":74628859,"body_markdown":"You need to remove `provided` scope from streaming-kafka dependency.\r\n\r\nYou should add it to plain spark-steaming dependency instead.\r\n\r\nNote from docs \r\n\r\n&gt; **Do not** manually add dependencies on org.apache.kafka artifacts (e.g. `kafka-clients`) \r\n\r\n\r\nSo remove that. \r\n\r\n`createDirectStream` is correct - https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html \r\n\r\n---\r\n\r\nAlso, Spark Streaming module for Kafka is largely considered deprecated, with Structured Streaming suggested instead (`spark-sql-kafka-0-10`)\r\n","title":"Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;","body":"<p>You need to remove <code>provided</code> scope from streaming-kafka dependency.</p>\n<p>You should add it to plain spark-steaming dependency instead.</p>\n<p>Note from docs</p>\n<blockquote>\n<p><strong>Do not</strong> manually add dependencies on org.apache.kafka artifacts (e.g. <code>kafka-clients</code>)</p>\n</blockquote>\n<p>So remove that.</p>\n<p><code>createDirectStream</code> is correct - <a href=\"https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html</a></p>\n<hr />\n<p>Also, Spark Streaming module for Kafka is largely considered deprecated, with Structured Streaming suggested instead (<code>spark-sql-kafka-0-10</code>)</p>\n"}],"owner":{"account_id":15115020,"reputation":3,"user_id":20148665,"display_name":"Mia Duffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74629230,"answer_count":1,"score":0,"last_activity_date":1669819763,"creation_date":1669816165,"question_id":74628859,"body_markdown":"I&#39;m trying to stream data using Apache Kafka and Spark, but I get an error in line 24 of my code saying &quot;Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;&quot;. I also tried using KafkaUtils.createDirectStream but that didn&#39;t work either. How do I resolve this error?\r\nBelow are my files that I am using\r\n\r\n# NumbersConsumer.java\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.streaming.Duration;\r\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\r\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\r\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\r\nimport scala.Tuple2;\r\n\r\npublic class NumbersConsumer {\r\n\r\n  public static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\r\n  public static final String GROUP_ID = &quot;spark-group&quot;;\r\n  public static final Map&lt;String, Integer&gt; TOPICS = new HashMap&lt;&gt;();\r\n\r\n  public static final int BATCH_DURATION = 5000;\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    TOPICS.put(&quot;Demo1&quot;, 1);\r\n\r\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;demo&quot;);\r\n    JavaStreamingContext streamingContext = new JavaStreamingContext(sparkConf, new Duration(BATCH_DURATION));\r\n\r\n    JavaPairDStream&lt;String, String&gt; messages = KafkaUtils.createStream(streamingContext, BOOTSTRAP_SERVER, GROUP_ID, TOPICS);\r\n\r\n    JavaPairDStream&lt;String, String&gt; percentage = messages.mapToPair(\r\n        num -&gt; new Tuple2&lt;&gt;(&quot;Percentage: &quot;, num._2 + &quot;%&quot;)\r\n    );\r\n\r\n    percentage.print();\r\n\r\n    streamingContext.start();\r\n    streamingContext.awaitTermination();\r\n  }\r\n}\r\n```\r\n# Pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testVideoKafka&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;","body":"<p>I'm trying to stream data using Apache Kafka and Spark, but I get an error in line 24 of my code saying &quot;Cannot resolve method &quot;createStream&quot; in &quot;KafkaUtils&quot;&quot;. I also tried using KafkaUtils.createDirectStream but that didn't work either. How do I resolve this error?\nBelow are my files that I am using</p>\n<h1>NumbersConsumer.java</h1>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.streaming.Duration;\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\nimport scala.Tuple2;\n\npublic class NumbersConsumer {\n\n  public static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\n  public static final String GROUP_ID = &quot;spark-group&quot;;\n  public static final Map&lt;String, Integer&gt; TOPICS = new HashMap&lt;&gt;();\n\n  public static final int BATCH_DURATION = 5000;\n\n  public static void main(String[] args) throws Exception {\n    TOPICS.put(&quot;Demo1&quot;, 1);\n\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;demo&quot;);\n    JavaStreamingContext streamingContext = new JavaStreamingContext(sparkConf, new Duration(BATCH_DURATION));\n\n    JavaPairDStream&lt;String, String&gt; messages = KafkaUtils.createStream(streamingContext, BOOTSTRAP_SERVER, GROUP_ID, TOPICS);\n\n    JavaPairDStream&lt;String, String&gt; percentage = messages.mapToPair(\n        num -&gt; new Tuple2&lt;&gt;(&quot;Percentage: &quot;, num._2 + &quot;%&quot;)\n    );\n\n    percentage.print();\n\n    streamingContext.start();\n    streamingContext.awaitTermination();\n  }\n}\n</code></pre>\n<h1>Pom.xml file</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testVideoKafka&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","log4j2","jpackage"],"answers":[{"tags":[],"owner":{"account_id":2853706,"reputation":11,"user_id":2450341,"display_name":"hz-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669819210,"creation_date":1669819210,"answer_id":74629580,"question_id":74615218,"body_markdown":"The problem seems to have been with the timing of initialising any loggers. Moving \r\n```java\r\nprivate static final Logger log = LoggerFactory.getLogger(Main.class);\r\n```\r\nfrom the Main class field definition to after reconfiguring the logger context solved the problem. I still don&#39;t understand why the previous solution worked when running the JAR but not when running the EXE.\r\n\r\nSo the new version of the Main class looks now like this:\r\n```java\r\n// enable use of log4j1 properties file\r\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\r\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\r\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\r\n    // set app root - log and setting files should reside here\r\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\r\n    // reload log4j.properties\r\n    LoggerContext.getContext(false).reconfigure();\r\n\r\n    Logger log = LoggerFactory.getLogger(Main.class);\r\n\r\n// Rest of Main class\r\n```\r\n\r\nHopefully this will be helpful to someone.","title":"Logging is not working from exe created with jpackage, but works when running the jar file directly","body":"<p>The problem seems to have been with the timing of initialising any loggers. Moving</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Logger log = LoggerFactory.getLogger(Main.class);\n</code></pre>\n<p>from the Main class field definition to after reconfiguring the logger context solved the problem. I still don't understand why the previous solution worked when running the JAR but not when running the EXE.</p>\n<p>So the new version of the Main class looks now like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// enable use of log4j1 properties file\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\n    // set app root - log and setting files should reside here\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\n    // reload log4j.properties\n    LoggerContext.getContext(false).reconfigure();\n\n    Logger log = LoggerFactory.getLogger(Main.class);\n\n// Rest of Main class\n</code></pre>\n<p>Hopefully this will be helpful to someone.</p>\n"}],"owner":{"account_id":2853706,"reputation":11,"user_id":2450341,"display_name":"hz-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74629580,"answer_count":1,"score":1,"last_activity_date":1669819210,"creation_date":1669730156,"question_id":74615218,"body_markdown":"Ok, so the problem is this. I create an application and create a windows installer with jpackage. If I run the &lt;application folder&gt;\\application.exe it does not create the application log file. However if i run the &lt;application folder&gt;\\App\\application.jar everything works as expected.\r\n\r\nThe system is using Java 17, Log4J2 2.19.0, slf4j 2.0.4, maven-shade-plugin 3.2.4 and edgwiz log4j-maven-shade-plugin-extensions. Without the last one logging with log4j2 on shaded applications doesn&#39;t seem to work at all.\r\n\r\n\r\nThe setup may be a bit unorthodox. My log4j.properties looks like this:\r\n```properties\r\n# Root logger option\r\nlog4j.rootLogger=INFO, DEBUG, file, stdout\r\n\r\n# Direct log messages to a log file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=application.log\r\nlog4j.appender.file.File=${app.root}/application.log\r\nlog4j.appender.file.MaxFileSize=200KB\r\nlog4j.appender.file.MaxBackupIndex=4\r\nlog4j.appender.file.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\r\nlog4j.appender.file.layout=MyPatternLayoutWithQualifiedPath\r\n\r\n# Direct log messages to stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\r\nlog4j.appender.stdout.layout=MyPatternLayoutWithQualifiedPath\r\n```\r\n\r\nIn order for the application to process the app.root system property I write that value in my main class and reload the configuration like this:\r\n```java\r\npublic static void main(String[] args) {\r\n    // enable use of log4j1 properties file\r\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\r\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\r\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\r\n    // set app root - log and setting files should reside here\r\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\r\n    // reload log4j.properties\r\n    LoggerContext.getContext(false).reconfigure();\r\n\r\n// rest of Main class\r\n\r\n```\r\n\r\nLike I said. This works just fine when I run the jar file, but not when I run the exe. If I change the log4j.appender.file.File property to `log4j.appender.file.File=application.log` logging works basically just fine. The problem is that then the log file is created into the working directory instead of the application&#39;s root directory. The application is able to take in a file as a command line argument, so the application writes the log file in the directory of the input file which is unwanted behaviour.\r\n\r\nThe jpackage command that I use looks like this, in case it&#39;s of any help:\r\n```\r\njpackage.exe ^\r\n--name &quot;the name of the app&quot; ^\r\n--app-version %version% ^\r\n--vendor &quot;vendor name&quot; ^\r\n--icon &quot;icon.ico&quot; ^\r\n--license-file license.txt ^\r\n--file-associations file-association.properties ^\r\n--input input_directory ^\r\n--main-jar application.jar ^\r\n--main-class path.to.MainClass ^\r\n--type exe ^\r\n--win-per-user-install ^\r\n--win-dir-chooser ^\r\n--win-menu ^\r\n--win-menu-group menuGroupName ^\r\n--win-shortcut\r\n```","title":"Logging is not working from exe created with jpackage, but works when running the jar file directly","body":"<p>Ok, so the problem is this. I create an application and create a windows installer with jpackage. If I run the \\application.exe it does not create the application log file. However if i run the \\App\\application.jar everything works as expected.</p>\n<p>The system is using Java 17, Log4J2 2.19.0, slf4j 2.0.4, maven-shade-plugin 3.2.4 and edgwiz log4j-maven-shade-plugin-extensions. Without the last one logging with log4j2 on shaded applications doesn't seem to work at all.</p>\n<p>The setup may be a bit unorthodox. My log4j.properties looks like this:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, DEBUG, file, stdout\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=application.log\nlog4j.appender.file.File=${app.root}/application.log\nlog4j.appender.file.MaxFileSize=200KB\nlog4j.appender.file.MaxBackupIndex=4\nlog4j.appender.file.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\nlog4j.appender.file.layout=MyPatternLayoutWithQualifiedPath\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout.ConversionPattern=%i %-6p [%-30c{1} :%4L]  %m%n\nlog4j.appender.stdout.layout=MyPatternLayoutWithQualifiedPath\n</code></pre>\n<p>In order for the application to process the app.root system property I write that value in my main class and reload the configuration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // enable use of log4j1 properties file\n    System.setProperty(&quot;log4j1.compatibility&quot;, &quot;true&quot;);\n    URL mySource = Main.class.getProtectionDomain().getCodeSource().getLocation();\n    File applicationRootDirectory = new File(new File(mySource.getPath()).getParent());\n    // set app root - log and setting files should reside here\n    System.setProperty(&quot;app.root&quot;, applicationRootDirectory.getAbsolutePath().replaceAll(&quot;%20&quot;, &quot; &quot;));\n    // reload log4j.properties\n    LoggerContext.getContext(false).reconfigure();\n\n// rest of Main class\n\n</code></pre>\n<p>Like I said. This works just fine when I run the jar file, but not when I run the exe. If I change the log4j.appender.file.File property to <code>log4j.appender.file.File=application.log</code> logging works basically just fine. The problem is that then the log file is created into the working directory instead of the application's root directory. The application is able to take in a file as a command line argument, so the application writes the log file in the directory of the input file which is unwanted behaviour.</p>\n<p>The jpackage command that I use looks like this, in case it's of any help:</p>\n<pre><code>jpackage.exe ^\n--name &quot;the name of the app&quot; ^\n--app-version %version% ^\n--vendor &quot;vendor name&quot; ^\n--icon &quot;icon.ico&quot; ^\n--license-file license.txt ^\n--file-associations file-association.properties ^\n--input input_directory ^\n--main-jar application.jar ^\n--main-class path.to.MainClass ^\n--type exe ^\n--win-per-user-install ^\n--win-dir-chooser ^\n--win-menu ^\n--win-menu-group menuGroupName ^\n--win-shortcut\n</code></pre>\n"},{"tags":["java","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669818997,"creation_date":1669652981,"answer_id":74603673,"question_id":74602627,"body_markdown":"&gt;We expect all files to be deleted from the lib folder when updating an existing \r\n&gt;installation\r\n\r\nThis will only happen if you add an &quot;Execute previous uninstaller&quot; action to the &quot;Installation&quot; screen.\r\n\r\nThe uninstaller that is executed by that action saves its log file to the file \r\n\r\n    &lt;installation directory&gt;/.install4j/uninstallPrevious.log","title":"Why would install4j leave some installed files behind when updating existing installation?","body":"<blockquote>\n<p>We expect all files to be deleted from the lib folder when updating an existing\ninstallation</p>\n</blockquote>\n<p>This will only happen if you add an &quot;Execute previous uninstaller&quot; action to the &quot;Installation&quot; screen.</p>\n<p>The uninstaller that is executed by that action saves its log file to the file</p>\n<pre><code>&lt;installation directory&gt;/.install4j/uninstallPrevious.log\n</code></pre>\n"}],"owner":{"account_id":13301015,"reputation":170,"user_id":9602527,"display_name":"HeatZync"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74603673,"answer_count":1,"score":2,"last_activity_date":1669818997,"creation_date":1669648201,"question_id":74602627,"body_markdown":"We are using install4j v8.0.11. A normal installation works correctly and a normal uninstallation also works correctly by deleting all files from `C:\\Program Files (x86)\\App\\lib` as expected. \r\n\r\nHowever, when the application is already installed and we run a newer version of the installation and choose to update the existing installation then some of the Java dependencies (files in the `lib` folder that make up the `CLASSPATH`) are not deleted during the uninstallation phase. This causes multiple files of the same dependency to be on the `CLASSPATH` which can result in Java using the wrong (older) version of a class.\r\n\r\nWhat could be causing some of the the files in `lib` to not be deleted? (most files are deleted)\r\n\r\n## What have we tried? ##\r\nWe have actions in place to stop the running application and the running service as part of the installation phase as well as the uninstallation phase.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe **failure strategy** for the *Execute previous uninstaller* and *Uninstall files* actions are configured to *Ask user whether to retry or quit on failure*, but we don&#39;t get any prompts.\r\n\r\n## Installation logs ##\r\n```\r\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\r\n       Property directoryResolverScript: null\r\n       Property fileFilterScript: null\r\n       Property sizeCalculatorScript: null\r\n       Property acceptAllCertificates: false\r\n       Property checkFreeSpace: true\r\n       Property delay: false\r\n       Property installRuntime: true\r\n       Property rollbackSupported: true\r\n       Property saveDownloadedFiles: false\r\n       Property showFileNames: true\r\n       Property triggerReboot: true\r\n       Property updateBundledJre: true\r\n       Property validateApplicationId: false\r\n...\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25194.jar; size: 1264714 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25194.jar; size: 995 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: false\r\n...\r\n       Execute action successful after 41010 ms\r\n```\r\n\r\n### Update installation logs ###\r\n```\r\n[INFO] com.install4j.runtime.beans.screens.WelcomeScreen [ID 2]: Show screen\r\n[INFO] checking writable with maximum\r\n[INFO] Variable changed: sys.confirmedUpdateInstallation=true[class java.lang.Boolean]\r\n...\r\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\r\n       Property directoryResolverScript: null\r\n       Property fileFilterScript: null\r\n       Property sizeCalculatorScript: null\r\n       Property acceptAllCertificates: false\r\n       Property checkFreeSpace: true\r\n       Property delay: false\r\n       Property installRuntime: true\r\n       Property rollbackSupported: true\r\n       Property saveDownloadedFiles: false\r\n       Property showFileNames: true\r\n       Property triggerReboot: true\r\n       Property updateBundledJre: true\r\n       Property validateApplicationId: false\r\n...\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25203.jar; size: 1266730 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25203.jar; size: 995 bytes; exists: false\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: true\r\n       File times: 1669725278000, 1669618416000\r\n...\r\n       Execute action successful after 48259 ms\r\n```\r\nThe update installation copies new versions of the `application` and `commons` JARs, but it doesn&#39;t delete the previous/old versions. Also, looking at the update installation&#39;s log files I don&#39;t see any actions being run to either run the previous uninstaller or uninstall any files.\r\n\r\n## What do we expect? ##\r\nWe expect all files to be deleted from the `lib` folder **when updating an existing installation** just as they would be deleted when uninstalling normally.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lnNW5.png","title":"Why would install4j leave some installed files behind when updating existing installation?","body":"<p>We are using install4j v8.0.11. A normal installation works correctly and a normal uninstallation also works correctly by deleting all files from <code>C:\\Program Files (x86)\\App\\lib</code> as expected.</p>\n<p>However, when the application is already installed and we run a newer version of the installation and choose to update the existing installation then some of the Java dependencies (files in the <code>lib</code> folder that make up the <code>CLASSPATH</code>) are not deleted during the uninstallation phase. This causes multiple files of the same dependency to be on the <code>CLASSPATH</code> which can result in Java using the wrong (older) version of a class.</p>\n<p>What could be causing some of the the files in <code>lib</code> to not be deleted? (most files are deleted)</p>\n<h2>What have we tried?</h2>\n<p>We have actions in place to stop the running application and the running service as part of the installation phase as well as the uninstallation phase.</p>\n<p><a href=\"https://i.stack.imgur.com/lnNW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnNW5.png\" alt=\"enter image description here\" /></a></p>\n<p>The <strong>failure strategy</strong> for the <em>Execute previous uninstaller</em> and <em>Uninstall files</em> actions are configured to <em>Ask user whether to retry or quit on failure</em>, but we don't get any prompts.</p>\n<h2>Installation logs</h2>\n<pre><code>[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\n       Property directoryResolverScript: null\n       Property fileFilterScript: null\n       Property sizeCalculatorScript: null\n       Property acceptAllCertificates: false\n       Property checkFreeSpace: true\n       Property delay: false\n       Property installRuntime: true\n       Property rollbackSupported: true\n       Property saveDownloadedFiles: false\n       Property showFileNames: true\n       Property triggerReboot: true\n       Property updateBundledJre: true\n       Property validateApplicationId: false\n...\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25194.jar; size: 1264714 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25194.jar; size: 995 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: false\n...\n       Execute action successful after 41010 ms\n</code></pre>\n<h3>Update installation logs</h3>\n<pre><code>[INFO] com.install4j.runtime.beans.screens.WelcomeScreen [ID 2]: Show screen\n[INFO] checking writable with maximum\n[INFO] Variable changed: sys.confirmedUpdateInstallation=true[class java.lang.Boolean]\n...\n[INFO] com.install4j.runtime.beans.actions.InstallFilesAction [ID 9]: Execute action\n       Property directoryResolverScript: null\n       Property fileFilterScript: null\n       Property sizeCalculatorScript: null\n       Property acceptAllCertificates: false\n       Property checkFreeSpace: true\n       Property delay: false\n       Property installRuntime: true\n       Property rollbackSupported: true\n       Property saveDownloadedFiles: false\n       Property showFileNames: true\n       Property triggerReboot: true\n       Property updateBundledJre: true\n       Property validateApplicationId: false\n...\n       Install file: C:\\Program Files (x86)\\App\\lib\\delight-nashorn-sandbox-0.1.14.jar; size: 75435 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n       Install file: C:\\Program Files (x86)\\App\\lib\\application-1.0.0.25203.jar; size: 1266730 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\commons-1.0.0.25203.jar; size: 995 bytes; exists: false\n       Install file: C:\\Program Files (x86)\\App\\lib\\error_prone_annotations-2.0.18.jar; size: 3632 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n       Install file: C:\\Program Files (x86)\\App\\lib\\flyway-core-6.5.7.jar; size: 293620 bytes; exists: true\n       File times: 1669725278000, 1669618416000\n...\n       Execute action successful after 48259 ms\n</code></pre>\n<p>The update installation copies new versions of the <code>application</code> and <code>commons</code> JARs, but it doesn't delete the previous/old versions. Also, looking at the update installation's log files I don't see any actions being run to either run the previous uninstaller or uninstall any files.</p>\n<h2>What do we expect?</h2>\n<p>We expect all files to be deleted from the <code>lib</code> folder <strong>when updating an existing installation</strong> just as they would be deleted when uninstalling normally.</p>\n"},{"tags":["java","jax-rs","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":406181,"reputation":25183,"user_id":775544,"accept_rate":100,"display_name":"Anthony Neace"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1441203427,"creation_date":1411588091,"answer_id":26025261,"question_id":24951268,"body_markdown":"**Update for Swagger UI  2.1.0+:** The `sorter` parameter has been split into two parameters, as noted in [Fix 1040][1], [Fix 1280][2]:\r\n\r\n&gt; apisSorter\r\n\r\n&gt; Apply a sort to the API/tags list. It can be &#39;alpha&#39;\r\n&gt; (sort by name) or a function (see Array.prototype.sort() to know how\r\n&gt; sort function works). Default is the order returned by the server\r\n&gt; unchanged.\r\n\r\n&gt; operationsSorter\r\n\r\n&gt; Apply a sort to the operation list of each API. It can be &#39;alpha&#39; (sort by paths alphanumerically), &#39;method&#39; (sort by\r\n&gt; HTTP method) or a function (see Array.prototype.sort() to know how\r\n&gt; sort function works). Default is the order returned by the server\r\n&gt; unchanged.\r\n\r\nSo you&#39;ll want to update `sorter` to `apisSorter` to sort the API list alphabetically, and/or `operationsSorter` to sort the operations list of each API. The pet shop demo has updated to apisSorter, as shown below:\r\n\r\n[Example][3]: ([working demo][4], sorted alphabetically)\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n    \r\n    ...\r\n    \r\n    apisSorter : &quot;alpha&quot;\r\n    });\r\n\r\n**For Swagger UI versions older than 2.1.0**:\r\n\r\nThe `sorter` parameter is still relevant for older versions of Swagger UI:\r\n\r\nYou can use the *sorter* parameter when instantiating SwaggerUi. This happens in the javascript on the Swagger-Ui index.html. From the [documentation][5]:\r\n\r\n&gt; sorter apply a sort to the API list. It can be &#39;**alpha**&#39; (sort paths\r\n&gt; alphanumerically) or &#39;**method**&#39; (sort operations by HTTP method).\r\n&gt; Default is the order returned by the server unchanged.\r\n\r\n[Example][6]:\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n\r\n    ...\r\n\r\n    sorter : &quot;alpha&quot;\r\n    });\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-ui/issues/1040\r\n  [2]: https://github.com/swagger-api/swagger-ui/pull/1280\r\n  [3]: https://github.com/swagger-api/swagger-ui/blob/master/src/main/html/index.html\r\n  [4]: http://petstore.swagger.io/\r\n  [5]: https://github.com/wordnik/swagger-ui#swaggerui\r\n  [6]: https://github.com/swagger-api/swagger-ui/blob/97ed093e6ec3a7a778ac6a41d76775c88b1fc951/src/main/html/index.html","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for Swagger UI  2.1.0+:</strong> The <code>sorter</code> parameter has been split into two parameters, as noted in <a href=\"https://github.com/swagger-api/swagger-ui/issues/1040\">Fix 1040</a>, <a href=\"https://github.com/swagger-api/swagger-ui/pull/1280\">Fix 1280</a>:</p>\n\n<blockquote>\n  <p>apisSorter</p>\n  \n  <p>Apply a sort to the API/tags list. It can be 'alpha'\n  (sort by name) or a function (see Array.prototype.sort() to know how\n  sort function works). Default is the order returned by the server\n  unchanged.</p>\n  \n  <p>operationsSorter</p>\n  \n  <p>Apply a sort to the operation list of each API. It can be 'alpha' (sort by paths alphanumerically), 'method' (sort by\n  HTTP method) or a function (see Array.prototype.sort() to know how\n  sort function works). Default is the order returned by the server\n  unchanged.</p>\n</blockquote>\n\n<p>So you'll want to update <code>sorter</code> to <code>apisSorter</code> to sort the API list alphabetically, and/or <code>operationsSorter</code> to sort the operations list of each API. The pet shop demo has updated to apisSorter, as shown below:</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-ui/blob/master/src/main/html/index.html\">Example</a>: (<a href=\"http://petstore.swagger.io/\">working demo</a>, sorted alphabetically)</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\napisSorter : \"alpha\"\n});\n</code></pre>\n\n<p><strong>For Swagger UI versions older than 2.1.0</strong>:</p>\n\n<p>The <code>sorter</code> parameter is still relevant for older versions of Swagger UI:</p>\n\n<p>You can use the <em>sorter</em> parameter when instantiating SwaggerUi. This happens in the javascript on the Swagger-Ui index.html. From the <a href=\"https://github.com/wordnik/swagger-ui#swaggerui\">documentation</a>:</p>\n\n<blockquote>\n  <p>sorter apply a sort to the API list. It can be '<strong>alpha</strong>' (sort paths\n  alphanumerically) or '<strong>method</strong>' (sort operations by HTTP method).\n  Default is the order returned by the server unchanged.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/swagger-api/swagger-ui/blob/97ed093e6ec3a7a778ac6a41d76775c88b1fc951/src/main/html/index.html\">Example</a>:</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\nsorter : \"alpha\"\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271733,"reputation":2072,"user_id":1998944,"accept_rate":40,"display_name":"Kenyakorn Ketsombut"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1441170601,"creation_date":1441170601,"answer_id":32345035,"question_id":24951268,"body_markdown":"The accepted answer is a bit outdated. In newer versions it is done by:\r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n    \r\n    ...\r\n    \r\n    apisSorter: &quot;alpha&quot;, // can also be a function\r\n    operationsSorter : &quot;method&quot;, // can also be &#39;alpha&#39; or a function\r\n    });\r\n\r\n","title":"Sort API methods in Swagger-UI","body":"<p>The accepted answer is a bit outdated. In newer versions it is done by:</p>\n\n<pre><code>window.swaggerUi = new SwaggerUi({\n\n...\n\napisSorter: \"alpha\", // can also be a function\noperationsSorter : \"method\", // can also be 'alpha' or a function\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7042940,"reputation":111,"user_id":5394788,"display_name":"Hiddenben"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1632740374,"creation_date":1443643011,"answer_id":32874552,"question_id":24951268,"body_markdown":"I had the same issue and I fixed it like this \r\n\r\n    window.swaggerUi = new SwaggerUi({\r\n        apisSorter: &quot;alpha&quot;, \r\n        operationsSorter: function (a, b) { \r\n        var order = { &#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;put&#39;: &#39;2&#39;, &#39;delete&#39;: &#39;3&#39; }; \r\n        return order[a.method].localeCompare(order[b.method]);    \r\n      },\r\n    });","title":"Sort API methods in Swagger-UI","body":"<p>I had the same issue and I fixed it like this</p>\n<pre><code>window.swaggerUi = new SwaggerUi({\n    apisSorter: &quot;alpha&quot;, \n    operationsSorter: function (a, b) { \n    var order = { 'get': '0', 'post': '1', 'put': '2', 'delete': '3' }; \n    return order[a.method].localeCompare(order[b.method]);    \n  },\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573119395,"creation_date":1573119395,"answer_id":58745770,"question_id":24951268,"body_markdown":"**Update for Swagger 3.18.3**\r\n\r\n     window.ui = SwaggerUIBundle({\r\n               ...\r\n                operationsSorter: function (a, b) {\r\n                    var order = {&#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;put&#39;: &#39;2&#39;, &#39;delete&#39;: &#39;3&#39;};\r\n                    return order[a.get(&quot;method&quot;)].localeCompare(order[b.get(&quot;method&quot;)]);\r\n                },\r\n               ...\r\n     });","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for Swagger 3.18.3</strong></p>\n\n<pre><code> window.ui = SwaggerUIBundle({\n           ...\n            operationsSorter: function (a, b) {\n                var order = {'get': '0', 'post': '1', 'put': '2', 'delete': '3'};\n                return order[a.get(\"method\")].localeCompare(order[b.get(\"method\")]);\n            },\n           ...\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4119825,"reputation":12166,"user_id":3380497,"display_name":"Shadi Alnamrouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593528019,"creation_date":1593528019,"answer_id":62660030,"question_id":24951268,"body_markdown":"For .net Core users with SwaggerUI3:\r\n\r\n     app.UseSwaggerUi3(j=&gt;j.TagsSorter = &quot;alpha&quot;);","title":"Sort API methods in Swagger-UI","body":"<p>For .net Core users with SwaggerUI3:</p>\n<pre><code> app.UseSwaggerUi3(j=&gt;j.TagsSorter = &quot;alpha&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2242976,"reputation":79,"user_id":6444586,"display_name":"Damian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627995652,"creation_date":1627995652,"answer_id":68636551,"question_id":24951268,"body_markdown":"For Python folks who end up here with the same issue, here&#39;s how to solve it\r\n\r\n**Using flasgger v0.9.5 (=Swagger-UI 3.28.0) and Flask v2.0.1:**\r\n\r\n    app = Flask(__name__)\r\n    config = {\r\n        &quot;ui_params&quot;: {\r\n            &quot;operationsSorter&quot;: &quot;alpha&quot;,  # sorts endpoints alphabetically within a tag\r\n            &quot;tagsSorter&quot;: &quot;alpha&quot;. # sorts tags alphabetically\r\n        }\r\n    }\r\n    Swagger(app, config=config)\r\n\r\n\r\n","title":"Sort API methods in Swagger-UI","body":"<p>For Python folks who end up here with the same issue, here's how to solve it</p>\n<p><strong>Using flasgger v0.9.5 (=Swagger-UI 3.28.0) and Flask v2.0.1:</strong></p>\n<pre><code>app = Flask(__name__)\nconfig = {\n    &quot;ui_params&quot;: {\n        &quot;operationsSorter&quot;: &quot;alpha&quot;,  # sorts endpoints alphabetically within a tag\n        &quot;tagsSorter&quot;: &quot;alpha&quot;. # sorts tags alphabetically\n    }\n}\nSwagger(app, config=config)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669818897,"creation_date":1632383831,"answer_id":69296074,"question_id":24951268,"body_markdown":"**Update for 3.x+**\r\n\r\nAs also mentioned in comments previously, `apisSorter` seems to have been renamed to `tagsSorter` in v. 3.x, see [Swagger configuration documentation][1].\r\n\r\n    window.ui = SwaggerUIBundle({\r\n      ...\r\n      tagsSorter: &quot;alpha&quot;,\r\n      operationsSorter: &quot;alpha&quot;\r\n      ...\r\n    });\r\n\r\n\r\n  [1]: https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/","title":"Sort API methods in Swagger-UI","body":"<p><strong>Update for 3.x+</strong></p>\n<p>As also mentioned in comments previously, <code>apisSorter</code> seems to have been renamed to <code>tagsSorter</code> in v. 3.x, see <a href=\"https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/\" rel=\"nofollow noreferrer\">Swagger configuration documentation</a>.</p>\n<pre><code>window.ui = SwaggerUIBundle({\n  ...\n  tagsSorter: &quot;alpha&quot;,\n  operationsSorter: &quot;alpha&quot;\n  ...\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444362,"creation_date":1633444362,"answer_id":69452365,"question_id":24951268,"body_markdown":"With my version of swagger i&#39;ve managed to do like this:\r\n\r\n```\r\napisSorter: &quot;alpha&quot;, \r\noperationsSorter: function (a, b) { \r\n    var order = { &#39;get&#39;: &#39;0&#39;, &#39;patch&#39;: &#39;1&#39;, &#39;post&#39;: &#39;2&#39;};\r\n    return order[a._root.entries[1][1]].localeCompare(order[b._root.entries[1][1]]);\r\n}\r\n```","title":"Sort API methods in Swagger-UI","body":"<p>With my version of swagger i've managed to do like this:</p>\n<pre><code>apisSorter: &quot;alpha&quot;, \noperationsSorter: function (a, b) { \n    var order = { 'get': '0', 'patch': '1', 'post': '2'};\n    return order[a._root.entries[1][1]].localeCompare(order[b._root.entries[1][1]]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10686372,"reputation":113,"user_id":7866817,"display_name":"Sergey Kanygin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633980815,"creation_date":1633980815,"answer_id":69531565,"question_id":24951268,"body_markdown":"To sort **api tags** and **operations** in nestjs you can pass [SwaggerCustomOptions][1] to `SwaggerModule.setup()` method in following way:\r\n\r\n      \r\n    import { DocumentBuilder, SwaggerModule } from &#39;@nestjs/swagger&#39;;\r\n\r\n    //...\r\n\r\n    const config = new DocumentBuilder().addBearerAuth().build();\r\n    const document = SwaggerModule.createDocument(app, config);\r\n    SwaggerModule.setup(&#39;api/docs&#39;, app, document, {\r\n      swaggerOptions: {\r\n        apisSorter: &#39;alpha&#39;,\r\n        tagsSorter: &#39;alpha&#39;,\r\n        operationsSorter: &#39;alpha&#39;,\r\n      },\r\n    });\r\n\r\n\r\n  [1]: https://github.com/nestjs/swagger/blob/master/lib/interfaces/swagger-custom-options.interface.ts#L5","title":"Sort API methods in Swagger-UI","body":"<p>To sort <strong>api tags</strong> and <strong>operations</strong> in nestjs you can pass <a href=\"https://github.com/nestjs/swagger/blob/master/lib/interfaces/swagger-custom-options.interface.ts#L5\" rel=\"nofollow noreferrer\">SwaggerCustomOptions</a> to <code>SwaggerModule.setup()</code> method in following way:</p>\n<pre><code>import { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\n\n//...\n\nconst config = new DocumentBuilder().addBearerAuth().build();\nconst document = SwaggerModule.createDocument(app, config);\nSwaggerModule.setup('api/docs', app, document, {\n  swaggerOptions: {\n    apisSorter: 'alpha',\n    tagsSorter: 'alpha',\n    operationsSorter: 'alpha',\n  },\n});\n</code></pre>\n"}],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58176,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":26025261,"answer_count":9,"score":30,"last_activity_date":1669818897,"creation_date":1406276756,"question_id":24951268,"body_markdown":"I cannot find any working example, how to achieve the following:\r\nI want my API methods in the Swagger-UI sorted either by methods (GET-POST-PUT-DELETE) OR/AND alphabetically.\r\n\r\nSo far, all methods are displayed in a random order, even not in the order given my source code.\r\n\r\nI use Jax-RS + Jersey 1.\r\n\r\nSorting using the position attribute of @ApiOperation is not an option for me, as there are too many methods and the API is still extending, so I would need to update all if there is a new one.\r\n\r\nAny hints?","title":"Sort API methods in Swagger-UI","body":"<p>I cannot find any working example, how to achieve the following:\nI want my API methods in the Swagger-UI sorted either by methods (GET-POST-PUT-DELETE) OR/AND alphabetically.</p>\n\n<p>So far, all methods are displayed in a random order, even not in the order given my source code.</p>\n\n<p>I use Jax-RS + Jersey 1.</p>\n\n<p>Sorting using the position attribute of @ApiOperation is not an option for me, as there are too many methods and the API is still extending, so I would need to update all if there is a new one.</p>\n\n<p>Any hints?</p>\n"},{"tags":["java","spring-boot","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818767,"creation_date":1669818767,"answer_id":74629466,"question_id":74628829,"body_markdown":"1. The much better approach is to set the desired version in `&lt;dependencyManagement&gt;`, i.e.\r\n\r\n````\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n       &lt;version&gt;6.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies)\r\n&lt;/dependencyManagement&gt;\r\n````\r\n\r\nThen you need no exclusions at all.\r\n\r\n2. If the dependency tree does not show it, it will not be used, unless the dependency is a fat jar. So, avoid fat jars as dependencies (if at all possible), and furthermore check if your Aqua Scan maybe does it wrong.\r\n     ","title":"How to exclude a transitive dependency in Maven project","body":"<ol>\n<li>The much better approach is to set the desired version in <code>&lt;dependencyManagement&gt;</code>, i.e.</li>\n</ol>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n       &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n       &lt;version&gt;6.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies)\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Then you need no exclusions at all.</p>\n<ol start=\"2\">\n<li>If the dependency tree does not show it, it will not be used, unless the dependency is a fat jar. So, avoid fat jars as dependencies (if at all possible), and furthermore check if your Aqua Scan maybe does it wrong.</li>\n</ol>\n"}],"owner":{"account_id":17672364,"reputation":1,"user_id":12828178,"display_name":"ITMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669818767,"creation_date":1669816025,"question_id":74628829,"body_markdown":"I have a java spring boot application A that has dependency B which is a third party jar. B in turn has dependency C. When people need upgrade C (say from v1.0 to v2.0), a common approach is that in pom.xml of A, using Maven exclusion feature to exclude C from B, then either declare C-v2.0 as a direct dependency, or add C-v2.0 to dependencyManagement section.\r\n\r\nThis approach doesn&#39;t guarantee work in all situations. An example is org.glassfish.metro:webservices-rt:2.4.3 has dependency woodstox-core:5.1.0 which contains high security vulnerabilities and need to upgrade to 6.4.0.\r\n\r\nMy project A has (direct)dependency webservices-rt:2.4.3. Applying above approach doesn&#39;t exclude woodstox-core:5.1.0 from my project. Note: the maven dependency tree doesn&#39;t show woodstox-core:5.1.0 any more, but Aqua Scan still indicates that webservices-rt has dependency woodstox-core:5.1.0.\r\n\r\nBelow is part of my pom\r\n``` \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t &lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t    \t&lt;exclusion&gt;\r\n\t\t    \t\t&lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n\t\t    \t&lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t\t &lt;/dependency&gt;\r\n```\r\nIt seems to me that whether above approach working or not depends on how jar B is packaged. Dose anyone has knowledge to share?","title":"How to exclude a transitive dependency in Maven project","body":"<p>I have a java spring boot application A that has dependency B which is a third party jar. B in turn has dependency C. When people need upgrade C (say from v1.0 to v2.0), a common approach is that in pom.xml of A, using Maven exclusion feature to exclude C from B, then either declare C-v2.0 as a direct dependency, or add C-v2.0 to dependencyManagement section.</p>\n<p>This approach doesn't guarantee work in all situations. An example is org.glassfish.metro:webservices-rt:2.4.3 has dependency woodstox-core:5.1.0 which contains high security vulnerabilities and need to upgrade to 6.4.0.</p>\n<p>My project A has (direct)dependency webservices-rt:2.4.3. Applying above approach doesn't exclude woodstox-core:5.1.0 from my project. Note: the maven dependency tree doesn't show woodstox-core:5.1.0 any more, but Aqua Scan still indicates that webservices-rt has dependency woodstox-core:5.1.0.</p>\n<p>Below is part of my pom</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n            &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n            &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n                    &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n         &lt;/dependency&gt;\n</code></pre>\n<p>It seems to me that whether above approach working or not depends on how jar B is packaged. Dose anyone has knowledge to share?</p>\n"},{"tags":["java","foreach","switch-statement","java-stream","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669808419,"creation_date":1669807908,"answer_id":74627100,"question_id":74626964,"body_markdown":"You can use a combination of `map()` and [`reduce(identity,accumulator)`][reduce] operations.\r\n\r\n[`BigDecimale.negate()`][BD.negate] can be applied to change the sign of a value to represent the cases when it should be subtracted.\r\n\r\n```\r\nList&lt;TransactionSumView&gt; listSum = transactionsRepository.findAllSumByAcc1IdGroupByType(id);\r\n    \r\nBigDecimal sum = listSum.stream()\r\n    .map(sumView -&gt; &quot;I&quot;.equals(sumView.getType()) ?\r\n        sumView.getAmount() : sumView.getAmount().negate()\r\n    )\r\n    .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n```\r\n\r\n\r\n\r\n   [reduce]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\r\n\r\n   [BD.negate]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#negate()","title":"How to use Switch-statement inside a Stream","body":"<p>You can use a combination of <code>map()</code> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>reduce(identity,accumulator)</code></a> operations.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#negate()\" rel=\"nofollow noreferrer\"><code>BigDecimale.negate()</code></a> can be applied to change the sign of a value to represent the cases when it should be subtracted.</p>\n<pre><code>List&lt;TransactionSumView&gt; listSum = transactionsRepository.findAllSumByAcc1IdGroupByType(id);\n    \nBigDecimal sum = listSum.stream()\n    .map(sumView -&gt; &quot;I&quot;.equals(sumView.getType()) ?\n        sumView.getAmount() : sumView.getAmount().negate()\n    )\n    .reduce(BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n"}],"owner":{"account_id":23375479,"reputation":33,"user_id":17993968,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74627100,"answer_count":1,"score":1,"last_activity_date":1669818696,"creation_date":1669807376,"question_id":74626964,"body_markdown":"I need to get a balance sum from a list of type `List&lt;TransactionSumView&gt;`, which I&#39;m receiving from the database.\r\n\r\nMy `TransactionSumView` interface:\r\n\r\n```java\r\n//projection interface\r\npublic interface TransactionSumView {\r\n\t\t\r\n\tString getType();\r\n\tBigDecimal getAmount();\r\n}\r\n```\r\n\r\n\r\nPlease see my implementation below:\r\n```java\r\nList&lt;TransactionSumView&gt; listSum = transactionsRepository.findAllSumByAcc1IdGroupByType(id);\r\n\t\t\r\nBigDecimal sum = BigDecimal.ZERO;\r\n\r\n// forEach loop\r\nfor (TransactionSumView list : listSum) {\r\n\tswitch (list.getType()) {\r\n\t\tcase &quot;E&quot;:\r\n\t\tcase &quot;T&quot;:\r\n\t\t\tsum = sum.subtract(list.getAmount());\r\n\t\t\tbreak;\r\n\t\tcase &quot;I&quot;:\r\n\t\t\tsum = sum.add(list.getAmount());\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nHow can I solve it using Stream API?","title":"How to use Switch-statement inside a Stream","body":"<p>I need to get a balance sum from a list of type <code>List&lt;TransactionSumView&gt;</code>, which I'm receiving from the database.</p>\n<p>My <code>TransactionSumView</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//projection interface\npublic interface TransactionSumView {\n        \n    String getType();\n    BigDecimal getAmount();\n}\n</code></pre>\n<p>Please see my implementation below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TransactionSumView&gt; listSum = transactionsRepository.findAllSumByAcc1IdGroupByType(id);\n        \nBigDecimal sum = BigDecimal.ZERO;\n\n// forEach loop\nfor (TransactionSumView list : listSum) {\n    switch (list.getType()) {\n        case &quot;E&quot;:\n        case &quot;T&quot;:\n            sum = sum.subtract(list.getAmount());\n            break;\n        case &quot;I&quot;:\n            sum = sum.add(list.getAmount());\n            break;\n    }\n}\n</code></pre>\n<p>How can I solve it using Stream API?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1604839249,"post_id":64733766,"comment_id":114463447,"body_markdown":"What&#39;s wrong with https://tomcat.apache.org/tomcat-8.5-doc/api/org/apache/catalina/realm/RealmBase.html#getCredentialHandler()?","body":"What&#39;s wrong with <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/api/org/apache/catalina/realm/RealmBase.html#getCredentialHandler()\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-8.5-doc/api/org/apache/catalina/rea&zwnj;&#8203;lm/&hellip;</a>?"},{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1604883000,"post_id":64733766,"comment_id":114474567,"body_markdown":"@Michael-O How would I get the Realm first?","body":"@Michael-O How would I get the Realm first?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1604883847,"post_id":64733766,"comment_id":114474716,"body_markdown":"Tomcat internal structures are not intented to be consumed by the application. If you need to process passwords yourself then you don&#39;t need container-managed security.","body":"Tomcat internal structures are not intented to be consumed by the application. If you need to process passwords yourself then you don&#39;t need container-managed security."},{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1604884458,"post_id":64733766,"comment_id":114474814,"body_markdown":"@Michael-O So how is one supposed to hash a password from a user to store it in the database in the first place? How about when the user changes their password?","body":"@Michael-O So how is one supposed to hash a password from a user to store it in the database in the first place? How about when the user changes their password?"},{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1604916579,"post_id":64733766,"comment_id":114483055,"body_markdown":"@Michael-O Thanks for your comments. Just to be clear, I asked about accessing the Realm in response to your original question &quot;What&#39;s wrong with [RealmBase.getCredentialHandler]&quot;. If I can&#39;t/not supposed to have access to it (as per your subsequent comment), then I think that answers your question. As for &quot;processing password&quot; myself - this is a normal use-case - my question is whether I&#39;m going about it the correct way using Tomcat.","body":"@Michael-O Thanks for your comments. Just to be clear, I asked about accessing the Realm in response to your original question &quot;What&#39;s wrong with [RealmBase.getCredentialHandler]&quot;. If I can&#39;t/not supposed to have access to it (as per your subsequent comment), then I think that answers your question. As for &quot;processing password&quot; myself - this is a normal use-case - my question is whether I&#39;m going about it the correct way using Tomcat."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1604929334,"post_id":64733766,"comment_id":114488749,"body_markdown":"@Edward, what are you getting from getAttribute, is it null","body":"@Edward, what are you getting from getAttribute, is it null"},{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1605003491,"post_id":64733766,"comment_id":114513696,"body_markdown":"@Ironluca It returns a valid (default) credential handler that doesn&#39;t mutate the password at all, i.e. the password is returned as plaintext - certainly not the CH that&#39;s defined. I added Edit 2 to my question with a more detailed explanation.","body":"@Ironluca It returns a valid (default) credential handler that doesn&#39;t mutate the password at all, i.e. the password is returned as plaintext - certainly not the CH that&#39;s defined. I added Edit 2 to my question with a more detailed explanation."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1605032274,"post_id":64733766,"comment_id":114526964,"body_markdown":"Please check,  added the answer back after modification, now that the problem is clear.","body":"Please check,  added the answer back after modification, now that the problem is clear."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1668570078,"post_id":64733766,"comment_id":131435449,"body_markdown":"@Michael-O This feature of Tomcat is *specifically designed* to allow applications to interact with the password-mutation scheme actively being used by Tomcat.","body":"@Michael-O This feature of Tomcat is <i>specifically designed</i> to allow applications to interact with the password-mutation scheme actively being used by Tomcat."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1668585174,"post_id":64733766,"comment_id":131438359,"body_markdown":"@ChristopherSchultz then the application isn&#39;t container agnostic. This should be clear then.","body":"@ChristopherSchultz then the application isn&#39;t container agnostic. This should be clear then."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1668717935,"post_id":64733766,"comment_id":131480873,"body_markdown":"@Michael-O True, it&#39;s no longer container-agnostic. But unless you want to go through the pain of using reflection to call the mutator method in the CredentialHandler, you&#39;re going to have to compile against Tomcat&#39;s classes, anyway, at which point it should be clear that Tomcat would be required...","body":"@Michael-O True, it&#39;s no longer container-agnostic. But unless you want to go through the pain of using reflection to call the mutator method in the CredentialHandler, you&#39;re going to have to compile against Tomcat&#39;s classes, anyway, at which point it should be clear that Tomcat would be required..."}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605032219,"creation_date":1604908671,"answer_id":64747715,"question_id":64733766,"body_markdown":"Now that the use cases are clear. What you mention in your edits is correct. It starts with the [RealmBase][1] class (refer: protected void startInternal() method). This, if teh credential handler is null (which in your case it is on LockoutRealm), sets the default credential handler as MessageDigestCredentialHandler without any algorithm, the behaviour of the credential handler if no algorithm is specified is to use plainText. \r\n\r\nNext look at the [StandardContext][2] (refer: protected synchronized void startInternal() method, line 5016-5027), lines 5019 and 5024 are important. Here the realm is being retrieved with the &#39;getRealmInternal()&#39; call, which returns the configured realm, which in your case is LockoutRealm and the subsequent &#39;getCredentialHandler()&#39; returns the default credential handler as mentioned above (as the method is dispatched to RealmBase, ***a point to be noted, the CombinedRealm or the LockoutRealm does not override this method***).\r\n\r\nThis is why the password is not being mutated.\r\n\r\nWhat you require looks to be possible. It is apparent from the above that when the &#39;getCredentialHandler()&#39; is called on the realm, the realm should handle it instead of dispatching to RealmBase.\r\n\r\nTherefore, you could do the below:\r\n\r\n 1. Extend LockoutRealm with your realm class (say XRealm)\r\n 2. Override the getCredentialHandler method\r\n 3. In the method, access the &#39;protected final List&lt;Realm&gt; realms&#39; of CombinedRealm, your DataSourceRealm should be the 0th element\r\n 4. Call the getCredentialHandler on the DataSourceRealm and return\r\n 5. When StandardContext calls getCredentialHandler, it should get the NestedCredentialHandler you have configured\r\n\r\n The above should solve the problem.\r\n\r\n  [1]: https://github.com/apache/tomcat/blob/6053839acc97b4f3eb9f286c5633d0c1dc2e9c09/java/org/apache/catalina/realm/RealmBase.java\r\n  [2]: https://github.com/apache/tomcat/blob/99647b373c41e1ee1424665a1ccf2174848aa176/java/org/apache/catalina/core/StandardContext.java","title":"How to get Tomcat CredentialHandler inside Java when nested in LockoutRealm","body":"<p>Now that the use cases are clear. What you mention in your edits is correct. It starts with the <a href=\"https://github.com/apache/tomcat/blob/6053839acc97b4f3eb9f286c5633d0c1dc2e9c09/java/org/apache/catalina/realm/RealmBase.java\" rel=\"nofollow noreferrer\">RealmBase</a> class (refer: protected void startInternal() method). This, if teh credential handler is null (which in your case it is on LockoutRealm), sets the default credential handler as MessageDigestCredentialHandler without any algorithm, the behaviour of the credential handler if no algorithm is specified is to use plainText.</p>\n<p>Next look at the <a href=\"https://github.com/apache/tomcat/blob/99647b373c41e1ee1424665a1ccf2174848aa176/java/org/apache/catalina/core/StandardContext.java\" rel=\"nofollow noreferrer\">StandardContext</a> (refer: protected synchronized void startInternal() method, line 5016-5027), lines 5019 and 5024 are important. Here the realm is being retrieved with the 'getRealmInternal()' call, which returns the configured realm, which in your case is LockoutRealm and the subsequent 'getCredentialHandler()' returns the default credential handler as mentioned above (as the method is dispatched to RealmBase, <em><strong>a point to be noted, the CombinedRealm or the LockoutRealm does not override this method</strong></em>).</p>\n<p>This is why the password is not being mutated.</p>\n<p>What you require looks to be possible. It is apparent from the above that when the 'getCredentialHandler()' is called on the realm, the realm should handle it instead of dispatching to RealmBase.</p>\n<p>Therefore, you could do the below:</p>\n<ol>\n<li>Extend LockoutRealm with your realm class (say XRealm)</li>\n<li>Override the getCredentialHandler method</li>\n<li>In the method, access the 'protected final List realms' of CombinedRealm, your DataSourceRealm should be the 0th element</li>\n<li>Call the getCredentialHandler on the DataSourceRealm and return</li>\n<li>When StandardContext calls getCredentialHandler, it should get the NestedCredentialHandler you have configured</li>\n</ol>\n<p>The above should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669818577,"creation_date":1668570360,"answer_id":74454886,"question_id":64733766,"body_markdown":"The simple answer is that you need to configure an identical (or operationally identical) `CredentialHandler` on the LockOutRealm.\r\n\r\n(I&#39;m sorry I didn&#39;t see this question 2 years ago!)\r\n\r\nSince you don&#39;t ever intend to create *new* passwords using `SHA-512` (you expect to always write new credentials that are using PBKDF2, right?), you can do this:\r\n\r\n```lang-xml\r\n&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\r\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\r\n      &lt;!--\r\n        Define a CredentialHandler which will be used\r\n        exclusively by the container. See below for one that\r\n        can be used by the application.\r\n\r\n        This repeated-configuration is necessary because of the\r\n        use of the LockOutRealm, which hides the CredentialHandler\r\n        defined on the &quot;real realm&quot; from its parent.\r\n      --&gt;\r\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\r\n      &lt;/CredentialHandler&gt;\r\n    &lt;/Realm&gt;\r\n    &lt;!--\r\n      Repeat the NestedCredentialHandler for the benefit of the\r\n      LockOutRealm, which would otherwise have an empty/default\r\n      CredentialHandler whish is not useful to the application.\r\n\r\n      This allows the application to obtain a CredentialHandler\r\n      which can be used to both verify existing user credentials\r\n      as well as generate new stored-credentials.\r\n\r\n      This must be a copy of the NestedCredentialHandler above,\r\n      in order to both allow verification of existing user\r\n      credentials (using #matches(), which will try all possible\r\n      nested CredentialHandlers) as well as the generation of\r\n      new stored credentials (using #mutate(), which will only\r\n      use the first-defined aka primary CredentialHandler.\r\n      --&gt;\r\n    &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\r\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\r\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\r\n    &lt;/CredentialHandler&gt;\r\n&lt;/Realm&gt;\r\n```\r\n\r\nThe innermost `CredentialHandler` will be used during login to actually check that your credentials match, while the outermost `CredentialHandler` will be used when you want to mutate your own from within your application.\r\n","title":"How to get Tomcat CredentialHandler inside Java when nested in LockoutRealm","body":"<p>The simple answer is that you need to configure an identical (or operationally identical) <code>CredentialHandler</code> on the LockOutRealm.</p>\n<p>(I'm sorry I didn't see this question 2 years ago!)</p>\n<p>Since you don't ever intend to create <em>new</em> passwords using <code>SHA-512</code> (you expect to always write new credentials that are using PBKDF2, right?), you can do this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\n      &lt;!--\n        Define a CredentialHandler which will be used\n        exclusively by the container. See below for one that\n        can be used by the application.\n\n        This repeated-configuration is necessary because of the\n        use of the LockOutRealm, which hides the CredentialHandler\n        defined on the &quot;real realm&quot; from its parent.\n      --&gt;\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\n      &lt;/CredentialHandler&gt;\n    &lt;/Realm&gt;\n    &lt;!--\n      Repeat the NestedCredentialHandler for the benefit of the\n      LockOutRealm, which would otherwise have an empty/default\n      CredentialHandler whish is not useful to the application.\n\n      This allows the application to obtain a CredentialHandler\n      which can be used to both verify existing user credentials\n      as well as generate new stored-credentials.\n\n      This must be a copy of the NestedCredentialHandler above,\n      in order to both allow verification of existing user\n      credentials (using #matches(), which will try all possible\n      nested CredentialHandlers) as well as the generation of\n      new stored credentials (using #mutate(), which will only\n      use the first-defined aka primary CredentialHandler.\n      --&gt;\n    &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\n    &lt;/CredentialHandler&gt;\n&lt;/Realm&gt;\n</code></pre>\n<p>The innermost <code>CredentialHandler</code> will be used during login to actually check that your credentials match, while the outermost <code>CredentialHandler</code> will be used when you want to mutate your own from within your application.</p>\n"},{"tags":[],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668587634,"creation_date":1668587634,"answer_id":74457354,"question_id":64733766,"body_markdown":"I came across the same problem and was only able to login when I input the DIGEST created for some specific credential handler into the browser&#39;s dialog. So really the value stored in `tomcat-users.xml`. That made me believe that always only the hard-coded default credential handler allowing plain-text passwords only assigned to `LockOutRealm` is used and my other handler assigned to the child realm ignored.\r\n\r\nBUT that wasn&#39;t the case! I was forced to double-check my config after speaking about this problem on the [Tomcat mailing list][1] and recognized that for [other reasons][2] my `auth-method` configured in `web.xml` was still set to `DIGEST` instead of `BASIC`. `DIGEST` and a really digested password in `tomcat-users.xml` can&#39;t work together and therefore I was able to provide that digest when the browser asked for my password to successfully login. Therefore I thought that the hard-coded default credential helper assigned to `LockOutRealm` is used always and only, but that doesn&#39;t seem to be the case.\r\n\r\nMy setup was pretty similar to yours:\r\n\r\n```xml\r\n&lt;Realm  className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n  &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot; resourceName=&quot;UserDatabase&quot;&gt;\r\n    &lt;CredentialHandler  className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot;\r\n                        algorithm=&quot;PBKDF2WithHmacSHA512&quot;\r\n                        iterations=&quot;100000&quot;\r\n                        keyLength=&quot;256&quot;\r\n                        saltLength=&quot;16&quot;\r\n    /&gt;\r\n  &lt;/Realm&gt;\r\n&lt;/Realm&gt;\r\n```\r\n\r\nSo, if anyone comes across the same issue, double-check your config for `BASIC` vs. `DIGEST`, that really the correct value is stored in `tomcat-users.xml`, provided to the browser and stuff like that. There are multiple other people reporting a setup like mine above working as well and currently it seems those are right! ;-)\r\n\r\nI guess that the hard-coded credential handler for `LockOutRealm` is simply chosen because it doesn&#39;t really handle logins at all. It most likely only needs to prevent timing attacks and stuff, read something like that in the bugtracker. Though, actual logins are forwarded the child realms and it seems that credential handlers assigned to them are properly handled by them.\r\n\r\nSo regarding original question, one should start with NOT using `NestedCredentialHandler`, but ONLY `SecretKeyCredentialHandler` and get that successfully working. Afterwards `NestedCredentialHandler` could be tried, but if any problems persists, this most likely have to do with `NestedCredentialHandler` instead of `LockOutRealm` or more likely with things like `BASIC` vs. `DIGEST` and stuff.\r\n\r\n\r\n  [1]: https://lists.apache.org/thread/q25tg6t2cyovyymz5bhl069g508s2m8j\r\n  [2]: https://lists.apache.org/thread/y7l85kzoppx4ztyhogl1vsmm4hht9l31","title":"How to get Tomcat CredentialHandler inside Java when nested in LockoutRealm","body":"<p>I came across the same problem and was only able to login when I input the DIGEST created for some specific credential handler into the browser's dialog. So really the value stored in <code>tomcat-users.xml</code>. That made me believe that always only the hard-coded default credential handler allowing plain-text passwords only assigned to <code>LockOutRealm</code> is used and my other handler assigned to the child realm ignored.</p>\n<p>BUT that wasn't the case! I was forced to double-check my config after speaking about this problem on the <a href=\"https://lists.apache.org/thread/q25tg6t2cyovyymz5bhl069g508s2m8j\" rel=\"nofollow noreferrer\">Tomcat mailing list</a> and recognized that for <a href=\"https://lists.apache.org/thread/y7l85kzoppx4ztyhogl1vsmm4hht9l31\" rel=\"nofollow noreferrer\">other reasons</a> my <code>auth-method</code> configured in <code>web.xml</code> was still set to <code>DIGEST</code> instead of <code>BASIC</code>. <code>DIGEST</code> and a really digested password in <code>tomcat-users.xml</code> can't work together and therefore I was able to provide that digest when the browser asked for my password to successfully login. Therefore I thought that the hard-coded default credential helper assigned to <code>LockOutRealm</code> is used always and only, but that doesn't seem to be the case.</p>\n<p>My setup was pretty similar to yours:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Realm  className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\n  &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot; resourceName=&quot;UserDatabase&quot;&gt;\n    &lt;CredentialHandler  className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot;\n                        algorithm=&quot;PBKDF2WithHmacSHA512&quot;\n                        iterations=&quot;100000&quot;\n                        keyLength=&quot;256&quot;\n                        saltLength=&quot;16&quot;\n    /&gt;\n  &lt;/Realm&gt;\n&lt;/Realm&gt;\n</code></pre>\n<p>So, if anyone comes across the same issue, double-check your config for <code>BASIC</code> vs. <code>DIGEST</code>, that really the correct value is stored in <code>tomcat-users.xml</code>, provided to the browser and stuff like that. There are multiple other people reporting a setup like mine above working as well and currently it seems those are right! ;-)</p>\n<p>I guess that the hard-coded credential handler for <code>LockOutRealm</code> is simply chosen because it doesn't really handle logins at all. It most likely only needs to prevent timing attacks and stuff, read something like that in the bugtracker. Though, actual logins are forwarded the child realms and it seems that credential handlers assigned to them are properly handled by them.</p>\n<p>So regarding original question, one should start with NOT using <code>NestedCredentialHandler</code>, but ONLY <code>SecretKeyCredentialHandler</code> and get that successfully working. Afterwards <code>NestedCredentialHandler</code> could be tried, but if any problems persists, this most likely have to do with <code>NestedCredentialHandler</code> instead of <code>LockOutRealm</code> or more likely with things like <code>BASIC</code> vs. <code>DIGEST</code> and stuff.</p>\n"},{"tags":[],"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669687846,"creation_date":1669164174,"answer_id":74540580,"question_id":64733766,"body_markdown":"I solved this by replicating the Credential Handler in my code:\r\n\r\n```lang-java\r\nprivate CredentialHandler getCredentialHandler() {\r\n  NestedCredentialHandler ch1 = new NestedCredentialHandler();\r\n  ch1.addCredentialHandler(new SecretKeyCredentialHandler());\r\n\r\n  MessageDigestCredentialHandler md = new MessageDigestCredentialHandler();\r\n  md.setAlgorithm(&quot;SHA-512&quot;);\r\n  ch1.addCredentialHandler(md);\r\n\r\n  return ch1;\r\n}\r\n```\r\n\r\nIt is then possible to call `matches()`, which will match on either algorithm, and also call `mutate()`, which will use the first listed algorithm.\r\n\r\n\r\nAs mentioned by @christopher-schultz, replicating the `NestedCredentialHandler` in the `LockOutRealm` will also work:\r\n```lang-xml\r\n&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\r\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\r\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\r\n      &lt;/CredentialHandler&gt;\r\n    &lt;/Realm&gt;\r\n    &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\r\n    &lt;/CredentialHandler&gt;\r\n&lt;/Realm&gt;\r\n```","title":"How to get Tomcat CredentialHandler inside Java when nested in LockoutRealm","body":"<p>I solved this by replicating the Credential Handler in my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private CredentialHandler getCredentialHandler() {\n  NestedCredentialHandler ch1 = new NestedCredentialHandler();\n  ch1.addCredentialHandler(new SecretKeyCredentialHandler());\n\n  MessageDigestCredentialHandler md = new MessageDigestCredentialHandler();\n  md.setAlgorithm(&quot;SHA-512&quot;);\n  ch1.addCredentialHandler(md);\n\n  return ch1;\n}\n</code></pre>\n<p>It is then possible to call <code>matches()</code>, which will match on either algorithm, and also call <code>mutate()</code>, which will use the first listed algorithm.</p>\n<p>As mentioned by @christopher-schultz, replicating the <code>NestedCredentialHandler</code> in the <code>LockOutRealm</code> will also work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\n      &lt;/CredentialHandler&gt;\n    &lt;/Realm&gt;\n    &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\n    &lt;/CredentialHandler&gt;\n&lt;/Realm&gt;\n</code></pre>\n"}],"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74454886,"answer_count":4,"score":2,"last_activity_date":1669818577,"creation_date":1604795281,"question_id":64733766,"body_markdown":"I&#39;m using Tomcat 8.5.59 and have the following Realm in my context.xml:\r\n\r\n```lang-xml\r\n&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\r\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\r\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\r\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\r\n      &lt;/CredentialHandler&gt;\r\n    &lt;/Realm&gt;\r\n&lt;/Realm&gt;\r\n```\r\n\r\nI would like to get the CredentialHandler in my Java app to hash and store passwords.  As per Christopher Schultz&#39;s presentation at http://people.apache.org/~schultz/ApacheCon%20NA%202016/Seamless%20Upgrades%20for%20Credential%20Security%20in%20Apache%20Tomcat.pdf I get it like this:\r\n\r\n```java\r\nCredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER);\r\n```\r\n\r\nThe problem is that it returns a blank/default credential handler, not the one I have configured.\r\n\r\nIf I remove the LockoutRealm definition, it works fine, so it seems that having a nested realm (LockoutRealm, DataSourceRealm), causes it to fail.  Looking through the Tomcat code, it seems that the code that calls `setAttribute(Globals.CREDENTIAL_HANDLER)` doesn&#39;t take `CombinedRealm` into account.\r\n\r\nHow can I get the configured credential handler in my app so that I can call the .matches() and .mutate() methods?\r\nI would rather not remove the Lockout Realm because that would compromise security.\r\n\r\n---\r\n\r\nEdit:\r\n\r\nThis use-case is a common one: The application must be able to save the mutated password to the database so that tomcat can do form-based authentication against it when users log in.  Every time a new user account is created, the user&#39;s password must be mutated and saved to the database.\r\n\r\nAdditionally, when a user wants to change their password, a form would ask for the current and new passwords - .matches() is used to confirm that the &quot;current&quot; password matches their existing password before changing it to the new password (which again must be mutated).\r\n\r\nUsing the credential handler defined in the context is important to ensure the password is mutated in the exact way that tomcat requires.  The alternative would be for every application to provide their own corresponding libraries, which seems wasteful and error-prone given that tomcat already has them.\r\n\r\nThis is all described in Christopher Schultz&#39;s link at the start of my question.\r\n\r\nI think this is all pretty standard and Tomcat provides `CredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER)` for this purpose.  The issue is that the implementation doesn&#39;t account for LockoutRealm being used - it assumes that the credential handler is defined directly under the top-level realm, so I&#39;m wondering if it&#39;s an oversight/bug in tomcat or if it works like that by design and if there&#39;s some way I can access the .mutate() and .matches() functions of the defined `CredentialHandler` while also using the `LockOutRealm`.\r\n\r\nAlso, tomcat used to provide `RealmBase.Digest(String credentials, String algorithm, String encoding)` for this use-case, but that method is deprecated in 8.5 and removed in 9, so I understand `CredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER)` is the new way we&#39;re supposed to be doing it.\r\n\r\n---\r\n\r\nEdit 2:\r\n\r\n`getAttribute(Globals.CREDENTIAL_HANDLER)` returns a default `CredentialHandler` that doesn&#39;t encrypt the password at all. The debugger shows the class being `StandardContext`. Stepping through the code, that all seems correct, but it doesn&#39;t drill into the `DataSourceRealm` to get the defined `NestedCredentialHandler`, instead, it looks at `LockoutRealm`, doesn&#39;t find an immediate child `CredentialHandler`, so creates and returns a default one. I believe this is as documented in https://tomcat.apache.org/tomcat-8.5-doc/config/credentialhandler.html:\r\n\r\n&gt; A CredentialHandler element MUST be nested inside a Realm component. If it is not included, a default CredentialHandler will be created using the MessageDigestCredentialHandler.\r\n","title":"How to get Tomcat CredentialHandler inside Java when nested in LockoutRealm","body":"<p>I'm using Tomcat 8.5.59 and have the following Realm in my context.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot; &gt;\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/MyName&quot; localDataSource=&quot;true&quot;&gt;\n      &lt;CredentialHandler className=&quot;org.apache.catalina.realm.NestedCredentialHandler&quot;&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.SecretKeyCredentialHandler&quot; /&gt;\n        &lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot; algorithm=&quot;SHA-512&quot; /&gt;\n      &lt;/CredentialHandler&gt;\n    &lt;/Realm&gt;\n&lt;/Realm&gt;\n</code></pre>\n<p>I would like to get the CredentialHandler in my Java app to hash and store passwords.  As per Christopher Schultz's presentation at <a href=\"http://people.apache.org/%7Eschultz/ApacheCon%20NA%202016/Seamless%20Upgrades%20for%20Credential%20Security%20in%20Apache%20Tomcat.pdf\" rel=\"nofollow noreferrer\">http://people.apache.org/~schultz/ApacheCon%20NA%202016/Seamless%20Upgrades%20for%20Credential%20Security%20in%20Apache%20Tomcat.pdf</a> I get it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER);\n</code></pre>\n<p>The problem is that it returns a blank/default credential handler, not the one I have configured.</p>\n<p>If I remove the LockoutRealm definition, it works fine, so it seems that having a nested realm (LockoutRealm, DataSourceRealm), causes it to fail.  Looking through the Tomcat code, it seems that the code that calls <code>setAttribute(Globals.CREDENTIAL_HANDLER)</code> doesn't take <code>CombinedRealm</code> into account.</p>\n<p>How can I get the configured credential handler in my app so that I can call the .matches() and .mutate() methods?\nI would rather not remove the Lockout Realm because that would compromise security.</p>\n<hr />\n<p>Edit:</p>\n<p>This use-case is a common one: The application must be able to save the mutated password to the database so that tomcat can do form-based authentication against it when users log in.  Every time a new user account is created, the user's password must be mutated and saved to the database.</p>\n<p>Additionally, when a user wants to change their password, a form would ask for the current and new passwords - .matches() is used to confirm that the &quot;current&quot; password matches their existing password before changing it to the new password (which again must be mutated).</p>\n<p>Using the credential handler defined in the context is important to ensure the password is mutated in the exact way that tomcat requires.  The alternative would be for every application to provide their own corresponding libraries, which seems wasteful and error-prone given that tomcat already has them.</p>\n<p>This is all described in Christopher Schultz's link at the start of my question.</p>\n<p>I think this is all pretty standard and Tomcat provides <code>CredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER)</code> for this purpose.  The issue is that the implementation doesn't account for LockoutRealm being used - it assumes that the credential handler is defined directly under the top-level realm, so I'm wondering if it's an oversight/bug in tomcat or if it works like that by design and if there's some way I can access the .mutate() and .matches() functions of the defined <code>CredentialHandler</code> while also using the <code>LockOutRealm</code>.</p>\n<p>Also, tomcat used to provide <code>RealmBase.Digest(String credentials, String algorithm, String encoding)</code> for this use-case, but that method is deprecated in 8.5 and removed in 9, so I understand <code>CredentialHandler ch = (CredentialHandler) application.getAttribute(Globals.CREDENTIAL_HANDLER)</code> is the new way we're supposed to be doing it.</p>\n<hr />\n<p>Edit 2:</p>\n<p><code>getAttribute(Globals.CREDENTIAL_HANDLER)</code> returns a default <code>CredentialHandler</code> that doesn't encrypt the password at all. The debugger shows the class being <code>StandardContext</code>. Stepping through the code, that all seems correct, but it doesn't drill into the <code>DataSourceRealm</code> to get the defined <code>NestedCredentialHandler</code>, instead, it looks at <code>LockoutRealm</code>, doesn't find an immediate child <code>CredentialHandler</code>, so creates and returns a default one. I believe this is as documented in <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/credentialhandler.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/credentialhandler.html</a>:</p>\n<blockquote>\n<p>A CredentialHandler element MUST be nested inside a Realm component. If it is not included, a default CredentialHandler will be created using the MessageDigestCredentialHandler.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":5932319,"reputation":585,"user_id":4666416,"accept_rate":80,"display_name":"Fran&#231;ois Dupire"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1529253812,"creation_date":1529253812,"answer_id":50898609,"question_id":50329817,"body_markdown":"I assume you are using maven to get your dependencies.\r\n\r\nI solved the problem by using:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nInstead of:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>I assume you are using maven to get your dependencies.</p>\n\n<p>I solved the problem by using:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2511489,"reputation":2025,"user_id":2183868,"accept_rate":45,"display_name":"Aniket Kulkarni"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1553002971,"creation_date":1529255418,"answer_id":50898790,"question_id":50329817,"body_markdown":"Likely a corrupt download. Try removing ~/.m2/repository.","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>Likely a corrupt download. Try removing ~/.m2/repository.</p>\n"},{"tags":[],"owner":{"account_id":1485140,"reputation":401,"user_id":1393565,"display_name":"vdou"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1537737942,"creation_date":1537737382,"answer_id":52470325,"question_id":50329817,"body_markdown":"Your configuration is not sufficient for reactive tests.\r\n\r\nThe reactive `WebTestClient` as well as `ReactiveWebApplicationContext` need reactive server in the application context. Add annotation `@EnableAutoConfiguration` to your `RootControllerTest` and let Spring&#39;s do it for you.\r\n\r\nThe autoconfiguration searches your class path and after find reactive classes and reactive context then create `ReactiveWebServerFactory` bean.","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>Your configuration is not sufficient for reactive tests.</p>\n\n<p>The reactive <code>WebTestClient</code> as well as <code>ReactiveWebApplicationContext</code> need reactive server in the application context. Add annotation <code>@EnableAutoConfiguration</code> to your <code>RootControllerTest</code> and let Spring's do it for you.</p>\n\n<p>The autoconfiguration searches your class path and after find reactive classes and reactive context then create <code>ReactiveWebServerFactory</code> bean.</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1560251812,"creation_date":1551671490,"answer_id":54976380,"question_id":50329817,"body_markdown":"For me, the error was being caused by a missing `@SpringBootApplication` annotation on the Spring class containing the `main()` method entry point which actually starts the Boot application.  Using the following resolved the error:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>For me, the error was being caused by a missing <code>@SpringBootApplication</code> annotation on the Spring class containing the <code>main()</code> method entry point which actually starts the Boot application.  Using the following resolved the error:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12089070,"reputation":451,"user_id":8836232,"display_name":"petronius"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590674407,"creation_date":1590674407,"answer_id":62066584,"question_id":50329817,"body_markdown":"You actually just need to change `webEnvironment = WebEnvironment.RANDOM_PORT` to `webEnvironment = WebEnvironment.MOCK` in your `@SpringBootTest` annotation.","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>You actually just need to change <code>webEnvironment = WebEnvironment.RANDOM_PORT</code> to <code>webEnvironment = WebEnvironment.MOCK</code> in your <code>@SpringBootTest</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":1674456,"reputation":323,"user_id":1540286,"display_name":"apoplexy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653982568,"creation_date":1653982568,"answer_id":72443866,"question_id":50329817,"body_markdown":"@vdou&#39;s answer helped me to resolve my issue. \r\n\r\nIn addition to adding @EnableAutoConfiguration, I also had to manually add the spring application type:\r\n\r\n    spring:\r\n      main:\r\n        web-application-type: reactive\r\n\r\nThere is obviously something in my dependencies that is causing Spring not to be able to discover the type.\r\n\r\nI hope this helps somebody...","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>@vdou's answer helped me to resolve my issue.</p>\n<p>In addition to adding @EnableAutoConfiguration, I also had to manually add the spring application type:</p>\n<pre><code>spring:\n  main:\n    web-application-type: reactive\n</code></pre>\n<p>There is obviously something in my dependencies that is causing Spring not to be able to discover the type.</p>\n<p>I hope this helps somebody...</p>\n"},{"tags":[],"owner":{"account_id":7660127,"reputation":155,"user_id":5805687,"display_name":"Jhonatan S. Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655929830,"creation_date":1655929830,"answer_id":72721654,"question_id":50329817,"body_markdown":"If you are using Kotlin, check if in your Application class that contains the main method, doesnt have this: \r\n\r\n    runApplication&lt;Application&gt;{\r\n\t\twebApplicationType = WebApplicationType.REACTIVE\r\n\t}\r\n\r\nThen change the &quot;REACTIVE&quot; to &quot;SERVELET&quot;, will work like a charm.","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>If you are using Kotlin, check if in your Application class that contains the main method, doesnt have this:</p>\n<pre><code>runApplication&lt;Application&gt;{\n    webApplicationType = WebApplicationType.REACTIVE\n}\n</code></pre>\n<p>Then change the &quot;REACTIVE&quot; to &quot;SERVELET&quot;, will work like a charm.</p>\n"},{"tags":[],"owner":{"account_id":26949118,"reputation":1,"user_id":20518637,"display_name":"Jagdish Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669036228,"creation_date":1668592585,"answer_id":74458428,"question_id":50329817,"body_markdown":"If None of the above solutions work, try adding \r\n\r\n    @ContextConfiguration(loader = AnnotationConfigContextLoader.class)\r\n\r\nIt may help you\r\n\r\n    import org.springframework.test.context.support.AnnotationConfigContextLoader;","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>If None of the above solutions work, try adding</p>\n<pre><code>@ContextConfiguration(loader = AnnotationConfigContextLoader.class)\n</code></pre>\n<p>It may help you</p>\n<pre><code>import org.springframework.test.context.support.AnnotationConfigContextLoader;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163645,"reputation":421,"user_id":2674117,"display_name":"MotiNK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818490,"creation_date":1669818490,"answer_id":74629395,"question_id":50329817,"body_markdown":"Yet another reason this can occur is if you&#39;re importing in a configuration class for your test that is not marked with `@TestConfiguration` annotation","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>Yet another reason this can occur is if you're importing in a configuration class for your test that is not marked with <code>@TestConfiguration</code> annotation</p>\n"}],"owner":{"account_id":13223928,"reputation":313,"user_id":9549694,"display_name":"Daniel Lynch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32914,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":9,"score":28,"last_activity_date":1669818490,"creation_date":1526299326,"question_id":50329817,"body_markdown":"I have a new springboot application I am attempting to get started.\r\n\r\nThe error I receive is\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start reactive web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean.\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:76) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\r\n**src/main/java/bubbleshadow/RootController.java**\r\n\r\n    package bubbleshadow;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @RestController\r\n    public class RootController {\r\n      public RootController() {\r\n    \r\n      }\r\n    \r\n      @GetMapping(&quot;/&quot;)\r\n      public Mono&lt;HttpStatus&gt; returnOk() {\r\n        return Mono.just(HttpStatus.OK);\r\n      }\r\n    }\r\n\r\n**src/test/java/test/bubbleshadow/RootControllerTest.java**\r\n\r\n    package test.bubbleshadow;\r\n    import bubbleshadow.RootController;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    // import org.springframework.boot.test.autoconfigure.web.reactive.WebFluxTest;\r\n    import org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\r\n    import org.springframework.test.web.reactive.server.WebTestClient;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes=RootController.class, webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    public class RootControllerTest {\r\n      @Autowired\r\n      WebTestClient webTestClient;\r\n    \r\n      @Test\r\n      public void baseRouteShouldReturnStatusOK() {\r\n        webTestClient.head().uri(&quot;/&quot;).exchange().expectStatus().isOk();\r\n      }\r\n    }\r\n\r\n","title":"Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean","body":"<p>I have a new springboot application I am attempting to get started.</p>\n\n<p>The error I receive is</p>\n\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start reactive web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ReactiveWebApplicationContext due to missing ReactiveWebServerFactory bean.\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:76) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n</code></pre>\n\n<p><strong>src/main/java/bubbleshadow/RootController.java</strong></p>\n\n<pre><code>package bubbleshadow;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Mono;\n\n@RestController\npublic class RootController {\n  public RootController() {\n\n  }\n\n  @GetMapping(\"/\")\n  public Mono&lt;HttpStatus&gt; returnOk() {\n    return Mono.just(HttpStatus.OK);\n  }\n}\n</code></pre>\n\n<p><strong>src/test/java/test/bubbleshadow/RootControllerTest.java</strong></p>\n\n<pre><code>package test.bubbleshadow;\nimport bubbleshadow.RootController;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\n// import org.springframework.boot.test.autoconfigure.web.reactive.WebFluxTest;\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\nimport org.springframework.test.web.reactive.server.WebTestClient;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes=RootController.class, webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\npublic class RootControllerTest {\n  @Autowired\n  WebTestClient webTestClient;\n\n  @Test\n  public void baseRouteShouldReturnStatusOK() {\n    webTestClient.head().uri(\"/\").exchange().expectStatus().isOk();\n  }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-indexes","mongodb-update"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1669746582,"post_id":74618292,"comment_id":131711496,"body_markdown":"The error message you are getting here is a failure to create the index. Creating the index isn&#39;t something that is typically done by the application while it is running. Check what the existing index is (`db.getSiblingDB(&#39;database&#39;).sample.getIndexes()`), remove the index on `&quot;Key.IdentifierValue&quot;` (assuming it is not `unique`), and create it as `unique`. You will need to remove any existing documents in the collection that are duplicates before building the index.","body":"The error message you are getting here is a failure to create the index. Creating the index isn&#39;t something that is typically done by the application while it is running. Check what the existing index is (<code>db.getSiblingDB(&#39;database&#39;).sample.getIndexes()</code>), remove the index on <code>&quot;Key.IdentifierValue&quot;</code> (assuming it is not <code>unique</code>), and create it as <code>unique</code>. You will need to remove any existing documents in the collection that are duplicates before building the index."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1669793772,"post_id":74618292,"comment_id":131721267,"body_markdown":"@user20042973 , thank you for the quick response, but the index is required for the other service as our services are base done on micro service architecture. Is it not possible to remove the index as it is required by other services. Could you please help how to implement in that case","body":"@user20042973 , thank you for the quick response, but the index is required for the other service as our services are base done on micro service architecture. Is it not possible to remove the index as it is required by other services. Could you please help how to implement in that case"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1669814931,"post_id":74618292,"comment_id":131728260,"body_markdown":"Tried to remove the index but still it is giving the same exception","body":"Tried to remove the index but still it is giving the same exception"}],"answers":[{"tags":[],"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669818265,"creation_date":1669818265,"answer_id":74629339,"question_id":74618292,"body_markdown":"I was attempting to write an answer that expanded on my comments and addressed your original question/error message. It looks like you have just edited your post to meaningfully change the question. Please ask a different question next time instead.\r\n\r\n---\r\n\r\n#### Original Problem\r\n\r\nThere are probably a few problems here, but the central one is that you currently do _not_ seem to have a `unique` index on the `Key.IdentifierValue` field.\r\n\r\nReformatted, the full error that you are receiving is:\r\n\r\n```\r\ncom.mongodb.MongoCommandException: Command failed with error 86 (IndexKeySpecsConflict): \r\n  An existing index has the same name as the requested index. \r\n  When index names are not specified, they are auto generated and can cause conflicts. \r\n  Please refer to our documentation. \r\n  Requested index: { v: 2, unique: true, key: { Key.IdentifierValue: 1 }, name: &quot;Key.IdentifierValue: 1&quot; }, \r\n  existing index: { v: 2, key: { Key.IdentifierValue: 1}, name: &quot;Sample.Service_1&quot; }\r\n```\r\n\r\nMore specifically, there is already an index present in the collection (second definition below) which conflicts with the one that the code is trying to create (first definition below). Formatted further for easy comparison:\r\n\r\n```\r\n{ v: 2, unique: true, key: { Key.IdentifierValue: 1 }, name: &quot;Key.IdentifierValue: 1&quot; } \r\n{ v: 2,               key: { Key.IdentifierValue: 1 }, name: &quot;Sample.Service_1&quot; }\r\n```\r\n\r\nIn order to create your `unique` index, you will need to drop the existing one first:\r\n\r\n```\r\n&gt; //First attempt fails because of the existing index\r\n&gt;  db.sample.createIndex({ &quot;Key.IdentifierValue&quot;: 1 },{name: &quot;Key.IdentifierValue: 1&quot;, unique: true})\r\n{\r\n\t&quot;ok&quot; : 0,\r\n\t&quot;errmsg&quot; : &quot;Index: { v: 2, unique: true, key: { Key.IdentifierValue: 1.0 }, name: \\&quot;Key.IdentifierValue: 1\\&quot;, ns: \\&quot;test.sample\\&quot; } already exists with different options: { v: 2, key: { Key.IdentifierValue: 1.0 }, name: \\&quot;Sample.Service_1\\&quot;, ns: \\&quot;test.sample\\&quot; }&quot;,\r\n\t&quot;code&quot; : 85,\r\n\t&quot;codeName&quot; : &quot;IndexOptionsConflict&quot;\r\n}\r\n&gt;\r\n&gt; //Drop the conflicting index that is present\r\n&gt; db.sample.dropIndex({ &quot;Key.IdentifierValue&quot;: 1 })\r\n{ &quot;nIndexesWas&quot; : 2, &quot;ok&quot; : 1 }\r\n&gt;\r\n&gt; //Index can now be created successfully\r\n&gt; db.sample.createIndex({ &quot;Key.IdentifierValue&quot;: 1 },{name: &quot;Key.IdentifierValue: 1&quot;, unique: true})\r\n{\r\n\t&quot;createdCollectionAutomatically&quot; : false,\r\n\t&quot;numIndexesBefore&quot; : 1,\r\n\t&quot;numIndexesAfter&quot; : 2,\r\n\t&quot;ok&quot; : 1\r\n}\r\n```\r\n\r\nNewer versions of MongoDB behave differently. You can create the `unique` index without dropping the existing one first:\r\n\r\n```\r\n&gt; db.version()\r\n6.0.1\r\ntest&gt; db.sample.getIndexes()\r\n[\r\n  { v: 2, key: { _id: 1 }, name: &#39;_id_&#39; },\r\n  { v: 2, key: { &#39;Key.IdentifierValue&#39;: 1 }, name: &#39;Sample.Service_1&#39; },\r\n  { v: 2, key: { &#39;Key.IdentifierValue&#39;: 1 }, name: &#39;Key.IdentifierValue: 1&#39;, unique: true }\r\n]\r\n``` \r\nFurthermore, you can also convert an existing non-unique index to be `unique` as mentioned [here](https://www.mongodb.com/docs/manual/reference/command/collMod/#convert-an-existing-index-to-a-unique-index)\r\n\r\n---\r\n\r\n#### New Problem\r\n\r\nAfter editing your question, the new (different) error is:\r\n\r\n```\r\nCommand failed with error 67 (CannotCreateIndex): \r\n  &#39;Index build failed: 48888886ee5e3: \r\n  Collection sample ( 48888886ee5e3-0788-4414-bc43-2e118e79246e ) :: caused by :: \r\n  cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }&#39;\r\n```\r\n\r\nApparently you have a sharded collection which is using the hashed value of `_id` as the shard key. The ability to enforce uniqueness in sharded clusters is documented [here](https://www.mongodb.com/docs/manual/core/sharding-shard-key/#unique-indexes). Borrowing some text from there:\r\n\r\n&gt;MongoDB can enforce a uniqueness constraint on a ranged shard key index. Through the use of a unique index on the shard key\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;* For an already-sharded collection, you cannot create unique indexes on other fields.\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;You cannot specify a unique constraint on a hashed index.\r\n\r\nBased on that last line there, you will not be able to create the unique index that you want based on your current shard key. You will have to choose a different shard key per the linked documentation if you wish to enforce uniqueness on a sharded collection.\r\n\r\n---\r\n\r\n#### General Comment\r\n\r\nIt is not the responsibility of the application to create indexes directly. Having the code attempt to do so _on every write_ adds unnecessary overhead and should be avoided.\r\n\r\nInstead, you should create and manage your indexes separately outside of the code.","title":"Command failed with error 67 :cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }&#39;","body":"<p>I was attempting to write an answer that expanded on my comments and addressed your original question/error message. It looks like you have just edited your post to meaningfully change the question. Please ask a different question next time instead.</p>\n<hr />\n<h4>Original Problem</h4>\n<p>There are probably a few problems here, but the central one is that you currently do <em>not</em> seem to have a <code>unique</code> index on the <code>Key.IdentifierValue</code> field.</p>\n<p>Reformatted, the full error that you are receiving is:</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 86 (IndexKeySpecsConflict): \n  An existing index has the same name as the requested index. \n  When index names are not specified, they are auto generated and can cause conflicts. \n  Please refer to our documentation. \n  Requested index: { v: 2, unique: true, key: { Key.IdentifierValue: 1 }, name: &quot;Key.IdentifierValue: 1&quot; }, \n  existing index: { v: 2, key: { Key.IdentifierValue: 1}, name: &quot;Sample.Service_1&quot; }\n</code></pre>\n<p>More specifically, there is already an index present in the collection (second definition below) which conflicts with the one that the code is trying to create (first definition below). Formatted further for easy comparison:</p>\n<pre><code>{ v: 2, unique: true, key: { Key.IdentifierValue: 1 }, name: &quot;Key.IdentifierValue: 1&quot; } \n{ v: 2,               key: { Key.IdentifierValue: 1 }, name: &quot;Sample.Service_1&quot; }\n</code></pre>\n<p>In order to create your <code>unique</code> index, you will need to drop the existing one first:</p>\n<pre><code>&gt; //First attempt fails because of the existing index\n&gt;  db.sample.createIndex({ &quot;Key.IdentifierValue&quot;: 1 },{name: &quot;Key.IdentifierValue: 1&quot;, unique: true})\n{\n    &quot;ok&quot; : 0,\n    &quot;errmsg&quot; : &quot;Index: { v: 2, unique: true, key: { Key.IdentifierValue: 1.0 }, name: \\&quot;Key.IdentifierValue: 1\\&quot;, ns: \\&quot;test.sample\\&quot; } already exists with different options: { v: 2, key: { Key.IdentifierValue: 1.0 }, name: \\&quot;Sample.Service_1\\&quot;, ns: \\&quot;test.sample\\&quot; }&quot;,\n    &quot;code&quot; : 85,\n    &quot;codeName&quot; : &quot;IndexOptionsConflict&quot;\n}\n&gt;\n&gt; //Drop the conflicting index that is present\n&gt; db.sample.dropIndex({ &quot;Key.IdentifierValue&quot;: 1 })\n{ &quot;nIndexesWas&quot; : 2, &quot;ok&quot; : 1 }\n&gt;\n&gt; //Index can now be created successfully\n&gt; db.sample.createIndex({ &quot;Key.IdentifierValue&quot;: 1 },{name: &quot;Key.IdentifierValue: 1&quot;, unique: true})\n{\n    &quot;createdCollectionAutomatically&quot; : false,\n    &quot;numIndexesBefore&quot; : 1,\n    &quot;numIndexesAfter&quot; : 2,\n    &quot;ok&quot; : 1\n}\n</code></pre>\n<p>Newer versions of MongoDB behave differently. You can create the <code>unique</code> index without dropping the existing one first:</p>\n<pre><code>&gt; db.version()\n6.0.1\ntest&gt; db.sample.getIndexes()\n[\n  { v: 2, key: { _id: 1 }, name: '_id_' },\n  { v: 2, key: { 'Key.IdentifierValue': 1 }, name: 'Sample.Service_1' },\n  { v: 2, key: { 'Key.IdentifierValue': 1 }, name: 'Key.IdentifierValue: 1', unique: true }\n]\n</code></pre>\n<p>Furthermore, you can also convert an existing non-unique index to be <code>unique</code> as mentioned <a href=\"https://www.mongodb.com/docs/manual/reference/command/collMod/#convert-an-existing-index-to-a-unique-index\" rel=\"nofollow noreferrer\">here</a></p>\n<hr />\n<h4>New Problem</h4>\n<p>After editing your question, the new (different) error is:</p>\n<pre><code>Command failed with error 67 (CannotCreateIndex): \n  'Index build failed: 48888886ee5e3: \n  Collection sample ( 48888886ee5e3-0788-4414-bc43-2e118e79246e ) :: caused by :: \n  cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }'\n</code></pre>\n<p>Apparently you have a sharded collection which is using the hashed value of <code>_id</code> as the shard key. The ability to enforce uniqueness in sharded clusters is documented <a href=\"https://www.mongodb.com/docs/manual/core/sharding-shard-key/#unique-indexes\" rel=\"nofollow noreferrer\">here</a>. Borrowing some text from there:</p>\n<blockquote>\n<p>MongoDB can enforce a uniqueness constraint on a ranged shard key index. Through the use of a unique index on the shard key</p>\n<p>...</p>\n<ul>\n<li>For an already-sharded collection, you cannot create unique indexes on other fields.</li>\n</ul>\n<p>...</p>\n<p>You cannot specify a unique constraint on a hashed index.</p>\n</blockquote>\n<p>Based on that last line there, you will not be able to create the unique index that you want based on your current shard key. You will have to choose a different shard key per the linked documentation if you wish to enforce uniqueness on a sharded collection.</p>\n<hr />\n<h4>General Comment</h4>\n<p>It is not the responsibility of the application to create indexes directly. Having the code attempt to do so <em>on every write</em> adds unnecessary overhead and should be avoided.</p>\n<p>Instead, you should create and manage your indexes separately outside of the code.</p>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669818265,"creation_date":1669744473,"question_id":74618292,"body_markdown":"I need to avoid duplications Transactions while inserting the documents in MongoDB database . Getting below exception .The condition is if we try to insert the Key.IdentifierValue with the same value it should throw the duplicate exception but the documents are getting inserted in MongoDB database successfully without any issue. If we remove index options in createIndex method , the document is getting inserted but duplicate transactions are happening and not able to do with upsert operation .Any help will be appreciated \r\n\r\nDocument Structure:\r\n\r\n    &quot;_id&quot; : ObjectId(&quot;12345678&quot;), \r\n    &quot;Key&quot;: {\r\n          &quot;color&quot;: &quot;red&quot;,\r\n          },\r\n        \r\n          &quot;IdentifierValure&quot;: &quot;Sample.txt&quot;,\r\n        \r\n      Command failed with error 67 (CannotCreateIndex): &#39;Index build failed: 48888886ee5e3: Collection sample ( 48888886ee5e3-0788-4414-bc43-2e118e79246e ) :: caused by :: cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }&#39;\r\n    \r\n        @ResponseBody\r\n                public boolean createSample(@Valid @RequestBody Document... sample) {\r\n                    MongoDatabase database = this.mongoClient.getDatabase(&quot;database&quot;);\r\n                    MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Sample&quot;);\r\n                      \r\n        \t\t\t List&lt;Document&gt; documentList = new ArrayList&lt;&gt;(sample.length);\r\n                     IndexOptions indexOptions = new IndexOptions().unique(true);\r\n              \r\n                String resultCreateIndex = collection.createIndex(Indexes.descending(&quot;Key.IdentifierValue&quot;), indexOptions);\r\n                    for (Document doc : sample) {\r\n                        documentList.add(Document.parse(doc.toJson()));\r\n                    }\r\n                    collection.insertMany(documentList);\r\n            \r\n                    return sucessfully inserted;\r\n                }\r\n          \r\n        \r\n            ","title":"Command failed with error 67 :cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }&#39;","body":"<p>I need to avoid duplications Transactions while inserting the documents in MongoDB database . Getting below exception .The condition is if we try to insert the Key.IdentifierValue with the same value it should throw the duplicate exception but the documents are getting inserted in MongoDB database successfully without any issue. If we remove index options in createIndex method , the document is getting inserted but duplicate transactions are happening and not able to do with upsert operation .Any help will be appreciated</p>\n<p>Document Structure:</p>\n<pre><code>&quot;_id&quot; : ObjectId(&quot;12345678&quot;), \n&quot;Key&quot;: {\n      &quot;color&quot;: &quot;red&quot;,\n      },\n    \n      &quot;IdentifierValure&quot;: &quot;Sample.txt&quot;,\n    \n  Command failed with error 67 (CannotCreateIndex): 'Index build failed: 48888886ee5e3: Collection sample ( 48888886ee5e3-0788-4414-bc43-2e118e79246e ) :: caused by :: cannot create unique index over { Key.IdentifierValue:: -1 } with shard key pattern { _id: &quot;hashed&quot; }'\n\n    @ResponseBody\n            public boolean createSample(@Valid @RequestBody Document... sample) {\n                MongoDatabase database = this.mongoClient.getDatabase(&quot;database&quot;);\n                MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Sample&quot;);\n                  \n                 List&lt;Document&gt; documentList = new ArrayList&lt;&gt;(sample.length);\n                 IndexOptions indexOptions = new IndexOptions().unique(true);\n          \n            String resultCreateIndex = collection.createIndex(Indexes.descending(&quot;Key.IdentifierValue&quot;), indexOptions);\n                for (Document doc : sample) {\n                    documentList.add(Document.parse(doc.toJson()));\n                }\n                collection.insertMany(documentList);\n        \n                return sucessfully inserted;\n            }\n      \n    \n        \n</code></pre>\n"},{"tags":["java","lombok","mapstruct","mapper"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669817761,"post_id":74629150,"comment_id":131729324,"body_markdown":"Create a setter for property `delivery`.","body":"Create a setter for property <code>delivery</code>."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1669820428,"post_id":74629150,"comment_id":131730516,"body_markdown":"Thanks! I removed the final modifiers and now the error changed to &quot;No read accessor found for property &quot;classBB_variable&quot; in target type&quot;. However the @Data annotation should have created the getter for the property","body":"Thanks! I removed the final modifiers and now the error changed to &quot;No read accessor found for property &quot;classBB_variable&quot; in target type&quot;. However the @Data annotation should have created the getter for the property"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669821533,"post_id":74629150,"comment_id":131731050,"body_markdown":"Both MapStruct and Lombok are Annotation Processors being active at build time.  There is a section on MapStruct‘s website how to use both in parallel:  https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok","body":"Both MapStruct and Lombok are Annotation Processors being active at build time.  There is a section on MapStruct‘s website how to use both in parallel:  <a href=\"https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok\" rel=\"nofollow noreferrer\">mapstruct.org/faq/&hellip;</a>"},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1669825136,"post_id":74629150,"comment_id":131732469,"body_markdown":"I&#39;m already using lombok-mapstruct-binding and the versions also coincide. The example is a bit trivial unfortunately","body":"I&#39;m already using lombok-mapstruct-binding and the versions also coincide. The example is a bit trivial unfortunately"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669838926,"post_id":74629150,"comment_id":131736984,"body_markdown":"This seems to be a know issue with MapStruct, documented at [github](https://github.com/mapstruct/mapstruct/issues/2348). Unfortunately, none of the solutions mentioned at the end do actually work.","body":"This seems to be a know issue with MapStruct, documented at <a href=\"https://github.com/mapstruct/mapstruct/issues/2348\" rel=\"nofollow noreferrer\">github</a>. Unfortunately, none of the solutions mentioned at the end do actually work."}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669817406,"creation_date":1669817406,"question_id":74629150,"body_markdown":"I&#39;m trying to create a mapper using lombok `@Mapper` and I get the following error:\r\n\r\n    Property &quot;delivery&quot; has no write accessor in ClassA for target name &quot;classBB_variable.delivery&quot;\r\n\r\nThe code:\r\n\r\n    @Mapper\r\n        @Mapping(target = &quot;classBB_variable.customerId&quot;, source = &quot;classA_variable.customerId&quot;)\r\n        @Mapping(target = &quot;classBB_variable.delivery&quot;, source = &quot;classA_variable.classAA_variable.delivery&quot;)\r\n        ClassB toCreateRequest(ClassA classA_variable);\r\n\r\n\r\n\r\n    @Value\r\n    @Builder(toBuilder = true)\r\n    public class ClassA {    \r\n        private UUID customerId;\r\n        private ClassAA classAA_variable;\r\n    }\r\n\r\n    @Data\r\n    @Builder\r\n    public class ClassAA {    \r\n        private String delivery;\r\n    }\r\n\r\n    @Data\r\n    @Builder\r\n    public class ClassB {\r\n        private ClassBB classBB_variable;\r\n    \r\n    }\r\n\r\n    @Data\r\n    @Builder\r\n    public class ClassBB {\r\n        private UUID customerId;\r\n        private String delivery;\r\n    }\r\n\r\n\r\nAs the map for `customerId` works fine, I&#39;m assuming the issue is the additional level introduced with `classA_variable.classAA_variable.delivery`.\r\n\r\nHas anyone already dealt with this situation? How can I solve it?","title":"Cannot map nested field with @Mapper","body":"<p>I'm trying to create a mapper using lombok <code>@Mapper</code> and I get the following error:</p>\n<pre><code>Property &quot;delivery&quot; has no write accessor in ClassA for target name &quot;classBB_variable.delivery&quot;\n</code></pre>\n<p>The code:</p>\n<pre><code>@Mapper\n    @Mapping(target = &quot;classBB_variable.customerId&quot;, source = &quot;classA_variable.customerId&quot;)\n    @Mapping(target = &quot;classBB_variable.delivery&quot;, source = &quot;classA_variable.classAA_variable.delivery&quot;)\n    ClassB toCreateRequest(ClassA classA_variable);\n\n\n\n@Value\n@Builder(toBuilder = true)\npublic class ClassA {    \n    private UUID customerId;\n    private ClassAA classAA_variable;\n}\n\n@Data\n@Builder\npublic class ClassAA {    \n    private String delivery;\n}\n\n@Data\n@Builder\npublic class ClassB {\n    private ClassBB classBB_variable;\n\n}\n\n@Data\n@Builder\npublic class ClassBB {\n    private UUID customerId;\n    private String delivery;\n}\n</code></pre>\n<p>As the map for <code>customerId</code> works fine, I'm assuming the issue is the additional level introduced with <code>classA_variable.classAA_variable.delivery</code>.</p>\n<p>Has anyone already dealt with this situation? How can I solve it?</p>\n"},{"tags":["java","selenium","data-driven-tests"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1669799540,"post_id":74625043,"comment_id":131722950,"body_markdown":"Is this statement correct? - if(data.get(Flag).equals(&quot;Yes&quot;) &amp;&amp; data.get(TC_Name).equals(&quot;Login&quot;)) - you have to use double quotes instead of }.","body":"Is this statement correct? - if(data.get(Flag).equals(&quot;Yes&quot;) &amp;&amp; data.get(TC_Name).equals(&quot;Login&quot;)) - you have to use double quotes instead of }."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1669806380,"post_id":74625043,"comment_id":131725281,"body_markdown":"Your condition is composite. Make sure you have expected result after `&amp;&amp;`. Use debugging capabilities of your IDE.","body":"Your condition is composite. Make sure you have expected result after <code>&amp;&amp;</code>. Use debugging capabilities of your IDE."},{"owner":{"account_id":13973354,"reputation":1,"user_id":10091331,"display_name":"Nirmal Jones"},"score":0,"creation_date":1669816427,"post_id":74625043,"comment_id":131728798,"body_markdown":"if(data.get(Flag).equals(&quot;Yes&quot;) &amp;&amp; data.get(TC_Name).equals(&quot;Login&quot;)) These are Matching Strings, Getting  data from excel which are all Flag Yes with Testcase name will execute the script","body":"if(data.get(Flag).equals(&quot;Yes&quot;) &amp;&amp; data.get(TC_Name).equals(&quot;Login&quot;)) These are Matching Strings, Getting  data from excel which are all Flag Yes with Testcase name will execute the script"}],"owner":{"account_id":13973354,"reputation":1,"user_id":10091331,"display_name":"Nirmal Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669816743,"creation_date":1669798456,"question_id":74625043,"body_markdown":"Flag Yes only should be run. Else part won&#39;t execute but if the condition is failed, else is getting passed.\r\n\r\n    if(data.get(Flag).equals(&quot;Yes}) &amp;&amp; data.get(TC_Name).equals(&quot;TC_Name&quot;)){\r\n    \r\n    ......\r\n    \r\n    }else{\r\n     .....\r\n    }","title":"How to Execute Selenium Selenium Test Cases based on Excel Flag. If Yes only then run the test cases using JAVA","body":"<p>Flag Yes only should be run. Else part won't execute but if the condition is failed, else is getting passed.</p>\n<pre><code>if(data.get(Flag).equals(&quot;Yes}) &amp;&amp; data.get(TC_Name).equals(&quot;TC_Name&quot;)){\n\n......\n\n}else{\n .....\n}\n</code></pre>\n"},{"tags":["java","stack","postfix-notation"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1669816343,"post_id":74628817,"comment_id":131728763,"body_markdown":"As an aside `boolean x = isOperand(token);if(x == true){` would be a lot more readable and less bug-prone as `if(isOperand(token)){`","body":"As an aside <code>boolean x = isOperand(token);if(x == true){</code> would be a lot more readable and less bug-prone as <code>if(isOperand(token)){</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669817061,"post_id":74628817,"comment_id":131729030,"body_markdown":"use `Character.digit(token, 10)` to *convert* a `char` into the corresponding numeric value","body":"use <code>Character.digit(token, 10)</code> to <i>convert</i> a <code>char</code> into the corresponding numeric value"},{"owner":{"account_id":25352603,"reputation":55,"user_id":19169227,"display_name":"ian"},"score":0,"creation_date":1669827038,"post_id":74628817,"comment_id":131733155,"body_markdown":"@user16320675 I converted the CHAR token to FLOAT by using the Character.digit(char, radix) you just recommended, but the result became 2.875, which is still wrong. I&#39;m wondering if the problem occurs at the calculate logic or stack.pop() logic.","body":"@user16320675 I converted the CHAR token to FLOAT by using the Character.digit(char, radix) you just recommended, but the result became 2.875, which is still wrong. I&#39;m wondering if the problem occurs at the calculate logic or stack.pop() logic."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669827925,"post_id":74628817,"comment_id":131733455,"body_markdown":"maybe better use a debugger ... I get 22.00 using copy&amp;pasted code after including `digit(token, 10)` - [screenshot](https://i.stack.imgur.com/zwozP.png) || but the answer below should work the same","body":"maybe better use a debugger ... I get 22.00 using copy&amp;pasted code after including <code>digit(token, 10)</code> - <a href=\"https://i.stack.imgur.com/zwozP.png\" rel=\"nofollow noreferrer\">screenshot</a> || but the answer below should work the same"},{"owner":{"account_id":25352603,"reputation":55,"user_id":19169227,"display_name":"ian"},"score":0,"creation_date":1669828437,"post_id":74628817,"comment_id":131733621,"body_markdown":"@user16320675 Maybe it&#39;s because I added the function in a wrong place? I added \n`float operandIn = Character.digit(token, 10);` right before\n`stack.push(operandIn);` in the if statement.","body":"@user16320675 Maybe it&#39;s because I added the function in a wrong place? I added  <code>float operandIn = Character.digit(token, 10);</code> right before <code>stack.push(operandIn);</code> in the if statement."},{"owner":{"account_id":25352603,"reputation":55,"user_id":19169227,"display_name":"ian"},"score":0,"creation_date":1669828733,"post_id":74628817,"comment_id":131733727,"body_markdown":"@user16320675 Hold on a second... After 5 minutes modified nothing at my code, now the result becomes 22.00... Another mysterious event happened in the IDE. Thank you so much sir for helping me resolve the problem!!!","body":"@user16320675 Hold on a second... After 5 minutes modified nothing at my code, now the result becomes 22.00... Another mysterious event happened in the IDE. Thank you so much sir for helping me resolve the problem!!!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669839584,"post_id":74628817,"comment_id":131737173,"body_markdown":"( you cannot mix my solution with the one of Frederico&#39;s answer - either one works, but not both together - `digit(token, 10) == (token - &#39;0&#39;)` for the usual digits 0-9 )","body":"( you cannot mix my solution with the one of Frederico&#39;s answer - either one works, but not both together - <code>digit(token, 10) == (token - &#39;0&#39;)</code> for the usual digits 0-9 )"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669816680,"creation_date":1669816680,"answer_id":74628980,"question_id":74628817,"body_markdown":"`char token = expr.charAt(index);` returns `&#39;3&#39;` on the first iteration, but that&#39;s a `char` representing the character `&#39;3&#39;` (i.e. 51), not the number 3. \r\n\r\nTo use the number instead of the character representing that number you can push it into the stack [by subtracting `&#39;0&#39;`](https://stackoverflow.com/questions/4318263/java-subtract-0-from-char-to-get-an-int-why-does-this-work) from it, like this:\r\n\r\n    stack.push(operandIn - &#39;0&#39;);\r\n\r\n    ","title":"postfix evaluation calculated result is wrong","body":"<p><code>char token = expr.charAt(index);</code> returns <code>'3'</code> on the first iteration, but that's a <code>char</code> representing the character <code>'3'</code> (i.e. 51), not the number 3.</p>\n<p>To use the number instead of the character representing that number you can push it into the stack <a href=\"https://stackoverflow.com/questions/4318263/java-subtract-0-from-char-to-get-an-int-why-does-this-work\">by subtracting <code>'0'</code></a> from it, like this:</p>\n<pre><code>stack.push(operandIn - '0');\n</code></pre>\n"}],"owner":{"account_id":25352603,"reputation":55,"user_id":19169227,"display_name":"ian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669816680,"creation_date":1669815980,"question_id":74628817,"body_markdown":"I&#39;m trying to implement postfix evaluation using stack, but the result after calculation is not correct, I cannot figure out which part makes the calculation wrong, thanks a lot.\r\n\r\n    import java.util.Stack;\r\n    \r\n    public class PostFixEvaluate {\r\n        public static float calculate(Float operand_1,char operator,Float operand_2 ){\r\n            switch(operator){\r\n                case &#39;+&#39;:\r\n                    return operand_2 + operand_1;\r\n    \r\n                case &#39;-&#39;:\r\n                    return operand_2 - operand_1;\r\n    \r\n                case &#39;*&#39;:\r\n                    return operand_2 * operand_1;\r\n    \r\n                case &#39;/&#39;:\r\n                    return operand_2 / operand_1;\r\n            }\r\n    \r\n            return 0;\r\n        }   //end calculate()\r\n    \r\n        public static float postFixEvaluation(String expr){\r\n            Stack&lt;Float&gt; stack = new Stack&lt;&gt;();\r\n            int index = 0;\r\n    \r\n            while(index &lt; expr.length()){\r\n                char token = expr.charAt(index);\r\n                boolean x = isOperand(token);\r\n    \r\n                if(x == true){     //operand\r\n                    float operandIn = (float)token;\r\n                    stack.push(operandIn);\r\n                }\r\n                else{           //operator\r\n                    float a = stack.pop();   //operand_1\r\n                    float b = stack.pop();   //operand_2\r\n                    char w = token;         //operator\r\n                    stack.push(calculate(a, w, b));\r\n                }\r\n                index += 1;\r\n            }   //end while\r\n    \r\n            float result = stack.pop();\r\n            return result;\r\n         }  //postFixEvaluation()\r\n    \r\n        /*Operand or operator? operator return 1, operand return 2*/\r\n         public static boolean isOperand(char c){\r\n            switch(c){\r\n                case &#39;+&#39;:\r\n                case &#39;-&#39;:\r\n                case &#39;*&#39;:\r\n                case &#39;/&#39;:\r\n                    return false;   //an operator\r\n                default:\r\n                    return true;   //an operand\r\n            }   //end switch()\r\n        }  //end isOperand()\r\n    }\r\nAfter entering the postfix &quot;312*+456*+97-/+&quot;, the result is 3958.0, which is expected to be 22.0, That is much more than wrong but I still cannot figure out why the result is 3958.0.","title":"postfix evaluation calculated result is wrong","body":"<p>I'm trying to implement postfix evaluation using stack, but the result after calculation is not correct, I cannot figure out which part makes the calculation wrong, thanks a lot.</p>\n<pre><code>import java.util.Stack;\n\npublic class PostFixEvaluate {\n    public static float calculate(Float operand_1,char operator,Float operand_2 ){\n        switch(operator){\n            case '+':\n                return operand_2 + operand_1;\n\n            case '-':\n                return operand_2 - operand_1;\n\n            case '*':\n                return operand_2 * operand_1;\n\n            case '/':\n                return operand_2 / operand_1;\n        }\n\n        return 0;\n    }   //end calculate()\n\n    public static float postFixEvaluation(String expr){\n        Stack&lt;Float&gt; stack = new Stack&lt;&gt;();\n        int index = 0;\n\n        while(index &lt; expr.length()){\n            char token = expr.charAt(index);\n            boolean x = isOperand(token);\n\n            if(x == true){     //operand\n                float operandIn = (float)token;\n                stack.push(operandIn);\n            }\n            else{           //operator\n                float a = stack.pop();   //operand_1\n                float b = stack.pop();   //operand_2\n                char w = token;         //operator\n                stack.push(calculate(a, w, b));\n            }\n            index += 1;\n        }   //end while\n\n        float result = stack.pop();\n        return result;\n     }  //postFixEvaluation()\n\n    /*Operand or operator? operator return 1, operand return 2*/\n     public static boolean isOperand(char c){\n        switch(c){\n            case '+':\n            case '-':\n            case '*':\n            case '/':\n                return false;   //an operator\n            default:\n                return true;   //an operand\n        }   //end switch()\n    }  //end isOperand()\n}\n</code></pre>\n<p>After entering the postfix &quot;312*+456*+97-/+&quot;, the result is 3958.0, which is expected to be 22.0, That is much more than wrong but I still cannot figure out why the result is 3958.0.</p>\n"},{"tags":["java","java-native-interface","oshi"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669816473,"creation_date":1669655012,"answer_id":74604074,"question_id":74601069,"body_markdown":"Ideally, you want [Desktop.addAppEventListener](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#addAppEventListener(java.awt.desktop.SystemEventListener)).  Using that, no native commands are needed:\r\n\r\n    if (Desktop.isDesktopSupported()) {\r\n        Desktop desktop = Desktop.getDesktop();\r\n        if (desktop.isSupported(Desktop.Action.APP_EVENT_SYSTEM_SLEEP)) {\r\n            desktop.addAppEventListener(new SystemSleepListener() {\r\n                @Override\r\n                public void systemAboutToSleep(SystemSleepEvent event) {\r\n                    System.out.println(&quot;System is going to sleep.&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void systemAwoke(SystemSleepEvent event) {\r\n                    System.out.println(&quot;System is exiting sleep mode.&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nHowever, if we look at [gtk3_interface.c](https://github.com/openjdk/jdk19/blob/master/src/java.desktop/unix/native/libawt_xawt/awt/gtk3_interface.c) in the JDK source, and search for `ADD_SUPPORTED_ACTION` in that file, it appears the only supported desktop actions in Linux and Unix are open, browse, and mail.\r\n\r\nIn that case, external commands seem like the only option.  (I would prefer [`upower --monitor`](https://upower.freedesktop.org/docs/upower.1.html) over gnome-screensaver-command.)\r\n\r\nYou should not use grep or perl.  You don’t need them.  You have Java.  Java has a [full featured regex package](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/package-summary.html) which can do everything grep can do and most of the things perl can do:\r\n\r\n    String os = System.getProperty(&quot;os.name&quot;);\r\n    if (os.contains(&quot;Linux&quot;)) {\r\n        ProcessBuilder builder = new ProcessBuilder(&quot;upower&quot;, &quot;--monitor&quot;);\r\n        builder.redirectError(ProcessBuilder.Redirect.INHERIT);\r\n        Process upower = builder.start();\r\n\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try (BufferedReader output = upower.inputReader()) {\r\n                String line;\r\n                while ((line = output.readLine()) != null) {\r\n                    if (line.contains(&quot;sleep&quot;) || line.contains(&quot;Sleep&quot;)) {\r\n                        System.out.println(&quot;System is going to sleep.&quot;);\r\n                    }\r\n                    if (line.contains(&quot;hibernate&quot;) || line.contains(&quot;Hibernate&quot;)) {\r\n                        System.out.println(&quot;System is hibernating.&quot;);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    } else if (os.contains(&quot;Mac&quot;)) {\r\n        ProcessBuilder builder =\r\n            new ProcessBuilder(&quot;ioreg&quot;, &quot;-n&quot;, &quot;IODisplayWrangler&quot;);\r\n        builder.redirectError(ProcessBuilder.Redirect.INHERIT);\r\n        Process ioreg = builder.start();\r\n\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try (BufferedReader output = ioreg.inputReader()) {\r\n                Matcher powerStateMatcher =\r\n                    Pattern.compile(&quot;DevicePowerState\\&quot;=([0-9]+)&quot;.matcher(&quot;&quot;);\r\n\r\n                String line;\r\n                while ((line = output.readLine()) != null) {\r\n                    if (line.contains(&quot;IOPowerManagement&quot;) &amp;&amp;\r\n                        powerStateMatcher.reset(line).find()) {\r\n\r\n                        int newState = Integer.parseInt(\r\n                            powerStateMatcher.group(1));\r\n                        System.out.println(&quot;New device state is &quot; + newState);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n","title":"How to Detect workstation/System Screen Lock/unlock in Linux and Mac OS using java?","body":"<p>Ideally, you want <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#addAppEventListener(java.awt.desktop.SystemEventListener)\" rel=\"nofollow noreferrer\">Desktop.addAppEventListener</a>.  Using that, no native commands are needed:</p>\n<pre><code>if (Desktop.isDesktopSupported()) {\n    Desktop desktop = Desktop.getDesktop();\n    if (desktop.isSupported(Desktop.Action.APP_EVENT_SYSTEM_SLEEP)) {\n        desktop.addAppEventListener(new SystemSleepListener() {\n            @Override\n            public void systemAboutToSleep(SystemSleepEvent event) {\n                System.out.println(&quot;System is going to sleep.&quot;);\n            }\n\n            @Override\n            public void systemAwoke(SystemSleepEvent event) {\n                System.out.println(&quot;System is exiting sleep mode.&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<p>However, if we look at <a href=\"https://github.com/openjdk/jdk19/blob/master/src/java.desktop/unix/native/libawt_xawt/awt/gtk3_interface.c\" rel=\"nofollow noreferrer\">gtk3_interface.c</a> in the JDK source, and search for <code>ADD_SUPPORTED_ACTION</code> in that file, it appears the only supported desktop actions in Linux and Unix are open, browse, and mail.</p>\n<p>In that case, external commands seem like the only option.  (I would prefer <a href=\"https://upower.freedesktop.org/docs/upower.1.html\" rel=\"nofollow noreferrer\"><code>upower --monitor</code></a> over gnome-screensaver-command.)</p>\n<p>You should not use grep or perl.  You don’t need them.  You have Java.  Java has a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/package-summary.html\" rel=\"nofollow noreferrer\">full featured regex package</a> which can do everything grep can do and most of the things perl can do:</p>\n<pre><code>String os = System.getProperty(&quot;os.name&quot;);\nif (os.contains(&quot;Linux&quot;)) {\n    ProcessBuilder builder = new ProcessBuilder(&quot;upower&quot;, &quot;--monitor&quot;);\n    builder.redirectError(ProcessBuilder.Redirect.INHERIT);\n    Process upower = builder.start();\n\n    CompletableFuture.runAsync(() -&gt; {\n        try (BufferedReader output = upower.inputReader()) {\n            String line;\n            while ((line = output.readLine()) != null) {\n                if (line.contains(&quot;sleep&quot;) || line.contains(&quot;Sleep&quot;)) {\n                    System.out.println(&quot;System is going to sleep.&quot;);\n                }\n                if (line.contains(&quot;hibernate&quot;) || line.contains(&quot;Hibernate&quot;)) {\n                    System.out.println(&quot;System is hibernating.&quot;);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    });\n} else if (os.contains(&quot;Mac&quot;)) {\n    ProcessBuilder builder =\n        new ProcessBuilder(&quot;ioreg&quot;, &quot;-n&quot;, &quot;IODisplayWrangler&quot;);\n    builder.redirectError(ProcessBuilder.Redirect.INHERIT);\n    Process ioreg = builder.start();\n\n    CompletableFuture.runAsync(() -&gt; {\n        try (BufferedReader output = ioreg.inputReader()) {\n            Matcher powerStateMatcher =\n                Pattern.compile(&quot;DevicePowerState\\&quot;=([0-9]+)&quot;.matcher(&quot;&quot;);\n\n            String line;\n            while ((line = output.readLine()) != null) {\n                if (line.contains(&quot;IOPowerManagement&quot;) &amp;&amp;\n                    powerStateMatcher.reset(line).find()) {\n\n                    int newState = Integer.parseInt(\n                        powerStateMatcher.group(1));\n                    System.out.println(&quot;New device state is &quot; + newState);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":27072178,"reputation":11,"user_id":20622680,"display_name":"Dipesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669816473,"creation_date":1669640946,"question_id":74601069,"body_markdown":"\r\nI want an event when mac/linux machine goes to sleep and wakeup. Can any one please suggest a solution using java which can detect machine lock and unlock state.\r\n\r\n\r\n\r\nI have tried running some command lines using java which gives a output which shows screen saver status but that process is not reliable because it varies from os versions.\r\n\r\nCommand that i&#39;m firing for linux is \r\n\r\n```\r\ngnome-screensaver-command -q |  grep -q &#39;is active&#39;\r\n```\r\n\r\nAnd for mac is \r\n\r\n\r\n```\r\necho $((`ioreg -n IODisplayWrangler | grep -i IOPowerManagement | perl -pe &#39;s/^.*DevicePowerState\\\\\\&quot;=([0-9]+).*$/\\\\1/&#39;`))\r\n```","title":"How to Detect workstation/System Screen Lock/unlock in Linux and Mac OS using java?","body":"<p>I want an event when mac/linux machine goes to sleep and wakeup. Can any one please suggest a solution using java which can detect machine lock and unlock state.</p>\n<p>I have tried running some command lines using java which gives a output which shows screen saver status but that process is not reliable because it varies from os versions.</p>\n<p>Command that i'm firing for linux is</p>\n<pre><code>gnome-screensaver-command -q |  grep -q 'is active'\n</code></pre>\n<p>And for mac is</p>\n<pre><code>echo $((`ioreg -n IODisplayWrangler | grep -i IOPowerManagement | perl -pe 's/^.*DevicePowerState\\\\\\&quot;=([0-9]+).*$/\\\\1/'`))\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1669816515,"post_id":74628486,"comment_id":131728830,"body_markdown":"Does this answer your question? [Infinite Recursion with Jackson JSON and Hibernate JPA issue](https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">Infinite Recursion with Jackson JSON and Hibernate JPA issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669815442,"creation_date":1669815442,"answer_id":74628693,"question_id":74628486,"body_markdown":"If you use json serialization you can \r\n\r\nhttps://github.com/mikebski/jackson-circular-reference\r\n\r\nbut anyway add to Project entity \r\n\r\n@EqualsAndHashCode(of = &quot;id&quot;)\r\n@ToString(of = &quot;id&quot;)","title":"Inifinite recursion in Spring JPA","body":"<p>If you use json serialization you can</p>\n<p><a href=\"https://github.com/mikebski/jackson-circular-reference\" rel=\"nofollow noreferrer\">https://github.com/mikebski/jackson-circular-reference</a></p>\n<p>but anyway add to Project entity</p>\n<p>@EqualsAndHashCode(of = &quot;id&quot;)\n@ToString(of = &quot;id&quot;)</p>\n"},{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669816382,"creation_date":1669816382,"answer_id":74628911,"question_id":74628486,"body_markdown":"Actually, for your scenario, you probably just want `@JsonIgnore` on top of `Technology.projects`. \r\n\r\nAlternatively, if you sometimes want to print `Technology.projects`, you can use [`@JsonView`](https://www.baeldung.com/jackson-json-view-annotation) on top of `Project.technologies` instead, to modify the behavior just for this one scenario where `Project` is the top level object to serialize. ","title":"Inifinite recursion in Spring JPA","body":"<p>Actually, for your scenario, you probably just want <code>@JsonIgnore</code> on top of <code>Technology.projects</code>.</p>\n<p>Alternatively, if you sometimes want to print <code>Technology.projects</code>, you can use <a href=\"https://www.baeldung.com/jackson-json-view-annotation\" rel=\"nofollow noreferrer\"><code>@JsonView</code></a> on top of <code>Project.technologies</code> instead, to modify the behavior just for this one scenario where <code>Project</code> is the top level object to serialize.</p>\n"}],"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669816382,"creation_date":1669814439,"question_id":74628486,"body_markdown":"I&#39;ve created 2 entities in Spring with JPA annotations:\r\n\r\nProject:\r\n\r\n    package com.example.technologyradar.model;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Project {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n        @GenericGenerator(name=&quot;native&quot;, strategy = &quot;native&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n        @ManyToMany(mappedBy = &quot;projects&quot;)\r\n        private Set&lt;Technology&gt; assignedTechnologies = new HashSet&lt;Technology&gt;();\r\n    }\r\n\r\nTechnology:\r\n\r\n\r\n    package com.example.technologyradar.model;\r\n    \r\n    import com.example.technologyradar.dto.constant.TechnologyStatus;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Technology {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n        @GenericGenerator(name=&quot;native&quot;, strategy = &quot;native&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private TechnologyStatus technologyStatus;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, targetEntity = Category.class)\r\n        @JoinColumn(name=&quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        private Category category;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, targetEntity = Coordinate.class)\r\n        @JoinColumn(name=&quot;coordinate_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        private Coordinate coordinate;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;projects_technologies&quot;,\r\n                joinColumns = @JoinColumn(name=&quot;technology_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name=&quot;project_id&quot;)\r\n        )\r\n        private Set&lt;Project&gt; projects = new HashSet&lt;Project&gt;();\r\n    \r\n    }\r\n\r\nMy goal is to get List of projects with technologies usage list with ignoring Coordinate and Category from Technology Entity. When I perform simply `findAll()`:\r\n\r\n    public List&lt;Project&gt; getProjectsWithTechnologyUsage() {\r\n            return (List&lt;Project&gt;) projectRepository.findAll();\r\n        }\r\n\r\n then I&#39;m obtaining famous Infinite Recursion error:\r\n\r\n    Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: java.util.ArrayList[0]-&gt;com.example.technologyradar.model.Project[&quot;assignedTechnologies&quot;])]\r\n\r\nI know that one of the solutions is to add `@JsonManagedReference` and `@JsonBackRerefence` annotations but I don&#39;t know how to do it correctly for my particular case.\r\nI would be grateful for any suggestions.\r\nThanks!","title":"Inifinite recursion in Spring JPA","body":"<p>I've created 2 entities in Spring with JPA annotations:</p>\n<p>Project:</p>\n<pre><code>package com.example.technologyradar.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Project {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name=&quot;native&quot;, strategy = &quot;native&quot;)\n    private Long id;\n\n    private String name;\n    @ManyToMany(mappedBy = &quot;projects&quot;)\n    private Set&lt;Technology&gt; assignedTechnologies = new HashSet&lt;Technology&gt;();\n}\n</code></pre>\n<p>Technology:</p>\n<pre><code>package com.example.technologyradar.model;\n\nimport com.example.technologyradar.dto.constant.TechnologyStatus;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Technology {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name=&quot;native&quot;, strategy = &quot;native&quot;)\n    private Long id;\n\n    private String name;\n\n    @Enumerated(EnumType.STRING)\n    private TechnologyStatus technologyStatus;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, targetEntity = Category.class)\n    @JoinColumn(name=&quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Category category;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, targetEntity = Coordinate.class)\n    @JoinColumn(name=&quot;coordinate_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Coordinate coordinate;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;projects_technologies&quot;,\n            joinColumns = @JoinColumn(name=&quot;technology_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;project_id&quot;)\n    )\n    private Set&lt;Project&gt; projects = new HashSet&lt;Project&gt;();\n\n}\n</code></pre>\n<p>My goal is to get List of projects with technologies usage list with ignoring Coordinate and Category from Technology Entity. When I perform simply <code>findAll()</code>:</p>\n<pre><code>public List&lt;Project&gt; getProjectsWithTechnologyUsage() {\n        return (List&lt;Project&gt;) projectRepository.findAll();\n    }\n</code></pre>\n<p>then I'm obtaining famous Infinite Recursion error:</p>\n<pre><code>Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: java.util.ArrayList[0]-&gt;com.example.technologyradar.model.Project[&quot;assignedTechnologies&quot;])]\n</code></pre>\n<p>I know that one of the solutions is to add <code>@JsonManagedReference</code> and <code>@JsonBackRerefence</code> annotations but I don't know how to do it correctly for my particular case.\nI would be grateful for any suggestions.\nThanks!</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1669799242,"post_id":74622536,"comment_id":131722856,"body_markdown":"Please post entire stacktrace, not just one line.","body":"Please post entire stacktrace, not just one line."}],"answers":[{"tags":[],"owner":{"account_id":20470549,"reputation":1,"user_id":15021085,"display_name":"Antoniy Hristov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669805681,"creation_date":1669805681,"answer_id":74626595,"question_id":74622536,"body_markdown":"You can use the .andExpect() method to validate the status of the request instead of using assertEquals()\r\n\r\nYou can use something in the lines of this to test your endpoint call:\r\n\r\n     mockMvc.perform(post(&quot;/project-files/deleteUploadedFile&quot;)\r\n                    .param(&quot;params&quot;, &quot;some_value_here&quot;))\r\n                    .andExpect(status().isOk());\r\n\r\nSome strange things I find inside of your controller is that you use @PostMapping for deleting you can use @DeleteMapping instead [see spring docs here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/DeleteMapping.html\r\n\r\nAlso, you should use more descriptive names for parameter names (and in general) \r\n\r\n&gt; String params\r\n\r\n don&#39;t really ring a bell as to what this variable is representing.\r\n\r\nIf the issue persists make sure to post the entire stacktrace as suggested.\r\n\r\n*Keep in mind when you&#39;re writing tests in general you are mimicking the behaviour of the real call, so don&#39;t add useless checks or mocks \r\n\r\n    @InjectMocks\r\n        private serviceImpl serviceImpl;\r\n    \r\n        @InjectMocks\r\n        dataRepoImpl repoImpl;\r\n\r\nI don&#39;t see the above in your controller so I am not sure why are they part of the test.","title":"Error in Junit testcases for a contoller file","body":"<p>You can use the .andExpect() method to validate the status of the request instead of using assertEquals()</p>\n<p>You can use something in the lines of this to test your endpoint call:</p>\n<pre><code> mockMvc.perform(post(&quot;/project-files/deleteUploadedFile&quot;)\n                .param(&quot;params&quot;, &quot;some_value_here&quot;))\n                .andExpect(status().isOk());\n</code></pre>\n<p>Some strange things I find inside of your controller is that you use @PostMapping for deleting you can use @DeleteMapping instead <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/DeleteMapping.html\" rel=\"nofollow noreferrer\">see spring docs here</a></p>\n<p>Also, you should use more descriptive names for parameter names (and in general)</p>\n<blockquote>\n<p>String params</p>\n</blockquote>\n<p>don't really ring a bell as to what this variable is representing.</p>\n<p>If the issue persists make sure to post the entire stacktrace as suggested.</p>\n<p>*Keep in mind when you're writing tests in general you are mimicking the behaviour of the real call, so don't add useless checks or mocks</p>\n<pre><code>@InjectMocks\n    private serviceImpl serviceImpl;\n\n    @InjectMocks\n    dataRepoImpl repoImpl;\n</code></pre>\n<p>I don't see the above in your controller so I am not sure why are they part of the test.</p>\n"}],"owner":{"account_id":11029524,"reputation":321,"user_id":8101251,"accept_rate":38,"display_name":"Raghavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669816325,"creation_date":1669778625,"question_id":74622536,"body_markdown":"I am new to spring boot and Junit. I am writing a small Junit testcase for my controller.\r\nMy controller file looks like below:\r\n\r\n```\r\n    @RequestMapping(path = &quot;/project-files&quot;)\r\n    public class MyController {\r\n\r\n        private RequestModel setRequestModel(String params) {\r\n\t\tRequestModel requestModel = new RequestModel();\r\n\t\trequestModel.setRequestData(params);\r\n\t\treturn requestModel;\r\n\t    }\r\n\r\n        @PostMapping(&quot;/deleteUploadedFile&quot;)\r\n        @ResponseBody\r\n        public Map&lt;String, Object&gt; deleteUploadedFile(@RequestParam(value = &quot;requestData&quot;, required = false)    String params) {\r\n        RequestModel requestModel = setRequestModel(params);\r\n        return service.deleteUploadedFile(requestModel);\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nBased on the reference from [here][1] I tried to write a junit tescases for my controller. \r\n\r\nMy Junit Testcases looks like below:\r\n\r\n```\r\n    package com.test.project.web;\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNotNull;\r\n    import static org.mockito.ArgumentMatchers.anyMap;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    import java.io.IOException;\r\n    import java.util.Map;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.MvcResult;\r\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\n    import com.test.project.beans.RequestModel;\r\n    import com.test.project.service.serviceImpl;\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest&lt;mapFromJson&gt; {\r\n\r\n\t@InjectMocks\r\n\tprivate serviceImpl serviceImpl;\r\n\r\n\t@InjectMocks\r\n\tdataRepoImpl repoImpl;\r\n\r\n\t@InjectMocks\r\n\tMyController myController;\r\n\r\n\tprivate MockMvc mockMvc;\r\n\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\tthis.mockMvc = MockMvcBuilders.standaloneSetup(new MyController()).build();\r\n\t}\r\n\r\n\t protected &lt;T&gt; T mapFromJson(String json, Class&lt;T&gt; clazz) throws\r\n\t JsonParseException, JsonMappingException, IOException {\r\n\t \r\n\t ObjectMapper objectMapper = new ObjectMapper(); return\r\n\t objectMapper.readValue(json, clazz); \r\n\t }\r\n\t\r\n\r\n\t@Test\r\n\tpublic void deletefile() throws Exception {\r\n\t\tString uri = &quot;/deleteUploadedFile&quot;;\r\n\t\tMvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(uri).accept(MediaType.APPLICATION_JSON_VALUE))\r\n\t\t\t\t.andReturn();\r\n\t\tint status = mvcResult.getResponse().getStatus();\r\n\t\tassertEquals(200, status);\r\n\t\tString content = mvcResult.getResponse().getContentAsString();\r\n\t\tMyController[] productlist = super.mapFromJson(content, MyController[].class);\r\n\t\tassertTrue(productlist.length &gt; 0);\r\n\t    }\r\n    }\r\n\r\n```\r\n\r\nI am getting errors \r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\nIs there any other better way to write the Junit testcases for controller?\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/spring_boot/spring_boot_rest_controller_unit_test.htm\r\n\r\n     @Test public void deletefile() throws Exception { \r\n\t\t  MvcResult mvcResult = mockMvc.perform(post(&quot;/project-files/deleteUploadedFile&quot;) //Getting error in post.\r\n\t                .param(&quot;params&quot;, &quot;some_value_here&quot;))\r\n\t                .andExpect(status().isOk()); //Getting error in status\r\n\t\t  String content = mvcResult.getResponse().getContentAsString(); \r\n\t      productlist = super.mapFromJson(content, MrmController[].class); //Getting error in productlist &amp; mapFromJson\r\n\t      assertTrue(productlist.length &gt; 0);\r\n\t  } ","title":"Error in Junit testcases for a contoller file","body":"<p>I am new to spring boot and Junit. I am writing a small Junit testcase for my controller.\nMy controller file looks like below:</p>\n<pre><code>    @RequestMapping(path = &quot;/project-files&quot;)\n    public class MyController {\n\n        private RequestModel setRequestModel(String params) {\n        RequestModel requestModel = new RequestModel();\n        requestModel.setRequestData(params);\n        return requestModel;\n        }\n\n        @PostMapping(&quot;/deleteUploadedFile&quot;)\n        @ResponseBody\n        public Map&lt;String, Object&gt; deleteUploadedFile(@RequestParam(value = &quot;requestData&quot;, required = false)    String params) {\n        RequestModel requestModel = setRequestModel(params);\n        return service.deleteUploadedFile(requestModel);\n        }\n    }\n\n</code></pre>\n<p>Based on the reference from <a href=\"https://www.tutorialspoint.com/spring_boot/spring_boot_rest_controller_unit_test.htm\" rel=\"nofollow noreferrer\">here</a> I tried to write a junit tescases for my controller.</p>\n<p>My Junit Testcases looks like below:</p>\n<pre><code>    package com.test.project.web;\n\n    import static org.junit.Assert.assertEquals;\n    import static org.junit.Assert.assertNotNull;\n    import static org.mockito.ArgumentMatchers.anyMap;\n    import static org.mockito.Mockito.when;\n\n    import java.io.IOException;\n    import java.util.Map;\n\n    import org.junit.Before;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.mockito.InjectMocks;\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\n    import org.springframework.http.MediaType;\n    import org.springframework.test.context.junit4.SpringRunner;\n    import org.springframework.test.web.servlet.MockMvc;\n    import org.springframework.test.web.servlet.MvcResult;\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\n    import com.test.project.beans.RequestModel;\n    import com.test.project.service.serviceImpl;\n    import com.fasterxml.jackson.core.JsonParseException;\n    import com.fasterxml.jackson.databind.JsonMappingException;\n    import com.fasterxml.jackson.databind.ObjectMapper;\n\n    @RunWith(SpringRunner.class)\n    @WebMvcTest(MyController.class)\n    public class MyControllerTest&lt;mapFromJson&gt; {\n\n    @InjectMocks\n    private serviceImpl serviceImpl;\n\n    @InjectMocks\n    dataRepoImpl repoImpl;\n\n    @InjectMocks\n    MyController myController;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(new MyController()).build();\n    }\n\n     protected &lt;T&gt; T mapFromJson(String json, Class&lt;T&gt; clazz) throws\n     JsonParseException, JsonMappingException, IOException {\n     \n     ObjectMapper objectMapper = new ObjectMapper(); return\n     objectMapper.readValue(json, clazz); \n     }\n    \n\n    @Test\n    public void deletefile() throws Exception {\n        String uri = &quot;/deleteUploadedFile&quot;;\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(uri).accept(MediaType.APPLICATION_JSON_VALUE))\n                .andReturn();\n        int status = mvcResult.getResponse().getStatus();\n        assertEquals(200, status);\n        String content = mvcResult.getResponse().getContentAsString();\n        MyController[] productlist = super.mapFromJson(content, MyController[].class);\n        assertTrue(productlist.length &gt; 0);\n        }\n    }\n\n</code></pre>\n<p>I am getting errors</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext</p>\n</blockquote>\n<p>Is there any other better way to write the Junit testcases for controller?</p>\n<pre><code> @Test public void deletefile() throws Exception { \n      MvcResult mvcResult = mockMvc.perform(post(&quot;/project-files/deleteUploadedFile&quot;) //Getting error in post.\n                .param(&quot;params&quot;, &quot;some_value_here&quot;))\n                .andExpect(status().isOk()); //Getting error in status\n      String content = mvcResult.getResponse().getContentAsString(); \n      productlist = super.mapFromJson(content, MrmController[].class); //Getting error in productlist &amp; mapFromJson\n      assertTrue(productlist.length &gt; 0);\n  } \n</code></pre>\n"},{"tags":["java","spring","spring-cloud-gateway","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669709960,"creation_date":1669709960,"answer_id":74610979,"question_id":74609680,"body_markdown":"You might want to enable endpoint support\r\n\r\n    springdoc.show-actuator=true\r\n\r\nand \r\n\r\n    management.endpoints.web.exposure.include=gateway\r\n\r\nNote that you are using a yml file, please convert the above code to yml format","title":"springdoc-openapi: spring gateway: gateway api endpoints are not showing","body":"<p>You might want to enable endpoint support</p>\n<pre><code>springdoc.show-actuator=true\n</code></pre>\n<p>and</p>\n<pre><code>management.endpoints.web.exposure.include=gateway\n</code></pre>\n<p>Note that you are using a yml file, please convert the above code to yml format</p>\n"}],"owner":{"account_id":13370458,"reputation":11,"user_id":9649075,"display_name":"Chandrasekhar boya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669815939,"creation_date":1669701282,"question_id":74609680,"body_markdown":"Not able to get the gateway url&#39;s neither in JSON or swagger UI.\r\nBelow is the configuration.\r\nCould any one suggest on this\r\n\r\n**Spring configuration:**\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: testapi\r\n          uri: &quot;localhost:8090/api/test/v1&quot;\r\n          predicates:\r\n            - Path=/sa\r\n          filters:\r\n            - AddRequestHeader=secure,true\r\n  application:\r\n    name: gateway-service\r\nserver:\r\n  port: 8080\r\nspringdoc:\r\n  api-docs:\r\n    path: /api-docs\r\n\r\nURL: localhost:8080/api-docs\r\n**Respose:** \r\n{\r\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n    &quot;info&quot;: {\r\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n        &quot;version&quot;: &quot;v0&quot;\r\n    },\r\n    &quot;servers&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;http://localhost:8080&quot;,\r\n            &quot;description&quot;: &quot;Generated server url&quot;\r\n        }\r\n    ],\r\n    &quot;paths&quot;: {},\r\n    &quot;components&quot;: {}\r\n}\r\n","title":"springdoc-openapi: spring gateway: gateway api endpoints are not showing","body":"<p>Not able to get the gateway url's neither in JSON or swagger UI.\nBelow is the configuration.\nCould any one suggest on this</p>\n<p><strong>Spring configuration:</strong></p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: testapi\n          uri: &quot;localhost:8090/api/test/v1&quot;\n          predicates:\n            - Path=/sa\n          filters:\n            - AddRequestHeader=secure,true\n  application:\n    name: gateway-service\nserver:\n  port: 8080\nspringdoc:\n  api-docs:\n    path: /api-docs\n\nURL: localhost:8080/api-docs\n**Respose:** \n{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://localhost:8080&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {},\n    &quot;components&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","email","spring-boot","smtp","gmail"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1490968350,"post_id":43142137,"comment_id":73362005,"body_markdown":"Do you mean with other domain, that you use a Google for work account with a custom domain? Or is that domain totally unrelated to any Google accounts?","body":"Do you mean with other domain, that you use a Google for work account with a custom domain? Or is that domain totally unrelated to any Google accounts?"},{"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"score":0,"creation_date":1490968630,"post_id":43142137,"comment_id":73362203,"body_markdown":"It is my own domain whose MX records point to Gmail.","body":"It is my own domain whose MX records point to Gmail."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1490968898,"post_id":43142137,"comment_id":73362386,"body_markdown":"Have you tried to specify `spring.mail.properties.mail.smtp.port=465`? socketFactory.port only sets your local port, not the one which should be used at the SMTP server.","body":"Have you tried to specify <code>spring.mail.properties.mail.smtp.port=465</code>? socketFactory.port only sets your local port, not the one which should be used at the SMTP server."}],"answers":[{"tags":[],"owner":{"account_id":5557928,"reputation":2328,"user_id":4408619,"display_name":"Azzabi Haythem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490971665,"creation_date":1490968248,"answer_id":43142417,"question_id":43142137,"body_markdown":"you used **smtp.gmail.com** so the email should be **gmail**\r\n\r\n**EDIT :** \r\nin my application in **spring mvc** i do like this : \r\nservice:\r\n   \r\n    \r\n    import org.springframework.mail.MailSender;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n   \r\n       \t\r\n  \t    /**\r\n    \t     * This method will send compose and send the message\r\n    \t     * */\r\n    \t    public void sendMail(String to, String subject, String body)\r\n    \t    {\r\n    \t        SimpleMailMessage message = new SimpleMailMessage();\r\n    \t        message.setTo(to);\r\n    \t        message.setSubject(subject);\r\n    \t        message.setText(body);\r\n    \t        mailSender.send(message);\r\n    \t    }\r\n    \t \r\n    \r\n\r\n\r\nin the controller i used my service \r\n\r\n    applicationMailer.sendMail(&quot;*******@gmail.com&quot;, &quot;Message from &quot;+ userName , mailModel.getBody());\r\n\r\n\r\nand for **configuration** :\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n            &lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot;/&gt;\r\n            &lt;property name=&quot;port&quot; value=&quot;587&quot;/&gt;  &lt;!--   ou 25 --&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;*****@gmail.com&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;******&quot;/&gt;\r\n            &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n                    &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\n","title":"Sending email from Spring Boot application using Gmail","body":"<p>you used <strong>smtp.gmail.com</strong> so the email should be <strong>gmail</strong></p>\n\n<p><strong>EDIT :</strong> \nin my application in <strong>spring mvc</strong> i do like this : \nservice:</p>\n\n<pre><code>import org.springframework.mail.MailSender;\nimport org.springframework.mail.SimpleMailMessage;\n\n\n    /**\n         * This method will send compose and send the message\n         * */\n        public void sendMail(String to, String subject, String body)\n        {\n            SimpleMailMessage message = new SimpleMailMessage();\n            message.setTo(to);\n            message.setSubject(subject);\n            message.setText(body);\n            mailSender.send(message);\n        }\n</code></pre>\n\n<p>in the controller i used my service </p>\n\n<pre><code>applicationMailer.sendMail(\"*******@gmail.com\", \"Message from \"+ userName , mailModel.getBody());\n</code></pre>\n\n<p>and for <strong>configuration</strong> :</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n        &lt;property name=\"host\" value=\"smtp.gmail.com\"/&gt;\n        &lt;property name=\"port\" value=\"587\"/&gt;  &lt;!--   ou 25 --&gt;\n        &lt;property name=\"username\" value=\"*****@gmail.com\"/&gt;\n        &lt;property name=\"password\" value=\"******\"/&gt;\n        &lt;property name=\"javaMailProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n                &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490970366,"creation_date":1490970366,"answer_id":43143141,"question_id":43142137,"body_markdown":"To answer my own question in case anyone else finds it useful:\r\n\r\nThe required set of properties is this:\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=****\r\n    spring.mail.password=****\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\nYou also need to provide the JavaMailSender yourself and set additional properties:\r\n\r\n    @Bean\r\n    public JavaMailSender getJavaMailSender() {\r\n    \tJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n        mailSender.setPort(587);\r\n         \r\n        mailSender.setUsername(&quot;***&quot;);\r\n        mailSender.setPassword(&quot;***&quot;);\r\n         \r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n         \r\n        return mailSender;\r\n    }\r\n\r\nNot sure why I needed to repeat the config, but that worked for me. Reference: [baeldung.com][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/spring-email","title":"Sending email from Spring Boot application using Gmail","body":"<p>To answer my own question in case anyone else finds it useful:</p>\n\n<p>The required set of properties is this:</p>\n\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=****\nspring.mail.password=****\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n\n<p>You also need to provide the JavaMailSender yourself and set additional properties:</p>\n\n<pre><code>@Bean\npublic JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(\"smtp.gmail.com\");\n    mailSender.setPort(587);\n\n    mailSender.setUsername(\"***\");\n    mailSender.setPassword(\"***\");\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(\"mail.transport.protocol\", \"smtp\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.debug\", \"true\");\n\n    return mailSender;\n}\n</code></pre>\n\n<p>Not sure why I needed to repeat the config, but that worked for me. Reference: <a href=\"http://www.baeldung.com/spring-email\" rel=\"noreferrer\">baeldung.com</a></p>\n"},{"tags":[],"owner":{"account_id":1574289,"reputation":6940,"user_id":1461196,"accept_rate":76,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504710312,"creation_date":1504710312,"answer_id":46078686,"question_id":43142137,"body_markdown":"You can do this without duplicating your config (with the exception of `From Email` in this case but this will depend on your `SMTP` provider):\r\n\r\n**Dependency**\r\n\r\n    &quot;org.springframework.boot:spring-boot-starter-mail&quot;\r\n\r\n**application.properties**\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=from.email@gmail.com\r\n    spring.mail.password=*******\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\n**EmailService**\r\n\r\n    @Component\r\n    public class EmailService {\r\n    \r\n        private final JavaMailSender sender;\r\n    \r\n        @Autowired\r\n        public EmailService(JavaMailSender sender) {\r\n            this.sender = sender;\r\n        }\r\n    \r\n        public void send(String emailTo, String subject, String body) {\r\n            MimeMessagePreparator message = newMessage -&gt; {\r\n                newMessage.setRecipient(\r\n                        Message.RecipientType.TO,\r\n                        new InternetAddress(emailTo)\r\n                );\r\n                newMessage.setFrom(&quot;from.email@gmail.com&quot;);\r\n                newMessage.setSubject(subject);\r\n                newMessage.setText(body);\r\n            };\r\n    \r\n            this.sender.send(message);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Sending email from Spring Boot application using Gmail","body":"<p>You can do this without duplicating your config (with the exception of <code>From Email</code> in this case but this will depend on your <code>SMTP</code> provider):</p>\n\n<p><strong>Dependency</strong></p>\n\n<pre><code>\"org.springframework.boot:spring-boot-starter-mail\"\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=from.email@gmail.com\nspring.mail.password=*******\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n\n<p><strong>EmailService</strong></p>\n\n<pre><code>@Component\npublic class EmailService {\n\n    private final JavaMailSender sender;\n\n    @Autowired\n    public EmailService(JavaMailSender sender) {\n        this.sender = sender;\n    }\n\n    public void send(String emailTo, String subject, String body) {\n        MimeMessagePreparator message = newMessage -&gt; {\n            newMessage.setRecipient(\n                    Message.RecipientType.TO,\n                    new InternetAddress(emailTo)\n            );\n            newMessage.setFrom(\"from.email@gmail.com\");\n            newMessage.setSubject(subject);\n            newMessage.setText(body);\n        };\n\n        this.sender.send(message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669815819,"creation_date":1490967466,"question_id":43142137,"body_markdown":"I have studied the following question  and answers:\r\nhttps://stackoverflow.com/questions/28064904/spring-boot-could-not-connect-to-smtp-host-smtp-gmail-com-port-25-response\r\n\r\nI want to do the same thing - send email from a Spring Boot application using the Gmail servers.\r\n\r\nMy config is this:\r\n\r\n    spring.mail.host = smtp.gmail.com\r\n    spring.mail.username = ***@otherdomain\r\n    spring.mail.password = ***\r\n    spring.mail.properties.mail.smtp.auth = true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true \r\n    spring.mail.properties.mail.smtp.socketFactory.port = 465\r\n    spring.mail.properties.mail.smtp.socketFactory.class = javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback = false\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n\r\nThis has been copied from the other question, only the username and password have been changed for my needs. The only different thing about my scienario as that the domain of the email address is not gmail.com.\r\n\r\nMy Email Client class is:\r\n\r\n    @Service\r\n    public class MailClient {\r\n\r\n\t  @Autowired\r\n\t  private JavaMailSender mailSender;\r\n\r\n\t  public void prepareAndSend(String recipient, String message) {\r\n\t\tMimeMessagePreparator messagePreparator = mimeMessage -&gt; {\r\n\t\t\tMimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage);\r\n\t\t\tmessageHelper.setFrom(&quot;me@otherdomain.org.uk&quot;);\r\n\t\t\tmessageHelper.setTo(recipient);\r\n\t\t\tmessageHelper.setSubject(&quot;Sample mail subject&quot;);\r\n\t\t\tmessageHelper.setText(message);\r\n\t\t};\r\n\t\tmailSender.send(messagePreparator);\r\n\t  }\r\n    }\r\n\r\nMy exception is:\r\n\r\n    Failed message 1: com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. g78sm6788965wrd.11 - gsmtp","title":"Sending email from Spring Boot application using Gmail","body":"<p>I have studied the following question  and answers:\n<a href=\"https://stackoverflow.com/questions/28064904/spring-boot-could-not-connect-to-smtp-host-smtp-gmail-com-port-25-response\">Spring Boot - Could not connect to SMTP host: smtp.gmail.com, port: 25, response: 421</a></p>\n<p>I want to do the same thing - send email from a Spring Boot application using the Gmail servers.</p>\n<p>My config is this:</p>\n<pre><code>spring.mail.host = smtp.gmail.com\nspring.mail.username = ***@otherdomain\nspring.mail.password = ***\nspring.mail.properties.mail.smtp.auth = true\nspring.mail.properties.mail.smtp.starttls.enable=true \nspring.mail.properties.mail.smtp.socketFactory.port = 465\nspring.mail.properties.mail.smtp.socketFactory.class = javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback = false\nspring.mail.properties.mail.smtp.ssl.enable = true\n</code></pre>\n<p>This has been copied from the other question, only the username and password have been changed for my needs. The only different thing about my scienario as that the domain of the email address is not gmail.com.</p>\n<p>My Email Client class is:</p>\n<pre><code>@Service\npublic class MailClient {\n\n  @Autowired\n  private JavaMailSender mailSender;\n\n  public void prepareAndSend(String recipient, String message) {\n    MimeMessagePreparator messagePreparator = mimeMessage -&gt; {\n        MimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage);\n        messageHelper.setFrom(&quot;me@otherdomain.org.uk&quot;);\n        messageHelper.setTo(recipient);\n        messageHelper.setSubject(&quot;Sample mail subject&quot;);\n        messageHelper.setText(message);\n    };\n    mailSender.send(messagePreparator);\n  }\n}\n</code></pre>\n<p>My exception is:</p>\n<pre><code>Failed message 1: com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. g78sm6788965wrd.11 - gsmtp\n</code></pre>\n"},{"tags":["java","logstash","slf4j","logstash-logback-encoder"],"comments":[{"owner":{"account_id":10958861,"reputation":504,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1669812384,"post_id":74627908,"comment_id":131727331,"body_markdown":"Does this answer your question? [Is there a correct way to pass arguments in slf4j?](https://stackoverflow.com/questions/7102339/is-there-a-correct-way-to-pass-arguments-in-slf4j)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7102339/is-there-a-correct-way-to-pass-arguments-in-slf4j\">Is there a correct way to pass arguments in slf4j?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669815574,"creation_date":1669815574,"answer_id":74628714,"question_id":74627908,"body_markdown":"Yes, use [`StructuredArguments.fields(object)`](https://www.javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.2/net/logstash/logback/argument/StructuredArguments.html#fields-java.lang.Object-) (or its abbreviated form `StructuredArguments.f(object)`)\r\n\r\nFor example:\r\n\r\n```java\r\nclass SomeObjectId {\r\n  LocalDate date;\r\n  int objectId;\r\n  String objectLocation;\r\n\r\n  public String toString() {\r\n    return date + &quot; &quot; + objectId + &quot; &quot; + location;\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\nlog.info(&quot;Some object with ID {} is processed on {}.&quot;,\r\n  StructuredArguments.fields(someObjectId),\r\n  &quot;someOtherArgument&quot; // etc\r\n);\r\n```","title":"Logstash logback: combine multiple structured arguments in log message","body":"<p>Yes, use <a href=\"https://www.javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.2/net/logstash/logback/argument/StructuredArguments.html#fields-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>StructuredArguments.fields(object)</code></a> (or its abbreviated form <code>StructuredArguments.f(object)</code>)</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeObjectId {\n  LocalDate date;\n  int objectId;\n  String objectLocation;\n\n  public String toString() {\n    return date + &quot; &quot; + objectId + &quot; &quot; + location;\n  }\n}\n\n</code></pre>\n<pre><code>log.info(&quot;Some object with ID {} is processed on {}.&quot;,\n  StructuredArguments.fields(someObjectId),\n  &quot;someOtherArgument&quot; // etc\n);\n</code></pre>\n"}],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74628714,"answer_count":1,"score":0,"last_activity_date":1669815574,"creation_date":1669811845,"question_id":74627908,"body_markdown":"In our domain we provide structured arguments to a log message in order to describe an object ID. If for instance an object SomeObject has three ID fields used to identify the object:\r\n\r\n\r\n```java\r\n\r\nclass SomeObject {\r\n  SomeObjectId id;\r\n  ....\r\n}\r\n\r\nclass SomeObjectId {\r\n  LocalDate date;\r\n  int objectId;\r\n  String objectLocation;\r\n}\r\n```\r\n\r\nWe use the following log set up to log all ID fields:\r\n```java\r\nimport static net.logstash.logback.argumentStructuredArgument.v;\r\n\r\nlog.info(&quot;Some object with ID {} {} {} is processed on {}.&quot;,\r\n  v(&quot;date&quot;, objectId.getDate()),\r\n  v(&quot;objectId&quot;, objectId.getObjectId()),\r\n  v(&quot;location&quot;, objectId.getObjectLocation()),\r\n  &quot;someOtherArgument&quot; // etc\r\n);\r\n```\r\n\r\nWhich generates the following JSON log output:\r\n\r\n```json\r\n{\r\n  &quot;@timestamp&quot;: &quot;2022-11-30T12:34:56.000+00:00&quot;,\r\n  &quot;@version&quot;: &quot;1&quot;,\r\n  &quot;message&quot;: &quot;Some object with ID 2022-11-30 123 NL is processed on someOtherArgument&quot;,\r\n  &quot;thread_name&quot;: &quot;main&quot;,\r\n  &quot;level&quot;: &quot;INFO&quot;,\r\n\r\n  // Notice the structured arguments\r\n  &quot;date&quot;: &quot;2022-11-30&quot;,\r\n  &quot;objectId&quot;: &quot;123&quot;,\r\n  &quot;location&quot;: &quot;NL&quot;\r\n}\r\n```\r\n\r\nIt feels a bit cumbersome to explicitly mention every ID field at every log section in the code. Is there a way to combine the fields into the log string while at the same time having all the structured arguments added to the log message? For instance (in pseudo code) :\r\n\r\n```java\r\nlog.info(&quot;Some object with ID {} is processed on {}.&quot;,\r\n  LogTags.fromId(someObjectId),\r\n  &quot;someOtherArgument&quot; // etc\r\n);\r\n\r\nclass LogTags {\r\n  static String fromId(SomeObjectId id) {\r\n     LogTags.forCurrentLogMessage.appendValue(&quot;date&quot;, id.getDate());\r\n     LogTags.forCurrentLogMessage.appendValue(&quot;objectId&quot;, id.getObjectId());\r\n     LogTags.forCurrentLogMessage.appendValue(&quot;location&quot;, id.getLocation());\r\n\r\n     return id.getDate() + &quot; &quot; + id.getObjectId() + &quot; &quot; + id.getLocation();\r\n  }\r\n}\r\n\r\n```\r\n","title":"Logstash logback: combine multiple structured arguments in log message","body":"<p>In our domain we provide structured arguments to a log message in order to describe an object ID. If for instance an object SomeObject has three ID fields used to identify the object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass SomeObject {\n  SomeObjectId id;\n  ....\n}\n\nclass SomeObjectId {\n  LocalDate date;\n  int objectId;\n  String objectLocation;\n}\n</code></pre>\n<p>We use the following log set up to log all ID fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static net.logstash.logback.argumentStructuredArgument.v;\n\nlog.info(&quot;Some object with ID {} {} {} is processed on {}.&quot;,\n  v(&quot;date&quot;, objectId.getDate()),\n  v(&quot;objectId&quot;, objectId.getObjectId()),\n  v(&quot;location&quot;, objectId.getObjectLocation()),\n  &quot;someOtherArgument&quot; // etc\n);\n</code></pre>\n<p>Which generates the following JSON log output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;@timestamp&quot;: &quot;2022-11-30T12:34:56.000+00:00&quot;,\n  &quot;@version&quot;: &quot;1&quot;,\n  &quot;message&quot;: &quot;Some object with ID 2022-11-30 123 NL is processed on someOtherArgument&quot;,\n  &quot;thread_name&quot;: &quot;main&quot;,\n  &quot;level&quot;: &quot;INFO&quot;,\n\n  // Notice the structured arguments\n  &quot;date&quot;: &quot;2022-11-30&quot;,\n  &quot;objectId&quot;: &quot;123&quot;,\n  &quot;location&quot;: &quot;NL&quot;\n}\n</code></pre>\n<p>It feels a bit cumbersome to explicitly mention every ID field at every log section in the code. Is there a way to combine the fields into the log string while at the same time having all the structured arguments added to the log message? For instance (in pseudo code) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.info(&quot;Some object with ID {} is processed on {}.&quot;,\n  LogTags.fromId(someObjectId),\n  &quot;someOtherArgument&quot; // etc\n);\n\nclass LogTags {\n  static String fromId(SomeObjectId id) {\n     LogTags.forCurrentLogMessage.appendValue(&quot;date&quot;, id.getDate());\n     LogTags.forCurrentLogMessage.appendValue(&quot;objectId&quot;, id.getObjectId());\n     LogTags.forCurrentLogMessage.appendValue(&quot;location&quot;, id.getLocation());\n\n     return id.getDate() + &quot; &quot; + id.getObjectId() + &quot; &quot; + id.getLocation();\n  }\n}\n\n</code></pre>\n"},{"tags":["java","sql","oracle-adf","jdeveloper"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669815141,"creation_date":1669815141,"answer_id":74628617,"question_id":74628423,"body_markdown":"Can you tell us your exact JDev version, please?\r\n\r\nYour query has two paramaters, :p_zipcode_cur and :p_index. \r\n\r\nThe log tells you that only one parameter having the value of 220051, was given. As the second parameter is missing, you get the error from the SQL execution.\r\n\r\nCheck where the query is called and pass the second parameter. This should fix the error.","title":"Missing IN or OUT parameter at index::2","body":"<p>Can you tell us your exact JDev version, please?</p>\n<p>Your query has two paramaters, :p_zipcode_cur and :p_index.</p>\n<p>The log tells you that only one parameter having the value of 220051, was given. As the second parameter is missing, you get the error from the SQL execution.</p>\n<p>Check where the query is called and pass the second parameter. This should fix the error.</p>\n"}],"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74628617,"answer_count":1,"score":0,"last_activity_date":1669815141,"creation_date":1669814146,"question_id":74628423,"body_markdown":"I am using Oracle database with ADF. I get this error when executing the query:\r\n\r\n    select count(*)\r\n           from notif_oper n,\r\n                ot_operation o,\r\n                posting p,\r\n                ot_status s,\r\n                client c\r\n           where n.oto_id = o.oto_id\r\n             and o.po_id = p.po_id\r\n             and o.po_id = s.po_id\r\n             and c.CL_ID = p.po_recipient\r\n             and n.status in (0,2,4) and n.type_send = 3 and trunc(n.CREATE_DATE) = trunc(sysdate) - 2\r\n             and s.stat_id = 4 and s.ZIPCODE_CUR = :p_zipcode_cur\r\n             and ((:p_index = 3 and p.NOTE_ID_FIRST is not null)\r\n             or (:p_index = 4 and p.NOTE_ID_LAST is not NULL));\r\n\r\nError is: \r\n\r\n    [2022-11-30 16:02:16,015] ERROR [220051/Compit] AdfDBTransactionUtil:174 - execute query FAILED:\r\n    ;\r\n    params: [220051]\r\n    [2022-11-30 16:02:16,016] ERROR [220051/Compit] ExceptionManager:92 - getDocSubjects failed\r\n    java.sql.SQLException: Missing IN or OUT parameter at index:: 2\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2139)\r\n\r\n","title":"Missing IN or OUT parameter at index::2","body":"<p>I am using Oracle database with ADF. I get this error when executing the query:</p>\n<pre><code>select count(*)\n       from notif_oper n,\n            ot_operation o,\n            posting p,\n            ot_status s,\n            client c\n       where n.oto_id = o.oto_id\n         and o.po_id = p.po_id\n         and o.po_id = s.po_id\n         and c.CL_ID = p.po_recipient\n         and n.status in (0,2,4) and n.type_send = 3 and trunc(n.CREATE_DATE) = trunc(sysdate) - 2\n         and s.stat_id = 4 and s.ZIPCODE_CUR = :p_zipcode_cur\n         and ((:p_index = 3 and p.NOTE_ID_FIRST is not null)\n         or (:p_index = 4 and p.NOTE_ID_LAST is not NULL));\n</code></pre>\n<p>Error is:</p>\n<pre><code>[2022-11-30 16:02:16,015] ERROR [220051/Compit] AdfDBTransactionUtil:174 - execute query FAILED:\n;\nparams: [220051]\n[2022-11-30 16:02:16,016] ERROR [220051/Compit] ExceptionManager:92 - getDocSubjects failed\njava.sql.SQLException: Missing IN or OUT parameter at index:: 2\n    at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2139)\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655264667,"post_id":72624246,"comment_id":128288817,"body_markdown":"What do you mean &quot;dont know how&quot;? That is what `m` should be doing on that line... Are you sure that is the actual line causing the problem? But why not just set the two `default..serde` properties to use GenericAvroSerde?","body":"What do you mean &quot;dont know how&quot;? That is what <code>m</code> should be doing on that line... Are you sure that is the actual line causing the problem? But why not just set the two <code>default..serde</code> properties to use GenericAvroSerde?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655265215,"creation_date":1655264856,"answer_id":72625700,"question_id":72624246,"body_markdown":"The error is here \r\n\r\n    .toStream().map((k,v) -&gt; KeyValue.pair(k.key(), v) );\r\n\r\nYou need to add `Produced.with` as a `map` argument to use the respective Avro types that you&#39;re mapping into, otherwise it defaults to bytes, as you set in the properties. \r\n\r\nAlso, I&#39;d recommend sticking with string keys for the data (what you start consuming as), even if that means you concatenate the `UserKey` id + name fields. This will make it easier to search for the data in the state store later. ","title":"org.apache.kafka.streams.errors.StreamsException: A serializer (key: BytesSerializer / value: BytesSerializer) is not compatible to the actual key","body":"<p>The error is here</p>\n<pre><code>.toStream().map((k,v) -&gt; KeyValue.pair(k.key(), v) );\n</code></pre>\n<p>You need to add <code>Produced.with</code> as a <code>map</code> argument to use the respective Avro types that you're mapping into, otherwise it defaults to bytes, as you set in the properties.</p>\n<p>Also, I'd recommend sticking with string keys for the data (what you start consuming as), even if that means you concatenate the <code>UserKey</code> id + name fields. This will make it easier to search for the data in the state store later.</p>\n"},{"tags":[],"owner":{"account_id":173657,"reputation":351,"user_id":402488,"display_name":"mjalil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669815126,"creation_date":1669814729,"answer_id":74628541,"question_id":72624246,"body_markdown":"The error is here\r\n\r\n`result.groupByKey()`\r\n\r\nYou need to write like here:\r\n\r\n```lang-java\r\n\r\nresult.groupByKey(Grouped.with(AvroSerdes.get(UserKey.class), AvroSerdes.get(UserOutput.class)));\r\n\r\n```\r\n\r\nThe API docs say :\r\n\r\n&gt; Group the records by their current key into a KGroupedStream while preserving the original values and **default serializers and deserializers**\r\n\r\nAs you set default serializer and deserializer to ByteSerializer. and the error message says that you should set the default Serdes or set it through parameters","title":"org.apache.kafka.streams.errors.StreamsException: A serializer (key: BytesSerializer / value: BytesSerializer) is not compatible to the actual key","body":"<p>The error is here</p>\n<p><code>result.groupByKey()</code></p>\n<p>You need to write like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nresult.groupByKey(Grouped.with(AvroSerdes.get(UserKey.class), AvroSerdes.get(UserOutput.class)));\n\n</code></pre>\n<p>The API docs say :</p>\n<blockquote>\n<p>Group the records by their current key into a KGroupedStream while preserving the original values and <strong>default serializers and deserializers</strong></p>\n</blockquote>\n<p>As you set default serializer and deserializer to ByteSerializer. and the error message says that you should set the default Serdes or set it through parameters</p>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72625700,"answer_count":2,"score":0,"last_activity_date":1669815126,"creation_date":1655247665,"question_id":72624246,"body_markdown":"I&#39;ve below three classes generated from avro schema -\r\n\r\n```\r\npublic class User extends SpecificRecordBase implements SpecificRecord {\r\n    public UserAttrs userAttrs;\r\n    public UserKey userKey;\r\n}\r\n\r\npublic class UserAttrs extends SpecificRecordBase implements SpecificRecord {\r\n    public Long clicks;\r\n    public Long purchases;\r\n    public Long views;\r\n}\r\n\r\npublic class UserKey extends SpecificRecordBase implements SpecificRecord {\r\n    public String id;\r\n    public String name;\r\n}\r\n```\r\nI&#39;ve below kafka streams code. Topology and running the code are in unit test class itself.\r\n\r\n```\r\nimport com.imds.streaming.rtb.serde.avro.AvroSerdes;\r\nimport com.myorg.User;\r\nimport com.myorg.UserAttrs;\r\nimport com.myorg.UserKey;\r\nimport com.myorg.UserOutput;\r\nimport org.apache.kafka.common.serialization.Serde;\r\nimport org.apache.kafka.common.serialization.Serdes;\r\nimport org.apache.kafka.streams.*;\r\nimport org.apache.kafka.streams.kstream.*;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport java.util.Properties;\r\nimport static java.util.Optional.ofNullable;\r\n\r\npublic class KafkaStreamsAggregateToStreamTest {\r\n\r\n    private static TopologyTestDriver testDriver;\r\n    private TestInputTopic&lt;String, User&gt; inputTopic;\r\n    private TestOutputTopic&lt;UserKey, UserOutput&gt; outputTopic;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        Topology topology = getUserOutputTopology();\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;application.id&quot;, &quot;dev-test-streaming-rtb-fact&quot;);\r\n        props.setProperty(&quot;default.key.serde&quot;, Serdes.Bytes().getClass().getName());\r\n        props.setProperty(&quot;default.value.serde&quot;, Serdes.Bytes().getClass().getName());\r\n        props.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n        testDriver = new TopologyTestDriver(topology, props);\r\n        inputTopic = testDriver.createInputTopic(&quot;impression-avro-stream&quot;, Serdes.String().serializer(), AvroSerdes.get(User.class).serializer());\r\n        outputTopic = testDriver.createOutputTopic(&quot;aggregated-rtb-facts-topic&quot;, AvroSerdes.get(UserKey.class).deserializer(), AvroSerdes.get(UserOutput.class).deserializer());\r\n    }\r\n\r\n\r\n    public static class UserAggregator implements Aggregator&lt;UserKey, User, UserOutput&gt;  {\r\n\r\n        @Override\r\n        public UserOutput apply(UserKey userKey, User user, UserOutput userOutput) {\r\n            if(userOutput == null) {\r\n                userOutput = new UserOutput();\r\n                userOutput.id = userKey.id;\r\n                userOutput.name = userKey.name;\r\n                userOutput.totalClicks = user.userAttrs.clicks;\r\n                userOutput.totalPurchases = user.userAttrs.purchases;\r\n                userOutput.totalViews = user.userAttrs.views;\r\n            } else {\r\n                userOutput.totalClicks = ofNullable(userOutput.totalClicks).orElse(0L) + ofNullable(user.userAttrs.clicks).orElse(0L);\r\n                userOutput.totalPurchases = ofNullable(userOutput.totalPurchases).orElse(0L) + ofNullable(user.userAttrs.purchases).orElse(0L);\r\n                userOutput.totalViews = ofNullable(userOutput.totalViews).orElse(0L) + ofNullable(user.userAttrs.views).orElse(0L);\r\n            }\r\n            return userOutput;\r\n        }\r\n    }\r\n\r\n    public static Topology getUserOutputTopology() {\r\n                StreamsBuilder builder = new StreamsBuilder();\r\n        Serde&lt;User&gt; valueSerde = AvroSerdes.get(User.class);\r\n        KStream&lt;String, User&gt; impStream = builder.stream(&quot;impression-avro-stream&quot;, Consumed.with(new Serdes.StringSerde(), valueSerde));\r\n        KGroupedStream&lt;UserKey, User&gt; groupedStream = impStream.groupBy( (k, v) -&gt; v.getUserKey(), Grouped.with( AvroSerdes.get(UserKey.class), AvroSerdes.get(User.class)));\r\n\r\n        KStream&lt;UserKey, UserOutput&gt; result = groupedStream\r\n           .windowedBy(TimeWindows.of(Duration.ofSeconds(60)))\r\n           .aggregate(() -&gt; new UserOutput(),  new UserOutputAggregator2(), Materialized.with(AvroSerdes.get(UserKey.class), AvroSerdes.get(UserOutput.class)))\r\n           .toStream().map((k,v) -&gt; KeyValue.pair(k.key(), v) );\r\n\r\n        Materialized m = Materialized.&lt;UserKey, UserOutput, KeyValueStore&lt;UserKey, UserOutput&gt;&gt;as(&quot;result&quot;)\r\n                .withKeySerde(AvroSerdes.get(UserKey.class))\r\n                .withValueSerde(AvroSerdes.get(UserOutput.class));\r\n        KTable&lt;UserKey, UserOutput&gt; result2 = result.groupByKey().reduce( new UserOutputReducer(), m);\r\n        return builder.build();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testRtbFacts() throws InterruptedException {\r\n        UserKey k1 = UserKey.newBuilder().setId(&quot;123&quot;).setName(&quot;raj&quot;).build();\r\n        User u1 = User.newBuilder().setUserKey(k1).setUserAttrs(UserAttrs.newBuilder().setClicks(5L).setViews(4L).setPurchases(1L).build()).build();\r\n        User u2 = User.newBuilder().setUserKey(k1).setUserAttrs(UserAttrs.newBuilder().setClicks(10L).setViews(5L).setPurchases(2L).build()).build();\r\n        inputTopic.pipeInput(k1.id, u1);\r\n        Thread.sleep(3 * 1000 * 60);\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    public void teardown() {\r\n        testDriver.close();\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting below error -\r\n\r\n```\r\norg.apache.kafka.streams.errors.StreamsException: ClassCastException while producing data to topic dev-test-streaming-rtb-fact-result-repartition. A serializer (key: org.apache.kafka.common.serialization.BytesSerializer / value: org.apache.kafka.common.serialization.BytesSerializer) is not compatible to the actual key or value type (key type: com.myorg.UserKey / value type: com.myorg.UserOutput). Change the default Serdes in StreamConfig or provide correct Serdes via method parameters (for example if using the DSL, `#to(String topic, Produced&lt;K, V&gt; produced)` with `Produced.keySerde(WindowedSerdes.timeWindowedSerdeFrom(String.class))`).\r\n&gt; \r\n&gt; \tat org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:162)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:139)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.SinkNode.process(SinkNode.java:85)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\r\n&gt; \tat org.apache.kafka.streams.kstream.internals.KStreamFilter$KStreamFilterProcessor.process(KStreamFilter.java:44)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\r\n&gt; \tat org.apache.kafka.streams.kstream.internals.KStreamMap$KStreamMapProcessor.process(KStreamMap.java:48)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\r\n&gt; \tat org.apache.kafka.streams.kstream.internals.KStreamMapValues$KStreamMapProcessor.process(KStreamMapValues.java:42)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\r\n&gt; \tat org.apache.kafka.streams.kstream.internals.TimestampedCacheFlushListener.apply(TimestampedCacheFlushListener.java:45)\r\n&gt; \tat org.apache.kafka.streams.state.internals.MeteredWindowStore.lambda$setFlushListener$4(MeteredWindowStore.java:197)\r\n&gt; \tat org.apache.kafka.streams.state.internals.CachingWindowStore.putAndMaybeForward(CachingWindowStore.java:130)\r\n&gt; \tat org.apache.kafka.streams.state.internals.CachingWindowStore.lambda$initInternal$0(CachingWindowStore.java:105)\r\n&gt; \tat org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:151)\r\n&gt; \tat org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:109)\r\n&gt; \tat org.apache.kafka.streams.state.internals.ThreadCache.flush(ThreadCache.java:136)\r\n&gt; \tat org.apache.kafka.streams.state.internals.CachingWindowStore.flushCache(CachingWindowStore.java:431)\r\n&gt; \tat org.apache.kafka.streams.state.internals.WrappedStateStore.flushCache(WrappedStateStore.java:76)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.ProcessorStateManager.flushCache(ProcessorStateManager.java:501)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.StreamTask.prepareCommit(StreamTask.java:402)\r\n&gt; \tat org.apache.kafka.streams.TopologyTestDriver.completeAllProcessableWork(TopologyTestDriver.java:601)\r\n&gt; \tat org.apache.kafka.streams.TopologyTestDriver.pipeRecord(TopologyTestDriver.java:556)\r\n&gt; \tat org.apache.kafka.streams.TopologyTestDriver.pipeRecord(TopologyTestDriver.java:845)\r\n&gt; \tat org.apache.kafka.streams.TestInputTopic.pipeInput(TestInputTopic.java:115)\r\n&gt; \tat org.apache.kafka.streams.TestInputTopic.pipeInput(TestInputTopic.java:137)\r\n&gt; \tat com.imds.streaming.rtb.KafkaStreamsAggregateToStreamTest.testRtbFacts(KafkaStreamsAggregateToStreamTest.java:128)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt; \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n&gt; \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n&gt; \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n&gt; \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n&gt; \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n&gt; \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n&gt; \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n&gt; \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n&gt; \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n&gt; \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n&gt; \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n&gt; \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n&gt; \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n&gt; \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n&gt; \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n&gt; \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n&gt; \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n&gt; \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n&gt; \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n&gt; \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n&gt; \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n&gt; \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n&gt; \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n&gt; \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n&gt; \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n&gt; \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n&gt; \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n&gt; \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n&gt; \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n&gt; \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n&gt; \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n&gt; \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n&gt; \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n&gt; Caused by: java.lang.ClassCastException: class com.myorg.UserKey cannot be cast to class org.apache.kafka.common.utils.Bytes (com.myorg.UserKey and org.apache.kafka.common.utils.Bytes are in unnamed module of loader &#39;app&#39;)\r\n&gt; \tat org.apache.kafka.common.serialization.BytesSerializer.serialize(BytesSerializer.java:21)\r\n&gt; \tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\r\n&gt; \tat org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:156)\r\n&gt; \t... 106 more\r\n```\r\n\r\nThe below code is giving the above error -\r\n\r\n```\r\n KTable&lt;UserKey, UserOutput&gt; result2 = result.groupByKey().reduce( new UserOutputReducer(), m);\r\n\r\n```\r\n\r\nI don&#39;t know how to provide the serializer and deserializer in the aggregation. Any idea how to resolve this error.","title":"org.apache.kafka.streams.errors.StreamsException: A serializer (key: BytesSerializer / value: BytesSerializer) is not compatible to the actual key","body":"<p>I've below three classes generated from avro schema -</p>\n<pre><code>public class User extends SpecificRecordBase implements SpecificRecord {\n    public UserAttrs userAttrs;\n    public UserKey userKey;\n}\n\npublic class UserAttrs extends SpecificRecordBase implements SpecificRecord {\n    public Long clicks;\n    public Long purchases;\n    public Long views;\n}\n\npublic class UserKey extends SpecificRecordBase implements SpecificRecord {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>I've below kafka streams code. Topology and running the code are in unit test class itself.</p>\n<pre><code>import com.imds.streaming.rtb.serde.avro.AvroSerdes;\nimport com.myorg.User;\nimport com.myorg.UserAttrs;\nimport com.myorg.UserKey;\nimport com.myorg.UserOutput;\nimport org.apache.kafka.common.serialization.Serde;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.*;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport java.util.Properties;\nimport static java.util.Optional.ofNullable;\n\npublic class KafkaStreamsAggregateToStreamTest {\n\n    private static TopologyTestDriver testDriver;\n    private TestInputTopic&lt;String, User&gt; inputTopic;\n    private TestOutputTopic&lt;UserKey, UserOutput&gt; outputTopic;\n\n    @BeforeEach\n    public void setup() {\n        Topology topology = getUserOutputTopology();\n        Properties props = new Properties();\n        props.setProperty(&quot;application.id&quot;, &quot;dev-test-streaming-rtb-fact&quot;);\n        props.setProperty(&quot;default.key.serde&quot;, Serdes.Bytes().getClass().getName());\n        props.setProperty(&quot;default.value.serde&quot;, Serdes.Bytes().getClass().getName());\n        props.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n        testDriver = new TopologyTestDriver(topology, props);\n        inputTopic = testDriver.createInputTopic(&quot;impression-avro-stream&quot;, Serdes.String().serializer(), AvroSerdes.get(User.class).serializer());\n        outputTopic = testDriver.createOutputTopic(&quot;aggregated-rtb-facts-topic&quot;, AvroSerdes.get(UserKey.class).deserializer(), AvroSerdes.get(UserOutput.class).deserializer());\n    }\n\n\n    public static class UserAggregator implements Aggregator&lt;UserKey, User, UserOutput&gt;  {\n\n        @Override\n        public UserOutput apply(UserKey userKey, User user, UserOutput userOutput) {\n            if(userOutput == null) {\n                userOutput = new UserOutput();\n                userOutput.id = userKey.id;\n                userOutput.name = userKey.name;\n                userOutput.totalClicks = user.userAttrs.clicks;\n                userOutput.totalPurchases = user.userAttrs.purchases;\n                userOutput.totalViews = user.userAttrs.views;\n            } else {\n                userOutput.totalClicks = ofNullable(userOutput.totalClicks).orElse(0L) + ofNullable(user.userAttrs.clicks).orElse(0L);\n                userOutput.totalPurchases = ofNullable(userOutput.totalPurchases).orElse(0L) + ofNullable(user.userAttrs.purchases).orElse(0L);\n                userOutput.totalViews = ofNullable(userOutput.totalViews).orElse(0L) + ofNullable(user.userAttrs.views).orElse(0L);\n            }\n            return userOutput;\n        }\n    }\n\n    public static Topology getUserOutputTopology() {\n                StreamsBuilder builder = new StreamsBuilder();\n        Serde&lt;User&gt; valueSerde = AvroSerdes.get(User.class);\n        KStream&lt;String, User&gt; impStream = builder.stream(&quot;impression-avro-stream&quot;, Consumed.with(new Serdes.StringSerde(), valueSerde));\n        KGroupedStream&lt;UserKey, User&gt; groupedStream = impStream.groupBy( (k, v) -&gt; v.getUserKey(), Grouped.with( AvroSerdes.get(UserKey.class), AvroSerdes.get(User.class)));\n\n        KStream&lt;UserKey, UserOutput&gt; result = groupedStream\n           .windowedBy(TimeWindows.of(Duration.ofSeconds(60)))\n           .aggregate(() -&gt; new UserOutput(),  new UserOutputAggregator2(), Materialized.with(AvroSerdes.get(UserKey.class), AvroSerdes.get(UserOutput.class)))\n           .toStream().map((k,v) -&gt; KeyValue.pair(k.key(), v) );\n\n        Materialized m = Materialized.&lt;UserKey, UserOutput, KeyValueStore&lt;UserKey, UserOutput&gt;&gt;as(&quot;result&quot;)\n                .withKeySerde(AvroSerdes.get(UserKey.class))\n                .withValueSerde(AvroSerdes.get(UserOutput.class));\n        KTable&lt;UserKey, UserOutput&gt; result2 = result.groupByKey().reduce( new UserOutputReducer(), m);\n        return builder.build();\n    }\n\n\n    @Test\n    public void testRtbFacts() throws InterruptedException {\n        UserKey k1 = UserKey.newBuilder().setId(&quot;123&quot;).setName(&quot;raj&quot;).build();\n        User u1 = User.newBuilder().setUserKey(k1).setUserAttrs(UserAttrs.newBuilder().setClicks(5L).setViews(4L).setPurchases(1L).build()).build();\n        User u2 = User.newBuilder().setUserKey(k1).setUserAttrs(UserAttrs.newBuilder().setClicks(10L).setViews(5L).setPurchases(2L).build()).build();\n        inputTopic.pipeInput(k1.id, u1);\n        Thread.sleep(3 * 1000 * 60);\n\n    }\n\n    @AfterEach\n    public void teardown() {\n        testDriver.close();\n    }\n}\n</code></pre>\n<p>I'm getting below error -</p>\n<pre><code>org.apache.kafka.streams.errors.StreamsException: ClassCastException while producing data to topic dev-test-streaming-rtb-fact-result-repartition. A serializer (key: org.apache.kafka.common.serialization.BytesSerializer / value: org.apache.kafka.common.serialization.BytesSerializer) is not compatible to the actual key or value type (key type: com.myorg.UserKey / value type: com.myorg.UserOutput). Change the default Serdes in StreamConfig or provide correct Serdes via method parameters (for example if using the DSL, `#to(String topic, Produced&lt;K, V&gt; produced)` with `Produced.keySerde(WindowedSerdes.timeWindowedSerdeFrom(String.class))`).\n&gt; \n&gt;   at org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:162)\n&gt;   at org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:139)\n&gt;   at org.apache.kafka.streams.processor.internals.SinkNode.process(SinkNode.java:85)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\n&gt;   at org.apache.kafka.streams.kstream.internals.KStreamFilter$KStreamFilterProcessor.process(KStreamFilter.java:44)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\n&gt;   at org.apache.kafka.streams.kstream.internals.KStreamMap$KStreamMapProcessor.process(KStreamMap.java:48)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\n&gt;   at org.apache.kafka.streams.kstream.internals.KStreamMapValues$KStreamMapProcessor.process(KStreamMapValues.java:42)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:146)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forwardInternal(ProcessorContextImpl.java:275)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:254)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:213)\n&gt;   at org.apache.kafka.streams.kstream.internals.TimestampedCacheFlushListener.apply(TimestampedCacheFlushListener.java:45)\n&gt;   at org.apache.kafka.streams.state.internals.MeteredWindowStore.lambda$setFlushListener$4(MeteredWindowStore.java:197)\n&gt;   at org.apache.kafka.streams.state.internals.CachingWindowStore.putAndMaybeForward(CachingWindowStore.java:130)\n&gt;   at org.apache.kafka.streams.state.internals.CachingWindowStore.lambda$initInternal$0(CachingWindowStore.java:105)\n&gt;   at org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:151)\n&gt;   at org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:109)\n&gt;   at org.apache.kafka.streams.state.internals.ThreadCache.flush(ThreadCache.java:136)\n&gt;   at org.apache.kafka.streams.state.internals.CachingWindowStore.flushCache(CachingWindowStore.java:431)\n&gt;   at org.apache.kafka.streams.state.internals.WrappedStateStore.flushCache(WrappedStateStore.java:76)\n&gt;   at org.apache.kafka.streams.processor.internals.ProcessorStateManager.flushCache(ProcessorStateManager.java:501)\n&gt;   at org.apache.kafka.streams.processor.internals.StreamTask.prepareCommit(StreamTask.java:402)\n&gt;   at org.apache.kafka.streams.TopologyTestDriver.completeAllProcessableWork(TopologyTestDriver.java:601)\n&gt;   at org.apache.kafka.streams.TopologyTestDriver.pipeRecord(TopologyTestDriver.java:556)\n&gt;   at org.apache.kafka.streams.TopologyTestDriver.pipeRecord(TopologyTestDriver.java:845)\n&gt;   at org.apache.kafka.streams.TestInputTopic.pipeInput(TestInputTopic.java:115)\n&gt;   at org.apache.kafka.streams.TestInputTopic.pipeInput(TestInputTopic.java:137)\n&gt;   at com.imds.streaming.rtb.KafkaStreamsAggregateToStreamTest.testRtbFacts(KafkaStreamsAggregateToStreamTest.java:128)\n&gt;   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt;   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n&gt;   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;   at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n&gt;   at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n&gt;   at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n&gt;   at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n&gt;   at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n&gt;   at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n&gt;   at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n&gt;   at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n&gt;   at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n&gt;   at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n&gt;   at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n&gt;   at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n&gt;   at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n&gt;   at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n&gt;   at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n&gt;   at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n&gt;   at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n&gt;   at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n&gt;   at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n&gt;   at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n&gt;   at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n&gt;   at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n&gt;   at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n&gt;   at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n&gt;   at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n&gt;   at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n&gt;   at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n&gt;   at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n&gt;   at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n&gt;   at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n&gt;   at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n&gt;   at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n&gt;   at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n&gt;   at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n&gt;   at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n&gt;   at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n&gt;   at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n&gt;   at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n&gt;   at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n&gt;   at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n&gt;   at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n&gt;   at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n&gt;   at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n&gt;   at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n&gt;   at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n&gt; Caused by: java.lang.ClassCastException: class com.myorg.UserKey cannot be cast to class org.apache.kafka.common.utils.Bytes (com.myorg.UserKey and org.apache.kafka.common.utils.Bytes are in unnamed module of loader 'app')\n&gt;   at org.apache.kafka.common.serialization.BytesSerializer.serialize(BytesSerializer.java:21)\n&gt;   at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\n&gt;   at org.apache.kafka.streams.processor.internals.RecordCollectorImpl.send(RecordCollectorImpl.java:156)\n&gt;   ... 106 more\n</code></pre>\n<p>The below code is giving the above error -</p>\n<pre><code> KTable&lt;UserKey, UserOutput&gt; result2 = result.groupByKey().reduce( new UserOutputReducer(), m);\n\n</code></pre>\n<p>I don't know how to provide the serializer and deserializer in the aggregation. Any idea how to resolve this error.</p>\n"},{"tags":["java","loops","sockets","object","server"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669813772,"creation_date":1669750267,"answer_id":74619325,"question_id":74618206,"body_markdown":"What jumps to my attention:\r\n\r\n`Server.java`\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    ...\r\n    sc.nextLine();\r\n\r\nIs it possible that your server is waiting for a keypress on stdin rather than on the network socket?","title":"Why a for loop stops at 2nd iteration reading an UTF coming from the client?","body":"<p>What jumps to my attention:</p>\n<p><code>Server.java</code></p>\n<pre><code>Scanner sc = new Scanner(System.in);\n...\nsc.nextLine();\n</code></pre>\n<p>Is it possible that your server is waiting for a keypress on stdin rather than on the network socket?</p>\n"}],"owner":{"account_id":27077032,"reputation":1,"user_id":20626771,"display_name":"Louis98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669813772,"creation_date":1669744043,"question_id":74618206,"body_markdown":"im trying the following: im doing a Server-Client message exchange. Im asking to the client the number of tasks he wants to perform and asking for a description and status of the task in the first for loop, and later create a object from the class i&#39;ve created, and put it inside the ArrayList. When it comes the second iteration the console hangs and never asks for the third or any number of iteration that is further from the 2nd one. Then i guess that the same problem is happening in the status... That is the code i&#39;ve writed for the excercise, sorry if is for someone a silly question, im new and im trying to learn. Thank you very much\r\n\r\n`Server.java`\r\n\r\n\r\n```\r\npackage server;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Server {\r\n\r\n\tprivate final int Port = 9876;\r\n\tprivate ServerSocket serverSocket;\r\n\tprivate Socket socket;\r\n        ArrayList&lt;Tarea&gt; tarea = new ArrayList&lt;Tarea&gt;();\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\tpublic Server() throws IOException {\r\n\t\tserverSocket = new ServerSocket(Port);\r\n\t\tsocket = new Socket();\r\n\t}\r\n\r\n\tpublic void iniciarServidor() throws IOException {\r\n\t\t\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Esperando al cliente&quot;);\r\n\t\t\tsocket = serverSocket.accept();\r\n\r\n\t\t\tSystem.out.println(&quot;El cliente se ha conectado&quot;);\r\n\t\t\tDataOutputStream input = new DataOutputStream(socket.getOutputStream());\r\n\t\t\tDataInputStream output = new DataInputStream(socket.getInputStream());\r\n\r\n\t\t\tinput.writeUTF(&quot;Introduzca el nombre del cliente: &quot;);\r\n\t\t\tString nombre = output.readUTF();\r\n\t\t\tSystem.out.println(&quot;Nombre cliente: &quot; + nombre);\r\n\r\n\t\t\tString descripcion = &quot;&quot;;\r\n                        boolean estado;\r\n                        \r\n\t\t\tTarea t = new Tarea();\r\n\t\t\t\tinput.writeUTF(&quot;Muy buenas &quot; + nombre\r\n\t\t\t\t\t\t+ &quot; especifique numero de tareas:&quot;);\r\n                                int numeroTareas = output.readInt();\r\n                                \r\n                                for(int i = 0;i&lt;numeroTareas;i++){                                                        \r\n                                   \r\n                                    input.writeUTF(&quot;Especifique descripcion para la tarea &quot;+i+&quot; :&quot;);\r\n                                    descripcion = output.readUTF();\r\n                                    input.writeUTF(&quot;Especifique el estado &#39;true o false&#39; para la tarea &quot;+i+&quot; :&quot;);\r\n                                    estado = output.readBoolean();\r\n                                    \r\n                                    t = new Tarea(descripcion,estado);  \r\n                                    tarea.add(t);\r\n                                    \r\n                                }\r\n                                \r\n                                sc.nextLine();\r\n                                \r\n                        \r\n                                input.writeUTF(&quot;El servidor va a enviar todas las tareas&quot;);\r\n                                \r\n                                for(int i = 0;i&lt;tarea.size();i++){\r\n                                    input.writeUTF(&quot;Numero tarea: &quot;+i);\r\n                                    input.writeUTF(&quot;Descripcion: &quot;+tarea.get(i).getDescripcion());\r\n                                    input.writeUTF(&quot;Estado: &quot;+tarea.get(i).isEstado());\r\n                                }\r\n                                \t\t\t\r\n\t\t\r\n\r\n\t\t\tsocket.close();\r\n\t\t\tSystem.out.println(&quot;Cliente desconectado&quot;);\r\n\t\t\toutput.close();\r\n\t\t\tinput.close();\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n`Client.java`\r\n\r\n\r\n```\r\npackage client;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport server.Tarea;\r\n\r\n\r\npublic class Client {\r\n\r\n    private final String Host = &quot;localhost&quot;;\r\n    private final int Port = 9876;\r\n    private final Socket socket;\r\n    ArrayList&lt;Tarea&gt; tarea = new ArrayList&lt;Tarea&gt;();\r\n\r\n\r\n    public Client() throws IOException {\r\n        socket = new Socket(Host, Port);\r\n    }\r\n\r\n    public void iniciarCliente() throws IOException {\r\n        \r\n        String descripcion;\r\n        boolean estado;\r\n        \r\n\r\n        DataInputStream input = new DataInputStream(socket.getInputStream());\r\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        //Servidor solicita nombre usuario\r\n        System.out.println(input.readUTF());\r\n        output.writeUTF(sc.nextLine());\r\n        //Numero de tareas a realizar\r\n        System.out.println(input.readUTF());\r\n        output.writeInt(sc.nextInt());\r\n        sc.nextLine();\r\n        //Servidor solicita descripcion tarea\r\n        System.out.println(input.readUTF());\r\n        descripcion = sc.next();\r\n        output.writeUTF(descripcion);\r\n        //Servidor solicita estado de tarea\r\n        System.out.println(input.readUTF());\r\n        estado = sc.nextBoolean();\r\n        output.writeBoolean(estado);\r\n        //Servidor confirma que va a enviar las tareas\r\n        System.out.println(input.readUTF());\r\n        //Servidor envia todas las tareas;\r\n        System.out.println(input.readUTF());\r\n        System.out.println(input.readUTF());\r\n        System.out.println(input.readUTF());\r\n        \r\n\r\n\r\n        socket.close();\r\n        input.close();\r\n        output.close();\r\n        System.out.println(&quot;Fin, Desconectado del servidor&quot;);\r\n        sc.close();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n`Tarea.java`\r\n\r\n\r\n```\r\npackage server;\r\n\r\nimport java.util.ArrayList;\r\n\r\n/**\r\n *\r\n * @author Lluis\r\n */\r\npublic class Tarea {\r\n    \r\n    private String descripcion;\r\n    private boolean estado;\r\n    \r\n    \r\n    public Tarea(){\r\n        \r\n    }\r\n    \r\n    public Tarea(String descripcion, boolean estado){\r\n        this.descripcion = descripcion;\r\n        this.estado = estado;\r\n    }\r\n\t\r\n\tpublic String mandarDesc(ArrayList&lt;Tarea&gt; tarea) {\r\n\t\t\r\n\t\tfor(int i=0; i&lt;tarea.size(); i++) {\r\n\t\t\tsetDescripcion(tarea.get(i).getDescripcion());\r\n\t\t}\r\n\t\t\r\n\t\treturn getDescripcion();\r\n\t}\r\n\t\r\n\tpublic boolean mandarEstado(ArrayList&lt;Tarea&gt; tarea) {\r\n\t\t\r\n\t\tfor(int i=0; i&lt;tarea.size(); i++) {\r\n\t\t\tsetEstado(tarea.get(i).isEstado());\r\n\t\t}\r\n\t\t\r\n\t\treturn isEstado();\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn getDescripcion()+ &quot; Estado: /n &quot; + isEstado();\r\n\t}\r\n\r\n    /**\r\n     * @return the descripcion\r\n     */\r\n    public String getDescripcion() {\r\n        return descripcion;\r\n    }\r\n\r\n    /**\r\n     * @param descripcion the descripcion to set\r\n     */\r\n    public void setDescripcion(String descripcion) {\r\n        this.descripcion = descripcion;\r\n    }\r\n\r\n    /**\r\n     * @return the estado\r\n     */\r\n    public boolean isEstado() {\r\n        return estado;\r\n    }\r\n\r\n    /**\r\n     * @param estado the estado to set\r\n     */\r\n    public void setEstado(boolean estado) {\r\n        this.estado = estado;\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Why a for loop stops at 2nd iteration reading an UTF coming from the client?","body":"<p>im trying the following: im doing a Server-Client message exchange. Im asking to the client the number of tasks he wants to perform and asking for a description and status of the task in the first for loop, and later create a object from the class i've created, and put it inside the ArrayList. When it comes the second iteration the console hangs and never asks for the third or any number of iteration that is further from the 2nd one. Then i guess that the same problem is happening in the status... That is the code i've writed for the excercise, sorry if is for someone a silly question, im new and im trying to learn. Thank you very much</p>\n<p><code>Server.java</code></p>\n<pre><code>package server;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Server {\n\n    private final int Port = 9876;\n    private ServerSocket serverSocket;\n    private Socket socket;\n        ArrayList&lt;Tarea&gt; tarea = new ArrayList&lt;Tarea&gt;();\n        Scanner sc = new Scanner(System.in);\n\n    public Server() throws IOException {\n        serverSocket = new ServerSocket(Port);\n        socket = new Socket();\n    }\n\n    public void iniciarServidor() throws IOException {\n        \n        while (true) {\n            System.out.println(&quot;Esperando al cliente&quot;);\n            socket = serverSocket.accept();\n\n            System.out.println(&quot;El cliente se ha conectado&quot;);\n            DataOutputStream input = new DataOutputStream(socket.getOutputStream());\n            DataInputStream output = new DataInputStream(socket.getInputStream());\n\n            input.writeUTF(&quot;Introduzca el nombre del cliente: &quot;);\n            String nombre = output.readUTF();\n            System.out.println(&quot;Nombre cliente: &quot; + nombre);\n\n            String descripcion = &quot;&quot;;\n                        boolean estado;\n                        \n            Tarea t = new Tarea();\n                input.writeUTF(&quot;Muy buenas &quot; + nombre\n                        + &quot; especifique numero de tareas:&quot;);\n                                int numeroTareas = output.readInt();\n                                \n                                for(int i = 0;i&lt;numeroTareas;i++){                                                        \n                                   \n                                    input.writeUTF(&quot;Especifique descripcion para la tarea &quot;+i+&quot; :&quot;);\n                                    descripcion = output.readUTF();\n                                    input.writeUTF(&quot;Especifique el estado 'true o false' para la tarea &quot;+i+&quot; :&quot;);\n                                    estado = output.readBoolean();\n                                    \n                                    t = new Tarea(descripcion,estado);  \n                                    tarea.add(t);\n                                    \n                                }\n                                \n                                sc.nextLine();\n                                \n                        \n                                input.writeUTF(&quot;El servidor va a enviar todas las tareas&quot;);\n                                \n                                for(int i = 0;i&lt;tarea.size();i++){\n                                    input.writeUTF(&quot;Numero tarea: &quot;+i);\n                                    input.writeUTF(&quot;Descripcion: &quot;+tarea.get(i).getDescripcion());\n                                    input.writeUTF(&quot;Estado: &quot;+tarea.get(i).isEstado());\n                                }\n                                            \n        \n\n            socket.close();\n            System.out.println(&quot;Cliente desconectado&quot;);\n            output.close();\n            input.close();\n        }\n    }\n    \n}\n</code></pre>\n<p><code>Client.java</code></p>\n<pre><code>package client;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport server.Tarea;\n\n\npublic class Client {\n\n    private final String Host = &quot;localhost&quot;;\n    private final int Port = 9876;\n    private final Socket socket;\n    ArrayList&lt;Tarea&gt; tarea = new ArrayList&lt;Tarea&gt;();\n\n\n    public Client() throws IOException {\n        socket = new Socket(Host, Port);\n    }\n\n    public void iniciarCliente() throws IOException {\n        \n        String descripcion;\n        boolean estado;\n        \n\n        DataInputStream input = new DataInputStream(socket.getInputStream());\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n        Scanner sc = new Scanner(System.in);\n        //Servidor solicita nombre usuario\n        System.out.println(input.readUTF());\n        output.writeUTF(sc.nextLine());\n        //Numero de tareas a realizar\n        System.out.println(input.readUTF());\n        output.writeInt(sc.nextInt());\n        sc.nextLine();\n        //Servidor solicita descripcion tarea\n        System.out.println(input.readUTF());\n        descripcion = sc.next();\n        output.writeUTF(descripcion);\n        //Servidor solicita estado de tarea\n        System.out.println(input.readUTF());\n        estado = sc.nextBoolean();\n        output.writeBoolean(estado);\n        //Servidor confirma que va a enviar las tareas\n        System.out.println(input.readUTF());\n        //Servidor envia todas las tareas;\n        System.out.println(input.readUTF());\n        System.out.println(input.readUTF());\n        System.out.println(input.readUTF());\n        \n\n\n        socket.close();\n        input.close();\n        output.close();\n        System.out.println(&quot;Fin, Desconectado del servidor&quot;);\n        sc.close();\n\n    }\n\n\n}\n</code></pre>\n<p><code>Tarea.java</code></p>\n<pre><code>package server;\n\nimport java.util.ArrayList;\n\n/**\n *\n * @author Lluis\n */\npublic class Tarea {\n    \n    private String descripcion;\n    private boolean estado;\n    \n    \n    public Tarea(){\n        \n    }\n    \n    public Tarea(String descripcion, boolean estado){\n        this.descripcion = descripcion;\n        this.estado = estado;\n    }\n    \n    public String mandarDesc(ArrayList&lt;Tarea&gt; tarea) {\n        \n        for(int i=0; i&lt;tarea.size(); i++) {\n            setDescripcion(tarea.get(i).getDescripcion());\n        }\n        \n        return getDescripcion();\n    }\n    \n    public boolean mandarEstado(ArrayList&lt;Tarea&gt; tarea) {\n        \n        for(int i=0; i&lt;tarea.size(); i++) {\n            setEstado(tarea.get(i).isEstado());\n        }\n        \n        return isEstado();\n    }\n    \n    public String toString() {\n        return getDescripcion()+ &quot; Estado: /n &quot; + isEstado();\n    }\n\n    /**\n     * @return the descripcion\n     */\n    public String getDescripcion() {\n        return descripcion;\n    }\n\n    /**\n     * @param descripcion the descripcion to set\n     */\n    public void setDescripcion(String descripcion) {\n        this.descripcion = descripcion;\n    }\n\n    /**\n     * @return the estado\n     */\n    public boolean isEstado() {\n        return estado;\n    }\n\n    /**\n     * @param estado the estado to set\n     */\n    public void setEstado(boolean estado) {\n        this.estado = estado;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","gradle","dependencies"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669813394,"post_id":74628110,"comment_id":131727698,"body_markdown":"How would you expect that to work? You can only have one version of Spring Boot on your classpath (or at least, if there are multiple, the classloader will load referenced classes from the first version it finds). Given the big changes in Spring Boot 3.0, a dependency for Spring Boot 2.7 will likely not just work. Jigsaw wouldn&#39;t help either, because that springdoc-openapi-ui would still need to interact with the Spring Boot 3.0 runtime, which wouldn&#39;t work if you could isolate the dependency with Jigsaw, because then they would be two distinct sets of classes.","body":"How would you expect that to work? You can only have one version of Spring Boot on your classpath (or at least, if there are multiple, the classloader will load referenced classes from the first version it finds). Given the big changes in Spring Boot 3.0, a dependency for Spring Boot 2.7 will likely not just work. Jigsaw wouldn&#39;t help either, because that springdoc-openapi-ui would still need to interact with the Spring Boot 3.0 runtime, which wouldn&#39;t work if you could isolate the dependency with Jigsaw, because then they would be two distinct sets of classes."}],"answers":[{"tags":[],"owner":{"account_id":22429349,"reputation":130,"user_id":16635445,"display_name":"evren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669813459,"creation_date":1669813459,"answer_id":74628266,"question_id":74628110,"body_markdown":"You need to mention the version of springdoc-openapi-ui that you want to use.\r\n\r\nYou can check the versions from [MvnRepository link][1] and how to add them via gradle.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui","title":"How downgrade version of subdependency in gradle","body":"<p>You need to mention the version of springdoc-openapi-ui that you want to use.</p>\n<p>You can check the versions from <a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui\" rel=\"nofollow noreferrer\">MvnRepository link</a> and how to add them via gradle.</p>\n"}],"owner":{"account_id":2469043,"reputation":217,"user_id":2151409,"accept_rate":75,"display_name":"aleksandr-chermashentsev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669813459,"creation_date":1669812793,"question_id":74628110,"body_markdown":"I have a config in build.gradle:\r\n\r\n```\r\nimplementation(&#39;org.springframework.boot:3.0.0&#39;)\r\nimplementation(&#39;org.springdoc:springdoc-openapi-ui&#39;) //depends on org.springframework.boot:2.7.5 \r\n```\r\n\r\nIs there any way to use spring-boot 3.0.0 dependency in my project but spring-boot 2.7.5 as a dependency for springdoc-openapi-ui?\r\n\r\nI feel that project Jigsaw could help me to separate scopes of such dependencies, but would be grateful for more specific lead.","title":"How downgrade version of subdependency in gradle","body":"<p>I have a config in build.gradle:</p>\n<pre><code>implementation('org.springframework.boot:3.0.0')\nimplementation('org.springdoc:springdoc-openapi-ui') //depends on org.springframework.boot:2.7.5 \n</code></pre>\n<p>Is there any way to use spring-boot 3.0.0 dependency in my project but spring-boot 2.7.5 as a dependency for springdoc-openapi-ui?</p>\n<p>I feel that project Jigsaw could help me to separate scopes of such dependencies, but would be grateful for more specific lead.</p>\n"},{"tags":["java","mysql","batch-file","deployment","export"],"comments":[{"owner":{"account_id":6576447,"reputation":857,"user_id":5082301,"display_name":"Saud"},"score":0,"creation_date":1614407479,"post_id":66396209,"comment_id":117381165,"body_markdown":"Can you tell me where are you trying to run your .jar file? Means if it is the same computer where it&#39;s developed?","body":"Can you tell me where are you trying to run your .jar file? Means if it is the same computer where it&#39;s developed?"},{"owner":{"account_id":20172818,"reputation":35,"user_id":14795252,"display_name":"xxx"},"score":0,"creation_date":1614407773,"post_id":66396209,"comment_id":117381221,"body_markdown":"im sorry i don&#39;t quite get what you mean, I just double click the .bat file (the .jar is inside of it) and then program is running through command prompt","body":"im sorry i don&#39;t quite get what you mean, I just double click the .bat file (the .jar is inside of it) and then program is running through command prompt"},{"owner":{"account_id":20671336,"reputation":987,"user_id":15177026,"display_name":"Sorin"},"score":0,"creation_date":1614408454,"post_id":66396209,"comment_id":117381329,"body_markdown":"Did you link the library containing the Database Driver com.mysql.cj.jdbc.Driver? You may have not included it in your jar.","body":"Did you link the library containing the Database Driver com.mysql.cj.jdbc.Driver? You may have not included it in your jar."},{"owner":{"account_id":6576447,"reputation":857,"user_id":5082301,"display_name":"Saud"},"score":0,"creation_date":1614408702,"post_id":66396209,"comment_id":117381360,"body_markdown":"@xxx Ok. The error you&#39;re getting means your MySQL connectivity library is not included. There might be a chance you&#39;re not including the above mentioned library with your final build.","body":"@xxx Ok. The error you&#39;re getting means your MySQL connectivity library is not included. There might be a chance you&#39;re not including the above mentioned library with your final build."},{"owner":{"account_id":20172818,"reputation":35,"user_id":14795252,"display_name":"xxx"},"score":0,"creation_date":1614408834,"post_id":66396209,"comment_id":117381384,"body_markdown":"in the the library? oh no, my library only contains mysql-connector.  Would you send me a reference guide, or tell me how to do that?","body":"in the the library? oh no, my library only contains mysql-connector.  Would you send me a reference guide, or tell me how to do that?"},{"owner":{"account_id":6576447,"reputation":857,"user_id":5082301,"display_name":"Saud"},"score":2,"creation_date":1614409283,"post_id":66396209,"comment_id":117381447,"body_markdown":"Kindly check [this answer](https://stackoverflow.com/a/53722642/5082301). Might be of some help to you!","body":"Kindly check <a href=\"https://stackoverflow.com/a/53722642/5082301\">this answer</a>. Might be of some help to you!"}],"owner":{"account_id":20172818,"reputation":35,"user_id":14795252,"display_name":"xxx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669813500,"answer_count":0,"score":0,"last_activity_date":1669813337,"creation_date":1614407310,"question_id":66396209,"body_markdown":"I completed my very first project and i export it to a jar file. After that i made a text document and convert it into a bat file \r\n\r\n\r\nInside of the text document i put this \r\n\r\n    java -jar MyProject.jar\r\n    \r\n    pause\r\n\r\nbut after executing the bat file i encountered an error \r\n\r\n&gt; java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n\r\n So im currently stuck in the Login page. I feel like im missing something, what is it?\r\n\r\nMy program is running fine in my Eclipse IDE and its connected to the database successfully, but when i click the .bat file of my project it gives me an error why?, i can&#39;t figure out what is wrong and missing\r\n\r\nim new to this please guide and help me\r\n\r\n","title":"How to export a java jar file with its database?","body":"<p>I completed my very first project and i export it to a jar file. After that i made a text document and convert it into a bat file</p>\n<p>Inside of the text document i put this</p>\n<pre><code>java -jar MyProject.jar\n\npause\n</code></pre>\n<p>but after executing the bat file i encountered an error</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<p>So im currently stuck in the Login page. I feel like im missing something, what is it?</p>\n<p>My program is running fine in my Eclipse IDE and its connected to the database successfully, but when i click the .bat file of my project it gives me an error why?, i can't figure out what is wrong and missing</p>\n<p>im new to this please guide and help me</p>\n"},{"tags":["java","intellij-idea","javafx","scenebuilder"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639027956,"post_id":70284791,"comment_id":124244896,"body_markdown":"When posting here, watch your formatting of code. Either indent *all* of it by four SPACE characters, or wrap in a pair of triple back-ticks. I fixed your code seen here.","body":"When posting here, watch your formatting of code. Either indent <i>all</i> of it by four SPACE characters, or wrap in a pair of triple back-ticks. I fixed your code seen here."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639028139,"post_id":70284791,"comment_id":124244925,"body_markdown":"That run-on sentence needs a rewrite.","body":"That run-on sentence needs a rewrite."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1639045639,"post_id":70284791,"comment_id":124250276,"body_markdown":"what&#39;s the problem _exactly_? Sounds like pure logic, basically unrelated to fx. Please provide a [mcve] demonstrating what you are after","body":"what&#39;s the problem <i>exactly</i>? Sounds like pure logic, basically unrelated to fx. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what you are after"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639085004,"creation_date":1639034145,"answer_id":70285978,"question_id":70284791,"body_markdown":"Here is a *similar* (deliberately not the same) example just using the console.  \r\n\r\nI leave it to you to create a GUI.\r\n\r\n*Hints*\r\n\r\n 1. Writing GUIs is not the same as writing console apps because GUIs are event-driven, so you need to get rid of some loops and act on events.\r\n 2. You can use ObservableLists to have list changes reflected in the UI.\r\n 3. When you remove something from an ObservableList, it will no longer be in the list, so if it is bound to something in the UI, it will no longer be there\r\n    * e.g. if it is a color selection list and a color is removed from it, the color will no longer be available for selection.\r\n\r\n*Shuffle a list, then pick from the shuffled list*\r\n\r\nThis is the same idea as physically shuffling a deck of cards, then grabbing the cards in order from top to bottom.\r\n\r\nThe basic idea is that one way to solve this problem is to apply:\r\n\r\n * https://stackoverflow.com/questions/1519736/random-shuffling-of-an-array\r\n\r\nYou could also study:\r\n\r\n * https://stackoverflow.com/questions/196017/unique-non-repeating-random-numbers-in-o1\r\n * https://en.wikipedia.org/wiki/Fisher–Yates_shuffle\r\n\r\nBut you don&#39;t need to write the shuffle algorithm yourself, you can just use the one already implemented in the java collection library.\r\n\r\n    Collections.shuffle(seatNumbers);\r\n\r\n*Example app*\r\n\r\nConsole app-based example.\r\n\r\nI&#39;m sure the example uses some concepts you aren&#39;t familiar with, and if you use them, you should understand them or do them a different way.  In particular:\r\n\r\n * Colors could be selected from a pre-defined array (like the names are) rather than using an interpolated generator.  \r\n * An array of seat numbers could be generated using a loop adding to a list rather than a stream adding to a collection in a lambda.\r\n\r\nTry running the sample application and look at the output to see what it did, then try to think about how you might apply similar concepts to your program.\r\n\r\n    import javafx.scene.paint.Color;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class MusicalDragons {\r\n    \r\n        public static final int NUM_ROUNDS = 3;\r\n    \r\n        public static void main(String[] args) {\r\n            MusicalDragons game = new MusicalDragons();\r\n    \r\n            for (int i = 0; i &lt; NUM_ROUNDS; i++) {\r\n                System.out.println(&quot;Round &quot; + (i+1));\r\n                System.out.println(&quot;=========&quot;);\r\n                game.play();\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        private final List&lt;String&gt; dragons;\r\n        private final List&lt;Color&gt; palette;\r\n        private final List&lt;Integer&gt; seatNumbers;\r\n    \r\n        private final int numSeats;\r\n    \r\n        public MusicalDragons() {\r\n            // generate a list of names.\r\n            dragons = Arrays.asList(\r\n                    &quot;Oyositatu (Old + Dragon)&quot;,\r\n                    &quot;Tamasipionosi (Soul + Master)&quot;,\r\n                    &quot;Timatam&#239; (Crossroad + Snake)&quot;,\r\n                    &quot;T&#244;miar&#244;zi (Wealth + Master)&quot;,\r\n                    &quot;Ararepemi (Hail + Snake)&quot;,\r\n                    &quot;Umasumera (Horse + Emperor)&quot;,\r\n                    &quot;Umitatu (Sea + Dragon)&quot;,\r\n                    &quot;Akitatu (Autumn + Dragon)&quot;,\r\n                    &quot;Tawayatatu (Weak + Dragon)&quot;,\r\n                    &quot;Amoritatu (Descend From Heaven + Dragon)&quot;\r\n            );\r\n    \r\n            numSeats = dragons.size() - 1;\r\n    \r\n            // generate a list of colors.\r\n            palette = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; numSeats; i++) {\r\n                palette.add(\r\n                        Color.RED.interpolate(\r\n                                Color.VIOLET, \r\n                                i * (1.0 / (numSeats - 1))\r\n                        )\r\n                );\r\n            }\r\n    \r\n            // generate a list of seat numbers.\r\n            seatNumbers =\r\n                    IntStream.range(0, numSeats)\r\n                            .boxed()\r\n                            .collect(\r\n                                    Collectors.toCollection(\r\n                                            ArrayList::new\r\n                                    )\r\n                            );\r\n        }\r\n    \r\n        private void play() {\r\n            // randomize the order of everything.\r\n            Collections.shuffle(palette);\r\n            Collections.shuffle(seatNumbers);\r\n            Collections.shuffle(dragons);\r\n    \r\n            // display the seat assignments.\r\n            for (int i = 0; i &lt; numSeats; i++) {\r\n                System.out.println(\r\n                        dragons.get(i) + &quot;\\n&quot; +\r\n                                &quot;  gets seat #&quot; + seatNumbers.get(i) + &quot;\\n&quot; +\r\n                                &quot;  colored &quot; + palette.get(i)\r\n                );\r\n            }\r\n    \r\n            // hmm, one dragon missed out . . .\r\n            System.out.println();\r\n            System.out.println(\r\n                    dragons.get(numSeats) + \r\n                            &quot; does not get a seat and is very angry.&quot;\r\n            );\r\n        }\r\n    }\r\n\r\n*Output*\r\n\r\n    Round 1\r\n    =========\r\n    Tawayatatu (Weak + Dragon)\r\n      gets seat #1\r\n      colored 0xf64884ff\r\n    Tamasipionosi (Soul + Master)\r\n      gets seat #4\r\n      colored 0xff0000ff\r\n    Oyositatu (Old + Dragon)\r\n      gets seat #7\r\n      colored 0xfd0e1aff\r\n    Ararepemi (Hail + Snake)\r\n      gets seat #0\r\n      colored 0xf074d4ff\r\n    Umasumera (Horse + Emperor)\r\n      gets seat #8\r\n      colored 0xfb1d35ff\r\n    Amoritatu (Descend From Heaven + Dragon)\r\n      gets seat #3\r\n      colored 0xf73a6aff\r\n    Timatam&#239; (Crossroad + Snake)\r\n      gets seat #2\r\n      colored 0xf4579fff\r\n    Umitatu (Sea + Dragon)\r\n      gets seat #5\r\n      colored 0xf265b9ff\r\n    T&#244;miar&#244;zi (Wealth + Master)\r\n      gets seat #6\r\n      colored 0xf92b4fff\r\n    \r\n    Akitatu (Autumn + Dragon) does not get a seat and is very angry.\r\n\r\n","title":"JavaFX Seating Arrangement App pick random seat that hasn&#39;t already been taken?","body":"<p>Here is a <em>similar</em> (deliberately not the same) example just using the console.</p>\n<p>I leave it to you to create a GUI.</p>\n<p><em>Hints</em></p>\n<ol>\n<li>Writing GUIs is not the same as writing console apps because GUIs are event-driven, so you need to get rid of some loops and act on events.</li>\n<li>You can use ObservableLists to have list changes reflected in the UI.</li>\n<li>When you remove something from an ObservableList, it will no longer be in the list, so if it is bound to something in the UI, it will no longer be there\n<ul>\n<li>e.g. if it is a color selection list and a color is removed from it, the color will no longer be available for selection.</li>\n</ul>\n</li>\n</ol>\n<p><em>Shuffle a list, then pick from the shuffled list</em></p>\n<p>This is the same idea as physically shuffling a deck of cards, then grabbing the cards in order from top to bottom.</p>\n<p>The basic idea is that one way to solve this problem is to apply:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1519736/random-shuffling-of-an-array\">Random shuffling of an array</a></li>\n</ul>\n<p>You could also study:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/196017/unique-non-repeating-random-numbers-in-o1\">Unique (non-repeating) random numbers in O(1)?</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Fisher–Yates_shuffle</a></li>\n</ul>\n<p>But you don't need to write the shuffle algorithm yourself, you can just use the one already implemented in the java collection library.</p>\n<pre><code>Collections.shuffle(seatNumbers);\n</code></pre>\n<p><em>Example app</em></p>\n<p>Console app-based example.</p>\n<p>I'm sure the example uses some concepts you aren't familiar with, and if you use them, you should understand them or do them a different way.  In particular:</p>\n<ul>\n<li>Colors could be selected from a pre-defined array (like the names are) rather than using an interpolated generator.</li>\n<li>An array of seat numbers could be generated using a loop adding to a list rather than a stream adding to a collection in a lambda.</li>\n</ul>\n<p>Try running the sample application and look at the output to see what it did, then try to think about how you might apply similar concepts to your program.</p>\n<pre><code>import javafx.scene.paint.Color;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class MusicalDragons {\n\n    public static final int NUM_ROUNDS = 3;\n\n    public static void main(String[] args) {\n        MusicalDragons game = new MusicalDragons();\n\n        for (int i = 0; i &lt; NUM_ROUNDS; i++) {\n            System.out.println(&quot;Round &quot; + (i+1));\n            System.out.println(&quot;=========&quot;);\n            game.play();\n            System.out.println();\n        }\n    }\n\n    private final List&lt;String&gt; dragons;\n    private final List&lt;Color&gt; palette;\n    private final List&lt;Integer&gt; seatNumbers;\n\n    private final int numSeats;\n\n    public MusicalDragons() {\n        // generate a list of names.\n        dragons = Arrays.asList(\n                &quot;Oyositatu (Old + Dragon)&quot;,\n                &quot;Tamasipionosi (Soul + Master)&quot;,\n                &quot;Timatamï (Crossroad + Snake)&quot;,\n                &quot;Tômiarôzi (Wealth + Master)&quot;,\n                &quot;Ararepemi (Hail + Snake)&quot;,\n                &quot;Umasumera (Horse + Emperor)&quot;,\n                &quot;Umitatu (Sea + Dragon)&quot;,\n                &quot;Akitatu (Autumn + Dragon)&quot;,\n                &quot;Tawayatatu (Weak + Dragon)&quot;,\n                &quot;Amoritatu (Descend From Heaven + Dragon)&quot;\n        );\n\n        numSeats = dragons.size() - 1;\n\n        // generate a list of colors.\n        palette = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numSeats; i++) {\n            palette.add(\n                    Color.RED.interpolate(\n                            Color.VIOLET, \n                            i * (1.0 / (numSeats - 1))\n                    )\n            );\n        }\n\n        // generate a list of seat numbers.\n        seatNumbers =\n                IntStream.range(0, numSeats)\n                        .boxed()\n                        .collect(\n                                Collectors.toCollection(\n                                        ArrayList::new\n                                )\n                        );\n    }\n\n    private void play() {\n        // randomize the order of everything.\n        Collections.shuffle(palette);\n        Collections.shuffle(seatNumbers);\n        Collections.shuffle(dragons);\n\n        // display the seat assignments.\n        for (int i = 0; i &lt; numSeats; i++) {\n            System.out.println(\n                    dragons.get(i) + &quot;\\n&quot; +\n                            &quot;  gets seat #&quot; + seatNumbers.get(i) + &quot;\\n&quot; +\n                            &quot;  colored &quot; + palette.get(i)\n            );\n        }\n\n        // hmm, one dragon missed out . . .\n        System.out.println();\n        System.out.println(\n                dragons.get(numSeats) + \n                        &quot; does not get a seat and is very angry.&quot;\n        );\n    }\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>Round 1\n=========\nTawayatatu (Weak + Dragon)\n  gets seat #1\n  colored 0xf64884ff\nTamasipionosi (Soul + Master)\n  gets seat #4\n  colored 0xff0000ff\nOyositatu (Old + Dragon)\n  gets seat #7\n  colored 0xfd0e1aff\nArarepemi (Hail + Snake)\n  gets seat #0\n  colored 0xf074d4ff\nUmasumera (Horse + Emperor)\n  gets seat #8\n  colored 0xfb1d35ff\nAmoritatu (Descend From Heaven + Dragon)\n  gets seat #3\n  colored 0xf73a6aff\nTimatamï (Crossroad + Snake)\n  gets seat #2\n  colored 0xf4579fff\nUmitatu (Sea + Dragon)\n  gets seat #5\n  colored 0xf265b9ff\nTômiarôzi (Wealth + Master)\n  gets seat #6\n  colored 0xf92b4fff\n\nAkitatu (Autumn + Dragon) does not get a seat and is very angry.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639034621,"creation_date":1639034621,"answer_id":70286056,"question_id":70284791,"body_markdown":"An interesting alternative to using the random function is to put all your choices in a `List` and then apply the `Collection` method [shuffle()][1]. Then, you can iterate through the list. This ensures that each option is chosen once and only once.\r\n\r\nI haven&#39;t looked closely enough at the code to tell if a switch/case construct would be a better choice, but that is always something to consider.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)","title":"JavaFX Seating Arrangement App pick random seat that hasn&#39;t already been taken?","body":"<p>An interesting alternative to using the random function is to put all your choices in a <code>List</code> and then apply the <code>Collection</code> method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">shuffle()</a>. Then, you can iterate through the list. This ensures that each option is chosen once and only once.</p>\n<p>I haven't looked closely enough at the code to tell if a switch/case construct would be a better choice, but that is always something to consider.</p>\n"}],"owner":{"account_id":23593184,"reputation":9,"user_id":17630649,"display_name":"ChipCity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669813228,"creation_date":1639024800,"question_id":70284791,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am creating a JavaFX Seating Arrangement APP \r\n\r\n\r\n    @FXML\r\n    void addStudentClicked(ActionEvent event) {\r\n\r\n        String str = studentname.getText();\r\n        Random random = new Random();\r\n        int randomInt = random.nextInt(9);\r\n        if(randomInt == 0){\r\n            if(str.isEmpty()){\r\n              errorLabel.setText(&quot;ERROR&quot;);\r\n            }\r\n            else{\r\n            studentname1.setText(studentname.getText());\r\n            student1.setFill(studentcolour.getValue());\r\n            }\r\n\r\n        }\r\n        else if(randomInt == 1){\r\n            if(str.isEmpty()){\r\n                errorLabel.setText(&quot;ERROR&quot;);\r\n            }\r\n\r\n\r\nThis is my code that so far will take the user input and apply it to a random seat, it continues with else if&#39;s for each seat is there a cleaner way for me to do this then with all the else if&#39;s and how can I check to see if the seat is already filled so I am not filling the same seat twice? \r\n\r\nAlso is there a way to check if the colour has already been taken? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3BX0F.png","title":"JavaFX Seating Arrangement App pick random seat that hasn&#39;t already been taken?","body":"<p><a href=\"https://i.stack.imgur.com/3BX0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BX0F.png\" alt=\"enter image description here\" /></a></p>\n<p>I am creating a JavaFX Seating Arrangement APP</p>\n<pre><code>@FXML\nvoid addStudentClicked(ActionEvent event) {\n\n    String str = studentname.getText();\n    Random random = new Random();\n    int randomInt = random.nextInt(9);\n    if(randomInt == 0){\n        if(str.isEmpty()){\n          errorLabel.setText(&quot;ERROR&quot;);\n        }\n        else{\n        studentname1.setText(studentname.getText());\n        student1.setFill(studentcolour.getValue());\n        }\n\n    }\n    else if(randomInt == 1){\n        if(str.isEmpty()){\n            errorLabel.setText(&quot;ERROR&quot;);\n        }\n</code></pre>\n<p>This is my code that so far will take the user input and apply it to a random seat, it continues with else if's for each seat is there a cleaner way for me to do this then with all the else if's and how can I check to see if the seat is already filled so I am not filling the same seat twice?</p>\n<p>Also is there a way to check if the colour has already been taken?</p>\n"},{"tags":["java","spring","spring-mvc","db2","repository"],"answers":[{"tags":[],"owner":{"account_id":23172661,"reputation":1,"user_id":17271662,"display_name":"wannabebetter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669813113,"creation_date":1669813113,"answer_id":74628188,"question_id":74627437,"body_markdown":"The answer is \r\n\r\n    TypedQuery&lt;ReportListDto&gt; query = entityManager.createQuery(cq.multiselect(fromFIMessage.get(&quot;reportingPeriod&quot;), cb.countDistinct(fromFIMessage.get(&quot;fiMessageId&quot;)), cb.count(fiAccount.get(&quot;fiAccountId&quot;)))\r\n    .where(conditions.toArray(new Predicate[] {})));","title":"Is it possible to include COUNT into multiselect using TypedQuery in java 7?","body":"<p>The answer is</p>\n<pre><code>TypedQuery&lt;ReportListDto&gt; query = entityManager.createQuery(cq.multiselect(fromFIMessage.get(&quot;reportingPeriod&quot;), cb.countDistinct(fromFIMessage.get(&quot;fiMessageId&quot;)), cb.count(fiAccount.get(&quot;fiAccountId&quot;)))\n.where(conditions.toArray(new Predicate[] {})));\n</code></pre>\n"}],"owner":{"account_id":23172661,"reputation":1,"user_id":17271662,"display_name":"wannabebetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74628188,"answer_count":1,"score":0,"last_activity_date":1669813113,"creation_date":1669809550,"question_id":74627437,"body_markdown":"SQL (that works in database):\r\n\r\n```\r\nSELECT ffm.REPORTING_PERIOD, count(DISTINCT ffm.FI_MESSAGE_ID), count(ffa.FI_ACCOUNT_ID) FROM RAZV.FINTAEOI2_FI_MESSAGE ffm\r\nJOIN razv.FINTAEOI2_FI_MESSAGE_FI ffmf ON ffm.FI_MESSAGE_ID = ffmf.FI_MESSAGE_ID\r\nJOIN razv.FINTAEOI2_FI_ACCOUNT ffa ON ffmf.FI_MESSAGE_FI_ID = ffa.FI_MESSAGE_FI_ID\r\nWHERE ffm.REPORTING_PERIOD = &#39;2020-12-31&#39;\r\nGROUP BY ffm.REPORTING_PERIOD\r\n```\r\n\r\nThere will be 6 possible WHERE statements so I decided to use TypedQuery to simplify conditions appending.\r\n\r\nProblem is; How can I include count into TypedQuery select and is it even possible? If not, what would be the best way except making multiple queries? If only way is multiple queries, how do I fill the dto?\r\n\r\n\r\n\r\nThis is my query where I should include count.\r\n\r\n```\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;ReportListDto&gt; cq = cb.createQuery(ReportListDto.class);\r\n        \r\n        Root&lt;FiMessage&gt; fromFIMessage = cq.from(FiMessage.class);\r\n        Join&lt;FiMessage, FiMessageFi&gt; fiMessageFi = fromFIMessage.join(&quot;fintaeoi2FiMessageFis&quot;,  JoinType.INNER);\r\n        Join&lt;FiMessageFi, FiAccount&gt; fiAccount = fiMessageFi.join(&quot;fintaeoi2FiAccounts&quot;, JoinType.INNER); \r\n \r\n        List&lt;Predicate&gt; conditions = new ArrayList&lt;Predicate&gt;();\r\n\r\n\r\n`**TypedQuery&lt;ReportListDto&gt; query = entityManager.createQuery(\r\ncq.multiselect(\r\nfromFIMessage.get(&quot;reportingPeriod&quot;), \r\nfromFIMessage.get(&quot;fiMessageId&quot;), \r\nfiAccount.get(&quot;fiAccountId&quot;))\r\n.where(conditions.toArray(new Predicate[] {})));**\r\n\r\nList&lt;ReportListDto&gt; result = query.getResultList();\r\n`\r\n\r\nresult of above is \r\n[results without count included](https://i.stack.imgur.com/MO7Zk.png)\r\n\r\nbut i need \r\n\r\n[result ash it should be with applying count in typedquery](https://i.stack.imgur.com/gqnC9.png)\r\n\r\nSo reporting period is fine and I need distinct count for messageId and count for accountId.\r\n\r\nThank you for your answers.\r\n\r\n","title":"Is it possible to include COUNT into multiselect using TypedQuery in java 7?","body":"<p>SQL (that works in database):</p>\n<pre><code>SELECT ffm.REPORTING_PERIOD, count(DISTINCT ffm.FI_MESSAGE_ID), count(ffa.FI_ACCOUNT_ID) FROM RAZV.FINTAEOI2_FI_MESSAGE ffm\nJOIN razv.FINTAEOI2_FI_MESSAGE_FI ffmf ON ffm.FI_MESSAGE_ID = ffmf.FI_MESSAGE_ID\nJOIN razv.FINTAEOI2_FI_ACCOUNT ffa ON ffmf.FI_MESSAGE_FI_ID = ffa.FI_MESSAGE_FI_ID\nWHERE ffm.REPORTING_PERIOD = '2020-12-31'\nGROUP BY ffm.REPORTING_PERIOD\n</code></pre>\n<p>There will be 6 possible WHERE statements so I decided to use TypedQuery to simplify conditions appending.</p>\n<p>Problem is; How can I include count into TypedQuery select and is it even possible? If not, what would be the best way except making multiple queries? If only way is multiple queries, how do I fill the dto?</p>\n<p>This is my query where I should include count.</p>\n<pre><code>        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;ReportListDto&gt; cq = cb.createQuery(ReportListDto.class);\n        \n        Root&lt;FiMessage&gt; fromFIMessage = cq.from(FiMessage.class);\n        Join&lt;FiMessage, FiMessageFi&gt; fiMessageFi = fromFIMessage.join(&quot;fintaeoi2FiMessageFis&quot;,  JoinType.INNER);\n        Join&lt;FiMessageFi, FiAccount&gt; fiAccount = fiMessageFi.join(&quot;fintaeoi2FiAccounts&quot;, JoinType.INNER); \n \n        List&lt;Predicate&gt; conditions = new ArrayList&lt;Predicate&gt;();\n\n\n`**TypedQuery&lt;ReportListDto&gt; query = entityManager.createQuery(\ncq.multiselect(\nfromFIMessage.get(&quot;reportingPeriod&quot;), \nfromFIMessage.get(&quot;fiMessageId&quot;), \nfiAccount.get(&quot;fiAccountId&quot;))\n.where(conditions.toArray(new Predicate[] {})));**\n\nList&lt;ReportListDto&gt; result = query.getResultList();\n`\n\nresult of above is \n[results without count included](https://i.stack.imgur.com/MO7Zk.png)\n\nbut i need \n\n[result ash it should be with applying count in typedquery](https://i.stack.imgur.com/gqnC9.png)\n\nSo reporting period is fine and I need distinct count for messageId and count for accountId.\n\nThank you for your answers.\n\n</code></pre>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1496762414,"creation_date":1444796254,"answer_id":33116541,"question_id":33115160,"body_markdown":"There is problem with how you constructed the WHERE part of your CriteriaQuery. \r\nThis expression is the only one that gets added to the WHERE clause:\r\n\r\n    cb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI)\r\n\r\nBut not this one:\r\n\r\n    cb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF)\r\n\r\nAny of the ff. can fix this:\r\n\r\n 1. Using cb.and():\r\n    \r\n        data.where(cb.and(\r\n        \t\tcb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI),\r\n        \t\tcb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF)\r\n        \t)\r\n        );\r\n 2. CriteriaQuery.where() can accept variable number of arguments of\r\n    type Expression, and they will be combined using conjunction (AND\r\n    operator). So, we don&#39;t need to use cb.and():\r\n    \r\n        data.where(cb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI),\r\n        \tcb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF)\r\n        );\r\n\r\nThere is also a problem with the type used in your CriteriaQuery&lt;TopUpRAMS&gt;. You doing a projection via data.multiselect() of 2 fields and this won&#39;t be convertible to TopUpRams entity.\r\n\r\nThere are 3 ways to do a multiselect/projection:\r\n\r\n 1. CriteriaQuery type will be Object[]\r\n    \r\n        CriteriaQuery&lt;Object[]&gt; data = cb.createQuery(Object[].class);\r\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n        data.multiselect(c.get(&quot;deviceId&quot;), cb.sum(c.get(&quot;rechargeValue&quot;)));\r\n\r\n 2. CriteriaQuery type will be Tuple\r\n\r\n        CriteriaQuery&lt;Tuple&gt; data = cb.createTupleQuery();\r\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n        data.multiselect(c.get(&quot;deviceId&quot;), cb.sum(c.get(&quot;rechargeValue&quot;)));\r\n\r\n 3. Use of constructor\r\n    \r\n        CriteriaQuery&lt;TopUpRAMSInfo&gt; data = cb.createQuery(TopUpRAMSInfo.class);\r\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n        data.select(cb.construct(TopUpRAMSInfo.class,\r\n        \t\tc.get(&quot;deviceId&quot;), \r\n        \t\tcb.sum(c.get(&quot;rechargeValue&quot;))\r\n        \t)\r\n        );\r\n    \r\n    For this you need to create a separate class to represent the type\r\n    of your query result (it doesn&#39;t have to be an entity):\r\n    \r\n        public class TopUpRAMSInfo {\r\n        \tprivate Long deviceId; \r\n        \tprivate Double sumRechargeValue;\r\n        \r\n        \tpublic TopUpRAMSInfo(Long deviceId, Double sumRechargeValue) {\r\n        \t\tthis.deviceId = deviceId;\r\n        \t\tthis.sumRechargeValue = sumRechargeValue;\r\n        \t}\r\n        \t...\r\n        }\r\n\r\nSo here&#39;s a sample fix to your method:\r\n\r\n    public List&lt;TopUpRAMSInfo&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\r\n    \r\n        List&lt;TopUpRAMSInfo&gt; lista;\r\n    \r\n        CriteriaQuery&lt;TopUpRAMS&gt; data = cb.createQuery(TopUpRAMSInfo.class);\r\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n    \tdata.select(cb.construct(TopUpRAMSInfo.class,\r\n    \t\t\tc.get(&quot;deviceId&quot;), \r\n    \t\t\tcb.sum(c.get(&quot;rechargeValue&quot;))\r\n    \t\t)\r\n    \t);\r\n        data.where(cb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI),\r\n    \t\tcb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF)\r\n    \t);\r\n        data.groupBy(c.get(&quot;deviceId&quot;));\r\n    \r\n        TypedQuery&lt;TopUpRAMSInfo&gt; datos = emDAO.createQuery(data);\r\n        lista = datos.getResultList();\r\n        return lista;\r\n    }\r\n\r\n","title":"How to Create a Criteria Query with SUM and GROUP BY JPA Java","body":"<p>There is problem with how you constructed the WHERE part of your CriteriaQuery. \nThis expression is the only one that gets added to the WHERE clause:</p>\n\n<pre><code>cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI)\n</code></pre>\n\n<p>But not this one:</p>\n\n<pre><code>cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF)\n</code></pre>\n\n<p>Any of the ff. can fix this:</p>\n\n<ol>\n<li><p>Using cb.and():</p>\n\n<pre><code>data.where(cb.and(\n        cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI),\n        cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF)\n    )\n);\n</code></pre></li>\n<li><p>CriteriaQuery.where() can accept variable number of arguments of\ntype Expression, and they will be combined using conjunction (AND\noperator). So, we don't need to use cb.and():</p>\n\n<pre><code>data.where(cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI),\n    cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF)\n);\n</code></pre></li>\n</ol>\n\n<p>There is also a problem with the type used in your CriteriaQuery. You doing a projection via data.multiselect() of 2 fields and this won't be convertible to TopUpRams entity.</p>\n\n<p>There are 3 ways to do a multiselect/projection:</p>\n\n<ol>\n<li><p>CriteriaQuery type will be Object[]</p>\n\n<pre><code>CriteriaQuery&lt;Object[]&gt; data = cb.createQuery(Object[].class);\nRoot&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\ndata.multiselect(c.get(\"deviceId\"), cb.sum(c.get(\"rechargeValue\")));\n</code></pre></li>\n<li><p>CriteriaQuery type will be Tuple</p>\n\n<pre><code>CriteriaQuery&lt;Tuple&gt; data = cb.createTupleQuery();\nRoot&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\ndata.multiselect(c.get(\"deviceId\"), cb.sum(c.get(\"rechargeValue\")));\n</code></pre></li>\n<li><p>Use of constructor</p>\n\n<pre><code>CriteriaQuery&lt;TopUpRAMSInfo&gt; data = cb.createQuery(TopUpRAMSInfo.class);\nRoot&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\ndata.select(cb.construct(TopUpRAMSInfo.class,\n        c.get(\"deviceId\"), \n        cb.sum(c.get(\"rechargeValue\"))\n    )\n);\n</code></pre>\n\n<p>For this you need to create a separate class to represent the type\nof your query result (it doesn't have to be an entity):</p>\n\n<pre><code>public class TopUpRAMSInfo {\n    private Long deviceId; \n    private Double sumRechargeValue;\n\n    public TopUpRAMSInfo(Long deviceId, Double sumRechargeValue) {\n        this.deviceId = deviceId;\n        this.sumRechargeValue = sumRechargeValue;\n    }\n    ...\n}\n</code></pre></li>\n</ol>\n\n<p>So here's a sample fix to your method:</p>\n\n<pre><code>public List&lt;TopUpRAMSInfo&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\n\n    List&lt;TopUpRAMSInfo&gt; lista;\n\n    CriteriaQuery&lt;TopUpRAMS&gt; data = cb.createQuery(TopUpRAMSInfo.class);\n    Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\n    data.select(cb.construct(TopUpRAMSInfo.class,\n            c.get(\"deviceId\"), \n            cb.sum(c.get(\"rechargeValue\"))\n        )\n    );\n    data.where(cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI),\n        cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF)\n    );\n    data.groupBy(c.get(\"deviceId\"));\n\n    TypedQuery&lt;TopUpRAMSInfo&gt; datos = emDAO.createQuery(data);\n    lista = datos.getResultList();\n    return lista;\n}\n</code></pre>\n"}],"owner":{"account_id":6699636,"reputation":73,"user_id":5166598,"display_name":"Ivan Firestone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19031,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33116541,"answer_count":1,"score":7,"last_activity_date":1669812961,"creation_date":1444786032,"question_id":33115160,"body_markdown":"&gt; Here my changes base on Ish Answer:\r\n\r\n    public List&lt;TopUpRAMSInfo&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\r\n            List&lt;TopUpRAMSInfo&gt; lista;\r\n            CriteriaQuery&lt;TopUpRAMSInfo&gt; data = cb.createQuery(TopUpRAMSInfo.class);\r\n            Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n            data.select(cb.construct(TopUpRAMSInfo.class,\r\n                    c.get(&quot;deviceId&quot;),\r\n                    cb.sum(c.get(&quot;rechargeValue&quot;))\r\n            )\r\n            );\r\n            data.where(cb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI),\r\n                    cb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF)\r\n            );\r\n            data.groupBy(c.get(&quot;deviceId&quot;));\r\n            TypedQuery&lt;TopUpRAMSInfo&gt; datos = emDAO.createQuery(data);\r\n            lista = datos.getResultList();\r\n            return lista;\r\n        }\r\n\r\n&gt; Now im having this error: \r\n&gt; java.lang.IllegalArgumentException: An exception occured looking on class: class ENTITY.TopUpRAMSInfo for constructor using selection criteria types as arguments.  If this CriteriaQuery was not intended to be a constructor query please verify that the selection matches the return type.\r\n\r\n&gt; ----- ORIGINAL POST -----\r\n\r\nI&#39;m having some issues doing this. This is my first real program I&#39;m trying to build, and I need to summarize one field based on the other.\r\n\r\nHere is my code so far (note that `TopUpRAMS` is my entity and `emDAO` is my Entity Manager.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public List&lt;TopUpRAMS&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\r\n        List&lt;TopUpRAMS&gt; lista;\r\n\r\n        CriteriaQuery&lt;TopUpRAMS&gt; data = cb.createQuery(TopUpRAMS.class);\r\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\r\n        \r\n        data.multiselect(c.get(&quot;deviceId&quot;), cb.sum(c.get(&quot;rechargeValue&quot;)));\r\n        data.where(cb.greaterThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaI));\r\n        cb.and(cb.lessThanOrEqualTo(c.get(&quot;connectionTime&quot;), fechaF));\r\n        data.groupBy(c.get(&quot;deviceId&quot;));\r\n        \r\n        TypedQuery&lt;TopUpRAMS&gt; datos = emDAO.createQuery(data);\r\n        lista = datos.getResultList();\r\n        return lista;\r\n    }","title":"How to Create a Criteria Query with SUM and GROUP BY JPA Java","body":"<blockquote>\n  <p>Here my changes base on Ish Answer:</p>\n</blockquote>\n\n<pre><code>public List&lt;TopUpRAMSInfo&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\n        List&lt;TopUpRAMSInfo&gt; lista;\n        CriteriaQuery&lt;TopUpRAMSInfo&gt; data = cb.createQuery(TopUpRAMSInfo.class);\n        Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\n        data.select(cb.construct(TopUpRAMSInfo.class,\n                c.get(\"deviceId\"),\n                cb.sum(c.get(\"rechargeValue\"))\n        )\n        );\n        data.where(cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI),\n                cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF)\n        );\n        data.groupBy(c.get(\"deviceId\"));\n        TypedQuery&lt;TopUpRAMSInfo&gt; datos = emDAO.createQuery(data);\n        lista = datos.getResultList();\n        return lista;\n    }\n</code></pre>\n\n<blockquote>\n  <p>Now im having this error: \n  java.lang.IllegalArgumentException: An exception occured looking on class: class ENTITY.TopUpRAMSInfo for constructor using selection criteria types as arguments.  If this CriteriaQuery was not intended to be a constructor query please verify that the selection matches the return type.</p>\n  \n  <p>----- ORIGINAL POST -----</p>\n</blockquote>\n\n<p>I'm having some issues doing this. This is my first real program I'm trying to build, and I need to summarize one field based on the other.</p>\n\n<p>Here is my code so far (note that <code>TopUpRAMS</code> is my entity and <code>emDAO</code> is my Entity Manager.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;TopUpRAMS&gt; listadoTOPUP2(Date fechaI, Date fechaF) {\n    List&lt;TopUpRAMS&gt; lista;\n\n    CriteriaQuery&lt;TopUpRAMS&gt; data = cb.createQuery(TopUpRAMS.class);\n    Root&lt;TopUpRAMS&gt; c = data.from(TopUpRAMS.class);\n\n    data.multiselect(c.get(\"deviceId\"), cb.sum(c.get(\"rechargeValue\")));\n    data.where(cb.greaterThanOrEqualTo(c.get(\"connectionTime\"), fechaI));\n    cb.and(cb.lessThanOrEqualTo(c.get(\"connectionTime\"), fechaF));\n    data.groupBy(c.get(\"deviceId\"));\n\n    TypedQuery&lt;TopUpRAMS&gt; datos = emDAO.createQuery(data);\n    lista = datos.getResultList();\n    return lista;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jsp"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1669791933,"post_id":74623899,"comment_id":131720763,"body_markdown":"in the second statement, you are doing &quot;Hello 10&quot; != 2, because of String concatenation. Try &quot;Hello &quot; + (10 != 2)","body":"in the second statement, you are doing &quot;Hello 10&quot; != 2, because of String concatenation. Try &quot;Hello &quot; + (10 != 2)"}],"answers":[{"tags":[],"owner":{"account_id":24874317,"reputation":62,"user_id":18748408,"display_name":"branislav stojanovic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1669812661,"creation_date":1669792098,"answer_id":74623990,"question_id":74623899,"body_markdown":"Please check basics of java and generally programming. &#39;==&#39; sign checks if values are the same, &#39;!=&#39; checks if values are not the same.\r\nSo 10!=2 means is 10 different than 2, and you get &#39;true&#39;. ","title":"10!=2 is getting true and &quot;Hello &quot;+10!=2 compilation error","body":"<p>Please check basics of java and generally programming. '==' sign checks if values are the same, '!=' checks if values are not the same.\nSo 10!=2 means is 10 different than 2, and you get 'true'.</p>\n"},{"tags":[],"owner":{"account_id":27094924,"reputation":1,"user_id":20642250,"display_name":"Harsh Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793127,"creation_date":1669793010,"answer_id":74624149,"question_id":74623899,"body_markdown":"for concat boolean with string in java you first need to store answer in a variable.\r\ntry using this.\r\n\r\n    public static void main(String[] args1) {\r\n        boolean a=10!=2;\r\n        System.out.println(a);  //Output is True\r\n        System.out.println(&quot;Hello &quot;+a);// Output is Hello true\r\n    }","title":"10!=2 is getting true and &quot;Hello &quot;+10!=2 compilation error","body":"<p>for concat boolean with string in java you first need to store answer in a variable.\ntry using this.</p>\n<pre><code>public static void main(String[] args1) {\n    boolean a=10!=2;\n    System.out.println(a);  //Output is True\n    System.out.println(&quot;Hello &quot;+a);// Output is Hello true\n}\n</code></pre>\n"}],"owner":{"account_id":1776080,"reputation":986,"user_id":1619854,"accept_rate":71,"display_name":"VyTcdc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74623990,"answer_count":2,"score":-1,"last_activity_date":1669812661,"creation_date":1669791510,"question_id":74623899,"body_markdown":"I am preparing for Oracle certification exam so could you explain how 10!=2 is getting true and  compilation error, I have mention a small program below.\r\n10!=2 : why it is true\r\n&quot;Hello &quot;+10!=2 : why it is compile time error\r\n\r\n\r\npublic class Demo1 {\r\n\r\n\tpublic static void main(String[] args1) {\t\r\n\t\tSystem.out.println(10!=2);\t//Output is True\r\n\t\tSystem.out.println(&quot;Hello &quot;+10!=2);\t//Compile Time Error\r\n\t}\r\n}","title":"10!=2 is getting true and &quot;Hello &quot;+10!=2 compilation error","body":"<p>I am preparing for Oracle certification exam so could you explain how 10!=2 is getting true and  compilation error, I have mention a small program below.\n10!=2 : why it is true\n&quot;Hello &quot;+10!=2 : why it is compile time error</p>\n<p>public class Demo1 {</p>\n<pre><code>public static void main(String[] args1) {   \n    System.out.println(10!=2);  //Output is True\n    System.out.println(&quot;Hello &quot;+10!=2); //Compile Time Error\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sql","jpa","orm","jpql"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669826755,"post_id":74628072,"comment_id":131733055,"body_markdown":"Indeed, in SINGLE_TABLE strategy, there will be no join : director and author are in the same table. But could you active sql query log (parameter `hibernate.show_sql`) to see the request for JOINED strategy ?","body":"Indeed, in SINGLE_TABLE strategy, there will be no join : director and author are in the same table. But could you active sql query log (parameter <code>hibernate.show_sql</code>) to see the request for JOINED strategy ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669837275,"post_id":74628072,"comment_id":131736487,"body_markdown":"JPA 2.1 section 4.4.9 states &quot;That is, in the case of a join, the referenced object does not participate in the result, and in the case of a restriction, the associated predicate is false.&quot; This isn&#39;t a join so should be treated as false. Example &quot;SELECT e FROM Employee e\nWHERE TREAT(e AS Exempt).vacationDays &gt; 10\n      OR TREAT(e AS Contractor).hours &gt; 100&quot; which should cover this case exactly. Your JPA provider must be doing inner joins when it should be handling it with outer joins to avoid the restriction. Try another provider and verify","body":"JPA 2.1 section 4.4.9 states &quot;That is, in the case of a join, the referenced object does not participate in the result, and in the case of a restriction, the associated predicate is false.&quot; This isn&#39;t a join so should be treated as false. Example &quot;SELECT e FROM Employee e WHERE TREAT(e AS Exempt).vacationDays &gt; 10       OR TREAT(e AS Contractor).hours &gt; 100&quot; which should cover this case exactly. Your JPA provider must be doing inner joins when it should be handling it with outer joins to avoid the restriction. Try another provider and verify"}],"owner":{"account_id":18751205,"reputation":503,"user_id":13672269,"display_name":"kwonryul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669812603,"creation_date":1669812603,"question_id":74628072,"body_markdown":"```\r\nselect x from Item x\r\n    where treat (x as Book).author = &quot;a&quot;\r\n    or treat (x as Movie).director = &quot;b&quot;\r\n```\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class Item {\r\n~~~~~\r\n~~~~~\r\n}\r\n\r\n@Entity\r\n@DiscriminatorValue(&quot;B&quot;)\r\npublic class Book extends Item {\r\n    public String author;\r\n}\r\n\r\n@Entity\r\n@DiscriminatorValue(&quot;M&quot;)\r\npublic class Movie extends Item {\r\n    public String director;\r\n}\r\n```\r\n\r\nAbove JPQL query always does not return any ```Item```s.\r\nIt inner joins three tables ```Item``` ```Book``` and ```Movie```, which will result in no data.\r\n\r\nWhen we change the ```@Inheritance(strategy = InheritanceType.JOINED)``` to\r\n```@Inheritance(strategy = InheritanceType.SINGLE_TABLE)```, the query works well.\r\nI think there is a bug in the JOINED case.\r\n\r\nPlease let me know if this a bug.\r\n\r\nAlso, if this is not a bug, please let me know how to fix the query for JOINED.\r\n","title":"This JPQL query behaves differently depending on the inheritance strategy","body":"<pre><code>select x from Item x\n    where treat (x as Book).author = &quot;a&quot;\n    or treat (x as Movie).director = &quot;b&quot;\n</code></pre>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Item {\n~~~~~\n~~~~~\n}\n\n@Entity\n@DiscriminatorValue(&quot;B&quot;)\npublic class Book extends Item {\n    public String author;\n}\n\n@Entity\n@DiscriminatorValue(&quot;M&quot;)\npublic class Movie extends Item {\n    public String director;\n}\n</code></pre>\n<p>Above JPQL query always does not return any <code>Item</code>s.\nIt inner joins three tables <code>Item</code> <code>Book</code> and <code>Movie</code>, which will result in no data.</p>\n<p>When we change the <code>@Inheritance(strategy = InheritanceType.JOINED)</code> to\n<code>@Inheritance(strategy = InheritanceType.SINGLE_TABLE)</code>, the query works well.\nI think there is a bug in the JOINED case.</p>\n<p>Please let me know if this a bug.</p>\n<p>Also, if this is not a bug, please let me know how to fix the query for JOINED.</p>\n"},{"tags":["java","spring","algorithm","jpa","recursion"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1669816651,"post_id":74628015,"comment_id":131728891,"body_markdown":"&#39;To solve this problem&#39; - to solve *what* problem, exactly? What made you assume you had a problem in the first place? Object may have a reference to child objects that point back to the parent. This is perfectly normal.","body":"&#39;To solve this problem&#39; - to solve <i>what</i> problem, exactly? What made you assume you had a problem in the first place? Object may have a reference to child objects that point back to the parent. This is perfectly normal."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669817918,"post_id":74628015,"comment_id":131729400,"body_markdown":"Set FetchType.LAZY on one side of the parent/children relationship","body":"Set FetchType.LAZY on one side of the parent/children relationship"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669834338,"post_id":74628015,"comment_id":131735586,"body_markdown":"Lazy won&#39;t work with this code, as category.getParent().getId() will trigger fetching lazy relationships. As @crizzis mentioned, any issues with this model are NOT due to JPA which knows how to handle bidirectional relationships, but can be common in other serialization protocols (like REST JSON handling) which don&#39;t. If you are debugging a problem in Spring, chances are your model is being serialized to JSON and you have neglected to tell it how to handle circular references - there are many questions detailing the problem and how to use JSONIgnore on one side to break recursive loops","body":"Lazy won&#39;t work with this code, as category.getParent().getId() will trigger fetching lazy relationships. As @crizzis mentioned, any issues with this model are NOT due to JPA which knows how to handle bidirectional relationships, but can be common in other serialization protocols (like REST JSON handling) which don&#39;t. If you are debugging a problem in Spring, chances are your model is being serialized to JSON and you have neglected to tell it how to handle circular references - there are many questions detailing the problem and how to use JSONIgnore on one side to break recursive loops"},{"owner":{"account_id":27044330,"reputation":5,"user_id":20598738,"display_name":"user20598738"},"score":0,"creation_date":1669936814,"post_id":74628015,"comment_id":131762775,"body_markdown":"B&#39;s parent is A, and A&#39;s children are B. This is where infinite circular references occur.","body":"B&#39;s parent is A, and A&#39;s children are B. This is where infinite circular references occur."}],"owner":{"account_id":27044330,"reputation":5,"user_id":20598738,"display_name":"user20598738"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669812443,"creation_date":1669812338,"question_id":74628015,"body_markdown":"How can I solve JPA infinite reference loop?\r\n\r\nAs shown below, poiCategory includes parent and children. (I attached it as a picture because I couldn&#39;t copy it in Intellij.)\r\n[enter image description here][1]\r\n\r\nCreate poiCategoryDto by calling:\r\n```\r\n    private static CategoryDto makeCategory(PoiCategory poiCategory) {\r\n        return CategoryDto. builder()\r\n                .id(poiCategory.getId())\r\n                .name(poiCategory.getName())\r\n                .parent(getCategoryParent(poiCategory.getParent()))\r\n                .children(getCategoryChildren(poiCategory.getChildren()))\r\n                .depth(poiCategory.getDepth())\r\n                .build();\r\n    }\r\n```\r\n\r\ngetCategoryParent and getCategoryChildren are:\r\n\r\n```\r\nprivate static Set&lt;CategoryDto&gt; getCategoryChildren(Set&lt;Category&gt; children) {\r\n\r\n        if (children == null || children.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n\r\n        Set&lt;CategoryDto&gt; result = new HashSet&lt;&gt;();\r\n        for (Category child : children) {\r\n                result.add(CategoryDto.builder()\r\n                        .id(child.getId())\r\n                        .name(child.getName())\r\n                        .parent(child.getParent() == null ? null : getCategoryParent(child.getParent()))\r\n                        .children(child.getChildren() == null ? null : getCategoryChildren(child.getChildren()))\r\n                        .depth(child.getDepth())\r\n                        .build());\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\n```\r\nprivate static CategoryDto getCategoryParent(Category parent) {\r\n\r\n        if (parent == null) {\r\n            return null;\r\n        }\r\n\r\n        return CategoryDto. builder()\r\n                .id(parent.getId())\r\n                .name(parent.getName())\r\n                .parent(parent.getParent() == null ? null : getCategoryParent(parent.getParent()))\r\n                .children(parent.getChildren() == null ? null : getCategoryChildren(parent.getChildren()))\r\n                .depth(parent.getDepth())\r\n                .build();\r\n}\r\n```\r\n\r\nTo solve this problem, getCtegoryChildren has\r\n```\r\n        boolean recursiveLoop = parent.getChildren().stream().map(Category::getParent)\r\n                .anyMatch(category -&gt; {\r\n                    if (category.getParent() != null) category.getParent().getId().equals(parent.getId());\r\n                    return false;\r\n                });\r\n\r\n        if (recursiveLoop) {\r\n            return null;\r\n        }\r\n```\r\nadded\r\ngetParent has\r\n```\r\n        List&lt;Category&gt; parents = children.stream().map(Category::getParent).toList();\r\n        for (Category parent : parents) {\r\n            boolean recursiveLoop = parent.getChildren().stream().anyMatch(category -&gt; category.getParent().getId().equals(parent.getId()));\r\n            if (recursiveLoop) {\r\n                return null;\r\n            }\r\n        }\r\n```\r\nhas been added.\r\n\r\nBut dto returned null.\r\n\r\nIn structures such as A(parent = null, child=B), B(parent=A, child=C), C(parent=B, child=null)\r\n\r\nB -&gt; parent, child should exist, but I received a null value.\r\n\r\nI wonder how I can properly receive the values ​​of A, B, and C while solving the infinite circular reference error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GNV9F.png","title":"How can I solve JPA infinite reference loop?","body":"<p>How can I solve JPA infinite reference loop?</p>\n<p>As shown below, poiCategory includes parent and children. (I attached it as a picture because I couldn't copy it in Intellij.)\n<a href=\"https://i.stack.imgur.com/GNV9F.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Create poiCategoryDto by calling:</p>\n<pre><code>    private static CategoryDto makeCategory(PoiCategory poiCategory) {\n        return CategoryDto. builder()\n                .id(poiCategory.getId())\n                .name(poiCategory.getName())\n                .parent(getCategoryParent(poiCategory.getParent()))\n                .children(getCategoryChildren(poiCategory.getChildren()))\n                .depth(poiCategory.getDepth())\n                .build();\n    }\n</code></pre>\n<p>getCategoryParent and getCategoryChildren are:</p>\n<pre><code>private static Set&lt;CategoryDto&gt; getCategoryChildren(Set&lt;Category&gt; children) {\n\n        if (children == null || children.isEmpty()) {\n            return null;\n        }\n\n\n        Set&lt;CategoryDto&gt; result = new HashSet&lt;&gt;();\n        for (Category child : children) {\n                result.add(CategoryDto.builder()\n                        .id(child.getId())\n                        .name(child.getName())\n                        .parent(child.getParent() == null ? null : getCategoryParent(child.getParent()))\n                        .children(child.getChildren() == null ? null : getCategoryChildren(child.getChildren()))\n                        .depth(child.getDepth())\n                        .build());\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>private static CategoryDto getCategoryParent(Category parent) {\n\n        if (parent == null) {\n            return null;\n        }\n\n        return CategoryDto. builder()\n                .id(parent.getId())\n                .name(parent.getName())\n                .parent(parent.getParent() == null ? null : getCategoryParent(parent.getParent()))\n                .children(parent.getChildren() == null ? null : getCategoryChildren(parent.getChildren()))\n                .depth(parent.getDepth())\n                .build();\n}\n</code></pre>\n<p>To solve this problem, getCtegoryChildren has</p>\n<pre><code>        boolean recursiveLoop = parent.getChildren().stream().map(Category::getParent)\n                .anyMatch(category -&gt; {\n                    if (category.getParent() != null) category.getParent().getId().equals(parent.getId());\n                    return false;\n                });\n\n        if (recursiveLoop) {\n            return null;\n        }\n</code></pre>\n<p>added\ngetParent has</p>\n<pre><code>        List&lt;Category&gt; parents = children.stream().map(Category::getParent).toList();\n        for (Category parent : parents) {\n            boolean recursiveLoop = parent.getChildren().stream().anyMatch(category -&gt; category.getParent().getId().equals(parent.getId()));\n            if (recursiveLoop) {\n                return null;\n            }\n        }\n</code></pre>\n<p>has been added.</p>\n<p>But dto returned null.</p>\n<p>In structures such as A(parent = null, child=B), B(parent=A, child=C), C(parent=B, child=null)</p>\n<p>B -&gt; parent, child should exist, but I received a null value.</p>\n<p>I wonder how I can properly receive the values ​​of A, B, and C while solving the infinite circular reference error.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1669810564,"post_id":74627594,"comment_id":131726768,"body_markdown":"Have you tried invalidating and restarting?","body":"Have you tried invalidating and restarting?"},{"owner":{"account_id":27098188,"reputation":1,"user_id":20645133,"display_name":"Bunga Allysah"},"score":0,"creation_date":1669958133,"post_id":74627594,"comment_id":131765655,"body_markdown":"yes i had tried it","body":"yes i had tried it"},{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1669960812,"post_id":74627594,"comment_id":131766097,"body_markdown":"Can you post your `values.xml`?","body":"Can you post your <code>values.xml</code>?"}],"owner":{"account_id":27098188,"reputation":1,"user_id":20645133,"display_name":"Bunga Allysah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669812366,"creation_date":1669810282,"question_id":74627594,"body_markdown":"This is the other problem:\r\n\r\n```\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n   &gt; Resource compilation failed (Failed to compile values resource file /Users/bungaallysah/AndroidStudioProjects/splashscreen/app/build/intermediates/incremental/debug/mergeDebugResources/merged.dir/values/values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@1c9d41e0.,Can not extract resource from com.android.aaptcompiler.ParsedResource@23f7a22d.). Check logs for more details.\r\n\r\n```\r\nI&#39;ve tried to setup the gradle, but there&#39;s no problem with that.","title":"Can not extract resource from com.android.aaptcompiler.ParsedResource@1c9d41e0","body":"<p>This is the other problem:</p>\n<pre><code>Execution failed for task ':app:mergeDebugResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n   &gt; Resource compilation failed (Failed to compile values resource file /Users/bungaallysah/AndroidStudioProjects/splashscreen/app/build/intermediates/incremental/debug/mergeDebugResources/merged.dir/values/values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@1c9d41e0.,Can not extract resource from com.android.aaptcompiler.ParsedResource@23f7a22d.). Check logs for more details.\n\n</code></pre>\n<p>I've tried to setup the gradle, but there's no problem with that.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1663317869,"creation_date":1501845891,"answer_id":45505592,"question_id":45505550,"body_markdown":"What I would do is check the Optional\r\n\r\n    Optional&lt;BigDecimal&gt; max = brol.stream()\r\n                                   .map(a -&gt; a.amount)\r\n                                   .max(Comparator.naturalOrder());\r\n    if (max.isPresent()) {\r\n       // have a max\r\n    }\r\n\r\nInstead of the `Comparator.naturalOrder()`, you can use `BigDecimal::compareTo` if you feel this is clearer.\r\n\r\nThe Optional.get() is throwing the `NoSuchElementException` as there is no element. You only need to provide a `Comparator` when the Object you are getting the max is not `Comparable` \r\n\r\nIn this case, you don&#39;t need the maximum `A` only the maximum `amount` which is a `BigDecimal` which is `Comparable`.  \r\n\r\nYou could provide a comparator if you actually wanted the minimum though using `min()` would be a simpler choice in this regard.","title":"Find max on BigDecimal list using java 8","body":"<p>What I would do is check the Optional</p>\n<pre><code>Optional&lt;BigDecimal&gt; max = brol.stream()\n                               .map(a -&gt; a.amount)\n                               .max(Comparator.naturalOrder());\nif (max.isPresent()) {\n   // have a max\n}\n</code></pre>\n<p>Instead of the <code>Comparator.naturalOrder()</code>, you can use <code>BigDecimal::compareTo</code> if you feel this is clearer.</p>\n<p>The Optional.get() is throwing the <code>NoSuchElementException</code> as there is no element. You only need to provide a <code>Comparator</code> when the Object you are getting the max is not <code>Comparable</code></p>\n<p>In this case, you don't need the maximum <code>A</code> only the maximum <code>amount</code> which is a <code>BigDecimal</code> which is <code>Comparable</code>.</p>\n<p>You could provide a comparator if you actually wanted the minimum though using <code>min()</code> would be a simpler choice in this regard.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501846568,"creation_date":1501846217,"answer_id":45505699,"question_id":45505550,"body_markdown":"You do not need a specific comparator for this.  The comparator is not your problem.\r\n\r\nThe fluent style of invocations is nice and hip and trendy, but it has one major disadvantage which many seem to overlook: when an error happens somewhere along this train of function calls, you have no clue where it happened.\r\n\r\nSo, in order to troubleshoot such problems, it is best to break down the fluent train into individual wagons.  (At least for the troubleshooting, and put it back into a train if you want after, all troubleshooting is done.)\r\n\r\nIn which case you will see that `max()` returns an `Optional&lt;BigDecimal&gt;`, and it is `Optional` because if your `ArrayList` `brol` is empty, (and in the example you provided, it is empty,) then there is no max, because the `max` operation is undefined on an empty list.\r\n\r\nSo, you need to provide for the case that your `ArrayList` is empty.  You can do this before invoking `stream().max()`, or you can do it as Peter Lawrey suggested, by invoking the `isPresent()` method of the `Optional`.\r\n\r\nBy the way, the fact that you made this error shows that either:\r\n\r\n* You are using some outdated build tools that are incapable of giving you warnings about your code, or\r\n\r\n* You do not have all warnings enabled, or\r\n\r\n* You receive warnings but you ignore them.\r\n\r\nDon&#39;t do that, you will never get very far this way.  My IntelliJ IDEA gives me a warning (JetBrains calls it &quot;inspection&quot;) on your code saying that `.get()` was invoked without `.isPresent()`.  So, I can immediately tell what&#39;s wrong with the code before compiling it, before running it, before troubleshooting it, and before asking a stackoverflow question about it.","title":"Find max on BigDecimal list using java 8","body":"<p>You do not need a specific comparator for this.  The comparator is not your problem.</p>\n\n<p>The fluent style of invocations is nice and hip and trendy, but it has one major disadvantage which many seem to overlook: when an error happens somewhere along this train of function calls, you have no clue where it happened.</p>\n\n<p>So, in order to troubleshoot such problems, it is best to break down the fluent train into individual wagons.  (At least for the troubleshooting, and put it back into a train if you want after, all troubleshooting is done.)</p>\n\n<p>In which case you will see that <code>max()</code> returns an <code>Optional&lt;BigDecimal&gt;</code>, and it is <code>Optional</code> because if your <code>ArrayList</code> <code>brol</code> is empty, (and in the example you provided, it is empty,) then there is no max, because the <code>max</code> operation is undefined on an empty list.</p>\n\n<p>So, you need to provide for the case that your <code>ArrayList</code> is empty.  You can do this before invoking <code>stream().max()</code>, or you can do it as Peter Lawrey suggested, by invoking the <code>isPresent()</code> method of the <code>Optional</code>.</p>\n\n<p>By the way, the fact that you made this error shows that either:</p>\n\n<ul>\n<li><p>You are using some outdated build tools that are incapable of giving you warnings about your code, or</p></li>\n<li><p>You do not have all warnings enabled, or</p></li>\n<li><p>You receive warnings but you ignore them.</p></li>\n</ul>\n\n<p>Don't do that, you will never get very far this way.  My IntelliJ IDEA gives me a warning (JetBrains calls it \"inspection\") on your code saying that <code>.get()</code> was invoked without <code>.isPresent()</code>.  So, I can immediately tell what's wrong with the code before compiling it, before running it, before troubleshooting it, and before asking a stackoverflow question about it.</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669812348,"creation_date":1669812348,"answer_id":74628020,"question_id":45505550,"body_markdown":"Use stream with `orElse` to provide some fallback or default value. \r\n\r\n```\r\nBigDecimal maxValue = brol.stream()\r\n  .map(a -&gt; a.amount)\r\n  .max(Comparator.naturalOrder())\r\n  .orElse(null); // you can also use BigDecimal.ZERO here instead of null\r\n```","title":"Find max on BigDecimal list using java 8","body":"<p>Use stream with <code>orElse</code> to provide some fallback or default value.</p>\n<pre><code>BigDecimal maxValue = brol.stream()\n  .map(a -&gt; a.amount)\n  .max(Comparator.naturalOrder())\n  .orElse(null); // you can also use BigDecimal.ZERO here instead of null\n</code></pre>\n"}],"owner":{"account_id":8070071,"reputation":863,"user_id":6083123,"accept_rate":43,"display_name":"Grechka Vassili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20738,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45505592,"answer_count":3,"score":9,"last_activity_date":1669812348,"creation_date":1501845773,"question_id":45505550,"body_markdown":"Let&#39;s suppose that I have a class like this : \r\n\r\n    public class A {\r\n        private int id;\r\n        private BigDecimal amount;\r\n    }\r\nAnd I have a `List&lt;A&gt;`. How can I find the maximum amount of all `A` objects in the list using Java 8 stream ? \r\n\r\nThis method : \r\n\r\n    List&lt;A&gt; brol = new ArrayList&lt;&gt;();\r\n    BigDecimal max = brol.stream().max(Comparator.comparing(A -&gt; A.getAmount())).get().getAmount();\r\n            System.out.println(&quot;MAX = &quot; + max);\r\n\r\nGives `NoSuchElementException` so I should create a specific comparator for this ? ","title":"Find max on BigDecimal list using java 8","body":"<p>Let's suppose that I have a class like this : </p>\n\n<pre><code>public class A {\n    private int id;\n    private BigDecimal amount;\n}\n</code></pre>\n\n<p>And I have a <code>List&lt;A&gt;</code>. How can I find the maximum amount of all <code>A</code> objects in the list using Java 8 stream ? </p>\n\n<p>This method : </p>\n\n<pre><code>List&lt;A&gt; brol = new ArrayList&lt;&gt;();\nBigDecimal max = brol.stream().max(Comparator.comparing(A -&gt; A.getAmount())).get().getAmount();\n        System.out.println(\"MAX = \" + max);\n</code></pre>\n\n<p>Gives <code>NoSuchElementException</code> so I should create a specific comparator for this ? </p>\n"},{"tags":["java","android","android-12"],"answers":[{"tags":[],"owner":{"account_id":11164354,"reputation":3,"user_id":8193481,"display_name":"A.Cem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811026,"creation_date":1669811026,"answer_id":74627736,"question_id":74627198,"body_markdown":"If you used PendingIntent in your project, you should change that lines as instructed. But probably that&#39;s not the case. \r\n\r\nThe thing is libraries you used can use PendingIntent too. You should update all your libraries to latest versions. That worked for me.","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE error","body":"<p>If you used PendingIntent in your project, you should change that lines as instructed. But probably that's not the case.</p>\n<p>The thing is libraries you used can use PendingIntent too. You should update all your libraries to latest versions. That worked for me.</p>\n"}],"owner":{"account_id":27097754,"reputation":1,"user_id":20644753,"display_name":"ibrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669811992,"answer_count":1,"score":0,"last_activity_date":1669811927,"creation_date":1669808361,"question_id":74627198,"body_markdown":"I am facing Pending intent problem please help me to solve I have tried all scenarios but its not worked well \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.jikkisservices.user, PID: 31490\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.jikkisservices.user/com.jikkisservices.user.UberXHomeActivity}: java.lang.IllegalArgumentException: com.jikkisservices.user: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4111)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loopOnce(Looper.java:226)\r\n            at android.os.Looper.loop(Looper.java:313)\r\n            at android.app.ActivityThread.main(ActivityThread.java:8751)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n         Caused by: java.lang.IllegalArgumentException: com.jikkisservices.user: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n            at android.app.PendingIntent.checkFlags(PendingIntent.java:382)\r\n            at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:673)\r\n            at android.app.PendingIntent.getBroadcast(PendingIntent.java:660)\r\n            at com.general.files.NotificationScheduler.cancelReminder(SourceFile:62)\r\n            at com.general.files.NotificationScheduler.setReminder(SourceFile:33)\r\n            at com.general.files.ConfigPubNub.getUpdatedPassengerStatus(ConfigPubNub.java:380)\r\n            at com.general.files.ConfigPubNub.onTaskRun(ConfigPubNub.java:468)\r\n            at com.general.files.UpdateFrequentTask.run(SourceFile:30)\r\n            at com.general.files.UpdateFrequentTask.startRepeatingTask(SourceFile:43)\r\n            at com.general.files.ConfigPubNub.buildPubSub(ConfigPubNub.java:128)\r\n            at com.general.files.MyApp.configPuSubInstance(MyApp.java:572)\r\n            at com.general.files.MyApp.access$100(MyApp.java:65)\r\n            at com.general.files.MyApp$1.onActivityCreated(MyApp.java:371)\r\n            at android.app.Application.dispatchActivityCreated(Application.java:372)\r\n            at android.app.Activity.dispatchActivityCreated(Activity.java:1374)\r\n            at android.app.Activity.onCreate(Activity.java:1651)\r\n            at androidx.core.app.ComponentActivity.onCreate(ComponentActivity.java:85)\r\n            at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:149)\r\n            at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:313)\r\n            at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:115)\r\n            at com.jikkisservices.user.BaseActivity.onCreate(BaseActivity.java:18)\r\n            at com.jikkisservices.user.UberXHomeActivity.onCreate(UberXHomeActivity.java:54)\r\n            at android.app.Activity.performCreate(Activity.java:8290)\r\n            at android.app.Activity.performCreate(Activity.java:8270)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4085)\r\n            \t... 12 more\r\n\r\n\r\nThis code works well in Android 11 but this error showing in version 12 only.","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE error","body":"<p>I am facing Pending intent problem please help me to solve I have tried all scenarios but its not worked well</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.jikkisservices.user, PID: 31490\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.jikkisservices.user/com.jikkisservices.user.UberXHomeActivity}: java.lang.IllegalArgumentException: com.jikkisservices.user: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4111)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.app.ActivityThread.main(ActivityThread.java:8751)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n     Caused by: java.lang.IllegalArgumentException: com.jikkisservices.user: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:382)\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:673)\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:660)\n        at com.general.files.NotificationScheduler.cancelReminder(SourceFile:62)\n        at com.general.files.NotificationScheduler.setReminder(SourceFile:33)\n        at com.general.files.ConfigPubNub.getUpdatedPassengerStatus(ConfigPubNub.java:380)\n        at com.general.files.ConfigPubNub.onTaskRun(ConfigPubNub.java:468)\n        at com.general.files.UpdateFrequentTask.run(SourceFile:30)\n        at com.general.files.UpdateFrequentTask.startRepeatingTask(SourceFile:43)\n        at com.general.files.ConfigPubNub.buildPubSub(ConfigPubNub.java:128)\n        at com.general.files.MyApp.configPuSubInstance(MyApp.java:572)\n        at com.general.files.MyApp.access$100(MyApp.java:65)\n        at com.general.files.MyApp$1.onActivityCreated(MyApp.java:371)\n        at android.app.Application.dispatchActivityCreated(Application.java:372)\n        at android.app.Activity.dispatchActivityCreated(Activity.java:1374)\n        at android.app.Activity.onCreate(Activity.java:1651)\n        at androidx.core.app.ComponentActivity.onCreate(ComponentActivity.java:85)\n        at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:149)\n        at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:313)\n        at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:115)\n        at com.jikkisservices.user.BaseActivity.onCreate(BaseActivity.java:18)\n        at com.jikkisservices.user.UberXHomeActivity.onCreate(UberXHomeActivity.java:54)\n        at android.app.Activity.performCreate(Activity.java:8290)\n        at android.app.Activity.performCreate(Activity.java:8270)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4085)\n            ... 12 more\n</code></pre>\n<p>This code works well in Android 11 but this error showing in version 12 only.</p>\n"},{"tags":["java","swing","graphics","computer-science"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1669787334,"post_id":74622915,"comment_id":131719762,"body_markdown":"i suggest to create another method to drawCircle(centerCoord, radius), then your drawRandomCircles() should randomized the radius, and set the new centerCoord X= previous centerCoord X+ random radius + 1. \n\nAnd of course the radius must not be greater than height/2","body":"i suggest to create another method to drawCircle(centerCoord, radius), then your drawRandomCircles() should randomized the radius, and set the new centerCoord X= previous centerCoord X+ random radius + 1.   And of course the radius must not be greater than height/2"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669801477,"post_id":74622915,"comment_id":131723565,"body_markdown":"Your question to the user should not be in a loop. Get the input then set off a Swing `Timer` until the window is filled. You might keep your circles in `List&lt;Shape&gt;`. If you want the user to keep choosing then it&#39;s a bit different but the `Timer` should probably still be used.","body":"Your question to the user should not be in a loop. Get the input then set off a Swing <code>Timer</code> until the window is filled. You might keep your circles in <code>List&lt;Shape&gt;</code>. If you want the user to keep choosing then it&#39;s a bit different but the <code>Timer</code> should probably still be used."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811883,"creation_date":1669811883,"answer_id":74627920,"question_id":74622915,"body_markdown":"Your code uses a UI class that we don&#39;t have access to.\r\n\r\nThis solution is written in generic Java Swing.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. \r\n\r\nHere&#39;s the GUI I came up with.\r\n\r\n[![Random Circles][1]][1]\r\n\r\nThe first thing I did was create a `Circle` class.  The `Circle` class is a plain Java getter/setter class that holds a radius and a center point.  I prefer dealing with a center point when drawing circles, rather than the upper left corner of the bounding rectangle.  I used a `java.awt.Point` instance to hold the center point.\r\n\r\nNext, I created a `RandomCirclesModel` class.  The `RandomCirclesModel` class is a plain Java getter/setter class that holds a `java.util.List` of `Circle` instances, the dimensions of the drawing `JPanel`, and a margin.  When I create a drawing `JPanel`, I like to have a margin around the drawing area.  Since the number of circles is random, I use a `List` to store all the circles.\r\n\r\nI calculate all of the `Circle` instances before I draw anything.  The last &quot;random&quot; circle has to have a radius that just makes it fit in the bounding rectangle.\r\n\r\nI&#39;m not going to discuss the Java Swing code since you have that secret UI class.\r\n\r\nThe `Circle` instances are calculated in the `ButtonListener` class.  The `actionPerformed` method determines if the maximum diameter is in the range.  I set a minimum diameter of 50 pixels and your maximum diameter of 300 pixels.  The `calculateRandomCircles` method calculates the random circles.  Naming methods are that easy.  Verb-noun combinations.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.Box;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class RandomCirclesGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new RandomCirclesGUI());\r\n    \t}\r\n    \r\n    \tprivate final RandomCirclesModel model;\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tprivate JTextField validHeightField;\r\n    \r\n    \tpublic RandomCirclesGUI() {\r\n    \t\tthis.model = new RandomCirclesModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Random Circles&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createEntryPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createEntryPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Enter height below 300px:&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\tvalidHeightField = new JTextField(10);\r\n    \t\tpanel.add(validHeightField);\r\n    \r\n    \t\tpanel.add(Box.createHorizontalStrut(30));\r\n    \r\n    \t\tJButton button = new JButton(&quot;Submit&quot;);\r\n    \t\tbutton.addActionListener(new ButtonListener(this, model));\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tpublic String getValidHeightField() {\r\n    \t\treturn validHeightField.getText();\r\n    \t}\r\n    \r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final RandomCirclesModel model;\r\n    \r\n    \t\tpublic DrawingPanel(RandomCirclesModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(model.getDrawingPanelDimension());\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tGraphics2D g2d = (Graphics2D) g;\r\n    \r\n    \t\t\tint width = getWidth();\r\n    \t\t\tint height = model.getValidHeight();\r\n    \t\t\tint margin = model.getMargin();\r\n    \r\n    \t\t\tpaintBorder(g2d, width, height, margin);\r\n    \t\t\tpaintCircles(g2d);\r\n    \t\t}\r\n    \r\n    \t\tprivate void paintBorder(Graphics2D g2d, int width, int height,\r\n    \t\t\t\tint margin) {\r\n    \t\t\tg2d.setColor(Color.BLACK);\r\n    \t\t\tg2d.setStroke(new BasicStroke(3f));\r\n    \t\t\tg2d.drawLine(margin, margin, width - margin, margin);\r\n    \t\t\tg2d.drawLine(margin, margin, margin, height - margin);\r\n    \t\t\tg2d.drawLine(width - margin, margin, width - margin,\r\n    \t\t\t\t\theight - margin);\r\n    \t\t\tg2d.drawLine(margin, height - margin, width - margin,\r\n    \t\t\t\t\theight - margin);\r\n    \t\t}\r\n    \r\n    \t\tprivate void paintCircles(Graphics2D g2d) {\r\n    \t\t\tg2d.setColor(Color.blue);\r\n    \t\t\tfor (Circle circle : model.getCircles()) {\r\n    \t\t\t\tPoint centerPoint = circle.getCenterPoint();\r\n    \t\t\t\tint radius = circle.getRadius();\r\n    \t\t\t\tint diameter = radius + radius;\r\n    \t\t\t\tg2d.fillOval(centerPoint.x - radius, centerPoint.y - radius,\r\n    \t\t\t\t\t\tdiameter, diameter);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic class ButtonListener implements ActionListener {\r\n    \r\n    \t\tprivate final RandomCirclesGUI view;\r\n    \r\n    \t\tprivate final RandomCirclesModel model;\r\n    \r\n    \t\tpublic ButtonListener(RandomCirclesGUI view, RandomCirclesModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tString text = view.getValidHeightField();\r\n    \t\t\tdouble validHeightD;\r\n    \t\t\ttry {\r\n    \t\t\t\tvalidHeightD = Double.valueOf(text);\r\n    \t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t// Invalid value, return\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tint validHeight = (int) Math.round(validHeightD);\r\n    \t\t\tint margin = model.getMargin();\r\n    \t\t\tint width = model.getDrawingPanelDimension().width;\r\n    \t\t\tint height = model.getDrawingPanelDimension().height;\r\n    \t\t\tif (validHeight &gt; 50 &amp;&amp; validHeight &lt;= height - margin - margin) {\r\n    \t\t\t\tmodel.clearCircles();\r\n    \t\t\t\tmodel.setValidHeight(validHeight);\r\n    \t\t\t\tcalculateRandomCircles(margin, width, validHeight);\r\n    \t\t\t\tview.repaint();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void calculateRandomCircles(int margin, int width,\r\n    \t\t\t\tint validHeight) {\r\n    \t\t\tRandom random = new Random();\r\n    \t\t\tint x = margin;\r\n    \t\t\tint y = validHeight / 2;\r\n    \t\t\twhile (x &lt; (width - margin)) {\r\n    \t\t\t\tint radius = random\r\n    \t\t\t\t\t\t.nextInt((validHeight - margin - margin) / 2);\r\n    \t\t\t\tif (x &gt; (width - margin - radius - radius)) {\r\n    \t\t\t\t\tradius = (width - margin - x) / 2;\r\n    \t\t\t\t}\r\n    \t\t\t\tx += radius;\r\n    \t\t\t\tmodel.addCircle(new Circle(new Point(x, y), radius));\r\n    \t\t\t\tx += radius;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class RandomCirclesModel {\r\n    \r\n    \t\tprivate final int margin;\r\n    \t\tprivate int validHeight;\r\n    \r\n    \t\tprivate final Dimension drawingPanelDimension;\r\n    \r\n    \t\tprivate final List&lt;Circle&gt; circles;\r\n    \r\n    \t\tpublic RandomCirclesModel() {\r\n    \t\t\tthis.margin = 10;\r\n    \t\t\tthis.validHeight = 320;\r\n    \t\t\tthis.drawingPanelDimension = new Dimension(820, validHeight);\r\n    \t\t\tthis.circles = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\tpublic void clearCircles() {\r\n    \t\t\tthis.circles.clear();\r\n    \t\t}\r\n    \r\n    \t\tpublic void addCircle(Circle circle) {\r\n    \t\t\tthis.circles.add(circle);\r\n    \t\t}\r\n    \r\n    \t\tpublic void setValidHeight(int validHeight) {\r\n    \t\t\tthis.validHeight = validHeight;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getValidHeight() {\r\n    \t\t\treturn validHeight;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getMargin() {\r\n    \t\t\treturn margin;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getDrawingPanelDimension() {\r\n    \t\t\treturn drawingPanelDimension;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;Circle&gt; getCircles() {\r\n    \t\t\treturn circles;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class Circle {\r\n    \r\n    \t\tprivate final int radius;\r\n    \r\n    \t\tprivate final Point centerPoint;\r\n    \r\n    \t\tpublic Circle(Point centerPoint, int radius) {\r\n    \t\t\tthis.centerPoint = centerPoint;\r\n    \t\t\tthis.radius = radius;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getRadius() {\r\n    \t\t\treturn radius;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getCenterPoint() {\r\n    \t\t\treturn centerPoint;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z2o5t.png","title":"Creating sequence of alternating random sized circles","body":"<p>Your code uses a UI class that we don't have access to.</p>\n<p>This solution is written in generic Java Swing.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Here's the GUI I came up with.</p>\n<p><a href=\"https://i.stack.imgur.com/Z2o5t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2o5t.png\" alt=\"Random Circles\" /></a></p>\n<p>The first thing I did was create a <code>Circle</code> class.  The <code>Circle</code> class is a plain Java getter/setter class that holds a radius and a center point.  I prefer dealing with a center point when drawing circles, rather than the upper left corner of the bounding rectangle.  I used a <code>java.awt.Point</code> instance to hold the center point.</p>\n<p>Next, I created a <code>RandomCirclesModel</code> class.  The <code>RandomCirclesModel</code> class is a plain Java getter/setter class that holds a <code>java.util.List</code> of <code>Circle</code> instances, the dimensions of the drawing <code>JPanel</code>, and a margin.  When I create a drawing <code>JPanel</code>, I like to have a margin around the drawing area.  Since the number of circles is random, I use a <code>List</code> to store all the circles.</p>\n<p>I calculate all of the <code>Circle</code> instances before I draw anything.  The last &quot;random&quot; circle has to have a radius that just makes it fit in the bounding rectangle.</p>\n<p>I'm not going to discuss the Java Swing code since you have that secret UI class.</p>\n<p>The <code>Circle</code> instances are calculated in the <code>ButtonListener</code> class.  The <code>actionPerformed</code> method determines if the maximum diameter is in the range.  I set a minimum diameter of 50 pixels and your maximum diameter of 300 pixels.  The <code>calculateRandomCircles</code> method calculates the random circles.  Naming methods are that easy.  Verb-noun combinations.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Box;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class RandomCirclesGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new RandomCirclesGUI());\n    }\n\n    private final RandomCirclesModel model;\n\n    private final DrawingPanel drawingPanel;\n\n    private JTextField validHeightField;\n\n    public RandomCirclesGUI() {\n        this.model = new RandomCirclesModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Random Circles&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createEntryPanel(), BorderLayout.NORTH);\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createEntryPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        JLabel label = new JLabel(&quot;Enter height below 300px:&quot;);\n        panel.add(label);\n\n        validHeightField = new JTextField(10);\n        panel.add(validHeightField);\n\n        panel.add(Box.createHorizontalStrut(30));\n\n        JButton button = new JButton(&quot;Submit&quot;);\n        button.addActionListener(new ButtonListener(this, model));\n        panel.add(button);\n\n        return panel;\n    }\n\n    public String getValidHeightField() {\n        return validHeightField.getText();\n    }\n\n    public void repaint() {\n        drawingPanel.repaint();\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final RandomCirclesModel model;\n\n        public DrawingPanel(RandomCirclesModel model) {\n            this.model = model;\n            this.setPreferredSize(model.getDrawingPanelDimension());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g;\n\n            int width = getWidth();\n            int height = model.getValidHeight();\n            int margin = model.getMargin();\n\n            paintBorder(g2d, width, height, margin);\n            paintCircles(g2d);\n        }\n\n        private void paintBorder(Graphics2D g2d, int width, int height,\n                int margin) {\n            g2d.setColor(Color.BLACK);\n            g2d.setStroke(new BasicStroke(3f));\n            g2d.drawLine(margin, margin, width - margin, margin);\n            g2d.drawLine(margin, margin, margin, height - margin);\n            g2d.drawLine(width - margin, margin, width - margin,\n                    height - margin);\n            g2d.drawLine(margin, height - margin, width - margin,\n                    height - margin);\n        }\n\n        private void paintCircles(Graphics2D g2d) {\n            g2d.setColor(Color.blue);\n            for (Circle circle : model.getCircles()) {\n                Point centerPoint = circle.getCenterPoint();\n                int radius = circle.getRadius();\n                int diameter = radius + radius;\n                g2d.fillOval(centerPoint.x - radius, centerPoint.y - radius,\n                        diameter, diameter);\n            }\n        }\n    }\n\n    public class ButtonListener implements ActionListener {\n\n        private final RandomCirclesGUI view;\n\n        private final RandomCirclesModel model;\n\n        public ButtonListener(RandomCirclesGUI view, RandomCirclesModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            String text = view.getValidHeightField();\n            double validHeightD;\n            try {\n                validHeightD = Double.valueOf(text);\n            } catch (NumberFormatException e) {\n                // Invalid value, return\n                return;\n            }\n\n            int validHeight = (int) Math.round(validHeightD);\n            int margin = model.getMargin();\n            int width = model.getDrawingPanelDimension().width;\n            int height = model.getDrawingPanelDimension().height;\n            if (validHeight &gt; 50 &amp;&amp; validHeight &lt;= height - margin - margin) {\n                model.clearCircles();\n                model.setValidHeight(validHeight);\n                calculateRandomCircles(margin, width, validHeight);\n                view.repaint();\n            }\n        }\n\n        private void calculateRandomCircles(int margin, int width,\n                int validHeight) {\n            Random random = new Random();\n            int x = margin;\n            int y = validHeight / 2;\n            while (x &lt; (width - margin)) {\n                int radius = random\n                        .nextInt((validHeight - margin - margin) / 2);\n                if (x &gt; (width - margin - radius - radius)) {\n                    radius = (width - margin - x) / 2;\n                }\n                x += radius;\n                model.addCircle(new Circle(new Point(x, y), radius));\n                x += radius;\n            }\n        }\n\n    }\n\n    public class RandomCirclesModel {\n\n        private final int margin;\n        private int validHeight;\n\n        private final Dimension drawingPanelDimension;\n\n        private final List&lt;Circle&gt; circles;\n\n        public RandomCirclesModel() {\n            this.margin = 10;\n            this.validHeight = 320;\n            this.drawingPanelDimension = new Dimension(820, validHeight);\n            this.circles = new ArrayList&lt;&gt;();\n        }\n\n        public void clearCircles() {\n            this.circles.clear();\n        }\n\n        public void addCircle(Circle circle) {\n            this.circles.add(circle);\n        }\n\n        public void setValidHeight(int validHeight) {\n            this.validHeight = validHeight;\n        }\n\n        public int getValidHeight() {\n            return validHeight;\n        }\n\n        public int getMargin() {\n            return margin;\n        }\n\n        public Dimension getDrawingPanelDimension() {\n            return drawingPanelDimension;\n        }\n\n        public List&lt;Circle&gt; getCircles() {\n            return circles;\n        }\n\n    }\n\n    public class Circle {\n\n        private final int radius;\n\n        private final Point centerPoint;\n\n        public Circle(Point centerPoint, int radius) {\n            this.centerPoint = centerPoint;\n            this.radius = radius;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        public Point getCenterPoint() {\n            return centerPoint;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27030774,"reputation":1,"user_id":20587177,"display_name":"DaCrispychick3n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669811883,"creation_date":1669782684,"question_id":74622915,"body_markdown":"Need help fixing this.\r\n\r\nI should be getting multiple distinguishable circles of different random sizes, however my program seems to just make too many circles until its filled up.\r\n\r\nHere is what is expected:\r\n\r\n[![goal][1]][1]\r\n\r\nHere is what my program outputs:\r\n\r\n[![my code][2]][2]\r\n\r\n[1]: https://i.stack.imgur.com/Y3T40.png\r\n[2]: https://i.stack.imgur.com/p0eOG.png\r\n\r\nI have inputs (askDouble e.g.) that save the input into a variable. The height has to be less than PATTERN_SIZE which is 300.\r\n\r\nthe code:\r\nconstants:\r\n\r\n```java\r\npublic static final double PATTERN_LEFT = 50.0;   // Left side of the pattern\r\npublic static final double PATTERN_TOP = 50.0;    // Top of the pattern\r\npublic static final double PATTERN_SIZE = 300.0;  // The size of the pattern on the window\r\n```\r\nmethod for drawing circles:\r\n\r\n```java\r\n/**\r\n * Drawing a sequence of circles.\r\n */\r\npublic void drawRandomCircles(){\r\n    double height = 0;\r\n    boolean validHeight = false;\r\n\r\n    while(!validHeight){\r\n        height = UI.askDouble(&quot;Enter height below 300px: &quot;);\r\n\r\n        if(height &lt; PATTERN_SIZE &amp;&amp; height &gt; 0){\r\n            validHeight = true;\r\n            UI.setColor(Color.black);\r\n            UI.drawRect(PATTERN_LEFT,PATTERN_TOP,PATTERN_SIZE,height);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    while(validHeight){\r\n        double circleSize = (3 * Math.random() * (height-3));\r\n        UI.setColor(Color.blue);\r\n        for(int i = 0; i &lt; circleSize; i++){\r\n            if(circleSize &lt; height){\r\n                UI.fillOval(PATTERN_LEFT + i,PATTERN_TOP,circleSize,circleSize);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI know I have to have at least 2 while loops for the question as I&#39;ve been told so. Any help in the right direction will be appreciated. I&#39;m guessing it could be needing new variables for the second while loop&#39;s conditions as it just keeps drawing heaps of circles lol.","title":"Creating sequence of alternating random sized circles","body":"<p>Need help fixing this.</p>\n<p>I should be getting multiple distinguishable circles of different random sizes, however my program seems to just make too many circles until its filled up.</p>\n<p>Here is what is expected:</p>\n<p><a href=\"https://i.stack.imgur.com/Y3T40.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3T40.png\" alt=\"goal\" /></a></p>\n<p>Here is what my program outputs:</p>\n<p><a href=\"https://i.stack.imgur.com/p0eOG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0eOG.png\" alt=\"my code\" /></a></p>\n<p>I have inputs (askDouble e.g.) that save the input into a variable. The height has to be less than PATTERN_SIZE which is 300.</p>\n<p>the code:\nconstants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final double PATTERN_LEFT = 50.0;   // Left side of the pattern\npublic static final double PATTERN_TOP = 50.0;    // Top of the pattern\npublic static final double PATTERN_SIZE = 300.0;  // The size of the pattern on the window\n</code></pre>\n<p>method for drawing circles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Drawing a sequence of circles.\n */\npublic void drawRandomCircles(){\n    double height = 0;\n    boolean validHeight = false;\n\n    while(!validHeight){\n        height = UI.askDouble(&quot;Enter height below 300px: &quot;);\n\n        if(height &lt; PATTERN_SIZE &amp;&amp; height &gt; 0){\n            validHeight = true;\n            UI.setColor(Color.black);\n            UI.drawRect(PATTERN_LEFT,PATTERN_TOP,PATTERN_SIZE,height);\n\n        }\n\n    }\n\n    while(validHeight){\n        double circleSize = (3 * Math.random() * (height-3));\n        UI.setColor(Color.blue);\n        for(int i = 0; i &lt; circleSize; i++){\n            if(circleSize &lt; height){\n                UI.fillOval(PATTERN_LEFT + i,PATTERN_TOP,circleSize,circleSize);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>I know I have to have at least 2 while loops for the question as I've been told so. Any help in the right direction will be appreciated. I'm guessing it could be needing new variables for the second while loop's conditions as it just keeps drawing heaps of circles lol.</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1573239408,"creation_date":1573239408,"answer_id":58772347,"question_id":58772186,"body_markdown":"You could use [`TestInfo`][1] and write this condition by inspecting the test name:\r\n\r\n```\r\n@BeforeEach \r\nvoid init(TestInfo info) {\r\n  if (info.getDisplayName().equals(&quot;mySpecialTestName&quot;) {\r\n    return; // skip @BeforeEach in mySpecialTestName test\r\n  }\r\n}\r\n```\r\n\r\nbut it would be cleaner to move the tests that don&#39;t need `@BeforeEach` to a separate class.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/TestInfo.html","title":"Can I exclude an individual test from @BeforeEach in JUnit5?","body":"<p>You could use <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/TestInfo.html\" rel=\"noreferrer\"><code>TestInfo</code></a> and write this condition by inspecting the test name:</p>\n\n<pre><code>@BeforeEach \nvoid init(TestInfo info) {\n  if (info.getDisplayName().equals(\"mySpecialTestName\") {\n    return; // skip @BeforeEach in mySpecialTestName test\n  }\n}\n</code></pre>\n\n<p>but it would be cleaner to move the tests that don't need <code>@BeforeEach</code> to a separate class.</p>\n"},{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1669811735,"creation_date":1573278049,"answer_id":58776743,"question_id":58772186,"body_markdown":"You can move the tests that require the before-each behaviour into an inner ˋ@Nested&#180; subclass and put the before-each method there. \r\n```java\r\npublic class MyClassTest {\r\n\r\n     @Test\r\n     void test1(){}\r\n     \r\n     @Nested\r\n     private class NestedTestBlock {\r\n      \r\n      @BeforeEach\r\n      void beforeEach(){}\r\n    \r\n      @Test\r\n      void test2() {}\r\n    \r\n      @Test\r\n      void test3() {}\r\n     }\r\n    \r\n}","title":"Can I exclude an individual test from @BeforeEach in JUnit5?","body":"<p>You can move the tests that require the before-each behaviour into an inner ˋ@Nested´ subclass and put the before-each method there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClassTest {\n\n     @Test\n     void test1(){}\n     \n     @Nested\n     private class NestedTestBlock {\n      \n      @BeforeEach\n      void beforeEach(){}\n    \n      @Test\n      void test2() {}\n    \n      @Test\n      void test3() {}\n     }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":8122217,"reputation":875,"user_id":6118542,"accept_rate":0,"display_name":"Marcin Kulik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15261,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":58776743,"answer_count":2,"score":18,"last_activity_date":1669811735,"creation_date":1573238647,"question_id":58772186,"body_markdown":"Is it possible to exclude an individual test from `@BeforeEach` in `JUnit5`?\r\n\r\nKindly guide me for this.\r\n\r\nThank you","title":"Can I exclude an individual test from @BeforeEach in JUnit5?","body":"<p>Is it possible to exclude an individual test from <code>@BeforeEach</code> in <code>JUnit5</code>?</p>\n\n<p>Kindly guide me for this.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","android","webserver"],"answers":[{"tags":[],"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464679117,"creation_date":1464679117,"answer_id":37539253,"question_id":37539158,"body_markdown":"You have to send the location of each user to server using `GPS`, and get that location from `API` and show markers on the map","title":"How to get location of all the app user and show it on map","body":"<p>You have to send the location of each user to server using <code>GPS</code>, and get that location from <code>API</code> and show markers on the map</p>\n"},{"tags":[],"owner":{"account_id":5049203,"reputation":527,"user_id":4054285,"display_name":"Dharmendra Pratap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464681358,"creation_date":1464681358,"answer_id":37540005,"question_id":37539158,"body_markdown":"You have to send the location of each user to server using fused Api and get current location and save it to server by using web service and for showing markers on map use another web service for getting all locations.","title":"How to get location of all the app user and show it on map","body":"<p>You have to send the location of each user to server using fused Api and get current location and save it to server by using web service and for showing markers on map use another web service for getting all locations.</p>\n"}],"owner":{"account_id":7827236,"reputation":43,"user_id":5918408,"display_name":"Muhammad Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37539253,"answer_count":2,"score":0,"last_activity_date":1669811698,"creation_date":1464678839,"question_id":37539158,"body_markdown":"I want to show the location of all the app user on a map. How to get the location of a specific app user. Do we need a webserver to communicate or do it without a server? Any idea or link to do this?","title":"How to get location of all the app user and show it on map","body":"<p>I want to show the location of all the app user on a map. How to get the location of a specific app user. Do we need a webserver to communicate or do it without a server? Any idea or link to do this?</p>\n"},{"tags":["java","spring","spring-boot","command-line-arguments","javabeans"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1669816796,"post_id":74626750,"comment_id":131728938,"body_markdown":"Could you please describe the problem you&#39;re trying to solve? Why would you need to create beans at runtime, based on input arguments? Couldn&#39;t those arguments instead be parameters to a call on a preexisting bean?","body":"Could you please describe the problem you&#39;re trying to solve? Why would you need to create beans at runtime, based on input arguments? Couldn&#39;t those arguments instead be parameters to a call on a preexisting bean?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670371312,"post_id":74626750,"comment_id":131860548,"body_markdown":"`Myclass` is a class! ... `myclass` is an instance ;)","body":"<code>Myclass</code> is a class! ... <code>myclass</code> is an instance ;)"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811488,"creation_date":1669807142,"answer_id":74626916,"question_id":74626750,"body_markdown":"Assume:\r\n```lang-java\r\n// class ...main implements ApplicationRunner { ...\r\n\r\n// GenericApplicationContext !!! (but plenty alternatives for/much tuning on this available):\r\n@Autowired\r\nprivate GenericApplicationContext context;\r\n\r\n@Override\r\npublic void run(ApplicationArguments args) throws Exception {\r\n  String[] arguments = args.getSourceArgs();\r\n  for (String arg : arguments) {\r\n    System.out.println(&quot;HEYYYYYY&quot; + arg);\r\n    // simple sample: register for each arg a `Object` bean, with `arg` as &quot;bean id&quot;:\r\n    // ..registerBean(name, class, supplier)\r\n    context.registerBean(arg, Object.class, () -&gt; new Object()); \r\n  }\r\n}\r\n// ...\r\n```\r\n\r\nThen we can test, like:\r\n```lang-java\r\npackage com.example.demo; // i.e. package of main class\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.ApplicationContext;\r\n\r\n// fake args:\r\n@SpringBootTest(args = {&quot;foo&quot;, &quot;bar&quot;})\r\npublic class SomeTest {\r\n\r\n  // the &quot;testee&quot; ((from) spring context/environment)\r\n  @Autowired\r\n  ApplicationContext ctxt;\r\n\r\n  @Test\r\n  public void somke() throws Exception {\r\n    // should contain/know the beans identified by:\r\n    Object foo = ctxt.getBean(&quot;foo&quot;);\r\n    assertNotNull(foo);\r\n    Object bar = ctxt.getBean(&quot;bar&quot;);\r\n    assertNotNull(bar);\r\n  }\r\n}\r\n```\r\nor just like:\r\n```\r\n  @Autowired\r\n  @Qualifier(&quot;foo&quot;)\r\n  Object fooBean;\r\n\r\n  @Autowired\r\n  @Qualifier(&quot;bar&quot;)\r\n  Object barBean;\r\n\r\n  @Test\r\n  public void somke2() throws Exception {\r\n    assertNotNull(fooBean);\r\n    assertNotNull(barBean);\r\n  }\r\n```\r\n\r\n\r\n\r\nRefs:\r\n- dynamic beans:\r\n  - https://stackoverflow.com/q/4540713/592355 (2010)\r\n  - https://stackoverflow.com/q/57157396/592355 (2019)\r\n  - https://stackoverflow.com/q/43021493/592355 (2017)\r\n  - https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9\r\n  - https://www.baeldung.com/spring-5-functional-beans\r\n  - [`GenericApplicationContext` javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html)\r\n- testing:\r\n  - https://stackoverflow.com/q/42377254/592355\r\n","title":"How to create and use beans from Command Line Argument in SpringbootApplication and use them?","body":"<p>Assume:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// class ...main implements ApplicationRunner { ...\n\n// GenericApplicationContext !!! (but plenty alternatives for/much tuning on this available):\n@Autowired\nprivate GenericApplicationContext context;\n\n@Override\npublic void run(ApplicationArguments args) throws Exception {\n  String[] arguments = args.getSourceArgs();\n  for (String arg : arguments) {\n    System.out.println(&quot;HEYYYYYY&quot; + arg);\n    // simple sample: register for each arg a `Object` bean, with `arg` as &quot;bean id&quot;:\n    // ..registerBean(name, class, supplier)\n    context.registerBean(arg, Object.class, () -&gt; new Object()); \n  }\n}\n// ...\n</code></pre>\n<p>Then we can test, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo; // i.e. package of main class\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContext;\n\n// fake args:\n@SpringBootTest(args = {&quot;foo&quot;, &quot;bar&quot;})\npublic class SomeTest {\n\n  // the &quot;testee&quot; ((from) spring context/environment)\n  @Autowired\n  ApplicationContext ctxt;\n\n  @Test\n  public void somke() throws Exception {\n    // should contain/know the beans identified by:\n    Object foo = ctxt.getBean(&quot;foo&quot;);\n    assertNotNull(foo);\n    Object bar = ctxt.getBean(&quot;bar&quot;);\n    assertNotNull(bar);\n  }\n}\n</code></pre>\n<p>or just like:</p>\n<pre><code>  @Autowired\n  @Qualifier(&quot;foo&quot;)\n  Object fooBean;\n\n  @Autowired\n  @Qualifier(&quot;bar&quot;)\n  Object barBean;\n\n  @Test\n  public void somke2() throws Exception {\n    assertNotNull(fooBean);\n    assertNotNull(barBean);\n  }\n</code></pre>\n<p>Refs:</p>\n<ul>\n<li>dynamic beans:\n<ul>\n<li><a href=\"https://stackoverflow.com/q/4540713/592355\">Add Bean Programmatically to Spring Web App Context</a> (2010)</li>\n<li><a href=\"https://stackoverflow.com/q/57157396/592355\">How to register bean dynamically in Spring Boot?</a> (2019)</li>\n<li><a href=\"https://stackoverflow.com/q/43021493/592355\">How to add bean programmatically to Spring context?</a> (2017)</li>\n<li><a href=\"https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9\" rel=\"nofollow noreferrer\">https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9</a></li>\n<li><a href=\"https://www.baeldung.com/spring-5-functional-beans\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-5-functional-beans</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html\" rel=\"nofollow noreferrer\"><code>GenericApplicationContext</code> javadoc</a></li>\n</ul>\n</li>\n<li>testing:\n<ul>\n<li><a href=\"https://stackoverflow.com/q/42377254/592355\">How do you pass program arguments in a @SpringBootTest?</a></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669811488,"creation_date":1669806364,"question_id":74626750,"body_markdown":"I am trying to create a batch job using ApplicationRunner in my sprinbootApplication and I want to use the command line arguments as variables in my code.\r\nSo i want to extract the command line arguments, make beans from them and use them in my code. How to achieve it ?\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class MySbApp implements ApplicationRunner {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Myclass.class, args);\r\n      }\r\n    \r\n      @Autowired\r\n      private Myclass myclass;\r\n    \r\n      @Override\r\n      public void run(ApplicationArguments args) throws Exception {\r\n        String[] arguments = args.getSourceArgs();\r\n        for (String arg : arguments) {\r\n          System.out.println(&quot;HEYYYYYY&quot; + arg);\r\n        }\r\n        Myclass.someMethod();\r\n      }\r\n    }\r\n\r\nHow do I create beans here ?","title":"How to create and use beans from Command Line Argument in SpringbootApplication and use them?","body":"<p>I am trying to create a batch job using ApplicationRunner in my sprinbootApplication and I want to use the command line arguments as variables in my code.\nSo i want to extract the command line arguments, make beans from them and use them in my code. How to achieve it ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MySbApp implements ApplicationRunner {\n  public static void main(String[] args) {\n    SpringApplication.run(Myclass.class, args);\n  }\n\n  @Autowired\n  private Myclass myclass;\n\n  @Override\n  public void run(ApplicationArguments args) throws Exception {\n    String[] arguments = args.getSourceArgs();\n    for (String arg : arguments) {\n      System.out.println(&quot;HEYYYYYY&quot; + arg);\n    }\n    Myclass.someMethod();\n  }\n}\n</code></pre>\n<p>How do I create beans here ?</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1669812569,"post_id":74627384,"comment_id":131727400,"body_markdown":"share the stack trace from console, what is the error you get","body":"share the stack trace from console, what is the error you get"},{"owner":{"account_id":4989250,"reputation":329,"user_id":4011981,"accept_rate":86,"display_name":"santosh gore"},"score":0,"creation_date":1669839332,"post_id":74627384,"comment_id":131737114,"body_markdown":"please check admin.isPresent() value is true  or false , As you said you are getting error page , means you are getting zero record from db","body":"please check admin.isPresent() value is true  or false , As you said you are getting error page , means you are getting zero record from db"}],"owner":{"account_id":23085117,"reputation":15,"user_id":17196747,"display_name":"hybridize"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669811195,"creation_date":1669809282,"question_id":74627384,"body_markdown":"I&#39;m trying to get the details of an admin in the database using the username of the admin, but I keep getting redirected to the error page.\r\n\r\nThis is my admin controller:\r\n\r\n```\r\n@GetMapping(&quot;/admin-portal/{username}&quot;)\r\npublic String adminPortal(@PathVariable(&quot;username&quot;) String username, Model model){\r\n    Optional&lt;Admin&gt; admin = Optional.ofNullable(adminservice.getAdminByUsername(username));\r\n    if (admin.isPresent()){\r\n        model.addAttribute(&quot;admin&quot;, admin.get());\r\n        return &quot;admin/admin-portal&quot;;\r\n    }\r\n    return &quot;error&quot;;\r\n}\r\n```\r\n\r\nThis is the admin repository:\r\n\r\n```\r\npublic interface AdminRepository extends JpaRepository&lt;Admin, Long&gt;{\r\n\r\n    Admin findByUsername(String username);\r\n\r\n}\r\n```\r\n\r\nThis is my admin object class:\r\n```\r\n@Data\r\n@Entity(name = &quot;Admin&quot;)\r\n@Table\r\npublic class Admin {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;admin_sequence&quot;,\r\n            sequenceName = &quot;admin_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;admin_sequence&quot;\r\n    )\r\n    private long id;\r\n    private String username;\r\n    private String password;\r\n    private String role;\r\n\r\n    public Admin() {\r\n    }\r\n\r\n    public Admin(long id, String username, String password, String role) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n//    Constructor without Id\r\n    public Admin(String username, String password, String role) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n}\r\n```\r\n\r\nFinally my admin service class:\r\n\r\n```\r\npublic Admin getAdminByUsername(String username){\r\n    return adminRepository.findByUsername(username);\r\n}\r\n```\r\n\r\nWhat I expected to happen was that once the admin username was in the url AND if in the database, it would populate the thymeleaf template.\r\n\r\nThis is the template:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Admin Portal Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;Username:&lt;/td&gt;\r\n        &lt;td th:text=&quot;${admin.username}&quot;&gt;&lt;/td&gt;\r\n        &lt;td&gt;Password:&lt;/td&gt;\r\n        &lt;td th:text=&quot;${admin.password}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n","title":"How do I retrieve data from a database and display it on an HTML page in springboot?","body":"<p>I'm trying to get the details of an admin in the database using the username of the admin, but I keep getting redirected to the error page.</p>\n<p>This is my admin controller:</p>\n<pre><code>@GetMapping(&quot;/admin-portal/{username}&quot;)\npublic String adminPortal(@PathVariable(&quot;username&quot;) String username, Model model){\n    Optional&lt;Admin&gt; admin = Optional.ofNullable(adminservice.getAdminByUsername(username));\n    if (admin.isPresent()){\n        model.addAttribute(&quot;admin&quot;, admin.get());\n        return &quot;admin/admin-portal&quot;;\n    }\n    return &quot;error&quot;;\n}\n</code></pre>\n<p>This is the admin repository:</p>\n<pre><code>public interface AdminRepository extends JpaRepository&lt;Admin, Long&gt;{\n\n    Admin findByUsername(String username);\n\n}\n</code></pre>\n<p>This is my admin object class:</p>\n<pre><code>@Data\n@Entity(name = &quot;Admin&quot;)\n@Table\npublic class Admin {\n    @Id\n    @SequenceGenerator(\n            name = &quot;admin_sequence&quot;,\n            sequenceName = &quot;admin_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;admin_sequence&quot;\n    )\n    private long id;\n    private String username;\n    private String password;\n    private String role;\n\n    public Admin() {\n    }\n\n    public Admin(long id, String username, String password, String role) {\n        this.id = id;\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n\n//    Constructor without Id\n    public Admin(String username, String password, String role) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n}\n</code></pre>\n<p>Finally my admin service class:</p>\n<pre><code>public Admin getAdminByUsername(String username){\n    return adminRepository.findByUsername(username);\n}\n</code></pre>\n<p>What I expected to happen was that once the admin username was in the url AND if in the database, it would populate the thymeleaf template.</p>\n<p>This is the template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Admin Portal Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Username:&lt;/td&gt;\n        &lt;td th:text=&quot;${admin.username}&quot;&gt;&lt;/td&gt;\n        &lt;td&gt;Password:&lt;/td&gt;\n        &lt;td th:text=&quot;${admin.password}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-nestedscrollview"],"comments":[{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1533363297,"post_id":51682919,"comment_id":90328671,"body_markdown":"Try adding `android:fitsSystemWindows=&quot;true&quot;` in your `NestedScrollView`","body":"Try adding <code>android:fitsSystemWindows=&quot;true&quot;</code> in your <code>NestedScrollView</code>"},{"owner":{"account_id":10688670,"reputation":3585,"user_id":8533971,"accept_rate":43,"display_name":"Aditya"},"score":0,"creation_date":1533363796,"post_id":51682919,"comment_id":90328761,"body_markdown":"You can set the over scroll mode for this content as `android:overScrollMode=&quot;always&quot;` in your `NestedScrollView`.","body":"You can set the over scroll mode for this content as <code>android:overScrollMode=&quot;always&quot;</code> in your <code>NestedScrollView</code>."},{"owner":{"account_id":13993405,"reputation":1,"user_id":10106851,"display_name":"Vojta"},"score":0,"creation_date":1533384902,"post_id":51682919,"comment_id":90332988,"body_markdown":"@KrishnaSharma thanks, but it didnt solved my problem.","body":"@KrishnaSharma thanks, but it didnt solved my problem."},{"owner":{"account_id":13993405,"reputation":1,"user_id":10106851,"display_name":"Vojta"},"score":0,"creation_date":1533384920,"post_id":51682919,"comment_id":90332993,"body_markdown":"@HeisenBrg thanks, but it didnt solved my problem.","body":"@HeisenBrg thanks, but it didnt solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":26574271,"reputation":1,"user_id":20199979,"display_name":"Diphrogram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811092,"creation_date":1669811071,"answer_id":74627752,"question_id":51682919,"body_markdown":"Do you mean overScrollMode? Try this:\r\n\r\n`android:overScrollMode=&quot;always&quot;`","title":"Nestedscrollview end animation","body":"<p>Do you mean overScrollMode? Try this:</p>\n<p><code>android:overScrollMode=&quot;always&quot;</code></p>\n"}],"owner":{"account_id":13993405,"reputation":1,"user_id":10106851,"display_name":"Vojta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669811092,"creation_date":1533362310,"question_id":51682919,"body_markdown":"I have nestedscrollview:\r\n\r\n    &lt;android.support.v4.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/nestedscrollview&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;&gt;\r\n\r\n        &lt;include\r\n            ... /&gt;\r\n\r\n        &lt;include\r\n            ..../&gt;\r\n\r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler_inserts&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n\r\nMy nested scrollview dont have the animation at the end(wave). How to enable it?\r\n\r\nThanks","title":"Nestedscrollview end animation","body":"<p>I have nestedscrollview:</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/nestedscrollview\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/layout_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:focusableInTouchMode=\"true\"&gt;\n\n    &lt;include\n        ... /&gt;\n\n    &lt;include\n        ..../&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recycler_inserts\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n\n<p>My nested scrollview dont have the animation at the end(wave). How to enable it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"score":0,"creation_date":1669786093,"post_id":74623113,"comment_id":131719553,"body_markdown":"You are trying to start your service when your app is not in foreground. Try making that service start as `startForeground` and making a notification so that the user knows a service is running.","body":"You are trying to start your service when your app is not in foreground. Try making that service start as <code>startForeground</code> and making a notification so that the user knows a service is running."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1669787060,"post_id":74623113,"comment_id":131719706,"body_markdown":"Kindly format your code for proper reading and understanding. https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks","body":"Kindly format your code for proper reading and understanding. <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10051779,"reputation":487,"user_id":7431369,"display_name":"Manish Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811091,"creation_date":1669811091,"answer_id":74627758,"question_id":74623113,"body_markdown":"You need to start foreground service instead of service\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        context.startForegroundService(new Intent(context, YourService.class));\r\n     } else {\r\n        context.startService(new Intent(context, YourService.class));\r\n     }","title":"java.lang.IllegalStateException: Not allowed to start service Intent","body":"<p>You need to start foreground service instead of service</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    context.startForegroundService(new Intent(context, YourService.class));\n } else {\n    context.startService(new Intent(context, YourService.class));\n }\n</code></pre>\n"}],"owner":{"account_id":25909780,"reputation":1,"user_id":19634255,"display_name":"Swaraj Darne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669811091,"creation_date":1669784709,"question_id":74623113,"body_markdown":"```E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.firstmile.taxicabondemandtaxi, PID: 9900\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.firstmile.taxicabondemandtaxi/com.firstmile.taxicabondemandtaxi.activity.MainActivity}: **java.lang.IllegalStateException: Not allowed to start service Intent { cmp=com.firstmile.taxicabondemandtaxi/com.paypal.android.sdk.payments.PayPalService (has extras) }: app is in background uid UidRecord{5e38638 u0a301 TPSL idle procs:1 seq(0,0,0)}**\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3307)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:221)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7542)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n     **Caused by: java.lang.IllegalStateException: Not allowed to start service Intent { cmp=com.firstmile.taxicabondemandtaxi/com.paypal.android.sdk.payments.PayPalService (has extras) }: app is in background uid UidRecord{5e38638 u0a301 TPSL idle procs:1 seq(0,0,0)**}\r\n        at android.app.ContextImpl.startServiceCommon(ContextImpl.java:1626)\r\n        at android.app.ContextImpl.startService(ContextImpl.java:1581)\r\n        at android.content.ContextWrapper.startService(ContextWrapper.java:679)\r\n        at com.firstmile.taxicabondemandtaxi.activity.MainActivity.onCreate(MainActivity.java:380)\r\n        at android.app.Activity.performCreate(Activity.java:7893)\r\n        at android.app.Activity.performCreate(Activity.java:7880)`your text`\r\n        at android.app.Instrumentation.callActivity`your text`OnCreate(Instrumentation.java:1307)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3282)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:221)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7542)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)&#160;\r\n2022-11-30 10:06:23.297 9900-9979/com.firstmile.taxicabondemandtaxi D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-11-30 10:06:23.350 9900-9900/com.firstmile.taxicabondemandtaxi I/Process: Sending signal. PID: 9900 SIG: 9```\r\n\r\n```Im getting this error\r\n\r\nthis is my code```\r\n\r\n\r\n```\r\nIntent intent = new Intent(context, PayPalService.class);\r\nintent.putExtra(PayPalService.EXTRA_PAYPAL_CONFIGURATION, config);\r\ngetApplication().startService(intent);\r\n```\r\n\r\n```\r\npublic static final String EXTRA_PAYPAL_CONFIGURATION = &quot;com.paypal.android.sdk.paypalConfiguration&quot;;\r\n\r\n```\r\n","title":"java.lang.IllegalStateException: Not allowed to start service Intent","body":"<pre><code>    Process: com.firstmile.taxicabondemandtaxi, PID: 9900\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.firstmile.taxicabondemandtaxi/com.firstmile.taxicabondemandtaxi.activity.MainActivity}: **java.lang.IllegalStateException: Not allowed to start service Intent { cmp=com.firstmile.taxicabondemandtaxi/com.paypal.android.sdk.payments.PayPalService (has extras) }: app is in background uid UidRecord{5e38638 u0a301 TPSL idle procs:1 seq(0,0,0)}**\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3307)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:221)\n        at android.app.ActivityThread.main(ActivityThread.java:7542)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n     **Caused by: java.lang.IllegalStateException: Not allowed to start service Intent { cmp=com.firstmile.taxicabondemandtaxi/com.paypal.android.sdk.payments.PayPalService (has extras) }: app is in background uid UidRecord{5e38638 u0a301 TPSL idle procs:1 seq(0,0,0)**}\n        at android.app.ContextImpl.startServiceCommon(ContextImpl.java:1626)\n        at android.app.ContextImpl.startService(ContextImpl.java:1581)\n        at android.content.ContextWrapper.startService(ContextWrapper.java:679)\n        at com.firstmile.taxicabondemandtaxi.activity.MainActivity.onCreate(MainActivity.java:380)\n        at android.app.Activity.performCreate(Activity.java:7893)\n        at android.app.Activity.performCreate(Activity.java:7880)`your text`\n        at android.app.Instrumentation.callActivity`your text`OnCreate(Instrumentation.java:1307)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3446) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:221) \n        at android.app.ActivityThread.main(ActivityThread.java:7542) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950) \n2022-11-30 10:06:23.297 9900-9979/com.firstmile.taxicabondemandtaxi D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-11-30 10:06:23.350 9900-9900/com.firstmile.taxicabondemandtaxi I/Process: Sending signal. PID: 9900 SIG: 9```\n\n```Im getting this error\n\nthis is my code```\n\n\n</code></pre>\n<p>Intent intent = new Intent(context, PayPalService.class);\nintent.putExtra(PayPalService.EXTRA_PAYPAL_CONFIGURATION, config);\ngetApplication().startService(intent);</p>\n<pre><code>\n</code></pre>\n<p>public static final String EXTRA_PAYPAL_CONFIGURATION = &quot;com.paypal.android.sdk.paypalConfiguration&quot;;</p>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","junit","spring-boot-test"],"comments":[{"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"score":0,"creation_date":1669738094,"post_id":74616890,"comment_id":131708504,"body_markdown":"Seems like this could help: https://stackoverflow.com/questions/32519332/by-executing-a-simple-program-of-spring-hibernate-integration-i-am-getting-foll\n\ntldr- check if you have different versions clashing with each other in your dependency chain.","body":"Seems like this could help: <a href=\"https://stackoverflow.com/questions/32519332/by-executing-a-simple-program-of-spring-hibernate-integration-i-am-getting-foll\" title=\"by executing a simple program of spring hibernate integration i am getting foll\">stackoverflow.com/questions/32519332/&hellip;</a>  tldr- check if you have different versions clashing with each other in your dependency chain."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669738522,"post_id":74616890,"comment_id":131708702,"body_markdown":"Please show the whole pom.xml","body":"Please show the whole pom.xml"},{"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"score":0,"creation_date":1669738607,"post_id":74616890,"comment_id":131708743,"body_markdown":"Already tried the suggestion in the link. Didn&#39;t work for me.","body":"Already tried the suggestion in the link. Didn&#39;t work for me."},{"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"score":0,"creation_date":1669739108,"post_id":74616890,"comment_id":131708954,"body_markdown":"@SimonMartinelli Added contents from pom.xml","body":"@SimonMartinelli Added contents from pom.xml"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669742501,"post_id":74616890,"comment_id":131710136,"body_markdown":"Can you please test case for which this error is coming and project folder structure.","body":"Can you please test case for which this error is coming and project folder structure."}],"answers":[{"tags":[],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669811028,"creation_date":1669811028,"answer_id":74627737,"question_id":74616890,"body_markdown":"I managed to solve the problem by adding following dependencies to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n&gt; org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\r\n\r\nClass is present in hibernate-core 5.6.14. Once, i used the correct version, this problem was solved.\r\n\r\n ","title":"SpringBoot Test - Error creating bean with name &#39;entityManagerFactory&#39;","body":"<p>I managed to solve the problem by adding following dependencies to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy</p>\n</blockquote>\n<p>Class is present in hibernate-core 5.6.14. Once, i used the correct version, this problem was solved.</p>\n"}],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74627737,"answer_count":1,"score":0,"last_activity_date":1669811028,"creation_date":1669737781,"question_id":74616890,"body_markdown":"I am writing Junit test case for my Spring boot application but I am getting following error when I run the tests:\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\r\n\r\nI have spent good amount of time trying to figure out where things are going wrong but to no avail. Any pointer what can i do to fix this error. Here are the environment details:\r\n\r\nJava - 11, Spring boot - 2.6.7\r\n\r\nI have already added following in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI had following dependencies in pom.xml, which I removed after going through couple of suggestions:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nComplete pom.xml.In my project, some dependencies come from parent project. For simplicity, I have merged the contents of both parent and child pom and shared below.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n            &lt;version&gt;${xstream.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Splunk dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.splunk.logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;splunk-library-javalogging&lt;/artifactId&gt;\r\n            &lt;version&gt;[1.11.1,)&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\r\n            &lt;version&gt;${openpojo.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1-incubating&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\r\n            &lt;version&gt;${openpojo.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;","title":"SpringBoot Test - Error creating bean with name &#39;entityManagerFactory&#39;","body":"<p>I am writing Junit test case for my Spring boot application but I am getting following error when I run the tests:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/model/naming/CamelCaseToUnderscoresNamingStrategy\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy</p>\n</blockquote>\n<p>I have spent good amount of time trying to figure out where things are going wrong but to no avail. Any pointer what can i do to fix this error. Here are the environment details:</p>\n<p>Java - 11, Spring boot - 2.6.7</p>\n<p>I have already added following in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I had following dependencies in pom.xml, which I removed after going through couple of suggestions:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.5.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.5.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Complete pom.xml.In my project, some dependencies come from parent project. For simplicity, I have merged the contents of both parent and child pom and shared below.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\n        &lt;version&gt;3.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;version&gt;${xstream.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Splunk dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.splunk.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;splunk-library-javalogging&lt;/artifactId&gt;\n        &lt;version&gt;[1.11.1,)&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test Dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\n        &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\n        &lt;version&gt;${openpojo.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-shaded&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-incubating&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test Dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n                &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\n        &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\n        &lt;version&gt;${openpojo.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","onactivityresult","startactivityforresult"],"answers":[{"tags":[],"owner":{"account_id":7903329,"reputation":201,"user_id":5969676,"display_name":"RickertBrandsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669810783,"creation_date":1669810783,"answer_id":74627695,"question_id":74627492,"body_markdown":"This part of the code, will get you the result of the intent.\r\n\r\n    /**\r\n     * In your activity\r\n     * this will get you the result from the other intent.\r\n     * I do not know, what exactly you are exactly doing there.\r\n     * So you no longer need technically the request code.\r\n     */\r\n    private final ActivityResultLauncher&lt;Intent&gt; yourLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            Intent intentData = result.getData();\r\n\r\n            if (intentData == null) return;\r\n\r\n            intentData.getBooleanExtra(&quot;BOOLEAN&quot;, false);\r\n        }\r\n    });\r\n\r\nThis part of the code will call your launcher with your wanted intent.\r\n\r\n    yourLauncher.launch(mMediaProjectionManager.createScreenCaptureIntent());\r\n\r\nHopefully this simple example enlightens the method.","title":"use onActivityResult instead of startActivityFOrResult","body":"<p>This part of the code, will get you the result of the intent.</p>\n<pre><code>/**\n * In your activity\n * this will get you the result from the other intent.\n * I do not know, what exactly you are exactly doing there.\n * So you no longer need technically the request code.\n */\nprivate final ActivityResultLauncher&lt;Intent&gt; yourLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        Intent intentData = result.getData();\n\n        if (intentData == null) return;\n\n        intentData.getBooleanExtra(&quot;BOOLEAN&quot;, false);\n    }\n});\n</code></pre>\n<p>This part of the code will call your launcher with your wanted intent.</p>\n<pre><code>yourLauncher.launch(mMediaProjectionManager.createScreenCaptureIntent());\n</code></pre>\n<p>Hopefully this simple example enlightens the method.</p>\n"}],"owner":{"account_id":25382848,"reputation":1,"user_id":19194995,"display_name":"RAJ AGRAHARI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669810783,"creation_date":1669809793,"question_id":74627492,"body_markdown":"```\r\nprivate void toggleScreenShare(View v) {\r\n    ToggleButton toggleButton=(ToggleButton)  v;\r\n    if(toggleButton.isChecked()){\r\n        initRecorder();\r\n        recordScreen();\r\n        \r\n    }\r\n    else {\r\n        mMediaRecorder.stop();\r\n        mMediaRecorder.reset();\r\n        stopRecordScreen();\r\n\r\n        mVideoView.setVisibility(View.VISIBLE);\r\n        mVideoView.setVideoURI(Uri.parse(mVideoUrl));\r\n        mVideoView.start();\r\n    }\r\n}\r\n\r\nprivate void recordScreen() {\r\n    if(mediaProjection==null){\r\n       ** startActivityForResult(mMediaProjectionManager.createScreenCaptureIntent(),REQUEST_CODE);**\r\n        \r\n        return;\r\n    }\r\n\r\n    mVirtualDisplay=createVirtualDisplay();\r\n    mMediaRecorder.start();\r\n}\r\n```\r\n\r\n\r\nThis is my code I want to use  onActivityResult in bold line because StartActivityFOrResult is deprecated ,Can anyone help me how to write this\r\n\r\nI&#39;m try many times and want the code","title":"use onActivityResult instead of startActivityFOrResult","body":"<pre><code>private void toggleScreenShare(View v) {\n    ToggleButton toggleButton=(ToggleButton)  v;\n    if(toggleButton.isChecked()){\n        initRecorder();\n        recordScreen();\n        \n    }\n    else {\n        mMediaRecorder.stop();\n        mMediaRecorder.reset();\n        stopRecordScreen();\n\n        mVideoView.setVisibility(View.VISIBLE);\n        mVideoView.setVideoURI(Uri.parse(mVideoUrl));\n        mVideoView.start();\n    }\n}\n\nprivate void recordScreen() {\n    if(mediaProjection==null){\n       ** startActivityForResult(mMediaProjectionManager.createScreenCaptureIntent(),REQUEST_CODE);**\n        \n        return;\n    }\n\n    mVirtualDisplay=createVirtualDisplay();\n    mMediaRecorder.start();\n}\n</code></pre>\n<p>This is my code I want to use  onActivityResult in bold line because StartActivityFOrResult is deprecated ,Can anyone help me how to write this</p>\n<p>I'm try many times and want the code</p>\n"},{"tags":["java","file-io","path"],"answers":[{"tags":[],"owner":{"account_id":10298373,"reputation":148,"user_id":7597798,"display_name":"S Manikandan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669810110,"creation_date":1563371940,"answer_id":57077674,"question_id":57076935,"body_markdown":"Just use this\r\n\r\n    String pathTemp=System.getProperty(&quot;user.dir&quot;); //it will give the root directory of where your program runs\r\n\r\n    String pathTemp=pathTemp+&quot;/target/&quot;+fileName; //here file name from the argument\r\n    \r\n    Path path=Paths.get(pathTemp);\r\n    \r\n    Files.write(path,list,Charset.defaultCharset());","title":"Java: How to create &amp; write file to maven target directory","body":"<p>Just use this</p>\n<pre><code>String pathTemp=System.getProperty(&quot;user.dir&quot;); //it will give the root directory of where your program runs\n\nString pathTemp=pathTemp+&quot;/target/&quot;+fileName; //here file name from the argument\n\nPath path=Paths.get(pathTemp);\n\nFiles.write(path,list,Charset.defaultCharset());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563373900,"creation_date":1563373272,"answer_id":57078118,"question_id":57076935,"body_markdown":"The first `/` was causing a problem in the string. You have to get the full string without that.\r\n\r\nI have tried with my class to achieve it : \r\n\r\n    String path = Test.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n    path = path.substring(1, path.length()) + &quot;file.txt&quot;;\r\n    System.out.println(path);\r\n    Path out = Paths.get(path);\r\n    System.out.println(out.isAbsolute());\r\n\r\nOutput :\r\n\r\n    F:/software/workspace/file.txt\r\n    true","title":"Java: How to create &amp; write file to maven target directory","body":"<p>The first <code>/</code> was causing a problem in the string. You have to get the full string without that.</p>\n\n<p>I have tried with my class to achieve it : </p>\n\n<pre><code>String path = Test.class.getProtectionDomain().getCodeSource().getLocation().getPath();\npath = path.substring(1, path.length()) + \"file.txt\";\nSystem.out.println(path);\nPath out = Paths.get(path);\nSystem.out.println(out.isAbsolute());\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>F:/software/workspace/file.txt\ntrue\n</code></pre>\n"}],"owner":{"account_id":15642496,"reputation":85,"user_id":11285510,"display_name":"suspense_hey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669810110,"creation_date":1563369807,"question_id":57076935,"body_markdown":"Goal: \r\nTrying to create, and write text file to target folder in maven project\r\n\r\nMethod: \r\n````\r\npublic synchronized void writeToFile(List&lt;String&gt; list, String file) {\r\n        String path = MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n        \r\n        try {\r\n            Path out = Paths.get( path + file);\r\n            Files.write(out, list, Charset.defaultCharset());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n````\r\n\r\nProblems:\r\n\r\n- java.nio.file.InvalidPathException error\r\n\r\n- App will be deployed on different systems so path may change\r\n\r\n- I don&#39;t know how to return the target path for this case without retrieving this error\r\n\r\n\r\n\r\nErrors:\r\n\r\n````\r\nException in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jquinn/IdeaProjects/Exercise1/Word%20Scraper%20-%20Java/target/classes/exclusions.txt\r\n\tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\r\n\tat sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\r\n\tat java.nio.file.Paths.get(Paths.java:84)\r\n\tat FileManager.writeToFile(FileManager.java:58)\r\n\tat Driver.main(Driver.java:21)\r\n```` ","title":"Java: How to create &amp; write file to maven target directory","body":"<p>Goal: \nTrying to create, and write text file to target folder in maven project</p>\n\n<p>Method: </p>\n\n<pre><code>public synchronized void writeToFile(List&lt;String&gt; list, String file) {\n        String path = MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n\n        try {\n            Path out = Paths.get( path + file);\n            Files.write(out, list, Charset.defaultCharset());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>Problems:</p>\n\n<ul>\n<li><p>java.nio.file.InvalidPathException error</p></li>\n<li><p>App will be deployed on different systems so path may change</p></li>\n<li><p>I don't know how to return the target path for this case without retrieving this error</p></li>\n</ul>\n\n<p>Errors:</p>\n\n<pre><code>Exception in thread \"main\" java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jquinn/IdeaProjects/Exercise1/Word%20Scraper%20-%20Java/target/classes/exclusions.txt\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\n    at java.nio.file.Paths.get(Paths.java:84)\n    at FileManager.writeToFile(FileManager.java:58)\n    at Driver.main(Driver.java:21)\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":5972466,"reputation":1293,"user_id":4694415,"display_name":"Guilherme Alencar"},"score":2,"creation_date":1633105263,"post_id":54512217,"comment_id":122680333,"body_markdown":"Your payload helped me to create my json file to import in the keycloak&#39;s container","body":"Your payload helped me to create my json file to import in the keycloak&#39;s container"}],"answers":[{"tags":[],"owner":{"account_id":14833360,"reputation":803,"user_id":10712233,"display_name":"Victor Calatramas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1549274808,"creation_date":1549274808,"answer_id":54513839,"question_id":54512217,"body_markdown":"After checking [Keycloak&#39;s REST API](https://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource) doesn&#39;t look like bulk/batch requests for creating users are accepted. The only solution would be to send the `POST` request for every user.\r\n\r\nThis is not surprising, HTTP is not prepared for this kind of requests:\r\n\r\n&gt;As HTTP does not provide proper guidance for handling batch/bulk requests and responses.\r\n\r\nfrom [this RESTful guide](https://opensource.zalando.com/restful-api-guidelines/). Have a look to it, it&#39;s really usefull in REST devlopments.","title":"Can we create users in Keycloak by sending a json array containing more than 2 user info?","body":"<p>After checking <a href=\"https://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">Keycloak's REST API</a> doesn't look like bulk/batch requests for creating users are accepted. The only solution would be to send the <code>POST</code> request for every user.</p>\n\n<p>This is not surprising, HTTP is not prepared for this kind of requests:</p>\n\n<blockquote>\n  <p>As HTTP does not provide proper guidance for handling batch/bulk requests and responses.</p>\n</blockquote>\n\n<p>from <a href=\"https://opensource.zalando.com/restful-api-guidelines/\" rel=\"noreferrer\">this RESTful guide</a>. Have a look to it, it's really usefull in REST devlopments.</p>\n"},{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1622532354,"creation_date":1549455463,"answer_id":54553488,"question_id":54512217,"body_markdown":"Please have a look on the discussion added in Keycloak mailing list \r\n\r\n \r\n\r\n&gt;    Just double checked the approach I suggested. I thought we had made\r\n&gt; it possible to import users into an existing realm, but that&#39;s not the\r\n&gt; case. You have to create the whole realm. It&#39;s still possible to do it\r\n&gt; this way, first create the realm and add an example user. Stop the\r\n&gt; server and run it again with:\r\n\r\n \r\n\r\n     bin/standalone.sh -Dkeycloak.migration.action=export -Dkeycloak.migration.provider=dir -Dkeycloak.migration.realmName=&lt;realm name&gt; -Dkeycloak.migration.dir=&lt;dir name&gt;\r\n\r\n&gt; * Replace realm name and dir name\r\n&gt; \r\n&gt; In dir name you should then get a few json files. You can then\r\n&gt; update realm name-users-0.json to add the users you want to import.\r\n&gt; \r\n&gt; As Bill points out the admin client could be a good alternative\r\n&gt; approach. We also have a Java client that makes it simpler to use.\r\n&gt; Have a look at the admin-client example.\r\n\r\nSo this URL can help. Have a look at [this link][1]\r\n\r\n\r\n  [1]: http://lists.jboss.org/pipermail/keycloak-user/2015-May/002145.html\r\n\r\n\r\nAnother option is using partialImport API for importing users (use admin user token):\r\n```\r\naccess_token=`curl --data &quot;grant_type=password&amp;username=admin&amp;password=admin&amp;client_secret=secret&amp;client_id=admin-cli&quot; http://localhost:8180/auth/realms/master/protocol/openid-connect/token| jq -r .access_token`\r\n\r\ncurl -X POST -H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; -H &quot;Authorization: Bearer $access_token&quot;  --data &quot;@$PWD/myrealm-users-0.json&quot;  http://localhost:8180/auth/admin/realms/myrealm/partialImport\r\n```","title":"Can we create users in Keycloak by sending a json array containing more than 2 user info?","body":"<p>Please have a look on the discussion added in Keycloak mailing list</p>\n<blockquote>\n<p>Just double checked the approach I suggested. I thought we had made\nit possible to import users into an existing realm, but that's not the\ncase. You have to create the whole realm. It's still possible to do it\nthis way, first create the realm and add an example user. Stop the\nserver and run it again with:</p>\n</blockquote>\n<pre><code> bin/standalone.sh -Dkeycloak.migration.action=export -Dkeycloak.migration.provider=dir -Dkeycloak.migration.realmName=&lt;realm name&gt; -Dkeycloak.migration.dir=&lt;dir name&gt;\n</code></pre>\n<blockquote>\n<ul>\n<li>Replace realm name and dir name</li>\n</ul>\n<p>In dir name you should then get a few json files. You can then\nupdate realm name-users-0.json to add the users you want to import.</p>\n<p>As Bill points out the admin client could be a good alternative\napproach. We also have a Java client that makes it simpler to use.\nHave a look at the admin-client example.</p>\n</blockquote>\n<p>So this URL can help. Have a look at <a href=\"http://lists.jboss.org/pipermail/keycloak-user/2015-May/002145.html\" rel=\"nofollow noreferrer\">this link</a></p>\n<p>Another option is using partialImport API for importing users (use admin user token):</p>\n<pre><code>access_token=`curl --data &quot;grant_type=password&amp;username=admin&amp;password=admin&amp;client_secret=secret&amp;client_id=admin-cli&quot; http://localhost:8180/auth/realms/master/protocol/openid-connect/token| jq -r .access_token`\n\ncurl -X POST -H 'Accept: application/json' -H 'Content-Type: application/json' -H &quot;Authorization: Bearer $access_token&quot;  --data &quot;@$PWD/myrealm-users-0.json&quot;  http://localhost:8180/auth/admin/realms/myrealm/partialImport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402626,"reputation":5350,"user_id":769900,"accept_rate":45,"display_name":"Jeff Tian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669809773,"creation_date":1669809773,"answer_id":74627486,"question_id":54512217,"body_markdown":"I checked the `paritalImport` approach as suggested by others, it seems not available anymore in later versions such as 19.0.1. The error message is something like {&quot;error&quot;:&quot;RESTEASY003210: Could not find resource for full path: localhost:8080/auth/admin/realms/myrealm/partialImport&quot;}%.\r\n\r\nSo I invoke Keycloak API to create users, one by one though. But as long as we can use a program to do it, it&#39;s also acceptable.\r\n\r\nFor example, we can write some java code to invoke the creating user API:\r\n\r\n```java\r\n    public String createUser(UserPayload user) throws IOException {\r\n        var url = &quot;https://keycloak.jiwai.win/auth/admin/realms/UniHeart/users&quot;;\r\n        var payload = java.lang.String.format(&quot;{\\&quot;firstName\\&quot;:\\&quot;Sergey\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Kargopolov\\&quot;, \\&quot;email\\&quot;:\\&quot;%s\\&quot;, \\&quot;enabled\\&quot;:\\&quot;true\\&quot;, \\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;credentials\\&quot;:[{\\&quot;type\\&quot;:\\&quot;password\\&quot;,\\&quot;value\\&quot;:\\&quot;%s\\&quot;,\\&quot;temporary\\&quot;:false}]}&quot;, user.getEmail(), user.getUsername(), user.getPassword());\r\n        return this.jsonRequest(url, payload).toString();\r\n    }\r\n```\r\n\r\nThe above code is merely calling the create user API. But to call it successfully we need firstly got the admin access token:\r\n\r\n```java\r\n\r\n    public KeycloakAccessTokenPayload getAdminAccessToken() throws IOException {\r\n        var username = System.getenv(&quot;KC_ADMIN&quot;);\r\n        var password = System.getenv(&quot;KC_PASSWORD&quot;);\r\n\r\n        System.out.println(java.lang.String.format(&quot;username = %s; password = %s&quot;, username, password));\r\n\r\n        var mediaType = MediaType.parse(&quot;application/x-www-form-urlencoded&quot;);\r\n        var body = RequestBody.create(mediaType, java.lang.String.format(&quot;username=%s&amp;password=%s&amp;grant_type=password&amp;client_id=admin-cli&quot;, username, password));\r\n        var request = new Request.Builder()\r\n                .url(&quot;https://keycloak.jiwai.win/auth/realms/master/protocol/openid-connect/token&quot;)\r\n                .method(&quot;POST&quot;, body)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .build();\r\n        var response = client.newCall(request).execute();\r\n\r\n        var s = Objects.requireNonNull(response.body()).string();\r\n\r\n        System.out.println(java.lang.String.format(&quot;token response = %s&quot;, s));\r\n\r\n        return JsonHelper.parseFrom(s);\r\n    }\r\n\r\n```\r\n\r\nAnd then pass the admin access token to the target API by setting the HTTP header:\r\n\r\n```java\r\n\r\n    public Response jsonRequest(String url, String payload) throws IOException {\r\n        var mediaType = MediaType.parse(&quot;application/json&quot;);\r\n        var body = RequestBody.create(mediaType, payload);\r\n        var request = new Request.Builder().url(url).method(&quot;POST&quot;, body).addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Authorization&quot;, java.lang.String.format(&quot;Bearer %s&quot;, getAdminAccessToken().access_token)).build();\r\n        var res = client.newCall(request).execute();\r\n\r\n        System.out.println(java.lang.String.format(&quot;jsonRequest response = %s&quot;, res.toString()));\r\n\r\n        return res;\r\n    }\r\n```\r\n\r\nThe fully working example is here: https://github.com/Jeff-Tian/keycloak-springboot/blob/main/src/main/java/com/example/keycloakspringboot/KeycloakHelper.java#L29","title":"Can we create users in Keycloak by sending a json array containing more than 2 user info?","body":"<p>I checked the <code>paritalImport</code> approach as suggested by others, it seems not available anymore in later versions such as 19.0.1. The error message is something like {&quot;error&quot;:&quot;RESTEASY003210: Could not find resource for full path: localhost:8080/auth/admin/realms/myrealm/partialImport&quot;}%.</p>\n<p>So I invoke Keycloak API to create users, one by one though. But as long as we can use a program to do it, it's also acceptable.</p>\n<p>For example, we can write some java code to invoke the creating user API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String createUser(UserPayload user) throws IOException {\n        var url = &quot;https://keycloak.jiwai.win/auth/admin/realms/UniHeart/users&quot;;\n        var payload = java.lang.String.format(&quot;{\\&quot;firstName\\&quot;:\\&quot;Sergey\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Kargopolov\\&quot;, \\&quot;email\\&quot;:\\&quot;%s\\&quot;, \\&quot;enabled\\&quot;:\\&quot;true\\&quot;, \\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;credentials\\&quot;:[{\\&quot;type\\&quot;:\\&quot;password\\&quot;,\\&quot;value\\&quot;:\\&quot;%s\\&quot;,\\&quot;temporary\\&quot;:false}]}&quot;, user.getEmail(), user.getUsername(), user.getPassword());\n        return this.jsonRequest(url, payload).toString();\n    }\n</code></pre>\n<p>The above code is merely calling the create user API. But to call it successfully we need firstly got the admin access token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public KeycloakAccessTokenPayload getAdminAccessToken() throws IOException {\n        var username = System.getenv(&quot;KC_ADMIN&quot;);\n        var password = System.getenv(&quot;KC_PASSWORD&quot;);\n\n        System.out.println(java.lang.String.format(&quot;username = %s; password = %s&quot;, username, password));\n\n        var mediaType = MediaType.parse(&quot;application/x-www-form-urlencoded&quot;);\n        var body = RequestBody.create(mediaType, java.lang.String.format(&quot;username=%s&amp;password=%s&amp;grant_type=password&amp;client_id=admin-cli&quot;, username, password));\n        var request = new Request.Builder()\n                .url(&quot;https://keycloak.jiwai.win/auth/realms/master/protocol/openid-connect/token&quot;)\n                .method(&quot;POST&quot;, body)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .build();\n        var response = client.newCall(request).execute();\n\n        var s = Objects.requireNonNull(response.body()).string();\n\n        System.out.println(java.lang.String.format(&quot;token response = %s&quot;, s));\n\n        return JsonHelper.parseFrom(s);\n    }\n\n</code></pre>\n<p>And then pass the admin access token to the target API by setting the HTTP header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public Response jsonRequest(String url, String payload) throws IOException {\n        var mediaType = MediaType.parse(&quot;application/json&quot;);\n        var body = RequestBody.create(mediaType, payload);\n        var request = new Request.Builder().url(url).method(&quot;POST&quot;, body).addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Authorization&quot;, java.lang.String.format(&quot;Bearer %s&quot;, getAdminAccessToken().access_token)).build();\n        var res = client.newCall(request).execute();\n\n        System.out.println(java.lang.String.format(&quot;jsonRequest response = %s&quot;, res.toString()));\n\n        return res;\n    }\n</code></pre>\n<p>The fully working example is here: <a href=\"https://github.com/Jeff-Tian/keycloak-springboot/blob/main/src/main/java/com/example/keycloakspringboot/KeycloakHelper.java#L29\" rel=\"nofollow noreferrer\">https://github.com/Jeff-Tian/keycloak-springboot/blob/main/src/main/java/com/example/keycloakspringboot/KeycloakHelper.java#L29</a></p>\n"}],"owner":{"account_id":10755585,"reputation":291,"user_id":7913639,"display_name":"Midhun Gopinath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16495,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1669809773,"creation_date":1549267843,"question_id":54512217,"body_markdown":"I was able to create user in Keycloak by posting a json containing only 1 user using postman.\r\n\r\n&gt; http://localhost:8080/auth/admin/realms/master/users\r\n\r\n But when i tried to create more than 1 user by passing a json array of more than 1 record i am  getting a 500 Internal server error \r\n\r\n\r\n    [\r\n      {\r\n        &quot;username&quot;: &quot;user1&quot;,\r\n        &quot;firstName&quot;: &quot;John&quot;,\r\n        &quot;attributes&quot;: {\r\n          &quot;pl_uid&quot;: null\r\n        },\r\n        &quot;credentials&quot;: [\r\n          {\r\n            &quot;temporary&quot;: true,\r\n            &quot;type&quot;: &quot;password&quot;,\r\n            &quot;value&quot;: &quot;ares2012&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;username&quot;: &quot;1000195&quot;,\r\n        &quot;firstName&quot;: &quot;Matt&quot;,\r\n        &quot;attributes&quot;: {\r\n          &quot;pl_uid&quot;: null\r\n        },\r\n        &quot;credentials&quot;: [\r\n          {\r\n            &quot;temporary&quot;: true,\r\n            &quot;type&quot;: &quot;password&quot;,\r\n            &quot;value&quot;: &quot;rx3o0t9f&quot;\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\nIs there any way by which we can send a json array to keycloak and create users there?\r\n","title":"Can we create users in Keycloak by sending a json array containing more than 2 user info?","body":"<p>I was able to create user in Keycloak by posting a json containing only 1 user using postman.</p>\n\n<blockquote>\n  <p><a href=\"http://localhost:8080/auth/admin/realms/master/users\" rel=\"noreferrer\">http://localhost:8080/auth/admin/realms/master/users</a></p>\n</blockquote>\n\n<p>But when i tried to create more than 1 user by passing a json array of more than 1 record i am  getting a 500 Internal server error </p>\n\n<pre><code>[\n  {\n    \"username\": \"user1\",\n    \"firstName\": \"John\",\n    \"attributes\": {\n      \"pl_uid\": null\n    },\n    \"credentials\": [\n      {\n        \"temporary\": true,\n        \"type\": \"password\",\n        \"value\": \"ares2012\"\n      }\n    ]\n  },\n  {\n    \"username\": \"1000195\",\n    \"firstName\": \"Matt\",\n    \"attributes\": {\n      \"pl_uid\": null\n    },\n    \"credentials\": [\n      {\n        \"temporary\": true,\n        \"type\": \"password\",\n        \"value\": \"rx3o0t9f\"\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>Is there any way by which we can send a json array to keycloak and create users there?</p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1669809427,"post_id":74627377,"comment_id":131726395,"body_markdown":"What debugger are you using? What IDE?","body":"What debugger are you using? What IDE?"},{"owner":{"account_id":22465779,"reputation":1,"user_id":16666956,"display_name":"Justin02"},"score":0,"creation_date":1669809723,"post_id":74627377,"comment_id":131726487,"body_markdown":"eclipse @federico klez Culloca","body":"eclipse @federico klez Culloca"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1669812449,"post_id":74627377,"comment_id":131727350,"body_markdown":"The program requires several inputs - are you entering the number when you step over the `scan.nextInt()` lines?","body":"The program requires several inputs - are you entering the number when you step over the <code>scan.nextInt()</code> lines?"},{"owner":{"account_id":22465779,"reputation":1,"user_id":16666956,"display_name":"Justin02"},"score":0,"creation_date":1669818809,"post_id":74627377,"comment_id":131729798,"body_markdown":"no, i thought i should run it first so that so that those values are in. but i did try to do it before entering the numbers and it didnt work. could this be the problem","body":"no, i thought i should run it first so that so that those values are in. but i did try to do it before entering the numbers and it didnt work. could this be the problem"}],"owner":{"account_id":22465779,"reputation":1,"user_id":16666956,"display_name":"Justin02"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669809751,"creation_date":1669809253,"question_id":74627377,"body_markdown":"```\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Scanner;\r\n\r\npublic class olPers {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt;nums = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt;mins = new ArrayList&lt;Integer&gt;();\r\n\t\tint x = scan.nextInt();\r\n\t\tfor(int i=0;i&lt;x;i++) {\r\n\t\t\tint num1=scan.nextInt();\r\n\t\t\tnums.add(num1);\r\n\t\t\tint num2=scan.nextInt();\r\n\t\t\tnums.add(num2);\r\n\t\t\tint num3=scan.nextInt();\r\n\t\t\tnums.add(num3);\r\n\t\t\tCollections.sort(nums);\r\n\t\t\tint min = nums.get(0);\r\n\t\t\tmins.add(min);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i=0 ;i&lt;mins.size();i++ ) {\r\n\t\t\tSystem.out.print(mins.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t\tscan.close();\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\niv tried looking on YT and iv done exacally what they do but its not working. im not very good at debugging so i might just be doing something wrong. when i *step over* or *step in*, the little blue ball becomes a small magnifying glass and its so frustrating.","title":"why is it when i try to debug, the little blue ball turns into a magnifying glass and stops","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class olPers {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        ArrayList&lt;Integer&gt;nums = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt;mins = new ArrayList&lt;Integer&gt;();\n        int x = scan.nextInt();\n        for(int i=0;i&lt;x;i++) {\n            int num1=scan.nextInt();\n            nums.add(num1);\n            int num2=scan.nextInt();\n            nums.add(num2);\n            int num3=scan.nextInt();\n            nums.add(num3);\n            Collections.sort(nums);\n            int min = nums.get(0);\n            mins.add(min);\n            \n            \n        }\n        for(int i=0 ;i&lt;mins.size();i++ ) {\n            System.out.print(mins.get(i)+&quot; &quot;);\n        }\n        scan.close();\n\n    }\n\n}\n\n</code></pre>\n<p>iv tried looking on YT and iv done exacally what they do but its not working. im not very good at debugging so i might just be doing something wrong. when i <em>step over</em> or <em>step in</em>, the little blue ball becomes a small magnifying glass and its so frustrating.</p>\n"},{"tags":["java","android","android-fragments","popup","android-toolbar"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1646918948,"post_id":71418781,"comment_id":126245968,"body_markdown":"`myDialog = new Dialog(getActivity().getApplicationContext());` – Do not use the application `Context` there, because it doesn&#39;t have a theme on it. You want the `Activity` instead; e.g., just `new Dialog(getActivity())`. If this `Fragment` is in `MainActivity` where this code originally worked, then that should be all you need to change, if I&#39;m following your description correctly. Otherwise, you might need to look into your theme setup, as the answers below suggest.","body":"<code>myDialog = new Dialog(getActivity().getApplicationContext());</code> – Do not use the application <code>Context</code> there, because it doesn&#39;t have a theme on it. You want the <code>Activity</code> instead; e.g., just <code>new Dialog(getActivity())</code>. If this <code>Fragment</code> is in <code>MainActivity</code> where this code originally worked, then that should be all you need to change, if I&#39;m following your description correctly. Otherwise, you might need to look into your theme setup, as the answers below suggest."},{"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"score":1,"creation_date":1646929848,"post_id":71418781,"comment_id":126250695,"body_markdown":"@MikeM. thank you very much! Your comment should be posted as the answer. My app theme was fine, the problem was exactly what you said. :)","body":"@MikeM. thank you very much! Your comment should be posted as the answer. My app theme was fine, the problem was exactly what you said. :)"}],"answers":[{"tags":[],"owner":{"account_id":16184743,"reputation":63,"user_id":11685230,"display_name":"1552980358"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646887277,"creation_date":1646887277,"answer_id":71418916,"question_id":71418781,"body_markdown":"From your exception stack trace, \r\n```\r\nandroid.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\r\n```\r\n\r\nThen, look at the 3rd &quot;Caused by...&quot; line, which is \r\n```\r\nCaused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\r\n```\r\n\r\nSo, with the stack trace, you should set your `Application` or `Activity` theme be the style be any style with prefix `Theme.MaterialComponents.*`,\r\n\r\nHere is the example:\r\n\r\n1. In `res/value/style.xml`,\r\n   ```\r\n   &lt;style name=&quot;Theme.MaterialAppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n   &lt;!-- Custom item configurations --&gt;\r\n   &lt;/style&gt;\r\n   ```\r\n\r\n2. In `AndroidManifest.xml`,\r\n   ```\r\n   &lt;application\r\n        ...\r\n        android:theme=&quot;@style/Theme.MaterialAppTheme&quot;&gt;\r\n   ```\r\n\r\n   Or\r\n\r\n   ```\r\n   &lt;activity\r\n        ...\r\n        android:theme=&quot;@style/Theme.MaterialAppTheme&quot;&gt;\r\n   ```","title":"My app is crashing when I click on an ImageView in the toolbar - Fragments","body":"<p>From your exception stack trace,</p>\n<pre><code>android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\n</code></pre>\n<p>Then, look at the 3rd &quot;Caused by...&quot; line, which is</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n</code></pre>\n<p>So, with the stack trace, you should set your <code>Application</code> or <code>Activity</code> theme be the style be any style with prefix <code>Theme.MaterialComponents.*</code>,</p>\n<p>Here is the example:</p>\n<ol>\n<li><p>In <code>res/value/style.xml</code>,</p>\n<pre><code>&lt;style name=&quot;Theme.MaterialAppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n&lt;!-- Custom item configurations --&gt;\n&lt;/style&gt;\n</code></pre>\n</li>\n<li><p>In <code>AndroidManifest.xml</code>,</p>\n<pre><code>&lt;application\n     ...\n     android:theme=&quot;@style/Theme.MaterialAppTheme&quot;&gt;\n</code></pre>\n<p>Or</p>\n<pre><code>&lt;activity\n     ...\n     android:theme=&quot;@style/Theme.MaterialAppTheme&quot;&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646895406,"creation_date":1646895406,"answer_id":71419961,"question_id":71418781,"body_markdown":"Try this -\r\n\r\nChange your Base application theme parent in style.xml/theme.xml\r\n \r\nreplace current parent theme with the\r\n\r\n    parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;","title":"My app is crashing when I click on an ImageView in the toolbar - Fragments","body":"<p>Try this -</p>\n<p>Change your Base application theme parent in style.xml/theme.xml</p>\n<p>replace current parent theme with the</p>\n<pre><code>parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669809599,"creation_date":1669809599,"answer_id":74627448,"question_id":71418781,"body_markdown":"**Here&#39;s the problem:**\r\n`myDialog = new Dialog(getActivity().getApplicationContext());` \r\n\r\n– Do not use the application `Context` there, because it doesn&#39;t have a theme on it. \r\nYou want the `Activity` instead; e.g., just `new Dialog(getActivity())`. \r\nIf this `Fragment` is in `MainActivity` where this code originally worked, then that should be all you need to change, if I&#39;m following your description correctly. Otherwise, you might need to look into your theme setup, as the answers below suggest.\r\n\r\nThis answer is taken from [Mike M.][1]&#39;s comment on the question — thank you, it was the only real solution to the problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2850651/mike-m","title":"My app is crashing when I click on an ImageView in the toolbar - Fragments","body":"<p><strong>Here's the problem:</strong>\n<code>myDialog = new Dialog(getActivity().getApplicationContext());</code></p>\n<p>– Do not use the application <code>Context</code> there, because it doesn't have a theme on it.\nYou want the <code>Activity</code> instead; e.g., just <code>new Dialog(getActivity())</code>.\nIf this <code>Fragment</code> is in <code>MainActivity</code> where this code originally worked, then that should be all you need to change, if I'm following your description correctly. Otherwise, you might need to look into your theme setup, as the answers below suggest.</p>\n<p>This answer is taken from <a href=\"https://stackoverflow.com/users/2850651/mike-m\">Mike M.</a>'s comment on the question — thank you, it was the only real solution to the problem.</p>\n"}],"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74627448,"answer_count":3,"score":0,"last_activity_date":1669809599,"creation_date":1646885811,"question_id":71418781,"body_markdown":"Below are my dependencies\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\nimplementation &#39;com.google.android.material:material:1.3.0&#39;\r\nimplementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n```\r\n\r\nBelow is my HomeFragment.java\r\n```\r\npackage com.example.practice.fragments;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.practice.MainActivity;\r\nimport com.example.practice.R;\r\nimport com.example.practice.activities.SettingsActivity;\r\nimport com.example.practice.activities.login_n_register.LoginActivity;\r\nimport com.example.practice.activities.login_n_register.ProfileActivity;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.shashank.sony.fancytoastlib.FancyToast;\r\nimport com.thefinestartist.finestwebview.FinestWebView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link HomeFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class HomeFragment extends Fragment {\r\n    private FirebaseFirestore firebaseFirestore;\r\n    private FirebaseAuth mAuth;\r\n    private String current_user_id;\r\n    private FirebaseUser user;\r\n    private String userName,name,email;\r\n    private String userid;\r\n    Dialog myDialog;\r\n    String currentUserImage;\r\n    CircleImageView currentUserImageCV;\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    final String PREFS_NAME = &quot;MyPrefsFile&quot;;\r\n\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private CollectionReference notebookRef = db.collection(&quot;Users&quot;);\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HomeFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static HomeFragment newInstance(String param1, String param2) {\r\n        HomeFragment fragment = new HomeFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        Toolbar mToolbar = (Toolbar) view.findViewById(R.id.home_toolbar);\r\n        if (mToolbar != null) {\r\n            ((AppCompatActivity)getActivity()).setSupportActionBar(mToolbar);\r\n            ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(&quot;&quot;);\r\n        }\r\n        mToolbar.setTitle(null);\r\n\r\n        ImageSlider imageSlider = view.findViewById(R.id.image_slider);\r\n\r\n        List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\r\n\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\r\n\r\n        imageSlider.setImageList(slideModels, true);\r\n\r\n        currentUserImageCV = view.findViewById(R.id.currentUserImageCV);\r\n        myDialog = new Dialog(getActivity().getApplicationContext());\r\n\r\n        FirebaseApp.initializeApp(getActivity().getApplicationContext());\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseFirestore = FirebaseFirestore.getInstance();\r\n        SharedPreferences settings = this.getActivity().getSharedPreferences(PREFS_NAME, 0);\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        if(user!=null)\r\n        {\r\n            userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            final DocumentReference docRef = db.collection(&quot;Users&quot;).document(userid);\r\n            docRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onEvent(@Nullable DocumentSnapshot snapshot,\r\n                                    @Nullable FirebaseFirestoreException e) {\r\n                    if (snapshot.exists()){\r\n                        userName = snapshot.getString(&quot;username&quot;);\r\n                        name = snapshot.getString(&quot;name&quot;);\r\n                        email = snapshot.getString(&quot;email&quot;);\r\n                        currentUserImage = snapshot.getString(&quot;image&quot;);\r\n\r\n                        Glide.with(getActivity().getApplicationContext())\r\n                                .load(currentUserImage)\r\n                                .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\r\n                                .centerCrop()\r\n                                .placeholder(R.drawable.default_profile)\r\n                                .into(currentUserImageCV);\r\n                    } else {\r\n                        FancyToast.makeText(getActivity().getApplicationContext(), getString(R.string.things_gone_bad), FancyToast.LENGTH_LONG, FancyToast.ERROR,false).show();\r\n                    }\r\n                }\r\n            });\r\n\r\n            userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            firebaseFirestore.collection(&quot;Users&quot;).document(userid).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        if(task.getResult().exists()){\r\n                            userName = task.getResult().getString(&quot;username&quot;);\r\n                            name = task.getResult().getString(&quot;name&quot;);\r\n                            email= task.getResult().getString(&quot;email&quot;);\r\n                            currentUserImage = task.getResult().getString(&quot;image&quot;);\r\n\r\n                            Glide.with(getActivity().getApplicationContext())\r\n                                    .load(currentUserImage)\r\n                                    .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\r\n                                    .centerCrop()\r\n                                    .placeholder(R.drawable.default_profile)\r\n                                    .into(currentUserImageCV);\r\n\r\n                        }\r\n                    } else {\r\n                        String error = task.getException().getMessage();\r\n                        FancyToast.makeText(getActivity().getApplicationContext(),&quot;500 Server Retrieve Error: &quot; + error, FancyToast.LENGTH_LONG, FancyToast.ERROR,false).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        currentUserImageCV.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ShowPopup(v);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.main_menu, menu);\r\n        super.onCreateOptionsMenu(menu,inflater);\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n\r\n            case R.id.action_settings:\r\n                startActivity(new Intent(getActivity().getApplicationContext(), SettingsActivity.class));\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void ShowPopup(View v) {\r\n        TextView userName;\r\n        CircleImageView manageAcc_userImage;\r\n        Button manageAccountBtn,signoutBtn,privacyBtn,termsBtn;\r\n        myDialog.setContentView(R.layout.manage_acc_popup);\r\n        manageAcc_userImage = myDialog.findViewById(R.id.manageAcc_userImage);\r\n        userName =(TextView) myDialog.findViewById(R.id.manageAcc_userEmail);\r\n        userName.setText(email);\r\n        manageAccountBtn = (Button) myDialog.findViewById(R.id.button);\r\n        signoutBtn = (Button) myDialog.findViewById(R.id.signoutBtn);\r\n        privacyBtn = (Button) myDialog.findViewById(R.id.privacyBtn);\r\n        termsBtn = (Button) myDialog.findViewById(R.id.termsBtn);\r\n\r\n        signoutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                myDialog.dismiss();\r\n                logout();\r\n            }\r\n        });\r\n\r\n        privacyBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                myDialog.dismiss();\r\n\r\n                new FinestWebView.Builder(getActivity().getApplicationContext()).theme(R.style.FinestWebViewTheme)\r\n                        .titleDefault(getString(R.string.privacy_policy))\r\n                        .toolbarScrollFlags(0)\r\n                        .statusBarColorRes(R.color.colorPrimary)\r\n                        .toolbarColorRes(R.color.colorPrimary)\r\n                        .titleColorRes(R.color.colorWhiteText)\r\n                        .urlColorRes(R.color.colorWhiteText)\r\n                        .iconDefaultColorRes(R.color.colorWhiteText)\r\n                        .theme(R.style.webview)\r\n                        .progressBarColorRes(R.color.colorPrimaryDark)\r\n                        .swipeRefreshColorRes(R.color.colorPrimaryLight)\r\n                        .menuSelector(R.drawable.selector_dark_theme)\r\n                        .menuTextGravity(Gravity.CENTER_VERTICAL | Gravity.RIGHT)\r\n                        .menuTextPaddingRightRes(R.dimen.defaultMenuTextPaddingLeft)\r\n                        .dividerHeight(0)\r\n                        .gradientDivider(false)\r\n                        .setCustomAnimations(R.anim.slide_left_in, R.anim.hold, R.anim.hold,\r\n                                R.anim.slide_right_out)\r\n                        .disableIconBack(true)\r\n                        .disableIconClose(false)\r\n                        .disableIconForward(true)\r\n                        .disableIconMenu(false)\r\n                        .show(&quot;https://www.habbo.com/playing-habbo/safety&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        termsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                myDialog.dismiss();\r\n\r\n                new FinestWebView.Builder(getActivity().getApplicationContext()).theme(R.style.FinestWebViewTheme)\r\n                        .titleDefault(getString(R.string.terms_of_service))\r\n                        .toolbarScrollFlags(0)\r\n                        .statusBarColorRes(R.color.colorPrimary)\r\n                        .toolbarColorRes(R.color.colorPrimary)\r\n                        .titleColorRes(R.color.colorWhiteText)\r\n                        .urlColorRes(R.color.colorWhiteText)\r\n                        .iconDefaultColorRes(R.color.colorWhiteText)\r\n                        .theme(R.style.webview)\r\n                        .progressBarColorRes(R.color.colorPrimaryDark)\r\n                        .swipeRefreshColorRes(R.color.colorPrimaryLight)\r\n                        .menuSelector(R.drawable.selector_dark_theme)\r\n                        .menuTextGravity(Gravity.CENTER_VERTICAL | Gravity.RIGHT)\r\n                        .menuTextPaddingRightRes(R.dimen.defaultMenuTextPaddingLeft)\r\n                        .dividerHeight(0)\r\n                        .gradientDivider(false)\r\n                        .setCustomAnimations(R.anim.slide_left_in, R.anim.hold, R.anim.hold,\r\n                                R.anim.slide_right_out)\r\n                        .disableIconBack(true)\r\n                        .disableIconClose(false)\r\n                        .disableIconForward(true)\r\n                        .disableIconMenu(false)\r\n                        .show(&quot;https://nft.habbo.com/terms&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        Glide.with(getActivity().getApplicationContext())\r\n                .load(currentUserImage)\r\n                .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\r\n                .centerCrop()\r\n                .placeholder(new ColorDrawable(Color.GRAY))\r\n                .into(manageAcc_userImage);\r\n\r\n        manageAccountBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent profileIntent = new Intent(getActivity().getApplicationContext(), ProfileActivity.class);\r\n                startActivity(profileIntent);\r\n                getActivity().overridePendingTransition(R.anim.slide_from_right, R.anim.slide_to_left);\r\n            }\r\n        });\r\n        myDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        myDialog.setCancelable(true);\r\n        myDialog.show();\r\n    }\r\n\r\n    private void logout() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity().getApplicationContext(),R.style.MyCustomAlert);\r\n        builder.setTitle(getString(R.string.logoutBtn));\r\n        builder.setMessage(getString(R.string.are_you_sure_logout));\r\n        builder.setPositiveButton(getString(R.string.yes), new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                mAuth.signOut();\r\n                sendToLoginPage();\r\n            }\r\n        });\r\n\r\n        builder.setNegativeButton(getString(R.string.no), new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n        AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n\r\n    }\r\n\r\n    private void sendToLoginPage() {\r\n        Intent intent = new Intent(getActivity().getApplicationContext(), LoginActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n        getActivity().overridePendingTransition(R.anim.slide_from_left, R.anim.slide_to_right);\r\n    }\r\n\r\n}\r\n```\r\nThe above code looks fine to me. Moved it from the MainActivity.java and did some changes to work inside the fragment, but now I don&#39;t understand why the following below is happening\r\n\r\nMy app crashes when I click the ImageView that&#39;s working also as a button.\r\n\r\nI&#39;m getting below error:\r\n```\r\n2022-03-10 00:50:47.012 16503-16503/com.example.practice E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.practice, PID: 16503\r\n    android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\r\n    Caused by: android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)\r\n        at android.app.Dialog.setContentView(Dialog.java:569)\r\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)\r\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\r\n        at com.google.android.material.internal.ThemeEnforcement.checkTheme(ThemeEnforcement.java:243)\r\n        at com.google.android.material.internal.ThemeEnforcement.checkMaterialTheme(ThemeEnforcement.java:217)\r\n        at com.google.android.material.internal.ThemeEnforcement.checkCompatibleTheme(ThemeEnforcement.java:145)\r\n        at com.google.android.material.internal.ThemeEnforcement.obtainStyledAttributes(ThemeEnforcement.java:76)\r\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:124)\r\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:114)\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)&#160;\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)&#160;\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)&#160;\r\n        at android.app.Dialog.setContentView(Dialog.java:569)&#160;\r\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)&#160;\r\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)&#160;\r\n        at android.view.View.performClick(View.java:7448)&#160;\r\n        at android.view.View.performClickInternal(View.java:7425)&#160;\r\n        at android.view.View.access$3600(View.java:810)&#160;\r\n        at android.view.View$PerformClick.run(View.java:28305)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n2022-03-10 00:50:47.013 16503-16503/com.example.practice E/CustomActivityOnCrash: App has crashed, executing CustomActivityOnCrash&#39;s UncaughtExceptionHandler\r\n    android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\r\n    Caused by: android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)\r\n        at android.app.Dialog.setContentView(Dialog.java:569)\r\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)\r\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\r\n        at com.google.android.material.internal.ThemeEnforcement.checkTheme(ThemeEnforcement.java:243)\r\n        at com.google.android.material.internal.ThemeEnforcement.checkMaterialTheme(ThemeEnforcement.java:217)\r\n        at com.google.android.material.internal.ThemeEnforcement.checkCompatibleTheme(ThemeEnforcement.java:145)\r\n        at com.google.android.material.internal.ThemeEnforcement.obtainStyledAttributes(ThemeEnforcement.java:76)\r\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:124)\r\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:114)\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)&#160;\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)&#160;\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)&#160;\r\n        at android.app.Dialog.setContentView(Dialog.java:569)&#160;\r\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)&#160;\r\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)&#160;\r\n        at android.view.View.performClick(View.java:7448)&#160;\r\n        at android.view.View.performClickInternal(View.java:7425)&#160;\r\n        at android.view.View.access$3600(View.java:810)&#160;\r\n        at android.view.View$PerformClick.run(View.java:28305)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```","title":"My app is crashing when I click on an ImageView in the toolbar - Fragments","body":"<p>Below are my dependencies</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.2.0'\nimplementation 'com.google.android.material:material:1.3.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n</code></pre>\n<p>Below is my HomeFragment.java</p>\n<pre><code>package com.example.practice.fragments;\n\nimport android.app.Dialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\nimport com.denzcoskun.imageslider.ImageSlider;\nimport com.denzcoskun.imageslider.models.SlideModel;\nimport com.example.practice.MainActivity;\nimport com.example.practice.R;\nimport com.example.practice.activities.SettingsActivity;\nimport com.example.practice.activities.login_n_register.LoginActivity;\nimport com.example.practice.activities.login_n_register.ProfileActivity;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\nimport com.shashank.sony.fancytoastlib.FancyToast;\nimport com.thefinestartist.finestwebview.FinestWebView;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link HomeFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class HomeFragment extends Fragment {\n    private FirebaseFirestore firebaseFirestore;\n    private FirebaseAuth mAuth;\n    private String current_user_id;\n    private FirebaseUser user;\n    private String userName,name,email;\n    private String userid;\n    Dialog myDialog;\n    String currentUserImage;\n    CircleImageView currentUserImageCV;\n    private static final String TAG = &quot;MainActivity&quot;;\n    final String PREFS_NAME = &quot;MyPrefsFile&quot;;\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private CollectionReference notebookRef = db.collection(&quot;Users&quot;);\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment HomeFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static HomeFragment newInstance(String param1, String param2) {\n        HomeFragment fragment = new HomeFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n        setHasOptionsMenu(true);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n        Toolbar mToolbar = (Toolbar) view.findViewById(R.id.home_toolbar);\n        if (mToolbar != null) {\n            ((AppCompatActivity)getActivity()).setSupportActionBar(mToolbar);\n            ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(&quot;&quot;);\n        }\n        mToolbar.setTitle(null);\n\n        ImageSlider imageSlider = view.findViewById(R.id.image_slider);\n\n        List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\n\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n        slideModels.add(new SlideModel(&quot;SomeImageURL&quot;));\n\n        imageSlider.setImageList(slideModels, true);\n\n        currentUserImageCV = view.findViewById(R.id.currentUserImageCV);\n        myDialog = new Dialog(getActivity().getApplicationContext());\n\n        FirebaseApp.initializeApp(getActivity().getApplicationContext());\n        mAuth = FirebaseAuth.getInstance();\n        firebaseFirestore = FirebaseFirestore.getInstance();\n        SharedPreferences settings = this.getActivity().getSharedPreferences(PREFS_NAME, 0);\n        user = FirebaseAuth.getInstance().getCurrentUser();\n\n        if(user!=null)\n        {\n            userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            final DocumentReference docRef = db.collection(&quot;Users&quot;).document(userid);\n            docRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onEvent(@Nullable DocumentSnapshot snapshot,\n                                    @Nullable FirebaseFirestoreException e) {\n                    if (snapshot.exists()){\n                        userName = snapshot.getString(&quot;username&quot;);\n                        name = snapshot.getString(&quot;name&quot;);\n                        email = snapshot.getString(&quot;email&quot;);\n                        currentUserImage = snapshot.getString(&quot;image&quot;);\n\n                        Glide.with(getActivity().getApplicationContext())\n                                .load(currentUserImage)\n                                .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\n                                .centerCrop()\n                                .placeholder(R.drawable.default_profile)\n                                .into(currentUserImageCV);\n                    } else {\n                        FancyToast.makeText(getActivity().getApplicationContext(), getString(R.string.things_gone_bad), FancyToast.LENGTH_LONG, FancyToast.ERROR,false).show();\n                    }\n                }\n            });\n\n            userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            firebaseFirestore.collection(&quot;Users&quot;).document(userid).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    if(task.isSuccessful()){\n                        if(task.getResult().exists()){\n                            userName = task.getResult().getString(&quot;username&quot;);\n                            name = task.getResult().getString(&quot;name&quot;);\n                            email= task.getResult().getString(&quot;email&quot;);\n                            currentUserImage = task.getResult().getString(&quot;image&quot;);\n\n                            Glide.with(getActivity().getApplicationContext())\n                                    .load(currentUserImage)\n                                    .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\n                                    .centerCrop()\n                                    .placeholder(R.drawable.default_profile)\n                                    .into(currentUserImageCV);\n\n                        }\n                    } else {\n                        String error = task.getException().getMessage();\n                        FancyToast.makeText(getActivity().getApplicationContext(),&quot;500 Server Retrieve Error: &quot; + error, FancyToast.LENGTH_LONG, FancyToast.ERROR,false).show();\n                    }\n                }\n            });\n        }\n\n        currentUserImageCV.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ShowPopup(v);\n            }\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.main_menu, menu);\n        super.onCreateOptionsMenu(menu,inflater);\n    }\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n\n            case R.id.action_settings:\n                startActivity(new Intent(getActivity().getApplicationContext(), SettingsActivity.class));\n                return true;\n        }\n        return false;\n    }\n\n    public void ShowPopup(View v) {\n        TextView userName;\n        CircleImageView manageAcc_userImage;\n        Button manageAccountBtn,signoutBtn,privacyBtn,termsBtn;\n        myDialog.setContentView(R.layout.manage_acc_popup);\n        manageAcc_userImage = myDialog.findViewById(R.id.manageAcc_userImage);\n        userName =(TextView) myDialog.findViewById(R.id.manageAcc_userEmail);\n        userName.setText(email);\n        manageAccountBtn = (Button) myDialog.findViewById(R.id.button);\n        signoutBtn = (Button) myDialog.findViewById(R.id.signoutBtn);\n        privacyBtn = (Button) myDialog.findViewById(R.id.privacyBtn);\n        termsBtn = (Button) myDialog.findViewById(R.id.termsBtn);\n\n        signoutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                myDialog.dismiss();\n                logout();\n            }\n        });\n\n        privacyBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                myDialog.dismiss();\n\n                new FinestWebView.Builder(getActivity().getApplicationContext()).theme(R.style.FinestWebViewTheme)\n                        .titleDefault(getString(R.string.privacy_policy))\n                        .toolbarScrollFlags(0)\n                        .statusBarColorRes(R.color.colorPrimary)\n                        .toolbarColorRes(R.color.colorPrimary)\n                        .titleColorRes(R.color.colorWhiteText)\n                        .urlColorRes(R.color.colorWhiteText)\n                        .iconDefaultColorRes(R.color.colorWhiteText)\n                        .theme(R.style.webview)\n                        .progressBarColorRes(R.color.colorPrimaryDark)\n                        .swipeRefreshColorRes(R.color.colorPrimaryLight)\n                        .menuSelector(R.drawable.selector_dark_theme)\n                        .menuTextGravity(Gravity.CENTER_VERTICAL | Gravity.RIGHT)\n                        .menuTextPaddingRightRes(R.dimen.defaultMenuTextPaddingLeft)\n                        .dividerHeight(0)\n                        .gradientDivider(false)\n                        .setCustomAnimations(R.anim.slide_left_in, R.anim.hold, R.anim.hold,\n                                R.anim.slide_right_out)\n                        .disableIconBack(true)\n                        .disableIconClose(false)\n                        .disableIconForward(true)\n                        .disableIconMenu(false)\n                        .show(&quot;https://www.habbo.com/playing-habbo/safety&quot;);\n\n            }\n        });\n\n        termsBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                myDialog.dismiss();\n\n                new FinestWebView.Builder(getActivity().getApplicationContext()).theme(R.style.FinestWebViewTheme)\n                        .titleDefault(getString(R.string.terms_of_service))\n                        .toolbarScrollFlags(0)\n                        .statusBarColorRes(R.color.colorPrimary)\n                        .toolbarColorRes(R.color.colorPrimary)\n                        .titleColorRes(R.color.colorWhiteText)\n                        .urlColorRes(R.color.colorWhiteText)\n                        .iconDefaultColorRes(R.color.colorWhiteText)\n                        .theme(R.style.webview)\n                        .progressBarColorRes(R.color.colorPrimaryDark)\n                        .swipeRefreshColorRes(R.color.colorPrimaryLight)\n                        .menuSelector(R.drawable.selector_dark_theme)\n                        .menuTextGravity(Gravity.CENTER_VERTICAL | Gravity.RIGHT)\n                        .menuTextPaddingRightRes(R.dimen.defaultMenuTextPaddingLeft)\n                        .dividerHeight(0)\n                        .gradientDivider(false)\n                        .setCustomAnimations(R.anim.slide_left_in, R.anim.hold, R.anim.hold,\n                                R.anim.slide_right_out)\n                        .disableIconBack(true)\n                        .disableIconClose(false)\n                        .disableIconForward(true)\n                        .disableIconMenu(false)\n                        .show(&quot;https://nft.habbo.com/terms&quot;);\n\n            }\n        });\n\n        Glide.with(getActivity().getApplicationContext())\n                .load(currentUserImage)\n                .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\n                .centerCrop()\n                .placeholder(new ColorDrawable(Color.GRAY))\n                .into(manageAcc_userImage);\n\n        manageAccountBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent profileIntent = new Intent(getActivity().getApplicationContext(), ProfileActivity.class);\n                startActivity(profileIntent);\n                getActivity().overridePendingTransition(R.anim.slide_from_right, R.anim.slide_to_left);\n            }\n        });\n        myDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n        myDialog.setCancelable(true);\n        myDialog.show();\n    }\n\n    private void logout() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity().getApplicationContext(),R.style.MyCustomAlert);\n        builder.setTitle(getString(R.string.logoutBtn));\n        builder.setMessage(getString(R.string.are_you_sure_logout));\n        builder.setPositiveButton(getString(R.string.yes), new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                mAuth.signOut();\n                sendToLoginPage();\n            }\n        });\n\n        builder.setNegativeButton(getString(R.string.no), new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.dismiss();\n            }\n        });\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n\n    }\n\n    private void sendToLoginPage() {\n        Intent intent = new Intent(getActivity().getApplicationContext(), LoginActivity.class);\n        startActivity(intent);\n        getActivity().finish();\n        getActivity().overridePendingTransition(R.anim.slide_from_left, R.anim.slide_to_right);\n    }\n\n}\n</code></pre>\n<p>The above code looks fine to me. Moved it from the MainActivity.java and did some changes to work inside the fragment, but now I don't understand why the following below is happening</p>\n<p>My app crashes when I click the ImageView that's working also as a button.</p>\n<p>I'm getting below error:</p>\n<pre><code>2022-03-10 00:50:47.012 16503-16503/com.example.practice E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.practice, PID: 16503\n    android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\n    Caused by: android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)\n        at android.app.Dialog.setContentView(Dialog.java:569)\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)\n        at android.view.View.performClick(View.java:7448)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n        at com.google.android.material.internal.ThemeEnforcement.checkTheme(ThemeEnforcement.java:243)\n        at com.google.android.material.internal.ThemeEnforcement.checkMaterialTheme(ThemeEnforcement.java:217)\n        at com.google.android.material.internal.ThemeEnforcement.checkCompatibleTheme(ThemeEnforcement.java:145)\n        at com.google.android.material.internal.ThemeEnforcement.obtainStyledAttributes(ThemeEnforcement.java:76)\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:124)\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:114)\n        at java.lang.reflect.Constructor.newInstance0(Native Method) \n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343) \n        at android.view.LayoutInflater.createView(LayoutInflater.java:852) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479) \n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455) \n        at android.app.Dialog.setContentView(Dialog.java:569) \n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237) \n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210) \n        at android.view.View.performClick(View.java:7448) \n        at android.view.View.performClickInternal(View.java:7425) \n        at android.view.View.access$3600(View.java:810) \n        at android.view.View$PerformClick.run(View.java:28305) \n        at android.os.Handler.handleCallback(Handler.java:938) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n2022-03-10 00:50:47.013 16503-16503/com.example.practice E/CustomActivityOnCrash: App has crashed, executing CustomActivityOnCrash's UncaughtExceptionHandler\n    android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\n    Caused by: android.view.InflateException: Binary XML file line #2 in com.example.practice:layout/manage_acc_popup: Error inflating class com.google.android.material.card.MaterialCardView\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455)\n        at android.app.Dialog.setContentView(Dialog.java:569)\n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237)\n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210)\n        at android.view.View.performClick(View.java:7448)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n        at com.google.android.material.internal.ThemeEnforcement.checkTheme(ThemeEnforcement.java:243)\n        at com.google.android.material.internal.ThemeEnforcement.checkMaterialTheme(ThemeEnforcement.java:217)\n        at com.google.android.material.internal.ThemeEnforcement.checkCompatibleTheme(ThemeEnforcement.java:145)\n        at com.google.android.material.internal.ThemeEnforcement.obtainStyledAttributes(ThemeEnforcement.java:76)\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:124)\n        at com.google.android.material.card.MaterialCardView.&lt;init&gt;(MaterialCardView.java:114)\n        at java.lang.reflect.Constructor.newInstance0(Native Method) \n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343) \n        at android.view.LayoutInflater.createView(LayoutInflater.java:852) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479) \n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:455) \n        at android.app.Dialog.setContentView(Dialog.java:569) \n        at com.example.practice.fragments.HomeFragment.ShowPopup(HomeFragment.java:237) \n        at com.example.practice.fragments.HomeFragment$3.onClick(HomeFragment.java:210) \n        at android.view.View.performClick(View.java:7448) \n        at android.view.View.performClickInternal(View.java:7425) \n        at android.view.View.access$3600(View.java:810) \n        at android.view.View$PerformClick.run(View.java:28305) \n        at android.os.Handler.handleCallback(Handler.java:938) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":20108093,"reputation":683,"user_id":14745090,"display_name":"G&#252;lsen Keskin"},"score":0,"creation_date":1658470581,"post_id":67368657,"comment_id":129063475,"body_markdown":"hello, have you found a solution?","body":"hello, have you found a solution?"},{"owner":{"account_id":21474186,"reputation":229,"user_id":15822719,"display_name":"Исфан Джамалутдинов"},"score":1,"creation_date":1658474811,"post_id":67368657,"comment_id":129064595,"body_markdown":"@G&#252;lsenKeskin hi, unfortunately I have not","body":"@G&#252;lsenKeskin hi, unfortunately I have not"},{"owner":{"account_id":8464491,"reputation":115,"user_id":6349028,"accept_rate":25,"display_name":"Tek.ke"},"score":0,"creation_date":1675932199,"post_id":67368657,"comment_id":133034987,"body_markdown":"I think you should check those two permissions in runtime (aka, android.permission.READ_PHONE_STATE,android.permission.READ_CALL_LOG ),https://developer.android.com/training/permissions/requesting","body":"I think you should check those two permissions in runtime (aka, android.permission.READ_PHONE_STATE,android.permission.READ_&zwnj;&#8203;CALL_LOG ),<a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"}],"owner":{"account_id":21474186,"reputation":229,"user_id":15822719,"display_name":"Исфан Джамалутдинов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1669809246,"creation_date":1620043714,"question_id":67368657,"body_markdown":"I am trying to get a phone number from the incoming call, and for Android, I&#39;ve been trying to implement [this] answer, but I&#39;ve been struggling because the answer is not full, has no example, and is very abstract, which makes it hard for a person without any knowledge about Platform Channel.\r\n\r\nWhat I&#39;ve tried:\r\nI&#39;ve implemented pigeon code in a ServiceReceiver, declared a variable that I want to update and pass to the flutter code, however when I receive a call, the app doesn&#39;t even ask for any permission, which makes me think that the onReceive() function is not called when the phone receives an incoming call.\r\n\r\nHere is the code:\r\n\r\n**main.dart:**\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    import &#39;./output.dart&#39;;\r\n    \r\n    void main() {\r\n      runApp(MyApp());\r\n    }\r\n    \r\n    // void onClick() async {\r\n    //   SearchRequest request = SearchRequest()..query = &#39;test&#39;;\r\n    //   Api api = Api();\r\n    //   SearchReply reply = await api.search(request);\r\n    //   print(&#39;reply: ${reply.result}&#39;);\r\n    // }\r\n    \r\n    class MyApp extends StatefulWidget {\r\n      // This widget is the root of your application.\r\n      @override\r\n      _MyAppState createState() =&gt; _MyAppState();\r\n    }\r\n    \r\n    class _MyAppState extends State&lt;MyApp&gt; {\r\n      static const platform = const MethodChannel(&#39;battery.ttsollution.com&#39;);\r\n      String _phoneNumber = &#39;&#39;;\r\n      String _batteryLevel = &#39;Unknown battery level.&#39;;\r\n    \r\n      void onClick() async {\r\n        SearchRequest request = SearchRequest()..query = &#39;test&#39;;\r\n        Api api = Api();\r\n        SearchReply reply = await api.search(request);\r\n        print(&#39;reply: ${reply.result}&#39;);\r\n      }\r\n    \r\n      Future&lt;void&gt; _getPhoneNumber() async {\r\n        String phoneNumber;\r\n        try {\r\n          final int result = await platform.invokeMethod(&#39;getPhoneNumber&#39;);\r\n          phoneNumber = &quot;Phone number: $result&quot;;\r\n        } catch (e) {\r\n          phoneNumber = &quot;Failed to get the phone number due to: $e&quot;;\r\n        }\r\n        setState(() {\r\n          _phoneNumber = phoneNumber;\r\n        });\r\n      }\r\n    \r\n      Future&lt;void&gt; _getBatteryLevel() async {\r\n        String batteryLevel;\r\n        try {\r\n          final int result = await platform.invokeMethod(&#39;getBatteryLevel&#39;);\r\n          batteryLevel = &#39;Battery level at $result % .&#39;;\r\n        } on PlatformException catch (e) {\r\n          batteryLevel = &quot;Failed to get battery level: &#39;${e.message}&#39;.&quot;;\r\n        }\r\n    \r\n        setState(() {\r\n          _batteryLevel = batteryLevel;\r\n        });\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          home: Scaffold(\r\n            body: Center(\r\n              child: Column(\r\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\r\n                children: [\r\n                  ElevatedButton(\r\n                    child: Text(&#39;Get Phone Number&#39;),\r\n                    onPressed: onClick,\r\n                  ),\r\n                  Text(_batteryLevel),\r\n                ],\r\n              ),\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n**MainActivity.java:**\r\n\r\n    package com.example.phone_application_java;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.RequiresApi;\r\n    \r\n    import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.embedding.engine.FlutterEngine;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    \r\n    import android.content.Context;\r\n    import android.content.ContextWrapper;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.BatteryManager;\r\n    import android.os.Build.VERSION;\r\n    import android.os.Build.VERSION_CODES;\r\n    import android.os.Bundle;\r\n    import android.telephony.TelephonyManager;\r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n        private static final String CHANNEL = &quot;battery.ttsollution.com&quot;;\r\n    \r\n    \r\n        @RequiresApi(api = VERSION_CODES.M)\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Pigeon.Api.setup(getFlutterEngine().getDartExecutor().getBinaryMessenger(), new ServiceReceiver.MyApi());\r\n        }\r\n    \r\n        @Override\r\n        public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n            super.configureFlutterEngine(flutterEngine);\r\n            new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n                    .setMethodCallHandler((call, result) -&gt; {\r\n                        // Note: this method is invoked on the main thread.\r\n                        if (call.method.equals(&quot;getBatteryLevel&quot;)) {\r\n                            int batteryLevel = getBatteryLevel();\r\n    \r\n                            if (batteryLevel != -1) {\r\n                                result.success(batteryLevel);\r\n                            } else {\r\n                                result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\r\n                            }\r\n                        } else {\r\n                            result.notImplemented();\r\n                        }\r\n                    });\r\n        }\r\n    \r\n        private int getBatteryLevel() {\r\n            int batteryLevel = -1;\r\n            if (VERSION.SDK_INT &gt;= VERSION_CODES.LOLLIPOP) {\r\n                BatteryManager batteryManager = (BatteryManager) getSystemService(BATTERY_SERVICE);\r\n                batteryLevel = batteryManager.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n            } else {\r\n                Intent intent = new ContextWrapper(getApplicationContext()).registerReceiver(null,\r\n                        new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\r\n                batteryLevel = (intent.getIntExtra(BatteryManager.EXTRA_LEVEL, -1) * 100)\r\n                        / intent.getIntExtra(BatteryManager.EXTRA_SCALE, -1);\r\n            }\r\n    \r\n            return batteryLevel;\r\n        }\r\n    \r\n    }\r\n\r\n**ServiceReceiver.java:**\r\n\r\n    package com.example.phone_application_java;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.telephony.PhoneStateListener;\r\n    import android.telephony.TelephonyManager;\r\n    import android.os.Bundle;\r\n    \r\n    import com.example.phone_application_java.Pigeon;\r\n    \r\n    public class ServiceReceiver extends BroadcastReceiver {\r\n        static String phoneNumber = &quot;Hiya&quot;;\r\n    \r\n        static class MyApi implements Pigeon.Api {\r\n            @Override\r\n            public Pigeon.SearchReply search(Pigeon.SearchRequest arg) {\r\n                Pigeon.SearchReply reply = new Pigeon.SearchReply();\r\n                reply.setResult(ServiceReceiver.phoneNumber);\r\n                return reply;\r\n            }\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n            telephony.listen(new PhoneStateListener() {\r\n                @Override\r\n                public void onCallStateChanged(int state, String incomingNumber) {\r\n                    super.onCallStateChanged(state, incomingNumber);\r\n                    System.out.println(&quot;incomingNumber : &quot; + incomingNumber);\r\n                    phoneNumber = incomingNumber;\r\n                }\r\n            }, PhoneStateListener.LISTEN_CALL_STATE);\r\n        }\r\n    \r\n    }\r\n\r\n**AndroidManifest.xml:**\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.example.phone_application_java&quot;&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot;/&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n      &lt;application android:label=&quot;phone_application_java&quot; android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n    \r\n        &lt;receiver android:name=&quot;.ServiceReceiver&quot;&gt;\r\n          &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n            &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\r\n          &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n          &lt;activity android:name=&quot;.MainActivity&quot; android:launchMode=&quot;singleTop&quot; android:theme=&quot;@style/LaunchTheme&quot; android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot; android:hardwareAccelerated=&quot;true&quot; android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                     the Android process has started. This theme is visible to the user\r\n                     while the Flutter UI initializes. After that, this theme continues\r\n                     to determine the Window background behind the Flutter UI. --&gt;\r\n            &lt;meta-data android:name=&quot;io.flutter.embedding.android.NormalTheme&quot; android:resource=&quot;@style/NormalTheme&quot; /&gt;\r\n            &lt;!-- Displays an Android View that continues showing the launch screen\r\n                     Drawable until Flutter paints its first frame, then this splash\r\n                     screen fades out. A splash screen is useful to avoid any visual\r\n                     gap between the end of Android&#39;s launch screen and the painting of\r\n                     Flutter&#39;s first frame. --&gt;\r\n            &lt;meta-data android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot; android:resource=&quot;@drawable/launch_background&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n              &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n              &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n          &lt;/activity&gt;\r\n          &lt;!-- Don&#39;t delete the meta-data below.\r\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n          &lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot; /&gt;\r\n      &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n**Flutter Doctor:**\r\n\r\n    PS E:\\Flutter Projects\\phone_application_java&gt; flutter doctor\r\n    Doctor summary (to see all details, run flutter doctor -v):\r\n    [√] Flutter (Channel stable, 2.0.6, on Microsoft Windows [Version 10.0.19042.928], locale en-US)\r\n    [√] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n    [√] Chrome - develop for the web\r\n    [√] Android Studio (version 4.1.0)\r\n    [√] Connected device (3 available)\r\n    \r\n    • No issues found!\r\n\r\n\r\n  [this]: https://stackoverflow.com/questions/66112321/access-phone-number-of-incoming-calls-in-flutter\r\n\r\n\r\n","title":"How to access phone number of an incoming call in flutter?","body":"<p>I am trying to get a phone number from the incoming call, and for Android, I've been trying to implement <a href=\"https://stackoverflow.com/questions/66112321/access-phone-number-of-incoming-calls-in-flutter\">this</a> answer, but I've been struggling because the answer is not full, has no example, and is very abstract, which makes it hard for a person without any knowledge about Platform Channel.</p>\n<p>What I've tried:\nI've implemented pigeon code in a ServiceReceiver, declared a variable that I want to update and pass to the flutter code, however when I receive a call, the app doesn't even ask for any permission, which makes me think that the onReceive() function is not called when the phone receives an incoming call.</p>\n<p>Here is the code:</p>\n<p><strong>main.dart:</strong></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport './output.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\n// void onClick() async {\n//   SearchRequest request = SearchRequest()..query = 'test';\n//   Api api = Api();\n//   SearchReply reply = await api.search(request);\n//   print('reply: ${reply.result}');\n// }\n\nclass MyApp extends StatefulWidget {\n  // This widget is the root of your application.\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  static const platform = const MethodChannel('battery.ttsollution.com');\n  String _phoneNumber = '';\n  String _batteryLevel = 'Unknown battery level.';\n\n  void onClick() async {\n    SearchRequest request = SearchRequest()..query = 'test';\n    Api api = Api();\n    SearchReply reply = await api.search(request);\n    print('reply: ${reply.result}');\n  }\n\n  Future&lt;void&gt; _getPhoneNumber() async {\n    String phoneNumber;\n    try {\n      final int result = await platform.invokeMethod('getPhoneNumber');\n      phoneNumber = &quot;Phone number: $result&quot;;\n    } catch (e) {\n      phoneNumber = &quot;Failed to get the phone number due to: $e&quot;;\n    }\n    setState(() {\n      _phoneNumber = phoneNumber;\n    });\n  }\n\n  Future&lt;void&gt; _getBatteryLevel() async {\n    String batteryLevel;\n    try {\n      final int result = await platform.invokeMethod('getBatteryLevel');\n      batteryLevel = 'Battery level at $result % .';\n    } on PlatformException catch (e) {\n      batteryLevel = &quot;Failed to get battery level: '${e.message}'.&quot;;\n    }\n\n    setState(() {\n      _batteryLevel = batteryLevel;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: Center(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n            children: [\n              ElevatedButton(\n                child: Text('Get Phone Number'),\n                onPressed: onClick,\n              ),\n              Text(_batteryLevel),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>package com.example.phone_application_java;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\n\nimport io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.embedding.engine.FlutterEngine;\nimport io.flutter.plugin.common.MethodChannel;\n\nimport android.content.Context;\nimport android.content.ContextWrapper;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.BatteryManager;\nimport android.os.Build.VERSION;\nimport android.os.Build.VERSION_CODES;\nimport android.os.Bundle;\nimport android.telephony.TelephonyManager;\n\npublic class MainActivity extends FlutterActivity {\n    private static final String CHANNEL = &quot;battery.ttsollution.com&quot;;\n\n\n    @RequiresApi(api = VERSION_CODES.M)\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Pigeon.Api.setup(getFlutterEngine().getDartExecutor().getBinaryMessenger(), new ServiceReceiver.MyApi());\n    }\n\n    @Override\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n        super.configureFlutterEngine(flutterEngine);\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\n                .setMethodCallHandler((call, result) -&gt; {\n                    // Note: this method is invoked on the main thread.\n                    if (call.method.equals(&quot;getBatteryLevel&quot;)) {\n                        int batteryLevel = getBatteryLevel();\n\n                        if (batteryLevel != -1) {\n                            result.success(batteryLevel);\n                        } else {\n                            result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\n                        }\n                    } else {\n                        result.notImplemented();\n                    }\n                });\n    }\n\n    private int getBatteryLevel() {\n        int batteryLevel = -1;\n        if (VERSION.SDK_INT &gt;= VERSION_CODES.LOLLIPOP) {\n            BatteryManager batteryManager = (BatteryManager) getSystemService(BATTERY_SERVICE);\n            batteryLevel = batteryManager.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\n        } else {\n            Intent intent = new ContextWrapper(getApplicationContext()).registerReceiver(null,\n                    new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\n            batteryLevel = (intent.getIntExtra(BatteryManager.EXTRA_LEVEL, -1) * 100)\n                    / intent.getIntExtra(BatteryManager.EXTRA_SCALE, -1);\n        }\n\n        return batteryLevel;\n    }\n\n}\n</code></pre>\n<p><strong>ServiceReceiver.java:</strong></p>\n<pre><code>package com.example.phone_application_java;\n\nimport android.annotation.SuppressLint;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.telephony.PhoneStateListener;\nimport android.telephony.TelephonyManager;\nimport android.os.Bundle;\n\nimport com.example.phone_application_java.Pigeon;\n\npublic class ServiceReceiver extends BroadcastReceiver {\n    static String phoneNumber = &quot;Hiya&quot;;\n\n    static class MyApi implements Pigeon.Api {\n        @Override\n        public Pigeon.SearchReply search(Pigeon.SearchRequest arg) {\n            Pigeon.SearchReply reply = new Pigeon.SearchReply();\n            reply.setResult(ServiceReceiver.phoneNumber);\n            return reply;\n        }\n    }\n\n\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        telephony.listen(new PhoneStateListener() {\n            @Override\n            public void onCallStateChanged(int state, String incomingNumber) {\n                super.onCallStateChanged(state, incomingNumber);\n                System.out.println(&quot;incomingNumber : &quot; + incomingNumber);\n                phoneNumber = incomingNumber;\n            }\n        }, PhoneStateListener.LISTEN_CALL_STATE);\n    }\n\n}\n</code></pre>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.example.phone_application_java&quot;&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n  &lt;application android:label=&quot;phone_application_java&quot; android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n\n    &lt;receiver android:name=&quot;.ServiceReceiver&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n      &lt;activity android:name=&quot;.MainActivity&quot; android:launchMode=&quot;singleTop&quot; android:theme=&quot;@style/LaunchTheme&quot; android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot; android:hardwareAccelerated=&quot;true&quot; android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n        &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n        &lt;meta-data android:name=&quot;io.flutter.embedding.android.NormalTheme&quot; android:resource=&quot;@style/NormalTheme&quot; /&gt;\n        &lt;!-- Displays an Android View that continues showing the launch screen\n                 Drawable until Flutter paints its first frame, then this splash\n                 screen fades out. A splash screen is useful to avoid any visual\n                 gap between the end of Android's launch screen and the painting of\n                 Flutter's first frame. --&gt;\n        &lt;meta-data android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot; android:resource=&quot;@drawable/launch_background&quot; /&gt;\n        &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n          &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n      &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n      &lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot; /&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>Flutter Doctor:</strong></p>\n<pre><code>PS E:\\Flutter Projects\\phone_application_java&gt; flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\n[√] Flutter (Channel stable, 2.0.6, on Microsoft Windows [Version 10.0.19042.928], locale en-US)\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n[√] Chrome - develop for the web\n[√] Android Studio (version 4.1.0)\n[√] Connected device (3 available)\n\n• No issues found!\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":1,"creation_date":1669800701,"post_id":74625438,"comment_id":131723332,"body_markdown":"take a look at https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html","body":"take a look at <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"score":0,"creation_date":1669802187,"post_id":74625438,"comment_id":131723802,"body_markdown":"i added Apache client and now able to get response. Thank you very much for your support","body":"i added Apache client and now able to get response. Thank you very much for your support"}],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669809188,"creation_date":1669809188,"answer_id":74627366,"question_id":74625438,"body_markdown":"As mentioned in AWS [documentation][1], you can configure the timeouts on Apache HTTP client. While building the `LambdaClient`, just specify this custom HTTP client\r\n\r\n    LambdaClient client = LambdaClient.builder().httpClientBuilder(ApacheHttpClient.builder()\r\n                          .maxConnections(100)\r\n                          .socketTimeout(Duration.ofSeconds(60))\r\n                          .connectionTimeout(Duration.ofSeconds(60))\r\n                        )\r\n                        .build();\r\n     InvokeRequest req = InvokeRequest.builder().functionName(&quot;abc&quot;).build();\r\n     InvokeResponse res = client.invoke(req); \r\n\r\n\r\nAdditional gradle dependency required: \r\n\r\n```implementation(&quot;software.amazon.awssdk:apache-client:2.18.25&quot;)```\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html","title":"Unable to execute Http request: Read timed out while invoking AWS Lambda Function","body":"<p>As mentioned in AWS <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html\" rel=\"nofollow noreferrer\">documentation</a>, you can configure the timeouts on Apache HTTP client. While building the <code>LambdaClient</code>, just specify this custom HTTP client</p>\n<pre><code>LambdaClient client = LambdaClient.builder().httpClientBuilder(ApacheHttpClient.builder()\n                      .maxConnections(100)\n                      .socketTimeout(Duration.ofSeconds(60))\n                      .connectionTimeout(Duration.ofSeconds(60))\n                    )\n                    .build();\n InvokeRequest req = InvokeRequest.builder().functionName(&quot;abc&quot;).build();\n InvokeResponse res = client.invoke(req); \n</code></pre>\n<p>Additional gradle dependency required:</p>\n<p><code>implementation(&quot;software.amazon.awssdk:apache-client:2.18.25&quot;)</code></p>\n"}],"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74627366,"answer_count":1,"score":0,"last_activity_date":1669809188,"creation_date":1669800562,"question_id":74625438,"body_markdown":"I am using software.amazon.awssdk version 2.18.21 to invoke Lambda function from spring boot application.\r\nWhile invoking Lmabda function which takes approx 2-3 minutes to finish always throws Timed out exception.\r\nIs there any timeout related configuration need to be set in my code to resolve this?\r\n```\r\n//imports from \r\nimport software.amazon.awssdk.services.lambda.LambdaClient;\r\nimport software.amazon.awssdk.services.lambda.model.InvokeRequest;\r\nimport software.amazon.awssdk.services.lambda.model.InvokeResponse;\r\n\r\n//Calling Lambda Function\r\ntry{\r\n  LambdaClient client = LambdaClient.builder().build();\r\n  InvokeRequest req = InvokeRequest.builder().functionName(&quot;abc&quot;).build();\r\n  InvokeResponse res = client.invoke(req); //Exception here\r\n  String respnonse = res.payload().asUtf8String();\r\n  System.out.println(response);\r\n}catch(Exception e){\r\n  e.printStackTrace();\r\n}\r\n```\r\nException:\r\n\r\n```\r\nsoftware.amazon.awssdk.core.exception.SdkClientException: Unable to execute Http request: Read timed out \r\n---\r\nCaused by:java.net.SocketTimeoutException: Read Timed Out\r\n```","title":"Unable to execute Http request: Read timed out while invoking AWS Lambda Function","body":"<p>I am using software.amazon.awssdk version 2.18.21 to invoke Lambda function from spring boot application.\nWhile invoking Lmabda function which takes approx 2-3 minutes to finish always throws Timed out exception.\nIs there any timeout related configuration need to be set in my code to resolve this?</p>\n<pre><code>//imports from \nimport software.amazon.awssdk.services.lambda.LambdaClient;\nimport software.amazon.awssdk.services.lambda.model.InvokeRequest;\nimport software.amazon.awssdk.services.lambda.model.InvokeResponse;\n\n//Calling Lambda Function\ntry{\n  LambdaClient client = LambdaClient.builder().build();\n  InvokeRequest req = InvokeRequest.builder().functionName(&quot;abc&quot;).build();\n  InvokeResponse res = client.invoke(req); //Exception here\n  String respnonse = res.payload().asUtf8String();\n  System.out.println(response);\n}catch(Exception e){\n  e.printStackTrace();\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>software.amazon.awssdk.core.exception.SdkClientException: Unable to execute Http request: Read timed out \n---\nCaused by:java.net.SocketTimeoutException: Read Timed Out\n</code></pre>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669657255,"creation_date":1669657255,"answer_id":74604494,"question_id":74602091,"body_markdown":"## Cause\r\n\r\nMapstruct thinks that you want to map the `iterable` `List&lt;D&gt; ds` to the `non-iterable` `A a`.\r\n\r\nThis is not supported.\r\n\r\n## Work-around\r\n\r\nA work-around would be to introduce an unused variable.\r\n\r\nAs soon as there is more than 1 value mapstruct will assume that these are properties to be set inside the `@MappingTarget` instead of something to be mapped to it.\r\n```java\r\n    default void fillList(A a, List&lt;D&gt; ds) {\r\n        fillList(a, ds, false);\r\n    }\r\n\r\n    @Mapping(target=&quot;namesC&quot;, source=&quot;ds&quot;)\r\n    void fillList(@MappingTarget A a, List&lt;D&gt; ds, boolean unused);\r\n```\r\n\r\n## Improvement for mapstruct\r\n\r\nAn enhancement to mapstruct would be to support this situation by first checking if the field is directly assignable to a property with the same name or mapped through `@Mapping` before giving this error.\r\n\r\nYou can check if there is already an issue to get this supported at the [Mapstruct github issues][1] page. If there is not one feel free to create it.\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues","title":"@MappingTarget generate &quot;Can&#39;t generate mapping method from iterable type to non-iterable type.&quot; error","body":"<h2>Cause</h2>\n<p>Mapstruct thinks that you want to map the <code>iterable</code> <code>List&lt;D&gt; ds</code> to the <code>non-iterable</code> <code>A a</code>.</p>\n<p>This is not supported.</p>\n<h2>Work-around</h2>\n<p>A work-around would be to introduce an unused variable.</p>\n<p>As soon as there is more than 1 value mapstruct will assume that these are properties to be set inside the <code>@MappingTarget</code> instead of something to be mapped to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    default void fillList(A a, List&lt;D&gt; ds) {\n        fillList(a, ds, false);\n    }\n\n    @Mapping(target=&quot;namesC&quot;, source=&quot;ds&quot;)\n    void fillList(@MappingTarget A a, List&lt;D&gt; ds, boolean unused);\n</code></pre>\n<h2>Improvement for mapstruct</h2>\n<p>An enhancement to mapstruct would be to support this situation by first checking if the field is directly assignable to a property with the same name or mapped through <code>@Mapping</code> before giving this error.</p>\n<p>You can check if there is already an issue to get this supported at the <a href=\"https://github.com/mapstruct/mapstruct/issues\" rel=\"nofollow noreferrer\">Mapstruct github issues</a> page. If there is not one feel free to create it.</p>\n"}],"owner":{"account_id":17418961,"reputation":485,"user_id":12624874,"display_name":"Philippe B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669808852,"creation_date":1669645656,"question_id":74602091,"body_markdown":"I have a complex set of Data objects that are filled at different points in time during my process and then needs to be mapped to other objects. I was using mapstruct and the `@MappingTarget` annotation in order not to recreate a new instance of my object each time I needed to add or modify some properties but I&#39;m now facing an issue.\r\n\r\nI&#39;ve got a code structure similar to that :\r\n\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class A {\r\n\t\r\n\tString nameA;\r\n\t\r\n\tList&lt;C&gt; namesC;\r\n}\r\n```\r\n```java\r\nimport java.util.List;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class B {\r\n\t\r\n\tString nameB;\r\n\t\r\n\tList&lt;D&gt; namesD;\r\n}\r\n```\r\n```java\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class C {\r\n\t\r\n\tString nameC;\r\n}\r\n```\r\n```java\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class D {\r\n\t\r\n\tString nameD;\r\n}\r\n```\r\n\r\nAnd then my mappers :\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\n\r\n@Mapper(componentModel=&quot;spring&quot;)\r\npublic interface CDMapper {\r\n\r\n\t@Mapping(target=&quot;nameC&quot;, source=&quot;nameD&quot;)\r\n\tC DtoC(D d);\r\n\t\r\n\tList&lt;C&gt; DstoCs(List&lt;D&gt; ds);\r\n}\r\n```\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.MappingTarget;\r\n\r\n@Mapper(uses = {CDMapper.class})\r\npublic interface ABMapper {\r\n\r\n\t@Mapping(target=&quot;nameA&quot;, source=&quot;nameB&quot;)\r\n\tA BtoA(B b);\r\n\t\r\n\t@Mapping(target=&quot;namesC&quot;, source=&quot;ds&quot;)\r\n\tvoid fillList(@MappingTarget A a, List&lt;D&gt; ds);\r\n}\r\n```\r\n\r\n**I have an error on the line `void fillList(@MappingTarget A a, List&lt;D&gt; ds);` : &quot;Can&#39;t generate mapping method from iterable type to non-iterable type.&quot;.**\r\n\r\nIf I remove the `@MappingTarget` annotation I don&#39;t have any issue anymore but I have to change the return type to A.\r\n\r\nI don&#39;t understand why this error would appear when using the annotation. Does anybody know why and can explain it to me ? Is there a way to keep the annotation in order to not instantiate a new `A` object each time I call my mapper ?\r\n\r\nUPDATE : I have created a [Github issue](https://github.com/mapstruct/mapstruct/issues/3093).","title":"@MappingTarget generate &quot;Can&#39;t generate mapping method from iterable type to non-iterable type.&quot; error","body":"<p>I have a complex set of Data objects that are filled at different points in time during my process and then needs to be mapped to other objects. I was using mapstruct and the <code>@MappingTarget</code> annotation in order not to recreate a new instance of my object each time I needed to add or modify some properties but I'm now facing an issue.</p>\n<p>I've got a code structure similar to that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class A {\n    \n    String nameA;\n    \n    List&lt;C&gt; namesC;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class B {\n    \n    String nameB;\n    \n    List&lt;D&gt; namesD;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class C {\n    \n    String nameC;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class D {\n    \n    String nameD;\n}\n</code></pre>\n<p>And then my mappers :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\n\n@Mapper(componentModel=&quot;spring&quot;)\npublic interface CDMapper {\n\n    @Mapping(target=&quot;nameC&quot;, source=&quot;nameD&quot;)\n    C DtoC(D d);\n    \n    List&lt;C&gt; DstoCs(List&lt;D&gt; ds);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.MappingTarget;\n\n@Mapper(uses = {CDMapper.class})\npublic interface ABMapper {\n\n    @Mapping(target=&quot;nameA&quot;, source=&quot;nameB&quot;)\n    A BtoA(B b);\n    \n    @Mapping(target=&quot;namesC&quot;, source=&quot;ds&quot;)\n    void fillList(@MappingTarget A a, List&lt;D&gt; ds);\n}\n</code></pre>\n<p><strong>I have an error on the line <code>void fillList(@MappingTarget A a, List&lt;D&gt; ds);</code> : &quot;Can't generate mapping method from iterable type to non-iterable type.&quot;.</strong></p>\n<p>If I remove the <code>@MappingTarget</code> annotation I don't have any issue anymore but I have to change the return type to A.</p>\n<p>I don't understand why this error would appear when using the annotation. Does anybody know why and can explain it to me ? Is there a way to keep the annotation in order to not instantiate a new <code>A</code> object each time I call my mapper ?</p>\n<p>UPDATE : I have created a <a href=\"https://github.com/mapstruct/mapstruct/issues/3093\" rel=\"nofollow noreferrer\">Github issue</a>.</p>\n"},{"tags":["java","http","parallel-processing","swingworker"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1669809506,"post_id":74627261,"comment_id":131726425,"body_markdown":"Take a look at Spring 5’s WebFlux framework, with the Non-blocking WebClient class - https://spring.io/guides/gs/reactive-rest-service/","body":"Take a look at Spring 5’s WebFlux framework, with the Non-blocking WebClient class - <a href=\"https://spring.io/guides/gs/reactive-rest-service/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/reactive-rest-service</a>"},{"owner":{"account_id":27097890,"reputation":1,"user_id":20644872,"display_name":"javaparallelizer"},"score":0,"creation_date":1669809610,"post_id":74627261,"comment_id":131726452,"body_markdown":"As I said, the class I use for HTTP requests I cannot replace, unfortunately.","body":"As I said, the class I use for HTTP requests I cannot replace, unfortunately."}],"owner":{"account_id":27097890,"reputation":1,"user_id":20644872,"display_name":"javaparallelizer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669808698,"creation_date":1669808698,"question_id":74627261,"body_markdown":"I developed a GUI, which connects to a server and fetches data on push of a button. The GUI is made in Swing.\r\n\r\nFor the requests, I have a specific class, which I cannot change. This class implements Callable.\r\n\r\nTo not block the GUI, I issue the requests in the background using SwingWorkers.\r\n\r\nNow, for the requests I am dealing with, it is necessary to first fetch some data (in x requests) and fill a list with the fetched values. Then, x further requests need to be issued using the data of this list.\r\n\r\nI tried to to this by using Executors.newFixedThreadPool with FutureTasks. Something like this:\r\n```\r\nArrayList&lt;GetRequestTask&gt; tasks = new ArrayList&lt;GetRequestTask&gt;();\r\nwhile(!tasks.isEmpty()) {\r\n    for (Iterator&lt;GetRequestTask&gt; it = tasks.iterator(); it.hasNext();) {\r\n\tGetRequestTask task = it.next();\r\n\tif(task.isDone()) {\r\n\t    response = new JSONObject(task.getResponse());\r\n\t    reponses.add(respons);\r\n            it.remove();\r\n\t}\r\n    }\r\n    if(!tasks.isEmpty()) Thread.sleep(100);\r\n}\r\n```\r\n\r\nHowever, the tasks list never seems to be fully empty, because I will get stuck in the while loop. Does anybody know why this could be?\r\n\r\nOr alternatively, do you have an idea how to do this in an easier or more efficient way?\r\nThanks!","title":"Parallelizing HTTP Requests in Java","body":"<p>I developed a GUI, which connects to a server and fetches data on push of a button. The GUI is made in Swing.</p>\n<p>For the requests, I have a specific class, which I cannot change. This class implements Callable.</p>\n<p>To not block the GUI, I issue the requests in the background using SwingWorkers.</p>\n<p>Now, for the requests I am dealing with, it is necessary to first fetch some data (in x requests) and fill a list with the fetched values. Then, x further requests need to be issued using the data of this list.</p>\n<p>I tried to to this by using Executors.newFixedThreadPool with FutureTasks. Something like this:</p>\n<pre><code>ArrayList&lt;GetRequestTask&gt; tasks = new ArrayList&lt;GetRequestTask&gt;();\nwhile(!tasks.isEmpty()) {\n    for (Iterator&lt;GetRequestTask&gt; it = tasks.iterator(); it.hasNext();) {\n    GetRequestTask task = it.next();\n    if(task.isDone()) {\n        response = new JSONObject(task.getResponse());\n        reponses.add(respons);\n            it.remove();\n    }\n    }\n    if(!tasks.isEmpty()) Thread.sleep(100);\n}\n</code></pre>\n<p>However, the tasks list never seems to be fully empty, because I will get stuck in the while loop. Does anybody know why this could be?</p>\n<p>Or alternatively, do you have an idea how to do this in an easier or more efficient way?\nThanks!</p>\n"},{"tags":["java","hibernate","jpa","reverse-engineering","hibernate-tools"],"answers":[{"tags":[],"owner":{"account_id":80593,"reputation":6741,"user_id":227804,"display_name":"lschin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1299822135,"creation_date":1299821657,"answer_id":5269345,"question_id":5246935,"body_markdown":"Create a class for `reveng. strategy` at `Hibernate Code Generation Configuration`\r\n\r\nExample :\r\n\r\n    public class MyReverseEngineeringStrategy extends DelegatingReverseEngineeringStrategy {\r\n\r\n\t   public MyReverseEngineeringStrategy(ReverseEngineeringStrategy delegate) {\r\n\t\t   super(delegate);\r\n\t   }\r\n\r\n\t   @Override\r\n\t   public void setSettings(ReverseEngineeringSettings settings) {\r\n\t   \t   super.setSettings(settings);\r\n\t   }\r\n\t\r\n\t   @Override\r\n\t   public boolean excludeForeignKeyAsCollection(String keyname, \r\n\t\tTableIdentifier fromTable, java.util.List fromColumns, \r\n\t\tTableIdentifier referencedTable, java.util.List referencedColumns) {\r\n\r\n\t\t// TODO : Your work here\r\n\t\tif (keyname.equals(&quot;___&quot;) &amp;&amp; \r\n\t\t\tfromTable.getName().equals(&quot;___&quot;) &amp;&amp; \r\n\t\t\tfromColumns.contains(&quot;___&quot;) &amp;&amp; \r\n\t\t\treferencedTable.getName().equals(&quot;___&quot;) &amp;&amp; \r\n\t\t\treferencedColumns.contains(&quot;___&quot;)) {\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t   }\r\n    }\r\n\r\nJavaDoc for method `excludeForeignKeyAsCollection`\r\n\r\n    Should this foreignkey be excluded as a oneToMany \r\n\r\n\r\n\r\n\r\nand there also have another method call `excludeForeignKeyAsManytoOne`\r\n\r\n    Should this foreignkey be excluded as a many-to-one ","title":"Problem with reverse engineering a many-to-one unidirectional association with hibernate tools","body":"<p>Create a class for <code>reveng. strategy</code> at <code>Hibernate Code Generation Configuration</code></p>\n\n<p>Example :</p>\n\n<pre><code>public class MyReverseEngineeringStrategy extends DelegatingReverseEngineeringStrategy {\n\n   public MyReverseEngineeringStrategy(ReverseEngineeringStrategy delegate) {\n       super(delegate);\n   }\n\n   @Override\n   public void setSettings(ReverseEngineeringSettings settings) {\n       super.setSettings(settings);\n   }\n\n   @Override\n   public boolean excludeForeignKeyAsCollection(String keyname, \n    TableIdentifier fromTable, java.util.List fromColumns, \n    TableIdentifier referencedTable, java.util.List referencedColumns) {\n\n    // TODO : Your work here\n    if (keyname.equals(\"___\") &amp;&amp; \n        fromTable.getName().equals(\"___\") &amp;&amp; \n        fromColumns.contains(\"___\") &amp;&amp; \n        referencedTable.getName().equals(\"___\") &amp;&amp; \n        referencedColumns.contains(\"___\")) {\n\n        return true;\n    }\n\n    return false;\n   }\n}\n</code></pre>\n\n<p>JavaDoc for method <code>excludeForeignKeyAsCollection</code></p>\n\n<pre><code>Should this foreignkey be excluded as a oneToMany \n</code></pre>\n\n<p>and there also have another method call <code>excludeForeignKeyAsManytoOne</code></p>\n\n<pre><code>Should this foreignkey be excluded as a many-to-one \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498214797,"creation_date":1498214797,"answer_id":44719548,"question_id":5246935,"body_markdown":"Currently (*tested with Hibernate Tools 5.2*), generating unidirectional many-to-one works.\r\n\r\nIn the documentation (https://docs.jboss.org/tools/4.0.0.Final/en/hibernatetools/html_single/index.html#hibernaterevengxmlfile), you can see that you can exclude some side of the relationship :\r\n\r\nFor example (renaming properties)\r\n\r\n     &lt;!-- control many-to-one and set names for a specific named foreign key constraint --&gt;\r\n     &lt;foreign-key constraint-name=&quot;ORDER_CUST&quot;&gt;\r\n       &lt;many-to-one property=&quot;customer&quot;/&gt;\r\n       &lt;set property=&quot;orders&quot;/&gt;\r\n     &lt;/foreign-key&gt;\r\n\r\nOr (excluding properties)\r\n\r\n     &lt;!-- can also control a pure (shared pk) one-to-one  --&gt;\r\n      &lt;foreign-key constraint-name=&quot;ADDRESS_PERSON&quot;&gt;\r\n       &lt;one-to-one exclude=&quot;false&quot;/&gt;\r\n       &lt;inverse-one-to-one exclude=&quot;true&quot;/&gt;\r\n      &lt;/foreign-key&gt;\r\n\r\nSo to have just one side of the relationship with @ManyToOne only, you could do the following :\r\n\r\n    &lt;table name=&quot;city&quot; schema=&quot;public&quot;&gt;\r\n        &lt;primary-key property=&quot;id&quot;&gt;\r\n            &lt;key-column name=&quot;id&quot; type=&quot;integer&quot;/&gt;\r\n        &lt;/primary-key&gt;\r\n    &lt;/table&gt;\r\n\r\n    &lt;table name=&quot;country&quot; schema=&quot;public&quot;&gt;\r\n        &lt;foreign-key constraint-name=&quot;country_capital_fkey&quot; foreign-schema=&quot;public&quot;&gt;\r\n            &lt;many-to-one property=&quot;capital&quot; exclude=&quot;false&quot;/&gt;\r\n            &lt;set exclude=&quot;true&quot; /&gt;\r\n        &lt;/foreign-key&gt;\r\n    &lt;/table&gt;\r\n\r\nYou can also fetch an instance of my sample database with Docker here :\r\n&gt; docker pull ghusta/postgres-world-db:2.1","title":"Problem with reverse engineering a many-to-one unidirectional association with hibernate tools","body":"<p>Currently (<em>tested with Hibernate Tools 5.2</em>), generating unidirectional many-to-one works.</p>\n\n<p>In the documentation (<a href=\"https://docs.jboss.org/tools/4.0.0.Final/en/hibernatetools/html_single/index.html#hibernaterevengxmlfile\" rel=\"nofollow noreferrer\">https://docs.jboss.org/tools/4.0.0.Final/en/hibernatetools/html_single/index.html#hibernaterevengxmlfile</a>), you can see that you can exclude some side of the relationship :</p>\n\n<p>For example (renaming properties)</p>\n\n<pre><code> &lt;!-- control many-to-one and set names for a specific named foreign key constraint --&gt;\n &lt;foreign-key constraint-name=\"ORDER_CUST\"&gt;\n   &lt;many-to-one property=\"customer\"/&gt;\n   &lt;set property=\"orders\"/&gt;\n &lt;/foreign-key&gt;\n</code></pre>\n\n<p>Or (excluding properties)</p>\n\n<pre><code> &lt;!-- can also control a pure (shared pk) one-to-one  --&gt;\n  &lt;foreign-key constraint-name=\"ADDRESS_PERSON\"&gt;\n   &lt;one-to-one exclude=\"false\"/&gt;\n   &lt;inverse-one-to-one exclude=\"true\"/&gt;\n  &lt;/foreign-key&gt;\n</code></pre>\n\n<p>So to have just one side of the relationship with @ManyToOne only, you could do the following :</p>\n\n<pre><code>&lt;table name=\"city\" schema=\"public\"&gt;\n    &lt;primary-key property=\"id\"&gt;\n        &lt;key-column name=\"id\" type=\"integer\"/&gt;\n    &lt;/primary-key&gt;\n&lt;/table&gt;\n\n&lt;table name=\"country\" schema=\"public\"&gt;\n    &lt;foreign-key constraint-name=\"country_capital_fkey\" foreign-schema=\"public\"&gt;\n        &lt;many-to-one property=\"capital\" exclude=\"false\"/&gt;\n        &lt;set exclude=\"true\" /&gt;\n    &lt;/foreign-key&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>You can also fetch an instance of my sample database with Docker here :</p>\n\n<blockquote>\n  <p>docker pull ghusta/postgres-world-db:2.1</p>\n</blockquote>\n"}],"owner":{"account_id":56752,"reputation":5665,"user_id":170013,"accept_rate":81,"display_name":"Ittai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4467,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5269345,"answer_count":2,"score":6,"last_activity_date":1669808439,"creation_date":1299679673,"question_id":5246935,"body_markdown":"I&#39;m using Hibernate tools 3.40 in Eclipse (Helios).\r\nI&#39;m trying to generate POJOs from my DB (MSSQL 2008) with EJB3 style (i.e. JPA2.0 annotations).  \r\nLet&#39;s say I have two tables `A` and `B` where there is a foreign key from `A` to `B`.  \r\nThis generates, by default, a POJO for `A` which has `B` as a member (its &quot;parent&quot;) and a POJO for `B` which has a `Set&lt;A&gt;` as a member (its &quot;children&quot;).  \r\nWhat I&#39;d like is to know how I can control the rev-eng so that only one side of the association is created (I have different use cases so basically all three options are important for me).  \r\nI do not want to use hbm.xml files as I&#39;m working with annotations and JPA2.0 but I can specify some metadata on the reverse engineering process to hibernate via hibernae.reveng.xml\r\n\r\nI&#39;ve tried configuring the `foreign-key` attribute and defining there the `exclude=true` but that only provided me with a half an answer for one scenario. That generated an `A` POJO with a bPK int member which is tolerable and understandable **but** the generated POJO of `B` now does not compile as the `one-to-many` annotation has an invalid attribute; The `mappedby=&quot;unresolved&quot;` due to the fact that `A` no longer has a property which hibernate reveng can map back to.\r\n\r\n\r\nSo, I currently cannot create uni-directional associations and I&#39;d appreciate any help.","title":"Problem with reverse engineering a many-to-one unidirectional association with hibernate tools","body":"<p><br>\nI'm using Hibernate tools 3.40 in Eclipse (Helios).\nI'm trying to generate POJOs from my DB (MSSQL 2008) with EJB3 style (i.e. JPA2.0 annotations).<br>\nLet's say I have two tables <code>A</code> and <code>B</code> where there is a foreign key from <code>A</code> to <code>B</code>.<br>\nThis generates, by default, a POJO for <code>A</code> which has <code>B</code> as a member (its \"parent\") and a POJO for <code>B</code> which has a <code>Set&lt;A&gt;</code> as a member (its \"children\").<br>\nWhat I'd like is to know how I can control the rev-eng so that only one side of the association is created (I have different use cases so basically all three options are important for me).<br>\nI do not want to use hbm.xml files as I'm working with annotations and JPA2.0 but I can specify some metadata on the reverse engineering process to hibernate via hibernae.reveng.xml</p>\n\n<p>I've tried configuring the <code>foreign-key</code> attribute and defining there the <code>exclude=true</code> but that only provided me with a half an answer for one scenario. That generated an <code>A</code> POJO with a bPK int member which is tolerable and understandable <strong>but</strong> the generated POJO of <code>B</code> now does not compile as the <code>one-to-many</code> annotation has an invalid attribute; The <code>mappedby=\"unresolved\"</code> due to the fact that <code>A</code> no longer has a property which hibernate reveng can map back to.</p>\n\n<p>So, I currently cannot create uni-directional associations and I'd appreciate any help.</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":26902919,"reputation":1,"user_id":20479762,"display_name":"AdrianM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669808361,"creation_date":1669803310,"answer_id":74626048,"question_id":74550550,"body_markdown":"    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    FileInputStream fis = new FileInputStream(&quot;C://tls.p12&quot;);\r\n    ks.load(fis, &quot;password&quot;.toCharArray());\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    kmf.init(ks, &quot;password&quot;.toCharArray());\r\n    SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sc.init(kmf.getKeyManagers(), null, null);\r\n    URL url = new URL(&quot;https://.....&quot;);\r\n\r\n    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    trustManagerFactory.init((KeyStore) null);\r\n    TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n    if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {\r\n        throw new IllegalStateException(&quot;Unexpected default trust managers:&quot; + Arrays.toString(trustManagers));\r\n    }\r\n    X509TrustManager trustManager = (X509TrustManager) trustManagers[0];\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    sslContext.init(null, new TrustManager[] { trustManager }, null);\r\n\r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n            .sslSocketFactory(sc.getSocketFactory(), trustManager)\r\n            .build();","title":"How to make post request with certyficate auth","body":"<pre><code>KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\nFileInputStream fis = new FileInputStream(&quot;C://tls.p12&quot;);\nks.load(fis, &quot;password&quot;.toCharArray());\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\nkmf.init(ks, &quot;password&quot;.toCharArray());\nSSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\nsc.init(kmf.getKeyManagers(), null, null);\nURL url = new URL(&quot;https://.....&quot;);\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init((KeyStore) null);\nTrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\nif (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {\n    throw new IllegalStateException(&quot;Unexpected default trust managers:&quot; + Arrays.toString(trustManagers));\n}\nX509TrustManager trustManager = (X509TrustManager) trustManagers[0];\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nsslContext.init(null, new TrustManager[] { trustManager }, null);\n\nOkHttpClient client = new OkHttpClient.Builder()\n        .sslSocketFactory(sc.getSocketFactory(), trustManager)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":26902919,"reputation":1,"user_id":20479762,"display_name":"AdrianM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74626048,"answer_count":1,"score":0,"last_activity_date":1669808361,"creation_date":1669223019,"question_id":74550550,"body_markdown":"I need a post request to the server where I will authorize with a certificate. I have the certificate in file.p12 secured by a password. I think I have checked all the solutions on this site and unfortunately none of them work.\r\n\r\nI wanted to use OkHttp, but all solutions use libraries that have already been removed.\r\n","title":"How to make post request with certyficate auth","body":"<p>I need a post request to the server where I will authorize with a certificate. I have the certificate in file.p12 secured by a password. I think I have checked all the solutions on this site and unfortunately none of them work.</p>\n<p>I wanted to use OkHttp, but all solutions use libraries that have already been removed.</p>\n"},{"tags":["java","android","database","android-studio"],"owner":{"account_id":25443129,"reputation":11,"user_id":19245669,"display_name":"Faisal Ansari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669808240,"creation_date":1669808240,"question_id":74627177,"body_markdown":"```\r\n\r\npublic class SubCategory implements Serializable {\r\n\r\n  private ArrayList&lt;Data&gt; data;\r\n\r\n  private String message;\r\n\r\n  public ArrayList&lt;Data&gt; getData() {\r\n    return this.data;\r\n  }\r\n\r\n  public void setData(ArrayList&lt;Data&gt; data) {\r\n    this.data = data;\r\n  }\r\n\r\n  public String getMessage() {\r\n    return this.message;\r\n  }\r\n\r\n  public void setMessage(String message) {\r\n    this.message = message;\r\n  }\r\n\r\n\r\n  @Entity(tableName = &quot;SubCardsCategrories&quot;)\r\n  public class Data implements Serializable {\r\n\r\n    @PrimaryKey\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n\r\n    public String getName() {\r\n      return this.name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n      this.name = name;\r\n    }\r\n\r\n    public Integer getId() {\r\n      return this.id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n      this.id = id;\r\n    }\r\n\r\n   \r\n  }\r\n}\r\n\r\n```\r\n\r\nI want to create the table according to DATA class parameters but it shows &quot;Cannot figure out how to save this field into the database. You can consider adding a type converter for it &quot;\r\n\r\nAnd also table name is not accessing in my Dao interface.\r\n\r\n ","title":"Here i want to make a table in Room database using inner class, but entity annotation isn&#39;t woring in DAO","body":"<pre><code>\npublic class SubCategory implements Serializable {\n\n  private ArrayList&lt;Data&gt; data;\n\n  private String message;\n\n  public ArrayList&lt;Data&gt; getData() {\n    return this.data;\n  }\n\n  public void setData(ArrayList&lt;Data&gt; data) {\n    this.data = data;\n  }\n\n  public String getMessage() {\n    return this.message;\n  }\n\n  public void setMessage(String message) {\n    this.message = message;\n  }\n\n\n  @Entity(tableName = &quot;SubCardsCategrories&quot;)\n  public class Data implements Serializable {\n\n    @PrimaryKey\n    private Integer id;\n\n    private String name;\n\n\n    public String getName() {\n      return this.name;\n    }\n\n    public void setName(String name) {\n      this.name = name;\n    }\n\n    public Integer getId() {\n      return this.id;\n    }\n\n    public void setId(Integer id) {\n      this.id = id;\n    }\n\n   \n  }\n}\n\n</code></pre>\n<p>I want to create the table according to DATA class parameters but it shows &quot;Cannot figure out how to save this field into the database. You can consider adding a type converter for it &quot;</p>\n<p>And also table name is not accessing in my Dao interface.</p>\n"},{"tags":["java","mongodb","spring-boot","docker-compose"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1669747829,"post_id":74618103,"comment_id":131711904,"body_markdown":"See https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470","body":"See <a href=\"https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470\" title=\"authentication failure while trying to save to mongodb\">stackoverflow.com/questions/63754742/&hellip;</a>"},{"owner":{"account_id":23976401,"reputation":23,"user_id":17964437,"display_name":"Oleksandr Popov"},"score":0,"creation_date":1669809082,"post_id":74618103,"comment_id":131726263,"body_markdown":"@WernfriedDomscheit thanks for this link advice, it&#39;s very helpful","body":"@WernfriedDomscheit thanks for this link advice, it&#39;s very helpful"}],"owner":{"account_id":23976401,"reputation":23,"user_id":17964437,"display_name":"Oleksandr Popov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669808047,"creation_date":1669743496,"question_id":74618103,"body_markdown":"I develop an application in Spring Boot which is a group of microservices and run them as Docker containers. I&#39;m using MongoDB as my database. I create Root User and User when creating Monga using the init-mongo.sh and stage_mongo.env files, then I try to connect to the database using the stage_mongo_auth.env file from other microservices. When I try to connect as Root User everything goes fine but when I try to connect as User I get an authentication error.\r\n\r\nError:\r\n\r\n```\r\ncom.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server mongodb:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.0.jar!/:na]\tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.0.jar!/:na]\r\n```\r\n\r\ndocker-compose.yaml\r\n\r\n```\r\nversion: &#39;3.3&#39;\r\nservices:\r\n\r\n  mongodb:\r\n    image: mongo:6.0.2\r\n    restart: unless-stopped\r\n    env_file:\r\n      - ../config/stage_mongo.env\r\n    volumes:\r\n      - ../mongodb/db:/data/db\r\n      - ./init-mongo.sh:/docker-entrypoint-initdb.d/init-mongo.sh\r\n    ports:\r\n      - 30430:27017\r\n    deploy:\r\n      resources:\r\n        limits:\r\n          cpus: &#39;4.0&#39;\r\n          memory: 2GB\r\n    logging:\r\n      driver: &quot;json-file&quot;\r\n      options:\r\n        tag: &quot;mongodb&quot;\r\n        max-size: 256m\r\n\r\n  api:\r\n    image: amazoncorretto:17.0.3-alpine\r\n    depends_on:\r\n      - mongodb\r\n    restart: unless-stopped\r\n    env_file:\r\n      - ../config/stage_mongo_auth.env\r\n    volumes:\r\n      - ./java/api-0.0.1-SNAPSHOT.jar:/gjava/java.jar\r\n      - ../files:/files\r\n    environment:\r\n      spring_data_mongodb_host: mongodb\r\n    command: /bin/sh -c &quot;cd /gjava &amp;&amp; chmod +x /gjava/*.jar &amp;&amp; java -Xmx2g -Dspring.profiles.active=dev -jar /gjava/java.jar&quot;\r\n    ports:\r\n      - 30429:30329\r\n    deploy:\r\n      resources:\r\n        limits:\r\n          cpus: &#39;2.0&#39;\r\n          memory: 2GB\r\n    logging:\r\n      driver: &quot;json-file&quot;\r\n      options:\r\n        tag: &quot;api&quot;\r\n        max-size: 256m\r\n```\r\n\r\ninit-mongo.sh\r\n\r\n```\r\nmongo -- &quot;$MONGO_INITDB_DATABASE&quot; &lt;&lt;EOF\r\n    var rootUser = &#39;$MONGO_INITDB_ROOT_USERNAME&#39;;\r\n    var rootPassword = &#39;$MONGO_INITDB_ROOT_PASSWORD&#39;;\r\n    var admin = db.getSiblingDB(&#39;admin&#39;);\r\n    admin.auth(rootUser, rootPassword);\r\n\r\n    var user = &#39;$MONGO_INITDB_USERNAME&#39;;\r\n    var passwd = &#39;$MONGO_INITDB_PASSWORD&#39;;\r\n    db.createUser({user: user, pwd: passwd, roles: [&quot;readWrite&quot;]});\r\nEOF\r\n```\r\n\r\nstage_mongo.env\r\n\r\n```\r\nMONGO_INITDB_ROOT_USERNAME=someRootName\r\nMONGO_INITDB_ROOT_PASSWORD=someRootPassword\r\nMONGO_INITDB_USERNAME=someName\r\nMONGO_INITDB_PASSWORD=somePassword\r\nMONGO_INITDB_DATABASE=someDatabaseName\r\n```\r\n\r\nstage_mongo_auth.env\r\n\r\n```\r\nspring_data_mongodb_username=someName\r\nspring_data_mongodb_password=somePassword\r\n```\r\n\r\nI&#39;ve looked through my code several times, but I can&#39;t find the reason for this error, I&#39;ve also tried to search the internet for answers, but I haven&#39;t found anything either.\r\nI will be grateful for any help.\r\n__________________________________________________________________\r\nUpdate 1\r\n\r\nI found the reason why some login credentials work and others don&#39;t - commands from init-mongo.sh do not run. I removed it and got the same way to authenticate to MongoDB. \r\n\r\nI&#39;ve tried different ways to enter commands like that:\r\n\r\n    mongo &lt;&lt;EOF\r\n        var rootUser = &quot;${MONGO_INITDB_ROOT_USERNAME}&quot;;\r\n        var rootPassword = &quot;${MONGO_INITDB_ROOT_PASSWORD}&quot;;\r\n        db.getSiblingDB(&#39;admin&#39;).auth(rootUser, rootPassword);\r\n    \r\n        use ${MONGO_INITDB_DATABASE}\r\n        db.createCollection(&quot;someCollectionName&quot;)\r\n    \r\n        use admin\r\n        db.createUser(\r\n          {\r\n            user: &quot;${MONGO_INITDB_USERNAME}&quot;,\r\n            pwd: &quot;${MONGO_INITDB_PASSWORD}&quot;,\r\n            roles: [ { role: &quot;readWrite&quot;, db: &quot;${MONGO_INITDB_DATABASE}&quot; } ]\r\n          }\r\n        )\r\n    EOF\r\n\r\n I&#39;ve tried adding the :ro suffix to docker-cospose:\r\n   \r\n\r\n     volumes:\r\n          - ../mongodb/db:/data/db\r\n          - ./init-mongo.sh:/docker-entrypoint-initdb.d/init-mongo.sh:ro \r\n\r\nbut it still doesn&#39;t work.","title":"MongoDb init-mongo.sh Authentication failed","body":"<p>I develop an application in Spring Boot which is a group of microservices and run them as Docker containers. I'm using MongoDB as my database. I create Root User and User when creating Monga using the init-mongo.sh and stage_mongo.env files, then I try to connect to the database using the stage_mongo_auth.env file from other microservices. When I try to connect as Root User everything goes fine but when I try to connect as User I get an authentication error.</p>\n<p>Error:</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server mongodb:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}  at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.0.jar!/:na] at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.0.jar!/:na]  at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.0.jar!/:na] at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.0.jar!/:na]   at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.0.jar!/:na]    at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.0.jar!/:na]    at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.0.jar!/:na]\n</code></pre>\n<p>docker-compose.yaml</p>\n<pre><code>version: '3.3'\nservices:\n\n  mongodb:\n    image: mongo:6.0.2\n    restart: unless-stopped\n    env_file:\n      - ../config/stage_mongo.env\n    volumes:\n      - ../mongodb/db:/data/db\n      - ./init-mongo.sh:/docker-entrypoint-initdb.d/init-mongo.sh\n    ports:\n      - 30430:27017\n    deploy:\n      resources:\n        limits:\n          cpus: '4.0'\n          memory: 2GB\n    logging:\n      driver: &quot;json-file&quot;\n      options:\n        tag: &quot;mongodb&quot;\n        max-size: 256m\n\n  api:\n    image: amazoncorretto:17.0.3-alpine\n    depends_on:\n      - mongodb\n    restart: unless-stopped\n    env_file:\n      - ../config/stage_mongo_auth.env\n    volumes:\n      - ./java/api-0.0.1-SNAPSHOT.jar:/gjava/java.jar\n      - ../files:/files\n    environment:\n      spring_data_mongodb_host: mongodb\n    command: /bin/sh -c &quot;cd /gjava &amp;&amp; chmod +x /gjava/*.jar &amp;&amp; java -Xmx2g -Dspring.profiles.active=dev -jar /gjava/java.jar&quot;\n    ports:\n      - 30429:30329\n    deploy:\n      resources:\n        limits:\n          cpus: '2.0'\n          memory: 2GB\n    logging:\n      driver: &quot;json-file&quot;\n      options:\n        tag: &quot;api&quot;\n        max-size: 256m\n</code></pre>\n<p>init-mongo.sh</p>\n<pre><code>mongo -- &quot;$MONGO_INITDB_DATABASE&quot; &lt;&lt;EOF\n    var rootUser = '$MONGO_INITDB_ROOT_USERNAME';\n    var rootPassword = '$MONGO_INITDB_ROOT_PASSWORD';\n    var admin = db.getSiblingDB('admin');\n    admin.auth(rootUser, rootPassword);\n\n    var user = '$MONGO_INITDB_USERNAME';\n    var passwd = '$MONGO_INITDB_PASSWORD';\n    db.createUser({user: user, pwd: passwd, roles: [&quot;readWrite&quot;]});\nEOF\n</code></pre>\n<p>stage_mongo.env</p>\n<pre><code>MONGO_INITDB_ROOT_USERNAME=someRootName\nMONGO_INITDB_ROOT_PASSWORD=someRootPassword\nMONGO_INITDB_USERNAME=someName\nMONGO_INITDB_PASSWORD=somePassword\nMONGO_INITDB_DATABASE=someDatabaseName\n</code></pre>\n<p>stage_mongo_auth.env</p>\n<pre><code>spring_data_mongodb_username=someName\nspring_data_mongodb_password=somePassword\n</code></pre>\n<p>I've looked through my code several times, but I can't find the reason for this error, I've also tried to search the internet for answers, but I haven't found anything either.\nI will be grateful for any help.</p>\n<hr />\n<p>Update 1</p>\n<p>I found the reason why some login credentials work and others don't - commands from init-mongo.sh do not run. I removed it and got the same way to authenticate to MongoDB.</p>\n<p>I've tried different ways to enter commands like that:</p>\n<pre><code>mongo &lt;&lt;EOF\n    var rootUser = &quot;${MONGO_INITDB_ROOT_USERNAME}&quot;;\n    var rootPassword = &quot;${MONGO_INITDB_ROOT_PASSWORD}&quot;;\n    db.getSiblingDB('admin').auth(rootUser, rootPassword);\n\n    use ${MONGO_INITDB_DATABASE}\n    db.createCollection(&quot;someCollectionName&quot;)\n\n    use admin\n    db.createUser(\n      {\n        user: &quot;${MONGO_INITDB_USERNAME}&quot;,\n        pwd: &quot;${MONGO_INITDB_PASSWORD}&quot;,\n        roles: [ { role: &quot;readWrite&quot;, db: &quot;${MONGO_INITDB_DATABASE}&quot; } ]\n      }\n    )\nEOF\n</code></pre>\n<p>I've tried adding the :ro suffix to docker-cospose:</p>\n<pre><code> volumes:\n      - ../mongodb/db:/data/db\n      - ./init-mongo.sh:/docker-entrypoint-initdb.d/init-mongo.sh:ro \n</code></pre>\n<p>but it still doesn't work.</p>\n"},{"tags":["java","spring-boot","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669807874,"creation_date":1669807874,"answer_id":74627091,"question_id":74626817,"body_markdown":"The details that are missing to answer this question fully is in the &quot;mapper.map(doctorDto, Doctor.class)&quot;\r\n\r\nBut I would take a look at this link: https://www.baeldung.com/java-copy-list-to-another\r\n\r\nIt will give you some ideas on how to write your mapper to handle this. I would also suggest you look into using the mapstruct framework to do this mapping for you where it can easily handle mapping lists to lists and also if the objects have the same attributes, there is very little configuration needed.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface DoctorMapper {\r\n    List&lt;DoctorDto&gt; map(List&lt;Doctor&gt; doctors);\r\n\r\n    DoctorDto map(Doctor doctor);\r\n    }\r\n\r\n","title":"ModelMapper throws an error while it&#39;s mapping from List to another List","body":"<p>The details that are missing to answer this question fully is in the &quot;mapper.map(doctorDto, Doctor.class)&quot;</p>\n<p>But I would take a look at this link: <a href=\"https://www.baeldung.com/java-copy-list-to-another\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-copy-list-to-another</a></p>\n<p>It will give you some ideas on how to write your mapper to handle this. I would also suggest you look into using the mapstruct framework to do this mapping for you where it can easily handle mapping lists to lists and also if the objects have the same attributes, there is very little configuration needed.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface DoctorMapper {\nList&lt;DoctorDto&gt; map(List&lt;Doctor&gt; doctors);\n\nDoctorDto map(Doctor doctor);\n}\n</code></pre>\n"}],"owner":{"account_id":21487534,"reputation":1,"user_id":15833888,"display_name":"AlexBossov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669807874,"creation_date":1669806654,"question_id":74626817,"body_markdown":"I map two classes which properties have ArrayLists and ModelMappers works well. I have ModelMapper 3.1.0 version and SpringBoot version 2.7.4. in my project. Here&#39;s the snippet of two models: VetClinic and VetCLinicDto:\r\n\r\n```\r\npublic class VetClinic{\r\n    private ArrayList&lt;Doctor&gt; doctors;\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class VetClinic{\r\n    private ArrayList&lt;DoctorDto&gt; doctorDtos;\r\n    ...\r\n}\r\n```\r\nAnd for help ModelMapper with mapping specific fields like Collections I wrote the code:\r\n\r\n```\r\n@Override\r\nprotected void mapSpecificFieldsToModelFromDto(VetClinicDto source, VetClinic destination) {\r\n    if (source.getDoctors() != null)\r\n        destination.setDoctors(source.getDoctors()\r\n                .stream().map(doctorDto -&gt; mapper.map(doctorDto, Doctor.class))\r\n                .toList());\r\n        ...\r\n}\r\n```\r\nThis code snippet works correctly, but where I try to change ArrayList to List like this:\r\n\r\n```\r\npublic class VetClinic{\r\n    private List&lt;Doctor&gt; doctors;\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class VetClinic{\r\n    private List&lt;DoctorDto&gt; doctorDtos;\r\n    ...\r\n}\r\n```\r\nThe issue occurs when ModelMapper tries to map VetClinicDto to VetClinic but throws an error:\r\n```\r\n1) Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.\r\n\r\n```\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to initialize List to ArrayList right away. Like this:\r\n\r\n```\r\npublic class VetClinic{\r\n    private List&lt;Doctor&gt; doctors = new ArrayList&lt;&gt;();\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class VetClinic{\r\n    private List&lt;DoctorDto&gt; doctorDtos = new ArrayList&lt;&gt;();\r\n    ...\r\n}\r\n```\r\n\r\nBut it doesn&#39;t work. I can&#39;t understand why does ModelMapper cannot map one List to another List.","title":"ModelMapper throws an error while it&#39;s mapping from List to another List","body":"<p>I map two classes which properties have ArrayLists and ModelMappers works well. I have ModelMapper 3.1.0 version and SpringBoot version 2.7.4. in my project. Here's the snippet of two models: VetClinic and VetCLinicDto:</p>\n<pre><code>public class VetClinic{\n    private ArrayList&lt;Doctor&gt; doctors;\n    ...\n}\n</code></pre>\n<pre><code>public class VetClinic{\n    private ArrayList&lt;DoctorDto&gt; doctorDtos;\n    ...\n}\n</code></pre>\n<p>And for help ModelMapper with mapping specific fields like Collections I wrote the code:</p>\n<pre><code>@Override\nprotected void mapSpecificFieldsToModelFromDto(VetClinicDto source, VetClinic destination) {\n    if (source.getDoctors() != null)\n        destination.setDoctors(source.getDoctors()\n                .stream().map(doctorDto -&gt; mapper.map(doctorDto, Doctor.class))\n                .toList());\n        ...\n}\n</code></pre>\n<p>This code snippet works correctly, but where I try to change ArrayList to List like this:</p>\n<pre><code>public class VetClinic{\n    private List&lt;Doctor&gt; doctors;\n    ...\n}\n</code></pre>\n<pre><code>public class VetClinic{\n    private List&lt;DoctorDto&gt; doctorDtos;\n    ...\n}\n</code></pre>\n<p>The issue occurs when ModelMapper tries to map VetClinicDto to VetClinic but throws an error:</p>\n<pre><code>1) Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.\n\n</code></pre>\n<p>I've tried to initialize List to ArrayList right away. Like this:</p>\n<pre><code>public class VetClinic{\n    private List&lt;Doctor&gt; doctors = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n<pre><code>public class VetClinic{\n    private List&lt;DoctorDto&gt; doctorDtos = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n<p>But it doesn't work. I can't understand why does ModelMapper cannot map one List to another List.</p>\n"},{"tags":["java","cucumber","rest-assured","extentreports"],"answers":[{"tags":[],"owner":{"account_id":2802799,"reputation":389,"user_id":2559720,"accept_rate":70,"display_name":"Karunagara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669807792,"creation_date":1669800681,"answer_id":74625467,"question_id":74613252,"body_markdown":"I got the answer for the above issue. I have added the adapter dependency (which matches with io.cucumber 5.7.0 version) in my pom.xml and removed aventstack dependency as its not required.\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n     &lt;artifactId&gt;extentreports-cucumber5-adapter&lt;/artifactId&gt;\r\n     &lt;version&gt;2.15.0&lt;/version&gt;\r\n     &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"io.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: com/aventstack/extentreports/reporter/ReporterConfigurable","body":"<p>I got the answer for the above issue. I have added the adapter dependency (which matches with io.cucumber 5.7.0 version) in my pom.xml and removed aventstack dependency as its not required.</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n &lt;artifactId&gt;extentreports-cucumber5-adapter&lt;/artifactId&gt;\n &lt;version&gt;2.15.0&lt;/version&gt;\n &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2802799,"reputation":389,"user_id":2559720,"accept_rate":70,"display_name":"Karunagara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669807792,"creation_date":1669720767,"question_id":74613252,"body_markdown":"I&#39;m trying to implement **Extent Reports** in my API automation project, for that I have added the dependencies for your reference.\r\n\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n    \r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n           &lt;!-- Extent Report --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n                &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n           &lt;!-- Cucumber ExtentReport Adapter --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;extentreports-cucumber5-adapter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand added the plugin part in the Cucumber Runner class.\r\n\r\n    plugin = {&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\r\n\r\nWhen I run the script, getting the below error.\r\n\r\n**io.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: com/aventstack/extentreports/reporter/ReporterConfigurable**\r\n\r\n&lt;br&gt;Can you please help me to resolve this issue ?\r\n\r\n&lt;br&gt;**Note:** Its working with info.cukes cucumber and vimalselvam extent report.\r\n\r\nThanks, &lt;br&gt;\r\nKarunagara Pandi G\r\n","title":"io.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: com/aventstack/extentreports/reporter/ReporterConfigurable","body":"<p>I'm trying to implement <strong>Extent Reports</strong> in my API automation project, for that I have added the dependencies for your reference.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;4.3.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;4.3.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n       &lt;!-- Extent Report --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;4.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n       &lt;!-- Cucumber ExtentReport Adapter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-cucumber5-adapter&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and added the plugin part in the Cucumber Runner class.</p>\n<pre><code>plugin = {&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\n</code></pre>\n<p>When I run the script, getting the below error.</p>\n<p><strong>io.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: com/aventstack/extentreports/reporter/ReporterConfigurable</strong></p>\n<p><br>Can you please help me to resolve this issue ?</p>\n<p><br><strong>Note:</strong> Its working with info.cukes cucumber and vimalselvam extent report.</p>\n<p>Thanks, <br>\nKarunagara Pandi G</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669808238,"post_id":74627033,"comment_id":131725956,"body_markdown":"Do you have `security.basic.enabled=false` in your `application.properites`?","body":"Do you have <code>security.basic.enabled=false</code> in your <code>application.properites</code>?"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669808340,"post_id":74627033,"comment_id":131725985,"body_markdown":"@Youans no, I don&#39;t have any spring security properties set","body":"@Youans no, I don&#39;t have any spring security properties set"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669808550,"post_id":74627033,"comment_id":131726064,"body_markdown":"Does it work if you append after   `authorizeHttpRequests`\n`.and().httpBasic()`","body":"Does it work if you append after   <code>authorizeHttpRequests</code> <code>.and().httpBasic()</code>"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669808671,"post_id":74627033,"comment_id":131726102,"body_markdown":"My thinking is that you configured everything but you don&#39;t have `/login` endpoint, So when un-authenticated request reaches server spring security fall back to error page, which is also is not authenticated so it goes back to login and so on till you get the too many redirects error","body":"My thinking is that you configured everything but you don&#39;t have <code>&#47;login</code> endpoint, So when un-authenticated request reaches server spring security fall back to error page, which is also is not authenticated so it goes back to login and so on till you get the too many redirects error"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669808956,"post_id":74627033,"comment_id":131726216,"body_markdown":"which means also you should allow `/error` path","body":"which means also you should allow <code>&#47;error</code> path"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669809028,"post_id":74627033,"comment_id":131726244,"body_markdown":"@Youans Unfortunately adding ``.and().httpBasic()`` didnt work. I want to use the default login form. The problem is that even urls that match the requestMatchers require login and I dont want that","body":"@Youans Unfortunately adding <code>.and().httpBasic()</code> didnt work. I want to use the default login form. The problem is that even urls that match the requestMatchers require login and I dont want that"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669811197,"post_id":74627033,"comment_id":131726953,"body_markdown":"I guess you are doing old way of authenticating which is deprecated see read this post https://stackoverflow.com/questions/73089730/authorizerequests-vs-authorizehttprequestscustomizerauthorizehttprequestsc","body":"I guess you are doing old way of authenticating which is deprecated see read this post <a href=\"https://stackoverflow.com/questions/73089730/authorizerequests-vs-authorizehttprequestscustomizerauthorizehttprequestsc\" title=\"authorizerequests vs authorizehttprequestscustomizerauthorizehttprequestsc\">stackoverflow.com/questions/73089730/&hellip;</a>"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1669812298,"post_id":74627033,"comment_id":131727313,"body_markdown":"If you want to use the default login form you should not override `loginPage`, see the javadoc: **Specifies the URL to send users to if login is required. If used with EnableWebSecurity a default login page will be generated when this attribute is not specified.\nIf a URL is specified or this is not being used in conjunction with EnableWebSecurity, users are required to process the specified URL to generate a login page.**","body":"If you want to use the default login form you should not override <code>loginPage</code>, see the javadoc: <b>Specifies the URL to send users to if login is required. If used with EnableWebSecurity a default login page will be generated when this attribute is not specified. If a URL is specified or this is not being used in conjunction with EnableWebSecurity, users are required to process the specified URL to generate a login page.</b>"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1669812345,"post_id":74627033,"comment_id":131727322,"body_markdown":"I think @Youans is right, in order to debug try to permit the `/error` page","body":"I think @Youans is right, in order to debug try to permit the <code>&#47;error</code> page"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669828962,"post_id":74627033,"comment_id":131733803,"body_markdown":"I did it exactly like in the docs for the corresponding spring security version, it isn&#39;t deprecated: https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html","body":"I did it exactly like in the docs for the corresponding spring security version, it isn&#39;t deprecated: <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authorizati&zwnj;&#8203;on/&hellip;</a>"},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1669830745,"post_id":74627033,"comment_id":131734361,"body_markdown":"@Youans I analyzed further and my ``SecurityFilterChain`` seems ok, it looks like my controller redirects me to localhost:8080/info.jsp?continue instead of staying on localhost:8080/info. That explains why the pattern doesn&#39;t match","body":"@Youans I analyzed further and my <code>SecurityFilterChain</code> seems ok, it looks like my controller redirects me to localhost:8080/info.jsp?continue instead of staying on localhost:8080/info. That explains why the pattern doesn&#39;t match"}],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669807625,"creation_date":1669807625,"question_id":74627033,"body_markdown":"I just created a new Spring Boot application with the following web security config (using spring-security-config:6.0.0):\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n       @Bean\r\n       public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/info/**&quot;).permitAll()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout(LogoutConfigurer::permitAll);\r\n    \r\n        return http.build();\r\n       }\r\n     }\r\n\r\nWhen trying to access any url I get redirected to /login with ERR_TOO_MANY_REDIRECTS. Something seems to be wrong with my SecurityConfig.\r\n\r\nIn previous versions I always used `http.authorizeHttpRequests().antMatchers(&quot;/&quot;)` instead of requestMatchers but it seems like they removed it.\r\n\r\nDoes `requestMatchers()` do the same thing or how can I configure url patterns that don&#39;t require login?","title":"Spring Security ignores URL patterns from requestMatchers","body":"<p>I just created a new Spring Boot application with the following web security config (using spring-security-config:6.0.0):</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n   @Bean\n   public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .requestMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/info/**&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n            )\n            .formLogin((form) -&gt; form\n                    .loginPage(&quot;/login&quot;)\n                    .permitAll()\n            )\n            .logout(LogoutConfigurer::permitAll);\n\n    return http.build();\n   }\n }\n</code></pre>\n<p>When trying to access any url I get redirected to /login with ERR_TOO_MANY_REDIRECTS. Something seems to be wrong with my SecurityConfig.</p>\n<p>In previous versions I always used <code>http.authorizeHttpRequests().antMatchers(&quot;/&quot;)</code> instead of requestMatchers but it seems like they removed it.</p>\n<p>Does <code>requestMatchers()</code> do the same thing or how can I configure url patterns that don't require login?</p>\n"},{"tags":["java","spring-boot","caching","redis","spring-transactions"],"owner":{"account_id":27097588,"reputation":11,"user_id":20644615,"display_name":"pennie turci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669807568,"creation_date":1669807568,"question_id":74627016,"body_markdown":"I am retrieving the User session from redis cache and making changes to the child entity \r\nThe changes made is not updated to the database with the help of the @Transactional Annotation\r\n\r\n\r\n```\r\n@Transactional\r\n    public ResponseEntity&lt;Object&gt; updateRating(@NonNull final String sessionId, @NonNull final UserRatingUpdateRequestDTO userRatingUpdateRequestDTO) {\r\n        final UserSession fetchedSession = userSessionService.findUserSessionBySessionId(sessionId);\r\n        final User user = fetchedSession.getUser();\r\n        final LocalDate currentDate = DateTimeUtils.dateTimeInIST().toLocalDate();\r\n        logger.info(&quot;Updating Rating for user : {}&quot;, user.getId());\r\n        if (userRatingUpdateRequestDTO.isHasRated()) {\r\n            user.getUserRating().setHasGivenRating(true);\r\n        } else {\r\n            int weeksToAdd = 5;\r\n            user.getUserRating().setDate(currentDate.plusWeeks(weeksToAdd));\r\n        }\r\n        cacheInvalidatorService.evictUserSession(sessionId);\r\n        cacheInvalidatorService.deleteUserDetails(user.getUsername());\r\n        return ResponseEntity.ok().body(&quot;rating updated successfully&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to create a new transaction but the changes not reflecting into the database\r\nI tried to use the Commit but that only be used inside the testing method\r\n\r\nI want to update the database with the help of transaction annotation and with out saving the entity \r\n\r\nor is it not possible","title":"entity retrieved from cache is not updated by the @Transactional in spring boot","body":"<p>I am retrieving the User session from redis cache and making changes to the child entity\nThe changes made is not updated to the database with the help of the @Transactional Annotation</p>\n<pre><code>@Transactional\n    public ResponseEntity&lt;Object&gt; updateRating(@NonNull final String sessionId, @NonNull final UserRatingUpdateRequestDTO userRatingUpdateRequestDTO) {\n        final UserSession fetchedSession = userSessionService.findUserSessionBySessionId(sessionId);\n        final User user = fetchedSession.getUser();\n        final LocalDate currentDate = DateTimeUtils.dateTimeInIST().toLocalDate();\n        logger.info(&quot;Updating Rating for user : {}&quot;, user.getId());\n        if (userRatingUpdateRequestDTO.isHasRated()) {\n            user.getUserRating().setHasGivenRating(true);\n        } else {\n            int weeksToAdd = 5;\n            user.getUserRating().setDate(currentDate.plusWeeks(weeksToAdd));\n        }\n        cacheInvalidatorService.evictUserSession(sessionId);\n        cacheInvalidatorService.deleteUserDetails(user.getUsername());\n        return ResponseEntity.ok().body(&quot;rating updated successfully&quot;);\n    }\n\n}\n</code></pre>\n<p>I tried to create a new transaction but the changes not reflecting into the database\nI tried to use the Commit but that only be used inside the testing method</p>\n<p>I want to update the database with the help of transaction annotation and with out saving the entity</p>\n<p>or is it not possible</p>\n"},{"tags":["java","garbage-collection","temporary-files"],"comments":[{"owner":{"account_id":2577836,"reputation":119494,"user_id":2235132,"display_name":"devnull"},"score":3,"creation_date":1369225008,"post_id":16691437,"comment_id":24021516,"body_markdown":"[deleteOnExit()](http://docs.oracle.com/javase/6/docs/api/java/io/File.html#deleteOnExit())","body":"<a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#deleteOnExit()\" rel=\"nofollow noreferrer\">deleteOnExit()</a>"},{"owner":{"account_id":2392024,"reputation":4226,"user_id":2091700,"accept_rate":67,"display_name":"Alphaaa"},"score":0,"creation_date":1369225790,"post_id":16691437,"comment_id":24022005,"body_markdown":"my apologies, I only checked the method http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29, which does not provide the answer. The long description is only present in the method with the longer signature.","body":"my apologies, I only checked the method <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/io/&hellip;</a>, which does not provide the answer. The long description is only present in the method with the longer signature."}],"answers":[{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1369224923,"creation_date":1369224923,"answer_id":16691497,"question_id":16691437,"body_markdown":"&gt; If I do not explicity call the `delete()` method, when will the file be deleted?\r\n\r\nIt won&#39;t, at least not by Java.  If you want the file to be deleted when the JVM terminates then you need to call `tmp.deleteOnExit()`.","title":"When are Java temporary files deleted?","body":"<blockquote>\n  <p>If I do not explicity call the <code>delete()</code> method, when will the file be deleted?</p>\n</blockquote>\n\n<p>It won't, at least not by Java.  If you want the file to be deleted when the JVM terminates then you need to call <code>tmp.deleteOnExit()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1369224958,"creation_date":1369224958,"answer_id":16691509,"question_id":16691437,"body_markdown":"Temporary file is used to store the less important and temporary data, which should always be deleted when your system is terminated. The best practice is use the File.deleteOnExit() to do it.\r\n\r\nFor example,\r\n\r\n    File temp = File.createTempFile(&quot;abc&quot;, &quot;.tmp&quot;); \r\n    temp.deleteOnExit();\r\n\r\nThe above example will create a temporary file named “abc.tmp” and delete it when the program is terminated or exited.","title":"When are Java temporary files deleted?","body":"<p>Temporary file is used to store the less important and temporary data, which should always be deleted when your system is terminated. The best practice is use the File.deleteOnExit() to do it.</p>\n\n<p>For example,</p>\n\n<pre><code>File temp = File.createTempFile(\"abc\", \".tmp\"); \ntemp.deleteOnExit();\n</code></pre>\n\n<p>The above example will create a temporary file named “abc.tmp” and delete it when the program is terminated or exited.</p>\n"},{"tags":[],"owner":{"account_id":2801173,"reputation":86,"user_id":2409393,"display_name":"Jasper Ketelaar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1369224973,"creation_date":1369224973,"answer_id":16691515,"question_id":16691437,"body_markdown":"You can manually delete the file before terminating the process if you want to, however when the process is terminated the file will be deleted as well.","title":"When are Java temporary files deleted?","body":"<p>You can manually delete the file before terminating the process if you want to, however when the process is terminated the file will be deleted as well.</p>\n"},{"tags":[],"owner":{"account_id":1844797,"reputation":57363,"user_id":1673391,"accept_rate":88,"display_name":"Grijesh Chauhan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1369225005,"creation_date":1369225005,"answer_id":16691530,"question_id":16691437,"body_markdown":"from: [How to delete temporary file in Java][1]\r\n&gt; Temporary file is used to store the less important and temporary data,\r\n&gt; **which should always be deleted when your system is terminated**. The\r\n&gt; best practice is use the File.deleteOnExit() to do it.\r\n\r\nFor example,\r\n\r\n    File temp = File.createTempFile(&quot;abc&quot;, &quot;.tmp&quot;); \r\n    temp.deleteOnExit();\r\n\r\nThe above example will create a temporary file named “abc.tmp” and *delete it when the program is terminated or exited*.\r\n\r\nIf you want *to delete the temporary file manually*, you can still use the File.delete().\r\n\r\n  [1]: http://www.mkyong.com/java/how-to-delete-temporary-file-in-java/","title":"When are Java temporary files deleted?","body":"<p>from: <a href=\"http://www.mkyong.com/java/how-to-delete-temporary-file-in-java/\" rel=\"noreferrer\">How to delete temporary file in Java</a></p>\n\n<blockquote>\n  <p>Temporary file is used to store the less important and temporary data,\n  <strong>which should always be deleted when your system is terminated</strong>. The\n  best practice is use the File.deleteOnExit() to do it.</p>\n</blockquote>\n\n<p>For example,</p>\n\n<pre><code>File temp = File.createTempFile(\"abc\", \".tmp\"); \ntemp.deleteOnExit();\n</code></pre>\n\n<p>The above example will create a temporary file named “abc.tmp” and <em>delete it when the program is terminated or exited</em>.</p>\n\n<p>If you want <em>to delete the temporary file manually</em>, you can still use the File.delete().</p>\n"},{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":117,"is_accepted":true,"score":117,"last_activity_date":1369225087,"creation_date":1369225087,"answer_id":16691560,"question_id":16691437,"body_markdown":"The file won&#39;t be deleted automatically, from the [JavaDoc][1]:\r\n\r\n&gt; This method provides only part of a temporary-file facility. To\r\n&gt; arrange for a file created by this method to be deleted automatically,\r\n&gt; use the deleteOnExit() method.\r\n\r\nSo you have to explicitly call [deleteOnExit()][2]:\r\n\r\n&gt; Requests that the file or directory denoted by this abstract pathname\r\n&gt; be deleted when the virtual machine terminates.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit%28%29","title":"When are Java temporary files deleted?","body":"<p>The file won't be deleted automatically, from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29\" rel=\"noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>This method provides only part of a temporary-file facility. To\n  arrange for a file created by this method to be deleted automatically,\n  use the deleteOnExit() method.</p>\n</blockquote>\n\n<p>So you have to explicitly call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit%28%29\" rel=\"noreferrer\">deleteOnExit()</a>:</p>\n\n<blockquote>\n  <p>Requests that the file or directory denoted by this abstract pathname\n  be deleted when the virtual machine terminates.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":178805,"reputation":49349,"user_id":411022,"display_name":"Ilmari Karonen"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1369233439,"creation_date":1369233024,"answer_id":16694493,"question_id":16691437,"body_markdown":"As the other answers note, temporary files created with [`File.createTempFile()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String)) will _not_ be deleted automatically unless you explicitly request it.\r\n\r\nThe generic, portable way to do this is to call [`.deleteOnExit()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit()) on the `File` object, which will schedule the file for deletion when the JVM terminates.  A slight disadvantage of this method, however, is that it only works if the VM terminates normally; on an abnormal termination (i.e. a VM crash or forced termination of the VM process), the file might remain undeleted.\r\n\r\nOn Unixish systems (such as Linux), it&#39;s actually possible to obtain a somewhat more reliable solution by deleting the temporary file _immediately after opening it_.  This works because Unix filesystems allow a file to be deleted ([unlinked](http://en.wikipedia.org/wiki/Unlink_(Unix)), to be precise) while it&#39;s still held open by one or more processes.  Such files can be accessed normally through the open filehandle, and the space they occupy on disk will only be reclaimed by the OS after the last process holding an open handle to the file exits.\r\n\r\nSo here&#39;s the most reliable and portable way I know to ensure that a temporary file will be properly deleted after the program exits:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.RandomAccessFile;\r\n    import java.io.IOException;\r\n     \r\n    public class TempFileTest\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            try {\r\n                // create a temp file\r\n                File temp = File.createTempFile(&quot;tempfiletest&quot;, &quot;.tmp&quot;); \r\n                String path = temp.getAbsolutePath();\r\n                System.err.println(&quot;Temp file created: &quot; + path);\r\n\r\n                // open a handle to it\r\n                RandomAccessFile fh = new RandomAccessFile (temp, &quot;rw&quot;);\r\n                System.err.println(&quot;Temp file opened for random access.&quot;);\r\n    \r\n                // try to delete the file immediately\r\n                boolean deleted = false;\r\n                try {\r\n                    deleted = temp.delete();\r\n                } catch (SecurityException e) {\r\n                    // ignore\r\n                }\r\n    \r\n                // else delete the file when the program ends\r\n                if (deleted) {\r\n                    System.err.println(&quot;Temp file deleted.&quot;);\r\n                } else {\r\n                    temp.deleteOnExit();\r\n                    System.err.println(&quot;Temp file scheduled for deletion.&quot;);\r\n                }\r\n\r\n                try {\r\n                    // test writing data to the file\r\n                    String str = &quot;A quick brown fox jumps over the lazy dog.&quot;;\r\n                    fh.writeUTF(str);\r\n                    System.err.println(&quot;Wrote: &quot; + str);\r\n    \r\n                    // test reading the data back from the file\r\n                    fh.seek(0);\r\n                    String out = fh.readUTF();\r\n                    System.err.println(&quot;Read: &quot; + out);\r\n    \r\n                } finally {\r\n                    // close the file\r\n                    fh.close();\r\n                    System.err.println(&quot;Temp file closed.&quot;);\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nOn a Unixish system, running this should produce something like the following output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Temp file created: /tmp/tempfiletest587200103465311579.tmp\r\n    Temp file opened for random access.\r\n    Temp file deleted.\r\n    Wrote: A quick brown fox jumps over the lazy dog.\r\n    Read: A quick brown fox jumps over the lazy dog.\r\n    Temp file closed.\r\n\r\nwhereas on Windows, the output looks slightly different:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Temp file created: C:\\DOCUME~1\\User\\LOCALS~1\\Temp\\tempfiletest5547070005699628548.tmp\r\n    Temp file opened for random access.\r\n    Temp file scheduled for deletion.\r\n    Wrote: A quick brown fox jumps over the lazy dog.\r\n    Read: A quick brown fox jumps over the lazy dog.\r\n    Temp file closed.\r\n\r\nIn either case, however, the temp file should not remain on the disk after the program has ended.\r\n\r\n----\r\n\r\n**Ps.** While testing this code on Windows, I observed a rather surprising fact: apparently, merely _leaving the temp file unclosed is enough to keep it from being deleted_.  Of course, this also means that any crash that happens while the temp file is in use will cause it to be left undeleted, which is exactly what we&#39;re trying to _avoid_ here.\r\n\r\nAFAIK, the only way to avoid this is to ensure that the temp file _always_ gets closed using a `finally` block.  Of course, then you could just as well delete the file in the same `finally` block too.  I&#39;m not sure what, if anything, using `.deleteOnExit()` would actually gain you over that.\r\n","title":"When are Java temporary files deleted?","body":"<p>As the other answers note, temporary files created with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29\"><code>File.createTempFile()</code></a> will <em>not</em> be deleted automatically unless you explicitly request it.</p>\n\n<p>The generic, portable way to do this is to call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit%28%29\"><code>.deleteOnExit()</code></a> on the <code>File</code> object, which will schedule the file for deletion when the JVM terminates.  A slight disadvantage of this method, however, is that it only works if the VM terminates normally; on an abnormal termination (i.e. a VM crash or forced termination of the VM process), the file might remain undeleted.</p>\n\n<p>On Unixish systems (such as Linux), it's actually possible to obtain a somewhat more reliable solution by deleting the temporary file <em>immediately after opening it</em>.  This works because Unix filesystems allow a file to be deleted (<a href=\"http://en.wikipedia.org/wiki/Unlink_%28Unix%29\">unlinked</a>, to be precise) while it's still held open by one or more processes.  Such files can be accessed normally through the open filehandle, and the space they occupy on disk will only be reclaimed by the OS after the last process holding an open handle to the file exits.</p>\n\n<p>So here's the most reliable and portable way I know to ensure that a temporary file will be properly deleted after the program exits:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.RandomAccessFile;\nimport java.io.IOException;\n\npublic class TempFileTest\n{\n    public static void main(String[] args)\n    {\n        try {\n            // create a temp file\n            File temp = File.createTempFile(\"tempfiletest\", \".tmp\"); \n            String path = temp.getAbsolutePath();\n            System.err.println(\"Temp file created: \" + path);\n\n            // open a handle to it\n            RandomAccessFile fh = new RandomAccessFile (temp, \"rw\");\n            System.err.println(\"Temp file opened for random access.\");\n\n            // try to delete the file immediately\n            boolean deleted = false;\n            try {\n                deleted = temp.delete();\n            } catch (SecurityException e) {\n                // ignore\n            }\n\n            // else delete the file when the program ends\n            if (deleted) {\n                System.err.println(\"Temp file deleted.\");\n            } else {\n                temp.deleteOnExit();\n                System.err.println(\"Temp file scheduled for deletion.\");\n            }\n\n            try {\n                // test writing data to the file\n                String str = \"A quick brown fox jumps over the lazy dog.\";\n                fh.writeUTF(str);\n                System.err.println(\"Wrote: \" + str);\n\n                // test reading the data back from the file\n                fh.seek(0);\n                String out = fh.readUTF();\n                System.err.println(\"Read: \" + out);\n\n            } finally {\n                // close the file\n                fh.close();\n                System.err.println(\"Temp file closed.\");\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>On a Unixish system, running this should produce something like the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Temp file created: /tmp/tempfiletest587200103465311579.tmp\nTemp file opened for random access.\nTemp file deleted.\nWrote: A quick brown fox jumps over the lazy dog.\nRead: A quick brown fox jumps over the lazy dog.\nTemp file closed.\n</code></pre>\n\n<p>whereas on Windows, the output looks slightly different:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Temp file created: C:\\DOCUME~1\\User\\LOCALS~1\\Temp\\tempfiletest5547070005699628548.tmp\nTemp file opened for random access.\nTemp file scheduled for deletion.\nWrote: A quick brown fox jumps over the lazy dog.\nRead: A quick brown fox jumps over the lazy dog.\nTemp file closed.\n</code></pre>\n\n<p>In either case, however, the temp file should not remain on the disk after the program has ended.</p>\n\n<hr>\n\n<p><strong>Ps.</strong> While testing this code on Windows, I observed a rather surprising fact: apparently, merely <em>leaving the temp file unclosed is enough to keep it from being deleted</em>.  Of course, this also means that any crash that happens while the temp file is in use will cause it to be left undeleted, which is exactly what we're trying to <em>avoid</em> here.</p>\n\n<p>AFAIK, the only way to avoid this is to ensure that the temp file <em>always</em> gets closed using a <code>finally</code> block.  Of course, then you could just as well delete the file in the same <code>finally</code> block too.  I'm not sure what, if anything, using <code>.deleteOnExit()</code> would actually gain you over that.</p>\n"}],"owner":{"account_id":2392024,"reputation":4226,"user_id":2091700,"accept_rate":67,"display_name":"Alphaaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109593,"favorite_count":0,"down_vote_count":2,"up_vote_count":116,"accepted_answer_id":16691560,"answer_count":6,"score":114,"last_activity_date":1669807337,"creation_date":1369224765,"question_id":16691437,"body_markdown":"Suppose I create a temporary file in Java with the method\r\n\r\n    File tmp = File.createTempFile(prefix, suffix);\r\n\r\nIf I do not explicity call the `delete()` method, when will the file be deleted?\r\n\r\nAs an intuition, it might be when the JVM terminates, or _earlier_ (by the Garbage Collector), or _later_ (by some Operating System sweeping process).","title":"When are Java temporary files deleted?","body":"<p>Suppose I create a temporary file in Java with the method</p>\n\n<pre><code>File tmp = File.createTempFile(prefix, suffix);\n</code></pre>\n\n<p>If I do not explicity call the <code>delete()</code> method, when will the file be deleted?</p>\n\n<p>As an intuition, it might be when the JVM terminates, or <em>earlier</em> (by the Garbage Collector), or <em>later</em> (by some Operating System sweeping process).</p>\n"},{"tags":["java","json","groovy","jenkins-pipeline","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669807280,"creation_date":1669807280,"answer_id":74626942,"question_id":74626384,"body_markdown":"You have 2 options here: either create a new instance of your JSON as Map, or *properly* modify the existing object:\r\n```\r\nimport&#160;groovy.json.*\r\n\r\ndef json = new JsonSlurper().parseText &#39;&#39;&#39;\\\r\n{\r\n    &quot;stack-0&quot;: {\r\n        &quot;name&quot;: &quot;foo-web&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\r\n        &quot;dbName&quot;: &quot;foo-DB&quot;\r\n    },\r\n    &quot;stack-1&quot;: {\r\n        &quot;name&quot;: &quot;bar-web&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\r\n        &quot;dbName&quot;: &quot;bar-DB&quot;\r\n    }\r\n}&#39;&#39;&#39;\r\n\r\n\r\n// create a filtered new Map\r\ndef newJson = json.findAll{ key, val -&gt; &#39;foo-web&#39; != val.name }\r\nassert newJson.toString() == &#39;[stack-1:[name:bar-web, createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB]]&#39;\r\n\r\n// modify the existing json\r\ndef entry\r\nfor( Iterator iter = json.iterator(); iter.hasNext() &amp;&amp; ( entry = iter.next() ); ){&#160;\r\n    if( &#39;foo-web&#39; == entry.value.name ) iter.remove()\r\n}\r\nassert json.toString() == &#39;{stack-1={name=bar-web, createdAt=2022-11-30T10:56:32.551977633Z, dbName=bar-DB}}&#39;\r\n```","title":"Delete elements from Json file with value matches and update the Json file with leftover elements in groovy","body":"<p>You have 2 options here: either create a new instance of your JSON as Map, or <em>properly</em> modify the existing object:</p>\n<pre><code>import groovy.json.*\n\ndef json = new JsonSlurper().parseText '''\\\n{\n    &quot;stack-0&quot;: {\n        &quot;name&quot;: &quot;foo-web&quot;,\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\n        &quot;dbName&quot;: &quot;foo-DB&quot;\n    },\n    &quot;stack-1&quot;: {\n        &quot;name&quot;: &quot;bar-web&quot;,\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\n        &quot;dbName&quot;: &quot;bar-DB&quot;\n    }\n}'''\n\n\n// create a filtered new Map\ndef newJson = json.findAll{ key, val -&gt; 'foo-web' != val.name }\nassert newJson.toString() == '[stack-1:[name:bar-web, createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB]]'\n\n// modify the existing json\ndef entry\nfor( Iterator iter = json.iterator(); iter.hasNext() &amp;&amp; ( entry = iter.next() ); ){ \n    if( 'foo-web' == entry.value.name ) iter.remove()\n}\nassert json.toString() == '{stack-1={name=bar-web, createdAt=2022-11-30T10:56:32.551977633Z, dbName=bar-DB}}'\n</code></pre>\n"}],"owner":{"account_id":19545008,"reputation":13,"user_id":14302036,"display_name":"Sarva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669807280,"creation_date":1669804792,"question_id":74626384,"body_markdown":"I am trying to load and loop elements from the JSON file output and delete the elements if it matches the values and at last, create a new JSON. I am able to successfully delete if I have only one element in my JSON. but when I have two elements then it&#39;s failing with the &quot;java.util.ConcurrentModificationException&quot; error. \r\n\r\n**Existing sarva.json File content:**\r\n\r\n```\r\n{\r\n    &quot;stack-0&quot;: {\r\n        &quot;name&quot;: &quot;foo-web&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\r\n        &quot;dbName&quot;: &quot;foo-DB&quot;\r\n    },\r\n    &quot;stack-1&quot;: {\r\n        &quot;name&quot;: &quot;bar-web&quot;,\r\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\r\n        &quot;dbName&quot;: &quot;bar-DB&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried with the below code to remove one element from JSON and create a new JSON. for that, I&#39;ve used below code block. but unfortunately, I am getting an error.\r\n\r\n```\r\nimport groovy.json.*\r\n\r\ndef jsonSlurper = new JsonSlurper()\r\ndef json = jsonSlurper.parse(new File(&quot;sarva.json&quot;))\r\njson.each { key, val -&gt;\r\nif (&quot;$val.name&quot; == &quot;foo-web&quot;) {\r\n  json.remove(key)\r\n  println json\r\n}\r\n}\r\n\r\n// below block is to update the new sarva.json file with the new content.\r\n\r\nnewJson = new JsonBuilder(json).toPrettyString()\r\nnew File(&quot;sarva.json&quot;).write(newJson)\r\n\r\n```\r\n\r\n**Intended output:**\r\n\r\n```\r\n[stack-1:[createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB, name:bar-web]]\r\n\r\n// And the sarva.json file should be updated with only &quot;stack-1&quot; details.\r\n```\r\n\r\n**Below is the error o/p i am getting:**\r\n\r\n```\r\n[stack-1:[createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB, name:bar-web]]\r\njava.util.ConcurrentModificationException\r\n\tat java.base/java.util.TreeMap$PrivateEntryIterator.nextEntry(TreeMap.java:1208)\r\n\tat java.base/java.util.TreeMap$EntryIterator.next(TreeMap.java:1244)\r\n\tat java.base/java.util.TreeMap$EntryIterator.next(TreeMap.java:1239)\r\n\tat org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2201)\r\n\tat org.codehaus.groovy.runtime.dgm$164.invoke(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:274)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:128)\r\n\tat Script1.run(Script1.groovy:5)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:574)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:612)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:583)\r\n\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:149)\r\n\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:118)\r\n\tat hudson.remoting.LocalChannel.call(LocalChannel.java:47)\r\n\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:115)\r\n\tat jenkins.model.Jenkins._doScript(Jenkins.java:4729)\r\n\tat jenkins.model.Jenkins.doScript(Jenkins.java:4700)\r\n```\r\n\r\nAny help sorting this would be much appreciated.","title":"Delete elements from Json file with value matches and update the Json file with leftover elements in groovy","body":"<p>I am trying to load and loop elements from the JSON file output and delete the elements if it matches the values and at last, create a new JSON. I am able to successfully delete if I have only one element in my JSON. but when I have two elements then it's failing with the &quot;java.util.ConcurrentModificationException&quot; error.</p>\n<p><strong>Existing sarva.json File content:</strong></p>\n<pre><code>{\n    &quot;stack-0&quot;: {\n        &quot;name&quot;: &quot;foo-web&quot;,\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\n        &quot;dbName&quot;: &quot;foo-DB&quot;\n    },\n    &quot;stack-1&quot;: {\n        &quot;name&quot;: &quot;bar-web&quot;,\n        &quot;createdAt&quot;: &quot;2022-11-30T10:56:32.551977633Z&quot;,\n        &quot;dbName&quot;: &quot;bar-DB&quot;\n    }\n}\n</code></pre>\n<p>I have tried with the below code to remove one element from JSON and create a new JSON. for that, I've used below code block. but unfortunately, I am getting an error.</p>\n<pre><code>import groovy.json.*\n\ndef jsonSlurper = new JsonSlurper()\ndef json = jsonSlurper.parse(new File(&quot;sarva.json&quot;))\njson.each { key, val -&gt;\nif (&quot;$val.name&quot; == &quot;foo-web&quot;) {\n  json.remove(key)\n  println json\n}\n}\n\n// below block is to update the new sarva.json file with the new content.\n\nnewJson = new JsonBuilder(json).toPrettyString()\nnew File(&quot;sarva.json&quot;).write(newJson)\n\n</code></pre>\n<p><strong>Intended output:</strong></p>\n<pre><code>[stack-1:[createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB, name:bar-web]]\n\n// And the sarva.json file should be updated with only &quot;stack-1&quot; details.\n</code></pre>\n<p><strong>Below is the error o/p i am getting:</strong></p>\n<pre><code>[stack-1:[createdAt:2022-11-30T10:56:32.551977633Z, dbName:bar-DB, name:bar-web]]\njava.util.ConcurrentModificationException\n    at java.base/java.util.TreeMap$PrivateEntryIterator.nextEntry(TreeMap.java:1208)\n    at java.base/java.util.TreeMap$EntryIterator.next(TreeMap.java:1244)\n    at java.base/java.util.TreeMap$EntryIterator.next(TreeMap.java:1239)\n    at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2201)\n    at org.codehaus.groovy.runtime.dgm$164.invoke(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:274)\n    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:128)\n    at Script1.run(Script1.groovy:5)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:574)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:612)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:583)\n    at hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:149)\n    at hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:118)\n    at hudson.remoting.LocalChannel.call(LocalChannel.java:47)\n    at hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:115)\n    at jenkins.model.Jenkins._doScript(Jenkins.java:4729)\n    at jenkins.model.Jenkins.doScript(Jenkins.java:4700)\n</code></pre>\n<p>Any help sorting this would be much appreciated.</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"display_name":"user6073886"},"score":11,"creation_date":1538653017,"post_id":52645699,"comment_id":92223392,"body_markdown":"`N &lt;= 5 &amp;&amp; N &gt; 20` &lt;- How can N be both smaller or equal to 5 AND bigger than 20 at the same time? This condition is impossible to fulfill","body":"<code>N &lt;= 5 &amp;&amp; N &gt; 20</code> &lt;- How can N be both smaller or equal to 5 AND bigger than 20 at the same time? This condition is impossible to fulfill"},{"owner":{"account_id":12455636,"reputation":30,"user_id":9068941,"display_name":"Engrtunze"},"score":0,"creation_date":1538654028,"post_id":52645699,"comment_id":92223984,"body_markdown":"Thanks, I just noticed that now but still didn&#39;t work I think I need a few or one line conditional statement to run this.","body":"Thanks, I just noticed that now but still didn&#39;t work I think I need a few or one line conditional statement to run this."}],"answers":[{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1538654874,"creation_date":1538654874,"answer_id":52646336,"question_id":52645699,"body_markdown":"You&#39;re mixing up `&amp;&amp;` and `||`, so your first `if` will never run as mentioned in the comments.\r\n\r\nSo it looks like the only `&quot;Not Weird&quot;` print out is `2`, `4` and even numbers `&gt; 20`.\r\n\r\nSo use this to your advantage to just check for the `&quot;Weird&quot;` outputs, otherwise print `&quot;Not Weird&quot;`.\r\n\r\n    if (n % 2 == 0) {\r\n        if ((n &gt;= 2 &amp;&amp; n &lt;= 5) || (n &gt; 20)) {\r\n            return &quot;Not Weird&quot;;\r\n        }\r\n    }\r\n    return &quot;Weird&quot;;\r\n\r\n**[Online Demo][1]**\r\n\r\nHaving said this, I&#39;m not sure what you want with [`Scanner::skip`][2]\r\n\r\n\r\n  [1]: https://ideone.com/yYimI3\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#skip(java.lang.String)","title":"Conditional Statement on Java7","body":"<p>You're mixing up <code>&amp;&amp;</code> and <code>||</code>, so your first <code>if</code> will never run as mentioned in the comments.</p>\n\n<p>So it looks like the only <code>\"Not Weird\"</code> print out is <code>2</code>, <code>4</code> and even numbers <code>&gt; 20</code>.</p>\n\n<p>So use this to your advantage to just check for the <code>\"Weird\"</code> outputs, otherwise print <code>\"Not Weird\"</code>.</p>\n\n<pre><code>if (n % 2 == 0) {\n    if ((n &gt;= 2 &amp;&amp; n &lt;= 5) || (n &gt; 20)) {\n        return \"Not Weird\";\n    }\n}\nreturn \"Weird\";\n</code></pre>\n\n<p><strong><a href=\"https://ideone.com/yYimI3\" rel=\"nofollow noreferrer\">Online Demo</a></strong></p>\n\n<p>Having said this, I'm not sure what you want with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#skip(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Scanner::skip</code></a></p>\n"},{"tags":[],"owner":{"account_id":12455636,"reputation":30,"user_id":9068941,"display_name":"Engrtunze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538669421,"creation_date":1538669421,"answer_id":52651223,"question_id":52645699,"body_markdown":"   This is how I simplified it. \r\n\r\n    \r\n        if(N % 2 == 0 )\r\n        {            \r\n            if((N &gt;= 2 &amp;&amp; N &lt;= 5) || N &gt; 20)\r\n            {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }    \r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Weird&quot;);\r\n        }\r\n\r\n   ","title":"Conditional Statement on Java7","body":"<p>This is how I simplified it. </p>\n\n<pre><code>    if(N % 2 == 0 )\n    {            \n        if((N &gt;= 2 &amp;&amp; N &lt;= 5) || N &gt; 20)\n        {\n            System.out.println(\"Not Weird\");\n        }\n        else\n        {\n            System.out.println(\"Weird\");\n        }    \n    }\n    else\n    {\n        System.out.println(\"Weird\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16336237,"reputation":1,"user_id":11798382,"display_name":"user11798382"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563383558,"creation_date":1563375613,"answer_id":57078891,"question_id":52645699,"body_markdown":"See code below\r\n\r\n    int N = scanner.nextInt();\r\n    scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n                   \r\n    if ((N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5) || N &gt; 20) {\r\n        System.out.println(&quot;Not Weird&quot;);\r\n\r\n    } else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\r\n        System.out.println(&quot;Weird&quot;);\r\n    } \r\n    else \r\n    {\r\n        System.out.println(&quot;Weird&quot;);\r\n    }","title":"Conditional Statement on Java7","body":"<p>See code below</p>\n\n<pre><code>int N = scanner.nextInt();\nscanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\nif ((N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5) || N &gt; 20) {\n    System.out.println(\"Not Weird\");\n\n} else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\n    System.out.println(\"Weird\");\n} \nelse \n{\n    System.out.println(\"Weird\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9796901,"reputation":1,"user_id":7259579,"display_name":"Dilpreet Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581619558,"creation_date":1581619558,"answer_id":60214590,"question_id":52645699,"body_markdown":"    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n\r\n       if(N %2 == 0){\r\n        if((N&gt;=2 &amp;&amp; N&lt;=5) || (N&gt;20)){\r\n            System.out.println(&quot;Not Weird&quot;);\r\n            }\r\n            else if (N&gt;=6 &amp;&amp; N&lt;=20){\r\n               System.out.println(&quot;Weird&quot;); \r\n            }\r\n        \r\n       }\r\n        else {\r\n            System.out.println(&quot;Weird&quot;);\r\n        }\r\n\r\n        \r\n       \r\n      \r\n        scanner.close();\r\n    }\r\n }\r\n","title":"Conditional Statement on Java7","body":"<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\n\nprivate static final Scanner scanner = new Scanner(System.in);\n\npublic static void main(String[] args) {\n\n    int N = scanner.nextInt();\n    scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n   if(N %2 == 0){\n    if((N&gt;=2 &amp;&amp; N&lt;=5) || (N&gt;20)){\n        System.out.println(\"Not Weird\");\n        }\n        else if (N&gt;=6 &amp;&amp; N&lt;=20){\n           System.out.println(\"Weird\"); \n        }\n\n   }\n    else {\n        System.out.println(\"Weird\");\n    }\n\n\n\n\n    scanner.close();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18913231,"reputation":1,"user_id":13798868,"display_name":"Harshita Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592918673,"creation_date":1592915494,"answer_id":62534804,"question_id":52645699,"body_markdown":"    public class Solution {\r\n        \r\n        private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int n = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n         \r\n            if (n%2==0 &amp;&amp; n&gt;2 &amp;&amp; n&lt;5 || n&gt;20) {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            } else if( n&gt;6 || n&lt;20) {\r\n                System.out.println(&quot;Weird&quot;);\r\n            } else {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }\r\n        \r\n            scanner.close();\r\n        }\r\n        \r\n    }","title":"Conditional Statement on Java7","body":"<pre><code>public class Solution {\n    \n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = scanner.nextInt();\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n     \n        if (n%2==0 &amp;&amp; n&gt;2 &amp;&amp; n&lt;5 || n&gt;20) {\n            System.out.println(&quot;Not Weird&quot;);\n        } else if( n&gt;6 || n&lt;20) {\n            System.out.println(&quot;Weird&quot;);\n        } else {\n            System.out.println(&quot;Weird&quot;);\n        }\n    \n        scanner.close();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19578445,"reputation":1,"user_id":14328044,"display_name":"Sagar Kori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600871704,"creation_date":1600871704,"answer_id":64030302,"question_id":52645699,"body_markdown":"    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n\r\n        if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 ) {\r\n            System.out.println(&quot;Not Weird&quot;);\r\n\r\n        } else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N&lt;=20) {\r\n            System.out.println(&quot;Weird&quot;);\r\n        } else if(N%2==0 &amp;&amp; N&gt;20) {\r\n            System.out.println(&quot;Not Weird&quot;);\r\n        }else {\r\n                System.out.println(&quot;Weird&quot;);\r\n                 }        \r\n\r\n    \r\n        scanner.close();\r\n    }\r\n    }","title":"Conditional Statement on Java7","body":"<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\nprivate static final Scanner scanner = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int N = scanner.nextInt();\n    scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n\n    if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 ) {\n        System.out.println(&quot;Not Weird&quot;);\n\n    } else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N&lt;=20) {\n        System.out.println(&quot;Weird&quot;);\n    } else if(N%2==0 &amp;&amp; N&gt;20) {\n        System.out.println(&quot;Not Weird&quot;);\n    }else {\n            System.out.println(&quot;Weird&quot;);\n             }        \n\n\n    scanner.close();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20827742,"reputation":1,"user_id":15297813,"display_name":"Ji Jetu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614508977,"creation_date":1614456832,"answer_id":66403083,"question_id":52645699,"body_markdown":"    package hudai;\r\n    import java.util.Scanner;\r\n    public class Hudai {   \r\n    private static final Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n\r\n        scanner.close();\r\n        if(N%2 == 1){\r\n           System.out.println(&quot;Weird&quot;); \r\n        } \r\n        if(N%2==0 &amp;&amp; 2&lt;N &amp;&amp; N&lt;5){\r\n           System.out.println(&quot;Not Weird&quot;);\r\n        }\r\n        if(N%2==0 &amp;&amp; 6&lt;N &amp;&amp; N&lt;=20){\r\n           System.out.println(&quot;Weird&quot;); \r\n        }\r\n        if(N%2==0 &amp;&amp; 20&lt;N &amp;&amp; N&lt;=100){\r\n           System.out.println(&quot;Not Weird&quot;); \r\n        }\r\n    }\r\n    \r\n}","title":"Conditional Statement on Java7","body":"<pre><code>package hudai;\nimport java.util.Scanner;\npublic class Hudai {   \nprivate static final Scanner scanner = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int N = scanner.nextInt();\n    scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n\n    scanner.close();\n    if(N%2 == 1){\n       System.out.println(&quot;Weird&quot;); \n    } \n    if(N%2==0 &amp;&amp; 2&lt;N &amp;&amp; N&lt;5){\n       System.out.println(&quot;Not Weird&quot;);\n    }\n    if(N%2==0 &amp;&amp; 6&lt;N &amp;&amp; N&lt;=20){\n       System.out.println(&quot;Weird&quot;); \n    }\n    if(N%2==0 &amp;&amp; 20&lt;N &amp;&amp; N&lt;=100){\n       System.out.println(&quot;Not Weird&quot;); \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21269495,"reputation":1,"user_id":15649243,"display_name":"A.A DANNAK"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1622371972,"creation_date":1622371972,"answer_id":67760310,"question_id":52645699,"body_markdown":"int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n\r\n        if(N%2==1 || (N&gt;=6 &amp;&amp; N&lt;= 20)){\r\n            System.out.println(&quot;Weird&quot;);\r\n        }else{\r\n        System.out.println (&quot;Not Weird&quot;);\r\n        }\r\n        \r\n        scanner.close();\r\n    }","title":"Conditional Statement on Java7","body":"<p>int N = scanner.nextInt();\nscanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);</p>\n<pre><code>    if(N%2==1 || (N&gt;=6 &amp;&amp; N&lt;= 20)){\n        System.out.println(&quot;Weird&quot;);\n    }else{\n    System.out.println (&quot;Not Weird&quot;);\n    }\n    \n    scanner.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19636365,"reputation":1,"user_id":14373564,"display_name":"Danyal Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625342545,"creation_date":1625342545,"answer_id":68239592,"question_id":52645699,"body_markdown":"\r\n       if(N % 2 == 0){\r\n            if((N &gt;=2 &amp;&amp; N &lt;= 5) || (N &gt; 20)){\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            }\r\n            else if(N &gt;= 6 &amp;&amp; N &lt;= 20){\r\n                System.out.println(&quot;Weird&quot;);\r\n            }   \r\n        }\r\n        else{\r\n            System.out.println(&quot;Weird&quot;);\r\n        }","title":"Conditional Statement on Java7","body":"<pre><code>   if(N % 2 == 0){\n        if((N &gt;=2 &amp;&amp; N &lt;= 5) || (N &gt; 20)){\n            System.out.println(&quot;Not Weird&quot;);\n        }\n        else if(N &gt;= 6 &amp;&amp; N &lt;= 20){\n            System.out.println(&quot;Weird&quot;);\n        }   \n    }\n    else{\n        System.out.println(&quot;Weird&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22301641,"reputation":1,"user_id":16526786,"display_name":"Shiv Trivedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627324355,"creation_date":1627286510,"answer_id":68526354,"question_id":52645699,"body_markdown":"Java 8 functional interface applied on Integer.\r\n\r\n```java\r\nint n = 24;   \r\nFunction&lt;Integer, String&gt; f = x -&gt; x % 2 == 1 || (x &gt;= 6 &amp;&amp; x &lt;= 20) ? &quot;Weird&quot; : &quot;Not Weird&quot;; \r\nSystem.out.println(f.apply(n));\r\n```","title":"Conditional Statement on Java7","body":"<p>Java 8 functional interface applied on Integer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = 24;   \nFunction&lt;Integer, String&gt; f = x -&gt; x % 2 == 1 || (x &gt;= 6 &amp;&amp; x &lt;= 20) ? &quot;Weird&quot; : &quot;Not Weird&quot;; \nSystem.out.println(f.apply(n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22291818,"reputation":1,"user_id":16518567,"display_name":"Akash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628701779,"creation_date":1628700202,"answer_id":68745970,"question_id":52645699,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \r\n        private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int n = scanner.nextInt();\r\n            if (n % 2 == 1) {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }\r\n            if (n % 2 == 0 &amp;&amp; 2 &lt; n &amp;&amp; n &lt; 5) {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            }\r\n            if (n % 2 == 0 &amp;&amp; 6 &lt; n &amp;&amp; n &lt;= 20) {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }\r\n            if (n % 2 == 0 &amp;&amp; 20 &lt; n &amp;&amp; n &lt;= 100) {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n    \r\n                scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            }\r\n        }\r\n    }","title":"Conditional Statement on Java7","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = scanner.nextInt();\n        if (n % 2 == 1) {\n            System.out.println(&quot;Weird&quot;);\n        }\n        if (n % 2 == 0 &amp;&amp; 2 &lt; n &amp;&amp; n &lt; 5) {\n            System.out.println(&quot;Not Weird&quot;);\n        }\n        if (n % 2 == 0 &amp;&amp; 6 &lt; n &amp;&amp; n &lt;= 20) {\n            System.out.println(&quot;Weird&quot;);\n        }\n        if (n % 2 == 0 &amp;&amp; 20 &lt; n &amp;&amp; n &lt;= 100) {\n            System.out.println(&quot;Not Weird&quot;);\n\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20101135,"reputation":1,"user_id":14739572,"display_name":"Priya Achuthan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639153798,"creation_date":1639153798,"answer_id":70307619,"question_id":52645699,"body_markdown":"    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n    \r\n    \r\n        private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n          \r\n            if (N % 2 == 0 &amp;&amp; (N &gt;= 2 &amp;&amp; N &lt;= 5) )\r\n            {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            } \r\n            else if(N % 2==0 &amp;&amp; N &gt; 20)\r\n            {\r\n              System.out.println(&quot;Not Weird&quot;);  \r\n            }\r\n           else if ((N % 2 == 0) &amp;&amp; (N &gt;= 6 &amp;&amp; N &lt;= 20)) {\r\n                System.out.println(&quot;Weird&quot;);\r\n            } \r\n            else\r\n            {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n            scanner.close();\r\n        }\r\n    }\r\n\r\n","title":"Conditional Statement on Java7","body":"<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n      \n        if (N % 2 == 0 &amp;&amp; (N &gt;= 2 &amp;&amp; N &lt;= 5) )\n        {\n            System.out.println(&quot;Not Weird&quot;);\n        } \n        else if(N % 2==0 &amp;&amp; N &gt; 20)\n        {\n          System.out.println(&quot;Not Weird&quot;);  \n        }\n       else if ((N % 2 == 0) &amp;&amp; (N &gt;= 6 &amp;&amp; N &lt;= 20)) {\n            System.out.println(&quot;Weird&quot;);\n        } \n        else\n        {\n            System.out.println(&quot;Weird&quot;);\n        }\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23647813,"reputation":1,"user_id":17677185,"display_name":"Jish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639508552,"creation_date":1639508552,"answer_id":70354297,"question_id":52645699,"body_markdown":"    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n    \r\n    \r\n        private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n           \r\n             if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 ) {\r\n                System.out.println(&quot;Not Weird&quot;);\r\n    \r\n            }\r\n            \r\n            else if(N % 2 == 0 &amp;&amp; N&gt;20){\r\n                System.out.println(&quot;Not Weird&quot;);\r\n            }\r\n            \r\n             else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\r\n                System.out.println(&quot;Weird&quot;);\r\n            } \r\n            else {\r\n                System.out.println(&quot;Weird&quot;);\r\n            }\r\n    \r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            scanner.close();\r\n        }\r\n    }\r\n\r\n","title":"Conditional Statement on Java7","body":"<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n       \n         if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 ) {\n            System.out.println(&quot;Not Weird&quot;);\n\n        }\n        \n        else if(N % 2 == 0 &amp;&amp; N&gt;20){\n            System.out.println(&quot;Not Weird&quot;);\n        }\n        \n         else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\n            System.out.println(&quot;Weird&quot;);\n        } \n        else {\n            System.out.println(&quot;Weird&quot;);\n        }\n\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20089393,"reputation":11,"user_id":14730243,"display_name":"Mohit Der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642680723,"creation_date":1642475370,"answer_id":70749885,"question_id":52645699,"body_markdown":"    if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5) {\r\n        System.out.println(&quot;Not Weird&quot;);\r\n\r\n    } else if (N % 2 == 0 &amp;&amp; N &gt; 20) {\r\n        System.out.println(&quot;Not Weird&quot;);\r\n            \r\n    } else {\r\n        System.out.println(&quot;Weird&quot;);\r\n    }\r\n        ","title":"Conditional Statement on Java7","body":"<pre><code>if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5) {\n    System.out.println(&quot;Not Weird&quot;);\n\n} else if (N % 2 == 0 &amp;&amp; N &gt; 20) {\n    System.out.println(&quot;Not Weird&quot;);\n        \n} else {\n    System.out.println(&quot;Weird&quot;);\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643459681,"creation_date":1643459681,"answer_id":70905414,"question_id":52645699,"body_markdown":"Using ternary operation,\r\n\r\n    String w=&quot;Weird&quot;;\r\n    String nw= &quot;Not Weird&quot;;\r\n\tString s= (N%2!=0)?w:(N%2==0 &amp;&amp; (N&gt;=2 &amp;&amp; N&lt;=5))?nw:(N%2==0 &amp;&amp; (N&gt;=6 &amp;&amp; N&lt;=20))?w:nw;","title":"Conditional Statement on Java7","body":"<p>Using ternary operation,</p>\n<pre><code>String w=&quot;Weird&quot;;\nString nw= &quot;Not Weird&quot;;\nString s= (N%2!=0)?w:(N%2==0 &amp;&amp; (N&gt;=2 &amp;&amp; N&lt;=5))?nw:(N%2==0 &amp;&amp; (N&gt;=6 &amp;&amp; N&lt;=20))?w:nw;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785848,"reputation":1,"user_id":12134847,"display_name":"Ashutosh-Rai-78"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665604587,"creation_date":1665604521,"answer_id":74047373,"question_id":52645699,"body_markdown":"    if(n % 2 == 0){     \r\n      if (n &gt;= 2 &amp;&amp; n &lt;= 5 || n &gt; 20) {\r\n         System.out.println(&quot;Not Weird&quot;);\r\n      }\r\n      if (n &gt;= 6 &amp;&amp; n &lt;= 20) {\r\n         System.out.println(&quot;Weird&quot;);\r\n      }   \r\n    } else if(n % 2 != 0){\r\n         System.out.println(&quot;Weird&quot;);\r\n     }","title":"Conditional Statement on Java7","body":"<pre><code>if(n % 2 == 0){     \n  if (n &gt;= 2 &amp;&amp; n &lt;= 5 || n &gt; 20) {\n     System.out.println(&quot;Not Weird&quot;);\n  }\n  if (n &gt;= 6 &amp;&amp; n &lt;= 20) {\n     System.out.println(&quot;Weird&quot;);\n  }   \n} else if(n % 2 != 0){\n     System.out.println(&quot;Weird&quot;);\n }\n</code></pre>\n"}],"owner":{"account_id":12455636,"reputation":30,"user_id":9068941,"display_name":"Engrtunze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23716,"favorite_count":0,"down_vote_count":10,"up_vote_count":1,"accepted_answer_id":52646336,"answer_count":16,"score":-9,"last_activity_date":1669807186,"creation_date":1538652902,"question_id":52645699,"body_markdown":"Hello i just started a coding exercise on hackerrank and i am having a little challenge using scanner class with the skip function. here is what i have tried.\r\nObjective \r\nIn this challenge, we&#39;re getting started with conditional statements. Check out the Tutorial tab for learning materials and an instructional video!\r\n\r\nTask \r\n\r\n*Given an integer, perform the following conditional actions:*\r\n\r\n - If n is odd, print Weird\r\n - If n is even and in the inclusive range of 2 to 5, print Not Weird\r\n - If n is even and in the inclusive range of 6 to 20, print Weird\r\n - If n is even and greater than 20, print Not Weird\r\n - Complete the stub code provided in your editor to print whether or\r\n   not n is weird.\r\n\r\nInput Format\r\n\r\n&gt; A single line containing a positive integer,n.\r\n\r\nConstraints\r\n\r\nOutput Format\r\n\r\n&gt; Print Weird if the number is weird; otherwise, print Not Weird.\r\n\r\n\r\n\r\n\r\n    import java.io.*;\r\n    import java.math.*;\r\n    import java.security.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n    \r\n        private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n    \r\n            if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 &amp;&amp; N &gt; 20) {\r\n                System.out.println(&quot;not weird&quot;);\r\n    \r\n            } else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\r\n                System.out.println(&quot;weird&quot;);\r\n            } else {\r\n                System.out.println(&quot;weird&quot;);\r\n            }\r\n    \r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n    \r\n            scanner.close();\r\n        }\r\n    }\r\n\r\nPlease what am i doing wrong.\r\n","title":"Conditional Statement on Java7","body":"<p>Hello i just started a coding exercise on hackerrank and i am having a little challenge using scanner class with the skip function. here is what i have tried.\nObjective \nIn this challenge, we're getting started with conditional statements. Check out the Tutorial tab for learning materials and an instructional video!</p>\n\n<p>Task </p>\n\n<p><em>Given an integer, perform the following conditional actions:</em></p>\n\n<ul>\n<li>If n is odd, print Weird</li>\n<li>If n is even and in the inclusive range of 2 to 5, print Not Weird</li>\n<li>If n is even and in the inclusive range of 6 to 20, print Weird</li>\n<li>If n is even and greater than 20, print Not Weird</li>\n<li>Complete the stub code provided in your editor to print whether or\nnot n is weird.</li>\n</ul>\n\n<p>Input Format</p>\n\n<blockquote>\n  <p>A single line containing a positive integer,n.</p>\n</blockquote>\n\n<p>Constraints</p>\n\n<p>Output Format</p>\n\n<blockquote>\n  <p>Print Weird if the number is weird; otherwise, print Not Weird.</p>\n</blockquote>\n\n<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n\n        if (N % 2 == 0 &amp;&amp; N &gt;= 2 &amp;&amp; N &lt;= 5 &amp;&amp; N &gt; 20) {\n            System.out.println(\"not weird\");\n\n        } else if (N % 2 == 0 &amp;&amp; N &gt;= 6 &amp;&amp; N &lt;= 20) {\n            System.out.println(\"weird\");\n        } else {\n            System.out.println(\"weird\");\n        }\n\n        scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n\n        scanner.close();\n    }\n}\n</code></pre>\n\n<p>Please what am i doing wrong.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1669807316,"post_id":74626922,"comment_id":131725628,"body_markdown":"https://phauer.com/2017/dont-use-in-memory-databases-tests-h2/","body":"<a href=\"https://phauer.com/2017/dont-use-in-memory-databases-tests-h2/\" rel=\"nofollow noreferrer\">phauer.com/2017/dont-use-in-memory-databases-tests-h2</a>"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1669817771,"post_id":74626922,"comment_id":131729329,"body_markdown":"You could use a connection string like `jdbc:h2:mem:test;MODE=PostgreSQL` to tell H2 you&#39;re using Postgres specifically, but I don&#39;t think it would then reject your current syntax. Seriously, what @a_horse_with_no_name said. You can use TestContainers for the tests, it&#39;s [super easy to set up](https://www.testcontainers.org/modules/databases/jdbc/)","body":"You could use a connection string like <code>jdbc:h2:mem:test;MODE=PostgreSQL</code> to tell H2 you&#39;re using Postgres specifically, but I don&#39;t think it would then reject your current syntax. Seriously, what @a_horse_with_no_name said. You can use TestContainers for the tests, it&#39;s <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">super easy to set up</a>"},{"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"score":0,"creation_date":1669818132,"post_id":74626922,"comment_id":131729503,"body_markdown":"Yeah I&#39;ve looked at putting H2 in that mode, but like you said it doesn&#39;t do any syntax validation, so it really doesn&#39;t help. I&#39;ve used TestContainers before and they are handy, but unfortunately we don&#39;t have docker installed on the servers the tests run on. I can look at getting it installed but we&#39;re a highly regulated industry, and something like that is going to take a while to get approved, so I need a solution that uses our current setup of H2.","body":"Yeah I&#39;ve looked at putting H2 in that mode, but like you said it doesn&#39;t do any syntax validation, so it really doesn&#39;t help. I&#39;ve used TestContainers before and they are handy, but unfortunately we don&#39;t have docker installed on the servers the tests run on. I can look at getting it installed but we&#39;re a highly regulated industry, and something like that is going to take a while to get approved, so I need a solution that uses our current setup of H2."}],"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669807170,"creation_date":1669807170,"question_id":74626922,"body_markdown":"I work on a legacy Spring Boot application that does not use JPA or Hibernate for any database connections or ORM. It uses the `spring-boot-starter-jdbc` dependency and a bunch of custom mappers written years ago to map from our Pojos to the database. \r\n\r\nWe are in the process of a database migration moving from Oracle to Postgres. We currently have a suite of automated cucumber tests that run against an in-memory H2 database. Currently this just uses whatever the default dialect is set to, it has not been update by us. However I have noticed when we connect those tests up to actual Postgres database, that a number of tests fail due to SQL compatibility issues. It is important that our H2 tests are reliable, so I want to update the database setup to ensure we are using the PostgreSQL dialect and then fix the failing tests.\r\n\r\nThis looks like it would be easy if we were using JPA and/or Hibernate, as it appears to just be a property we can set in our test properties file such as `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect` or `spring.jpa.database-platform = org.hibernate.dialect.PostgreSQL94Dialect` But I have not been able to find an equivalent setting for the JDBC dependency. \r\n\r\nIn [this spring blog][1] it makes reference to [this SO post][2] which suggests implementing a custom DialectResolver, but this is for a different dependency `spring-boot-starter-data-jdbc`. I tried implementing a custom DialectResolver as shown in that link but I am not able to import `DialectResolver.JdbcDialectProvider` as it does not exist.\r\n\r\nI can see in the above linked question that they tried using `?sql_dialect=3` on their connection url, but I&#39;m not sure what this means, as I can&#39;t find any documentation on it... I don&#39;t know what &quot;3&quot; denotes in this case\r\n\r\nWe&#39;re running Spring Boot using `spring-boot-starter-parent` and `spring-boot-starter-jdbc` version `2.6.9` with basic database properties:\r\n\r\n    spring.jta.atomikos.datasource-xa-data-source-class-name=\r\n    spring.jta.atomikos.datasource-xa-properties.URL=\r\n    spring.jta.atomikos.datasource-xa-properties-user=\r\n    spring.jta.atomikos.datasource-xa-properties-password=\r\n\r\nAny help on how to correctly set the dialect would be greatly appreciated\r\n\r\n  [1]: https://spring.io/blog/2020/05/20/migrating-to-spring-data-jdbc-2-0\r\n  [2]: https://stackoverflow.com/questions/61851491/spring-data-jdbc-firebird-dialect-not-recognized/61854586#61854586","title":"How to set spring datasource dialect without JPA or Hibernate for H2","body":"<p>I work on a legacy Spring Boot application that does not use JPA or Hibernate for any database connections or ORM. It uses the <code>spring-boot-starter-jdbc</code> dependency and a bunch of custom mappers written years ago to map from our Pojos to the database.</p>\n<p>We are in the process of a database migration moving from Oracle to Postgres. We currently have a suite of automated cucumber tests that run against an in-memory H2 database. Currently this just uses whatever the default dialect is set to, it has not been update by us. However I have noticed when we connect those tests up to actual Postgres database, that a number of tests fail due to SQL compatibility issues. It is important that our H2 tests are reliable, so I want to update the database setup to ensure we are using the PostgreSQL dialect and then fix the failing tests.</p>\n<p>This looks like it would be easy if we were using JPA and/or Hibernate, as it appears to just be a property we can set in our test properties file such as <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect</code> or <code>spring.jpa.database-platform = org.hibernate.dialect.PostgreSQL94Dialect</code> But I have not been able to find an equivalent setting for the JDBC dependency.</p>\n<p>In <a href=\"https://spring.io/blog/2020/05/20/migrating-to-spring-data-jdbc-2-0\" rel=\"nofollow noreferrer\">this spring blog</a> it makes reference to <a href=\"https://stackoverflow.com/questions/61851491/spring-data-jdbc-firebird-dialect-not-recognized/61854586#61854586\">this SO post</a> which suggests implementing a custom DialectResolver, but this is for a different dependency <code>spring-boot-starter-data-jdbc</code>. I tried implementing a custom DialectResolver as shown in that link but I am not able to import <code>DialectResolver.JdbcDialectProvider</code> as it does not exist.</p>\n<p>I can see in the above linked question that they tried using <code>?sql_dialect=3</code> on their connection url, but I'm not sure what this means, as I can't find any documentation on it... I don't know what &quot;3&quot; denotes in this case</p>\n<p>We're running Spring Boot using <code>spring-boot-starter-parent</code> and <code>spring-boot-starter-jdbc</code> version <code>2.6.9</code> with basic database properties:</p>\n<pre><code>spring.jta.atomikos.datasource-xa-data-source-class-name=\nspring.jta.atomikos.datasource-xa-properties.URL=\nspring.jta.atomikos.datasource-xa-properties-user=\nspring.jta.atomikos.datasource-xa-properties-password=\n</code></pre>\n<p>Any help on how to correctly set the dialect would be greatly appreciated</p>\n"},{"tags":["java","spring","spring-boot","junit","completable-future"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669804980,"post_id":74626380,"comment_id":131724741,"body_markdown":"&quot;*because both of the future are not completed*&quot; So you need to figure out why that is, and you haven&#39;t given enough information about what `someClass.someMethod` does for us to be able to help you.","body":"&quot;<i>because both of the future are not completed</i>&quot; So you need to figure out why that is, and you haven&#39;t given enough information about what <code>someClass.someMethod</code> does for us to be able to help you."}],"answers":[{"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669806562,"creation_date":1669806562,"answer_id":74626794,"question_id":74626380,"body_markdown":"I agree with the comment above where you most likely have an issue in the someClass.someMethod(response1)\r\n&amp;\r\nsomeClass.someMethod(response2)\r\nBut without more info on those it&#39;s hard to help. I would suggest mocking out those the someClass &amp; someClass1 &amp; someClass2 then putting this code in debug mode once you run the test to ensure the flow is making it into calling those mocks.\r\n\r\nAlso I would suggest not mocking your executor but instead use this in your test to create the executors: Executors.newSingleThreadExecutor() \r\n\r\nI&#39;m assuming both should help in your case.","title":"junit test keep on getting stock infinitely on CompletedFuture.allof().join","body":"<p>I agree with the comment above where you most likely have an issue in the someClass.someMethod(response1)\n&amp;\nsomeClass.someMethod(response2)\nBut without more info on those it's hard to help. I would suggest mocking out those the someClass &amp; someClass1 &amp; someClass2 then putting this code in debug mode once you run the test to ensure the flow is making it into calling those mocks.</p>\n<p>Also I would suggest not mocking your executor but instead use this in your test to create the executors: Executors.newSingleThreadExecutor()</p>\n<p>I'm assuming both should help in your case.</p>\n"}],"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669806562,"creation_date":1669804784,"question_id":74626380,"body_markdown":"I am writing Junit test for a Class in which CompletableFuture is implemented but the test gets stuck infinitely on `CompletableFuture.allOf(future1,future2).join();`\r\n\r\nMy Class :\r\n\r\n    class Sample{\r\n      @Autowired\r\n      Executor executor;\r\n    \r\n      /* \r\n      piece of code\r\n      */\r\n      void SampleMethod(request){\r\n    \r\n        /*\r\n        some piece of code\r\n        */\r\n        Obj1  response1 = someClass1.someMethod();\r\n        CompletableFuture&lt;Obj1&gt; future1 = CompletableFuture.SupplyAsync(\r\n          (Supplier&lt;Obj1&gt;) () -&gt; {\r\n          return someClass.someMethod(response1);\r\n        },executor);\r\n    \r\n       \r\n        Obj2 response2 = SomeClass2.someMethod();\r\n        CompletableFuture&lt;Obj2&gt; future2 = CompletableFuture.SupplyAsync(\r\n          (Supplier&lt;Obj1&gt;) () -&gt; {\r\n          return someClass.someMethod(response2);\r\n        },executor);\r\n    \r\n        CompletableFuture.allOf(future1,future2).join();\r\n    \r\n    }\r\n\r\nI only have mocked Executor in my test class But the test is getting stucked on CompletableFuture.allof(future1, future2).join  because both of the future are not completed. Please suggest how to write the junit for this.","title":"junit test keep on getting stock infinitely on CompletedFuture.allof().join","body":"<p>I am writing Junit test for a Class in which CompletableFuture is implemented but the test gets stuck infinitely on <code>CompletableFuture.allOf(future1,future2).join();</code></p>\n<p>My Class :</p>\n<pre><code>class Sample{\n  @Autowired\n  Executor executor;\n\n  /* \n  piece of code\n  */\n  void SampleMethod(request){\n\n    /*\n    some piece of code\n    */\n    Obj1  response1 = someClass1.someMethod();\n    CompletableFuture&lt;Obj1&gt; future1 = CompletableFuture.SupplyAsync(\n      (Supplier&lt;Obj1&gt;) () -&gt; {\n      return someClass.someMethod(response1);\n    },executor);\n\n   \n    Obj2 response2 = SomeClass2.someMethod();\n    CompletableFuture&lt;Obj2&gt; future2 = CompletableFuture.SupplyAsync(\n      (Supplier&lt;Obj1&gt;) () -&gt; {\n      return someClass.someMethod(response2);\n    },executor);\n\n    CompletableFuture.allOf(future1,future2).join();\n\n}\n</code></pre>\n<p>I only have mocked Executor in my test class But the test is getting stucked on CompletableFuture.allof(future1, future2).join  because both of the future are not completed. Please suggest how to write the junit for this.</p>\n"},{"tags":["java","regex","excel","oracle","csv"],"comments":[{"owner":{"account_id":429767,"reputation":12856,"user_id":812837,"accept_rate":100,"display_name":"Clockwork-Muse"},"score":1,"creation_date":1336146007,"post_id":10451842,"comment_id":13495488,"body_markdown":"I&#39;m pretty sure Oracle (and the rest of the major RDBMSs) has an &#39;export&#39; function that performs this function.  Barring that, there&#39;s probably an open-source version that would interface with pretty much anything through JDBC, given how common this type of functionality is needed.","body":"I&#39;m pretty sure Oracle (and the rest of the major RDBMSs) has an &#39;export&#39; function that performs this function.  Barring that, there&#39;s probably an open-source version that would interface with pretty much anything through JDBC, given how common this type of functionality is needed."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1336157070,"post_id":10451842,"comment_id":13499501,"body_markdown":"Thanks X-Zero but here the job actually relies on the controller side. But still very helpful idea :)","body":"Thanks X-Zero but here the job actually relies on the controller side. But still very helpful idea :)"},{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1481395952,"post_id":10451842,"comment_id":69364358,"body_markdown":"For Swift, https://github.com/Daniel1of1/CSwiftV is rfc4180","body":"For Swift, <a href=\"https://github.com/Daniel1of1/CSwiftV\" rel=\"nofollow noreferrer\">github.com/Daniel1of1/CSwiftV</a> is rfc4180"}],"answers":[{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":3,"up_vote_count":39,"is_accepted":false,"score":36,"last_activity_date":1418150489,"creation_date":1336145671,"answer_id":10451882,"question_id":10451842,"body_markdown":"Excel has to be able to handle the exact same situation.\r\n\r\nPut those things into Excel, save them as CSV, and examine the file with a text editor.  Then you&#39;ll know the rules Excel is applying to these situations.\r\n\r\nMake Java produce the same output.\r\n\r\nThe formats used by Excel are published, by the way...\r\n\r\n****Edit 1:**** Here&#39;s what Excel does  \r\n****Edit 2:**** Note that php&#39;s `fputcsv` does the same exact thing as excel if you use &quot; as the enclosure.  \r\n\r\n    rdeslonde@mydomain.com\r\n    Richard\r\n    &quot;This is what I think&quot;\r\n\r\ngets transformed into this:\r\n\r\n    Email,Fname,Quoted  \r\n    rdeslonde@mydomain.com,Richard,&quot;&quot;&quot;This is what I think&quot;&quot;&quot;","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>Excel has to be able to handle the exact same situation.</p>\n\n<p>Put those things into Excel, save them as CSV, and examine the file with a text editor.  Then you'll know the rules Excel is applying to these situations.</p>\n\n<p>Make Java produce the same output.</p>\n\n<p>The formats used by Excel are published, by the way...</p>\n\n<p>****Edit 1:**** Here's what Excel does<br>\n****Edit 2:**** Note that php's <code>fputcsv</code> does the same exact thing as excel if you use \" as the enclosure.  </p>\n\n<pre><code>rdeslonde@mydomain.com\nRichard\n\"This is what I think\"\n</code></pre>\n\n<p>gets transformed into this:</p>\n\n<pre><code>Email,Fname,Quoted  \nrdeslonde@mydomain.com,Richard,\"\"\"This is what I think\"\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":3,"up_vote_count":126,"is_accepted":true,"score":123,"last_activity_date":1481643427,"creation_date":1336147994,"answer_id":10452463,"question_id":10451842,"body_markdown":"There are several libraries. Here are two examples:\r\n\r\n---\r\n\r\n###[&amp;#x2750; Apache Commons Lang][1]\r\n\r\n[Apache Commons Lang][2] includes a special class to escape or unescape strings (CSV, EcmaScript, HTML, Java, Json, XML): [**`org.apache.commons.lang3.StringEscapeUtils`**][3].\r\n\r\n- *Escape* to CSV\r\n\r\n\t    String escaped = StringEscapeUtils\r\n\t        .escapeCsv(&quot;I said \\&quot;Hey, I am 5&#39;10\\&quot;.\\&quot;&quot;); // I said &quot;Hey, I am 5&#39;10&quot;.&quot;\r\n\t\r\n\t    System.out.println(escaped); // &quot;I said &quot;&quot;Hey, I am 5&#39;10&quot;&quot;.&quot;&quot;&quot;\r\n\r\n- *Unescape* from CSV\r\n\r\n\t    String unescaped = StringEscapeUtils\r\n\t        .unescapeCsv(&quot;\\&quot;I said \\&quot;\\&quot;Hey, I am 5&#39;10\\&quot;\\&quot;.\\&quot;\\&quot;\\&quot;&quot;); // &quot;I said &quot;&quot;Hey, I am 5&#39;10&quot;&quot;.&quot;&quot;&quot;\r\n\t\r\n\t    System.out.println(unescaped); // I said &quot;Hey, I am 5&#39;10&quot;.&quot;\r\n\r\n&lt;sub&gt;* *You can download it from* [here](http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22commons-lang3%22).&lt;/sub&gt;\r\n\r\n---\r\n\r\n###[&amp;#x2750; OpenCSV](http://opencsv.sourceforge.net/)\r\n\r\nIf you use [**OpenCSV**](http://opencsv.sourceforge.net/), you will not need to worry about escape or unescape, only for write or read the content.\r\n\r\n- Writing file:\r\n\r\n\t    FileOutputStream fos = new FileOutputStream(&quot;awesomefile.csv&quot;); \r\n\t    OutputStreamWriter osw = new OutputStreamWriter(fos, &quot;UTF-8&quot;);\r\n\t    CSVWriter writer = new CSVWriter(osw);\r\n\t    ...\r\n\t\tString[] row = {\r\n\t\t\t&quot;123&quot;, \r\n\t\t\t&quot;John&quot;, \r\n\t\t\t&quot;Smith&quot;, \r\n\t\t\t&quot;39&quot;, \r\n\t\t\t&quot;I said \\&quot;Hey, I am 5&#39;10\\&quot;.\\&quot;&quot;\r\n\t\t};\r\n\t\twriter.writeNext(row);\r\n\t    ...\r\n\t    writer.close();\r\n\t    osw.close();\r\n\t    os.close();\r\n\r\n- Reading file:\r\n\r\n\t    FileInputStream fis = new FileInputStream(&quot;awesomefile.csv&quot;); \r\n\t    InputStreamReader isr = new InputStreamReader(fis, &quot;UTF-8&quot;);\r\n        CSVReader reader = new CSVReader(isr);\r\n\r\n        for (String[] row; (row = reader.readNext()) != null;) {\r\n\t\t\tSystem.out.println(Arrays.toString(row));\r\n        }\r\n\r\n        reader.close();\r\n        isr.close();\r\n        fis.close();\r\n\r\n&lt;sub&gt;* *You can download it from* [here](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.opencsv%22).&lt;/sub&gt;\r\n    \r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: http://commons.apache.org/lang/\r\n  [3]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\r\n  [4]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#escapeCsv%28java.lang.String%29\r\n  [5]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#unescapeCsv%28java.lang.String%29","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>There are several libraries. Here are two examples:</p>\n\n<hr>\n\n<h3><a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">&#x2750; Apache Commons Lang</a></h3>\n\n<p><a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a> includes a special class to escape or unescape strings (CSV, EcmaScript, HTML, Java, Json, XML): <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\"><strong><code>org.apache.commons.lang3.StringEscapeUtils</code></strong></a>.</p>\n\n<ul>\n<li><p><em>Escape</em> to CSV</p>\n\n<pre><code>String escaped = StringEscapeUtils\n    .escapeCsv(\"I said \\\"Hey, I am 5'10\\\".\\\"\"); // I said \"Hey, I am 5'10\".\"\n\nSystem.out.println(escaped); // \"I said \"\"Hey, I am 5'10\"\".\"\"\"\n</code></pre></li>\n<li><p><em>Unescape</em> from CSV</p>\n\n<pre><code>String unescaped = StringEscapeUtils\n    .unescapeCsv(\"\\\"I said \\\"\\\"Hey, I am 5'10\\\"\\\".\\\"\\\"\\\"\"); // \"I said \"\"Hey, I am 5'10\"\".\"\"\"\n\nSystem.out.println(unescaped); // I said \"Hey, I am 5'10\".\"\n</code></pre></li>\n</ul>\n\n<p><sub>* <em>You can download it from</em> <a href=\"http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22commons-lang3%22\" rel=\"noreferrer\">here</a>.</sub></p>\n\n<hr>\n\n<h3><a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">&#x2750; OpenCSV</a></h3>\n\n<p>If you use <a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\"><strong>OpenCSV</strong></a>, you will not need to worry about escape or unescape, only for write or read the content.</p>\n\n<ul>\n<li><p>Writing file:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(\"awesomefile.csv\"); \nOutputStreamWriter osw = new OutputStreamWriter(fos, \"UTF-8\");\nCSVWriter writer = new CSVWriter(osw);\n...\nString[] row = {\n    \"123\", \n    \"John\", \n    \"Smith\", \n    \"39\", \n    \"I said \\\"Hey, I am 5'10\\\".\\\"\"\n};\nwriter.writeNext(row);\n...\nwriter.close();\nosw.close();\nos.close();\n</code></pre></li>\n<li><p>Reading file:</p>\n\n<pre><code>FileInputStream fis = new FileInputStream(\"awesomefile.csv\"); \nInputStreamReader isr = new InputStreamReader(fis, \"UTF-8\");\nCSVReader reader = new CSVReader(isr);\n\nfor (String[] row; (row = reader.readNext()) != null;) {\n    System.out.println(Arrays.toString(row));\n}\n\nreader.close();\nisr.close();\nfis.close();\n</code></pre></li>\n</ul>\n\n<p><sub>* <em>You can download it from</em> <a href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.opencsv%22\" rel=\"noreferrer\">here</a>.</sub></p>\n"},{"tags":[],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1548516826,"creation_date":1336398025,"answer_id":10483134,"question_id":10451842,"body_markdown":"Thanks to both Tony and Paul for the quick feedback, its very helpful. I actually figure out a solution through POJO. Here it is:\r\n\r\n    if (cell_value.indexOf(&quot;\\&quot;&quot;) != -1 || cell_value.indexOf(&quot;,&quot;) != -1) {\r\n\t\tcell_value = cell_value.replaceAll(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;);\r\n\t\trow.append(&quot;\\&quot;&quot;);\r\n\t\trow.append(cell_value);\r\n\t\trow.append(&quot;\\&quot;&quot;);\r\n\t} else {\r\n\t\trow.append(cell_value);\r\n\t}\r\n\r\nin short if there is special character like comma or double quote within the string in side the cell, then first escape the double quote(`&quot;\\&quot;&quot;`) by adding additional double quote (like `&quot;\\&quot;\\&quot;&quot;`), then put the whole thing into a double quote (like `&quot;\\&quot;&quot;+theWholeThing+&quot;\\&quot;&quot;` )\r\n\r\n\r\n\r\n\r\n","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>Thanks to both Tony and Paul for the quick feedback, its very helpful. I actually figure out a solution through POJO. Here it is:</p>\n\n<pre><code>if (cell_value.indexOf(\"\\\"\") != -1 || cell_value.indexOf(\",\") != -1) {\n    cell_value = cell_value.replaceAll(\"\\\"\", \"\\\"\\\"\");\n    row.append(\"\\\"\");\n    row.append(cell_value);\n    row.append(\"\\\"\");\n} else {\n    row.append(cell_value);\n}\n</code></pre>\n\n<p>in short if there is special character like comma or double quote within the string in side the cell, then first escape the double quote(<code>\"\\\"\"</code>) by adding additional double quote (like <code>\"\\\"\\\"\"</code>), then put the whole thing into a double quote (like <code>\"\\\"\"+theWholeThing+\"\\\"\"</code> )</p>\n"},{"tags":[],"owner":{"account_id":510150,"reputation":12330,"user_id":1191425,"accept_rate":100,"display_name":"Li-aung Yip"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1336398450,"creation_date":1336398450,"answer_id":10483253,"question_id":10451842,"body_markdown":"You could also look at how [Python writes Excel-compatible `csv` files.][1]\r\n\r\nI believe the default for Excel is to double-up for literal quote characters - that is, literal quotes `&quot;` are written as `&quot;&quot;`.\r\n\r\n  [1]: http://docs.python.org/library/csv.html","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>You could also look at how <a href=\"http://docs.python.org/library/csv.html\" rel=\"noreferrer\">Python writes Excel-compatible <code>csv</code> files.</a></p>\n\n<p>I believe the default for Excel is to double-up for literal quote characters - that is, literal quotes <code>\"</code> are written as <code>\"\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":269849,"reputation":685,"user_id":559445,"accept_rate":29,"display_name":"A.Zaben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452079445,"creation_date":1452079445,"answer_id":34631961,"question_id":10451842,"body_markdown":"    &quot;cell one&quot;,&quot;cell &quot;&quot; two&quot;,&quot;cell &quot;&quot; ,three&quot;\r\n\r\nSave this to csv file and see the results, so double quote is used to escape itself\r\n\r\n**Important Note**\r\n\r\n    &quot;cell one&quot;,&quot;cell &quot;&quot; two&quot;, &quot;cell &quot;&quot; ,three&quot;\r\nwill give you a different result because there is a space after the comma, and that will be treated as &quot;\r\n","title":"How to escape comma and double quote at same time for CSV file?","body":"<pre><code>\"cell one\",\"cell \"\" two\",\"cell \"\" ,three\"\n</code></pre>\n\n<p>Save this to csv file and see the results, so double quote is used to escape itself</p>\n\n<p><strong>Important Note</strong></p>\n\n<pre><code>\"cell one\",\"cell \"\" two\", \"cell \"\" ,three\"\n</code></pre>\n\n<p>will give you a different result because there is a space after the comma, and that will be treated as \"</p>\n"},{"tags":[],"owner":{"account_id":1074567,"reputation":19,"user_id":6138893,"display_name":"Ashiq M"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1501742929,"creation_date":1501738911,"answer_id":45475736,"question_id":10451842,"body_markdown":"    String stringWithQuates = &quot;\\&quot;&quot;+ &quot;your,comma,separated,string&quot; + &quot;\\&quot;&quot;;\r\n\r\nthis will retain the comma in CSV file","title":"How to escape comma and double quote at same time for CSV file?","body":"<pre><code>String stringWithQuates = \"\\\"\"+ \"your,comma,separated,string\" + \"\\\"\";\n</code></pre>\n\n<p>this will retain the comma in CSV file</p>\n"},{"tags":[],"owner":{"account_id":16735264,"reputation":1137,"user_id":12096572,"display_name":"silver_fox"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568997783,"creation_date":1568996510,"answer_id":58032034,"question_id":10451842,"body_markdown":"If you&#39;re using CSVWriter. Check that you don&#39;t have the option \r\n\r\n    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n\r\nWhen I removed it the comma was showing as expected and not treating it as new column","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>If you're using CSVWriter. Check that you don't have the option </p>\n\n<pre><code>.withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n</code></pre>\n\n<p>When I removed it the comma was showing as expected and not treating it as new column</p>\n"},{"tags":[],"owner":{"account_id":21155515,"reputation":21,"user_id":15554875,"display_name":"Rohit Tingare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669806273,"creation_date":1669806273,"answer_id":74626729,"question_id":10451842,"body_markdown":"In openCSV, use below method to create csvWriter obj,\r\n\r\n    CSVWriter csvWriter = new CSVWriter(writer, CSVWriter.DEFAULT_SEPARATOR, CSVWriter.DEFAULT_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END, CSVWriter.DEFAULT_QUOTE_CHARACTER); \r\n\r\nIn this, `DEFAULT_QUOTE_CHARACTER`  is very important.\r\nIt will work perfectly, If you want to insert any &#39;,&#39; or &#39;&quot;&#39; in csv file.","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>In openCSV, use below method to create csvWriter obj,</p>\n<pre><code>CSVWriter csvWriter = new CSVWriter(writer, CSVWriter.DEFAULT_SEPARATOR, CSVWriter.DEFAULT_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END, CSVWriter.DEFAULT_QUOTE_CHARACTER); \n</code></pre>\n<p>In this, <code>DEFAULT_QUOTE_CHARACTER</code>  is very important.\nIt will work perfectly, If you want to insert any ',' or '&quot;' in csv file.</p>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208083,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":10452463,"answer_count":8,"score":77,"last_activity_date":1669806273,"creation_date":1336145496,"question_id":10451842,"body_markdown":"I am writing a Java app to export data from Oracle to csv file\r\n\r\nUnfortunately the content of data may quite tricky. Still comma is the deliminator, but some data on a row could be like this:\r\n\r\n    | ID    |   FN    |   LN   |  AGE   |  COMMENT                   |\r\n    |----------------------------------------------------------------|\r\n    | 123   |  John   |  Smith |   39   | I said &quot;Hey, I am 5&#39;10&quot;.&quot;  |\r\n    |----------------------------------------------------------------|\r\n\r\nso this is one of the string on the `comment` column:\r\n\r\n&gt;I said &quot;Hey, I am 5&#39;10&quot;.&quot;\r\n\r\nNo kidding, I need to show above comment without compromise in excel or open office from a CSV file generated by Java, and of course cannot mess up other regular escaping situation(i.e. regular double quotes, and regular comma within a tuple). I know regular expression is powerful but how can we achieve the goal with such complicated situation?\r\n","title":"How to escape comma and double quote at same time for CSV file?","body":"<p>I am writing a Java app to export data from Oracle to csv file</p>\n\n<p>Unfortunately the content of data may quite tricky. Still comma is the deliminator, but some data on a row could be like this:</p>\n\n<pre><code>| ID    |   FN    |   LN   |  AGE   |  COMMENT                   |\n|----------------------------------------------------------------|\n| 123   |  John   |  Smith |   39   | I said \"Hey, I am 5'10\".\"  |\n|----------------------------------------------------------------|\n</code></pre>\n\n<p>so this is one of the string on the <code>comment</code> column:</p>\n\n<blockquote>\n  <p>I said \"Hey, I am 5'10\".\"</p>\n</blockquote>\n\n<p>No kidding, I need to show above comment without compromise in excel or open office from a CSV file generated by Java, and of course cannot mess up other regular escaping situation(i.e. regular double quotes, and regular comma within a tuple). I know regular expression is powerful but how can we achieve the goal with such complicated situation?</p>\n"},{"tags":["java","jnlp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669160611,"post_id":74538337,"comment_id":131580520,"body_markdown":"So this is a Java Web Start application. You probably know that this is an obsolete technology. It is however not quite dead and Web Start software is available so you might be in with a chance. I can&#39;t really say any more without examining the URL. Do you have the full URL to the jnlp file?","body":"So this is a Java Web Start application. You probably know that this is an obsolete technology. It is however not quite dead and Web Start software is available so you might be in with a chance. I can&#39;t really say any more without examining the URL. Do you have the full URL to the jnlp file?"},{"owner":{"account_id":27017060,"reputation":1,"user_id":20575686,"display_name":"Максим К"},"score":0,"creation_date":1669214451,"post_id":74538337,"comment_id":131594154,"body_markdown":"I have file jnlp.","body":"I have file jnlp."},{"owner":{"account_id":27017060,"reputation":1,"user_id":20575686,"display_name":"Максим К"},"score":0,"creation_date":1669214477,"post_id":74538337,"comment_id":131594163,"body_markdown":"But i don&#39;t know how i can add this file here","body":"But i don&#39;t know how i can add this file here"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669215095,"post_id":74538337,"comment_id":131594428,"body_markdown":"You could start by posting its contents as code (i.e. in code tags)","body":"You could start by posting its contents as code (i.e. in code tags)"},{"owner":{"account_id":27017060,"reputation":1,"user_id":20575686,"display_name":"Максим К"},"score":0,"creation_date":1669220688,"post_id":74538337,"comment_id":131596614,"body_markdown":"ok, posted the code in the original post","body":"ok, posted the code in the original post"},{"owner":{"account_id":27017060,"reputation":1,"user_id":20575686,"display_name":"Максим К"},"score":0,"creation_date":1669221044,"post_id":74538337,"comment_id":131596760,"body_markdown":"using Notepad +++ opened the file, copied the code, and published it in the original post","body":"using Notepad +++ opened the file, copied the code, and published it in the original post"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669223288,"post_id":74538337,"comment_id":131597656,"body_markdown":"When I try to run that &#39;manually&#39; there&#39;s a missing class. I can&#39;t advise anything other than contact the manufacturer","body":"When I try to run that &#39;manually&#39; there&#39;s a missing class. I can&#39;t advise anything other than contact the manufacturer"}],"owner":{"account_id":27017060,"reputation":1,"user_id":20575686,"display_name":"Максим К"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669806191,"creation_date":1669147312,"question_id":74538337,"body_markdown":"I have a file that is run using Java, which will launch an application that updates the software in the car.\r\nBut the file does not run, it gives an error.\r\n\r\nUpdated java, reinstalled windows, nothing helps\r\nWhat could be the problem?\r\n\r\n(https://i.stack.imgur.com/9vJHu.png)\r\n\r\n(https://i.stack.imgur.com/wUSBe.png)\r\n\r\n(https://i.stack.imgur.com/RA1B4.png)\r\n\r\ntried all available tips\r\n- reinstalled Java\r\n- installed some different versions of java\r\n\r\nI&#39;m afraid they are too simple\r\nOr the problem is that from my side it is not possible to solve.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp spec=&quot;1.0&quot; codebase=&quot;https://tis2web.service.gm.com/tis2web/sps/download&quot;&gt;\r\n    \t&lt;information&gt;\r\n    \t\t&lt;title&gt;SPS V. 7.8.230&lt;/title&gt;\r\n    \t\t&lt;vendor&gt;GM SPO&lt;/vendor&gt;\r\n    \t&lt;/information&gt;\r\n    \t&lt;security&gt;\r\n    \t\t&lt;all-permissions /&gt;\r\n    \t&lt;/security&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;j2se version=&quot;1.6+&quot; initial-heap-size=&quot;64m&quot; max-heap-size=&quot;512m&quot; /&gt;\r\n    \t\t&lt;extension name=&quot;common&quot; version=&quot;7.8.230&quot;\r\n    \t\t\thref=&quot;https://tis2web.service.gm.com/tis2web/jnlp.extension/common.jnlp&quot; /&gt;\r\n    \r\n    \t\t&lt;jar href=&quot;webwindow.jar&quot; version=&quot;1.0.8.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;jsoup-1.13.1.jar&quot; version=&quot;1.13.1&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;itext-1.3.jar&quot; version=&quot;1.0.1.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;jeval.jar&quot; version=&quot;0.9.9&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;snmp.jar&quot; version=&quot;1.4.2.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;joda-time-2.4.jar&quot; version=&quot;2.4.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;gson-2.7.jar&quot; version=&quot;2.7.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;commons-compress-1.5.jar&quot; version=&quot;1.5.6&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;httpclient-4.5.2.jar&quot; version=&quot;4.5.2&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;httpcore-4.4.4.jar&quot; version=&quot;4.4.4&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;commons-logging-1.2.jar&quot; version=&quot;1.2&quot; /&gt;\r\n    \r\n    \t\t&lt;jar href=&quot;sps-client.jar&quot; main=&quot;true&quot; version=&quot;7.8.230&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;sps-common.jar&quot; version=&quot;7.8.230&quot; /&gt;\r\n    \t\t&lt;jar href=&quot;techlinecache-client.jar&quot; version=&quot;7.8.230&quot; /&gt;\r\n    \r\n    \t\t&lt;nativelib href=&quot;sps-startuplibs.jar&quot; version=&quot;7.8.230&quot; /&gt;\r\n    \r\n    \t\t\r\n    \t\t\r\n    \r\n    \t&lt;/resources&gt;\r\n    \t&lt;application-desc\r\n    \t\tmain-class=&quot;com.eoos.gm.tis2web.sps.client.ui.SPSClientController&quot;&gt;\r\n    \t\t&lt;argument&gt;https://tis2web.service.gm.com/tis2web/exectask/sps&lt;/argument&gt;\r\n    \t\t&lt;argument&gt;SlNFU1NJT05JRD1nTGlmRWNva1AyZnp1dEpDMnBHLUI0UV9ST3JLcVVIS1R6WkcwVVF2VGQ4NC1qejEyMVN2IS03ODQ3NTQ2NTsgYXV0aGVudGljYXRlZD02NDAyYzYyMzI0MmMyYTIzMzBjMzRkZjc1N2YxNjEzYzsgX2FiY2s9NDQ0Qzc5NEFCNDY3Q0UyODlDNUU4NTVCRDc5Q0UwRUR+MH5ZQUFRbmp4UmFJY1hzcG1FQVFBQVQvckJtd2dockdYc1RQSVYrNVloWjZBQWF4ckxsQzhFQ2VDMmRNbUtLa3FyMTFVZlY1dk5jb3ltWHFwNlQ0ekVnVXdXWjBKSmpzcHlYanliSWZZOTRRT0FHQlVzeDFlYzlwMmdoNENiS3MrbTJXS1dSOVZQTGVMdFJ0OGdCZnFzaDhHWm5VNDh5eWZ1d2lvYytJUW03azR5c0xKbmpDYUI4ZTNrbUdXTmN0MVg5T3NMdnJWbU5SUktXQVBmeEpOUFd4cmZuK0VrcVJFMXNQQWJNUmgxemlwVWVWNFlqbVpldzRaWmN5c0lURnBNWWJBRWpaeTZCU0ZmWE5oMUlnYkdMZkwvTnh1N09xRG80c0RRanZna2czZjBzQk9qVU10dWZtOTQrN2ptYkx0OUhya1NQbU9SSWdvcEZDOGdoSUlIZEhSUjdMcGlremdORTNha2w4ZHFKclM5Z2xPLys4NzI5czA0TWlMVHVwMk9FZ1ZWeUJFU0N0MW1Id2J6dll4YnQyVHM1aGs9fi0xfi0xfi0xOyBha19ibXNjPTU2RTMzQTFERkYzMzgxOTZENjVDRkVGRkZERDUxRjQ5fjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMH5ZQUFRalR4UmFDNVNwNW1FQVFBQUJjd1JueEVzZ24vRmxHRktPQ052M2dGUjFTWnBkdFdMUTFPQ0JGSkJ5QWNPRHJFUGx3ODB3THc5Y2dFeVBBMnR6dDR6R1laOW4ybXRTWDdqNUZ3ZHczNkczVkxERURQZ09GR0x6cEdpOWxkR2E5dkFiOWZTaXJkbVJvdWNhVnBXT1JNdkRKcjZadkhtQnVHYmJGSGpXZTY3MEQ1ejB1SXZqNnNPZzJwbEJTKytIREVHenMzQlFKRU1vUVVZMXJjMmhxaDV2d2E5ZGpLUUNKOWRZYW03SUF6TXNCY0pyTFJ2Qnp0L0xaY290ZmdNc29McU14V3RUMTMwb2poQWxjM1JoMVNqY3dSVkdSNlg4UmROTEhEa2FEYnhEbWN1eEtVeDBvSUMzYVlXN1RCMmYvdW83ZjhxbGIrdGJGS2hCV1FzbU5VNElwcTRoNEc3bEVEaGkyZ0tQUVdFbFhycFNrTjNScUg4L0FudFVMYXFrMG5LN3c9PTsgYm1fc3Y9MEFEMkUxNjcxNjA1NjQ1MEI1NDIzNkM3MEY1RTNBRkZ+WUFBUWpUeFJhSnhUcDVtRUFRQUFrZjRSbnhIbzdjMFFuTThnbzE0akRTSTJUV2VVVHlnZmlCUWFUYXhteWxZNkFwNWRvYU5KeWxqd1p5eHJVZXhZUVVHRDkxYWFjeDAwemFLcUlIQXQ4ZGVuV2JLMzcwVUVGU0tLUDM0MndpWXdOaVRONENhZGtaNlNIRXpzUExqenhvNG1TdklPZUZEYmRvRXB4cHpkOG1Ha0VENnBkbWRLRnJlVzk0NmpNM05yc0pIdnV0T0k5WmRxa0VwMThnUTJndGxVS1NQK2tXZ1BJQjdhVnJscEJnVmRhYzdlSmtlbnJMNVAzLzFQT0ZaWnJ5VFZsZz09fjE=&lt;/argument&gt;\r\n    \t\t&lt;argument&gt;ACM2AXV2A8S2A&lt;/argument&gt;\r\n    \t&lt;/application-desc&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n","title":"The file that should update the software in the car does not start, why?","body":"<p>I have a file that is run using Java, which will launch an application that updates the software in the car.\nBut the file does not run, it gives an error.</p>\n<p>Updated java, reinstalled windows, nothing helps\nWhat could be the problem?</p>\n<p>(<a href=\"https://i.stack.imgur.com/9vJHu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9vJHu.png</a>)</p>\n<p>(<a href=\"https://i.stack.imgur.com/wUSBe.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/wUSBe.png</a>)</p>\n<p>(<a href=\"https://i.stack.imgur.com/RA1B4.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/RA1B4.png</a>)</p>\n<p>tried all available tips</p>\n<ul>\n<li>reinstalled Java</li>\n<li>installed some different versions of java</li>\n</ul>\n<p>I'm afraid they are too simple\nOr the problem is that from my side it is not possible to solve.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0&quot; codebase=&quot;https://tis2web.service.gm.com/tis2web/sps/download&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;SPS V. 7.8.230&lt;/title&gt;\n        &lt;vendor&gt;GM SPO&lt;/vendor&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions /&gt;\n    &lt;/security&gt;\n    &lt;resources&gt;\n        &lt;j2se version=&quot;1.6+&quot; initial-heap-size=&quot;64m&quot; max-heap-size=&quot;512m&quot; /&gt;\n        &lt;extension name=&quot;common&quot; version=&quot;7.8.230&quot;\n            href=&quot;https://tis2web.service.gm.com/tis2web/jnlp.extension/common.jnlp&quot; /&gt;\n\n        &lt;jar href=&quot;webwindow.jar&quot; version=&quot;1.0.8.6&quot; /&gt;\n        &lt;jar href=&quot;jsoup-1.13.1.jar&quot; version=&quot;1.13.1&quot; /&gt;\n        &lt;jar href=&quot;itext-1.3.jar&quot; version=&quot;1.0.1.6&quot; /&gt;\n        &lt;jar href=&quot;jeval.jar&quot; version=&quot;0.9.9&quot; /&gt;\n        &lt;jar href=&quot;snmp.jar&quot; version=&quot;1.4.2.6&quot; /&gt;\n        &lt;jar href=&quot;joda-time-2.4.jar&quot; version=&quot;2.4.6&quot; /&gt;\n        &lt;jar href=&quot;gson-2.7.jar&quot; version=&quot;2.7.6&quot; /&gt;\n        &lt;jar href=&quot;commons-compress-1.5.jar&quot; version=&quot;1.5.6&quot; /&gt;\n        &lt;jar href=&quot;httpclient-4.5.2.jar&quot; version=&quot;4.5.2&quot; /&gt;\n        &lt;jar href=&quot;httpcore-4.4.4.jar&quot; version=&quot;4.4.4&quot; /&gt;\n        &lt;jar href=&quot;commons-logging-1.2.jar&quot; version=&quot;1.2&quot; /&gt;\n\n        &lt;jar href=&quot;sps-client.jar&quot; main=&quot;true&quot; version=&quot;7.8.230&quot; /&gt;\n        &lt;jar href=&quot;sps-common.jar&quot; version=&quot;7.8.230&quot; /&gt;\n        &lt;jar href=&quot;techlinecache-client.jar&quot; version=&quot;7.8.230&quot; /&gt;\n\n        &lt;nativelib href=&quot;sps-startuplibs.jar&quot; version=&quot;7.8.230&quot; /&gt;\n\n        \n        \n\n    &lt;/resources&gt;\n    &lt;application-desc\n        main-class=&quot;com.eoos.gm.tis2web.sps.client.ui.SPSClientController&quot;&gt;\n        &lt;argument&gt;https://tis2web.service.gm.com/tis2web/exectask/sps&lt;/argument&gt;\n        &lt;argument&gt;SlNFU1NJT05JRD1nTGlmRWNva1AyZnp1dEpDMnBHLUI0UV9ST3JLcVVIS1R6WkcwVVF2VGQ4NC1qejEyMVN2IS03ODQ3NTQ2NTsgYXV0aGVudGljYXRlZD02NDAyYzYyMzI0MmMyYTIzMzBjMzRkZjc1N2YxNjEzYzsgX2FiY2s9NDQ0Qzc5NEFCNDY3Q0UyODlDNUU4NTVCRDc5Q0UwRUR+MH5ZQUFRbmp4UmFJY1hzcG1FQVFBQVQvckJtd2dockdYc1RQSVYrNVloWjZBQWF4ckxsQzhFQ2VDMmRNbUtLa3FyMTFVZlY1dk5jb3ltWHFwNlQ0ekVnVXdXWjBKSmpzcHlYanliSWZZOTRRT0FHQlVzeDFlYzlwMmdoNENiS3MrbTJXS1dSOVZQTGVMdFJ0OGdCZnFzaDhHWm5VNDh5eWZ1d2lvYytJUW03azR5c0xKbmpDYUI4ZTNrbUdXTmN0MVg5T3NMdnJWbU5SUktXQVBmeEpOUFd4cmZuK0VrcVJFMXNQQWJNUmgxemlwVWVWNFlqbVpldzRaWmN5c0lURnBNWWJBRWpaeTZCU0ZmWE5oMUlnYkdMZkwvTnh1N09xRG80c0RRanZna2czZjBzQk9qVU10dWZtOTQrN2ptYkx0OUhya1NQbU9SSWdvcEZDOGdoSUlIZEhSUjdMcGlremdORTNha2w4ZHFKclM5Z2xPLys4NzI5czA0TWlMVHVwMk9FZ1ZWeUJFU0N0MW1Id2J6dll4YnQyVHM1aGs9fi0xfi0xfi0xOyBha19ibXNjPTU2RTMzQTFERkYzMzgxOTZENjVDRkVGRkZERDUxRjQ5fjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMH5ZQUFRalR4UmFDNVNwNW1FQVFBQUJjd1JueEVzZ24vRmxHRktPQ052M2dGUjFTWnBkdFdMUTFPQ0JGSkJ5QWNPRHJFUGx3ODB3THc5Y2dFeVBBMnR6dDR6R1laOW4ybXRTWDdqNUZ3ZHczNkczVkxERURQZ09GR0x6cEdpOWxkR2E5dkFiOWZTaXJkbVJvdWNhVnBXT1JNdkRKcjZadkhtQnVHYmJGSGpXZTY3MEQ1ejB1SXZqNnNPZzJwbEJTKytIREVHenMzQlFKRU1vUVVZMXJjMmhxaDV2d2E5ZGpLUUNKOWRZYW03SUF6TXNCY0pyTFJ2Qnp0L0xaY290ZmdNc29McU14V3RUMTMwb2poQWxjM1JoMVNqY3dSVkdSNlg4UmROTEhEa2FEYnhEbWN1eEtVeDBvSUMzYVlXN1RCMmYvdW83ZjhxbGIrdGJGS2hCV1FzbU5VNElwcTRoNEc3bEVEaGkyZ0tQUVdFbFhycFNrTjNScUg4L0FudFVMYXFrMG5LN3c9PTsgYm1fc3Y9MEFEMkUxNjcxNjA1NjQ1MEI1NDIzNkM3MEY1RTNBRkZ+WUFBUWpUeFJhSnhUcDVtRUFRQUFrZjRSbnhIbzdjMFFuTThnbzE0akRTSTJUV2VVVHlnZmlCUWFUYXhteWxZNkFwNWRvYU5KeWxqd1p5eHJVZXhZUVVHRDkxYWFjeDAwemFLcUlIQXQ4ZGVuV2JLMzcwVUVGU0tLUDM0MndpWXdOaVRONENhZGtaNlNIRXpzUExqenhvNG1TdklPZUZEYmRvRXB4cHpkOG1Ha0VENnBkbWRLRnJlVzk0NmpNM05yc0pIdnV0T0k5WmRxa0VwMThnUTJndGxVS1NQK2tXZ1BJQjdhVnJscEJnVmRhYzdlSmtlbnJMNVAzLzFQT0ZaWnJ5VFZsZz09fjE=&lt;/argument&gt;\n        &lt;argument&gt;ACM2AXV2A8S2A&lt;/argument&gt;\n    &lt;/application-desc&gt;\n&lt;/jnlp&gt;\n</code></pre>\n"},{"tags":["java","time-complexity","runtime"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669742852,"creation_date":1669742852,"answer_id":74617956,"question_id":74617882,"body_markdown":"`map1.keySet().contains(xyz);` is 100% identical to calling `map1.containsKey(xyz);`. You can verify it by looking at the [source](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/TreeMap.java):\r\n\r\n```\r\npublic class TreeMap&lt;K,V&gt;\r\n    extends AbstractMap&lt;K,V&gt;\r\n    implements NavigableMap&lt;K,V&gt;, Cloneable, java.io.Serializable\r\n{\r\n    // […]\r\n\r\n    public Set&lt;K&gt; keySet() {\r\n        return navigableKeySet();\r\n    }\r\n\r\n    /**\r\n     * @since 1.6\r\n     */\r\n    public NavigableSet&lt;K&gt; navigableKeySet() {\r\n        KeySet&lt;K&gt; nks = navigableKeySet;\r\n        return (nks != null) ? nks : (navigableKeySet = new KeySet&lt;&gt;(this));\r\n    }\r\n\r\n    // […]\r\n\r\n    static final class KeySet&lt;E&gt; extends AbstractSet&lt;E&gt; implements NavigableSet&lt;E&gt; {\r\n        private final NavigableMap&lt;E, ?&gt; m;\r\n        KeySet(NavigableMap&lt;E,?&gt; map) { m = map; }\r\n\r\n        // […]\r\n\r\n        public boolean contains(Object o) { return m.containsKey(o); } // [&lt;-- delegates back to map]\r\n\r\n        // […]\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n=&gt; The key set has the same runtime characteristics as the collection itself. In case of a TreeMap that&#39;s O(log(n)) for the contains operation.","title":"What is the time complexity of contains() of a Set view?","body":"<p><code>map1.keySet().contains(xyz);</code> is 100% identical to calling <code>map1.containsKey(xyz);</code>. You can verify it by looking at the <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/TreeMap.java\" rel=\"nofollow noreferrer\">source</a>:</p>\n<pre><code>public class TreeMap&lt;K,V&gt;\n    extends AbstractMap&lt;K,V&gt;\n    implements NavigableMap&lt;K,V&gt;, Cloneable, java.io.Serializable\n{\n    // […]\n\n    public Set&lt;K&gt; keySet() {\n        return navigableKeySet();\n    }\n\n    /**\n     * @since 1.6\n     */\n    public NavigableSet&lt;K&gt; navigableKeySet() {\n        KeySet&lt;K&gt; nks = navigableKeySet;\n        return (nks != null) ? nks : (navigableKeySet = new KeySet&lt;&gt;(this));\n    }\n\n    // […]\n\n    static final class KeySet&lt;E&gt; extends AbstractSet&lt;E&gt; implements NavigableSet&lt;E&gt; {\n        private final NavigableMap&lt;E, ?&gt; m;\n        KeySet(NavigableMap&lt;E,?&gt; map) { m = map; }\n\n        // […]\n\n        public boolean contains(Object o) { return m.containsKey(o); } // [&lt;-- delegates back to map]\n\n        // […]\n    }\n\n    // ...\n}\n</code></pre>\n<p>=&gt; The key set has the same runtime characteristics as the collection itself. In case of a TreeMap that's O(log(n)) for the contains operation.</p>\n"}],"owner":{"account_id":25861598,"reputation":1,"user_id":19852830,"display_name":"ylr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74617956,"answer_count":1,"score":-1,"last_activity_date":1669806104,"creation_date":1669742556,"question_id":74617882,"body_markdown":"If I have a TreeSet and I use `contains()` on the Set view of `keySet()` is the time complexity O(1)?\r\n\r\n```\r\nMap&lt;String, Integer&gt; map1 = new TreeMap&lt;&gt;();\r\nmap1.keySet().contains(xyz);\r\n```\r\n\r\nI am wondering as for example `contains()` for HashSet and LinkedHashSet is O(1) but for a TreeSet is O(log(N)) but the `keySet()` method is not returning a HashSet, LinkedSet or TreeSet but just a Set view in general thus making me unsure. \r\n\r\nI checked [here](https://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html) and [here](https://docs.oracle.com/javase/6/docs/api/java/util/Set.html) but could not find any performance related information.\r\n\r\nI have since found this question: https://stackoverflow.com/questions/18902484/what-is-a-view-of-a-collection \r\nThis makes me think the call of `contains()` is then made by the TreeMap and not the Set and would therefore be O(log(N))?","title":"What is the time complexity of contains() of a Set view?","body":"<p>If I have a TreeSet and I use <code>contains()</code> on the Set view of <code>keySet()</code> is the time complexity O(1)?</p>\n<pre><code>Map&lt;String, Integer&gt; map1 = new TreeMap&lt;&gt;();\nmap1.keySet().contains(xyz);\n</code></pre>\n<p>I am wondering as for example <code>contains()</code> for HashSet and LinkedHashSet is O(1) but for a TreeSet is O(log(N)) but the <code>keySet()</code> method is not returning a HashSet, LinkedSet or TreeSet but just a Set view in general thus making me unsure.</p>\n<p>I checked <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">here</a> but could not find any performance related information.</p>\n<p>I have since found this question: <a href=\"https://stackoverflow.com/questions/18902484/what-is-a-view-of-a-collection\">What is a view of a collection?</a>\nThis makes me think the call of <code>contains()</code> is then made by the TreeMap and not the Set and would therefore be O(log(N))?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9148,"page":844,"page_size":100}
