{"items":[{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":9595647,"reputation":134,"user_id":7124864,"display_name":"Srini"},"score":1,"creation_date":1659708599,"post_id":73250852,"comment_id":129365674,"body_markdown":"why dont you check the server stack trace and figure out the error","body":"why dont you check the server stack trace and figure out the error"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659708623,"creation_date":1659708623,"answer_id":73251093,"question_id":73250852,"body_markdown":"There is no mistake in the code you&#39;ve posted.  The 500 error means there is a problem internally with your server.  This could be any sort of Exception.  There doesn&#39;t appear to be anything wrong with your controller itself.  Since you are getting a 500 error and not a 404 error, that means that the mappings exist and postman is able to contact them. The server is getting an error, but postman doesn&#39;t care about it.  Postman only sees that something happened on the server side that caused a problem.\r\n\r\nI believe a bit of debugging is in order.  Set a breakpoint in your controller and attempt to run the code in the code evaluation to see what the error is.  That should get you on track to find how to fix it.","title":"How to fix error in Postman POST and Delete request with SpringBoot?","body":"<p>There is no mistake in the code you've posted.  The 500 error means there is a problem internally with your server.  This could be any sort of Exception.  There doesn't appear to be anything wrong with your controller itself.  Since you are getting a 500 error and not a 404 error, that means that the mappings exist and postman is able to contact them. The server is getting an error, but postman doesn't care about it.  Postman only sees that something happened on the server side that caused a problem.</p>\n<p>I believe a bit of debugging is in order.  Set a breakpoint in your controller and attempt to run the code in the code evaluation to see what the error is.  That should get you on track to find how to fix it.</p>\n"}],"owner":{"account_id":16500833,"reputation":161,"user_id":12239876,"display_name":"Joskaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659708623,"creation_date":1659707470,"question_id":73250852,"body_markdown":"I am new to spring boot and I am trying to send a simple POST and DELETE request via postman, but i am stuck with error 500.Can someone point the errors in my code?.\r\n\r\n\r\nI have spring boot simple app build with maven and run in embedded tomcat through STS.\r\n\r\ni tried these requests for POST and DELETE:\r\n\r\nPOST:\r\n\r\n&gt; http://localhost:8080/api/v1/addMenu\r\n\r\nThe Error status:\r\n\r\n&gt; {&quot;timestamp&quot;:&quot;2022-08-05T13:41:37.984+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/v1/addMenu&quot;}\r\n\r\nDELETE:\r\n\r\n&gt; http://localhost:8080/api/v1/delete/5\r\n\r\nError Status:\r\n\r\n&gt; {&quot;timestamp&quot;:&quot;2022-08-05T13:45:51.548+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/v1/delete/5&quot;}\r\n\r\n\r\nHere is my controller code:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class MenuController {\r\n    @Autowired\r\n    private MenuRepository menuRepository;\r\n\r\n    @GetMapping(&quot;/getMenu&quot;)\r\n    public List&lt;Menu&gt; list() {\r\n        return menuRepository.findAll();\r\n    }\r\n\r\n    @GetMapping\r\n    @RequestMapping(&quot;/getMenu/{id}&quot;)\r\n    public Menu get(@PathVariable Integer id) {\r\n        return menuRepository.getReferenceById(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/addMenu&quot;)\r\n    public Menu create(@RequestBody final Menu menu) {\r\n        return menuRepository.saveAndFlush(menu);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/delete/{id}&quot;, method = RequestMethod.DELETE)\r\n    public void delete(@PathVariable Integer id) {\r\n        menuRepository.deleteById(id);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;{id}&quot;, method = RequestMethod.PUT)\r\n    public Menu update(@PathVariable Integer id, @RequestBody Menu menu) {\r\n               \r\n        Menu existingMenu = menuRepository.getReferenceById(id);\r\n        BeanUtils.copyProperties(menu, existingMenu, &quot;buy_id&quot;);\r\n        return menuRepository.saveAndFlush(existingMenu);\r\n    }\r\n    }\r\n\r\nMenuRepository:\r\n\r\n    public interface MenuRepository extends JpaRepository&lt;Menu, Integer&gt; {}\r\n\r\nThe port is default in 8080.\r\n\r\nI tried the Get request and PUT request, which worked perfect with no errors, but the POST and DELETE gives error status. Can someone point the mistake in the code.?\r\n\r\nThanks","title":"How to fix error in Postman POST and Delete request with SpringBoot?","body":"<p>I am new to spring boot and I am trying to send a simple POST and DELETE request via postman, but i am stuck with error 500.Can someone point the errors in my code?.</p>\n<p>I have spring boot simple app build with maven and run in embedded tomcat through STS.</p>\n<p>i tried these requests for POST and DELETE:</p>\n<p>POST:</p>\n<blockquote>\n<p>http://localhost:8080/api/v1/addMenu</p>\n</blockquote>\n<p>The Error status:</p>\n<blockquote>\n<p>{&quot;timestamp&quot;:&quot;2022-08-05T13:41:37.984+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/v1/addMenu&quot;}</p>\n</blockquote>\n<p>DELETE:</p>\n<blockquote>\n<p>http://localhost:8080/api/v1/delete/5</p>\n</blockquote>\n<p>Error Status:</p>\n<blockquote>\n<p>{&quot;timestamp&quot;:&quot;2022-08-05T13:45:51.548+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/v1/delete/5&quot;}</p>\n</blockquote>\n<p>Here is my controller code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MenuController {\n@Autowired\nprivate MenuRepository menuRepository;\n\n@GetMapping(&quot;/getMenu&quot;)\npublic List&lt;Menu&gt; list() {\n    return menuRepository.findAll();\n}\n\n@GetMapping\n@RequestMapping(&quot;/getMenu/{id}&quot;)\npublic Menu get(@PathVariable Integer id) {\n    return menuRepository.getReferenceById(id);\n}\n\n@PostMapping(&quot;/addMenu&quot;)\npublic Menu create(@RequestBody final Menu menu) {\n    return menuRepository.saveAndFlush(menu);\n}\n\n@RequestMapping(value = &quot;/delete/{id}&quot;, method = RequestMethod.DELETE)\npublic void delete(@PathVariable Integer id) {\n    menuRepository.deleteById(id);\n}\n\n@RequestMapping(value = &quot;{id}&quot;, method = RequestMethod.PUT)\npublic Menu update(@PathVariable Integer id, @RequestBody Menu menu) {\n           \n    Menu existingMenu = menuRepository.getReferenceById(id);\n    BeanUtils.copyProperties(menu, existingMenu, &quot;buy_id&quot;);\n    return menuRepository.saveAndFlush(existingMenu);\n}\n}\n</code></pre>\n<p>MenuRepository:</p>\n<pre><code>public interface MenuRepository extends JpaRepository&lt;Menu, Integer&gt; {}\n</code></pre>\n<p>The port is default in 8080.</p>\n<p>I tried the Get request and PUT request, which worked perfect with no errors, but the POST and DELETE gives error status. Can someone point the mistake in the code.?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","nullpointerexception","autowired","jparepository"],"comments":[{"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"score":0,"creation_date":1659696487,"post_id":73248345,"comment_id":129361147,"body_markdown":"What is @StandardDatabase? And how do you call the private method verifyIfBookExits?","body":"What is @StandardDatabase? And how do you call the private method verifyIfBookExits?"},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1659696612,"post_id":73248345,"comment_id":129361177,"body_markdown":"There&#39;s nothing immediately obvious. Have you confirmed that it actually is `service` that is null? I see that you&#39;ve declared a lot of these methods and variables as `Boolean` instead of `boolean` - maybe the NPE is being caused by an auto-unboxing in the non-simplified? Looks to me like you should be using `boolean` for the `exists*` methods, as they can only realistically give a yes/no answer.","body":"There&#39;s nothing immediately obvious. Have you confirmed that it actually is <code>service</code> that is null? I see that you&#39;ve declared a lot of these methods and variables as <code>Boolean</code> instead of <code>boolean</code> - maybe the NPE is being caused by an auto-unboxing in the non-simplified? Looks to me like you should be using <code>boolean</code> for the <code>exists*</code> methods, as they can only realistically give a yes/no answer."},{"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"score":0,"creation_date":1659701956,"post_id":73248345,"comment_id":129363044,"body_markdown":"@Jelaby yes, in one test I explicit put something like that &quot; if (null != this.service) &quot; and the code never enter the if.\nI convert object Boolean to his primitive boolean and the problem remains.","body":"@Jelaby yes, in one test I explicit put something like that &quot; if (null != this.service) &quot; and the code never enter the if. I convert object Boolean to his primitive boolean and the problem remains."},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1659702842,"post_id":73248345,"comment_id":129363404,"body_markdown":"How is `LibroComponentImpl` instantiated? Does it inherit `@Component` or is it created in a `@Bean` method, or is one created with `new` somewhere else?","body":"How is <code>LibroComponentImpl</code> instantiated? Does it inherit <code>@Component</code> or is it created in a <code>@Bean</code> method, or is one created with <code>new</code> somewhere else?"},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1659702913,"post_id":73248345,"comment_id":129363427,"body_markdown":"It might be useful to post the NPE stack trace (you can obfuscate your class/package names but don&#39;t remove any lines)","body":"It might be useful to post the NPE stack trace (you can obfuscate your class/package names but don&#39;t remove any lines)"},{"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"score":0,"creation_date":1659708412,"post_id":73248345,"comment_id":129365594,"body_markdown":"NPE track posted in the opening post.","body":"NPE track posted in the opening post."},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1659709424,"post_id":73248345,"comment_id":129366026,"body_markdown":"autowire the interface and not the implementation of the service","body":"autowire the interface and not the implementation of the service"},{"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"score":0,"creation_date":1659709941,"post_id":73248345,"comment_id":129366230,"body_markdown":"@AngeloImmediata I had already tried to use: Interface of the service, Implementation of the Service and directly the Repository. Nothing changed.","body":"@AngeloImmediata I had already tried to use: Interface of the service, Implementation of the Service and directly the Repository. Nothing changed."},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1659710469,"post_id":73248345,"comment_id":129366435,"body_markdown":"What is the annotation `StandardDatabase`? It doesn&#39;t seem a spring annotation; this means that the bean and all its properties are not managed by spring","body":"What is the annotation <code>StandardDatabase</code>? It doesn&#39;t seem a spring annotation; this means that the bean and all its properties are not managed by spring"},{"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"score":0,"creation_date":1659951409,"post_id":73248345,"comment_id":129408579,"body_markdown":"@AngeloImmediata i tried also tu use only stantard Spring annotations Service and Component but it doesn&#39;t works anyway. Annotation StandardDatabase is inherited from the project, in theory it doesn&#39;t affect the Spring Container.","body":"@AngeloImmediata i tried also tu use only stantard Spring annotations Service and Component but it doesn&#39;t works anyway. Annotation StandardDatabase is inherited from the project, in theory it doesn&#39;t affect the Spring Container."},{"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"score":0,"creation_date":1660035195,"post_id":73248345,"comment_id":129431465,"body_markdown":"I fixed this, the only way to do it it&#39;s to get the application context and get manually from it the implementation of the service.","body":"I fixed this, the only way to do it it&#39;s to get the application context and get manually from it the implementation of the service."},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1660038077,"post_id":73248345,"comment_id":129432464,"body_markdown":"If you don&#39;t use spring annotations it&#39;s normal that the Instance will always be null; I guess StandardDatabase is a custom annotation you inherited and it&#39;s not a Spring one","body":"If you don&#39;t use spring annotations it&#39;s normal that the Instance will always be null; I guess StandardDatabase is a custom annotation you inherited and it&#39;s not a Spring one"}],"owner":{"account_id":25985586,"reputation":1,"user_id":19698613,"display_name":"LBSidera"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659708389,"creation_date":1659695446,"question_id":73248345,"body_markdown":"We have a really strange issue in our application and exhausted all options for troubleshooting, including checking for similar issues here on Stackoverflow. I simplyfied the code.\r\n\r\nI have an Entity:\r\n\r\n    package com.packagename1.model;\r\n\r\n    @Entity\r\n    @Table(name = &quot;LIBRI&quot;)\r\n    public class Libro implements Serializable {\r\n\tprivate static final long serialVersionUID = 8169686105733910187L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, updatable = false, insertable = false)\r\n\tprivate Long id = 0l;\r\n\t\r\n\tpublic Libro() { }\r\n\t\r\n\tpublic Libro(Long id) { \r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n    }\r\n\r\nI have a JPA Repository with some methods:\r\n\r\n    package packagename2.repo;\r\n\r\n    @Repository\r\n    public interface LibroRepository extends JpaRepository&lt;Paziente, Long&gt;{\r\n\t    Boolean existsById(long libroId);\r\n\t\r\n    \tOptional&lt;Libro&gt; findById(long libroId);\r\n    }\r\n\r\nI got a service for interacting with that repository. That service has his own interface:\r\n\r\n    package packagename2.repo;\r\n\r\n\t@Repository\r\n\tpublic interface LibroRepository extends JpaRepository&lt;Paziente, Long&gt;{\r\n\t\tBoolean existsById(long libroId);\r\n\t\t\r\n\t\tOptional&lt;Libro&gt; findById(long libroId);\r\n\t}\r\n\r\nThe service implementation.\r\n\r\n    \tpackage com.packagename2.service;\r\n\r\n\t@Service\r\n\tpublic class LibroDaoServiceImpl implements LibroDaoService {\r\n\t\t@Autowired\r\n\t\tpublic LibroRepository repository;\r\n\r\n\t\t@Override\r\n\t\t@Transactional\r\n\t\tpublic Boolean existsById(long libroId) {\r\n\t\t\tBoolean flag = null;\r\n\t\t\tflag = this.repository.existsById(libroId);\r\n\t\t\tif (null == flag)\r\n\t\t\t\tflag = false;\r\n\t\t\treturn flag;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\t@Transactional\r\n\t\tpublic Libro findById(long libroId) throws NoSuchElementException {\r\n\t\t\tLibro libro = this.repository.findById(libroId)\r\n\t\t\t\t\t.orElseThrow(() -&gt; new NoSuchElementException(&quot;Libro not found for id: &quot; + String.valueOf(libroId)));\r\n\t\t\treturn Libro;\r\n\t\t}\r\n\t}\r\n\r\nAnd the class where I&#39;m using the service.\r\n\r\n    package com.packagename3.component;\r\n\r\n\t@StandardDatabase\r\n\tpublic class LibroComponentImpl implements LibroComponent {\r\n\t\t@Autowired\r\n\t\tpublic LibroDaoServiceImpl service;\r\n\t\t\r\n\t\t...\r\n\t\t\r\n\t\tprivate boolean verifyIfBookExits(long libroId) {\r\n\t\t\ttry {\r\n\t\t\t\tBoolean book_existing = this.service.existsById(libroId);\r\n\t\t\t\tif (null == book_existing || !book_existing)\r\n\t\t\t\t\tmessaggioErrore = &quot;Wrong ID&quot;;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// logging\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\r\nSo this is the behaviour:\r\n- on startup no errors;\r\n- always got a null pointer exception on the line that invoke the service;\r\n\r\nSo some of my attempts:\r\n- checked and all the packages are scanned on my Application.java;\r\n- in another class, a Component I invoke the same service and no problem at all;\r\n- in one of my many test I tried also to put the annotation @Componet on LibroComponentImpl;\r\n- I had checked the I pass a non null value in the ID of libro;\r\n\r\nI got no possible reason that can explain why Spring doesn&#39;t returns any error on autowiring yet it fails to set the field.\r\n\r\nThe line that gives the error is this one:\r\n\r\n    Boolean book_existing = this.service.existsById(libroId);\r\n\r\nThe stacktrace:\r\n2022-08-05 14:30:22.416 ERROR 34208 --- [0.0-9000-exec-2] c.s.w.d.e.v.b.m.MisuraComponentImpl      : nu:::asa:::nc:::nm\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.packagename3.component.LibroComponentImpl.verifyIfBookExits(LibroComponentImpl.java:69) ~[classes/:na]\r\n\tat com.packagename3.component.LibroComponentImpl.checkDataBooks(LibroComponentImpl.java:50) ~[classes/:na]\r\n\tat com.packagename3.component.LibroComponentImpl.insertBook(LibroComponentImpl.java:37) ~[classes/:na]\r\n\tat com.packagename4.component.JDBCDatabaseBackendLibro.insertMisura(JDBCDatabaseBackendCarewatch.java:25) ~[classes/:na]\r\n\tat com.packagename5.component.component.LibroBackendWrapper.insertMisura(CarewatchBackendWrapper.java:150) ~[classes/:na]\r\n\tat com.packagename6.component.service.LibroServiceImpl.insertMisura(MisuraServiceImpl.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201) ~[cxf-rt-frontend-jaxrs-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104) ~[cxf-rt-frontend-jaxrs-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) ~[cxf-core-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:265) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:225) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:304) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:217) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:279) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat com.sidera.bonvicini.dataservice.security.filters.AuthJwtTokenFilter.doFilterInternal(AuthJwtTokenFilter.java:80) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.0.jar:2.7.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n","title":"Spring Autowiring on service got always problems","body":"<p>We have a really strange issue in our application and exhausted all options for troubleshooting, including checking for similar issues here on Stackoverflow. I simplyfied the code.</p>\n<p>I have an Entity:</p>\n<pre><code>package com.packagename1.model;\n\n@Entity\n@Table(name = &quot;LIBRI&quot;)\npublic class Libro implements Serializable {\nprivate static final long serialVersionUID = 8169686105733910187L;\n\n@Id\n@Column(name = &quot;ID&quot;, updatable = false, insertable = false)\nprivate Long id = 0l;\n\npublic Libro() { }\n\npublic Libro(Long id) { \n    this.id = id;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n}\n</code></pre>\n<p>I have a JPA Repository with some methods:</p>\n<pre><code>package packagename2.repo;\n\n@Repository\npublic interface LibroRepository extends JpaRepository&lt;Paziente, Long&gt;{\n    Boolean existsById(long libroId);\n\n    Optional&lt;Libro&gt; findById(long libroId);\n}\n</code></pre>\n<p>I got a service for interacting with that repository. That service has his own interface:</p>\n<pre><code>package packagename2.repo;\n\n@Repository\npublic interface LibroRepository extends JpaRepository&lt;Paziente, Long&gt;{\n    Boolean existsById(long libroId);\n    \n    Optional&lt;Libro&gt; findById(long libroId);\n}\n</code></pre>\n<p>The service implementation.</p>\n<pre><code>    package com.packagename2.service;\n\n@Service\npublic class LibroDaoServiceImpl implements LibroDaoService {\n    @Autowired\n    public LibroRepository repository;\n\n    @Override\n    @Transactional\n    public Boolean existsById(long libroId) {\n        Boolean flag = null;\n        flag = this.repository.existsById(libroId);\n        if (null == flag)\n            flag = false;\n        return flag;\n    }\n\n    @Override\n    @Transactional\n    public Libro findById(long libroId) throws NoSuchElementException {\n        Libro libro = this.repository.findById(libroId)\n                .orElseThrow(() -&gt; new NoSuchElementException(&quot;Libro not found for id: &quot; + String.valueOf(libroId)));\n        return Libro;\n    }\n}\n</code></pre>\n<p>And the class where I'm using the service.</p>\n<pre><code>package com.packagename3.component;\n\n@StandardDatabase\npublic class LibroComponentImpl implements LibroComponent {\n    @Autowired\n    public LibroDaoServiceImpl service;\n    \n    ...\n    \n    private boolean verifyIfBookExits(long libroId) {\n        try {\n            Boolean book_existing = this.service.existsById(libroId);\n            if (null == book_existing || !book_existing)\n                messaggioErrore = &quot;Wrong ID&quot;;\n        } catch (Exception e) {\n            // logging\n        }\n    }\n}   \n</code></pre>\n<p>So this is the behaviour:</p>\n<ul>\n<li>on startup no errors;</li>\n<li>always got a null pointer exception on the line that invoke the service;</li>\n</ul>\n<p>So some of my attempts:</p>\n<ul>\n<li>checked and all the packages are scanned on my Application.java;</li>\n<li>in another class, a Component I invoke the same service and no problem at all;</li>\n<li>in one of my many test I tried also to put the annotation @Componet on LibroComponentImpl;</li>\n<li>I had checked the I pass a non null value in the ID of libro;</li>\n</ul>\n<p>I got no possible reason that can explain why Spring doesn't returns any error on autowiring yet it fails to set the field.</p>\n<p>The line that gives the error is this one:</p>\n<pre><code>Boolean book_existing = this.service.existsById(libroId);\n</code></pre>\n<p>The stacktrace:\n2022-08-05 14:30:22.416 ERROR 34208 --- [0.0-9000-exec-2] c.s.w.d.e.v.b.m.MisuraComponentImpl      : nu:::asa:::nc:::nm</p>\n<p>java.lang.NullPointerException: null\nat com.packagename3.component.LibroComponentImpl.verifyIfBookExits(LibroComponentImpl.java:69) ~[classes/:na]\nat com.packagename3.component.LibroComponentImpl.checkDataBooks(LibroComponentImpl.java:50) ~[classes/:na]\nat com.packagename3.component.LibroComponentImpl.insertBook(LibroComponentImpl.java:37) ~[classes/:na]\nat com.packagename4.component.JDBCDatabaseBackendLibro.insertMisura(JDBCDatabaseBackendCarewatch.java:25) ~[classes/:na]\nat com.packagename5.component.component.LibroBackendWrapper.insertMisura(CarewatchBackendWrapper.java:150) ~[classes/:na]\nat com.packagename6.component.service.LibroServiceImpl.insertMisura(MisuraServiceImpl.java:20) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201) ~[cxf-rt-frontend-jaxrs-3.5.2.jar:3.5.2]\nat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104) ~[cxf-rt-frontend-jaxrs-3.5.2.jar:3.5.2]\nat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) ~[cxf-core-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:265) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:225) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:304) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:217) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:279) ~[cxf-rt-transports-http-3.5.2.jar:3.5.2]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat com.sidera.bonvicini.dataservice.security.filters.AuthJwtTokenFilter.doFilterInternal(AuthJwtTokenFilter.java:80) ~[classes/:na]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.0.jar:2.7.0]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]</p>\n"},{"tags":["java","performance","swing"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":4,"creation_date":1659710023,"post_id":73251041,"comment_id":129366268,"body_markdown":"I did complex things by my own data structures and rendering them in one JPanel&#39;s paintComponent. Selection state, mouse, shadow, zooming all no problems. No new Color, careful with changes. So do profiling with a profiler, and by logging counts and times. Maybe use google maps&#39; technique of other detail levels by zoom factor. **Prepare things before they are rendered.** (Double buffering, swing timer)","body":"I did complex things by my own data structures and rendering them in one JPanel&#39;s paintComponent. Selection state, mouse, shadow, zooming all no problems. No new Color, careful with changes. So do profiling with a profiler, and by logging counts and times. Maybe use google maps&#39; technique of other detail levels by zoom factor. <b>Prepare things before they are rendered.</b> (Double buffering, swing timer)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1659739204,"post_id":73251041,"comment_id":129374362,"body_markdown":"Not sure how you are painting the nodes/lines but maybe you can treat them as a single object as the &quot;barbell&quot; shape in this example: https://stackoverflow.com/questions/67443343/drag-a-painted-shape","body":"Not sure how you are painting the nodes/lines but maybe you can treat them as a single object as the &quot;barbell&quot; shape in this example: <a href=\"https://stackoverflow.com/questions/67443343/drag-a-painted-shape\" title=\"drag a painted shape\">stackoverflow.com/questions/67443343/drag-a-painted-shape</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1659854082,"post_id":73251041,"comment_id":129390563,"body_markdown":"Release the idea of having the graph rendered using multiple JComponents. Just use one to do it all. If speed is still not enough, consider going towards LWJGL or libGDX,","body":"Release the idea of having the graph rendered using multiple JComponents. Just use one to do it all. If speed is still not enough, consider going towards LWJGL or libGDX,"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1659999883,"post_id":73251041,"comment_id":129424824,"body_markdown":"As I recall, the `GraphPanel` cited [here](https://stackoverflow.com/a/11944233/230513) scaled well into the thousands, but _tens_ of thousands calls for the [_flyweight pattern_](https://stackoverflow.com/a/45362769/230513).","body":"As I recall, the <code>GraphPanel</code> cited <a href=\"https://stackoverflow.com/a/11944233/230513\">here</a> scaled well into the thousands, but <i>tens</i> of thousands calls for the <a href=\"https://stackoverflow.com/a/45362769/230513\"><i>flyweight pattern</i></a>."},{"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"score":0,"creation_date":1660034027,"post_id":73251041,"comment_id":129431076,"body_markdown":"@trashgod I appreciate your advice with the flyweight pattern. But how could I make use of it? Every Node has different coordinates. I don&#39;t see, how I could possibly improve my performance","body":"@trashgod I appreciate your advice with the flyweight pattern. But how could I make use of it? Every Node has different coordinates. I don&#39;t see, how I could possibly improve my performance"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1660065805,"post_id":73251041,"comment_id":129443231,"body_markdown":"@John: Coordinate and color properties are lightweight; rendering is expensive. By not rendering invisible objects, flyweight rendering is one way to avoid the overhead: examples [here](https://stackoverflow.com/a/25526869/230513) and [here](https://stackoverflow.com/a/15702152/230513).","body":"@John: Coordinate and color properties are lightweight; rendering is expensive. By not rendering invisible objects, flyweight rendering is one way to avoid the overhead: examples <a href=\"https://stackoverflow.com/a/25526869/230513\">here</a> and <a href=\"https://stackoverflow.com/a/15702152/230513\">here</a>."}],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659708363,"creation_date":1659708363,"question_id":73251041,"body_markdown":"I am currently working on a complex project and struggle with increasing the performance, because I ran out of ideas. \r\n\r\nSo this is what my program looks like at the moment:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E4QTU.png\r\n\r\nIt is a Graph, that shows the path of an object, starting at the green node and ending at the red node. The container is a JPanel, which holds another JPanel at the top right corner, containing the buttons, a JLabel at the top left corner for the status and the different Nodes itself of course. The Nodes and lines are JPanels as well.\r\n\r\n**So what exactly is the problem?**\r\n\r\nThe Graph contains lots of functionalities. Zooming, DnD and adding end deleting new nodes.\r\nAll of these functionalities need the container to repaint, especially DnD needs this very often. So this is just an example with 4 nodes. everything works fine. But at 1000+ nodes and 999 lines between them, it really gets slow. The graph should be able to work with ~20K nodes  without having big troubles. \r\n\r\nEverytime you move a Node 1px with the mouse in any direction, the whole container gets repainted.\r\n\r\nCreating a minimal reproducable example is not quiet possible, because the code for this application is long and there are a lot of dependencies, that would make it not &quot;minimal&quot;.\r\n\r\n**The ideas I have to increase performance are:**\r\n\r\n- Reducing the amount of Nodes (and so the amount of lines), so that less components need to be repainted. This is quiet hard, most nodes are not in a straight line, means there are not many ways to do this. One option would be to reduce the Nodes and increase the level of detail with the zoom function.\r\n\r\n- Clipping the area, that has to be repainted. The problem with this approach is, that I don&#39;t know how exactly this clipping function works or whether it is even possible.\r\n\r\n- The last idea of mine would be, to somehow create a JLayer object containing (total amount of nodes / 100) layers, that are all visible and only repainting the layer, that contains the specific Node. This seems very unstructured, I don&#39;t really think that this is an option, just an idea.\r\n\r\n**What am I asking for right now?:**\r\n\r\nHow do you manage so much components that have to be repainted? There are definitly ways and I am open to try them all. I just want you to give me some advice, hints on useful built in libraries, that I maybe haven&#39;t found in my research. And if one of my ideas could be the one I should go for. \r\n\r\nI am not asking for concrete code examples, just for your experience.\r\n\r\n\r\nThank you in advance and I&#39;m sorry if my question does not fit the SO conventions.\r\n","title":"How to increase painting performance in Java Swing","body":"<p>I am currently working on a complex project and struggle with increasing the performance, because I ran out of ideas.</p>\n<p>So this is what my program looks like at the moment:</p>\n<p><a href=\"https://i.stack.imgur.com/E4QTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4QTU.png\" alt=\"enter image description here\" /></a></p>\n<p>It is a Graph, that shows the path of an object, starting at the green node and ending at the red node. The container is a JPanel, which holds another JPanel at the top right corner, containing the buttons, a JLabel at the top left corner for the status and the different Nodes itself of course. The Nodes and lines are JPanels as well.</p>\n<p><strong>So what exactly is the problem?</strong></p>\n<p>The Graph contains lots of functionalities. Zooming, DnD and adding end deleting new nodes.\nAll of these functionalities need the container to repaint, especially DnD needs this very often. So this is just an example with 4 nodes. everything works fine. But at 1000+ nodes and 999 lines between them, it really gets slow. The graph should be able to work with ~20K nodes  without having big troubles.</p>\n<p>Everytime you move a Node 1px with the mouse in any direction, the whole container gets repainted.</p>\n<p>Creating a minimal reproducable example is not quiet possible, because the code for this application is long and there are a lot of dependencies, that would make it not &quot;minimal&quot;.</p>\n<p><strong>The ideas I have to increase performance are:</strong></p>\n<ul>\n<li><p>Reducing the amount of Nodes (and so the amount of lines), so that less components need to be repainted. This is quiet hard, most nodes are not in a straight line, means there are not many ways to do this. One option would be to reduce the Nodes and increase the level of detail with the zoom function.</p>\n</li>\n<li><p>Clipping the area, that has to be repainted. The problem with this approach is, that I don't know how exactly this clipping function works or whether it is even possible.</p>\n</li>\n<li><p>The last idea of mine would be, to somehow create a JLayer object containing (total amount of nodes / 100) layers, that are all visible and only repainting the layer, that contains the specific Node. This seems very unstructured, I don't really think that this is an option, just an idea.</p>\n</li>\n</ul>\n<p><strong>What am I asking for right now?:</strong></p>\n<p>How do you manage so much components that have to be repainted? There are definitly ways and I am open to try them all. I just want you to give me some advice, hints on useful built in libraries, that I maybe haven't found in my research. And if one of my ideas could be the one I should go for.</p>\n<p>I am not asking for concrete code examples, just for your experience.</p>\n<p>Thank you in advance and I'm sorry if my question does not fit the SO conventions.</p>\n"},{"tags":["java","exception","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422338506,"creation_date":1422338506,"answer_id":28164164,"question_id":28164121,"body_markdown":"Download jar file from the following [Link][1]. Add it to your class path.\r\n\r\n\r\n  [1]: http://commons.apache.org/logging/download_logging.cgi","title":".NoClassDefFoundError when trying to use pdfBox","body":"<p>Download jar file from the following <a href=\"http://commons.apache.org/logging/download_logging.cgi\" rel=\"nofollow\">Link</a>. Add it to your class path.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422338556,"creation_date":1422338556,"answer_id":28164181,"question_id":28164121,"body_markdown":"Add the required [dependency](http://pdfbox.apache.org/1.8/dependencies.html) to your class-path (from the link)\r\n\r\n&gt; The main PDFBox component, pdfbox, has a hard dependency on [commons-logging](http://commons.apache.org/logging/)","title":".NoClassDefFoundError when trying to use pdfBox","body":"<p>Add the required <a href=\"http://pdfbox.apache.org/1.8/dependencies.html\" rel=\"nofollow\">dependency</a> to your class-path (from the link)</p>\n\n<blockquote>\n  <p>The main PDFBox component, pdfbox, has a hard dependency on <a href=\"http://commons.apache.org/logging/\" rel=\"nofollow\">commons-logging</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5673684,"reputation":344,"user_id":4487620,"display_name":"Mahender Yadav"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1422338744,"creation_date":1422338744,"answer_id":28164213,"question_id":28164121,"body_markdown":"Add commons-logging-1.1.1.jar \r\nor\r\njcl-over-slf4j-1.7.6.jar in your lib directory.\r\n\r\n","title":".NoClassDefFoundError when trying to use pdfBox","body":"<p>Add commons-logging-1.1.1.jar \nor\njcl-over-slf4j-1.7.6.jar in your lib directory.</p>\n"},{"tags":[],"owner":{"account_id":3212292,"reputation":1358,"user_id":3131433,"display_name":"Rakibul Haq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482122234,"creation_date":1482122234,"answer_id":41215820,"question_id":28164121,"body_markdown":"For someone using `PDFBox 2.0.4`, you need to add `debugger-app-2.0.4.jar` in your **Libraries** directory","title":".NoClassDefFoundError when trying to use pdfBox","body":"<p>For someone using <code>PDFBox 2.0.4</code>, you need to add <code>debugger-app-2.0.4.jar</code> in your <strong>Libraries</strong> directory</p>\n"}],"owner":{"account_id":3658842,"reputation":136,"user_id":3049183,"accept_rate":69,"display_name":"user3049183"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12605,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28164213,"answer_count":4,"score":5,"last_activity_date":1659707922,"creation_date":1422338251,"question_id":28164121,"body_markdown":"when I try to use one of the `PDFBox` examples for extracting images, in the run time,it gives me the following exception:\r\n\r\n \r\n\r\n       Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n    \tat org.apache.pdfbox.pdfparser.BaseParser.&lt;clinit&gt;(BaseParser.java:68)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1218)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1186)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1111)\r\n    \tat pdfboxtest.PdfBoxTest.extractImage(PdfBoxTest.java:69)\r\n    \tat pdfboxtest.PdfBoxTest.main(PdfBoxTest.java:53)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:372)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:360)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 6 more\r\n\r\nhere is the part of the code that exception occurs, at the last two lines:\r\n\r\n       \r\n\r\n             String pdfFile = &quot;pdf file path&quot;;\r\n             File pdf=new  File(pdfFile);\r\n             PDDocument document = null;\r\n             document = PDDocument.loadNonSeq(pdf, null, password);\r\n             document = PDDocument.load( pdfFile );\r\n\r\n \r\n\r\n","title":".NoClassDefFoundError when trying to use pdfBox","body":"<p>when I try to use one of the <code>PDFBox</code> examples for extracting images, in the run time,it gives me the following exception:</p>\n\n<pre><code>   Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\n    at org.apache.pdfbox.pdfparser.BaseParser.&lt;clinit&gt;(BaseParser.java:68)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1218)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1186)\n    at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1111)\n    at pdfboxtest.PdfBoxTest.extractImage(PdfBoxTest.java:69)\n    at pdfboxtest.PdfBoxTest.main(PdfBoxTest.java:53)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:372)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:360)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>here is the part of the code that exception occurs, at the last two lines:</p>\n\n<pre><code>         String pdfFile = \"pdf file path\";\n         File pdf=new  File(pdfFile);\n         PDDocument document = null;\n         document = PDDocument.loadNonSeq(pdf, null, password);\n         document = PDDocument.load( pdfFile );\n</code></pre>\n"},{"tags":["java","tomcat","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659707304,"creation_date":1659707304,"answer_id":73250822,"question_id":73250078,"body_markdown":"Tomcat uses different logging mechanism - [JULI][1]. What you want to do, is to add jul-to-slf4j bridge. See https://www.slf4j.org/legacy.html#jul-to-slf4j.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/logging.html","title":"Redirect logging from Tomcat to my file (logback)","body":"<p>Tomcat uses different logging mechanism - <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/logging.html\" rel=\"nofollow noreferrer\">JULI</a>. What you want to do, is to add jul-to-slf4j bridge. See <a href=\"https://www.slf4j.org/legacy.html#jul-to-slf4j\" rel=\"nofollow noreferrer\">https://www.slf4j.org/legacy.html#jul-to-slf4j</a>.</p>\n"},{"tags":[],"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659707766,"creation_date":1659707766,"answer_id":73250919,"question_id":73250078,"body_markdown":"I just found out how silly my question was.\r\n\r\nAnswer is that Tomcat just changes project root location for logging to &amp;CATALINA_HOME&amp;\\bin (in my case C:\\apache-tomcat-8.5.81\\bin). \r\nThe file logging.log was created in that directory and has been correctly logging all this time. Meanwhile I was into a stupor because of empty logging.log in my project directory.\r\n\r\nSolution is just to describe the absolute path for the logging file in logback.xml:\r\n\r\n    &lt;file&gt;C:\\Users\\cognosce\\Desktop\\myproject\\logging.log&lt;/file&gt;","title":"Redirect logging from Tomcat to my file (logback)","body":"<p>I just found out how silly my question was.</p>\n<p>Answer is that Tomcat just changes project root location for logging to &amp;CATALINA_HOME&amp;\\bin (in my case C:\\apache-tomcat-8.5.81\\bin).\nThe file logging.log was created in that directory and has been correctly logging all this time. Meanwhile I was into a stupor because of empty logging.log in my project directory.</p>\n<p>Solution is just to describe the absolute path for the logging file in logback.xml:</p>\n<pre><code>&lt;file&gt;C:\\Users\\cognosce\\Desktop\\myproject\\logging.log&lt;/file&gt;\n</code></pre>\n"}],"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659707766,"creation_date":1659703881,"question_id":73250078,"body_markdown":"I use Tomcat 8 and logback on Windows. I configured my logback.xml this way:\r\n    \r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logging.log&lt;/file&gt;\r\n        &lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\nMy pom.xml if neccessary:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I started app with `public static void main`, everything was logging to my logging.log file in the project properly.\r\nHowever when I started booting my app with `Apache Tomcat 8`, is has embedded logging (example is on the picture):\r\n\r\n[Tomcat embedded logging][1]\r\n\r\n[1]: https://i.stack.imgur.com/f9SYJ.png\r\n\r\nSo my logging.log file keeps empty. How to redirect all the logs back to it?","title":"Redirect logging from Tomcat to my file (logback)","body":"<p>I use Tomcat 8 and logback on Windows. I configured my logback.xml this way:</p>\n<pre><code>&lt;configuration&gt;\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;logging.log&lt;/file&gt;\n    &lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>My pom.xml if neccessary:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.36&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I started app with <code>public static void main</code>, everything was logging to my logging.log file in the project properly.\nHowever when I started booting my app with <code>Apache Tomcat 8</code>, is has embedded logging (example is on the picture):</p>\n<p><a href=\"https://i.stack.imgur.com/f9SYJ.png\" rel=\"nofollow noreferrer\">Tomcat embedded logging</a></p>\n<p>So my logging.log file keeps empty. How to redirect all the logs back to it?</p>\n"},{"tags":["java","android","multithreading","android-studio","progress-bar"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1659711956,"post_id":73250857,"comment_id":129367074,"body_markdown":"Are you supporting SDK level  from 8. First you can use above 21 and search comics should run on background task. It&#39;ll shows properly. Another suggestion Don&#39;t create new adapter fro the every search. Just update the list to your adapter","body":"Are you supporting SDK level  from 8. First you can use above 21 and search comics should run on background task. It&#39;ll shows properly. Another suggestion Don&#39;t create new adapter fro the every search. Just update the list to your adapter"},{"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"score":0,"creation_date":1659730901,"post_id":73250857,"comment_id":129372570,"body_markdown":"@GobuCSG Thanks. I put the search for comics in the background thread, as you wrote, and it worked.","body":"@GobuCSG Thanks. I put the search for comics in the background thread, as you wrote, and it worked."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1659731198,"post_id":73250857,"comment_id":129372665,"body_markdown":"Happy to hear... You are welcome... You should follow basic instructions... All the best for your future &#128049;","body":"Happy to hear... You are welcome... You should follow basic instructions... All the best for your future 🐱"}],"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659707485,"creation_date":1659707485,"question_id":73250857,"body_markdown":"The problem is that the progress bar only starts when the data has been processed. And I want it to run before processing the data, right after pressing the search button. What am I doing wrong?  \r\n\r\nwhole fragment code\r\n```java \r\npackage com.app.comicslibrary.MenuFragments;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.os.StrictMode;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Toast;\r\n\r\nimport com.app.comicslibrary.Jsoup.ParseBookInfo;\r\n\r\nimport com.app.comicslibrary.MainActivity;\r\nimport com.app.comicslibrary.MenuFragments.ListActions.AddPosition;\r\nimport com.app.comicslibrary.MenuFragments.ListActions.ModelCollectView;\r\nimport com.app.comicslibrary.MenuFragments.SearchMenu.SearchListAdapter;\r\nimport com.app.comicslibrary.R;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class SecondFragment extends Fragment {\r\n\r\n    ArrayList&lt;ModelCollectView&gt; listParseComics;\r\n    ArrayList&lt;ModelCollectView&gt; selectedComics;\r\n    SearchListAdapter searchArrayAdapter;\r\n    private ProgressBar loadingBar;\r\n    private Context context;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_second, container, false);\r\n\r\n        EditText searchLine = (EditText) view.findViewById(R.id.searchLine);\r\n        Button searchButton = (Button) view.findViewById(R.id.searchButton);\r\n        ListView searchList = (ListView) view.findViewById(R.id.listViewSearch);\r\n        Button saveSearchButton = (Button) view.findViewById(R.id.buttonSaveSearch);\r\n        loadingBar = (ProgressBar)view.findViewById(R.id.loadingProgressBar);\r\n\r\n        listParseComics = new ArrayList&lt;&gt;();\r\n\r\n        //search and display result list\r\n        searchButton.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.N)\r\n            @Override\r\n            public void  onClick(View v){\r\n                String textSearch = searchLine.getText().toString();\r\n\r\n                if(textSearch.isEmpty() || textSearch.length() &lt;= 3){\r\n                    Toast.makeText(getContext(), &quot;Введите более 3 символов в строку поиска&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                setLoadingProgressBarVisible();\r\n\r\n                ParseBookInfo getInfo = new ParseBookInfo(getContext());\r\n                try{\r\n                    int SDK_INT = android.os.Build.VERSION.SDK_INT;\r\n                    if (SDK_INT &gt; 8)\r\n                    {\r\n                        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\r\n                                .permitAll().build();\r\n                        StrictMode.setThreadPolicy(policy);\r\n\r\n                        listParseComics = getInfo.searchComicsInfo(textSearch, 1);//change numberpage later\r\n                        searchArrayAdapter = new SearchListAdapter(container.getContext(), listParseComics);\r\n                        searchList.setAdapter(searchArrayAdapter);\r\n                    }\r\n                }catch(IOException e){\r\n                    Log.d(&quot;PARSEERROR&quot;, &quot;Search comics is fail&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        //select position and call add menu\r\n        selectedComics = new ArrayList&lt;&gt;();\r\n        saveSearchButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(listParseComics == null || searchArrayAdapter == null){\r\n                    Toast.makeText(getContext(), &quot;Нет данных для добавления&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                boolean []statusItems = searchArrayAdapter.getChecked();\r\n\r\n                Intent intent = new Intent(getActivity(), AddPosition.class);\r\n                for (int i = 0; i &lt; statusItems.length; i++) {\r\n                    if(statusItems[i]){\r\n                        ModelCollectView selectedItem = listParseComics.get(i);\r\n\r\n                        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                        selectedItem.getImage().compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n                        byte[] bytes = stream.toByteArray();\r\n\r\n                        intent.putExtra(&quot;bytesImages&quot; + i, bytes);\r\n                        selectedItem.setImage(null);\r\n                        selectedComics.add(selectedItem);\r\n                    }\r\n                }\r\n                intent.putParcelableArrayListExtra(&quot;selectedItemsInSearch&quot;, selectedComics);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        this.context = context;\r\n    }\r\n\r\n    public void setLoadingProgressBarVisible(){\r\n        ((MainActivity)context).runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;);\r\n                loadingBar.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n    }\r\n}\r\n \r\n```  \r\n------------------------------------------------------------------------\r\nThe text of the log is displayed immediately, but the progress bar does not appear (function **setLoadingProgressBarVisible()**)  ","title":"How can I make the progress bar animation run first after clicking on the &quot;search&quot; button? Android studio","body":"<p>The problem is that the progress bar only starts when the data has been processed. And I want it to run before processing the data, right after pressing the search button. What am I doing wrong?</p>\n<p>whole fragment code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.comicslibrary.MenuFragments;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Build;\nimport android.os.Bundle;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.os.StrictMode;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport com.app.comicslibrary.Jsoup.ParseBookInfo;\n\nimport com.app.comicslibrary.MainActivity;\nimport com.app.comicslibrary.MenuFragments.ListActions.AddPosition;\nimport com.app.comicslibrary.MenuFragments.ListActions.ModelCollectView;\nimport com.app.comicslibrary.MenuFragments.SearchMenu.SearchListAdapter;\nimport com.app.comicslibrary.R;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\n\npublic class SecondFragment extends Fragment {\n\n    ArrayList&lt;ModelCollectView&gt; listParseComics;\n    ArrayList&lt;ModelCollectView&gt; selectedComics;\n    SearchListAdapter searchArrayAdapter;\n    private ProgressBar loadingBar;\n    private Context context;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_second, container, false);\n\n        EditText searchLine = (EditText) view.findViewById(R.id.searchLine);\n        Button searchButton = (Button) view.findViewById(R.id.searchButton);\n        ListView searchList = (ListView) view.findViewById(R.id.listViewSearch);\n        Button saveSearchButton = (Button) view.findViewById(R.id.buttonSaveSearch);\n        loadingBar = (ProgressBar)view.findViewById(R.id.loadingProgressBar);\n\n        listParseComics = new ArrayList&lt;&gt;();\n\n        //search and display result list\n        searchButton.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            @Override\n            public void  onClick(View v){\n                String textSearch = searchLine.getText().toString();\n\n                if(textSearch.isEmpty() || textSearch.length() &lt;= 3){\n                    Toast.makeText(getContext(), &quot;Введите более 3 символов в строку поиска&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                setLoadingProgressBarVisible();\n\n                ParseBookInfo getInfo = new ParseBookInfo(getContext());\n                try{\n                    int SDK_INT = android.os.Build.VERSION.SDK_INT;\n                    if (SDK_INT &gt; 8)\n                    {\n                        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\n                                .permitAll().build();\n                        StrictMode.setThreadPolicy(policy);\n\n                        listParseComics = getInfo.searchComicsInfo(textSearch, 1);//change numberpage later\n                        searchArrayAdapter = new SearchListAdapter(container.getContext(), listParseComics);\n                        searchList.setAdapter(searchArrayAdapter);\n                    }\n                }catch(IOException e){\n                    Log.d(&quot;PARSEERROR&quot;, &quot;Search comics is fail&quot;);\n                }\n            }\n        });\n\n        //select position and call add menu\n        selectedComics = new ArrayList&lt;&gt;();\n        saveSearchButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(listParseComics == null || searchArrayAdapter == null){\n                    Toast.makeText(getContext(), &quot;Нет данных для добавления&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                boolean []statusItems = searchArrayAdapter.getChecked();\n\n                Intent intent = new Intent(getActivity(), AddPosition.class);\n                for (int i = 0; i &lt; statusItems.length; i++) {\n                    if(statusItems[i]){\n                        ModelCollectView selectedItem = listParseComics.get(i);\n\n                        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n                        selectedItem.getImage().compress(Bitmap.CompressFormat.PNG, 100, stream);\n                        byte[] bytes = stream.toByteArray();\n\n                        intent.putExtra(&quot;bytesImages&quot; + i, bytes);\n                        selectedItem.setImage(null);\n                        selectedComics.add(selectedItem);\n                    }\n                }\n                intent.putParcelableArrayListExtra(&quot;selectedItemsInSearch&quot;, selectedComics);\n                startActivity(intent);\n\n            }\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        this.context = context;\n    }\n\n    public void setLoadingProgressBarVisible(){\n        ((MainActivity)context).runOnUiThread(new Runnable() {\n            public void run() {\n                Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;);\n                loadingBar.setVisibility(View.VISIBLE);\n            }\n        });\n    }\n}\n \n</code></pre>\n<hr />\n<p>The text of the log is displayed immediately, but the progress bar does not appear (function <strong>setLoadingProgressBarVisible()</strong>)</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":25987346,"reputation":1,"user_id":19700121,"display_name":"Ficus77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659707263,"creation_date":1659707263,"answer_id":73250819,"question_id":73245894,"body_markdown":"Id is required(is set to required in your code), therefore you receive bad request (400) before even accessing function.\r\nTry to set required = false on id then to manage response status.\r\nBy the way &#39;required = true&#39; is set by default, so you do not need to write it.","title":"Spring Webflux/Reactive in netty webserver returns 400 instead of 404 for missing path PARAM","body":"<p>Id is required(is set to required in your code), therefore you receive bad request (400) before even accessing function.\nTry to set required = false on id then to manage response status.\nBy the way 'required = true' is set by default, so you do not need to write it.</p>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659707263,"creation_date":1659683052,"question_id":73245894,"body_markdown":"I am using spring boot 2.6.6 and Spring Webflux 5.3.18 jar for handling my rest services in Reactive approach on Nettey server. \r\n\r\nwhile validating the rest end point {{baseUrl}}/person/id,I am passing null/empty for path param &quot;id&quot;\r\n\r\n    {{baseUrl}}/person/\r\n\r\nand expecting 404 but I am getting 400. the code not even reaching to GlobalExceptionHandler? Do i need to any additional logic using Filter to Handle the  400 and propagate to GlobalExceptionHandler? how to handle this?\r\n\r\n**Interface:**\r\n\r\n    Mono&lt;ResponseEntity&lt;Person&gt;&gt; getPerson(\r\n            @Parameter(name = &quot;id&quot;, description = &quot;The Person identifier.&quot;, required = true) @PathVariable(&quot;id&quot;) String id,\r\n            @Parameter(hidden = true) final ServerWebExchange exchange\r\n        );\r\n\r\n**ExceptionHandler:**\r\n   \r\n\r\n     @Slf4j\r\n        @Component\r\n        public class GlobalExceptionHandler implements ErrorWebExceptionHandler {\r\n    \r\n    \r\n      @Override\r\n      public Mono&lt;Void&gt; handle(ServerWebExchange exchange, Throwable ex) {\r\n        if (ex instanceof WebClientResponseException &amp;&amp; ((WebClientResponseException)ex).getStatusCode() == HttpStatus.NOT_FOUND){\r\n                exchange.getResponse().setStatusCode(HttpStatus.NOT_FOUND);\r\n                return writeErrorResponse(exchange, &quot;NOT_FOUND&quot;);\r\n            }\r\n    \r\n        exchange.getResponse().setStatusCode(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            return writeErrorResponse(exchange, &quot;INTERNAL_SERVER_ERROR&quot;);\r\n      }\r\n    \r\n    private Mono&lt;Void&gt; writeErrorResponse(ServerWebExchange exchange,String errorMessage) {\r\n            DataBufferFactory bufferFactory = exchange.getResponse().bufferFactory();\r\n            return exchange.getResponse().writeWith(Mono.just(bufferFactory.wrap(errorMessage.getBytes())));\r\n        }\r\n    }","title":"Spring Webflux/Reactive in netty webserver returns 400 instead of 404 for missing path PARAM","body":"<p>I am using spring boot 2.6.6 and Spring Webflux 5.3.18 jar for handling my rest services in Reactive approach on Nettey server.</p>\n<p>while validating the rest end point {{baseUrl}}/person/id,I am passing null/empty for path param &quot;id&quot;</p>\n<pre><code>{{baseUrl}}/person/\n</code></pre>\n<p>and expecting 404 but I am getting 400. the code not even reaching to GlobalExceptionHandler? Do i need to any additional logic using Filter to Handle the  400 and propagate to GlobalExceptionHandler? how to handle this?</p>\n<p><strong>Interface:</strong></p>\n<pre><code>Mono&lt;ResponseEntity&lt;Person&gt;&gt; getPerson(\n        @Parameter(name = &quot;id&quot;, description = &quot;The Person identifier.&quot;, required = true) @PathVariable(&quot;id&quot;) String id,\n        @Parameter(hidden = true) final ServerWebExchange exchange\n    );\n</code></pre>\n<p><strong>ExceptionHandler:</strong></p>\n<pre><code> @Slf4j\n    @Component\n    public class GlobalExceptionHandler implements ErrorWebExceptionHandler {\n\n\n  @Override\n  public Mono&lt;Void&gt; handle(ServerWebExchange exchange, Throwable ex) {\n    if (ex instanceof WebClientResponseException &amp;&amp; ((WebClientResponseException)ex).getStatusCode() == HttpStatus.NOT_FOUND){\n            exchange.getResponse().setStatusCode(HttpStatus.NOT_FOUND);\n            return writeErrorResponse(exchange, &quot;NOT_FOUND&quot;);\n        }\n\n    exchange.getResponse().setStatusCode(HttpStatus.INTERNAL_SERVER_ERROR);\n        return writeErrorResponse(exchange, &quot;INTERNAL_SERVER_ERROR&quot;);\n  }\n\nprivate Mono&lt;Void&gt; writeErrorResponse(ServerWebExchange exchange,String errorMessage) {\n        DataBufferFactory bufferFactory = exchange.getResponse().bufferFactory();\n        return exchange.getResponse().writeWith(Mono.just(bufferFactory.wrap(errorMessage.getBytes())));\n    }\n}\n</code></pre>\n"},{"tags":["java","double","tableview"],"comments":[{"owner":{"account_id":6191004,"reputation":535,"user_id":4823714,"accept_rate":50,"display_name":"JohannisK"},"score":1,"creation_date":1431345001,"post_id":30166895,"comment_id":48440058,"body_markdown":"Duplicate: http://stackoverflow.com/questions/5945867/how-to-round-the-double-value-to-2-decimal-points","body":"Duplicate: <a href=\"http://stackoverflow.com/questions/5945867/how-to-round-the-double-value-to-2-decimal-points\" title=\"how to round the double value to 2 decimal points\">stackoverflow.com/questions/5945867/&hellip;</a>"},{"owner":{"account_id":6191004,"reputation":535,"user_id":4823714,"accept_rate":50,"display_name":"JohannisK"},"score":1,"creation_date":1431345049,"post_id":30166895,"comment_id":48440094,"body_markdown":"FYI, first hit when googleing round double 2 decimal places java","body":"FYI, first hit when googleing round double 2 decimal places java"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1431346704,"post_id":30166895,"comment_id":48441140,"body_markdown":"Why double rather than BigDecimal?","body":"Why double rather than BigDecimal?"}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431346641,"creation_date":1431345053,"answer_id":30166943,"question_id":30166895,"body_markdown":"You can use DecimalFormat\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#.00&quot;); \r\n\r\n`00` = **exactly two decimal places.**\r\n\r\nBut this will give to you a `String` that you can convert again to a `double`, if you don&#39;t want to have this `String-conversion` [check this question][1] to see how it can be achieved using `BigDecimal`. \r\n\r\nIMHO, if this is not for learning pourposes `DecimalFormat` will be enough for you. True, you will have to use `String` in some moment of the conversion, but **you will only read and store `double` values** and your sorting will be the correct...\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15643280/rounding-bigdecimal-to-always-have-two-decimal-places","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>You can use DecimalFormat</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"#.00\"); \n</code></pre>\n\n<p><code>00</code> = <strong>exactly two decimal places.</strong></p>\n\n<p>But this will give to you a <code>String</code> that you can convert again to a <code>double</code>, if you don't want to have this <code>String-conversion</code> <a href=\"https://stackoverflow.com/questions/15643280/rounding-bigdecimal-to-always-have-two-decimal-places\">check this question</a> to see how it can be achieved using <code>BigDecimal</code>. </p>\n\n<p>IMHO, if this is not for learning pourposes <code>DecimalFormat</code> will be enough for you. True, you will have to use <code>String</code> in some moment of the conversion, but <strong>you will only read and store <code>double</code> values</strong> and your sorting will be the correct...</p>\n"},{"tags":[],"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431346163,"creation_date":1431345228,"answer_id":30167016,"question_id":30166895,"body_markdown":"You can use `DecimalFormat`, Just set format in `DecimalFormat`&#39;s constructor as your required 2dp so:\r\n\r\n    double d = 1.234567;\r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    System.out.print(df.format(d));\r\n\r\noutput:\r\n\r\n    1.23\r\n\r\nthis code will round the decimal upto to decimal places However it&#39;s result will be not upto 2 decimal if value it self is not minimum 2 decimal places. e.g.\r\n\r\n        double d = 1.2;\r\n        DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n        System.out.print(df.format(d));\r\n\r\noutput: \r\n\r\n    1.2\r\n\r\nas Thisaru Guruge said and Jordi Castilla answer you can use like: \r\n\r\n   \r\n\r\n     double d = 1.2;\r\n        DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n        System.out.print(df.format(d));\r\n\r\noutput:\r\n\r\n    1.20","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>You can use <code>DecimalFormat</code>, Just set format in <code>DecimalFormat</code>'s constructor as your required 2dp so:</p>\n\n<pre><code>double d = 1.234567;\nDecimalFormat df = new DecimalFormat(\"#.##\");\nSystem.out.print(df.format(d));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1.23\n</code></pre>\n\n<p>this code will round the decimal upto to decimal places However it's result will be not upto 2 decimal if value it self is not minimum 2 decimal places. e.g.</p>\n\n<pre><code>    double d = 1.2;\n    DecimalFormat df = new DecimalFormat(\"#.##\");\n    System.out.print(df.format(d));\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>1.2\n</code></pre>\n\n<p>as Thisaru Guruge said and Jordi Castilla answer you can use like: </p>\n\n<pre><code> double d = 1.2;\n    DecimalFormat df = new DecimalFormat(\"#.00\");\n    System.out.print(df.format(d));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1.20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431346956,"creation_date":1431346635,"answer_id":30167406,"question_id":30166895,"body_markdown":"You can try [BigDecimal][1], or you can simply create your own object that implements the [Comparable][2] interface for sorting and has a `toString()` method that outputs the value formatted to two decimal places.\r\n\r\n\r\n    class TableValue implements Comparable&lt;TableValue&gt; {\r\n\r\n        double value;\r\n\r\n        public TableValue(double value) {\r\n            this.value = value;\r\n\r\n        }\r\n\r\n        public int compareTo(TableValue o) {\r\n            return Double.compare(this.value, o.value);\r\n        }\r\n\r\n\r\n        public String toString() {\r\n            DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n            return df.format(value);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>You can try <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\">BigDecimal</a>, or you can simply create your own object that implements the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">Comparable</a> interface for sorting and has a <code>toString()</code> method that outputs the value formatted to two decimal places.</p>\n\n<pre><code>class TableValue implements Comparable&lt;TableValue&gt; {\n\n    double value;\n\n    public TableValue(double value) {\n        this.value = value;\n\n    }\n\n    public int compareTo(TableValue o) {\n        return Double.compare(this.value, o.value);\n    }\n\n\n    public String toString() {\n        DecimalFormat df = new DecimalFormat(\"0.00\");\n        return df.format(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431348107,"creation_date":1431348107,"answer_id":30167940,"question_id":30166895,"body_markdown":"Doubles are imprecise, BigDecimal has an extra attribute: its precision.\r\n\r\nSo `new BigDecimal(&quot;5.20&quot;)` would have a precision of 2, whereas double 5.20 * 10000 probably sufficiently deviates from 52000.0.\r\n\r\nMind the avoidable `new BigDecimal(5.20)` neither knows a precision, neither is precise.\r\n\r\nBigDecimal unfortunately has a COBOListic usage.","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>Doubles are imprecise, BigDecimal has an extra attribute: its precision.</p>\n\n<p>So <code>new BigDecimal(\"5.20\")</code> would have a precision of 2, whereas double 5.20 * 10000 probably sufficiently deviates from 52000.0.</p>\n\n<p>Mind the avoidable <code>new BigDecimal(5.20)</code> neither knows a precision, neither is precise.</p>\n\n<p>BigDecimal unfortunately has a COBOListic usage.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431370324,"creation_date":1431368408,"answer_id":30174878,"question_id":30166895,"body_markdown":"This answer expands on the suggestion to use java.math.BigDecimal rather than double. \r\n\r\nIt is better for this application than double because every two decimal place number is exactly representable in BigDecimal. The rounding from an arbitrary double-representable value down to two decimal places can be easily done according to any of several rounding modes, including the one used for double arithmetic. \r\n\r\nOn the other hand, it is better than String because the natural sort order is numeric value.\r\n\r\nHere is a short demo program illustrating these points:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n      public static void main(String[] args) throws Throwable {\r\n        List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;();\r\n        double[] in = {\r\n            3.5,\r\n            Math.PI,\r\n            -100.123456,\r\n            1e6\r\n        };\r\n        System.out.println(&quot;Original doubles: &quot;+Arrays.toString(in));\r\n        for(double d : in){\r\n          list.add(doubleToBigDecimal(d,1));\r\n        }\r\n        System.out.println(&quot;Before sorting: &quot; + list);\r\n        Collections.sort(list);\r\n        System.out.println(&quot;After sorting: &quot; + list);\r\n      }\r\n    \r\n      public static BigDecimal doubleToBigDecimal(double in, int places) {\r\n        BigDecimal result = new BigDecimal(in).setScale(2,\r\n            BigDecimal.ROUND_HALF_EVEN);\r\n        return result;\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    Original doubles: [3.5, 3.141592653589793, -100.123456, 1000000.0]\r\n    Before sorting: [3.50, 3.14, -100.12, 1000000.00]\r\n    After sorting: [-100.12, 3.14, 3.50, 1000000.00]\r\n\r\n","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>This answer expands on the suggestion to use java.math.BigDecimal rather than double. </p>\n\n<p>It is better for this application than double because every two decimal place number is exactly representable in BigDecimal. The rounding from an arbitrary double-representable value down to two decimal places can be easily done according to any of several rounding modes, including the one used for double arithmetic. </p>\n\n<p>On the other hand, it is better than String because the natural sort order is numeric value.</p>\n\n<p>Here is a short demo program illustrating these points:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Test {\n  public static void main(String[] args) throws Throwable {\n    List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;();\n    double[] in = {\n        3.5,\n        Math.PI,\n        -100.123456,\n        1e6\n    };\n    System.out.println(\"Original doubles: \"+Arrays.toString(in));\n    for(double d : in){\n      list.add(doubleToBigDecimal(d,1));\n    }\n    System.out.println(\"Before sorting: \" + list);\n    Collections.sort(list);\n    System.out.println(\"After sorting: \" + list);\n  }\n\n  public static BigDecimal doubleToBigDecimal(double in, int places) {\n    BigDecimal result = new BigDecimal(in).setScale(2,\n        BigDecimal.ROUND_HALF_EVEN);\n    return result;\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Original doubles: [3.5, 3.141592653589793, -100.123456, 1000000.0]\nBefore sorting: [3.50, 3.14, -100.12, 1000000.00]\nAfter sorting: [-100.12, 3.14, 3.50, 1000000.00]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659706804,"creation_date":1659706804,"answer_id":73250724,"question_id":30166895,"body_markdown":"You can use `DecimalFormat` class upto how much precision point you want you can set in class constructor suppose you want 2 precision you can set like\r\n\r\n  \r\n\r\n    Double total= 12.15356789;\r\n    DecimalFormat df = new DecimalFormat(&quot;##.00&quot;);\r\n\r\nFormat the value using format method\r\n   \r\n\r\n     String dx = df.format(total);\r\nThis will return String value of your Double value if you want Double with formatted 2 precision then use below line of code\r\n\r\n    Double totalVal = Double.valueOf(df.format(total));\r\n\r\nThis will return you Double value with 2 precision output would be like `12.15`\r\n\r\n","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>You can use <code>DecimalFormat</code> class upto how much precision point you want you can set in class constructor suppose you want 2 precision you can set like</p>\n<pre><code>Double total= 12.15356789;\nDecimalFormat df = new DecimalFormat(&quot;##.00&quot;);\n</code></pre>\n<p>Format the value using format method</p>\n<pre><code> String dx = df.format(total);\n</code></pre>\n<p>This will return String value of your Double value if you want Double with formatted 2 precision then use below line of code</p>\n<pre><code>Double totalVal = Double.valueOf(df.format(total));\n</code></pre>\n<p>This will return you Double value with 2 precision output would be like <code>12.15</code></p>\n"}],"owner":{"account_id":4703226,"reputation":225,"user_id":3806226,"accept_rate":62,"display_name":"user3806226"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1659706804,"creation_date":1431344896,"question_id":30166895,"body_markdown":"I&#39;m working on a project which requires me to have double values at exactly 2 decimal place. Using some math, I currently have most numbers rounded correctly, except if there are trailing zeros. I want to keep these 0&#39;s for results like **0.00 in particular**   This list is displayed in a **TableView**, so therefore must be sortable numerically.  I&#39;d like the double values to actually be doubles so that it may properly sort.  \r\n\r\nIs there any way I can keep 2 decimal places without String.format?\r\n\r\nThank you in advance.","title":"Fomat Double to 2 Decimal Places WITHOUT Using a String","body":"<p>I'm working on a project which requires me to have double values at exactly 2 decimal place. Using some math, I currently have most numbers rounded correctly, except if there are trailing zeros. I want to keep these 0's for results like <strong>0.00 in particular</strong>   This list is displayed in a <strong>TableView</strong>, so therefore must be sortable numerically.  I'd like the double values to actually be doubles so that it may properly sort.  </p>\n\n<p>Is there any way I can keep 2 decimal places without String.format?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1509984504,"post_id":47141090,"comment_id":81231962,"body_markdown":"In a method signature, the parameters have a type and a name, replace `(jailtime[])` with `(int[] jailtime)` for instance","body":"In a method signature, the parameters have a type and a name, replace <code>(jailtime[])</code> with <code>(int[] jailtime)</code> for instance"},{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":0,"creation_date":1509984515,"post_id":47141090,"comment_id":81231966,"body_markdown":"You have to specify what `jailtime` is here `public static void decisionMaker( jailtime[])`. Change to `public static void decisionMaker(int[] jailtime)`","body":"You have to specify what <code>jailtime</code> is here <code>public static void decisionMaker( jailtime[])</code>. Change to <code>public static void decisionMaker(int[] jailtime)</code>"}],"answers":[{"tags":[],"owner":{"account_id":9740112,"reputation":422,"user_id":7222019,"accept_rate":100,"display_name":"Joachim Huet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659706554,"creation_date":1509984673,"answer_id":47141181,"question_id":47141090,"body_markdown":"Check how a function should be defined in Java [here][1]. \r\n\r\nAnd check your method&#39;s signature again.\r\nYou should read some basics tutorials, it is fast and useful\r\n\r\n    public static void myFunction (Object myObj) {}\r\n\r\nOr in your specific case \r\n\r\n    public static void decisionMaker (int[] jailtime) { ... }\r\n\r\nAnd NB that the modified values of the passed array in the method will also change for your array in `main`.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html","title":"Passing an int array to a method","body":"<p>Check how a function should be defined in Java <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And check your method's signature again.\nYou should read some basics tutorials, it is fast and useful</p>\n<pre><code>public static void myFunction (Object myObj) {}\n</code></pre>\n<p>Or in your specific case</p>\n<pre><code>public static void decisionMaker (int[] jailtime) { ... }\n</code></pre>\n<p>And NB that the modified values of the passed array in the method will also change for your array in <code>main</code>.</p>\n"},{"tags":[],"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509984706,"creation_date":1509984706,"answer_id":47141185,"question_id":47141090,"body_markdown":"Java arrays like their non-array counterparts need a type definition. \r\n\r\nchange\r\n\r\n    public static void decisionMaker( jailtime[])\r\n\r\nto\r\n\r\n    public static void decisionMaker(int[] jailtime)","title":"Passing an int array to a method","body":"<p>Java arrays like their non-array counterparts need a type definition. </p>\n\n<p>change</p>\n\n<pre><code>public static void decisionMaker( jailtime[])\n</code></pre>\n\n<p>to</p>\n\n<pre><code>public static void decisionMaker(int[] jailtime)\n</code></pre>\n"}],"owner":{"account_id":12185056,"reputation":29,"user_id":8895213,"display_name":"Brady"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1659706554,"creation_date":1509984354,"question_id":47141090,"body_markdown":"I am trying to **pass the values of an array to my second method** instead of using switch statements but I do not know what I am doing wrong. It keeps telling me that an identifier is expected but I didn&#39;t think I had to declare the variables again if I am passing them from one method to the other.\r\n\r\n    public static int infoObtainer()\r\n    { \r\n        int g1, g2, ng1, ng2;\r\n        String sgg, sgng, sngg, sngng;\r\n        sgg=JOptionPane.showInputDialog(&quot;Enter number of years if you both plead guilty: &quot;);\r\n        g1=Integer.parseInt(sgg);\r\n        sgng=JOptionPane.showInputDialog(&quot;Enter number of years if you plead guilty and he pleads innocent: &quot;);\r\n        g2=Integer.parseInt(sgng);\r\n        sngg=JOptionPane.showInputDialog(&quot;Enter number of years if you plead innocent and he pleads guilty: &quot;);\r\n        ng1=Integer.parseInt(sngg); \r\n        sngng=JOptionPane.showInputDialog(&quot;Enter numner of years if you both plead innocent: &quot;);\r\n        ng2=Integer.parseInt(sngng);\r\n        \r\n        int[] jailtime = {g1,g2,ng1,ng2}; \r\n        \r\n        return jailtime;\r\n    }\r\n\r\n    public static void decisionMaker(jailtime[])\r\n    {\r\n        if (g1&lt;=ng1)\r\n        {\r\n            if (g2&lt;=ng2)\r\n            {\r\n                if (g1&lt;=g2)\r\n                {\r\n                    Sytem.out.println(&quot; Plead Guilty&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Plead Gulity&quot;);\r\n                }\r\n            }\r\n            else\r\n                if (g1&lt;=ng2)\r\n                {\r\n                    System.out.println(&quot;Can&#39;t help&quot;);\r\n                }\r\n        }\r\n        else\r\n        {\r\n            if (g2&lt;=ng2)\r\n            {\r\n                if (ng1&lt;=g2)\r\n                {\r\n                    System.out.println(&quot;Can&#39;t help&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Plead Guilty&quot;);\r\n                }\r\n            }\r\n            else\r\n                if (ng1&lt;=ng2)\r\n                {\r\n                    System.out.println(&quot;Can&#39;t help&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Plead Guilty&quot;);\r\n                }\r\n        }\r\n    }","title":"Passing an int array to a method","body":"<p>I am trying to <strong>pass the values of an array to my second method</strong> instead of using switch statements but I do not know what I am doing wrong. It keeps telling me that an identifier is expected but I didn't think I had to declare the variables again if I am passing them from one method to the other.</p>\n\n<pre><code>public static int infoObtainer()\n{ \n    int g1, g2, ng1, ng2;\n    String sgg, sgng, sngg, sngng;\n    sgg=JOptionPane.showInputDialog(\"Enter number of years if you both plead guilty: \");\n    g1=Integer.parseInt(sgg);\n    sgng=JOptionPane.showInputDialog(\"Enter number of years if you plead guilty and he pleads innocent: \");\n    g2=Integer.parseInt(sgng);\n    sngg=JOptionPane.showInputDialog(\"Enter number of years if you plead innocent and he pleads guilty: \");\n    ng1=Integer.parseInt(sngg); \n    sngng=JOptionPane.showInputDialog(\"Enter numner of years if you both plead innocent: \");\n    ng2=Integer.parseInt(sngng);\n\n    int[] jailtime = {g1,g2,ng1,ng2}; \n\n    return jailtime;\n}\n\npublic static void decisionMaker(jailtime[])\n{\n    if (g1&lt;=ng1)\n    {\n        if (g2&lt;=ng2)\n        {\n            if (g1&lt;=g2)\n            {\n                Sytem.out.println(\" Plead Guilty\");\n            }\n            else\n            {\n                System.out.println(\"Plead Gulity\");\n            }\n        }\n        else\n            if (g1&lt;=ng2)\n            {\n                System.out.println(\"Can't help\");\n            }\n    }\n    else\n    {\n        if (g2&lt;=ng2)\n        {\n            if (ng1&lt;=g2)\n            {\n                System.out.println(\"Can't help\");\n            }\n            else\n            {\n                System.out.println(\"Plead Guilty\");\n            }\n        }\n        else\n            if (ng1&lt;=ng2)\n            {\n                System.out.println(\"Can't help\");\n            }\n            else\n            {\n                System.out.println(\"Plead Guilty\");\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jtable"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1305041861,"creation_date":1305041861,"answer_id":5952652,"question_id":5952544,"body_markdown":"I would just use a tooltip. \r\n\r\nYou can override the getToolTipText(() method of JTable to do this.\r\n\r\n    JTable table = new JTable(...)\r\n    {\r\n    \tpublic String getToolTipText( MouseEvent e )\r\n    \t{\r\n    \t\tint row = rowAtPoint( e.getPoint() );\r\n    \t\tint column = columnAtPoint( e.getPoint() );\r\n    \r\n    \t\tObject value = getValueAt(row, column);\r\n    \t\treturn value == null ? null : value.toString();\r\n    \t}\r\n    };\r\n\r\nOr if its only for certain columns you can use the renderer to set the tooltip text. See [Specifying Tool Tips for Cells][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/table.html#celltooltip","title":"JTable Cells - Handling Long Text","body":"<p>I would just use a tooltip. </p>\n\n<p>You can override the getToolTipText(() method of JTable to do this.</p>\n\n<pre><code>JTable table = new JTable(...)\n{\n    public String getToolTipText( MouseEvent e )\n    {\n        int row = rowAtPoint( e.getPoint() );\n        int column = columnAtPoint( e.getPoint() );\n\n        Object value = getValueAt(row, column);\n        return value == null ? null : value.toString();\n    }\n};\n</code></pre>\n\n<p>Or if its only for certain columns you can use the renderer to set the tooltip text. See <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/table.html#celltooltip\">Specifying Tool Tips for Cells</a>.</p>\n"},{"tags":[],"owner":{"account_id":543288,"reputation":120,"user_id":912383,"display_name":"Ioannis Soultatos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1314284136,"creation_date":1314284136,"answer_id":7192569,"question_id":5952544,"body_markdown":"It took me a while to find out how to display the tooltip on Netbeans but your answer helped so much.\r\nhere it is implemented on netbeans GUI Builder...\r\nright click on your Jtable-&gt;customize code.\r\nchoose &quot;custom creation&quot; where the new &quot;javax.swing.JTable();&quot; code is and before the semi colon ; add the code of the answer below... looks like this:\r\n\r\n    YourTable = new javax.swing.JTable(){\r\n        //add tooltip to display the full cell text when not displayed\r\n        public String getToolTipText( MouseEvent e )\r\n        {\r\n            int row = rowAtPoint( e.getPoint() );\r\n            int column = columnAtPoint( e.getPoint() );\r\n    \r\n            Object value = getValueAt(row, column);\r\n            return value == null ? null : value.toString();\r\n        }\r\n    }\r\n    ;","title":"JTable Cells - Handling Long Text","body":"<p>It took me a while to find out how to display the tooltip on Netbeans but your answer helped so much.\nhere it is implemented on netbeans GUI Builder...\nright click on your Jtable->customize code.\nchoose \"custom creation\" where the new \"javax.swing.JTable();\" code is and before the semi colon ; add the code of the answer below... looks like this:</p>\n\n<pre><code>YourTable = new javax.swing.JTable(){\n    //add tooltip to display the full cell text when not displayed\n    public String getToolTipText( MouseEvent e )\n    {\n        int row = rowAtPoint( e.getPoint() );\n        int column = columnAtPoint( e.getPoint() );\n\n        Object value = getValueAt(row, column);\n        return value == null ? null : value.toString();\n    }\n}\n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25987234,"reputation":1,"user_id":19700028,"display_name":"mzagorski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659706413,"creation_date":1659705878,"answer_id":73250527,"question_id":5952544,"body_markdown":"Adding a mouse motion listener to your JTable, getting the value of where the mouse is at, then adding the long value to a tooltip is an efficient way to easily see the longer table cell value when the mouse is hovered over that row:\r\n\r\n    \tJTable yourTable = new JTable(&lt;the data&gt;, &lt;the fields&gt;);\r\n    \r\n        // Add a mouse motion listener to your JTable\r\n\t\tyourTable.addMouseMotionListener(new MouseMotionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseMoved(MouseEvent e) {\r\n\r\n                // Set the tooltip to an empty string\r\n                yourTable.setToolTipText(&quot;&quot;);\r\n\r\n                // Get the table cell value where the mouse is located\r\n\t\t\t\tString value = (String) yourTable.getValueAt(yourTable.rowAtPoint(e.getPoint()),\r\n\t\t\t\t\t\tyourTable.columnAtPoint(e.getPoint()));\r\n\r\n                // If the length of the value is greater than some number... \r\n\t\t\t\tif (value.length() &gt; 50) {\r\n\r\n                    // add a tooltip to the JTable that shows the value\r\n\t\t\t\t\tyourTable.setToolTipText(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nSee result here: https://i.stack.imgur.com/3LHyc.png","title":"JTable Cells - Handling Long Text","body":"<p>Adding a mouse motion listener to your JTable, getting the value of where the mouse is at, then adding the long value to a tooltip is an efficient way to easily see the longer table cell value when the mouse is hovered over that row:</p>\n<pre><code>    JTable yourTable = new JTable(&lt;the data&gt;, &lt;the fields&gt;);\n\n    // Add a mouse motion listener to your JTable\n    yourTable.addMouseMotionListener(new MouseMotionListener() {\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            // do nothing\n        }\n\n        @Override\n        public void mouseMoved(MouseEvent e) {\n\n            // Set the tooltip to an empty string\n            yourTable.setToolTipText(&quot;&quot;);\n\n            // Get the table cell value where the mouse is located\n            String value = (String) yourTable.getValueAt(yourTable.rowAtPoint(e.getPoint()),\n                    yourTable.columnAtPoint(e.getPoint()));\n\n            // If the length of the value is greater than some number... \n            if (value.length() &gt; 50) {\n\n                // add a tooltip to the JTable that shows the value\n                yourTable.setToolTipText(value);\n            }\n        }\n    });\n</code></pre>\n<p>See result here: <a href=\"https://i.stack.imgur.com/3LHyc.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3LHyc.png</a></p>\n"}],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5952652,"answer_count":3,"score":2,"last_activity_date":1659706413,"creation_date":1305041422,"question_id":5952544,"body_markdown":"I have a JTable where one column occasionally has a fair amount of text in it. There are algorithms that we&#39;re using to expand the height of each row to the tallest cell. The problem is for long text cells we get &quot;fat&quot; rows. \r\n\r\nIt looks something like this:\r\n\r\n&lt;pre&gt;\r\n=============================\r\n| Col1 | Col2 | This is some|\r\n|      |      | very long   |\r\n|      |      | text!       |\r\n=============================\r\n&lt;/pre&gt;\r\n\r\nI&#39;ve considered a couple solutions:\r\n\r\n* Clipping the text and adding a mouse listener to &quot;expand&quot; the clipped text\r\n* Clipping the text and adding a tooltip or dialog to show the extra contents\r\n\r\nDoes anyone know of any libraries that fix this? I&#39;m open to using some other technique...I&#39;m not convinced my solution is the best.\r\n\r\nThanks in advance!\r\n\r\n","title":"JTable Cells - Handling Long Text","body":"<p>I have a JTable where one column occasionally has a fair amount of text in it. There are algorithms that we're using to expand the height of each row to the tallest cell. The problem is for long text cells we get \"fat\" rows. </p>\n\n<p>It looks something like this:</p>\n\n<pre>\n=============================\n| Col1 | Col2 | This is some|\n|      |      | very long   |\n|      |      | text!       |\n=============================\n</pre>\n\n<p>I've considered a couple solutions:</p>\n\n<ul>\n<li>Clipping the text and adding a mouse listener to \"expand\" the clipped text</li>\n<li>Clipping the text and adding a tooltip or dialog to show the extra contents</li>\n</ul>\n\n<p>Does anyone know of any libraries that fix this? I'm open to using some other technique...I'm not convinced my solution is the best.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1627314457,"post_id":68532846,"comment_id":121117355,"body_markdown":"What have you tried, and in what way(s) is it insufficient?","body":"What have you tried, and in what way(s) is it insufficient?"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627314695,"creation_date":1627314695,"answer_id":68532938,"question_id":68532846,"body_markdown":"You can iterate `AdmissionData` map using `forEach` and the. update `StudentData` map using [computeIfPresent][1]\r\n\r\n    admissionData.forEach((key,value) -&gt; {\r\n       studentData.computeIfPresent(key,(existingKey,existingValue) -&gt; /*logic */);\r\n\r\n    });\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-","title":"Updating values in a map from another map","body":"<p>You can iterate <code>AdmissionData</code> map using <code>forEach</code> and the. update <code>StudentData</code> map using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">computeIfPresent</a></p>\n<pre><code>admissionData.forEach((key,value) -&gt; {\n   studentData.computeIfPresent(key,(existingKey,existingValue) -&gt; /*logic */);\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627398775,"creation_date":1627398775,"answer_id":68547475,"question_id":68532846,"body_markdown":"### Your question as I understood\r\n * you have a map *admissionMap* with entries: `String` (student-id) mapped to `AdmissionData` object\r\n * you have another map *masterMap* with entries: `String` (student-id) mapped to `StudentData` object\r\n * you want to update the objects on map *masterMap* (the target) with some properties of correlated (by student-id) objects from map *admissionMap* (the source)\r\n\r\nHow to do this?\r\n\r\n### Given\r\nThese maps with some values, where the keys are correlated (*student-id*) and can match.\r\n```java\r\nMap&lt;String, AdmissionData&gt; admissionMap;\r\nMap&lt;String, StudentData&gt; masterMap;\r\n```\r\n\r\nThe `AdmissionData` class has some properties \r\n```java\r\npublic class AdmissionData {\r\n    String joinDate;\r\n    String sequenceID;\r\n    String standard\r\n\r\n    // getter and setter omitted\r\n}\r\n```\r\nSome of those are also in the class `StudentData`:\r\n```java\r\npublic class StudentData {\r\n    // other properties\r\n\r\n    // properties with same name and contents as in class AdmissionData\r\n    String joinDate;\r\n    String sequenceID;\r\n    String standard\r\n\r\n    // getter and setter omitted\r\n}\r\n```\r\n\r\n### The Mapping\r\nCould be done using Java 8 streaming with `forEach` and conditional map-update either using `computeIfPresent` or the traditional way:\r\n\r\n```java\r\nadmissionData.forEach((key,value) -&gt; {\r\n   // update only if sudent-id is present as key\r\n   if (studentData.containsKey(key)) {\r\n       StudentData existingStudent = studentData.get(key);\r\n       // update the fields: set with values from AdmissionData \r\n       existingStudent.setJoinDate(value.getJoinDate());\r\n       existingStudent.setSequenceID(value.getSequenceID());\r\n       existingStudent.setStandard(value.getStandard());\r\n   }\r\n});\r\n```\r\n\r\nThe actual mapping (copying of values) is done with above statement like `existingStudent.setX(value.getX());` where `value` is the source entry of type `AdmissionData` which will have the same property named `X` (also same type!).","title":"Updating values in a map from another map","body":"<h3 id=\"your-question-as-i-understood-w77b\">Your question as I understood</h3>\n<ul>\n<li>you have a map <em>admissionMap</em> with entries: <code>String</code> (student-id) mapped to <code>AdmissionData</code> object</li>\n<li>you have another map <em>masterMap</em> with entries: <code>String</code> (student-id) mapped to <code>StudentData</code> object</li>\n<li>you want to update the objects on map <em>masterMap</em> (the target) with some properties of correlated (by student-id) objects from map <em>admissionMap</em> (the source)</li>\n</ul>\n<p>How to do this?</p>\n<h3 id=\"given-tozl\">Given</h3>\n<p>These maps with some values, where the keys are correlated (<em>student-id</em>) and can match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, AdmissionData&gt; admissionMap;\nMap&lt;String, StudentData&gt; masterMap;\n</code></pre>\n<p>The <code>AdmissionData</code> class has some properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AdmissionData {\n    String joinDate;\n    String sequenceID;\n    String standard\n\n    // getter and setter omitted\n}\n</code></pre>\n<p>Some of those are also in the class <code>StudentData</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentData {\n    // other properties\n\n    // properties with same name and contents as in class AdmissionData\n    String joinDate;\n    String sequenceID;\n    String standard\n\n    // getter and setter omitted\n}\n</code></pre>\n<h3 id=\"the-mapping-c4ug\">The Mapping</h3>\n<p>Could be done using Java 8 streaming with <code>forEach</code> and conditional map-update either using <code>computeIfPresent</code> or the traditional way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>admissionData.forEach((key,value) -&gt; {\n   // update only if sudent-id is present as key\n   if (studentData.containsKey(key)) {\n       StudentData existingStudent = studentData.get(key);\n       // update the fields: set with values from AdmissionData \n       existingStudent.setJoinDate(value.getJoinDate());\n       existingStudent.setSequenceID(value.getSequenceID());\n       existingStudent.setStandard(value.getStandard());\n   }\n});\n</code></pre>\n<p>The actual mapping (copying of values) is done with above statement like <code>existingStudent.setX(value.getX());</code> where <code>value</code> is the source entry of type <code>AdmissionData</code> which will have the same property named <code>X</code> (also same type!).</p>\n"},{"tags":[],"owner":{"account_id":234646,"reputation":1628,"user_id":500936,"accept_rate":23,"display_name":"Jean-Pierre Schnyder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659706183,"creation_date":1659706183,"answer_id":73250596,"question_id":68532846,"body_markdown":"Here a solution using the updateAll() function:\r\n\r\n    void main() {\r\n      Map&lt;String, dynamic&gt; sourceMap = {&#39;text&#39;: &#39;init text&#39;, &#39;value&#39;: 1};\r\n      Map&lt;String, dynamic&gt; modifiedMap = {&#39;text&#39;: &#39;modified text&#39;, &#39;value&#39;: 10};\r\n      \r\n      print(sourceMap); // {text: init text, value: 1}\r\n      \r\n      sourceMap.updateAll((key, value) =&gt; modifiedMap[key]);\r\n      \r\n      print(sourceMap); // {text: modified text, value: 10}\r\n    }\r\n\r\n","title":"Updating values in a map from another map","body":"<p>Here a solution using the updateAll() function:</p>\n<pre><code>void main() {\n  Map&lt;String, dynamic&gt; sourceMap = {'text': 'init text', 'value': 1};\n  Map&lt;String, dynamic&gt; modifiedMap = {'text': 'modified text', 'value': 10};\n  \n  print(sourceMap); // {text: init text, value: 1}\n  \n  sourceMap.updateAll((key, value) =&gt; modifiedMap[key]);\n  \n  print(sourceMap); // {text: modified text, value: 10}\n}\n</code></pre>\n"}],"owner":{"account_id":1602904,"reputation":9351,"user_id":1483620,"accept_rate":64,"display_name":"IUnknown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1659706183,"creation_date":1627314291,"question_id":68532846,"body_markdown":"I have a map `AdmissionData&lt; String, AdmissionData &gt;` which maps a student ID to his admission details.\r\n\r\n    AdmissionData {  String joinDate; String sequenceID; String standard }\r\n\r\nFrom this map,I need to update details of every student on a master map `StudentData&lt;String , StudentData &gt;` for every student.\r\n\r\n    StudentData {............ ;String joinDate; String sequenceID; String standard }\r\n\r\nWhat is the best way to achieve this efficiently?\r\n\r\n","title":"Updating values in a map from another map","body":"<p>I have a map <code>AdmissionData&lt; String, AdmissionData &gt;</code> which maps a student ID to his admission details.</p>\n<pre><code>AdmissionData {  String joinDate; String sequenceID; String standard }\n</code></pre>\n<p>From this map,I need to update details of every student on a master map <code>StudentData&lt;String , StudentData &gt;</code> for every student.</p>\n<pre><code>StudentData {............ ;String joinDate; String sequenceID; String standard }\n</code></pre>\n<p>What is the best way to achieve this efficiently?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":3,"creation_date":1659651192,"post_id":73242664,"comment_id":129351453,"body_markdown":"Sounds like a [XY problem](https://en.wikipedia.org/wiki/XY_problem) to me. Please explain what you are trying to achieve.","body":"Sounds like a <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a> to me. Please explain what you are trying to achieve."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659657961,"post_id":73242664,"comment_id":129352670,"body_markdown":"State your GUI framework. Swing, JavaFX, SWT, etc.","body":"State your GUI framework. Swing, JavaFX, SWT, etc."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1659659387,"post_id":73242664,"comment_id":129352885,"body_markdown":"I believe the approach is wrong.  You don&#39;t need to loop and continuously check the mouse state. You get an event on mouseDown and another on mouseUp.  On mouseDown, start whatever process you want in a new thread and loop there as long as mouseUp hasn&#39;t arrived.","body":"I believe the approach is wrong.  You don&#39;t need to loop and continuously check the mouse state. You get an event on mouseDown and another on mouseUp.  On mouseDown, start whatever process you want in a new thread and loop there as long as mouseUp hasn&#39;t arrived."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659687605,"post_id":73242664,"comment_id":129358171,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659651512,"creation_date":1659651512,"answer_id":73242731,"question_id":73242664,"body_markdown":"The issue is you can&#39;t start an infinite loop here since it will cause a deadlock as soon as the first event occurs. You just need to wait for the function to be called, then update the state accordingly. You can then read and act on the state elsewhere in your program. Since events are in a separate thread than the rest of your program, you can create your loop in the main thread or spawn a new thread.\r\n\r\nAs a side note, you don&#39;t need to check for an exception here. A `MouseEvent` just stores information about an event. After being created it is created it wont be changed.\r\n\r\n```java\r\nstatic boolean enabled = false;\r\n\r\n@Override\r\npublic void mousePressed(MouseEvent e) {\r\n    // Ignore events if they are not for the button we care about\r\n    if (e.getButton() == 1) {\r\n        enabled = true;\r\n    }\r\n}\r\n\r\n@Override\r\npublic void mouseReleased(MouseEvent e) {\r\n    if (e.getButton() == 1) {\r\n        enabled = false;\r\n    }\r\n}\r\n\r\n// In some other thread (such as the one which created the JPanel)\r\nwhile (true) {\r\n    if (enabled) {\r\n        System.out.println(&quot;registered click&quot;);\r\n        Thread.sleep(1000);\r\n    }\r\n}\r\n```","title":"How to constantly check if mouse leftclick is being held down in mouseeEvent","body":"<p>The issue is you can't start an infinite loop here since it will cause a deadlock as soon as the first event occurs. You just need to wait for the function to be called, then update the state accordingly. You can then read and act on the state elsewhere in your program. Since events are in a separate thread than the rest of your program, you can create your loop in the main thread or spawn a new thread.</p>\n<p>As a side note, you don't need to check for an exception here. A <code>MouseEvent</code> just stores information about an event. After being created it is created it wont be changed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean enabled = false;\n\n@Override\npublic void mousePressed(MouseEvent e) {\n    // Ignore events if they are not for the button we care about\n    if (e.getButton() == 1) {\n        enabled = true;\n    }\n}\n\n@Override\npublic void mouseReleased(MouseEvent e) {\n    if (e.getButton() == 1) {\n        enabled = false;\n    }\n}\n\n// In some other thread (such as the one which created the JPanel)\nwhile (true) {\n    if (enabled) {\n        System.out.println(&quot;registered click&quot;);\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20112842,"reputation":5,"user_id":14748914,"display_name":"HH_Captain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659706166,"creation_date":1659650919,"question_id":73242664,"body_markdown":"```\r\nstatic boolean enabled = false; \r\n@Override\r\n    public void mousePressed(MouseEvent e) {\r\n        enabled = true;\r\n        if (e.getButton() == 1) {\r\n            try {\r\n                    do  {\r\n                        \r\n                        while (enabled) {\r\n                            System.out.println(&quot;registered click&quot;);\r\n                            Thread.sleep(1000);\r\n                         \r\n                        }\r\n                    } while (e.isMetaDown());\r\n            } catch (Exception e1) {\r\n                e1.printStackTrace();\r\n            }\r\n\r\n        } else {\r\n            JOptionPane.showMessageDialog(frame, &quot;not working&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        System.out.println(&quot;released&quot;);\r\n        enabled = !enabled;\r\n    }\r\n```\r\nit will just continue the loop even if i unclick my mouse, if i add a break; in there it will just stop the while loop and not continue checking for the condition. Please how do i constantly check for a condition in the while loop?\r\n\r\nEdit:\r\nOk, I’m using Swing for the framework, and what I’m trying to achieve is that when I click my left mouse button, the loop begins and keeps going while the left mouse button is held down but when I lift my finger and the mouse button is released, the loop stops but it doesn’t stop the loop. It just continues the loop even if I unclick my mouse.","title":"How to constantly check if mouse leftclick is being held down in mouseeEvent","body":"<pre><code>static boolean enabled = false; \n@Override\n    public void mousePressed(MouseEvent e) {\n        enabled = true;\n        if (e.getButton() == 1) {\n            try {\n                    do  {\n                        \n                        while (enabled) {\n                            System.out.println(&quot;registered click&quot;);\n                            Thread.sleep(1000);\n                         \n                        }\n                    } while (e.isMetaDown());\n            } catch (Exception e1) {\n                e1.printStackTrace();\n            }\n\n        } else {\n            JOptionPane.showMessageDialog(frame, &quot;not working&quot;);\n        }\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        System.out.println(&quot;released&quot;);\n        enabled = !enabled;\n    }\n</code></pre>\n<p>it will just continue the loop even if i unclick my mouse, if i add a break; in there it will just stop the while loop and not continue checking for the condition. Please how do i constantly check for a condition in the while loop?</p>\n<p>Edit:\nOk, I’m using Swing for the framework, and what I’m trying to achieve is that when I click my left mouse button, the loop begins and keeps going while the left mouse button is held down but when I lift my finger and the mouse button is released, the loop stops but it doesn’t stop the loop. It just continues the loop even if I unclick my mouse.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1423064282,"post_id":28325180,"comment_id":44998227,"body_markdown":"These values are called [Internet media types](http://en.wikipedia.org/wiki/Internet_media_type) or MIME types.","body":"These values are called <a href=\"http://en.wikipedia.org/wiki/Internet_media_type\" rel=\"nofollow noreferrer\">Internet media types</a> or MIME types."}],"answers":[{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580568465,"creation_date":1423064250,"answer_id":28325321,"question_id":28325180,"body_markdown":"Guava has a [MediaType][1] class with a significantly larger number of media types defined.\r\n\r\n\r\n  [1]: https://guava.dev/releases/28.2-jre/api/docs/com/google/common/net/MediaType.html","title":"Http-Header Field Constant Values","body":"<p>Guava has a <a href=\"https://guava.dev/releases/28.2-jre/api/docs/com/google/common/net/MediaType.html\" rel=\"nofollow noreferrer\">MediaType</a> class with a significantly larger number of media types defined.</p>\n"}],"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11240,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1659706078,"creation_date":1423063891,"question_id":28325180,"body_markdown":"I can&#39;t seem to find the `static final String` values for Http-Headers values. There is e.g. [javax.ws.rs.core.MediaType][1] but it does not define values for example like `image/jpg` etc. \r\n\r\nWould I have to make my own constants or did I just not find the right container yet?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/ws/rs/core/MediaType.html","title":"Http-Header Field Constant Values","body":"<p>I can't seem to find the <code>static final String</code> values for Http-Headers values. There is e.g. <a href=\"http://docs.oracle.com/javaee/6/api/javax/ws/rs/core/MediaType.html\" rel=\"noreferrer\">javax.ws.rs.core.MediaType</a> but it does not define values for example like <code>image/jpg</code> etc. </p>\n\n<p>Would I have to make my own constants or did I just not find the right container yet?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1659704099,"post_id":73250085,"comment_id":129363903,"body_markdown":"What do you mean it&#39;s still showing? If you mean in a debugger ok, but `processData` shouldn&#39;t be able to call that method unless it casts `request` back to a `DataWithIdRequest`. And why would it without being sure that `request` actually is a `DataWithIdRequest`?","body":"What do you mean it&#39;s still showing? If you mean in a debugger ok, but <code>processData</code> shouldn&#39;t be able to call that method unless it casts <code>request</code> back to a <code>DataWithIdRequest</code>. And why would it without being sure that <code>request</code> actually is a <code>DataWithIdRequest</code>?"},{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1659704117,"post_id":73250085,"comment_id":129363912,"body_markdown":"I don&#39;t quite understand your question or problem, but it sounds like you think casting a `DataWithIdRequest` to `DataRequest` or assigning a `DataWithIdRequest` object to a `DataRequest` variable will somehwor convert that object. That is **not** how casting and assigning works. Your `DataWithIdRequest` object will always be a `DataWithIdRequest` object regardless whether you even cast it or assign it to `Object`. If you want to convert it to a different kind of object you will have to do so manually.","body":"I don&#39;t quite understand your question or problem, but it sounds like you think casting a <code>DataWithIdRequest</code> to <code>DataRequest</code> or assigning a <code>DataWithIdRequest</code> object to a <code>DataRequest</code> variable will somehwor convert that object. That is <b>not</b> how casting and assigning works. Your <code>DataWithIdRequest</code> object will always be a <code>DataWithIdRequest</code> object regardless whether you even cast it or assign it to <code>Object</code>. If you want to convert it to a different kind of object you will have to do so manually."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659704414,"creation_date":1659704414,"answer_id":73250202,"question_id":73250085,"body_markdown":"```\r\npublic Boolean processData(DataRequest request) {  }\r\n```\r\n\r\nBecause in your method ```processData```, request&#39;s type is ```DataRequest```.  You want it to be DataWithIdRequest.\r\n\r\n```\r\npublic Boolean processData(DataWithIdRequestrequest request) {  }\r\n```","title":"downcast to subclass and get subclass only fields","body":"<pre><code>public Boolean processData(DataRequest request) {  }\n</code></pre>\n<p>Because in your method <code>processData</code>, request's type is <code>DataRequest</code>.  You want it to be DataWithIdRequest.</p>\n<pre><code>public Boolean processData(DataWithIdRequestrequest request) {  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659704442,"creation_date":1659704442,"answer_id":73250210,"question_id":73250085,"body_markdown":"You can only offer a _part_ of an API (application programmer&#39;s interface), by separating the code in an interface. \r\n\r\n    public interface Identified {\r\n        Integer getId();\r\n        public void setContractKey(Integer id);\r\n    }\r\n    \r\n    public class DataWithIdRequest extends DataRequest implements Identified {\r\n    \r\n        private Integer id;\r\n    \r\n        @Override\r\n        public Integer getId() {\r\n            return contractKey;\r\n        }\r\n    \r\n        @Override\r\n        public void setContractKey(Integer id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\n    public Boolean processData(DataRequest request) {\r\n        if (request instanceOf Identified identified) {\r\n            identified.setContractKey(13);\r\n        }\r\n    }\r\n\r\nOr move the problem to the caller:\r\n\r\n    public Boolean processData(Identified request) {\r\n        request.setContractKey(13);\r\n    }\r\n\r\nBy the way it more usual to use int, boolean, the primitive types.","title":"downcast to subclass and get subclass only fields","body":"<p>You can only offer a <em>part</em> of an API (application programmer's interface), by separating the code in an interface.</p>\n<pre><code>public interface Identified {\n    Integer getId();\n    public void setContractKey(Integer id);\n}\n\npublic class DataWithIdRequest extends DataRequest implements Identified {\n\n    private Integer id;\n\n    @Override\n    public Integer getId() {\n        return contractKey;\n    }\n\n    @Override\n    public void setContractKey(Integer id) {\n        this.id = id;\n    }\n}\n\npublic Boolean processData(DataRequest request) {\n    if (request instanceOf Identified identified) {\n        identified.setContractKey(13);\n    }\n}\n</code></pre>\n<p>Or move the problem to the caller:</p>\n<pre><code>public Boolean processData(Identified request) {\n    request.setContractKey(13);\n}\n</code></pre>\n<p>By the way it more usual to use int, boolean, the primitive types.</p>\n"},{"tags":[],"owner":{"account_id":23866645,"reputation":91,"user_id":17868883,"display_name":"Jimmy Iu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659706024,"creation_date":1659706024,"answer_id":73250562,"question_id":73250085,"body_markdown":"To hide the information completely, you need to create a new instance of `DataRequest` by `DataWithIdRequest` (that&#39;s why mapping library like `mapstruct` is useful), but not directly passing it.\r\n\r\n---\r\n\r\nExplanation:\r\n\r\nThis is how inheritance works, imagine a method takes a parameter of an interface or abstract class, by using `instanceof` inside the method we can check the object actual type and do something specific. e.g.\r\n\r\n```java\r\npublic void drawShape(Shape shape) {\r\n  if (shape instanceof Circle) {\r\n    Circle circle = (Circle) shape;\r\n    // do sth\r\n  } else if (shape instanceof Square) {\r\n    // do sth else\r\n  }\r\n}\r\n```\r\n\r\nThe above example is completely valid (although not a good programming style, that&#39;s another story).\r\n\r\nThe object inside the memory holds all the actual class details, passing it to a method doesn&#39;t change anything to the memory. The parameter (e.g. `shape`) is only another reference to the same memory location.","title":"downcast to subclass and get subclass only fields","body":"<p>To hide the information completely, you need to create a new instance of <code>DataRequest</code> by <code>DataWithIdRequest</code> (that's why mapping library like <code>mapstruct</code> is useful), but not directly passing it.</p>\n<hr />\n<p>Explanation:</p>\n<p>This is how inheritance works, imagine a method takes a parameter of an interface or abstract class, by using <code>instanceof</code> inside the method we can check the object actual type and do something specific. e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void drawShape(Shape shape) {\n  if (shape instanceof Circle) {\n    Circle circle = (Circle) shape;\n    // do sth\n  } else if (shape instanceof Square) {\n    // do sth else\n  }\n}\n</code></pre>\n<p>The above example is completely valid (although not a good programming style, that's another story).</p>\n<p>The object inside the memory holds all the actual class details, passing it to a method doesn't change anything to the memory. The parameter (e.g. <code>shape</code>) is only another reference to the same memory location.</p>\n"},{"tags":[],"owner":{"account_id":19264252,"reputation":1,"user_id":14079509,"display_name":"Ilja Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659706059,"creation_date":1659706059,"answer_id":73250569,"question_id":73250085,"body_markdown":"Maybe I don&#39;t understand the question fully but: as you want I it&#39;s not possible since:\r\n\r\npublic class DataWithIdRequest extends DataRequest \r\n\r\nmeans DataRequest is a subset of DataWithIdRequest, it&#39;s an intersection.\r\n\r\nYou unfortunately need to find an other way","title":"downcast to subclass and get subclass only fields","body":"<p>Maybe I don't understand the question fully but: as you want I it's not possible since:</p>\n<p>public class DataWithIdRequest extends DataRequest</p>\n<p>means DataRequest is a subset of DataWithIdRequest, it's an intersection.</p>\n<p>You unfortunately need to find an other way</p>\n"}],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1659706059,"creation_date":1659703896,"question_id":73250085,"body_markdown":"I have classes similar to DataRequest &amp; DataWithIdRequest.   DataWithIdRequest gets passed into my controller method.  I want to pass the subclass object ONLY to another class for processing.  However, when I try to downcast to  DataRequest  the extra field is still showing.  How can I accomplish this?\r\n\r\n\r\n    public class DataRequest {\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class DataWithIdRequest extends DataRequest {\r\n    \r\n    \tprivate Integer id;\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn contractKey;\r\n    \t}\r\n    \r\n    \tpublic void setContractKey(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    }\r\n    \t//controller\r\n    \t\r\n    \t\tprocessData(request);\r\n    \t}\r\n    \t\r\n    \t//domain class\r\n    \tpublic Boolean processData(DataRequest request) {\r\n    \t\r\n    \t\t//request here has DataWithIdRequest field\r\n    \t\t//but I only want the subclass\r\n    \t}\r\n\r\n","title":"downcast to subclass and get subclass only fields","body":"<p>I have classes similar to DataRequest &amp; DataWithIdRequest.   DataWithIdRequest gets passed into my controller method.  I want to pass the subclass object ONLY to another class for processing.  However, when I try to downcast to  DataRequest  the extra field is still showing.  How can I accomplish this?</p>\n<pre><code>public class DataRequest {\n\n    private String name;\n    \n\n    public String getName() {\n        return name;\n    }\n\n    public void setFirstName(String name) {\n        this.name = name;\n    }\n}\n\n\npublic class DataWithIdRequest extends DataRequest {\n\n    private Integer id;\n\n    public Integer getId() {\n        return contractKey;\n    }\n\n    public void setContractKey(Integer id) {\n        this.id = id;\n    }\n}\n    //controller\n    \n        processData(request);\n    }\n    \n    //domain class\n    public Boolean processData(DataRequest request) {\n    \n        //request here has DataWithIdRequest field\n        //but I only want the subclass\n    }\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659703582,"post_id":73249932,"comment_id":129363689,"body_markdown":"You can not acces the testbutton. You have to put the color as paramter to the constructor of the BasicButtonUi","body":"You can not acces the testbutton. You have to put the color as paramter to the constructor of the BasicButtonUi"},{"owner":{"account_id":20252374,"reputation":11,"user_id":14853053,"display_name":"afkfish"},"score":0,"creation_date":1659704440,"post_id":73249932,"comment_id":129364020,"body_markdown":"and do I do that with a class that extends to the BasicButtonUI and create a constructor for that wich takes the color as an argument and sets its color parameter to the given color and overrides the update method where the setColor gets the color from that created class?","body":"and do I do that with a class that extends to the BasicButtonUI and create a constructor for that wich takes the color as an argument and sets its color parameter to the given color and overrides the update method where the setColor gets the color from that created class?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659705886,"post_id":73249932,"comment_id":129364561,"body_markdown":"don&#39;t call setUi directly (actually, you can&#39;t from outside the custom component, it&#39;s protected, isn&#39;t it -- oh no, AbstractButton exposes it, darn) : instead register your custom ui delegate with the uiManager and call updateUI, for an example see https://stackoverflow.com/questions/17798631/how-to-determine-the-correct-ui-implementation-for-a-custom-component","body":"don&#39;t call setUi directly (actually, you can&#39;t from outside the custom component, it&#39;s protected, isn&#39;t it -- oh no, AbstractButton exposes it, darn) : instead register your custom ui delegate with the uiManager and call updateUI, for an example see <a href=\"https://stackoverflow.com/questions/17798631/how-to-determine-the-correct-ui-implementation-for-a-custom-component\" title=\"how to determine the correct ui implementation for a custom component\">stackoverflow.com/questions/17798631/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659706009,"post_id":73249932,"comment_id":129364609,"body_markdown":"all that said: this doesn&#39;t look like a use-case for a custom ui - just create and configure a plain button (f.i. via a factory). What do you _need_ the ui for?","body":"all that said: this doesn&#39;t look like a use-case for a custom ui - just create and configure a plain button (f.i. via a factory). What do you <i>need</i> the ui for?"},{"owner":{"account_id":20252374,"reputation":11,"user_id":14853053,"display_name":"afkfish"},"score":0,"creation_date":1659706125,"post_id":73249932,"comment_id":129364658,"body_markdown":"only to change the rendering of it to fill round rectangle and its color","body":"only to change the rendering of it to fill round rectangle and its color"}],"owner":{"account_id":20252374,"reputation":11,"user_id":14853053,"display_name":"afkfish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659706040,"creation_date":1659703225,"question_id":73249932,"body_markdown":"\\\r\nI&#39;m new to Java, especially to swing and I was trying to make a button that has some custom property (color, number) and I wanted to make it a round button so my implementation was the following:\r\n\r\n    NumberButton testbutton = new NumberButton(&quot;0&quot;);\r\n    testbutton.setUI(new BasicButtonUI() {\r\n        @Override\r\n        public void update(Graphics g, JComponent c) {\r\n            if (c.isOpaque()) {\r\n                g.setColor(testbutton.getColor());\r\n                g.fillRoundRect(0, 0, c.getWidth(), c.getHeight(), 100, 100);\r\n            }\r\n            paint(g, c);\r\n        }\r\n    });\r\n    mainPanel.add(testbutton);\r\nThe problem is that I want to make this BasicButtonUI generally callable custom class but I don&#39;t know how can I get from inside the &quot;void update&quot; function the outer testbutton&#39;s color property.\r\n\r\nThe custom NumberButton:\r\n\r\n    public class NumberButton extends JButton {\r\n        private boolean pressState;\r\n        private int number;\r\n        private Color color;\r\n\r\n        public NumberButton(String title) {\r\n            super(title);\r\n\r\n            this.pressState = false;\r\n            this.number = 0;\r\n            this.color = new Color(86, 86, 86);\r\n\r\n            this.setPreferredSize(new Dimension(100, 100));\r\n            this.setBackground(new Color(24, 25, 27));\r\n            this.setAlignmentY(0.5F);\r\n            this.setOpaque(true);\r\n\r\n            this.addActionListener(actionEvent -&gt; this.changePressState());\r\n        }\r\n\r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n\r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n\r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n\r\n        public void setColor(Color color) {\r\n            this.color = color;\r\n        }\r\n\r\n        public void changePressState(){\r\n            this.pressState = !this.pressState;\r\n            if(this.pressState) {\r\n                this.color = new Color(139, 239, 99, 166);\r\n            } else {\r\n                this.color = new Color(122, 154, 116);\r\n            }\r\n            this.number += 1;\r\n            this.setText(String.valueOf(this.number));\r\n         }\r\n    }\r\n\r\nedit:\\\r\nI tried creating a new class that extends to BasicButtonUI and the constructor takes one argument that can be set on call to the buttons color but than it doesn&#39;t changes it&#39;s color anymore:\r\n \r\n\r\n    public class RoundButtonUI extends BasicButtonUI {\r\n        private Color color;\r\n\r\n        RoundButtonUI(Color c) {\r\n            super();\r\n            this.color = c;\r\n        }\r\n\r\n        @Override\r\n        public void update(Graphics g, JComponent c) {\r\n            if (c.isOpaque()) {\r\n                g.setColor(this.color);\r\n                g.fillRoundRect(0, 0, c.getWidth(),c.getHeight(), 100, 100);\r\n            }\r\n            paint(g, c);\r\n        }\r\n    }\r\nand calling it like this:\r\n\r\n    NumberButton testbutton = new NumberButton(&quot;0&quot;);\r\n    testbutton.setUI(new RoundButtonUI(testbutton.getColor()));\r\n\r\nedit #2:\r\nOne thing that fixed is that in the action that is changing the color of the button I call:\r\n\r\n    public void changePressState(){\r\n        this.pressState = !this.pressState;\r\n        if(this.pressState) {\r\n            this.color = new Color(139, 239, 99, 166);\r\n        } else {\r\n            this.color = new Color(122, 154, 116);\r\n        }\r\n        this.number += 1;\r\n        this.setText(String.valueOf(this.number));\r\n        this.setUI(new RoundButtonUI(this.color));\r\n    }\r\n\r\nbut this is not a good solution just makes a mess so please if anybody have a better solution just tell!\r\n\r\n\r\nThe full source code is upp here to check: \r\n[github][1]\r\n\r\n\r\n  [1]: https://github.com/afkfish/Prog3-NHF","title":"Java swing custom BasicButtonUI get it&#39;s buttons properties","body":"<p><br />\nI'm new to Java, especially to swing and I was trying to make a button that has some custom property (color, number) and I wanted to make it a round button so my implementation was the following:</p>\n<pre><code>NumberButton testbutton = new NumberButton(&quot;0&quot;);\ntestbutton.setUI(new BasicButtonUI() {\n    @Override\n    public void update(Graphics g, JComponent c) {\n        if (c.isOpaque()) {\n            g.setColor(testbutton.getColor());\n            g.fillRoundRect(0, 0, c.getWidth(), c.getHeight(), 100, 100);\n        }\n        paint(g, c);\n    }\n});\nmainPanel.add(testbutton);\n</code></pre>\n<p>The problem is that I want to make this BasicButtonUI generally callable custom class but I don't know how can I get from inside the &quot;void update&quot; function the outer testbutton's color property.</p>\n<p>The custom NumberButton:</p>\n<pre><code>public class NumberButton extends JButton {\n    private boolean pressState;\n    private int number;\n    private Color color;\n\n    public NumberButton(String title) {\n        super(title);\n\n        this.pressState = false;\n        this.number = 0;\n        this.color = new Color(86, 86, 86);\n\n        this.setPreferredSize(new Dimension(100, 100));\n        this.setBackground(new Color(24, 25, 27));\n        this.setAlignmentY(0.5F);\n        this.setOpaque(true);\n\n        this.addActionListener(actionEvent -&gt; this.changePressState());\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public void setColor(Color color) {\n        this.color = color;\n    }\n\n    public void changePressState(){\n        this.pressState = !this.pressState;\n        if(this.pressState) {\n            this.color = new Color(139, 239, 99, 166);\n        } else {\n            this.color = new Color(122, 154, 116);\n        }\n        this.number += 1;\n        this.setText(String.valueOf(this.number));\n     }\n}\n</code></pre>\n<p>edit:<br />\nI tried creating a new class that extends to BasicButtonUI and the constructor takes one argument that can be set on call to the buttons color but than it doesn't changes it's color anymore:</p>\n<pre><code>public class RoundButtonUI extends BasicButtonUI {\n    private Color color;\n\n    RoundButtonUI(Color c) {\n        super();\n        this.color = c;\n    }\n\n    @Override\n    public void update(Graphics g, JComponent c) {\n        if (c.isOpaque()) {\n            g.setColor(this.color);\n            g.fillRoundRect(0, 0, c.getWidth(),c.getHeight(), 100, 100);\n        }\n        paint(g, c);\n    }\n}\n</code></pre>\n<p>and calling it like this:</p>\n<pre><code>NumberButton testbutton = new NumberButton(&quot;0&quot;);\ntestbutton.setUI(new RoundButtonUI(testbutton.getColor()));\n</code></pre>\n<p>edit #2:\nOne thing that fixed is that in the action that is changing the color of the button I call:</p>\n<pre><code>public void changePressState(){\n    this.pressState = !this.pressState;\n    if(this.pressState) {\n        this.color = new Color(139, 239, 99, 166);\n    } else {\n        this.color = new Color(122, 154, 116);\n    }\n    this.number += 1;\n    this.setText(String.valueOf(this.number));\n    this.setUI(new RoundButtonUI(this.color));\n}\n</code></pre>\n<p>but this is not a good solution just makes a mess so please if anybody have a better solution just tell!</p>\n<p>The full source code is upp here to check:\n<a href=\"https://github.com/afkfish/Prog3-NHF\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","hibernate","kotlin","sessionfactory","mutiny"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659705717,"creation_date":1659622613,"answer_id":73237515,"question_id":73237203,"body_markdown":"In the initial example, you are using `.invoke` instead of `.call` and there&#39;s no need to subscribe twice. But you also need to make sure the same session is not shared in parallel between pipelines.\r\n\r\nWhat I mean is you shouldn&#39;t rely on code like this:\r\n```java\r\nList&lt;Uni&lt;Void&gt;&gt; list = ...\r\nfor (Entity entity : entities) {\r\n    list.add( session.persist(entity) );\r\n}\r\nUni.join().all( list ).chain(session::flush);\r\n```\r\n\r\nIt might look like it works in some cases, but it can lead to errors that are hard to debug. [That&#39;s because the session is not thread-safe](https://hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts).\r\n\r\nIn your case, if you want to merge two entities using the same session, you need to make sure that the operations happen in the right order.\r\n\r\nThis should work for example:\r\n```kotlin\r\nsessionFactory.withTransaction { session -&gt;\r\n    session.merge(entity1)\r\n        .invoke{ entity -&gt; println(&quot;success save entity1: $entity&quot;) }\r\n        .call { _ -&gt;\r\n            session.merge(entity2)\r\n                    .invoke{ entity -&gt; println(&quot;success save entity2: $entity&quot;) }\r\n         }\r\n}.subscribe().with(\r\n    { println(&quot;Finished!&quot;) },\r\n    { error -&gt; println(&quot;Error: $error&quot;) }\r\n)\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Mutiny.SessionFactory: use existing session for saving entities","body":"<p>In the initial example, you are using <code>.invoke</code> instead of <code>.call</code> and there's no need to subscribe twice. But you also need to make sure the same session is not shared in parallel between pipelines.</p>\n<p>What I mean is you shouldn't rely on code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Uni&lt;Void&gt;&gt; list = ...\nfor (Entity entity : entities) {\n    list.add( session.persist(entity) );\n}\nUni.join().all( list ).chain(session::flush);\n</code></pre>\n<p>It might look like it works in some cases, but it can lead to errors that are hard to debug. <a href=\"https://hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts\" rel=\"nofollow noreferrer\">That's because the session is not thread-safe</a>.</p>\n<p>In your case, if you want to merge two entities using the same session, you need to make sure that the operations happen in the right order.</p>\n<p>This should work for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>sessionFactory.withTransaction { session -&gt;\n    session.merge(entity1)\n        .invoke{ entity -&gt; println(&quot;success save entity1: $entity&quot;) }\n        .call { _ -&gt;\n            session.merge(entity2)\n                    .invoke{ entity -&gt; println(&quot;success save entity2: $entity&quot;) }\n         }\n}.subscribe().with(\n    { println(&quot;Finished!&quot;) },\n    { error -&gt; println(&quot;Error: $error&quot;) }\n)\n</code></pre>\n"}],"owner":{"account_id":25977000,"reputation":1,"user_id":19691318,"display_name":"Pavel Smirnov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659705717,"creation_date":1659621341,"question_id":73237203,"body_markdown":"I have simple task: get data by artemis connection -&gt; save data to DB. If we have open session - use it. Function for saving:\r\n```\r\nfun &lt;T&gt; merge(entity: T): Uni&lt;T&gt; {\r\n        return sessionFactory.withTransaction { session -&gt; session.merge(entity) }\r\n}\r\n```\r\nIf we have a single or rare event, then it works. But if we have several events in a short period of time (example two), then not all data is saved. Data from first event was saved, from second wasn&#39;t.\r\nUsing logging and tests I reproduced this behavior:\r\n```\r\nsessionFactory.withTransaction { session1 -&gt;\r\n\tsession1.merge(entity1).invoke { _ -&gt;\r\n\t\tsessionFactory.withTransaction { session2 -&gt;\r\n\t\t\tsession2.merge(entity2)\r\n\t\t}.subscribe().with(\r\n\t\t\t{ println(&quot;success save entity2: $entity2&quot;) },\r\n\t\t\t{ error -&gt; println(&quot;error save entity2: $error&quot;) }\r\n\t\t)\r\n\t}\r\n}.subscribe().with(\r\n\t{ println(&quot;success save entity1: $entity1&quot;) },\r\n\t{ error -&gt; println(&quot;error save entity1: $error&quot;) }\r\n)\r\n```\r\nThat is, if data recording from the second event started after the ***merge*** function was called, but before the session was closed, the data will not be saved.\r\n\r\nNext1. If I use an ***persist*** instead of a ***merge*** (```session2.merge -&gt; session2.persist```), the data will be saved.\r\n\r\nNext2. If I add a ***find*** before ***persist*** - behavior is the same as ***merge*** (doesn&#39;t save):\r\n```\r\nsessionFactory.withTransaction { session2 -&gt;\r\n\tsession2.find(Entry::class.java, entity2.id)\r\n\t\t.flatMap { session2.persist(entity2) }\r\n//\t  session2.merge(entity2)\r\n}\r\n```\r\nNext3. If I add ***flush*** before ***merge*** - I get error:\r\n```\r\nsessionFactory.withTransaction { session2 -&gt;\r\n\tsession2.flush()\r\n\t\t.flatMap { session2.merge(entity2) }\r\n// \t  session2.merge(entity2)\r\n}\r\n```\r\n```\r\nE 13:24:23 23 [vert.x-eventloop-thread-0] errors.logSqlException - HR000057: Failed to execute statement [$1/* load Entity */ select entity0_.id as id1_3_0_, ... from Entity entity0_ where entity0_.id=$1]: $2could not load an entity: [Entity#b3c699b4-d490-4e56-bb76-904a1cb508a1]\r\nerror save entity2: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: io.vertx.pgclient.PgException: ERROR: current transaction is aborted, commands ignored until end of transaction block (25P02)\r\nerror save entity1: javax.persistence.PersistenceException: org.hibernate.HibernateException: io.vertx.pgclient.PgException: ERROR: duplicate key value violates unique constraint &quot;entity_pkey&quot; (23505)\r\n```\r\nWhere *b3c699b4-d490-4e56-bb76-904a1cb508a1* is ***entity2.id***.\r\n\r\nIn this case, the ***entity1*** is saved twice: first time after ***session2.flush()*** and second before session1 closing.\r\n\r\n**Question: how do save data from both events using an existing session?** If I open a new session every time, there are no problems.","title":"Mutiny.SessionFactory: use existing session for saving entities","body":"<p>I have simple task: get data by artemis connection -&gt; save data to DB. If we have open session - use it. Function for saving:</p>\n<pre><code>fun &lt;T&gt; merge(entity: T): Uni&lt;T&gt; {\n        return sessionFactory.withTransaction { session -&gt; session.merge(entity) }\n}\n</code></pre>\n<p>If we have a single or rare event, then it works. But if we have several events in a short period of time (example two), then not all data is saved. Data from first event was saved, from second wasn't.\nUsing logging and tests I reproduced this behavior:</p>\n<pre><code>sessionFactory.withTransaction { session1 -&gt;\n    session1.merge(entity1).invoke { _ -&gt;\n        sessionFactory.withTransaction { session2 -&gt;\n            session2.merge(entity2)\n        }.subscribe().with(\n            { println(&quot;success save entity2: $entity2&quot;) },\n            { error -&gt; println(&quot;error save entity2: $error&quot;) }\n        )\n    }\n}.subscribe().with(\n    { println(&quot;success save entity1: $entity1&quot;) },\n    { error -&gt; println(&quot;error save entity1: $error&quot;) }\n)\n</code></pre>\n<p>That is, if data recording from the second event started after the <em><strong>merge</strong></em> function was called, but before the session was closed, the data will not be saved.</p>\n<p>Next1. If I use an <em><strong>persist</strong></em> instead of a <em><strong>merge</strong></em> (<code>session2.merge -&gt; session2.persist</code>), the data will be saved.</p>\n<p>Next2. If I add a <em><strong>find</strong></em> before <em><strong>persist</strong></em> - behavior is the same as <em><strong>merge</strong></em> (doesn't save):</p>\n<pre><code>sessionFactory.withTransaction { session2 -&gt;\n    session2.find(Entry::class.java, entity2.id)\n        .flatMap { session2.persist(entity2) }\n//    session2.merge(entity2)\n}\n</code></pre>\n<p>Next3. If I add <em><strong>flush</strong></em> before <em><strong>merge</strong></em> - I get error:</p>\n<pre><code>sessionFactory.withTransaction { session2 -&gt;\n    session2.flush()\n        .flatMap { session2.merge(entity2) }\n//    session2.merge(entity2)\n}\n</code></pre>\n<pre><code>E 13:24:23 23 [vert.x-eventloop-thread-0] errors.logSqlException - HR000057: Failed to execute statement [$1/* load Entity */ select entity0_.id as id1_3_0_, ... from Entity entity0_ where entity0_.id=$1]: $2could not load an entity: [Entity#b3c699b4-d490-4e56-bb76-904a1cb508a1]\nerror save entity2: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: io.vertx.pgclient.PgException: ERROR: current transaction is aborted, commands ignored until end of transaction block (25P02)\nerror save entity1: javax.persistence.PersistenceException: org.hibernate.HibernateException: io.vertx.pgclient.PgException: ERROR: duplicate key value violates unique constraint &quot;entity_pkey&quot; (23505)\n</code></pre>\n<p>Where <em>b3c699b4-d490-4e56-bb76-904a1cb508a1</em> is <em><strong>entity2.id</strong></em>.</p>\n<p>In this case, the <em><strong>entity1</strong></em> is saved twice: first time after <em><strong>session2.flush()</strong></em> and second before session1 closing.</p>\n<p><strong>Question: how do save data from both events using an existing session?</strong> If I open a new session every time, there are no problems.</p>\n"},{"tags":["java","spring","spring-boot","swagger"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659680016,"creation_date":1659680016,"answer_id":73245395,"question_id":73244706,"body_markdown":"In my opinion, it&#39;s not good to have Empty Strings in `Enum`, rather you should keep this field as Optional in Swagger (if not already), so user can send Null value in that case.\r\n\r\n`Enum` are generally a Group Of Constants and Empty String is not a constant. Rather it should be replaced with Null value in general.","title":"Spring boot OpenAPI Swagger enums with empty strings generates &quot;__EMPTY__&quot; instead of &quot;&quot;","body":"<p>In my opinion, it's not good to have Empty Strings in <code>Enum</code>, rather you should keep this field as Optional in Swagger (if not already), so user can send Null value in that case.</p>\n<p><code>Enum</code> are generally a Group Of Constants and Empty String is not a constant. Rather it should be replaced with Null value in general.</p>\n"}],"owner":{"account_id":7558783,"reputation":3,"user_id":5737242,"display_name":"user1501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659705063,"creation_date":1659674036,"question_id":73244706,"body_markdown":"I am trying to generate swagger on a spring boot rest service, with the following sample schema.\r\n```\r\n{\r\n&quot;title&quot;: &quot;HouseholdOperationsRequest&quot;,\r\n&quot;type&quot;:&quot;object&quot;,\r\n&quot;properties&quot;: {\r\n   &quot;operation&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;enum&quot;: [&quot;Electrical&quot;,&quot;Plumbing&quot;,&quot;Paint&quot;,&quot;Handyman&quot;,&quot;&quot;]\r\n    }\r\n }\r\n}\r\n```\r\nWhen testing directly (hitting the server), the validation works fine with an empty string sent in the request. However, the swagger that is generated from this represents the empty enum at the end as &quot;\\_\\_EMPTY\\_\\_&quot; and causes a validation failure for the clients sending the request with the operation value as &quot;&quot;. \r\n\r\nIs there a setting with swagger that can help get around this problem?\r\n\r\n\r\nEdit: --removing Is it a bad practice using empty string in the enum.-- \r\n\r\nMy requirement is a bit unusual since the downstreams treat nulls differently than empty strings. The field itself is not required and is nullable.\r\n\r\n","title":"Spring boot OpenAPI Swagger enums with empty strings generates &quot;__EMPTY__&quot; instead of &quot;&quot;","body":"<p>I am trying to generate swagger on a spring boot rest service, with the following sample schema.</p>\n<pre><code>{\n&quot;title&quot;: &quot;HouseholdOperationsRequest&quot;,\n&quot;type&quot;:&quot;object&quot;,\n&quot;properties&quot;: {\n   &quot;operation&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;enum&quot;: [&quot;Electrical&quot;,&quot;Plumbing&quot;,&quot;Paint&quot;,&quot;Handyman&quot;,&quot;&quot;]\n    }\n }\n}\n</code></pre>\n<p>When testing directly (hitting the server), the validation works fine with an empty string sent in the request. However, the swagger that is generated from this represents the empty enum at the end as &quot;__EMPTY__&quot; and causes a validation failure for the clients sending the request with the operation value as &quot;&quot;.</p>\n<p>Is there a setting with swagger that can help get around this problem?</p>\n<p>Edit: --removing Is it a bad practice using empty string in the enum.--</p>\n<p>My requirement is a bit unusual since the downstreams treat nulls differently than empty strings. The field itself is not required and is nullable.</p>\n"},{"tags":["java","look-and-feel"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270892122,"creation_date":1270892122,"answer_id":2612892,"question_id":2612888,"body_markdown":"This is how your application looks like. Read [here][1].\r\n\r\n\r\n  [1]: http://java.sun.com/products/jlf/ed2/book/index.html","title":"What does look and feel (java swing) mean?","body":"<p>This is how your application looks like. Read <a href=\"http://java.sun.com/products/jlf/ed2/book/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1270894162,"creation_date":1270892187,"answer_id":2612893,"question_id":2612888,"body_markdown":"It means how the Graphical User Interface (GUI) looks like and behaves. Every OS has its own typical Look&amp;Feel. \r\n\r\nAt the beginning, Java had its own, but of course most people want to have their applications look like the others of their OS.\r\n\r\nYou can change the L&amp;F of your Java applications, read about it in the [tutorials][1].\r\n\r\nRead about L&amp;F in general at [Wikipedia][2].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/plaf.html\r\n  [2]: http://en.wikipedia.org/wiki/Look_and_feel","title":"What does look and feel (java swing) mean?","body":"<p>It means how the Graphical User Interface (GUI) looks like and behaves. Every OS has its own typical Look&amp;Feel. </p>\n\n<p>At the beginning, Java had its own, but of course most people want to have their applications look like the others of their OS.</p>\n\n<p>You can change the L&amp;F of your Java applications, read about it in the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"noreferrer\">tutorials</a>.</p>\n\n<p>Read about L&amp;F in general at <a href=\"http://en.wikipedia.org/wiki/Look_and_feel\" rel=\"noreferrer\">Wikipedia</a>.</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270894657,"creation_date":1270894657,"answer_id":2612995,"question_id":2612888,"body_markdown":"To directly quote the [Sun tutorials][1]:\r\n\r\n&gt; &quot;**Look**&quot; refers to the *appearance* of GUI widgets (more formally,\r\n&gt; JComponents) and &quot;**feel**&quot; refers to\r\n&gt; the way the widgets *behave*.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/plaf.html","title":"What does look and feel (java swing) mean?","body":"<p>To directly quote the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"nofollow noreferrer\">Sun tutorials</a>:</p>\n\n<blockquote>\n  <p>\"<strong>Look</strong>\" refers to the <em>appearance</em> of GUI widgets (more formally,\n  JComponents) and \"<strong>feel</strong>\" refers to\n  the way the widgets <em>behave</em>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270897930,"creation_date":1270897930,"answer_id":2613150,"question_id":2612888,"body_markdown":"Others have said it is a way to change the way your program looks and feel.\r\n\r\nTo demonstrate, go to http://java.sun.com/javase/technologies/desktop/javawebstart/demos-nojavascript.html  and launch &quot;The SwingSet Demo&quot; (requires Java installed).\r\n\r\nIn the menu under &quot;Look &amp; Feel&quot; several options exist that allows you to choose between different Look and Feels included with the default Java installation.  \r\n\r\nYou can also bring your own if you want to. See http://www.jgoodies.com/freeware/metamorphosis/index.html for a demonstration about how to tweak your Look and Feel.  You can launch the demo directly from http://www.jgoodies.com/download/demos/metamorphosis/metamorphosis.jnlp\r\n\r\n","title":"What does look and feel (java swing) mean?","body":"<p>Others have said it is a way to change the way your program looks and feel.</p>\n\n<p>To demonstrate, go to <a href=\"http://java.sun.com/javase/technologies/desktop/javawebstart/demos-nojavascript.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/technologies/desktop/javawebstart/demos-nojavascript.html</a>  and launch \"The SwingSet Demo\" (requires Java installed).</p>\n\n<p>In the menu under \"Look &amp; Feel\" several options exist that allows you to choose between different Look and Feels included with the default Java installation.  </p>\n\n<p>You can also bring your own if you want to. See <a href=\"http://www.jgoodies.com/freeware/metamorphosis/index.html\" rel=\"nofollow noreferrer\">http://www.jgoodies.com/freeware/metamorphosis/index.html</a> for a demonstration about how to tweak your Look and Feel.  You can launch the demo directly from <a href=\"http://www.jgoodies.com/download/demos/metamorphosis/metamorphosis.jnlp\" rel=\"nofollow noreferrer\">http://www.jgoodies.com/download/demos/metamorphosis/metamorphosis.jnlp</a></p>\n"},{"tags":[],"owner":{"account_id":23070214,"reputation":1,"user_id":17184093,"display_name":"L&#225;szl&#243; Somossy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659704964,"creation_date":1659704964,"answer_id":73250322,"question_id":2612888,"body_markdown":"    Swing is GUI Widget Toolkit for Java. It is an API for providing Graphical User Interface to Java Programs. Unlike AWT, Swing components are written in Java and therefore are platform-independent. Swing provides platform specific Look and Feel and also an option for pluggable Look and Feel, allowing application to have Look and Feel independent of underlying platform.\r\nInitially there were very few options for colors and other settings in Java Swing, that made the entire application look boring and monotonous. With the growth in Java framework, new changes were introduced to make the UI better and thus giving developer opportunity to enhance the look of a Java Swing Application.\r\n\r\n“Look” refers to the appearance of GUI widgets and “feel” refers to the way the widgets behave.\r\nSun’s JRE provides the following L&amp;Fs:\r\n\r\nCrossPlatformLookAndFeel: this is the “Java L&amp;F” also known as “Metal” that looks the same on all platforms. It is part of the Java API (javax.swing.plaf.metal) and is the default.\r\nSystemLookAndFeel: here, the application uses the L&amp;F that is default to the system it is running on. The System L&amp;F is determined at runtime, where the application asks the system to return the name of the appropriate L&amp;F.\r\nFor Linux and Solaris, the System L&amp;Fs are “GTK+” if GTK+ 2.2 or later is installed, “Motif” otherwise. For Windows, the System L&amp;F is “Windows”.\r\nSynth: the basis for creating your own look and feel with an XML file.\r\nMultiplexing: a way to have the UI methods delegate to a number of different look and feel implementations at the same time.","title":"What does look and feel (java swing) mean?","body":"<pre><code>Swing is GUI Widget Toolkit for Java. It is an API for providing Graphical User Interface to Java Programs. Unlike AWT, Swing components are written in Java and therefore are platform-independent. Swing provides platform specific Look and Feel and also an option for pluggable Look and Feel, allowing application to have Look and Feel independent of underlying platform.\n</code></pre>\n<p>Initially there were very few options for colors and other settings in Java Swing, that made the entire application look boring and monotonous. With the growth in Java framework, new changes were introduced to make the UI better and thus giving developer opportunity to enhance the look of a Java Swing Application.</p>\n<p>“Look” refers to the appearance of GUI widgets and “feel” refers to the way the widgets behave.\nSun’s JRE provides the following L&amp;Fs:</p>\n<p>CrossPlatformLookAndFeel: this is the “Java L&amp;F” also known as “Metal” that looks the same on all platforms. It is part of the Java API (javax.swing.plaf.metal) and is the default.\nSystemLookAndFeel: here, the application uses the L&amp;F that is default to the system it is running on. The System L&amp;F is determined at runtime, where the application asks the system to return the name of the appropriate L&amp;F.\nFor Linux and Solaris, the System L&amp;Fs are “GTK+” if GTK+ 2.2 or later is installed, “Motif” otherwise. For Windows, the System L&amp;F is “Windows”.\nSynth: the basis for creating your own look and feel with an XML file.\nMultiplexing: a way to have the UI methods delegate to a number of different look and feel implementations at the same time.</p>\n"}],"owner":{"account_id":603292,"reputation":67,"user_id":312554,"display_name":"merin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1659704964,"creation_date":1270891873,"question_id":2612888,"body_markdown":"Actually what  is meant by *look and feel*?","title":"What does look and feel (java swing) mean?","body":"<p>Actually what  is meant by <em>look and feel</em>?</p>\n"},{"tags":["java","jasper-reports","dynamic-reports"],"owner":{"account_id":25985078,"reputation":11,"user_id":19698174,"display_name":"Peggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659704820,"creation_date":1659697006,"question_id":73248650,"body_markdown":"I have implemented a Report with Jasper Dynamic Reports. \r\n\r\nIn the main report I have included in details some subreports. \r\n\r\n``` \r\n  JasperReportBuilder report = DynamicReports.report();\r\n  report.addDetail(subReport1);\r\n  report.addDetail(subReport2);\r\n```\r\n\r\nIn the produced PDF, between the subreports there is a vertical gap. Is there a way to reduce this space? \r\n\r\n\r\n\r\n","title":"Gaps between subreports in DynamicReport","body":"<p>I have implemented a Report with Jasper Dynamic Reports.</p>\n<p>In the main report I have included in details some subreports.</p>\n<pre><code>  JasperReportBuilder report = DynamicReports.report();\n  report.addDetail(subReport1);\n  report.addDetail(subReport2);\n</code></pre>\n<p>In the produced PDF, between the subreports there is a vertical gap. Is there a way to reduce this space?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1659704368,"post_id":73249695,"comment_id":129363995,"body_markdown":"While you are trying to inserting data in `invoice` table, You didn&#39;t get proper reference from `header` table. At that time your foreign key is trying to store as `null` then error is coming. Can you show me your `service` and `controller` code?","body":"While you are trying to inserting data in <code>invoice</code> table, You didn&#39;t get proper reference from <code>header</code> table. At that time your foreign key is trying to store as <code>null</code> then error is coming. Can you show me your <code>service</code> and <code>controller</code> code?"}],"answers":[{"tags":[],"owner":{"account_id":14471304,"reputation":63,"user_id":10453227,"display_name":"Bastien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659704001,"creation_date":1659703581,"answer_id":73250009,"question_id":73249695,"body_markdown":"I think this is because your `headerId` can be null because you use &quot;Long&quot; as type, wich is a good practice, but you should remove `nullable = false` inside `Invoice.java`.\r\nPut `nullable = false` inside your database rules\r\nIf this problem does not come from there, check that the headerId of your Header class is not null when you create the object that you want to save in the database","title":"JPA null value in column &quot;header_id&quot; of relation &quot;invoice&quot; violates not-null constraint with PostgresSQL","body":"<p>I think this is because your <code>headerId</code> can be null because you use &quot;Long&quot; as type, wich is a good practice, but you should remove <code>nullable = false</code> inside <code>Invoice.java</code>.\nPut <code>nullable = false</code> inside your database rules\nIf this problem does not come from there, check that the headerId of your Header class is not null when you create the object that you want to save in the database</p>\n"}],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1659704511,"creation_date":1659702127,"question_id":73249695,"body_markdown":"Getting below Error while saving data\r\n\r\n&gt;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;header_id&quot; of relation &quot;invoice&quot; violates not-null constraint\r\n  Detail: Failing row contains (...null).\r\n\r\n\r\n**Header**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;header&quot;)\r\npublic class Header implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 3363186434410305269L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;header_id&quot;)\r\n\tprivate Long headerId;\r\n\r\n\t@Column(name = &quot;submitted_by&quot;, length = 17)\r\n\tprivate String submittedBy;\r\n\r\n\t@OneToMany(mappedBy = &quot;header&quot;, cascade = CascadeType.ALL)\r\n\t@Builder.Default\r\n\tprivate List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n**Invoice**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;invoice&quot;)\r\npublic class Invoice implements Serializable {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;invoice_id&quot;)\r\n\tprivate Long invoiceId;\r\n\r\n\t@Column(name = &quot;serial_no&quot;)\r\n\tprivate Integer serialNo;\r\n\r\n\t@JsonIgnore\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;header_id&quot;, nullable = false)\r\n\tprivate Header header;\r\n}\r\n```\r\nPlease help me to solve the error.","title":"JPA null value in column &quot;header_id&quot; of relation &quot;invoice&quot; violates not-null constraint with PostgresSQL","body":"<p>Getting below Error while saving data</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;header_id&quot; of relation &quot;invoice&quot; violates not-null constraint\nDetail: Failing row contains (...null).</p>\n</blockquote>\n<p><strong>Header</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;header&quot;)\npublic class Header implements Serializable {\n\n    private static final long serialVersionUID = 3363186434410305269L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;header_id&quot;)\n    private Long headerId;\n\n    @Column(name = &quot;submitted_by&quot;, length = 17)\n    private String submittedBy;\n\n    @OneToMany(mappedBy = &quot;header&quot;, cascade = CascadeType.ALL)\n    @Builder.Default\n    private List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><strong>Invoice</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;invoice&quot;)\npublic class Invoice implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;invoice_id&quot;)\n    private Long invoiceId;\n\n    @Column(name = &quot;serial_no&quot;)\n    private Integer serialNo;\n\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;header_id&quot;, nullable = false)\n    private Header header;\n}\n</code></pre>\n<p>Please help me to solve the error.</p>\n"},{"tags":["java","rate-limiting"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1659706106,"post_id":73249688,"comment_id":129364649,"body_markdown":"I do not think you will get an answer inside of HTTPClient, because what you want to do on rate limits depends on the application... Abandon all ? Retry later ? Not even try if you know you&#39;ll hit a limit ? Preemptively schedule requests before even reaching the limit, keeping a safety margin ? It all actually is **application specific**, and not at all **http related**. It&#39;s an integration issue. I *think* your best bet would be to design an async component around your API call, with messaging policies for implementing throughput control. There may be libs that already package this.","body":"I do not think you will get an answer inside of HTTPClient, because what you want to do on rate limits depends on the application... Abandon all ? Retry later ? Not even try if you know you&#39;ll hit a limit ? Preemptively schedule requests before even reaching the limit, keeping a safety margin ? It all actually is <b>application specific</b>, and not at all <b>http related</b>. It&#39;s an integration issue. I <i>think</i> your best bet would be to design an async component around your API call, with messaging policies for implementing throughput control. There may be libs that already package this."}],"owner":{"account_id":6506273,"reputation":101,"user_id":5035058,"accept_rate":83,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659704455,"creation_date":1659702091,"question_id":73249688,"body_markdown":"Hopefully you can help me with the following: Some webshop APIs have a Rate limit process built in. Rate limit is an important element in keeping their IT landscape safe and reliable on the one hand, and fairly distributing the available capacity on the other.\r\n\r\nFor example, we request stock data from a JAVA process, using an http client (groupId: org.apache.httpcomponents, version 4.5.5). While executing this request, we exceed the Rate limit.Each response message contains information about rate limits, such as how much request budget you have left, when the budget will be replenished, and so on. \r\n\r\nQuestion: do you also run into this, and how can you solve this by means of apache httpcomponents? Side node: authentication token is only valid for 5 minutes, how can you refresh it before retrying the call after receiving a 429 response code.\r\n\r\nI would like to hear from you\r\n\r\n\r\n","title":"Apache httpclient / Java: Rate limits (429)","body":"<p>Hopefully you can help me with the following: Some webshop APIs have a Rate limit process built in. Rate limit is an important element in keeping their IT landscape safe and reliable on the one hand, and fairly distributing the available capacity on the other.</p>\n<p>For example, we request stock data from a JAVA process, using an http client (groupId: org.apache.httpcomponents, version 4.5.5). While executing this request, we exceed the Rate limit.Each response message contains information about rate limits, such as how much request budget you have left, when the budget will be replenished, and so on.</p>\n<p>Question: do you also run into this, and how can you solve this by means of apache httpcomponents? Side node: authentication token is only valid for 5 minutes, how can you refresh it before retrying the call after receiving a 429 response code.</p>\n<p>I would like to hear from you</p>\n"},{"tags":["java","icalendar"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1659702346,"post_id":73249693,"comment_id":129363199,"body_markdown":"I don&#39;t know the library but quickly checking the contract of VEvent, it looks like [this is what you&#39;re looking for](https://github.com/mangstadt/biweekly/blob/master/src/main/java/biweekly/component/VEvent.java#L501)?","body":"I don&#39;t know the library but quickly checking the contract of VEvent, it looks like <a href=\"https://github.com/mangstadt/biweekly/blob/master/src/main/java/biweekly/component/VEvent.java#L501\" rel=\"nofollow noreferrer\">this is what you&#39;re looking for</a>?"},{"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"score":0,"creation_date":1659704156,"post_id":73249693,"comment_id":129363929,"body_markdown":"OMG I cant believe I missed that!!!! Thx @MatteoNNZ. If you want to put that as an answer I&#39;ll mark it as correct.","body":"OMG I cant believe I missed that!!!! Thx @MatteoNNZ. If you want to put that as an answer I&#39;ll mark it as correct."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659704369,"post_id":73249693,"comment_id":129363997,"body_markdown":"Done, glad to be of help :)","body":"Done, glad to be of help :)"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659704360,"creation_date":1659704360,"answer_id":73250189,"question_id":73249693,"body_markdown":"As discussed in comments, it seems the method you&#39;re looking for is `getStatus()` of the class `VEvent`:\r\n\r\n    /**\r\n\t * Gets the status of the event.\r\n\t * @return the status or null if not set\r\n\t * @see &lt;a href=&quot;http://tools.ietf.org/html/rfc5545#page-92&quot;&gt;RFC 5545\r\n\t * p.92-3&lt;/a&gt;\r\n\t * @see &lt;a href=&quot;http://tools.ietf.org/html/rfc2445#page-88&quot;&gt;RFC 2445\r\n\t * p.88-9&lt;/a&gt;\r\n\t * @see &lt;a href=&quot;http://www.imc.org/pdi/vcal-10.doc&quot;&gt;vCal 1.0 p.35-6&lt;/a&gt;\r\n\t */\r\n\tpublic Status getStatus() {\r\n\t\treturn getProperty(Status.class);\r\n\t}\r\n\r\nGitHub documentation: https://github.com/mangstadt/biweekly/blob/master/src/main/java/biweekly/component/VEvent.java#L501.\r\n\r\nBe careful when you handle this value, according to the documentation it may be `null` so always null-check before doing whatever you think to do. ","title":"Evaluate if iCal `event` is currently in progress","body":"<p>As discussed in comments, it seems the method you're looking for is <code>getStatus()</code> of the class <code>VEvent</code>:</p>\n<pre><code>/**\n * Gets the status of the event.\n * @return the status or null if not set\n * @see &lt;a href=&quot;http://tools.ietf.org/html/rfc5545#page-92&quot;&gt;RFC 5545\n * p.92-3&lt;/a&gt;\n * @see &lt;a href=&quot;http://tools.ietf.org/html/rfc2445#page-88&quot;&gt;RFC 2445\n * p.88-9&lt;/a&gt;\n * @see &lt;a href=&quot;http://www.imc.org/pdi/vcal-10.doc&quot;&gt;vCal 1.0 p.35-6&lt;/a&gt;\n */\npublic Status getStatus() {\n    return getProperty(Status.class);\n}\n</code></pre>\n<p>GitHub documentation: <a href=\"https://github.com/mangstadt/biweekly/blob/master/src/main/java/biweekly/component/VEvent.java#L501\" rel=\"nofollow noreferrer\">https://github.com/mangstadt/biweekly/blob/master/src/main/java/biweekly/component/VEvent.java#L501</a>.</p>\n<p>Be careful when you handle this value, according to the documentation it may be <code>null</code> so always null-check before doing whatever you think to do.</p>\n"}],"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73250189,"answer_count":1,"score":0,"last_activity_date":1659704360,"creation_date":1659702109,"question_id":73249693,"body_markdown":"Im currently using a library called [biweekly][1] to parse iCal events in java. I have no issue swapping libraries if a better solution is present so all java related solutions would be welcome. \r\n\r\nIm trying to create a function that checks an iCal schedule to work out if any events are currently `in progress` / `active`.\r\n\r\nBiweekly helped cleanly parse the iCal schedule events like this: \r\n\r\n```java\r\n\r\nList&lt;ICalendar&gt; icals = Biweekly.parse(schedule).all();\r\n\r\nfor (ICalendar ical : icals) {\r\n\r\n    for (VEvent event : ical.getEvents()) {\r\n\r\n        // I need to compute if the event is currently active\r\n\r\n    }\r\n}\r\n```\r\n\r\nWe found an example that helps get the events as a `DateIterator` but we can&#39;t as yet connect that to knowing if an event is currently active.\r\n\r\n```java \r\n\r\nTimezoneInfo tzInfo = ical.getTimezoneInfo();\r\n\r\nDateStart dateStart = event.getDateStart();\r\n\r\nTimeZone timezone;\r\nif (tzInfo.isFloating(dateStart)){\r\n    timezone = TimeZone.getDefault();\r\n} else {\r\n    TimezoneAssignment timezoneAssignment = tzInfo.getTimezone(dateStart);\r\n    timezone = (timezoneAssignment == null) ? TimeZone.getTimeZone(&quot;UTC&quot;) : \r\n    timezoneAssignment.getTimeZone();\r\n}\r\n\r\nDateIterator it = event.getDateIterator(timezone);\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/mangstadt/biweekly","title":"Evaluate if iCal `event` is currently in progress","body":"<p>Im currently using a library called <a href=\"https://github.com/mangstadt/biweekly\" rel=\"nofollow noreferrer\">biweekly</a> to parse iCal events in java. I have no issue swapping libraries if a better solution is present so all java related solutions would be welcome.</p>\n<p>Im trying to create a function that checks an iCal schedule to work out if any events are currently <code>in progress</code> / <code>active</code>.</p>\n<p>Biweekly helped cleanly parse the iCal schedule events like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nList&lt;ICalendar&gt; icals = Biweekly.parse(schedule).all();\n\nfor (ICalendar ical : icals) {\n\n    for (VEvent event : ical.getEvents()) {\n\n        // I need to compute if the event is currently active\n\n    }\n}\n</code></pre>\n<p>We found an example that helps get the events as a <code>DateIterator</code> but we can't as yet connect that to knowing if an event is currently active.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nTimezoneInfo tzInfo = ical.getTimezoneInfo();\n\nDateStart dateStart = event.getDateStart();\n\nTimeZone timezone;\nif (tzInfo.isFloating(dateStart)){\n    timezone = TimeZone.getDefault();\n} else {\n    TimezoneAssignment timezoneAssignment = tzInfo.getTimezone(dateStart);\n    timezone = (timezoneAssignment == null) ? TimeZone.getTimeZone(&quot;UTC&quot;) : \n    timezoneAssignment.getTimeZone();\n}\n\nDateIterator it = event.getDateIterator(timezone);\n\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1659691279,"post_id":73247392,"comment_id":129359426,"body_markdown":"What implementation of List is it?","body":"What implementation of List is it?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1659691445,"post_id":73247392,"comment_id":129359476,"body_markdown":"&quot;*So in my understanding the rule says size() has a runtime of O(n)*&quot; No. For *some specific collections* it&#39;s O(n). For e.g. ArrayList, it&#39;s O(1)","body":"&quot;<i>So in my understanding the rule says size() has a runtime of O(n)</i>&quot; No. For <i>some specific collections</i> it&#39;s O(n). For e.g. ArrayList, it&#39;s O(1)"},{"owner":{"account_id":13142464,"reputation":3,"user_id":9493588,"display_name":"Ram Reso"},"score":0,"creation_date":1659691501,"post_id":73247392,"comment_id":129359495,"body_markdown":"its a LinkedList from java.util.LinkedList.","body":"its a LinkedList from java.util.LinkedList."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1659691573,"post_id":73247392,"comment_id":129359512,"body_markdown":"LinkedList.size() is O(1).","body":"LinkedList.size() is O(1)."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659691613,"post_id":73247392,"comment_id":129359527,"body_markdown":"Java&#39;s `LinkedList` has some optimisations unlike &quot;classic&quot; data structure","body":"Java&#39;s <code>LinkedList</code> has some optimisations unlike &quot;classic&quot; data structure"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1659691648,"post_id":73247392,"comment_id":129359539,"body_markdown":"LinkedList also has `getLast` directly, FYI","body":"LinkedList also has <code>getLast</code> directly, FYI"},{"owner":{"account_id":13142464,"reputation":3,"user_id":9493588,"display_name":"Ram Reso"},"score":0,"creation_date":1659691981,"post_id":73247392,"comment_id":129359645,"body_markdown":"I&#39;m not sure but I think that LinkedList does not have getLast.","body":"I&#39;m not sure but I think that LinkedList does not have getLast."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659693173,"post_id":73247392,"comment_id":129360061,"body_markdown":"`LinkedList` does have a [`getLast()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html#getLast()) method.","body":"<code>LinkedList</code> does have a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast()</code></a> method."}],"answers":[{"tags":[],"owner":{"account_id":13142464,"reputation":3,"user_id":9493588,"display_name":"Ram Reso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659692367,"creation_date":1659692367,"answer_id":73247696,"question_id":73247392,"body_markdown":"The answer to this question was that a ```LinkedList.getSize()``` only has a complexity of O(1). So it was not relevant for me.","title":"Is there a way to get the last element of a list faster than O(n) in Java?","body":"<p>The answer to this question was that a <code>LinkedList.getSize()</code> only has a complexity of O(1). So it was not relevant for me.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659704066,"creation_date":1659704066,"answer_id":73250126,"question_id":73247392,"body_markdown":"```list.get(list.size()-1)``` would always be O(n) because a linked list is not a random access data structure like a primitive array.  To retrieve a value of a given position in the list, you would have to traverse the list starting at the first node until you get to the node of the position you want.  So, don&#39;t use ```list.get(index)``` to retrieve the last element.  Many implementation maintain a reference to the last node in the list so that retrieving the last element is O(1).  I don&#39;t have the code of ```java.util.LinkedList``` but I would imagine its method ```getLast()``` is O(1).\r\n","title":"Is there a way to get the last element of a list faster than O(n) in Java?","body":"<p><code>list.get(list.size()-1)</code> would always be O(n) because a linked list is not a random access data structure like a primitive array.  To retrieve a value of a given position in the list, you would have to traverse the list starting at the first node until you get to the node of the position you want.  So, don't use <code>list.get(index)</code> to retrieve the last element.  Many implementation maintain a reference to the last node in the list so that retrieving the last element is O(1).  I don't have the code of <code>java.util.LinkedList</code> but I would imagine its method <code>getLast()</code> is O(1).</p>\n"}],"owner":{"account_id":13142464,"reputation":3,"user_id":9493588,"display_name":"Ram Reso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73250126,"answer_count":2,"score":-3,"last_activity_date":1659704066,"creation_date":1659690940,"question_id":73247392,"body_markdown":"I have the following code, where ```getIDs()``` returns a list of IDs:\r\n```\r\nList&lt;Long&gt; ids = getIds();\r\nLong neededID = ids.get(ids.size()-1);\r\n\r\n```\r\nNow sonarqube says:\r\n\r\n&gt; Collection methods with O(n) performance should be used carefully (java:S2250)\r\nThe time complexity of method calls on collections is not always obvious. For instance, for most collections the size() method takes constant time, but the time required to execute ConcurrentLinkedQueue.size() is O(n), i.e. directly proportional to the number of elements in the collection. When the collection is large, this could therefore be an expensive operation.\r\nThis rule raises an issue when the following O(n) methods are called outside of constructors on class fields:\r\n\r\nI did not find any public link to show you that rule.\r\n\r\nSo in my understanding the rule says ```size()``` has a runtime of O(n) and I could ```get()``` an element of the list faster if I would know the last index. So my question is now if there is an way to get the last element of the list faster, without using ```size()```.\r\n\r\nI have already done some search but the only thing that I found if I search for get last element of list is that you can use ```list.get(list.size()-1)```.","title":"Is there a way to get the last element of a list faster than O(n) in Java?","body":"<p>I have the following code, where <code>getIDs()</code> returns a list of IDs:</p>\n<pre><code>List&lt;Long&gt; ids = getIds();\nLong neededID = ids.get(ids.size()-1);\n\n</code></pre>\n<p>Now sonarqube says:</p>\n<blockquote>\n<p>Collection methods with O(n) performance should be used carefully (java:S2250)\nThe time complexity of method calls on collections is not always obvious. For instance, for most collections the size() method takes constant time, but the time required to execute ConcurrentLinkedQueue.size() is O(n), i.e. directly proportional to the number of elements in the collection. When the collection is large, this could therefore be an expensive operation.\nThis rule raises an issue when the following O(n) methods are called outside of constructors on class fields:</p>\n</blockquote>\n<p>I did not find any public link to show you that rule.</p>\n<p>So in my understanding the rule says <code>size()</code> has a runtime of O(n) and I could <code>get()</code> an element of the list faster if I would know the last index. So my question is now if there is an way to get the last element of the list faster, without using <code>size()</code>.</p>\n<p>I have already done some search but the only thing that I found if I search for get last element of list is that you can use <code>list.get(list.size()-1)</code>.</p>\n"},{"tags":["java","linux","cron"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659703795,"post_id":73250011,"comment_id":129363783,"body_markdown":"Looks like the 2nd way is not using the correct java version. Possibly because `cron` doesn&#39;t load some environment variable. Try and give `cron` the full path of the `java` command.","body":"Looks like the 2nd way is not using the correct java version. Possibly because <code>cron</code> doesn&#39;t load some environment variable. Try and give <code>cron</code> the full path of the <code>java</code> command."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659704051,"creation_date":1659704051,"answer_id":73250122,"question_id":73250011,"body_markdown":"Most probably you have two different Java Runtimes installed in this machine.\r\n\r\n - A newer one is found in the PATH that the shell uses for your manual script.\r\n   \r\n - An older one is found from cron&#39;s environment.\r\n\r\n - Your java class has been compiled with a compiler newer than the cron-found Java version, but not newer than the shell-found Java.\r\n\r\nA Java class compiled with e.g. Java 11 can not be executed by e.g. a Java 8, but by a Java 11 and later.\r\n\r\nCheck the versions by executing `java -version` from the shell and from the cron job.","title":"same script producing two different outputs with two different ways of execution in linux server","body":"<p>Most probably you have two different Java Runtimes installed in this machine.</p>\n<ul>\n<li><p>A newer one is found in the PATH that the shell uses for your manual script.</p>\n</li>\n<li><p>An older one is found from cron's environment.</p>\n</li>\n<li><p>Your java class has been compiled with a compiler newer than the cron-found Java version, but not newer than the shell-found Java.</p>\n</li>\n</ul>\n<p>A Java class compiled with e.g. Java 11 can not be executed by e.g. a Java 8, but by a Java 11 and later.</p>\n<p>Check the versions by executing <code>java -version</code> from the shell and from the cron job.</p>\n"}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659704051,"creation_date":1659703584,"question_id":73250011,"body_markdown":"I had one script which has java class being called in this script.. but this script is giving two different outputs while executing in two different ways in linux machine\r\n\r\n1st way is if i execute the script manually ./test.ksh  the java class is successfully executed and giving correct output\r\n\r\n2nd way i am executing the script through cron job then it is giving java error `UnsupportedClassVersionError` for java class file\r\n\r\nI had not made any changes to that java class but it is responding in two different ways","title":"same script producing two different outputs with two different ways of execution in linux server","body":"<p>I had one script which has java class being called in this script.. but this script is giving two different outputs while executing in two different ways in linux machine</p>\n<p>1st way is if i execute the script manually ./test.ksh  the java class is successfully executed and giving correct output</p>\n<p>2nd way i am executing the script through cron job then it is giving java error <code>UnsupportedClassVersionError</code> for java class file</p>\n<p>I had not made any changes to that java class but it is responding in two different ways</p>\n"},{"tags":["java","encryption","go","cryptography"],"answers":[{"tags":[],"owner":{"account_id":6318632,"reputation":12003,"user_id":4907630,"display_name":"eugenioy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1495251216,"creation_date":1495251216,"answer_id":44081638,"question_id":44081175,"body_markdown":"From the Go code you shared in your playground:\r\n\r\n    // The IV needs to be unique, but not secure. Therefore it&#39;s common to\r\n\t// include it at the beginning of the ciphertext.\r\n    ...\r\n    iv := ciphertext[:aes.BlockSize]\r\n\tciphertext = ciphertext[aes.BlockSize:]\r\n\r\nSo as you can see, this code is expecting the first 16 bytes of the `ciphertext` to be the IV.\r\n\r\nHowever, in your Java code, you do just:\r\n\r\n    encryptedStr = DatatypeConverter.printBase64Binary(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n\r\nSo you encrypt the string, and that&#39;s all you are returning (and then using in the Go program).\r\n\r\nAs we saw, the Go code is removing 16 bytes from the ciphertext and that&#39;s why you are missing data.\r\n\r\nI&#39;d suggest you change your Java code to include the IV at the beginning of the string to match what your Go code expects.\r\n\r\nYou can change your `encryptWithIVandKey` method in Java to read:\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            SecretKey key = generateKey(passphrase);\r\n            byte[] ivBytes = DatatypeConverter.parseBase64Binary(iv);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(ivBytes));\r\n            byte[] encBytes = cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;));\r\n            // concat iv + encripted bytes\r\n            byte[] concat = new byte[ivBytes.length + encBytes.length];\r\n            System.arraycopy(ivBytes, 0, concat, 0, ivBytes.length);\r\n            System.arraycopy(encBytes, 0, concat, ivBytes.length, encBytes.length);\r\n            encryptedStr = DatatypeConverter.printBase64Binary(concat);\r\n\r\nThe change here is that we are concatenating the IV + the encrypted string before encoding to Base64.\r\n\r\nThe resulting Base64 is then:\r\n\r\n    adAz5d5J3PAOuxntOe/9uMJgFHwIcdKobhRSKXwspmnxFlSlF40dtBYf9VSY34fU\r\n\r\nAnd if you try that String in your Go code it will produce the output you expect.\r\n","title":"First 16 characters missing - Java AES CBC encryption and golang decryption","body":"<p>From the Go code you shared in your playground:</p>\n\n<pre><code>// The IV needs to be unique, but not secure. Therefore it's common to\n// include it at the beginning of the ciphertext.\n...\niv := ciphertext[:aes.BlockSize]\nciphertext = ciphertext[aes.BlockSize:]\n</code></pre>\n\n<p>So as you can see, this code is expecting the first 16 bytes of the <code>ciphertext</code> to be the IV.</p>\n\n<p>However, in your Java code, you do just:</p>\n\n<pre><code>encryptedStr = DatatypeConverter.printBase64Binary(cipher.doFinal(strToEncrypt.getBytes(\"UTF-8\")));\n</code></pre>\n\n<p>So you encrypt the string, and that's all you are returning (and then using in the Go program).</p>\n\n<p>As we saw, the Go code is removing 16 bytes from the ciphertext and that's why you are missing data.</p>\n\n<p>I'd suggest you change your Java code to include the IV at the beginning of the string to match what your Go code expects.</p>\n\n<p>You can change your <code>encryptWithIVandKey</code> method in Java to read:</p>\n\n<pre><code>        Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n        SecretKey key = generateKey(passphrase);\n        byte[] ivBytes = DatatypeConverter.parseBase64Binary(iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(ivBytes));\n        byte[] encBytes = cipher.doFinal(strToEncrypt.getBytes(\"UTF-8\"));\n        // concat iv + encripted bytes\n        byte[] concat = new byte[ivBytes.length + encBytes.length];\n        System.arraycopy(ivBytes, 0, concat, 0, ivBytes.length);\n        System.arraycopy(encBytes, 0, concat, ivBytes.length, encBytes.length);\n        encryptedStr = DatatypeConverter.printBase64Binary(concat);\n</code></pre>\n\n<p>The change here is that we are concatenating the IV + the encrypted string before encoding to Base64.</p>\n\n<p>The resulting Base64 is then:</p>\n\n<pre><code>adAz5d5J3PAOuxntOe/9uMJgFHwIcdKobhRSKXwspmnxFlSlF40dtBYf9VSY34fU\n</code></pre>\n\n<p>And if you try that String in your Go code it will produce the output you expect.</p>\n"},{"tags":[],"owner":{"account_id":6508806,"reputation":532,"user_id":5036841,"display_name":"Vishnu M. D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659703990,"creation_date":1659703990,"answer_id":73250110,"question_id":44081175,"body_markdown":"This is not recommend but try adding 16 spaces to your string before encryption ","title":"First 16 characters missing - Java AES CBC encryption and golang decryption","body":"<p>This is not recommend but try adding 16 spaces to your string before encryption</p>\n"}],"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44081638,"answer_count":2,"score":1,"last_activity_date":1659703990,"creation_date":1495245459,"question_id":44081175,"body_markdown":"I have used following code to encrypt and decrypt data in Java. Encryption and Decryption is working fine.\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.security.SecureRandom;\r\n    \r\n    public class MainNew {\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n            String iv = getEncryptionIV();\r\n            System.out.println(&quot; iv = &quot;+iv);\r\n    \r\n            String encryptedData= encryptWithIVandKey(iv,encryptionKey,&quot;hello world! golang is awesome!&quot;);\r\n            System.out.println(encryptedData);\r\n            String decryptedData = decrypt (iv,encryptionKey,encryptedData);\r\n            System.out.println(decryptedData);\r\n        }\r\n    \r\n    \r\n        static final String encryptionKey = &quot;rakesh1@n1111112&quot;;\r\n    \r\n    \r\n        static byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\r\n    \r\n            try {\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                cipher.init(encryptMode, key, new IvParameterSpec(DatatypeConverter.parseBase64Binary(iv)));\r\n                byte[] data = cipher.doFinal(bytes);\r\n    \r\n                return data;\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(e);\r\n            }\r\n            return null;\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        static SecretKey generateKey(String passphrase) {\r\n    \r\n            SecretKey key = null;\r\n    \r\n            try {\r\n    \r\n                key = new SecretKeySpec(passphrase.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(e);\r\n            }\r\n    \r\n            return key;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        static String getEncryptionIV() {\r\n            SecureRandom random = new SecureRandom();\r\n            byte[] ivBytes = new byte[16];\r\n            random.nextBytes(ivBytes);\r\n            return DatatypeConverter.printBase64Binary(ivBytes);\r\n        }\r\n    \r\n        static String encryptWithIVandKey( String iv, String passphrase, final String strToEncrypt) {\r\n            String encryptedStr = &quot;&quot;;\r\n    \r\n            try {\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                SecretKey key = generateKey(passphrase);\r\n                cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(DatatypeConverter.parseBase64Binary(iv)));\r\n    \r\n                encryptedStr = DatatypeConverter.printBase64Binary(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(e);\r\n            }\r\n    \r\n    \r\n            return encryptedStr;\r\n        }\r\n    \r\n        static String decrypt(String iv, String passphrase, String ciphertext) {\r\n            try {\r\n                SecretKey key = generateKey(passphrase);\r\n                byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, DatatypeConverter.parseBase64Binary(ciphertext));\r\n                return new String(decrypted, &quot;UTF-8&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(e);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nBut if I decrypt in golang using https://play.golang.org/p/u4fip_ZW6a code. First 16 characters are missing in the decrypted value.","title":"First 16 characters missing - Java AES CBC encryption and golang decryption","body":"<p>I have used following code to encrypt and decrypt data in Java. Encryption and Decryption is working fine.</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.xml.bind.DatatypeConverter;\nimport java.security.SecureRandom;\n\npublic class MainNew {\n\n    public static void main(String[] args) throws Exception{\n        String iv = getEncryptionIV();\n        System.out.println(\" iv = \"+iv);\n\n        String encryptedData= encryptWithIVandKey(iv,encryptionKey,\"hello world! golang is awesome!\");\n        System.out.println(encryptedData);\n        String decryptedData = decrypt (iv,encryptionKey,encryptedData);\n        System.out.println(decryptedData);\n    }\n\n\n    static final String encryptionKey = \"rakesh1@n1111112\";\n\n\n    static byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\n\n        try {\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n            cipher.init(encryptMode, key, new IvParameterSpec(DatatypeConverter.parseBase64Binary(iv)));\n            byte[] data = cipher.doFinal(bytes);\n\n            return data;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        }\n        return null;\n\n    }\n\n\n\n    static SecretKey generateKey(String passphrase) {\n\n        SecretKey key = null;\n\n        try {\n\n            key = new SecretKeySpec(passphrase.getBytes(\"UTF-8\"), \"AES\");\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        }\n\n        return key;\n    }\n\n\n\n\n    static String getEncryptionIV() {\n        SecureRandom random = new SecureRandom();\n        byte[] ivBytes = new byte[16];\n        random.nextBytes(ivBytes);\n        return DatatypeConverter.printBase64Binary(ivBytes);\n    }\n\n    static String encryptWithIVandKey( String iv, String passphrase, final String strToEncrypt) {\n        String encryptedStr = \"\";\n\n        try {\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n            SecretKey key = generateKey(passphrase);\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(DatatypeConverter.parseBase64Binary(iv)));\n\n            encryptedStr = DatatypeConverter.printBase64Binary(cipher.doFinal(strToEncrypt.getBytes(\"UTF-8\")));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        }\n\n\n        return encryptedStr;\n    }\n\n    static String decrypt(String iv, String passphrase, String ciphertext) {\n        try {\n            SecretKey key = generateKey(passphrase);\n            byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, DatatypeConverter.parseBase64Binary(ciphertext));\n            return new String(decrypted, \"UTF-8\");\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        }\n        return \"\";\n    }\n\n}\n</code></pre>\n\n<p>But if I decrypt in golang using <a href=\"https://play.golang.org/p/u4fip_ZW6a\" rel=\"nofollow noreferrer\">https://play.golang.org/p/u4fip_ZW6a</a> code. First 16 characters are missing in the decrypted value.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1659702685,"post_id":73249708,"comment_id":129363341,"body_markdown":"rename it to `resources` and it will end up in your jar.","body":"rename it to <code>resources</code> and it will end up in your jar."},{"owner":{"account_id":1927596,"reputation":587,"user_id":1737686,"display_name":"Ren&#233; P&#246;pperl"},"score":0,"creation_date":1659703206,"post_id":73249708,"comment_id":129363537,"body_markdown":"Sorry, I forgot to mention, that this is not an option in this case. See my edit above.","body":"Sorry, I forgot to mention, that this is not an option in this case. See my edit above."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659703544,"post_id":73249708,"comment_id":129363680,"body_markdown":"When the application is deployed, is the `assets` folder created as a subfolder of the root folder of the deployment? For example, if I deploy your application (on Windows) to `C:\\Users\\Abra`, will there be a `C:\\Users\\Abra\\assets` folder?","body":"When the application is deployed, is the <code>assets</code> folder created as a subfolder of the root folder of the deployment? For example, if I deploy your application (on Windows) to <code>C:\\Users\\Abra</code>, will there be a <code>C:\\Users\\Abra\\assets</code> folder?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659703699,"post_id":73249708,"comment_id":129363743,"body_markdown":"`System.getProperty(&quot;user.dir&quot;)` will return the working directory.","body":"<code>System.getProperty(&quot;user.dir&quot;)</code> will return the working directory."},{"owner":{"account_id":1927596,"reputation":587,"user_id":1737686,"display_name":"Ren&#233; P&#246;pperl"},"score":0,"creation_date":1659703859,"post_id":73249708,"comment_id":129363806,"body_markdown":"There will be a folder like C:\\Program Files\\App\\assets. But when my current working directory is D:\\somewhere I can&#39;t access my folder using `./assets` because that would give me `D:\\somewhere\\assets` ...","body":"There will be a folder like C:\\Program Files\\App\\assets. But when my current working directory is D:\\somewhere I can&#39;t access my folder using <code>.&#47;assets</code> because that would give me <code>D:\\somewhere\\assets</code> ..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659704216,"post_id":73249708,"comment_id":129363949,"body_markdown":"What about defining an environment variable that stores the root folder of the deployed application like `ANT_HOME` which is required by [Apache Ant](https://ant.apache.org/manual/install.html) ?","body":"What about defining an environment variable that stores the root folder of the deployed application like <code>ANT_HOME</code> which is required by <a href=\"https://ant.apache.org/manual/install.html\" rel=\"nofollow noreferrer\">Apache Ant</a> ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1659704339,"post_id":73249708,"comment_id":129363986,"body_markdown":"How are you creating your MSI? I think there environment variables/ System properties that will tell you what the executable is.","body":"How are you creating your MSI? I think there environment variables/ System properties that will tell you what the executable is."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1659704495,"post_id":73249708,"comment_id":129364043,"body_markdown":"there is also user.home https://stackoverflow.com/a/16239152/2067492","body":"there is also user.home <a href=\"https://stackoverflow.com/a/16239152/2067492\">stackoverflow.com/a/16239152/2067492</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1659872807,"post_id":73249708,"comment_id":129393530,"body_markdown":"I&#39;d store the assets as resources, but when the program starts, check for a `&lt;user.home&gt;/Appassets` directory, and if it doesn&#39;t exist, (i.e. the first time we start) create it and copy the resources to that directory and afterwards use them.","body":"I&#39;d store the assets as resources, but when the program starts, check for a <code>&lt;user.home&gt;&#47;Appassets</code> directory, and if it doesn&#39;t exist, (i.e. the first time we start) create it and copy the resources to that directory and afterwards use them."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1659877812,"post_id":73249708,"comment_id":129394692,"body_markdown":"This would be very easy with `jpackage` application, but not easy to answer unless you give more info on the packager and what settings your application defines. The app ought to copy the reference version of `assets` to a user storage if not exists there. However there are plenty of different env settings which might be relevant depending on your circumstances and platforms. eg copy to `Path.of(System.getenv(XYZ), &quot;assets&quot;)`)  where XYZ = &quot;LOCALAPPDATA&quot; | &quot;APPDATA&quot; |  &quot;user.home&quot; being a just a few of the choices.","body":"This would be very easy with <code>jpackage</code> application, but not easy to answer unless you give more info on the packager and what settings your application defines. The app ought to copy the reference version of <code>assets</code> to a user storage if not exists there. However there are plenty of different env settings which might be relevant depending on your circumstances and platforms. eg copy to <code>Path.of(System.getenv(XYZ), &quot;assets&quot;)</code>)  where XYZ = &quot;LOCALAPPDATA&quot; | &quot;APPDATA&quot; |  &quot;user.home&quot; being a just a few of the choices."}],"answers":[{"tags":[],"owner":{"account_id":2817178,"reputation":3,"user_id":2421887,"display_name":"lorenzo.lambertini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659702996,"creation_date":1659702996,"answer_id":73249889,"question_id":73249708,"body_markdown":"If you put your files/resources inside your source folder, you can access them through ClassName.getResource() and ClassName.getResourceAsStream() methods.","title":"How to access files relative to the applications folder, independent of the current working directory?","body":"<p>If you put your files/resources inside your source folder, you can access them through ClassName.getResource() and ClassName.getResourceAsStream() methods.</p>\n"},{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659703814,"creation_date":1659703169,"answer_id":73249918,"question_id":73249708,"body_markdown":"use a config file or maven profiles (local and production)\r\nin that config or profile define a folder where the files are\r\n\r\nold anwser:\r\nuse Resources, the files in the jar (i assume your application is in a jar)\r\nwill be accessible using the\r\n\r\n `URL url = Main.class.getResource(&quot;filename&quot;)` \r\n\r\nor\r\n \r\n`Inputstream stream = Main.class.getResourceAsStream(&quot;filename&quot;)`\r\n\r\nreplace &#39;Main&#39; with your classname\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\r\n\r\nhttps://www.tutorialspoint.com/java/lang/class_getresourceasstream.htm\r\n","title":"How to access files relative to the applications folder, independent of the current working directory?","body":"<p>use a config file or maven profiles (local and production)\nin that config or profile define a folder where the files are</p>\n<p>old anwser:\nuse Resources, the files in the jar (i assume your application is in a jar)\nwill be accessible using the</p>\n<p><code>URL url = Main.class.getResource(&quot;filename&quot;)</code></p>\n<p>or</p>\n<p><code>Inputstream stream = Main.class.getResourceAsStream(&quot;filename&quot;)</code></p>\n<p>replace 'Main' with your classname</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html</a></p>\n<p><a href=\"https://www.tutorialspoint.com/java/lang/class_getresourceasstream.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/lang/class_getresourceasstream.htm</a></p>\n"}],"owner":{"account_id":1927596,"reputation":587,"user_id":1737686,"display_name":"Ren&#233; P&#246;pperl"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659703814,"creation_date":1659702189,"question_id":73249708,"body_markdown":"I&#39;m developing a Java SE 11 Maven project. In my project I have a folder called `assets` (it&#39;s a sibling of the `src` folder). This folder contains several folders and files. The whole folder has to be available at the application path - during development (in Netbeans) AND when it is deployed via an MSI package. \r\n\r\nWhen running in the IDE, my assets live in `&lt;projectRoot&gt;/assets`, while my current working dir is `&lt;projectRoot&gt;`. And that&#39;s ok. I can access the assets folder via `./assets` from my current working directory.\r\n\r\nBut when I deploy my application, the current working directory might be something else, but not the application folder. So accessing the assets folder via `./assets` will fail.\r\n\r\nWhat&#39;s the best approach in Java SE, to access a folder within the application&#39;s folder, independent of the current working directory?\r\n\r\nTurning the `assets` into a resource folder is not an option, because the files must editable by the user. The `assets` folder has to reside directly in the file system.","title":"How to access files relative to the applications folder, independent of the current working directory?","body":"<p>I'm developing a Java SE 11 Maven project. In my project I have a folder called <code>assets</code> (it's a sibling of the <code>src</code> folder). This folder contains several folders and files. The whole folder has to be available at the application path - during development (in Netbeans) AND when it is deployed via an MSI package.</p>\n<p>When running in the IDE, my assets live in <code>&lt;projectRoot&gt;/assets</code>, while my current working dir is <code>&lt;projectRoot&gt;</code>. And that's ok. I can access the assets folder via <code>./assets</code> from my current working directory.</p>\n<p>But when I deploy my application, the current working directory might be something else, but not the application folder. So accessing the assets folder via <code>./assets</code> will fail.</p>\n<p>What's the best approach in Java SE, to access a folder within the application's folder, independent of the current working directory?</p>\n<p>Turning the <code>assets</code> into a resource folder is not an option, because the files must editable by the user. The <code>assets</code> folder has to reside directly in the file system.</p>\n"},{"tags":["javascript","java","javafx","webview"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1659571010,"post_id":73228934,"comment_id":129328611,"body_markdown":"At the time the line marked `//does not work` is executed, the page is not loaded.  The page is loaded when it receives a [load event](https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event).","body":"At the time the line marked <code>&#47;&#47;does not work</code> is executed, the page is not loaded.  The page is loaded when it receives a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event\" rel=\"nofollow noreferrer\">load event</a>."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1659572417,"post_id":73228934,"comment_id":129328832,"body_markdown":"@jewelsea Thanks for the answer. I tried the way you suggested but it doesn&#39;t work. If you run the html code, you can see that there will be 3 errors. When running this html in my javafx application, these errors should not occur, since these methods are in the application, but they are not called. They only work when a button is pressed.","body":"@jewelsea Thanks for the answer. I tried the way you suggested but it doesn&#39;t work. If you run the html code, you can see that there will be 3 errors. When running this html in my javafx application, these errors should not occur, since these methods are in the application, but they are not called. They only work when a button is pressed."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1659581686,"post_id":73228934,"comment_id":129330266,"body_markdown":"This seems fairly natural to me. The load worker is a worker who’s task is to load the page. It’s only going to change to its succeeded state when the entire loading process has finished. From the perspective of the web engine, it will need to notify the JavaScript handler of the load event when loading is complete. That’s going to happen on the same thread (part of the task) that loads the page. Consequently, the JavaScript onLoaded event is going to fire *before* the load worker changes to the succeeded state. So you’re trying to access `stb` before it gets initialized.","body":"This seems fairly natural to me. The load worker is a worker who’s task is to load the page. It’s only going to change to its succeeded state when the entire loading process has finished. From the perspective of the web engine, it will need to notify the JavaScript handler of the load event when loading is complete. That’s going to happen on the same thread (part of the task) that loads the page. Consequently, the JavaScript onLoaded event is going to fire <i>before</i> the load worker changes to the succeeded state. So you’re trying to access <code>stb</code> before it gets initialized."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1659582329,"post_id":73228934,"comment_id":129330348,"body_markdown":"So you can just reverse the responsibilities. Eg in JavaScript define `function sayHello() { return “Hello3”;}` and then in your handler on the load worker just do `System.out.println(webEngine.executeScript(“sayHello()”));`. If needed, you can use a JavaScript `onload` handler to set some variables and return those values from a function, instead of returning hard-coded values.","body":"So you can just reverse the responsibilities. Eg in JavaScript define <code>function sayHello() { return “Hello3”;}</code> and then in your handler on the load worker just do <code>System.out.println(webEngine.executeScript(“sayHello()”));</code>. If needed, you can use a JavaScript <code>onload</code> handler to set some variables and return those values from a function, instead of returning hard-coded values."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1659583187,"post_id":73228934,"comment_id":129330445,"body_markdown":"@James_D Thanks for the answer. I figured out with your help that JSBridge is loaded after stb.play is called, so this doesn&#39;t work. I tried to make a loop with a check for the existence of the stb.play method. When it exists, then call stb.play(). This works as well as your suggestion. Thanks for the help!","body":"@James_D Thanks for the answer. I figured out with your help that JSBridge is loaded after stb.play is called, so this doesn&#39;t work. I tried to make a loop with a check for the existence of the stb.play method. When it exists, then call stb.play(). This works as well as your suggestion. Thanks for the help!"}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659703760,"creation_date":1659570215,"question_id":73228934,"body_markdown":"I have a strange problem; JSBridge doesn&#39;t work after the page loads but it does when the button is clicked.\r\n\r\nTest site:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta charset=&quot;utf-8&quot; /&gt;\r\n        &lt;/head&gt;\r\n\r\n        &lt;body bgcolor=&quot;#A0BEC4&quot;&gt;\r\n            &lt;input type=&quot;button&quot; value=&quot;PLAY&quot; onclick=&quot;play()&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n            &lt;script&gt;\r\n                window.onload = function() { //does not work\r\n                    stb.play(&quot;hello3&quot;); \r\n                }\r\n\r\n                function play() { // work\r\n                    stb.play(&quot;hello2&quot;); \r\n                }\r\n\r\n                window.addEventListener(&#39;load&#39;, (event) =&gt; {\r\n                    stb.play(&quot;hello4&quot;); //does not work\r\n                });\r\n\r\n                stb.play(&quot;hello&quot;); //does not work\r\n\r\n                function checkJSBridge(){ // !!! WORK !!! \r\n                    if (typeof (stb.play) === &quot;function&quot;) {\r\n                        stb.play(&quot;WORK&quot;);\r\n                        clearTimeout(bridge_timer);\r\n                    }\r\n                }\r\n\r\n                let bridge_timer = setTimeout(checkJSBridge, 1000);\r\n            &lt;/script&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy code (JavaFX 18.0.1 and JDK 18.0.1.1):\r\n\r\n    private WebEngine webEngine = webView.getEngine();\r\n    private Worker&lt;?&gt; engineWorker = webEngine.getLoadWorker();\r\n    private JSBridge bridge = new JSBridge();\r\n    \r\n    @Override\r\n    public final void start(Stage stage) throws Exception {\r\n        engineWorker.stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) {\r\n                if (newState == State.SUCCEEDED) {\r\n                    JSObject jsobj = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n                    jsobj.setMember(&quot;stb&quot;, bridge);\r\n                }\r\n            }\r\n        });\r\n    }","title":"JavaFX JSBridge doesn&#39;t work after page load","body":"<p>I have a strange problem; JSBridge doesn't work after the page loads but it does when the button is clicked.</p>\n<p>Test site:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n    &lt;/head&gt;\n\n    &lt;body bgcolor=\"#A0BEC4\"&gt;\n        &lt;input type=\"button\" value=\"PLAY\" onclick=\"play()\"&gt;&lt;br&gt;&lt;br&gt;\n\n        &lt;script&gt;\n            window.onload = function() { //does not work\n                stb.play(\"hello3\"); \n            }\n\n            function play() { // work\n                stb.play(\"hello2\"); \n            }\n\n            window.addEventListener('load', (event) =&gt; {\n                stb.play(\"hello4\"); //does not work\n            });\n\n            stb.play(\"hello\"); //does not work\n\n            function checkJSBridge(){ // !!! WORK !!! \n                if (typeof (stb.play) === \"function\") {\n                    stb.play(\"WORK\");\n                    clearTimeout(bridge_timer);\n                }\n            }\n\n            let bridge_timer = setTimeout(checkJSBridge, 1000);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My code (JavaFX 18.0.1 and JDK 18.0.1.1):</p>\n<pre><code>private WebEngine webEngine = webView.getEngine();\nprivate Worker&lt;?&gt; engineWorker = webEngine.getLoadWorker();\nprivate JSBridge bridge = new JSBridge();\n\n@Override\npublic final void start(Stage stage) throws Exception {\n    engineWorker.stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\n        @Override\n        public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) {\n            if (newState == State.SUCCEEDED) {\n                JSObject jsobj = (JSObject) webEngine.executeScript(&quot;window&quot;);\n                jsobj.setMember(&quot;stb&quot;, bridge);\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1474355362,"creation_date":1474355362,"answer_id":39587789,"question_id":39580038,"body_markdown":"You should use an alternative method for deployment:\r\n\r\n    vertx.deployVerticle(TestService.class.getName(), deployment -&gt; {\r\n      if (deployment.succeeded()) {\r\n        // here is your ID\r\n        String deploymentId = deployment.result();\r\n      } else {\r\n        // deployment failed...\r\n      }\r\n    });\r\n\r\nIf you&#39;re just interested in listing all deployed verticles then you can just request the list of ids:\r\n\r\n    vertx.deploymentIDs()\r\n\r\n","title":"How can I get a reference to my deployed verticle after deploying it with Vertx?","body":"<p>You should use an alternative method for deployment:</p>\n\n<pre><code>vertx.deployVerticle(TestService.class.getName(), deployment -&gt; {\n  if (deployment.succeeded()) {\n    // here is your ID\n    String deploymentId = deployment.result();\n  } else {\n    // deployment failed...\n  }\n});\n</code></pre>\n\n<p>If you're just interested in listing all deployed verticles then you can just request the list of ids:</p>\n\n<pre><code>vertx.deploymentIDs()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547933300,"creation_date":1547933300,"answer_id":54271553,"question_id":39580038,"body_markdown":"I know this question is old however it may be useful to someone to see an example of how to do this.\r\n\r\nYou will often see examples for deployment like this  [from vertx-examples](https://github.com/vert-x3/vertx-examples/blob/master/core-examples/src/main/java/io/vertx/example/core/verticle/deploy/DeployExample.java)  \r\nthis follows as asynchronous micro service framework, however its really easy to get the reference as the method &#39;deployVerticle&#39; (see line 29 in the link) will take an instance as shown in the simple example below, and u can get a reference in the call back as shown.\r\n\r\nexample in Kotlin easily translate to java\r\n\r\n    MyVert: io.vertx.core.AbstractVerticle() {  \r\n        override fun start() {  \r\n        // init  \r\n         } \r\n        fun someFunction() {\r\n        }\r\n    }  \r\n\r\n    fun main() {\r\n     val vertx = Vertx.vertx()\r\n     val myVert = MyVert()\r\n  \r\n     vertx.deployVerticle(myVert) {\r\n        if(it.succeeded()  ) {\r\n            myVert.someFunction()\r\n        }\r\n        else { println(it.cause().localizedMessage)}   }\r\n    }\r\n\r\n\r\n","title":"How can I get a reference to my deployed verticle after deploying it with Vertx?","body":"<p>I know this question is old however it may be useful to someone to see an example of how to do this.</p>\n\n<p>You will often see examples for deployment like this  <a href=\"https://github.com/vert-x3/vertx-examples/blob/master/core-examples/src/main/java/io/vertx/example/core/verticle/deploy/DeployExample.java\" rel=\"nofollow noreferrer\">from vertx-examples</a><br>\nthis follows as asynchronous micro service framework, however its really easy to get the reference as the method 'deployVerticle' (see line 29 in the link) will take an instance as shown in the simple example below, and u can get a reference in the call back as shown.</p>\n\n<p>example in Kotlin easily translate to java</p>\n\n<pre><code>MyVert: io.vertx.core.AbstractVerticle() {  \n    override fun start() {  \n    // init  \n     } \n    fun someFunction() {\n    }\n}  \n\nfun main() {\n val vertx = Vertx.vertx()\n val myVert = MyVert()\n\n vertx.deployVerticle(myVert) {\n    if(it.succeeded()  ) {\n        myVert.someFunction()\n    }\n    else { println(it.cause().localizedMessage)}   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23371179,"reputation":11,"user_id":17441997,"display_name":"Денис Р"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637182395,"creation_date":1637182395,"answer_id":70011426,"question_id":39580038,"body_markdown":"you can get all deployed verticles in current vertx instance by this way\r\n```java\r\nSet&lt;String&gt; strings = vertx.deploymentIDs();\r\nstrings\r\n    .stream()\r\n    .map(id -&gt; ((VertxImpl)vertx.getDelegate()).getDeployment(id))\r\n    .forEach(deployment -&gt; System.out.println(deployment.verticleIdentifier() + &quot; &quot; + deployment.isChild() ));\r\n```","title":"How can I get a reference to my deployed verticle after deploying it with Vertx?","body":"<p>you can get all deployed verticles in current vertx instance by this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; strings = vertx.deploymentIDs();\nstrings\n    .stream()\n    .map(id -&gt; ((VertxImpl)vertx.getDelegate()).getDeployment(id))\n    .forEach(deployment -&gt; System.out.println(deployment.verticleIdentifier() + &quot; &quot; + deployment.isChild() ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6463622,"reputation":2214,"user_id":5006469,"accept_rate":80,"display_name":"rdupz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659703671,"creation_date":1659703671,"answer_id":73250035,"question_id":39580038,"body_markdown":"Looks like the vertx API does not allow you to retrieve the Verticle objects once they are deployed. Maybe because verticles can be distributed over multiple JVM.  \r\n\r\nI needed to do it for unit tests though and I came up with this.  \r\nThis is unreliable since you rely on VertxImpl (it can break at any vertx version upgrade). But I prefer this over changing production code to be able to test it.\r\n\r\n    private static &lt;T extends Verticle&gt; List&lt;T&gt; retrieveVerticles(Vertx vertx, Class&lt;T&gt; verticleClass) {\r\n        VertxImpl vertxImpl = (VertxImpl) vertx;\r\n        return  vertxImpl.deploymentIDs().stream().\r\n                map(vertxImpl::getDeployment).\r\n                map(Deployment::getVerticles).\r\n                flatMap(Set::stream).\r\n                filter(verticleClass::isInstance).\r\n                map(verticleClass::cast).\r\n                collect(Collectors.toList());\r\n    }\r\n\r\nUsage example:\r\n\r\n    vertx.deployVerticle(new MainVerticle());\r\n    // some MyCustomVerticle instances are deployed from the MainVerticle.start\r\n    // you can&#39;t reach the MyCustomVerticle objects from there\r\n    // so the trick is to rely on VertxImpl\r\n    List&lt;MyCustomVerticle&gt; deployedVerticles = retrieveVerticles(vertx, MyCustomVerticle.class);\r\n\r\n","title":"How can I get a reference to my deployed verticle after deploying it with Vertx?","body":"<p>Looks like the vertx API does not allow you to retrieve the Verticle objects once they are deployed. Maybe because verticles can be distributed over multiple JVM.</p>\n<p>I needed to do it for unit tests though and I came up with this.<br />\nThis is unreliable since you rely on VertxImpl (it can break at any vertx version upgrade). But I prefer this over changing production code to be able to test it.</p>\n<pre><code>private static &lt;T extends Verticle&gt; List&lt;T&gt; retrieveVerticles(Vertx vertx, Class&lt;T&gt; verticleClass) {\n    VertxImpl vertxImpl = (VertxImpl) vertx;\n    return  vertxImpl.deploymentIDs().stream().\n            map(vertxImpl::getDeployment).\n            map(Deployment::getVerticles).\n            flatMap(Set::stream).\n            filter(verticleClass::isInstance).\n            map(verticleClass::cast).\n            collect(Collectors.toList());\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>vertx.deployVerticle(new MainVerticle());\n// some MyCustomVerticle instances are deployed from the MainVerticle.start\n// you can't reach the MyCustomVerticle objects from there\n// so the trick is to rely on VertxImpl\nList&lt;MyCustomVerticle&gt; deployedVerticles = retrieveVerticles(vertx, MyCustomVerticle.class);\n</code></pre>\n"}],"owner":{"account_id":178679,"reputation":11876,"user_id":410824,"accept_rate":81,"display_name":"Grammin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4364,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39587789,"answer_count":4,"score":6,"last_activity_date":1659703671,"creation_date":1474310657,"question_id":39580038,"body_markdown":"I have a service called `TestService` which extends `AbstractVerticle`:\r\n\r\n    public class TestService extends AbstractVerticle {\r\n      @Override\r\n      public void start() throws Exception {\r\n        //Do things\r\n      }\r\n    }\r\n\r\nI then deploy that verticle with vertx like this:\r\n\r\n    Vertx vertx = Vertx.vertx();\r\n    vertx.deployVerticle(TestService.class.getName());\r\n\r\nHow can I get a reference to my deployed TestService after vertx instantiates it?","title":"How can I get a reference to my deployed verticle after deploying it with Vertx?","body":"<p>I have a service called <code>TestService</code> which extends <code>AbstractVerticle</code>:</p>\n\n<pre><code>public class TestService extends AbstractVerticle {\n  @Override\n  public void start() throws Exception {\n    //Do things\n  }\n}\n</code></pre>\n\n<p>I then deploy that verticle with vertx like this:</p>\n\n<pre><code>Vertx vertx = Vertx.vertx();\nvertx.deployVerticle(TestService.class.getName());\n</code></pre>\n\n<p>How can I get a reference to my deployed TestService after vertx instantiates it?</p>\n"},{"tags":["java","spring-boot","microsoft-graph-api"],"comments":[{"owner":{"account_id":14567510,"reputation":15827,"user_id":10521739,"display_name":"Allen Wu"},"score":0,"creation_date":1609838356,"post_id":65575881,"comment_id":115940162,"body_markdown":"Please share how your `main()` method is like. Is the signature correct? Like `public static void main(String [] args)`.","body":"Please share how your <code>main()</code> method is like. Is the signature correct? Like <code>public static void main(String [] args)</code>."},{"owner":{"account_id":20362937,"reputation":159,"user_id":14936878,"display_name":"Arpit Joshi"},"score":0,"creation_date":1609839829,"post_id":65575881,"comment_id":115940787,"body_markdown":"Modified the question to add main method.","body":"Modified the question to add main method."}],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659703650,"creation_date":1609838656,"answer_id":65576167,"question_id":65575881,"body_markdown":"Seeing the exception (NoSuchMethodError), you found the class, so you had a okhttp in your classpath. My guess is that an older version of okhttp was used (maybe because of other dependencies) and you got a dependency conflict. \r\n\r\njava.lang.NoSucMethodError comes when Java code tries to call a method which doesn&#39;t exist in a class, this could be either static or non static method.\r\n\r\nAdd this dependency and try again.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;3.14.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n If your application has dependency conflicts, then add this in your \r\npom.xml to resolve them:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n          &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n          &lt;version&gt;3.14.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n   \r\n\r\n\r\n\r\n","title":"Getting error (java.lang.NoSuchMethodError: okhttp3.Request$Builder.tag) while posting event to microsoft graph","body":"<p>Seeing the exception (NoSuchMethodError), you found the class, so you had a okhttp in your classpath. My guess is that an older version of okhttp was used (maybe because of other dependencies) and you got a dependency conflict.</p>\n<p>java.lang.NoSucMethodError comes when Java code tries to call a method which doesn't exist in a class, this could be either static or non static method.</p>\n<p>Add this dependency and try again.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;3.14.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If your application has dependency conflicts, then add this in your\npom.xml to resolve them:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n      &lt;version&gt;3.14.9&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":20362937,"reputation":159,"user_id":14936878,"display_name":"Arpit Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7073,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65576167,"answer_count":1,"score":5,"last_activity_date":1659703650,"creation_date":1609837476,"question_id":65575881,"body_markdown":"I am trying to hit the microsoft graph api for get and post methods.\r\nJava code:\r\n\r\n    IGraphServiceClient graphClient = \r\n                 GraphServiceClient.builder().authenticationProvider(authProvider)\r\n\t\t\t\t.buildClient();\r\n     graphClient.me().calendar().events().buildRequest().post(event);\r\n     User user = graphClient.me().buildRequest().get();\r\n     \r\nOn hitting the api I get this error:\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: okhttp3.Request$Builder.tag(Ljava/lang/Class;Ljava/lang/Object;)Lokhttp3/Request$Builder;\r\n\tat com.microsoft.graph.http.CoreHttpProvider.getHttpRequest(CoreHttpProvider.java:257)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:397)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:220)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:200)\r\n\tat com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:345)\r\n\tat com.microsoft.graph.requests.extensions.EventRequest.post(EventRequest.java:135)\r\n\tat com.microsoft.graph.requests.extensions.EventCollectionRequest.post(EventCollectionRequest.java:75)\r\n\r\nMaven versions for graph and graph-auth api&#39;s are:\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.graph/microsoft-graph --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.graph/microsoft-graph-auth --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.3.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nPlease help me resolve this issue?\r\n\r\nThis is the main method:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tUsernamePasswordProvider authProvider = new UsernamePasswordProvider(&quot;{client_id}&quot;,\r\n\t\t\t\tArrays.asList(&quot;https://graph.microsoft.com/.default&quot;),\r\n\t\t\t\t&quot;{username}&quot;, &quot;{password}&quot;, NationalCloud.Global,\r\n\t\t\t\t&quot;{tenant_id}&quot;, &quot;{client_secret}&quot;);\r\n\r\n\t\tIGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider)\r\n\t\t\t\t.buildClient();\r\n\r\n\t\tEvent event = new Event();\r\n\t\tevent.subject = &quot;Let&#39;s go for lunch&quot;;\r\n\t\tItemBody body = new ItemBody();\r\n\t\tbody.contentType = BodyType.HTML;\r\n\t\tbody.content = &quot;Does mid month work for you?&quot;;\r\n\t\tevent.body = body;\r\n\t\tDateTimeTimeZone start = new DateTimeTimeZone();\r\n\t\tstart.dateTime = &quot;2021-01-15T12:00:00&quot;;\r\n\t\tstart.timeZone = &quot;Pacific Standard Time&quot;;\r\n\t\tevent.start = start;\r\n\t\tDateTimeTimeZone end = new DateTimeTimeZone();\r\n\t\tend.dateTime = &quot;2021-01-15T14:00:00&quot;;\r\n\t\tend.timeZone = &quot;Pacific Standard Time&quot;;\r\n\t\tevent.end = end;\r\n\t\tLocation location = new Location();\r\n\t\tlocation.displayName = &quot;&quot;;\r\n\t\tevent.location = location;\r\n\t\tLinkedList&lt;Attendee&gt; attendeesList = new LinkedList&lt;Attendee&gt;();\r\n\t\tAttendee attendees = new Attendee();\r\n\r\n\t\tEmailAddress emailAddress = new EmailAddress();\r\n\t\temailAddress.address = &quot;abc@gmail.com&quot;;\r\n\t\temailAddress.name = &quot;Abcd&quot;;\r\n     \tattendees.emailAddress = emailAddress;\r\n\t\tattendees.type = AttendeeType.REQUIRED;\r\n\t\tattendeesList.add(attendees);\r\n\r\n\t\tevent.attendees = attendeesList;\r\n\t\t\r\n\t    graphClient.me().calendar().events().buildRequest().post(event);\r\n\r\n\t\tlog.info(&quot;created the event&quot;);\r\n\r\n\t}","title":"Getting error (java.lang.NoSuchMethodError: okhttp3.Request$Builder.tag) while posting event to microsoft graph","body":"<p>I am trying to hit the microsoft graph api for get and post methods.\nJava code:</p>\n<pre><code>IGraphServiceClient graphClient = \n             GraphServiceClient.builder().authenticationProvider(authProvider)\n            .buildClient();\n graphClient.me().calendar().events().buildRequest().post(event);\n User user = graphClient.me().buildRequest().get();\n \n</code></pre>\n<p>On hitting the api I get this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: okhttp3.Request$Builder.tag(Ljava/lang/Class;Ljava/lang/Object;)Lokhttp3/Request$Builder;\nat com.microsoft.graph.http.CoreHttpProvider.getHttpRequest(CoreHttpProvider.java:257)\nat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:397)\nat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:220)\nat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:200)\nat com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:345)\nat com.microsoft.graph.requests.extensions.EventRequest.post(EventRequest.java:135)\nat com.microsoft.graph.requests.extensions.EventCollectionRequest.post(EventCollectionRequest.java:75)</p>\n</blockquote>\n<p>Maven versions for graph and graph-auth api's are:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/com.microsoft.graph/microsoft-graph --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n        &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.microsoft.graph/microsoft-graph-auth --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n        &lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\n        &lt;version&gt;0.3.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Please help me resolve this issue?</p>\n<p>This is the main method:</p>\n<pre><code>public static void main(String[] args) {\n\n    UsernamePasswordProvider authProvider = new UsernamePasswordProvider(&quot;{client_id}&quot;,\n            Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;),\n            &quot;{username}&quot;, &quot;{password}&quot;, NationalCloud.Global,\n            &quot;{tenant_id}&quot;, &quot;{client_secret}&quot;);\n\n    IGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider)\n            .buildClient();\n\n    Event event = new Event();\n    event.subject = &quot;Let's go for lunch&quot;;\n    ItemBody body = new ItemBody();\n    body.contentType = BodyType.HTML;\n    body.content = &quot;Does mid month work for you?&quot;;\n    event.body = body;\n    DateTimeTimeZone start = new DateTimeTimeZone();\n    start.dateTime = &quot;2021-01-15T12:00:00&quot;;\n    start.timeZone = &quot;Pacific Standard Time&quot;;\n    event.start = start;\n    DateTimeTimeZone end = new DateTimeTimeZone();\n    end.dateTime = &quot;2021-01-15T14:00:00&quot;;\n    end.timeZone = &quot;Pacific Standard Time&quot;;\n    event.end = end;\n    Location location = new Location();\n    location.displayName = &quot;&quot;;\n    event.location = location;\n    LinkedList&lt;Attendee&gt; attendeesList = new LinkedList&lt;Attendee&gt;();\n    Attendee attendees = new Attendee();\n\n    EmailAddress emailAddress = new EmailAddress();\n    emailAddress.address = &quot;abc@gmail.com&quot;;\n    emailAddress.name = &quot;Abcd&quot;;\n    attendees.emailAddress = emailAddress;\n    attendees.type = AttendeeType.REQUIRED;\n    attendeesList.add(attendees);\n\n    event.attendees = attendeesList;\n    \n    graphClient.me().calendar().events().buildRequest().post(event);\n\n    log.info(&quot;created the event&quot;);\n\n}\n</code></pre>\n"},{"tags":["java","regex","tomcat","fluent-bit"],"comments":[{"owner":{"account_id":2521234,"reputation":20496,"user_id":2191572,"accept_rate":69,"display_name":"MonkeyZeus"},"score":2,"creation_date":1659702127,"post_id":73249606,"comment_id":129363104,"body_markdown":"Your regex is looking for December and catalina.out is in August. Anything else you need pointed out?","body":"Your regex is looking for December and catalina.out is in August. Anything else you need pointed out?"}],"answers":[{"tags":[],"owner":{"account_id":11673563,"reputation":84,"user_id":8611104,"display_name":"Vuudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659702952,"creation_date":1659702952,"answer_id":73249875,"question_id":73249606,"body_markdown":"This should work &lt;br&gt;\r\n````^([012][0-9])-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-\\d\\d\\d\\d [012]\\d:[0-6]\\d:[0-6]\\d\\.\\d\\d\\d````\r\n\r\nExplanation:\r\n````\r\n^                   start of a line\r\n([0123][0-9])       00 to 39 (for simplicity, instead of 00 to 31)\r\n-                   a hyphen\r\n(Jan|Feb|Mar...)    the month\r\n-                   another hyphen\r\n\\d\\d\\d\\d            0000 to 9999\r\n[012]\\d             00 to 29 (for simplicity, instead of 00 to 24)\r\n:                   a colon\r\n[0-6]\\d             00 to 69 (for simplicity, instead of 00 to 60)\r\n:                   another colon\r\n[0-6]\\d             00 to 69 (for simplicity, instead of 00 to 60)\r\n\\.                  a dot\r\n\\d\\d\\d              three digits\r\n````\r\nYou can check it out and play around with it here https://regex101.com/r/2cG0QG/1 ","title":"Find Regex to extract timestamp from tomcat logs","body":"<p>This should work <br>\n<code>^([012][0-9])-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-\\d\\d\\d\\d [012]\\d:[0-6]\\d:[0-6]\\d\\.\\d\\d\\d</code></p>\n<p>Explanation:</p>\n<pre><code>^                   start of a line\n([0123][0-9])       00 to 39 (for simplicity, instead of 00 to 31)\n-                   a hyphen\n(Jan|Feb|Mar...)    the month\n-                   another hyphen\n\\d\\d\\d\\d            0000 to 9999\n[012]\\d             00 to 29 (for simplicity, instead of 00 to 24)\n:                   a colon\n[0-6]\\d             00 to 69 (for simplicity, instead of 00 to 60)\n:                   another colon\n[0-6]\\d             00 to 69 (for simplicity, instead of 00 to 60)\n\\.                  a dot\n\\d\\d\\d              three digits\n</code></pre>\n<p>You can check it out and play around with it here <a href=\"https://regex101.com/r/2cG0QG/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/2cG0QG/1</a></p>\n"}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73249875,"answer_count":1,"score":0,"last_activity_date":1659703381,"creation_date":1659701739,"question_id":73249606,"body_markdown":"I&#39;m using fluentbit to parse and send logs to new relic. \r\nIt is working fine with the logs of my app, but not with the logs of tomcat, like catalina.out\r\n\r\nThe regex that I&#39;m using is: /(?&lt;time&gt;Dec \\d+ \\d+\\:\\d+\\:\\d+)(?&lt;message&gt;.*)/\r\n\r\nAnd the log entries are:\r\n\r\n    05-Aug-2022 09:01:04.533 SEVERE [http-nio-8080-exec-17] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/inicio.xhtml]\r\n        java.lang.IllegalStateException: WELD-000343: Unable to load the current conversation from the associated request - org.jboss.weld.context.ConversationContext.currentConversation: null, request: org.apache.catalina.connector.RequestFacade@1b943ff4\r\n                at org.jboss.weld.contexts.AbstractConversationContext.getCurrentConversation(AbstractConversationContext.java:512)\r\n                at org.jboss.weld.module.jsf.ConversationAwareViewHandler.getActionURL(ConversationAwareViewHandler.java:114)\r\n                at javax.faces.application.ViewHandlerWrapper.getActionURL(ViewHandlerWrapper.java:234)\r\n                at com.sun.faces.renderkit.html_basic.FormRenderer.getActionStr(FormRenderer.java:237)\r\n                at com.sun.faces.renderkit.html_basic.FormRenderer.encodeBegin(FormRenderer.java:136)\r\n                at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:892)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1903)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\r\n                at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:491)\r\n                at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\r\n                at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n                at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n                at org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\r\n                at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\r\n                at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n                at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\r\n                at javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at ar.com.dux.jsf.filters.SecurityFilter.conresultado(SecurityFilter.java:98)\r\n                at ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:83)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\r\n                at org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n                at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n                at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n                at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n                at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n                at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n                at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n                at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n                at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n                at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                at java.lang.Thread.run(Thread.java:748)\r\n    05-Aug-2022 09:03:10.705 SEVERE [http-nio-8080-exec-16] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/inicio.xhtml]\r\n        java.lang.IllegalStateException: WELD-000343: Unable to load the current conversation from the associated request - org.jboss.weld.context.ConversationContext.currentConversation: null, request: org.apache.catalina.connector.RequestFacade@7f4b737c\r\n                at org.jboss.weld.contexts.AbstractConversationContext.getCurrentConversation(AbstractConversationContext.java:512)\r\n                at org.jboss.weld.module.jsf.ConversationAwareViewHandler.getActionURL(ConversationAwareViewHandler.java:114)\r\n                at javax.faces.application.ViewHandlerWrapper.getActionURL(ViewHandlerWrapper.java:234)\r\n                at com.sun.faces.renderkit.html_basic.FormRenderer.getActionStr(FormRenderer.java:237)\r\n                at com.sun.faces.renderkit.html_basic.FormRenderer.encodeBegin(FormRenderer.java:136)\r\n                at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:892)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1903)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\r\n                at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\r\n                at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:491)\r\n                at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\r\n                at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n                at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n                at org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\r\n                at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\r\n                at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n                at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\r\n                at javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at ar.com.dux.jsf.filters.SecurityFilter.conresultado(SecurityFilter.java:98)\r\n                at ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:83)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\r\n                at org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n                at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n                at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n                at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n                at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n                at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n                at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n                at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n                at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n                at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                at java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"Find Regex to extract timestamp from tomcat logs","body":"<p>I'm using fluentbit to parse and send logs to new relic.\nIt is working fine with the logs of my app, but not with the logs of tomcat, like catalina.out</p>\n<p>The regex that I'm using is: /(?Dec \\d+ \\d+:\\d+:\\d+)(?.*)/</p>\n<p>And the log entries are:</p>\n<pre><code>05-Aug-2022 09:01:04.533 SEVERE [http-nio-8080-exec-17] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/inicio.xhtml]\n    java.lang.IllegalStateException: WELD-000343: Unable to load the current conversation from the associated request - org.jboss.weld.context.ConversationContext.currentConversation: null, request: org.apache.catalina.connector.RequestFacade@1b943ff4\n            at org.jboss.weld.contexts.AbstractConversationContext.getCurrentConversation(AbstractConversationContext.java:512)\n            at org.jboss.weld.module.jsf.ConversationAwareViewHandler.getActionURL(ConversationAwareViewHandler.java:114)\n            at javax.faces.application.ViewHandlerWrapper.getActionURL(ViewHandlerWrapper.java:234)\n            at com.sun.faces.renderkit.html_basic.FormRenderer.getActionStr(FormRenderer.java:237)\n            at com.sun.faces.renderkit.html_basic.FormRenderer.encodeBegin(FormRenderer.java:136)\n            at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:892)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1903)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:491)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\n            at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n            at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n            at org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\n            at javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at ar.com.dux.jsf.filters.SecurityFilter.conresultado(SecurityFilter.java:98)\n            at ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:83)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\n            at org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n05-Aug-2022 09:03:10.705 SEVERE [http-nio-8080-exec-16] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/inicio.xhtml]\n    java.lang.IllegalStateException: WELD-000343: Unable to load the current conversation from the associated request - org.jboss.weld.context.ConversationContext.currentConversation: null, request: org.apache.catalina.connector.RequestFacade@7f4b737c\n            at org.jboss.weld.contexts.AbstractConversationContext.getCurrentConversation(AbstractConversationContext.java:512)\n            at org.jboss.weld.module.jsf.ConversationAwareViewHandler.getActionURL(ConversationAwareViewHandler.java:114)\n            at javax.faces.application.ViewHandlerWrapper.getActionURL(ViewHandlerWrapper.java:234)\n            at com.sun.faces.renderkit.html_basic.FormRenderer.getActionStr(FormRenderer.java:237)\n            at com.sun.faces.renderkit.html_basic.FormRenderer.encodeBegin(FormRenderer.java:136)\n            at javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:892)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1903)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\n            at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:491)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\n            at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n            at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n            at org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\n            at javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at ar.com.dux.jsf.filters.SecurityFilter.conresultado(SecurityFilter.java:98)\n            at ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:83)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\n            at org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","kotlin","generics","dependency-injection","guice"],"owner":{"account_id":2969659,"reputation":51,"user_id":2522019,"display_name":"Damian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659703120,"creation_date":1659616270,"question_id":73235986,"body_markdown":"This is just an example but hopefully illustrates the problem. All seem to be related to the Kotlin Result class. For other generic classes like e.g. java Optional or self-made Kotlin generic class, all work as expected and both implementations in the given example are injected properly.\r\n \r\n\r\nBinding configuration looks like this:\r\n\r\n```\r\nimport com.google.inject.AbstractModule\r\nimport com.google.inject.Singleton\r\nimport com.google.inject.TypeLiteral\r\n\r\nclass BillingModule : AbstractModule() {\r\n\r\n    override fun configure() {\r\n        bind(object :\r\n            TypeLiteral&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt;() {}).toProvider(CreditCardProcessorProvider::class.java)\r\n            .`in`(Singleton::class.java)\r\n\r\n        bind(object : TypeLiteral&lt;CardProcessor&lt;Result&lt;Int&gt;&gt;&gt;() {}).toProvider(DebitCardProcessorProvider::class.java)\r\n            .`in`(Singleton::class.java)\r\n    }\r\n\r\n}\r\n```\r\n\r\nGuice card providers:\r\n\r\n```\r\nimport com.google.inject.Provider\r\n\r\nclass CreditCardProcessorProvider : Provider&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt; {\r\n\r\n    private val creditCardProcessor = CreditCardProcessor&lt;Result&lt;String&gt;&gt;()\r\n\r\n    override fun get(): CardProcessor&lt;Result&lt;String&gt;&gt; {\r\n        return creditCardProcessor\r\n    }\r\n\r\n}\r\n\r\n```\r\n```\r\nimport com.google.inject.Provider\r\n\r\nclass DebitCardProcessorProvider : Provider&lt;CardProcessor&lt;Result&lt;Int&gt;&gt;&gt; {\r\n\r\n    private val debitCardProcessor = DebitCardProcessor&lt;Result&lt;Int&gt;&gt;()\r\n\r\n    override fun get(): CardProcessor&lt;Result&lt;Int&gt;&gt; {\r\n        return debitCardProcessor\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the service with constructor injection:\r\n\r\n```\r\nimport javax.inject.Inject\r\n\r\nclass RealBillingService @Inject constructor(\r\n    private val creditCardProcessor: CardProcessor&lt;Result&lt;String&gt;&gt;,\r\n    private val debitCardProcessor: CardProcessor&lt;Result&lt;Int&gt;&gt;,\r\n) {\r\n\r\n    fun chargeOrder() {\r\n        val creditCardOutput = creditCardProcessor.charge(Result.success(&quot;ok&quot;))\r\n        val debitCardOutput = debitCardProcessor.charge(Result.success(1))\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nUnfortunately, this configuration results in the following exception:\r\n```\r\n1) [Guice/MissingImplementation]: No implementation for CardProcessor&lt;kotlin.Result&lt;Integer&gt;&gt; was bound.\r\n\r\nRequested by:\r\n1  : RealBillingService.&lt;init&gt;(RealBillingService.kt:3)\r\n      \\_ for 2nd parameter\r\n     while locating RealBillingService\r\n\r\nLearn more:\r\n  https://github.com/google/guice/wiki/MISSING_IMPLEMENTATION\r\n\r\n2) [Guice/MissingImplementation]: No implementation for CardProcessor&lt;kotlin.Result&lt;String&gt;&gt; was bound.\r\n\r\nRequested by:\r\n1  : RealBillingService.&lt;init&gt;(RealBillingService.kt:3)\r\n      \\_ for 1st parameter\r\n     while locating RealBillingService\r\n```\r\n\r\n\r\nWhat is also interesting is that the given configuration, when accessing a concrete implementation of a card processor manually, returns the expected value correctly. Wondering how this could be fixed on constructor injection? From my side already tried with [named bindings][1] and [binding annotations][2] but without luck.\r\n\r\n```\r\n    var creditCardProcessor =\r\n        injector.getInstance(Key.get(object : TypeLiteral&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt;() {}))\r\n```\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/guice/guice_named_binding.htm\r\n  [2]: https://www.tutorialspoint.com/guice/guice_binding_annotations.htm\r\n\r\n\r\nKotlin version: 1.7.10&lt;br&gt;\r\nGuice version: com.google.inject:guice:5.1.0\r\n","title":"What could be the reason for Kotlin Result class being not properly injected in Guice?","body":"<p>This is just an example but hopefully illustrates the problem. All seem to be related to the Kotlin Result class. For other generic classes like e.g. java Optional or self-made Kotlin generic class, all work as expected and both implementations in the given example are injected properly.</p>\n<p>Binding configuration looks like this:</p>\n<pre><code>import com.google.inject.AbstractModule\nimport com.google.inject.Singleton\nimport com.google.inject.TypeLiteral\n\nclass BillingModule : AbstractModule() {\n\n    override fun configure() {\n        bind(object :\n            TypeLiteral&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt;() {}).toProvider(CreditCardProcessorProvider::class.java)\n            .`in`(Singleton::class.java)\n\n        bind(object : TypeLiteral&lt;CardProcessor&lt;Result&lt;Int&gt;&gt;&gt;() {}).toProvider(DebitCardProcessorProvider::class.java)\n            .`in`(Singleton::class.java)\n    }\n\n}\n</code></pre>\n<p>Guice card providers:</p>\n<pre><code>import com.google.inject.Provider\n\nclass CreditCardProcessorProvider : Provider&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt; {\n\n    private val creditCardProcessor = CreditCardProcessor&lt;Result&lt;String&gt;&gt;()\n\n    override fun get(): CardProcessor&lt;Result&lt;String&gt;&gt; {\n        return creditCardProcessor\n    }\n\n}\n\n</code></pre>\n<pre><code>import com.google.inject.Provider\n\nclass DebitCardProcessorProvider : Provider&lt;CardProcessor&lt;Result&lt;Int&gt;&gt;&gt; {\n\n    private val debitCardProcessor = DebitCardProcessor&lt;Result&lt;Int&gt;&gt;()\n\n    override fun get(): CardProcessor&lt;Result&lt;Int&gt;&gt; {\n        return debitCardProcessor\n    }\n\n}\n</code></pre>\n<p>and the service with constructor injection:</p>\n<pre><code>import javax.inject.Inject\n\nclass RealBillingService @Inject constructor(\n    private val creditCardProcessor: CardProcessor&lt;Result&lt;String&gt;&gt;,\n    private val debitCardProcessor: CardProcessor&lt;Result&lt;Int&gt;&gt;,\n) {\n\n    fun chargeOrder() {\n        val creditCardOutput = creditCardProcessor.charge(Result.success(&quot;ok&quot;))\n        val debitCardOutput = debitCardProcessor.charge(Result.success(1))\n    }\n\n}\n</code></pre>\n<p>Unfortunately, this configuration results in the following exception:</p>\n<pre><code>1) [Guice/MissingImplementation]: No implementation for CardProcessor&lt;kotlin.Result&lt;Integer&gt;&gt; was bound.\n\nRequested by:\n1  : RealBillingService.&lt;init&gt;(RealBillingService.kt:3)\n      \\_ for 2nd parameter\n     while locating RealBillingService\n\nLearn more:\n  https://github.com/google/guice/wiki/MISSING_IMPLEMENTATION\n\n2) [Guice/MissingImplementation]: No implementation for CardProcessor&lt;kotlin.Result&lt;String&gt;&gt; was bound.\n\nRequested by:\n1  : RealBillingService.&lt;init&gt;(RealBillingService.kt:3)\n      \\_ for 1st parameter\n     while locating RealBillingService\n</code></pre>\n<p>What is also interesting is that the given configuration, when accessing a concrete implementation of a card processor manually, returns the expected value correctly. Wondering how this could be fixed on constructor injection? From my side already tried with <a href=\"https://www.tutorialspoint.com/guice/guice_named_binding.htm\" rel=\"nofollow noreferrer\">named bindings</a> and <a href=\"https://www.tutorialspoint.com/guice/guice_binding_annotations.htm\" rel=\"nofollow noreferrer\">binding annotations</a> but without luck.</p>\n<pre><code>    var creditCardProcessor =\n        injector.getInstance(Key.get(object : TypeLiteral&lt;CardProcessor&lt;Result&lt;String&gt;&gt;&gt;() {}))\n</code></pre>\n<p>Kotlin version: 1.7.10<br>\nGuice version: com.google.inject:guice:5.1.0</p>\n"},{"tags":["java","spring","migration","eclipselink","openjpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1659912763,"post_id":73249846,"comment_id":129401612,"body_markdown":"Do you know what it does and how the EntityManager is used after this? What is &quot;Test.class&quot; used for in the rest of the class; are these two properties something you should just have been marking as eager?","body":"Do you know what it does and how the EntityManager is used after this? What is &quot;Test.class&quot; used for in the rest of the class; are these two properties something you should just have been marking as eager?"},{"owner":{"account_id":11121535,"reputation":1,"user_id":8164240,"display_name":"Arun Rajan"},"score":0,"creation_date":1659936699,"post_id":73249846,"comment_id":129404356,"body_markdown":"@Chris , Test.class is an entity class and &quot;stringvalue&quot;, &quot;other string value&quot; are two fields in it. in the docs I could see fetchplan is used for dynamically alter eager fetching configuration and other aspects of data loading.\n\n&quot;stringvalue&quot; is of OneToMany and &quot;other string value&quot; is of ManyToOne with object type as Test","body":"@Chris , Test.class is an entity class and &quot;stringvalue&quot;, &quot;other string value&quot; are two fields in it. in the docs I could see fetchplan is used for dynamically alter eager fetching configuration and other aspects of data loading.  &quot;stringvalue&quot; is of OneToMany and &quot;other string value&quot; is of ManyToOne with object type as Test"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1659968791,"post_id":73249846,"comment_id":129414894,"body_markdown":"Right, but are those fields lazy to begin with? EclipseLink would require you to modify the mappings in the entity to change the fetch plan for the entity, which I wouldn&#39;t advise, and why JPA has entity graph support and fetch behavior in the queries you can use to fetch &#39;Test&#39; instances.","body":"Right, but are those fields lazy to begin with? EclipseLink would require you to modify the mappings in the entity to change the fetch plan for the entity, which I wouldn&#39;t advise, and why JPA has entity graph support and fetch behavior in the queries you can use to fetch &#39;Test&#39; instances."}],"owner":{"account_id":11121535,"reputation":1,"user_id":8164240,"display_name":"Arun Rajan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659702809,"creation_date":1659702809,"question_id":73249846,"body_markdown":"I am migrating from openjpa (2.2.2) to eclipselink(2.5.2) in my legacy project.\r\nDuring migration, I could see following code snippet which is specific to openjpa:\r\n\r\n    openjpaEntityManager kem = openjpaPersistence.cast(em);\r\n    kem.getFetchPlan().addField(Test.class, &quot;stringvalue&quot;);\r\n    kem.getFetchPlan().addField(Test.class, &quot;other string value&quot;);\r\n    if (!(em instanceof openjpaEntityManager)) {\r\n    kem.close();\r\n    }\r\n\r\n\r\nPlease help to find corresponding eclipselink related code to this code snippet.","title":"eclipselink migration : could not find openjpa specific code","body":"<p>I am migrating from openjpa (2.2.2) to eclipselink(2.5.2) in my legacy project.\nDuring migration, I could see following code snippet which is specific to openjpa:</p>\n<pre><code>openjpaEntityManager kem = openjpaPersistence.cast(em);\nkem.getFetchPlan().addField(Test.class, &quot;stringvalue&quot;);\nkem.getFetchPlan().addField(Test.class, &quot;other string value&quot;);\nif (!(em instanceof openjpaEntityManager)) {\nkem.close();\n}\n</code></pre>\n<p>Please help to find corresponding eclipselink related code to this code snippet.</p>\n"},{"tags":["java","amazon-web-services","vert.x","vertx-eventbus"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1659187440,"post_id":73153268,"comment_id":129236640,"body_markdown":"are the firewalls/security groups of the ec2 instances set properly i.e. to allow incoming/outgoing on the eventbus and hazelcast ports ?","body":"are the firewalls/security groups of the ec2 instances set properly i.e. to allow incoming/outgoing on the eventbus and hazelcast ports ?"},{"owner":{"account_id":10679654,"reputation":1,"user_id":7862144,"display_name":"Костадин Поп-Кочев"},"score":0,"creation_date":1659622368,"post_id":73153268,"comment_id":129342534,"body_markdown":"@AsadAwadia yes, the security groups are open to accept all traffic while testing this.","body":"@AsadAwadia yes, the security groups are open to accept all traffic while testing this."}],"answers":[{"tags":[],"owner":{"account_id":10679654,"reputation":1,"user_id":7862144,"display_name":"Костадин Поп-Кочев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659702464,"creation_date":1659702464,"answer_id":73249781,"question_id":73153268,"body_markdown":"&gt; eventbus communication does not use the cluster manager, but rather direct tcp connections \r\n&gt;&gt; Quote from this conversation: https://groups.google.com/g/vertx/c/fCiJpQh66fk\r\n\r\nThe solution was to explicitly set the public host and port options for the eventbus:\r\n\r\n```\r\n    vertxOptions.getEventBusOptions().setClusterPublicHost(privateIpAddress);\r\n    vertxOptions.getEventBusOptions().setClusterPublicPort(5702);\r\n```","title":"VertX EventBus not receiving messages in AWS context","body":"<blockquote>\n<p>eventbus communication does not use the cluster manager, but rather direct tcp connections</p>\n<blockquote>\n<p>Quote from this conversation: <a href=\"https://groups.google.com/g/vertx/c/fCiJpQh66fk\" rel=\"nofollow noreferrer\">https://groups.google.com/g/vertx/c/fCiJpQh66fk</a></p>\n</blockquote>\n</blockquote>\n<p>The solution was to explicitly set the public host and port options for the eventbus:</p>\n<pre><code>    vertxOptions.getEventBusOptions().setClusterPublicHost(privateIpAddress);\n    vertxOptions.getEventBusOptions().setClusterPublicPort(5702);\n</code></pre>\n"}],"owner":{"account_id":10679654,"reputation":1,"user_id":7862144,"display_name":"Костадин Поп-Кочев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73249781,"answer_count":1,"score":0,"last_activity_date":1659702464,"creation_date":1659012710,"question_id":73153268,"body_markdown":"I have a Java service running on 3 different ec2 instances. They form a cluster using Hazelcast. Here&#39;s part of my `cluster.xml` configuration:\r\n\r\n     &lt;join&gt;\r\n            &lt;multicast enabled=&quot;false&quot;&gt;&lt;/multicast&gt;\r\n            &lt;tcp-ip enabled=&quot;false&quot;&gt;&lt;/tcp-ip&gt;\r\n            &lt;aws enabled=&quot;${AWS_ENABLED}&quot;&gt;\r\n                &lt;iam-role&gt;DEFAULT&lt;/iam-role&gt;\r\n                &lt;region&gt;us-east-1&lt;/region&gt;\r\n                &lt;security-group-name&gt;sec-group-name&lt;/security-group-name&gt;\r\n                &lt;hz-port&gt;6100-6110&lt;/hz-port&gt;\r\n            &lt;/aws&gt;\r\n    &lt;/join&gt;\r\n\r\nHere&#39;s the log message that the discovery is successful:\r\n```\r\n[3.12.2] (This is the hazelcast version)\r\nMembers {size:3, ver:31} [\r\n\tMember [10.0.3.117]:6100 - f5a9d579-ae9c-4c3d-8126-0e8d3a1ecdb9\r\n\tMember [10.0.1.32]:6100 - 5799f451-f122-4886-92de-e351704e6980\r\n\tMember [10.0.1.193]:6100 - 626de40a-197a-446e-a44f-ac456a52d118 this\r\n]\r\n```\r\n\r\n`vertxInstance.sharedData()` is working fine, meaning we can cache data between the instances.\r\n\r\nHowever, the issue is when publishing messages to the instances using the vertx eventbus:\r\n```\r\nthis.vertx.eventBus().publish(EventBusService.TOPIC, memberId);\r\n```\r\nand having this listener:\r\n```\r\neventBus.consumer(TOPIC, event -&gt; {\r\n   logger.warn(&quot;Captured message: {}&quot;, event.body());\r\n});\r\n```\r\n\r\nThis configuration works locally, the consumer get&#39;s the messages, but once deployed to AWS it doesn&#39;t work.\r\n\r\nI have tried setting up the host explicitly just for test, but this does not work either:\r\n```\r\n   VertxOptions options = new VertxOptions();\r\n   options.setHAEnabled(true);\r\n   options.getEventBusOptions().setClustered(true);\r\n   options.getEventBusOptions().setHost(&quot;10.0.1.0&quot;); \r\n```\r\n\r\nWhat am I doing wrong and what are my options to debug this issue further?","title":"VertX EventBus not receiving messages in AWS context","body":"<p>I have a Java service running on 3 different ec2 instances. They form a cluster using Hazelcast. Here's part of my <code>cluster.xml</code> configuration:</p>\n<pre><code> &lt;join&gt;\n        &lt;multicast enabled=&quot;false&quot;&gt;&lt;/multicast&gt;\n        &lt;tcp-ip enabled=&quot;false&quot;&gt;&lt;/tcp-ip&gt;\n        &lt;aws enabled=&quot;${AWS_ENABLED}&quot;&gt;\n            &lt;iam-role&gt;DEFAULT&lt;/iam-role&gt;\n            &lt;region&gt;us-east-1&lt;/region&gt;\n            &lt;security-group-name&gt;sec-group-name&lt;/security-group-name&gt;\n            &lt;hz-port&gt;6100-6110&lt;/hz-port&gt;\n        &lt;/aws&gt;\n&lt;/join&gt;\n</code></pre>\n<p>Here's the log message that the discovery is successful:</p>\n<pre><code>[3.12.2] (This is the hazelcast version)\nMembers {size:3, ver:31} [\n    Member [10.0.3.117]:6100 - f5a9d579-ae9c-4c3d-8126-0e8d3a1ecdb9\n    Member [10.0.1.32]:6100 - 5799f451-f122-4886-92de-e351704e6980\n    Member [10.0.1.193]:6100 - 626de40a-197a-446e-a44f-ac456a52d118 this\n]\n</code></pre>\n<p><code>vertxInstance.sharedData()</code> is working fine, meaning we can cache data between the instances.</p>\n<p>However, the issue is when publishing messages to the instances using the vertx eventbus:</p>\n<pre><code>this.vertx.eventBus().publish(EventBusService.TOPIC, memberId);\n</code></pre>\n<p>and having this listener:</p>\n<pre><code>eventBus.consumer(TOPIC, event -&gt; {\n   logger.warn(&quot;Captured message: {}&quot;, event.body());\n});\n</code></pre>\n<p>This configuration works locally, the consumer get's the messages, but once deployed to AWS it doesn't work.</p>\n<p>I have tried setting up the host explicitly just for test, but this does not work either:</p>\n<pre><code>   VertxOptions options = new VertxOptions();\n   options.setHAEnabled(true);\n   options.getEventBusOptions().setClustered(true);\n   options.getEventBusOptions().setHost(&quot;10.0.1.0&quot;); \n</code></pre>\n<p>What am I doing wrong and what are my options to debug this issue further?</p>\n"},{"tags":["java","image"],"answers":[{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659702009,"creation_date":1659702009,"answer_id":73249666,"question_id":73248910,"body_markdown":"i guess you need to code that yourself, maybe use \r\nhttps://github.com/rtyley/animated-gif-lib-for-java\r\nas a library to access and save frames","title":"How can I remove frames from an animated gif file in Java?","body":"<p>i guess you need to code that yourself, maybe use\n<a href=\"https://github.com/rtyley/animated-gif-lib-for-java\" rel=\"nofollow noreferrer\">https://github.com/rtyley/animated-gif-lib-for-java</a>\nas a library to access and save frames</p>\n"}],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73249666,"answer_count":1,"score":0,"last_activity_date":1659702009,"creation_date":1659698149,"question_id":73248910,"body_markdown":"I have some animated gifs (of anagrams rearranging since you ask) that I&#39;d like to remove the final n frames from. Is there any Java utility that will do the job?","title":"How can I remove frames from an animated gif file in Java?","body":"<p>I have some animated gifs (of anagrams rearranging since you ask) that I'd like to remove the final n frames from. Is there any Java utility that will do the job?</p>\n"},{"tags":["java","spring-boot","rest","file-upload"],"answers":[{"tags":[],"owner":{"account_id":21975986,"reputation":21,"user_id":16251791,"display_name":"Kryszak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659697906,"creation_date":1659697906,"answer_id":73248846,"question_id":73248742,"body_markdown":"You can set allowed content type for endpoint:\r\n`@PostMapping(&quot;/upload&quot;, consumes = {MediaType.APPLICATION_PDF_VALUE, &quot;application/msword&quot;, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;})`\r\n\r\nOr you can validate file extension from input.","title":"upload only pdf and docx file with springboot","body":"<p>You can set allowed content type for endpoint:\n<code>@PostMapping(&quot;/upload&quot;, consumes = {MediaType.APPLICATION_PDF_VALUE, &quot;application/msword&quot;, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;})</code></p>\n<p>Or you can validate file extension from input.</p>\n"},{"tags":[],"owner":{"account_id":14844182,"reputation":71,"user_id":10719979,"display_name":"Surjeet Singh Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659702004,"creation_date":1659702004,"answer_id":73249664,"question_id":73248742,"body_markdown":"Other solution is to validate file extension from input as suggested by @Kryszak.\r\nSimply add one if condition to allow pdf and docx.\r\nFor Example :\r\n```\r\nif (StringUtils.endsWithIgnoreCase(fileName, &quot;pdf&quot;) || StringUtils.endsWithIgnoreCase(fileName, &quot;docx&quot;)){\r\n //process file\r\n}\r\nelse{\r\n // show message to user, only accept pdf &amp; docx files.\r\n}\r\n```","title":"upload only pdf and docx file with springboot","body":"<p>Other solution is to validate file extension from input as suggested by @Kryszak.\nSimply add one if condition to allow pdf and docx.\nFor Example :</p>\n<pre><code>if (StringUtils.endsWithIgnoreCase(fileName, &quot;pdf&quot;) || StringUtils.endsWithIgnoreCase(fileName, &quot;docx&quot;)){\n //process file\n}\nelse{\n // show message to user, only accept pdf &amp; docx files.\n}\n</code></pre>\n"}],"owner":{"account_id":15917842,"reputation":29,"user_id":11485871,"display_name":"hamza houri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659702004,"creation_date":1659697427,"question_id":73248742,"body_markdown":"I have a method that upload files, i want to accept just (pdf) and (docx) files, how i can do that.\r\nthis is the method :\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n\tpublic ResponseEntity&lt;ResponseMessage&gt; uploadFile (@RequestParam(&quot;file&quot;) MultipartFile file){\r\n\t\tString message = &quot;&quot;;\r\n\t    try {\r\n\t    \t\r\n\t      \r\n\t    \tfileService.store(file);\r\n\t  \r\n\t      message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\r\n\t      return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n\t    } catch (Exception e) {\r\n\t      message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\r\n\t      return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n\t    }\r\n\t}","title":"upload only pdf and docx file with springboot","body":"<p>I have a method that upload files, i want to accept just (pdf) and (docx) files, how i can do that.\nthis is the method :</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic ResponseEntity&lt;ResponseMessage&gt; uploadFile (@RequestParam(&quot;file&quot;) MultipartFile file){\n    String message = &quot;&quot;;\n    try {\n        \n      \n        fileService.store(file);\n  \n      message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\n      return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n    } catch (Exception e) {\n      message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\n      return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659675779,"post_id":73244846,"comment_id":129355214,"body_markdown":"There is a builtin `ToIntBiFunction` interface that you use, without creating your `Finder` type, if that&#39;s what you mean by &quot;easier&quot;.","body":"There is a builtin <code>ToIntBiFunction</code> interface that you use, without creating your <code>Finder</code> type, if that&#39;s what you mean by &quot;easier&quot;."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659675788,"creation_date":1659675788,"answer_id":73244887,"question_id":73244846,"body_markdown":"No.  Java does not have function types built into the language.  You must have an interface for every lambda you define.\r\n\r\n...or you can use the [built-in ones](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html), which are sufficient for many use cases.  This, for example, might be a `ToIntBiFunction&lt;String, String&gt;`.","title":"Is there an easier way to declare a lambda as a variable in java similar to that of Kotlin?","body":"<p>No.  Java does not have function types built into the language.  You must have an interface for every lambda you define.</p>\n<p>...or you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">built-in ones</a>, which are sufficient for many use cases.  This, for example, might be a <code>ToIntBiFunction&lt;String, String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659688087,"creation_date":1659688087,"answer_id":73246815,"question_id":73244846,"body_markdown":"Since Java 8, there is the Generic Function interface. It allows you to store lambda functions.","title":"Is there an easier way to declare a lambda as a variable in java similar to that of Kotlin?","body":"<p>Since Java 8, there is the Generic Function interface. It allows you to store lambda functions.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659701954,"creation_date":1659699645,"answer_id":73249191,"question_id":73244846,"body_markdown":"Contrary to Kotlin, Java isn&#39;t a *Functional* programming language, it&#39;s *Object-oriented* and in addition has a moderate subset of functional features. On the other hand, Kotlin fully supports both Functional and Object-oriented paradigm.\r\n\r\nIn Kotlin, we can define a function, for instance like this:\r\n\r\n```kotlin\r\nval printSquare = { i: Int -&gt; println(i * i) }\r\n```\r\nAnd its type would be successfully inferred, the part on the right would be recognized as being of a **function type**. Kotlin would know that it has operator `invoke()` which can be used implicitly or explicitly `printSquare.invoke(10)`.\r\n\r\nConversely, in Java something like that would not compile:\r\n```\r\nvar printSquare = (int i) -&gt; System.out.println(i * i); // compiler would not be able to infer the type `printSquare` becuase lambda expression by itself has no type\r\n```\r\n\r\nIn Java, there&#39;s no **function types**. Instead, we have a notion of a **functional interface**.\r\n\r\n*Functional interface* - is an interface which declares a single `abstract` method (it might also have a bunch of `static` and `default` methods, but `abstract` method should be only one). And every *lambda expression* or *method reference* should conform to a particular functional interface, i.e. they have **no** type by itself, they have to provide an implementation to the interface which would be the *target type* of lambda (or method reference).\r\n\r\nTo make the definition of `printSquare` lambda shown above compile, we to provide the type (which should be a functional interface) and target type of the lambda would be inferred from the assignment context:\r\n```\r\nIntConsumer printSquare = i -&gt; System.out.println(i * i);\r\n```\r\n&lt;sub&gt;*For more information on the [type inference in Java, see](https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html)*&lt;/sub&gt;\r\n\r\nPossible ways to interact with *Java 8 function* would depend on its *target type*. On `printSquare` we can invoke `accept()` and `andThen()` (`andThen` is a default method). With `Runnable` we would have only `run` at our disposal.\r\n\r\nSo the key point is that there are no *functional types* in Java, and in order to define a Java 8 function either as lambda or method reference we need either:\r\n\r\n* Define our own *functional interface* which would be a target type for the lambda;\r\n\r\n* Use existing *functional interface* from JDK, some kind of library, or framework.\r\n\r\nThe following Kotlin function:\r\n```\r\nval myLambda: (Int, Int) -&gt; Unit = { a, b -&gt;\r\n    Log.d(TAG, &quot;sum value = ${a + b}&quot;)\r\n}\r\n```\r\n\r\ncan be translated into Java as a [*BiConsumer*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html):\r\n\r\n```\r\nBiConsumer&lt;Integer, Integer&gt; myLambda = (a, b) -&gt; Log.d(TAG, &quot;sum value = &quot; + (a + b));\r\n```\r\n\r\n&gt; The issue with this method is I would have to declare multiple interfaces for different types\r\n\r\nWell, it&#39;s actually rarely the case when you need to declare a functional interface. Only in the package [`java.util.function`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html) there are over `40`functional interfaces at your disposal. And also there are lots and lots of them in other parts of the JDK, the most common are `Comparator`, `Runnable`, `Callable`, etc.\r\n\r\nAnd there are numerous functional interfaces provided by frameworks. Because the ability to implement some functionality with a single line of code makes a life a bit easier, and because some interfaces naturally became lean when their designers respect the [*Interface segregation principle*](https://en.wikipedia.org/wiki/Interface_segregation_principle).\r\n\r\nRemember that any interface, even it has been designed prior to Java 8, if it has exactly one abstract method is a *functional interface*, and therefore eligible to be implemented using lambda.","title":"Is there an easier way to declare a lambda as a variable in java similar to that of Kotlin?","body":"<p>Contrary to Kotlin, Java isn't a <em>Functional</em> programming language, it's <em>Object-oriented</em> and in addition has a moderate subset of functional features. On the other hand, Kotlin fully supports both Functional and Object-oriented paradigm.</p>\n<p>In Kotlin, we can define a function, for instance like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val printSquare = { i: Int -&gt; println(i * i) }\n</code></pre>\n<p>And its type would be successfully inferred, the part on the right would be recognized as being of a <strong>function type</strong>. Kotlin would know that it has operator <code>invoke()</code> which can be used implicitly or explicitly <code>printSquare.invoke(10)</code>.</p>\n<p>Conversely, in Java something like that would not compile:</p>\n<pre><code>var printSquare = (int i) -&gt; System.out.println(i * i); // compiler would not be able to infer the type `printSquare` becuase lambda expression by itself has no type\n</code></pre>\n<p>In Java, there's no <strong>function types</strong>. Instead, we have a notion of a <strong>functional interface</strong>.</p>\n<p><em>Functional interface</em> - is an interface which declares a single <code>abstract</code> method (it might also have a bunch of <code>static</code> and <code>default</code> methods, but <code>abstract</code> method should be only one). And every <em>lambda expression</em> or <em>method reference</em> should conform to a particular functional interface, i.e. they have <strong>no</strong> type by itself, they have to provide an implementation to the interface which would be the <em>target type</em> of lambda (or method reference).</p>\n<p>To make the definition of <code>printSquare</code> lambda shown above compile, we to provide the type (which should be a functional interface) and target type of the lambda would be inferred from the assignment context:</p>\n<pre><code>IntConsumer printSquare = i -&gt; System.out.println(i * i);\n</code></pre>\n<p><sub><em>For more information on the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">type inference in Java, see</a></em></sub></p>\n<p>Possible ways to interact with <em>Java 8 function</em> would depend on its <em>target type</em>. On <code>printSquare</code> we can invoke <code>accept()</code> and <code>andThen()</code> (<code>andThen</code> is a default method). With <code>Runnable</code> we would have only <code>run</code> at our disposal.</p>\n<p>So the key point is that there are no <em>functional types</em> in Java, and in order to define a Java 8 function either as lambda or method reference we need either:</p>\n<ul>\n<li><p>Define our own <em>functional interface</em> which would be a target type for the lambda;</p>\n</li>\n<li><p>Use existing <em>functional interface</em> from JDK, some kind of library, or framework.</p>\n</li>\n</ul>\n<p>The following Kotlin function:</p>\n<pre><code>val myLambda: (Int, Int) -&gt; Unit = { a, b -&gt;\n    Log.d(TAG, &quot;sum value = ${a + b}&quot;)\n}\n</code></pre>\n<p>can be translated into Java as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\"><em>BiConsumer</em></a>:</p>\n<pre><code>BiConsumer&lt;Integer, Integer&gt; myLambda = (a, b) -&gt; Log.d(TAG, &quot;sum value = &quot; + (a + b));\n</code></pre>\n<blockquote>\n<p>The issue with this method is I would have to declare multiple interfaces for different types</p>\n</blockquote>\n<p>Well, it's actually rarely the case when you need to declare a functional interface. Only in the package <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.function</code></a> there are over <code>40</code>functional interfaces at your disposal. And also there are lots and lots of them in other parts of the JDK, the most common are <code>Comparator</code>, <code>Runnable</code>, <code>Callable</code>, etc.</p>\n<p>And there are numerous functional interfaces provided by frameworks. Because the ability to implement some functionality with a single line of code makes a life a bit easier, and because some interfaces naturally became lean when their designers respect the <a href=\"https://en.wikipedia.org/wiki/Interface_segregation_principle\" rel=\"nofollow noreferrer\"><em>Interface segregation principle</em></a>.</p>\n<p>Remember that any interface, even it has been designed prior to Java 8, if it has exactly one abstract method is a <em>functional interface</em>, and therefore eligible to be implemented using lambda.</p>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73249191,"answer_count":3,"score":1,"last_activity_date":1659701954,"creation_date":1659675479,"question_id":73244846,"body_markdown":"## here&#39;s how lambdas are in kotlin -\r\n\r\n``` kotlin\r\nval myLambda: (Int, Int) -&gt; Unit = { a, b -&gt;\r\n    Log.d(TAG, &quot;sum value = ${a + b}&quot;)\r\n}\r\nmyLambda(1, 2)//running the lambda\r\n```\r\n\r\n## In java, I found these two methods to do the same.\r\n\r\n&gt; Here, I can&#39;t have the runnable take a parameter.\r\n\r\n``` java\r\n// runnable method\r\nRunnable runnable = () -&gt; {\r\n\tSystem.out.println(&quot;x&quot;);\r\n};\r\nrunnable.run();\r\n```\r\n&gt; The issue with this method is I would have to declare multiple interfaces for different types\r\n\r\n``` java\r\n// interface method\r\nFinder finder = (s1, s2) -&gt; s1.indexOf(s2);\r\nSystem.out.println(finder.find(&quot;1234&quot;, &quot;23&quot;));\r\n\r\npublic interface Finder {\r\n\tpublic int find(String s1, String s2);\r\n}\r\n```\r\n\r\nSo, the question I have is whether there is an easier way to implement lambda in java better that both of these.&lt;br&gt;\r\nNote - I&#39;m new to java.\r\n","title":"Is there an easier way to declare a lambda as a variable in java similar to that of Kotlin?","body":"<h2>here's how lambdas are in kotlin -</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myLambda: (Int, Int) -&gt; Unit = { a, b -&gt;\n    Log.d(TAG, &quot;sum value = ${a + b}&quot;)\n}\nmyLambda(1, 2)//running the lambda\n</code></pre>\n<h2>In java, I found these two methods to do the same.</h2>\n<blockquote>\n<p>Here, I can't have the runnable take a parameter.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// runnable method\nRunnable runnable = () -&gt; {\n    System.out.println(&quot;x&quot;);\n};\nrunnable.run();\n</code></pre>\n<blockquote>\n<p>The issue with this method is I would have to declare multiple interfaces for different types</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// interface method\nFinder finder = (s1, s2) -&gt; s1.indexOf(s2);\nSystem.out.println(finder.find(&quot;1234&quot;, &quot;23&quot;));\n\npublic interface Finder {\n    public int find(String s1, String s2);\n}\n</code></pre>\n<p>So, the question I have is whether there is an easier way to implement lambda in java better that both of these.<br>\nNote - I'm new to java.</p>\n"},{"tags":["java","javafx","java-17","module-info"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659683198,"post_id":73245507,"comment_id":129356847,"body_markdown":"Here is the source for resolver [line 61](https://github.com/kordamp/ikonli/blob/master/core/ikonli-core/src/main/java/org/kordamp/ikonli/AbstractIkonResolver.java#L61).  You can see later in the source that the resolver is [module aware](https://github.com/kordamp/ikonli/blob/master/core/ikonli-core/src/main/java/org/kordamp/ikonli/AbstractIkonResolver.java#L87).","body":"Here is the source for resolver <a href=\"https://github.com/kordamp/ikonli/blob/master/core/ikonli-core/src/main/java/org/kordamp/ikonli/AbstractIkonResolver.java#L61\" rel=\"nofollow noreferrer\">line 61</a>.  You can see later in the source that the resolver is <a href=\"https://github.com/kordamp/ikonli/blob/master/core/ikonli-core/src/main/java/org/kordamp/ikonli/AbstractIkonResolver.java#L87\" rel=\"nofollow noreferrer\">module aware</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1659684368,"post_id":73245507,"comment_id":129357206,"body_markdown":"`fab-shopify` is in [FontAwesome5](https://kordamp.org/ikonli/#_fontawesome5_latest) under [Brands](https://kordamp.org/ikonli/cheat-sheet-fontawesome5.html).  To use it, you need to depend on `&lt;artifactId&gt;ikonli-fontawesome5-pack&lt;/artifactId&gt;` and require `org.kordamp.ikonli.fontawesome5`. I don’t see that you do that.  This is documented in [2.2.1 installing](https://kordamp.org/ikonli/#_javafx).","body":"<code>fab-shopify</code> is in <a href=\"https://kordamp.org/ikonli/#_fontawesome5_latest\" rel=\"nofollow noreferrer\">FontAwesome5</a> under <a href=\"https://kordamp.org/ikonli/cheat-sheet-fontawesome5.html\" rel=\"nofollow noreferrer\">Brands</a>.  To use it, you need to depend on <code>&lt;artifactId&gt;ikonli-fontawesome5-pack&lt;&#47;artifactId&gt;</code> and require <code>org.kordamp.ikonli.fontawesome5</code>. I don’t see that you do that.  This is documented in <a href=\"https://kordamp.org/ikonli/#_javafx\" rel=\"nofollow noreferrer\">2.2.1 installing</a>."},{"owner":{"account_id":8839788,"reputation":2921,"user_id":6602599,"accept_rate":15,"display_name":"Navigator"},"score":1,"creation_date":1659684739,"post_id":73245507,"comment_id":129357308,"body_markdown":"Thanks @jewelsea . You are very right. fontawesome5 was missing from the dependecy","body":"Thanks @jewelsea . You are very right. fontawesome5 was missing from the dependecy"}],"answers":[{"tags":[],"owner":{"account_id":8839788,"reputation":2921,"user_id":6602599,"accept_rate":15,"display_name":"Navigator"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659691261,"creation_date":1659684822,"answer_id":73246218,"question_id":73245507,"body_markdown":"I included the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ikonli-fontawesome5-pack&lt;/artifactId&gt;\r\n        &lt;version&gt;12.2.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nwhich solved the problem.\r\n\r\n","title":"org.kordamp.ikonli icons issues","body":"<p>I included the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n    &lt;artifactId&gt;ikonli-fontawesome5-pack&lt;/artifactId&gt;\n    &lt;version&gt;12.2.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>which solved the problem.</p>\n"}],"owner":{"account_id":8839788,"reputation":2921,"user_id":6602599,"accept_rate":15,"display_name":"Navigator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659701857,"creation_date":1659680790,"question_id":73245507,"body_markdown":"I have simpe **javafx modular app** using **JDK 17**\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n                &lt;version&gt;12.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n                &lt;version&gt;11.5.0&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\r\n                                &lt;launcher&gt;app&lt;/launcher&gt;\r\n                                &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                                &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                                &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                                &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                                &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**module-info.java**\r\n\r\n    module com.example.demo {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        requires com.dlsc.formsfx;\r\n        requires org.kordamp.ikonli.javafx;\r\n        requires org.kordamp.ikonli.core;\r\n    \r\n        opens com.example.demo to javafx.fxml;\r\n        exports com.example.demo;\r\n    }\r\n\r\n**hello-view.fxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n        &lt;/padding&gt;\r\n        &lt;FontIcon iconColor=&quot;#077483&quot; iconLiteral=&quot;fab-shopify&quot; iconSize=&quot;40&quot; selectionEnd=&quot;1&quot;\r\n                  selectionStart=&quot;1&quot;/&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n        &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n    &lt;/VBox&gt;\r\n\r\nI get AN error when running application \r\n\r\n    Caused by: java.lang.UnsupportedOperationException: Cannot resolve &#39;fab-shopify&#39;\r\n    \tat org.kordamp.ikonli.core@12.3.1/org.kordamp.ikonli.AbstractIkonResolver.resolve(AbstractIkonResolver.java:61)\r\n    \tat org.kordamp.ikonli.javafx@12.3.1/org.kordamp.ikonli.javafx.IkonResolver.resolve(IkonResolver.java:73)\r\n    \tat org.kordamp.ikonli.javafx@12.3.1/org.kordamp.ikonli.javafx.FontIcon.setIconLiteral(FontIcon.java:251)\r\n    \t... 33 more\r\n    Exception running application com.example.demo.HelloApplication\r\n\r\n\r\nIf I remove module-info.java it works.\r\n\r\nHow can I resolve it?","title":"org.kordamp.ikonli icons issues","body":"<p>I have simpe <strong>javafx modular app</strong> using <strong>JDK 17</strong></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.5.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.demo/com.example.demo.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre><code>module com.example.demo {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires com.dlsc.formsfx;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.ikonli.core;\n\n    opens com.example.demo to javafx.fxml;\n    exports com.example.demo;\n}\n</code></pre>\n<p><strong>hello-view.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;FontIcon iconColor=&quot;#077483&quot; iconLiteral=&quot;fab-shopify&quot; iconSize=&quot;40&quot; selectionEnd=&quot;1&quot;\n              selectionStart=&quot;1&quot;/&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>I get AN error when running application</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Cannot resolve 'fab-shopify'\n    at org.kordamp.ikonli.core@12.3.1/org.kordamp.ikonli.AbstractIkonResolver.resolve(AbstractIkonResolver.java:61)\n    at org.kordamp.ikonli.javafx@12.3.1/org.kordamp.ikonli.javafx.IkonResolver.resolve(IkonResolver.java:73)\n    at org.kordamp.ikonli.javafx@12.3.1/org.kordamp.ikonli.javafx.FontIcon.setIconLiteral(FontIcon.java:251)\n    ... 33 more\nException running application com.example.demo.HelloApplication\n</code></pre>\n<p>If I remove module-info.java it works.</p>\n<p>How can I resolve it?</p>\n"},{"tags":["java","appium","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659701792,"creation_date":1659701792,"answer_id":73249615,"question_id":73248898,"body_markdown":"There is another way to press KeyEvents in Appium, through pressKey();. You could try using this method twice in a row (maybe with a sleep in between to allow the engine some space/reaction time. Because what means double click for you?) as following:\r\n\r\n    driver.pressKey(new KeyEvent(AndroidKey.BACK));\r\n    Thread.sleep(200);\r\n    driver.pressKey(new KeyEvent(AndroidKey.BACK));\r\n\r\nHope this will solve your issue.","title":"How to double click android back button with Appium?","body":"<p>There is another way to press KeyEvents in Appium, through pressKey();. You could try using this method twice in a row (maybe with a sleep in between to allow the engine some space/reaction time. Because what means double click for you?) as following:</p>\n<pre><code>driver.pressKey(new KeyEvent(AndroidKey.BACK));\nThread.sleep(200);\ndriver.pressKey(new KeyEvent(AndroidKey.BACK));\n</code></pre>\n<p>Hope this will solve your issue.</p>\n"}],"owner":{"account_id":18003717,"reputation":1,"user_id":13085047,"display_name":"justpetro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659701792,"creation_date":1659698108,"question_id":73248898,"body_markdown":"I am trying to write automation UI tests with Appium. I have this problem: I can&#39;t make a method that automatically clicks twice on the _back_ button of an Android device.\r\n\r\nWhen I use `driver.navigate().back()`, the automation clicks only once on the back button. Even if I write this line twice, the double click is not performed.","title":"How to double click android back button with Appium?","body":"<p>I am trying to write automation UI tests with Appium. I have this problem: I can't make a method that automatically clicks twice on the <em>back</em> button of an Android device.</p>\n<p>When I use <code>driver.navigate().back()</code>, the automation clicks only once on the back button. Even if I write this line twice, the double click is not performed.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":1,"creation_date":1608911927,"post_id":65448928,"comment_id":115711824,"body_markdown":"Did you try `gradle install`? The project uses the old (and deprecated) publishing mechanism as described [here](https://docs.gradle.org/current/userguide/maven_plugin.html).","body":"Did you try <code>gradle install</code>? The project uses the old (and deprecated) publishing mechanism as described <a href=\"https://docs.gradle.org/current/userguide/maven_plugin.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"score":0,"creation_date":1608919101,"post_id":65448928,"comment_id":115713292,"body_markdown":"@LukasK&#246;rfer yes but getting errors: https://gist.github.com/questionaut/268c0b059c00b43730115e20a028eead","body":"@LukasK&#246;rfer yes but getting errors: <a href=\"https://gist.github.com/questionaut/268c0b059c00b43730115e20a028eead\" rel=\"nofollow noreferrer\">gist.github.com/questionaut/268c0b059c00b43730115e20a028eead</a>"}],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659701096,"creation_date":1659701096,"answer_id":73249486,"question_id":65448928,"body_markdown":"I have the same issue, create a jar file and push it into the local repository.\r\n\r\nI fixed the issue by doing this:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;maven-publish&#39;\r\n    }\r\n    \r\n    group = &#39;com.test&#39;\r\n    version = &#39;2.2&#39;\r\n    description = &#39;myproject&#39;\r\n    java.sourceCompatibility = JavaVersion.VERSION_11\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    publishing {\r\n        publications {\r\n            maven(MavenPublication) {\r\n                from(components.java)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI am using Gradle-7.5 version.\r\n\r\nYou need to add maven-push plugin and publishing it. Also the command is:\r\n\r\n    ./gradlew clean build publishToMavenLocal","title":"Gradle build to copy jars to Maven Local Repository","body":"<p>I have the same issue, create a jar file and push it into the local repository.</p>\n<p>I fixed the issue by doing this:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'maven-publish'\n}\n\ngroup = 'com.test'\nversion = '2.2'\ndescription = 'myproject'\njava.sourceCompatibility = JavaVersion.VERSION_11\n\nrepositories {\n    mavenCentral()\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from(components.java)\n        }\n    }\n}\n</code></pre>\n<p>I am using Gradle-7.5 version.</p>\n<p>You need to add maven-push plugin and publishing it. Also the command is:</p>\n<pre><code>./gradlew clean build publishToMavenLocal\n</code></pre>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659701096,"creation_date":1608906368,"question_id":65448928,"body_markdown":"When building this gradle https://github.com/JetBrains/xodus/blob/master/build.gradle\r\n\r\nUsing: `./gradle build `\r\n\r\nAnd results to\r\n\r\n```\r\nBUILD SUCCESSFUL in 8m 36s\r\n161 actionable tasks: 61 executed, 100 up-to-date\r\n```\r\n\r\nHowever jars are not copied to the Local maven repository path: `/.m2/`\r\n\r\n\r\nWhat can be done here to make sure it deploys to local maven repository? ","title":"Gradle build to copy jars to Maven Local Repository","body":"<p>When building this gradle <a href=\"https://github.com/JetBrains/xodus/blob/master/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/xodus/blob/master/build.gradle</a></p>\n<p>Using: <code>./gradle build </code></p>\n<p>And results to</p>\n<pre><code>BUILD SUCCESSFUL in 8m 36s\n161 actionable tasks: 61 executed, 100 up-to-date\n</code></pre>\n<p>However jars are not copied to the Local maven repository path: <code>/.m2/</code></p>\n<p>What can be done here to make sure it deploys to local maven repository?</p>\n"},{"tags":["java","intellij-idea","file-io"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659649261,"post_id":73240299,"comment_id":129351031,"body_markdown":"Do not post pictures of your code.  Edit your question and include your code and the error output as text.","body":"Do not post pictures of your code.  Edit your question and include your code and the error output as text."},{"owner":{"account_id":23808129,"reputation":924,"user_id":17817329,"display_name":"robni"},"score":0,"creation_date":1659691320,"post_id":73240299,"comment_id":129359439,"body_markdown":"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22572634,"reputation":61,"user_id":16758600,"display_name":"Jackson Brienen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659641266,"creation_date":1659636775,"answer_id":73240569,"question_id":73240299,"body_markdown":"In Java if you are not using `class.getResource()` it will be looking in the project/surrounding folder. If you compiled the `.class` file by hand it would work in its current state. But to fix the issue moving `names.txt` and `places.txt` to the `files` project folder will fix it.","title":"No such file or directory in Intellij while working with filereader","body":"<p>In Java if you are not using <code>class.getResource()</code> it will be looking in the project/surrounding folder. If you compiled the <code>.class</code> file by hand it would work in its current state. But to fix the issue moving <code>names.txt</code> and <code>places.txt</code> to the <code>files</code> project folder will fix it.</p>\n"},{"tags":[],"owner":{"account_id":25979858,"reputation":1,"user_id":19693771,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659700947,"creation_date":1659700947,"answer_id":73249449,"question_id":73240299,"body_markdown":"I am able to run the program. I however could not figure out a simpler way than this. \r\n\r\nSo I changed my code by adding \r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n\r\nto the imports. \r\n\r\nAnd inside the main(), I added the following statement to get the path. \r\n\r\n    Path path = Paths.get(&#39;path/to/directory/&#39;);\r\n\r\nAnd then I used this `path` to hard code the path into the call to the `FileReader` such as \r\n\r\n    FileReader names = new FileReader(path.toString()+&quot;/&quot;+namesTxt);\r\n\r\nThis got the program running. I know this is not the optimum or the desired solution but at the moment, I wanted the program to run.\r\n\r\nI will update the answer once I learn more about how the IntelliJ works in identifying files because hard coding paths is not a good software design practice. \r\n\r\n\r\n","title":"No such file or directory in Intellij while working with filereader","body":"<p>I am able to run the program. I however could not figure out a simpler way than this.</p>\n<p>So I changed my code by adding</p>\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\n</code></pre>\n<p>to the imports.</p>\n<p>And inside the main(), I added the following statement to get the path.</p>\n<pre><code>Path path = Paths.get('path/to/directory/');\n</code></pre>\n<p>And then I used this <code>path</code> to hard code the path into the call to the <code>FileReader</code> such as</p>\n<pre><code>FileReader names = new FileReader(path.toString()+&quot;/&quot;+namesTxt);\n</code></pre>\n<p>This got the program running. I know this is not the optimum or the desired solution but at the moment, I wanted the program to run.</p>\n<p>I will update the answer once I learn more about how the IntelliJ works in identifying files because hard coding paths is not a good software design practice.</p>\n"}],"owner":{"account_id":25979858,"reputation":1,"user_id":19693771,"display_name":"Abhishek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1659700947,"creation_date":1659635428,"question_id":73240299,"body_markdown":"I&#39;m new to IntelliJ. I&#39;m running into problems on running very basic File I/O programs. \r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n\r\n    public class NamePlaces {\r\n        public static void main(String[] args) throws FileNotFoundException{\r\n            String nameTxt = args[0];\r\n            String placeTxt = args[1];\r\n\r\n            Scanner nameScanner = null;\r\n            Scanner placeScanner = null;\r\n            try{\r\n                FileReader names = new FileReader(nameTxt);\r\n                FileReader places = new FileReader(placeTxt);\r\n\r\n                nameScanner = new Scanner(new BufferedReader(names));\r\n                placeScanner = new Scanner(new BufferedReader(places));\r\n\r\n                while(nameScanner.hasNext() &amp;&amp; placeScanner.hasNext()){\r\n\r\n                    System.out.format(&quot;%s lives in %s \\n&quot;,nameScanner.next(),placeScanner.next());\r\n            }\r\n\r\n        }finally {\r\n            if (nameScanner != null){\r\n                nameScanner.close();\r\n            }\r\n            if (placeScanner != null){\r\n                placeScanner.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nhere&#39;s my project structure \r\n[![enter image description here][2]][2]\r\n\r\nand here&#39;s my output \r\n\r\n       /usr/lib64/jvm/java/bin/java -javaagent:/home/abhishek/intellij/lib/idea_rt.jar=42185:/home/abhishek/intellij/bin -Dfile.encoding=UTF-8 -classpath /home/abhishek/Documents/code/ideaprojects/files/out/production/files NamePlaces names.txt places.txt\r\n            Exception in thread &quot;main&quot; java.io.FileNotFoundException: names.txt (No such file or directory)\r\n            \tat java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n            \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n            \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n            \tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n            \tat NamePlaces.main(NamePlaces.java:12)\r\n            \r\n            Process finished with exit code 1\r\n\r\n\r\nSo I&#39;ve been wrestling with this problem for quite some time now. I do not understand why it won&#39;t read the file names.txt when it is available in the src folder as well as the out/production/files folder too. What am I missing. I&#39;ve tried changing directories, classpath seems right too. I&#39;m out of options here. Any help is appreciated. thanks.\r\n\r\n  [2]: https://i.stack.imgur.com/4X8mX.png\r\n","title":"No such file or directory in Intellij while working with filereader","body":"<p>I'm new to IntelliJ. I'm running into problems on running very basic File I/O programs.</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class NamePlaces {\n    public static void main(String[] args) throws FileNotFoundException{\n        String nameTxt = args[0];\n        String placeTxt = args[1];\n\n        Scanner nameScanner = null;\n        Scanner placeScanner = null;\n        try{\n            FileReader names = new FileReader(nameTxt);\n            FileReader places = new FileReader(placeTxt);\n\n            nameScanner = new Scanner(new BufferedReader(names));\n            placeScanner = new Scanner(new BufferedReader(places));\n\n            while(nameScanner.hasNext() &amp;&amp; placeScanner.hasNext()){\n\n                System.out.format(&quot;%s lives in %s \\n&quot;,nameScanner.next(),placeScanner.next());\n        }\n\n    }finally {\n        if (nameScanner != null){\n            nameScanner.close();\n        }\n        if (placeScanner != null){\n            placeScanner.close();\n        }\n    }\n}\n</code></pre>\n<p>here's my project structure\n<a href=\"https://i.stack.imgur.com/4X8mX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4X8mX.png\" alt=\"enter image description here\" /></a></p>\n<p>and here's my output</p>\n<pre><code>   /usr/lib64/jvm/java/bin/java -javaagent:/home/abhishek/intellij/lib/idea_rt.jar=42185:/home/abhishek/intellij/bin -Dfile.encoding=UTF-8 -classpath /home/abhishek/Documents/code/ideaprojects/files/out/production/files NamePlaces names.txt places.txt\n        Exception in thread &quot;main&quot; java.io.FileNotFoundException: names.txt (No such file or directory)\n            at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n            at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n            at NamePlaces.main(NamePlaces.java:12)\n        \n        Process finished with exit code 1\n</code></pre>\n<p>So I've been wrestling with this problem for quite some time now. I do not understand why it won't read the file names.txt when it is available in the src folder as well as the out/production/files folder too. What am I missing. I've tried changing directories, classpath seems right too. I'm out of options here. Any help is appreciated. thanks.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1659115504,"post_id":73168568,"comment_id":129224470,"body_markdown":"1. can you just check your Main class, how you are executing SpringApplication?   2. can you check if there is existing application running on port 8767","body":"1. can you just check your Main class, how you are executing SpringApplication?   2. can you check if there is existing application running on port 8767"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1659119777,"post_id":73168568,"comment_id":129225669,"body_markdown":"You are using ssl, are you sure there is no web server on that port like httpd or nginx in front of your java app?","body":"You are using ssl, are you sure there is no web server on that port like httpd or nginx in front of your java app?"},{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":0,"creation_date":1659129617,"post_id":73168568,"comment_id":129228211,"body_markdown":"@slindenau pretty sure. I&#39;ll check and get back to you when I&#39;m able to check in a couple of days unfortunately. Might have to repost this question then","body":"@slindenau pretty sure. I&#39;ll check and get back to you when I&#39;m able to check in a couple of days unfortunately. Might have to repost this question then"},{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":0,"creation_date":1659129726,"post_id":73168568,"comment_id":129228239,"body_markdown":"@kus I have a basic spring boot main class annotated with SpringBootApplication. Nothing fancy. So if I can only get my app to run on 8767, why would there also be something else running on that?","body":"@kus I have a basic spring boot main class annotated with SpringBootApplication. Nothing fancy. So if I can only get my app to run on 8767, why would there also be something else running on that?"},{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":0,"creation_date":1659130417,"post_id":73168568,"comment_id":129228404,"body_markdown":"@kus If there were something else on 8767, then my app would not run","body":"@kus If there were something else on 8767, then my app would not run"}],"answers":[{"tags":[],"owner":{"account_id":25790128,"reputation":31,"user_id":19534319,"display_name":"Vinit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659155676,"creation_date":1659155551,"answer_id":73172873,"question_id":73168568,"body_markdown":"Spring boot takes into account cli arguments when you pass the arguments to SpringApplication.run method in the main method. Main class should look like this -\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t       SpringApplication.run(Application.class, args);\r\n\t    }\r\n    }\r\n\r\nPass args as argument to run method and it should take cli arguments into account. With this class, if --server.port=8080 is used as cli argument, then spring application should run on 8080 port.","title":"How to make spring boot app run on alternate port?","body":"<p>Spring boot takes into account cli arguments when you pass the arguments to SpringApplication.run method in the main method. Main class should look like this -</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n           SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Pass args as argument to run method and it should take cli arguments into account. With this class, if --server.port=8080 is used as cli argument, then spring application should run on 8080 port.</p>\n"},{"tags":[],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659343401,"creation_date":1659343401,"answer_id":73191043,"question_id":73168568,"body_markdown":"this is the order of how spring boots evaluates the different approaches of setting the server port are:\r\n\r\n 1. embedded server configuration\r\n 2. command-line arguments\r\n 3. property files\r\n 4. main @SpringBootApplication configuration\r\n\r\nso two typical issues if the server.port parameter does not work are overridden behavior in a WebServerFactoryCustomizer or in your main method of the SpringBootApplication","title":"How to make spring boot app run on alternate port?","body":"<p>this is the order of how spring boots evaluates the different approaches of setting the server port are:</p>\n<ol>\n<li>embedded server configuration</li>\n<li>command-line arguments</li>\n<li>property files</li>\n<li>main @SpringBootApplication configuration</li>\n</ol>\n<p>so two typical issues if the server.port parameter does not work are overridden behavior in a WebServerFactoryCustomizer or in your main method of the SpringBootApplication</p>\n"}],"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659700908,"creation_date":1659113140,"question_id":73168568,"body_markdown":"I have a spring boot (2.5.3) app running on a centOS VM behind a firewall. I normally build a fat jar, then run it with a config passed via CLI: \r\n\r\n 1. `mvn clean package spring-boot:repackage`\r\n 2. `java -jar target/service.jar --spring.config.location=/path/to/config.properties`\r\n 3. run `curl` GET commands: `curl --key /a/b --cert /x/y &quot;https://server-name:8767/path?arg=...&quot;`\r\n\r\nIt works using port 8767 set in the config, and I chose this port a while back randomly.\r\n\r\nSince then, I&#39;ve tried to see if I could make it work with a different port. I opened more ports on the linux `public` firewall-cmd zone, including 8768 &amp; 9000. Problem is that no matter what I try, the only port I can get the app to run on is 8767. Seems like I&#39;ve somehow hard-wired it to that port!\r\n\r\nNormally `server.port` is set in the config, but even if I pass another port `--server.port=xxxx` via cli, the app runs, and logs show it **is** exposed to xxxx; however, curl can consistently *only* access 8767, and other ports time out. Or if I set `server.port=xxxx` in the config, same outcome.\r\n\r\nWhat do I need to do to use a different port? (I saw [this][1]...would it help me?)\r\n\r\nDependencies (nothing special)\r\nDependencies (nothing special)\r\n\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n**UPDATE**: @Vinit - my main class is exactly like yours, except a std println I have to let me know it&#39;s running:\r\n\r\n    System.out.println(&quot;Running...&quot;);\r\n\r\nAs for my application.properties, I cannot paste them as I&#39;m behind a firewall, but they are basically below, and there are more than one of each:\r\n\r\n    logging.level\r\n    server.port=xxxx  // as described above, i&#39;ve tried declaring here or cli\r\n    server.ssl\r\n    # custom auth properties\r\n    customauth.url\r\n    spring.profiles.active\r\n    spring.application.name\r\n    spring.task.scheduling\r\n    spring.jmx.enabled\r\n    swagger\r\n    management.endpoints\r\n    sanitization\r\n    spring.jackson\r\n\r\nOn another note, I run\r\n\r\n    sudo netstat -nlp | grep &quot;&lt;port&gt;&quot;\r\n...before I run the app (where &lt;port&gt; is the port I have either in my config or passed CLI), and no results. Then I run the app, repeat the `netstat` call, and that port is listening sure enough. But same thing: if 8767, all is well; but if 8768, time out.\r\n\r\n  [1]: https://stackoverflow.com/questions/64356829/how-to-run-spring-boot-on-port-443","title":"How to make spring boot app run on alternate port?","body":"<p>I have a spring boot (2.5.3) app running on a centOS VM behind a firewall. I normally build a fat jar, then run it with a config passed via CLI:</p>\n<ol>\n<li><code>mvn clean package spring-boot:repackage</code></li>\n<li><code>java -jar target/service.jar --spring.config.location=/path/to/config.properties</code></li>\n<li>run <code>curl</code> GET commands: <code>curl --key /a/b --cert /x/y &quot;https://server-name:8767/path?arg=...&quot;</code></li>\n</ol>\n<p>It works using port 8767 set in the config, and I chose this port a while back randomly.</p>\n<p>Since then, I've tried to see if I could make it work with a different port. I opened more ports on the linux <code>public</code> firewall-cmd zone, including 8768 &amp; 9000. Problem is that no matter what I try, the only port I can get the app to run on is 8767. Seems like I've somehow hard-wired it to that port!</p>\n<p>Normally <code>server.port</code> is set in the config, but even if I pass another port <code>--server.port=xxxx</code> via cli, the app runs, and logs show it <strong>is</strong> exposed to xxxx; however, curl can consistently <em>only</em> access 8767, and other ports time out. Or if I set <code>server.port=xxxx</code> in the config, same outcome.</p>\n<p>What do I need to do to use a different port? (I saw <a href=\"https://stackoverflow.com/questions/64356829/how-to-run-spring-boot-on-port-443\">this</a>...would it help me?)</p>\n<p>Dependencies (nothing special)\nDependencies (nothing special)</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>UPDATE</strong>: @Vinit - my main class is exactly like yours, except a std println I have to let me know it's running:</p>\n<pre><code>System.out.println(&quot;Running...&quot;);\n</code></pre>\n<p>As for my application.properties, I cannot paste them as I'm behind a firewall, but they are basically below, and there are more than one of each:</p>\n<pre><code>logging.level\nserver.port=xxxx  // as described above, i've tried declaring here or cli\nserver.ssl\n# custom auth properties\ncustomauth.url\nspring.profiles.active\nspring.application.name\nspring.task.scheduling\nspring.jmx.enabled\nswagger\nmanagement.endpoints\nsanitization\nspring.jackson\n</code></pre>\n<p>On another note, I run</p>\n<pre><code>sudo netstat -nlp | grep &quot;&lt;port&gt;&quot;\n</code></pre>\n<p>...before I run the app (where  is the port I have either in my config or passed CLI), and no results. Then I run the app, repeat the <code>netstat</code> call, and that port is listening sure enough. But same thing: if 8767, all is well; but if 8768, time out.</p>\n"},{"tags":["java","oracle","hibernate","kubernetes","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658319961,"post_id":73051447,"comment_id":129021530,"body_markdown":"As far as I&#39;m aware, the &quot;leak detection&quot; does only that: it detects the leak, it does not invalidate it. If your application holds on to the connection and never closes it (which releases it back to the connection pool), then that is not something HikariCP can fix for you. It suggests that `com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil` allocates a Hibernate `Session` (which has a `java.sql.Connection`), and uses that one session for the lifetime of the application.","body":"As far as I&#39;m aware, the &quot;leak detection&quot; does only that: it detects the leak, it does not invalidate it. If your application holds on to the connection and never closes it (which releases it back to the connection pool), then that is not something HikariCP can fix for you. It suggests that <code>com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDa&zwnj;&#8203;taUtil</code> allocates a Hibernate <code>Session</code> (which has a <code>java.sql.Connection</code>), and uses that one session for the lifetime of the application."},{"owner":{"account_id":24569693,"reputation":487,"user_id":18476325,"display_name":"Andr&#233;s"},"score":0,"creation_date":1658773252,"post_id":73051447,"comment_id":129130136,"body_markdown":"Are you connecting to Cloud SQL using the Cloud SQL Proxy or the database IP? If using the Cloud SQL Proxy, please check that you are using the [latest version](https://cloud.google.com/sql/docs/mysql/sql-proxy#:~:text=SQL%20announce%20forum.-,Note,-%3A%20you%20must) of Cloud SQL Proxy.","body":"Are you connecting to Cloud SQL using the Cloud SQL Proxy or the database IP? If using the Cloud SQL Proxy, please check that you are using the <a href=\"https://cloud.google.com/sql/docs/mysql/sql-proxy#:~:text=SQL%20announce%20forum.-,Note,-%3A%20you%20must\" rel=\"nofollow noreferrer\">latest version</a> of Cloud SQL Proxy."},{"owner":{"account_id":11157983,"reputation":33,"user_id":8189102,"display_name":"Ghorio Fuitton"},"score":0,"creation_date":1658910457,"post_id":73051447,"comment_id":129166519,"body_markdown":"@Andr&#233;s I am connecting to Oracle database using IP","body":"@Andr&#233;s I am connecting to Oracle database using IP"},{"owner":{"account_id":11157983,"reputation":33,"user_id":8189102,"display_name":"Ghorio Fuitton"},"score":0,"creation_date":1659645599,"post_id":73051447,"comment_id":129350162,"body_markdown":"@MarkRotteveel I have added the code from `DatabaseSequenceIdPoolDataUtil` below, maybe you have any idea if something is wrong with this part?","body":"@MarkRotteveel I have added the code from <code>DatabaseSequenceIdPoolDataUtil</code> below, maybe you have any idea if something is wrong with this part?"}],"owner":{"account_id":11157983,"reputation":33,"user_id":8189102,"display_name":"Ghorio Fuitton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659700638,"creation_date":1658319125,"question_id":73051447,"body_markdown":"After trying to figure out whats wrong with our app, I have decided to look here for some help.\r\n\r\nWe have a Java app which uses below packages for HikariCP database pool\r\n```none\r\n+--- com.custom.gwtext:gwtext-server\r\n|    +--- org.hibernate:hibernate-hikaricp:5.4.6.Final\r\n|    |    +--- org.hibernate:hibernate-core:5.4.6.Final (*)\r\n|    |    \\--- com.zaxxer:HikariCP:3.2.0 -&gt; 3.3.0\r\n|    |         \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.36\r\n|    +--- com.zaxxer:HikariCP:3.3.0 (*)\r\n```\r\n\r\nThe issue is that we are currently trying to migrate to Kubernetes and we started to see a lot of `java.sql.SQLException: Connection is closed` errors after application is running for several hours. After enabling Hikari DEBUG log and adding `leakDetectionThreshold` we started to notice a few things.\r\n\r\nThis is the configuration for HikariCP\r\n```none\r\n00:06:05.521 [main] DEBUG com.zaxxer.hikari.HikariConfig - HikariPool-2 - configuration:\r\n00:06:05.522 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................false\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery.............none\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............30000\r\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=&lt;masked&gt;}\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName.................&quot;oracle.jdbc.OracleDriver&quot;\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}\r\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................600000\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:oracle:thin:@1.1.1.1:1521:test\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........200000\r\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................18000000\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................90\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........none\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................15\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................&lt;masked&gt;\r\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................&quot;HikariPool-2&quot;\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal\r\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default\r\n00:06:05.528 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................&quot;user&quot;\r\n00:06:05.528 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............5000\r\n```\r\n\r\n1. After starting up the Java app and logging in with the user, after some minutes (probably the leakDetectionThreshold) we notice below log entry, which says that there is 2 leaks right away\r\n```none\r\n[HikariPool-2 housekeeper] WARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@5ae99303 on thread pool-10-thread-1, stack trace follows\r\njava.lang.Exception: Apparent connection leak detected\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.beginTransaction(AbstractSharedSessionContract.java:467)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\r\n\tat com.sun.proxy.$Proxy326.beginTransaction(Unknown Source)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.startTransaction(HibernateUtilImpl.java:335)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.startTransactionIfNeeded(HibernateUtilImpl.java:330)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.getSession(HibernateUtilImpl.java:70)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\nand a few minutes later second one\r\n```none\r\n[HikariPool-2 housekeeper] WARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@7b911a8f on thread pool-6-thread-1, stack trace follows\r\njava.lang.Exception: Apparent connection leak detected\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.beginTransaction(AbstractSharedSessionContract.java:467)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\r\n\tat com.sun.proxy.$Proxy326.beginTransaction(Unknown Source)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.startTransaction(HibernateUtilImpl.java:335)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.startTransactionIfNeeded(HibernateUtilImpl.java:330)\r\n\tat com.custom.gwtext.server.utils.HibernateUtilImpl.getSession(HibernateUtilImpl.java:70)\r\n\tat com.custom.gwtext.server.utils.DbUtilImpl.doWork(DbUtilImpl.java:516)\r\n\tat com.custom.gwtext.server.utils.DbUtilOracleImpl.executeQueryDBSpecific(DbUtilOracleImpl.java:117)\r\n\tat com.custom.gwtext.server.utils.DbUtilOracleImpl.executeQueryDBSpecific(DbUtilOracleImpl.java:67)\r\n\tat com.custom.gwtext.server.utils.DbUtilImpl.executeQueryInternal(DbUtilImpl.java:266)\r\n\tat com.custom.gwtext.server.utils.DbUtilImpl.executeQuery(DbUtilImpl.java:173)\r\n\tat com.custom.gwtext.server.query.QueriesDefinitionRegistryImpl.getData(QueriesDefinitionRegistryImpl.java:147)\r\n\tat com.custom.gwtext.server.query.QueriesDefinitionRegistryImpl.getData(QueriesDefinitionRegistryImpl.java:74)\r\n\tat com.custom.pins.server.data.helper.QueryHelper.executeSelectFirstRow(QueryHelper.java:54)\r\n\tat com.custom.pins.server.data.helper.QueryHelper.selectFirstRow(QueryHelper.java:36)\r\n\tat com.custom.pins.server.data.helper.QueryHelper.selectFirstValueRequired(QueryHelper.java:80)\r\n\tat com.custom.pins.server.business.bdt.BusinessDataTableDataUtil.existsBusinessTable(BusinessDataTableDataUtil.java:20)\r\n\tat com.custom.pins.server.business.bdt.BusinessDataTableBuilderImpl.existsTable(BusinessDataTableBuilderImpl.java:225)\r\n\tat com.custom.pins.server.security.audit.ws.WebServiceLoggerConfigImpl.createWsRequestConfig(WebServiceLoggerConfigImpl.java:116)\r\n\tat com.custom.pins.server.security.audit.ws.WebServiceLoggerConfigImpl.getWsRequestConfig(WebServiceLoggerConfigImpl.java:75)\r\n\tat com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.getWsRequestSpecificConfiguration(WebServiceAuditLogService.java:88)\r\n\tat com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.logIfConfigEnabled(WebServiceAuditLogService.java:71)\r\n\tat com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.lambda$getInternalWsLogConsumer$0(WebServiceAuditLogService.java:62)\r\n\tat com.custom.gwtext.server.security.audit.AuditLogServiceImpl.lambda$createEventHandler$2(AuditLogServiceImpl.java:90)\r\n\tat com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:150)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nafter which they both stay active for a long time \r\n```none\r\n[HikariPool-2 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - After cleanup  stats (total=17, active=2, idle=15, waiting=0)\r\n```\r\n\r\n2. Then after a few hours, this can be 3-10 hours, so no specific range, maybe depends on activity etc, no idea, this pops up in logs\r\n```none\r\n[pool-10-thread-1] WARN  c.zaxxer.hikari.pool.ProxyConnection - HikariPool-2 - Connection oracle.jdbc.driver.T4CConnection@5ae99303 marked as broken because of SQLSTATE(08006), ErrorCode(17002)\r\njava.sql.SQLRecoverableException: IO Error: Connection reset by peer\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:929)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeInternal(T4CCallableStatement.java:1300)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3887)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4230)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\r\n\tat com.zaxxer.hikari.pool.HikariProxyCallableStatement.execute(HikariProxyCallableStatement.java)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.lambda$reserveIdBatch$0(DatabaseSequenceIdPoolDataUtil.java:34)\r\n\tat org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:37)\r\n\tat org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2306)\r\n\tat org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2303)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:306)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2325)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2310)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\r\n\tat com.sun.proxy.$Proxy326.doWork(Unknown Source)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.io.IOException: Connection reset by peer\r\n\tat java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:355)\r\n\tat oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:144)\r\n\tat oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\r\n\tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\r\n\tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\r\n\tat oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:223)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:56)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:907)\r\n\t... 29 common frames omitted\r\n[pool-10-thread-1] INFO  com.zaxxer.hikari.pool.ProxyLeakTask - Previously reported leaked connection oracle.jdbc.driver.T4CConnection@5ae99303 on thread pool-10-thread-1 was returned to the pool (unleaked)\r\n[HikariPool-2 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-2 - Closing connection oracle.jdbc.driver.T4CConnection@5ae99303: (connection is broken)\r\n```\r\nAlso, it&#39;s not active anymore (the active one is the second leaked one `T4CConnection@7b911a8f on thread pool-6-thread-1` which somehow does not reset).\r\n\r\nAnd right after this happens, our Java app starts to throw a lot of (even like 10 per second, sometimes less) below errors and becomes very slow\r\n```none\r\n[pool-10-thread-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null\r\n[pool-10-thread-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Connection is closed\r\n[pool-10-thread-1] ERROR l.p.p.s.i.DatabaseSequenceIdPool - error executing work\r\norg.hibernate.exception.GenericJDBCException: error executing work\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:311)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2325)\r\n\tat org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2310)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\r\n\tat com.sun.proxy.$Proxy326.doWork(Unknown Source)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.sql.SQLException: Connection is closed\r\n\tat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:489)\r\n\tat com.sun.proxy.$Proxy307.prepareCall(Unknown Source)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareCall(ProxyConnection.java:290)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareCall(HikariProxyConnection.java)\r\n\tat com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.lambda$reserveIdBatch$0(DatabaseSequenceIdPoolDataUtil.java:31)\r\n\tat org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:37)\r\n\tat org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2306)\r\n\tat org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2303)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:306)\r\n\t... 16 common frames omitted\r\n\r\n```\r\nSo, it seems like although `T4CConnection@5ae99303` is marked as broken, it&#39;s never evicted and the app still tries to use it.\r\n\r\nCan this be related to HikariCP? Looks like we are using quite outdated version of Hikari and Hibernate, but somehow those versions are baked in some custom com.custom package and not sure how we can &quot;overwrite&quot; those versions. We are using Gradle for building the WAR file.\r\n\r\nOh and also just to add, there are no such issues when running without Kubernetes. Maybe this is related to network/firewalls, but somehow I think HikariCP should work around those broken connections in case they happen.\r\n\r\nI would really appreciate the help or even some pointers where/what to look for.\r\n","title":"Java app on Kubernetes still uses broken connection after Connection reset by peer using HikariCP","body":"<p>After trying to figure out whats wrong with our app, I have decided to look here for some help.</p>\n<p>We have a Java app which uses below packages for HikariCP database pool</p>\n<pre class=\"lang-none prettyprint-override\"><code>+--- com.custom.gwtext:gwtext-server\n|    +--- org.hibernate:hibernate-hikaricp:5.4.6.Final\n|    |    +--- org.hibernate:hibernate-core:5.4.6.Final (*)\n|    |    \\--- com.zaxxer:HikariCP:3.2.0 -&gt; 3.3.0\n|    |         \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.36\n|    +--- com.zaxxer:HikariCP:3.3.0 (*)\n</code></pre>\n<p>The issue is that we are currently trying to migrate to Kubernetes and we started to see a lot of <code>java.sql.SQLException: Connection is closed</code> errors after application is running for several hours. After enabling Hikari DEBUG log and adding <code>leakDetectionThreshold</code> we started to notice a few things.</p>\n<p>This is the configuration for HikariCP</p>\n<pre class=\"lang-none prettyprint-override\"><code>00:06:05.521 [main] DEBUG com.zaxxer.hikari.HikariConfig - HikariPool-2 - configuration:\n00:06:05.522 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................false\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery.............none\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............30000\n00:06:05.523 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=&lt;masked&gt;}\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName.................&quot;oracle.jdbc.OracleDriver&quot;\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}\n00:06:05.524 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................600000\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:oracle:thin:@1.1.1.1:1521:test\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........200000\n00:06:05.525 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................18000000\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................90\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........none\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................15\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................&lt;masked&gt;\n00:06:05.526 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................&quot;HikariPool-2&quot;\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal\n00:06:05.527 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default\n00:06:05.528 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................&quot;user&quot;\n00:06:05.528 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............5000\n</code></pre>\n<ol>\n<li>After starting up the Java app and logging in with the user, after some minutes (probably the leakDetectionThreshold) we notice below log entry, which says that there is 2 leaks right away</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>[HikariPool-2 housekeeper] WARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@5ae99303 on thread pool-10-thread-1, stack trace follows\njava.lang.Exception: Apparent connection leak detected\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n    at org.hibernate.internal.AbstractSharedSessionContract.beginTransaction(AbstractSharedSessionContract.java:467)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\n    at com.sun.proxy.$Proxy326.beginTransaction(Unknown Source)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.startTransaction(HibernateUtilImpl.java:335)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.startTransactionIfNeeded(HibernateUtilImpl.java:330)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.getSession(HibernateUtilImpl.java:70)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>and a few minutes later second one</p>\n<pre class=\"lang-none prettyprint-override\"><code>[HikariPool-2 housekeeper] WARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@7b911a8f on thread pool-6-thread-1, stack trace follows\njava.lang.Exception: Apparent connection leak detected\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n    at org.hibernate.internal.AbstractSharedSessionContract.beginTransaction(AbstractSharedSessionContract.java:467)\n    at jdk.internal.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\n    at com.sun.proxy.$Proxy326.beginTransaction(Unknown Source)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.startTransaction(HibernateUtilImpl.java:335)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.startTransactionIfNeeded(HibernateUtilImpl.java:330)\n    at com.custom.gwtext.server.utils.HibernateUtilImpl.getSession(HibernateUtilImpl.java:70)\n    at com.custom.gwtext.server.utils.DbUtilImpl.doWork(DbUtilImpl.java:516)\n    at com.custom.gwtext.server.utils.DbUtilOracleImpl.executeQueryDBSpecific(DbUtilOracleImpl.java:117)\n    at com.custom.gwtext.server.utils.DbUtilOracleImpl.executeQueryDBSpecific(DbUtilOracleImpl.java:67)\n    at com.custom.gwtext.server.utils.DbUtilImpl.executeQueryInternal(DbUtilImpl.java:266)\n    at com.custom.gwtext.server.utils.DbUtilImpl.executeQuery(DbUtilImpl.java:173)\n    at com.custom.gwtext.server.query.QueriesDefinitionRegistryImpl.getData(QueriesDefinitionRegistryImpl.java:147)\n    at com.custom.gwtext.server.query.QueriesDefinitionRegistryImpl.getData(QueriesDefinitionRegistryImpl.java:74)\n    at com.custom.pins.server.data.helper.QueryHelper.executeSelectFirstRow(QueryHelper.java:54)\n    at com.custom.pins.server.data.helper.QueryHelper.selectFirstRow(QueryHelper.java:36)\n    at com.custom.pins.server.data.helper.QueryHelper.selectFirstValueRequired(QueryHelper.java:80)\n    at com.custom.pins.server.business.bdt.BusinessDataTableDataUtil.existsBusinessTable(BusinessDataTableDataUtil.java:20)\n    at com.custom.pins.server.business.bdt.BusinessDataTableBuilderImpl.existsTable(BusinessDataTableBuilderImpl.java:225)\n    at com.custom.pins.server.security.audit.ws.WebServiceLoggerConfigImpl.createWsRequestConfig(WebServiceLoggerConfigImpl.java:116)\n    at com.custom.pins.server.security.audit.ws.WebServiceLoggerConfigImpl.getWsRequestConfig(WebServiceLoggerConfigImpl.java:75)\n    at com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.getWsRequestSpecificConfiguration(WebServiceAuditLogService.java:88)\n    at com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.logIfConfigEnabled(WebServiceAuditLogService.java:71)\n    at com.custom.pins.server.security.audit.ws.WebServiceAuditLogService.lambda$getInternalWsLogConsumer$0(WebServiceAuditLogService.java:62)\n    at com.custom.gwtext.server.security.audit.AuditLogServiceImpl.lambda$createEventHandler$2(AuditLogServiceImpl.java:90)\n    at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:150)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>after which they both stay active for a long time</p>\n<pre class=\"lang-none prettyprint-override\"><code>[HikariPool-2 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - After cleanup  stats (total=17, active=2, idle=15, waiting=0)\n</code></pre>\n<ol start=\"2\">\n<li>Then after a few hours, this can be 3-10 hours, so no specific range, maybe depends on activity etc, no idea, this pops up in logs</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>[pool-10-thread-1] WARN  c.zaxxer.hikari.pool.ProxyConnection - HikariPool-2 - Connection oracle.jdbc.driver.T4CConnection@5ae99303 marked as broken because of SQLSTATE(08006), ErrorCode(17002)\njava.sql.SQLRecoverableException: IO Error: Connection reset by peer\n    at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:929)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\n    at oracle.jdbc.driver.T4CCallableStatement.executeInternal(T4CCallableStatement.java:1300)\n    at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3887)\n    at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4230)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\n    at com.zaxxer.hikari.pool.HikariProxyCallableStatement.execute(HikariProxyCallableStatement.java)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.lambda$reserveIdBatch$0(DatabaseSequenceIdPoolDataUtil.java:34)\n    at org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:37)\n    at org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2306)\n    at org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2303)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:306)\n    at org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2325)\n    at org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2310)\n    at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\n    at com.sun.proxy.$Proxy326.doWork(Unknown Source)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.IOException: Connection reset by peer\n    at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:355)\n    at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:144)\n    at oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\n    at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\n    at oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\n    at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\n    at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:223)\n    at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:56)\n    at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:907)\n    ... 29 common frames omitted\n[pool-10-thread-1] INFO  com.zaxxer.hikari.pool.ProxyLeakTask - Previously reported leaked connection oracle.jdbc.driver.T4CConnection@5ae99303 on thread pool-10-thread-1 was returned to the pool (unleaked)\n[HikariPool-2 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-2 - Closing connection oracle.jdbc.driver.T4CConnection@5ae99303: (connection is broken)\n</code></pre>\n<p>Also, it's not active anymore (the active one is the second leaked one <code>T4CConnection@7b911a8f on thread pool-6-thread-1</code> which somehow does not reset).</p>\n<p>And right after this happens, our Java app starts to throw a lot of (even like 10 per second, sometimes less) below errors and becomes very slow</p>\n<pre class=\"lang-none prettyprint-override\"><code>[pool-10-thread-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null\n[pool-10-thread-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Connection is closed\n[pool-10-thread-1] ERROR l.p.p.s.i.DatabaseSequenceIdPool - error executing work\norg.hibernate.exception.GenericJDBCException: error executing work\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:311)\n    at org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2325)\n    at org.hibernate.internal.SessionImpl.doWork(SessionImpl.java:2310)\n    at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:350)\n    at com.sun.proxy.$Proxy326.doWork(Unknown Source)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.reserveIdBatch(DatabaseSequenceIdPoolDataUtil.java:29)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.reserveIdsInDatabase(DatabaseSequenceIdPool.java:106)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool.access$300(DatabaseSequenceIdPool.java:24)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPool$ReserveIdsTask.run(DatabaseSequenceIdPool.java:125)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.sql.SQLException: Connection is closed\n    at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:489)\n    at com.sun.proxy.$Proxy307.prepareCall(Unknown Source)\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareCall(ProxyConnection.java:290)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareCall(HikariProxyConnection.java)\n    at com.custom.pins.server.idgeneration.DatabaseSequenceIdPoolDataUtil.lambda$reserveIdBatch$0(DatabaseSequenceIdPoolDataUtil.java:31)\n    at org.hibernate.jdbc.WorkExecutor.executeWork(WorkExecutor.java:37)\n    at org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2306)\n    at org.hibernate.internal.SessionImpl$1.accept(SessionImpl.java:2303)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.coordinateWork(JdbcCoordinatorImpl.java:306)\n    ... 16 common frames omitted\n\n</code></pre>\n<p>So, it seems like although <code>T4CConnection@5ae99303</code> is marked as broken, it's never evicted and the app still tries to use it.</p>\n<p>Can this be related to HikariCP? Looks like we are using quite outdated version of Hikari and Hibernate, but somehow those versions are baked in some custom com.custom package and not sure how we can &quot;overwrite&quot; those versions. We are using Gradle for building the WAR file.</p>\n<p>Oh and also just to add, there are no such issues when running without Kubernetes. Maybe this is related to network/firewalls, but somehow I think HikariCP should work around those broken connections in case they happen.</p>\n<p>I would really appreciate the help or even some pointers where/what to look for.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659689690,"post_id":73247063,"comment_id":129358851,"body_markdown":"Isn&#39;t the error message clear *No tests were executed!  (Set\n&gt; -DfailIfNoTests=false to ignore this error.)* ?","body":"Isn&#39;t the error message clear <i>No tests were executed!  (Set &gt; -DfailIfNoTests=false to ignore this error.)</i> ?"},{"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"score":0,"creation_date":1659689850,"post_id":73247063,"comment_id":129358913,"body_markdown":"@Jens Wait does that mean there are no errors in this?","body":"@Jens Wait does that mean there are no errors in this?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659689900,"post_id":73247063,"comment_id":129358940,"body_markdown":"There are no test. But the surefire plugin expect that there are unit tests","body":"There are no test. But the surefire plugin expect that there are unit tests"},{"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"score":0,"creation_date":1659689915,"post_id":73247063,"comment_id":129358944,"body_markdown":"After executing the program I tried to go to localhost:8080 but it doesn&#39;t show me the white page","body":"After executing the program I tried to go to localhost:8080 but it doesn&#39;t show me the white page"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659689995,"post_id":73247063,"comment_id":129358974,"body_markdown":"sorry can&#39;t get you","body":"sorry can&#39;t get you"},{"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"score":0,"creation_date":1659690002,"post_id":73247063,"comment_id":129358977,"body_markdown":"@Jens How do I make it build and run properly","body":"@Jens How do I make it build and run properly"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659690108,"post_id":73247063,"comment_id":129359019,"body_markdown":"add `-DfailIfNoTests=false` to the mvn command call as the error message tels you","body":"add <code>-DfailIfNoTests=false</code> to the mvn command call as the error message tels you"},{"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"score":0,"creation_date":1659690133,"post_id":73247063,"comment_id":129359029,"body_markdown":"When my lecturer did the same thing it ran successfully and he entered localhost:8080 into his web browser to show that it indeed works.","body":"When my lecturer did the same thing it ran successfully and he entered localhost:8080 into his web browser to show that it indeed works."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659690186,"post_id":73247063,"comment_id":129359043,"body_markdown":"maybe he skipped the test? `-DskipTests`?","body":"maybe he skipped the test? <code>-DskipTests</code>?"},{"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"score":0,"creation_date":1659690249,"post_id":73247063,"comment_id":129359064,"body_markdown":"@Jens How do I add ```-DfailIfNoTests=false``` to the mvn command call ?\nis it through the windows cmd ?","body":"@Jens How do I add <code>-DfailIfNoTests=false</code> to the mvn command call ? is it through the windows cmd ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659690443,"post_id":73247063,"comment_id":129359128,"body_markdown":"I think you call something like `mvn clean install`?  than call `mvn clean install -D-DfailIfNoTests=false`","body":"I think you call something like <code>mvn clean install</code>?  than call <code>mvn clean install -D-DfailIfNoTests=false</code>"}],"answers":[{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659700313,"creation_date":1659700313,"answer_id":73249334,"question_id":73247063,"body_markdown":"your commandline contains: \r\n\r\n    -Dtest=**/*IT.java\r\n\r\nso it looks for the test with that name and a test matching that pattern does not exists.\r\nSo find out why your commandline has &quot;-Dtest=**/*IT.java &quot;\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin when trying to execute a basic spring boot project","body":"<p>your commandline contains:</p>\n<pre><code>-Dtest=**/*IT.java\n</code></pre>\n<p>so it looks for the test with that name and a test matching that pattern does not exists.\nSo find out why your commandline has &quot;-Dtest=**/*IT.java &quot;</p>\n"}],"owner":{"account_id":21818195,"reputation":15,"user_id":16114747,"display_name":"Nevanjith De Silva"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659700313,"creation_date":1659689353,"question_id":73247063,"body_markdown":"I created a Spring Boot Project using https://start.spring.io/\r\nthen made a Rest Controller with GET mapping to /students http\r\n\r\n    // This is the Controller.java file\r\n    package com.exampleqqq.demoqqq;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n    \r\n        @GetMapping(path = &quot;/Students&quot;)\r\n        public List&lt;Student&gt; getStudents() {\r\n    \r\n            Student obj1 = new Student(7, &quot;Saman&quot;, &quot;Colombo&quot;);\r\n            Student obj2 = new Student(9, &quot;Nimal&quot;, &quot;Matara&quot;);\r\n    \r\n            List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n            students.add(obj1);\r\n            students.add(obj2);\r\n            return students;\r\n    \r\n        }\r\n    }\r\n\r\n// This is the DemoqqqApplication.java file\r\n\r\n    package com.exampleqqq.demoqqq;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoqqqApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoqqqApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n// This is the student.java file\r\n\r\n    package com.exampleqqq.demoqqq;\r\n    \r\n    /**\r\n     *\r\n     * @author Neva\r\n     */\r\n    public class Student {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private String address;\r\n    \r\n        public Student() {\r\n            \r\n        }\r\n        \r\n        public Student(int id, String name, String address) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.address = address;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n    }\r\n\r\n// This is the pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.exampleqqq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demoqqq&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demoqqq&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Bootqqqqq&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThe Error is :\r\n\r\n&gt; cd C:\\Users\\Neva\\Documents\\NetBeansProjects\\demoqqq;\r\n&gt; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_341&quot; cmd /c\r\n&gt; &quot;\\&quot;C:\\\\Users\\\\Neva\\\\Documents\\\\NetBeansProjects\\\\demoqqq\\\\mvnw.cmd\\&quot;\r\n&gt; -Dtest=**/*IT.java \\&quot;-Dmaven.ext.class.path=C:\\\\Program Files\\\\NetBeans-14\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot;\r\n&gt; -Dfile.encoding=UTF-8 test-compile surefire:test&quot; Scanning for projects...\r\n&gt; \r\n&gt; -----------------------&lt; com.exampleqqq:demoqqq &gt;----------------------- Building demoqqq 0.0.1-SNAPSHOT\r\n&gt; --------------------------------[ jar ]---------------------------------\r\n&gt; \r\n&gt; --- maven-resources-plugin:3.2.0:resources (default-resources) @ demoqqq --- Using &#39;UTF-8&#39; encoding to copy filtered resources. Using\r\n&gt; &#39;UTF-8&#39; encoding to copy filtered properties files. Copying 1 resource\r\n&gt; Copying 0 resource\r\n&gt; \r\n&gt; --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demoqqq --- Nothing to compile - all classes are up to date\r\n&gt; \r\n&gt; --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ demoqqq --- Using &#39;UTF-8&#39; encoding to copy filtered resources. Using\r\n&gt; &#39;UTF-8&#39; encoding to copy filtered properties files. skip non existing\r\n&gt; resourceDirectory\r\n&gt; C:\\Users\\Neva\\Documents\\NetBeansProjects\\demoqqq\\src\\test\\resources\r\n&gt; \r\n&gt; --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ demoqqq --- Nothing to compile - all classes are up to date\r\n&gt; \r\n&gt; --- maven-surefire-plugin:2.22.2:test (default-cli) @ demoqqq ---\r\n&gt; ------------------------------------------------------------------------ BUILD FAILURE\r\n&gt; ------------------------------------------------------------------------ Total time:  0.872 s Finished at: 2022-08-05T14:09:08+05:30\r\n&gt; ------------------------------------------------------------------------ Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test\r\n&gt; (default-cli) on project demoqqq: No tests were executed!  (Set\r\n&gt; -DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]\r\n&gt; \r\n&gt; To see the full stack trace of the errors, re-run Maven with the -e\r\n&gt; switch. Re-run Maven using the -X switch to enable full debug logging.\r\n&gt; \r\n&gt; For more information about the errors and possible solutions, please\r\n&gt; read the following articles: [Help 1]\r\n&gt; http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\n\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin when trying to execute a basic spring boot project","body":"<p>I created a Spring Boot Project using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>\nthen made a Rest Controller with GET mapping to /students http</p>\n<pre><code>// This is the Controller.java file\npackage com.exampleqqq.demoqqq;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @GetMapping(path = &quot;/Students&quot;)\n    public List&lt;Student&gt; getStudents() {\n\n        Student obj1 = new Student(7, &quot;Saman&quot;, &quot;Colombo&quot;);\n        Student obj2 = new Student(9, &quot;Nimal&quot;, &quot;Matara&quot;);\n\n        List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n        students.add(obj1);\n        students.add(obj2);\n        return students;\n\n    }\n}\n</code></pre>\n<p>// This is the DemoqqqApplication.java file</p>\n<pre><code>package com.exampleqqq.demoqqq;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoqqqApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoqqqApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>// This is the student.java file</p>\n<pre><code>package com.exampleqqq.demoqqq;\n\n/**\n *\n * @author Neva\n */\npublic class Student {\n\n    private int id;\n    private String name;\n    private String address;\n\n    public Student() {\n        \n    }\n    \n    public Student(int id, String name, String address) {\n        this.id = id;\n        this.name = name;\n        this.address = address;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n}\n</code></pre>\n<p>// This is the pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.exampleqqq&lt;/groupId&gt;\n    &lt;artifactId&gt;demoqqq&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demoqqq&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Bootqqqqq&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The Error is :</p>\n<blockquote>\n<p>cd C:\\Users\\Neva\\Documents\\NetBeansProjects\\demoqqq;\n&quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_341&quot; cmd /c\n&quot;&quot;C:\\Users\\Neva\\Documents\\NetBeansProjects\\demoqqq\\mvnw.cmd&quot;\n-Dtest=**/*IT.java &quot;-Dmaven.ext.class.path=C:\\Program Files\\NetBeans-14\\netbeans\\java\\maven-nblib\\netbeans-eventspy.jar&quot;\n-Dfile.encoding=UTF-8 test-compile surefire:test&quot; Scanning for projects...</p>\n<p>-----------------------&lt; com.exampleqqq:demoqqq &gt;----------------------- Building demoqqq 0.0.1-SNAPSHOT\n--------------------------------[ jar ]---------------------------------</p>\n<p>--- maven-resources-plugin:3.2.0:resources (default-resources) @ demoqqq --- Using 'UTF-8' encoding to copy filtered resources. Using\n'UTF-8' encoding to copy filtered properties files. Copying 1 resource\nCopying 0 resource</p>\n<p>--- maven-compiler-plugin:3.10.1:compile (default-compile) @ demoqqq --- Nothing to compile - all classes are up to date</p>\n<p>--- maven-resources-plugin:3.2.0:testResources (default-testResources) @ demoqqq --- Using 'UTF-8' encoding to copy filtered resources. Using\n'UTF-8' encoding to copy filtered properties files. skip non existing\nresourceDirectory\nC:\\Users\\Neva\\Documents\\NetBeansProjects\\demoqqq\\src\\test\\resources</p>\n<p>--- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ demoqqq --- Nothing to compile - all classes are up to date</p>\n<p>--- maven-surefire-plugin:2.22.2:test (default-cli) @ demoqqq ---\n------------------------------------------------------------------------ BUILD FAILURE\n------------------------------------------------------------------------ Total time:  0.872 s Finished at: 2022-08-05T14:09:08+05:30\n------------------------------------------------------------------------ Failed to execute goal\norg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test\n(default-cli) on project demoqqq: No tests were executed!  (Set\n-DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]</p>\n<p>To see the full stack trace of the errors, re-run Maven with the -e\nswitch. Re-run Maven using the -X switch to enable full debug logging.</p>\n<p>For more information about the errors and possible solutions, please\nread the following articles: [Help 1]\n<a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</a></p>\n</blockquote>\n"},{"tags":["java","json","unit-testing","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":189706,"reputation":7072,"user_id":429199,"accept_rate":93,"display_name":"nixgadget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489456441,"creation_date":1489456441,"answer_id":42776491,"question_id":42775127,"body_markdown":"This was solved by adding a custom serializer for the JUnit tests.\r\n\r\nSo for `TestDTO` I added the serializer as below.\r\n\r\n    private class TestJsonSerializer extends StdSerializer&lt;TestDTO&gt; {\r\n        public TestJsonSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public TestJsonSerializer(Class&lt;TestDTO&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(TestDTO value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            gen.writeStartObject();\r\n            gen.writeNumberField(&quot;orgId&quot;, value.getOrgId());\r\n            gen.writeStringField(&quot;certificateType&quot;, value.getCertificateType().getType());\r\n            if (value.getPublicCertificate() != null) {\r\n                gen.writeObjectField(&quot;publicCertificate&quot;, value.getPublicCertificate());\r\n            }\r\n            if (value.getPrivateCertificate() != null) {\r\n                gen.writeObjectField(&quot;privateCertificate&quot;, value.getPrivateCertificate());\r\n            }\r\n            gen.writeObjectField(&quot;expiryDate&quot;, value.getExpiryDate());\r\n            gen.writeObjectField(&quot;createdDate&quot;, value.getCreatedDate());\r\n            gen.writeObjectField(&quot;updatedDate&quot;, value.getUpdatedDate());\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\n\r\nI then added, \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule simpleModule = new SimpleModule();\r\n    simpleModule.addSerializer(TestDTO.class, new TestJsonSerializer());\r\n    mapper.registerModule(simpleModule);\r\n\r\nSimilarly added and registered custom serializers for nested objects, `publicCertificate` and `privateCertificate`.","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<p>This was solved by adding a custom serializer for the JUnit tests.</p>\n\n<p>So for <code>TestDTO</code> I added the serializer as below.</p>\n\n<pre><code>private class TestJsonSerializer extends StdSerializer&lt;TestDTO&gt; {\n    public TestJsonSerializer() {\n        this(null);\n    }\n\n    public TestJsonSerializer(Class&lt;TestDTO&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(TestDTO value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n        gen.writeNumberField(\"orgId\", value.getOrgId());\n        gen.writeStringField(\"certificateType\", value.getCertificateType().getType());\n        if (value.getPublicCertificate() != null) {\n            gen.writeObjectField(\"publicCertificate\", value.getPublicCertificate());\n        }\n        if (value.getPrivateCertificate() != null) {\n            gen.writeObjectField(\"privateCertificate\", value.getPrivateCertificate());\n        }\n        gen.writeObjectField(\"expiryDate\", value.getExpiryDate());\n        gen.writeObjectField(\"createdDate\", value.getCreatedDate());\n        gen.writeObjectField(\"updatedDate\", value.getUpdatedDate());\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>I then added, </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule();\nsimpleModule.addSerializer(TestDTO.class, new TestJsonSerializer());\nmapper.registerModule(simpleModule);\n</code></pre>\n\n<p>Similarly added and registered custom serializers for nested objects, <code>publicCertificate</code> and <code>privateCertificate</code>.</p>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1489480095,"creation_date":1489480095,"answer_id":42781042,"question_id":42775127,"body_markdown":"While the solution specified works, it is an overkill for the requirement.  You don&#39;t need custom serializers if all you want is to override annotations.  Jackson has a [mixin feature][1] for such trivial requirements\r\n\r\nConsider the following simplified POJO:\r\n\r\n\tpublic class TestDTO\r\n\t{\r\n\t\tpublic String regularAccessProperty;\r\n\t\t@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n\t\tpublic String writeAccessProperty;\r\n\t}\r\n\r\nIf you want to override the `@JsonProperty` annotation, you create another POJO that has a variable with the **exact same name** (or same getter/setter names):\r\n\r\n\t// mixin class that overrides json access annotation\r\n\tpublic class UnitTestDTO\r\n\t{\r\n\t\t@JsonProperty(access = JsonProperty.Access.READ_WRITE)\r\n\t\tpublic String writeAccessProperty;\r\n\t}\r\n\r\nYou associate the original POJO and the mixin via a Simplemodule: \r\n\r\n\tsimpleModule.setMixInAnnotation(TestDTO.class, UnitTestDTO.class);\r\n\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonMixInAnnotations\r\n","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<p>While the solution specified works, it is an overkill for the requirement.  You don't need custom serializers if all you want is to override annotations.  Jackson has a <a href=\"http://wiki.fasterxml.com/JacksonMixInAnnotations\" rel=\"noreferrer\">mixin feature</a> for such trivial requirements</p>\n\n<p>Consider the following simplified POJO:</p>\n\n<pre><code>public class TestDTO\n{\n    public String regularAccessProperty;\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    public String writeAccessProperty;\n}\n</code></pre>\n\n<p>If you want to override the <code>@JsonProperty</code> annotation, you create another POJO that has a variable with the <strong>exact same name</strong> (or same getter/setter names):</p>\n\n<pre><code>// mixin class that overrides json access annotation\npublic class UnitTestDTO\n{\n    @JsonProperty(access = JsonProperty.Access.READ_WRITE)\n    public String writeAccessProperty;\n}\n</code></pre>\n\n<p>You associate the original POJO and the mixin via a Simplemodule: </p>\n\n<pre><code>simpleModule.setMixInAnnotation(TestDTO.class, UnitTestDTO.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8541824,"reputation":357,"user_id":6442528,"display_name":"Yoga Gowda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592105822,"creation_date":1591595639,"answer_id":62255830,"question_id":42775127,"body_markdown":"Here a simple example\r\n    \r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    public class Account implements Cloneable {\r\n    \r\n        @JsonProperty(access = Access.WRITE_ONLY)\r\n        private Integer accountId;\r\n        private String accountType;\r\n        private Long balance;\r\n\r\n    public AccountTest clone() {\r\n        AccountTest test = new AccountTest();\r\n        test.setAccountId(this.accountId);\r\n        test.setAccountType(this.accountType);\r\n        test.setBalance(this.balance);\r\n        return test;\r\n    }\r\n\r\n }\r\n    \r\n    \r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    public class AccountTest {\r\n    \r\n        private Integer accountId;\r\n        private String accountType;\r\n        private Long balance;\r\n    }\r\n    \r\n        public static void main(String[] args) {\r\n                  ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            Account account = new Account();\r\n            account.setAccountId(1999900);\r\n            account.setAccountType(&quot;Saving&quot;);\r\n            account.setBalance(2433l);\r\n            AccountTest accountTest = account.clone();\r\n            System.out.println(account);\r\n\r\n            byte[] accountBytes = mapper.writeValueAsBytes(account);\r\n            System.out.println(new String(accountBytes));\r\n\r\n            byte[] accountTestBytes = mapper.writeValueAsBytes(accountTest);\r\n            System.out.println(new String(accountTestBytes));\r\n        } catch (IOException e) { }\r\n\r\n        }\r\n}   \r\n    \r\n","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<p>Here a simple example</p>\n\n<pre><code>@ToString\n@Getter\n@Setter\npublic class Account implements Cloneable {\n\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private Integer accountId;\n    private String accountType;\n    private Long balance;\n\npublic AccountTest clone() {\n    AccountTest test = new AccountTest();\n    test.setAccountId(this.accountId);\n    test.setAccountType(this.accountType);\n    test.setBalance(this.balance);\n    return test;\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>@ToString\n@Getter\n@Setter\npublic class AccountTest {\n\n    private Integer accountId;\n    private String accountType;\n    private Long balance;\n}\n\n    public static void main(String[] args) {\n              ObjectMapper mapper = new ObjectMapper();\n    try {\n        Account account = new Account();\n        account.setAccountId(1999900);\n        account.setAccountType(\"Saving\");\n        account.setBalance(2433l);\n        AccountTest accountTest = account.clone();\n        System.out.println(account);\n\n        byte[] accountBytes = mapper.writeValueAsBytes(account);\n        System.out.println(new String(accountBytes));\n\n        byte[] accountTestBytes = mapper.writeValueAsBytes(accountTest);\n        System.out.println(new String(accountTestBytes));\n    } catch (IOException e) { }\n\n    }\n</code></pre>\n\n<p>}   </p>\n"},{"tags":[],"owner":{"account_id":1685116,"reputation":142,"user_id":1548586,"display_name":"100rabh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617524783,"creation_date":1617523243,"answer_id":66939153,"question_id":42775127,"body_markdown":"&gt; Is there any other way to ignore these properties for Unit Tests ?\r\n\r\n**Solution:** In your `convertObjectToJsonBytes` method, you can use:\r\n\r\n    mapper.disable(MapperFeature.USE_ANNOTATIONS);\r\n\r\n**Reference:** [MapperFeature.USE_ANNOTATIONS][1]\r\n\r\n    /**\r\n     * Feature that determines whether annotation introspection\r\n     * is used for configuration; if enabled, configured\r\n     * {@link AnnotationIntrospector} will be used: if disabled,\r\n     * no annotations are considered.\r\n     *&lt;p&gt;\r\n     * Feature is enabled by default.\r\n     */\r\n    USE_ANNOTATIONS(true),\r\n\r\n**Note:** This will disable all annotations for given `ObjectMapper`.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/MapperFeature.html#USE_ANNOTATIONS","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<blockquote>\n<p>Is there any other way to ignore these properties for Unit Tests ?</p>\n</blockquote>\n<p><strong>Solution:</strong> In your <code>convertObjectToJsonBytes</code> method, you can use:</p>\n<pre><code>mapper.disable(MapperFeature.USE_ANNOTATIONS);\n</code></pre>\n<p><strong>Reference:</strong> <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/MapperFeature.html#USE_ANNOTATIONS\" rel=\"nofollow noreferrer\">MapperFeature.USE_ANNOTATIONS</a></p>\n<pre><code>/**\n * Feature that determines whether annotation introspection\n * is used for configuration; if enabled, configured\n * {@link AnnotationIntrospector} will be used: if disabled,\n * no annotations are considered.\n *&lt;p&gt;\n * Feature is enabled by default.\n */\nUSE_ANNOTATIONS(true),\n</code></pre>\n<p><strong>Note:</strong> This will disable all annotations for given <code>ObjectMapper</code>.</p>\n"},{"tags":[],"owner":{"account_id":5935285,"reputation":1331,"user_id":4668505,"accept_rate":100,"display_name":"Tim Malich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659700242,"creation_date":1659683815,"answer_id":73246039,"question_id":42775127,"body_markdown":"Another solution is to override the annotation inspector with a simple custom class. **That would be the minimal example**:\r\n```\r\nObjectMapper mapper = new ObjectMapper().setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\r\n     @Override\r\n     public JsonProperty.Access findPropertyAccess(Annotated m) {\r\n           return null;\r\n     }\r\n});\r\n```\r\n\r\n\r\n----------\r\n\r\n**Other solution for** Spring Boot **@Autowired object mappers**: \r\n1. Use a dedicated class so it&#39;s reusable and more readable:\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.introspect.Annotated;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\n\r\npublic class IgnoreReadOnlyFieldsAnnotationInspector extends JacksonAnnotationIntrospector {\r\n    @Override\r\n    public JsonProperty.Access findPropertyAccess(Annotated m) {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. Within the test use @BeforeEach (or her older friends)\r\n```\r\npublic class AmazingTest {\r\n  @Autowired\r\n  ObjectMapper mapper;\r\n\r\n @BeforeEach\r\n    void beforeAll(){\r\n        // need to copy because the autowired mapper in test and the object mapper in code under test are the same instance\r\n        mapper = objectMapper.copy();\r\n        mapper.setAnnotationIntrospector(new IgnoreReadOnlyFieldsAnnotationInspector());\r\n    }\r\n}\r\n```","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<p>Another solution is to override the annotation inspector with a simple custom class. <strong>That would be the minimal example</strong>:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper().setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\n     @Override\n     public JsonProperty.Access findPropertyAccess(Annotated m) {\n           return null;\n     }\n});\n</code></pre>\n<hr />\n<p><strong>Other solution for</strong> Spring Boot <strong>@Autowired object mappers</strong>:</p>\n<ol>\n<li>Use a dedicated class so it's reusable and more readable:</li>\n</ol>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\n\npublic class IgnoreReadOnlyFieldsAnnotationInspector extends JacksonAnnotationIntrospector {\n    @Override\n    public JsonProperty.Access findPropertyAccess(Annotated m) {\n        return null;\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Within the test use @BeforeEach (or her older friends)</li>\n</ol>\n<pre><code>public class AmazingTest {\n  @Autowired\n  ObjectMapper mapper;\n\n @BeforeEach\n    void beforeAll(){\n        // need to copy because the autowired mapper in test and the object mapper in code under test are the same instance\n        mapper = objectMapper.copy();\n        mapper.setAnnotationIntrospector(new IgnoreReadOnlyFieldsAnnotationInspector());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":189706,"reputation":7072,"user_id":429199,"accept_rate":93,"display_name":"nixgadget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4725,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42781042,"answer_count":5,"score":6,"last_activity_date":1659700242,"creation_date":1489446954,"question_id":42775127,"body_markdown":"I use Jackson for serialization/deserialization with my Spring Boot project.\r\n\r\nI have a DTO object with the following structure,\r\n\r\n    public class TestDTO implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private Long id;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        private UUID certificateId;\r\n    \r\n        @NotNull\r\n        private Long orgId;\r\n    \r\n        @NotNull\r\n        private CertificateType certificateType;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        @Valid\r\n        @NotNull\r\n        private PublicCertificateDTO publicCertificate;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        @Valid\r\n        private PrivateCertificateDTO privateCertificate;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        private ZonedDateTime expiryDate;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        private ZonedDateTime createdDate;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        private ZonedDateTime updatedDate;\r\n    }\r\n\r\nSerialization of this object in my unit tests with the following method,\r\n\r\n    public static byte[] convertObjectToJsonBytes(TestDTO object)\r\n            throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n        JavaTimeModule module = new JavaTimeModule();\r\n        mapper.registerModule(module);\r\n\r\n        return mapper.writeValueAsBytes(object);\r\n    }\r\n\r\ncauses fields with `WRITE_ONLY` access to get ignored (for obvious reasons). So in the serialized object I see null values for `publicCertificate` and `privateCertificate`.\r\n\r\nI did try setting `mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)`\r\n\r\nIs there any other way to ignore these properties for Unit Tests ?\r\n\r\n","title":"Ignoring Jackon JsonProperty Access for Unit Tests","body":"<p>I use Jackson for serialization/deserialization with my Spring Boot project.</p>\n\n<p>I have a DTO object with the following structure,</p>\n\n<pre><code>public class TestDTO implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private Long id;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private UUID certificateId;\n\n    @NotNull\n    private Long orgId;\n\n    @NotNull\n    private CertificateType certificateType;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Valid\n    @NotNull\n    private PublicCertificateDTO publicCertificate;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Valid\n    private PrivateCertificateDTO privateCertificate;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private ZonedDateTime expiryDate;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private ZonedDateTime createdDate;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private ZonedDateTime updatedDate;\n}\n</code></pre>\n\n<p>Serialization of this object in my unit tests with the following method,</p>\n\n<pre><code>public static byte[] convertObjectToJsonBytes(TestDTO object)\n        throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n\n    JavaTimeModule module = new JavaTimeModule();\n    mapper.registerModule(module);\n\n    return mapper.writeValueAsBytes(object);\n}\n</code></pre>\n\n<p>causes fields with <code>WRITE_ONLY</code> access to get ignored (for obvious reasons). So in the serialized object I see null values for <code>publicCertificate</code> and <code>privateCertificate</code>.</p>\n\n<p>I did try setting <code>mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)</code></p>\n\n<p>Is there any other way to ignore these properties for Unit Tests ?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":2856248,"reputation":3381,"user_id":2452461,"display_name":"ramseykhalaf"},"score":0,"creation_date":1377264355,"post_id":18402480,"comment_id":27031506,"body_markdown":"By exact match, do you mean &quot;berlin&quot; should match &quot;Berlin&quot;?","body":"By exact match, do you mean &quot;berlin&quot; should match &quot;Berlin&quot;?"},{"owner":{"account_id":1119239,"reputation":461,"user_id":1107926,"accept_rate":90,"display_name":"Michael Junk"},"score":0,"creation_date":1377265692,"post_id":18402480,"comment_id":27032388,"body_markdown":"Yes, for example. (And I don&#39;t mind too much about case here.) But if &quot;Berlin&quot; matches &quot;Berlin Hauptbahnhof&quot;, that&#39;s problematic.","body":"Yes, for example. (And I don&#39;t mind too much about case here.) But if &quot;Berlin&quot; matches &quot;Berlin Hauptbahnhof&quot;, that&#39;s problematic."}],"answers":[{"tags":[],"owner":{"account_id":2289932,"reputation":2440,"user_id":2013030,"display_name":"Scott Rice"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1377267855,"creation_date":1377267855,"answer_id":18405239,"question_id":18402480,"body_markdown":"Index the field you perform a term filter on as not_analyzed. For example, you can index the &quot;country&quot; field as a multi_field, with one of the sub-fields not_analyzed:\r\n\r\n            &quot;country&quot;: {\r\n                &quot;type&quot;: &quot;multi_field&quot;,\r\n                &quot;fields&quot;: {\r\n                    &quot;country&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;index&quot;: &quot;analyzed&quot;},\r\n                    &quot;exact&quot;: {&quot;type&quot;: &quot;string&quot;,&quot;index&quot;: &quot;not_analyzed&quot;}\r\n                }\r\n            }\r\n\r\nAdditionally, you could do the same with the &quot;title&quot; field in order to perform a term query:\r\n\r\n            &quot;title&quot;: {\r\n                &quot;type&quot;: &quot;multi_field&quot;,\r\n                &quot;fields&quot;: {\r\n                    &quot;title&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;index&quot;: &quot;analyzed&quot;},\r\n                    &quot;exact&quot;: {&quot;type&quot;: &quot;string&quot;,&quot;index&quot;: &quot;not_analyzed&quot;}\r\n                }\r\n            }\r\n\r\nThen at query time, if you want a title with the exact term &quot;Berlin&quot; filtered by the exact term &quot;DE&quot;, use a term query and term filter with the not_analyzed fields: \r\n\r\n    SearchResponse response = client.prepareSearch(&quot;locations&quot;)\r\n                    .setQuery(QueryBuilders.termQuery(&quot;title.exact&quot;, &quot;Berlin&quot;))\r\n                    .setFilter(FilterBuilders.termFilter(&quot;country.exact&quot;, &quot;DE&quot;))\r\n                    .execute()\r\n                    .actionGet();\r\n\r\nNote that [term filters][1] and [term queries][2] require not_analyzed fields to work (i.e., to return exact matches).\r\n\r\n\r\n  [1]: http://www.elasticsearch.org/guide/reference/query-dsl/term-filter/\r\n  [2]: http://www.elasticsearch.org/guide/reference/query-dsl/term-query/","title":"Exact matches with ElasticSearch (at query time)","body":"<p>Index the field you perform a term filter on as not_analyzed. For example, you can index the \"country\" field as a multi_field, with one of the sub-fields not_analyzed:</p>\n\n<pre><code>        \"country\": {\n            \"type\": \"multi_field\",\n            \"fields\": {\n                \"country\": {\"type\": \"string\", \"index\": \"analyzed\"},\n                \"exact\": {\"type\": \"string\",\"index\": \"not_analyzed\"}\n            }\n        }\n</code></pre>\n\n<p>Additionally, you could do the same with the \"title\" field in order to perform a term query:</p>\n\n<pre><code>        \"title\": {\n            \"type\": \"multi_field\",\n            \"fields\": {\n                \"title\": {\"type\": \"string\", \"index\": \"analyzed\"},\n                \"exact\": {\"type\": \"string\",\"index\": \"not_analyzed\"}\n            }\n        }\n</code></pre>\n\n<p>Then at query time, if you want a title with the exact term \"Berlin\" filtered by the exact term \"DE\", use a term query and term filter with the not_analyzed fields: </p>\n\n<pre><code>SearchResponse response = client.prepareSearch(\"locations\")\n                .setQuery(QueryBuilders.termQuery(\"title.exact\", \"Berlin\"))\n                .setFilter(FilterBuilders.termFilter(\"country.exact\", \"DE\"))\n                .execute()\n                .actionGet();\n</code></pre>\n\n<p>Note that <a href=\"http://www.elasticsearch.org/guide/reference/query-dsl/term-filter/\">term filters</a> and <a href=\"http://www.elasticsearch.org/guide/reference/query-dsl/term-query/\">term queries</a> require not_analyzed fields to work (i.e., to return exact matches).</p>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505244531,"creation_date":1505244531,"answer_id":46184008,"question_id":18402480,"body_markdown":"**With Version 5 + on ElasticSearch there is no concept of analyzed and not analyzed for index, its driven by type !**\r\n\r\nString data type is deprecated and is replaced with text and keyword, so if your data type is text it will behave like string and can be analyzed and tokenized.\r\n\r\nBut if the **data type is defined as keyword then automatically its NOT analyzed, and return full exact match.**\r\n\r\nSO you should remember to mark the type as keyword when you want to do exact match.\r\n\r\nand you can use the same term query and term filter as explained by @Scott Rice.\r\n\r\ncode example below for creating index with this definition, note that i have created two types for each field one as tokenizable so type is text and other one exact so type is keyword, some times its useful to keep both for certain fields:\r\n\r\n    PUT testindex\r\n    {\r\n        &quot;mappings&quot;: {\r\n          &quot;original&quot;: {\r\n            &quot;properties&quot;: {\r\n              &quot;@timestamp&quot;: {\r\n                &quot;type&quot;: &quot;date&quot;\r\n              },\r\n              &quot;@version&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;,\r\n                &quot;fields&quot;: {\r\n                  &quot;keyword&quot;: {\r\n                    &quot;type&quot;: &quot;keyword&quot;,\r\n                    &quot;ignore_above&quot;: 256\r\n                  }\r\n                }\r\n              },\r\n              &quot;APPLICATION&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;,\r\n                &quot;fields&quot;: {\r\n                 \t&quot;token&quot;: {&quot;type&quot;: &quot;text&quot;},\r\n                \t&quot;exact&quot;: {&quot;type&quot;: &quot;keyword&quot;}\r\n                }\r\n              },\r\n              &quot;type&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;,\r\n                &quot;fields&quot;: {\r\n                    &quot;token&quot;: {&quot;type&quot;: &quot;text&quot;},\r\n                \t&quot;exact&quot;: {&quot;type&quot;: &quot;keyword&quot;}\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n","title":"Exact matches with ElasticSearch (at query time)","body":"<p><strong>With Version 5 + on ElasticSearch there is no concept of analyzed and not analyzed for index, its driven by type !</strong></p>\n\n<p>String data type is deprecated and is replaced with text and keyword, so if your data type is text it will behave like string and can be analyzed and tokenized.</p>\n\n<p>But if the <strong>data type is defined as keyword then automatically its NOT analyzed, and return full exact match.</strong></p>\n\n<p>SO you should remember to mark the type as keyword when you want to do exact match.</p>\n\n<p>and you can use the same term query and term filter as explained by @Scott Rice.</p>\n\n<p>code example below for creating index with this definition, note that i have created two types for each field one as tokenizable so type is text and other one exact so type is keyword, some times its useful to keep both for certain fields:</p>\n\n<pre><code>PUT testindex\n{\n    \"mappings\": {\n      \"original\": {\n        \"properties\": {\n          \"@timestamp\": {\n            \"type\": \"date\"\n          },\n          \"@version\": {\n            \"type\": \"text\",\n            \"fields\": {\n              \"keyword\": {\n                \"type\": \"keyword\",\n                \"ignore_above\": 256\n              }\n            }\n          },\n          \"APPLICATION\": {\n            \"type\": \"text\",\n            \"fields\": {\n                \"token\": {\"type\": \"text\"},\n                \"exact\": {\"type\": \"keyword\"}\n            }\n          },\n          \"type\": {\n            \"type\": \"text\",\n            \"fields\": {\n                \"token\": {\"type\": \"text\"},\n                \"exact\": {\"type\": \"keyword\"}\n            }\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659700133,"creation_date":1659700133,"answer_id":73249296,"question_id":18402480,"body_markdown":"Use match phrase\r\n\r\n\r\n    GET /_search\r\n    {\r\n        &quot;query&quot;: {\r\n            &quot;match_phrase&quot;: {\r\n                &quot;&lt;FieldName&gt;&quot;: &quot;&lt;SearchText&gt;&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nIn java use matchPhraseQuery of QueryBuilder\r\n\r\n    QueryBuilders.matchPhraseQuery(fieldName, searchText);","title":"Exact matches with ElasticSearch (at query time)","body":"<p>Use match phrase</p>\n<pre><code>GET /_search\n{\n    &quot;query&quot;: {\n        &quot;match_phrase&quot;: {\n            &quot;&lt;FieldName&gt;&quot;: &quot;&lt;SearchText&gt;&quot;\n        }\n    }\n}\n</code></pre>\n<p>In java use matchPhraseQuery of QueryBuilder</p>\n<pre><code>QueryBuilders.matchPhraseQuery(fieldName, searchText);\n</code></pre>\n"}],"owner":{"account_id":1119239,"reputation":461,"user_id":1107926,"accept_rate":90,"display_name":"Michael Junk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13534,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18405239,"answer_count":3,"score":9,"last_activity_date":1659700133,"creation_date":1377259728,"question_id":18402480,"body_markdown":"I have a locations index, which has lots of location names and their respective countries. \r\n\r\nI then want to know whether we have locations with title &quot;Berlin&quot; in the country with country code &quot;DE&quot;. \r\n\r\nHere&#39;s my Java code attempt:\r\n\r\n    SearchResponse response = client.prepareSearch(&quot;locations&quot;)\r\n                    .setQuery(QueryBuilders.matchQuery(&quot;title&quot;, &quot;Berlin&quot;))\r\n                    .setFilter(FilterBuilders.termFilter(&quot;country&quot;, &quot;DE&quot;))\r\n                    .execute()\r\n                    .actionGet();\r\n\r\nBut this gives me too many replies, e.g. results for &quot;Zoo Berlin&quot; and so on. I need exact matches. \r\n\r\n(But please note that I have other scenarios where this substring/text search matching is desired.) \r\n\r\nIs there a way to decide at querying time, rather than at indexing time which behaviour (exact vs. analyzed text) one wants?\r\n","title":"Exact matches with ElasticSearch (at query time)","body":"<p>I have a locations index, which has lots of location names and their respective countries. </p>\n\n<p>I then want to know whether we have locations with title \"Berlin\" in the country with country code \"DE\". </p>\n\n<p>Here's my Java code attempt:</p>\n\n<pre><code>SearchResponse response = client.prepareSearch(\"locations\")\n                .setQuery(QueryBuilders.matchQuery(\"title\", \"Berlin\"))\n                .setFilter(FilterBuilders.termFilter(\"country\", \"DE\"))\n                .execute()\n                .actionGet();\n</code></pre>\n\n<p>But this gives me too many replies, e.g. results for \"Zoo Berlin\" and so on. I need exact matches. </p>\n\n<p>(But please note that I have other scenarios where this substring/text search matching is desired.) </p>\n\n<p>Is there a way to decide at querying time, rather than at indexing time which behaviour (exact vs. analyzed text) one wants?</p>\n"},{"tags":["java","recursion","sequence"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1659695593,"post_id":73248329,"comment_id":129360880,"body_markdown":"Presumably you mean `(n-1) * calculate(n-2)`. But the compiler will require a return statement for the case where all the if conditions are false.","body":"Presumably you mean <code>(n-1) * calculate(n-2)</code>. But the compiler will require a return statement for the case where all the if conditions are false."},{"owner":{"account_id":25985761,"reputation":1,"user_id":19698761,"display_name":"wdwizzard"},"score":0,"creation_date":1659696069,"post_id":73248329,"comment_id":129361004,"body_markdown":"ohh sory, I didn&#39;t paste all the code. I have a return statement for the case where all if are false. I&#39;m gonna change it in post","body":"ohh sory, I didn&#39;t paste all the code. I have a return statement for the case where all if are false. I&#39;m gonna change it in post"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659696208,"post_id":73248329,"comment_id":129361049,"body_markdown":"@wdwizzard I voted to reopen, but for the future you should post a [Minimal, Complete, and Verifiable Example](http://stackoverflow.com/help/mcve) to avoid such occurrences.","body":"@wdwizzard I voted to reopen, but for the future you should post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a> to avoid such occurrences."},{"owner":{"account_id":25985761,"reputation":1,"user_id":19698761,"display_name":"wdwizzard"},"score":0,"creation_date":1659696337,"post_id":73248329,"comment_id":129361103,"body_markdown":"Okey, thx a lot and sorry for my mistake :)","body":"Okey, thx a lot and sorry for my mistake :)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659700900,"post_id":73248329,"comment_id":129362659,"body_markdown":"@OP did that change (the parenthesis around the `(n-1)`) fix your issue? If so, this question should be closed (by others) as an issue caused by a typo / not reproducible, since it&#39;s something unlikely to help future readers.","body":"@OP did that change (the parenthesis around the <code>(n-1)</code>) fix your issue? If so, this question should be closed (by others) as an issue caused by a typo / not reproducible, since it&#39;s something unlikely to help future readers."}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659700131,"creation_date":1659700131,"answer_id":73249293,"question_id":73248329,"body_markdown":"You missed on a bracket because of which, the order of operations went wrong and you were getting wrong outputs...\r\n\r\nInstead of `return n-1 * calculate(n-2)`, you must write\r\n\r\n    return (n-1) * calculate(n-2)\r\n\r\nNow you will get the correct output...","title":"Problem with recursion for odd number in sequence Java","body":"<p>You missed on a bracket because of which, the order of operations went wrong and you were getting wrong outputs...</p>\n<p>Instead of <code>return n-1 * calculate(n-2)</code>, you must write</p>\n<pre><code>return (n-1) * calculate(n-2)\n</code></pre>\n<p>Now you will get the correct output...</p>\n"}],"owner":{"account_id":25985761,"reputation":1,"user_id":19698761,"display_name":"wdwizzard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659700131,"creation_date":1659695355,"question_id":73248329,"body_markdown":"    public static int calculate(int n){\r\n        if (n &lt;= 1) {\r\n            return 1;\r\n        } else if (n &gt;= 2 &amp;&amp; n%2 == 0){\r\n            return (n * calculate(n - 2));\r\n        } else if (n &gt;= 3 &amp;&amp; n%2 == 1){\r\n            return n-1 * calculate(n-2);\r\n        } else {\r\n            return n;\r\n        }\r\nI need it to make a numerical sequence for odd numbers:\r\n\r\n`(n-1) * (n-2) * (n-2)..... * 2`\r\n\r\nFor example:\r\n\r\n`n=9 == 8 * 6 * 4 * 2 or n=11 == 10 * 8 * 6 .....`\r\n\r\nAnd this line `return n-1 * calculate(n-2)` is not working.","title":"Problem with recursion for odd number in sequence Java","body":"<pre><code>public static int calculate(int n){\n    if (n &lt;= 1) {\n        return 1;\n    } else if (n &gt;= 2 &amp;&amp; n%2 == 0){\n        return (n * calculate(n - 2));\n    } else if (n &gt;= 3 &amp;&amp; n%2 == 1){\n        return n-1 * calculate(n-2);\n    } else {\n        return n;\n    }\n</code></pre>\n<p>I need it to make a numerical sequence for odd numbers:</p>\n<p><code>(n-1) * (n-2) * (n-2)..... * 2</code></p>\n<p>For example:</p>\n<p><code>n=9 == 8 * 6 * 4 * 2 or n=11 == 10 * 8 * 6 .....</code></p>\n<p>And this line <code>return n-1 * calculate(n-2)</code> is not working.</p>\n"},{"tags":["java","spring-boot","spring-webflux","openapi-generator"],"comments":[{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1662140748,"post_id":73249288,"comment_id":129945459,"body_markdown":"any fix for this","body":"any fix for this"},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1691023265,"post_id":73249288,"comment_id":135435953,"body_markdown":"Faced the same issue and I had `spring-boot-starter-web` and `spring-boot-starter-webflux` dependencies into `pom.xml`. Removing the first one now it works.","body":"Faced the same issue and I had <code>spring-boot-starter-web</code> and <code>spring-boot-starter-webflux</code> dependencies into <code>pom.xml</code>. Removing the first one now it works."}],"owner":{"account_id":16020270,"reputation":98,"user_id":11561938,"display_name":"Mate Szilard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659700084,"creation_date":1659700084,"question_id":73249288,"body_markdown":"I decided to try out API First approach with Spring-webflux.\r\nI sorted out the code generation part, however when I call one of the generated endpoints I get the following error:\r\n\r\n```\r\n2022-08-05 14:23:41.257 ERROR 22404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.web.server.ServerWebExchange] with root cause\r\n\r\njava.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.web.server.ServerWebExchange\r\n\tat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\r\n...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nI am using  https://petstore3.swagger.io/ as a starting point till I get the code-gen part configured.\r\n\r\n\r\n----------\r\nThe POM has the following plugin configuration (along with all of the required dependencies):\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/api/petstore.yml&lt;/inputSpec&gt;\r\n\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t&lt;output&gt;${project.build.directory}/generated-sources/swagger&lt;/output&gt;\r\n\t\t\t\t&lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\r\n\t\t\t\t&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t&lt;supportingFilesToGenerate&gt;\r\n                                ApiUtil.java\r\n                            &lt;/supportingFilesToGenerate&gt;\r\n\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t&lt;reactive&gt;true&lt;/reactive&gt;\r\n\t\t\t\t\t&lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\r\n\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n\t\t\t\t\t&lt;useOptional&gt;true&lt;/useOptional&gt;\r\n\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis resulted in the following generated code:\r\n```java \r\n@RequestMapping(\r\n        method = RequestMethod.GET,\r\n        value = &quot;/pet/{petId}&quot;,\r\n        produces = { &quot;application/json&quot;, &quot;application/xml&quot; }\r\n    )\r\n    default Mono&lt;ResponseEntity&lt;PetDTO&gt;&gt; getPetById(\r\n        @Parameter(name = &quot;petId&quot;, description = &quot;ID of pet to return&quot;, required = true) @PathVariable(&quot;petId&quot;) Long petId,\r\n        @Parameter(hidden = true) final ServerWebExchange exchange\r\n    ) {\r\n        Mono&lt;Void&gt; result = Mono.empty();\r\n        exchange.getResponse().setStatusCode(HttpStatus.NOT_IMPLEMENTED);\r\n        for (MediaType mediaType : exchange.getRequest().getHeaders().getAccept()) {\r\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                String exampleString = &quot;{ \\&quot;photoUrls\\&quot; : [ \\&quot;photoUrls\\&quot;, \\&quot;photoUrls\\&quot; ], \\&quot;name\\&quot; : \\&quot;doggie\\&quot;, \\&quot;id\\&quot; : 10, \\&quot;category\\&quot; : { \\&quot;name\\&quot; : \\&quot;Dogs\\&quot;, \\&quot;id\\&quot; : 1 }, \\&quot;tags\\&quot; : [ { \\&quot;name\\&quot; : \\&quot;name\\&quot;, \\&quot;id\\&quot; : 0 }, { \\&quot;name\\&quot; : \\&quot;name\\&quot;, \\&quot;id\\&quot; : 0 } ], \\&quot;status\\&quot; : \\&quot;available\\&quot; }&quot;;\r\n                result = ApiUtil.getExampleResponse(exchange, mediaType, exampleString);\r\n                break;\r\n            }\r\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/xml&quot;))) {\r\n                String exampleString = &quot;&lt;pet&gt; &lt;id&gt;10&lt;/id&gt; &lt;name&gt;doggie&lt;/name&gt; &lt;photoUrls&gt; &lt;photoUrls&gt;aeiou&lt;/photoUrls&gt; &lt;/photoUrls&gt; &lt;tags&gt; &lt;/tags&gt; &lt;status&gt;aeiou&lt;/status&gt; &lt;/pet&gt;&quot;;\r\n                result = ApiUtil.getExampleResponse(exchange, mediaType, exampleString);\r\n                break;\r\n            }\r\n        }\r\n        return result.then(Mono.empty());\r\n\r\n    }\r\n```\r\nFor the time being it is picked up by spring using the following class which implements the generated interface.\r\n```java\r\n@RestController\r\npublic class PetController implements PetApi {\r\n\r\n}\r\n\r\n```\r\n\r\n----------\r\n\r\nI tried looking around however could not find any obvious solutions/configurations which would solve the problem. Let me know if I overlooked something.\r\n\r\n\r\n----------\r\n\r\n\r\nPS: I am using spring-boot v2.7.1 with openjdk-17\r\n","title":"ServerWebExchange cannot be instantiated when implementing reactive code generated with OpenAPI Generator","body":"<p>I decided to try out API First approach with Spring-webflux.\nI sorted out the code generation part, however when I call one of the generated endpoints I get the following error:</p>\n<pre><code>2022-08-05 14:23:41.257 ERROR 22404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.web.server.ServerWebExchange] with root cause\n\njava.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.web.server.ServerWebExchange\n    at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\n...\n</code></pre>\n<hr />\n<p>I am using  <a href=\"https://petstore3.swagger.io/\" rel=\"nofollow noreferrer\">https://petstore3.swagger.io/</a> as a starting point till I get the code-gen part configured.</p>\n<hr />\n<p>The POM has the following plugin configuration (along with all of the required dependencies):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/petstore.yml&lt;/inputSpec&gt;\n                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                &lt;output&gt;${project.build.directory}/generated-sources/swagger&lt;/output&gt;\n                &lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\n                &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                &lt;supportingFilesToGenerate&gt;\n                                ApiUtil.java\n                            &lt;/supportingFilesToGenerate&gt;\n                &lt;configOptions&gt;\n                    &lt;reactive&gt;true&lt;/reactive&gt;\n                    &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\n                    &lt;library&gt;spring-boot&lt;/library&gt;\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                    &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                    &lt;useOptional&gt;true&lt;/useOptional&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<hr />\n<p>This resulted in the following generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(\n        method = RequestMethod.GET,\n        value = &quot;/pet/{petId}&quot;,\n        produces = { &quot;application/json&quot;, &quot;application/xml&quot; }\n    )\n    default Mono&lt;ResponseEntity&lt;PetDTO&gt;&gt; getPetById(\n        @Parameter(name = &quot;petId&quot;, description = &quot;ID of pet to return&quot;, required = true) @PathVariable(&quot;petId&quot;) Long petId,\n        @Parameter(hidden = true) final ServerWebExchange exchange\n    ) {\n        Mono&lt;Void&gt; result = Mono.empty();\n        exchange.getResponse().setStatusCode(HttpStatus.NOT_IMPLEMENTED);\n        for (MediaType mediaType : exchange.getRequest().getHeaders().getAccept()) {\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\n                String exampleString = &quot;{ \\&quot;photoUrls\\&quot; : [ \\&quot;photoUrls\\&quot;, \\&quot;photoUrls\\&quot; ], \\&quot;name\\&quot; : \\&quot;doggie\\&quot;, \\&quot;id\\&quot; : 10, \\&quot;category\\&quot; : { \\&quot;name\\&quot; : \\&quot;Dogs\\&quot;, \\&quot;id\\&quot; : 1 }, \\&quot;tags\\&quot; : [ { \\&quot;name\\&quot; : \\&quot;name\\&quot;, \\&quot;id\\&quot; : 0 }, { \\&quot;name\\&quot; : \\&quot;name\\&quot;, \\&quot;id\\&quot; : 0 } ], \\&quot;status\\&quot; : \\&quot;available\\&quot; }&quot;;\n                result = ApiUtil.getExampleResponse(exchange, mediaType, exampleString);\n                break;\n            }\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/xml&quot;))) {\n                String exampleString = &quot;&lt;pet&gt; &lt;id&gt;10&lt;/id&gt; &lt;name&gt;doggie&lt;/name&gt; &lt;photoUrls&gt; &lt;photoUrls&gt;aeiou&lt;/photoUrls&gt; &lt;/photoUrls&gt; &lt;tags&gt; &lt;/tags&gt; &lt;status&gt;aeiou&lt;/status&gt; &lt;/pet&gt;&quot;;\n                result = ApiUtil.getExampleResponse(exchange, mediaType, exampleString);\n                break;\n            }\n        }\n        return result.then(Mono.empty());\n\n    }\n</code></pre>\n<p>For the time being it is picked up by spring using the following class which implements the generated interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class PetController implements PetApi {\n\n}\n\n</code></pre>\n<hr />\n<p>I tried looking around however could not find any obvious solutions/configurations which would solve the problem. Let me know if I overlooked something.</p>\n<hr />\n<p>PS: I am using spring-boot v2.7.1 with openjdk-17</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":13919290,"reputation":79,"user_id":10050176,"display_name":"Sumit Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609251923,"creation_date":1609233941,"answer_id":65490000,"question_id":65489576,"body_markdown":"Basically, you are looking for &quot;term query&quot; which returns the &quot;documents that contain an exact term in a provided field&quot;.\r\n```\r\n    {\r\n        &quot;query&quot;:{\r\n            &quot;term&quot;:{\r\n                &quot;value&quot;:&quot;your input&quot;\r\n            }\r\n        }\r\n    }\r\n```\r\nHere is the reference of the same: \r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html","title":"ElasticSearch exact match on text in nested field - Java","body":"<p>Basically, you are looking for &quot;term query&quot; which returns the &quot;documents that contain an exact term in a provided field&quot;.</p>\n<pre><code>    {\n        &quot;query&quot;:{\n            &quot;term&quot;:{\n                &quot;value&quot;:&quot;your input&quot;\n            }\n        }\n    }\n</code></pre>\n<p>Here is the reference of the same:\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user5849527"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609234107,"creation_date":1609234107,"answer_id":65490026,"question_id":65489576,"body_markdown":"You can use the `Term query`, which returns the documents that contain an exact term in a provided field.\r\n\r\nFor more reference visit the below,\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html","title":"ElasticSearch exact match on text in nested field - Java","body":"<p>You can use the <code>Term query</code>, which returns the documents that contain an exact term in a provided field.</p>\n<p>For more reference visit the below,\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html</a></p>\n"},{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609236452,"creation_date":1609235691,"answer_id":65490329,"question_id":65489576,"body_markdown":"Since `tag.value` is of type `text`, its content has been analyzed and the resulting tokens (i.e. not exact value) have been indexed in Elasticsearch. \r\n\r\nEven though the `term` query doesn&#39;t analyze the search token, it doesn&#39;t help here because the indexed tokens have already been analyzed.\r\n\r\nThere are now two options:\r\n\r\nA. If `tag.value` only contains a single token (e.g. `&quot;Dog&quot;`), you can still match them exactly by using either `term` or `match` but **by lowercasing** the value, as in:\r\n\r\n    {\r\n        &quot;nested&quot;: {\r\n           &quot;path&quot;: &quot;tag&quot;,\r\n           &quot;query&quot;:{\r\n               &quot;term&quot;:{\r\n                   &quot;tag.value&quot;:&quot;dog&quot;\r\n               }\r\n           }\r\n        }\r\n    }\r\n\r\nB. If `tag.value` contains multiple tokens (e.g. `&quot;the big dog&quot;`), it is therefore not possible to search for their exact value anymore.","title":"ElasticSearch exact match on text in nested field - Java","body":"<p>Since <code>tag.value</code> is of type <code>text</code>, its content has been analyzed and the resulting tokens (i.e. not exact value) have been indexed in Elasticsearch.</p>\n<p>Even though the <code>term</code> query doesn't analyze the search token, it doesn't help here because the indexed tokens have already been analyzed.</p>\n<p>There are now two options:</p>\n<p>A. If <code>tag.value</code> only contains a single token (e.g. <code>&quot;Dog&quot;</code>), you can still match them exactly by using either <code>term</code> or <code>match</code> but <strong>by lowercasing</strong> the value, as in:</p>\n<pre><code>{\n    &quot;nested&quot;: {\n       &quot;path&quot;: &quot;tag&quot;,\n       &quot;query&quot;:{\n           &quot;term&quot;:{\n               &quot;tag.value&quot;:&quot;dog&quot;\n           }\n       }\n    }\n}\n</code></pre>\n<p>B. If <code>tag.value</code> contains multiple tokens (e.g. <code>&quot;the big dog&quot;</code>), it is therefore not possible to search for their exact value anymore.</p>\n"},{"tags":[],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659699984,"creation_date":1659699984,"answer_id":73249268,"question_id":65489576,"body_markdown":"Use match phrase\r\n\r\n\r\n    GET /_search\r\n    {\r\n        &quot;query&quot;: {\r\n            &quot;match_phrase&quot;: {\r\n                &quot;message&quot;: &quot;7000-8900&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nIn java use matchPhraseQuery of QueryBuilder\r\n\r\n    QueryBuilders.matchPhraseQuery(&quot;message&quot;, &quot;7000-8900&quot;);","title":"ElasticSearch exact match on text in nested field - Java","body":"<p>Use match phrase</p>\n<pre><code>GET /_search\n{\n    &quot;query&quot;: {\n        &quot;match_phrase&quot;: {\n            &quot;message&quot;: &quot;7000-8900&quot;\n        }\n    }\n}\n</code></pre>\n<p>In java use matchPhraseQuery of QueryBuilder</p>\n<pre><code>QueryBuilders.matchPhraseQuery(&quot;message&quot;, &quot;7000-8900&quot;);\n</code></pre>\n"}],"owner":{"account_id":9460857,"reputation":38,"user_id":7034612,"display_name":"Lebanner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65490329,"answer_count":4,"score":0,"last_activity_date":1659699984,"creation_date":1609231810,"question_id":65489576,"body_markdown":"The mapping contains nested field.\r\n\r\nI&#39;m wondering if it&#39;s possible to do an exact match on &quot;value&quot; without changing its type to *&quot;keyword&quot;*.\r\n\r\n    &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;tag&quot;: {\r\n        &quot;type&quot;: &quot;nested&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;value&quot;: {\r\n            &quot;type&quot;: &quot;text&quot;\r\n          },\r\n          &quot;key&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    }\r\n\r\nBelow is the code I tried to do an exact match on &quot;value&quot; field.\r\n\r\n    BoolQueryBuilder boolQ = boolQuery();\r\n    boolQ.must(matchQuery(&quot;tag.key&quot;, &quot;key&quot;));\r\n    boolQ.must(matchQuery(&quot;tag.value&quot;, &quot;value&quot;).fuzziness(Fuzziness.ZERO));\r\n    entireQuery.must(nestedQuery(&quot;tag&quot;, boolQ, ScoreMode.None));\r\n\r\nThe above returned a result matched with tokenized words of &quot;value&quot; as well. \r\n\r\nI would really appreciate if any references related to the question is present.","title":"ElasticSearch exact match on text in nested field - Java","body":"<p>The mapping contains nested field.</p>\n<p>I'm wondering if it's possible to do an exact match on &quot;value&quot; without changing its type to <em>&quot;keyword&quot;</em>.</p>\n<pre><code>&quot;mappings&quot;: {\n&quot;properties&quot;: {\n  &quot;tag&quot;: {\n    &quot;type&quot;: &quot;nested&quot;,\n    &quot;properties&quot;: {\n      &quot;value&quot;: {\n        &quot;type&quot;: &quot;text&quot;\n      },\n      &quot;key&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      }\n    }\n  }\n}\n}\n</code></pre>\n<p>Below is the code I tried to do an exact match on &quot;value&quot; field.</p>\n<pre><code>BoolQueryBuilder boolQ = boolQuery();\nboolQ.must(matchQuery(&quot;tag.key&quot;, &quot;key&quot;));\nboolQ.must(matchQuery(&quot;tag.value&quot;, &quot;value&quot;).fuzziness(Fuzziness.ZERO));\nentireQuery.must(nestedQuery(&quot;tag&quot;, boolQ, ScoreMode.None));\n</code></pre>\n<p>The above returned a result matched with tokenized words of &quot;value&quot; as well.</p>\n<p>I would really appreciate if any references related to the question is present.</p>\n"},{"tags":["java","android","arraylist","deserialization"],"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1659632834,"post_id":73238620,"comment_id":129346604,"body_markdown":"Do you implement the Serializable interface for the Quote class ?","body":"Do you implement the Serializable interface for the Quote class ?"},{"owner":{"account_id":25950520,"reputation":1,"user_id":19668634,"display_name":"Alexandr Prodan"},"score":0,"creation_date":1659699496,"post_id":73238620,"comment_id":129362141,"body_markdown":"yep I do implement serializable","body":"yep I do implement serializable"}],"answers":[{"tags":[],"owner":{"account_id":25950520,"reputation":1,"user_id":19668634,"display_name":"Alexandr Prodan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659699981,"creation_date":1659699981,"answer_id":73249266,"question_id":73238620,"body_markdown":"I tried to passe a context and call the method openFileOutput on the context\r\nso like this:\r\n\r\n    enter code here\r\n    FileOutputStream fs = context.openFileOutput(&quot;Quotes.txt&quot;, Context.MODE_PRIVATE);\r\n    \r\n    enter code here\r\n\r\n    public class SaveQuote extends AppCompatActivity {\r\n\r\n    EditText editTextQuote;\r\n    EditText editTextAuthor;\r\n\r\n    Button btnSave;\r\n    ArrayList&lt;Quote&gt; arrQuo = new ArrayList&lt;&gt;();\r\n\r\n    public static ArrayList&lt;Quote&gt; arrayListQuotesSave;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_save_quote);\r\n        init();\r\n        btnSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String quote = editTextQuote.getText().toString();\r\n                String author =editTextAuthor.getText().toString();\r\n                if(quote.isEmpty() || author.isEmpty()){\r\n                    Toast.makeText(SaveQuote.this,&quot;Fill all fields&quot;,Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    writeToFile(SaveQuote.this, quote, author);\r\n                    Toast.makeText(SaveQuote.this,&quot;The quote was saved&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void init(){\r\n        editTextQuote = findViewById(R.id.editTextQuote);\r\n        editTextAuthor = findViewById(R.id.editTextAuthor);\r\n\r\n        btnSave = findViewById(R.id.buttonSave);\r\n\r\n        arrayListQuotesSave = new ArrayList&lt;&gt;();\r\n    }\r\n    private void writeToFile(Context context,String quote,String author) {\r\n        Quote q = new Quote(quote,author);\r\n        MainActivity.arrayListQuotesMain.add(q);\r\n        Integer size = MainActivity.arrayListQuotesMain.size();\r\n        Log.v(&quot;Added&quot;,&quot;arrayListQuotesMain size is = &quot;+size.toString());\r\n\r\n        try {\r\n            FileOutputStream fs = context.openFileOutput(&quot;Quotes.txt&quot;, Context.MODE_PRIVATE);\r\n            ObjectOutputStream oos = new ObjectOutputStream(fs);\r\n            oos.writeObject(MainActivity.arrayListQuotesMain);\r\n            oos.close();\r\n        }\r\n        catch (IOException e) {\r\n            Log.e(&quot;Exception&quot;, &quot;File write failed: &quot; + e.toString());\r\n        }\r\n\r\n        editTextQuote.setText(&quot;&quot;);\r\n        editTextAuthor.setText(&quot;&quot;);\r\n    }\r\n\r\n    }","title":"ArrayList size 0 after deserialisation Android Studio Java","body":"<p>I tried to passe a context and call the method openFileOutput on the context\nso like this:</p>\n<pre><code>enter code here\nFileOutputStream fs = context.openFileOutput(&quot;Quotes.txt&quot;, Context.MODE_PRIVATE);\n\nenter code here\n\npublic class SaveQuote extends AppCompatActivity {\n\nEditText editTextQuote;\nEditText editTextAuthor;\n\nButton btnSave;\nArrayList&lt;Quote&gt; arrQuo = new ArrayList&lt;&gt;();\n\npublic static ArrayList&lt;Quote&gt; arrayListQuotesSave;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_save_quote);\n    init();\n    btnSave.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String quote = editTextQuote.getText().toString();\n            String author =editTextAuthor.getText().toString();\n            if(quote.isEmpty() || author.isEmpty()){\n                Toast.makeText(SaveQuote.this,&quot;Fill all fields&quot;,Toast.LENGTH_SHORT).show();\n            }else {\n                writeToFile(SaveQuote.this, quote, author);\n                Toast.makeText(SaveQuote.this,&quot;The quote was saved&quot;,Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n}\nprivate void init(){\n    editTextQuote = findViewById(R.id.editTextQuote);\n    editTextAuthor = findViewById(R.id.editTextAuthor);\n\n    btnSave = findViewById(R.id.buttonSave);\n\n    arrayListQuotesSave = new ArrayList&lt;&gt;();\n}\nprivate void writeToFile(Context context,String quote,String author) {\n    Quote q = new Quote(quote,author);\n    MainActivity.arrayListQuotesMain.add(q);\n    Integer size = MainActivity.arrayListQuotesMain.size();\n    Log.v(&quot;Added&quot;,&quot;arrayListQuotesMain size is = &quot;+size.toString());\n\n    try {\n        FileOutputStream fs = context.openFileOutput(&quot;Quotes.txt&quot;, Context.MODE_PRIVATE);\n        ObjectOutputStream oos = new ObjectOutputStream(fs);\n        oos.writeObject(MainActivity.arrayListQuotesMain);\n        oos.close();\n    }\n    catch (IOException e) {\n        Log.e(&quot;Exception&quot;, &quot;File write failed: &quot; + e.toString());\n    }\n\n    editTextQuote.setText(&quot;&quot;);\n    editTextAuthor.setText(&quot;&quot;);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":25950520,"reputation":1,"user_id":19668634,"display_name":"Alexandr Prodan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659699981,"creation_date":1659627215,"question_id":73238620,"body_markdown":"Hello I tried to make an app for displaying quote in Android Studio.\r\nBut I got stuck when reading.\r\nI created an &quot;ArrayList&lt;Quotes&gt;&quot; with my custom class Quotes.\r\nI seems to work ok when writing the ArrayList to the file, but when reading from it the size of ArrayList is 0.\r\n\r\n\r\n    public class SaveQuote extends AppCompatActivity {\r\n\r\n    EditText editTextQuote;\r\n    EditText editTextAuthor;\r\n\r\n    Button btnSave;\r\n    ArrayList&lt;Quote&gt; arrQuo = new ArrayList&lt;&gt;();\r\n\r\n    public static ArrayList&lt;Quote&gt; arrayListQuotesSave;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_save_quote);\r\n        init();\r\n        btnSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String quote = editTextQuote.getText().toString();\r\n                String author =editTextAuthor.getText().toString();\r\n                addQuote(quote,author);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void init(){\r\n        editTextQuote = findViewById(R.id.editTextQuote);\r\n        editTextAuthor = findViewById(R.id.editTextAuthor);\r\n\r\n        btnSave = findViewById(R.id.buttonSave);\r\n\r\n        arrayListQuotesSave = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    private void addQuote(String quote, String author){\r\n\r\n        Quote q = new Quote(quote, author);\r\n        arrQuo.add(q);\r\n        String path = this.getFilesDir().toString();\r\n\r\n        try {\r\n            FileOutputStream fos = openFileOutput(&quot;Quotes.txt&quot;,MODE_APPEND);\r\n            ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n            oos.writeObject(arrQuo);// when I write size  = 1\r\n            oos.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            FileInputStream fis = openFileInput(&quot;Quotes.txt&quot;);\r\n            ObjectInputStream ois = new ObjectInputStream(fis);\r\n            arrQuo =(ArrayList&lt;Quote&gt;) ois.readObject();\r\n            ois.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n","title":"ArrayList size 0 after deserialisation Android Studio Java","body":"<p>Hello I tried to make an app for displaying quote in Android Studio.\nBut I got stuck when reading.\nI created an &quot;ArrayList&quot; with my custom class Quotes.\nI seems to work ok when writing the ArrayList to the file, but when reading from it the size of ArrayList is 0.</p>\n<pre><code>public class SaveQuote extends AppCompatActivity {\n\nEditText editTextQuote;\nEditText editTextAuthor;\n\nButton btnSave;\nArrayList&lt;Quote&gt; arrQuo = new ArrayList&lt;&gt;();\n\npublic static ArrayList&lt;Quote&gt; arrayListQuotesSave;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_save_quote);\n    init();\n    btnSave.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String quote = editTextQuote.getText().toString();\n            String author =editTextAuthor.getText().toString();\n            addQuote(quote,author);\n        }\n    });\n\n}\n\nprivate void init(){\n    editTextQuote = findViewById(R.id.editTextQuote);\n    editTextAuthor = findViewById(R.id.editTextAuthor);\n\n    btnSave = findViewById(R.id.buttonSave);\n\n    arrayListQuotesSave = new ArrayList&lt;&gt;();\n}\n\nprivate void addQuote(String quote, String author){\n\n    Quote q = new Quote(quote, author);\n    arrQuo.add(q);\n    String path = this.getFilesDir().toString();\n\n    try {\n        FileOutputStream fos = openFileOutput(&quot;Quotes.txt&quot;,MODE_APPEND);\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\n        oos.writeObject(arrQuo);// when I write size  = 1\n        oos.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        FileInputStream fis = openFileInput(&quot;Quotes.txt&quot;);\n        ObjectInputStream ois = new ObjectInputStream(fis);\n        arrQuo =(ArrayList&lt;Quote&gt;) ois.readObject();\n        ois.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":4263255,"reputation":3672,"user_id":3487063,"accept_rate":57,"display_name":"user3487063"},"score":3,"creation_date":1495209109,"post_id":44074179,"comment_id":75172526,"body_markdown":"Did you do mvn clean install on your project a? If not do mvn install your project &#39;a&#39; to local repo from where it can find  &#39;a&#39; while trying to build b. Basically mvn looks for &#39;a&#39; in local repo, so until and unless you install it in local repo using mvn install, it cannot be found","body":"Did you do mvn clean install on your project a? If not do mvn install your project &#39;a&#39; to local repo from where it can find  &#39;a&#39; while trying to build b. Basically mvn looks for &#39;a&#39; in local repo, so until and unless you install it in local repo using mvn install, it cannot be found"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1623214419,"post_id":44074179,"comment_id":120011553,"body_markdown":"But this causes Eclipse features to not work. For example, if I right click on a class name and select &quot;References &gt; Workspace&quot;, it will open up the class file from the jar and not the java file from the neighboring project in the workspace (which is the source of the class file). How to make maven  work properly? i.e. when I do the above, the java source file should open and not the class file in jar","body":"But this causes Eclipse features to not work. For example, if I right click on a class name and select &quot;References &gt; Workspace&quot;, it will open up the class file from the jar and not the java file from the neighboring project in the workspace (which is the source of the class file). How to make maven  work properly? i.e. when I do the above, the java source file should open and not the class file in jar"}],"answers":[{"tags":[],"owner":{"account_id":4184673,"reputation":624,"user_id":3428710,"display_name":"Nitin Prabhu"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1495209560,"creation_date":1495209560,"answer_id":44074398,"question_id":44074179,"body_markdown":"Your project B depends on project A and you have already specified this as a dependency in your pom file.\r\nThe only reason project B is not able to find project A may be due because of  project A artifact is not installed in your local .m2 repository.\r\nSo you have to first do a mvn clean install of your project A which will create the artifact in your maven repository.\r\nYou should be then able to use artifact A in project B.\r\n","title":"How to add local project (not jar) as a dependency to a Maven project","body":"<p>Your project B depends on project A and you have already specified this as a dependency in your pom file.\nThe only reason project B is not able to find project A may be due because of  project A artifact is not installed in your local .m2 repository.\nSo you have to first do a mvn clean install of your project A which will create the artifact in your maven repository.\nYou should be then able to use artifact A in project B.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659699429,"creation_date":1659699429,"answer_id":73249152,"question_id":44074179,"body_markdown":"Since I came here searxing for the same problem with **Eclipse** and it is mentioned in some comments (where it seems the IntelliJ focus is not obvious) I want to point to this solution for Eclipse that may be similar to IntelliJ as well: https://stackoverflow.com/a/10696646/1915920\r\n\r\nThe crucial point for us was the **dependent projects `pom.xml` version match (in the dependent and depending `pom.xml`)** in the workspace, so the **workspace resolution** works.","title":"How to add local project (not jar) as a dependency to a Maven project","body":"<p>Since I came here searxing for the same problem with <strong>Eclipse</strong> and it is mentioned in some comments (where it seems the IntelliJ focus is not obvious) I want to point to this solution for Eclipse that may be similar to IntelliJ as well: <a href=\"https://stackoverflow.com/a/10696646/1915920\">https://stackoverflow.com/a/10696646/1915920</a></p>\n<p>The crucial point for us was the <strong>dependent projects <code>pom.xml</code> version match (in the dependent and depending <code>pom.xml</code>)</strong> in the workspace, so the <strong>workspace resolution</strong> works.</p>\n"}],"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31808,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":44074398,"answer_count":2,"score":33,"last_activity_date":1659699429,"creation_date":1495208774,"question_id":44074179,"body_markdown":"I have two Maven projects that I&#39;ve added to one Intellij Idea&#39;s project as two modules. Project B depends on Project A.\r\n\r\nHere are simplified versions of their pom.xml files.\r\n\r\n###Project A:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;a&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n###Project B:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;b&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n                &lt;artifactId&gt;a&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nProject A compiles easily since it has no dependency. But Project B depends on Project A and since I&#39;m not telling maven how to find it, it can not be compiled with `mvn package`. But if I&#39;m not mistaken, this was possible using Intellij Idea&#39;s &quot;Meven Projects&quot; menu since to Intellij Idea both projects are known.\r\n\r\nBut right now, for some unknown reason, I can not compile project B even in Intellij Idea. When I do, it prompts:\r\n\r\n    [ERROR] Failed to execute goal on project b: Could not resolve dependencies for project com.group:b:jar:1.0-SNAPSHOT: Could not find artifact com.group:a:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n\r\nMy question is, how can I include one project into other as its dependency? Please note that I&#39;m not looking for a local dependency injection in maven since I want this to work in the future when I upload my packages into some repository.","title":"How to add local project (not jar) as a dependency to a Maven project","body":"<p>I have two Maven projects that I've added to one Intellij Idea's project as two modules. Project B depends on Project A.</p>\n\n<p>Here are simplified versions of their pom.xml files.</p>\n\n<h3>Project A:</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.group&lt;/groupId&gt;\n    &lt;artifactId&gt;a&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<h3>Project B:</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.group&lt;/groupId&gt;\n    &lt;artifactId&gt;b&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\n            &lt;artifactId&gt;a&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Project A compiles easily since it has no dependency. But Project B depends on Project A and since I'm not telling maven how to find it, it can not be compiled with <code>mvn package</code>. But if I'm not mistaken, this was possible using Intellij Idea's \"Meven Projects\" menu since to Intellij Idea both projects are known.</p>\n\n<p>But right now, for some unknown reason, I can not compile project B even in Intellij Idea. When I do, it prompts:</p>\n\n<pre><code>[ERROR] Failed to execute goal on project b: Could not resolve dependencies for project com.group:b:jar:1.0-SNAPSHOT: Could not find artifact com.group:a:jar:1.0-SNAPSHOT -&gt; [Help 1]\n</code></pre>\n\n<p>My question is, how can I include one project into other as its dependency? Please note that I'm not looking for a local dependency injection in maven since I want this to work in the future when I upload my packages into some repository.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19716283,"reputation":79,"user_id":14435654,"display_name":"mrxaxen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659696004,"creation_date":1659693651,"answer_id":73247984,"question_id":73247537,"body_markdown":"I&#39;m going to propose a maven based solution here, if you&#39;re using something else for dependency management, diregard the specifics.\r\n\r\nWhat you&#39;re trying to do should be doable i think. If you have built jars which you&#39;re not really updating i assume (hence the legacy part), then in maven you&#39;re able to make a maven repository for the project which you can point to in the regular GAV format, after having put the repository information in your settings file.\r\n\r\n**It is a must that you use this repository as read only. This method is not an offical solution, and you will have problems with concurrent access.**\r\n\r\nThe proper way would be putting it in an artifact manager like Nexus or Artifactory, and pointing to that as an extra repository other than the maven central one.\r\n\r\nWe&#39;re using the former solution since there&#39;s no real need for artifact management yet, and we also have some legacy stuff stored there(mainly APIs and &quot;commons&quot; stuff). It&#39;s read only and not being accessed by more the 1 or 2 people at a time.\r\n\r\nFor the former solution here&#39;s the `settings.xml` repository part in a windows environment:\r\n\r\n    &lt;repository&gt;\r\n\t\t&lt;id&gt;id&lt;/id&gt;\r\n\t\t&lt;name&gt;name&lt;/name&gt;\r\n\t\t&lt;url&gt;file://///your/path/to/repository&lt;/url&gt;\r\n\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t&lt;/repository&gt;","title":"Is it possible to use jars built using spring xml as libraries inside a spring boot project?","body":"<p>I'm going to propose a maven based solution here, if you're using something else for dependency management, diregard the specifics.</p>\n<p>What you're trying to do should be doable i think. If you have built jars which you're not really updating i assume (hence the legacy part), then in maven you're able to make a maven repository for the project which you can point to in the regular GAV format, after having put the repository information in your settings file.</p>\n<p><strong>It is a must that you use this repository as read only. This method is not an offical solution, and you will have problems with concurrent access.</strong></p>\n<p>The proper way would be putting it in an artifact manager like Nexus or Artifactory, and pointing to that as an extra repository other than the maven central one.</p>\n<p>We're using the former solution since there's no real need for artifact management yet, and we also have some legacy stuff stored there(mainly APIs and &quot;commons&quot; stuff). It's read only and not being accessed by more the 1 or 2 people at a time.</p>\n<p>For the former solution here's the <code>settings.xml</code> repository part in a windows environment:</p>\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;id&lt;/id&gt;\n    &lt;name&gt;name&lt;/name&gt;\n    &lt;url&gt;file://///your/path/to/repository&lt;/url&gt;\n    &lt;layout&gt;default&lt;/layout&gt;\n&lt;/repository&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659698676,"creation_date":1659698676,"answer_id":73248996,"question_id":73247537,"body_markdown":"Yes, there should be no problem with it.\r\nProbably, you just need to import spring xmls with [`@ImportResource`][1] annotation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html","title":"Is it possible to use jars built using spring xml as libraries inside a spring boot project?","body":"<p>Yes, there should be no problem with it.\nProbably, you just need to import spring xmls with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html\" rel=\"nofollow noreferrer\"><code>@ImportResource</code></a> annotation.</p>\n"}],"owner":{"account_id":19137208,"reputation":1,"user_id":13977963,"display_name":"therageofshiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659698676,"creation_date":1659691633,"question_id":73247537,"body_markdown":"Good Day Everyone!\r\n\r\nJust wanted to ask if it is possible to use jars built using spring xml as libraries inside a spring boot project?\r\n\r\nI currently have a legacy project that was built using spring xml and hibernate (without spring-data-jpa) and I am currently searching for a way to use jars compiled from that legacy project as libraries inside a newer spring boot (with spring-data-jpa with hibernate) microservice project that we are trying to build. Has anyone ever tried to do the same? is it possible? ","title":"Is it possible to use jars built using spring xml as libraries inside a spring boot project?","body":"<p>Good Day Everyone!</p>\n<p>Just wanted to ask if it is possible to use jars built using spring xml as libraries inside a spring boot project?</p>\n<p>I currently have a legacy project that was built using spring xml and hibernate (without spring-data-jpa) and I am currently searching for a way to use jars compiled from that legacy project as libraries inside a newer spring boot (with spring-data-jpa with hibernate) microservice project that we are trying to build. Has anyone ever tried to do the same? is it possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1659700013,"post_id":73248831,"comment_id":129362326,"body_markdown":"What do you mean by &quot;How the memory allocation works in here&quot;? What&#39;s the thing you&#39;re actually trying to understand?","body":"What do you mean by &quot;How the memory allocation works in here&quot;? What&#39;s the thing you&#39;re actually trying to understand?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659701257,"post_id":73248831,"comment_id":129362777,"body_markdown":"Is the `SuperClass ob = new SubClass()` the line in question? This line is a pretty straightforward application of the [Liskov Substitution Principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle). Note that in memory (and in general), `ob` is _still_ a `SubClass`, and will act like a `SubClass`, but is simply referred to as a `SuperClass`. This is useful in cases where the underlying subclass in use may change, but the overall expected behavior remains the same (think `List` and `ArrayList`/`LinkedList`/etc). Java doesn&#39;t [slice](https://en.wikipedia.org/wiki/Object_slicing)","body":"Is the <code>SuperClass ob = new SubClass()</code> the line in question? This line is a pretty straightforward application of the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a>. Note that in memory (and in general), <code>ob</code> is <i>still</i> a <code>SubClass</code>, and will act like a <code>SubClass</code>, but is simply referred to as a <code>SuperClass</code>. This is useful in cases where the underlying subclass in use may change, but the overall expected behavior remains the same (think <code>List</code> and <code>ArrayList</code>/<code>LinkedList</code>/etc). Java doesn&#39;t <a href=\"https://en.wikipedia.org/wiki/Object_slicing\" rel=\"nofollow noreferrer\">slice</a>"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659698553,"creation_date":1659698553,"answer_id":73248972,"question_id":73248831,"body_markdown":"The object layout of the subclass is similar to this:\r\n\r\n    SubClass {\r\n        meta-data\r\n        SuperClass {\r\n            meta-data\r\n            int x\r\n        }\r\n        int x\r\n    }\r\n\r\nIn particular, notice that _there are two separate instances of `int x`_. Data members are not overloaded. Overloading only happens with methods. So `SubClass.foo()` overloads `SuperClass.foo()`, but `SubClass.x` only _hides_ `SuperClass.x`.\r\n\r\nWhen you print `ob.x`, you&#39;re telling the compiler to print `SuperClass.x` because the compiler only knows that `ob` is a `SuperClass` instance. On the other hand, if you call `ob.foo()` you&#39;re actually calling `SubClass.foo()` because this method is overridden.\r\n\r\nThe reason you would assign a subclass instance to a superclass reference variable is similar to why you should assign an object to an interface reference. It&#39;s to keep your code clean. If you don&#39;t need the specific methods that a subclass provides in addition to those of a superclass, you should make your variable a superclass reference. Then you&#39;re free to change the implementation class in just one place. Google &quot;program to an interface, not to an implementation&quot; for more details.","title":"How does the memory allocation works when a reference of superclass is holding an object of subclass?","body":"<p>The object layout of the subclass is similar to this:</p>\n<pre><code>SubClass {\n    meta-data\n    SuperClass {\n        meta-data\n        int x\n    }\n    int x\n}\n</code></pre>\n<p>In particular, notice that <em>there are two separate instances of <code>int x</code></em>. Data members are not overloaded. Overloading only happens with methods. So <code>SubClass.foo()</code> overloads <code>SuperClass.foo()</code>, but <code>SubClass.x</code> only <em>hides</em> <code>SuperClass.x</code>.</p>\n<p>When you print <code>ob.x</code>, you're telling the compiler to print <code>SuperClass.x</code> because the compiler only knows that <code>ob</code> is a <code>SuperClass</code> instance. On the other hand, if you call <code>ob.foo()</code> you're actually calling <code>SubClass.foo()</code> because this method is overridden.</p>\n<p>The reason you would assign a subclass instance to a superclass reference variable is similar to why you should assign an object to an interface reference. It's to keep your code clean. If you don't need the specific methods that a subclass provides in addition to those of a superclass, you should make your variable a superclass reference. Then you're free to change the implementation class in just one place. Google &quot;program to an interface, not to an implementation&quot; for more details.</p>\n"}],"owner":{"account_id":25950223,"reputation":3,"user_id":19668377,"display_name":"Newbie101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659700041,"accepted_answer_id":73248972,"answer_count":1,"score":0,"last_activity_date":1659698553,"creation_date":1659697842,"question_id":73248831,"body_markdown":"I went through all plausible answers relating to this question, but none answered what is the purpose of SuperClass ob = new SubClass()?\r\n\r\n\r\n    class SuperClass\r\n    {\r\n        int x = 10;\r\n        public void foo()\r\n        {\r\n            System.out.println(&quot;In Superclass: &quot;+x);\r\n        }\r\n    }\r\n    \r\n    class SubClass extends SuperClass\r\n    {\r\n        int x = 20;\r\n        public void foo()\r\n        {\r\n            System.out.println(&quot;In Sub Class: &quot;+x);\r\n        }\r\n    }\r\n    \r\n    Class Main\r\n    {\r\n        Public static void main (String args[])\r\n        {\r\n            SuperClass ob = new SubClass()\r\n            System.out.println(ob.x); //prints 10\r\n            ob.foo(); // print In Sub Class: 20\r\n        }\r\n    }\r\n\r\n I want to know:\r\n1. How the memory allocation works in here\r\n2. What is the purpose of SuperClass reference in holding the subclass object.","title":"How does the memory allocation works when a reference of superclass is holding an object of subclass?","body":"<p>I went through all plausible answers relating to this question, but none answered what is the purpose of SuperClass ob = new SubClass()?</p>\n<pre><code>class SuperClass\n{\n    int x = 10;\n    public void foo()\n    {\n        System.out.println(&quot;In Superclass: &quot;+x);\n    }\n}\n\nclass SubClass extends SuperClass\n{\n    int x = 20;\n    public void foo()\n    {\n        System.out.println(&quot;In Sub Class: &quot;+x);\n    }\n}\n\nClass Main\n{\n    Public static void main (String args[])\n    {\n        SuperClass ob = new SubClass()\n        System.out.println(ob.x); //prints 10\n        ob.foo(); // print In Sub Class: 20\n    }\n}\n</code></pre>\n<p>I want to know:</p>\n<ol>\n<li>How the memory allocation works in here</li>\n<li>What is the purpose of SuperClass reference in holding the subclass object.</li>\n</ol>\n"},{"tags":["javascript","java","node.js","logging"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1659706889,"post_id":73248883,"comment_id":129364960,"body_markdown":"Redirect output to a file and read that file?","body":"Redirect output to a file and read that file?"},{"owner":{"account_id":16224760,"reputation":125,"user_id":11715424,"display_name":"Pavan Kumar"},"score":0,"creation_date":1660927634,"post_id":73248883,"comment_id":129657403,"body_markdown":"Ho @DavidConrad, due to limitation in no. of characters in a comment, I have posted a new question here [https://stackoverflow.com/questions/73419884/capture-console-output-of-shellscript-in-nodejs]. Would be great if you can take a look at it and suggest.","body":"Ho @DavidConrad, due to limitation in no. of characters in a comment, I have posted a new question here [<a href=\"https://stackoverflow.com/questions/73419884/capture-console-output-of-shellscript-in-nodejs]\" title=\"capture console output of shellscript in nodejs%5d\">stackoverflow.com/questions/73419884/&hellip;</a>. Would be great if you can take a look at it and suggest."}],"owner":{"account_id":16224760,"reputation":125,"user_id":11715424,"display_name":"Pavan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659698047,"creation_date":1659698047,"question_id":73248883,"body_markdown":"I have a nodejs code like below\r\n\r\n```\r\ntry{\r\n   call someShellScript.sh\r\n}\r\ncatch(error)\r\n{\r\nconsole.log(&#39;error is &#39;+error)\r\n}\r\n ```\r\n\r\nIn someShellScript.sh, a jar file abc.jar is run. I am able to see some output lines from jar file execution in the console. But I am not able to capture them lets say to a variable. My requirement is to capture the error while executing logic present in jar file. Try catch is not helping here. Also, I cannot edit the java code and rebuild the jar file. But I would need to capture the output of jar file execution somehow in Nodejs and in case of errors while executing logic inside jar file, I need to take certain actions based on the error. So, can someone help me on how to capture the output of jar file in nodejs.","title":"How to capture logs of jar file in Nodejs","body":"<p>I have a nodejs code like below</p>\n<pre><code>try{\n   call someShellScript.sh\n}\ncatch(error)\n{\nconsole.log('error is '+error)\n}\n</code></pre>\n<p>In someShellScript.sh, a jar file abc.jar is run. I am able to see some output lines from jar file execution in the console. But I am not able to capture them lets say to a variable. My requirement is to capture the error while executing logic present in jar file. Try catch is not helping here. Also, I cannot edit the java code and rebuild the jar file. But I would need to capture the output of jar file execution somehow in Nodejs and in case of errors while executing logic inside jar file, I need to take certain actions based on the error. So, can someone help me on how to capture the output of jar file in nodejs.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":35717,"reputation":131899,"user_id":101258,"accept_rate":100,"display_name":"Justin Ethier"},"score":32,"creation_date":1253971082,"post_id":1481178,"comment_id":1331988,"body_markdown":"Perhaps it would be helpful to provide some background for why you need to force GC. Typically in a garbage collected language it is bad practice to explicitly call the collector.","body":"Perhaps it would be helpful to provide some background for why you need to force GC. Typically in a garbage collected language it is bad practice to explicitly call the collector."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1253985457,"post_id":1481178,"comment_id":1332539,"body_markdown":"A given JVM may provide several garbage collection methods, each with its own advantages and disadvantages, and frequently a given situation can be avoided simply by hinting the JVM at startup time.  Please elaborate on scenario.","body":"A given JVM may provide several garbage collection methods, each with its own advantages and disadvantages, and frequently a given situation can be avoided simply by hinting the JVM at startup time.  Please elaborate on scenario."},{"owner":{"account_id":1194943,"reputation":2352,"user_id":1166877,"accept_rate":73,"display_name":"aggregate1166877"},"score":0,"creation_date":1347456959,"post_id":1481178,"comment_id":16645358,"body_markdown":"I realise this question is 3 years old, but there is no accepted answer so i thought I&#39;d add my 2 cents for anyone else. If you so desperately need garbage collection, then usually there&#39;s a way around. For example, calling string splits in a loop can cause massive memory usage. The trick is to know how to write code that addresses these limitations. Here is an excellent introductory site: http://iwillgetthatjobatgoogle.tumblr.com/post/12591334729/java-memory-leaks","body":"I realise this question is 3 years old, but there is no accepted answer so i thought I&#39;d add my 2 cents for anyone else. If you so desperately need garbage collection, then usually there&#39;s a way around. For example, calling string splits in a loop can cause massive memory usage. The trick is to know how to write code that addresses these limitations. Here is an excellent introductory site: <a href=\"http://iwillgetthatjobatgoogle.tumblr.com/post/12591334729/java-memory-leaks\" rel=\"nofollow noreferrer\">iwillgetthatjobatgoogle.tumblr.com/post/12591334729/&hellip;</a>"},{"owner":{"account_id":8751,"reputation":4846,"user_id":15908,"accept_rate":94,"display_name":"Federico Zancan"},"score":2,"creation_date":1364897402,"post_id":1481178,"comment_id":22401144,"body_markdown":"Just as an add-on to the whole picture: System.gc() calls Runtime.gc(). Oracle documentation reports that the most proper way to invoke Runtime.gc() is through System.gc(), even though you&#39;re right, they merely suggest the JVM to run GC. As far as I know it is not possible to force the JVM to run GC, though you could use some coding technique to reduce memory (heap) waste.","body":"Just as an add-on to the whole picture: System.gc() calls Runtime.gc(). Oracle documentation reports that the most proper way to invoke Runtime.gc() is through System.gc(), even though you&#39;re right, they merely suggest the JVM to run GC. As far as I know it is not possible to force the JVM to run GC, though you could use some coding technique to reduce memory (heap) waste."},{"owner":{"display_name":"user2463941"},"score":3,"creation_date":1370615771,"post_id":1481178,"comment_id":24539195,"body_markdown":"jmap -histo:live &lt;pid&gt;\r\n\r\nhttp://stackoverflow.com/questions/6418089/does-jmap-force-garbage-collection-when-the-live-option-is-used","body":"jmap -histo:live &lt;pid&gt;    <a href=\"http://stackoverflow.com/questions/6418089/does-jmap-force-garbage-collection-when-the-live-option-is-used\" title=\"does jmap force garbage collection when the live option is used\">stackoverflow.com/questions/6418089/&hellip;</a>"},{"owner":{"account_id":227656,"reputation":1033,"user_id":489457,"accept_rate":20,"display_name":"Steve"},"score":9,"creation_date":1381954885,"post_id":1481178,"comment_id":28777455,"body_markdown":"Here&#39;s a use case for forcing garbage collection: I have a server with a 30GB heap, of which ~12GB is typically used (~5M objects). Every 5 minutes, the server spends roughly one minute performing a complex task in which roughly 35M additional objects are used. A full GC is triggered a couple of times per hour, invariably during the complex task, and freezes the VM for 10 to 15 seconds. I would love to force the full GC to run at a time when the complex task is not running; it would then be juggling 5M live objects rather than 40M.","body":"Here&#39;s a use case for forcing garbage collection: I have a server with a 30GB heap, of which ~12GB is typically used (~5M objects). Every 5 minutes, the server spends roughly one minute performing a complex task in which roughly 35M additional objects are used. A full GC is triggered a couple of times per hour, invariably during the complex task, and freezes the VM for 10 to 15 seconds. I would love to force the full GC to run at a time when the complex task is not running; it would then be juggling 5M live objects rather than 40M."},{"owner":{"account_id":1024007,"reputation":1534,"user_id":1033706,"accept_rate":83,"display_name":"Elias Vasylenko"},"score":5,"creation_date":1475692434,"post_id":1481178,"comment_id":67049414,"body_markdown":"@JustinEthier There is one pretty obvious case where you may want to force the GC, which is unit testing any behaviour involving the java.lang.ref.Reference type hierarchy.","body":"@JustinEthier There is one pretty obvious case where you may want to force the GC, which is unit testing any behaviour involving the java.lang.ref.Reference type hierarchy."},{"owner":{"account_id":8519838,"reputation":6949,"user_id":6387170,"display_name":"UKMonkey"},"score":0,"creation_date":1484053131,"post_id":1481178,"comment_id":70342874,"body_markdown":"Another case requiring garbage collection: unloading native dlls reliably.","body":"Another case requiring garbage collection: unloading native dlls reliably."},{"owner":{"account_id":9850087,"reputation":509,"user_id":7296427,"display_name":"Jason Lee"},"score":1,"creation_date":1552617008,"post_id":1481178,"comment_id":97088176,"body_markdown":"@JustinEthier benchmarking","body":"@JustinEthier benchmarking"},{"owner":{"account_id":125069,"reputation":6157,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":0,"creation_date":1590517109,"post_id":1481178,"comment_id":109707625,"body_markdown":"Profiling tools like JProfiler seems to be capable of triggering immediate garbage collection.","body":"Profiling tools like JProfiler seems to be capable of triggering immediate garbage collection."}],"answers":[{"tags":[],"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"down_vote_count":2,"up_vote_count":199,"is_accepted":false,"score":197,"last_activity_date":1436474832,"creation_date":1253971156,"answer_id":1481185,"question_id":1481178,"body_markdown":"Your best option is to call [`System.gc()`][1] which simply is a hint to the garbage collector that you want it to do a collection.  There is no way to *force* and immediate collection though as the garbage collector is non-deterministic.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#gc()","title":"How to force garbage collection in Java?","body":"<p>Your best option is to call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#gc()\" rel=\"noreferrer\"><code>System.gc()</code></a> which simply is a hint to the garbage collector that you want it to do a collection.  There is no way to <em>force</em> and immediate collection though as the garbage collector is non-deterministic.</p>\n"},{"tags":[],"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1253971518,"creation_date":1253971518,"answer_id":1481195,"question_id":1481178,"body_markdown":"It would be better if you would describe the reason why you need garbage collection. If you are using SWT, you can dispose resources such as `Image` and `Font` to free memory. For instance:\r\n\r\n    Image img = new Image(Display.getDefault(), 16, 16);\r\n    img.dispose();\r\n\r\nThere are also tools to determine undisposed resources.","title":"How to force garbage collection in Java?","body":"<p>It would be better if you would describe the reason why you need garbage collection. If you are using SWT, you can dispose resources such as <code>Image</code> and <code>Font</code> to free memory. For instance:</p>\n\n<pre><code>Image img = new Image(Display.getDefault(), 16, 16);\nimg.dispose();\n</code></pre>\n\n<p>There are also tools to determine undisposed resources.</p>\n"},{"tags":[],"owner":{"account_id":16234,"reputation":12864,"user_id":35142,"accept_rate":95,"display_name":"Bob Kaufman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1253972026,"creation_date":1253971585,"answer_id":1481199,"question_id":1481178,"body_markdown":"If you need to force garbage collection, perhaps you should consider how you&#39;re managing resources. Are you creating large objects that persist in memory? Are you creating large objects (e.g., graphics classes) that have a `Disposable` interface and not calling `dispose()` when done with it? Are you declaring something at a class level that you only need within a single method?","title":"How to force garbage collection in Java?","body":"<p>If you need to force garbage collection, perhaps you should consider how you're managing resources. Are you creating large objects that persist in memory? Are you creating large objects (e.g., graphics classes) that have a <code>Disposable</code> interface and not calling <code>dispose()</code> when done with it? Are you declaring something at a class level that you only need within a single method?</p>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1253976346,"creation_date":1253976346,"answer_id":1481357,"question_id":1481178,"body_markdown":"Under the documentation for [OutOfMemoryError][1] it declares that it will not be thrown unless the VM has failed to reclaim memory following a full garbage collection.  So if you keep allocating memory until you get the error, you will have already forced a full garbage collection. \r\n\r\nPresumably the question you really wanted to ask was &quot;how can I reclaim the memory I think I should be reclaiming by garbage collection?&quot;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/OutOfMemoryError.html","title":"How to force garbage collection in Java?","body":"<p>Under the documentation for <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/OutOfMemoryError.html\" rel=\"noreferrer\">OutOfMemoryError</a> it declares that it will not be thrown unless the VM has failed to reclaim memory following a full garbage collection.  So if you keep allocating memory until you get the error, you will have already forced a full garbage collection. </p>\n\n<p>Presumably the question you really wanted to ask was \"how can I reclaim the memory I think I should be reclaiming by garbage collection?\"</p>\n"},{"tags":[],"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1253986259,"creation_date":1253986259,"answer_id":1481700,"question_id":1481178,"body_markdown":".gc is a candidate for elimination in future releases - a Sun Engineer once commented that maybe fewer than twenty people in the world actually know how to use .gc() - I did some work last night for a few hours on a central / critical data-structure using SecureRandom generated data, at somewhere just past 40,000 objects the vm would slow down as though it had run out of pointers. Clearly it was choking down on 16-bit pointer tables and exhibited classic &quot;failing machinery&quot; behavior.\r\n\r\nI tried -Xms and so on, kept bit twiddling until it would run to about 57,xxx something. Then it would run gc going from say 57,127 to 57,128 after a gc() - at about the pace of code-bloat at camp Easy Money.\r\n\r\nYour design needs fundamental re-work, probably a sliding window approach. ","title":"How to force garbage collection in Java?","body":"<p>.gc is a candidate for elimination in future releases - a Sun Engineer once commented that maybe fewer than twenty people in the world actually know how to use .gc() - I did some work last night for a few hours on a central / critical data-structure using SecureRandom generated data, at somewhere just past 40,000 objects the vm would slow down as though it had run out of pointers. Clearly it was choking down on 16-bit pointer tables and exhibited classic \"failing machinery\" behavior.</p>\n\n<p>I tried -Xms and so on, kept bit twiddling until it would run to about 57,xxx something. Then it would run gc going from say 57,127 to 57,128 after a gc() - at about the pace of code-bloat at camp Easy Money.</p>\n\n<p>Your design needs fundamental re-work, probably a sliding window approach. </p>\n"},{"tags":[],"owner":{"account_id":29969,"reputation":1660,"user_id":81385,"display_name":"Mainguy"},"down_vote_count":6,"up_vote_count":65,"is_accepted":false,"score":59,"last_activity_date":1540103797,"creation_date":1254060434,"answer_id":1483639,"question_id":1481178,"body_markdown":"The best (if not only) way to force a GC would be to write a custom JVM.  I believe the Garbage collectors are pluggable so you could probably just pick one of the available implementations and tweak it.\r\n\r\nNote:  This is NOT an easy answer.\r\n","title":"How to force garbage collection in Java?","body":"<p>The best (if not only) way to force a GC would be to write a custom JVM.  I believe the Garbage collectors are pluggable so you could probably just pick one of the available implementations and tweak it.</p>\n\n<p>Note:  This is NOT an easy answer.</p>\n"},{"tags":[],"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548831107,"creation_date":1254460625,"answer_id":1507829,"question_id":1481178,"body_markdown":"&gt; Really, I don&#39;t get you. But to be\r\n&gt; clear about &quot;Infinite Object Creation&quot;\r\n&gt; I meant that there is some piece of\r\n&gt; code at my big system do creation of\r\n&gt; objects whom handles and alive in\r\n&gt; memory, I could not get this piece of\r\n&gt; code actually, just gesture!!\r\n\r\nThis is correct, only gesture. You have pretty much the standard answers already given by several posters. Let&#39;s take this one by one:\r\n\r\n 1. I could not get this piece of code\r\n    actually\r\n\r\nCorrect, there is no actual jvm - such is only a specification, a bunch of computer science describing a desired behaviour ... I recently dug into initializing Java objects from native code. To get what you want, the only way is to do what is called aggressive nulling. The mistakes if done wrong are so bad doing that we have to limit ourselves to the original scope of the question: \r\n\r\n 2. some piece of code at my big system\r\n    do creation of objects\r\n\r\nMost of the posters here will assume you are saying you are working to an interface, if such we would have to see if you are being handed the entire object or one item at a time.\r\n\r\nIf you no longer need an object, you can assign null to the object but if you get it wrong there is a null pointer exception generated. I bet you can achieve better work if you use NIO\r\n\r\nAny time you or I or anyone else gets: &quot;*Please I need that horribly.*&quot; it is almost universal precursor to near total destruction of what you are trying to work on .... write us a small sample code, sanitizing from it any actual code used and show us your question.\r\n\r\nDo not get frustrated. Often what this resolves to is your dba is using a package bought somewhere and the original design is not tweaked for massive data structures. \r\n\r\nThat is very common.","title":"How to force garbage collection in Java?","body":"<blockquote>\n  <p>Really, I don't get you. But to be\n  clear about \"Infinite Object Creation\"\n  I meant that there is some piece of\n  code at my big system do creation of\n  objects whom handles and alive in\n  memory, I could not get this piece of\n  code actually, just gesture!!</p>\n</blockquote>\n\n<p>This is correct, only gesture. You have pretty much the standard answers already given by several posters. Let's take this one by one:</p>\n\n<ol>\n<li>I could not get this piece of code\nactually</li>\n</ol>\n\n<p>Correct, there is no actual jvm - such is only a specification, a bunch of computer science describing a desired behaviour ... I recently dug into initializing Java objects from native code. To get what you want, the only way is to do what is called aggressive nulling. The mistakes if done wrong are so bad doing that we have to limit ourselves to the original scope of the question: </p>\n\n<ol start=\"2\">\n<li>some piece of code at my big system\ndo creation of objects</li>\n</ol>\n\n<p>Most of the posters here will assume you are saying you are working to an interface, if such we would have to see if you are being handed the entire object or one item at a time.</p>\n\n<p>If you no longer need an object, you can assign null to the object but if you get it wrong there is a null pointer exception generated. I bet you can achieve better work if you use NIO</p>\n\n<p>Any time you or I or anyone else gets: \"<em>Please I need that horribly.</em>\" it is almost universal precursor to near total destruction of what you are trying to work on .... write us a small sample code, sanitizing from it any actual code used and show us your question.</p>\n\n<p>Do not get frustrated. Often what this resolves to is your dba is using a package bought somewhere and the original design is not tweaked for massive data structures. </p>\n\n<p>That is very common.</p>\n"},{"tags":[],"owner":{"account_id":305784,"reputation":1942,"user_id":616150,"accept_rate":64,"display_name":"Viktor Dahl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1299687863,"creation_date":1299687863,"answer_id":5248783,"question_id":1481178,"body_markdown":"If you are running out of memory and getting an `OutOfMemoryException` you can try increasing the amount of heap space available to java by starting you program with `java -Xms128m -Xmx512m` instead of just `java`. This will give you an initial heap size of 128Mb and a maximum of 512Mb, which is far more than the standard 32Mb/128Mb.","title":"How to force garbage collection in Java?","body":"<p>If you are running out of memory and getting an <code>OutOfMemoryException</code> you can try increasing the amount of heap space available to java by starting you program with <code>java -Xms128m -Xmx512m</code> instead of just <code>java</code>. This will give you an initial heap size of 128Mb and a maximum of 512Mb, which is far more than the standard 32Mb/128Mb.</p>\n"},{"tags":[],"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"down_vote_count":9,"up_vote_count":71,"is_accepted":false,"score":62,"last_activity_date":1553448141,"creation_date":1312301961,"answer_id":6915221,"question_id":1481178,"body_markdown":"The [jlibs library has a good utility class for garbage collection][1]. You can force garbage collection using a nifty little trick with [WeakReference][2] objects.\r\n\r\n[RuntimeUtil.gc()][3] from the jlibs:\r\n\r\n       /**\r\n        * This method guarantees that garbage collection is\r\n        * done unlike &lt;code&gt;{@link System#gc()}&lt;/code&gt;\r\n        */\r\n       public static void gc() {\r\n         Object obj = new Object();\r\n         WeakReference ref = new WeakReference&lt;Object&gt;(obj);\r\n         obj = null;\r\n         while(ref.get() != null) {\r\n           System.gc();\r\n         }\r\n       }\r\n\r\n\r\n  [1]: https://github.com/santhosh-tekuri/jlibs/wiki/GarbageCollection\r\n  [2]: http://download.oracle.com/javase/1,5.0/docs/api/java/lang/ref/WeakReference.html\r\n  [3]: https://github.com/santhosh-tekuri/jlibs/blob/59c28719f054123cf778278154e1b92e943ad232/core/src/main/java/jlibs/core/lang/RuntimeUtil.java#L148","title":"How to force garbage collection in Java?","body":"<p>The <a href=\"https://github.com/santhosh-tekuri/jlibs/wiki/GarbageCollection\" rel=\"noreferrer\">jlibs library has a good utility class for garbage collection</a>. You can force garbage collection using a nifty little trick with <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/ref/WeakReference.html\" rel=\"noreferrer\">WeakReference</a> objects.</p>\n\n<p><a href=\"https://github.com/santhosh-tekuri/jlibs/blob/59c28719f054123cf778278154e1b92e943ad232/core/src/main/java/jlibs/core/lang/RuntimeUtil.java#L148\" rel=\"noreferrer\">RuntimeUtil.gc()</a> from the jlibs:</p>\n\n<pre><code>   /**\n    * This method guarantees that garbage collection is\n    * done unlike &lt;code&gt;{@link System#gc()}&lt;/code&gt;\n    */\n   public static void gc() {\n     Object obj = new Object();\n     WeakReference ref = new WeakReference&lt;Object&gt;(obj);\n     obj = null;\n     while(ref.get() != null) {\n       System.gc();\n     }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408535385,"creation_date":1352532235,"answer_id":13320161,"question_id":1481178,"body_markdown":"JVM specification doesn&#39;t say anything specific about garbage collection. Due to this, vendors are free to implement GC in their way.\r\n\r\nSo this vagueness causes uncertainty in garbage collection behavior. You should check your JVM details to know about the garbage collection approaches/algorithms. Also there are options to customize behavior as well.","title":"How to force garbage collection in Java?","body":"<p>JVM specification doesn't say anything specific about garbage collection. Due to this, vendors are free to implement GC in their way.</p>\n\n<p>So this vagueness causes uncertainty in garbage collection behavior. You should check your JVM details to know about the garbage collection approaches/algorithms. Also there are options to customize behavior as well.</p>\n"},{"tags":[],"owner":{"account_id":2186245,"reputation":27,"user_id":1934611,"display_name":"Masarrat Siddiqui"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1357542703,"creation_date":1357542703,"answer_id":14191444,"question_id":1481178,"body_markdown":"FYI\r\n\r\nThe method call System.runFinalizersOnExit(true) guarantees that finalizer methods\r\nare called before Java shuts down. However, this method is inherently unsafe\r\nand has been deprecated. An alternative is to add “shutdown hooks” with the method\r\nRuntime.addShutdownHook.\r\n\r\nMasarrat Siddiqui","title":"How to force garbage collection in Java?","body":"<p>FYI</p>\n\n<p>The method call System.runFinalizersOnExit(true) guarantees that finalizer methods\nare called before Java shuts down. However, this method is inherently unsafe\nand has been deprecated. An alternative is to add “shutdown hooks” with the method\nRuntime.addShutdownHook.</p>\n\n<p>Masarrat Siddiqui</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1358991928,"creation_date":1358991928,"answer_id":14492574,"question_id":1481178,"body_markdown":"Using the [*Java™ Virtual Machine Tool Interface (JVM TI)*][1], the function\r\n\r\n    jvmtiError ForceGarbageCollection(jvmtiEnv* env)\r\n\r\nwill &quot;Force the VM to perform a garbage collection.&quot; The JVM TI is part of the [*JavaTM Platform Debugger Architecture (JPDA)*][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/jvmti/\r\n  [2]: http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/","title":"How to force garbage collection in Java?","body":"<p>Using the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jvmti/\"><em>Java™ Virtual Machine Tool Interface (JVM TI)</em></a>, the function</p>\n\n<pre><code>jvmtiError ForceGarbageCollection(jvmtiEnv* env)\n</code></pre>\n\n<p>will \"Force the VM to perform a garbage collection.\" The JVM TI is part of the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/\"><em>JavaTM Platform Debugger Architecture (JPDA)</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1388777910,"creation_date":1365966200,"answer_id":16003097,"question_id":1481178,"body_markdown":"To manually Request GC (not from System.gc()) : \r\n\r\n 1. Go To : bin folder in JDK eg.-C:\\Program Files\\Java\\jdk1.6.0_31\\bin\r\n 2. Open jconsole.exe\r\n 3. Connect to the desired local Process.\r\n 4. Go To memory tab and click perform GC.\r\n\r\n \r\n","title":"How to force garbage collection in Java?","body":"<p>To manually Request GC (not from System.gc()) : </p>\n\n<ol>\n<li>Go To : bin folder in JDK eg.-C:\\Program Files\\Java\\jdk1.6.0_31\\bin</li>\n<li>Open jconsole.exe</li>\n<li>Connect to the desired local Process.</li>\n<li>Go To memory tab and click perform GC.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3196433,"reputation":247,"user_id":2699521,"display_name":"guest"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1548363785,"creation_date":1376995102,"answer_id":18332922,"question_id":1481178,"body_markdown":"You can trigger a GC from the command line.  This is useful for batch/crontab:\r\n\r\n    jdk1.7.0/bin/jcmd &lt;pid&gt; GC.run\r\n\r\nSee :\r\n\r\n- https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html","title":"How to force garbage collection in Java?","body":"<p>You can trigger a GC from the command line.  This is useful for batch/crontab:</p>\n\n<pre><code>jdk1.7.0/bin/jcmd &lt;pid&gt; GC.run\n</code></pre>\n\n<p>See :</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3158872,"reputation":598,"user_id":2670590,"accept_rate":25,"display_name":"legramira"},"down_vote_count":9,"up_vote_count":34,"is_accepted":false,"score":25,"last_activity_date":1488154318,"creation_date":1400650186,"answer_id":23774668,"question_id":1481178,"body_markdown":"**YES** it is almost possible to forced you have to call to methods in the same order and at the same time this ones are:\r\n\r\n    System.gc ();\r\n    System.runFinalization ();\r\n\r\neven if is just one object to clean the use of this two methods at the same time force the garbage collector to use the `finalise()` method of unreachable object freeing the memory assigned and doing what the `finalize()` method states.\r\n\r\n**HOWEVER** it is a terrible practice to use the garbage collector because the use of it could introduce an over load to the software that may be even worst than on the memory, the garbage collector has his own thread which is not possible to control plus depending on the algorithm used by the gc could take more time and is consider very inefficient, you should check your software if it worst with the help of the gc because it is definitely broke, a good solution must not depend on the gc.\r\n\r\n**NOTE:** just to keep on mind this will works only if in the finalize method is not a reassignment of the object, if this happens the object will keep alive an it will have a resurrection which is technically possible.\r\n","title":"How to force garbage collection in Java?","body":"<p><strong>YES</strong> it is almost possible to forced you have to call to methods in the same order and at the same time this ones are:</p>\n\n<pre><code>System.gc ();\nSystem.runFinalization ();\n</code></pre>\n\n<p>even if is just one object to clean the use of this two methods at the same time force the garbage collector to use the <code>finalise()</code> method of unreachable object freeing the memory assigned and doing what the <code>finalize()</code> method states.</p>\n\n<p><strong>HOWEVER</strong> it is a terrible practice to use the garbage collector because the use of it could introduce an over load to the software that may be even worst than on the memory, the garbage collector has his own thread which is not possible to control plus depending on the algorithm used by the gc could take more time and is consider very inefficient, you should check your software if it worst with the help of the gc because it is definitely broke, a good solution must not depend on the gc.</p>\n\n<p><strong>NOTE:</strong> just to keep on mind this will works only if in the finalize method is not a reassignment of the object, if this happens the object will keep alive an it will have a resurrection which is technically possible.</p>\n"},{"tags":[],"owner":{"account_id":160345,"reputation":11044,"user_id":380331,"accept_rate":92,"display_name":"Agnius Vasiliauskas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1413982038,"creation_date":1413982038,"answer_id":26507809,"question_id":1481178,"body_markdown":"There is some indirect way for forcing garbage collector. You just need to fill heap with temporary objects until the point when garbage collector will execute. I&#39;ve made class which forces garbage collector in this way:\r\n\r\n    class GarbageCollectorManager {\r\n        \r\n        private static boolean collectionWasForced;\r\n        private static int refCounter = 0;\r\n        \r\n        public GarbageCollectorManager() {\r\n            refCounter++;\r\n        }\r\n        \r\n        @Override\r\n        protected void finalize() {\r\n            try {\r\n                collectionWasForced = true;\r\n                refCounter--;\r\n                super.finalize();   \r\n            } catch (Throwable ex) {\r\n                Logger.getLogger(GarbageCollectorManager.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n            \r\n        public int forceGarbageCollection() {\r\n            final int TEMPORARY_ARRAY_SIZE_FOR_GC = 200_000;\r\n            int iterationsUntilCollected = 0;\r\n            collectionWasForced = false;\r\n            \r\n            if (refCounter &lt; 2) \r\n                new GarbageCollectorManager();\r\n            \r\n            while (!collectionWasForced) {\r\n                iterationsUntilCollected++;\r\n                int[] arr = new int[TEMPORARY_ARRAY_SIZE_FOR_GC];\r\n                arr = null;\r\n            }\r\n    \r\n            return iterationsUntilCollected;\r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    GarbageCollectorManager manager = new GarbageCollectorManager();\r\n    int iterationsUntilGcExecuted = manager.forceGarbageCollection();\r\n\r\nI don&#39;t know how much this method is useful, because it fills heap constantly, but if you have mission critical application which **MUST** force GC - when this may be the Java portable way to force GC.","title":"How to force garbage collection in Java?","body":"<p>There is some indirect way for forcing garbage collector. You just need to fill heap with temporary objects until the point when garbage collector will execute. I've made class which forces garbage collector in this way:</p>\n\n<pre><code>class GarbageCollectorManager {\n\n    private static boolean collectionWasForced;\n    private static int refCounter = 0;\n\n    public GarbageCollectorManager() {\n        refCounter++;\n    }\n\n    @Override\n    protected void finalize() {\n        try {\n            collectionWasForced = true;\n            refCounter--;\n            super.finalize();   \n        } catch (Throwable ex) {\n            Logger.getLogger(GarbageCollectorManager.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public int forceGarbageCollection() {\n        final int TEMPORARY_ARRAY_SIZE_FOR_GC = 200_000;\n        int iterationsUntilCollected = 0;\n        collectionWasForced = false;\n\n        if (refCounter &lt; 2) \n            new GarbageCollectorManager();\n\n        while (!collectionWasForced) {\n            iterationsUntilCollected++;\n            int[] arr = new int[TEMPORARY_ARRAY_SIZE_FOR_GC];\n            arr = null;\n        }\n\n        return iterationsUntilCollected;\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>GarbageCollectorManager manager = new GarbageCollectorManager();\nint iterationsUntilGcExecuted = manager.forceGarbageCollection();\n</code></pre>\n\n<p>I don't know how much this method is useful, because it fills heap constantly, but if you have mission critical application which <strong>MUST</strong> force GC - when this may be the Java portable way to force GC.</p>\n"},{"tags":[],"owner":{"account_id":5925210,"reputation":287,"user_id":4661283,"display_name":"Saubhagya Ranjan Das"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1441338540,"creation_date":1441338540,"answer_id":32389764,"question_id":1481178,"body_markdown":"I would like to add some thing here. Please not that Java runs on Virtual Machine and not actual Machine. The virtual machine has its own way of communication with the machine. It may varry from system to system. Now When we call the GC we ask the Virtual Machine of Java to call the Garbage Collector. \r\n\r\nSince the Garbage Collector is with Virtual Machine , we can not force it to do a cleanup there and then. Rather that we queue our request with the Garbage Collector. It depends on the Virtual Machine, after particular time (this may change from system to system, generally when the threshold memory allocated to the JVM is full) the actual machine will free up the space. :D","title":"How to force garbage collection in Java?","body":"<p>I would like to add some thing here. Please not that Java runs on Virtual Machine and not actual Machine. The virtual machine has its own way of communication with the machine. It may varry from system to system. Now When we call the GC we ask the Virtual Machine of Java to call the Garbage Collector. </p>\n\n<p>Since the Garbage Collector is with Virtual Machine , we can not force it to do a cleanup there and then. Rather that we queue our request with the Garbage Collector. It depends on the Virtual Machine, after particular time (this may change from system to system, generally when the threshold memory allocated to the JVM is full) the actual machine will free up the space. :D</p>\n"},{"tags":[],"owner":{"account_id":314650,"reputation":1571,"user_id":745828,"display_name":"nabster"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1553543320,"creation_date":1517890925,"answer_id":48635442,"question_id":1481178,"body_markdown":"You can try using `Runtime.getRuntime().gc()` or use utility method `System.gc()` Note: These methods do not ensure GC. And their scope should be limited to JVM rather than programmatically handling it in your application.","title":"How to force garbage collection in Java?","body":"<p>You can try using <code>Runtime.getRuntime().gc()</code> or use utility method <code>System.gc()</code> Note: These methods do not ensure GC. And their scope should be limited to JVM rather than programmatically handling it in your application.</p>\n"},{"tags":[],"owner":{"account_id":142044,"reputation":3058,"user_id":349481,"display_name":"Aaron T Harris"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1537945455,"creation_date":1537945455,"answer_id":52511826,"question_id":1481178,"body_markdown":"Another options is to not create new objects.\r\n\r\n**Object pooling** is away to reduce the need GC in Java.\r\n\r\nObject pooling is generally not going to be faster than Object creation (esp for lightweight objects) but it is faster than Garbage Collection. If you created 10,000 objects and each object was 16 bytes. That&#39;s 160,000 bytes GC has to reclaim. On the other hand, if you don&#39;t need all 10,000 at the same time, you can create a pool to recycle/reuse the objects which eliminates the need to construct new objects and eliminates the need to GC old objects.\r\n\r\nSomething like this (untested).\r\nAnd if you want it to be thread safe you can swap out the LinkedList for a ConcurrentLinkedQueue.\r\n\r\n    public abstract class Pool&lt;T&gt; {\r\n        private int mApproximateSize;\r\n        private LinkedList&lt;T&gt; mPool = new LinkedList&lt;&gt;();\r\n\r\n        public Pool(int approximateSize) {\r\n            mApproximateSize = approximateSize;\r\n        }\r\n\r\n        public T attain() {\r\n            T item = mPool.poll();\r\n            if (item == null) {\r\n                item = newInstance();\r\n            }\r\n            return item;\r\n        }\r\n\r\n        public void release(T item) {\r\n            int approxSize = mPool.size(); // not guaranteed accurate\r\n            if (approxSize &lt; mApproximateSize) {\r\n                recycle(item);\r\n                mPool.add(item);\r\n            } else if (approxSize &gt; mApproximateSize) {\r\n                decommission(mPool.poll());\r\n            }\r\n        }\r\n\r\n        public abstract T newInstance();\r\n\r\n        public abstract void recycle(T item);\r\n\r\n        public void decommission(T item) { }\r\n\r\n    }","title":"How to force garbage collection in Java?","body":"<p>Another options is to not create new objects.</p>\n\n<p><strong>Object pooling</strong> is away to reduce the need GC in Java.</p>\n\n<p>Object pooling is generally not going to be faster than Object creation (esp for lightweight objects) but it is faster than Garbage Collection. If you created 10,000 objects and each object was 16 bytes. That's 160,000 bytes GC has to reclaim. On the other hand, if you don't need all 10,000 at the same time, you can create a pool to recycle/reuse the objects which eliminates the need to construct new objects and eliminates the need to GC old objects.</p>\n\n<p>Something like this (untested).\nAnd if you want it to be thread safe you can swap out the LinkedList for a ConcurrentLinkedQueue.</p>\n\n<pre><code>public abstract class Pool&lt;T&gt; {\n    private int mApproximateSize;\n    private LinkedList&lt;T&gt; mPool = new LinkedList&lt;&gt;();\n\n    public Pool(int approximateSize) {\n        mApproximateSize = approximateSize;\n    }\n\n    public T attain() {\n        T item = mPool.poll();\n        if (item == null) {\n            item = newInstance();\n        }\n        return item;\n    }\n\n    public void release(T item) {\n        int approxSize = mPool.size(); // not guaranteed accurate\n        if (approxSize &lt; mApproximateSize) {\n            recycle(item);\n            mPool.add(item);\n        } else if (approxSize &gt; mApproximateSize) {\n            decommission(mPool.poll());\n        }\n    }\n\n    public abstract T newInstance();\n\n    public abstract void recycle(T item);\n\n    public void decommission(T item) { }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4249479,"reputation":1269,"user_id":3477044,"accept_rate":42,"display_name":"Aliuk"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1547542512,"creation_date":1547542512,"answer_id":54195509,"question_id":1481178,"body_markdown":"If you are using JUnit and Spring, try adding this in every test class:\r\n\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)","title":"How to force garbage collection in Java?","body":"<p>If you are using JUnit and Spring, try adding this in every test class:</p>\n\n<pre><code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1548374751,"creation_date":1548374751,"answer_id":54357232,"question_id":1481178,"body_markdown":"On OracleJDK 10 with G1 GC, a single call to `System.gc()` will cause GC to clean up the Old Collection.  I am not sure if GC runs immediately.  However, GC will not clean up the Young Collection even if `System.gc()` is called many times in a loop.  To get GC to clean up the Young Collection, you must allocate in a loop (e.g. `new byte[1024]`) without calling `System.gc()`.  Calling `System.gc()` for some reason prevents GC from cleaning up the Young Collection.","title":"How to force garbage collection in Java?","body":"<p>On OracleJDK 10 with G1 GC, a single call to <code>System.gc()</code> will cause GC to clean up the Old Collection.  I am not sure if GC runs immediately.  However, GC will not clean up the Young Collection even if <code>System.gc()</code> is called many times in a loop.  To get GC to clean up the Young Collection, you must allocate in a loop (e.g. <code>new byte[1024]</code>) without calling <code>System.gc()</code>.  Calling <code>System.gc()</code> for some reason prevents GC from cleaning up the Young Collection.</p>\n"},{"tags":[],"owner":{"account_id":1118131,"reputation":3724,"user_id":1106996,"display_name":"Cameron McKenzie"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1611235542,"creation_date":1609113993,"answer_id":65471664,"question_id":1481178,"body_markdown":"How to Force Java GC\r\n--------------------\r\n\r\nOkay, here are a few different ways to *force* Java GC.\r\n\r\n 1. Click JConsole&#39;s `Perform GC` button\r\n 2. Use JMap&#39;s `jmap -histo:live 7544` command where 7544 is the pid\r\n 3. Call the Java Diagnostic Console&#39;s `jcmd 7544 GC.run` command\r\n 4. Call `System.gc();` in your code\r\n 5. Call `Runtime.getRuntime().gc()`; in your code\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNone of these work\r\n------------------\r\nHere&#39;s the dirty little secret. None of these are guaranteed to work. You really can&#39;t [force Java GC][2].\r\n\r\nThe Java garbage collection algos are non-deterministic, and while all of these methods can motivate the JVM to do GC, you can&#39;t actually force it. If the JVM has too much going on and a stop-the-world operation is not possible, these commands will either error out, or they will run but GC won&#39;t actually happen.\r\n\r\n    if (input.equalsIgnoreCase(&quot;gc&quot;)) {\r\n    \tSystem.gc();\r\n    \tresult = &quot;Just some GC.&quot;;\r\n    }\r\n    \r\n    if (input.equalsIgnoreCase(&quot;runtime&quot;)) {\r\n    \tRuntime.getRuntime().gc();\r\n    \tresult = &quot;Just some more GC.&quot;;\r\n    }\r\n\r\nFix the darn problem\r\n--------------------\r\n\r\nIf you&#39;ve got a memory leak or object allocation problem, then fix it. Sitting around with your finger on Java Mission Control&#39;s `Force Java GC` button only kicks the can down the road. Profile your app with [Java Flight Recorder][3], view the results in VisualVM or JMC, and fix the problem. Trying to [force Java GC][4] is a fools game.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rJWUT.png\r\n  [2]: https://www.theserverside.com/video/5-ways-to-force-Java-garbage-collection\r\n  [3]: http://missioncontrol.mcnz.com/allposts.html\r\n  [4]: https://youtu.be/onjlJBDdeTk\r\n  [5]: https://i.stack.imgur.com/K3sbr.png","title":"How to force garbage collection in Java?","body":"<h2>How to Force Java GC</h2>\n<p>Okay, here are a few different ways to <em>force</em> Java GC.</p>\n<ol>\n<li>Click JConsole's <code>Perform GC</code> button</li>\n<li>Use JMap's <code>jmap -histo:live 7544</code> command where 7544 is the pid</li>\n<li>Call the Java Diagnostic Console's <code>jcmd 7544 GC.run</code> command</li>\n<li>Call <code>System.gc();</code> in your code</li>\n<li>Call <code>Runtime.getRuntime().gc()</code>; in your code</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rJWUT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rJWUT.png\" alt=\"enter image description here\" /></a></p>\n<h2>None of these work</h2>\n<p>Here's the dirty little secret. None of these are guaranteed to work. You really can't <a href=\"https://www.theserverside.com/video/5-ways-to-force-Java-garbage-collection\" rel=\"noreferrer\">force Java GC</a>.</p>\n<p>The Java garbage collection algos are non-deterministic, and while all of these methods can motivate the JVM to do GC, you can't actually force it. If the JVM has too much going on and a stop-the-world operation is not possible, these commands will either error out, or they will run but GC won't actually happen.</p>\n<pre><code>if (input.equalsIgnoreCase(&quot;gc&quot;)) {\n    System.gc();\n    result = &quot;Just some GC.&quot;;\n}\n\nif (input.equalsIgnoreCase(&quot;runtime&quot;)) {\n    Runtime.getRuntime().gc();\n    result = &quot;Just some more GC.&quot;;\n}\n</code></pre>\n<h2>Fix the darn problem</h2>\n<p>If you've got a memory leak or object allocation problem, then fix it. Sitting around with your finger on Java Mission Control's <code>Force Java GC</code> button only kicks the can down the road. Profile your app with <a href=\"http://missioncontrol.mcnz.com/allposts.html\" rel=\"noreferrer\">Java Flight Recorder</a>, view the results in VisualVM or JMC, and fix the problem. Trying to <a href=\"https://youtu.be/onjlJBDdeTk\" rel=\"noreferrer\">force Java GC</a> is a fools game.</p>\n<p><a href=\"https://i.stack.imgur.com/K3sbr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/K3sbr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5294145,"reputation":730,"user_id":4225741,"accept_rate":40,"display_name":"Rahul Babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618996758,"creation_date":1618995101,"answer_id":67192401,"question_id":1481178,"body_markdown":"We can trigger `jmap -histo:live &lt;pid&gt;` using the java runtime. This will force a full GC on heap to mark all the live objects.\r\n\r\n    public static void triggerFullGC() throws IOException, InterruptedException {\r\n        String pid = ManagementFactory.getRuntimeMXBean().getName().split(&quot;@&quot;)[0];\r\n        Process process = Runtime.getRuntime().exec(\r\n                String.format(&quot;jmap -histo:live %s&quot;, pid)\r\n        );\r\n        System.out.println(&quot;Process completed with exit code :&quot; + process.waitFor());\r\n    }","title":"How to force garbage collection in Java?","body":"<p>We can trigger <code>jmap -histo:live &lt;pid&gt;</code> using the java runtime. This will force a full GC on heap to mark all the live objects.</p>\n<pre><code>public static void triggerFullGC() throws IOException, InterruptedException {\n    String pid = ManagementFactory.getRuntimeMXBean().getName().split(&quot;@&quot;)[0];\n    Process process = Runtime.getRuntime().exec(\n            String.format(&quot;jmap -histo:live %s&quot;, pid)\n    );\n    System.out.println(&quot;Process completed with exit code :&quot; + process.waitFor());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656464823,"creation_date":1655769777,"answer_id":72694056,"question_id":1481178,"body_markdown":"I did some experimentation (see https://github.com/mikenakis/ForcingTheJvmToGarbageCollect) trying about a dozen different ways of performing a garbage collection, including ways described in this answer, and more, and I found that there is absolutely no frigging way to deterministically force the JVM to do a complete garbage collection. Even the best answers to this question are only partially successful in that the best they achieve is *some* garbage collection, but never a guaranteed full garbage collection. \r\n\r\nMy experimentation has showed that the following code snippet yields the best (least bad) results:\r\n\r\n\tpublic static void ForceGarbageCollection()\r\n\t{\r\n\t\tlong freeMemory = ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed();\r\n\t\tfor( ; ; )\r\n\t\t{\r\n\t\t\tRuntime.getRuntime().gc();\r\n\t\t\tRuntime.getRuntime().runFinalization();\r\n\t\t\tlong newFreeMemory = ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed();\r\n\t\t\tif( newFreeMemory == freeMemory )\r\n\t\t\t\tbreak;\r\n\t\t\tfreeMemory = newFreeMemory;\r\n\t\t\tsleep( 10 );\r\n\t\t}\r\n\t}\r\n\r\nWhere the `sleep()` function is as follows:\r\n\r\n\tprivate static void sleep( int milliseconds )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep( milliseconds );\r\n\t\t}\r\n\t\tcatch( InterruptedException e )\r\n\t\t{\r\n\t\t\tthrow new RuntimeException( e );\r\n\t\t}\r\n\t}\r\n\r\nUnfortunately, that number `10` in that `sleep( 10 )` is magic; it assumes that you are doing a moderate number of memory allocations per second, which incur a moderate amount of finalization. If you are going through objects faster, then `10` might be inadequate and you may need to wait longer. You could set it to `100` to be sure, but no matter what you set it to, there will always be a chance that it will not be enough.\r\n\r\nThat having been said, in a controlled environment where that `10` is enough, this approach has been observed to consistently eliminate all unreachable objects from memory, while no other approach mentioned in this Q&amp;A does. The experiment code I linked to on github proves so.\r\n\r\nIn my opinion, the fact that the Java Virtual Machine provides no means of performing a forced-on-demand, unconditional, deterministic, absolutely thorough, stop-the-world garbage collection makes it ***BROKEN***.\r\n\r\nTo put it in a different way, the creators of the JVM are so full of hubris as to think that they know better than us whether we want to do that or whether we should want to do that. Don&#39;t be so arrogant. If something works as if by magic, then some means of bypassing the magic must be provided.","title":"How to force garbage collection in Java?","body":"<p>I did some experimentation (see <a href=\"https://github.com/mikenakis/ForcingTheJvmToGarbageCollect\" rel=\"nofollow noreferrer\">https://github.com/mikenakis/ForcingTheJvmToGarbageCollect</a>) trying about a dozen different ways of performing a garbage collection, including ways described in this answer, and more, and I found that there is absolutely no frigging way to deterministically force the JVM to do a complete garbage collection. Even the best answers to this question are only partially successful in that the best they achieve is <em>some</em> garbage collection, but never a guaranteed full garbage collection.</p>\n<p>My experimentation has showed that the following code snippet yields the best (least bad) results:</p>\n<pre><code>public static void ForceGarbageCollection()\n{\n    long freeMemory = ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed();\n    for( ; ; )\n    {\n        Runtime.getRuntime().gc();\n        Runtime.getRuntime().runFinalization();\n        long newFreeMemory = ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed();\n        if( newFreeMemory == freeMemory )\n            break;\n        freeMemory = newFreeMemory;\n        sleep( 10 );\n    }\n}\n</code></pre>\n<p>Where the <code>sleep()</code> function is as follows:</p>\n<pre><code>private static void sleep( int milliseconds )\n{\n    try\n    {\n        Thread.sleep( milliseconds );\n    }\n    catch( InterruptedException e )\n    {\n        throw new RuntimeException( e );\n    }\n}\n</code></pre>\n<p>Unfortunately, that number <code>10</code> in that <code>sleep( 10 )</code> is magic; it assumes that you are doing a moderate number of memory allocations per second, which incur a moderate amount of finalization. If you are going through objects faster, then <code>10</code> might be inadequate and you may need to wait longer. You could set it to <code>100</code> to be sure, but no matter what you set it to, there will always be a chance that it will not be enough.</p>\n<p>That having been said, in a controlled environment where that <code>10</code> is enough, this approach has been observed to consistently eliminate all unreachable objects from memory, while no other approach mentioned in this Q&amp;A does. The experiment code I linked to on github proves so.</p>\n<p>In my opinion, the fact that the Java Virtual Machine provides no means of performing a forced-on-demand, unconditional, deterministic, absolutely thorough, stop-the-world garbage collection makes it <em><strong>BROKEN</strong></em>.</p>\n<p>To put it in a different way, the creators of the JVM are so full of hubris as to think that they know better than us whether we want to do that or whether we should want to do that. Don't be so arrogant. If something works as if by magic, then some means of bypassing the magic must be provided.</p>\n"},{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659697950,"creation_date":1659697950,"answer_id":73248859,"question_id":1481178,"body_markdown":"I wanted to force gc, because my code was frozen for a long time when it happened. The aim is to smooth the charge, by regularly cause gc. \r\nThe solutions listed doesnt forced anything in my environment.\r\n\r\nSo: \r\n- I request the memory for temporary variable,\r\n- simply, by increments,\r\n- and monitor the memory and stop the operation as soon as gc is triggered.\r\n\r\nIt works easily but you have to tune.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\nRuntime rt = Runtime.getRuntime();\r\ndouble usedMB = (rt.totalMemory() - rt.freeMemory()) / 1024 / 1024;\r\n\r\nif (usedMB &gt; 1000) // only when necessary\r\n    {\r\n    byte[][] for_nothing = new byte[10][];\r\n\t\r\n    for (int k = 0; k &lt; 10 ; k ++)\r\n\t\tfor_nothing[k] = new byte[100_000_000];\r\n    }\r\n\t\r\nSystem.gc();\r\nRuntime.getRuntime().gc();\r\nRuntime.getRuntime().runFinalization();\t\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to force garbage collection in Java?","body":"<p>I wanted to force gc, because my code was frozen for a long time when it happened. The aim is to smooth the charge, by regularly cause gc.\nThe solutions listed doesnt forced anything in my environment.</p>\n<p>So:</p>\n<ul>\n<li>I request the memory for temporary variable,</li>\n<li>simply, by increments,</li>\n<li>and monitor the memory and stop the operation as soon as gc is triggered.</li>\n</ul>\n<p>It works easily but you have to tune.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Runtime rt = Runtime.getRuntime();\ndouble usedMB = (rt.totalMemory() - rt.freeMemory()) / 1024 / 1024;\n\nif (usedMB &gt; 1000) // only when necessary\n{\nbyte[][] for_nothing = new byte[10][];\n\nfor (int k = 0; k &lt; 10 ; k ++)\n    for_nothing[k] = new byte[100_000_000];\n}\n\nSystem.gc();\nRuntime.getRuntime().gc();\nRuntime.getRuntime().runFinalization(); </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"display_name":"user179172"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422429,"favorite_count":0,"down_vote_count":1,"up_vote_count":271,"answer_count":25,"score":270,"last_activity_date":1659697950,"creation_date":1253970888,"question_id":1481178,"body_markdown":"Is it possible to force garbage collection in Java, even if it is tricky to do? I know about `System.gc();` and `Runtime.gc();` but they only suggest to do GC. How can I force GC?","title":"How to force garbage collection in Java?","body":"<p>Is it possible to force garbage collection in Java, even if it is tricky to do? I know about <code>System.gc();</code> and <code>Runtime.gc();</code> but they only suggest to do GC. How can I force GC?</p>\n"},{"tags":["java","maven","kotlin"],"answers":[{"tags":[],"owner":{"account_id":8698672,"reputation":1814,"user_id":6509292,"display_name":"Johannes von Zmuda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659697792,"creation_date":1659693938,"answer_id":73248047,"question_id":65177340,"body_markdown":"I have no experience with Kotlin, but I found your question while searching for an answer for my problem in a Java application.\r\n\r\nI experienced this error \r\n\r\n&gt; Symbol is declared in module &#39;java.xml&#39; which does not export package &#39;com.sun.org.apache.xpath.internal.operations&#39;\r\n\r\nwith XpathFactory within the same module after upgrading Java from version 11 to 17. I solved it by importing the xalan library using Maven: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee also section Java EE here: \r\n[https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how][1]\r\n\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how","title":"Symbol is declared in module &#39;java.xml&#39; which does not export package &#39;com.sun.org.apache.xpath.internal.operations&#39;","body":"<p>I have no experience with Kotlin, but I found your question while searching for an answer for my problem in a Java application.</p>\n<p>I experienced this error</p>\n<blockquote>\n<p>Symbol is declared in module 'java.xml' which does not export package 'com.sun.org.apache.xpath.internal.operations'</p>\n</blockquote>\n<p>with XpathFactory within the same module after upgrading Java from version 11 to 17. I solved it by importing the xalan library using Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See also section Java EE here:\n<a href=\"https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how</a></p>\n"}],"owner":{"account_id":9596183,"reputation":593,"user_id":7125235,"display_name":"sparkstar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5692,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659697792,"creation_date":1607324695,"question_id":65177340,"body_markdown":"On running a `mvn clean install -e -X` for a cloned repository I am getting the following compilation failure \r\n\r\n&gt;[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.21:compile (compile) on project search-service: Compilation failure \r\n\r\n&gt;[ERROR] ~/src/main/kotlin/com/search/service/resources/Search.kt:[9,53] Symbol is declared in module &#39;java.xml&#39; which does not export package &#39;com.sun.org.apache.xpath.internal.operations&#39;\r\n\r\n&gt;[ERROR] -&gt; [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.21:compile (compile) on project search-service: Compilation failure\r\n  ~/src/main/kotlin/com/udaan/search/service/resources/Search.kt:[9,53] Symbol is declared in module &#39;java.xml&#39; which does not export package &#39;com.sun.org.apache.xpath.internal.operations&#39;\r\n  \r\nI am the only person facing this issue, for the other people the build is successful.\r\n\r\n```\r\nmvn -v\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: /usr/local/Cellar/maven/3.6.3_1/libexec\r\nJava version: 15.0.1, vendor: N/A, runtime: /usr/local/Cellar/openjdk/15.0.1/libexec/openjdk.jdk/Contents/Home\r\nDefault locale: en_IN, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.15.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```","title":"Symbol is declared in module &#39;java.xml&#39; which does not export package &#39;com.sun.org.apache.xpath.internal.operations&#39;","body":"<p>On running a <code>mvn clean install -e -X</code> for a cloned repository I am getting the following compilation failure</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.21:compile (compile) on project search-service: Compilation failure</p>\n</blockquote>\n<blockquote>\n<p>[ERROR] ~/src/main/kotlin/com/search/service/resources/Search.kt:[9,53] Symbol is declared in module 'java.xml' which does not export package 'com.sun.org.apache.xpath.internal.operations'</p>\n</blockquote>\n<blockquote>\n<p>[ERROR] -&gt; [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.21:compile (compile) on project search-service: Compilation failure\n~/src/main/kotlin/com/udaan/search/service/resources/Search.kt:[9,53] Symbol is declared in module 'java.xml' which does not export package 'com.sun.org.apache.xpath.internal.operations'</p>\n</blockquote>\n<p>I am the only person facing this issue, for the other people the build is successful.</p>\n<pre><code>mvn -v\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/local/Cellar/maven/3.6.3_1/libexec\nJava version: 15.0.1, vendor: N/A, runtime: /usr/local/Cellar/openjdk/15.0.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.15.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n"},{"tags":["java","scala","maven","jar","sbt"],"answers":[{"tags":[],"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659697552,"creation_date":1659697552,"answer_id":73248770,"question_id":73241737,"body_markdown":"JAR is just a ZIP of directories containing `.class` files and apps resources.\r\n\r\nUber JAR is just taking all your dependencies (other JARs - extracted, compilation output) and put them in a single archive so that whatever uses them, don&#39;t have to fetch other JARs.\r\n\r\nIf you build 2 Uber JARs with different versions of the same dependency then when you&#39;ll try to load them in the same ClassLoader at one, it will have issues because there will be 2 .class files of the same class.\r\n\r\nSo if you always intend to deploy for the same cluster, just bundle them together. And if you want to deploy them separately, it would be easier to not build 2 uberjars because dependencies will overlap. You could e.g. build 2 unerjar of dependencies and make your code depend on it (then have 2 JARs on the class path), or use whatever other strategy that avoids conflicts.","title":"Why two java/scala uber jars running on the same cluster bump into shading issues?","body":"<p>JAR is just a ZIP of directories containing <code>.class</code> files and apps resources.</p>\n<p>Uber JAR is just taking all your dependencies (other JARs - extracted, compilation output) and put them in a single archive so that whatever uses them, don't have to fetch other JARs.</p>\n<p>If you build 2 Uber JARs with different versions of the same dependency then when you'll try to load them in the same ClassLoader at one, it will have issues because there will be 2 .class files of the same class.</p>\n<p>So if you always intend to deploy for the same cluster, just bundle them together. And if you want to deploy them separately, it would be easier to not build 2 uberjars because dependencies will overlap. You could e.g. build 2 unerjar of dependencies and make your code depend on it (then have 2 JARs on the class path), or use whatever other strategy that avoids conflicts.</p>\n"}],"owner":{"account_id":17758376,"reputation":945,"user_id":12894926,"display_name":"YFl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73248770,"answer_count":1,"score":0,"last_activity_date":1659697552,"creation_date":1659643761,"question_id":73241737,"body_markdown":"**This question aims to understand better java/scala classpath and conflicting dependencies resolution by asking about an &quot;unexpected&quot; (for me) issue:**\r\n\r\nI&#39;ve packed two separate scala codebases into two different uber-jars. I pack them as uber-jars because they should be running from the same machine but have conflicting dependencies between them. \r\n\r\n**What did I expect?**\r\nEach uber-jar resolves dependencies only from itself, hence no conflicts, no shading issues, etc.\r\n\r\n**What did happen?**\r\nConflicting dependencies. One of the uber-jars tried pointing to a different version of a dependency that exits in the second uber-jar.\r\n\r\nI expected the jar always to try to resolve dependencies on the closest classpath (maybe I am mixing some terms here), before &quot;looking around&quot;. I have a naive expectation and will highly appreciate a clear explanation (and/or learning resources).\r\n\r\n----\r\nDetails:\r\n\r\n 1. The uber-jars were packaged using sbt-assembly:\r\n```scala\r\naddSbtPlugin(&quot;com.eed3si9n&quot; % &quot;sbt-assembly&quot; % &quot;1.0.0&quot;)\r\n\r\n```\r\n\r\n2. with the following options:\r\n```scala\r\nassembly / assemblyOption ~= {\r\n  _.withIncludeScala(false)\r\n}\r\n\r\nassembly / assemblyMergeStrategy := {\r\n  case &quot;META-INF/services/org.apache.spark.sql.sources.DataSourceRegister&quot; =&gt; MergeStrategy.concat\r\n  case &quot;META-INF/services/com.fasterxml.jackson.databind.Module&quot; =&gt; MergeStrategy.concat\r\n  case &quot;META-INF/services/com.fasterxml.jackson.core.JsonFactory&quot; =&gt; MergeStrategy.concat\r\n  case &quot;META-INF/services/com.fasterxml.jackson.core.ObjectCodec&quot; =&gt; MergeStrategy.concat\r\n  case &quot;META-INF/services/org.apache.spark.deploy.history.EventFilterBuilder&quot; =&gt; MergeStrategy.concat\r\n  case &quot;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&quot; =&gt; MergeStrategy.concat\r\n\r\n\r\n  case PathList(&quot;org&quot;, &quot;apache&quot;, &quot;spark&quot;, &quot;unused&quot;, xs@_*) =&gt; MergeStrategy.discard\r\n  case &quot;UnusedStubClass.class&quot; =&gt; MergeStrategy.discard\r\n  case &quot;module-info.class&quot; =&gt; MergeStrategy.rename\r\n  case &quot;META-INF/MANIFEST.MF&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;NOTICE&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;LICENSE&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;pom.properties&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;pom.xml&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;git.properties&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;io.netty.versions.properties&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;DUMMY.SF&quot; =&gt; MergeStrategy.discard\r\n  case PathList(ps@_*) if ps.last contains &quot;DUMMY.DSA&quot; =&gt; MergeStrategy.discard\r\n\r\n  case &quot;META-INF/DEPENDENCIES&quot; =&gt; MergeStrategy.discard\r\n\r\n  case x =&gt; MergeStrategy.deduplicate\r\n}\r\n```\r\n\r\n3. The two uber-jars are spark jobs running one after the other in the same cluster.\r\n\r\n4. When I ran them in the same cluster, uber-jar2 failed with conflicts. When I ran in different clusters, both worked perfectly fine.\r\n\r\n\r\n","title":"Why two java/scala uber jars running on the same cluster bump into shading issues?","body":"<p><strong>This question aims to understand better java/scala classpath and conflicting dependencies resolution by asking about an &quot;unexpected&quot; (for me) issue:</strong></p>\n<p>I've packed two separate scala codebases into two different uber-jars. I pack them as uber-jars because they should be running from the same machine but have conflicting dependencies between them.</p>\n<p><strong>What did I expect?</strong>\nEach uber-jar resolves dependencies only from itself, hence no conflicts, no shading issues, etc.</p>\n<p><strong>What did happen?</strong>\nConflicting dependencies. One of the uber-jars tried pointing to a different version of a dependency that exits in the second uber-jar.</p>\n<p>I expected the jar always to try to resolve dependencies on the closest classpath (maybe I am mixing some terms here), before &quot;looking around&quot;. I have a naive expectation and will highly appreciate a clear explanation (and/or learning resources).</p>\n<hr />\n<p>Details:</p>\n<ol>\n<li>The uber-jars were packaged using sbt-assembly:</li>\n</ol>\n<pre class=\"lang-scala prettyprint-override\"><code>addSbtPlugin(&quot;com.eed3si9n&quot; % &quot;sbt-assembly&quot; % &quot;1.0.0&quot;)\n\n</code></pre>\n<ol start=\"2\">\n<li>with the following options:</li>\n</ol>\n<pre class=\"lang-scala prettyprint-override\"><code>assembly / assemblyOption ~= {\n  _.withIncludeScala(false)\n}\n\nassembly / assemblyMergeStrategy := {\n  case &quot;META-INF/services/org.apache.spark.sql.sources.DataSourceRegister&quot; =&gt; MergeStrategy.concat\n  case &quot;META-INF/services/com.fasterxml.jackson.databind.Module&quot; =&gt; MergeStrategy.concat\n  case &quot;META-INF/services/com.fasterxml.jackson.core.JsonFactory&quot; =&gt; MergeStrategy.concat\n  case &quot;META-INF/services/com.fasterxml.jackson.core.ObjectCodec&quot; =&gt; MergeStrategy.concat\n  case &quot;META-INF/services/org.apache.spark.deploy.history.EventFilterBuilder&quot; =&gt; MergeStrategy.concat\n  case &quot;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&quot; =&gt; MergeStrategy.concat\n\n\n  case PathList(&quot;org&quot;, &quot;apache&quot;, &quot;spark&quot;, &quot;unused&quot;, xs@_*) =&gt; MergeStrategy.discard\n  case &quot;UnusedStubClass.class&quot; =&gt; MergeStrategy.discard\n  case &quot;module-info.class&quot; =&gt; MergeStrategy.rename\n  case &quot;META-INF/MANIFEST.MF&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;NOTICE&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;LICENSE&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;pom.properties&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;pom.xml&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;git.properties&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;io.netty.versions.properties&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;DUMMY.SF&quot; =&gt; MergeStrategy.discard\n  case PathList(ps@_*) if ps.last contains &quot;DUMMY.DSA&quot; =&gt; MergeStrategy.discard\n\n  case &quot;META-INF/DEPENDENCIES&quot; =&gt; MergeStrategy.discard\n\n  case x =&gt; MergeStrategy.deduplicate\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>The two uber-jars are spark jobs running one after the other in the same cluster.</p>\n</li>\n<li><p>When I ran them in the same cluster, uber-jar2 failed with conflicts. When I ran in different clusters, both worked perfectly fine.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659696806,"creation_date":1659696806,"answer_id":73248613,"question_id":73241765,"body_markdown":"Try these,\r\n\r\n    @Query(&quot;SELECT m FROM Modiciation m ORDER BY m.tmStatus.order DESC&quot;)\r\n    Page&lt;Modification&gt; findAllOrderByStatusOrder(Pageable pageable);\r\n\r\nor (I don&#39;t know if this&#39;ll work.)\r\n\r\n    Page&lt;Modification&gt; findAllOrderBytmStatus_orderDesc(Pageable pageable);","title":"Order By child field in One To One relationship Spring Data Jpa","body":"<p>Try these,</p>\n<pre><code>@Query(&quot;SELECT m FROM Modiciation m ORDER BY m.tmStatus.order DESC&quot;)\nPage&lt;Modification&gt; findAllOrderByStatusOrder(Pageable pageable);\n</code></pre>\n<p>or (I don't know if this'll work.)</p>\n<pre><code>Page&lt;Modification&gt; findAllOrderBytmStatus_orderDesc(Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":20418484,"reputation":145,"user_id":14980057,"display_name":"Saff.gh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73248613,"answer_count":1,"score":1,"last_activity_date":1659696806,"creation_date":1659643976,"question_id":73241765,"body_markdown":"I have a one to one relationship like this:\r\n\r\n```java\r\n@Entity\r\npublic class Modification {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;modification_id&quot;)\r\n\tLong id;\r\n\t\r\n\t@Column(name=&quot;second_line&quot;, length=1000)\r\n\tString firstLine;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name=&quot;tm_satus&quot;)\r\n\tStatusOrder tmStatus;\r\n    \r\n    // Constructors getters and setters\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class StatusOrder {\r\n\t\r\n\t@Id\r\n\t@Column(name=&quot;status&quot;)\r\n\tint status;\r\n\t@Column(name=&quot;status_order&quot;)\r\n\tint order;\r\n\t// Constructors getters and setters\r\n}\r\n```\r\n\r\nSo every `Modification` has a `StatusOrder`.\r\n\r\nNow I want to perform a query where I select from `Modification` table ordered by `order` field in `StatusOrder`.\r\n\r\nIs there a way to have a method in my repository like:\r\n```java\r\nPage&lt;Modification&gt; findAllOrderByStatusOrder(Pageable pageable);\r\n```","title":"Order By child field in One To One relationship Spring Data Jpa","body":"<p>I have a one to one relationship like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Modification {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;modification_id&quot;)\n    Long id;\n    \n    @Column(name=&quot;second_line&quot;, length=1000)\n    String firstLine;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;tm_satus&quot;)\n    StatusOrder tmStatus;\n    \n    // Constructors getters and setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class StatusOrder {\n    \n    @Id\n    @Column(name=&quot;status&quot;)\n    int status;\n    @Column(name=&quot;status_order&quot;)\n    int order;\n    // Constructors getters and setters\n}\n</code></pre>\n<p>So every <code>Modification</code> has a <code>StatusOrder</code>.</p>\n<p>Now I want to perform a query where I select from <code>Modification</code> table ordered by <code>order</code> field in <code>StatusOrder</code>.</p>\n<p>Is there a way to have a method in my repository like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;Modification&gt; findAllOrderByStatusOrder(Pageable pageable);\n</code></pre>\n"},{"tags":["java","pact","pact-jvm"],"answers":[{"tags":[],"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659692387,"creation_date":1659611556,"answer_id":73234901,"question_id":73221676,"body_markdown":"by using below dependency in java project (i have used gradle)\r\n \r\n    implementation group: &#39;au.com.dius&#39;, name: &#39;pact-jvm-provider-junit_2.11&#39;, version: &#39;2.4.3&#39;\r\n    compile group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.6&#39;\r\n\r\nand use below code for contract\r\n\r\n    PactLoader loader = new au.com.dius.pact.provider.junit.loader.PactBrokerLoader(&quot;localhost&quot;, 8101,&quot;http&quot;);\r\n        List&lt;Pact&gt; icd10 = loader.load(&quot;YourProviderName&quot;);\r\n        String json = new Gson().toJson(icd10);\r\n        JSONObject jsonObject;\r\n        JSONParser parser = new JSONParser();\r\n        JSONArray jsonArray =  (JSONArray) parser.parse(json);\r\n        jsonObject = (JSONObject) jsonArray.get(0);\r\n\r\n        try {\r\n            FileWriter file = new FileWriter(&quot;\\\\ContractDownloadDemo\\\\Contract.json&quot;);\r\n            file.write(jsonObject.toJSONString());\r\n            file.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"is there any way to download pact contract (.json) file from pact broker using java?","body":"<p>by using below dependency in java project (i have used gradle)</p>\n<pre><code>implementation group: 'au.com.dius', name: 'pact-jvm-provider-junit_2.11', version: '2.4.3'\ncompile group: 'com.google.code.gson', name: 'gson', version: '2.8.6'\n</code></pre>\n<p>and use below code for contract</p>\n<pre><code>PactLoader loader = new au.com.dius.pact.provider.junit.loader.PactBrokerLoader(&quot;localhost&quot;, 8101,&quot;http&quot;);\n    List&lt;Pact&gt; icd10 = loader.load(&quot;YourProviderName&quot;);\n    String json = new Gson().toJson(icd10);\n    JSONObject jsonObject;\n    JSONParser parser = new JSONParser();\n    JSONArray jsonArray =  (JSONArray) parser.parse(json);\n    jsonObject = (JSONObject) jsonArray.get(0);\n\n    try {\n        FileWriter file = new FileWriter(&quot;\\\\ContractDownloadDemo\\\\Contract.json&quot;);\n        file.write(jsonObject.toJSONString());\n        file.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73234901,"answer_count":1,"score":0,"last_activity_date":1659696755,"creation_date":1659529397,"question_id":73221676,"body_markdown":"by using Java, i am trying to download pact contract on provider side.\r\nPlease suggest any way or tool to Download contract from pact broker on provider side.","title":"is there any way to download pact contract (.json) file from pact broker using java?","body":"<p>by using Java, i am trying to download pact contract on provider side.\nPlease suggest any way or tool to Download contract from pact broker on provider side.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1659690855,"post_id":73247322,"comment_id":129359251,"body_markdown":"you can decode it to a Map: https://stackoverflow.com/questions/443499/convert-json-to-map\nA better solution would be to decode it to a custom object, but that would require more work. Depends what you need to do","body":"you can decode it to a Map: <a href=\"https://stackoverflow.com/questions/443499/convert-json-to-map\">stackoverflow.com/questions/443499/convert-json-to-map</a> A better solution would be to decode it to a custom object, but that would require more work. Depends what you need to do"}],"answers":[{"tags":[],"owner":{"account_id":21975986,"reputation":21,"user_id":16251791,"display_name":"Kryszak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659691098,"creation_date":1659691098,"answer_id":73247428,"question_id":73247322,"body_markdown":"If you just want to extract the value, you should take a look at JsonPath.\r\nJust use the method `JsonPath.read([json_object], [expression])` with expression `$.childMap4.childMap3.ch3Name`.\r\n\r\nAnother approach would be to create proper mapping class and deserialize JSON string with a library like Jackson, but if you want just single field value taht would be an overkill.","title":"Access json nested element directly in java","body":"<p>If you just want to extract the value, you should take a look at JsonPath.\nJust use the method <code>JsonPath.read([json_object], [expression])</code> with expression <code>$.childMap4.childMap3.ch3Name</code>.</p>\n<p>Another approach would be to create proper mapping class and deserialize JSON string with a library like Jackson, but if you want just single field value taht would be an overkill.</p>\n"},{"tags":[],"owner":{"account_id":19263225,"reputation":48,"user_id":14078658,"display_name":"Suvam Banerjee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659696432,"creation_date":1659696432,"answer_id":73248540,"question_id":73247322,"body_markdown":"JsonNode jsonNode = mapper.convertValue(Obj, JsonNode.class);\r\n\r\njsonNode.path(&quot;childMap4&quot;).path(&quot;childMap3&quot;).path(&quot;ch3Name&quot;).toString();","title":"Access json nested element directly in java","body":"<p>JsonNode jsonNode = mapper.convertValue(Obj, JsonNode.class);</p>\n<p>jsonNode.path(&quot;childMap4&quot;).path(&quot;childMap3&quot;).path(&quot;ch3Name&quot;).toString();</p>\n"}],"owner":{"account_id":13208523,"reputation":47,"user_id":9539502,"display_name":"sajeeth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659696432,"creation_date":1659690636,"question_id":73247322,"body_markdown":"I have json string i want to direclty access element like `childMap4.childMap3.ch3Name` \r\nand my json string is i am not able find proper solutions.\r\n\r\n    {\r\n      &quot;is working&quot;: true,\r\n      &quot;childMap4&quot;: {\r\n        &quot;childMap3&quot;: {\r\n          &quot;childMap2&quot;: {\r\n            &quot;childMap1&quot;: {\r\n              &quot;ch1Name&quot;: &quot;childMap1&quot;\r\n            },\r\n            &quot;ch2Name&quot;: &quot;childMap2&quot;\r\n          },\r\n          &quot;ch3Name&quot;: &quot;childMap3 testing&quot;\r\n        },\r\n        &quot;ch4Name&quot;: &quot;childMap4&quot;\r\n      },\r\n      &quot;prName&quot;: &quot;parentMap&quot;,\r\n      &quot;salary&quot;: 800.23,\r\n      &quot;prName2&quot;: &quot;parentMap field 2&quot;,\r\n      &quot;age&quot;: 24\r\n    }","title":"Access json nested element directly in java","body":"<p>I have json string i want to direclty access element like <code>childMap4.childMap3.ch3Name</code>\nand my json string is i am not able find proper solutions.</p>\n<pre><code>{\n  &quot;is working&quot;: true,\n  &quot;childMap4&quot;: {\n    &quot;childMap3&quot;: {\n      &quot;childMap2&quot;: {\n        &quot;childMap1&quot;: {\n          &quot;ch1Name&quot;: &quot;childMap1&quot;\n        },\n        &quot;ch2Name&quot;: &quot;childMap2&quot;\n      },\n      &quot;ch3Name&quot;: &quot;childMap3 testing&quot;\n    },\n    &quot;ch4Name&quot;: &quot;childMap4&quot;\n  },\n  &quot;prName&quot;: &quot;parentMap&quot;,\n  &quot;salary&quot;: 800.23,\n  &quot;prName2&quot;: &quot;parentMap field 2&quot;,\n  &quot;age&quot;: 24\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":4,"creation_date":1659695954,"post_id":73248378,"comment_id":129360973,"body_markdown":"How are we supposed to improve or reduce your code without seeing it? Please share the relevant code.","body":"How are we supposed to improve or reduce your code without seeing it? Please share the relevant code."}],"answers":[{"tags":[],"owner":{"account_id":4715695,"reputation":856,"user_id":3814889,"display_name":"Andrey E"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659695964,"creation_date":1659695964,"answer_id":73248441,"question_id":73248378,"body_markdown":"If your only concern is for loop, you can try to do the following:\r\n\r\n    String[] result  = Arrays.stream(yourString.split(&quot; &quot;))\r\n        .filter(str -&gt; str.contains(&quot;CD-&quot;))\r\n        .toArray();\r\n\r\n","title":"Extracting values from String[] that has a pattern","body":"<p>If your only concern is for loop, you can try to do the following:</p>\n<pre><code>String[] result  = Arrays.stream(yourString.split(&quot; &quot;))\n    .filter(str -&gt; str.contains(&quot;CD-&quot;))\n    .toArray();\n</code></pre>\n"}],"owner":{"account_id":25372971,"reputation":43,"user_id":19186470,"display_name":"gayat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1659696920,"answer_count":1,"score":-1,"last_activity_date":1659695964,"creation_date":1659695623,"question_id":73248378,"body_markdown":"I will use examples to explain this. I have two fields. Summary and Labels. An example of Labels would be `Labels = &quot; QWE,CD-YTO, YTOU&quot;` and `Summary = &quot;CD-YTO : Some random words&quot;`.\r\n\r\nNow my code first checks labels  for any element that starts with &quot;CD-&quot; and if its present it, that&#39;s pretty much it. It takes that value, for example here it takes &quot;CD-YTO&quot;. Now, in case labels does not have any element that starts with &quot;CD-&quot; then its supposed to check summary. That&#39;s where my problem lies. \r\n\r\nThe code i developed converts summary to an `String[]` by using `.split(&quot; &quot;)` and the just check for `.contains(&quot;CD-&quot;)`. but the code complexity increased and i was told to reduce it. \r\nSummary can be like the following\r\n\r\n    &quot;CD-YTO: Some random words&quot;\r\n    &quot;CD-RTY:Some random words&quot;\r\n    &quot;CD-RTUU Some random words&quot;\r\n    &quot;cd-GFY - Some random words&quot; \r\n\r\nNow, in all the above cases, im supposed to get the &quot;CD-***&quot; part only. Using if loop for all these cases just increases the code complexity. Is there any way i can reduce that?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting values from String[] that has a pattern","body":"<p>I will use examples to explain this. I have two fields. Summary and Labels. An example of Labels would be <code>Labels = &quot; QWE,CD-YTO, YTOU&quot;</code> and <code>Summary = &quot;CD-YTO : Some random words&quot;</code>.</p>\n<p>Now my code first checks labels  for any element that starts with &quot;CD-&quot; and if its present it, that's pretty much it. It takes that value, for example here it takes &quot;CD-YTO&quot;. Now, in case labels does not have any element that starts with &quot;CD-&quot; then its supposed to check summary. That's where my problem lies.</p>\n<p>The code i developed converts summary to an <code>String[]</code> by using <code>.split(&quot; &quot;)</code> and the just check for <code>.contains(&quot;CD-&quot;)</code>. but the code complexity increased and i was told to reduce it.\nSummary can be like the following</p>\n<pre><code>&quot;CD-YTO: Some random words&quot;\n&quot;CD-RTY:Some random words&quot;\n&quot;CD-RTUU Some random words&quot;\n&quot;cd-GFY - Some random words&quot; \n</code></pre>\n<p>Now, in all the above cases, im supposed to get the &quot;CD-***&quot; part only. Using if loop for all these cases just increases the code complexity. Is there any way i can reduce that?</p>\n"},{"tags":["java","scala","microsoft-graph-api"],"comments":[{"owner":{"account_id":320730,"reputation":2396,"user_id":639153,"display_name":"Stephan"},"score":0,"creation_date":1659645906,"post_id":73153177,"comment_id":129350236,"body_markdown":"Your question needs more clarity. What documentation are you trying to follow, what is the error message, what is not working for you.","body":"Your question needs more clarity. What documentation are you trying to follow, what is the error message, what is not working for you."}],"answers":[{"tags":[],"owner":{"account_id":19263225,"reputation":48,"user_id":14078658,"display_name":"Suvam Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659695899,"creation_date":1659695899,"answer_id":73248429,"question_id":73153177,"body_markdown":"As graph token API accepts form-URL-encoded data so you should implement a separate encoderSerilizer.scala class\r\nplease refer to below link\r\nhttps://stackoverflow.com/questions/61480362/lagom-how-to-post-a-x-www-form-urlencoded\r\nthen\r\n        restCall(Method.POST, &quot;/xyz/oauth2/v2.0/token&quot;, getAuthToken).withRequestSerializer(new FormUrlEncodedSerializer)\r\n\r\n","title":"How to generate token and send mail notification with graph api using scala","body":"<p>As graph token API accepts form-URL-encoded data so you should implement a separate encoderSerilizer.scala class\nplease refer to below link\n<a href=\"https://stackoverflow.com/questions/61480362/lagom-how-to-post-a-x-www-form-urlencoded\">Lagom - how to post a x-www-form-urlencoded</a>\nthen\nrestCall(Method.POST, &quot;/xyz/oauth2/v2.0/token&quot;, getAuthToken).withRequestSerializer(new FormUrlEncodedSerializer)</p>\n"}],"owner":{"account_id":15283428,"reputation":111,"user_id":11027085,"display_name":"venkat "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659695899,"creation_date":1659012341,"question_id":73153177,"body_markdown":"How can I generate a graph api token using scala code. I have tried with python using below code I am able to generate. But I didn&#39;t found for scala. \r\n\r\n```\r\nimport requests\r\nimport sys\r\nimport os\r\nimport json\r\n\r\nTOKEN_URL = &quot;https://login.microsoftonline.com/bgd57sd-dsd-4b9d-b9c5-0f64b6755421/oauth2/token&quot;\r\nEMAIL_URL = &quot;https://graph.microsoft.com/v1.0/users/ssr_etl_np@gh.com/sendMail&quot;\r\n\r\n# generate oauth access_token\r\ndef get_access_token(url):\r\n    payload = &quot;client_id=&quot; + os.getenv(&quot;AD_APP_ID&quot;) + \\\r\n        &quot;&amp;client_secret=&quot; + os.getenv(&quot;AD_APP_SECRET&quot;) + \\\r\n        &quot;&amp;grant_type=client_credentials&quot; + \\\r\n        &quot;&amp;resource=https%3A%2F%2Fgraph.microsoft.com&quot;\r\n    headers = {\r\n        &#39;content-type&#39;: &quot;application/x-www-form-urlencoded&quot;\r\n    }\r\n    resp = requests.request(&quot;POST&quot;, url, data=payload, headers=headers)\r\n    return resp.json()[&quot;access_token&quot;]\r\n\r\naccess_token = get_access_token(TOKEN_URL)\r\n```","title":"How to generate token and send mail notification with graph api using scala","body":"<p>How can I generate a graph api token using scala code. I have tried with python using below code I am able to generate. But I didn't found for scala.</p>\n<pre><code>import requests\nimport sys\nimport os\nimport json\n\nTOKEN_URL = &quot;https://login.microsoftonline.com/bgd57sd-dsd-4b9d-b9c5-0f64b6755421/oauth2/token&quot;\nEMAIL_URL = &quot;https://graph.microsoft.com/v1.0/users/ssr_etl_np@gh.com/sendMail&quot;\n\n# generate oauth access_token\ndef get_access_token(url):\n    payload = &quot;client_id=&quot; + os.getenv(&quot;AD_APP_ID&quot;) + \\\n        &quot;&amp;client_secret=&quot; + os.getenv(&quot;AD_APP_SECRET&quot;) + \\\n        &quot;&amp;grant_type=client_credentials&quot; + \\\n        &quot;&amp;resource=https%3A%2F%2Fgraph.microsoft.com&quot;\n    headers = {\n        'content-type': &quot;application/x-www-form-urlencoded&quot;\n    }\n    resp = requests.request(&quot;POST&quot;, url, data=payload, headers=headers)\n    return resp.json()[&quot;access_token&quot;]\n\naccess_token = get_access_token(TOKEN_URL)\n</code></pre>\n"},{"tags":["java","database","selenium","selenium-webdriver","one-time-password"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610096572,"creation_date":1610095837,"answer_id":65625903,"question_id":65623592,"body_markdown":"Selenium has nothing to do with databases. You&#39;ll need another technology. For those purposes use JDBC. See https://www.tutorialspoint.com/jdbc/index.htm.\r\n\r\nMaven dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.4.1.jre8&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nOr add JDBC jars to your project.\r\n\r\nLet&#39;s say DB is on SQL Server Express with Windows authentication, DB name is &#39;MyDatabase&#39; and the table named &#39;OTP&#39; with OTPs looks like this:\r\n\r\n[![table example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JE9EY.png\r\n\r\nUsing JDBC:\r\n\r\n    package db;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class OtpManager {\r\n    \r\n    \tpublic static Connection connectSqlDb(String dbName) throws SQLException {\r\n    \t\tString serverName = &quot;PC NAME\\\\SQLEXPRESS&quot;;\r\n    \t\treturn DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + serverName + &quot;;databaseName=&quot; + dbName + &quot;;integratedSecurity=true&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static String getLastOptForUser(String userName) throws SQLException {\r\n    \t\tString otp = null;\r\n    \t\tConnection connection = connectSqlDb(&quot;MyDatabase&quot;);\r\n    \t\tStatement statement = connection.createStatement();\r\n    \t\tString query = &quot;select top (1) otp from [MyDatabase].[dbo].[OTP] where username = &#39;&quot; + userName + &quot;&#39; order by created desc&quot;;\r\n    \t\tResultSet result = statement.executeQuery(query);\r\n    \t\twhile(result.next()) {\r\n    \t\t\totp = result.getString(&quot;otp&quot;);\r\n    \t\t}\r\n    \t\treturn otp;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws SQLException {\r\n    \t\tString userName = &quot;user1&quot;;\r\n    \t\tString lastOtp = getLastOptForUser(userName);\r\n    \t\tSystem.out.println(lastOtp);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOutput:\r\n\r\n    2222\r\n\r\nIn your selenium tests you can than use the OTP value: `element.sendKeys(String string);`","title":"How can we fetch the OTP from DB in selenium webdriver java","body":"<p>Selenium has nothing to do with databases. You'll need another technology. For those purposes use JDBC. See <a href=\"https://www.tutorialspoint.com/jdbc/index.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jdbc/index.htm</a>.</p>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;8.4.1.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or add JDBC jars to your project.</p>\n<p>Let's say DB is on SQL Server Express with Windows authentication, DB name is 'MyDatabase' and the table named 'OTP' with OTPs looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JE9EY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JE9EY.png\" alt=\"table example\" /></a></p>\n<p>Using JDBC:</p>\n<pre><code>package db;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class OtpManager {\n\n    public static Connection connectSqlDb(String dbName) throws SQLException {\n        String serverName = &quot;PC NAME\\\\SQLEXPRESS&quot;;\n        return DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + serverName + &quot;;databaseName=&quot; + dbName + &quot;;integratedSecurity=true&quot;);\n    }\n    \n    public static String getLastOptForUser(String userName) throws SQLException {\n        String otp = null;\n        Connection connection = connectSqlDb(&quot;MyDatabase&quot;);\n        Statement statement = connection.createStatement();\n        String query = &quot;select top (1) otp from [MyDatabase].[dbo].[OTP] where username = '&quot; + userName + &quot;' order by created desc&quot;;\n        ResultSet result = statement.executeQuery(query);\n        while(result.next()) {\n            otp = result.getString(&quot;otp&quot;);\n        }\n        return otp;\n    }\n    \n    public static void main(String[] args) throws SQLException {\n        String userName = &quot;user1&quot;;\n        String lastOtp = getLastOptForUser(userName);\n        System.out.println(lastOtp);\n    }\n    \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2222\n</code></pre>\n<p>In your selenium tests you can than use the OTP value: <code>element.sendKeys(String string);</code></p>\n"}],"owner":{"account_id":20186126,"reputation":1,"user_id":14963498,"display_name":"Na001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":937,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659695794,"creation_date":1610081215,"question_id":65623592,"body_markdown":"Can we automate OTP using selenium webdriver ? Is there any example code logic to try on how can we fetch the OTP received in mobile from DB in order to enter in website . Appreciate any leads. Thanks","title":"How can we fetch the OTP from DB in selenium webdriver java","body":"<p>Can we automate OTP using selenium webdriver ? Is there any example code logic to try on how can we fetch the OTP received in mobile from DB in order to enter in website . Appreciate any leads. Thanks</p>\n"},{"tags":["java","spring","alfresco"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1659696754,"post_id":73247416,"comment_id":129361236,"body_markdown":"If you can avoid getting an old-fashioned `Date` object, do. Prefer a modern `Instant` , `ZonedDateTime` or `OffsetDateTime`. The `Date` class is long outdated and was always badly designed.","body":"If you can avoid getting an old-fashioned <code>Date</code> object, do. Prefer a modern <code>Instant</code> , <code>ZonedDateTime</code> or <code>OffsetDateTime</code>. The <code>Date</code> class is long outdated and was always badly designed."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659697058,"post_id":73247416,"comment_id":129361327,"body_markdown":"Your search engine should find a lot of suggestions for you. Prefer the suggestions using java.time, the modern Java date and time API. If you can&#39;t avoid getting a `Date`, use its `toInstant` method to get a modern `Instant` and do any further conversions from there.","body":"Your search engine should find a lot of suggestions for you. Prefer the suggestions using java.time, the modern Java date and time API. If you can&#39;t avoid getting a <code>Date</code>, use its <code>toInstant</code> method to get a modern <code>Instant</code> and do any further conversions from there."},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1659705997,"post_id":73247416,"comment_id":129364602,"body_markdown":"Ok, I didn&#39;t know this class was outdated! Thank you for this information!","body":"Ok, I didn&#39;t know this class was outdated! Thank you for this information!"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659695259,"creation_date":1659694956,"answer_id":73248252,"question_id":73247416,"body_markdown":"If you could use `java.time` (Java 8+ needed), you could get the default zone id of a system with\r\n\r\n```java\r\nZoneId sysDefault = ZoneId.systemDefault();\r\n```\r\n\r\nYou can get the current time with the speaking method `now()`, in this case use a `ZonedDateTime.now()` for the time in the system default zone or apply a zone to `now(ZoneId)` if you want the current time in a specific zone.\r\n\r\nHaving a zone and/or a `ZonedDateTime`, you can safely switch between zones, the conversion will be handled by the class(es). You can use `DateTimeFormatter`s in order to alter display styles, like 24h or 12h format, double-digit units or single-digit ones and so on.\r\n\r\nHere&#39;s a simple example for switching a datetime from UTC to Paris zone. The zones in this example are fixed, but you can use the system default zone id of your server instead of the Paris zone.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// define the zones needed for conversion, one for UTC\r\n\tZoneId utc = ZoneId.of(&quot;UTC&quot;);\r\n\t// and a second one for Paris\r\n\tZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\t// create date and time of day in utc\r\n\tZonedDateTime threePmUtc = ZonedDateTime.of(2022, 8, 5, 15, 0, 0, 0, utc);\r\n\t// display its time of day once\r\n\tSystem.out.println(threePmUtc.toLocalTime()\r\n\t\t\t\t\t\t\t\t .format(DateTimeFormatter.ISO_LOCAL_TIME));\r\n\t// then convert to Paris time\r\n\tZonedDateTime fivePmParis = threePmUtc.withZoneSameInstant(paris);\r\n\t// display its time of day\r\n\tSystem.out.println(fivePmParis.toLocalTime()\r\n\t\t\t\t\t\t\t\t  .format(DateTimeFormatter.ISO_LOCAL_TIME));\r\n\t/*\r\n\t * if you want more control over the output,\r\n\t * e.g. don&#39;t print seconds if they are zero or switch to 12h format,\r\n\t * then build a formatter with your desired format\r\n\t */\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h.mm a&quot;, Locale.ENGLISH);\r\n\t// and print the formatted value\r\n\tSystem.out.println(fivePmParis.toLocalTime()\r\n\t\t\t\t\t\t\t\t  .format(dtf));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n15:00:00\r\n17:00:00\r\n5.00 PM\r\n```","title":"Alfresco : Format date to current time zone","body":"<p>If you could use <code>java.time</code> (Java 8+ needed), you could get the default zone id of a system with</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId sysDefault = ZoneId.systemDefault();\n</code></pre>\n<p>You can get the current time with the speaking method <code>now()</code>, in this case use a <code>ZonedDateTime.now()</code> for the time in the system default zone or apply a zone to <code>now(ZoneId)</code> if you want the current time in a specific zone.</p>\n<p>Having a zone and/or a <code>ZonedDateTime</code>, you can safely switch between zones, the conversion will be handled by the class(es). You can use <code>DateTimeFormatter</code>s in order to alter display styles, like 24h or 12h format, double-digit units or single-digit ones and so on.</p>\n<p>Here's a simple example for switching a datetime from UTC to Paris zone. The zones in this example are fixed, but you can use the system default zone id of your server instead of the Paris zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // define the zones needed for conversion, one for UTC\n    ZoneId utc = ZoneId.of(&quot;UTC&quot;);\n    // and a second one for Paris\n    ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\n    // create date and time of day in utc\n    ZonedDateTime threePmUtc = ZonedDateTime.of(2022, 8, 5, 15, 0, 0, 0, utc);\n    // display its time of day once\n    System.out.println(threePmUtc.toLocalTime()\n                                 .format(DateTimeFormatter.ISO_LOCAL_TIME));\n    // then convert to Paris time\n    ZonedDateTime fivePmParis = threePmUtc.withZoneSameInstant(paris);\n    // display its time of day\n    System.out.println(fivePmParis.toLocalTime()\n                                  .format(DateTimeFormatter.ISO_LOCAL_TIME));\n    /*\n     * if you want more control over the output,\n     * e.g. don't print seconds if they are zero or switch to 12h format,\n     * then build a formatter with your desired format\n     */\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h.mm a&quot;, Locale.ENGLISH);\n    // and print the formatted value\n    System.out.println(fivePmParis.toLocalTime()\n                                  .format(dtf));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>15:00:00\n17:00:00\n5.00 PM\n</code></pre>\n"}],"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659695259,"creation_date":1659691026,"question_id":73247416,"body_markdown":"Let&#39;s say I have a Java &quot;Date&quot; object. I would like to convert/format it  to the current time zone of my Spring Boot/Alfresco service application.\r\n\r\nHow can  I achieve this ? I know Alfresco does it to display the date in formularies.\r\n\r\nFor example, I have a date property set to 3 pm (UTC), the system will display &quot;17:00:00&quot; (5pm, french time).\r\n\r\nI would like to get the same result but with Java.\r\n\r\nAny idea ? \r\n\r\nThank you!\r\n\r\n","title":"Alfresco : Format date to current time zone","body":"<p>Let's say I have a Java &quot;Date&quot; object. I would like to convert/format it  to the current time zone of my Spring Boot/Alfresco service application.</p>\n<p>How can  I achieve this ? I know Alfresco does it to display the date in formularies.</p>\n<p>For example, I have a date property set to 3 pm (UTC), the system will display &quot;17:00:00&quot; (5pm, french time).</p>\n<p>I would like to get the same result but with Java.</p>\n<p>Any idea ?</p>\n<p>Thank you!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":197604,"reputation":3397,"user_id":441783,"accept_rate":68,"display_name":"hese"},"score":3,"creation_date":1294843888,"post_id":4662582,"comment_id":5146396,"body_markdown":"very sorry...i am new to this.  will do it for all my posts! thanks for telling.","body":"very sorry...i am new to this.  will do it for all my posts! thanks for telling."},{"owner":{"account_id":3197479,"reputation":27823,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"score":1,"creation_date":1490282354,"post_id":4662582,"comment_id":73052298,"body_markdown":"@Tunaki no, this is not exactly duplicate of question &quot;JPA fastest way to ignore a field during persistence?&quot; (http://stackoverflow.com/questions/1281952/jpa-fastest-way-to-ignore-a-field-during-persistence) This ticket is about Hibernate, and the other one is talking about JPA instead.","body":"@Tunaki no, this is not exactly duplicate of question &quot;JPA fastest way to ignore a field during persistence?&quot; (<a href=\"http://stackoverflow.com/questions/1281952/jpa-fastest-way-to-ignore-a-field-during-persistence\" title=\"jpa fastest way to ignore a field during persistence\">stackoverflow.com/questions/1281952/&hellip;</a>) This ticket is about Hibernate, and the other one is talking about JPA instead."},{"owner":{"account_id":509205,"reputation":523,"user_id":2515808,"display_name":"Shekhar Sahu"},"score":0,"creation_date":1559061507,"post_id":4662582,"comment_id":99298323,"body_markdown":"@hese does your base class have some variables? If yes does hibernate ignore them or take into account?","body":"@hese does your base class have some variables? If yes does hibernate ignore them or take into account?"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":2,"up_vote_count":475,"is_accepted":true,"score":473,"last_activity_date":1294779932,"creation_date":1294779631,"answer_id":4662599,"question_id":4662582,"body_markdown":"JPA will use *all* properties of the class, unless you specifically mark them with `@Transient`:\r\n\r\n    @Transient\r\n    private String agencyName;\r\n \r\nThe `@Column` annotation is purely optional, and is there to let you override the auto-generated column name. Furthermore, the `length` attribute of `@Column`  is only used when auto-generating table definitions, it has no effect on the runtime.","title":"Make Hibernate ignore instance variables that are not mapped","body":"<p>JPA will use <em>all</em> properties of the class, unless you specifically mark them with <code>@Transient</code>:</p>\n\n<pre><code>@Transient\nprivate String agencyName;\n</code></pre>\n\n<p>The <code>@Column</code> annotation is purely optional, and is there to let you override the auto-generated column name. Furthermore, the <code>length</code> attribute of <code>@Column</code>  is only used when auto-generating table definitions, it has no effect on the runtime.</p>\n"},{"tags":[],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1412876353,"creation_date":1399498580,"answer_id":23528905,"question_id":4662582,"body_markdown":"For folks who find this posting through the search engines, another possible cause of this problem is from importing the wrong package version of `@Transient`.  Make sure that you import `javax.persistence.transient` and not some other package.","title":"Make Hibernate ignore instance variables that are not mapped","body":"<p>For folks who find this posting through the search engines, another possible cause of this problem is from importing the wrong package version of <code>@Transient</code>.  Make sure that you import <code>javax.persistence.transient</code> and not some other package.</p>\n"},{"tags":[],"owner":{"account_id":2534264,"reputation":1230,"user_id":2201808,"accept_rate":71,"display_name":"Saumyaraj"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1659694760,"creation_date":1462445917,"answer_id":37048838,"question_id":4662582,"body_markdown":"Placing `@Transient` on getter with private field worked for me.\r\n\r\n        private String name;\r\n    \r\n    \t@Transient\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}","title":"Make Hibernate ignore instance variables that are not mapped","body":"<p>Placing <code>@Transient</code> on getter with private field worked for me.</p>\n<pre><code>    private String name;\n\n    @Transient\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n"}],"owner":{"account_id":197604,"reputation":3397,"user_id":441783,"accept_rate":68,"display_name":"hese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216369,"favorite_count":0,"down_vote_count":2,"up_vote_count":223,"closed_date":1465484742,"accepted_answer_id":4662599,"answer_count":3,"score":221,"last_activity_date":1659694760,"creation_date":1294779544,"question_id":4662582,"body_markdown":"I thought hibernate takes into consideration only instance variables that are annotated with `@Column`.  But strangely today when I added a variable (that is not mapped to any column, just a variable i need in the class), it is trying to include that variable in the select statement as a column name and throws the error - \r\n\r\n&gt;Unknown column &#39;team1_.agencyName&#39; in &#39;field list&#39;\r\n\r\nMy class - \r\n\r\n    @Entity\r\n    @Table(name=&quot;team&quot;)\r\n    public class Team extends BaseObject implements Serializable {\r\n\r\n    @Id  @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    @Column(length=50)\r\n    private String name;\r\n    \r\n    @Column(length=10)\r\n    private String code;\r\n    \r\n    @Column(name = &quot;agency_id&quot;)\r\n    private Long agencyId;\r\n    \r\n    private String agencyName; //note: not annotated.\r\n\r\n    }\r\n\r\nFYI...I use the above class in another class with many to many mapping\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER) \r\n    @JoinTable(\r\n            name=&quot;user_team&quot;,\r\n            joinColumns = { @JoinColumn( name=&quot;user_id&quot;) },\r\n            inverseJoinColumns = @JoinColumn( name=&quot;team_id&quot;)\r\n    )    \r\n    public Set&lt;Team&gt; getTeams() {\r\n        return teams;\r\n    }\r\n\r\nWhy is this happening?!\r\n","title":"Make Hibernate ignore instance variables that are not mapped","body":"<p>I thought hibernate takes into consideration only instance variables that are annotated with <code>@Column</code>.  But strangely today when I added a variable (that is not mapped to any column, just a variable i need in the class), it is trying to include that variable in the select statement as a column name and throws the error -</p>\n<blockquote>\n<p>Unknown column 'team1_.agencyName' in 'field list'</p>\n</blockquote>\n<p>My class -</p>\n<pre><code>@Entity\n@Table(name=&quot;team&quot;)\npublic class Team extends BaseObject implements Serializable {\n\n@Id  @GeneratedValue(strategy=GenerationType.AUTO)\nprivate Long id;\n\n@Column(length=50)\nprivate String name;\n\n@Column(length=10)\nprivate String code;\n\n@Column(name = &quot;agency_id&quot;)\nprivate Long agencyId;\n\nprivate String agencyName; //note: not annotated.\n\n}\n</code></pre>\n<p>FYI...I use the above class in another class with many to many mapping</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER) \n@JoinTable(\n        name=&quot;user_team&quot;,\n        joinColumns = { @JoinColumn( name=&quot;user_id&quot;) },\n        inverseJoinColumns = @JoinColumn( name=&quot;team_id&quot;)\n)    \npublic Set&lt;Team&gt; getTeams() {\n    return teams;\n}\n</code></pre>\n<p>Why is this happening?!</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":1,"creation_date":1659612771,"post_id":73234982,"comment_id":129338730,"body_markdown":"I am pretty sure the UTF8 you see in the bottom bar correspond to the current active source-file charset, not the console&#39;s one. A quick google-search found me a github thread including this comment: https://github.com/Microsoft/vscode/issues/19837#issuecomment-290843303. I suspect you put that in the `settings.json` file. Might wanna give that a try","body":"I am pretty sure the UTF8 you see in the bottom bar correspond to the current active source-file charset, not the console&#39;s one. A quick google-search found me a github thread including this comment: <a href=\"https://github.com/Microsoft/vscode/issues/19837#issuecomment-290843303\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode/issues/19837#issuecomment-290843&zwnj;&#8203;303</a>. I suspect you put that in the <code>settings.json</code> file. Might wanna give that a try"},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1659615144,"post_id":73234982,"comment_id":129339620,"body_markdown":"Anyone else could guide me on what to do to solve this problem?","body":"Anyone else could guide me on what to do to solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659689111,"creation_date":1659689111,"answer_id":73247009,"question_id":73234982,"body_markdown":"The `UTF-8` displayed in the lower right corner of VS code is the encoding format of the **current file**, not the encoding format of the terminal.\r\n\r\n**You should check the encoding by typing `chcp` in the terminal of VS code.**\r\n\r\nThe encoding format of the terminal in vscode may be different from the system&#39;s **cmd** and **powershell** encoding. \r\n\r\nSo please check the encoding format in the terminal in **VS code**, not in the **cmd** or **powershell** window of the system\r\n\r\n#### Here is my test display:\r\n\r\n**my code:**\r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;example ●&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe encoding format of the system **cmd** window is `65001`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe encoding format of the system **powershell** window is `65001`\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut the terminal encoding in vscode is `437`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRun the result directly ( *Can&#39;t display symbols* )\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo you need to use `chcp 65001` to change the current terminal encoding format in VS code. \r\n\r\nthen run the code (  *success display symbol*)\r\n\r\n[![enter image description here][5]][5]\r\n\r\n***But this still has problems, every time you open a new terminal, you need to manually type the command `chcp 65001` to change the encoding format.***\r\n\r\nI found a way in my constant search. Add the following configuration in **settings.json**:\r\n\r\n```json\r\n    &quot;terminal.integrated.shellArgs.windows&quot;: [&quot;-noexit&quot;, &quot;chcp 65001&quot;]\r\n```\r\n\r\n*A yellow squiggly line will appear indicating that this configuration is out of date and there are now new configuration commands. Never mind, this still works.* If you want to see the new configuration, [here][6].\r\n\r\n***Note:*** After adding this configuration, you need to **restart** VS code to take effect.\r\n\r\nIn this way, when you create a new terminal, you will automatically use the command `chcp 65001` to change the encoding to `65001`\r\n\r\n[![enter image description here][7]][7]\r\n\r\n**Now run the code directly, the symbols can be displayed**\r\n\r\n[![enter image description here][8]][8]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B6ieo.png\r\n  [2]: https://i.stack.imgur.com/9EKBp.png\r\n  [3]: https://i.stack.imgur.com/zrz9E.png\r\n  [4]: https://i.stack.imgur.com/dNp48.png\r\n  [5]: https://i.stack.imgur.com/IJSjZ.png\r\n  [6]: https://code.visualstudio.com/docs/terminal/basics#_terminal-profiles\r\n  [7]: https://i.stack.imgur.com/G2piC.png\r\n  [8]: https://i.stack.imgur.com/etGYo.png","title":"VSCode Java UTF-8 does not print characters to the console","body":"<p>The <code>UTF-8</code> displayed in the lower right corner of VS code is the encoding format of the <strong>current file</strong>, not the encoding format of the terminal.</p>\n<p><strong>You should check the encoding by typing <code>chcp</code> in the terminal of VS code.</strong></p>\n<p>The encoding format of the terminal in vscode may be different from the system's <strong>cmd</strong> and <strong>powershell</strong> encoding.</p>\n<p>So please check the encoding format in the terminal in <strong>VS code</strong>, not in the <strong>cmd</strong> or <strong>powershell</strong> window of the system</p>\n<h4>Here is my test display:</h4>\n<p><strong>my code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        System.out.println(&quot;example ●&quot;);\n    }\n}\n</code></pre>\n<p>The encoding format of the system <strong>cmd</strong> window is <code>65001</code></p>\n<p><a href=\"https://i.stack.imgur.com/B6ieo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6ieo.png\" alt=\"enter image description here\" /></a></p>\n<p>The encoding format of the system <strong>powershell</strong> window is <code>65001</code></p>\n<p><a href=\"https://i.stack.imgur.com/9EKBp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EKBp.png\" alt=\"enter image description here\" /></a></p>\n<p>But the terminal encoding in vscode is <code>437</code></p>\n<p><a href=\"https://i.stack.imgur.com/zrz9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrz9E.png\" alt=\"enter image description here\" /></a></p>\n<p>Run the result directly ( <em>Can't display symbols</em> )</p>\n<p><a href=\"https://i.stack.imgur.com/dNp48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNp48.png\" alt=\"enter image description here\" /></a></p>\n<p>So you need to use <code>chcp 65001</code> to change the current terminal encoding format in VS code.</p>\n<p>then run the code (  <em>success display symbol</em>)</p>\n<p><a href=\"https://i.stack.imgur.com/IJSjZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IJSjZ.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>But this still has problems, every time you open a new terminal, you need to manually type the command <code>chcp 65001</code> to change the encoding format.</strong></em></p>\n<p>I found a way in my constant search. Add the following configuration in <strong>settings.json</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;terminal.integrated.shellArgs.windows&quot;: [&quot;-noexit&quot;, &quot;chcp 65001&quot;]\n</code></pre>\n<p><em>A yellow squiggly line will appear indicating that this configuration is out of date and there are now new configuration commands. Never mind, this still works.</em> If you want to see the new configuration, <a href=\"https://code.visualstudio.com/docs/terminal/basics#_terminal-profiles\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><em><strong>Note:</strong></em> After adding this configuration, you need to <strong>restart</strong> VS code to take effect.</p>\n<p>In this way, when you create a new terminal, you will automatically use the command <code>chcp 65001</code> to change the encoding to <code>65001</code></p>\n<p><a href=\"https://i.stack.imgur.com/G2piC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2piC.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Now run the code directly, the symbols can be displayed</strong></p>\n<p><a href=\"https://i.stack.imgur.com/etGYo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/etGYo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73247009,"answer_count":1,"score":1,"last_activity_date":1659694748,"creation_date":1659611866,"question_id":73234982,"body_markdown":"I have a problem with encoding Java System Output occurring only in Visual Studio Code.\r\n\r\nLike you can see in the image below bullet print as ?\r\n\r\nEclipse and IntelliJ print the bullet point just fine.\r\n\r\nMy program is very simple:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Things I have tried/checked:**\r\n 1. chcp:\r\n[![List item][2]][2]\r\n\r\n 2. UTF8 is set:\r\n[![enter image description here][3]][3]\r\n\r\n 3. I only have the Java Extension Pack by Microsoft installed.\r\n\r\n 4. It is a fresh new file created from VScode.\r\n\r\n 5. The chcp inside VSCode terminal is Active code page: 65001\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3uVc7.png\r\n  [2]: https://i.stack.imgur.com/mnAS1.png\r\n  [3]: https://i.stack.imgur.com/XarIp.png\r\n  [4]: https://i.stack.imgur.com/wINqe.png","title":"VSCode Java UTF-8 does not print characters to the console","body":"<p>I have a problem with encoding Java System Output occurring only in Visual Studio Code.</p>\n<p>Like you can see in the image below bullet print as ?</p>\n<p>Eclipse and IntelliJ print the bullet point just fine.</p>\n<p>My program is very simple:\n<a href=\"https://i.stack.imgur.com/3uVc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3uVc7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Things I have tried/checked:</strong></p>\n<ol>\n<li><p>chcp:\n<a href=\"https://i.stack.imgur.com/mnAS1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mnAS1.png\" alt=\"List item\" /></a></p>\n</li>\n<li><p>UTF8 is set:\n<a href=\"https://i.stack.imgur.com/XarIp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XarIp.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I only have the Java Extension Pack by Microsoft installed.</p>\n</li>\n<li><p>It is a fresh new file created from VScode.</p>\n</li>\n<li><p>The chcp inside VSCode terminal is Active code page: 65001\n<a href=\"https://i.stack.imgur.com/wINqe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wINqe.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","maven","java-9","module-path"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1498136592,"post_id":44697738,"comment_id":76383196,"body_markdown":"Which exact version of JDK9 are you using?","body":"Which exact version of JDK9 are you using?"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1498136681,"post_id":44697738,"comment_id":76383258,"body_markdown":"latest early access","body":"latest early access"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1498182321,"post_id":44697738,"comment_id":76406282,"body_markdown":"@hudi Most recent build: jdk-9+175, could you confirm ?","body":"@hudi Most recent build: jdk-9+175, could you confirm ?"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1498200753,"post_id":44697738,"comment_id":76412073,"body_markdown":"yes build: jdk-9+175","body":"yes build: jdk-9+175"}],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1592799276,"creation_date":1498811713,"answer_id":44842117,"question_id":44697738,"body_markdown":"The problem is that your module path contains the same package (`javax.annotation`) in different modules (_java.xml.ws.annotation_ and _tomcat.embed.core_), which the module system forbids in order to make configurations more reliable. This is called a [split package](https://blog.codefx.org/java/java-9-migration-guide/#Split-Packages). The module system tells you as much when listing all the modules that read (i.e. &quot;see&quot;) that package twice. So what to do now?\r\n\r\nThe first order of business would be to check whether both packages contain the same classes. If yes, you&#39;re in luck. Now all you need to do is make sure the module system only sees one of those, for which there are two possibilities:\r\n\r\n* If from one of the modules, you only need the one package and nothing else, take it out of your configuration and use the other one instead. Maybe you can stop explicitly requiring _java.xml.ws.annotation_?\r\n* If you put _tomcat.embed.core_ on the classpath, its version of the package will be completely ignored and the entire system, _including the code on the class path_ will only see the package in _java.xml.ws.annotation_.\r\n\r\nIf both variants of the package contain types that (a) the other does not contain and (b) your application needs, you&#39;re in a tougher situation. First of all, that raises the suspicion that _tomcat.embed.core_ did something fishy (although I&#39;m not sure about that). The only thing I know could help could be the [non-standard `javac` option `--patch-module`](https://blog.codefx.org/java/java-9-migration-guide/#fixes-2).","title":"How to resolve module reads package error in java9","body":"<p>The problem is that your module path contains the same package (<code>javax.annotation</code>) in different modules (<em>java.xml.ws.annotation</em> and <em>tomcat.embed.core</em>), which the module system forbids in order to make configurations more reliable. This is called a <a href=\"https://blog.codefx.org/java/java-9-migration-guide/#Split-Packages\" rel=\"noreferrer\">split package</a>. The module system tells you as much when listing all the modules that read (i.e. &quot;see&quot;) that package twice. So what to do now?</p>\n<p>The first order of business would be to check whether both packages contain the same classes. If yes, you're in luck. Now all you need to do is make sure the module system only sees one of those, for which there are two possibilities:</p>\n<ul>\n<li>If from one of the modules, you only need the one package and nothing else, take it out of your configuration and use the other one instead. Maybe you can stop explicitly requiring <em>java.xml.ws.annotation</em>?</li>\n<li>If you put <em>tomcat.embed.core</em> on the classpath, its version of the package will be completely ignored and the entire system, <em>including the code on the class path</em> will only see the package in <em>java.xml.ws.annotation</em>.</li>\n</ul>\n<p>If both variants of the package contain types that (a) the other does not contain and (b) your application needs, you're in a tougher situation. First of all, that raises the suspicion that <em>tomcat.embed.core</em> did something fishy (although I'm not sure about that). The only thing I know could help could be the <a href=\"https://blog.codefx.org/java/java-9-migration-guide/#fixes-2\" rel=\"noreferrer\">non-standard <code>javac</code> option <code>--patch-module</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":3583455,"reputation":1884,"user_id":2991105,"display_name":"Erunafailaro"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1510124805,"creation_date":1510124805,"answer_id":47173534,"question_id":44697738,"body_markdown":"In case of Spring Boot and embedded Tomcat, I faced a similar issue. There is a split package, that is included in `javax.annotation:javax.annotation-api` as well as in `org.apache.tomcat:tomcat-annotations-api`.\r\n\r\n`javax.annotation:javax.annotation-api` is a transitive dependency of `org.springframework.boot:spring-boot-starter-web`.\r\n\r\nIn order to fix this for the particular case of Spring Boot and embedded Tomcat, adding the dependencies as shown below was the solution. I removed the dependency of `javax.annotation-api` explicitly. This works because `tomcat-annotations-api` provides all required packages and classes as well.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;!-- served by tomcat-annotations-api instead --&gt;\r\n                    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-annotations-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"How to resolve module reads package error in java9","body":"<p>In case of Spring Boot and embedded Tomcat, I faced a similar issue. There is a split package, that is included in <code>javax.annotation:javax.annotation-api</code> as well as in <code>org.apache.tomcat:tomcat-annotations-api</code>.</p>\n\n<p><code>javax.annotation:javax.annotation-api</code> is a transitive dependency of <code>org.springframework.boot:spring-boot-starter-web</code>.</p>\n\n<p>In order to fix this for the particular case of Spring Boot and embedded Tomcat, adding the dependencies as shown below was the solution. I removed the dependency of <code>javax.annotation-api</code> explicitly. This works because <code>tomcat-annotations-api</code> provides all required packages and classes as well.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;!-- served by tomcat-annotations-api instead --&gt;\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-annotations-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564573883,"creation_date":1510415414,"answer_id":47239794,"question_id":44697738,"body_markdown":"I got following error:\r\n\r\n&gt; [ERROR] module hibernate.core reads package org.hibernate.dialect from both ParentProject and hibernate.core\r\n\r\nwhen trying to execute mvn clean install for my project `ParentProject`.\r\nThe auto generated `module-info.java` for `ParentProject` contained the entries\r\n\r\n    ...\r\n    exports hibernate.core;\r\n    ...\r\n    requires ChildProject;\r\n    ...\r\n\r\nThe `module-info.java` of `ChildProject` contains\r\n\r\n    requires hibernate.core;\r\n\r\n\r\nRemoving the line `exports hibernate.core;` from the `ParentProject` resolved the issue for me.\r\n\r\n=&gt; Be careful with auto-generated module-info.java in Eclipse.","title":"How to resolve module reads package error in java9","body":"<p>I got following error:</p>\n\n<blockquote>\n  <p>[ERROR] module hibernate.core reads package org.hibernate.dialect from both ParentProject and hibernate.core</p>\n</blockquote>\n\n<p>when trying to execute mvn clean install for my project <code>ParentProject</code>.\nThe auto generated <code>module-info.java</code> for <code>ParentProject</code> contained the entries</p>\n\n<pre><code>...\nexports hibernate.core;\n...\nrequires ChildProject;\n...\n</code></pre>\n\n<p>The <code>module-info.java</code> of <code>ChildProject</code> contains</p>\n\n<pre><code>requires hibernate.core;\n</code></pre>\n\n<p>Removing the line <code>exports hibernate.core;</code> from the <code>ParentProject</code> resolved the issue for me.</p>\n\n<p>=> Be careful with auto-generated module-info.java in Eclipse.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31414,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"answer_count":3,"score":38,"last_activity_date":1659694687,"creation_date":1498129987,"question_id":44697738,"body_markdown":"I am trying to understand new modularity in java 9 with spring-boot so I want to run some simple application for example: https://github.com/tmatyashovsky/java9-springboot\r\n\r\nI am using maven 3.5.0 with java 9:\r\n\r\n    Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T21:39:06+02:00)\r\n    Maven home: ~/soft/apache-maven-3.5.0\r\n    Java version: 9-ea, vendor: Oracle Corporation\r\n    Java home: /usr/lib/jvm/java-9-oracle\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;4.4.0-79-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nProblem is I still got some exception. What does it mean and how should I fix it ?\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project api: Compilation failure: Compilation failure: \r\n    [ERROR] module  reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.jcl reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.aop reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.expression reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.starter.web reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.starter reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.autoconfigure reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.starter.logging reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module logback.classic reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module logback.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module slf4j.api reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jul.to.slf4j reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module log4j.over.slf4j reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.starter.json reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.databind reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.annotations reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.datatype.jdk8 reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.datatype.jsr310 reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jackson.module.parameter.names reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.boot.starter.tomcat reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module tomcat.embed.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module tomcat.embed.el reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module tomcat.embed.websocket reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module hibernate.validator reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module validation.api reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module jboss.logging reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module classmate reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.web reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.webmvc reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.context reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module spring.beans reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\r\n    [ERROR] module com.lohika.morning.java9modules.service reads package javax.annotation from both java.xml.ws.annotation and tomcat.embed.core\r\n\r\n","title":"How to resolve module reads package error in java9","body":"<p>I am trying to understand new modularity in java 9 with spring-boot so I want to run some simple application for example: <a href=\"https://github.com/tmatyashovsky/java9-springboot\" rel=\"noreferrer\">https://github.com/tmatyashovsky/java9-springboot</a></p>\n\n<p>I am using maven 3.5.0 with java 9:</p>\n\n<pre><code>Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T21:39:06+02:00)\nMaven home: ~/soft/apache-maven-3.5.0\nJava version: 9-ea, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-9-oracle\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.4.0-79-generic\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>Problem is I still got some exception. What does it mean and how should I fix it ?</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project api: Compilation failure: Compilation failure: \n[ERROR] module  reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.jcl reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.aop reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.expression reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.starter.web reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.starter reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.autoconfigure reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.starter.logging reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module logback.classic reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module logback.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module slf4j.api reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jul.to.slf4j reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module log4j.over.slf4j reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.starter.json reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.databind reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.annotations reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.datatype.jdk8 reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.datatype.jsr310 reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jackson.module.parameter.names reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.boot.starter.tomcat reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module tomcat.embed.core reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module tomcat.embed.el reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module tomcat.embed.websocket reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module hibernate.validator reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module validation.api reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module jboss.logging reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module classmate reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.web reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.webmvc reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.context reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module spring.beans reads package javax.annotation from both tomcat.embed.core and java.xml.ws.annotation\n[ERROR] module com.lohika.morning.java9modules.service reads package javax.annotation from both java.xml.ws.annotation and tomcat.embed.core\n</code></pre>\n"},{"tags":["java","sql","stored-procedures","jdbc","db2"],"comments":[{"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"score":1,"creation_date":1377867216,"post_id":18531206,"comment_id":27256972,"body_markdown":"The problem seems to be in the sql sentence you&#39;re trying to execute. I mean, is an error from DB2, not java. Probably we gonna need the whole sql statement to identify where the error is.","body":"The problem seems to be in the sql sentence you&#39;re trying to execute. I mean, is an error from DB2, not java. Probably we gonna need the whole sql statement to identify where the error is."},{"owner":{"account_id":2554606,"reputation":103,"user_id":2216886,"accept_rate":47,"display_name":"123HIS"},"score":1,"creation_date":1377879754,"post_id":18531206,"comment_id":27264527,"body_markdown":"Hi, U r right.. the problem was in Query. I corrected. Thank u.","body":"Hi, U r right.. the problem was in Query. I corrected. Thank u."}],"answers":[{"tags":[],"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378386608,"creation_date":1377861244,"answer_id":18531544,"question_id":18531206,"body_markdown":"Little off-topic: You should use `CallableStatement` instead if you want to call a store procedure (see [documentation](http://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html)):\r\n\r\n    CallableStatement callableStatement = connection.prepareCall(&quot;{call opptymgmt.Load_SiebelOpportunity}&quot;);\r\n    ResultSet rs = callableStatement.executeQuery();\r\n\r\nI would also suggest you check this topic [How to properly clean up JDBC resources in Java?](https://stackoverflow.com/questions/4508172/how-to-properly-clean-up-jdbc-resources-in-java). It was very helpful to me.\r\n\r\n**Update**: based on this stack trace:\r\n\r\n    com.ibm.db2.jcc.am.mo: DB2 SQL Error: SQLCODE=-104, SQLSTATE=42601, SQLERRMC=MERGE INTO OPPTYMGMT.REVENUE_VALIDAT;BEGIN-OF-STATEMENT;&lt;variable_set&gt;, DRIVER=4.7.85 \r\n\r\nThe problem seems to be in the sql sentence you&#39;re trying to execute. I mean, is an error from DB2, not java. You should check your sql statement.","title":"How to call Stored Procedure and prepared statement","body":"<p>Little off-topic: You should use <code>CallableStatement</code> instead if you want to call a store procedure (see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n\n<pre><code>CallableStatement callableStatement = connection.prepareCall(\"{call opptymgmt.Load_SiebelOpportunity}\");\nResultSet rs = callableStatement.executeQuery();\n</code></pre>\n\n<p>I would also suggest you check this topic <a href=\"https://stackoverflow.com/questions/4508172/how-to-properly-clean-up-jdbc-resources-in-java\">How to properly clean up JDBC resources in Java?</a>. It was very helpful to me.</p>\n\n<p><strong>Update</strong>: based on this stack trace:</p>\n\n<pre><code>com.ibm.db2.jcc.am.mo: DB2 SQL Error: SQLCODE=-104, SQLSTATE=42601, SQLERRMC=MERGE INTO OPPTYMGMT.REVENUE_VALIDAT;BEGIN-OF-STATEMENT;&lt;variable_set&gt;, DRIVER=4.7.85 \n</code></pre>\n\n<p>The problem seems to be in the sql sentence you're trying to execute. I mean, is an error from DB2, not java. You should check your sql statement.</p>\n"},{"tags":[],"owner":{"account_id":22462869,"reputation":96,"user_id":16664469,"display_name":"Shameel Perayil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659694517,"creation_date":1659682654,"answer_id":73245814,"question_id":18531206,"body_markdown":"I got it working in this method:\r\n\r\n     PreparedStatement myStmt = conn.prepareStatement(sqlQuery);\r\n        myStmt.setInt(1, id); //position of parameter (1,2,3....) , value\r\n        \r\n         ResultSet rs = myStmt.executeQuery();\r\n           \r\n        while (rs.next()) {\r\n            int jobId = rs.getInt(&quot;jobId&quot;); ....... }\r\n","title":"How to call Stored Procedure and prepared statement","body":"<p>I got it working in this method:</p>\n<pre><code> PreparedStatement myStmt = conn.prepareStatement(sqlQuery);\n    myStmt.setInt(1, id); //position of parameter (1,2,3....) , value\n    \n     ResultSet rs = myStmt.executeQuery();\n       \n    while (rs.next()) {\n        int jobId = rs.getInt(&quot;jobId&quot;); ....... }\n</code></pre>\n"}],"owner":{"account_id":2554606,"reputation":103,"user_id":2216886,"accept_rate":47,"display_name":"123HIS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26164,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1659694517,"creation_date":1377860195,"question_id":18531206,"body_markdown":"In the below code I want to call one stored procedures and execute one Query. I am facing error at `statement.executeUpdate();` Please help in fixing it. I am not sure where it going wrong.\r\n\r\n\r\n\r\n    public void Dbexe() {\r\n\t\t\r\n\t\tConnection connection;\r\n\t\tconnection = DatabaseConnection.getCon();\r\n\t\t CallableStatement stmt;\r\n\t\ttry {\r\n\t\t\tstmt = connection.prepareCall(&quot;{CALL optg.Ld_SOpp}&quot;);\r\n\t\t\tstmt.executeUpdate();\r\n\t\t\tstmt.close();\r\n\t\t} catch (SQLException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t \r\n\t\t System.out.println(&quot;Stored Procedure executed&quot;);\r\n\t\t \r\n\t\t //PreparedStatement statement = null;\r\n\t\t// ResultSet rs = null;\r\n\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\r\n\t\t PreparedStatement statement;\r\n\t\ttry {\r\n\t\t\tstatement = connection.prepareStatement(&quot;MERGE INTO OPTG.R_VAL AS TARGET USING&quot; + \r\n\t\t\t      ........... +\r\n\t\t\t     &quot;&quot;);\r\n\t\t\t\r\n\t\t\t statement.executeUpdate(); //Here the exception is thrown\t\r\n\t\t\t statement.close();\r\n\t\t\t \r\n\t\t\t connection.commit();\r\n\t\t\t connection.close();\r\n\t\t\t\r\n\t\t\t \r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}   \r\n\t\t \r\n\t\t// statement = connection.prepareStatement(query);\r\n\t\t\r\n\t\t //statement.close();\r\n\t\t \r\n\t\t}\r\n\t\t\r\n\t\tfinally{\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Data is copied to the  Table&quot;);\r\n\t\t\t\r\n\t            }\t \r\n\t\t\r\n     }\r\n\r\n    ","title":"How to call Stored Procedure and prepared statement","body":"<p>In the below code I want to call one stored procedures and execute one Query. I am facing error at <code>statement.executeUpdate();</code> Please help in fixing it. I am not sure where it going wrong.</p>\n\n<pre><code>public void Dbexe() {\n\n    Connection connection;\n    connection = DatabaseConnection.getCon();\n     CallableStatement stmt;\n    try {\n        stmt = connection.prepareCall(\"{CALL optg.Ld_SOpp}\");\n        stmt.executeUpdate();\n        stmt.close();\n    } catch (SQLException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n\n     System.out.println(\"Stored Procedure executed\");\n\n     //PreparedStatement statement = null;\n    // ResultSet rs = null;\n\n    try{\n\n\n     PreparedStatement statement;\n    try {\n        statement = connection.prepareStatement(\"MERGE INTO OPTG.R_VAL AS TARGET USING\" + \n              ........... +\n             \"\");\n\n         statement.executeUpdate(); //Here the exception is thrown  \n         statement.close();\n\n         connection.commit();\n         connection.close();\n\n\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }   \n\n    // statement = connection.prepareStatement(query);\n\n     //statement.close();\n\n    }\n\n    finally{\n\n        System.out.println(\"Data is copied to the  Table\");\n\n            }    \n\n }\n</code></pre>\n"},{"tags":["java","http","networking","inputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659654616,"post_id":73241806,"comment_id":129352107,"body_markdown":"Because if you don&#39;t, you will read it next time you use the persistent connection, i.e. get it mixed up with the next one; or, if you close the connection first, the peer will encounter a &#39;connection reset&#39;. Of course the API may mitigate that by reading it for you when you close.","body":"Because if you don&#39;t, you will read it next time you use the persistent connection, i.e. get it mixed up with the next one; or, if you close the connection first, the peer will encounter a &#39;connection reset&#39;. Of course the API may mitigate that by reading it for you when you close."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659652189,"creation_date":1659652189,"answer_id":73242826,"question_id":73241806,"body_markdown":"I believe the intent of this code is indeed to consume the response body so that the connection can be reused. However, I&#39;m not sure that this approach is correct; it is also likely to depend on the version of Java you are using.\r\n\r\nFirst, it should suffice to get the connection&#39;s `InputStream` and close it; behind the scenes, the body still needs to be read, but closing the stream signals to the connection handler that the application wants to skip the body, and the handler can read and discard the content before putting the connection into a cache for re-use.\r\n\r\nHowever, depending on the status, there could be an error stream instead of an input stream. Even in this case, the body needs to be consumed before the connection can be re-used, but many applications (like this one) don&#39;t bother reading the body of an error message. Since Java 7, however, if the error body is small enough, it will be consumed and buffered automatically.\r\n\r\nBehind the scenes, a connection cache is used to retain open connections. Although the method names suggest a new connection is opened every time, in fact the cache is first checked for an open connection.","title":"Why is it important to read the response body of an HTTP request?","body":"<p>I believe the intent of this code is indeed to consume the response body so that the connection can be reused. However, I'm not sure that this approach is correct; it is also likely to depend on the version of Java you are using.</p>\n<p>First, it should suffice to get the connection's <code>InputStream</code> and close it; behind the scenes, the body still needs to be read, but closing the stream signals to the connection handler that the application wants to skip the body, and the handler can read and discard the content before putting the connection into a cache for re-use.</p>\n<p>However, depending on the status, there could be an error stream instead of an input stream. Even in this case, the body needs to be consumed before the connection can be re-used, but many applications (like this one) don't bother reading the body of an error message. Since Java 7, however, if the error body is small enough, it will be consumed and buffered automatically.</p>\n<p>Behind the scenes, a connection cache is used to retain open connections. Although the method names suggest a new connection is opened every time, in fact the cache is first checked for an open connection.</p>\n"}],"owner":{"account_id":2440167,"reputation":1156,"user_id":2128915,"accept_rate":64,"display_name":"Fiery Phoenix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73242826,"answer_count":1,"score":0,"last_activity_date":1659694455,"creation_date":1659644199,"question_id":73241806,"body_markdown":"Learning about HTTP requests in Java. I&#39;d like to know if reading the response body is essential to keeping a connection alive.\r\n\r\nHere&#39;s an example code block (which posts a message to some URL):\r\n\r\n    private void writeToConnection(String url, String msg) throws IOException {\r\n    \ttry {\r\n    \t\tHttpURLConnection connection = open(url);\r\n    \t\t// &quot;Try with resources&quot; \r\n    \t\ttry (BufferedWriter writer = new BufferedWriter(\r\n    \t\t\t\tnew OutputStreamWriter(connection.getOutputStream()))) {\r\n    \t\t\twriter.write(msg);\r\n    \t\t}\r\n            // Why do I need this line? \r\n    \t\tIOUtils.readStringFromStream(connection.getInputStream());\r\n    \t\tint code = connection.getResponseCode(); \r\n    \t\tSystem.out.println(String.format(&quot;Returned response code %d.&quot;, code));\r\n    \t} catch (IOException e) { \r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nWhy is it necessary to read the input stream? The method `readStringFromStream` is returning a string but the string is not being assigned to anything. Does this ensure the connection stays alive? If so, how does the connection stay alive when the first line in the method opens a new connection? If the next batch of data to be written invokes this method, wouldn&#39;t that discard the old connection and open a new one?","title":"Why is it important to read the response body of an HTTP request?","body":"<p>Learning about HTTP requests in Java. I'd like to know if reading the response body is essential to keeping a connection alive.</p>\n<p>Here's an example code block (which posts a message to some URL):</p>\n<pre><code>private void writeToConnection(String url, String msg) throws IOException {\n    try {\n        HttpURLConnection connection = open(url);\n        // &quot;Try with resources&quot; \n        try (BufferedWriter writer = new BufferedWriter(\n                new OutputStreamWriter(connection.getOutputStream()))) {\n            writer.write(msg);\n        }\n        // Why do I need this line? \n        IOUtils.readStringFromStream(connection.getInputStream());\n        int code = connection.getResponseCode(); \n        System.out.println(String.format(&quot;Returned response code %d.&quot;, code));\n    } catch (IOException e) { \n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Why is it necessary to read the input stream? The method <code>readStringFromStream</code> is returning a string but the string is not being assigned to anything. Does this ensure the connection stays alive? If so, how does the connection stay alive when the first line in the method opens a new connection? If the next batch of data to be written invokes this method, wouldn't that discard the old connection and open a new one?</p>\n"},{"tags":["java","python","jython","graalvm"],"answers":[{"tags":[],"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1565092411,"creation_date":1565092411,"answer_id":57375486,"question_id":57362766,"body_markdown":"You should be able to run any GraalVM language on any JDK as their are just Java programs. However, the performance will be affected a lot. Moreover, languages like python consist of additional resources (standard library files, etc.) that you would have pull from GraalVM too. \r\n\r\nThis document about GraalVM JavaScript discusses this in more detail and describes how to run GraalVM JavaScript on stock JDK without compromising the performance. Some of it can be applicable to GraalPython.\r\n\r\nhttps://github.com/graalvm/graaljs/blob/master/docs/user/RunOnJDK.md\r\n\r\nTl;dr: it will be much easier to use GraalVM. It&#39;s full JDK distribution. You are not missing on anything. If you can&#39;t, there are some ways. ","title":"Using GraalPython as a Jython replacement","body":"<p>You should be able to run any GraalVM language on any JDK as their are just Java programs. However, the performance will be affected a lot. Moreover, languages like python consist of additional resources (standard library files, etc.) that you would have pull from GraalVM too. </p>\n\n<p>This document about GraalVM JavaScript discusses this in more detail and describes how to run GraalVM JavaScript on stock JDK without compromising the performance. Some of it can be applicable to GraalPython.</p>\n\n<p><a href=\"https://github.com/graalvm/graaljs/blob/master/docs/user/RunOnJDK.md\" rel=\"nofollow noreferrer\">https://github.com/graalvm/graaljs/blob/master/docs/user/RunOnJDK.md</a></p>\n\n<p>Tl;dr: it will be much easier to use GraalVM. It's full JDK distribution. You are not missing on anything. If you can't, there are some ways. </p>\n"}],"owner":{"account_id":960659,"reputation":2398,"user_id":985087,"accept_rate":100,"display_name":"pintoch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57375486,"answer_count":1,"score":2,"last_activity_date":1659694391,"creation_date":1565023315,"question_id":57362766,"body_markdown":"I wonder if it is possible to use [GraalPython](https://github.com/graalvm/graalpython) as a Java library to interpret Python code on a standard JVM. If so, would it be a good choice to replace [Jython](https://jython.github.io/) (which only supports Python 2.7)?\r\n\r\nIs this possible without importing the entire GraalVM project? I expect only [Truffle](https://www.graalvm.org/truffle/javadoc/com/oracle/truffle/api/TruffleLanguage.html) and the Python interpreter built on top of it should be necessary.\r\n\r\nIf this is not possible, are there any good Java implementations of Python 3 available?","title":"Using GraalPython as a Jython replacement","body":"<p>I wonder if it is possible to use <a href=\"https://github.com/graalvm/graalpython\" rel=\"nofollow noreferrer\">GraalPython</a> as a Java library to interpret Python code on a standard JVM. If so, would it be a good choice to replace <a href=\"https://jython.github.io/\" rel=\"nofollow noreferrer\">Jython</a> (which only supports Python 2.7)?</p>\n<p>Is this possible without importing the entire GraalVM project? I expect only <a href=\"https://www.graalvm.org/truffle/javadoc/com/oracle/truffle/api/TruffleLanguage.html\" rel=\"nofollow noreferrer\">Truffle</a> and the Python interpreter built on top of it should be necessary.</p>\n<p>If this is not possible, are there any good Java implementations of Python 3 available?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1622635186,"post_id":67804608,"comment_id":119847386,"body_markdown":"&quot;*I&#39;d much rather have the compiler as a friend at all times in life.*&quot; - Even with the expression, you have the compiler by your side. MapStruct writes .java files, which are then compiled by the compiler. If you were to have a syntax error in the expression, you would get a compilation error.","body":"&quot;<i>I&#39;d much rather have the compiler as a friend at all times in life.</i>&quot; - Even with the expression, you have the compiler by your side. MapStruct writes .java files, which are then compiled by the compiler. If you were to have a syntax error in the expression, you would get a compilation error."},{"owner":{"account_id":1027355,"reputation":2721,"user_id":1036386,"accept_rate":91,"display_name":"Kalec"},"score":0,"creation_date":1622635695,"post_id":67804608,"comment_id":119847594,"body_markdown":"Still, I did mention the usecase of having long code. Several lines maybe? What if I just want to call a method and nothing else?","body":"Still, I did mention the usecase of having long code. Several lines maybe? What if I just want to call a method and nothing else?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1622635923,"post_id":67804608,"comment_id":119847700,"body_markdown":"this can - as far as I know - done through an `expression`, coupled with a `default` method as well.","body":"this can - as far as I know - done through an <code>expression</code>, coupled with a <code>default</code> method as well."},{"owner":{"account_id":11078779,"reputation":447,"user_id":8134589,"display_name":"Guy Sadoun"},"score":0,"creation_date":1622640036,"post_id":67804608,"comment_id":119849772,"body_markdown":"did you try to override hashCode function of your class?","body":"did you try to override hashCode function of your class?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1622644702,"post_id":67804608,"comment_id":119852197,"body_markdown":"&quot;*Again, `expression` is not a valid answer, please do not propose it. UNLESS you can do `expression = &quot;java(generateUuid())&quot;`?*&quot; - Why not try it out?","body":"&quot;<i>Again, <code>expression</code> is not a valid answer, please do not propose it. UNLESS you can do <code>expression = &quot;java(generateUuid())&quot;</code>?</i>&quot; - Why not try it out?"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659694058,"creation_date":1622707225,"answer_id":67817638,"question_id":67804608,"body_markdown":"MapStruct is about mapping between different objects. That&#39;s why you can&#39;t use an empty method (without `expression`). \r\n\r\nWhat I would suggest is to indeed use `Mapping#expression`. However, to simplify it for you, you can use something like:\r\n\r\n```\r\npublic class MappingUtils {\r\n\r\n    public static String GENERATE_UUID_EXPRESSION = &quot;java(&lt;package&gt;.MappingUtils.generateUuid())&quot;\r\n\r\n\r\n    public static String generateUuid() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then in your mappers you can do:\r\n\r\n```\r\n@Mapper\r\npublic interface MyMapper {\r\n\r\n    @Mapping(target = &quot;trackId&quot;, expression = MappingUtils. GENERATE_UUID_EXPRESSION)\r\n    FileUploadRequest inventoryToFileUpload(Inventory inventory);\r\n\r\n}\r\n```\r\n\r\nDoing this you have the expression in a single place and you have a a method that performs the generation.\r\n\r\nThe generated code will use the full qualified name of the `MappingUtils`. In case you want to avoid that you will need to add `MappingUtils` to `Mapper#imports` and then use `MappingUtils.class.getName()` instead in your expression.\r\n\r\nNote: You&#39;ll need to replace what is in `&lt;package&gt;` with the package location of the `MappingUtils`.","title":"Generate ID for mapped item","body":"<p>MapStruct is about mapping between different objects. That's why you can't use an empty method (without <code>expression</code>).</p>\n<p>What I would suggest is to indeed use <code>Mapping#expression</code>. However, to simplify it for you, you can use something like:</p>\n<pre><code>public class MappingUtils {\n\n    public static String GENERATE_UUID_EXPRESSION = &quot;java(&lt;package&gt;.MappingUtils.generateUuid())&quot;\n\n\n    public static String generateUuid() {\n        return UUID.randomUUID().toString();\n    }\n\n}\n</code></pre>\n<p>And then in your mappers you can do:</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    @Mapping(target = &quot;trackId&quot;, expression = MappingUtils. GENERATE_UUID_EXPRESSION)\n    FileUploadRequest inventoryToFileUpload(Inventory inventory);\n\n}\n</code></pre>\n<p>Doing this you have the expression in a single place and you have a a method that performs the generation.</p>\n<p>The generated code will use the full qualified name of the <code>MappingUtils</code>. In case you want to avoid that you will need to add <code>MappingUtils</code> to <code>Mapper#imports</code> and then use <code>MappingUtils.class.getName()</code> instead in your expression.</p>\n<p>Note: You'll need to replace what is in <code>&lt;package&gt;</code> with the package location of the <code>MappingUtils</code>.</p>\n"}],"owner":{"account_id":1027355,"reputation":2721,"user_id":1036386,"accept_rate":91,"display_name":"Kalec"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67817638,"answer_count":1,"score":2,"last_activity_date":1659694058,"creation_date":1622634865,"question_id":67804608,"body_markdown":"On our project, it&#39;s customary to use mapstruct for all mappings. In this unique case, I&#39;m not creating an Entity, but rather a DTO. However this DTO requires I generate a UUID, and I&#39;d rather not use the expression option.\r\n\r\n    @Mapping(target = &quot;trackId&quot;, expression = &quot;java(UUID.randomUUID().toString())&quot;)\r\n    FileUploadRequest inventoryToFileUpload(Inventory inventory);\r\n\r\nI&#39;d much rather have the compiler as a friend at all times in life. Also what do you do if the generation strategy isn&#39;t a 30 character width one-liner?\r\n\r\nMy preferred method is as follows:\r\n\r\n    @Mapping(target = &quot;trackId&quot;, qualifiedByName = &quot;generateUUID&quot;),\r\n    FileUploadRequest inventoryToFileUpload(Inventory inventory);\r\n\r\n\r\n    @Named(&quot;generateUUID&quot;)\r\n    default String generateUuid() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n\r\nSadly the above does not work. I have to give it a source, which is nonsense. Or maybe there&#39;s a way of specifying I don&#39;t rely on any parameter?\r\n\r\nHere is code that does work:\r\n\r\n    // Ommiting other mappings for clarity\r\n    @Mapping(target = &quot;trackId&quot;, source = &quot;id&quot;, qualifiedByName = &quot;generateUUID&quot;)\r\n    FileUploadRequest inventoryToFileUpload(Inventory inventory);\r\n\r\n    @Named(&quot;generateUUID&quot;)\r\n    default String generateUuid(final String nonsense) {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n\r\n\r\nThis generates the following line of code\r\n\r\n    fileUploadRequest.setTrackId(this.generateUuid(inventory.getId()));\r\n\r\nBut ... the parameter is superflous, as can easily be seen. I know that this does not ___ACTUALLY___ matter. But it seems either like an oversight, or me not understanding how to declare that I do not have a source for this, I just want the mapper to call my method.\r\n\r\nAgain, `expression` is not a valid answer, please do not propose it. UNLESS you can do `expression = &quot;java(generateUuid())&quot;`?\r\n\r\n\r\n","title":"Generate ID for mapped item","body":"<p>On our project, it's customary to use mapstruct for all mappings. In this unique case, I'm not creating an Entity, but rather a DTO. However this DTO requires I generate a UUID, and I'd rather not use the expression option.</p>\n<pre><code>@Mapping(target = &quot;trackId&quot;, expression = &quot;java(UUID.randomUUID().toString())&quot;)\nFileUploadRequest inventoryToFileUpload(Inventory inventory);\n</code></pre>\n<p>I'd much rather have the compiler as a friend at all times in life. Also what do you do if the generation strategy isn't a 30 character width one-liner?</p>\n<p>My preferred method is as follows:</p>\n<pre><code>@Mapping(target = &quot;trackId&quot;, qualifiedByName = &quot;generateUUID&quot;),\nFileUploadRequest inventoryToFileUpload(Inventory inventory);\n\n\n@Named(&quot;generateUUID&quot;)\ndefault String generateUuid() {\n    return UUID.randomUUID().toString();\n}\n</code></pre>\n<p>Sadly the above does not work. I have to give it a source, which is nonsense. Or maybe there's a way of specifying I don't rely on any parameter?</p>\n<p>Here is code that does work:</p>\n<pre><code>// Ommiting other mappings for clarity\n@Mapping(target = &quot;trackId&quot;, source = &quot;id&quot;, qualifiedByName = &quot;generateUUID&quot;)\nFileUploadRequest inventoryToFileUpload(Inventory inventory);\n\n@Named(&quot;generateUUID&quot;)\ndefault String generateUuid(final String nonsense) {\n    return UUID.randomUUID().toString();\n}\n</code></pre>\n<p>This generates the following line of code</p>\n<pre><code>fileUploadRequest.setTrackId(this.generateUuid(inventory.getId()));\n</code></pre>\n<p>But ... the parameter is superflous, as can easily be seen. I know that this does not <em><strong>ACTUALLY</strong></em> matter. But it seems either like an oversight, or me not understanding how to declare that I do not have a source for this, I just want the mapper to call my method.</p>\n<p>Again, <code>expression</code> is not a valid answer, please do not propose it. UNLESS you can do <code>expression = &quot;java(generateUuid())&quot;</code>?</p>\n"},{"tags":["java","multithreading","java.util.concurrent"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1659694196,"post_id":73247959,"comment_id":129360415,"body_markdown":"This is done for performance and thread-safety reasons. I know there is a duplicate somewhere about this.","body":"This is done for performance and thread-safety reasons. I know there is a duplicate somewhere about this."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659694513,"post_id":73247959,"comment_id":129360530,"body_markdown":"As an aside, if you&#39;re new to Java, I recommend not diving too deep into the sources of `java.util.concurrent`, as it is pretty advanced level stuff they&#39;re doing.","body":"As an aside, if you&#39;re new to Java, I recommend not diving too deep into the sources of <code>java.util.concurrent</code>, as it is pretty advanced level stuff they&#39;re doing."},{"owner":{"account_id":25985500,"reputation":11,"user_id":19698546,"display_name":"PopCornnnn"},"score":0,"creation_date":1659694595,"post_id":73247959,"comment_id":129360562,"body_markdown":"This was how I guess, but I don&#39;t see how, is there a more detailed explanation? I tried to implement this in c, but without re-assignment, it worked.","body":"This was how I guess, but I don&#39;t see how, is there a more detailed explanation? I tried to implement this in c, but without re-assignment, it worked."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659694668,"post_id":73247959,"comment_id":129360585,"body_markdown":"In this specific case it is only done for performance reasons (the fields are final): it allows the Java JIT compiler to perform some more advanced optimizations at runtime.","body":"In this specific case it is only done for performance reasons (the fields are final): it allows the Java JIT compiler to perform some more advanced optimizations at runtime."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1659694693,"post_id":73247959,"comment_id":129360599,"body_markdown":"Even if this does offer an advantage in performance. Most people wouldn&#39;t recommend doing it for just any code because the advantage is very small, and mostly non-existent depending on the context.","body":"Even if this does offer an advantage in performance. Most people wouldn&#39;t recommend doing it for just any code because the advantage is very small, and mostly non-existent depending on the context."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1659694709,"post_id":73247959,"comment_id":129360608,"body_markdown":"https://stackoverflow.com/questions/20750020/java-which-is-faster-local-variables-or-accessing-encapsulation","body":"<a href=\"https://stackoverflow.com/questions/20750020/java-which-is-faster-local-variables-or-accessing-encapsulation\" title=\"java which is faster local variables or accessing encapsulation\">stackoverflow.com/questions/20750020/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659694745,"post_id":73247959,"comment_id":129360622,"body_markdown":"Yes, I agree with Matt, this is not something that you should do in normal code, unless you have verified it actually improves performance for your use case (or if it is even a bottleneck).","body":"Yes, I agree with Matt, this is not something that you should do in normal code, unless you have verified it actually improves performance for your use case (or if it is even a bottleneck)."},{"owner":{"account_id":25985500,"reputation":11,"user_id":19698546,"display_name":"PopCornnnn"},"score":0,"creation_date":1659695026,"post_id":73247959,"comment_id":129360720,"body_markdown":"I see, thank you for answering. Is there any guide for me on going deeper in java?","body":"I see, thank you for answering. Is there any guide for me on going deeper in java?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659698035,"post_id":73247959,"comment_id":129361652,"body_markdown":"@PopCornnnn Resource requests are off-topic on Stack Overflow, and to be honest, your question is rather non-specific, so it would be a bit hard to give a suggestion.","body":"@PopCornnnn Resource requests are off-topic on Stack Overflow, and to be honest, your question is rather non-specific, so it would be a bit hard to give a suggestion."}],"owner":{"account_id":25985500,"reputation":11,"user_id":19698546,"display_name":"PopCornnnn"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659694566,"answer_count":0,"score":0,"last_activity_date":1659694056,"creation_date":1659693541,"question_id":73247959,"body_markdown":"I am reading Java LinkedBlockingQueue source code, the place I don&#39;t understand is, the lock and cond variable are already initialized at the beginning, why assign them to new local variables in each function every time they are used? Here are the examples in the source code\r\nenter image description here\r\n\r\n**lock and cond_var initialized here**\r\n```\r\n    /** The capacity bound, or Integer.MAX_VALUE if none */\r\n\r\n    private final int capacity;\r\n\r\n\r\n    /** Current number of elements */\r\n\r\n    private final AtomicInteger count = new AtomicInteger();\r\n\r\n\r\n    /**\r\n\r\n     * Head of linked list.\r\n\r\n     * Invariant: head.item == null\r\n\r\n     */\r\n\r\n    transient Node&lt;E&gt; head;\r\n\r\n\r\n    /**\r\n\r\n     * Tail of linked list.\r\n\r\n     * Invariant: last.next == null\r\n\r\n     */\r\n\r\n    private transient Node&lt;E&gt; last;\r\n\r\n\r\n    /** Lock held by take, poll, etc */\r\n\r\n    private final ReentrantLock takeLock = new ReentrantLock();\r\n\r\n\r\n    /** Wait queue for waiting takes */\r\n\r\n    private final Condition notEmpty = takeLock.newCondition();\r\n\r\n\r\n    /** Lock held by put, offer, etc */\r\n\r\n    private final ReentrantLock putLock = new ReentrantLock();\r\n\r\n\r\n    /** Wait queue for waiting puts */\r\n\r\n    private final Condition notFull = putLock.newCondition();\r\n```\r\n\r\n**examples of re-assign and using them**\r\n```\r\n// example 1\r\nprivate void signalNotEmpty() {\r\n\r\n        final ReentrantLock takeLock = this.takeLock;\r\n\r\n        takeLock.lock();\r\n\r\n        try {\r\n\r\n            notEmpty.signal();\r\n\r\n        } finally {\r\n\r\n            takeLock.unlock();\r\n\r\n        }\r\n\r\n    }\r\n\r\n// example 2\r\npublic void put(E e) throws InterruptedException {\r\n\r\n        if (e == null) throw new NullPointerException();\r\n\r\n        // Note: convention in all put/take/etc is to preset local var\r\n\r\n        // holding count negative to indicate failure unless set.\r\n\r\n        int c = -1;\r\n\r\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\r\n\r\n        final ReentrantLock putLock = this.putLock;\r\n\r\n        final AtomicInteger count = this.count;\r\n\r\n        putLock.lockInterruptibly();\r\n\r\n        try {\r\n\r\n            /*\r\n\r\n             * Note that count is used in wait guard even though it is\r\n\r\n             * not protected by lock. This works because count can\r\n\r\n             * only decrease at this point (all other puts are shut\r\n\r\n             * out by lock), and we (or some other waiting put) are\r\n\r\n             * signalled if it ever changes from capacity. Similarly\r\n\r\n             * for all other uses of count in other wait guards.\r\n\r\n             */\r\n\r\n            while (count.get() == capacity) {\r\n\r\n                notFull.await();\r\n\r\n            }\r\n\r\n            enqueue(node);\r\n\r\n            c = count.getAndIncrement();\r\n\r\n            if (c + 1 &lt; capacity)\r\n\r\n                notFull.signal();\r\n\r\n        } finally {\r\n\r\n            putLock.unlock();\r\n\r\n        }\r\n\r\n        if (c == 0)\r\n\r\n            signalNotEmpty();\r\n\r\n    }","title":"LinkedBlockingQueue source code, implementation confusion","body":"<p>I am reading Java LinkedBlockingQueue source code, the place I don't understand is, the lock and cond variable are already initialized at the beginning, why assign them to new local variables in each function every time they are used? Here are the examples in the source code\nenter image description here</p>\n<p><strong>lock and cond_var initialized here</strong></p>\n<pre><code>    /** The capacity bound, or Integer.MAX_VALUE if none */\n\n    private final int capacity;\n\n\n    /** Current number of elements */\n\n    private final AtomicInteger count = new AtomicInteger();\n\n\n    /**\n\n     * Head of linked list.\n\n     * Invariant: head.item == null\n\n     */\n\n    transient Node&lt;E&gt; head;\n\n\n    /**\n\n     * Tail of linked list.\n\n     * Invariant: last.next == null\n\n     */\n\n    private transient Node&lt;E&gt; last;\n\n\n    /** Lock held by take, poll, etc */\n\n    private final ReentrantLock takeLock = new ReentrantLock();\n\n\n    /** Wait queue for waiting takes */\n\n    private final Condition notEmpty = takeLock.newCondition();\n\n\n    /** Lock held by put, offer, etc */\n\n    private final ReentrantLock putLock = new ReentrantLock();\n\n\n    /** Wait queue for waiting puts */\n\n    private final Condition notFull = putLock.newCondition();\n</code></pre>\n<p><strong>examples of re-assign and using them</strong></p>\n<pre><code>// example 1\nprivate void signalNotEmpty() {\n\n        final ReentrantLock takeLock = this.takeLock;\n\n        takeLock.lock();\n\n        try {\n\n            notEmpty.signal();\n\n        } finally {\n\n            takeLock.unlock();\n\n        }\n\n    }\n\n// example 2\npublic void put(E e) throws InterruptedException {\n\n        if (e == null) throw new NullPointerException();\n\n        // Note: convention in all put/take/etc is to preset local var\n\n        // holding count negative to indicate failure unless set.\n\n        int c = -1;\n\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\n\n        final ReentrantLock putLock = this.putLock;\n\n        final AtomicInteger count = this.count;\n\n        putLock.lockInterruptibly();\n\n        try {\n\n            /*\n\n             * Note that count is used in wait guard even though it is\n\n             * not protected by lock. This works because count can\n\n             * only decrease at this point (all other puts are shut\n\n             * out by lock), and we (or some other waiting put) are\n\n             * signalled if it ever changes from capacity. Similarly\n\n             * for all other uses of count in other wait guards.\n\n             */\n\n            while (count.get() == capacity) {\n\n                notFull.await();\n\n            }\n\n            enqueue(node);\n\n            c = count.getAndIncrement();\n\n            if (c + 1 &lt; capacity)\n\n                notFull.signal();\n\n        } finally {\n\n            putLock.unlock();\n\n        }\n\n        if (c == 0)\n\n            signalNotEmpty();\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","properties","ide"],"comments":[{"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"score":0,"creation_date":1648557635,"post_id":71661617,"comment_id":126650077,"body_markdown":"This is there in the Community Edition as well. I&#39;m using IntelliJ IDEA 2021.3.2 (Community Edition)","body":"This is there in the Community Edition as well. I&#39;m using IntelliJ IDEA 2021.3.2 (Community Edition)"}],"answers":[{"tags":[],"owner":{"account_id":24742348,"reputation":11,"user_id":18628941,"display_name":"DiegoMN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648623513,"creation_date":1648623513,"answer_id":71672800,"question_id":71661617,"body_markdown":"Have you installed Spring Initializr and Assistant plugin? \r\nI had this problem after install it. You can try to disable it.","title":"IntelliJ IDEA Ultimate Edition marks all my Spring Boot properties as unused","body":"<p>Have you installed Spring Initializr and Assistant plugin?\nI had this problem after install it. You can try to disable it.</p>\n"},{"tags":[],"owner":{"account_id":10691915,"reputation":41,"user_id":18340227,"display_name":"Bhavesh Salunke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648625079,"creation_date":1648625079,"answer_id":71673122,"question_id":71661617,"body_markdown":"Have you tried invalidate cache? Maybe that could help you make it run.\r\nThere are multiple options in invalidate cache, choose according to your use case.\r\n\r\n&gt; **File &gt; Invalidate Cache** \r\n","title":"IntelliJ IDEA Ultimate Edition marks all my Spring Boot properties as unused","body":"<p>Have you tried invalidate cache? Maybe that could help you make it run.\nThere are multiple options in invalidate cache, choose according to your use case.</p>\n<blockquote>\n<p><strong>File &gt; Invalidate Cache</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659693794,"creation_date":1659693794,"answer_id":73248020,"question_id":71661617,"body_markdown":"It is confirmed that the **Spring Initializr and Assistant** plugin was the culprit:\r\n\r\n- I had created a bug report https://github.com/eltonsandre/intellij-spring-boot-assistant/issues/77, \r\n- which showed as a duplicate of already existing bug report https://github.com/eltonsandre/intellij-spring-assistant/issues/71, \r\n- which is now closed, **fixed in version 1.4.0**.\r\n\r\n**Credits**: Thanks to @DiegoMN&#39;s tip.\r\n\r\nAccording to the author, it should be fixed now, however now **no** properties are marked as unused. It is under investigation.\r\n\r\nElton Andr&#233; commented on 01 Apr 2022:\r\n&gt; For now, the functionality that scans and verifies the usage of Spring properties is not fully implemented. For now, in this release, it will suppress all Spring settings (application*.properties and bootstrap*.properties files), to give a little more comfort to the eyes, and that there aren&#39;t too many unused warnings. As soon as possible, I will be happy to make the full version available with the appropriate alerts for unused and deprecated properties.","title":"IntelliJ IDEA Ultimate Edition marks all my Spring Boot properties as unused","body":"<p>It is confirmed that the <strong>Spring Initializr and Assistant</strong> plugin was the culprit:</p>\n<ul>\n<li>I had created a bug report <a href=\"https://github.com/eltonsandre/intellij-spring-boot-assistant/issues/77\" rel=\"nofollow noreferrer\">https://github.com/eltonsandre/intellij-spring-boot-assistant/issues/77</a>,</li>\n<li>which showed as a duplicate of already existing bug report <a href=\"https://github.com/eltonsandre/intellij-spring-assistant/issues/71\" rel=\"nofollow noreferrer\">https://github.com/eltonsandre/intellij-spring-assistant/issues/71</a>,</li>\n<li>which is now closed, <strong>fixed in version 1.4.0</strong>.</li>\n</ul>\n<p><strong>Credits</strong>: Thanks to @DiegoMN's tip.</p>\n<p>According to the author, it should be fixed now, however now <strong>no</strong> properties are marked as unused. It is under investigation.</p>\n<p>Elton André commented on 01 Apr 2022:</p>\n<blockquote>\n<p>For now, the functionality that scans and verifies the usage of Spring properties is not fully implemented. For now, in this release, it will suppress all Spring settings (application*.properties and bootstrap*.properties files), to give a little more comfort to the eyes, and that there aren't too many unused warnings. As soon as possible, I will be happy to make the full version available with the appropriate alerts for unused and deprecated properties.</p>\n</blockquote>\n"}],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73248020,"answer_count":3,"score":2,"last_activity_date":1659693794,"creation_date":1648555201,"question_id":71661617,"body_markdown":"IntelliJ IDEA Ultimate Edition marks **all** my Spring Boot properties as unused.\r\n\r\n1. I am aware of https://stackoverflow.com/q/39115941/2886891, but it does not help. The problem in that question was that the OP had Community Edition.\r\n\r\n2. The problem is *not* that the folder would be not marked as Resources (see the screenshot).\r\n\r\n3. The problem is *not* that Idea would not recognize the file as the properties file (see the screenshot).\r\n\r\n4. Idea can even show correct tooltips for the properties (see the screenshot).\r\n\r\n5. All the properties are used, if I remove any of them, my application stops working :)\r\n\r\n6. For the record: I do *not* want to suppress the warnings.\r\n\r\n7. Yes, I invalidated the cache.\r\n\r\n8. Yes, I *did* reimport the project to Idea, yes, I *did* run `mvn idea:idea`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### Versions \r\n\r\n``` lang-plaintext\r\nIntelliJ IDEA 2021.3.3 (Ultimate Edition)\r\nBuild #IU-213.7172.25, built on March 15, 2022\r\nRuntime version: 11.0.14.1+1-b1751.46 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nWindows 11 10.0\r\nNon-Bundled Plugins:\r\n    com.intellij.ideolog (203.0.27.0)\r\n    String Manipulation (9.4.0)\r\n    dev.eltonsandre.intellij.spring.assistant.plugin (1.3.4)\r\n    com.intellij.lang.jsgraphql (3.1.2)\r\n    com.intellij.bigdatatools (213.5449.349)\r\n    com.haulmont.jpab (2022.1.2-213)\r\nKotlin: 213-1.5.10-release-949-IJ7172.25\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/GxPEp.png\r\n  [2]: https://i.stack.imgur.com/Su3MU.png","title":"IntelliJ IDEA Ultimate Edition marks all my Spring Boot properties as unused","body":"<p>IntelliJ IDEA Ultimate Edition marks <strong>all</strong> my Spring Boot properties as unused.</p>\n<ol>\n<li><p>I am aware of <a href=\"https://stackoverflow.com/q/39115941/2886891\">Unused properties in IntelliJ</a>, but it does not help. The problem in that question was that the OP had Community Edition.</p>\n</li>\n<li><p>The problem is <em>not</em> that the folder would be not marked as Resources (see the screenshot).</p>\n</li>\n<li><p>The problem is <em>not</em> that Idea would not recognize the file as the properties file (see the screenshot).</p>\n</li>\n<li><p>Idea can even show correct tooltips for the properties (see the screenshot).</p>\n</li>\n<li><p>All the properties are used, if I remove any of them, my application stops working :)</p>\n</li>\n<li><p>For the record: I do <em>not</em> want to suppress the warnings.</p>\n</li>\n<li><p>Yes, I invalidated the cache.</p>\n</li>\n<li><p>Yes, I <em>did</em> reimport the project to Idea, yes, I <em>did</em> run <code>mvn idea:idea</code>.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/GxPEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GxPEp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Su3MU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Su3MU.png\" alt=\"enter image description here\" /></a></p>\n<h3>Versions</h3>\n<pre class=\"lang-plaintext prettyprint-override\"><code>IntelliJ IDEA 2021.3.3 (Ultimate Edition)\nBuild #IU-213.7172.25, built on March 15, 2022\nRuntime version: 11.0.14.1+1-b1751.46 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 11 10.0\nNon-Bundled Plugins:\n    com.intellij.ideolog (203.0.27.0)\n    String Manipulation (9.4.0)\n    dev.eltonsandre.intellij.spring.assistant.plugin (1.3.4)\n    com.intellij.lang.jsgraphql (3.1.2)\n    com.intellij.bigdatatools (213.5449.349)\n    com.haulmont.jpab (2022.1.2-213)\nKotlin: 213-1.5.10-release-949-IJ7172.25\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-websocket"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1440500830,"post_id":32202344,"comment_id":52288851,"body_markdown":"Does Tomcat 7 have JSR-356 support?","body":"Does Tomcat 7 have JSR-356 support?"},{"owner":{"account_id":3755492,"reputation":746,"user_id":3121941,"accept_rate":81,"display_name":"Kiran Joshi"},"score":2,"creation_date":1440501011,"post_id":32202344,"comment_id":52288960,"body_markdown":"According to this [link](https://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html). Yes tomcat 7 has JSR 356 support","body":"According to this <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html\" rel=\"nofollow noreferrer\">link</a>. Yes tomcat 7 has JSR 356 support"},{"owner":{"account_id":3755492,"reputation":746,"user_id":3121941,"accept_rate":81,"display_name":"Kiran Joshi"},"score":0,"creation_date":1440514810,"post_id":32202344,"comment_id":52298963,"body_markdown":"@Kayaman Please check the answer. I have updated it.","body":"@Kayaman Please check the answer. I have updated it."}],"answers":[{"tags":[],"owner":{"account_id":3755492,"reputation":746,"user_id":3121941,"accept_rate":81,"display_name":"Kiran Joshi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1440514709,"creation_date":1440514709,"answer_id":32207436,"question_id":32202344,"body_markdown":"The problem is identified to be confusion over the websocket jars of tomcat and my application jars. I have removed it from the war file and it started working,\r\n\r\nI used maven plug in to remove the jars as below,\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;packagingExcludes&gt;WEB-INF/lib/websocket-*.jar&lt;/packagingExcludes&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe jars which were creating problem are,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QV3rl.jpg","title":"javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable","body":"<p>The problem is identified to be confusion over the websocket jars of tomcat and my application jars. I have removed it from the war file and it started working,</p>\n\n<p>I used maven plug in to remove the jars as below,</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;packagingExcludes&gt;WEB-INF/lib/websocket-*.jar&lt;/packagingExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The jars which were creating problem are,</p>\n\n<p><a href=\"https://i.stack.imgur.com/QV3rl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QV3rl.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6995679,"reputation":81,"user_id":5363444,"display_name":"Cristiano DC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463568445,"creation_date":1442926266,"answer_id":32717377,"question_id":32202344,"body_markdown":"Search in pom.xml for\r\n\r\n    &lt;dependency&gt;\r\n       \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand remove it.","title":"javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable","body":"<p>Search in pom.xml for</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and remove it.</p>\n"},{"tags":[],"owner":{"account_id":2654952,"reputation":16,"user_id":2295838,"display_name":"Shridhar Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625153069,"creation_date":1625153069,"answer_id":68212945,"question_id":32202344,"body_markdown":"As already mentioned by Kiran in another answer, the problematic libraries are websocket-*.jar(s). I encountered these dependencies to be introduced by (upgrade of) Active MQ library in a project. \r\nSo in case you have the same error, look for the maven dependency tree in your project and exclude the dependencies: \r\n\r\n```\r\nmvn dependency:tree -Dverbose -Dincludes=javax.websocket  \r\n```","title":"javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable","body":"<p>As already mentioned by Kiran in another answer, the problematic libraries are websocket-*.jar(s). I encountered these dependencies to be introduced by (upgrade of) Active MQ library in a project.\nSo in case you have the same error, look for the maven dependency tree in your project and exclude the dependencies:</p>\n<pre><code>mvn dependency:tree -Dverbose -Dincludes=javax.websocket  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15307153,"reputation":11,"user_id":11043489,"display_name":"Abelardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659693706,"creation_date":1659693706,"answer_id":73247994,"question_id":32202344,"body_markdown":"I fixed this problem by adding a WEB-INF/web.xml file with the following contents. We need to configure Tomcat to ignore Jetty SCI(ServerContainerInitializer) implementations.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n                          http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n      version=&quot;3.1&quot;\r\n      metadata-complete=&quot;true&quot;&gt;\r\n    \r\n      &lt;absolute-ordering&gt;\r\n        &lt;name&gt;spring_web&lt;/name&gt;\r\n      &lt;/absolute-ordering&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nThere are some explanation on this:\r\n\r\n* [ActiveMQ](https://activemq.apache.org/tomcat)\r\n* [[AMQ-6154] ActiveMQ with websocket on Tomcat fails with NullPointerException at org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer - ASF JIRA](https://issues.apache.org/jira/browse/AMQ-6154?focusedCommentId=15130390&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-15130390)\r\n* [HowTo FasterStartUp - Apache Tomcat - Apache Software Foundation](https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp#HowToFasterStartUp-Configureyourwebapplication)","title":"javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable","body":"<p>I fixed this problem by adding a WEB-INF/web.xml file with the following contents. We need to configure Tomcat to ignore Jetty SCI(ServerContainerInitializer) implementations.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n  version=&quot;3.1&quot;\n  metadata-complete=&quot;true&quot;&gt;\n\n  &lt;absolute-ordering&gt;\n    &lt;name&gt;spring_web&lt;/name&gt;\n  &lt;/absolute-ordering&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>There are some explanation on this:</p>\n<ul>\n<li><a href=\"https://activemq.apache.org/tomcat\" rel=\"nofollow noreferrer\">ActiveMQ</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/AMQ-6154?focusedCommentId=15130390&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-15130390\" rel=\"nofollow noreferrer\">[AMQ-6154] ActiveMQ with websocket on Tomcat fails with NullPointerException at org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer - ASF JIRA</a></li>\n<li><a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp#HowToFasterStartUp-Configureyourwebapplication\" rel=\"nofollow noreferrer\">HowTo FasterStartUp - Apache Tomcat - Apache Software Foundation</a></li>\n</ul>\n"}],"owner":{"account_id":3755492,"reputation":746,"user_id":3121941,"accept_rate":81,"display_name":"Kiran Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15467,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32207436,"answer_count":4,"score":7,"last_activity_date":1659693706,"creation_date":1440500668,"question_id":32202344,"body_markdown":"I am facing a problem while deploying a war on to tomcat instance,\r\n\r\nTomcat version details,\r\n\r\n    D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin&gt;version.bat\r\n    Using CATALINA_BASE:   &quot;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.7.0_07&quot;\r\n    Using CLASSPATH:       &quot;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin\\bootstrap.jar;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-to\r\n    mcat-7.0.63\\bin\\tomcat-juli.jar&quot;\r\n    Server version: Apache Tomcat/7.0.63\r\n    Server built:   Jun 30 2015 08:08:33 UTC\r\n    Server number:  7.0.63.0\r\n    OS Name:        Windows 7\r\n    OS Version:     6.1\r\n    Architecture:   amd64\r\n    JVM Version:    1.7.0_07-b11\r\n    JVM Vendor:     Oracle Corporation\r\n    D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin&gt;\r\n\r\nPOM Dependency :\r\n\r\n    &lt;dependency&gt;\r\n   \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have created a war using maven plugin and tried to deploy on tomcat 7. I was able to deploy but unable to start the webapp. When I find the logs for it, it gave below stacktrace,\r\n\r\n    SEVERE: Error during ServletContainerInitializer processing\r\n    javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable\r\n    \tat org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer.onStartup(WebSocketServerContainerInitializer.java:146)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5520)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1322)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:694)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:217)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\r\nAny help would be appreciated.\r\nThank you.\r\n\r\n\r\n----------\r\n**Edit :**\r\n\r\nIt runs fine when I run the application using STS","title":"javax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable","body":"<p>I am facing a problem while deploying a war on to tomcat instance,</p>\n\n<p>Tomcat version details,</p>\n\n<pre><code>D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin&gt;version.bat\nUsing CATALINA_BASE:   \"D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\"\nUsing CATALINA_HOME:   \"D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\"\nUsing CATALINA_TMPDIR: \"D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.7.0_07\"\nUsing CLASSPATH:       \"D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin\\bootstrap.jar;D:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-to\nmcat-7.0.63\\bin\\tomcat-juli.jar\"\nServer version: Apache Tomcat/7.0.63\nServer built:   Jun 30 2015 08:08:33 UTC\nServer number:  7.0.63.0\nOS Name:        Windows 7\nOS Version:     6.1\nArchitecture:   amd64\nJVM Version:    1.7.0_07-b11\nJVM Vendor:     Oracle Corporation\nD:\\Kiran\\Kiran\\Softwares DH\\Webservers\\apache-tomcat-7.0.63\\bin&gt;\n</code></pre>\n\n<p>POM Dependency :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have created a war using maven plugin and tried to deploy on tomcat 7. I was able to deploy but unable to start the webapp. When I find the logs for it, it gave below stacktrace,</p>\n\n<pre><code>SEVERE: Error during ServletContainerInitializer processing\njavax.servlet.ServletException: Not running on Jetty, JSR-356 support unavailable\n    at org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer.onStartup(WebSocketServerContainerInitializer.java:146)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5520)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1322)\n    at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:694)\n    at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:217)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n</code></pre>\n\n<p>Any help would be appreciated.\nThank you.</p>\n\n<hr>\n\n<p><strong>Edit :</strong></p>\n\n<p>It runs fine when I run the application using STS</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659686104,"post_id":73244982,"comment_id":129357702,"body_markdown":"Can you share the Source class, Target class and the mapper you implemented?","body":"Can you share the Source class, Target class and the mapper you implemented?"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1659688112,"post_id":73244982,"comment_id":129358337,"body_markdown":"Added code. sorry for inconveniencing to you.","body":"Added code. sorry for inconveniencing to you."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659688715,"post_id":73244982,"comment_id":129358528,"body_markdown":"Look at this guide on how to map collections with MapStruct.  https://www.baeldung.com/java-mapstruct-mapping-collections","body":"Look at this guide on how to map collections with MapStruct.  <a href=\"https://www.baeldung.com/java-mapstruct-mapping-collections\" rel=\"nofollow noreferrer\">baeldung.com/java-mapstruct-mapping-collections</a>"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1659689197,"post_id":73244982,"comment_id":129358691,"body_markdown":"I read that guide before asking the question.\n\nAnd after re-reading after your advice, it&#39;s still hard to figure out what the problem is.\n\nIf my problem is a solvable problem, can you tell me some key keywords?","body":"I read that guide before asking the question.  And after re-reading after your advice, it&#39;s still hard to figure out what the problem is.  If my problem is a solvable problem, can you tell me some key keywords?"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659693546,"creation_date":1659693546,"answer_id":73247962,"question_id":73244982,"body_markdown":"First of all, create a method for the mapper with a SourceObject parameter that return a TargetObject\r\n\r\n    @Named(&quot;toResponseDto&quot;)\r\n    //add your mapping\r\n    AdminRefundUserDto.Response toResponseDto(RefundEntity refundEntity);\r\n\r\nif you have complex logic of mapping, you can also create a custom method to map a certain target parameter: see [Custom Mapper with MapStruct][1]\r\n\r\nThen add an IterableMapping\r\n\r\n    @IterableMapping(qualifiedByName = &quot;toResponseDto&quot;)\r\n    List&lt;AdminRefundUserDto.Response&gt; toDtoList(List&lt;RefundEntity&gt; refundList); \r\n\r\n  [1]: https://www.baeldung.com/mapstruct-custom-mapper\r\n\r\n","title":"Object field mapping problem when mapping MapStruct List to List","body":"<p>First of all, create a method for the mapper with a SourceObject parameter that return a TargetObject</p>\n<pre><code>@Named(&quot;toResponseDto&quot;)\n//add your mapping\nAdminRefundUserDto.Response toResponseDto(RefundEntity refundEntity);\n</code></pre>\n<p>if you have complex logic of mapping, you can also create a custom method to map a certain target parameter: see <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">Custom Mapper with MapStruct</a></p>\n<p>Then add an IterableMapping</p>\n<pre><code>@IterableMapping(qualifiedByName = &quot;toResponseDto&quot;)\nList&lt;AdminRefundUserDto.Response&gt; toDtoList(List&lt;RefundEntity&gt; refundList); \n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73247962,"answer_count":1,"score":0,"last_activity_date":1659693546,"creation_date":1659676559,"question_id":73244982,"body_markdown":"I have a problem when mapping a List&lt;DTO&gt; from a List&lt;Entity&gt;.\r\nAll default fields of Entity are well mapped.\r\n\r\nex) (Entity)String date -&gt; (DTO) String date\r\n\r\nHowever, the Join object field exists in Entity.\r\n\r\nWe need to pull the data out of this object field and map it anew.\r\n\r\n\r\nIn the case of a single Entity to single DTO rather than a List&lt;Entity&gt; to List&lt;DTO&gt;, this was easily possible.\r\n\r\n    @Mapping(target = &quot;.&quot;, source = &quot;user&quot;)\r\n\r\nThis way we were able to map all fields of the user object field that the Entity has to the remaining unmapped fields.\r\n\r\nHowever, trying the same on a List has no effect.\r\n\r\nWhich method should I use?\r\n\r\n\r\n    @Entity(name = &quot;refund&quot;)\r\n    public class RefundEntity extends BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int refundId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private UserEntity user;\r\n\r\n    private int refundAmount;\r\n \r\n    }\r\n\r\n\r\nand\r\n\r\n    public class AdminRefundUserDto {\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public static class Response {\r\n\r\n        private int refundAmount;\r\n        private String marketName;\r\n        private String bizNumber;\r\n        private String bizUserName;\r\n\r\n        }\r\n    }\r\n\r\nand\r\n     \r\n    @Entity(name = &quot;user&quot;)\r\n    public class UserEntity extends BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid4&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\r\n    @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n    private UUID userId;\r\n    private String userName;\r\n    private String password;\r\n    private String phoneNumber;\r\n    private String marketName;\r\n    private String bizUserName;\r\n    private String bizNumber;\r\n    }\r\n\r\n\r\nand I used\r\n\r\n    @Mapping(target = &quot;.&quot;, source = &quot;refundList.user&quot;)\r\n    List&lt;AdminRefundUserDto.Response&gt; toDtoList(List&lt;RefundEntity&gt; refundList);","title":"Object field mapping problem when mapping MapStruct List to List","body":"<p>I have a problem when mapping a List from a List.\nAll default fields of Entity are well mapped.</p>\n<p>ex) (Entity)String date -&gt; (DTO) String date</p>\n<p>However, the Join object field exists in Entity.</p>\n<p>We need to pull the data out of this object field and map it anew.</p>\n<p>In the case of a single Entity to single DTO rather than a List to List, this was easily possible.</p>\n<pre><code>@Mapping(target = &quot;.&quot;, source = &quot;user&quot;)\n</code></pre>\n<p>This way we were able to map all fields of the user object field that the Entity has to the remaining unmapped fields.</p>\n<p>However, trying the same on a List has no effect.</p>\n<p>Which method should I use?</p>\n<pre><code>@Entity(name = &quot;refund&quot;)\npublic class RefundEntity extends BaseEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int refundId;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;user_id&quot;)\nprivate UserEntity user;\n\nprivate int refundAmount;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class AdminRefundUserDto {\n\n@AllArgsConstructor\n@Getter\npublic static class Response {\n\n    private int refundAmount;\n    private String marketName;\n    private String bizNumber;\n    private String bizUserName;\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity(name = &quot;user&quot;)\npublic class UserEntity extends BaseEntity {\n\n@Id\n@GeneratedValue(generator = &quot;uuid4&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\n@Column(columnDefinition = &quot;BINARY(16)&quot;)\nprivate UUID userId;\nprivate String userName;\nprivate String password;\nprivate String phoneNumber;\nprivate String marketName;\nprivate String bizUserName;\nprivate String bizNumber;\n}\n</code></pre>\n<p>and I used</p>\n<pre><code>@Mapping(target = &quot;.&quot;, source = &quot;refundList.user&quot;)\nList&lt;AdminRefundUserDto.Response&gt; toDtoList(List&lt;RefundEntity&gt; refundList);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection","spring-batch"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659635208,"post_id":73239907,"comment_id":129347263,"body_markdown":"you have this error on Unit test? can you post it?","body":"you have this error on Unit test? can you post it?"},{"owner":{"account_id":19648643,"reputation":9,"user_id":14383031,"display_name":"shoaib-jpeg"},"score":0,"creation_date":1659636842,"post_id":73239907,"comment_id":129347702,"body_markdown":"@PaulMarcelinBejan Added the test class and method","body":"@PaulMarcelinBejan Added the test class and method"},{"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"score":0,"creation_date":1659660065,"post_id":73239907,"comment_id":129352998,"body_markdown":"looks your component scan issue try without component scan com.ally.cr.miscinfo.batch.writer.AdvantageClientItemWriter","body":"looks your component scan issue try without component scan com.ally.cr.miscinfo.batch.writer.AdvantageClientItemWriter"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659693033,"creation_date":1659693033,"answer_id":73247849,"question_id":73239907,"body_markdown":"This error means that Spring is trying to autowire of bean of type `BatchTrackingService` in your `AdvantageClientItemWriter` but it could not find one in the application context. In other words, your test context does not contain a bean definition of type `BatchTrackingService`, which could be due to one of the following causes:\r\n\r\n* Either the configuration class that defines that bean is not imported in the test class (in `@ContextConfiguration(classes = { AdvantageClientItemWriter.class })`\r\n* or the class of that bean is not in the package that is scanned by Spring (Boot).\r\n\r\nMake sure that:\r\n\r\n1. the class `public class BatchTrackingService {}` is defined in the package referenced in `@ComponentScan(&quot;com.test.miscinfo.service&quot;)`\r\n2. the `@ContextConfiguration` annotation imports the class of that bean (something like `@ContextConfiguration(classes = { AdvantageClientItemWriter.class, BatchTrackingService.class })`, or that it imports a configuration class which defines an instance of that bean.","title":"Spring: Service Class with @Service annotation gets &quot;required bean of type &#39;abcService&#39; could not be found&quot;","body":"<p>This error means that Spring is trying to autowire of bean of type <code>BatchTrackingService</code> in your <code>AdvantageClientItemWriter</code> but it could not find one in the application context. In other words, your test context does not contain a bean definition of type <code>BatchTrackingService</code>, which could be due to one of the following causes:</p>\n<ul>\n<li>Either the configuration class that defines that bean is not imported in the test class (in <code>@ContextConfiguration(classes = { AdvantageClientItemWriter.class })</code></li>\n<li>or the class of that bean is not in the package that is scanned by Spring (Boot).</li>\n</ul>\n<p>Make sure that:</p>\n<ol>\n<li>the class <code>public class BatchTrackingService {}</code> is defined in the package referenced in <code>@ComponentScan(&quot;com.test.miscinfo.service&quot;)</code></li>\n<li>the <code>@ContextConfiguration</code> annotation imports the class of that bean (something like <code>@ContextConfiguration(classes = { AdvantageClientItemWriter.class, BatchTrackingService.class })</code>, or that it imports a configuration class which defines an instance of that bean.</li>\n</ol>\n"}],"owner":{"account_id":19648643,"reputation":9,"user_id":14383031,"display_name":"shoaib-jpeg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659693033,"creation_date":1659633162,"question_id":73239907,"body_markdown":"I have a spring batch application in which the writer has an @Autowired field (it is a service class). When running tests for the writer step, I am met with the error: \r\n\r\n    Field batchTrackingService in com.ally.cr.miscinfo.batch.writer.AdvantageClientItemWriter required a bean of type &#39;com.test.miscinfo.service.TestService&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.test.miscinfo.service.batchTrackingService &#39; in your configuration.\r\n\r\nI&#39;ve looked at a few answers to related questions, and most of them are caused by the fact that the class being injected has not been annotated with @Component, @Service, @Repository, etc. However mine is. I also read questions where the supposed solution was to add the @ComponentScan() annotation to the Main class of my application. After trying this, it gave the same error. Can someone please help me? Any help is appreciated.\r\n\r\nHere are the relevant classes:\r\n\r\nMain class:\r\n\r\n    @SpringBootApplication\r\n    @EnableBatchProcessing\r\n    @EnableJpaRepositories(&quot;com.test.miscinfo.repository&quot;)\r\n    @EntityScan(&quot;com.test.miscinfo.entity&quot;)\r\n    @ComponentScan(&quot;com.test.miscinfo.service&quot;)\r\n    public class MiscInfoServiceApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MiscInfoServiceApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nWriter class:\r\n\r\n    @Slf4j\r\n    @Component\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class AdvantageClientItemWriter implements ItemWriter&lt;MiscInfo&gt; {\r\n      @Autowired private AdvantageClientConfig advantageClientConfig;\r\n      @Autowired WebClient advantageClientWebClient;\r\n    \r\n      @Autowired private BatchTrackingService batchTrackingService;\r\n    \r\n    \r\n      @Override\r\n      public void write(List&lt;? extends MiscInfo&gt; miscInfos) throws Exception {\r\n         /* some call to a method in the injected service */ \r\n      }\r\n    \r\n    }\r\n\r\nService class:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Slf4j\r\n    @Transactional\r\n    @Service\r\n    public class BatchTrackingService {\r\n      public void someMethod() {}\r\n    }\r\n\r\nPlease let me know if I am missing relevant info.\r\n\r\n**EDIT:**\r\n\r\nAdding test method:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @EnableConfigurationProperties(value = AdvantageClientConfig.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ContextConfiguration(classes = { AdvantageClientItemWriter.class })\r\n    public class AdvantageClientItemWriterTest {\r\n      @MockBean RestTemplate advantageClientRestTemplate;\r\n      @MockBean WebClient advantageWebClient;\r\n      WebClient.RequestBodyUriSpec requestBodyUriSpec = mock(WebClient.RequestBodyUriSpec.class);\r\n      WebClient.RequestBodySpec requestBodySpec = mock(WebClient.RequestBodySpec.class);\r\n      WebClient.ResponseSpec responseSpec = mock(WebClient.ResponseSpec.class);\r\n      WebClient.RequestHeadersSpec requestHeadersSpec = mock(WebClient.RequestHeadersSpec.class);\r\n      @Autowired AdvantageClientConfig advantageClientConfig;\r\n      @Autowired AdvantageClientItemWriter advantageClientItemWriter;\r\n    \r\n      ArgumentCaptor&lt;String&gt; uriCaptor = ArgumentCaptor.forClass(String.class);\r\n      ArgumentCaptor&lt;MediaType&gt; mediaTypeCaptor= ArgumentCaptor.forClass(MediaType.class);\r\n      ArgumentCaptor&lt;String&gt; headerNameCaptor= ArgumentCaptor.forClass(String.class);\r\n      ArgumentCaptor&lt;String&gt; headerValueCaptor= ArgumentCaptor.forClass(String.class);\r\n      ArgumentCaptor&lt;String&gt; bodyCaptor= ArgumentCaptor.forClass(String.class);\r\n      private MemoryAppender memoryAppender;\r\n    \r\n      @BeforeEach\r\n      public void init(){\r\n    \r\n        Logger logger = (Logger) LoggerFactory.getLogger(&quot;com.test&quot;);\r\n        memoryAppender = new MemoryAppender();\r\n        memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\r\n        logger.setLevel(Level.DEBUG);\r\n        logger.addAppender(memoryAppender);\r\n        memoryAppender.start();\r\n      }\r\n    \r\n      @Test\r\n      public void successfulAdvantageClientWrite() throws Exception {\r\n        setupMockReturns();\r\n        when(responseSpec.toBodilessEntity()).thenReturn(Mono.just(new ResponseEntity(null, HttpStatus.OK)));\r\n    \r\n        List&lt;MiscInfo&gt; miscInfos = new ArrayList&lt;&gt;();\r\n        final MiscInfo miscInfo = createMiscInfo1();\r\n        miscInfos.add(miscInfo);\r\n    \r\n        advantageClientItemWriter.write(miscInfos);\r\n        Assertions.assertEquals(advantageClientConfig.getEndpoint(), uriCaptor.getValue());\r\n        Assertions.assertEquals(MediaType.APPLICATION_JSON, mediaTypeCaptor.getValue());\r\n        Assertions.assertEquals( advantageClientConfig.getHeaderName(), headerNameCaptor.getValue());\r\n        Assertions.assertEquals(advantageClientConfig.getApiKey(), headerValueCaptor.getValue());\r\n        Assertions.assertEquals(new ObjectMapper().writer().withDefaultPrettyPrinter().writeValueAsString(miscInfos), bodyCaptor.getValue());\r\n        assertThat(memoryAppender.search(&quot;Write to Advantage status: &quot;, Level.DEBUG).size()).isEqualTo(1);\r\n      }\r\n    }","title":"Spring: Service Class with @Service annotation gets &quot;required bean of type &#39;abcService&#39; could not be found&quot;","body":"<p>I have a spring batch application in which the writer has an @Autowired field (it is a service class). When running tests for the writer step, I am met with the error:</p>\n<pre><code>Field batchTrackingService in com.ally.cr.miscinfo.batch.writer.AdvantageClientItemWriter required a bean of type 'com.test.miscinfo.service.TestService' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.test.miscinfo.service.batchTrackingService ' in your configuration.\n</code></pre>\n<p>I've looked at a few answers to related questions, and most of them are caused by the fact that the class being injected has not been annotated with @Component, @Service, @Repository, etc. However mine is. I also read questions where the supposed solution was to add the @ComponentScan() annotation to the Main class of my application. After trying this, it gave the same error. Can someone please help me? Any help is appreciated.</p>\n<p>Here are the relevant classes:</p>\n<p>Main class:</p>\n<pre><code>@SpringBootApplication\n@EnableBatchProcessing\n@EnableJpaRepositories(&quot;com.test.miscinfo.repository&quot;)\n@EntityScan(&quot;com.test.miscinfo.entity&quot;)\n@ComponentScan(&quot;com.test.miscinfo.service&quot;)\npublic class MiscInfoServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MiscInfoServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>Writer class:</p>\n<pre><code>@Slf4j\n@Component\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AdvantageClientItemWriter implements ItemWriter&lt;MiscInfo&gt; {\n  @Autowired private AdvantageClientConfig advantageClientConfig;\n  @Autowired WebClient advantageClientWebClient;\n\n  @Autowired private BatchTrackingService batchTrackingService;\n\n\n  @Override\n  public void write(List&lt;? extends MiscInfo&gt; miscInfos) throws Exception {\n     /* some call to a method in the injected service */ \n  }\n\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Slf4j\n@Transactional\n@Service\npublic class BatchTrackingService {\n  public void someMethod() {}\n}\n</code></pre>\n<p>Please let me know if I am missing relevant info.</p>\n<p><strong>EDIT:</strong></p>\n<p>Adding test method:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@EnableConfigurationProperties(value = AdvantageClientConfig.class)\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@ContextConfiguration(classes = { AdvantageClientItemWriter.class })\npublic class AdvantageClientItemWriterTest {\n  @MockBean RestTemplate advantageClientRestTemplate;\n  @MockBean WebClient advantageWebClient;\n  WebClient.RequestBodyUriSpec requestBodyUriSpec = mock(WebClient.RequestBodyUriSpec.class);\n  WebClient.RequestBodySpec requestBodySpec = mock(WebClient.RequestBodySpec.class);\n  WebClient.ResponseSpec responseSpec = mock(WebClient.ResponseSpec.class);\n  WebClient.RequestHeadersSpec requestHeadersSpec = mock(WebClient.RequestHeadersSpec.class);\n  @Autowired AdvantageClientConfig advantageClientConfig;\n  @Autowired AdvantageClientItemWriter advantageClientItemWriter;\n\n  ArgumentCaptor&lt;String&gt; uriCaptor = ArgumentCaptor.forClass(String.class);\n  ArgumentCaptor&lt;MediaType&gt; mediaTypeCaptor= ArgumentCaptor.forClass(MediaType.class);\n  ArgumentCaptor&lt;String&gt; headerNameCaptor= ArgumentCaptor.forClass(String.class);\n  ArgumentCaptor&lt;String&gt; headerValueCaptor= ArgumentCaptor.forClass(String.class);\n  ArgumentCaptor&lt;String&gt; bodyCaptor= ArgumentCaptor.forClass(String.class);\n  private MemoryAppender memoryAppender;\n\n  @BeforeEach\n  public void init(){\n\n    Logger logger = (Logger) LoggerFactory.getLogger(&quot;com.test&quot;);\n    memoryAppender = new MemoryAppender();\n    memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\n    logger.setLevel(Level.DEBUG);\n    logger.addAppender(memoryAppender);\n    memoryAppender.start();\n  }\n\n  @Test\n  public void successfulAdvantageClientWrite() throws Exception {\n    setupMockReturns();\n    when(responseSpec.toBodilessEntity()).thenReturn(Mono.just(new ResponseEntity(null, HttpStatus.OK)));\n\n    List&lt;MiscInfo&gt; miscInfos = new ArrayList&lt;&gt;();\n    final MiscInfo miscInfo = createMiscInfo1();\n    miscInfos.add(miscInfo);\n\n    advantageClientItemWriter.write(miscInfos);\n    Assertions.assertEquals(advantageClientConfig.getEndpoint(), uriCaptor.getValue());\n    Assertions.assertEquals(MediaType.APPLICATION_JSON, mediaTypeCaptor.getValue());\n    Assertions.assertEquals( advantageClientConfig.getHeaderName(), headerNameCaptor.getValue());\n    Assertions.assertEquals(advantageClientConfig.getApiKey(), headerValueCaptor.getValue());\n    Assertions.assertEquals(new ObjectMapper().writer().withDefaultPrettyPrinter().writeValueAsString(miscInfos), bodyCaptor.getValue());\n    assertThat(memoryAppender.search(&quot;Write to Advantage status: &quot;, Level.DEBUG).size()).isEqualTo(1);\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659694521,"post_id":73247761,"comment_id":129360536,"body_markdown":"Maybe these will help: [How to print escape character to Windows console from java](https://stackoverflow.com/questions/45081061/how-to-print-escape-character-to-windows-console-from-java) or [How can you use vt100 escape codes in java on windows](https://stackoverflow.com/questions/52767585/how-can-you-use-vt100-escape-codes-in-java-on-windows)","body":"Maybe these will help: <a href=\"https://stackoverflow.com/questions/45081061/how-to-print-escape-character-to-windows-console-from-java\">How to print escape character to Windows console from java</a> or <a href=\"https://stackoverflow.com/questions/52767585/how-can-you-use-vt100-escape-codes-in-java-on-windows\">How can you use vt100 escape codes in java on windows</a>"},{"owner":{"account_id":21645117,"reputation":1,"user_id":15990930,"display_name":"user15990930"},"score":0,"creation_date":1659700037,"post_id":73247761,"comment_id":129362337,"body_markdown":"@Abra   Tried both, does not work still","body":"@Abra   Tried both, does not work still"}],"owner":{"account_id":21645117,"reputation":1,"user_id":15990930,"display_name":"user15990930"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659692932,"creation_date":1659692640,"question_id":73247761,"body_markdown":"I am trying to color the output of my game.\r\n\r\nIt Works with Netbeans, but in cmd.exe just displays ```&lt;-```,\r\nThe code I am trying to color is\r\n\r\n```java\r\nSystem.out.print(&quot;/033[34m[GAME/info]: FPS recorder has start/033[0m&quot;);\r\n        \r\nSystem.out.print(&quot;\\n/033[37m[GAME/debug]: FPS Print-Out will print every &quot;+ time +&quot;.000ms/033[37m&quot;);\r\n```\r\n\r\n[Cmd image][1]\r\n\r\n[NetBeans image][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tcPU6.png\r\n  [2]: https://i.stack.imgur.com/XjxZP.png","title":"ESC not working in java when using cmd.exe","body":"<p>I am trying to color the output of my game.</p>\n<p>It Works with Netbeans, but in cmd.exe just displays <code>&lt;-</code>,\nThe code I am trying to color is</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(&quot;/033[34m[GAME/info]: FPS recorder has start/033[0m&quot;);\n        \nSystem.out.print(&quot;\\n/033[37m[GAME/debug]: FPS Print-Out will print every &quot;+ time +&quot;.000ms/033[37m&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tcPU6.png\" rel=\"nofollow noreferrer\">Cmd image</a></p>\n<p><a href=\"https://i.stack.imgur.com/XjxZP.png\" rel=\"nofollow noreferrer\">NetBeans image</a></p>\n"},{"tags":["java","performance","jmeter","performance-testing"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1659788697,"post_id":73246982,"comment_id":129381000,"body_markdown":"What kind of environment are you running in? If you are using EC2 for example and have an instance with that doesn&#39;t have dedicated network speed, then speed can be cut in half after 10 minutes. E.g. when you are using &#39;up to 25 Gbps&#39;. https://youtu.be/UTKQbYABg_I?t=1466","body":"What kind of environment are you running in? If you are using EC2 for example and have an instance with that doesn&#39;t have dedicated network speed, then speed can be cut in half after 10 minutes. E.g. when you are using &#39;up to 25 Gbps&#39;. <a href=\"https://youtu.be/UTKQbYABg_I?t=1466\" rel=\"nofollow noreferrer\">youtu.be/UTKQbYABg_I?t=1466</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659692636,"creation_date":1659692636,"answer_id":73247759,"question_id":73246982,"body_markdown":" 1. Make sure that your application has enough headroom to operate in terms of CPU, RAM, Network, Disk, etc. as increased response times might be caused by lack of any of the above. If you don&#39;t have a better monitoring toolchain you can consider using [JMeter PerfMon Plugin][1] for this\r\n 2. Double check your application server, database server and any middleware configuration, defaults are not suitable for high loads and most probably you need to tune it somehow (increase number of maximum threads, adjust memory usage, etc.)\r\n 3. Use a [profiler tool][2] which can give you comprehensive information regarding the slowest application parts, largest objects, heaviest DB queries and so on\r\n 4. And last but not the least make sure to follow [JMeter Best Practices][3] as it might be the case it&#39;s JMeter who cannot send requests fast enough and reporting false negative results   \r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/jmeter-performance-metrics\r\n  [2]: https://en.wikipedia.org/wiki/List_of_performance_analysis_tools\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html","title":"Throughput of our Java based web application is slowing down with higher concurrency","body":"<ol>\n<li>Make sure that your application has enough headroom to operate in terms of CPU, RAM, Network, Disk, etc. as increased response times might be caused by lack of any of the above. If you don't have a better monitoring toolchain you can consider using <a href=\"https://www.blazemeter.com/blog/jmeter-performance-metrics\" rel=\"nofollow noreferrer\">JMeter PerfMon Plugin</a> for this</li>\n<li>Double check your application server, database server and any middleware configuration, defaults are not suitable for high loads and most probably you need to tune it somehow (increase number of maximum threads, adjust memory usage, etc.)</li>\n<li>Use a <a href=\"https://en.wikipedia.org/wiki/List_of_performance_analysis_tools\" rel=\"nofollow noreferrer\">profiler tool</a> which can give you comprehensive information regarding the slowest application parts, largest objects, heaviest DB queries and so on</li>\n<li>And last but not the least make sure to follow <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> as it might be the case it's JMeter who cannot send requests fast enough and reporting false negative results</li>\n</ol>\n"}],"owner":{"account_id":1815186,"reputation":90,"user_id":1650421,"display_name":"Rahul Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73247759,"answer_count":1,"score":0,"last_activity_date":1659692636,"creation_date":1659688933,"question_id":73246982,"body_markdown":"We got Jmeter performance results for our Java based web application which looks like below -\r\nWe ran 30 mins test with 50 Users and 50 Threads and another test with 100 users and 100 Threads.\r\nWe observed the Elapsed Time for both 50 Users and 100 Users Run.\r\nUnder 50 Users test elapsed time consistently remains the same.\r\nHowever under 100 Users, for the first 10 minutes API response times are good but then suddenly start to degrade.\r\n\r\nWhat can be the probable causes here which I should investigate ?","title":"Throughput of our Java based web application is slowing down with higher concurrency","body":"<p>We got Jmeter performance results for our Java based web application which looks like below -\nWe ran 30 mins test with 50 Users and 50 Threads and another test with 100 users and 100 Threads.\nWe observed the Elapsed Time for both 50 Users and 100 Users Run.\nUnder 50 Users test elapsed time consistently remains the same.\nHowever under 100 Users, for the first 10 minutes API response times are good but then suddenly start to degrade.</p>\n<p>What can be the probable causes here which I should investigate ?</p>\n"},{"tags":["java","eclipse","debugging","maven"],"answers":[{"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537256756,"creation_date":1348650939,"answer_id":12598357,"question_id":12598261,"body_markdown":"The Run/Debug configuration you&#39;re using is meant to let you run Maven on your workspace as if from the command line without leaving Eclipse.\r\n\r\nAssuming your tests are JUnit based you should be able to debug them by choosing a source folder containing tests with the right button and choose `Debug as...` -&gt; `JUnit tests`.","title":"Maven build debug in Eclipse","body":"<p>The Run/Debug configuration you're using is meant to let you run Maven on your workspace as if from the command line without leaving Eclipse.</p>\n\n<p>Assuming your tests are JUnit based you should be able to debug them by choosing a source folder containing tests with the right button and choose <code>Debug as...</code> -> <code>JUnit tests</code>.</p>\n"},{"tags":[],"owner":{"account_id":1212778,"reputation":2636,"user_id":1181011,"accept_rate":67,"display_name":"alex.p"},"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1438232885,"creation_date":1348651613,"answer_id":12598562,"question_id":12598261,"body_markdown":"Easiest way I find is to:\r\n\r\n 1. Right click project\r\n    \r\n 2. Debug as -&gt; Maven build **...**\r\n    \r\n 3. In the goals field put **-Dmaven.surefire.debug test**\r\n    \r\n 4. In the parameters put a new parameter called **forkCount** with a value\r\n    of **0** (previously was forkMode=never but it is deprecated and doesn&#39;t work anymore)\r\n\r\nSet your breakpoints down and run this configuration and it should hit the breakpoint.\r\n","title":"Maven build debug in Eclipse","body":"<p>Easiest way I find is to:</p>\n\n<ol>\n<li><p>Right click project</p></li>\n<li><p>Debug as -> Maven build <strong>...</strong></p></li>\n<li><p>In the goals field put <strong>-Dmaven.surefire.debug test</strong></p></li>\n<li><p>In the parameters put a new parameter called <strong>forkCount</strong> with a value\nof <strong>0</strong> (previously was forkMode=never but it is deprecated and doesn't work anymore)</p></li>\n</ol>\n\n<p>Set your breakpoints down and run this configuration and it should hit the breakpoint.</p>\n"},{"tags":[],"owner":{"account_id":315930,"reputation":1931,"user_id":631823,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1594834030,"creation_date":1378303572,"answer_id":18616075,"question_id":12598261,"body_markdown":"if you are using Maven 2.0.8+, then it will be very simple,\r\nrun **mvndebug** from the console, and connect to it via Remote Debug Java Application with port 8000.\r\n","title":"Maven build debug in Eclipse","body":"<p>if you are using Maven 2.0.8+, then it will be very simple,\nrun <strong>mvndebug</strong> from the console, and connect to it via Remote Debug Java Application with port 8000.</p>\n"},{"tags":[],"owner":{"account_id":5359182,"reputation":71,"user_id":4271025,"display_name":"Mohamed Chaabani"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502795540,"creation_date":1420541003,"answer_id":27796927,"question_id":12598261,"body_markdown":"probleme : unit test result are not the same runing with eclipse and maven due ti order of library used by eclipse and maven.\r\nIn my case the test was success with maven but i want to debug my unit test using eclipse, so \r\nthe most easy way to debug unit test class with eclipse and runing maven is :\r\n \r\n1) mvn -Dtest=MySuperClassTest -Dmaven.surefire.debug test ==&gt; it will listen to the 5005 port (default port)\r\n\r\n2) Go to eclipse, open a debug configuration, add a new java remote application and change the port to 5005 and debug \r\n\r\n3) of course you must add break point somewhere in the class that you want to debug","title":"Maven build debug in Eclipse","body":"<p>probleme : unit test result are not the same runing with eclipse and maven due ti order of library used by eclipse and maven.\nIn my case the test was success with maven but i want to debug my unit test using eclipse, so \nthe most easy way to debug unit test class with eclipse and runing maven is :</p>\n\n<p>1) mvn -Dtest=MySuperClassTest -Dmaven.surefire.debug test ==> it will listen to the 5005 port (default port)</p>\n\n<p>2) Go to eclipse, open a debug configuration, add a new java remote application and change the port to 5005 and debug </p>\n\n<p>3) of course you must add break point somewhere in the class that you want to debug</p>\n"}],"owner":{"account_id":1192669,"reputation":697,"user_id":1165106,"accept_rate":50,"display_name":"Maciej Laskowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142284,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":12598562,"answer_count":4,"score":51,"last_activity_date":1659692614,"creation_date":1348650623,"question_id":12598261,"body_markdown":"I want to debug Eclipse build with tests. I tried to run it by Run &gt; Debug Configurations &gt; Maven Build. In Base directory is my Maven repo directory with pom.xml file, in goals &#39;clean install&#39;. When I click on debug Eclipse starts build, run tests but it doesn&#39;t stops on breakpoints.","title":"Maven build debug in Eclipse","body":"<p>I want to debug Eclipse build with tests. I tried to run it by Run > Debug Configurations > Maven Build. In Base directory is my Maven repo directory with pom.xml file, in goals 'clean install'. When I click on debug Eclipse starts build, run tests but it doesn't stops on breakpoints.</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659687550,"creation_date":1659687550,"answer_id":73246701,"question_id":73242155,"body_markdown":"It is not a big problem that you will call parent.findById(parentId);\r\nHibernate caches some of the requests especially when used findById. You can see this answer [link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/337072/what-are-the-first-and-second-level-caches-in-nhibernate\r\n\r\nThe only thing to note is that you should not override findById in the repository, or if you do you should added it to the jpa cache.","title":"Parent child issue hibernate jpa","body":"<p>It is not a big problem that you will call parent.findById(parentId);\nHibernate caches some of the requests especially when used findById. You can see this answer <a href=\"https://stackoverflow.com/questions/337072/what-are-the-first-and-second-level-caches-in-nhibernate\">link</a></p>\n<p>The only thing to note is that you should not override findById in the repository, or if you do you should added it to the jpa cache.</p>\n"},{"tags":[],"owner":{"account_id":25780380,"reputation":259,"user_id":19526090,"display_name":"Sandip Gadade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659687946,"creation_date":1659687946,"answer_id":73246794,"question_id":73242155,"body_markdown":"No need to create new object in\r\n\r\n    public List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\njust write\r\n\r\n    @OneToMany(targetEntity = Child.class, cascade = CascadeType.ALL)\r\n    public List&lt;Child&gt; children;","title":"Parent child issue hibernate jpa","body":"<p>No need to create new object in</p>\n<pre><code>public List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n</code></pre>\n<p>just write</p>\n<pre><code>@OneToMany(targetEntity = Child.class, cascade = CascadeType.ALL)\npublic List&lt;Child&gt; children;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659692377,"creation_date":1659692377,"answer_id":73247699,"question_id":73242155,"body_markdown":"`EntityManager#getReference(Class&lt;T&gt; entityClass, Object primaryKey)` is your friend here. \r\n\r\n`entityManager.getReference(Parent.class, parentId);` returns an entity proxy. It can be used to improve the performance of the write operations since there will be no database call unless you access the fields of the returned entity. ","title":"Parent child issue hibernate jpa","body":"<p><code>EntityManager#getReference(Class&lt;T&gt; entityClass, Object primaryKey)</code> is your friend here.</p>\n<p><code>entityManager.getReference(Parent.class, parentId);</code> returns an entity proxy. It can be used to improve the performance of the write operations since there will be no database call unless you access the fields of the returned entity.</p>\n"}],"owner":{"account_id":25187413,"reputation":19,"user_id":19028085,"display_name":"Sul W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659692377,"creation_date":1659646642,"question_id":73242155,"body_markdown":"Consider I have 2 entity\r\n\r\n```\r\n@Entity(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    public List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\nand\r\n```\r\n@Entity\r\nclass Child {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n    \r\n    @ManyToOne\r\n    public Parent parent;\r\n}\r\n```\r\nhow can I create Child instance with parentId\r\nwithout call `findById(Long parentId)` i.e.\r\n```\r\nChild createChild(parentId) {\r\nChild child = new Child();\r\nchild.parent = //parent.findById(parentId); I don&#39;t wanna go to database \r\n//for nothing if in this spot anyway will be parentId in database\r\nreturn child;\r\n}\r\n```\r\nI thought it can be done with quare but hql don&#39;t have \r\n`INSERT .... VALUE ..`, so I&#39;m here, appreciate any help.\r\n\r\nIf it&#39;s don&#39;t have any sense due to architecture,\r\n please explain, it&#39;s be a great help.","title":"Parent child issue hibernate jpa","body":"<p>Consider I have 2 entity</p>\n<pre><code>@Entity(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    public List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\nclass Child {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n    \n    @ManyToOne\n    public Parent parent;\n}\n</code></pre>\n<p>how can I create Child instance with parentId\nwithout call <code>findById(Long parentId)</code> i.e.</p>\n<pre><code>Child createChild(parentId) {\nChild child = new Child();\nchild.parent = //parent.findById(parentId); I don't wanna go to database \n//for nothing if in this spot anyway will be parentId in database\nreturn child;\n}\n</code></pre>\n<p>I thought it can be done with quare but hql don't have\n<code>INSERT .... VALUE ..</code>, so I'm here, appreciate any help.</p>\n<p>If it's don't have any sense due to architecture,\nplease explain, it's be a great help.</p>\n"},{"tags":["java","apache-kafka","avro","confluent-platform","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":9069212,"reputation":103,"user_id":6753061,"display_name":"David Sauvage"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582315136,"creation_date":1582315136,"answer_id":60345466,"question_id":60344848,"body_markdown":"You need to customize your consumer configuration.\r\nThe ContentDeserializer needs to be an KafkaAvroDeserializer with a reference to your schema registry.","title":"Kafka Avro serialize/deserialize into concrete type using schema registry failing","body":"<p>You need to customize your consumer configuration.\nThe ContentDeserializer needs to be an KafkaAvroDeserializer with a reference to your schema registry.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582405755,"creation_date":1582405408,"answer_id":60356788,"question_id":60344848,"body_markdown":"MyConcreteClass needs to extend SpecificRecord\r\n\r\nYou can use the Avro maven plugin to generate it from a schema\r\n\r\nThen you must configure the serializer to know you want to use specific records\r\n\r\n`props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;) ;`","title":"Kafka Avro serialize/deserialize into concrete type using schema registry failing","body":"<p>MyConcreteClass needs to extend SpecificRecord</p>\n\n<p>You can use the Avro maven plugin to generate it from a schema</p>\n\n<p>Then you must configure the serializer to know you want to use specific records</p>\n\n<p><code>props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, \"true\") ;</code></p>\n"},{"tags":[],"owner":{"account_id":13646643,"reputation":11,"user_id":9845498,"display_name":"Lifan Huang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637569706,"creation_date":1637569706,"answer_id":70062855,"question_id":60344848,"body_markdown":"In addition to OneCricketeer&#39;s answer, I encountered another java.lang.ClassCastException after setting the specific avro reader config. It was `nested exception is java.lang.ClassCastException: class my.package.Envelope cannot be cast to class my.package.Envelope (my.package.Envelope is in unnamed module of loader &#39;app&#39;; my.package.Envelope is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @3be312bd);` It seems like spring boot devtools wrapped the class in it&#39;s reloader module causing jvm thought that&#39;s a different class.\r\n\r\nI removed the spring boot devtools in pom and it finally worked as expected now.\r\n\r\n    &lt;!-- Remove this from pom.xml --&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;","title":"Kafka Avro serialize/deserialize into concrete type using schema registry failing","body":"<p>In addition to OneCricketeer's answer, I encountered another java.lang.ClassCastException after setting the specific avro reader config. It was <code>nested exception is java.lang.ClassCastException: class my.package.Envelope cannot be cast to class my.package.Envelope (my.package.Envelope is in unnamed module of loader 'app'; my.package.Envelope is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @3be312bd);</code> It seems like spring boot devtools wrapped the class in it's reloader module causing jvm thought that's a different class.</p>\n<p>I removed the spring boot devtools in pom and it finally worked as expected now.</p>\n<pre><code>&lt;!-- Remove this from pom.xml --&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063138,"reputation":41,"user_id":2595407,"display_name":"TsiarArdak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659692116,"creation_date":1659692116,"answer_id":73247629,"question_id":60344848,"body_markdown":"I was getting blocked by the same issue as you. Thing is that the `KafkaAvroDeserializer` was deserializing the message as `GenericData$Record` so then spring kafka is searching the class annotated with `@KafkaListener` to have `@KafkaHandler` methods with a parameter of this type.\r\n\r\nYou&#39;ll need to add this property to your spring kafka configuration so the deserializer can return directly the `SpecificRecord` classes that you previously need to generate with the avro plugin:\r\n\r\n```yml\r\nspring:\r\n  kafka:\r\n    properties:\r\n      specific.avro.reader: true\r\n```\r\n\r\nThen your consumer may be like this\r\n\r\n```java\r\n@KafkaListener(...)\r\npublic void consumeCreation(MyAvroGeneratedClass specificRecord) {\r\n    log.info(&quot;Consuming record: {}&quot;, specificRecord);\r\n}\r\n```\r\n","title":"Kafka Avro serialize/deserialize into concrete type using schema registry failing","body":"<p>I was getting blocked by the same issue as you. Thing is that the <code>KafkaAvroDeserializer</code> was deserializing the message as <code>GenericData$Record</code> so then spring kafka is searching the class annotated with <code>@KafkaListener</code> to have <code>@KafkaHandler</code> methods with a parameter of this type.</p>\n<p>You'll need to add this property to your spring kafka configuration so the deserializer can return directly the <code>SpecificRecord</code> classes that you previously need to generate with the avro plugin:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    properties:\n      specific.avro.reader: true\n</code></pre>\n<p>Then your consumer may be like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(...)\npublic void consumeCreation(MyAvroGeneratedClass specificRecord) {\n    log.info(&quot;Consuming record: {}&quot;, specificRecord);\n}\n</code></pre>\n"}],"owner":{"account_id":3096175,"reputation":1000,"user_id":2621303,"accept_rate":53,"display_name":"Tiberiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1659692116,"creation_date":1582311989,"question_id":60344848,"body_markdown":"I can&#39;t seem to be able to consume messages in their concrete avro implementation, I get the following exception:\r\n\r\n```\r\nclass org.apache.avro.generic.GenericData$Record cannot be cast to class my.package.MyConcreteClass\r\n```\r\n\r\nHere is the code (I use `Spring Boot`)\r\n\r\n**MyProducer.java**\r\n```\r\nprivate final KafkaTemplate&lt;String, MyConcreteClass&gt; kafkaTemplate;\r\n\r\npublic PositionProducer(KafkaTemplate&lt;String, MyConcreteClass&gt; kafkaTemplate) {\r\n    this.kafkaTemplate = kafkaTemplate;\r\n}\r\n\r\npublic void sendMessage(MyConcreteClass myConcreteClass) {\r\n    this.kafkaTemplate.send(topic, myConcreteClass);\r\n}\r\n```\r\n\r\n**MyConsumer.java**\r\n```\r\n@KafkaListener(topics = &quot;#{&#39;${consumer.topic.name}&#39;}&quot;, groupId = &quot;#{&#39;${spring.kafka.consumer.group-id}&#39;}&quot;)\r\npublic void listen(MyConcreteClass incomingMsg) {\r\n    //handle\r\n}\r\n```\r\n\r\nNote that if I change everything to `GenericRecord`, the deserialization works properly, so I know all config (not pasted) is configured correctly.\r\n\r\nAlso maybe important to note that I didn&#39;t register the schema myself, and instead let my client code do it for me.\r\n\r\nAny ideas?\r\n\r\nEDIT:\r\n\r\n**Config:**\r\n```\r\n@Bean\r\npublic ConsumerFactory&lt;String, MyConcreteClass&gt; consumerFactory() {\r\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;io.confluent.kafka.serializers.KafkaAvroDeserializer&quot;);\r\n    props.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n}\r\n```","title":"Kafka Avro serialize/deserialize into concrete type using schema registry failing","body":"<p>I can't seem to be able to consume messages in their concrete avro implementation, I get the following exception:</p>\n\n<pre><code>class org.apache.avro.generic.GenericData$Record cannot be cast to class my.package.MyConcreteClass\n</code></pre>\n\n<p>Here is the code (I use <code>Spring Boot</code>)</p>\n\n<p><strong>MyProducer.java</strong></p>\n\n<pre><code>private final KafkaTemplate&lt;String, MyConcreteClass&gt; kafkaTemplate;\n\npublic PositionProducer(KafkaTemplate&lt;String, MyConcreteClass&gt; kafkaTemplate) {\n    this.kafkaTemplate = kafkaTemplate;\n}\n\npublic void sendMessage(MyConcreteClass myConcreteClass) {\n    this.kafkaTemplate.send(topic, myConcreteClass);\n}\n</code></pre>\n\n<p><strong>MyConsumer.java</strong></p>\n\n<pre><code>@KafkaListener(topics = \"#{'${consumer.topic.name}'}\", groupId = \"#{'${spring.kafka.consumer.group-id}'}\")\npublic void listen(MyConcreteClass incomingMsg) {\n    //handle\n}\n</code></pre>\n\n<p>Note that if I change everything to <code>GenericRecord</code>, the deserialization works properly, so I know all config (not pasted) is configured correctly.</p>\n\n<p>Also maybe important to note that I didn't register the schema myself, and instead let my client code do it for me.</p>\n\n<p>Any ideas?</p>\n\n<p>EDIT:</p>\n\n<p><strong>Config:</strong></p>\n\n<pre><code>@Bean\npublic ConsumerFactory&lt;String, MyConcreteClass&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \"org.apache.kafka.common.serialization.StringDeserializer\");\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \"io.confluent.kafka.serializers.KafkaAvroDeserializer\");\n    props.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"answers":[{"tags":[],"owner":{"account_id":1768024,"reputation":63,"user_id":1613398,"display_name":"michaelvogt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539110774,"creation_date":1539110774,"answer_id":52727496,"question_id":52517094,"body_markdown":"I remember vaguely that you need to use a different function to find fragments inside fragments. This is what works for me without problems: \r\n\r\narFragment = getChildFragmentManager().findFragmentById(R.id.ar_fragment);\r\n\r\n \r\nHope this helps :)","title":"Create ArFragment object inside another Fragment","body":"<p>I remember vaguely that you need to use a different function to find fragments inside fragments. This is what works for me without problems: </p>\n\n<p>arFragment = getChildFragmentManager().findFragmentById(R.id.ar_fragment);</p>\n\n<p>Hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556085234,"creation_date":1556084856,"answer_id":55823153,"question_id":52517094,"body_markdown":"In Android an `Activity` can contain several `Fragments` inside itself. When `Activity` is running, you can manipulate each `Fragment` independently, such as add or remove them. \r\n\r\n\r\nEach *Fragment* can be considered a *View Controller*. Android allows you put a ***Child Fragment*** inside ***Parent Fragment***. \r\n\r\nHere&#39;s how you can create one ArFragment inside another one:\r\n\r\nIn Kotlin:\r\n\r\n    val arcoreFragment = MyARFragment()\r\n\r\n    childFragmentManager.beginTransaction().apply {\r\n        add(R.id.ar_fragment, arcoreFragment)\r\n        commit()\r\n    }\r\n\r\nIn Java:\r\n\r\n    ArFragment arcoreFragment = new MyARFragment();\r\n\r\n    FragmentTransaction ta = getChildFragmentManager().beginTransaction();\r\n    ta.add(R.id.ar_fragment, arcoreFragment).commit();\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fvVex.png","title":"Create ArFragment object inside another Fragment","body":"<p>In Android an <code>Activity</code> can contain several <code>Fragments</code> inside itself. When <code>Activity</code> is running, you can manipulate each <code>Fragment</code> independently, such as add or remove them. </p>\n\n<p>Each <em>Fragment</em> can be considered a <em>View Controller</em>. Android allows you put a <strong><em>Child Fragment</em></strong> inside <strong><em>Parent Fragment</em></strong>. </p>\n\n<p>Here's how you can create one ArFragment inside another one:</p>\n\n<p>In Kotlin:</p>\n\n<pre><code>val arcoreFragment = MyARFragment()\n\nchildFragmentManager.beginTransaction().apply {\n    add(R.id.ar_fragment, arcoreFragment)\n    commit()\n}\n</code></pre>\n\n<p>In Java:</p>\n\n<pre><code>ArFragment arcoreFragment = new MyARFragment();\n\nFragmentTransaction ta = getChildFragmentManager().beginTransaction();\nta.add(R.id.ar_fragment, arcoreFragment).commit();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/fvVex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fvVex.png\" alt=\"\"></a></p>\n"},{"tags":[],"owner":{"account_id":6403180,"reputation":554,"user_id":4965211,"display_name":"Mizuki Sonoko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578148998,"creation_date":1578148998,"answer_id":59591738,"question_id":52517094,"body_markdown":"I guess you should invoke `getChildFragmentManager` in `onActivityCreated`.\r\n\r\nThis is my code, it ran correctly. (Sorry this is Kotlin)\r\n```kotlin\r\nclass MyFragment : Fragment() {\r\n    private lateinit var arFragment: ARFragment\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, @Nullable container: ViewGroup?, @Nullable savedInstanceState: Bundle?\r\n    ): View? {\r\n        // fragment_sample contains ARFragment\r\n        return inflater.inflate(R.layout.fragment_sample, container, false)\r\n    }\r\n\r\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\r\n        super.onActivityCreated(savedInstanceState)\r\n        arFragment = childFragmentManager.findFragmentById(R.id.ar_fragment) as MyARFragment\r\n        ...\r\n     }\r\n     ...\r\n```\r\n[completely code](https://tech.mizuki.io/post/14/)","title":"Create ArFragment object inside another Fragment","body":"<p>I guess you should invoke <code>getChildFragmentManager</code> in <code>onActivityCreated</code>.</p>\n\n<p>This is my code, it ran correctly. (Sorry this is Kotlin)</p>\n\n<pre><code>class MyFragment : Fragment() {\n    private lateinit var arFragment: ARFragment\n\n    override fun onCreateView(\n        inflater: LayoutInflater, @Nullable container: ViewGroup?, @Nullable savedInstanceState: Bundle?\n    ): View? {\n        // fragment_sample contains ARFragment\n        return inflater.inflate(R.layout.fragment_sample, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        arFragment = childFragmentManager.findFragmentById(R.id.ar_fragment) as MyARFragment\n        ...\n     }\n     ...\n</code></pre>\n\n<p><a href=\"https://tech.mizuki.io/post/14/\" rel=\"nofollow noreferrer\">completely code</a></p>\n"}],"owner":{"account_id":14422826,"reputation":31,"user_id":10418437,"display_name":"Alex Chorak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1659691959,"creation_date":1537962694,"question_id":52517094,"body_markdown":"I&#39;m working on a project with ArCore.\r\n\r\nI&#39;m trying to create an instance of the ArFragment object inside another Fragment. It keeps returning null. \r\n\r\nI have one Activity, MainActivity, and I have a total of 3 fragments that are used within a ViewPager.\r\n\r\n **ArFragment returns null - Image**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen i&#39;m trying to create an ArFragment object from a 2nd activity, it works. But passing the Arfragment from a second activity to the Fragment results in a poor user-experience, so i&#39;d rather avoid that.\r\n\r\nIs there any way to create an ArFragment within another Fragment?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AOcft.png","title":"Create ArFragment object inside another Fragment","body":"<p>I'm working on a project with ArCore.</p>\n\n<p>I'm trying to create an instance of the ArFragment object inside another Fragment. It keeps returning null. </p>\n\n<p>I have one Activity, MainActivity, and I have a total of 3 fragments that are used within a ViewPager.</p>\n\n<p><strong>ArFragment returns null - Image</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/AOcft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AOcft.png\" alt=\"enter image description here\"></a></p>\n\n<p>When i'm trying to create an ArFragment object from a 2nd activity, it works. But passing the Arfragment from a second activity to the Fragment results in a poor user-experience, so i'd rather avoid that.</p>\n\n<p>Is there any way to create an ArFragment within another Fragment?</p>\n"},{"tags":["java","linux","windows","windows-10","java-10"],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528798970,"creation_date":1528798970,"answer_id":50814839,"question_id":50814637,"body_markdown":"You should be able to use NIO.2&#39;s `FileSystemProvider`, specifically [sun.nio.fs.UnixFileSystemProvider][1].\r\n\r\nThat allows you to do something like\r\n\r\n    FileSystemProvider fsp = new UnixFileSystemProvider();\r\n    Path path = fsp.getPath(pathToTestPage.toUri());\r\n\r\n\r\n  [1]: https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixFileSystemProvider.java","title":"Can I build a Linux path in Java running on Windows without hard-coding?","body":"<p>You should be able to use NIO.2's <code>FileSystemProvider</code>, specifically <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixFileSystemProvider.java\" rel=\"nofollow noreferrer\">sun.nio.fs.UnixFileSystemProvider</a>.</p>\n\n<p>That allows you to do something like</p>\n\n<pre><code>FileSystemProvider fsp = new UnixFileSystemProvider();\nPath path = fsp.getPath(pathToTestPage.toUri());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17488836,"reputation":1,"user_id":12681383,"display_name":"Mano Vandemoortel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638278472,"creation_date":1638278472,"answer_id":70170025,"question_id":50814637,"body_markdown":"If a String result is acceptable, consider combining the power of Paths.get(...) and Apache Commons IO: \r\n\r\n    Path path = Paths.get(folder, &quot;selectorTestPage.html&quot;); \r\n    return FilenameUtils.separatorsToUnix(path.toString());\r\n\r\n","title":"Can I build a Linux path in Java running on Windows without hard-coding?","body":"<p>If a String result is acceptable, consider combining the power of Paths.get(...) and Apache Commons IO:</p>\n<pre><code>Path path = Paths.get(folder, &quot;selectorTestPage.html&quot;); \nreturn FilenameUtils.separatorsToUnix(path.toString());\n</code></pre>\n"}],"owner":{"account_id":3774,"reputation":205977,"user_id":5486,"accept_rate":59,"display_name":"Ryan Lundy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1556,"favorite_count":0,"down_vote_count":7,"up_vote_count":7,"answer_count":2,"score":0,"last_activity_date":1659691947,"creation_date":1528798355,"question_id":50814637,"body_markdown":"I&#39;m using Docker containers to host a Selenium hub and some nodes, and I need to help those tests locate a static HTML file.  I&#39;ve mapped a folder on my local drive to the Docker nodes.\r\n\r\nMy code (Java 10, running on Windows 10) looks like this:\r\n\r\n    private URL getTestPageUrl() {\r\n        var folder = Common.getString(Prop.testAssetFolder);\r\n        var pathToTestPage = Paths.get(folder, &quot;selectorTestPage.html&quot;);\r\n        URL url = null;\r\n        try { url = pathToTestPage.toUri().toURL(); }\r\n        catch (MalformedURLException e) { /* Most pointlessly checked exception ever. */ }\r\n        return url;\r\n    }\r\n\r\n`pathToTestPage` comes out as `\\testAssets\\selectorTestPage.html`, which `.toUri().toURL()` then converts to `file:/C:/testAssets/selectorTestPage.html`, which of course doesn&#39;t fly on Linux.\r\n\r\nObviously I can just glue together some folder and file names and some hard-coded `/` to get this path in Linux format, but is there a more elegant way?","title":"Can I build a Linux path in Java running on Windows without hard-coding?","body":"<p>I'm using Docker containers to host a Selenium hub and some nodes, and I need to help those tests locate a static HTML file.  I've mapped a folder on my local drive to the Docker nodes.</p>\n\n<p>My code (Java 10, running on Windows 10) looks like this:</p>\n\n<pre><code>private URL getTestPageUrl() {\n    var folder = Common.getString(Prop.testAssetFolder);\n    var pathToTestPage = Paths.get(folder, \"selectorTestPage.html\");\n    URL url = null;\n    try { url = pathToTestPage.toUri().toURL(); }\n    catch (MalformedURLException e) { /* Most pointlessly checked exception ever. */ }\n    return url;\n}\n</code></pre>\n\n<p><code>pathToTestPage</code> comes out as <code>\\testAssets\\selectorTestPage.html</code>, which <code>.toUri().toURL()</code> then converts to <code>file:/C:/testAssets/selectorTestPage.html</code>, which of course doesn't fly on Linux.</p>\n\n<p>Obviously I can just glue together some folder and file names and some hard-coded <code>/</code> to get this path in Linux format, but is there a more elegant way?</p>\n"},{"tags":["java","generics","java-11"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1659538297,"post_id":73223384,"comment_id":129319180,"body_markdown":"Your class `Test` override `getMessageHandlerForContext`, can you include the base class also?","body":"Your class <code>Test</code> override <code>getMessageHandlerForContext</code>, can you include the base class also?"},{"owner":{"account_id":25968385,"reputation":21,"user_id":19684021,"display_name":"atroy"},"score":0,"creation_date":1659579321,"post_id":73223384,"comment_id":129329923,"body_markdown":"Test implements Test2\n\npublic interface Test2 {\n  &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(\n      final Class&lt;? extends B&gt; type);\n} @samabcde","body":"Test implements Test2  public interface Test2 {   &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(       final Class&lt;? extends B&gt; type); } @samabcde"},{"owner":{"account_id":25968385,"reputation":21,"user_id":19684021,"display_name":"atroy"},"score":0,"creation_date":1659689651,"post_id":73223384,"comment_id":129358839,"body_markdown":"@samabcde any help?","body":"@samabcde any help?"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1659692111,"post_id":73223384,"comment_id":129359698,"body_markdown":"I can&#39;t see the mentioned error after adding `Test2`, where do you see the error message(or what trigger it)?","body":"I can&#39;t see the mentioned error after adding <code>Test2</code>, where do you see the error message(or what trigger it)?"},{"owner":{"account_id":25968385,"reputation":21,"user_id":19684021,"display_name":"atroy"},"score":0,"creation_date":1659956066,"post_id":73223384,"comment_id":129410205,"body_markdown":"final MessageHandler&lt;B&gt; handler = test.getMessageHandlerForContext(context.getClass()); @samabcde if you call the method like this you will get issue","body":"final MessageHandler&lt;B&gt; handler = test.getMessageHandlerForContext(context.getClass()); @samabcde if you call the method like this you will get issue"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1659965214,"post_id":73223384,"comment_id":129413468,"body_markdown":"Please take some time to read https://stackoverflow.com/help/minimal-reproducible-example. Even I got your last comment, I still can&#39;t reproduce the error(B is not known to me). Although you can see the error easily, keep in mind that reader like me can only refer to what you put here. If your problem is so difficult to reproduce, people are less willing to help you.","body":"Please take some time to read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. Even I got your last comment, I still can&#39;t reproduce the error(B is not known to me). Although you can see the error easily, keep in mind that reader like me can only refer to what you put here. If your problem is so difficult to reproduce, people are less willing to help you."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661183060,"post_id":73223384,"comment_id":129705684,"body_markdown":"If you have a question about a compiler error, the minimum should be to post the code that causes the compiler error.","body":"If you have a question about a compiler error, the minimum should be to post the code that causes the compiler error."}],"owner":{"account_id":25968385,"reputation":21,"user_id":19684021,"display_name":"atroy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659691856,"creation_date":1659537428,"question_id":73223384,"body_markdown":"I am getting below error while compiling my source code in jdk11.0.16 , kindly help me to resolve this\r\n\r\nERROR: \r\n```   \r\ninferred type does not conform to upper bound(s)\r\n[ERROR]     inferred: MessageHandler&lt;? extends capture#1 of ? extends BootstrapContext&gt;\r\n[ERROR]     upper bound(s): MessageHandler&lt;? extends capture#1 of ? extends BootstrapContext&gt;,MessageHandler&lt;B&gt;\r\n```    \r\n\r\nCODE snippet:\r\n```\r\npublic interface Test2 {\r\n    &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(final Class&lt;? extends B&gt; type);\r\n}\r\n\r\n\r\nclass Test implements Test2 {\r\n    private final Map&lt;Class&lt;? extends BootstrapContext&gt;, MessageHandler&lt;?&gt;&gt; handlers =\r\n          new HashMap&lt;Class&lt;? extends BootstrapContext&gt;, MessageHandler&lt;?&gt;&gt;();\r\n    \t  \r\n    @Override\r\n    public &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(\r\n        final Class&lt;? extends B&gt; type) {\r\n      return (T) handlers.get(type);\r\n    }\r\n}      \r\n      \r\npublic interface MessageHandler&lt;B extends BootstrapContext&gt; {\r\n    void init(B bootContext);\r\n    void stop();\r\n}\r\n\r\npublic interface BootstrapContext {\r\n    \r\n}\r\n\r\n```","title":"incompatible types: inferred type does not conform to upper bound(s) in jdk11.0.16","body":"<p>I am getting below error while compiling my source code in jdk11.0.16 , kindly help me to resolve this</p>\n<p>ERROR:</p>\n<pre><code>inferred type does not conform to upper bound(s)\n[ERROR]     inferred: MessageHandler&lt;? extends capture#1 of ? extends BootstrapContext&gt;\n[ERROR]     upper bound(s): MessageHandler&lt;? extends capture#1 of ? extends BootstrapContext&gt;,MessageHandler&lt;B&gt;\n</code></pre>\n<p>CODE snippet:</p>\n<pre><code>public interface Test2 {\n    &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(final Class&lt;? extends B&gt; type);\n}\n\n\nclass Test implements Test2 {\n    private final Map&lt;Class&lt;? extends BootstrapContext&gt;, MessageHandler&lt;?&gt;&gt; handlers =\n          new HashMap&lt;Class&lt;? extends BootstrapContext&gt;, MessageHandler&lt;?&gt;&gt;();\n          \n    @Override\n    public &lt;B extends BootstrapContext, T extends MessageHandler&lt;? extends B&gt;&gt; T getMessageHandlerForContext(\n        final Class&lt;? extends B&gt; type) {\n      return (T) handlers.get(type);\n    }\n}      \n      \npublic interface MessageHandler&lt;B extends BootstrapContext&gt; {\n    void init(B bootContext);\n    void stop();\n}\n\npublic interface BootstrapContext {\n    \n}\n\n</code></pre>\n"},{"tags":["java","linux","file","filehandle"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1659692827,"post_id":73246732,"comment_id":129359939,"body_markdown":"**-1-** Check the code for silent exceptions; log sufficient info. SonaLint might surprise. **-2-** Write a small application and try to emulate the error you think might happen. **-3-** GC unlikely, there still is the `finalize` in `File` though. Maybe you should try `flush()` after every write, ugly and costly. **-4-** Writing your own cron job in java could coordinate things. Terrible too.","body":"<b>-1-</b> Check the code for silent exceptions; log sufficient info. SonaLint might surprise. <b>-2-</b> Write a small application and try to emulate the error you think might happen. <b>-3-</b> GC unlikely, there still is the <code>finalize</code> in <code>File</code> though. Maybe you should try <code>flush()</code> after every write, ugly and costly. <b>-4-</b> Writing your own cron job in java could coordinate things. Terrible too."},{"owner":{"account_id":13592438,"reputation":145,"user_id":9805413,"display_name":"Hemant Kumar"},"score":1,"creation_date":1659820424,"post_id":73246732,"comment_id":129387142,"body_markdown":"thanks @JoopEggen, after inspecting the logs carefully I suspect the cron job is messing things up. In application, I&#39;m creating the file before getting data from DB(seems a bad decision now), and the repo call is taking a few mins when the record count is huge meanwhile the cronjob runs and java loses the file reference it seems. Because I&#39;m getting a similar pattern at most places e.g. **08:04:14**-file created and repo method called-&gt;(cron job running every 5 min so 08:05:00 and  08:10:00 would run)-&gt; **08:10:21**-repo returns data and write operation happens. Need to replicate and verify.","body":"thanks @JoopEggen, after inspecting the logs carefully I suspect the cron job is messing things up. In application, I&#39;m creating the file before getting data from DB(seems a bad decision now), and the repo call is taking a few mins when the record count is huge meanwhile the cronjob runs and java loses the file reference it seems. Because I&#39;m getting a similar pattern at most places e.g. <b>08:04:14</b>-file created and repo method called-&gt;(cron job running every 5 min so 08:05:00 and  08:10:00 would run)-&gt; <b>08:10:21</b>-repo returns data and write operation happens. Need to replicate and verify."}],"owner":{"account_id":13592438,"reputation":145,"user_id":9805413,"display_name":"Hemant Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659691626,"creation_date":1659687674,"question_id":73246732,"body_markdown":"I have a java application, which generates files (ranging from a few Mb to 100s of Mb). I am getting this error when I try to close the file in the &quot;finally&quot; block.  \r\nFlow:\r\n\r\n 1. Application read the database, create a CSV file in the server in a specified folder and write to it  (a new file for each table in the database).\r\n 2. A cron job is running every few min to change the permission and zip all those unzipped files(new files) available in that specific folder.\r\n\r\nSo, here I am not able to zero down the root cause for that issue, as it&#39;s not happening for all files but a few.  \r\nThere are a few possibilities I can think of are, \r\n\r\n - the cron job in the server tries to zip/zip the file before the application finishes writing to it, and when the java application tries to close it at last and it gives that stale file handle error.\r\n\r\n - Or, Another thing I noticed is, that it is happening for those files which have a huge count of records in the range of 400k to 500k. Could it be somewhere related to GC in Java?\r\n\r\nAny suggestion would be a great help, Thanks in advance.","title":"How to fix Stale File handle Issue in java application?","body":"<p>I have a java application, which generates files (ranging from a few Mb to 100s of Mb). I am getting this error when I try to close the file in the &quot;finally&quot; block.<br />\nFlow:</p>\n<ol>\n<li>Application read the database, create a CSV file in the server in a specified folder and write to it  (a new file for each table in the database).</li>\n<li>A cron job is running every few min to change the permission and zip all those unzipped files(new files) available in that specific folder.</li>\n</ol>\n<p>So, here I am not able to zero down the root cause for that issue, as it's not happening for all files but a few.<br />\nThere are a few possibilities I can think of are,</p>\n<ul>\n<li><p>the cron job in the server tries to zip/zip the file before the application finishes writing to it, and when the java application tries to close it at last and it gives that stale file handle error.</p>\n</li>\n<li><p>Or, Another thing I noticed is, that it is happening for those files which have a huge count of records in the range of 400k to 500k. Could it be somewhere related to GC in Java?</p>\n</li>\n</ul>\n<p>Any suggestion would be a great help, Thanks in advance.</p>\n"},{"tags":["java","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382531140,"creation_date":1382531140,"answer_id":19541635,"question_id":19541582,"body_markdown":"    for (Map.Entry&lt;String, ArrayList&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n     System.out.println( entry.getKey());     \r\n     System.out.println( entry.getValue());//Returns the list of values\r\n    }","title":"Storing and Retrieving ArrayList values from hashmap","body":"<pre><code>for (Map.Entry&lt;String, ArrayList&lt;Integer&gt;&gt; entry : map.entrySet()) {\n System.out.println( entry.getKey());     \n System.out.println( entry.getValue());//Returns the list of values\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1467787366,"creation_date":1382531144,"answer_id":19541637,"question_id":19541582,"body_markdown":"Our variable:\r\n\r\n    Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\r\n\r\nTo store:\r\n\r\n    map.put(&quot;mango&quot;, new ArrayList&lt;Integer&gt;(Arrays.asList(0, 4, 8, 9, 12)));\r\n\r\nTo add numbers one and one, you can do something like this:\r\n\r\n    String key = &quot;mango&quot;;\r\n    int number = 42;\r\n    if (map.get(key) == null) {\r\n        map.put(key, new ArrayList&lt;Integer&gt;());\r\n    }\r\n    map.get(key).add(number);\r\n\r\nIn Java 8 you can use `putIfAbsent` to add the list if it did not exist already:\r\n\r\n    map.putIfAbsent(key, new ArrayList&lt;Integer&gt;());\r\n    map.get(key).add(number);\r\n\r\n---\r\n\r\nUse the `map.entrySet()` method to iterate on:\r\n\r\n    for (Entry&lt;String, List&lt;Integer&gt;&gt; ee : map.entrySet()) {\r\n        String key = ee.getKey();\r\n        List&lt;Integer&gt; values = ee.getValue();\r\n        // TODO: Do something.\r\n    }\r\n","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>Our variable:</p>\n\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>To store:</p>\n\n<pre><code>map.put(\"mango\", new ArrayList&lt;Integer&gt;(Arrays.asList(0, 4, 8, 9, 12)));\n</code></pre>\n\n<p>To add numbers one and one, you can do something like this:</p>\n\n<pre><code>String key = \"mango\";\nint number = 42;\nif (map.get(key) == null) {\n    map.put(key, new ArrayList&lt;Integer&gt;());\n}\nmap.get(key).add(number);\n</code></pre>\n\n<p>In Java 8 you can use <code>putIfAbsent</code> to add the list if it did not exist already:</p>\n\n<pre><code>map.putIfAbsent(key, new ArrayList&lt;Integer&gt;());\nmap.get(key).add(number);\n</code></pre>\n\n<hr>\n\n<p>Use the <code>map.entrySet()</code> method to iterate on:</p>\n\n<pre><code>for (Entry&lt;String, List&lt;Integer&gt;&gt; ee : map.entrySet()) {\n    String key = ee.getKey();\n    List&lt;Integer&gt; values = ee.getValue();\n    // TODO: Do something.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337347,"reputation":3171,"user_id":665561,"accept_rate":67,"display_name":"Shashank Degloorkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1382533230,"creation_date":1382531276,"answer_id":19541692,"question_id":19541582,"body_markdown":"\r\nFetch all at once =\r\n\r\n    List&lt;Integer&gt; list = null;\r\n         \r\n    if(map!= null) \r\n    { \r\n      list = new ArrayList&lt;Integer&gt;(map.values()); \r\n    }\r\n\r\n\r\nFor Storing = \r\n\r\n\r\n    if(map!= null) \r\n    { \r\n      list = map.get(keyString); \r\n       if(list == null)\r\n        {\r\n             list = new ArrayList&lt;Integer&gt;();\r\n        }\r\n      list.add(value);\r\n      map.put(keyString,list);\r\n    }\r\n\r\n\r\n  \r\n  ","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>Fetch all at once =</p>\n\n<pre><code>List&lt;Integer&gt; list = null;\n\nif(map!= null) \n{ \n  list = new ArrayList&lt;Integer&gt;(map.values()); \n}\n</code></pre>\n\n<p>For Storing = </p>\n\n<pre><code>if(map!= null) \n{ \n  list = map.get(keyString); \n   if(list == null)\n    {\n         list = new ArrayList&lt;Integer&gt;();\n    }\n  list.add(value);\n  map.put(keyString,list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1372349,"reputation":3201,"user_id":1307094,"accept_rate":60,"display_name":"Kakalokia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382534652,"creation_date":1382531339,"answer_id":19541714,"question_id":19541582,"body_markdown":"    Iterator it = map.entrySet().iterator();\r\n    while (it.hasNext()) {\r\n         Map.Entry pairs = (Map.Entry)it.next();\r\n\r\n         if(pairs.getKey().equals(&quot;mango&quot;))\r\n         {\r\n            map.put(pairs.getKey(), pairs.getValue().add(18));\r\n         }\r\n\r\n         else if(!map.containsKey(&quot;mango&quot;))\r\n         {\r\n            List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n            ints.add(18);\r\n            map.put(&quot;mango&quot;,ints);\r\n         }\r\n    \r\n         it.remove(); // avoids a ConcurrentModificationException\r\n    }\r\n\r\nEDIT:\r\nSo inside the while try this:\r\n\r\n    map.put(pairs.getKey(), pairs.getValue().add(number))\r\n\r\nYou are getting the error because you are trying to put an integer to the values, whereas it is expected an `ArrayList`. \r\n\r\nEDIT 2:\r\nThen put the following inside your while loop:\r\n\r\n    if(pairs.getKey().equals(&quot;mango&quot;))\r\n    {\r\n        map.put(pairs.getKey(), pairs.getValue().add(18));\r\n    }\r\n\r\n    else if(!map.containsKey(&quot;mango&quot;))\r\n    {\r\n         List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n         ints.add(18);\r\n         map.put(&quot;mango&quot;,ints);\r\n     }\r\n\r\nEDIT 3:\r\nBy reading your requirements, I come to think you may not need a loop. You may want to only check if the map contains the key `mango`, and if it does add `18`, else create a new entry in the map with key `mango` and value `18`.\r\n\r\nSo all you may need is the following, without the loop:\r\n\r\n    if(map.containsKey(&quot;mango&quot;))\r\n    {\r\n        map.put(&quot;mango&quot;, map.get(&quot;mango).add(18));\r\n    }\r\n\r\n    else\r\n    {\r\n        List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n        ints.add(18);\r\n        map.put(&quot;mango&quot;, ints);\r\n    }","title":"Storing and Retrieving ArrayList values from hashmap","body":"<pre><code>Iterator it = map.entrySet().iterator();\nwhile (it.hasNext()) {\n     Map.Entry pairs = (Map.Entry)it.next();\n\n     if(pairs.getKey().equals(\"mango\"))\n     {\n        map.put(pairs.getKey(), pairs.getValue().add(18));\n     }\n\n     else if(!map.containsKey(\"mango\"))\n     {\n        List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\n        ints.add(18);\n        map.put(\"mango\",ints);\n     }\n\n     it.remove(); // avoids a ConcurrentModificationException\n}\n</code></pre>\n\n<p>EDIT:\nSo inside the while try this:</p>\n\n<pre><code>map.put(pairs.getKey(), pairs.getValue().add(number))\n</code></pre>\n\n<p>You are getting the error because you are trying to put an integer to the values, whereas it is expected an <code>ArrayList</code>. </p>\n\n<p>EDIT 2:\nThen put the following inside your while loop:</p>\n\n<pre><code>if(pairs.getKey().equals(\"mango\"))\n{\n    map.put(pairs.getKey(), pairs.getValue().add(18));\n}\n\nelse if(!map.containsKey(\"mango\"))\n{\n     List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\n     ints.add(18);\n     map.put(\"mango\",ints);\n }\n</code></pre>\n\n<p>EDIT 3:\nBy reading your requirements, I come to think you may not need a loop. You may want to only check if the map contains the key <code>mango</code>, and if it does add <code>18</code>, else create a new entry in the map with key <code>mango</code> and value <code>18</code>.</p>\n\n<p>So all you may need is the following, without the loop:</p>\n\n<pre><code>if(map.containsKey(\"mango\"))\n{\n    map.put(\"mango\", map.get(\"mango).add(18));\n}\n\nelse\n{\n    List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\n    ints.add(18);\n    map.put(\"mango\", ints);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2113991,"reputation":12074,"user_id":1878670,"accept_rate":66,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382534696,"creation_date":1382532026,"answer_id":19541972,"question_id":19541582,"body_markdown":"You can use like this(Though the random number generator logic is not upto the mark) \r\n\r\n    public class WorkSheet {\r\n    \tHashMap&lt;String,ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;String,ArrayList&lt;Integer&gt;&gt;();\r\n\r\n    public static void main(String args[]) {\r\n\t\tWorkSheet test = new WorkSheet();\r\n\t\ttest.inputData(&quot;mango&quot;, 5);\r\n\t\ttest.inputData(&quot;apple&quot;, 2);\r\n\t\ttest.inputData(&quot;grapes&quot;, 2);\r\n\t\ttest.inputData(&quot;peach&quot;, 3);\r\n\t\ttest.displayData();\r\n\t\t\r\n\t}\r\n\tpublic void displayData(){\r\n\t\tfor (Entry&lt;String, ArrayList&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n\t\t\tSystem.out.print(entry.getKey()+&quot; | &quot;);\r\n        \tfor(int fruitNo : entry.getValue()){\r\n        \t\tSystem.out.print(fruitNo+&quot; &quot;);\r\n        \t}\r\n        \tSystem.out.println();\r\n\t\t}\r\n\t}\r\n    public void inputData(String name ,int number) {\r\n\t\tRandom rndData = new Random();\r\n\t\tArrayList&lt;Integer&gt; fruit = new ArrayList&lt;Integer&gt;();\r\n\t\tfor(int i=0 ; i&lt;number ; i++){\r\n\t\t\tfruit.add(rndData.nextInt(10));\r\n\t\t}\r\n\t\tmap.put(name, fruit);\r\n\t}\r\n    }\r\n\r\nOUTPUT\r\n------\r\n\r\n    grapes | 7 5 \r\n    apple | 9 5 \r\n    peach | 5 5 8 \r\n    mango | 4 7 1 5 5 \r\n\r\n\r\n\t","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>You can use like this(Though the random number generator logic is not upto the mark) </p>\n\n<pre><code>public class WorkSheet {\n    HashMap&lt;String,ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;String,ArrayList&lt;Integer&gt;&gt;();\n\npublic static void main(String args[]) {\n    WorkSheet test = new WorkSheet();\n    test.inputData(\"mango\", 5);\n    test.inputData(\"apple\", 2);\n    test.inputData(\"grapes\", 2);\n    test.inputData(\"peach\", 3);\n    test.displayData();\n\n}\npublic void displayData(){\n    for (Entry&lt;String, ArrayList&lt;Integer&gt;&gt; entry : map.entrySet()) {\n        System.out.print(entry.getKey()+\" | \");\n        for(int fruitNo : entry.getValue()){\n            System.out.print(fruitNo+\" \");\n        }\n        System.out.println();\n    }\n}\npublic void inputData(String name ,int number) {\n    Random rndData = new Random();\n    ArrayList&lt;Integer&gt; fruit = new ArrayList&lt;Integer&gt;();\n    for(int i=0 ; i&lt;number ; i++){\n        fruit.add(rndData.nextInt(10));\n    }\n    map.put(name, fruit);\n}\n}\n</code></pre>\n\n<h2>OUTPUT</h2>\n\n<pre><code>grapes | 7 5 \napple | 9 5 \npeach | 5 5 8 \nmango | 4 7 1 5 5 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2615156,"reputation":645,"user_id":2264354,"display_name":"juanpaolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382918746,"creation_date":1382918746,"answer_id":19625252,"question_id":19541582,"body_markdown":"You could try using MultiMap instead of HashMap\r\n\r\nInitialising it will require fewer lines of codes. Adding and retrieving the values will also make it shorter.\r\n\r\n    Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\r\n\r\nwould become:\r\n\r\n    Multimap&lt;String, Integer&gt; multiMap = ArrayListMultimap.create();\r\n\r\nYou can check this link: http://java.dzone.com/articles/hashmap-%E2%80%93-single-key-and\r\n","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>You could try using MultiMap instead of HashMap</p>\n\n<p>Initialising it will require fewer lines of codes. Adding and retrieving the values will also make it shorter.</p>\n\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>would become:</p>\n\n<pre><code>Multimap&lt;String, Integer&gt; multiMap = ArrayListMultimap.create();\n</code></pre>\n\n<p>You can check this link: <a href=\"http://java.dzone.com/articles/hashmap-%E2%80%93-single-key-and\" rel=\"nofollow\">http://java.dzone.com/articles/hashmap-%E2%80%93-single-key-and</a></p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605117222,"creation_date":1605116701,"answer_id":64791501,"question_id":19541582,"body_markdown":"The modern way (as of 2020) to add entries to a multimap (a map of lists) in Java is:\r\n\r\n    map.computeIfAbsent(&quot;apple&quot;, k -&gt; new ArrayList&lt;&gt;()).add(2);\r\n    map.computeIfAbsent(&quot;apple&quot;, k -&gt; new ArrayList&lt;&gt;()).add(3);\r\n\r\nAccording to [`Map.computeIfAbsent`][1] docs:\r\n\r\n&gt;If the specified key is not already associated with a value (or is mapped to `null`), attempts to compute its value using the given mapping function and enters it into this map unless `null`.\r\n&gt;\r\n&gt;Returns:\r\n&gt;`the current (existing or computed) value associated with the specified key, or null if the computed value is null`\r\n\r\nThe most idiomatic way to iterate a map of lists is using [`Map.forEach`][2] and [`Iterable.forEach`][3]:\r\n\r\n    map.forEach((k, l) -&gt; l.forEach(v -&gt; /* use k and v here */));\r\n\r\nOr, as shown in other answers, a traditional `for` loop:\r\n\r\n    for (Map.Entry&lt;String, List&lt;Integer&gt;&gt; e : map.entrySet()) {\r\n        String k = e.getKey();\r\n        for (Integer v : e.getValue()) {\r\n            /* use k and v here */\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>The modern way (as of 2020) to add entries to a multimap (a map of lists) in Java is:</p>\n<pre><code>map.computeIfAbsent(&quot;apple&quot;, k -&gt; new ArrayList&lt;&gt;()).add(2);\nmap.computeIfAbsent(&quot;apple&quot;, k -&gt; new ArrayList&lt;&gt;()).add(3);\n</code></pre>\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> docs:</p>\n<blockquote>\n<p>If the specified key is not already associated with a value (or is mapped to <code>null</code>), attempts to compute its value using the given mapping function and enters it into this map unless <code>null</code>.</p>\n<p>Returns:\n<code>the current (existing or computed) value associated with the specified key, or null if the computed value is null</code></p>\n</blockquote>\n<p>The most idiomatic way to iterate a map of lists is using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Map.forEach</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a>:</p>\n<pre><code>map.forEach((k, l) -&gt; l.forEach(v -&gt; /* use k and v here */));\n</code></pre>\n<p>Or, as shown in other answers, a traditional <code>for</code> loop:</p>\n<pre><code>for (Map.Entry&lt;String, List&lt;Integer&gt;&gt; e : map.entrySet()) {\n    String k = e.getKey();\n    for (Integer v : e.getValue()) {\n        /* use k and v here */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639078953,"creation_date":1639078252,"answer_id":70295681,"question_id":19541582,"body_markdown":"Method1 : Use putIfAbsent\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\r\n        map.putIfAbsent(&quot;mango&quot;,new ArrayList&lt;&gt;());\r\n        map.get(&quot;mango&quot;).add(5);\r\n\r\n\r\nMethod 2: Check key present in Map\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\r\n        if(! map.containsKey(&quot;mango&quot;){\r\n              map.put(&quot;mango&quot;,new ArrayList&lt;&gt;());\r\n        }\r\n        List&lt;Integer&gt; list = map.get(&quot;mango&quot;);\r\n        list.add(3);\r\n      \r\n        \r\n\r\n Method 3: Use getOrDefault\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\r\n        List&lt;Integer&gt; list = map.getOrDefault(&quot;mango&quot;,new ArrayList&lt;&gt;());\r\n        list.add(4)\r\n\r\n          \r\n      ","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>Method1 : Use putIfAbsent</p>\n<pre><code>    Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\n    map.putIfAbsent(&quot;mango&quot;,new ArrayList&lt;&gt;());\n    map.get(&quot;mango&quot;).add(5);\n</code></pre>\n<p>Method 2: Check key present in Map</p>\n<pre><code>    Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\n    if(! map.containsKey(&quot;mango&quot;){\n          map.put(&quot;mango&quot;,new ArrayList&lt;&gt;());\n    }\n    List&lt;Integer&gt; list = map.get(&quot;mango&quot;);\n    list.add(3);\n  \n    \n</code></pre>\n<p>Method 3: Use getOrDefault</p>\n<pre><code>    Map&lt;String, List&lt;Integer&gt;&gt; map = new HashMap();\n    List&lt;Integer&gt; list = map.getOrDefault(&quot;mango&quot;,new ArrayList&lt;&gt;());\n    list.add(4)\n\n      \n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25113600,"reputation":1,"user_id":18962920,"display_name":"Ankush Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659691446,"creation_date":1659691446,"answer_id":73247492,"question_id":19541582,"body_markdown":"    static HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; has(int arr[], int target) {\r\n        HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; hm = new HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt;();\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (!hm.containsKey(arr[i])) {\r\n                ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n                res.add(i + 1);\r\n                hm.put(arr[i], res);\r\n            } else {\r\n                hm.get(arr[i]).add(i);\r\n            }\r\n        }\r\n        return hm;\r\n    }","title":"Storing and Retrieving ArrayList values from hashmap","body":"<pre><code>static HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; has(int arr[], int target) {\n    HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; hm = new HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt;();\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (!hm.containsKey(arr[i])) {\n            ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n            res.add(i + 1);\n            hm.put(arr[i], res);\n        } else {\n            hm.get(arr[i]).add(i);\n        }\n    }\n    return hm;\n}\n</code></pre>\n"}],"owner":{"account_id":1573545,"reputation":8004,"user_id":1460665,"accept_rate":39,"display_name":"Naveen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226644,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":9,"score":43,"last_activity_date":1659691446,"creation_date":1382531016,"question_id":19541582,"body_markdown":"I have a hashmap of the following type \r\n\r\n    HashMap&lt;String,ArrayList&lt;Integer&gt;&gt; map=new HashMap&lt;String,ArrayList&lt;Integer&gt;&gt;();\t\r\n\r\nThe values stored are like this :\r\n\r\n    mango | 0,4,8,9,12\r\n    apple | 2,3\r\n    grapes| 1,7\r\n    peach | 5,6,11\r\n\r\nI want to store as well as fetch those Integers using Iterator or any other way with minimum lines of code.How can I do it?\r\n\r\n**EDIT 1**\r\n\r\nThe numbers are added at random (not together) as key is matched to the appropriate line.\r\n\r\n**EDIT 2**\r\n\r\nHow can I point to the arraylist while adding ? \r\n\r\nI am getting error while adding a new number `18` in the line `map.put(string,number);`\r\n\r\n","title":"Storing and Retrieving ArrayList values from hashmap","body":"<p>I have a hashmap of the following type </p>\n\n<pre><code>HashMap&lt;String,ArrayList&lt;Integer&gt;&gt; map=new HashMap&lt;String,ArrayList&lt;Integer&gt;&gt;();    \n</code></pre>\n\n<p>The values stored are like this :</p>\n\n<pre><code>mango | 0,4,8,9,12\napple | 2,3\ngrapes| 1,7\npeach | 5,6,11\n</code></pre>\n\n<p>I want to store as well as fetch those Integers using Iterator or any other way with minimum lines of code.How can I do it?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>The numbers are added at random (not together) as key is matched to the appropriate line.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>How can I point to the arraylist while adding ? </p>\n\n<p>I am getting error while adding a new number <code>18</code> in the line <code>map.put(string,number);</code></p>\n"},{"tags":["java","arrays","for-loop","nullpointerexception","point"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1659690965,"post_id":73247369,"comment_id":129359293,"body_markdown":"Does this answer your question? [NullPointerException when Creating an Array of objects](https://stackoverflow.com/questions/1922677/nullpointerexception-when-creating-an-array-of-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1922677/nullpointerexception-when-creating-an-array-of-objects\">NullPointerException when Creating an Array of objects</a>"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659691007,"creation_date":1659691007,"answer_id":73247410,"question_id":73247369,"body_markdown":"    Point[] P= new Point[50]; \r\n            for (int i=0; i&lt;P.length; i++) {\r\n                    if (i&lt;5) P[i].x=0;\r\n                    else if (i&lt;10) P[i].x=50;\r\n                    else if (i&lt;15) P[i].x=100;\r\n    ....\r\n\r\n    Point[] p = new Point[50];\r\n\r\nThis creates an array which can hold up to 50 instances of the Point class. However, you haven&#39;t instantiated any of them, so they&#39;re all null.\r\n\r\n    if (i&lt;5) P[i].x=0;\r\n                        else if (i&lt;10) P[i].x=50;\r\n\r\nDepending on the value, you are here trying to set a value to a variable within the instance located at p[i], but that is still null, as explained earlier.\r\n\r\nYou first need to add actual instances in your array.","title":"Getting a NullPointerException when trying to fill an Array with Points","body":"<pre><code>Point[] P= new Point[50]; \n        for (int i=0; i&lt;P.length; i++) {\n                if (i&lt;5) P[i].x=0;\n                else if (i&lt;10) P[i].x=50;\n                else if (i&lt;15) P[i].x=100;\n....\n\nPoint[] p = new Point[50];\n</code></pre>\n<p>This creates an array which can hold up to 50 instances of the Point class. However, you haven't instantiated any of them, so they're all null.</p>\n<pre><code>if (i&lt;5) P[i].x=0;\n                    else if (i&lt;10) P[i].x=50;\n</code></pre>\n<p>Depending on the value, you are here trying to set a value to a variable within the instance located at p[i], but that is still null, as explained earlier.</p>\n<p>You first need to add actual instances in your array.</p>\n"}],"owner":{"account_id":25985198,"reputation":1,"user_id":19698279,"display_name":"jinjan"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659690971,"answer_count":1,"score":0,"last_activity_date":1659691027,"creation_date":1659690827,"question_id":73247369,"body_markdown":"I created an array of 50 points, which I now want to fill with points ordered by their y coordinate in a 10x5 grid. I get a NullPointerException at `if(i&lt;5) P[i].x=0`. What am I doing wrong here?\r\n\r\n```\r\n  Point[] P= new Point[50]; \r\n        for (int i=0; i&lt;P.length; i++) {\r\n        \t\tif (i&lt;5) P[i].x=0;\r\n        \t\telse if (i&lt;10) P[i].x=50;\r\n        \t\telse if (i&lt;15) P[i].x=100;\r\n        \t\telse if (i&lt;20) P[i].x=150;\r\n        \t\telse if (i&lt;25) P[i].x=200;\r\n        \t\telse if (i&lt;30) P[i].x=250;\r\n        \t\telse if (i&lt;35) P[i].x=300;\r\n        \t\telse if (i&lt;40) P[i].x=350;\r\n        \t\telse if (i&lt;45) P[i].x=400;\r\n        \t\telse P[i].x=450;\r\n        \t\r\n        \t\tif (i%5==0) P[i].y=0;\r\n        \t\telse if (i%5==1) P[i].y=50;\r\n        \t\telse if (i%5==2) P[i].y=100;\r\n        \t\telse if (i%5==3) P[i].y=150;\r\n        \t\telse P[i].y=200;\r\n        \t\t}\r\n```","title":"Getting a NullPointerException when trying to fill an Array with Points","body":"<p>I created an array of 50 points, which I now want to fill with points ordered by their y coordinate in a 10x5 grid. I get a NullPointerException at <code>if(i&lt;5) P[i].x=0</code>. What am I doing wrong here?</p>\n<pre><code>  Point[] P= new Point[50]; \n        for (int i=0; i&lt;P.length; i++) {\n                if (i&lt;5) P[i].x=0;\n                else if (i&lt;10) P[i].x=50;\n                else if (i&lt;15) P[i].x=100;\n                else if (i&lt;20) P[i].x=150;\n                else if (i&lt;25) P[i].x=200;\n                else if (i&lt;30) P[i].x=250;\n                else if (i&lt;35) P[i].x=300;\n                else if (i&lt;40) P[i].x=350;\n                else if (i&lt;45) P[i].x=400;\n                else P[i].x=450;\n            \n                if (i%5==0) P[i].y=0;\n                else if (i%5==1) P[i].y=50;\n                else if (i%5==2) P[i].y=100;\n                else if (i%5==3) P[i].y=150;\n                else P[i].y=200;\n                }\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659684979,"post_id":73246092,"comment_id":129357366,"body_markdown":"You should create a new program from scratch that demonstrates the problem you&#39;re having. It should do nothing else. In your case, you might only need a `BarChart` and some mock data at a minimum; no `LineChart`, no FXML, no buttons, and so on (unless those things are _strictly_ needed to reproduce the problem). And we should be able to copy the code onto our machines and run it with very little to no modifications. The help page linked by kleopatra gives more details on how to create a minimal reproducible example.","body":"You should create a new program from scratch that demonstrates the problem you&#39;re having. It should do nothing else. In your case, you might only need a <code>BarChart</code> and some mock data at a minimum; no <code>LineChart</code>, no FXML, no buttons, and so on (unless those things are <i>strictly</i> needed to reproduce the problem). And we should be able to copy the code onto our machines and run it with very little to no modifications. The help page linked by kleopatra gives more details on how to create a minimal reproducible example."},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659685377,"post_id":73246092,"comment_id":129357472,"body_markdown":"Thank you @Slaw for your suggestions. I have included a mock program to what I am doing. Surprisingly, the colors are displayed in the mock program","body":"Thank you @Slaw for your suggestions. I have included a mock program to what I am doing. Surprisingly, the colors are displayed in the mock program"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659685645,"post_id":73246092,"comment_id":129357544,"body_markdown":"So, it appears the problem could not be easily reproduced by creating a new program from scratch. Now try the other approach—reducing your actual code (possibly after making a copy of it, or a new branch if you&#39;re using source control). If removing something causes the problem to go away, then you&#39;ve found the problematic code. Remove everything else not necessary for that problematic code to execute. Once you&#39;ve narrowed this down, you might be able to solve the problem yourself. If not, replace your current [mre] with the new one (that actually demonstrates the problem).","body":"So, it appears the problem could not be easily reproduced by creating a new program from scratch. Now try the other approach—reducing your actual code (possibly after making a copy of it, or a new branch if you&#39;re using source control). If removing something causes the problem to go away, then you&#39;ve found the problematic code. Remove everything else not necessary for that problematic code to execute. Once you&#39;ve narrowed this down, you might be able to solve the problem yourself. If not, replace your current <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the new one (that actually demonstrates the problem)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659685669,"post_id":73246092,"comment_id":129357552,"body_markdown":"And no, there&#39;s no rule that prevents you from having a `BarChart` and a `LineChart` in the same scene.","body":"And no, there&#39;s no rule that prevents you from having a <code>BarChart</code> and a <code>LineChart</code> in the same scene."},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659686517,"post_id":73246092,"comment_id":129357835,"body_markdown":"@Slaw, I tried removing the `line-graph` and seeing if having only the `bar-graph` works. It did and the `bar graph` got colored. But, when I re-added the `line graph`, the `line-graph` got colored and the `bar-graph` lost it&#39;s color.","body":"@Slaw, I tried removing the <code>line-graph</code> and seeing if having only the <code>bar-graph</code> works. It did and the <code>bar graph</code> got colored. But, when I re-added the <code>line graph</code>, the <code>line-graph</code> got colored and the <code>bar-graph</code> lost it&#39;s color."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1659686962,"post_id":73246092,"comment_id":129357953,"body_markdown":"You wouldn&#39;t perhaps be sharing the same `XYChart.Series` instance between the two charts, would you?","body":"You wouldn&#39;t perhaps be sharing the same <code>XYChart.Series</code> instance between the two charts, would you?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659687024,"post_id":73246092,"comment_id":129357972,"body_markdown":"okay, then show a minimal example that has both line and bar chart (again mock the data) just a thought:  are you by any chance re-using the same series in both (which you shouldn&#39;t)?","body":"okay, then show a minimal example that has both line and bar chart (again mock the data) just a thought:  are you by any chance re-using the same series in both (which you shouldn&#39;t)?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659687261,"post_id":73246092,"comment_id":129358056,"body_markdown":"unrelated: never-ever hard-code sizes/locations of nodes, instead use a suitable layout pane (which AnchorPane rarely is .. completely unrelated: wondering why we see so many examples using it? Is that the default in Scenebuilder?)","body":"unrelated: never-ever hard-code sizes/locations of nodes, instead use a suitable layout pane (which AnchorPane rarely is .. completely unrelated: wondering why we see so many examples using it? Is that the default in Scenebuilder?)"},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":1,"creation_date":1659687523,"post_id":73246092,"comment_id":129358145,"body_markdown":"@Slaw and @kleopatra, As it turns out, I was using the same series. I solved the problem by declaring one more Series `series2` and that seems to have solved the problem. Thanks a lot for your help. Shall I post your solution as an answer ?","body":"@Slaw and @kleopatra, As it turns out, I was using the same series. I solved the problem by declaring one more Series <code>series2</code> and that seems to have solved the problem. Thanks a lot for your help. Shall I post your solution as an answer ?"},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659687617,"post_id":73246092,"comment_id":129358173,"body_markdown":"@kleopatra, Yes, the default in Scene-Builder is an `Anchor-Pane`. Should I start using a `Layout-pane` instead of an `Anchor-pane` for my future applications ?","body":"@kleopatra, Yes, the default in Scene-Builder is an <code>Anchor-Pane</code>. Should I start using a <code>Layout-pane</code> instead of an <code>Anchor-pane</code> for my future applications ?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659687754,"post_id":73246092,"comment_id":129358229,"body_markdown":"yeah, might be a good idea to post an answer - while the re-use might be considered a typo-like error, it&#39;s not entirely obvious (personally, never have seen the color-loss :) Not using SceneBuilder, so no idea what it offers as alternative - but then you want to learn all about layouts anyway, to make a good decision :)","body":"yeah, might be a good idea to post an answer - while the re-use might be considered a typo-like error, it&#39;s not entirely obvious (personally, never have seen the color-loss :) Not using SceneBuilder, so no idea what it offers as alternative - but then you want to learn all about layouts anyway, to make a good decision :)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1659687832,"post_id":73246092,"comment_id":129358250,"body_markdown":"You can add your own answer (this might be a duplicate, but I couldn&#39;t find one quickly). I would first [edit] your question to update your [mre] so that it actually demonstrates the problem though. In your answer, you should explain why the solution works. And it works because `XYChart.Series` and `XYChart.Data` both—mistakenly, in my opinion—supply the `Node` associated with them that&#39;s displayed in the graph. A `Node` can only show up in the scene graph once. This means every chart must have its own `Series` and `Data` instances in order to work properly.","body":"You can add your own answer (this might be a duplicate, but I couldn&#39;t find one quickly). I would first <a href=\"https://stackoverflow.com/posts/73246092/edit\">edit</a> your question to update your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that it actually demonstrates the problem though. In your answer, you should explain why the solution works. And it works because <code>XYChart.Series</code> and <code>XYChart.Data</code> both—mistakenly, in my opinion—supply the <code>Node</code> associated with them that&#39;s displayed in the graph. A <code>Node</code> can only show up in the scene graph once. This means every chart must have its own <code>Series</code> and <code>Data</code> instances in order to work properly."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659687978,"post_id":73246092,"comment_id":129358290,"body_markdown":"@Slaw _mistakenly, in my opinion_ you are right, that&#39;s a clear design goof, breaking of the boundary between view and data","body":"@Slaw <i>mistakenly, in my opinion</i> you are right, that&#39;s a clear design goof, breaking of the boundary between view and data"},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659690920,"post_id":73246092,"comment_id":129359278,"body_markdown":"Thank you @kleopatra. I will read more into each of the layouts. Also, completely unrelated, but do you think that JavaFX is obsolete, and that I should switch to something else for front end design ?","body":"Thank you @kleopatra. I will read more into each of the layouts. Also, completely unrelated, but do you think that JavaFX is obsolete, and that I should switch to something else for front end design ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659692069,"post_id":73246092,"comment_id":129359680,"body_markdown":"&quot;do you think that JavaFX is obsolete&quot; -&gt; no. &quot;should switch to something else for front end design ?&quot; -&gt; no idea, that depends on you, your app, your users, your target devices, your environment, etc. (stuff nobody here would know enough about to advise you).  There are many options for creating UIs that fit different niches.","body":"&quot;do you think that JavaFX is obsolete&quot; -&gt; no. &quot;should switch to something else for front end design ?&quot; -&gt; no idea, that depends on you, your app, your users, your target devices, your environment, etc. (stuff nobody here would know enough about to advise you).  There are many options for creating UIs that fit different niches."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659756401,"post_id":73246092,"comment_id":129376265,"body_markdown":"The JavaFX Chart API shows every sign of having been written by an unsupervised intern with a particularly bad hangover… If you need charts in more than a trivial way I’d strongly recommend at least considering rolling your own implementation.","body":"The JavaFX Chart API shows every sign of having been written by an unsupervised intern with a particularly bad hangover… If you need charts in more than a trivial way I’d strongly recommend at least considering rolling your own implementation."},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659769928,"post_id":73246092,"comment_id":129377694,"body_markdown":"@jewelsea Thank you for your response. So, if I am building desktop applications, then JavaFX is still relevant right ? Thing is, I am kind of new to this application development, so I don&#39;t want to be stuck learning something that is obsolete :P. Anyways, thank you for your suggestions !","body":"@jewelsea Thank you for your response. So, if I am building desktop applications, then JavaFX is still relevant right ? Thing is, I am kind of new to this application development, so I don&#39;t want to be stuck learning something that is obsolete :P. Anyways, thank you for your suggestions !"},{"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"score":0,"creation_date":1659770128,"post_id":73246092,"comment_id":129377714,"body_markdown":"@James_D, That&#39;s a good idea. I will do more learning about APIs and how to develop them so that I can make my own APIs, which hopefully don&#39;t result in errors like this xD.","body":"@James_D, That&#39;s a good idea. I will do more learning about APIs and how to develop them so that I can make my own APIs, which hopefully don&#39;t result in errors like this xD."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659774305,"post_id":73246092,"comment_id":129378335,"body_markdown":"This is all kind of off-topic discussion, but I would disagree on some points with James here.  The JavaFX charts are fine for basic dashboard work where you might want a quick bar chart with ten bars or a pie chart with 5 or 6 slices.  If you want something more involved though like real-time charting, intense financial, and detailed scientific charting the JavaFX chart API isn&#39;t probably a good fit (James would probably know more about that than me).","body":"This is all kind of off-topic discussion, but I would disagree on some points with James here.  The JavaFX charts are fine for basic dashboard work where you might want a quick bar chart with ten bars or a pie chart with 5 or 6 slices.  If you want something more involved though like real-time charting, intense financial, and detailed scientific charting the JavaFX chart API isn&#39;t probably a good fit (James would probably know more about that than me)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659774616,"post_id":73246092,"comment_id":129378392,"body_markdown":"There are many alternate chart APIs if the JavaFX charts aren&#39;t a good fit for your app.  I would only suggest writing your own charting if you are very skilled, otherwise use a pre-existing library, perhaps JFreeChart for a Java-based library (it also bridges to JavaFX), but also consider something HTML based as there are numerous HTML charting APIs that you can render in a JavaFX WebView.  Anyway, there are plenty of options.","body":"There are many alternate chart APIs if the JavaFX charts aren&#39;t a good fit for your app.  I would only suggest writing your own charting if you are very skilled, otherwise use a pre-existing library, perhaps JFreeChart for a Java-based library (it also bridges to JavaFX), but also consider something HTML based as there are numerous HTML charting APIs that you can render in a JavaFX WebView.  Anyway, there are plenty of options."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659774791,"post_id":73246092,"comment_id":129378418,"body_markdown":"Regarding learning something obsolete, everything is obsolete eventually.  But there is a difference between obsolescence and niche technology.  Niche technology can survive for a long time before becoming obsolete, but not be widely used like mainstream technologies.  Alternate UI systems based on HTML or Native Mobile Apps are more mainstream than JavaFX,  so if you want to learn something mainstream that many people use, you may consider learning those technologies.","body":"Regarding learning something obsolete, everything is obsolete eventually.  But there is a difference between obsolescence and niche technology.  Niche technology can survive for a long time before becoming obsolete, but not be widely used like mainstream technologies.  Alternate UI systems based on HTML or Native Mobile Apps are more mainstream than JavaFX,  so if you want to learn something mainstream that many people use, you may consider learning those technologies."}],"answers":[{"tags":[],"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659690746,"creation_date":1659690746,"answer_id":73247346,"question_id":73246092,"body_markdown":"As @kleopatra and @Slaw mentioned, the problem was that I was using a single `Series` for both the `barchart` and the `linechart`. This was the cause of the error. \r\n\r\nThe solution was to use two different `Series`, titled `series1` and `series2` for the `barchart` and the `linechart` respectively. \r\n\r\nThe corrected code:\r\n```\r\npackage javafxapplication26;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.chart.BarChart;\r\nimport javafx.scene.chart.LineChart;\r\nimport javafx.scene.chart.XYChart;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\n\r\n/**\r\n *\r\n * @author param\r\n */\r\npublic class FXMLDocumentController implements Initializable {\r\n    \r\n  \r\n    \r\n    @FXML\r\n    private LineChart&lt;String, Number&gt; linechart;\r\n    @FXML\r\n    private BarChart&lt;String, Number&gt; barchart;\r\n    \r\n   \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        XYChart.Series&lt;String, Number&gt; series= new  XYChart.Series&lt;String, Number&gt;(); //For the barchart\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\r\n    \r\n        XYChart.Series&lt;String, Number&gt; series2= new  XYChart.Series&lt;String, Number&gt;(); //For the linechart\r\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\r\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\r\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\r\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\r\n        \r\n        \r\n        barchart.getData().add(series);   \r\n        linechart.getData().add(series2);\r\n\r\n    }     \r\n}\r\n```\r\nAs @Slaw mentioned, the problem was that each `barchart` or `linechart` **needs** to have it&#39;s own `Series` and `Data`. This is because each `XYChart.Series` and `XYChart.Data` supply the `Node` associated with them, and this is what is displayed in the graph.\r\n\r\nCorrected Output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GC2fv.png","title":"Problem while displaying colors in JavaFX bar chart","body":"<p>As @kleopatra and @Slaw mentioned, the problem was that I was using a single <code>Series</code> for both the <code>barchart</code> and the <code>linechart</code>. This was the cause of the error.</p>\n<p>The solution was to use two different <code>Series</code>, titled <code>series1</code> and <code>series2</code> for the <code>barchart</code> and the <code>linechart</code> respectively.</p>\n<p>The corrected code:</p>\n<pre><code>package javafxapplication26;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.chart.BarChart;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\n\n/**\n *\n * @author param\n */\npublic class FXMLDocumentController implements Initializable {\n    \n  \n    \n    @FXML\n    private LineChart&lt;String, Number&gt; linechart;\n    @FXML\n    private BarChart&lt;String, Number&gt; barchart;\n    \n   \n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        XYChart.Series&lt;String, Number&gt; series= new  XYChart.Series&lt;String, Number&gt;(); //For the barchart\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\n    \n        XYChart.Series&lt;String, Number&gt; series2= new  XYChart.Series&lt;String, Number&gt;(); //For the linechart\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\n        series2.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\n        \n        \n        barchart.getData().add(series);   \n        linechart.getData().add(series2);\n\n    }     \n}\n</code></pre>\n<p>As @Slaw mentioned, the problem was that each <code>barchart</code> or <code>linechart</code> <strong>needs</strong> to have it's own <code>Series</code> and <code>Data</code>. This is because each <code>XYChart.Series</code> and <code>XYChart.Data</code> supply the <code>Node</code> associated with them, and this is what is displayed in the graph.</p>\n<p>Corrected Output:</p>\n<p><a href=\"https://i.stack.imgur.com/GC2fv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GC2fv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22302654,"reputation":125,"user_id":16527702,"display_name":"theboss12k"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73247346,"answer_count":1,"score":3,"last_activity_date":1659690746,"creation_date":1659684199,"question_id":73246092,"body_markdown":"In my project, I am using a `barchart` and a `linechart` in the same frame to display the same data. However, due to some reason, I am getting an output where there is no color in either the `barchart` or the `linechart`. \r\n\r\nFor example:\r\n[![enter image description here][1]][1]\r\nIn this image, the `linechart` has color but the `barchart` doesn&#39;t. \r\n\r\nThe code that I used:\r\n\r\nFXML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.chart.BarChart?&gt;\r\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\r\n&lt;?import javafx.scene.chart.LineChart?&gt;\r\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;401.0&quot; prefWidth=&quot;802.0&quot; style=&quot;-fx-background-color: white;&quot; stylesheets=&quot;@stylesheet.css&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;javafxapplication26.FXMLDocumentController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane layoutX=&quot;1.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;303.0&quot; prefWidth=&quot;801.0&quot; AnchorPane.bottomAnchor=&quot;46.0&quot; AnchorPane.leftAnchor=&quot;1.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;14.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;AnchorPane layoutX=&quot;342.0&quot; layoutY=&quot;-2.0&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;419.0&quot; style=&quot;-fx-border-color: #4E6172; -fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;10.0&quot; AnchorPane.rightAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;-2.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;LineChart fx:id=&quot;linechart&quot; layoutX=&quot;69.0&quot; layoutY=&quot;11.0&quot; prefHeight=&quot;353.0&quot; prefWidth=&quot;380.0&quot;&gt;\r\n                    &lt;xAxis&gt;\r\n                      &lt;CategoryAxis side=&quot;BOTTOM&quot; /&gt;\r\n                    &lt;/xAxis&gt;\r\n                    &lt;yAxis&gt;\r\n                      &lt;NumberAxis side=&quot;LEFT&quot; /&gt;\r\n                    &lt;/yAxis&gt;\r\n                  &lt;/LineChart&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;AnchorPane layoutX=&quot;8.0&quot; layoutY=&quot;-2.0&quot; prefHeight=&quot;367.0&quot; prefWidth=&quot;392.0&quot; style=&quot;-fx-border-color: #4E6172; -fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;10.0&quot; AnchorPane.leftAnchor=&quot;10.0&quot; AnchorPane.rightAnchor=&quot;399.0&quot; AnchorPane.topAnchor=&quot;-2.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;BarChart fx:id=&quot;barchart&quot; layoutX=&quot;3.0&quot; layoutY=&quot;3.0&quot; prefHeight=&quot;363.0&quot; prefWidth=&quot;391.0&quot; AnchorPane.bottomAnchor=&quot;1.0&quot; AnchorPane.leftAnchor=&quot;1.0&quot; AnchorPane.rightAnchor=&quot;1.0&quot; AnchorPane.topAnchor=&quot;2.0&quot;&gt;\r\n                    &lt;xAxis&gt;\r\n                      &lt;CategoryAxis side=&quot;BOTTOM&quot; /&gt;\r\n                    &lt;/xAxis&gt;\r\n                    &lt;yAxis&gt;\r\n                      &lt;NumberAxis side=&quot;LEFT&quot; /&gt;\r\n                    &lt;/yAxis&gt;\r\n                  &lt;/BarChart&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nJava Controller:\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage javafxapplication26;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.chart.BarChart;\r\nimport javafx.scene.chart.LineChart;\r\nimport javafx.scene.chart.XYChart;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\n\r\n/**\r\n *\r\n * @author param\r\n */\r\npublic class FXMLDocumentController implements Initializable {\r\n    \r\n  \r\n    \r\n    @FXML\r\n    private LineChart&lt;String, Number&gt; linechart;\r\n    @FXML\r\n    private BarChart&lt;String, Number&gt; barchart;\r\n    \r\n   \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n         XYChart.Series&lt;String, Number&gt; series= new  XYChart.Series&lt;String, Number&gt;();\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\r\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\r\n    \r\n      \r\n        linechart.getData().add(series);\r\n        barchart.getData().add(series);\r\n        \r\n      \r\n        // TODO\r\n    }      \r\n} \r\n}\r\n```\r\nAs shown in the image, only one of either the `barchart` or the `linechart` is capable of displaying color. I tried using the `-fx-bar-fill` method, but even that didn&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/H6Tjg.png\r\n","title":"Problem while displaying colors in JavaFX bar chart","body":"<p>In my project, I am using a <code>barchart</code> and a <code>linechart</code> in the same frame to display the same data. However, due to some reason, I am getting an output where there is no color in either the <code>barchart</code> or the <code>linechart</code>.</p>\n<p>For example:\n<a href=\"https://i.stack.imgur.com/H6Tjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6Tjg.png\" alt=\"enter image description here\" /></a>\nIn this image, the <code>linechart</code> has color but the <code>barchart</code> doesn't.</p>\n<p>The code that I used:</p>\n<p>FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.chart.BarChart?&gt;\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\n&lt;?import javafx.scene.chart.LineChart?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;401.0&quot; prefWidth=&quot;802.0&quot; style=&quot;-fx-background-color: white;&quot; stylesheets=&quot;@stylesheet.css&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;javafxapplication26.FXMLDocumentController&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane layoutX=&quot;1.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;303.0&quot; prefWidth=&quot;801.0&quot; AnchorPane.bottomAnchor=&quot;46.0&quot; AnchorPane.leftAnchor=&quot;1.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;14.0&quot;&gt;\n         &lt;children&gt;\n            &lt;AnchorPane layoutX=&quot;342.0&quot; layoutY=&quot;-2.0&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;419.0&quot; style=&quot;-fx-border-color: #4E6172; -fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;10.0&quot; AnchorPane.rightAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;-2.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;LineChart fx:id=&quot;linechart&quot; layoutX=&quot;69.0&quot; layoutY=&quot;11.0&quot; prefHeight=&quot;353.0&quot; prefWidth=&quot;380.0&quot;&gt;\n                    &lt;xAxis&gt;\n                      &lt;CategoryAxis side=&quot;BOTTOM&quot; /&gt;\n                    &lt;/xAxis&gt;\n                    &lt;yAxis&gt;\n                      &lt;NumberAxis side=&quot;LEFT&quot; /&gt;\n                    &lt;/yAxis&gt;\n                  &lt;/LineChart&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n            &lt;AnchorPane layoutX=&quot;8.0&quot; layoutY=&quot;-2.0&quot; prefHeight=&quot;367.0&quot; prefWidth=&quot;392.0&quot; style=&quot;-fx-border-color: #4E6172; -fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;10.0&quot; AnchorPane.leftAnchor=&quot;10.0&quot; AnchorPane.rightAnchor=&quot;399.0&quot; AnchorPane.topAnchor=&quot;-2.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;BarChart fx:id=&quot;barchart&quot; layoutX=&quot;3.0&quot; layoutY=&quot;3.0&quot; prefHeight=&quot;363.0&quot; prefWidth=&quot;391.0&quot; AnchorPane.bottomAnchor=&quot;1.0&quot; AnchorPane.leftAnchor=&quot;1.0&quot; AnchorPane.rightAnchor=&quot;1.0&quot; AnchorPane.topAnchor=&quot;2.0&quot;&gt;\n                    &lt;xAxis&gt;\n                      &lt;CategoryAxis side=&quot;BOTTOM&quot; /&gt;\n                    &lt;/xAxis&gt;\n                    &lt;yAxis&gt;\n                      &lt;NumberAxis side=&quot;LEFT&quot; /&gt;\n                    &lt;/yAxis&gt;\n                  &lt;/BarChart&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Java Controller:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage javafxapplication26;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.chart.BarChart;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\n\n/**\n *\n * @author param\n */\npublic class FXMLDocumentController implements Initializable {\n    \n  \n    \n    @FXML\n    private LineChart&lt;String, Number&gt; linechart;\n    @FXML\n    private BarChart&lt;String, Number&gt; barchart;\n    \n   \n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n         XYChart.Series&lt;String, Number&gt; series= new  XYChart.Series&lt;String, Number&gt;();\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Jan&quot;,12));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;Feb&quot;,20));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;March&quot;,10));\n        series.getData().add(new  XYChart.Data&lt;String, Number&gt;(&quot;April&quot;,14));\n    \n      \n        linechart.getData().add(series);\n        barchart.getData().add(series);\n        \n      \n        // TODO\n    }      \n} \n}\n</code></pre>\n<p>As shown in the image, only one of either the <code>barchart</code> or the <code>linechart</code> is capable of displaying color. I tried using the <code>-fx-bar-fill</code> method, but even that didn't work.</p>\n"},{"tags":["java","spring-boot","jar"],"answers":[{"tags":[],"owner":{"account_id":25228306,"reputation":35,"user_id":19119664,"display_name":"Ensei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659690628,"creation_date":1659690628,"answer_id":73247321,"question_id":73245832,"body_markdown":"I found the solution of my problem. Method in controller returned &quot;/farmer/farmer1&quot;. But it should return String without first &quot;/&quot; e.g. &quot;farmer/farmer1&quot;.","title":"TemplateInputException during execution of jar in the repository target","body":"<p>I found the solution of my problem. Method in controller returned &quot;/farmer/farmer1&quot;. But it should return String without first &quot;/&quot; e.g. &quot;farmer/farmer1&quot;.</p>\n"}],"owner":{"account_id":25228306,"reputation":35,"user_id":19119664,"display_name":"Ensei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659690628,"creation_date":1659682727,"question_id":73245832,"body_markdown":"I&#39;m going to run a web app on spring boot with jar file. After compilation of the app I move to repository target and run the jar file. After opening of tab in browser the terminal shows next problem:\r\n```\r\n2022-08-05 09:50:42.312 ERROR 19502 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [/farmer/farmer1], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\r\n```\r\nIt&#39;s strange because during execution my app in the Intellij IDEA there is no such problem and all templates are founded.\r\n\r\nI would be grateful for your help to run the app with jar file.","title":"TemplateInputException during execution of jar in the repository target","body":"<p>I'm going to run a web app on spring boot with jar file. After compilation of the app I move to repository target and run the jar file. After opening of tab in browser the terminal shows next problem:</p>\n<pre><code>2022-08-05 09:50:42.312 ERROR 19502 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [/farmer/farmer1], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\n</code></pre>\n<p>It's strange because during execution my app in the Intellij IDEA there is no such problem and all templates are founded.</p>\n<p>I would be grateful for your help to run the app with jar file.</p>\n"},{"tags":["java","hprof"],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1251217433,"creation_date":1251217433,"answer_id":1329359,"question_id":1329280,"body_markdown":"You could try the [SAP Memory Analyzer][1].\r\n\r\n\r\n  [1]: https://wiki.sdn.sap.com/wiki/display/Java/Java%20Memory%20Analysis","title":"hprof file format","body":"<p>You could try the <a href=\"https://wiki.sdn.sap.com/wiki/display/Java/Java%20Memory%20Analysis\" rel=\"nofollow noreferrer\">SAP Memory Analyzer</a>.</p>\n"},{"tags":[],"owner":{"account_id":3572656,"reputation":103,"user_id":2982622,"display_name":"user2982622"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1544697389,"creation_date":1544697389,"answer_id":53759899,"question_id":1329280,"body_markdown":"Hi as long as there is no more hprof agent with it doc we can only use code as a format specification.\r\n\r\nSo here is few links.\r\n\r\nfirst of all here is old doc for hprof agent, it could be redundant but stil\r\nhttp://hg.openjdk.java.net/jdk6/jdk6/jdk/raw-file/tip/src/share/demo/jvmti/hprof/manual.html you can find hprof specification section in it.\r\n\r\nNext, here is heap dumper and hprof spec from jvm code\r\nlink to openjdk repo \r\n\r\nhttps://hg.openjdk.java.net/jdk/jdk/file/9a73a4e4011f/src/hotspot/share/services/heapDumper.cpp\r\n\r\nlink to github mirror \r\n\r\nhttps://github.com/unofficial-openjdk/openjdk/blob/60b7a8f8661234c389e247942a0012da30146a57/src/hotspot/share/services/heapDumper.cpp#L58","title":"hprof file format","body":"<p>Hi as long as there is no more hprof agent with it doc we can only use code as a format specification.</p>\n\n<p>So here is few links.</p>\n\n<p>first of all here is old doc for hprof agent, it could be redundant but stil\n<a href=\"http://hg.openjdk.java.net/jdk6/jdk6/jdk/raw-file/tip/src/share/demo/jvmti/hprof/manual.html\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk6/jdk6/jdk/raw-file/tip/src/share/demo/jvmti/hprof/manual.html</a> you can find hprof specification section in it.</p>\n\n<p>Next, here is heap dumper and hprof spec from jvm code\nlink to openjdk repo </p>\n\n<p><a href=\"https://hg.openjdk.java.net/jdk/jdk/file/9a73a4e4011f/src/hotspot/share/services/heapDumper.cpp\" rel=\"noreferrer\">https://hg.openjdk.java.net/jdk/jdk/file/9a73a4e4011f/src/hotspot/share/services/heapDumper.cpp</a></p>\n\n<p>link to github mirror </p>\n\n<p><a href=\"https://github.com/unofficial-openjdk/openjdk/blob/60b7a8f8661234c389e247942a0012da30146a57/src/hotspot/share/services/heapDumper.cpp#L58\" rel=\"noreferrer\">https://github.com/unofficial-openjdk/openjdk/blob/60b7a8f8661234c389e247942a0012da30146a57/src/hotspot/share/services/heapDumper.cpp#L58</a></p>\n"}],"owner":{"account_id":52261,"reputation":2627,"user_id":156116,"display_name":"Marian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6909,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":1329359,"answer_count":2,"score":10,"last_activity_date":1659690624,"creation_date":1251216450,"question_id":1329280,"body_markdown":"Does anyone know a reference for the .hprof (binary heap dumps) file format?\r\n\r\nDoes anyone know libraries that handle .hprof files? I know that [hat][1] does that and also [VisualVM][2] through a NetBeans plugin. But are there others?\r\n\r\n\r\n[1]: https://hat.dev.java.net/\r\n[2]: https://visualvm.dev.java.net/","title":"hprof file format","body":"<p>Does anyone know a reference for the .hprof (binary heap dumps) file format?</p>\n\n<p>Does anyone know libraries that handle .hprof files? I know that <a href=\"https://hat.dev.java.net/\" rel=\"noreferrer\">hat</a> does that and also <a href=\"https://visualvm.dev.java.net/\" rel=\"noreferrer\">VisualVM</a> through a NetBeans plugin. But are there others?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659690503,"creation_date":1659690503,"answer_id":73247295,"question_id":73246423,"body_markdown":"Could you try to add *notifyDataSetChanged()* after you update UI like this:\r\n\r\n```\r\npublic boolean onLongClick(View view) {\r\n   for (i = 0; i&lt;=imageList.size();i++){\r\n      if (imageList.get(i).getDeleteImage().getVisibility() == View.VISIBLE) {\r\n           imageList.get(i).getDeleteImage().setVisibility(View.GONE);\r\n      }else {\r\n           imageList.get(i).getDeleteImage().setVisibility(View.VISIBLE);\r\n      }\r\n   }\r\n   notifyDataSetChanged()\r\n   return false;\r\n}\r\n```","title":"how to visible icon in all the items of recyclerview?","body":"<p>Could you try to add <em>notifyDataSetChanged()</em> after you update UI like this:</p>\n<pre><code>public boolean onLongClick(View view) {\n   for (i = 0; i&lt;=imageList.size();i++){\n      if (imageList.get(i).getDeleteImage().getVisibility() == View.VISIBLE) {\n           imageList.get(i).getDeleteImage().setVisibility(View.GONE);\n      }else {\n           imageList.get(i).getDeleteImage().setVisibility(View.VISIBLE);\n      }\n   }\n   notifyDataSetChanged()\n   return false;\n}\n</code></pre>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73247295,"answer_count":1,"score":0,"last_activity_date":1659690503,"creation_date":1659685954,"question_id":73246423,"body_markdown":"I am trying to visible icons on all the items list of the recyclerview, what I want is that by pressing any on of the items, icons will be visible to all the list of the items.\r\n\r\nhelp me to find out the solution.\r\n\r\nhere is my code \r\n\r\nonBindViewholder\r\n\r\n     imageList.get(position).setDeleteImage(holder.items_image);\r\n        holder.items_image.setVisibility(View.GONE);\r\n        holder.wpImages.setOnLongClickListener(new View.OnLongClickListener() {\r\n            int i;\r\n            @Override\r\n            public boolean onLongClick(View view) {\r\n                for (i = 0; i&lt;=imageList.size();i++){\r\n                    if (imageList.get(i).getDeleteImage().getVisibility() == View.VISIBLE) {\r\n                        imageList.get(i).getDeleteImage().setVisibility(View.GONE);\r\n                    }else {\r\n                        imageList.get(i).getDeleteImage().setVisibility(View.VISIBLE);\r\n                    }\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });","title":"how to visible icon in all the items of recyclerview?","body":"<p>I am trying to visible icons on all the items list of the recyclerview, what I want is that by pressing any on of the items, icons will be visible to all the list of the items.</p>\n<p>help me to find out the solution.</p>\n<p>here is my code</p>\n<p>onBindViewholder</p>\n<pre><code> imageList.get(position).setDeleteImage(holder.items_image);\n    holder.items_image.setVisibility(View.GONE);\n    holder.wpImages.setOnLongClickListener(new View.OnLongClickListener() {\n        int i;\n        @Override\n        public boolean onLongClick(View view) {\n            for (i = 0; i&lt;=imageList.size();i++){\n                if (imageList.get(i).getDeleteImage().getVisibility() == View.VISIBLE) {\n                    imageList.get(i).getDeleteImage().setVisibility(View.GONE);\n                }else {\n                    imageList.get(i).getDeleteImage().setVisibility(View.VISIBLE);\n                }\n\n            }\n            return false;\n        }\n    });\n</code></pre>\n"},{"tags":["java","appium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659691029,"post_id":73247164,"comment_id":129359315,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"score":0,"creation_date":1659701837,"post_id":73247164,"comment_id":129362993,"body_markdown":"Please provide your capabilities","body":"Please provide your capabilities"}],"owner":{"account_id":25985145,"reputation":1,"user_id":19698235,"display_name":"Arsh Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659689862,"creation_date":1659689862,"question_id":73247164,"body_markdown":"I am using Appium version 1.15.0 and while running my Appium app automation suite on my OnePlus 5T, I am getting error : An unknown server-side error occurred while processing the command. Original error: Failed to launch Appium Settings app: Condition unmet after 5441 ms. Timing out.","title":"Getting timeout on my OnePlus 5T while running Appium","body":"<p>I am using Appium version 1.15.0 and while running my Appium app automation suite on my OnePlus 5T, I am getting error : An unknown server-side error occurred while processing the command. Original error: Failed to launch Appium Settings app: Condition unmet after 5441 ms. Timing out.</p>\n"},{"tags":["java","maven","java-8","java-11","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659689669,"creation_date":1659689669,"answer_id":73247125,"question_id":73242882,"body_markdown":"You seem to be using raw types with the jOOQ API (i.e. `Select` rather than `Select&lt;?&gt;`, or some explicit type bound). This is rarely a good idea both with jOOQ or with Java in general. In the case of jOOQ, the API explicitly excludes maintaining raw type backwards compatibility, which would be exceptionally hard to achieve, see e.g.:\r\n\r\n- https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/ (look for &quot;raw type&quot;)\r\n- https://github.com/jOOQ/jOOQ/issues/11879\r\n\r\nYou should be able to fix this issue by avoiding raw types.","title":"Cannot compile maven Spring Boot project after jOOQ version upgrade","body":"<p>You seem to be using raw types with the jOOQ API (i.e. <code>Select</code> rather than <code>Select&lt;?&gt;</code>, or some explicit type bound). This is rarely a good idea both with jOOQ or with Java in general. In the case of jOOQ, the API explicitly excludes maintaining raw type backwards compatibility, which would be exceptionally hard to achieve, see e.g.:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/</a> (look for &quot;raw type&quot;)</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/11879\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/11879</a></li>\n</ul>\n<p>You should be able to fix this issue by avoiding raw types.</p>\n"}],"owner":{"account_id":8087524,"reputation":53,"user_id":6094608,"display_name":"G.Min"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73247125,"answer_count":1,"score":1,"last_activity_date":1659689669,"creation_date":1659652624,"question_id":73242882,"body_markdown":"After upgrading to the commercial 3.16.8 version of jOOQ (org.jooq.pro-java-8) my maven compile stage start to fail. Same result is noticeable when upgrading to java-11.\r\n\r\nWhat I found out is that the new version does not work with the following structure.\r\n\r\n\r\n    Select sql = ....;\r\n    List&lt;CustomTypeClass&gt; result = sql.fetch(this::recordToCustomTypeClass);\r\n\r\nwhere recordToCustomTypeClass is a function that takes Record and transform it to a CustomTypeClass.\r\n\r\nDoes anyone knows why this is no longer applicable?\r\n\r\nThe error with java 8 is general java error, with java 11 we have more direct message.\r\n\r\nJAVA 8: \r\n\r\n&gt; java: An exception has occurred in the compiler (1.8.0_251). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\r\njava: java.lang.AssertionError4\r\n\r\nJAVA 11: functional interface not applicable\r\n\r\n\r\n\r\n","title":"Cannot compile maven Spring Boot project after jOOQ version upgrade","body":"<p>After upgrading to the commercial 3.16.8 version of jOOQ (org.jooq.pro-java-8) my maven compile stage start to fail. Same result is noticeable when upgrading to java-11.</p>\n<p>What I found out is that the new version does not work with the following structure.</p>\n<pre><code>Select sql = ....;\nList&lt;CustomTypeClass&gt; result = sql.fetch(this::recordToCustomTypeClass);\n</code></pre>\n<p>where recordToCustomTypeClass is a function that takes Record and transform it to a CustomTypeClass.</p>\n<p>Does anyone knows why this is no longer applicable?</p>\n<p>The error with java 8 is general java error, with java 11 we have more direct message.</p>\n<p>JAVA 8:</p>\n<blockquote>\n<p>java: An exception has occurred in the compiler (1.8.0_251). Please file a bug against the Java compiler via the Java bug reporting page (<a href=\"http://bugreport.java.com\" rel=\"nofollow noreferrer\">http://bugreport.java.com</a>) after checking the Bug Database (<a href=\"http://bugs.java.com\" rel=\"nofollow noreferrer\">http://bugs.java.com</a>) for duplicates. Include your program and the following diagnostic in your report. Thank you.\njava: java.lang.AssertionError4</p>\n</blockquote>\n<p>JAVA 11: functional interface not applicable</p>\n"},{"tags":["java","function","lambda"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1659629435,"post_id":73239014,"comment_id":129345458,"body_markdown":"Did you mean if `map.containsKey(uuid)`?","body":"Did you mean if <code>map.containsKey(uuid)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15370100,"reputation":111,"user_id":11088350,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659629686,"creation_date":1659629686,"answer_id":73239180,"question_id":73239014,"body_markdown":"If there are fixed set of uuid and Message object pairs, make the Map a static final variable and move out of the method, instead of placing it inside method.\r\nLike below:\r\n\r\n    class Main {\r\n      static final Map&lt;String, Message&gt; messageMap = Map.of(\r\n         FIRST_MESSAGE_ID, new FirstMessage(),\r\n         .\r\n         .\r\n         .\r\n         SECOND_MESSAGE_ID, new SecondMessage()\r\n       );\r\n    }\r\n\r\nusage:\r\n\r\n    Main.messageMap.get(uuid);","title":"How defer Map value object creation when key is fetched","body":"<p>If there are fixed set of uuid and Message object pairs, make the Map a static final variable and move out of the method, instead of placing it inside method.\nLike below:</p>\n<pre><code>class Main {\n  static final Map&lt;String, Message&gt; messageMap = Map.of(\n     FIRST_MESSAGE_ID, new FirstMessage(),\n     .\n     .\n     .\n     SECOND_MESSAGE_ID, new SecondMessage()\n   );\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>Main.messageMap.get(uuid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659634299,"creation_date":1659630284,"answer_id":73239320,"question_id":73239014,"body_markdown":"Perhaps the following will work for you:\r\n\r\n- create an instance of the map but initialize it upon first call of `create()`.\r\n- If the message isn&#39;t found, return a default message. This acts as a safeguard in cased you specify an incorrect `uuid`.\r\n- This will work whether the map is declared static or not, but it does defer the creation as required.\r\n- you can also move the creation code outside the `create()` method but it will be created when the class is initialized.\r\n```\r\nMap&lt;Integer, Message&gt; map = null;\r\npublic Message create(int uuid) {   \t\r\n\tif (map == null) {\r\n\t\t map = new HashMap&lt;&gt;();\t\t\t\r\n\t\t map.put(FIRST_MESSAGE_ID, new FirstMessage());\r\n         .\r\n         map.put(SECOND_MESSAGE_ID, new SecondMessage());\t \r\n         ...     \r\n     }\r\n  \r\n     return map.getOrDefault(uuid, someDefaultMessage);\r\n}\r\n","title":"How defer Map value object creation when key is fetched","body":"<p>Perhaps the following will work for you:</p>\n<ul>\n<li>create an instance of the map but initialize it upon first call of <code>create()</code>.</li>\n<li>If the message isn't found, return a default message. This acts as a safeguard in cased you specify an incorrect <code>uuid</code>.</li>\n<li>This will work whether the map is declared static or not, but it does defer the creation as required.</li>\n<li>you can also move the creation code outside the <code>create()</code> method but it will be created when the class is initialized.</li>\n</ul>\n<pre><code>Map&lt;Integer, Message&gt; map = null;\npublic Message create(int uuid) {       \n    if (map == null) {\n         map = new HashMap&lt;&gt;();         \n         map.put(FIRST_MESSAGE_ID, new FirstMessage());\n         .\n         map.put(SECOND_MESSAGE_ID, new SecondMessage());    \n         ...     \n     }\n  \n     return map.getOrDefault(uuid, someDefaultMessage);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23866645,"reputation":91,"user_id":17868883,"display_name":"Jimmy Iu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659630477,"creation_date":1659630477,"answer_id":73239359,"question_id":73239014,"body_markdown":"You may create a map of uuid to `Supplier` instead, so that you only need to create a readonly static unmodified map once. After geting the supplier by the uuid from the map you simply call the `get()` method to get a new instance. I think this matches the &quot;defer creating object&quot; you expect.\r\n\r\nSupplier references:\r\n- https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\r\n- https://www.google.com/amp/s/www.geeksforgeeks.org/supplier-interface-in-java-with-examples/amp/","title":"How defer Map value object creation when key is fetched","body":"<p>You may create a map of uuid to <code>Supplier</code> instead, so that you only need to create a readonly static unmodified map once. After geting the supplier by the uuid from the map you simply call the <code>get()</code> method to get a new instance. I think this matches the &quot;defer creating object&quot; you expect.</p>\n<p>Supplier references:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html</a></li>\n<li><a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/supplier-interface-in-java-with-examples/amp/\" rel=\"nofollow noreferrer\">https://www.google.com/amp/s/www.geeksforgeeks.org/supplier-interface-in-java-with-examples/amp/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659684280,"creation_date":1659633435,"answer_id":73239955,"question_id":73239014,"body_markdown":"&gt; The only drawback of this is that every time when I try creating objects using create(int uuid), the whole &quot;map&quot; is initialized every time with all my `100+` objects\r\n\r\nFirstly, declare the *map* as a `static` field (*it seems like its contents is unrelated to a particular instance, if so it should be static*). It would be generated only once when the class gets loaded into memory.\r\n\r\nSecondly, extract the logic responsible for initializing the *map* into a separate method.\r\n\r\n&gt; ***NOTE:*** I need a **new** instance of objects everytime\r\n\r\nTo meat this requirement, the `Map` should store not actual objects, but `Supplier`s for every kind of `Message`.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static final Map&lt;Integer, Supplier&lt;Message&gt;&gt; MESSAGE_BY_UUID = init();\r\n    \r\n    public static Map&lt;Integer, Supplier&lt;Message&gt;&gt; init() {\r\n        Map&lt;Integer, Supplier&lt;Message&gt;&gt; map = new HashMap&lt;&gt;();\r\n        // your initialization logic\r\n        map.put(FIRST_MESSAGE_ID, FirstMessage::new);\r\n        map.put(SECOND_MESSAGE_ID, SecondMessage::new);\r\n        ...\r\n        return map;\r\n    }\r\n    \r\n    public Message create(int uuid) {\r\n        return MESSAGE_BY_UUID.get(uuid).get();\r\n    }\r\n\r\n[*A simple Demo*](https://www.jdoodle.com/ia/tJA)\r\n\r\n***Note*** that your `if-else` statement with `map.containsKey` check is redundant. Method `get()` would return `null` in case if provided *key* is not present in the map.\r\n\r\nSpiking of other alternatives, the map can be initialized inline using method [`Map.ofEntries()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)) which expects *varargs* of `Map.Entry` objects.\r\n\r\nThe downside of this approach is that it would be basically a `switch` in disguise, meaning that it would iterate over its *keys* in linear fashion. That&#39;s how it&#39;s implemented internally - it isn&#39;t hash-based, but maintains an array of alternating *keys* and *values*. With every invocation of the `get()` an immutable map returned by `Map.ofEntries()` would need to check up to `100+` UUID, in contrast with `HashMap` which would need to check only a couple (I said *couple* because collisions might occur). ","title":"How defer Map value object creation when key is fetched","body":"<blockquote>\n<p>The only drawback of this is that every time when I try creating objects using create(int uuid), the whole &quot;map&quot; is initialized every time with all my <code>100+</code> objects</p>\n</blockquote>\n<p>Firstly, declare the <em>map</em> as a <code>static</code> field (<em>it seems like its contents is unrelated to a particular instance, if so it should be static</em>). It would be generated only once when the class gets loaded into memory.</p>\n<p>Secondly, extract the logic responsible for initializing the <em>map</em> into a separate method.</p>\n<blockquote>\n<p><em><strong>NOTE:</strong></em> I need a <strong>new</strong> instance of objects everytime</p>\n</blockquote>\n<p>To meat this requirement, the <code>Map</code> should store not actual objects, but <code>Supplier</code>s for every kind of <code>Message</code>.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static final Map&lt;Integer, Supplier&lt;Message&gt;&gt; MESSAGE_BY_UUID = init();\n\npublic static Map&lt;Integer, Supplier&lt;Message&gt;&gt; init() {\n    Map&lt;Integer, Supplier&lt;Message&gt;&gt; map = new HashMap&lt;&gt;();\n    // your initialization logic\n    map.put(FIRST_MESSAGE_ID, FirstMessage::new);\n    map.put(SECOND_MESSAGE_ID, SecondMessage::new);\n    ...\n    return map;\n}\n\npublic Message create(int uuid) {\n    return MESSAGE_BY_UUID.get(uuid).get();\n}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tJA\" rel=\"nofollow noreferrer\"><em>A simple Demo</em></a></p>\n<p><em><strong>Note</strong></em> that your <code>if-else</code> statement with <code>map.containsKey</code> check is redundant. Method <code>get()</code> would return <code>null</code> in case if provided <em>key</em> is not present in the map.</p>\n<p>Spiking of other alternatives, the map can be initialized inline using method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\"><code>Map.ofEntries()</code></a> which expects <em>varargs</em> of <code>Map.Entry</code> objects.</p>\n<p>The downside of this approach is that it would be basically a <code>switch</code> in disguise, meaning that it would iterate over its <em>keys</em> in linear fashion. That's how it's implemented internally - it isn't hash-based, but maintains an array of alternating <em>keys</em> and <em>values</em>. With every invocation of the <code>get()</code> an immutable map returned by <code>Map.ofEntries()</code> would need to check up to <code>100+</code> UUID, in contrast with <code>HashMap</code> which would need to check only a couple (I said <em>couple</em> because collisions might occur).</p>\n"}],"owner":{"account_id":3375407,"reputation":165,"user_id":2833621,"accept_rate":80,"display_name":"user2833621"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73239955,"answer_count":4,"score":0,"last_activity_date":1659689230,"creation_date":1659628967,"question_id":73239014,"body_markdown":"We had a factory method like below, which worked fine, but when the case statements increased, We had issues with SONAR. \r\n\r\n    class MessageFactory{\r\n    public Message create(int uuid) {\r\n    switch (uuid) {\r\n      case FIRST_MESSAGE_ID:\r\n        return new FirstMessage();\r\n        .\r\n      case SECOND_MESSAGE_ID:\r\n        return new SecondMessage();\r\n        .\r\n      default:\r\n\r\n          return null;\r\n    }}}\r\n    \r\n    class Main{\r\n    MessageFactory factory = new MessageFactory();\r\n    Message message1=factory.get(FIRST_MESSAGE_ID); // needs a new instance everytime\r\n    .\r\n    .\r\n    MessageFactory factory = new MessageFactory();\r\n    Message message2=factory.get(FIRST_MESSAGE_ID); // needs a new instance everytime\r\n    }\r\n\r\nTo avoid the SONAR complaints we moved the object creation to a map.\r\n\r\n    public Message create(int uuid) {\r\n    Map&lt;Integer, Message&gt; map = new HashMap&lt;&gt;();\r\n    map.put(FIRST_MESSAGE_ID, new FirstMessage());\r\n    .\r\n    .\r\n    .\r\n    map.put(SECOND_MESSAGE_ID, new SecondMessage());\r\n    }\r\n    if(map.containsKey(uuid)){\r\n    return map.get(uuid);\r\n    }\r\n    return null;\r\n    }\r\n   \r\nThe only drawback of this is that every time when I try creating objects using create(int uuid), the whole &quot;map&quot; is initialized every time with all my 100+ objects.\r\nIs there any way to defer creating objects only when the key is fetched? Or any other optimized way to solve this issue.\r\n\r\nNOTE: I need a new instance of objects everytime\r\nI cannot use a static map, as it will return the same object instance every time, instead of creating a new object for that key when asked for.\r\n\r\nCan we use lambda functions here to fetch new object everytime only when the key is fetched?\r\n\r\n","title":"How defer Map value object creation when key is fetched","body":"<p>We had a factory method like below, which worked fine, but when the case statements increased, We had issues with SONAR.</p>\n<pre><code>class MessageFactory{\npublic Message create(int uuid) {\nswitch (uuid) {\n  case FIRST_MESSAGE_ID:\n    return new FirstMessage();\n    .\n  case SECOND_MESSAGE_ID:\n    return new SecondMessage();\n    .\n  default:\n\n      return null;\n}}}\n\nclass Main{\nMessageFactory factory = new MessageFactory();\nMessage message1=factory.get(FIRST_MESSAGE_ID); // needs a new instance everytime\n.\n.\nMessageFactory factory = new MessageFactory();\nMessage message2=factory.get(FIRST_MESSAGE_ID); // needs a new instance everytime\n}\n</code></pre>\n<p>To avoid the SONAR complaints we moved the object creation to a map.</p>\n<pre><code>public Message create(int uuid) {\nMap&lt;Integer, Message&gt; map = new HashMap&lt;&gt;();\nmap.put(FIRST_MESSAGE_ID, new FirstMessage());\n.\n.\n.\nmap.put(SECOND_MESSAGE_ID, new SecondMessage());\n}\nif(map.containsKey(uuid)){\nreturn map.get(uuid);\n}\nreturn null;\n}\n</code></pre>\n<p>The only drawback of this is that every time when I try creating objects using create(int uuid), the whole &quot;map&quot; is initialized every time with all my 100+ objects.\nIs there any way to defer creating objects only when the key is fetched? Or any other optimized way to solve this issue.</p>\n<p>NOTE: I need a new instance of objects everytime\nI cannot use a static map, as it will return the same object instance every time, instead of creating a new object for that key when asked for.</p>\n<p>Can we use lambda functions here to fetch new object everytime only when the key is fetched?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1659690386,"post_id":73247016,"comment_id":129359110,"body_markdown":"&quot;it depends&quot;. It depends on so many things: what&#39;s the size of the lists, how long are they used, what hardware is this running on? What are you latency/performance goals? Generally speaking it *could* be fine and the only way to check is to **test your specific code on your specific hardware against your specific requirements**. And as an aside: if you don&#39;t have anywhere near 1500 concurrent users on a single server right now, then start making something functional first and worry about performance later.","body":"&quot;it depends&quot;. It depends on so many things: what&#39;s the size of the lists, how long are they used, what hardware is this running on? What are you latency/performance goals? Generally speaking it <i>could</i> be fine and the only way to check is to <b>test your specific code on your specific hardware against your specific requirements</b>. And as an aside: if you don&#39;t have anywhere near 1500 concurrent users on a single server right now, then start making something functional first and worry about performance later."},{"owner":{"account_id":25126998,"reputation":53,"user_id":18974675,"display_name":"Clean code"},"score":0,"creation_date":1659735959,"post_id":73247016,"comment_id":129373846,"body_markdown":"Hello sir, max 3-4 objects inside (class type), windows 7 i7 4770 12 gb ram, they are used only for read from a method (a simple for) so some nanosecond.","body":"Hello sir, max 3-4 objects inside (class type), windows 7 i7 4770 12 gb ram, they are used only for read from a method (a simple for) so some nanosecond."}],"owner":{"account_id":25126998,"reputation":53,"user_id":18974675,"display_name":"Clean code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659689125,"creation_date":1659689125,"question_id":73247016,"body_markdown":"I&#39;m working on a PC Game emulator written in java. There is around 2.500.000 lines of code and lately i contribute my own code. Sometimes i&#39;m forced to write code that it generate list on every character hit. Imagine 1.500 players hit at the same and do 10 hit per second. This mean 15.000 list generated every minute. \r\n\r\nIs this safe? Will garbage collector collect those after code read data of them? ","title":"Is it safe to create many list? Will garbage collector collect them instantly?","body":"<p>I'm working on a PC Game emulator written in java. There is around 2.500.000 lines of code and lately i contribute my own code. Sometimes i'm forced to write code that it generate list on every character hit. Imagine 1.500 players hit at the same and do 10 hit per second. This mean 15.000 list generated every minute.</p>\n<p>Is this safe? Will garbage collector collect those after code read data of them?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":41282,"reputation":659,"user_id":119918,"display_name":"Olli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659684740,"creation_date":1659684740,"answer_id":73246196,"question_id":73246140,"body_markdown":"One option is to use `Stream.distinct()` ([doc][1]) to first return distinct elements of the stream and then using the result to decide the next step.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--","title":"How to check if string list contains anything other than some value?","body":"<p>One option is to use <code>Stream.distinct()</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\">doc</a>) to first return distinct elements of the stream and then using the result to decide the next step.</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1659684967,"creation_date":1659684967,"answer_id":73246246,"question_id":73246140,"body_markdown":"There are many ways to solve it.\r\n\r\nYou can for example streaming it and filter for values different to Excelent\r\n\r\n\r\n    private boolean check(List&lt;String&gt; states){\r\n        return states.stream()\r\n                  .filter(item -&gt; !item.equals(&quot;Excelent&quot;))\r\n                  .count() &gt; 0;\r\n    }\r\n    \r\n\r\n","title":"How to check if string list contains anything other than some value?","body":"<p>There are many ways to solve it.</p>\n<p>You can for example streaming it and filter for values different to Excelent</p>\n<pre><code>private boolean check(List&lt;String&gt; states){\n    return states.stream()\n              .filter(item -&gt; !item.equals(&quot;Excelent&quot;))\n              .count() &gt; 0;\n}\n</code></pre>\n"}],"owner":{"account_id":7359410,"reputation":804,"user_id":5603115,"accept_rate":86,"display_name":"nemostyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":73246246,"answer_count":2,"score":-1,"last_activity_date":1659688949,"creation_date":1659684476,"question_id":73246140,"body_markdown":"If we have two simple lists where one have only one repeating value:\r\n\r\n```List&lt;String&gt; states = Arrays.asList(&quot;Excelent&quot;, &quot;Excelent&quot;, &quot;Excelent&quot;);```\r\n\r\nand the other one have one different value:\r\n\r\n```List&lt;String&gt; states = Arrays.asList(&quot;Excelent&quot;, &quot;Excelent&quot;, &quot;Good&quot;);```\r\n\r\nhow can I check if list contains anything other than &quot;Excelent&quot; in this case?\r\n\r\nIt should looks something like:\r\n\r\n```\r\nprivate boolean check(List&lt;String&gt; states){\r\n    //Some condition where we can say if there is any item not equal to &quot;Excelent&quot;\r\n}\r\n```","title":"How to check if string list contains anything other than some value?","body":"<p>If we have two simple lists where one have only one repeating value:</p>\n<p><code>List&lt;String&gt; states = Arrays.asList(&quot;Excelent&quot;, &quot;Excelent&quot;, &quot;Excelent&quot;);</code></p>\n<p>and the other one have one different value:</p>\n<p><code>List&lt;String&gt; states = Arrays.asList(&quot;Excelent&quot;, &quot;Excelent&quot;, &quot;Good&quot;);</code></p>\n<p>how can I check if list contains anything other than &quot;Excelent&quot; in this case?</p>\n<p>It should looks something like:</p>\n<pre><code>private boolean check(List&lt;String&gt; states){\n    //Some condition where we can say if there is any item not equal to &quot;Excelent&quot;\n}\n</code></pre>\n"},{"tags":["java","ssl","exception","openssl","libimobiledevice"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1610486948,"post_id":65692099,"comment_id":116148327,"body_markdown":"It seems an empty subject DN is valid per [RFC 5280](https://tools.ietf.org/rfc/rfc5280.txt), but an empty subject DN (or issuer DN) may mean the certificate is not valid for use in an SSL connection.","body":"It seems an empty subject DN is valid per <a href=\"https://tools.ietf.org/rfc/rfc5280.txt\" rel=\"nofollow noreferrer\">RFC 5280</a>, but an empty subject DN (or issuer DN) may mean the certificate is not valid for use in an SSL connection."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1610490039,"post_id":65692099,"comment_id":116149555,"body_markdown":"You may be able to disable hostname validation.  https://www.google.com/search?q=java+disable+ssl+hostname+verification  There&#39;s no name on the cert to verify anyway.  The certificate itself should still be validated against your truststore, though, so it should still be secure.","body":"You may be able to disable hostname validation.  <a href=\"https://www.google.com/search?q=java+disable+ssl+hostname+verification\" rel=\"nofollow noreferrer\">google.com/search?q=java+disable+ssl+hostname+verification</a>  There&#39;s no name on the cert to verify anyway.  The certificate itself should still be validated against your truststore, though, so it should still be secure."},{"owner":{"account_id":20435939,"reputation":21,"user_id":14993798,"display_name":"De Filippi JM"},"score":0,"creation_date":1610490965,"post_id":65692099,"comment_id":116149873,"body_markdown":"Trying to add this java option -Dtrust_all_cert=true but nothing change.","body":"Trying to add this java option -Dtrust_all_cert=true but nothing change."},{"owner":{"account_id":20435939,"reputation":21,"user_id":14993798,"display_name":"De Filippi JM"},"score":0,"creation_date":1610491043,"post_id":65692099,"comment_id":116149906,"body_markdown":"According to this line on pymobile project `ssl.wrap_socket(self.s, keyfile, certfile, ssl_version=ssl.PROTOCOL_TLSv1)` the keyfile and certfile seem to use the PEM file provided in my code","body":"According to this line on pymobile project <code>ssl.wrap_socket(self.s, keyfile, certfile, ssl_version=ssl.PROTOCOL_TLSv1)</code> the keyfile and certfile seem to use the PEM file provided in my code"},{"owner":{"account_id":20435939,"reputation":21,"user_id":14993798,"display_name":"De Filippi JM"},"score":0,"creation_date":1610491482,"post_id":65692099,"comment_id":116150029,"body_markdown":"@AndrewHenle in complement during the SSL handshake the `Socket Write` seem working good. Only when the `Socket Read` the answer I got this Exception.","body":"@AndrewHenle in complement during the SSL handshake the <code>Socket Write</code> seem working good. Only when the <code>Socket Read</code> the answer I got this Exception."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1610532462,"post_id":65692099,"comment_id":116161356,"body_markdown":"*Trying to add this java option -Dtrust_all_cert=true but nothing change.*  I&#39;m pretty sure all that does is assume the certificate is trusted - it doesn&#39;t have to check if that cert is either in your trust store or signed by a cert in your trust store.  It&#39;s still going to do host name verification to make sure the SSL connect is to the server it&#39;s supposed to go to - there might be a Java property to skip that, but I don&#39;t think so.  You&#39;re probably going to have to code up a null host name verifier and use it in a custom SSLContext.","body":"<i>Trying to add this java option -Dtrust_all_cert=true but nothing change.</i>  I&#39;m pretty sure all that does is assume the certificate is trusted - it doesn&#39;t have to check if that cert is either in your trust store or signed by a cert in your trust store.  It&#39;s still going to do host name verification to make sure the SSL connect is to the server it&#39;s supposed to go to - there might be a Java property to skip that, but I don&#39;t think so.  You&#39;re probably going to have to code up a null host name verifier and use it in a custom SSLContext."}],"answers":[{"tags":[],"owner":{"account_id":11786964,"reputation":1,"user_id":8624303,"display_name":"Attect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659688831,"creation_date":1659688616,"answer_id":73246923,"question_id":65692099,"body_markdown":"I&#39;m create a tool with compose-jb, same problem.\r\nFinally I modify OpenJDK18 solved this problem.\r\n\r\nPatch:\r\n\r\n```\r\nIndex: src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n&lt;+&gt;UTF-8\r\n===================================================================\r\ndiff --git a/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java b/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\r\n--- a/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\t(revision 70d808deca55534a5a1376cccd0a35202d4fc091)\r\n+++ b/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\t(revision 74ae6f2acacb6ea332e9413d2d3da75af3c7fac9)\r\n@@ -635,10 +635,14 @@\r\n                             engine);\r\n                     } else {\r\n                         SSLSocket socket = (SSLSocket)chc.conContext.transport;\r\n-                        ((X509ExtendedTrustManager)tm).checkServerTrusted(\r\n-                            certs.clone(),\r\n-                            keyExchangeString,\r\n-                            socket);\r\n+                        // Unix Socket skip check\r\n+                        // Windows usbmuxd on port 27015 skip check\r\n+                        if(!(socket.getPort() == 0 || socket.getPort() == 27015)){\r\n+                            ((X509ExtendedTrustManager)tm).checkServerTrusted(\r\n+                                    certs.clone(),\r\n+                                    keyExchangeString,\r\n+                                    socket);\r\n+                        }\r\n                     }\r\n                 } else {\r\n                     // Unlikely to happen, because we have wrapped the old\r\nIndex: src/java.base/share/classes/sun/security/x509/X509CertInfo.java\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n&lt;+&gt;UTF-8\r\n===================================================================\r\ndiff --git a/src/java.base/share/classes/sun/security/x509/X509CertInfo.java b/src/java.base/share/classes/sun/security/x509/X509CertInfo.java\r\n--- a/src/java.base/share/classes/sun/security/x509/X509CertInfo.java\t(revision 70d808deca55534a5a1376cccd0a35202d4fc091)\r\n+++ b/src/java.base/share/classes/sun/security/x509/X509CertInfo.java\t(revision 74ae6f2acacb6ea332e9413d2d3da75af3c7fac9)\r\n@@ -655,8 +655,9 @@\r\n         // Issuer name\r\n         issuer = new X500Name(in);\r\n         if (issuer.isEmpty()) {\r\n-            throw new CertificateParsingException(\r\n-                &quot;Empty issuer DN not allowed in X509Certificates&quot;);\r\n+            issuer = new X500Name(&quot;&quot;);\r\n+//            throw new CertificateParsingException(\r\n+//                &quot;Empty issuer DN not allowed in X509Certificates&quot;);\r\n         }\r\n \r\n         // validity:  SEQUENCE { start date, end date }\r\n@@ -710,7 +711,9 @@\r\n         }\r\n \r\n         // verify X.509 V3 Certificate\r\n-        verifyCert(subject, extensions);\r\n+        if(!issuer.isEmpty()){\r\n+            verifyCert(subject, extensions);\r\n+        }\r\n \r\n     }\r\n \r\n\r\n```\r\n\r\n\r\nOr \r\n$openJDK18Dir/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java  \r\nnear line 638\r\n```java\r\n                        // Unix Socket skip check\r\n                        // Windows usbmuxd on port 27015 skip check\r\n                        if(!(socket.getPort() == 0 || socket.getPort() == 27015)){\r\n                            ((X509ExtendedTrustManager)tm).checkServerTrusted(\r\n                                    certs.clone(),\r\n                                    keyExchangeString,\r\n                                    socket);\r\n                        }\r\n```\r\n\r\n$openJDK18Dir/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java \r\nprivate void parse(DerValue val)\r\n```Java\r\n    issuer = new X500Name(&quot;&quot;);\r\n\r\n    if(!issuer.isEmpty()){\r\n        verifyCert(subject, extensions);\r\n    }\r\n\r\n```\r\n\r\n","title":"Java Empty issuer DN not allowed in X509Certificate (Libimobiledevice implementation)","body":"<p>I'm create a tool with compose-jb, same problem.\nFinally I modify OpenJDK18 solved this problem.</p>\n<p>Patch:</p>\n<pre><code>Index: src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\nIDEA additional info:\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\n&lt;+&gt;UTF-8\n===================================================================\ndiff --git a/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java b/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\n--- a/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java  (revision 70d808deca55534a5a1376cccd0a35202d4fc091)\n+++ b/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java  (revision 74ae6f2acacb6ea332e9413d2d3da75af3c7fac9)\n@@ -635,10 +635,14 @@\n                             engine);\n                     } else {\n                         SSLSocket socket = (SSLSocket)chc.conContext.transport;\n-                        ((X509ExtendedTrustManager)tm).checkServerTrusted(\n-                            certs.clone(),\n-                            keyExchangeString,\n-                            socket);\n+                        // Unix Socket skip check\n+                        // Windows usbmuxd on port 27015 skip check\n+                        if(!(socket.getPort() == 0 || socket.getPort() == 27015)){\n+                            ((X509ExtendedTrustManager)tm).checkServerTrusted(\n+                                    certs.clone(),\n+                                    keyExchangeString,\n+                                    socket);\n+                        }\n                     }\n                 } else {\n                     // Unlikely to happen, because we have wrapped the old\nIndex: src/java.base/share/classes/sun/security/x509/X509CertInfo.java\nIDEA additional info:\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\n&lt;+&gt;UTF-8\n===================================================================\ndiff --git a/src/java.base/share/classes/sun/security/x509/X509CertInfo.java b/src/java.base/share/classes/sun/security/x509/X509CertInfo.java\n--- a/src/java.base/share/classes/sun/security/x509/X509CertInfo.java   (revision 70d808deca55534a5a1376cccd0a35202d4fc091)\n+++ b/src/java.base/share/classes/sun/security/x509/X509CertInfo.java   (revision 74ae6f2acacb6ea332e9413d2d3da75af3c7fac9)\n@@ -655,8 +655,9 @@\n         // Issuer name\n         issuer = new X500Name(in);\n         if (issuer.isEmpty()) {\n-            throw new CertificateParsingException(\n-                &quot;Empty issuer DN not allowed in X509Certificates&quot;);\n+            issuer = new X500Name(&quot;&quot;);\n+//            throw new CertificateParsingException(\n+//                &quot;Empty issuer DN not allowed in X509Certificates&quot;);\n         }\n \n         // validity:  SEQUENCE { start date, end date }\n@@ -710,7 +711,9 @@\n         }\n \n         // verify X.509 V3 Certificate\n-        verifyCert(subject, extensions);\n+        if(!issuer.isEmpty()){\n+            verifyCert(subject, extensions);\n+        }\n \n     }\n \n\n</code></pre>\n<p>Or\n$openJDK18Dir/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java<br />\nnear line 638</p>\n<pre class=\"lang-java prettyprint-override\"><code>                        // Unix Socket skip check\n                        // Windows usbmuxd on port 27015 skip check\n                        if(!(socket.getPort() == 0 || socket.getPort() == 27015)){\n                            ((X509ExtendedTrustManager)tm).checkServerTrusted(\n                                    certs.clone(),\n                                    keyExchangeString,\n                                    socket);\n                        }\n</code></pre>\n<p>$openJDK18Dir/src/java.base/share/classes/sun/security/ssl/CertificateMessage.java\nprivate void parse(DerValue val)</p>\n<pre><code>    issuer = new X500Name(&quot;&quot;);\n\n    if(!issuer.isEmpty()){\n        verifyCert(subject, extensions);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":20435939,"reputation":21,"user_id":14993798,"display_name":"De Filippi JM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3088,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659688831,"creation_date":1610485809,"question_id":65692099,"body_markdown":"I am working hard on an open project to implement Libimobiledevice library in Java.\r\n\r\nI already had implement Usbmuxd / PlistService / DeviceConnexion etc..\r\n\r\nAll working good, except when I am trying to wrap the SSL Socket.\r\n\r\nAccording to the different implementation made in C (Libimobiledevice) or in Python (pymobiledevice), I generate the X509Certificat using the PEM provided during the Host &amp; Device pairing.\r\n\r\nI use this following PEM to generate my X509Certificat (first generated using libimobiledevice) :\r\n\r\n```\r\n-----BEGIN CERTIFICATE-----\r\nMIICujCCAaKgAwIBAgIBADANBgkqhkiG9w0BAQUFADAAMB4XDTIxMDExMjE0MDcy\r\nOVoXDTMxMDExMDE0MDcyOVowADCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\nggEBAMtALTNIPEv1KjnzSarFl5ahC6UB9SMCRZbaPP3270Fxl8BW8BcbhqEn5j5K\r\npB+f+f4QXSh8ITx2/LPPuwd2YNlpR+pYmvKCLZRTxyrNLDY5srj3bIxAcJKIcuiQ\r\nzISbGxNd/1jK52Y6ZmB9ntFpK094ZCL40TRvlghlzdYhS9Fr82OvIetyC+WXn64D\r\n+gyrrtASvydOSzyiVJELDWe7ULHsVSafBBOL76BOmA6g4iruFujuMfrxFydg5RGp\r\nTwTe9VnwJJO1xuKTlgMP9zQKxTP0EoEOGJ+rcqfmwExYRELQe4YwAkEKiq48BIxp\r\nWHMo88Kj6MFmCnaDY9is18g+2yUCAwEAAaM/MD0wDAYDVR0TAQH/BAIwADAdBgNV\r\nHQ4EFgQUHx2bzAmGPtEdlX34YL6pu9cfqMkwDgYDVR0PAQH/BAQDAgWgMA0GCSqG\r\nSIb3DQEBBQUAA4IBAQDQeLnRXk3LWVBdZ7OzgtmHM236bDms2dgBPZv3WfTSHriT\r\nl3PTssO08elH6/WAT2ljRluu3jtkwaqwKsEsG+8XAoMyHbW8VmzqC+PNou0PZPpY\r\ncLMqTVdDq+9Do1AyQ8i3V16GGCxBb8NCHyfUcRnnq04KiuwaKBwWtttpTwMoAkYB\r\nI+aH1drtRDiBcxuALZqEcAg5jfatgaRfgWsWNE0NJiXdk1PHUcF9dBOUhNttp1AS\r\nTHwqJXdBEiPc00zRlUQEx5Wu5pO4SVvhwbEM1F00srcDK6yYz0s+23eU7XLH6bGd\r\nik7hOSZjkEP/mmkrYHZUYYY9obpFbtLLsTWp0b0S\r\n-----END CERTIFICATE-----\r\n-----BEGIN PRIVATE KEY-----\r\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDLQC0zSDxL9So5\r\n80mqxZeWoQulAfUjAkWW2jz99u9BcZfAVvAXG4ahJ+Y+SqQfn/n+EF0ofCE8dvyz\r\nz7sHdmDZaUfqWJrygi2UU8cqzSw2ObK492yMQHCSiHLokMyEmxsTXf9YyudmOmZg\r\nfZ7RaStPeGQi+NE0b5YIZc3WIUvRa/NjryHrcgvll5+uA/oMq67QEr8nTks8olSR\r\nCw1nu1Cx7FUmnwQTi++gTpgOoOIq7hbo7jH68RcnYOURqU8E3vVZ8CSTtcbik5YD\r\nD/c0CsUz9BKBDhifq3Kn5sBMWERC0HuGMAJBCoquPASMaVhzKPPCo+jBZgp2g2PY\r\nrNfIPtslAgMBAAECggEBAJblvqkkKB/8lK0Rgs/WgwTB6/NF0Ml9Fk05Ga8zdc4Q\r\nl6mk4ftF5F4hUT9OCyuvidqmK4OzJLnPXS3iO+j+akj/cPT7c444N763tFaCnSBl\r\nFdtdVqmJ7gncY/NmDXEl9qQaVUmG2uV61ictHIw8mHsX1sBgGnHjpm/1pSwk7DU9\r\nrC8ZsaNlDhEWGETohqXxUvK0e1MXNWWjg+XNSYrkj8b0f6SLKOFQcUQqreGDyg5I\r\nuz/5pS6IGpetqWt43WbcgeRAELhtWBZsJgWv07Esf52RIqY1tW12QCguJUTP+Hqv\r\nqfO7B+RJcv+m1Y4KEfMbShcl+SbMNagtjOQzGNmhlAECgYEA+J8ryB1cUdIuxtgG\r\nEPBy+2JCb1Hjr8mIvdzuBj9Mbtlp9/n1tGCsex2T+Ct8IkohS/lOMgGXy+aw+Ats\r\npW9Z0XfEucyg8WgZ7zRPl83YIMDAXkOEQhNxZ+mgBHKPFCKLGzLOL392Le7niUxw\r\nCX6mNVkKesP1Tn2gm+g+I3lMzNUCgYEA0UhP/tGV2G76hK3qp/X15ao3yG2FgEZv\r\nqFU7rIi/jrJaFwCpPZ4y828iv3nScSgBBSUOKwhY/k+LTPHaSkpgeX5Rhpj1mW+t\r\ncVeEjbHLAlhX/FivfaJOLJfQTU2YChqA9Ax5VVPMTjhVS77BU68omUZpG2xzBp6K\r\nclDn8XE8vRECgYEA4kEwPcACeO+W5BxJgPbhHMZyAQ5770ivqWE6N/M44pP27NXL\r\n9agYrz3en/Uq1aWyoYoy0C1E8ClzmXgEGpW4HnkpTZDcUnTTTS3E1Thd3IitR9uX\r\nq+43wUIJ/qImdUNuZoUYwH71lJ2algc62lkodtoeQFS+k/ydweRbUDseWjUCgYEA\r\nyscSG4jfc9I0EhKhZxS+qUUAv8a+r8ePsL7FDyuAz7an69nMIdQC8jQgqv5SlSl5\r\ns45v5+oysFZKVseQBqOCTrXCMHRMo9q9ZzCxUsmONjt7JRqZD1YQAM0oG36vbjq3\r\n77+WYMLNFo0muDmgAIGbCMhcVyIBYcyDwLf7xMk/XMECgYBim0gMEYAE+2U2b1wm\r\n5CnTDcObOTf2cUh56YWwPOlmQIbXKQxlEajCBYCfX51HHi0TyozutJ9oFuGQJzzH\r\nh4UHmSykionM7KTgQOtnEbYVzTSyx4wlQWciHSHUZ3RhOGTM1jbeTXTUXwcXVfLA\r\nz0UpDK0tm1S3o/aQFS1RkX+chg==\r\n-----END PRIVATE KEY-----\r\n```\r\n\r\nWhen I decode this PEM File , I can see there is no DN provided in this key.\r\n\r\nAnd during the SSLHandshake I receive this Exception :\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: java.io.IOException: javax.net.ssl.SSLProtocolException: Empty issuer DN not allowed in X509Certificates\r\n```\r\n\r\nAnd this is the part of my code causing this Exception :\r\n```\r\nSSLSocket sslSocket = (SSLSocket) SSLContext.getDefault().getSocketFactory().createSocket(socket, &quot;127.0.0.1&quot;, 62078, true);\r\n                System.out.println(&quot;Socket open&quot;);\r\n                \r\n                sslSocket.setEnabledCipherSuites(new String[] { &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot; });\r\n                sslSocket.setEnabledProtocols(new String[] { &quot;TLSv1.2&quot; });\r\n                try{\r\n                    sslSocket.startHandshake();\r\n                    System.out.println(&quot;================================Socket open success&quot;);\r\n                }catch(Exception e){\r\n                    throw new IOException(e);\r\n                }\r\n```\r\n\r\nThere is a way to bypass the &quot;Empty issuer Exception&quot; in Java ? or Someone do have an other idea ?\r\nI really need your help on this.\r\n\r\nThank you.","title":"Java Empty issuer DN not allowed in X509Certificate (Libimobiledevice implementation)","body":"<p>I am working hard on an open project to implement Libimobiledevice library in Java.</p>\n<p>I already had implement Usbmuxd / PlistService / DeviceConnexion etc..</p>\n<p>All working good, except when I am trying to wrap the SSL Socket.</p>\n<p>According to the different implementation made in C (Libimobiledevice) or in Python (pymobiledevice), I generate the X509Certificat using the PEM provided during the Host &amp; Device pairing.</p>\n<p>I use this following PEM to generate my X509Certificat (first generated using libimobiledevice) :</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICujCCAaKgAwIBAgIBADANBgkqhkiG9w0BAQUFADAAMB4XDTIxMDExMjE0MDcy\nOVoXDTMxMDExMDE0MDcyOVowADCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\nggEBAMtALTNIPEv1KjnzSarFl5ahC6UB9SMCRZbaPP3270Fxl8BW8BcbhqEn5j5K\npB+f+f4QXSh8ITx2/LPPuwd2YNlpR+pYmvKCLZRTxyrNLDY5srj3bIxAcJKIcuiQ\nzISbGxNd/1jK52Y6ZmB9ntFpK094ZCL40TRvlghlzdYhS9Fr82OvIetyC+WXn64D\n+gyrrtASvydOSzyiVJELDWe7ULHsVSafBBOL76BOmA6g4iruFujuMfrxFydg5RGp\nTwTe9VnwJJO1xuKTlgMP9zQKxTP0EoEOGJ+rcqfmwExYRELQe4YwAkEKiq48BIxp\nWHMo88Kj6MFmCnaDY9is18g+2yUCAwEAAaM/MD0wDAYDVR0TAQH/BAIwADAdBgNV\nHQ4EFgQUHx2bzAmGPtEdlX34YL6pu9cfqMkwDgYDVR0PAQH/BAQDAgWgMA0GCSqG\nSIb3DQEBBQUAA4IBAQDQeLnRXk3LWVBdZ7OzgtmHM236bDms2dgBPZv3WfTSHriT\nl3PTssO08elH6/WAT2ljRluu3jtkwaqwKsEsG+8XAoMyHbW8VmzqC+PNou0PZPpY\ncLMqTVdDq+9Do1AyQ8i3V16GGCxBb8NCHyfUcRnnq04KiuwaKBwWtttpTwMoAkYB\nI+aH1drtRDiBcxuALZqEcAg5jfatgaRfgWsWNE0NJiXdk1PHUcF9dBOUhNttp1AS\nTHwqJXdBEiPc00zRlUQEx5Wu5pO4SVvhwbEM1F00srcDK6yYz0s+23eU7XLH6bGd\nik7hOSZjkEP/mmkrYHZUYYY9obpFbtLLsTWp0b0S\n-----END CERTIFICATE-----\n-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDLQC0zSDxL9So5\n80mqxZeWoQulAfUjAkWW2jz99u9BcZfAVvAXG4ahJ+Y+SqQfn/n+EF0ofCE8dvyz\nz7sHdmDZaUfqWJrygi2UU8cqzSw2ObK492yMQHCSiHLokMyEmxsTXf9YyudmOmZg\nfZ7RaStPeGQi+NE0b5YIZc3WIUvRa/NjryHrcgvll5+uA/oMq67QEr8nTks8olSR\nCw1nu1Cx7FUmnwQTi++gTpgOoOIq7hbo7jH68RcnYOURqU8E3vVZ8CSTtcbik5YD\nD/c0CsUz9BKBDhifq3Kn5sBMWERC0HuGMAJBCoquPASMaVhzKPPCo+jBZgp2g2PY\nrNfIPtslAgMBAAECggEBAJblvqkkKB/8lK0Rgs/WgwTB6/NF0Ml9Fk05Ga8zdc4Q\nl6mk4ftF5F4hUT9OCyuvidqmK4OzJLnPXS3iO+j+akj/cPT7c444N763tFaCnSBl\nFdtdVqmJ7gncY/NmDXEl9qQaVUmG2uV61ictHIw8mHsX1sBgGnHjpm/1pSwk7DU9\nrC8ZsaNlDhEWGETohqXxUvK0e1MXNWWjg+XNSYrkj8b0f6SLKOFQcUQqreGDyg5I\nuz/5pS6IGpetqWt43WbcgeRAELhtWBZsJgWv07Esf52RIqY1tW12QCguJUTP+Hqv\nqfO7B+RJcv+m1Y4KEfMbShcl+SbMNagtjOQzGNmhlAECgYEA+J8ryB1cUdIuxtgG\nEPBy+2JCb1Hjr8mIvdzuBj9Mbtlp9/n1tGCsex2T+Ct8IkohS/lOMgGXy+aw+Ats\npW9Z0XfEucyg8WgZ7zRPl83YIMDAXkOEQhNxZ+mgBHKPFCKLGzLOL392Le7niUxw\nCX6mNVkKesP1Tn2gm+g+I3lMzNUCgYEA0UhP/tGV2G76hK3qp/X15ao3yG2FgEZv\nqFU7rIi/jrJaFwCpPZ4y828iv3nScSgBBSUOKwhY/k+LTPHaSkpgeX5Rhpj1mW+t\ncVeEjbHLAlhX/FivfaJOLJfQTU2YChqA9Ax5VVPMTjhVS77BU68omUZpG2xzBp6K\nclDn8XE8vRECgYEA4kEwPcACeO+W5BxJgPbhHMZyAQ5770ivqWE6N/M44pP27NXL\n9agYrz3en/Uq1aWyoYoy0C1E8ClzmXgEGpW4HnkpTZDcUnTTTS3E1Thd3IitR9uX\nq+43wUIJ/qImdUNuZoUYwH71lJ2algc62lkodtoeQFS+k/ydweRbUDseWjUCgYEA\nyscSG4jfc9I0EhKhZxS+qUUAv8a+r8ePsL7FDyuAz7an69nMIdQC8jQgqv5SlSl5\ns45v5+oysFZKVseQBqOCTrXCMHRMo9q9ZzCxUsmONjt7JRqZD1YQAM0oG36vbjq3\n77+WYMLNFo0muDmgAIGbCMhcVyIBYcyDwLf7xMk/XMECgYBim0gMEYAE+2U2b1wm\n5CnTDcObOTf2cUh56YWwPOlmQIbXKQxlEajCBYCfX51HHi0TyozutJ9oFuGQJzzH\nh4UHmSykionM7KTgQOtnEbYVzTSyx4wlQWciHSHUZ3RhOGTM1jbeTXTUXwcXVfLA\nz0UpDK0tm1S3o/aQFS1RkX+chg==\n-----END PRIVATE KEY-----\n</code></pre>\n<p>When I decode this PEM File , I can see there is no DN provided in this key.</p>\n<p>And during the SSLHandshake I receive this Exception :</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: java.io.IOException: javax.net.ssl.SSLProtocolException: Empty issuer DN not allowed in X509Certificates\n</code></pre>\n<p>And this is the part of my code causing this Exception :</p>\n<pre><code>SSLSocket sslSocket = (SSLSocket) SSLContext.getDefault().getSocketFactory().createSocket(socket, &quot;127.0.0.1&quot;, 62078, true);\n                System.out.println(&quot;Socket open&quot;);\n                \n                sslSocket.setEnabledCipherSuites(new String[] { &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot; });\n                sslSocket.setEnabledProtocols(new String[] { &quot;TLSv1.2&quot; });\n                try{\n                    sslSocket.startHandshake();\n                    System.out.println(&quot;================================Socket open success&quot;);\n                }catch(Exception e){\n                    throw new IOException(e);\n                }\n</code></pre>\n<p>There is a way to bypass the &quot;Empty issuer Exception&quot; in Java ? or Someone do have an other idea ?\nI really need your help on this.</p>\n<p>Thank you.</p>\n"},{"tags":["java","selenium","google-chrome","user-profile"],"owner":{"account_id":5917582,"reputation":240,"user_id":4655907,"accept_rate":100,"display_name":"slodeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659688815,"creation_date":1652494951,"question_id":72236867,"body_markdown":"**Situation**: i&#39;m running chrome in headless mode (see arguments in section part of code), when i connect to page (let say i sign into the page before i run my app that&#39;s using selenium) i&#39;m already login to page (because it&#39;s using existing profile and i login to page before i started my app) that&#39;s on first computer, correct PROFILE is used. \r\n\r\nOn second computer i&#39;m running Chrome with same settings (same as on computer one) and when i go to the same page as on computer one i&#39;m **NOT** login to the page (because the profile with existing session is not used)... \r\n\r\nIf i remove the --headless option everything works... **however i want to running it in HEADLESSS mode with current profile used by chrome.**\r\n\r\n - **Driver**: Chrome driver version 101 \r\n - **Java version**: 15 \r\n - **Browser**: Google Chrome (version 101.0.4951.64)\r\n - **Operating system**: both computers have Windows 10\r\n\r\n**Part of code:**\r\n                          \r\n\r\n                                   String userP=getChromeUserProfilePath();\r\n        \t\t\t\t\t    \toptions.addArguments(String.format(&quot;--user-data-dir=%s&quot;,userP));\r\n                              if(getChromeUserProfileName()!=null){\r\n    \t\t\t\t\t    \t\toptions.addArguments(String.format(&quot;--profile-directory=%s&quot;,getChromeUserProfileName()));\r\n    \t\t\t\t\t    \t}\r\n                                   options.addArguments(&quot;--headless&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--disable-gpu&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--window-size=1920,1200&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--ignore-certificate-errors&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--disable-extensions&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--no-sandbox&quot;,\r\n    \t\t\t\t\t        \t\t&quot;--disable-dev-shm-usage&quot;);\r\n                     ChromeDriver webDriver = new ChromeDriver(options);\r\nQuestions:\r\n\r\n**Where&#39;s the catch ? How do i make it work for second computer?**\r\n\r\n\r\n\r\n\r\n","title":"selenium user profile in headless mode, chrome browser","body":"<p><strong>Situation</strong>: i'm running chrome in headless mode (see arguments in section part of code), when i connect to page (let say i sign into the page before i run my app that's using selenium) i'm already login to page (because it's using existing profile and i login to page before i started my app) that's on first computer, correct PROFILE is used.</p>\n<p>On second computer i'm running Chrome with same settings (same as on computer one) and when i go to the same page as on computer one i'm <strong>NOT</strong> login to the page (because the profile with existing session is not used)...</p>\n<p>If i remove the --headless option everything works... <strong>however i want to running it in HEADLESSS mode with current profile used by chrome.</strong></p>\n<ul>\n<li><strong>Driver</strong>: Chrome driver version 101</li>\n<li><strong>Java version</strong>: 15</li>\n<li><strong>Browser</strong>: Google Chrome (version 101.0.4951.64)</li>\n<li><strong>Operating system</strong>: both computers have Windows 10</li>\n</ul>\n<p><strong>Part of code:</strong></p>\n<pre><code>                               String userP=getChromeUserProfilePath();\n                                options.addArguments(String.format(&quot;--user-data-dir=%s&quot;,userP));\n                          if(getChromeUserProfileName()!=null){\n                                options.addArguments(String.format(&quot;--profile-directory=%s&quot;,getChromeUserProfileName()));\n                            }\n                               options.addArguments(&quot;--headless&quot;,\n                                    &quot;--disable-gpu&quot;,\n                                    &quot;--window-size=1920,1200&quot;,\n                                    &quot;--ignore-certificate-errors&quot;,\n                                    &quot;--disable-extensions&quot;,\n                                    &quot;--no-sandbox&quot;,\n                                    &quot;--disable-dev-shm-usage&quot;);\n                 ChromeDriver webDriver = new ChromeDriver(options);\n</code></pre>\n<p>Questions:</p>\n<p><strong>Where's the catch ? How do i make it work for second computer?</strong></p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659630975,"creation_date":1659630975,"answer_id":73239461,"question_id":73239342,"body_markdown":"IntelliJ IDEA generates a Gradle script to run it. You can&#39;t do it from the terminal in the same way IntelliJ IDEA does.\r\n\r\nYou can [disable Gradle delegation](https://i.stack.imgur.com/Ih7Sk.png) to run directly via the IDE.","title":"How does IntelliJ run a main class without it being specified in the build.gradle?","body":"<p>IntelliJ IDEA generates a Gradle script to run it. You can't do it from the terminal in the same way IntelliJ IDEA does.</p>\n<p>You can <a href=\"https://i.stack.imgur.com/Ih7Sk.png\" rel=\"nofollow noreferrer\">disable Gradle delegation</a> to run directly via the IDE.</p>\n"},{"tags":[],"owner":{"account_id":6306065,"reputation":1,"user_id":4899111,"display_name":"bourne7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659688727,"creation_date":1659688633,"answer_id":73246926,"question_id":73239342,"body_markdown":"You should build a project without gradle to do this.\r\n\r\n[Select new project -&gt; Java -&gt; Intellij -&gt; Add sample code][1]\r\n\r\n[Run Main method][2]\r\n\r\nTested in Intellij 2022.2\r\n\r\n  [1]: https://i.stack.imgur.com/WQ7bm.png\r\n  [2]: https://i.stack.imgur.com/yRQg3.png","title":"How does IntelliJ run a main class without it being specified in the build.gradle?","body":"<p>You should build a project without gradle to do this.</p>\n<p><a href=\"https://i.stack.imgur.com/WQ7bm.png\" rel=\"nofollow noreferrer\">Select new project -&gt; Java -&gt; Intellij -&gt; Add sample code</a></p>\n<p><a href=\"https://i.stack.imgur.com/yRQg3.png\" rel=\"nofollow noreferrer\">Run Main method</a></p>\n<p>Tested in Intellij 2022.2</p>\n"}],"owner":{"account_id":16550159,"reputation":35,"user_id":11958699,"display_name":"Sharia Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659688727,"creation_date":1659630394,"question_id":73239342,"body_markdown":"When I click the Run Buttton in IntelliJ on a main class, it runs the gradle build with all the tasks.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Yfc3.png\r\n\r\n\r\nHowever, I do not have a task that specifically runs the program (```Main.main```) (no ```gradle run``` functionality). How can I mimic that call to ```Main.main``` through the terminal without modifying the build.gradle (like how IntelliJ is doing)?","title":"How does IntelliJ run a main class without it being specified in the build.gradle?","body":"<p>When I click the Run Buttton in IntelliJ on a main class, it runs the gradle build with all the tasks.\n<a href=\"https://i.stack.imgur.com/9Yfc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Yfc3.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I do not have a task that specifically runs the program (<code>Main.main</code>) (no <code>gradle run</code> functionality). How can I mimic that call to <code>Main.main</code> through the terminal without modifying the build.gradle (like how IntelliJ is doing)?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":274902,"reputation":1209,"user_id":567420,"display_name":"fpmoles"},"score":0,"creation_date":1659711832,"post_id":73246934,"comment_id":129367017,"body_markdown":"I get the inability to post a whole code base, can you give us a small GitHub repo that demonstrates your issue, I honestly am having some trouble following the need.","body":"I get the inability to post a whole code base, can you give us a small GitHub repo that demonstrates your issue, I honestly am having some trouble following the need."},{"owner":{"account_id":25984932,"reputation":11,"user_id":19698034,"display_name":"Ashutosh Pathak"},"score":1,"creation_date":1659712058,"post_id":73246934,"comment_id":129367114,"body_markdown":"okay, i&#39;ll create a new repo and share with you so you can easily run for yourself and see. But since it&#39;s friday night, I&#39;ll be able to share it in a few days time. Also, really surprised by non-deterministic behaviour of spring-security. Thanks again @fpmoles not just for your course on linked in but for being active member in your city and also online. \\/,","body":"okay, i&#39;ll create a new repo and share with you so you can easily run for yourself and see. But since it&#39;s friday night, I&#39;ll be able to share it in a few days time. Also, really surprised by non-deterministic behaviour of spring-security. Thanks again @fpmoles not just for your course on linked in but for being active member in your city and also online. \\/,"}],"owner":{"account_id":25984932,"reputation":11,"user_id":19698034,"display_name":"Ashutosh Pathak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659688704,"creation_date":1659688672,"question_id":73246934,"body_markdown":"I am able to successfully bypass an endpoint from spring security by passing it as regex param to antMatchers of overridden configure method\r\n```java\r\n@Override\r\npublic void configure(WebSecurity web) throws Exception\r\n```\r\n\r\n\r\nBut unfortunately, the endpoint identified by regex remains by-passed as long as I don&#39;t make any customRepoImpl call in the servieImpl which my controller calls. It works fine if I make repo call to a simple repo like\r\n```java\r\n@Repository\r\npublic interface TestRepo extends JpaRepository&lt;Spv, Long&gt;\r\n```\r\n\r\nBut as soon as I make a repo call to customRepoImpl (in which I have a parameterized native query and dynamically bind params), strangely the endpoint starts complaining that full authentication is required, and if I comment the line in which I&#39;m making the repo call, it again starts working like a charm - i.e. w/o having to pass a bearer-token in Authorization header, I&#39;m able to hit the end point.\r\n\r\nHow can I fix this.\r\n\r\nHere&#39;s my SecurityConfiguration class.\r\n\r\n```java\r\n@Configuration\r\n//@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf()\r\n\t\t\t\t.disable()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t//.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;, &quot;/test/**&quot;)\r\n\t\t\t\t.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and().httpBasic();\r\n\t\thttp.cors();\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().antMatchers(&quot;/upload/**&quot;).antMatchers(&quot;/upload/**&quot;).antMatchers(&quot;/uploadmedia/**&quot;)\r\n\t\t\t\t.antMatchers(&quot;/transcoder/decrypt/**&quot;).antMatchers(&quot;/download/**&quot;).antMatchers(&quot;/v2/api-docs&quot;)\r\n\t\t\t\t// swagger-docs\r\n\t\t\t\t.antMatchers(&quot;/swagger-ui.html&quot;)\r\n\t\t\t\t// swagger-ui\r\n\t\t\t\t.antMatchers(&quot;/webjars/**&quot;)\r\n\t\t\t\t// swagger-ui\r\n\t\t\t\t.antMatchers(&quot;/swagger-resources/**&quot;)\r\n\t\t\t\t.antMatchers(&quot;/test/**&quot;)\r\n\t\t\t\t.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n\t\t\t\t;\r\n\t}\r\n\r\n```\r\n\r\nHere&#39;s my Controller\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class Test {\r\n\r\n    @Autowired\r\n    TestService testService;\r\n\r\n    @GetMapping(&quot;/test-a-method&quot;)\r\n    public void test_method() {\r\n        testService.test();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere&#39;s my ServiceImpl\r\n\r\n```java\r\n@Service\r\npublic class TestServiceImpl implements TestService {\r\n\r\n    @Autowired\r\n    ContractMappingCustomRepo repo;\r\n\r\n    @Autowired\r\n    TestRepo testRepo;\r\n\r\n    @Override\r\n    public void test() {\r\n\r\n        List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\r\n        ids.add(319L);\r\n        ids.add(320L);\r\n        ids.add(321L);\r\n        \r\n        //If I comment lines identified below,\r\n        //and make call to just testRepo which extends JpaRepo, \r\n        //bypassing of end-point works fine.\r\n        \r\n        // --- If I comment these 5 lines of code, works fine\r\n        List&lt;Object[]&gt; contractMapping = new ArrayList&lt;&gt;();\r\n        contractMapping = repo.getContractMapping(ids);\r\n\r\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n\r\n        contractMapping.stream()\r\n                .forEach(x -&gt; stringList.add(x[0].toString()) );\r\n\r\n        stringList.forEach(x-&gt; System.out.println(x));\r\n        //--- above 5 lines are culprit, esp the one with repo.getContractMapping(ids)\r\n\r\n        List&lt;Spv&gt; all = testRepo.findAll();\r\n        all.forEach(x-&gt; System.out.println(x.getSpvLanguages()));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s my suspicious method\r\n\r\n```java\r\n@Override\r\n\tpublic List&lt;Object[]&gt; getContractMapping(List&lt;Long&gt; idList) {\r\n\t\t//1. Generate parameterized sql string\r\n\t\tString sql = &quot;select distinct contractMapping from contract_details where  JSON_EXTRACT(contractMapping,\\&quot;$.level1.id\\&quot;) in ( &quot; + Constants.ID_1 + &quot;,&quot; + Constants.ID_2 + &quot;,&quot; + Constants.ID_3 + &quot; ) and &quot; +\r\n\t\t\t\t&quot;configuredInWf = 0 and contractId in ( :idList ) &quot;;\r\n\r\n\t\t//2. Create parameterized native query\r\n\t\tQuery query = entityManager.createNativeQuery(sql);\r\n\r\n\t\t//3. Bind parameters (from method arguments into the parameterized native query)\r\n\t\tquery.setParameter(&quot;idList&quot;, idList);\r\n\r\n\t\t//4. Return query.getResultList()\r\n\t\tList&lt;Object[]&gt; resultList = query.getResultList();\r\n\t\treturn resultList;\r\n\t}\r\n\r\n```\r\nHere&#39;s my test repo\r\n\r\n```java\r\n@Repository\r\npublic interface TestRepo extends JpaRepository&lt;Spv, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nNB: I&#39;m aware that suspicious method isn&#39;t the optimal way to write the query. I myself use JPQL. However, this is the way it&#39;s currently implemented and causing issues. Please try to address why with this repo implementation spring won&#39;t let me bypass security for my /test-a-method endpoint. I can optimize my repo myself later on. Thanks.\r\n\r\nAlso, I can&#39;t share whole of my code-base. \r\nThere are much complicated repos whose controllers I need to bypass but I can&#39;t share them here.\r\n\r\nThanks in advance for your help!","title":"Unable to bypass an endpoint from spring security if calling a repo method in which I&#39;m creating a native query and dynamically binding params","body":"<p>I am able to successfully bypass an endpoint from spring security by passing it as regex param to antMatchers of overridden configure method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(WebSecurity web) throws Exception\n</code></pre>\n<p>But unfortunately, the endpoint identified by regex remains by-passed as long as I don't make any customRepoImpl call in the servieImpl which my controller calls. It works fine if I make repo call to a simple repo like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TestRepo extends JpaRepository&lt;Spv, Long&gt;\n</code></pre>\n<p>But as soon as I make a repo call to customRepoImpl (in which I have a parameterized native query and dynamically bind params), strangely the endpoint starts complaining that full authentication is required, and if I comment the line in which I'm making the repo call, it again starts working like a charm - i.e. w/o having to pass a bearer-token in Authorization header, I'm able to hit the end point.</p>\n<p>How can I fix this.</p>\n<p>Here's my SecurityConfiguration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n//@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                //.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;, &quot;/test/**&quot;)\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and().httpBasic();\n        http.cors();\n    }\n    \n    \n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/upload/**&quot;).antMatchers(&quot;/upload/**&quot;).antMatchers(&quot;/uploadmedia/**&quot;)\n                .antMatchers(&quot;/transcoder/decrypt/**&quot;).antMatchers(&quot;/download/**&quot;).antMatchers(&quot;/v2/api-docs&quot;)\n                // swagger-docs\n                .antMatchers(&quot;/swagger-ui.html&quot;)\n                // swagger-ui\n                .antMatchers(&quot;/webjars/**&quot;)\n                // swagger-ui\n                .antMatchers(&quot;/swagger-resources/**&quot;)\n                .antMatchers(&quot;/test/**&quot;)\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                ;\n    }\n\n</code></pre>\n<p>Here's my Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class Test {\n\n    @Autowired\n    TestService testService;\n\n    @GetMapping(&quot;/test-a-method&quot;)\n    public void test_method() {\n        testService.test();\n    }\n\n}\n\n</code></pre>\n<p>Here's my ServiceImpl</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TestServiceImpl implements TestService {\n\n    @Autowired\n    ContractMappingCustomRepo repo;\n\n    @Autowired\n    TestRepo testRepo;\n\n    @Override\n    public void test() {\n\n        List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\n        ids.add(319L);\n        ids.add(320L);\n        ids.add(321L);\n        \n        //If I comment lines identified below,\n        //and make call to just testRepo which extends JpaRepo, \n        //bypassing of end-point works fine.\n        \n        // --- If I comment these 5 lines of code, works fine\n        List&lt;Object[]&gt; contractMapping = new ArrayList&lt;&gt;();\n        contractMapping = repo.getContractMapping(ids);\n\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n\n        contractMapping.stream()\n                .forEach(x -&gt; stringList.add(x[0].toString()) );\n\n        stringList.forEach(x-&gt; System.out.println(x));\n        //--- above 5 lines are culprit, esp the one with repo.getContractMapping(ids)\n\n        List&lt;Spv&gt; all = testRepo.findAll();\n        all.forEach(x-&gt; System.out.println(x.getSpvLanguages()));\n\n    }\n}\n\n</code></pre>\n<p>Here's my suspicious method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public List&lt;Object[]&gt; getContractMapping(List&lt;Long&gt; idList) {\n        //1. Generate parameterized sql string\n        String sql = &quot;select distinct contractMapping from contract_details where  JSON_EXTRACT(contractMapping,\\&quot;$.level1.id\\&quot;) in ( &quot; + Constants.ID_1 + &quot;,&quot; + Constants.ID_2 + &quot;,&quot; + Constants.ID_3 + &quot; ) and &quot; +\n                &quot;configuredInWf = 0 and contractId in ( :idList ) &quot;;\n\n        //2. Create parameterized native query\n        Query query = entityManager.createNativeQuery(sql);\n\n        //3. Bind parameters (from method arguments into the parameterized native query)\n        query.setParameter(&quot;idList&quot;, idList);\n\n        //4. Return query.getResultList()\n        List&lt;Object[]&gt; resultList = query.getResultList();\n        return resultList;\n    }\n\n</code></pre>\n<p>Here's my test repo</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TestRepo extends JpaRepository&lt;Spv, Long&gt; {\n\n}\n\n</code></pre>\n<p>NB: I'm aware that suspicious method isn't the optimal way to write the query. I myself use JPQL. However, this is the way it's currently implemented and causing issues. Please try to address why with this repo implementation spring won't let me bypass security for my /test-a-method endpoint. I can optimize my repo myself later on. Thanks.</p>\n<p>Also, I can't share whole of my code-base.\nThere are much complicated repos whose controllers I need to bypass but I can't share them here.</p>\n<p>Thanks in advance for your help!</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":273040,"reputation":1204,"user_id":1478261,"accept_rate":18,"display_name":"Rakesh Chouhan"},"score":2,"creation_date":1463642566,"post_id":37316289,"comment_id":62152826,"body_markdown":"This link may help you http://stackoverflow.com/questions/1878907/the-smallest-difference-between-2-angles","body":"This link may help you <a href=\"http://stackoverflow.com/questions/1878907/the-smallest-difference-between-2-angles\" title=\"the smallest difference between 2 angles\">stackoverflow.com/questions/1878907/&hellip;</a>"},{"owner":{"account_id":7628930,"reputation":63,"user_id":5784607,"display_name":"Lolslayer"},"score":0,"creation_date":1463658115,"post_id":37316289,"comment_id":62163560,"body_markdown":"Thank you Rakesh, it worked as it should :)","body":"Thank you Rakesh, it worked as it should :)"},{"owner":{"account_id":8291217,"reputation":1022,"user_id":6232794,"display_name":"12Me21"},"score":0,"creation_date":1534444742,"post_id":37316289,"comment_id":90718528,"body_markdown":"Possible duplicate of [The smallest difference between 2 Angles](https://stackoverflow.com/questions/1878907/the-smallest-difference-between-2-angles)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1878907/the-smallest-difference-between-2-angles\">The smallest difference between 2 Angles</a>"}],"answers":[{"tags":[],"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463643940,"creation_date":1463642713,"answer_id":37316541,"question_id":37316289,"body_markdown":"This is just do\r\n\r\n    package angle;\r\n\r\n    public class Example {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(distance(-179,180));\r\n\t}\r\n\r\n\tprivate static double distance(double alpha, double beta) {\r\n\t    if(beta&gt;=0 &amp;&amp; alpha &gt;=0 &amp;&amp; beta&lt;=180 &amp;&amp; alpha&lt;=180){\r\n\t    \tdouble phi = (beta - alpha) % 360;       // This is either the distance or 360 - distance\r\n\t\t    double distance = phi &gt; 180 ? 360 - phi : phi;\r\n\t    \treturn distance;\r\n\t    }else if(beta&lt;0 || alpha &lt; 0){\r\n\t    \tdouble phi = (beta - alpha) % 360;       // This is either the distance or 360 - distance\r\n\t    \tdouble distance = phi;\r\n\t    \treturn distance;\r\n\t    }\r\n\t    return 0;\r\n\t}\r\n    }\r\n\r\n\r\nprints 359.0 you can reduce it to 360-distance to get smallest distance\r\n\r\nreplacing with double distance = phi &gt; 180 ? 360 - phi : phi;\r\n\r\nAlso Refer to \r\n\r\nhttps://stackoverflow.com/questions/7570808/how-do-i-calculate-the-difference-of-two-angle-measures","title":"Angle difference between -180 and 180","body":"<p>This is just do</p>\n\n<pre><code>package angle;\n\npublic class Example {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(distance(-179,180));\n}\n\nprivate static double distance(double alpha, double beta) {\n    if(beta&gt;=0 &amp;&amp; alpha &gt;=0 &amp;&amp; beta&lt;=180 &amp;&amp; alpha&lt;=180){\n        double phi = (beta - alpha) % 360;       // This is either the distance or 360 - distance\n        double distance = phi &gt; 180 ? 360 - phi : phi;\n        return distance;\n    }else if(beta&lt;0 || alpha &lt; 0){\n        double phi = (beta - alpha) % 360;       // This is either the distance or 360 - distance\n        double distance = phi;\n        return distance;\n    }\n    return 0;\n}\n}\n</code></pre>\n\n<p>prints 359.0 you can reduce it to 360-distance to get smallest distance</p>\n\n<p>replacing with double distance = phi > 180 ? 360 - phi : phi;</p>\n\n<p>Also Refer to </p>\n\n<p><a href=\"https://stackoverflow.com/questions/7570808/how-do-i-calculate-the-difference-of-two-angle-measures\">How do I calculate the difference of two angle measures?</a></p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1463644237,"creation_date":1463644237,"answer_id":37317079,"question_id":37316289,"body_markdown":"If you are sure that alpha and beta are both in [-180, 180] interval, you know\r\n\r\n-360 &lt;= alpha - beta &lt;= 360\r\n\r\nSo you can use:\r\n\r\n\r\n    private int distance2(int alpha, int beta) {\r\n        int distance = beta - alpha;      // This is the distance mod 360\r\n        if (phi &lt;= -180) {\r\n            distance += 360; // you were between -360 and -180 -&gt; 0 &lt;= distance &lt;= 180\r\n        else if (phi &gt; 180) {\r\n            distance -= 360; // you were between 180 and 360 -&gt; 180 &lt; distance &lt;= 0\r\n        }\r\n        return distance;\r\n    }\r\n\r\nIf you cannot be sure of input values, just replace first line with:\r\n\r\n    int distance = (beta - alpha) % 360;  // forces distance in ]-360, 360[ range","title":"Angle difference between -180 and 180","body":"<p>If you are sure that alpha and beta are both in [-180, 180] interval, you know</p>\n\n<p>-360 &lt;= alpha - beta &lt;= 360</p>\n\n<p>So you can use:</p>\n\n<pre><code>private int distance2(int alpha, int beta) {\n    int distance = beta - alpha;      // This is the distance mod 360\n    if (phi &lt;= -180) {\n        distance += 360; // you were between -360 and -180 -&gt; 0 &lt;= distance &lt;= 180\n    else if (phi &gt; 180) {\n        distance -= 360; // you were between 180 and 360 -&gt; 180 &lt; distance &lt;= 0\n    }\n    return distance;\n}\n</code></pre>\n\n<p>If you cannot be sure of input values, just replace first line with:</p>\n\n<pre><code>int distance = (beta - alpha) % 360;  // forces distance in ]-360, 360[ range\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4166390,"reputation":1,"user_id":3415286,"display_name":"AleksNL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659688614,"creation_date":1659688614,"answer_id":73246921,"question_id":37316289,"body_markdown":"    float diff(float a1, float a2)\r\n    {\r\n    \tfloat a = a2 - a1;\r\n    \treturn abs((a &gt; PI) ? a - 2 * PI : a);\r\n    }\r\n\r\nabs - is optional in this function\r\n\r\nworks good in any cases","title":"Angle difference between -180 and 180","body":"<pre><code>float diff(float a1, float a2)\n{\n    float a = a2 - a1;\n    return abs((a &gt; PI) ? a - 2 * PI : a);\n}\n</code></pre>\n<p>abs - is optional in this function</p>\n<p>works good in any cases</p>\n"}],"owner":{"account_id":7628930,"reputation":63,"user_id":5784607,"display_name":"Lolslayer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":965,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37317079,"answer_count":3,"score":2,"last_activity_date":1659688614,"creation_date":1463641964,"question_id":37316289,"body_markdown":"I know a way to find the angle difference of two angles between [0,180], but I&#39;m trying to find out a way to find the angle difference of two angles between [-179,180].\r\n\r\nMy code is as follows; it doesn&#39;t work properly:\r\n\r\n    private int distance2(int alpha, int beta) {\r\n        int phi = beta - alpha;// % 360;    // This is either the distance or 360 - distance\r\n        int distance = 0;\r\n        if (phi &lt; -360) {\r\n            distance = 360 + phi;\r\n        } // end of if\r\n        else{\r\n            distance = phi;  \r\n        }\r\n        return distance;\r\n    }","title":"Angle difference between -180 and 180","body":"<p>I know a way to find the angle difference of two angles between [0,180], but I'm trying to find out a way to find the angle difference of two angles between [-179,180].</p>\n\n<p>My code is as follows; it doesn't work properly:</p>\n\n<pre><code>private int distance2(int alpha, int beta) {\n    int phi = beta - alpha;// % 360;    // This is either the distance or 360 - distance\n    int distance = 0;\n    if (phi &lt; -360) {\n        distance = 360 + phi;\n    } // end of if\n    else{\n        distance = phi;  \n    }\n    return distance;\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8861,"page":1131,"page_size":100}
