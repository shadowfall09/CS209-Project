{"items":[{"tags":["java","android","web-scraping","url"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660913430,"post_id":73416363,"comment_id":129652286,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1660918864,"post_id":73416363,"comment_id":129654383,"body_markdown":"for playing video you need the uri of the video, the URL to where the actual file is saved in the server","body":"for playing video you need the uri of the video, the URL to where the actual file is saved in the server"},{"owner":{"account_id":26107157,"reputation":1,"user_id":19801693,"display_name":"Ashikuzzaman Akash"},"score":0,"creation_date":1660920704,"post_id":73416363,"comment_id":129655105,"body_markdown":"so it isnt possible to get the video without actual location of that video in server? i dont have any knowledge about server and webpage structure , but i think the actual location of the video is somewhere in the html sectio. can we get it?","body":"so it isnt possible to get the video without actual location of that video in server? i dont have any knowledge about server and webpage structure , but i think the actual location of the video is somewhere in the html sectio. can we get it?"}],"owner":{"account_id":26107157,"reputation":1,"user_id":19801693,"display_name":"Ashikuzzaman Akash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660910121,"creation_date":1660909885,"question_id":73416363,"body_markdown":"i want to develop an android app . the app will use urls to play videos from various websites.\r\nbut the url isnt directly a url of any video. the url will open a webpage and that webpage contains so many links and contents including a video to be played on clicking &quot;play&quot; button.\r\n\r\nis it possible i load the url by clicking a button from app and without loading the webview i just play the video from that webpage?\r\n\r\nan example of url= https://something.to/watch/season-3/episode-1.html\r\n\r\ncan i play the episode-1.html from this url?\r\n\r\nanother url= https://something.com/watch/hacklegend-of-the-twilight/1\r\n\r\nnote: the urls i posted here are dummy urls\r\n","title":"playing just the video from webpage using the url","body":"<p>i want to develop an android app . the app will use urls to play videos from various websites.\nbut the url isnt directly a url of any video. the url will open a webpage and that webpage contains so many links and contents including a video to be played on clicking &quot;play&quot; button.</p>\n<p>is it possible i load the url by clicking a button from app and without loading the webview i just play the video from that webpage?</p>\n<p>an example of url= <a href=\"https://something.to/watch/season-3/episode-1.html\" rel=\"nofollow noreferrer\">https://something.to/watch/season-3/episode-1.html</a></p>\n<p>can i play the episode-1.html from this url?</p>\n<p>another url= <a href=\"https://something.com/watch/hacklegend-of-the-twilight/1\" rel=\"nofollow noreferrer\">https://something.com/watch/hacklegend-of-the-twilight/1</a></p>\n<p>note: the urls i posted here are dummy urls</p>\n"},{"tags":["java","datetime","localdate"],"answers":[{"tags":[],"owner":{"account_id":25967898,"reputation":132,"user_id":19683595,"display_name":"pan-leszeczek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660887745,"creation_date":1660887370,"answer_id":73412241,"question_id":73411232,"body_markdown":"First of all - Consider thinking about more concious use of boolean logic. This code doesn&#39;t look understandable due to negation which can be replaced with equivalent **OR** expression. If your code compiles then I presume, a dollar mark is just a mistake in typing here and is normally a closing brace &quot;)&quot; which is missing.\r\n\r\nRemember that Java estimates only the necessary part of conditions. Once the evaluation can&#39;t change it&#39;s value it is fixed and nothing else is being checked. (first meet **false** in **&amp;&amp;** expression or first **true** in **or** expression) So if you check on the first place an hour in an **AND** expression the date will be checked ONLY in case the hour did not set the evaluation result. \r\n\r\nAlso if you use LocalDate/Time, why using negation in your logic instead simply use **(time/date).isAfter()**?\r\n\r\nI&#39;m not posting you the code - try fixing it yourself taking under consideration above mentioned things :)","title":"I want to stop my Web App by setting Time arguments but it’s not working correctly","body":"<p>First of all - Consider thinking about more concious use of boolean logic. This code doesn't look understandable due to negation which can be replaced with equivalent <strong>OR</strong> expression. If your code compiles then I presume, a dollar mark is just a mistake in typing here and is normally a closing brace &quot;)&quot; which is missing.</p>\n<p>Remember that Java estimates only the necessary part of conditions. Once the evaluation can't change it's value it is fixed and nothing else is being checked. (first meet <strong>false</strong> in <strong>&amp;&amp;</strong> expression or first <strong>true</strong> in <strong>or</strong> expression) So if you check on the first place an hour in an <strong>AND</strong> expression the date will be checked ONLY in case the hour did not set the evaluation result.</p>\n<p>Also if you use LocalDate/Time, why using negation in your logic instead simply use <strong>(time/date).isAfter()</strong>?</p>\n<p>I'm not posting you the code - try fixing it yourself taking under consideration above mentioned things :)</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660898566,"creation_date":1660891909,"answer_id":73412858,"question_id":73411232,"body_markdown":"Firstly, don&#39;t use classes `LocalDate`, `LocalTime` and `LocalDateTime` for server-side programming because they are **not** meant to represent a particular moment in time. They have a meaning only in the context of a particular `Local`.\r\n\r\nFor the same moment in time, `LocalDateTime` may vary in the range up `26-27` hours in different time zones.\r\n\r\nInstead, you can use [`Instant`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html), which represents a point in time in [*UTC*](https://en.wikipedia.org/wiki/Coordinated_Universal_Time).\r\n\r\nSecondly, you&#39;ve messed around with your condition.\r\n\r\nLet&#39;s assume that `endTime` is of type `Instant`. Then all that you need is the following:\r\n\r\n```\r\nInstant now = Instant.now();\r\n\r\nif (now.isBefore(endTime)) {\r\n    out.print(&quot;more time&quot;);\r\n} else {\r\n    stopdao.stopquiz();\r\n}\r\n```","title":"I want to stop my Web App by setting Time arguments but it’s not working correctly","body":"<p>Firstly, don't use classes <code>LocalDate</code>, <code>LocalTime</code> and <code>LocalDateTime</code> for server-side programming because they are <strong>not</strong> meant to represent a particular moment in time. They have a meaning only in the context of a particular <code>Local</code>.</p>\n<p>For the same moment in time, <code>LocalDateTime</code> may vary in the range up <code>26-27</code> hours in different time zones.</p>\n<p>Instead, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>, which represents a point in time in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\"><em>UTC</em></a>.</p>\n<p>Secondly, you've messed around with your condition.</p>\n<p>Let's assume that <code>endTime</code> is of type <code>Instant</code>. Then all that you need is the following:</p>\n<pre><code>Instant now = Instant.now();\n\nif (now.isBefore(endTime)) {\n    out.print(&quot;more time&quot;);\n} else {\n    stopdao.stopquiz();\n}\n</code></pre>\n"}],"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660909142,"creation_date":1660875492,"question_id":73411232,"body_markdown":"\r\n*Problem description:*\r\n\r\nIn my application the quiz stops when the date is not yet but the time is due but on a different date.\r\n\r\n*Example:*\r\n\r\nIf I set date to `August/20/2022` and `endTime` to `11:00pm`, then the quiz stops on `19th August` when the time is `11:00pm`.\r\n\r\n*My code:*\r\n\r\n```\r\nif (!(endTime.isBefore(now) &amp;&amp; !(endDate.isBefore(LocalDate.now())))) {\r\n    out.print(&quot;more time&quot;);\r\n} else {\r\n    stopdao.stopquiz();\r\n}\r\n```","title":"I want to stop my Web App by setting Time arguments but it’s not working correctly","body":"<p><em>Problem description:</em></p>\n<p>In my application the quiz stops when the date is not yet but the time is due but on a different date.</p>\n<p><em>Example:</em></p>\n<p>If I set date to <code>August/20/2022</code> and <code>endTime</code> to <code>11:00pm</code>, then the quiz stops on <code>19th August</code> when the time is <code>11:00pm</code>.</p>\n<p><em>My code:</em></p>\n<pre><code>if (!(endTime.isBefore(now) &amp;&amp; !(endDate.isBefore(LocalDate.now())))) {\n    out.print(&quot;more time&quot;);\n} else {\n    stopdao.stopquiz();\n}\n</code></pre>\n"},{"tags":["java","concurrency","thread-safety"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1660755538,"post_id":73390442,"comment_id":129609630,"body_markdown":"This question does not make sense as you&#39;ve omitted variable declarations in the snippet of code, and given no details of what your tests are doing. See [how to ask](https://stackoverflow.com/help/how-to-ask)","body":"This question does not make sense as you&#39;ve omitted variable declarations in the snippet of code, and given no details of what your tests are doing. See <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"},{"owner":{"account_id":26088877,"reputation":1,"user_id":19786053,"display_name":"choel"},"score":0,"creation_date":1660756761,"post_id":73390442,"comment_id":129610032,"body_markdown":"Oh, sorry, I thought variable declarationss could be derived by the code. I will add that immediatly.","body":"Oh, sorry, I thought variable declarationss could be derived by the code. I will add that immediatly."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660879729,"creation_date":1660879729,"answer_id":73411558,"question_id":73390442,"body_markdown":"With the lock based approach I presume you are locking the addAndGetIfFull. So there are no concurrent calls.\r\n\r\nWith the atomic approach, you need to understand that the getAndUpdate can execute multiple times. \r\n\r\n\r\n```\r\npublic final V getAndUpdate(UnaryOperator&lt;V&gt; updateFunction) {\r\n        V prev, next;\r\n        do {\r\n            prev = get();\r\n            next = updateFunction.apply(prev);\r\n        } while (!compareAndSet(prev, next));\r\n        return prev;\r\n    }\r\n```\r\n\r\nThis isn&#39;t a problem if the code executed in the updateFunction is free of side effects. But in your case, it isn&#39;t since you are updating some resources like the _arrayIdx and the array. \r\n\r\nSo it can happen that these resources get updates even though the actual update to the _currentBufferRef fails and needs to be retried. My bet is that this is the cause of your problem.\r\n","title":"Nesting side effect free atomic functions for threadsafe buffer","body":"<p>With the lock based approach I presume you are locking the addAndGetIfFull. So there are no concurrent calls.</p>\n<p>With the atomic approach, you need to understand that the getAndUpdate can execute multiple times.</p>\n<pre><code>public final V getAndUpdate(UnaryOperator&lt;V&gt; updateFunction) {\n        V prev, next;\n        do {\n            prev = get();\n            next = updateFunction.apply(prev);\n        } while (!compareAndSet(prev, next));\n        return prev;\n    }\n</code></pre>\n<p>This isn't a problem if the code executed in the updateFunction is free of side effects. But in your case, it isn't since you are updating some resources like the _arrayIdx and the array.</p>\n<p>So it can happen that these resources get updates even though the actual update to the _currentBufferRef fails and needs to be retried. My bet is that this is the cause of your problem.</p>\n"},{"tags":[],"owner":{"account_id":26088877,"reputation":1,"user_id":19786053,"display_name":"choel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660908859,"creation_date":1660908797,"answer_id":73416144,"question_id":73390442,"body_markdown":"OK, I found a solution, tested it hard on a 48 core Server and it did not fail. The only problem left is, that reading/clearing may take longer than adding, since the below implementation implements a ring buffer, to overcome the problem with creating new instances of the buffer array. There is a exception fired if this happens, but I need to think about a 100% safe solution:\r\n\r\n`\r\n\r\n    private final AtomicInteger _collisions = new AtomicInteger(0);\r\n    private final AtomicInteger _currBuf = new AtomicInteger(-1);\r\n    private final AtomicInteger _numBuf = new AtomicInteger(0);\r\n    private final AtomicInteger _count = new AtomicInteger(0);\r\n    private final AtomicInteger _arrayIdx = new AtomicInteger(-1);\r\n    private final AtomicReference&lt;AtomicReferenceArray&lt;byte[]&gt;&gt; _bufferRef = new AtomicReference&lt;&gt;();\r\n\r\n    /**\r\n     * Constructor for using flush interval for automatic flush. If flush interval time is set, this instance is thread safe.\r\n     * \r\n     * @param bufferSize the buffer size selected by user in the profile.\r\n     * @param flushInterval the time span in seconds when buffer is flushed automatically. If set to &#39;0&#39; no interval is configured, therefore the buffer flushed automatically from\r\n     *            the {@link IOTIntervalWatchdog}.\r\n     * @param func the data processing function called when flushed.\r\n     * @param reorder if set the returned buffer will not contain gaps if not completely filled.\r\n     */\r\n    public RefillBuffer(int bufferSize, int flushInterval, IntervalExecutor func, boolean reorder) {\r\n        _bufferSize = bufferSize;\r\n        _size = _bufferSize * _cacheSize;\r\n        _flushInterval = flushInterval * 1000; // convert seconds to milliseconds\r\n        if (_flushInterval &gt; 0) {\r\n            _executionTime = new AtomicLong();\r\n            resetTimer();\r\n        } else {\r\n            _executionTime = null;\r\n        }\r\n        _bufferRef.set(new AtomicReferenceArray&lt;byte[]&gt;(_size));\r\n\r\n        _func = func;\r\n        _reorder = reorder;\r\n    }\r\n\r\n    /**\r\n     * Constructor not using any flush interval for automatic flush, but with the option to create a thread safe instance. If thread safe is set to true, the synchronization\r\n     * overhead is greater, therefore performance is lower.\r\n     * \r\n     * @param bufferSize the buffer size selected by user in the profile.\r\n     * @param func the data processing function called when flushed.\r\n     * @param threadsafe if set to true, this instance is thread safe.\r\n     * @param reorder if set the returned buffer will not contain gaps if not completely filled.\r\n     */\r\n    public RefillBuffer(int bufferSize, IntervalExecutor func, boolean reorder) {\r\n        _bufferSize = bufferSize;\r\n        _size = _bufferSize * _cacheSize;\r\n        _flushInterval = 0;\r\n        _executionTime = null;\r\n        _bufferRef.set(new AtomicReferenceArray&lt;byte[]&gt;(_size));\r\n        _func = func;\r\n        _reorder = reorder;\r\n    }\r\n\r\n    @Override\r\n    public final void reset() {\r\n        _bufferRef.updateAndGet(current -&gt; {\r\n            _arrayIdx.setPlain(-1);\r\n            return new AtomicReferenceArray&lt;byte[]&gt;(_size);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Adds the data to be buffered and sets atomic flag if buffer reached its limit.\r\n     * \r\n     * @param data the data to be buffered.\r\n     * @return the current buffer used.\r\n     */\r\n    private final byte[][] addData(final byte[] data) {\r\n        AtomicReferenceArray&lt;byte[]&gt; bufArray = _bufferRef.updateAndGet(array -&gt; {\r\n            int idx = _arrayIdx.updateAndGet(i -&gt; {\r\n                return i == _size - 1 ? 0 : ++i;\r\n            });\r\n            byte[] expected = array.compareAndExchangeAcquire(idx, null, data);\r\n            if (expected != null) { // should never occur, since we assume processing the buffer is faster than writing\r\n                throw new ConcurrentCollisionException(&quot;Failed compareAndSet value &#39;&quot; + new String(data) + &quot;&#39; in &quot; + _currBuf + &quot;. buffer[&quot; + idx + &quot;]. It was set before with &#39;&quot; + new String(expected) + &quot;&#39;.&quot;);\r\n            }\r\n            return array;\r\n        });\r\n        int count = _count.incrementAndGet();\r\n\r\n        // only one thread can execute this\r\n        if (count % _bufferSize == 0 &amp;&amp; count &gt; 0) {\r\n            int tmp = _currBuf.incrementAndGet();\r\n            _currBuf.setPlain(tmp = tmp == _cacheSize ? 0 : tmp);\r\n            return convert(bufArray, _bufferSize * tmp);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public final byte[][] addAndGetIfFull(final byte[] data) throws ConcurrentCollisionException {\r\n        try {\r\n            final byte[][] buf = addData(data); // buf is immutable\r\n            if (buf != null) {\r\n                _numBuf.incrementAndGet();\r\n                resetTimer();\r\n                return buf;\r\n            }\r\n        } catch (ConcurrentCollisionException e) {\r\n            _collisions.incrementAndGet();\r\n            addAndGetIfFull(data); // try again ??? TODO needs a 100% proof solution\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n      * Converts the atomic array to a 2D byte array.\r\n      * Any null values are pushed to the end.\r\n      * @param array\r\n      * @return the converted array as a 2D byte array.\r\n      */\r\n    private final byte[][] convert(final AtomicReferenceArray&lt;byte[]&gt; array, int start) {\r\n        byte[][] bd = new byte[_bufferSize][];\r\n        int j = 0;\r\n        for (int i = start; i &lt; _bufferSize + start; ++i, ++j) {\r\n            byte[] val = array.getAndSet(i, null);\r\n            if (_reorder &amp;&amp; val == null) {\r\n                --j;\r\n                continue;\r\n            }\r\n            bd[j] = val;\r\n        }\r\n        if (j == 0) { // no entries\r\n            return null;\r\n        }\r\n        System.out.flush();\r\n        return bd;\r\n    }\r\n`","title":"Nesting side effect free atomic functions for threadsafe buffer","body":"<p>OK, I found a solution, tested it hard on a 48 core Server and it did not fail. The only problem left is, that reading/clearing may take longer than adding, since the below implementation implements a ring buffer, to overcome the problem with creating new instances of the buffer array. There is a exception fired if this happens, but I need to think about a 100% safe solution:</p>\n<p>`</p>\n<pre><code>private final AtomicInteger _collisions = new AtomicInteger(0);\nprivate final AtomicInteger _currBuf = new AtomicInteger(-1);\nprivate final AtomicInteger _numBuf = new AtomicInteger(0);\nprivate final AtomicInteger _count = new AtomicInteger(0);\nprivate final AtomicInteger _arrayIdx = new AtomicInteger(-1);\nprivate final AtomicReference&lt;AtomicReferenceArray&lt;byte[]&gt;&gt; _bufferRef = new AtomicReference&lt;&gt;();\n\n/**\n * Constructor for using flush interval for automatic flush. If flush interval time is set, this instance is thread safe.\n * \n * @param bufferSize the buffer size selected by user in the profile.\n * @param flushInterval the time span in seconds when buffer is flushed automatically. If set to '0' no interval is configured, therefore the buffer flushed automatically from\n *            the {@link IOTIntervalWatchdog}.\n * @param func the data processing function called when flushed.\n * @param reorder if set the returned buffer will not contain gaps if not completely filled.\n */\npublic RefillBuffer(int bufferSize, int flushInterval, IntervalExecutor func, boolean reorder) {\n    _bufferSize = bufferSize;\n    _size = _bufferSize * _cacheSize;\n    _flushInterval = flushInterval * 1000; // convert seconds to milliseconds\n    if (_flushInterval &gt; 0) {\n        _executionTime = new AtomicLong();\n        resetTimer();\n    } else {\n        _executionTime = null;\n    }\n    _bufferRef.set(new AtomicReferenceArray&lt;byte[]&gt;(_size));\n\n    _func = func;\n    _reorder = reorder;\n}\n\n/**\n * Constructor not using any flush interval for automatic flush, but with the option to create a thread safe instance. If thread safe is set to true, the synchronization\n * overhead is greater, therefore performance is lower.\n * \n * @param bufferSize the buffer size selected by user in the profile.\n * @param func the data processing function called when flushed.\n * @param threadsafe if set to true, this instance is thread safe.\n * @param reorder if set the returned buffer will not contain gaps if not completely filled.\n */\npublic RefillBuffer(int bufferSize, IntervalExecutor func, boolean reorder) {\n    _bufferSize = bufferSize;\n    _size = _bufferSize * _cacheSize;\n    _flushInterval = 0;\n    _executionTime = null;\n    _bufferRef.set(new AtomicReferenceArray&lt;byte[]&gt;(_size));\n    _func = func;\n    _reorder = reorder;\n}\n\n@Override\npublic final void reset() {\n    _bufferRef.updateAndGet(current -&gt; {\n        _arrayIdx.setPlain(-1);\n        return new AtomicReferenceArray&lt;byte[]&gt;(_size);\n    });\n}\n\n/**\n * Adds the data to be buffered and sets atomic flag if buffer reached its limit.\n * \n * @param data the data to be buffered.\n * @return the current buffer used.\n */\nprivate final byte[][] addData(final byte[] data) {\n    AtomicReferenceArray&lt;byte[]&gt; bufArray = _bufferRef.updateAndGet(array -&gt; {\n        int idx = _arrayIdx.updateAndGet(i -&gt; {\n            return i == _size - 1 ? 0 : ++i;\n        });\n        byte[] expected = array.compareAndExchangeAcquire(idx, null, data);\n        if (expected != null) { // should never occur, since we assume processing the buffer is faster than writing\n            throw new ConcurrentCollisionException(&quot;Failed compareAndSet value '&quot; + new String(data) + &quot;' in &quot; + _currBuf + &quot;. buffer[&quot; + idx + &quot;]. It was set before with '&quot; + new String(expected) + &quot;'.&quot;);\n        }\n        return array;\n    });\n    int count = _count.incrementAndGet();\n\n    // only one thread can execute this\n    if (count % _bufferSize == 0 &amp;&amp; count &gt; 0) {\n        int tmp = _currBuf.incrementAndGet();\n        _currBuf.setPlain(tmp = tmp == _cacheSize ? 0 : tmp);\n        return convert(bufArray, _bufferSize * tmp);\n    }\n    return null;\n}\n\n@Override\npublic final byte[][] addAndGetIfFull(final byte[] data) throws ConcurrentCollisionException {\n    try {\n        final byte[][] buf = addData(data); // buf is immutable\n        if (buf != null) {\n            _numBuf.incrementAndGet();\n            resetTimer();\n            return buf;\n        }\n    } catch (ConcurrentCollisionException e) {\n        _collisions.incrementAndGet();\n        addAndGetIfFull(data); // try again ??? TODO needs a 100% proof solution\n    }\n    return null;\n}\n\n/**\n  * Converts the atomic array to a 2D byte array.\n  * Any null values are pushed to the end.\n  * @param array\n  * @return the converted array as a 2D byte array.\n  */\nprivate final byte[][] convert(final AtomicReferenceArray&lt;byte[]&gt; array, int start) {\n    byte[][] bd = new byte[_bufferSize][];\n    int j = 0;\n    for (int i = start; i &lt; _bufferSize + start; ++i, ++j) {\n        byte[] val = array.getAndSet(i, null);\n        if (_reorder &amp;&amp; val == null) {\n            --j;\n            continue;\n        }\n        bd[j] = val;\n    }\n    if (j == 0) { // no entries\n        return null;\n    }\n    System.out.flush();\n    return bd;\n}\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":26088877,"reputation":1,"user_id":19786053,"display_name":"choel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660908859,"creation_date":1660747301,"question_id":73390442,"body_markdown":"This is more an academical question since I have a working solution for this based on locks. My aim is to create a performant buffer without blocking, based on javas atomic objects / functions. Unfortunatly the Exceptions in the addData method do fire. There are about 3 to 18 fails recorded with my unit test which uses 50 threads simultaniously on a buffer of size 10. Occasionally the test is OK.\r\nI cannot see where I am wrong, since the functions should be side effect free and therefore should return clean results. All fails end up with an empty byte[][] returned. It seems like the function got &#39;laped&#39; by thread entries once, when fails occur.\r\nIf the code snippet ist unclear etc. I can also post the complete implementation incl. unit test.\r\n\r\n    public final byte[][] addAndGetIfFull(final byte[] data) {\r\n        final AtomicReferenceArray&lt;byte[]&gt; buf = addData(data); // buf is immutable if full\r\n        if (_full.compareAndSet(true, false)) {\r\n            resetTimer();\r\n            buf.setPlain(_size - 1, data); // add data to last empty space\r\n            return convert(buf);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private final AtomicReferenceArray&lt;byte[]&gt; addData(final byte[] data) {\r\n        return _currentBufferRef.getAndUpdate(array -&gt; {\r\n            int idx = _arrayIdx.updateAndGet(i -&gt; {\r\n                if (i == _size-2) { // reached buffer size + leave safe space for last entry\r\n                    return -1;\r\n                } else {\r\n                    return ++i; // increment\r\n                }\r\n            });\r\n            if (idx == -1) {\r\n                if (!_full.compareAndSet(false, true)) {\r\n                    //_collisions.incrementAndGet();\r\n                    throw new ConcurrentModificationException(&quot;Failed compareAndSet while creating buffer.&quot;);\r\n                }\r\n                return new AtomicReferenceArray&lt;byte[]&gt;(_size);\r\n            } else {\r\n                if (!array.compareAndSet(idx, null, data)) {\r\n                    //_collisions.incrementAndGet();\r\n                    throw new ConcurrentModificationException(&quot;Failed compareAndSet value &#39;&quot; + new String(data) + &quot;&#39; in buffer &quot; + idx + &quot; - was in use by other thread.&quot;);\r\n                }\r\n                return array;\r\n            }\r\n        });\r\n    }\r\n`\r\n\r\nEdit:\r\nThe result after finishing with 3 collisions - all Buffers (byte[][]) with no rows shown are completely OK, the others contain no data at all. The exception thrown is always the one from array.compareAndSet(...). The _full.compareAndSet(...) is never thrown unless i move it into the updateAndGet(...) from _arrayIdx before returning -1.\r\n\r\n    Output:\r\n    \r\n    Collisions registered: 3\r\n    \r\n    Buffer #1910115902\r\n    Buffer #886611553\r\n    Buffer #182387041\r\n    Buffer #1756629841\r\n    Buffer #670751884\r\n    row: 1 = NULL\r\n    row: 2 = NULL\r\n    row: 3 = NULL\r\n    row: 4 = NULL\r\n    row: 5 = NULL\r\n    row: 6 = NULL\r\n    row: 7 = NULL\r\n    row: 8 = NULL\r\n    row: 9 = NULL\r\n    row: 10 = NULL\r\n    Buffer #1188792619\r\n    ...\r\n\r\nEdit 2:\r\nVariables:\r\n\r\n    private final int _size;\r\n    private final int _flushInterval;\r\n    private final IntervalExecutor _func;\r\n    private final AtomicLong _executionTime;\r\n\r\n    private final AtomicInteger _collisions = new AtomicInteger(0);\r\n    private final AtomicBoolean _full = new AtomicBoolean(false);\r\n    private final AtomicInteger _arrayIdx = new AtomicInteger(-1);\r\n    private final AtomicReference&lt;AtomicReferenceArray&lt;byte[]&gt;&gt; _currentBufferRef = new AtomicReference&lt;&gt;();\r\n\r\nTest:\r\n\r\n    @Test\r\n    public void testMultiThreadsNoDataLoss() throws InterruptedException {\r\n        final int threads = 50;\r\n        final int bufSize = 10;\r\n        final AtomicInteger thread = new AtomicInteger(0);\r\n\r\n        DataHandler dh = new DataHandler();\r\n        RefillBuffer buf = new RefillBuffer(bufSize, dh::processData);\r\n        ExecutorService es = Executors.newFixedThreadPool(threads);\r\n        for (int t = 0; t &lt; threads; ++t) {\r\n            es.execute(() -&gt; {\r\n                int th = thread.incrementAndGet();\r\n                for (int i = 0; i &lt; bufSize; ++i) {\r\n                    final byte[][] data = buf.addAndGetIfFull(new String(String.valueOf(i+1) + &quot; from Thread #&quot; + th).getBytes());\r\n                    if (data != null) {\r\n                        dh.processData(data, null);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        es.shutdown();\r\n        es.awaitTermination(60, TimeUnit.SECONDS);\r\n        \r\n        System.out.println(&quot;Collisions registered: &quot; + buf.getCollisions());\r\n\r\n        final int success = dh.getCount();\r\n        final int fails = dh.getCountEmpty();\r\n        \r\n        dh.dumpFails();\r\n        // test if reserved buffer was ok\r\n        assertTrue(&quot;Expected &quot;+bufSize*threads+&quot; buffer spaces, but recorded: &quot;+ fails + &quot; fails and &quot; + success + &quot; successes adding up to: &quot;+ (fails+success) + &quot; spaces.&quot;, fails+success == threads*bufSize);\r\n        // test no data lost\r\n        assertTrue(&quot;Lost data - expected &quot;+bufSize*threads+&quot; entries, but only registered: &quot;+ success, success == bufSize*threads);\r\n\r\n    }\r\n","title":"Nesting side effect free atomic functions for threadsafe buffer","body":"<p>This is more an academical question since I have a working solution for this based on locks. My aim is to create a performant buffer without blocking, based on javas atomic objects / functions. Unfortunatly the Exceptions in the addData method do fire. There are about 3 to 18 fails recorded with my unit test which uses 50 threads simultaniously on a buffer of size 10. Occasionally the test is OK.\nI cannot see where I am wrong, since the functions should be side effect free and therefore should return clean results. All fails end up with an empty byte[][] returned. It seems like the function got 'laped' by thread entries once, when fails occur.\nIf the code snippet ist unclear etc. I can also post the complete implementation incl. unit test.</p>\n<pre><code>public final byte[][] addAndGetIfFull(final byte[] data) {\n    final AtomicReferenceArray&lt;byte[]&gt; buf = addData(data); // buf is immutable if full\n    if (_full.compareAndSet(true, false)) {\n        resetTimer();\n        buf.setPlain(_size - 1, data); // add data to last empty space\n        return convert(buf);\n    }\n    return null;\n}\n\nprivate final AtomicReferenceArray&lt;byte[]&gt; addData(final byte[] data) {\n    return _currentBufferRef.getAndUpdate(array -&gt; {\n        int idx = _arrayIdx.updateAndGet(i -&gt; {\n            if (i == _size-2) { // reached buffer size + leave safe space for last entry\n                return -1;\n            } else {\n                return ++i; // increment\n            }\n        });\n        if (idx == -1) {\n            if (!_full.compareAndSet(false, true)) {\n                //_collisions.incrementAndGet();\n                throw new ConcurrentModificationException(&quot;Failed compareAndSet while creating buffer.&quot;);\n            }\n            return new AtomicReferenceArray&lt;byte[]&gt;(_size);\n        } else {\n            if (!array.compareAndSet(idx, null, data)) {\n                //_collisions.incrementAndGet();\n                throw new ConcurrentModificationException(&quot;Failed compareAndSet value '&quot; + new String(data) + &quot;' in buffer &quot; + idx + &quot; - was in use by other thread.&quot;);\n            }\n            return array;\n        }\n    });\n}\n</code></pre>\n<p>`</p>\n<p>Edit:\nThe result after finishing with 3 collisions - all Buffers (byte[][]) with no rows shown are completely OK, the others contain no data at all. The exception thrown is always the one from array.compareAndSet(...). The _full.compareAndSet(...) is never thrown unless i move it into the updateAndGet(...) from _arrayIdx before returning -1.</p>\n<pre><code>Output:\n\nCollisions registered: 3\n\nBuffer #1910115902\nBuffer #886611553\nBuffer #182387041\nBuffer #1756629841\nBuffer #670751884\nrow: 1 = NULL\nrow: 2 = NULL\nrow: 3 = NULL\nrow: 4 = NULL\nrow: 5 = NULL\nrow: 6 = NULL\nrow: 7 = NULL\nrow: 8 = NULL\nrow: 9 = NULL\nrow: 10 = NULL\nBuffer #1188792619\n...\n</code></pre>\n<p>Edit 2:\nVariables:</p>\n<pre><code>private final int _size;\nprivate final int _flushInterval;\nprivate final IntervalExecutor _func;\nprivate final AtomicLong _executionTime;\n\nprivate final AtomicInteger _collisions = new AtomicInteger(0);\nprivate final AtomicBoolean _full = new AtomicBoolean(false);\nprivate final AtomicInteger _arrayIdx = new AtomicInteger(-1);\nprivate final AtomicReference&lt;AtomicReferenceArray&lt;byte[]&gt;&gt; _currentBufferRef = new AtomicReference&lt;&gt;();\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\npublic void testMultiThreadsNoDataLoss() throws InterruptedException {\n    final int threads = 50;\n    final int bufSize = 10;\n    final AtomicInteger thread = new AtomicInteger(0);\n\n    DataHandler dh = new DataHandler();\n    RefillBuffer buf = new RefillBuffer(bufSize, dh::processData);\n    ExecutorService es = Executors.newFixedThreadPool(threads);\n    for (int t = 0; t &lt; threads; ++t) {\n        es.execute(() -&gt; {\n            int th = thread.incrementAndGet();\n            for (int i = 0; i &lt; bufSize; ++i) {\n                final byte[][] data = buf.addAndGetIfFull(new String(String.valueOf(i+1) + &quot; from Thread #&quot; + th).getBytes());\n                if (data != null) {\n                    dh.processData(data, null);\n                }\n            }\n        });\n    }\n    es.shutdown();\n    es.awaitTermination(60, TimeUnit.SECONDS);\n    \n    System.out.println(&quot;Collisions registered: &quot; + buf.getCollisions());\n\n    final int success = dh.getCount();\n    final int fails = dh.getCountEmpty();\n    \n    dh.dumpFails();\n    // test if reserved buffer was ok\n    assertTrue(&quot;Expected &quot;+bufSize*threads+&quot; buffer spaces, but recorded: &quot;+ fails + &quot; fails and &quot; + success + &quot; successes adding up to: &quot;+ (fails+success) + &quot; spaces.&quot;, fails+success == threads*bufSize);\n    // test no data lost\n    assertTrue(&quot;Lost data - expected &quot;+bufSize*threads+&quot; entries, but only registered: &quot;+ success, success == bufSize*threads);\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","process"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1660908988,"post_id":73416108,"comment_id":129650596,"body_markdown":"What is the point in your ctor parameter? It&#39;s always null","body":"What is the point in your ctor parameter? It&#39;s always null"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1660909068,"post_id":73416108,"comment_id":129650618,"body_markdown":"&quot;*gives NullPointerException as expected*&quot; NPE should never be &quot;expected&quot;. You can do `if (p != null) p.destroyForcibly();` Of course, in your case that condition will always be false.","body":"&quot;<i>gives NullPointerException as expected</i>&quot; NPE should never be &quot;expected&quot;. You can do <code>if (p != null) p.destroyForcibly();</code> Of course, in your case that condition will always be false."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1660909513,"post_id":73416108,"comment_id":129650765,"body_markdown":"Also you push the Task to a 2nd thread, only to block the original thread until it&#39;s done. You&#39;re really not getting the benefit of multiple threads, except that you get a free 5 second timeout mechanism","body":"Also you push the Task to a 2nd thread, only to block the original thread until it&#39;s done. You&#39;re really not getting the benefit of multiple threads, except that you get a free 5 second timeout mechanism"},{"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"score":0,"creation_date":1660909790,"post_id":73416108,"comment_id":129650862,"body_markdown":"@Michael It is the best way I found to run Iperf server side, other ways I found did timeout the process but did&#39;t allow It to perform `BufferedReader.readLine()` simultaneously","body":"@Michael It is the best way I found to run Iperf server side, other ways I found did timeout the process but did&#39;t allow It to perform <code>BufferedReader.readLine()</code> simultaneously"},{"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"score":0,"creation_date":1660910036,"post_id":73416108,"comment_id":129650961,"body_markdown":"@Michael never mind I just modified  my code to `Process p= Runtime.getRuntime().exec(&quot;iperf3.exe -s 127.0.0.1 -1&quot;);` from `Process p=null;` i don&#39;t know why I didn&#39;t do It initially","body":"@Michael never mind I just modified  my code to <code>Process p= Runtime.getRuntime().exec(&quot;iperf3.exe -s 127.0.0.1 -1&quot;);</code> from <code>Process p=null;</code> i don&#39;t know why I didn&#39;t do It initially"}],"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660908641,"creation_date":1660908641,"question_id":73416108,"body_markdown":"I have implemented a way to timeout my `process` running iperf server side based on [this question&#39;s top answear][1] and it works as intended but I am not sure how to destroy a `process` object that I pass inside `Task&#39;s` class constructor. \\\r\nThis is my modified code:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Process p=null;\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Future&lt;String&gt; future = executor.submit(new Task(p));\r\n        try {\r\n            System.out.println(&quot;Started..&quot;);\r\n            System.out.println(future.get(5, TimeUnit.SECONDS));\r\n            System.out.println(&quot;Finished!&quot;);\r\n        } catch (TimeoutException | InterruptedException | ExecutionException e) {\r\n            future.cancel(true);\r\n            //gives NullPointerException as expected after thread times out\r\n            p.destroyForcibly();\r\n            System.out.println(&quot;Terminated!&quot;);\r\n        }\r\n\r\n        executor.shutdownNow();\r\n    }\r\n}\r\n\r\nclass Task implements Callable&lt;String&gt; {\r\n    Process p;\r\n\r\n    public Task(Process p) {\r\n        this.p = p;\r\n    }\r\n    @Override\r\n    public String call() throws Exception {\r\n        String s;\r\n        String toDisplay = &quot;&quot;;\r\n        this.p = Runtime.getRuntime().exec(&quot;iperf3.exe -s -1&quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(this.p.getInputStream()));\r\n        while ((s = br.readLine()) != null) {\r\n            toDisplay += s + &quot;\\n&quot;;\r\n        }\r\n        p.destroyForcibly();\r\n\r\n        return toDisplay;\r\n    }\r\n}\r\n```\r\nI am guessing I should somehow `set` `main&#39;s` `Process` but I have no idea how to aproach this problem \r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2275443/how-to-timeout-a-thread","title":"How to destroy process when it is passed as constructor parameter","body":"<p>I have implemented a way to timeout my <code>process</code> running iperf server side based on <a href=\"https://stackoverflow.com/questions/2275443/how-to-timeout-a-thread\">this question's top answear</a> and it works as intended but I am not sure how to destroy a <code>process</code> object that I pass inside <code>Task's</code> class constructor. <br />\nThis is my modified code:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        Process p=null;\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task(p));\n        try {\n            System.out.println(&quot;Started..&quot;);\n            System.out.println(future.get(5, TimeUnit.SECONDS));\n            System.out.println(&quot;Finished!&quot;);\n        } catch (TimeoutException | InterruptedException | ExecutionException e) {\n            future.cancel(true);\n            //gives NullPointerException as expected after thread times out\n            p.destroyForcibly();\n            System.out.println(&quot;Terminated!&quot;);\n        }\n\n        executor.shutdownNow();\n    }\n}\n\nclass Task implements Callable&lt;String&gt; {\n    Process p;\n\n    public Task(Process p) {\n        this.p = p;\n    }\n    @Override\n    public String call() throws Exception {\n        String s;\n        String toDisplay = &quot;&quot;;\n        this.p = Runtime.getRuntime().exec(&quot;iperf3.exe -s -1&quot;);\n        BufferedReader br = new BufferedReader(new InputStreamReader(this.p.getInputStream()));\n        while ((s = br.readLine()) != null) {\n            toDisplay += s + &quot;\\n&quot;;\n        }\n        p.destroyForcibly();\n\n        return toDisplay;\n    }\n}\n</code></pre>\n<p>I am guessing I should somehow <code>set</code> <code>main's</code> <code>Process</code> but I have no idea how to aproach this problem</p>\n"},{"tags":["java","syntax","operators"],"comments":[{"owner":{"account_id":1661400,"reputation":277542,"user_id":1529630,"accept_rate":91,"display_name":"Oriol"},"score":2,"creation_date":1459281245,"post_id":2811319,"comment_id":60212936,"body_markdown":"Possible duplicates: [Java&#39;s &gt;&gt; versus &gt;&gt;&gt; Operator?](http://stackoverflow.com/q/1034640/1529630), [Difference between &gt;&gt;&gt; and &gt;&gt; operators](http://stackoverflow.com/q/1972356/1529630)","body":"Possible duplicates: <a href=\"http://stackoverflow.com/q/1034640/1529630\">Java&#39;s &gt;&gt; versus &gt;&gt;&gt; Operator?</a>, <a href=\"http://stackoverflow.com/q/1972356/1529630\">Difference between &gt;&gt;&gt; and &gt;&gt; operators</a>"}],"answers":[{"tags":[],"owner":{"account_id":62022,"reputation":43632,"user_id":184499,"display_name":"Matt"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1273586591,"creation_date":1273586591,"answer_id":2811332,"question_id":2811319,"body_markdown":"They are both right-shift, but `&gt;&gt;&gt;` is `unsigned`\r\n\r\nFrom the [documentation](http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html):\r\n\r\n&gt;  The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension.","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p>They are both right-shift, but <code>&gt;&gt;&gt;</code> is <code>unsigned</code></p>\n\n<p>From the <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The unsigned right shift operator \">>>\" shifts a zero into the leftmost position, while the leftmost position after \">>\" depends on sign extension.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1273586651,"creation_date":1273586651,"answer_id":2811343,"question_id":2811319,"body_markdown":"`&gt;&gt;&gt;` will always put a 0 in the left most bit, while `&gt;&gt;` will put a 1 or a 0 depending on what the sign of it is.","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p><code>&gt;&gt;&gt;</code> will always put a 0 in the left most bit, while <code>&gt;&gt;</code> will put a 1 or a 0 depending on what the sign of it is.</p>\n"},{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":1,"up_vote_count":511,"is_accepted":false,"score":510,"last_activity_date":1513369873,"creation_date":1273586857,"answer_id":2811372,"question_id":2811319,"body_markdown":"`&gt;&gt;` is arithmetic shift right, `&gt;&gt;&gt;` is logical shift right.\r\n\r\nIn an arithmetic shift, the sign bit is extended to preserve the signedness of the number.  \r\n\r\nFor example: -2 represented in 8 bits would be `11111110` (because the most significant bit has negative weight).  Shifting it right one bit using arithmetic shift would give you `11111111`, or -1.  Logical right shift, however, does not care that the value could possibly represent a signed number; it simply moves everything to the right and fills in from the left with 0s.  Shifting our -2 right one bit using logical shift would give `01111111`.","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p><code>&gt;&gt;</code> is arithmetic shift right, <code>&gt;&gt;&gt;</code> is logical shift right.</p>\n\n<p>In an arithmetic shift, the sign bit is extended to preserve the signedness of the number.  </p>\n\n<p>For example: -2 represented in 8 bits would be <code>11111110</code> (because the most significant bit has negative weight).  Shifting it right one bit using arithmetic shift would give you <code>11111111</code>, or -1.  Logical right shift, however, does not care that the value could possibly represent a signed number; it simply moves everything to the right and fills in from the left with 0s.  Shifting our -2 right one bit using logical shift would give <code>01111111</code>.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":120,"is_accepted":false,"score":119,"last_activity_date":1495288480,"creation_date":1273587095,"answer_id":2811399,"question_id":2811319,"body_markdown":"`&gt;&gt;&gt;` is unsigned-shift; it&#39;ll insert 0. `&gt;&gt;` is signed, and will extend the sign bit.\r\n\r\n### [JLS 15.19 Shift Operators](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.19)\r\n\r\n&gt; The shift operators include left shift `&lt;&lt;`, signed right shift `&gt;&gt;`, and unsigned right shift `&gt;&gt;&gt;`.\r\n&gt;\r\n&gt; The value of `n&gt;&gt;s` is `n` right-shifted `s` bit positions with **sign-extension**.\r\n&gt;\r\n&gt; The value of `n&gt;&gt;&gt;s` is `n` right-shifted `s` bit positions with **zero-extension**. \r\n\r\n\t\tSystem.out.println(Integer.toBinaryString(-1));\r\n\t\t// prints &quot;11111111111111111111111111111111&quot;\r\n\t\tSystem.out.println(Integer.toBinaryString(-1 &gt;&gt; 16));\r\n\t\t// prints &quot;11111111111111111111111111111111&quot;\r\n\t\tSystem.out.println(Integer.toBinaryString(-1 &gt;&gt;&gt; 16));\r\n\t\t// prints &quot;1111111111111111&quot;\r\n\r\nTo make things more clear adding positive counterpart\r\n\r\n\tSystem.out.println(Integer.toBinaryString(121));\r\n    // prints &quot;1111001&quot;\r\n    System.out.println(Integer.toBinaryString(121 &gt;&gt; 1));\r\n    // prints &quot;111100&quot;\r\n    System.out.println(Integer.toBinaryString(121 &gt;&gt;&gt; 1));\r\n    // prints &quot;111100&quot;\r\n\r\nSince it is positive both signed and unsigned shifts will add 0 to left most bit.\r\n\r\n### Related questions\r\n\r\n* [Right Shift to Perform Divide by 2 On -1](https://stackoverflow.com/questions/2143840/right-shift-to-perform-divide-by-2-on-1)\r\n* [Is shifting bits faster than multiplying and dividing in Java? .NET?](https://stackoverflow.com/questions/1168451/is-shifting-bits-faster-than-multiplying-and-dividing-in-java-net)\r\n* [what is c/c++ equivalent way of doing ‘&gt;&gt;&gt;’ as in java (unsigned right shift)](https://stackoverflow.com/questions/2429479/what-is-c-c-equivalent-way-of-doing-as-in-java-unsigned-right-shift)\r\n* [Negative logical shift](https://stackoverflow.com/questions/2671718/negative-logical-shift)\r\n* [Java’s &gt;&gt; versus &gt;&gt;&gt; Operator?](https://stackoverflow.com/questions/1034640/javas-versus-operator)\r\n* [What is the difference between the Java operators &gt;&gt; and &gt;&gt;&gt;?](https://stackoverflow.com/questions/2012644/what-is-the-difference-between-the-java-operators-and)\r\n* [Difference between &gt;&gt;&gt; and &gt;&gt; operators](https://stackoverflow.com/questions/1972356/difference-between-and-operators)\r\n* [What’s the reason high-level languages like C#/Java mask the bit shift count operand? ](https://stackoverflow.com/questions/2311476/whats-the-reason-high-level-languages-like-c-java-mask-the-bit-shift-count-oper)\r\n   * `1 &gt;&gt;&gt; 32 == 1`","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p><code>&gt;&gt;&gt;</code> is unsigned-shift; it'll insert 0. <code>&gt;&gt;</code> is signed, and will extend the sign bit.</p>\n\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.19\" rel=\"noreferrer\">JLS 15.19 Shift Operators</a></h3>\n\n<blockquote>\n  <p>The shift operators include left shift <code>&lt;&lt;</code>, signed right shift <code>&gt;&gt;</code>, and unsigned right shift <code>&gt;&gt;&gt;</code>.</p>\n  \n  <p>The value of <code>n&gt;&gt;s</code> is <code>n</code> right-shifted <code>s</code> bit positions with <strong>sign-extension</strong>.</p>\n  \n  <p>The value of <code>n&gt;&gt;&gt;s</code> is <code>n</code> right-shifted <code>s</code> bit positions with <strong>zero-extension</strong>. </p>\n</blockquote>\n\n<pre><code>    System.out.println(Integer.toBinaryString(-1));\n    // prints \"11111111111111111111111111111111\"\n    System.out.println(Integer.toBinaryString(-1 &gt;&gt; 16));\n    // prints \"11111111111111111111111111111111\"\n    System.out.println(Integer.toBinaryString(-1 &gt;&gt;&gt; 16));\n    // prints \"1111111111111111\"\n</code></pre>\n\n<p>To make things more clear adding positive counterpart</p>\n\n<pre><code>System.out.println(Integer.toBinaryString(121));\n// prints \"1111001\"\nSystem.out.println(Integer.toBinaryString(121 &gt;&gt; 1));\n// prints \"111100\"\nSystem.out.println(Integer.toBinaryString(121 &gt;&gt;&gt; 1));\n// prints \"111100\"\n</code></pre>\n\n<p>Since it is positive both signed and unsigned shifts will add 0 to left most bit.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2143840/right-shift-to-perform-divide-by-2-on-1\">Right Shift to Perform Divide by 2 On -1</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1168451/is-shifting-bits-faster-than-multiplying-and-dividing-in-java-net\">Is shifting bits faster than multiplying and dividing in Java? .NET?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2429479/what-is-c-c-equivalent-way-of-doing-as-in-java-unsigned-right-shift\">what is c/c++ equivalent way of doing ‘>>>’ as in java (unsigned right shift)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2671718/negative-logical-shift\">Negative logical shift</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1034640/javas-versus-operator\">Java’s >> versus >>> Operator?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2012644/what-is-the-difference-between-the-java-operators-and\">What is the difference between the Java operators >> and >>>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1972356/difference-between-and-operators\">Difference between >>> and >> operators</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2311476/whats-the-reason-high-level-languages-like-c-java-mask-the-bit-shift-count-oper\">What’s the reason high-level languages like C#/Java mask the bit shift count operand? </a>\n\n<ul>\n<li><code>1 &gt;&gt;&gt; 32 == 1</code></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1406736519,"creation_date":1406736519,"answer_id":25041717,"question_id":2811319,"body_markdown":"Read more about [Bitwise and Bit Shift Operators](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html)\r\n\r\n    &gt;&gt;      Signed right shift\r\n    &gt;&gt;&gt;     Unsigned right shift\r\n\r\nThe bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator `&gt;&gt;&gt;` *shifts a **zero** into the leftmost position*, \r\n\r\nwhile the leftmost position after `&gt;&gt;` depends on sign extension.\r\n\r\nIn simple words `&gt;&gt;&gt;` always *shifts a **zero** into the leftmost position* whereas `&gt;&gt;` shifts based on sign of the number i.e. 1 for negative number and 0 for positive number.\r\n\r\n________\r\n\r\nFor example try with negative as well as positive numbers.\r\n\r\n    int c = -153;\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &gt;&gt;= 2));\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &lt;&lt;= 2));\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &gt;&gt;&gt;= 2));\r\n    System.out.println(Integer.toBinaryString(c &lt;&lt;= 2));\r\n\r\n    System.out.println();\r\n\r\n    c = 153;\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &gt;&gt;= 2));\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &lt;&lt;= 2));\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &gt;&gt;&gt;= 2));\r\n    System.out.printf(&quot;%32s%n&quot;,Integer.toBinaryString(c &lt;&lt;= 2));\r\n\r\noutput:\r\n\r\n\t11111111111111111111111111011001\r\n\t11111111111111111111111101100100\r\n\t  111111111111111111111111011001\r\n\t11111111111111111111111101100100\r\n\r\n\t\t\t\t\t\t\t  100110\r\n\t\t\t\t\t\t\t10011000\r\n\t\t\t\t\t\t\t  100110\r\n\t\t\t\t\t\t\t10011000\r\n","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p>Read more about <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\">Bitwise and Bit Shift Operators</a></p>\n\n<pre><code>&gt;&gt;      Signed right shift\n&gt;&gt;&gt;     Unsigned right shift\n</code></pre>\n\n<p>The bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator <code>&gt;&gt;&gt;</code> <em>shifts a <strong>zero</strong> into the leftmost position</em>, </p>\n\n<p>while the leftmost position after <code>&gt;&gt;</code> depends on sign extension.</p>\n\n<p>In simple words <code>&gt;&gt;&gt;</code> always <em>shifts a <strong>zero</strong> into the leftmost position</em> whereas <code>&gt;&gt;</code> shifts based on sign of the number i.e. 1 for negative number and 0 for positive number.</p>\n\n<hr>\n\n<p>For example try with negative as well as positive numbers.</p>\n\n<pre><code>int c = -153;\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &gt;&gt;= 2));\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &lt;&lt;= 2));\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &gt;&gt;&gt;= 2));\nSystem.out.println(Integer.toBinaryString(c &lt;&lt;= 2));\n\nSystem.out.println();\n\nc = 153;\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &gt;&gt;= 2));\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &lt;&lt;= 2));\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &gt;&gt;&gt;= 2));\nSystem.out.printf(\"%32s%n\",Integer.toBinaryString(c &lt;&lt;= 2));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>11111111111111111111111111011001\n11111111111111111111111101100100\n  111111111111111111111111011001\n11111111111111111111111101100100\n\n                          100110\n                        10011000\n                          100110\n                        10011000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4385157,"reputation":849,"user_id":3575560,"display_name":"solimant"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1422350344,"creation_date":1422350344,"answer_id":28166867,"question_id":2811319,"body_markdown":"The right shift logical operator (`&gt;&gt;&gt; N`) shifts bits to the right by N positions, discarding the sign bit and padding the N left-most bits with 0&#39;s. For example:\r\n\r\n    -1 (in 32-bit): 11111111111111111111111111111111\r\nafter a `&gt;&gt;&gt; 1` operation becomes:\r\n\r\n    2147483647: 01111111111111111111111111111111\r\nThe right shift arithmetic operator (`&gt;&gt; N`) also shifts bits to the right by N positions, but preserves the sign bit and pads the N left-most bits with 1&#39;s.  For example:\r\n\r\n    -2 (in 32-bit): 11111111111111111111111111111110\r\nafter a `&gt;&gt; 1` operation becomes:\r\n\r\n    -1: 11111111111111111111111111111111\r\n","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p>The right shift logical operator (<code>&gt;&gt;&gt; N</code>) shifts bits to the right by N positions, discarding the sign bit and padding the N left-most bits with 0's. For example:</p>\n\n<pre><code>-1 (in 32-bit): 11111111111111111111111111111111\n</code></pre>\n\n<p>after a <code>&gt;&gt;&gt; 1</code> operation becomes:</p>\n\n<pre><code>2147483647: 01111111111111111111111111111111\n</code></pre>\n\n<p>The right shift arithmetic operator (<code>&gt;&gt; N</code>) also shifts bits to the right by N positions, but preserves the sign bit and pads the N left-most bits with 1's.  For example:</p>\n\n<pre><code>-2 (in 32-bit): 11111111111111111111111111111110\n</code></pre>\n\n<p>after a <code>&gt;&gt; 1</code> operation becomes:</p>\n\n<pre><code>-1: 11111111111111111111111111111111\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4774408,"reputation":589,"user_id":3858037,"display_name":"andru"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1484917881,"creation_date":1456458981,"answer_id":35643161,"question_id":2811319,"body_markdown":"The logical right shift (`v &gt;&gt;&gt; n`) returns a value in which the bits in `v` have been shifted to the right by `n` bit positions, and 0&#39;s are shifted in from the left side. Consider shifting 8-bit values, written in binary:\r\n\r\n    01111111 &gt;&gt;&gt; 2 = 00011111\r\n    10000000 &gt;&gt;&gt; 2 = 00100000\r\n\r\nIf we interpret the bits as an unsigned nonnegative integer, the logical right shift has the effect of dividing the number by the corresponding power of 2. However, if the number is in two&#39;s-complement representation, logical right shift does not correctly divide negative numbers. For example, the second right shift above shifts 128 to 32 when the bits are interpreted as unsigned numbers. But it shifts -128 to 32 when, as is typical in Java, the bits are interpreted in two&#39;s complement.\r\n\r\nTherefore, if you are shifting in order to divide by a power of two, you want the arithmetic right shift (`v &gt;&gt; n`). It returns a value in which the bits in `v` have been shifted to the right by `n` bit positions, and copies of *the leftmost bit of v* are shifted in from the left side:\r\n\r\n    01111111 &gt;&gt; 2 = 00011111\r\n    10000000 &gt;&gt; 2 = 11100000\r\n\r\nWhen the bits are a number in two&#39;s-complement representation, arithmetic right shift has the effect of dividing by a power of two. This works because the leftmost bit is the sign bit. Dividing by a power of two must keep the sign the same.","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p>The logical right shift (<code>v &gt;&gt;&gt; n</code>) returns a value in which the bits in <code>v</code> have been shifted to the right by <code>n</code> bit positions, and 0's are shifted in from the left side. Consider shifting 8-bit values, written in binary:</p>\n\n<pre><code>01111111 &gt;&gt;&gt; 2 = 00011111\n10000000 &gt;&gt;&gt; 2 = 00100000\n</code></pre>\n\n<p>If we interpret the bits as an unsigned nonnegative integer, the logical right shift has the effect of dividing the number by the corresponding power of 2. However, if the number is in two's-complement representation, logical right shift does not correctly divide negative numbers. For example, the second right shift above shifts 128 to 32 when the bits are interpreted as unsigned numbers. But it shifts -128 to 32 when, as is typical in Java, the bits are interpreted in two's complement.</p>\n\n<p>Therefore, if you are shifting in order to divide by a power of two, you want the arithmetic right shift (<code>v &gt;&gt; n</code>). It returns a value in which the bits in <code>v</code> have been shifted to the right by <code>n</code> bit positions, and copies of <em>the leftmost bit of v</em> are shifted in from the left side:</p>\n\n<pre><code>01111111 &gt;&gt; 2 = 00011111\n10000000 &gt;&gt; 2 = 11100000\n</code></pre>\n\n<p>When the bits are a number in two's-complement representation, arithmetic right shift has the effect of dividing by a power of two. This works because the leftmost bit is the sign bit. Dividing by a power of two must keep the sign the same.</p>\n"},{"tags":[],"owner":{"account_id":12830158,"reputation":31,"user_id":9281603,"display_name":"prabhat kuber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660888582,"creation_date":1660559809,"answer_id":73359801,"question_id":2811319,"body_markdown":"    &gt;&gt;  Signed right shift \r\n    &gt;&gt;&gt; Unsigned right shift\r\n\r\nExample:-\r\n\r\n    byte x, y;  x=10;  y=-10;  \r\n    SOP(&quot;Bitwise Left Shift: x&lt;&lt;2 = &quot;+(x&lt;&lt;2));  \r\n    SOP(&quot;Bitwise Right Shift: x&gt;&gt;2 = &quot;+(x&gt;&gt;2));  \r\n    SOP(&quot;Bitwise Zero Fill Right Shift: x&gt;&gt;&gt;2 = &quot;+(x&gt;&gt;&gt;2));  \r\n    SOP(&quot;Bitwise Zero Fill Right Shift: y&gt;&gt;&gt;2 = &quot;+(y&gt;&gt;&gt;2));\r\n\r\n\r\noutput would be :-\r\n\r\n    Bitwise Left Shift: x&lt;&lt;2 = 40\r\n    Bitwise Right Shift: x&gt;&gt;2 = 2\r\n    Bitwise Zero Fill Right Shift: x&gt;&gt;&gt;2 = 2\r\n    Bitwise Zero Fill Right Shift: y&gt;&gt;&gt;2 = 1073741821\r\n\r\n  ","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<pre><code>&gt;&gt;  Signed right shift \n&gt;&gt;&gt; Unsigned right shift\n</code></pre>\n<p>Example:-</p>\n<pre><code>byte x, y;  x=10;  y=-10;  \nSOP(&quot;Bitwise Left Shift: x&lt;&lt;2 = &quot;+(x&lt;&lt;2));  \nSOP(&quot;Bitwise Right Shift: x&gt;&gt;2 = &quot;+(x&gt;&gt;2));  \nSOP(&quot;Bitwise Zero Fill Right Shift: x&gt;&gt;&gt;2 = &quot;+(x&gt;&gt;&gt;2));  \nSOP(&quot;Bitwise Zero Fill Right Shift: y&gt;&gt;&gt;2 = &quot;+(y&gt;&gt;&gt;2));\n</code></pre>\n<p>output would be :-</p>\n<pre><code>Bitwise Left Shift: x&lt;&lt;2 = 40\nBitwise Right Shift: x&gt;&gt;2 = 2\nBitwise Zero Fill Right Shift: x&gt;&gt;&gt;2 = 2\nBitwise Zero Fill Right Shift: y&gt;&gt;&gt;2 = 1073741821\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9424381,"reputation":62,"user_id":7009850,"display_name":"neha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1660908426,"creation_date":1660906086,"answer_id":73415596,"question_id":2811319,"body_markdown":"\r\n**&gt;&gt;(signed)** will give u different result for 8 &gt;&gt; 2, -8 &gt;&gt; 2.\r\n\r\n **right shift of 8**\r\n\r\n8 = 1000 (In Binary)\r\n\r\n perform 2 bit right shift\r\n\r\n8 &gt;&gt; 2:\r\n\r\n1000 &gt;&gt; 2 = 0010 (equivalent to 2)\r\n\r\n**right shift of -8**\r\n\r\n8 = 1000 (In Binary)\r\n\r\n1&#39;s complement = 0111\r\n\r\n2&#39;s complement:\r\n\r\n 0111 + 1 =  1000\r\n\r\nSigned bit = 1\r\n\r\n perform 2 bit right shift (on 2&#39;s co result)\r\n\r\n8 &gt;&gt; 2:\r\n\r\n1000 &gt;&gt; 2 = 1110 (equivalent to -2)\r\n\r\n_______\r\n\r\n\r\n**&gt;&gt;(unsigned)** will give u same result for 8 &gt;&gt;&gt; 2, -8 &gt;&gt;&gt; 2.\r\n\r\n**unsigned right shift of 8**\r\n\r\n8 = 1000\r\n\r\n8 &gt;&gt;&gt; 2 = 0010\r\n\r\n **unsigned right shift of -8**\r\n\r\n-8 = 1000 \r\n\r\n-8 &gt;&gt;&gt; 2 = 0010","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p><strong>&gt;&gt;(signed)</strong> will give u different result for 8 &gt;&gt; 2, -8 &gt;&gt; 2.</p>\n<p><strong>right shift of 8</strong></p>\n<p>8 = 1000 (In Binary)</p>\n<p>perform 2 bit right shift</p>\n<p>8 &gt;&gt; 2:</p>\n<p>1000 &gt;&gt; 2 = 0010 (equivalent to 2)</p>\n<p><strong>right shift of -8</strong></p>\n<p>8 = 1000 (In Binary)</p>\n<p>1's complement = 0111</p>\n<p>2's complement:</p>\n<p>0111 + 1 =  1000</p>\n<p>Signed bit = 1</p>\n<p>perform 2 bit right shift (on 2's co result)</p>\n<p>8 &gt;&gt; 2:</p>\n<p>1000 &gt;&gt; 2 = 1110 (equivalent to -2)</p>\n<hr />\n<p><strong>&gt;&gt;(unsigned)</strong> will give u same result for 8 &gt;&gt;&gt; 2, -8 &gt;&gt;&gt; 2.</p>\n<p><strong>unsigned right shift of 8</strong></p>\n<p>8 = 1000</p>\n<p>8 &gt;&gt;&gt; 2 = 0010</p>\n<p><strong>unsigned right shift of -8</strong></p>\n<p>-8 = 1000</p>\n<p>-8 &gt;&gt;&gt; 2 = 0010</p>\n"}],"owner":{"account_id":612162,"reputation":4685,"user_id":338345,"display_name":"Vipul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276301,"favorite_count":0,"down_vote_count":3,"up_vote_count":469,"answer_count":9,"score":466,"last_activity_date":1660908426,"creation_date":1273586539,"question_id":2811319,"body_markdown":"What is the difference between `&gt;&gt;&gt;` and `&gt;&gt;` operators in Java?","title":"Difference between &gt;&gt;&gt; and &gt;&gt;","body":"<p>What is the difference between <code>&gt;&gt;&gt;</code> and <code>&gt;&gt;</code> operators in Java?</p>\n"},{"tags":["java","android","android-studio","java-native-interface","androidpdfviewer"],"answers":[{"tags":[],"owner":{"account_id":26101342,"reputation":31,"user_id":19796723,"display_name":"mudlej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660908136,"creation_date":1660908136,"answer_id":73416016,"question_id":73408557,"body_markdown":"Solved it.\r\n\r\nIf anyone is having the same issue, I did the following to solve it:\r\n- Installed android-ndk tools\r\n- Edited Application.mk file to remove mips and mips64 since they are not supported anymore, and updated android version to 19 since it&#39;s the minimum right now.\r\n- run ndk-build in the jni folder / directory.\r\n\r\nThat created what I was said about in my question \r\n&gt;  It looks like there is something missing\r\n\r\nThat created a libs folder that has the necessary definitions for the linker.","title":"Android: Trying to compile native code, getting UnsatisfiedLinkError: No implementation found","body":"<p>Solved it.</p>\n<p>If anyone is having the same issue, I did the following to solve it:</p>\n<ul>\n<li>Installed android-ndk tools</li>\n<li>Edited Application.mk file to remove mips and mips64 since they are not supported anymore, and updated android version to 19 since it's the minimum right now.</li>\n<li>run ndk-build in the jni folder / directory.</li>\n</ul>\n<p>That created what I was said about in my question</p>\n<blockquote>\n<p>It looks like there is something missing</p>\n</blockquote>\n<p>That created a libs folder that has the necessary definitions for the linker.</p>\n"}],"owner":{"account_id":26101342,"reputation":31,"user_id":19796723,"display_name":"mudlej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73416016,"answer_count":1,"score":1,"last_activity_date":1660908136,"creation_date":1660851333,"question_id":73408557,"body_markdown":"I am trying to fork [AndroidPdfViewer][1] to replace its underlying library from [PdfiumAndroid][2] to [android-pdfium][3].\r\n\r\nMy problem is, when I load AndroidPdfViewer and PdfiumAndroid in Android Studio, I can&#39;t get the project to work, even before changing anything.\r\n\r\nThe problem is PdfiumAndroid has [JNI code][4] that define many [previously declared functions][5], but the linker can&#39;t link the definitions in C++ to the declarations in Java. The error message has two errors:\r\n\r\n    E/barteksc.sample: No implementation found for long com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(int, java.lang.String) (tried Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument and Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument__ILjava_lang_String_2)\r\n    E/PDFView: load pdf error\r\n        java.lang.UnsatisfiedLinkError: No implementation found for long com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(int, java.lang.String) (tried Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument and Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument__ILjava_lang_String_2)\r\n            at com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(Native Method)\r\n            at com.shockwave.pdfium.PdfiumCore.newDocument(PdfiumCore.java:135)\r\n\r\n[Here][6] is the gradle file. It looks like there is something missing, although these are the original files before any modifications.\r\n\r\nI tried to add this to proguard-rules.pro\r\n\r\n    -keep class com.shockwave.** { *; }\r\n\r\nit removed the first error, but the second is still there.\r\n\r\n\r\n  [1]: https://github.com/barteksc/AndroidPdfViewer\r\n  [2]: https://github.com/barteksc/PdfiumAndroid\r\n  [3]: https://%20https://gitlab.com/axet/android-pdfium\r\n  [4]: https://github.com/barteksc/PdfiumAndroid/tree/master/src/main/jni\r\n  [5]: https://github.com/barteksc/PdfiumAndroid/blob/master/src/main/java/com/shockwave/pdfium/PdfiumCore.java\r\n  [6]: https://github.com/barteksc/PdfiumAndroid/blob/master/build.gradle","title":"Android: Trying to compile native code, getting UnsatisfiedLinkError: No implementation found","body":"<p>I am trying to fork <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">AndroidPdfViewer</a> to replace its underlying library from <a href=\"https://github.com/barteksc/PdfiumAndroid\" rel=\"nofollow noreferrer\">PdfiumAndroid</a> to <a href=\"https://%20https://gitlab.com/axet/android-pdfium\" rel=\"nofollow noreferrer\">android-pdfium</a>.</p>\n<p>My problem is, when I load AndroidPdfViewer and PdfiumAndroid in Android Studio, I can't get the project to work, even before changing anything.</p>\n<p>The problem is PdfiumAndroid has <a href=\"https://github.com/barteksc/PdfiumAndroid/tree/master/src/main/jni\" rel=\"nofollow noreferrer\">JNI code</a> that define many <a href=\"https://github.com/barteksc/PdfiumAndroid/blob/master/src/main/java/com/shockwave/pdfium/PdfiumCore.java\" rel=\"nofollow noreferrer\">previously declared functions</a>, but the linker can't link the definitions in C++ to the declarations in Java. The error message has two errors:</p>\n<pre><code>E/barteksc.sample: No implementation found for long com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(int, java.lang.String) (tried Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument and Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument__ILjava_lang_String_2)\nE/PDFView: load pdf error\n    java.lang.UnsatisfiedLinkError: No implementation found for long com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(int, java.lang.String) (tried Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument and Java_com_shockwave_pdfium_PdfiumCore_nativeOpenDocument__ILjava_lang_String_2)\n        at com.shockwave.pdfium.PdfiumCore.nativeOpenDocument(Native Method)\n        at com.shockwave.pdfium.PdfiumCore.newDocument(PdfiumCore.java:135)\n</code></pre>\n<p><a href=\"https://github.com/barteksc/PdfiumAndroid/blob/master/build.gradle\" rel=\"nofollow noreferrer\">Here</a> is the gradle file. It looks like there is something missing, although these are the original files before any modifications.</p>\n<p>I tried to add this to proguard-rules.pro</p>\n<pre><code>-keep class com.shockwave.** { *; }\n</code></pre>\n<p>it removed the first error, but the second is still there.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1660874656,"post_id":73410991,"comment_id":129642336,"body_markdown":"Why not use internal storage?  Then you need no permissions at all.","body":"Why not use internal storage?  Then you need no permissions at all."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660886598,"post_id":73410991,"comment_id":129643940,"body_markdown":"Also use file.canRead() before you try to read it.","body":"Also use file.canRead() before you try to read it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660886678,"post_id":73410991,"comment_id":129643956,"body_markdown":"Use ACTION_OPEN_DOCUMENT_TREE to let the user pick the XML directory.","body":"Use ACTION_OPEN_DOCUMENT_TREE to let the user pick the XML directory."}],"answers":[{"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660888622,"creation_date":1660888622,"answer_id":73412406,"question_id":73410991,"body_markdown":"The old external storage permission have been progressively revoked with every new API release, starting with Android 10. You&#39;ll need to use the new shared storage API to access data on external storage. Follow the instructions [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/documents-files#open-file","title":"How can I read my .xml file in Android 11 without using MANAGE_EXTERNAL_STORAGE?","body":"<p>The old external storage permission have been progressively revoked with every new API release, starting with Android 10. You'll need to use the new shared storage API to access data on external storage. Follow the instructions <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#open-file\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":25323125,"reputation":23,"user_id":19144136,"display_name":"lukaking98"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660908135,"creation_date":1660908135,"answer_id":73416015,"question_id":73410991,"body_markdown":"Thanks, if anyone is wondering, here is how I implemented it:\r\n\r\n```\r\nprivate void openFile(Uri pickerInitialUri) {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;text/xml&quot;);\r\n\r\n        // Optionally, specify a URI for the file that should appear in the\r\n        // system file picker when it loads.\r\n        intent.putExtra(&quot;android.provider.extra.EXTRA_INITIAL_URI&quot;, pickerInitialUri);\r\n\r\n        startActivityForResult(intent, 200);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode,\r\n                                 Intent resultData) {\r\n        if (requestCode == 200\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            // The result data contains a URI for the document or directory that\r\n            // the user selected.\r\n            Uri uri = null;\r\n            if (resultData != null) {\r\n                uri = resultData.getData();\r\n                // Perform operations on the document using its URI.\r\n                try {\r\n                    System.out.println(readXMLFromUri(uri));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private String readXMLFromUri(Uri uri) throws IOException {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try (InputStream inputStream =\r\n                     getContext().getContentResolver().openInputStream(uri);\r\n             BufferedReader reader = new BufferedReader(\r\n                     new InputStreamReader(Objects.requireNonNull(inputStream)))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                stringBuilder.append(line);\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n```","title":"How can I read my .xml file in Android 11 without using MANAGE_EXTERNAL_STORAGE?","body":"<p>Thanks, if anyone is wondering, here is how I implemented it:</p>\n<pre><code>private void openFile(Uri pickerInitialUri) {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;text/xml&quot;);\n\n        // Optionally, specify a URI for the file that should appear in the\n        // system file picker when it loads.\n        intent.putExtra(&quot;android.provider.extra.EXTRA_INITIAL_URI&quot;, pickerInitialUri);\n\n        startActivityForResult(intent, 200);\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode,\n                                 Intent resultData) {\n        if (requestCode == 200\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\n            // The result data contains a URI for the document or directory that\n            // the user selected.\n            Uri uri = null;\n            if (resultData != null) {\n                uri = resultData.getData();\n                // Perform operations on the document using its URI.\n                try {\n                    System.out.println(readXMLFromUri(uri));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private String readXMLFromUri(Uri uri) throws IOException {\n        StringBuilder stringBuilder = new StringBuilder();\n        try (InputStream inputStream =\n                     getContext().getContentResolver().openInputStream(uri);\n             BufferedReader reader = new BufferedReader(\n                     new InputStreamReader(Objects.requireNonNull(inputStream)))) {\n            String line;\n            while ((line = reader.readLine()) != null) {\n                stringBuilder.append(line);\n            }\n        }\n        return stringBuilder.toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":25323125,"reputation":23,"user_id":19144136,"display_name":"lukaking98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73412406,"answer_count":2,"score":0,"last_activity_date":1660908135,"creation_date":1660872722,"question_id":73410991,"body_markdown":"So my folder structure is Documents/XML/xml.xml \r\n\r\nI create the XML folder upon starting the app. The user then has to put there his xml file manually.\r\n\r\nIn my manifest I have READ and WRITE EXTERNAL STORAGE permissions. I can check if the .xml file exists and it returns true if there is any, but when I try to read and print it: open failed: EACCES (Permission denied).\r\n\r\nHow can I bypass this without using MANAGE_EXTERNAL_STORAGE in Android 11?\r\n","title":"How can I read my .xml file in Android 11 without using MANAGE_EXTERNAL_STORAGE?","body":"<p>So my folder structure is Documents/XML/xml.xml</p>\n<p>I create the XML folder upon starting the app. The user then has to put there his xml file manually.</p>\n<p>In my manifest I have READ and WRITE EXTERNAL STORAGE permissions. I can check if the .xml file exists and it returns true if there is any, but when I try to read and print it: open failed: EACCES (Permission denied).</p>\n<p>How can I bypass this without using MANAGE_EXTERNAL_STORAGE in Android 11?</p>\n"},{"tags":["java","jackson","resteasy","jackson2","yasson"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1660574469,"post_id":73357228,"comment_id":129558401,"body_markdown":"Are you using RESTEasy or Jersey? I believe Payara uses Jersey and the property you are setting is for Jersey not RESTEasy.","body":"Are you using RESTEasy or Jersey? I believe Payara uses Jersey and the property you are setting is for Jersey not RESTEasy."},{"owner":{"account_id":2448261,"reputation":1657,"user_id":2135094,"accept_rate":58,"display_name":"chrisl08"},"score":0,"creation_date":1660580665,"post_id":73357228,"comment_id":129560687,"body_markdown":"@JamesR.Perkins I am trying to use Rest Easy, which seems to work on Payara prior to RestEasy 6","body":"@JamesR.Perkins I am trying to use Rest Easy, which seems to work on Payara prior to RestEasy 6"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1660593743,"post_id":73357228,"comment_id":129564559,"body_markdown":"I don&#39;t know much about Payara, but the only differences in RESTEasy 5.x and 6.x is the Jakarta namespace change. It should behave the same. That said you could try the `resteasy.preferJacksonOverJsonB` context parameter.","body":"I don&#39;t know much about Payara, but the only differences in RESTEasy 5.x and 6.x is the Jakarta namespace change. It should behave the same. That said you could try the <code>resteasy.preferJacksonOverJsonB</code> context parameter."}],"answers":[{"tags":[],"owner":{"account_id":2448261,"reputation":1657,"user_id":2135094,"accept_rate":58,"display_name":"chrisl08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907911,"creation_date":1660907911,"answer_id":73415982,"question_id":73357228,"body_markdown":"After spending a couple of days investigating this, the solution was to:\r\n1. Add jersey-media-json-jackson dependency to the POM:\r\n\r\n&gt;       &lt;dependency&gt;\r\n&gt;           &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n&gt;           &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n&gt;           &lt;version&gt;2.26&lt;/version&gt;\r\n&gt;       &lt;/dependency&gt;\r\n\r\n\r\n2. Register org.glassfish.jersey.jackson.JacksonFeature.class in your Application class like so:\r\n\r\n\r\n       @ApplicationPath(&quot;services&quot;)\r\n        public class ApplicationConfig extends Application {\r\n    \t\r\n    \t@Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n            classes.add(org.glassfish.jersey.jackson.JacksonFeature.class);\r\n    \t\t// add the rest of your classes here\r\n            return classes;\r\n        }\t\r\n        }\r\n\r\n ","title":"Payara5 + RestEasy 6.0.1 uses Yasson","body":"<p>After spending a couple of days investigating this, the solution was to:</p>\n<ol>\n<li>Add jersey-media-json-jackson dependency to the POM:</li>\n</ol>\n<blockquote>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n      &lt;version&gt;2.26&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li><p>Register org.glassfish.jersey.jackson.JacksonFeature.class in your Application class like so:</p>\n<pre><code>@ApplicationPath(&quot;services&quot;)\n public class ApplicationConfig extends Application {\n\n @Override\n public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n     Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\n     classes.add(org.glassfish.jersey.jackson.JacksonFeature.class);\n     // add the rest of your classes here\n     return classes;\n }   \n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2448261,"reputation":1657,"user_id":2135094,"accept_rate":58,"display_name":"chrisl08"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660907911,"creation_date":1660541585,"question_id":73357228,"body_markdown":"When we upgraded RestEasy to 6.0.1 on Payara 5, we noticed that Payara now uses Yasson to serialize and deserialize objects, resulting in all @JsonIgnore, @JsonProperty to be ignored. We have added the jersey.config.jsonFeature context-param as specified in the docs:\r\n\r\n    &lt;context-param&gt;\r\n    \t&lt;param-name&gt;jersey.config.jsonFeature&lt;/param-name&gt;\r\n    \t&lt;param-value&gt;JacksonFeature&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n\r\nFalling back to RestEasy to 3, 4 or 5, Payara 5 again starts using Jackson and all @Json annotations are honored again. \r\n\r\nHow does RestEasy decide the provider (Yasson vs Jackson) and how can one force Jackson in RestEasy 6.0.1 on Payara?","title":"Payara5 + RestEasy 6.0.1 uses Yasson","body":"<p>When we upgraded RestEasy to 6.0.1 on Payara 5, we noticed that Payara now uses Yasson to serialize and deserialize objects, resulting in all @JsonIgnore, @JsonProperty to be ignored. We have added the jersey.config.jsonFeature context-param as specified in the docs:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;jersey.config.jsonFeature&lt;/param-name&gt;\n    &lt;param-value&gt;JacksonFeature&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Falling back to RestEasy to 3, 4 or 5, Payara 5 again starts using Jackson and all @Json annotations are honored again.</p>\n<p>How does RestEasy decide the provider (Yasson vs Jackson) and how can one force Jackson in RestEasy 6.0.1 on Payara?</p>\n"},{"tags":["java","urlencode","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660221402,"creation_date":1660220970,"answer_id":73320677,"question_id":73320071,"body_markdown":"try encoding query param by using URLEncoder.\r\n\r\n    String param = &quot;IN(&#39;123&#39;) and id eq &#39;123_&amp;123&#39;&quot;;\r\n    String encodedParam = URLEncoder.encode(param, Charset.defaultCharset()));    \r\n    restTemplate.exchange(UriComponentsBuilder.fromUriString(uri).queryParam(&quot;filter&quot;,encodedParam).toUriString(), httpMethod, httpEntity, Some_Entity.class)\r\n\r\nhttps://www.baeldung.com/java-url-encoding-decoding","title":"How to call GET api with query params having special chars{&amp;,(,),&#39;} using spring rest template","body":"<p>try encoding query param by using URLEncoder.</p>\n<pre><code>String param = &quot;IN('123') and id eq '123_&amp;123'&quot;;\nString encodedParam = URLEncoder.encode(param, Charset.defaultCharset()));    \nrestTemplate.exchange(UriComponentsBuilder.fromUriString(uri).queryParam(&quot;filter&quot;,encodedParam).toUriString(), httpMethod, httpEntity, Some_Entity.class)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-url-encoding-decoding\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-url-encoding-decoding</a></p>\n"},{"tags":[],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660907762,"creation_date":1660636111,"answer_id":73370478,"question_id":73320071,"body_markdown":"Somehow query params are encoded and at api side, by default these are retrieved correctly after decoding, if i use `toURI()` of `UriComponentsBuilder`\r\n\r\nSame was not working if i convert it to string using `toUriString`\r\n\r\nBelow is the code which worked for me.\r\n```\r\nURI uri = UriComponentsBuilder.fromUriString(uri)\r\n                              .queryParam(&quot;filter&quot;,encodedParam)\r\n                              .encode()\r\n                              .build()\r\n                              .toUri();\r\n\r\nrestTemplate.exchange(uri, HttpMethod.GET, request, Response_Entity.class)\r\n```","title":"How to call GET api with query params having special chars{&amp;,(,),&#39;} using spring rest template","body":"<p>Somehow query params are encoded and at api side, by default these are retrieved correctly after decoding, if i use <code>toURI()</code> of <code>UriComponentsBuilder</code></p>\n<p>Same was not working if i convert it to string using <code>toUriString</code></p>\n<p>Below is the code which worked for me.</p>\n<pre><code>URI uri = UriComponentsBuilder.fromUriString(uri)\n                              .queryParam(&quot;filter&quot;,encodedParam)\n                              .encode()\n                              .build()\n                              .toUri();\n\nrestTemplate.exchange(uri, HttpMethod.GET, request, Response_Entity.class)\n</code></pre>\n"}],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73370478,"answer_count":2,"score":0,"last_activity_date":1660907762,"creation_date":1660218104,"question_id":73320071,"body_markdown":"Below was the code used to encode uri having query params using `UriComponentsBuilder`\r\n\r\n```\r\nString uri = &quot;http://hostname/api/items&quot;\r\n// api expected with params --&gt; http://hostname/api/items?filter=IN(&#39;123&#39;) and id eq &#39;123_&amp;123&#39;\r\nrestTemplate.exchange(UriComponentsBuilder.fromUriString(uri).queryParam(&quot;filter&quot;,&quot;IN(&#39;123&#39;) and id eq &#39;123_&amp;123&#39;&quot;).encode().toUriString(), HttpMethod.GET, request, Response_Entity.class)\r\n```\r\n\r\nWhen above code is called, somehow at api side, i was getting 2 query params with keys --&gt;`filter` &amp; `123`\r\n\r\n\r\nHow to handle it correctly using ?\r\n","title":"How to call GET api with query params having special chars{&amp;,(,),&#39;} using spring rest template","body":"<p>Below was the code used to encode uri having query params using <code>UriComponentsBuilder</code></p>\n<pre><code>String uri = &quot;http://hostname/api/items&quot;\n// api expected with params --&gt; http://hostname/api/items?filter=IN('123') and id eq '123_&amp;123'\nrestTemplate.exchange(UriComponentsBuilder.fromUriString(uri).queryParam(&quot;filter&quot;,&quot;IN('123') and id eq '123_&amp;123'&quot;).encode().toUriString(), HttpMethod.GET, request, Response_Entity.class)\n</code></pre>\n<p>When above code is called, somehow at api side, i was getting 2 query params with keys --&gt;<code>filter</code> &amp; <code>123</code></p>\n<p>How to handle it correctly using ?</p>\n"},{"tags":["java","android","uri","documentfile"],"comments":[{"owner":{"account_id":4433290,"reputation":688,"user_id":3609883,"display_name":"Crammeur"},"score":0,"creation_date":1533241649,"post_id":51661385,"comment_id":90286685,"body_markdown":"You can use `File` class and is method `exists()`. https://docs.oracle.com/javase/7/docs/api/java/io/File.html#exists()","body":"You can use <code>File</code> class and is method <code>exists()</code>. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#exists()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/File.html#exists()</a>"},{"owner":{"account_id":2273114,"reputation":501,"user_id":2000035,"accept_rate":64,"display_name":"Duncan McArdle"},"score":2,"creation_date":1533242516,"post_id":51661385,"comment_id":90287095,"body_markdown":"I think I&#39;m unable to use File due to it being a not-yet-existent Uri that was created using SAF?","body":"I think I&#39;m unable to use File due to it being a not-yet-existent Uri that was created using SAF?"},{"owner":{"account_id":2273114,"reputation":501,"user_id":2000035,"accept_rate":64,"display_name":"Duncan McArdle"},"score":0,"creation_date":1533242526,"post_id":51661385,"comment_id":90287100,"body_markdown":"I have updated the OP as I have partially fixed it, but not quite!","body":"I have updated the OP as I have partially fixed it, but not quite!"},{"owner":{"account_id":4433290,"reputation":688,"user_id":3609883,"display_name":"Crammeur"},"score":0,"creation_date":1533243935,"post_id":51661385,"comment_id":90287736,"body_markdown":"If you change `ACTION_OPEN_DOCUMENT_TREE` by `ACTION_OPEN_DOCUMENT`","body":"If you change <code>ACTION_OPEN_DOCUMENT_TREE</code> by <code>ACTION_OPEN_DOCUMENT</code>"},{"owner":{"account_id":2273114,"reputation":501,"user_id":2000035,"accept_rate":64,"display_name":"Duncan McArdle"},"score":2,"creation_date":1533245476,"post_id":51661385,"comment_id":90288276,"body_markdown":"The use case in question requires a source folder to be selected (it&#39;s to perform a copy/paste of a directory and its contents)","body":"The use case in question requires a source folder to be selected (it&#39;s to perform a copy/paste of a directory and its contents)"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1533333651,"creation_date":1533246934,"answer_id":51662665,"question_id":51661385,"body_markdown":"Given `treeUri` as being the `Uri` returned by `ACTION_OPEN_DOCUMENT_TREE`, wrap `treeUri` in a `DocumentFile` using `fromTreeUri()`, then call `findFile()` on that `DocumentFile` supplying the display name that you are looking for (e.g., `fictionalFile`). If it returns `null`, there is no file matching that display name.\r\n\r\nIOW:\r\n\r\n    if (DocumentFile.fromTreeUri(this, treeUri).findFile(whatevs) == null) {\r\n      // TODO: something\r\n    }\r\n\r\nNote, though, that &quot;display name&quot; is not necessarily a filename.\r\n","title":"DocumentFile.exists() on a path that doesn&#39;t yet exist always returns true due to DocumentFile().fromTreeUri()","body":"<p>Given <code>treeUri</code> as being the <code>Uri</code> returned by <code>ACTION_OPEN_DOCUMENT_TREE</code>, wrap <code>treeUri</code> in a <code>DocumentFile</code> using <code>fromTreeUri()</code>, then call <code>findFile()</code> on that <code>DocumentFile</code> supplying the display name that you are looking for (e.g., <code>fictionalFile</code>). If it returns <code>null</code>, there is no file matching that display name.</p>\n\n<p>IOW:</p>\n\n<pre><code>if (DocumentFile.fromTreeUri(this, treeUri).findFile(whatevs) == null) {\n  // TODO: something\n}\n</code></pre>\n\n<p>Note, though, that \"display name\" is not necessarily a filename.</p>\n"},{"tags":[],"owner":{"account_id":15963470,"reputation":442,"user_id":11519826,"display_name":"Pavel Shirokov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660907409,"creation_date":1597935000,"answer_id":63507687,"question_id":51661385,"body_markdown":"In my case, when I checked `DocumentFile.fromSingleUri(context, media.fileUri)?.exists() == true` in CoroutineWorker with applicationContext, DocumentProvider always returned true, when file was deleted from outside application, for example, in file manager.\r\n\r\nThe problem was solved with `uri.isFileExist(context)`\r\n\r\n    import android.content.Context\r\n    import android.net.Uri\r\n    import androidx.documentfile.provider.DocumentFile\r\n    \r\n    fun DocumentFile?.isFile() = this?.isFile ?: false\r\n    \r\n    fun DocumentFile?.isExists() = this?.exists() ?: false\r\n    \r\n    fun DocumentFile?.getLength() = this?.length() ?: 0\r\n    \r\n    fun DocumentFile?.isFileExist() = isFile() &amp;&amp; isExists() &amp;&amp; getLength() &gt; 0\r\n    \r\n    fun Uri.isFileExist(context: Context) =\r\n        DocumentFile.fromSingleUri(context, this).isFileExist()\r\n\r\n**UPDATE:** The solution below works correctly on android 10+. I ended up replacing it to get it working properly on all versions of android.\r\n\r\n    fun Uri.isFileExist(context: Context): Boolean {\r\n        var isExist = false\r\n        runCatching {\r\n            context.contentResolver.openInputStream(this)?.let {\r\n                 it.close()\r\n                 isExist = true\r\n            }\r\n        }\r\n        return isExist\r\n    }","title":"DocumentFile.exists() on a path that doesn&#39;t yet exist always returns true due to DocumentFile().fromTreeUri()","body":"<p>In my case, when I checked <code>DocumentFile.fromSingleUri(context, media.fileUri)?.exists() == true</code> in CoroutineWorker with applicationContext, DocumentProvider always returned true, when file was deleted from outside application, for example, in file manager.</p>\n<p>The problem was solved with <code>uri.isFileExist(context)</code></p>\n<pre><code>import android.content.Context\nimport android.net.Uri\nimport androidx.documentfile.provider.DocumentFile\n\nfun DocumentFile?.isFile() = this?.isFile ?: false\n\nfun DocumentFile?.isExists() = this?.exists() ?: false\n\nfun DocumentFile?.getLength() = this?.length() ?: 0\n\nfun DocumentFile?.isFileExist() = isFile() &amp;&amp; isExists() &amp;&amp; getLength() &gt; 0\n\nfun Uri.isFileExist(context: Context) =\n    DocumentFile.fromSingleUri(context, this).isFileExist()\n</code></pre>\n<p><strong>UPDATE:</strong> The solution below works correctly on android 10+. I ended up replacing it to get it working properly on all versions of android.</p>\n<pre><code>fun Uri.isFileExist(context: Context): Boolean {\n    var isExist = false\n    runCatching {\n        context.contentResolver.openInputStream(this)?.let {\n             it.close()\n             isExist = true\n        }\n    }\n    return isExist\n}\n</code></pre>\n"}],"owner":{"account_id":2273114,"reputation":501,"user_id":2000035,"accept_rate":64,"display_name":"Duncan McArdle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2978,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51662665,"answer_count":2,"score":6,"last_activity_date":1660907409,"creation_date":1533240373,"question_id":51661385,"body_markdown":"I&#39;m trying to check if a file exists prior to creating it, using DocumentFile (due to the Storage Access Framework). But `DocumentFile().fromTreeUri()` removes the non-existant portion of the would-be Uri, which then causes `DocumentFile().exists()` to always return true, regardless of whether it exists or not.\n\nI&#39;ve created a simple example to demonstrate my point. First we ask the user to select a directory:\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        // Ask the user for the source folder\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n        startActivityForResult(intent, 100);\n    }\n\nOn response, we add `/fictionalFile` to the path (thus making it a non-existent file), and then check if it exists:\n\n    public void onActivityResult(int requestCode, int resultCode, Intent resultData)\n    {\n        if (resultCode == RESULT_OK)\n        {\n            if(requestCode == 100)\n            {\n                Uri fictionalURI = Uri.parse(resultData.getData()+&quot;/fictionalFile&quot;);\n                DocumentFile fictionalFile = DocumentFile.fromTreeUri(this, fictionalURI);\n                Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL URI: &quot;+fictionalURI);\n                Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL DOCUMENTFILE URI: &quot;+fictionalFile.getUri());\n    \n                if(fictionalFile.exists())\n                {\n                    Log.i(&quot;STORAGE&quot;, &quot;Fictional file exists&quot;);\n                }\n            }\n        }\n    }\n\nHowever, when DocumentFile.fromTreeUri() is run on the fictional Uri, the fake &quot;/fictionalfile&quot; portion is lost, which then causes the DocumentFile.exists() function to return true, as shown by the below LogCat:\n\n&gt; I/STORAGE: FICTIONAL URI: content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/fictionalFile\n&gt;\n&gt; I/STORAGE: FICTIONAL DOCUMENTFILE URI: content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/document/17FA-1C18%3AFileSync%2Ftarget\n&gt;\n&gt; I/STORAGE: Fictional file exists\n\n(In the above example, I&#39;m using the SD card, thus the long path names)\n\nIs there another way to check if a not-yet created DocumentFile exists? The use case is that when copying a file from Directory A to Directory B, I want to check if said file already exists in Directory B prior to starting the transfer.\n\n**UPDATE:** I&#39;ve now realised that using `DocumentFile.fromTreeUri()` is wrong, and that I should be using `DocumentFile.fromSingleUri()`. This helps, but upon running `.exists()` on the new file I am getting `W/DocumentFile: Failed query: java.lang.UnsupportedOperationException: Unsupported Uri content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/fictionalFile`. Any thoughts?\n\n    public void onActivityResult(int requestCode, int resultCode, Intent resultData)\n    {\n        if (resultCode == RESULT_OK)\n        {\n            if(requestCode == 100)\n            {\n                Uri fictionalURI = Uri.parse(resultData.getData()+&quot;/fictionalFile&quot;);\n                DocumentFile fictionalFile = DocumentFile.fromSingleUri(this, fictionalURI);\n                Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL URI: &quot;+fictionalURI);\n                Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL DOCUMENTFILE URI: &quot;+fictionalFile.getUri());\n    \n                if(fictionalFile != null &amp;&amp; fictionalFile.exists())\n                {\n                    Log.i(&quot;STORAGE&quot;, &quot;Fictional file exists&quot;);\n                }\n            }\n        }\n    }","title":"DocumentFile.exists() on a path that doesn&#39;t yet exist always returns true due to DocumentFile().fromTreeUri()","body":"<p>I'm trying to check if a file exists prior to creating it, using DocumentFile (due to the Storage Access Framework). But <code>DocumentFile().fromTreeUri()</code> removes the non-existant portion of the would-be Uri, which then causes <code>DocumentFile().exists()</code> to always return true, regardless of whether it exists or not.</p>\n<p>I've created a simple example to demonstrate my point. First we ask the user to select a directory:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    // Ask the user for the source folder\n    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    startActivityForResult(intent, 100);\n}\n</code></pre>\n<p>On response, we add <code>/fictionalFile</code> to the path (thus making it a non-existent file), and then check if it exists:</p>\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent resultData)\n{\n    if (resultCode == RESULT_OK)\n    {\n        if(requestCode == 100)\n        {\n            Uri fictionalURI = Uri.parse(resultData.getData()+&quot;/fictionalFile&quot;);\n            DocumentFile fictionalFile = DocumentFile.fromTreeUri(this, fictionalURI);\n            Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL URI: &quot;+fictionalURI);\n            Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL DOCUMENTFILE URI: &quot;+fictionalFile.getUri());\n\n            if(fictionalFile.exists())\n            {\n                Log.i(&quot;STORAGE&quot;, &quot;Fictional file exists&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>However, when DocumentFile.fromTreeUri() is run on the fictional Uri, the fake &quot;/fictionalfile&quot; portion is lost, which then causes the DocumentFile.exists() function to return true, as shown by the below LogCat:</p>\n<blockquote>\n<p>I/STORAGE: FICTIONAL URI: content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/fictionalFile</p>\n<p>I/STORAGE: FICTIONAL DOCUMENTFILE URI: content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/document/17FA-1C18%3AFileSync%2Ftarget</p>\n<p>I/STORAGE: Fictional file exists</p>\n</blockquote>\n<p>(In the above example, I'm using the SD card, thus the long path names)</p>\n<p>Is there another way to check if a not-yet created DocumentFile exists? The use case is that when copying a file from Directory A to Directory B, I want to check if said file already exists in Directory B prior to starting the transfer.</p>\n<p><strong>UPDATE:</strong> I've now realised that using <code>DocumentFile.fromTreeUri()</code> is wrong, and that I should be using <code>DocumentFile.fromSingleUri()</code>. This helps, but upon running <code>.exists()</code> on the new file I am getting <code>W/DocumentFile: Failed query: java.lang.UnsupportedOperationException: Unsupported Uri content://com.android.externalstorage.documents/tree/17FA-1C18%3AFileSync%2Ftarget/fictionalFile</code>. Any thoughts?</p>\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent resultData)\n{\n    if (resultCode == RESULT_OK)\n    {\n        if(requestCode == 100)\n        {\n            Uri fictionalURI = Uri.parse(resultData.getData()+&quot;/fictionalFile&quot;);\n            DocumentFile fictionalFile = DocumentFile.fromSingleUri(this, fictionalURI);\n            Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL URI: &quot;+fictionalURI);\n            Log.i(&quot;STORAGE&quot;, &quot;FICTIONAL DOCUMENTFILE URI: &quot;+fictionalFile.getUri());\n\n            if(fictionalFile != null &amp;&amp; fictionalFile.exists())\n            {\n                Log.i(&quot;STORAGE&quot;, &quot;Fictional file exists&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hash","sha512"],"comments":[{"owner":{"account_id":7283528,"reputation":899,"user_id":5552415,"accept_rate":100,"display_name":"Ger"},"score":1,"creation_date":1506850952,"post_id":46510338,"comment_id":79976204,"body_markdown":"This is not an Android-specific question, and can be tackled using standard Java libraries.","body":"This is not an Android-specific question, and can be tackled using standard Java libraries."}],"answers":[{"tags":[],"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1506845236,"creation_date":1506845236,"answer_id":46510436,"question_id":46510338,"body_markdown":"The other questions you saw use salt so just don&#39;t use salt like so:\r\n\r\n\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n\tbyte[] digest = md.digest(&quot;Hello, world!&quot;.getBytes());\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (int i = 0; i &lt; digest.length; i++) {\r\n\t\tsb.append(Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n\t}\r\n\tSystem.out.println(sb);\r\nBased on this [answer](https://stackoverflow.com/a/33085670/1398418).","title":"SHA-512 hashing with Android","body":"<p>The other questions you saw use salt so just don't use salt like so:</p>\n\n<pre><code>MessageDigest md = MessageDigest.getInstance(\"SHA-512\");\nbyte[] digest = md.digest(\"Hello, world!\".getBytes());\nStringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; digest.length; i++) {\n    sb.append(Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1));\n}\nSystem.out.println(sb);\n</code></pre>\n\n<p>Based on this <a href=\"https://stackoverflow.com/a/33085670/1398418\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":3505519,"reputation":2446,"user_id":2931124,"accept_rate":0,"display_name":"ked"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1660907117,"creation_date":1584440985,"answer_id":60720462,"question_id":46510338,"body_markdown":"method for calculating sha-512 in kotlin\r\n\r\n```\r\n fun getSHA256(input:String):String{\r\n    return MessageDigest\r\n        .getInstance(&quot;SHA-256&quot;)\r\n        .digest(input.toByteArray())\r\n        .fold(&quot;&quot;) { str, it -&gt; str + &quot;%02x&quot;.format(it) }\r\n}\r\n```","title":"SHA-512 hashing with Android","body":"<p>method for calculating sha-512 in kotlin</p>\n<pre><code> fun getSHA256(input:String):String{\n    return MessageDigest\n        .getInstance(&quot;SHA-256&quot;)\n        .digest(input.toByteArray())\n        .fold(&quot;&quot;) { str, it -&gt; str + &quot;%02x&quot;.format(it) }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7855529,"reputation":37,"user_id":5937518,"display_name":"Mauricio Jaramillo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1594813460,"creation_date":1594813460,"answer_id":62914083,"question_id":46510338,"body_markdown":"I guess the equivalent in Kotlin is:\r\n\r\n\r\n    fun encriptar(cadena: String): String {\r\n    \r\n        var md: MessageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;)\r\n        var digest = md.digest(cadena.toByteArray())\r\n        var sb: StringBuilder = StringBuilder()\r\n    \r\n        var i = 0\r\n        while (i &lt; digest.count()) {\r\n            sb.append(((digest[i] and 0xff.toByte()) + 0x100).toString(16).substring(0, 1))\r\n            i++\r\n        }\r\n    \r\n        return sb.toString()\r\n    }\r\n\r\n","title":"SHA-512 hashing with Android","body":"<p>I guess the equivalent in Kotlin is:</p>\n<pre><code>fun encriptar(cadena: String): String {\n\n    var md: MessageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;)\n    var digest = md.digest(cadena.toByteArray())\n    var sb: StringBuilder = StringBuilder()\n\n    var i = 0\n    while (i &lt; digest.count()) {\n        sb.append(((digest[i] and 0xff.toByte()) + 0x100).toString(16).substring(0, 1))\n        i++\n    }\n\n    return sb.toString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14319395,"reputation":101,"user_id":10343250,"display_name":"Tom&#225;š Vyhn&#225;lek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616338225,"creation_date":1616338225,"answer_id":66733767,"question_id":46510338,"body_markdown":"Keds example is right, but .length will always be biger than 32, (127) so more correct answer should be \r\n\r\n    private fun getSHA512(input:String):String{\r\n        val md: MessageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;)\r\n        val messageDigest = md.digest(input.toByteArray())\r\n\r\n        // Convert byte array into signum representation\r\n        val no = BigInteger(1, messageDigest)\r\n\r\n        // Convert message digest into hex value\r\n        var hashtext: String = no.toString(16)\r\n\r\n        // Add preceding 0s to make it 128 chars long\r\n        while (hashtext.length &lt; 128) {\r\n            hashtext = &quot;0$hashtext&quot;\r\n        }\r\n\r\n\r\n\r\n        // return the HashText\r\n        return hashtext\r\n    }","title":"SHA-512 hashing with Android","body":"<p>Keds example is right, but .length will always be biger than 32, (127) so more correct answer should be</p>\n<pre><code>private fun getSHA512(input:String):String{\n    val md: MessageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;)\n    val messageDigest = md.digest(input.toByteArray())\n\n    // Convert byte array into signum representation\n    val no = BigInteger(1, messageDigest)\n\n    // Convert message digest into hex value\n    var hashtext: String = no.toString(16)\n\n    // Add preceding 0s to make it 128 chars long\n    while (hashtext.length &lt; 128) {\n        hashtext = &quot;0$hashtext&quot;\n    }\n\n\n\n    // return the HashText\n    return hashtext\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5120170,"reputation":511,"user_id":4104015,"display_name":"Kevin Davin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631535100,"creation_date":1631534571,"answer_id":69162331,"question_id":46510338,"body_markdown":"A more functional solution: \r\n\r\n```kotlin\r\nfun sha512(input: String): String {\r\n        return MessageDigest.getInstance(&quot;SHA-512&quot;)\r\n            .digest(input.toByteArray())\r\n            .joinToString(separator = &quot;&quot;) {\r\n                ((it.toInt() and 0xff) + 0x100)\r\n                    .toString(16)\r\n                    .substring(1) \r\n            }\r\n    }\r\n```","title":"SHA-512 hashing with Android","body":"<p>A more functional solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun sha512(input: String): String {\n        return MessageDigest.getInstance(&quot;SHA-512&quot;)\n            .digest(input.toByteArray())\n            .joinToString(separator = &quot;&quot;) {\n                ((it.toInt() and 0xff) + 0x100)\n                    .toString(16)\n                    .substring(1) \n            }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user8654216"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13753,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46510436,"answer_count":5,"score":7,"last_activity_date":1660907117,"creation_date":1506844421,"question_id":46510338,"body_markdown":"I was wondering if I can SHA-512 hash a string on Android Studio **without a salt**.\r\n\r\nI&#39;ve seen other questions, but they all involve the `salt`, but I want something like this:\r\n\r\n    TestBox.text = sha512(&quot;Hello, world!&quot;);\r\n\r\nAnd `TextBox` will read `c1527cd893c124773d811911970c8fe6e857d6df5dc9226bd8a160614c0cd963a4ddea2b94bb7d36021ef9d865d5cea294a82dd49a0bb269f51f6e7a57f79421`;","title":"SHA-512 hashing with Android","body":"<p>I was wondering if I can SHA-512 hash a string on Android Studio <strong>without a salt</strong>.</p>\n\n<p>I've seen other questions, but they all involve the <code>salt</code>, but I want something like this:</p>\n\n<pre><code>TestBox.text = sha512(\"Hello, world!\");\n</code></pre>\n\n<p>And <code>TextBox</code> will read <code>c1527cd893c124773d811911970c8fe6e857d6df5dc9226bd8a160614c0cd963a4ddea2b94bb7d36021ef9d865d5cea294a82dd49a0bb269f51f6e7a57f79421</code>;</p>\n"},{"tags":["java","spring","solr","proxy","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1661111211,"post_id":73415634,"comment_id":129688522,"body_markdown":"Look&#39;s like it&#39;s not possible anymore. You might want to fill a bug at Solr GitHub/JIRA.","body":"Look&#39;s like it&#39;s not possible anymore. You might want to fill a bug at Solr GitHub/JIRA."}],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660906274,"creation_date":1660906274,"question_id":73415634,"body_markdown":"I&#39;m using the Apace Solr Library to access a Solr Api in my Java Spring project.\r\n\r\nmaven dependency:\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy SolrClient configuration looks like this:\r\n\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.solr.client.solrj.SolrClient;\r\n    import org.apache.solr.client.solrj.impl.HttpSolrClient;\r\n    import org.apache.solr.client.solrj.impl.XMLResponseParser;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class SolrConfig {\r\n    \r\n      @Value(&quot;${proxy.host}&quot;)\r\n      private String proxyHost;\r\n    \r\n      @Value(&quot;${proxy.port}&quot;)\r\n      private int proxyPort;\r\n    \r\n      @Value(&quot;${proxy.username}&quot;)\r\n      private String proxyUsername;\r\n    \r\n      @Value(&quot;${proxy.password}&quot;)\r\n      private String proxyPassword;\r\n    \r\n      @Value(&quot;${solr.host}&quot;)\r\n      private String solrHost;\r\n    \r\n    \r\n      @Bean\r\n      public SolrClient getSolrClient() {\r\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n    \r\n        credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort),\r\n            new UsernamePasswordCredentials(proxyUsername, proxyPassword));\r\n    \r\n        HttpHost proxy = new HttpHost(proxyHost, proxyPort);\r\n        HttpClient httpclient = HttpClientBuilder.create()\r\n            .setDefaultCredentialsProvider(credsProvider)\r\n            .setProxy(proxy)\r\n            .build();\r\n    \r\n        return new HttpSolrClient.Builder(solrHost)\r\n            .withResponseParser(new XMLResponseParser())\r\n            .withHttpClient(httpclient)\r\n            .build();\r\n      }\r\n    }\r\n\r\nEverything works perfectly. However since version 9.0.0 (which I am using) the class HttpSolrClient is marked as deprecated. As far as I know I&#39;m supposed to use the class Http2SolrClient instead.\r\n\r\nSadly I can&#39;t figure out how to add my proxy server configuration to an Instance of Http2SolrClient.","title":"How to use a Http2SolrClient with Proxy","body":"<p>I'm using the Apace Solr Library to access a Solr Api in my Java Spring project.</p>\n<p>maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n    &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n    &lt;version&gt;9.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My SolrClient configuration looks like this:</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.solr.client.solrj.SolrClient;\nimport org.apache.solr.client.solrj.impl.HttpSolrClient;\nimport org.apache.solr.client.solrj.impl.XMLResponseParser;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SolrConfig {\n\n  @Value(&quot;${proxy.host}&quot;)\n  private String proxyHost;\n\n  @Value(&quot;${proxy.port}&quot;)\n  private int proxyPort;\n\n  @Value(&quot;${proxy.username}&quot;)\n  private String proxyUsername;\n\n  @Value(&quot;${proxy.password}&quot;)\n  private String proxyPassword;\n\n  @Value(&quot;${solr.host}&quot;)\n  private String solrHost;\n\n\n  @Bean\n  public SolrClient getSolrClient() {\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\n\n    credsProvider.setCredentials(new AuthScope(proxyHost, proxyPort),\n        new UsernamePasswordCredentials(proxyUsername, proxyPassword));\n\n    HttpHost proxy = new HttpHost(proxyHost, proxyPort);\n    HttpClient httpclient = HttpClientBuilder.create()\n        .setDefaultCredentialsProvider(credsProvider)\n        .setProxy(proxy)\n        .build();\n\n    return new HttpSolrClient.Builder(solrHost)\n        .withResponseParser(new XMLResponseParser())\n        .withHttpClient(httpclient)\n        .build();\n  }\n}\n</code></pre>\n<p>Everything works perfectly. However since version 9.0.0 (which I am using) the class HttpSolrClient is marked as deprecated. As far as I know I'm supposed to use the class Http2SolrClient instead.</p>\n<p>Sadly I can't figure out how to add my proxy server configuration to an Instance of Http2SolrClient.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1660581228,"post_id":73362495,"comment_id":129560863,"body_markdown":"I don&#39;t understand what exact part you&#39;re having trouble with. Could you maybe add your attempt and why it doesn&#39;t work for you (even with hypothetical code)?","body":"I don&#39;t understand what exact part you&#39;re having trouble with. Could you maybe add your attempt and why it doesn&#39;t work for you (even with hypothetical code)?"},{"owner":{"account_id":26068775,"reputation":1,"user_id":19768841,"display_name":"Doğuş Efe"},"score":0,"creation_date":1660582023,"post_id":73362495,"comment_id":129561092,"body_markdown":"i added detailed description below, thanks","body":"i added detailed description below, thanks"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1660638474,"post_id":73362495,"comment_id":129573002,"body_markdown":"Welcome to Stack Overflow! You are encouraged to make an attempt to write your code. If you encounter a specific technical problem during that attempt, such as an error or unexpected result, we can help with that. Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"Welcome to Stack Overflow! You are encouraged to make an attempt to write your code. If you encounter a specific technical problem during that attempt, such as an error or unexpected result, we can help with that. Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1660659794,"post_id":73362495,"comment_id":129581109,"body_markdown":"@DoğuşEfe in your added content, you mentioned: *I want to create an interface which is inherited from CommonCB in my SDK like* - why? Why should your interface inherit from the other? You could just define your own independent interface and map callback calls from the framework to calls to your interface.","body":"@DoğuşEfe in your added content, you mentioned: <i>I want to create an interface which is inherited from CommonCB in my SDK like</i> - why? Why should your interface inherit from the other? You could just define your own independent interface and map callback calls from the framework to calls to your interface."}],"answers":[{"tags":[],"owner":{"account_id":26068775,"reputation":1,"user_id":19768841,"display_name":"Doğuş Efe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660906242,"creation_date":1660581998,"answer_id":73364016,"question_id":73362495,"body_markdown":"This is the Java callback interface of device SDK and device library files are included to my SDK module.\r\n\r\n    public interface CommonCB {\r\n        int GetDateTime(byte[] var1);\r\n    \r\n        int ReadSN(byte[] var1);\r\n    \r\n        int GetUnknowTLV(int var1, byte[] var2, int var3);\r\n    }\r\n\r\nI want to create an interface which is inherited from CommonCB in my SDK like so: \r\n\r\n    interface CommonCallBack : CommonCB {\r\n    }\r\n\r\nAnd third party applications will try to communicate via `CommonCallBack` \r\n\r\nThird party app includes my module, and my SDK module includes device SDK as `.jar` file.\r\n\r\nSo when I try to access my SDK module like so:\r\n\r\n    var ccb = object : CommonCallBack\r\n            {\r\n               override fun GetDateTime(bytes: ByteArray): Int {\r\n                    val DataTimeTemp = ByteArray(10)\r\n                    return 0\r\n                }\r\n    \r\n                override fun ReadSN(bytes: ByteArray): Int {\r\n                    var sNumber = PedApi.readPinPadSerialNumber()\r\n                    if (sNumber!=null) {\r\n                        val nLen = (sNumber[0] - 0x30) * 10 + (sNumber[1] - 0x30) + 2\r\n                        if (nLen &gt; 11) ByteUtils.memcpy(\r\n                            bytes,\r\n                            0,\r\n                            sNumber,\r\n                            2 + nLen - 11,\r\n                            11\r\n                        ) else ByteUtils.memcpy(bytes, 0, sNumber, 2, nLen)\r\n                    }\r\n                    return CommonConstants.EmvResult.EmvOk\r\n                }\r\n    \r\n                override fun GetUnknowTLV(i: Int, bytes: ByteArray, i1: Int): Int {\r\n                    return -1\r\n                }\r\n            }\r\n\r\nAndroid Studio gives error like this:\r\n&quot;Cannot access &#39;com.****.CommonCB&#39; which is a supertype of &#39;com.***.sdktestapp.sdkservice.Definitions.Companion.ccb.&lt;no name provided&gt;&#39;. Check your module classpath for missing or conflicting dependencies&quot;\r\n\r\nActually I dont want to include CommonCB library to test the application.\r\nIs it clear now?\r\nThanks\r\n\r\nHere is the basically drawing of my communication design to understand the problem better :\r\nhttps://i.hizliresim.com/f2jeqep.png\r\n","title":"Middleware To Access Java Callback Interface","body":"<p>This is the Java callback interface of device SDK and device library files are included to my SDK module.</p>\n<pre><code>public interface CommonCB {\n    int GetDateTime(byte[] var1);\n\n    int ReadSN(byte[] var1);\n\n    int GetUnknowTLV(int var1, byte[] var2, int var3);\n}\n</code></pre>\n<p>I want to create an interface which is inherited from CommonCB in my SDK like so:</p>\n<pre><code>interface CommonCallBack : CommonCB {\n}\n</code></pre>\n<p>And third party applications will try to communicate via <code>CommonCallBack</code></p>\n<p>Third party app includes my module, and my SDK module includes device SDK as <code>.jar</code> file.</p>\n<p>So when I try to access my SDK module like so:</p>\n<pre><code>var ccb = object : CommonCallBack\n        {\n           override fun GetDateTime(bytes: ByteArray): Int {\n                val DataTimeTemp = ByteArray(10)\n                return 0\n            }\n\n            override fun ReadSN(bytes: ByteArray): Int {\n                var sNumber = PedApi.readPinPadSerialNumber()\n                if (sNumber!=null) {\n                    val nLen = (sNumber[0] - 0x30) * 10 + (sNumber[1] - 0x30) + 2\n                    if (nLen &gt; 11) ByteUtils.memcpy(\n                        bytes,\n                        0,\n                        sNumber,\n                        2 + nLen - 11,\n                        11\n                    ) else ByteUtils.memcpy(bytes, 0, sNumber, 2, nLen)\n                }\n                return CommonConstants.EmvResult.EmvOk\n            }\n\n            override fun GetUnknowTLV(i: Int, bytes: ByteArray, i1: Int): Int {\n                return -1\n            }\n        }\n</code></pre>\n<p>Android Studio gives error like this:\n&quot;Cannot access 'com.*<em><strong>.CommonCB' which is a supertype of 'com.</strong></em>.sdktestapp.sdkservice.Definitions.Companion.ccb.'. Check your module classpath for missing or conflicting dependencies&quot;</p>\n<p>Actually I dont want to include CommonCB library to test the application.\nIs it clear now?\nThanks</p>\n<p>Here is the basically drawing of my communication design to understand the problem better :\n<a href=\"https://i.hizliresim.com/f2jeqep.png\" rel=\"nofollow noreferrer\">https://i.hizliresim.com/f2jeqep.png</a></p>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660660316,"creation_date":1660660316,"answer_id":73375727,"question_id":73362495,"body_markdown":"It seems you should just create your own independent interface:\r\n\r\n```kotlin\r\ninterface CommonCallback {\r\n    fun getDateTime(var1 ByteArray): Int\r\n\r\n    fun readSN(var1: ByteArray): Int\r\n\r\n    fun getUnknowTLV(var1: Int, var2: ByteArray, var3: Int): Int\r\n}\r\n```\r\n(of course with proper parameter names)\r\n\r\nThen, in your own SDK code, you can pass an original callback implementation to the original device SDK methods that need it, and that implementation would simply be an adapter that delegates all the calls to the callback provided by your users:\r\n\r\n```kotlin\r\ninternal class CommonCBAdapter(private val cb: CommonCallback): CommonCB {\r\n    override fun GetDateTime(bytes: ByteArray): Int = cb.getDateTime(bytes)\r\n\r\n    override fun ReadSN(bytes: ByteArray): Int = cb.readSN(bytes)\r\n\r\n    override fun GetUnknowTLV(i: Int, bytes: ByteArray, i1: Int): Int = cb.getUnknownTLV(i, bytes, i1)\r\n}\r\n\r\n// then, somewhere else still in your own code\r\nval userCallback: CommonCallback = TODO(&quot;the user provides you with an implementation of your callback interface&quot;)\r\n\r\nval deviceCallback = CommonCBAdapter(userCallback)\r\n\r\nsomeDeviceStuff.someDeviceMethodWithCB(deviceCallback)\r\n```","title":"Middleware To Access Java Callback Interface","body":"<p>It seems you should just create your own independent interface:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface CommonCallback {\n    fun getDateTime(var1 ByteArray): Int\n\n    fun readSN(var1: ByteArray): Int\n\n    fun getUnknowTLV(var1: Int, var2: ByteArray, var3: Int): Int\n}\n</code></pre>\n<p>(of course with proper parameter names)</p>\n<p>Then, in your own SDK code, you can pass an original callback implementation to the original device SDK methods that need it, and that implementation would simply be an adapter that delegates all the calls to the callback provided by your users:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>internal class CommonCBAdapter(private val cb: CommonCallback): CommonCB {\n    override fun GetDateTime(bytes: ByteArray): Int = cb.getDateTime(bytes)\n\n    override fun ReadSN(bytes: ByteArray): Int = cb.readSN(bytes)\n\n    override fun GetUnknowTLV(i: Int, bytes: ByteArray, i1: Int): Int = cb.getUnknownTLV(i, bytes, i1)\n}\n\n// then, somewhere else still in your own code\nval userCallback: CommonCallback = TODO(&quot;the user provides you with an implementation of your callback interface&quot;)\n\nval deviceCallback = CommonCBAdapter(userCallback)\n\nsomeDeviceStuff.someDeviceMethodWithCB(deviceCallback)\n</code></pre>\n"}],"owner":{"account_id":26068775,"reputation":1,"user_id":19768841,"display_name":"Doğuş Efe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660906242,"creation_date":1660574172,"question_id":73362495,"body_markdown":"First of all i am newbie at Kotlin Language and android programming.\r\n\r\nI am trying to develop a middleware SDK to access real SDK of a POS device.\r\nFor example POS device SDK has a method like &quot;printString()&quot; and i am creating a method named &quot;Print()&quot;.\r\n\r\nPeople will only know the Print() method and i will access the real printString() method of device SDK.\r\n\r\nThe programming language of device SDK is Java, and my middleware SDK is Kotlin.\r\n\r\nI actually wrote most of required methods (converted from java). But i have a one problem to create middleware of Java callback interface.\r\n\r\nThis the Java interface of device SDK\r\n\r\n```\r\npublic interface CommonCB {\r\n    int GetDateTime(byte[] var1);\r\n\r\n    int ReadSN(byte[] var1);\r\n\r\n    int GetUnknowTLV(int var1, byte[] var2, int var3);\r\n}\r\n```\r\n\r\nI would like to create an interface with Kotlin named like &quot;CommonCallback&quot;.\r\nAnd people can override the above methods with calling CommonCallback class or interface.\r\n\r\nHow can i do that ? i tried many time but couldnt find a solution yet.\r\n","title":"Middleware To Access Java Callback Interface","body":"<p>First of all i am newbie at Kotlin Language and android programming.</p>\n<p>I am trying to develop a middleware SDK to access real SDK of a POS device.\nFor example POS device SDK has a method like &quot;printString()&quot; and i am creating a method named &quot;Print()&quot;.</p>\n<p>People will only know the Print() method and i will access the real printString() method of device SDK.</p>\n<p>The programming language of device SDK is Java, and my middleware SDK is Kotlin.</p>\n<p>I actually wrote most of required methods (converted from java). But i have a one problem to create middleware of Java callback interface.</p>\n<p>This the Java interface of device SDK</p>\n<pre><code>public interface CommonCB {\n    int GetDateTime(byte[] var1);\n\n    int ReadSN(byte[] var1);\n\n    int GetUnknowTLV(int var1, byte[] var2, int var3);\n}\n</code></pre>\n<p>I would like to create an interface with Kotlin named like &quot;CommonCallback&quot;.\nAnd people can override the above methods with calling CommonCallback class or interface.</p>\n<p>How can i do that ? i tried many time but couldnt find a solution yet.</p>\n"},{"tags":["java","spring-boot","objectmapper","jackson2"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598944968,"creation_date":1598943030,"answer_id":63682709,"question_id":63682619,"body_markdown":"Create a [Jackson2ObjectMapperBuilderCustomizer](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/Jackson2ObjectMapperBuilderCustomizer.html) bean:\r\n```\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n    return builder -&gt; {\r\n        builder.simpleDateFormat(dateTimeFormat);\r\n        builder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(dateFormat)));\r\n        builder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(dateTimeFormat)));\r\n    };\r\n}\r\n```\r\n\r\nAdd property `spring.jackson.serialization.write_dates_as_timestamps=false` to `application.properties` or you can also do it programmatically in the `Jackson2ObjectMapperBuilderCustomizer`.","title":"LocalDateTime is representing in array format","body":"<p>Create a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/Jackson2ObjectMapperBuilderCustomizer.html\" rel=\"nofollow noreferrer\">Jackson2ObjectMapperBuilderCustomizer</a> bean:</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    return builder -&gt; {\n        builder.simpleDateFormat(dateTimeFormat);\n        builder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(dateFormat)));\n        builder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(dateTimeFormat)));\n    };\n}\n</code></pre>\n<p>Add property <code>spring.jackson.serialization.write_dates_as_timestamps=false</code> to <code>application.properties</code> or you can also do it programmatically in the <code>Jackson2ObjectMapperBuilderCustomizer</code>.</p>\n"},{"tags":[],"owner":{"account_id":5208406,"reputation":4517,"user_id":4165579,"accept_rate":75,"display_name":"Prabjot Singh"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1599019787,"creation_date":1599019787,"answer_id":63698586,"question_id":63682619,"body_markdown":"The culprit was `@EnableWebMVC`. One of my cors class was having `@EnableWebMVC` annotation. This was disabling the spring boot auto configuration and also overriding the mapper confiiguration. This won&#39;t let you to override the configuration of object mapper. By removing `@EnableMVC` annotation, this is working fine now. In  **SpringBoot2**, we don&#39;t need to do  any configuration explicitly related to date serialization, it will automatically parse the java 8 dates in **&quot;yyyy-mm-dd&quot;** format.","title":"LocalDateTime is representing in array format","body":"<p>The culprit was <code>@EnableWebMVC</code>. One of my cors class was having <code>@EnableWebMVC</code> annotation. This was disabling the spring boot auto configuration and also overriding the mapper confiiguration. This won't let you to override the configuration of object mapper. By removing <code>@EnableMVC</code> annotation, this is working fine now. In  <strong>SpringBoot2</strong>, we don't need to do  any configuration explicitly related to date serialization, it will automatically parse the java 8 dates in <strong>&quot;yyyy-mm-dd&quot;</strong> format.</p>\n"},{"tags":[],"owner":{"account_id":17604570,"reputation":383,"user_id":12773830,"display_name":"amine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660906087,"creation_date":1660906087,"answer_id":73415599,"question_id":63682619,"body_markdown":"use below Jackson annotation on date fields of User model :\r\n```\r\n@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n```\r\n","title":"LocalDateTime is representing in array format","body":"<p>use below Jackson annotation on date fields of User model :</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;)\n</code></pre>\n"}],"owner":{"account_id":5208406,"reputation":4517,"user_id":4165579,"accept_rate":75,"display_name":"Prabjot Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6962,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63698586,"answer_count":3,"score":6,"last_activity_date":1660906087,"creation_date":1598942502,"question_id":63682619,"body_markdown":"I am using spring boot 2.2.6 and Jackson 2.10.3 with Java 8. I am using localdatetime objects through out my project. Jackson is not able to parse LocalDateTime properly (or may be it&#39;s default format) and sending date in json response as in array format like below\r\n\r\n            &quot;createdDate&quot;: [\r\n                2020,\r\n                8,\r\n                31,\r\n                0,\r\n                0,\r\n                0,\r\n                80000000\r\n            ]\r\nAs described in https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot , Spring boot 2 has already default jackson-datatype-jsr310:2.10.3 on classpath. I want dates to represent in json as 2020-03-31:00 in whole project. First solution doesn&#39;t work in the above link. After that  i have tried @JsonSerialize annotation and it works but i don&#39;t want to apply on each and every class. So also tried to override object mapper but it didn&#39;t work\r\n\r\n    @Primary\r\n    \t@Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\r\n    \t\tSimpleModule module = new SimpleModule(&quot;my custom date serializer&quot;);\r\n    \t\tmodule.addSerializer(LocalDateTime.class,new LocalDateTimeSerializer());\r\n    \t\tmapper.registerModule(module);\r\n            return mapper;\r\n        }\r\n\r\nAlso tried to customize Jackson2ObjectMapperBuilder, but still have date in array format\r\n\r\n    @Bean\r\n    \tpublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n    \t    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n    \t    builder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t    builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    \t    SimpleModule module = new SimpleModule(&quot;my custom date serializer&quot;);\r\n    \t    module.addSerializer(LocalDateTime.class,new LocalDateTimeSerializer());\r\n    \t    builder.modulesToInstall(modules)\r\n    \t    return builder;\r\n    \t}\r\n\r\n**Tried with also Jackson2ObjectMapperBuilderCustomizer**  \r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n    \r\n    \t@Primary\r\n    \t@Bean\r\n    \tpublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n    \t\treturn builder -&gt; {\r\n    \t\t\tbuilder.simpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \t\t\tbuilder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\n**Contoller** \r\n\r\n    @RestConroller\r\n    @RequestMapping(&quot;/user&quot;)\r\n    UserController {\r\n    \r\n    \tUser getUser(){\r\n    \t\tUser user = new User()\r\n    \t\tuser.createdDate = LocalDateTime.now();\r\n            return user;\r\n    \t}\r\n    \r\n    }\r\n\r\n is there anything i can do at global level, so every date in the project will be serialized as in string format like 2020-09-01 ?\r\n\r\nAny suggestion will be helpful.","title":"LocalDateTime is representing in array format","body":"<p>I am using spring boot 2.2.6 and Jackson 2.10.3 with Java 8. I am using localdatetime objects through out my project. Jackson is not able to parse LocalDateTime properly (or may be it's default format) and sending date in json response as in array format like below</p>\n<pre><code>        &quot;createdDate&quot;: [\n            2020,\n            8,\n            31,\n            0,\n            0,\n            0,\n            80000000\n        ]\n</code></pre>\n<p>As described in <a href=\"https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot\">JSON Java 8 LocalDateTime format in Spring Boot</a> , Spring boot 2 has already default jackson-datatype-jsr310:2.10.3 on classpath. I want dates to represent in json as 2020-03-31:00 in whole project. First solution doesn't work in the above link. After that  i have tried @JsonSerialize annotation and it works but i don't want to apply on each and every class. So also tried to override object mapper but it didn't work</p>\n<pre><code>@Primary\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\n        SimpleModule module = new SimpleModule(&quot;my custom date serializer&quot;);\n        module.addSerializer(LocalDateTime.class,new LocalDateTimeSerializer());\n        mapper.registerModule(module);\n        return mapper;\n    }\n</code></pre>\n<p>Also tried to customize Jackson2ObjectMapperBuilder, but still have date in array format</p>\n<pre><code>@Bean\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n        builder.serializationInclusion(JsonInclude.Include.NON_NULL);\n        builder.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        SimpleModule module = new SimpleModule(&quot;my custom date serializer&quot;);\n        module.addSerializer(LocalDateTime.class,new LocalDateTimeSerializer());\n        builder.modulesToInstall(modules)\n        return builder;\n    }\n</code></pre>\n<p><strong>Tried with also Jackson2ObjectMapperBuilderCustomizer</strong></p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n\n    @Primary\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n        return builder -&gt; {\n            builder.simpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            builder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\n        };\n    }\n}\n</code></pre>\n<p><strong>Contoller</strong></p>\n<pre><code>@RestConroller\n@RequestMapping(&quot;/user&quot;)\nUserController {\n\n    User getUser(){\n        User user = new User()\n        user.createdDate = LocalDateTime.now();\n        return user;\n    }\n\n}\n</code></pre>\n<p>is there anything i can do at global level, so every date in the project will be serialized as in string format like 2020-09-01 ?</p>\n<p>Any suggestion will be helpful.</p>\n"},{"tags":["java","android","datetime"],"comments":[{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":7,"creation_date":1392723984,"post_id":21852754,"comment_id":33079768,"body_markdown":"15 minutes in milliseconds is 15 * 60 * 1000. What am I missing?","body":"15 minutes in milliseconds is 15 * 60 * 1000. What am I missing?"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1392723995,"post_id":21852754,"comment_id":33079779,"body_markdown":"1 minute = 60 * seconds, 1 second = 1000 millis =&gt; 1 minute = 60000 millis. This is basic math!","body":"1 minute = 60 * seconds, 1 second = 1000 millis =&gt; 1 minute = 60000 millis. This is basic math!"},{"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":4,"creation_date":1392724103,"post_id":21852754,"comment_id":33079861,"body_markdown":"getTimeInMillis() returns the current time as UTC milliseconds from the epoch.","body":"getTimeInMillis() returns the current time as UTC milliseconds from the epoch."},{"owner":{"account_id":1550551,"reputation":5924,"user_id":1443051,"accept_rate":54,"display_name":"TheDevMan"},"score":1,"creation_date":1392724490,"post_id":21852754,"comment_id":33080170,"body_markdown":"@ArtooDetoo I know this is a simple calculation. I don&#39;t want to use the calculation instead i would like to use something like RC&#39;s answer.","body":"@ArtooDetoo I know this is a simple calculation. I don&#39;t want to use the calculation instead i would like to use something like RC&#39;s answer."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1392724874,"post_id":21852754,"comment_id":33080436,"body_markdown":"... which internally does the same calculation... ;)","body":"... which internally does the same calculation... ;)"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1392725316,"post_id":21852754,"comment_id":33080748,"body_markdown":"You can create a method doing this stuff, instead of doing this directly. In this way you&#39;ll have a simple, fast and all-api-levels valid way to convert minutes to millisecs","body":"You can create a method doing this stuff, instead of doing this directly. In this way you&#39;ll have a simple, fast and all-api-levels valid way to convert minutes to millisecs"}],"answers":[{"tags":[],"owner":{"account_id":1227417,"reputation":1220,"user_id":1192716,"accept_rate":73,"display_name":"Marco Bolis"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1392724001,"creation_date":1392724001,"answer_id":21852792,"question_id":21852754,"body_markdown":"    int minutes = 42;\r\n    long millis = minutes * 60 * 1000;","title":"Convert Minutes to milliseconds Java/android","body":"<pre><code>int minutes = 42;\nlong millis = minutes * 60 * 1000;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":190,"is_accepted":true,"score":190,"last_activity_date":1392724030,"creation_date":1392724030,"answer_id":21852803,"question_id":21852754,"body_markdown":"    TimeUnit.MINUTES.toMillis(yourMinutes)\r\n\r\nsee [`TimeUnit`][1] javadoc (android)\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/concurrent/TimeUnit.html","title":"Convert Minutes to milliseconds Java/android","body":"<pre><code>TimeUnit.MINUTES.toMillis(yourMinutes)\n</code></pre>\n\n<p>see <a href=\"http://developer.android.com/reference/java/util/concurrent/TimeUnit.html\"><code>TimeUnit</code></a> javadoc (android)</p>\n"},{"tags":[],"owner":{"account_id":1662665,"reputation":5466,"user_id":1533803,"accept_rate":30,"display_name":"Venkatesh S"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1392724806,"creation_date":1392724233,"answer_id":21852874,"question_id":21852754,"body_markdown":"1 minute = 60000 millisecs.\r\n\r\n    int minutes = 1;\r\n    long milliseconds = minutes * 60000;","title":"Convert Minutes to milliseconds Java/android","body":"<p>1 minute = 60000 millisecs.</p>\n\n<pre><code>int minutes = 1;\nlong milliseconds = minutes * 60000;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1392724502,"creation_date":1392724502,"answer_id":21852990,"question_id":21852754,"body_markdown":"This gives you the time in milli.\r\n\r\n    long currentTime = System.currentTimeMillis()\r\n    Handler handler = new Handler(); \r\n    long waitTime = currentTime + (15*60*1000);\r\n    handler.postDelayed(new Runnable() { \r\n         public void run() { \r\n              // Alert or do something here.\r\n         } \r\n    }, waitTime); \r\n\r\nThis piece of code sleeps for 15 minutes and then executes the handler&#39;s run method. This way you can raise an alarm etc...\r\n","title":"Convert Minutes to milliseconds Java/android","body":"<p>This gives you the time in milli.</p>\n\n<pre><code>long currentTime = System.currentTimeMillis()\nHandler handler = new Handler(); \nlong waitTime = currentTime + (15*60*1000);\nhandler.postDelayed(new Runnable() { \n     public void run() { \n          // Alert or do something here.\n     } \n}, waitTime); \n</code></pre>\n\n<p>This piece of code sleeps for 15 minutes and then executes the handler's run method. This way you can raise an alarm etc...</p>\n"},{"tags":[],"owner":{"account_id":48354,"reputation":763,"user_id":143676,"display_name":"ConnorWGarvey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589926855,"creation_date":1589926855,"answer_id":61901744,"question_id":21852754,"body_markdown":"In Java 8+, use `java.time`.\r\n\r\n```Java\r\njava.time.Duration.ofMinutes(15).toMillis();\r\n```","title":"Convert Minutes to milliseconds Java/android","body":"<p>In Java 8+, use <code>java.time</code>.</p>\n\n<pre><code>java.time.Duration.ofMinutes(15).toMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660906055,"creation_date":1660906055,"answer_id":73415587,"question_id":21852754,"body_markdown":"This answer is in reference to Android using Kotlin-\r\n\r\nSo if you are using MaterialTimePicker or TimePicker then you can get the hours and minutes values stored in the picker. Then use `TimeUnit.HOURS.toMillis(picker.hour.toLong())` and `TimeUnit.MINUTES.toMillis(picker.minutes.toLong())` to convert the received time to milliseconds and then add both the values to get the total time in Milliseconds which you can further use to store in Room Database for entering time and fetching when required.\r\n\r\nCode for reference : \r\n```\r\nbinding.timeStart.setOnClickListener {\r\n            openTimePicker()\r\n            picker.addOnPositiveButtonClickListener {\r\n                val h = picker.hour\r\n                val m = picker.minute\r\n                binding.timeStart.text = &quot;$h:$m&quot;\r\n                Timber.d(&quot;Start Time - $h: $m&quot;)\r\n                try {\r\n                    val hour = TimeUnit.HOURS.toMillis(h.toLong())\r\n                    val minute = TimeUnit.MINUTES.toMillis(m.toLong())\r\n                    val totalTime = hour + minute\r\n\r\n                    Timber.d(&quot;Hour - $hour, Minute - $minute, Total = $totalTime&quot;)\r\n                    timeStart = totalTime\r\n\r\n                } catch (e: Exception) {\r\n                    Timber.d(&quot;$e&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n private fun openTimePicker() {\r\n        picker = MaterialTimePicker.Builder()\r\n            .setTimeFormat(TimeFormat.CLOCK_12H)\r\n            .setHour(12)\r\n            .setMinute(10)\r\n            .setTitleText(&quot;Set Start Time&quot;)\r\n            .build()\r\n        picker.show(childFragmentManager, &quot;TAG&quot;)\r\n    }\r\n```","title":"Convert Minutes to milliseconds Java/android","body":"<p>This answer is in reference to Android using Kotlin-</p>\n<p>So if you are using MaterialTimePicker or TimePicker then you can get the hours and minutes values stored in the picker. Then use <code>TimeUnit.HOURS.toMillis(picker.hour.toLong())</code> and <code>TimeUnit.MINUTES.toMillis(picker.minutes.toLong())</code> to convert the received time to milliseconds and then add both the values to get the total time in Milliseconds which you can further use to store in Room Database for entering time and fetching when required.</p>\n<p>Code for reference :</p>\n<pre><code>binding.timeStart.setOnClickListener {\n            openTimePicker()\n            picker.addOnPositiveButtonClickListener {\n                val h = picker.hour\n                val m = picker.minute\n                binding.timeStart.text = &quot;$h:$m&quot;\n                Timber.d(&quot;Start Time - $h: $m&quot;)\n                try {\n                    val hour = TimeUnit.HOURS.toMillis(h.toLong())\n                    val minute = TimeUnit.MINUTES.toMillis(m.toLong())\n                    val totalTime = hour + minute\n\n                    Timber.d(&quot;Hour - $hour, Minute - $minute, Total = $totalTime&quot;)\n                    timeStart = totalTime\n\n                } catch (e: Exception) {\n                    Timber.d(&quot;$e&quot;)\n                }\n            }\n        }\n\n\n private fun openTimePicker() {\n        picker = MaterialTimePicker.Builder()\n            .setTimeFormat(TimeFormat.CLOCK_12H)\n            .setHour(12)\n            .setMinute(10)\n            .setTitleText(&quot;Set Start Time&quot;)\n            .build()\n        picker.show(childFragmentManager, &quot;TAG&quot;)\n    }\n</code></pre>\n"}],"owner":{"account_id":1550551,"reputation":5924,"user_id":1443051,"accept_rate":54,"display_name":"TheDevMan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110565,"favorite_count":0,"down_vote_count":3,"up_vote_count":56,"accepted_answer_id":21852803,"answer_count":6,"score":53,"last_activity_date":1660906055,"creation_date":1392723896,"question_id":21852754,"body_markdown":"I am trying to convert given number of minutes into milliseconds. \r\n\r\nFor eg: 15mins or 20mins or 44mins should be converted to milliseconds programmatically.\r\n\r\nI tried the below:\r\n\r\n    Calendar alarmCalendar = Calendar.getInstance();\r\n\r\n    alarmCalendar.set(Calendar.MINUTE,15);\r\n\r\n    long alarmTime = alarmCalendar.getTimeInMillis();\r\n\r\n    Log.e(&quot;Milli&quot;, &quot;seconds&quot;+alarmTime);\r\n\r\nThis doesn&#39;t give the right value? What is the best way to convert this?\r\n","title":"Convert Minutes to milliseconds Java/android","body":"<p>I am trying to convert given number of minutes into milliseconds. </p>\n\n<p>For eg: 15mins or 20mins or 44mins should be converted to milliseconds programmatically.</p>\n\n<p>I tried the below:</p>\n\n<pre><code>Calendar alarmCalendar = Calendar.getInstance();\n\nalarmCalendar.set(Calendar.MINUTE,15);\n\nlong alarmTime = alarmCalendar.getTimeInMillis();\n\nLog.e(\"Milli\", \"seconds\"+alarmTime);\n</code></pre>\n\n<p>This doesn't give the right value? What is the best way to convert this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660904991,"creation_date":1660904991,"answer_id":73415376,"question_id":73415319,"body_markdown":"Just make the control of the values case insensitive making both in lowercase or in uppercase like this way \r\n\r\n    private static DefaultComboBoxModel getSuggestedModel(List&lt;String&gt; list,\r\n    String text) {\r\n        DefaultComboBoxModel m = new DefaultComboBoxModel();\r\n        for (String s: list) {\r\n            if (s.toLowerCase().startsWith(text.toLowerCase())){\r\n            m.addElement((s));\r\n        }\r\n        }\r\n        \r\n        return m;\r\n    }","title":"Java Search Box is Case Sensitive","body":"<p>Just make the control of the values case insensitive making both in lowercase or in uppercase like this way</p>\n<pre><code>private static DefaultComboBoxModel getSuggestedModel(List&lt;String&gt; list,\nString text) {\n    DefaultComboBoxModel m = new DefaultComboBoxModel();\n    for (String s: list) {\n        if (s.toLowerCase().startsWith(text.toLowerCase())){\n        m.addElement((s));\n    }\n    }\n    \n    return m;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660905809,"creation_date":1660905809,"answer_id":73415541,"question_id":73415319,"body_markdown":"I think you can use equalsIgnoreCase in your `getSuggestedModel` method instead of startsWith:\r\n\r\n    if (s.equalsIgnoreCase(text))\r\n\r\nSame can be done in `keyPressed` method as well. ","title":"Java Search Box is Case Sensitive","body":"<p>I think you can use equalsIgnoreCase in your <code>getSuggestedModel</code> method instead of startsWith:</p>\n<pre><code>if (s.equalsIgnoreCase(text))\n</code></pre>\n<p>Same can be done in <code>keyPressed</code> method as well.</p>\n"}],"owner":{"account_id":4012686,"reputation":15,"user_id":3305642,"display_name":"user3305642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1660918516,"accepted_answer_id":73415376,"answer_count":2,"score":-2,"last_activity_date":1660905809,"creation_date":1660904714,"question_id":73415319,"body_markdown":"I am writing code for a search in combo box with AutoSuggest feature but problem is I&#39;ve to write Exactly same case. If i write &quot;Afghanistan&quot; it shows suggestions but if i write &quot;afghanistan&quot; nothing appears. Below is code. I need to create search which is non case sensitive so users are free to type their search string without any casing in mind.\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n     */\r\n    package autosuggest;\r\n    import java.awt.EventQueue;\r\n    import java.util.Vector;\r\n    import javax.swing.JTextField;\r\n    import java.awt.HeadlessException;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    public class NewJFrame extends javax.swing.JFrame {\r\n        \r\n             \r\n        /**\r\n         * Creates new form NewJFrame\r\n         */\r\n        public NewJFrame() {\r\n            initComponents();\r\n            loadCountries();\r\n            autoSuggest();\r\n        }\r\n      private final Vector&lt;String&gt; v = new Vector&lt;String&gt;();\r\n      private JTextField tf;\r\n      private boolean hide_Flag=false;\r\n      \r\n          \r\n    void loadCountries() {\r\n    String[] countries={&quot;Afghanistan&quot;,\r\n    &quot;Albania&quot;,\r\n    &quot;Algeria&quot;,\r\n    &quot;Andorra&quot;,\r\n    &quot;Angola&quot;,\r\n    &quot;AntiguaDeps&quot;,\r\n    &quot;Argentina&quot;,\r\n    &quot;Armenia&quot;,\r\n    &quot;Australia&quot;,\r\n    &quot;Austria&quot;,\r\n    &quot;Azerbaijan&quot;,\r\n    &quot;Bahamas&quot;,\r\n    &quot;Bahrain&quot;,\r\n    &quot;Bangladesh&quot;,\r\n    &quot;Barbados&quot;,\r\n    &quot;Belarus&quot;,\r\n    &quot;Belgium&quot;,\r\n    &quot;Belize&quot;,\r\n    &quot;Benin&quot;,\r\n    &quot;Bhutan&quot;,\r\n    &quot;Bolivia&quot;,\r\n    &quot;Bosnia Herzegovina&quot;,\r\n    &quot;Botswana&quot;,\r\n    &quot;Brazil&quot;,\r\n    &quot;Brunei&quot;,\r\n    &quot;Bulgaria&quot;,\r\n    &quot;Burkina&quot;,\r\n    &quot;Burundi&quot;,\r\n    &quot;Cambodia&quot;,\r\n    &quot;Cameroon&quot;,\r\n    &quot;Canada&quot;,\r\n    &quot;Cape Verde&quot;,\r\n    &quot;Central African Rep&quot;,\r\n    &quot;Chad&quot;,\r\n    &quot;Chile&quot;,\r\n    &quot;China&quot;,\r\n    &quot;Colombia&quot;,\r\n    &quot;Comoros&quot;,\r\n    &quot;Congo&quot;,\r\n    &quot;Congo Democratic Rep&quot;,\r\n    &quot;Costa Rica&quot;,\r\n    &quot;Croatia&quot;,\r\n    &quot;Cuba&quot;,\r\n    &quot;Cyprus&quot;,\r\n    &quot;Czech Republic&quot;,\r\n    &quot;Denmark&quot;,\r\n    &quot;Djibouti&quot;,\r\n    &quot;Dominica&quot;,\r\n    &quot;Dominican Republic&quot;,\r\n    &quot;East Timor&quot;,\r\n    &quot;Ecuador&quot;,\r\n    &quot;Egypt&quot;,\r\n    &quot;El Salvador&quot;,\r\n    &quot;Equatorial Guinea&quot;,\r\n    &quot;Eritrea&quot;,\r\n    &quot;Estonia&quot;,\r\n    &quot;Ethiopia&quot;,\r\n    &quot;Fiji&quot;,\r\n    &quot;Finland&quot;,\r\n    &quot;France&quot;,\r\n    &quot;Gabon&quot;,\r\n    &quot;Gambia&quot;,\r\n    &quot;Georgia&quot;,\r\n    &quot;Germany&quot;,\r\n    &quot;Ghana&quot;,\r\n    &quot;Greece&quot;,\r\n    &quot;Grenada&quot;,\r\n    &quot;Guatemala&quot;,\r\n    &quot;Guinea&quot;,\r\n    &quot;Guinea-Bissau&quot;,\r\n    &quot;Guyana&quot;,\r\n    &quot;Haiti&quot;,\r\n    &quot;Honduras&quot;,\r\n    &quot;Hungary&quot;,\r\n    &quot;Iceland&quot;,\r\n    &quot;India&quot;,\r\n    &quot;Indonesia&quot;,\r\n    &quot;Iran&quot;,\r\n    &quot;Iraq&quot;,\r\n    &quot;Ireland&quot;,\r\n    &quot;Israel&quot;,\r\n    &quot;Italy&quot;,\r\n    &quot;Ivory Coast&quot;,\r\n    &quot;Jamaica&quot;,\r\n    &quot;Japan&quot;,\r\n    &quot;Jordan&quot;,\r\n    &quot;Kazakhstan&quot;,\r\n    &quot;Kenya&quot;,\r\n    &quot;Kiribati&quot;,\r\n    &quot;Korea North&quot;,\r\n    &quot;Korea South&quot;,\r\n    &quot;Kosovo&quot;,\r\n    &quot;Kuwait&quot;,\r\n    &quot;Kyrgyzstan&quot;,\r\n    &quot;Laos&quot;,\r\n    &quot;Latvia&quot;,\r\n    &quot;Lebanon&quot;,\r\n    &quot;Lesotho&quot;,\r\n    &quot;Liberia&quot;,\r\n    &quot;Libya&quot;,\r\n    &quot;Liechtenstein&quot;,\r\n    &quot;Lithuania&quot;,\r\n    &quot;Luxembourg&quot;,\r\n    &quot;Macedonia&quot;,\r\n    &quot;Madagascar&quot;,\r\n    &quot;Malawi&quot;,\r\n    &quot;Malaysia&quot;,\r\n    &quot;Maldives&quot;,\r\n    &quot;Mali&quot;,\r\n    &quot;Malta&quot;,\r\n    &quot;Marshall Islands&quot;,\r\n    &quot;Mauritania&quot;,\r\n    &quot;Mauritius&quot;,\r\n    &quot;Mexico&quot;,\r\n    &quot;Micronesia&quot;,\r\n    &quot;Moldova&quot;,\r\n    &quot;Monaco&quot;,\r\n    &quot;Mongolia&quot;,\r\n    &quot;Montenegro&quot;,\r\n    &quot;Morocco&quot;,\r\n    &quot;Mozambique&quot;,\r\n    &quot;Myanmar&quot;,\r\n    &quot;Namibia&quot;,\r\n    &quot;Nauru&quot;,\r\n    &quot;Nepal&quot;,\r\n    &quot;Netherlands&quot;,\r\n    &quot;New Zealand&quot;,\r\n    &quot;Nicaragua&quot;,\r\n    &quot;Niger&quot;,\r\n    &quot;Nigeria&quot;,\r\n    &quot;Norway&quot;,\r\n    &quot;Oman&quot;,\r\n    &quot;Pakistan&quot;,\r\n    &quot;Palau&quot;,\r\n    &quot;Panama&quot;,\r\n    &quot;Papua New Guinea&quot;,\r\n    &quot;Paraguay&quot;,\r\n    &quot;Peru&quot;,\r\n    &quot;Philippines&quot;,\r\n    &quot;Poland&quot;,\r\n    &quot;Portugal&quot;,\r\n    &quot;Qatar&quot;,\r\n    &quot;Romania&quot;,\r\n    &quot;Russian Federation&quot;,\r\n    &quot;Rwanda&quot;,\r\n    &quot;St Kitts Nevis&quot;,\r\n    &quot;St Lucia&quot;,\r\n    &quot;Saint Vincent the Grenadines&quot;,\r\n    &quot;Samoa&quot;,\r\n    &quot;San Marino&quot;,\r\n    &quot;Sao Tome Principe&quot;,\r\n    &quot;Saudi Arabia&quot;,\r\n    &quot;Senegal&quot;,\r\n    &quot;Serbia&quot;,\r\n    &quot;Seychelles&quot;,\r\n    &quot;Sierra Leone&quot;,\r\n    &quot;Singapore&quot;,\r\n    &quot;Slovakia&quot;,\r\n    &quot;Slovenia&quot;,\r\n    &quot;Solomon Islands&quot;,\r\n    &quot;Somalia&quot;,\r\n    &quot;South Africa&quot;,\r\n    &quot;South Sudan&quot;,\r\n    &quot;Spain&quot;,\r\n    &quot;Sri Lanka&quot;,\r\n    &quot;Sudan&quot;,\r\n    &quot;Suriname&quot;,\r\n    &quot;Swaziland&quot;,\r\n    &quot;Sweden&quot;,\r\n    &quot;Switzerland&quot;,\r\n    &quot;Syria&quot;,\r\n    &quot;Taiwan&quot;,\r\n    &quot;Tajikistan&quot;,\r\n    &quot;Tanzania&quot;,\r\n    &quot;Thailand&quot;,\r\n    &quot;Togo&quot;,\r\n    &quot;Tonga&quot;,\r\n    &quot;Trinidad Tobago&quot;,\r\n    &quot;Tunisia&quot;,\r\n    &quot;Turkey&quot;,\r\n    &quot;Turkmenistan&quot;,\r\n    &quot;Tuvalu&quot;,\r\n    &quot;Uganda&quot;,\r\n    &quot;Ukraine&quot;,\r\n    &quot;United Arab Emirates&quot;,\r\n    &quot;United Kingdom&quot;,\r\n    &quot;United States&quot;,\r\n    &quot;Uruguay&quot;,\r\n    &quot;Uzbekistan&quot;,\r\n    &quot;Vanuatu&quot;,\r\n    &quot;Vatican City&quot;,\r\n    &quot;Venezuela&quot;,\r\n    &quot;Vietnam&quot;,\r\n    &quot;Yemen&quot;,\r\n    &quot;Zambia&quot;,\r\n    &quot;Zimbabwe&quot;\r\n    };\r\n    for (int i = 0; i&lt; countries.length; i++){\r\n                   v.addElement(countries[i]);        \r\n              \r\n            }\r\n    }\r\n      \r\n      \r\n     private void setModel(DefaultComboBoxModel mdl, String str){\r\n         combo.setModel(mdl);\r\n         combo.setSelectedIndex(-1);\r\n         tf.setText(str);\r\n         \r\n     } \r\n      \r\n     \r\n    private static DefaultComboBoxModel getSuggestedModel(List&lt;String&gt; list, String text) {\r\n        DefaultComboBoxModel m = new DefaultComboBoxModel();\r\n        for (String s: list) {\r\n            if (s.startsWith(text)){\r\n            m.addElement((s));\r\n        }\r\n        }\r\n        \r\n        return m;\r\n    }\r\n    void autoSuggest(){\r\n        combo.setEditable(true);\r\n        tf = (JTextField) combo.getEditor().getEditorComponent();\r\n      tf.addKeyListener(new KeyListener() {\r\n          @Override\r\n          public void keyTyped(KeyEvent e){\r\n           EventQueue.invokeLater(new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                 String text = tf.getText();\r\n                 if (text.length()==0) {\r\n                     combo.hidePopup();\r\n                     setModel(new DefaultComboBoxModel(v), text);\r\n              }else{\r\n                     DefaultComboBoxModel m = getSuggestedModel(v, text);\r\n                      if (m.getSize()==0 || hide_Flag) {\r\n                          combo.hidePopup();\r\n                          hide_Flag=false;\r\n                      }else{\r\n                          setModel(m, text);\r\n                          combo.showPopup();\r\n                      }     \r\n                 }\r\n              }\r\n           });\r\n          }\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                String text = tf.getText();\r\n                int code = e.getKeyCode();\r\n                \r\n                if(code==KeyEvent.VK_ENTER){\r\n                  if(v.contains(text)){\r\n                      v.addElement(text);\r\n                      Collections.sort(v);\r\n                      setModel(getSuggestedModel(v, text), text);\r\n                  }\r\n                  hide_Flag = true;\r\n                    \r\n                }else if(code==KeyEvent.VK_ESCAPE){\r\n                    hide_Flag = true;\r\n                }else if(code==KeyEvent.VK_RIGHT) {\r\n                  for (int i = 0; i&lt; v.size(); i++){\r\n                  String str = v.elementAt(i);\r\n                      if(str.startsWith(text)){\r\n                          combo.setSelectedIndex(-1);\r\n                          tf.setText(str);\r\n                          return;\r\n                      }\r\n                  }\r\n              }} \r\n                \r\n            \r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n            }\r\n          \r\n      });\r\n        \r\n    }\r\n        \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n            combo = new javax.swing.JComboBox&lt;&gt;();\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(129, 129, 129)\r\n                    .addComponent(combo, javax.swing.GroupLayout.PREFERRED_SIZE, 243, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(455, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(71, 71, 71)\r\n                    .addComponent(combo, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(371, Short.MAX_VALUE))\r\n            );\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n        }// &lt;/editor-fold&gt;                        \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new NewJFrame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JComboBox&lt;String&gt; combo;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n","title":"Java Search Box is Case Sensitive","body":"<p>I am writing code for a search in combo box with AutoSuggest feature but problem is I've to write Exactly same case. If i write &quot;Afghanistan&quot; it shows suggestions but if i write &quot;afghanistan&quot; nothing appears. Below is code. I need to create search which is non case sensitive so users are free to type their search string without any casing in mind.</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage autosuggest;\nimport java.awt.EventQueue;\nimport java.util.Vector;\nimport javax.swing.JTextField;\nimport java.awt.HeadlessException;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.swing.DefaultComboBoxModel;\n/**\n *\n * @author admin\n */\npublic class NewJFrame extends javax.swing.JFrame {\n    \n         \n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n        loadCountries();\n        autoSuggest();\n    }\n  private final Vector&lt;String&gt; v = new Vector&lt;String&gt;();\n  private JTextField tf;\n  private boolean hide_Flag=false;\n  \n      \nvoid loadCountries() {\nString[] countries={&quot;Afghanistan&quot;,\n&quot;Albania&quot;,\n&quot;Algeria&quot;,\n&quot;Andorra&quot;,\n&quot;Angola&quot;,\n&quot;AntiguaDeps&quot;,\n&quot;Argentina&quot;,\n&quot;Armenia&quot;,\n&quot;Australia&quot;,\n&quot;Austria&quot;,\n&quot;Azerbaijan&quot;,\n&quot;Bahamas&quot;,\n&quot;Bahrain&quot;,\n&quot;Bangladesh&quot;,\n&quot;Barbados&quot;,\n&quot;Belarus&quot;,\n&quot;Belgium&quot;,\n&quot;Belize&quot;,\n&quot;Benin&quot;,\n&quot;Bhutan&quot;,\n&quot;Bolivia&quot;,\n&quot;Bosnia Herzegovina&quot;,\n&quot;Botswana&quot;,\n&quot;Brazil&quot;,\n&quot;Brunei&quot;,\n&quot;Bulgaria&quot;,\n&quot;Burkina&quot;,\n&quot;Burundi&quot;,\n&quot;Cambodia&quot;,\n&quot;Cameroon&quot;,\n&quot;Canada&quot;,\n&quot;Cape Verde&quot;,\n&quot;Central African Rep&quot;,\n&quot;Chad&quot;,\n&quot;Chile&quot;,\n&quot;China&quot;,\n&quot;Colombia&quot;,\n&quot;Comoros&quot;,\n&quot;Congo&quot;,\n&quot;Congo Democratic Rep&quot;,\n&quot;Costa Rica&quot;,\n&quot;Croatia&quot;,\n&quot;Cuba&quot;,\n&quot;Cyprus&quot;,\n&quot;Czech Republic&quot;,\n&quot;Denmark&quot;,\n&quot;Djibouti&quot;,\n&quot;Dominica&quot;,\n&quot;Dominican Republic&quot;,\n&quot;East Timor&quot;,\n&quot;Ecuador&quot;,\n&quot;Egypt&quot;,\n&quot;El Salvador&quot;,\n&quot;Equatorial Guinea&quot;,\n&quot;Eritrea&quot;,\n&quot;Estonia&quot;,\n&quot;Ethiopia&quot;,\n&quot;Fiji&quot;,\n&quot;Finland&quot;,\n&quot;France&quot;,\n&quot;Gabon&quot;,\n&quot;Gambia&quot;,\n&quot;Georgia&quot;,\n&quot;Germany&quot;,\n&quot;Ghana&quot;,\n&quot;Greece&quot;,\n&quot;Grenada&quot;,\n&quot;Guatemala&quot;,\n&quot;Guinea&quot;,\n&quot;Guinea-Bissau&quot;,\n&quot;Guyana&quot;,\n&quot;Haiti&quot;,\n&quot;Honduras&quot;,\n&quot;Hungary&quot;,\n&quot;Iceland&quot;,\n&quot;India&quot;,\n&quot;Indonesia&quot;,\n&quot;Iran&quot;,\n&quot;Iraq&quot;,\n&quot;Ireland&quot;,\n&quot;Israel&quot;,\n&quot;Italy&quot;,\n&quot;Ivory Coast&quot;,\n&quot;Jamaica&quot;,\n&quot;Japan&quot;,\n&quot;Jordan&quot;,\n&quot;Kazakhstan&quot;,\n&quot;Kenya&quot;,\n&quot;Kiribati&quot;,\n&quot;Korea North&quot;,\n&quot;Korea South&quot;,\n&quot;Kosovo&quot;,\n&quot;Kuwait&quot;,\n&quot;Kyrgyzstan&quot;,\n&quot;Laos&quot;,\n&quot;Latvia&quot;,\n&quot;Lebanon&quot;,\n&quot;Lesotho&quot;,\n&quot;Liberia&quot;,\n&quot;Libya&quot;,\n&quot;Liechtenstein&quot;,\n&quot;Lithuania&quot;,\n&quot;Luxembourg&quot;,\n&quot;Macedonia&quot;,\n&quot;Madagascar&quot;,\n&quot;Malawi&quot;,\n&quot;Malaysia&quot;,\n&quot;Maldives&quot;,\n&quot;Mali&quot;,\n&quot;Malta&quot;,\n&quot;Marshall Islands&quot;,\n&quot;Mauritania&quot;,\n&quot;Mauritius&quot;,\n&quot;Mexico&quot;,\n&quot;Micronesia&quot;,\n&quot;Moldova&quot;,\n&quot;Monaco&quot;,\n&quot;Mongolia&quot;,\n&quot;Montenegro&quot;,\n&quot;Morocco&quot;,\n&quot;Mozambique&quot;,\n&quot;Myanmar&quot;,\n&quot;Namibia&quot;,\n&quot;Nauru&quot;,\n&quot;Nepal&quot;,\n&quot;Netherlands&quot;,\n&quot;New Zealand&quot;,\n&quot;Nicaragua&quot;,\n&quot;Niger&quot;,\n&quot;Nigeria&quot;,\n&quot;Norway&quot;,\n&quot;Oman&quot;,\n&quot;Pakistan&quot;,\n&quot;Palau&quot;,\n&quot;Panama&quot;,\n&quot;Papua New Guinea&quot;,\n&quot;Paraguay&quot;,\n&quot;Peru&quot;,\n&quot;Philippines&quot;,\n&quot;Poland&quot;,\n&quot;Portugal&quot;,\n&quot;Qatar&quot;,\n&quot;Romania&quot;,\n&quot;Russian Federation&quot;,\n&quot;Rwanda&quot;,\n&quot;St Kitts Nevis&quot;,\n&quot;St Lucia&quot;,\n&quot;Saint Vincent the Grenadines&quot;,\n&quot;Samoa&quot;,\n&quot;San Marino&quot;,\n&quot;Sao Tome Principe&quot;,\n&quot;Saudi Arabia&quot;,\n&quot;Senegal&quot;,\n&quot;Serbia&quot;,\n&quot;Seychelles&quot;,\n&quot;Sierra Leone&quot;,\n&quot;Singapore&quot;,\n&quot;Slovakia&quot;,\n&quot;Slovenia&quot;,\n&quot;Solomon Islands&quot;,\n&quot;Somalia&quot;,\n&quot;South Africa&quot;,\n&quot;South Sudan&quot;,\n&quot;Spain&quot;,\n&quot;Sri Lanka&quot;,\n&quot;Sudan&quot;,\n&quot;Suriname&quot;,\n&quot;Swaziland&quot;,\n&quot;Sweden&quot;,\n&quot;Switzerland&quot;,\n&quot;Syria&quot;,\n&quot;Taiwan&quot;,\n&quot;Tajikistan&quot;,\n&quot;Tanzania&quot;,\n&quot;Thailand&quot;,\n&quot;Togo&quot;,\n&quot;Tonga&quot;,\n&quot;Trinidad Tobago&quot;,\n&quot;Tunisia&quot;,\n&quot;Turkey&quot;,\n&quot;Turkmenistan&quot;,\n&quot;Tuvalu&quot;,\n&quot;Uganda&quot;,\n&quot;Ukraine&quot;,\n&quot;United Arab Emirates&quot;,\n&quot;United Kingdom&quot;,\n&quot;United States&quot;,\n&quot;Uruguay&quot;,\n&quot;Uzbekistan&quot;,\n&quot;Vanuatu&quot;,\n&quot;Vatican City&quot;,\n&quot;Venezuela&quot;,\n&quot;Vietnam&quot;,\n&quot;Yemen&quot;,\n&quot;Zambia&quot;,\n&quot;Zimbabwe&quot;\n};\nfor (int i = 0; i&lt; countries.length; i++){\n               v.addElement(countries[i]);        \n          \n        }\n}\n  \n  \n private void setModel(DefaultComboBoxModel mdl, String str){\n     combo.setModel(mdl);\n     combo.setSelectedIndex(-1);\n     tf.setText(str);\n     \n } \n  \n \nprivate static DefaultComboBoxModel getSuggestedModel(List&lt;String&gt; list, String text) {\n    DefaultComboBoxModel m = new DefaultComboBoxModel();\n    for (String s: list) {\n        if (s.startsWith(text)){\n        m.addElement((s));\n    }\n    }\n    \n    return m;\n}\nvoid autoSuggest(){\n    combo.setEditable(true);\n    tf = (JTextField) combo.getEditor().getEditorComponent();\n  tf.addKeyListener(new KeyListener() {\n      @Override\n      public void keyTyped(KeyEvent e){\n       EventQueue.invokeLater(new Runnable() {\n          @Override\n          public void run() {\n             String text = tf.getText();\n             if (text.length()==0) {\n                 combo.hidePopup();\n                 setModel(new DefaultComboBoxModel(v), text);\n          }else{\n                 DefaultComboBoxModel m = getSuggestedModel(v, text);\n                  if (m.getSize()==0 || hide_Flag) {\n                      combo.hidePopup();\n                      hide_Flag=false;\n                  }else{\n                      setModel(m, text);\n                      combo.showPopup();\n                  }     \n             }\n          }\n       });\n      }\n        @Override\n        public void keyPressed(KeyEvent e) {\n            String text = tf.getText();\n            int code = e.getKeyCode();\n            \n            if(code==KeyEvent.VK_ENTER){\n              if(v.contains(text)){\n                  v.addElement(text);\n                  Collections.sort(v);\n                  setModel(getSuggestedModel(v, text), text);\n              }\n              hide_Flag = true;\n                \n            }else if(code==KeyEvent.VK_ESCAPE){\n                hide_Flag = true;\n            }else if(code==KeyEvent.VK_RIGHT) {\n              for (int i = 0; i&lt; v.size(); i++){\n              String str = v.elementAt(i);\n                  if(str.startsWith(text)){\n                      combo.setSelectedIndex(-1);\n                      tf.setText(str);\n                      return;\n                  }\n              }\n          }} \n            \n        \n        @Override\n        public void keyReleased(KeyEvent e) {\n        }\n      \n  });\n    \n}\n    \n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n        combo = new javax.swing.JComboBox&lt;&gt;();\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(129, 129, 129)\n                .addComponent(combo, javax.swing.GroupLayout.PREFERRED_SIZE, 243, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(455, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(71, 71, 71)\n                .addComponent(combo, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(371, Short.MAX_VALUE))\n        );\n        pack();\n        setLocationRelativeTo(null);\n    }// &lt;/editor-fold&gt;                        \n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n    // Variables declaration - do not modify                     \n    private javax.swing.JComboBox&lt;String&gt; combo;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","node.js"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660905807,"post_id":73415502,"comment_id":129649479,"body_markdown":"I don&#39;t know nodejs but your code is different in the two isn&#39;t it? In the Java, you cast to ```byte``` . Try it without the cast","body":"I don&#39;t know nodejs but your code is different in the two isn&#39;t it? In the Java, you cast to <code>byte</code> . Try it without the cast"},{"owner":{"account_id":7084284,"reputation":38870,"user_id":5421539,"accept_rate":66,"display_name":"Joey Yi Zhao"},"score":0,"creation_date":1660906011,"post_id":73415502,"comment_id":129649559,"body_markdown":"using byte is what I want. I am converting int to byte in the two languages but it gives me different output","body":"using byte is what I want. I am converting int to byte in the two languages but it gives me different output"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660906428,"post_id":73415502,"comment_id":129649688,"body_markdown":"```byte``` is a signed type in Java. The maximum positive value is 127. Depending on what you&#39;re doing, you probably don&#39;t need to worry","body":"<code>byte</code> is a signed type in Java. The maximum positive value is 127. Depending on what you&#39;re doing, you probably don&#39;t need to worry"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1660906690,"post_id":73415502,"comment_id":129649791,"body_markdown":"Java&#39;s byte is an 8-bit signed value. 254 is 0xfe which is -2 in an 8-bit signed, two&#39;s complement value. If you widen this (byte to int) then sign extension happens and 0xfe becomes 0xfffffffe.","body":"Java&#39;s byte is an 8-bit signed value. 254 is 0xfe which is -2 in an 8-bit signed, two&#39;s complement value. If you widen this (byte to int) then sign extension happens and 0xfe becomes 0xfffffffe."}],"owner":{"account_id":7084284,"reputation":38870,"user_id":5421539,"accept_rate":66,"display_name":"Joey Yi Zhao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660906742,"answer_count":0,"score":0,"last_activity_date":1660905583,"creation_date":1660905583,"question_id":73415502,"body_markdown":"I have two code in Java and Nodejs to convert int to byte array:\r\n\r\n```java\r\nSystem.out.println((byte)254);\r\nSystem.out.println(Integer.toHexString((byte)254));\r\n\r\n-2\r\nfffffffe\r\n```\r\n\r\n```javascript\r\n&gt; parseInt(Buffer.from([254]).toString(&#39;hex&#39;), 16)\r\n254\r\n&gt; Buffer.from([254]).toString(&#39;hex&#39;)\r\n&#39;fe&#39;\r\n```\r\n\r\ncompare above 2 codes, I have some questions:\r\n\r\n- why Java prints 254 as `-2` in byte but nodejs prints it as `254`?\r\n- Java adds 6 `f` in the prefix of hex string, but node only prints `fe`. \r\n- Are these two byte same in the two lanugages?\r\n","title":"How can I understand the byte operation between Java and Nodejs","body":"<p>I have two code in Java and Nodejs to convert int to byte array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println((byte)254);\nSystem.out.println(Integer.toHexString((byte)254));\n\n-2\nfffffffe\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>&gt; parseInt(Buffer.from([254]).toString('hex'), 16)\n254\n&gt; Buffer.from([254]).toString('hex')\n'fe'\n</code></pre>\n<p>compare above 2 codes, I have some questions:</p>\n<ul>\n<li>why Java prints 254 as <code>-2</code> in byte but nodejs prints it as <code>254</code>?</li>\n<li>Java adds 6 <code>f</code> in the prefix of hex string, but node only prints <code>fe</code>.</li>\n<li>Are these two byte same in the two lanugages?</li>\n</ul>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1660711406,"post_id":73382606,"comment_id":129594027,"body_markdown":"Try installing a few Chinese fonts on that server. PDFBox will try to find one that is close.","body":"Try installing a few Chinese fonts on that server. PDFBox will try to find one that is close."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1660718710,"post_id":73382606,"comment_id":129595634,"body_markdown":"On my computer it uses ArialUnicodeMS-Bold and AdobeSongStd-Light instead of the missing (not embedded) fonts.","body":"On my computer it uses ArialUnicodeMS-Bold and AdobeSongStd-Light instead of the missing (not embedded) fonts."},{"owner":{"account_id":5041897,"reputation":370,"user_id":4048999,"accept_rate":83,"display_name":"sincosmos"},"score":1,"creation_date":1660721958,"post_id":73382606,"comment_id":129596723,"body_markdown":"@TilmanHausherr Thank you very much. The program handles another pdf file (which also has Chinese words, but using different font types) well, so I did not realized it&#39;s because Chinese fonts are missing on the server. After read your advices, I upload a little bit more Chinese fonts on the server, and pdfbox can find a proper substitute font to process the pdf file. Thank you again","body":"@TilmanHausherr Thank you very much. The program handles another pdf file (which also has Chinese words, but using different font types) well, so I did not realized it&#39;s because Chinese fonts are missing on the server. After read your advices, I upload a little bit more Chinese fonts on the server, and pdfbox can find a proper substitute font to process the pdf file. Thank you again"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1660723784,"post_id":73382606,"comment_id":129597315,"body_markdown":"Great to hear it works! I suggest you answer your own question, mention &quot;PDFBox will try to find one that is close&quot;, and mention which actual fonts you installed. Alternatively you can also delete your question.","body":"Great to hear it works! I suggest you answer your own question, mention &quot;PDFBox will try to find one that is close&quot;, and mention which actual fonts you installed. Alternatively you can also delete your question."}],"answers":[{"tags":[],"owner":{"account_id":5041897,"reputation":370,"user_id":4048999,"accept_rate":83,"display_name":"sincosmos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660905548,"creation_date":1660725110,"answer_id":73385258,"question_id":73382606,"body_markdown":"Thanks to Tilman Hausherr&#39;s suggestion, I realized that when the specified fonts are not available, &quot;PDFBox will try to find one that is close&quot;. My problem was that PDFBox failed to find one that is close enough to recognize the font on the pdf file. After I upload some Chinese fonts to the server (for linux os, the fonts are copied to /usr/share/fonts), the problem was solved. The font types I used belong to the company I&#39;m working for, but I believe fonts such as SimSun will also work, just try it out.","title":"pdfbox: how to solve font (STSong-Light) problem when converting pdf to image?","body":"<p>Thanks to Tilman Hausherr's suggestion, I realized that when the specified fonts are not available, &quot;PDFBox will try to find one that is close&quot;. My problem was that PDFBox failed to find one that is close enough to recognize the font on the pdf file. After I upload some Chinese fonts to the server (for linux os, the fonts are copied to /usr/share/fonts), the problem was solved. The font types I used belong to the company I'm working for, but I believe fonts such as SimSun will also work, just try it out.</p>\n"}],"owner":{"account_id":5041897,"reputation":370,"user_id":4048999,"accept_rate":83,"display_name":"sincosmos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73385258,"answer_count":1,"score":2,"last_activity_date":1660905548,"creation_date":1660707390,"question_id":73382606,"body_markdown":"I&#39;m using pdfbox 2.0.26 to convert pdf to image. The maven dependencies are as following.\r\n\r\n``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fontbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThe program that I wrote is like\r\n```\r\n        FileInputStream fin = new FileInputStream(&quot;/path/to/sample.pdf&quot;);\r\n        try(final PDDocument doc = PDDocument.load(fin)){\r\n\r\n            PDFRenderer pdfRenderer = new PDFRenderer((doc));\r\n\r\n            BufferedImage bim = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\r\n            File myObj = new File(&quot;/path/to/sample.png&quot;);\r\n            FileOutputStream fos = new FileOutputStream(myObj);\r\n            ImageIOUtil.writeImage(bim, &quot;png&quot;, fos);\r\n            fin.close();\r\n            fos.close();\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;error&quot;);\r\n        }\r\n```\r\nIt works fine on my macOS (although the fonts in the image is different from the one in the pdf), but the Chinese characters are lost when I run it on the linux server.\r\n\r\nThe source PDF file can be found here [the source file][1]. I detected the font using adobe reader, the result are pasted as following.\r\n[![enter image description here][2]][2]\r\n\r\nThe resulting image file is like:\r\n[![enter image description here][3]][3]\r\n\r\nWhat shall I do to solve the problem? Thank you\r\n\r\n  [1]: https://alihealth-examination-isv-image.oss-cn-zhangjiakou.aliyuncs.com/test/chinese_sample.pdf\r\n  [2]: https://i.stack.imgur.com/HL3jC.png\r\n  [3]: https://i.stack.imgur.com/2dlOn.jpg","title":"pdfbox: how to solve font (STSong-Light) problem when converting pdf to image?","body":"<p>I'm using pdfbox 2.0.26 to convert pdf to image. The maven dependencies are as following.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;fontbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The program that I wrote is like</p>\n<pre><code>        FileInputStream fin = new FileInputStream(&quot;/path/to/sample.pdf&quot;);\n        try(final PDDocument doc = PDDocument.load(fin)){\n\n            PDFRenderer pdfRenderer = new PDFRenderer((doc));\n\n            BufferedImage bim = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\n            File myObj = new File(&quot;/path/to/sample.png&quot;);\n            FileOutputStream fos = new FileOutputStream(myObj);\n            ImageIOUtil.writeImage(bim, &quot;png&quot;, fos);\n            fin.close();\n            fos.close();\n\n        } catch (IOException e) {\n            System.out.println(&quot;error&quot;);\n        }\n</code></pre>\n<p>It works fine on my macOS (although the fonts in the image is different from the one in the pdf), but the Chinese characters are lost when I run it on the linux server.</p>\n<p>The source PDF file can be found here <a href=\"https://alihealth-examination-isv-image.oss-cn-zhangjiakou.aliyuncs.com/test/chinese_sample.pdf\" rel=\"nofollow noreferrer\">the source file</a>. I detected the font using adobe reader, the result are pasted as following.\n<a href=\"https://i.stack.imgur.com/HL3jC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HL3jC.png\" alt=\"enter image description here\" /></a></p>\n<p>The resulting image file is like:\n<a href=\"https://i.stack.imgur.com/2dlOn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dlOn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What shall I do to solve the problem? Thank you</p>\n"},{"tags":["java","spring-boot","docker","tomcat","jsf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660908673,"post_id":73415485,"comment_id":129650449,"body_markdown":"Looks like a DB connectivity issue.","body":"Looks like a DB connectivity issue."},{"owner":{"account_id":438444,"reputation":607,"user_id":826718,"accept_rate":40,"display_name":"Lipu"},"score":0,"creation_date":1660916226,"post_id":73415485,"comment_id":129653364,"body_markdown":"Can you provide the `docker run` command as well how you are trying to access the tomcat? But make sure that you map the port to host computer.","body":"Can you provide the <code>docker run</code> command as well how you are trying to access the tomcat? But make sure that you map the port to host computer."}],"owner":{"account_id":16785211,"reputation":73,"user_id":12134382,"display_name":"Mortadha BOUALLAGUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660905506,"creation_date":1660905506,"question_id":73415485,"body_markdown":"Iam Trying to Deploy JSF application on Tomcat9 running in docker \r\n\r\nthis is my docker file \r\n\r\n    From tomcat:9.0.65-jdk11-corretto-al2\r\n    RUN rm -rf /usr/local/tomcat/webapps/*\r\n    EXPOSE 8060\r\n    COPY ROOT.war /usr/local/tomcat/webapps/\r\n    CMD [&quot;catalina.sh&quot;,&quot;run&quot;]\r\n\r\nWhen i build the docker file The application starts inside Tomcat but it is stuck without errors in logs \r\n\r\n[![Docker Container Logs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5qMSw.png\r\n\r\n\r\nPlease Help what the problem might be\r\n\r\nThank you in advance . ","title":"Deploy War on Tomcat Running in Docker","body":"<p>Iam Trying to Deploy JSF application on Tomcat9 running in docker</p>\n<p>this is my docker file</p>\n<pre><code>From tomcat:9.0.65-jdk11-corretto-al2\nRUN rm -rf /usr/local/tomcat/webapps/*\nEXPOSE 8060\nCOPY ROOT.war /usr/local/tomcat/webapps/\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\n</code></pre>\n<p>When i build the docker file The application starts inside Tomcat but it is stuck without errors in logs</p>\n<p><a href=\"https://i.stack.imgur.com/5qMSw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qMSw.png\" alt=\"Docker Container Logs\" /></a></p>\n<p>Please Help what the problem might be</p>\n<p>Thank you in advance .</p>\n"},{"tags":["java","swing","jtable","mouseevent","actionlistener"],"comments":[{"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"score":0,"creation_date":1252058491,"post_id":1378096,"comment_id":20707744,"body_markdown":"JLabels haven&#180;t ActionListeners, but has MouseListener, add them and listen on mouseClick","body":"JLabels haven&#180;t ActionListeners, but has MouseListener, add them and listen on mouseClick"}],"answers":[{"tags":[],"owner":{"account_id":40959,"reputation":96687,"user_id":118903,"display_name":"Vinay Sajip"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1252055812,"creation_date":1252055812,"answer_id":1378120,"question_id":1378096,"body_markdown":"How about:\r\n\r\n    table.addMouseListener(new MouseAdapter() {\r\n      public void mouseClicked(MouseEvent e) {\r\n        if (e.getClickCount() == 2) {\r\n          JTable target = (JTable)e.getSource();\r\n          int row = target.getSelectedRow();\r\n          int column = target.getSelectedColumn();\r\n          // do some action if appropriate column\r\n        }\r\n      }\r\n    });","title":"ActionListener on JLabel or JTable cell","body":"<p>How about:</p>\n\n<pre><code>table.addMouseListener(new MouseAdapter() {\n  public void mouseClicked(MouseEvent e) {\n    if (e.getClickCount() == 2) {\n      JTable target = (JTable)e.getSource();\n      int row = target.getSelectedRow();\n      int column = target.getSelectedColumn();\n      // do some action if appropriate column\n    }\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1252106765,"creation_date":1252106765,"answer_id":1381944,"question_id":1378096,"body_markdown":"Basically the same suggestion as the one already accepted except:\r\n\r\na) you should handle mousePressed, not mouseClicked. A mouseClicked event is only fired when a mousePressed and mouseReleased event is generated at the same pixel location. You if the user moves the mouse even 1 pixel while double clicking you will not get the expected double click.\r\n\r\nb) Also you may want to consider using the columnAtPoint() and rowAtPoint() methods to get the clicked cell. Although it probably doesn&#39;t make a difference in this case, it will matter if you ever try to use a MouseListener for right mouse clicks, since the selection isn&#39;t changed. So if you get in the habit of using this method you won&#39;t have problems in the future.","title":"ActionListener on JLabel or JTable cell","body":"<p>Basically the same suggestion as the one already accepted except:</p>\n\n<p>a) you should handle mousePressed, not mouseClicked. A mouseClicked event is only fired when a mousePressed and mouseReleased event is generated at the same pixel location. You if the user moves the mouse even 1 pixel while double clicking you will not get the expected double click.</p>\n\n<p>b) Also you may want to consider using the columnAtPoint() and rowAtPoint() methods to get the clicked cell. Although it probably doesn't make a difference in this case, it will matter if you ever try to use a MouseListener for right mouse clicks, since the selection isn't changed. So if you get in the habit of using this method you won't have problems in the future.</p>\n"},{"tags":[],"owner":{"account_id":19642627,"reputation":33,"user_id":14378347,"display_name":"Simon Larsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660905483,"creation_date":1660905483,"answer_id":73415479,"question_id":1378096,"body_markdown":"as @camickr said in option b \r\nyou should use columnAtPoint() otherwise you can get unintended behaviour when clicking outside a cell but inside the table.","title":"ActionListener on JLabel or JTable cell","body":"<p>as @camickr said in option b\nyou should use columnAtPoint() otherwise you can get unintended behaviour when clicking outside a cell but inside the table.</p>\n"}],"owner":{"account_id":53713,"reputation":1785,"user_id":160634,"accept_rate":83,"display_name":"stefita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53446,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":1378120,"answer_count":3,"score":25,"last_activity_date":1660905483,"creation_date":1252055379,"question_id":1378096,"body_markdown":"I have a JTable with `JLabel[][]` as data. Now I want to detect a double click on either the JLabel or a table cell (but only in one of the columns). How can I add an Action/MouseListener on JLabel\trespectively table cell?","title":"ActionListener on JLabel or JTable cell","body":"<p>I have a JTable with <code>JLabel[][]</code> as data. Now I want to detect a double click on either the JLabel or a table cell (but only in one of the columns). How can I add an Action/MouseListener on JLabel   respectively table cell?</p>\n"},{"tags":["java","server","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":26059385,"reputation":140,"user_id":19760991,"display_name":"Seal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660905360,"creation_date":1660905360,"answer_id":73415450,"question_id":73409497,"body_markdown":"You need to add NMS and Mojang Authlib to the dependcy\r\n\r\nHere is a simple solution for you:\r\nTyping this instead of spigot-api adds both\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spigot&lt;/artifactId&gt;\r\n        &lt;version&gt;VERSION&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Customizing the TabList with Bukkit 1.8","body":"<p>You need to add NMS and Mojang Authlib to the dependcy</p>\n<p>Here is a simple solution for you:\nTyping this instead of spigot-api adds both</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n    &lt;artifactId&gt;spigot&lt;/artifactId&gt;\n    &lt;version&gt;VERSION&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24052926,"reputation":45,"user_id":18031156,"display_name":"Av32000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73415450,"answer_count":1,"score":0,"last_activity_date":1660905360,"creation_date":1660857164,"question_id":73409497,"body_markdown":"I&#39;m working on a UHC Minecraft plugin with Bukkit API 1.8\r\n\r\nI&#39;m looking to modify the TabList (Player List) to display the Plugin name and credits (and potentially the player&#39;s kill count if possible)\r\n\r\nSearching on the internet I found this fill :\r\nhttps://bukkit.org/threads/custom-player-lists-create-your-own-tab-list-display.429333/\r\n\r\nUnfortunately, this method regularly crashes my server when players open the TabList.\r\n\r\nI get this Error :\r\n```\r\n[22:53:51 WARN]: java.lang.NoSuchMethodException: com.mojang.authlib.properties.PropertyMap.removeAll(java.lang.String)\r\n[22:53:51 WARN]:        at java.lang.Class.getDeclaredMethod(Unknown Source)\r\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.getMethod(PlayerList.java:934)\r\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.invokeMethod(PlayerList.java:804)\r\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.invokeMethod(PlayerList.java:781)\r\n[22:53:51 WARN]:        at fr.av.codelyokouhc.PlayerList$1.callBack(PlayerList.java:513)\r\n[22:53:51 WARN]:        at fr.av.codelyokouhc.Skin$3$1.run(PlayerList.java:1129)\r\n[22:53:51 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\r\n[22:53:51 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:350)\r\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:723)\r\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374)\r\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654)\r\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557)\r\n[22:53:51 WARN]:        at java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nWith this code :\r\n```\r\nPlayerList list = new PlayerList(p, PlayerList.SIZE_FOUR);\r\nlist.initTable();\r\n\r\nlist.setHeaderFooter(&quot;&#167;bPlugin UHC&quot;, &quot;&#167;ePlugin by Av32000\\n   With the help of  \\n RedFly32   &quot;);\r\n```\r\n\r\nHere is the content of the Player List :\r\n[Playerlist.java](https://github.com/ZombieStriker/playerlistutil/blob/master/PlayerList.java)","title":"Customizing the TabList with Bukkit 1.8","body":"<p>I'm working on a UHC Minecraft plugin with Bukkit API 1.8</p>\n<p>I'm looking to modify the TabList (Player List) to display the Plugin name and credits (and potentially the player's kill count if possible)</p>\n<p>Searching on the internet I found this fill :\n<a href=\"https://bukkit.org/threads/custom-player-lists-create-your-own-tab-list-display.429333/\" rel=\"nofollow noreferrer\">https://bukkit.org/threads/custom-player-lists-create-your-own-tab-list-display.429333/</a></p>\n<p>Unfortunately, this method regularly crashes my server when players open the TabList.</p>\n<p>I get this Error :</p>\n<pre><code>[22:53:51 WARN]: java.lang.NoSuchMethodException: com.mojang.authlib.properties.PropertyMap.removeAll(java.lang.String)\n[22:53:51 WARN]:        at java.lang.Class.getDeclaredMethod(Unknown Source)\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.getMethod(PlayerList.java:934)\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.invokeMethod(PlayerList.java:804)\n[22:53:51 WARN]:        at fr.av.codelyokouhc.ReflectionUtil.invokeMethod(PlayerList.java:781)\n[22:53:51 WARN]:        at fr.av.codelyokouhc.PlayerList$1.callBack(PlayerList.java:513)\n[22:53:51 WARN]:        at fr.av.codelyokouhc.Skin$3$1.run(PlayerList.java:1129)\n[22:53:51 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftTask.run(CraftTask.java:71)\n[22:53:51 WARN]:        at org.bukkit.craftbukkit.v1_8_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:350)\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:723)\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374)\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654)\n[22:53:51 WARN]:        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557)\n[22:53:51 WARN]:        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>With this code :</p>\n<pre><code>PlayerList list = new PlayerList(p, PlayerList.SIZE_FOUR);\nlist.initTable();\n\nlist.setHeaderFooter(&quot;§bPlugin UHC&quot;, &quot;§ePlugin by Av32000\\n   With the help of  \\n RedFly32   &quot;);\n</code></pre>\n<p>Here is the content of the Player List :\n<a href=\"https://github.com/ZombieStriker/playerlistutil/blob/master/PlayerList.java\" rel=\"nofollow noreferrer\">Playerlist.java</a></p>\n"},{"tags":["java","log4j2","appender","rollingfileappender"],"answers":[{"tags":[],"owner":{"account_id":4518312,"reputation":106,"user_id":3672430,"display_name":"user3672430"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660905293,"creation_date":1401807216,"answer_id":24018348,"question_id":24011143,"body_markdown":"The key to understanding is here \r\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity\r\n\r\nThe root logger is a parent of the logger &quot;metrics&quot;. The log event of &quot;metrics&quot; is then passed to root logger&#39;s appender (&quot;STDOUT&quot;). This is known as additivity. It is possible to disable it by setting the additivity attribute on the logger &quot;metrics&quot; to false.\r\n```xml\r\n    &lt;logger name=&quot;metrics&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;file&quot;/&gt;\r\n    &lt;/logger&gt;\r\n```\r\n","title":"Disable custom logger print in console (Log4j2)","body":"<p>The key to understanding is here\n<a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity</a></p>\n<p>The root logger is a parent of the logger &quot;metrics&quot;. The log event of &quot;metrics&quot; is then passed to root logger's appender (&quot;STDOUT&quot;). This is known as additivity. It is possible to disable it by setting the additivity attribute on the logger &quot;metrics&quot; to false.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;logger name=&quot;metrics&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;file&quot;/&gt;\n    &lt;/logger&gt;\n</code></pre>\n"}],"owner":{"account_id":2659061,"reputation":1852,"user_id":2299149,"accept_rate":100,"display_name":"slisnychyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24018348,"answer_count":1,"score":4,"last_activity_date":1660905293,"creation_date":1401786355,"question_id":24011143,"body_markdown":"Can we dsable log print for some customm creating Logger?\r\n\r\nI have two loggers:\r\n\r\n1. **Root** logger\r\n\r\n   \r\n\r\n2. Metrics Logger (which prints into **file**)\r\n\r\n    \r\n\r\n```xml\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;File name=&quot;file&quot; fileName=&quot;app.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m %ex%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/File&gt;\r\n        \r\n        &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-mm-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;logger name=&quot;metrics&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;file&quot;/&gt;\r\n        &lt;/logger&gt;      \r\n\r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\nI want to disable print messages in console for **File logger**","title":"Disable custom logger print in console (Log4j2)","body":"<p>Can we dsable log print for some customm creating Logger?</p>\n<p>I have two loggers:</p>\n<ol>\n<li><p><strong>Root</strong> logger</p>\n</li>\n<li><p>Metrics Logger (which prints into <strong>file</strong>)</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration status=&quot;WARN&quot;&gt;\n\n    &lt;Appenders&gt;\n        &lt;File name=&quot;file&quot; fileName=&quot;app.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m %ex%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/File&gt;\n        \n        &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-mm-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n\n        &lt;logger name=&quot;metrics&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;file&quot;/&gt;\n        &lt;/logger&gt;      \n\n        &lt;root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n\n    &lt;/Loggers&gt;\n\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>I want to disable print messages in console for <strong>File logger</strong></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":5,"creation_date":1660905413,"post_id":73415378,"comment_id":129649346,"body_markdown":"Does this answer your question? [Javafx make combobox expand upward](https://stackoverflow.com/questions/31034212/javafx-make-combobox-expand-upward)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31034212/javafx-make-combobox-expand-upward\">Javafx make combobox expand upward</a>"},{"owner":{"account_id":15223507,"reputation":323,"user_id":10984766,"display_name":"ValentinDP"},"score":0,"creation_date":1660909206,"post_id":73415378,"comment_id":129650670,"body_markdown":"@mikyll98 I use AdoptOpenJDK11 so I don&#39;t really understand this should be solved","body":"@mikyll98 I use AdoptOpenJDK11 so I don&#39;t really understand this should be solved"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1660912914,"post_id":73415378,"comment_id":129652088,"body_markdown":"It _could_ be a regression, but I can&#39;t reproduce it in recent version of Java 8, 11 or 17. If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"It <i>could</i> be a regression, but I can&#39;t reproduce it in recent version of Java 8, 11 or 17. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/73415378/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1660928503,"post_id":73415378,"comment_id":129657637,"body_markdown":"Try using a [standard JavaFX Combo Box](https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/ComboBox.html) in a recent JavaFX distribution, rather than a 3rd party material legacy combo box.  Does a recent version of the standard combo box work?","body":"Try using a <a href=\"https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/ComboBox.html\" rel=\"nofollow noreferrer\">standard JavaFX Combo Box</a> in a recent JavaFX distribution, rather than a 3rd party material legacy combo box.  Does a recent version of the standard combo box work?"}],"owner":{"account_id":15223507,"reputation":323,"user_id":10984766,"display_name":"ValentinDP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660905101,"creation_date":1660905001,"question_id":73415378,"body_markdown":"I have a combobox in my application, it is located at the bottom of the app (in full screen).\r\n\r\nI find myself sometimes with the listcell coming out of the screen.\r\n\r\nIs it possible to force the listcell to open upwards and not downwards? \r\n\r\nI use MFXLegacyComboBox item.","title":"How to change listcell opening orientation in combobox in JavaFX?","body":"<p>I have a combobox in my application, it is located at the bottom of the app (in full screen).</p>\n<p>I find myself sometimes with the listcell coming out of the screen.</p>\n<p>Is it possible to force the listcell to open upwards and not downwards?</p>\n<p>I use MFXLegacyComboBox item.</p>\n"},{"tags":["java","spring","cassandra","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632782074,"creation_date":1632782074,"answer_id":69353931,"question_id":69353260,"body_markdown":"This isn&#39;t possible since your app has a dependency on being connected to the database before it can start.\r\n\r\nThe beans can&#39;t be instantiated unless the driver is connected to Cassandra. Cheers!","title":"Spring Boot application should start even if Cassandra is down","body":"<p>This isn't possible since your app has a dependency on being connected to the database before it can start.</p>\n<p>The beans can't be instantiated unless the driver is connected to Cassandra. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":12654304,"reputation":11,"user_id":9531651,"display_name":"Igor Ryabchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660904755,"creation_date":1660823735,"answer_id":73402669,"question_id":69353260,"body_markdown":"In case anyone finds their way to this question, like I did, with the same need - ie start Spring app if Cassandra DB is down - it is possible!\r\n\r\nIf your set up utilises Cassandra Auto Configuration, the solution is in this question:\r\nhttps://stackoverflow.com/questions/63169144/spring-boot-and-spring-data-with-cassandra-continue-on-failed-database-connecti\r\n\r\nThis very clever approach by spx01 fakes the CqlSession and it works.\r\n\r\nIf your set up utilises AbstractReactiveCassandraConfiguration, like mine, then you need to:\r\n\r\n 1. Catch the AllNodesFailedException in CqlSessionFactoryBean like so:\r\n\r\n```java\r\n    @Override\r\n    @Bean\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n        CqlSessionFactoryBean cassandraSession = super.cassandraSession();\r\n\r\n        cassandraSession.setUsername(env.getProperty(&quot;spring.data.cassandra.username&quot;, &quot;monkey&quot;));\r\n        cassandraSession.setPassword(env.getProperty(&quot;spring.data.cassandra.password&quot;, &quot;likesBananas&quot;));\r\n        try {\r\n            cassandraSession.afterPropertiesSet(); //this is needed so that we can trigger the exception before Spring tries to wire in the bean\r\n            cassandraSession.destroy() //to close tcp connections/sessions opened by previous line\r\n        } catch(AllNodesFailedException e) {\r\n            return new NoOpCqlSessionFactoryBean();\r\n        }\r\n        return cassandraSession;\r\n    }\r\n```\r\n\r\n 2. Set up your NoOp bean\r\n\r\nHere, we are utilising DatabaseNotConnectedFakeCqlSession from spx01&#39;s solution mentioned above but in amended form (see point 3).\r\n\r\n```java\r\npublic class NoOpCqlSessionFactoryBean extends CqlSessionFactoryBean {\r\n\r\n    @Override\r\n    public CqlSession getObject() {\r\n        return new DatabaseNotConnectedFakeCqlSession();\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n\r\n    }\r\n}\r\n```\r\n 3. Set up a fake cql session\r\n```java\r\npublic class DatabaseNotConnectedFakeCqlSession implements CqlSession {\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getName() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Metadata getMetadata() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean isSchemaMetadataEnabled() {\r\n        return false;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Metadata&gt; setSchemaMetadataEnabled(@Nullable Boolean newValue) {\r\n        return CompletableFuture.completedStage(new Metadata() {\r\n            @NonNull\r\n            @Override\r\n            public Map&lt;UUID, Node&gt; getNodes() {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public Map&lt;CqlIdentifier, KeyspaceMetadata&gt; getKeyspaces() {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public Optional&lt;TokenMap&gt; getTokenMap() {\r\n                return Optional.empty();\r\n            }\r\n        });\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Metadata&gt; refreshSchemaAsync() {\r\n        return CompletableFuture.completedStage(new Metadata() {\r\n            @NonNull\r\n            @Override\r\n            public Map&lt;UUID, Node&gt; getNodes() {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public Map&lt;CqlIdentifier, KeyspaceMetadata&gt; getKeyspaces() {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public Optional&lt;TokenMap&gt; getTokenMap() {\r\n                return Optional.empty();\r\n            }\r\n        });\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Boolean&gt; checkSchemaAgreementAsync() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DriverContext getContext() {\r\n        return new NoOpDriverContext();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Optional&lt;CqlIdentifier&gt; getKeyspace() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Optional&lt;Metrics&gt; getMetrics() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public &lt;RequestT extends Request, ResultT&gt; ResultT execute(\r\n        @NonNull RequestT request,\r\n        @NonNull GenericType&lt;ResultT&gt; resultType\r\n    ) {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Void&gt; closeFuture() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Void&gt; closeAsync() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CompletionStage&lt;Void&gt; forceCloseAsync() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n 4. Set up no-op driver context\r\n\r\n```java\r\npublic class NoOpDriverContext implements DriverContext {\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getSessionName() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DriverConfig getConfig() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DriverConfigLoader getConfigLoader() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Map&lt;String, LoadBalancingPolicy&gt; getLoadBalancingPolicies() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Map&lt;String, RetryPolicy&gt; getRetryPolicies() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Map&lt;String, SpeculativeExecutionPolicy&gt; getSpeculativeExecutionPolicies() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TimestampGenerator getTimestampGenerator() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ReconnectionPolicy getReconnectionPolicy() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public AddressTranslator getAddressTranslator() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Optional&lt;AuthProvider&gt; getAuthProvider() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Optional&lt;SslEngineFactory&gt; getSslEngineFactory() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RequestTracker getRequestTracker() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RequestThrottler getRequestThrottler() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public NodeStateListener getNodeStateListener() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SchemaChangeListener getSchemaChangeListener() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProtocolVersion getProtocolVersion() {\r\n        return null;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CodecRegistry getCodecRegistry() {\r\n        return new CodecRegistry() {\r\n            @NonNull\r\n            @Override\r\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(\r\n                @NonNull DataType cqlType,\r\n                @NonNull GenericType&lt;JavaTypeT&gt; javaType\r\n            ) {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull DataType cqlType) {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull GenericType&lt;JavaTypeT&gt; javaType) {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull DataType cqlType, @NonNull JavaTypeT value) {\r\n                return null;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull JavaTypeT value) {\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd that should allow you to start your app even when Cassandra is down.","title":"Spring Boot application should start even if Cassandra is down","body":"<p>In case anyone finds their way to this question, like I did, with the same need - ie start Spring app if Cassandra DB is down - it is possible!</p>\n<p>If your set up utilises Cassandra Auto Configuration, the solution is in this question:\n<a href=\"https://stackoverflow.com/questions/63169144/spring-boot-and-spring-data-with-cassandra-continue-on-failed-database-connecti\">Spring Boot and Spring Data with Cassandra: Continue on failed database connection</a></p>\n<p>This very clever approach by spx01 fakes the CqlSession and it works.</p>\n<p>If your set up utilises AbstractReactiveCassandraConfiguration, like mine, then you need to:</p>\n<ol>\n<li>Catch the AllNodesFailedException in CqlSessionFactoryBean like so:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    @Bean\n    public CqlSessionFactoryBean cassandraSession() {\n        CqlSessionFactoryBean cassandraSession = super.cassandraSession();\n\n        cassandraSession.setUsername(env.getProperty(&quot;spring.data.cassandra.username&quot;, &quot;monkey&quot;));\n        cassandraSession.setPassword(env.getProperty(&quot;spring.data.cassandra.password&quot;, &quot;likesBananas&quot;));\n        try {\n            cassandraSession.afterPropertiesSet(); //this is needed so that we can trigger the exception before Spring tries to wire in the bean\n            cassandraSession.destroy() //to close tcp connections/sessions opened by previous line\n        } catch(AllNodesFailedException e) {\n            return new NoOpCqlSessionFactoryBean();\n        }\n        return cassandraSession;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Set up your NoOp bean</li>\n</ol>\n<p>Here, we are utilising DatabaseNotConnectedFakeCqlSession from spx01's solution mentioned above but in amended form (see point 3).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NoOpCqlSessionFactoryBean extends CqlSessionFactoryBean {\n\n    @Override\n    public CqlSession getObject() {\n        return new DatabaseNotConnectedFakeCqlSession();\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Set up a fake cql session</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseNotConnectedFakeCqlSession implements CqlSession {\n\n\n    @NonNull\n    @Override\n    public String getName() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public Metadata getMetadata() {\n        return null;\n    }\n\n    @Override\n    public boolean isSchemaMetadataEnabled() {\n        return false;\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Metadata&gt; setSchemaMetadataEnabled(@Nullable Boolean newValue) {\n        return CompletableFuture.completedStage(new Metadata() {\n            @NonNull\n            @Override\n            public Map&lt;UUID, Node&gt; getNodes() {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public Map&lt;CqlIdentifier, KeyspaceMetadata&gt; getKeyspaces() {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public Optional&lt;TokenMap&gt; getTokenMap() {\n                return Optional.empty();\n            }\n        });\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Metadata&gt; refreshSchemaAsync() {\n        return CompletableFuture.completedStage(new Metadata() {\n            @NonNull\n            @Override\n            public Map&lt;UUID, Node&gt; getNodes() {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public Map&lt;CqlIdentifier, KeyspaceMetadata&gt; getKeyspaces() {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public Optional&lt;TokenMap&gt; getTokenMap() {\n                return Optional.empty();\n            }\n        });\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Boolean&gt; checkSchemaAgreementAsync() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public DriverContext getContext() {\n        return new NoOpDriverContext();\n    }\n\n    @NonNull\n    @Override\n    public Optional&lt;CqlIdentifier&gt; getKeyspace() {\n        return Optional.empty();\n    }\n\n    @NonNull\n    @Override\n    public Optional&lt;Metrics&gt; getMetrics() {\n        return Optional.empty();\n    }\n\n    @Nullable\n    @Override\n    public &lt;RequestT extends Request, ResultT&gt; ResultT execute(\n        @NonNull RequestT request,\n        @NonNull GenericType&lt;ResultT&gt; resultType\n    ) {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Void&gt; closeFuture() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Void&gt; closeAsync() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public CompletionStage&lt;Void&gt; forceCloseAsync() {\n        return null;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Set up no-op driver context</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class NoOpDriverContext implements DriverContext {\n\n\n    @NonNull\n    @Override\n    public String getSessionName() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public DriverConfig getConfig() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public DriverConfigLoader getConfigLoader() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public Map&lt;String, LoadBalancingPolicy&gt; getLoadBalancingPolicies() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public Map&lt;String, RetryPolicy&gt; getRetryPolicies() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public Map&lt;String, SpeculativeExecutionPolicy&gt; getSpeculativeExecutionPolicies() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public TimestampGenerator getTimestampGenerator() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public ReconnectionPolicy getReconnectionPolicy() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public AddressTranslator getAddressTranslator() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public Optional&lt;AuthProvider&gt; getAuthProvider() {\n        return Optional.empty();\n    }\n\n    @NonNull\n    @Override\n    public Optional&lt;SslEngineFactory&gt; getSslEngineFactory() {\n        return Optional.empty();\n    }\n\n    @NonNull\n    @Override\n    public RequestTracker getRequestTracker() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public RequestThrottler getRequestThrottler() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public NodeStateListener getNodeStateListener() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public SchemaChangeListener getSchemaChangeListener() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public ProtocolVersion getProtocolVersion() {\n        return null;\n    }\n\n    @NonNull\n    @Override\n    public CodecRegistry getCodecRegistry() {\n        return new CodecRegistry() {\n            @NonNull\n            @Override\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(\n                @NonNull DataType cqlType,\n                @NonNull GenericType&lt;JavaTypeT&gt; javaType\n            ) {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull DataType cqlType) {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull GenericType&lt;JavaTypeT&gt; javaType) {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull DataType cqlType, @NonNull JavaTypeT value) {\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public &lt;JavaTypeT&gt; TypeCodec&lt;JavaTypeT&gt; codecFor(@NonNull JavaTypeT value) {\n                return null;\n            }\n        };\n    }\n}\n</code></pre>\n<p>And that should allow you to start your app even when Cassandra is down.</p>\n"}],"owner":{"account_id":3011352,"reputation":15,"user_id":2554799,"display_name":"Dhaval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353931,"answer_count":2,"score":0,"last_activity_date":1660904755,"creation_date":1632776799,"question_id":69353260,"body_markdown":"I want to make sure that my App gets started even if Cassandra is down. \r\nWhat is the best way to handle that? \r\n\r\nI am using ```AbstractReactiveCassandraConfiguration``` and multiple keyspace implementation. \r\n\r\n```\r\n    @Bean\r\n    @NonNull\r\n    @Override\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n        final CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\r\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\r\n        cqlSessionFactoryBean.setLocalDatacenter(localDataCenter);\r\n        cqlSessionFactoryBean.setUsername(username);\r\n        cqlSessionFactoryBean.setPassword(password);\r\n        return cqlSessionFactoryBean;\r\n    }\r\n```\r\nKeyspace is set at the individual keyspace config file. \r\n\r\nKeyspace 1 and keyspace 2 with similar kinds of configurations.\r\n```\r\n@Configuration\r\n@EnableReactiveCassandraRepositories(basePackages = &quot;com.abc.repository.cassandra.xyz&quot;, reactiveCassandraTemplateRef = &quot;keyspaceXYZTemplate&quot;)\r\npublic class XYZCassandraConfiguration extends CassandraConfig {\r\n\r\n    @Override\r\n    protected String getKeyspaceName() {\r\n        return &quot;KEYSPACE_NAME&quot;;\r\n    }\r\n\r\n    @Bean(&quot;keyspaceXYZTemplate&quot;)\r\n    public ReactiveCassandraTemplate reactiveCassandraTemplate(@Qualifier(&quot;xyzBean&quot;) CqlSessionFactoryBean cqlSessionFactoryBean) {\r\n        final ReactiveSession reactiveSession = new DefaultBridgedReactiveSession(cqlSessionFactoryBean.getObject());\r\n        return new ReactiveCassandraTemplate(reactiveSession, cassandraConverter());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    @Primary\r\n    @Bean(name = &quot;xyzBean&quot;)\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n        final CqlSessionFactoryBean cqlSessionFactoryBean = super.cassandraSession();\r\n        cqlSessionFactoryBean.setKeyspaceName(getKeyspaceName());\r\n        return cqlSessionFactoryBean;\r\n    }\r\n}\r\n```\r\n\r\nStack Trace: When the app starts and Cassandra is down.\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean\r\nInvocation of init method failed; nested exception is com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=localhost:9042, hostId=null, hashCode=70c95ec9): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\r\n```\r\n\r\n","title":"Spring Boot application should start even if Cassandra is down","body":"<p>I want to make sure that my App gets started even if Cassandra is down.\nWhat is the best way to handle that?</p>\n<p>I am using <code>AbstractReactiveCassandraConfiguration</code> and multiple keyspace implementation.</p>\n<pre><code>    @Bean\n    @NonNull\n    @Override\n    public CqlSessionFactoryBean cassandraSession() {\n        final CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\n        cqlSessionFactoryBean.setLocalDatacenter(localDataCenter);\n        cqlSessionFactoryBean.setUsername(username);\n        cqlSessionFactoryBean.setPassword(password);\n        return cqlSessionFactoryBean;\n    }\n</code></pre>\n<p>Keyspace is set at the individual keyspace config file.</p>\n<p>Keyspace 1 and keyspace 2 with similar kinds of configurations.</p>\n<pre><code>@Configuration\n@EnableReactiveCassandraRepositories(basePackages = &quot;com.abc.repository.cassandra.xyz&quot;, reactiveCassandraTemplateRef = &quot;keyspaceXYZTemplate&quot;)\npublic class XYZCassandraConfiguration extends CassandraConfig {\n\n    @Override\n    protected String getKeyspaceName() {\n        return &quot;KEYSPACE_NAME&quot;;\n    }\n\n    @Bean(&quot;keyspaceXYZTemplate&quot;)\n    public ReactiveCassandraTemplate reactiveCassandraTemplate(@Qualifier(&quot;xyzBean&quot;) CqlSessionFactoryBean cqlSessionFactoryBean) {\n        final ReactiveSession reactiveSession = new DefaultBridgedReactiveSession(cqlSessionFactoryBean.getObject());\n        return new ReactiveCassandraTemplate(reactiveSession, cassandraConverter());\n    }\n\n    @NonNull\n    @Override\n    @Primary\n    @Bean(name = &quot;xyzBean&quot;)\n    public CqlSessionFactoryBean cassandraSession() {\n        final CqlSessionFactoryBean cqlSessionFactoryBean = super.cassandraSession();\n        cqlSessionFactoryBean.setKeyspaceName(getKeyspaceName());\n        return cqlSessionFactoryBean;\n    }\n}\n</code></pre>\n<p>Stack Trace: When the app starts and Cassandra is down.</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean\nInvocation of init method failed; nested exception is com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=localhost:9042, hostId=null, hashCode=70c95ec9): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\n</code></pre>\n"},{"tags":["java","decompiler"],"answers":[{"tags":[],"owner":{"account_id":16129015,"reputation":1243,"user_id":11643124,"display_name":"Bando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660904461,"creation_date":1660904461,"answer_id":73415272,"question_id":63895990,"body_markdown":"I got a similar issue for Java Decompiler JD-GUI.\r\n\r\nBelow, a solution that I found, working for me.\r\n\r\n&gt; I found that there is something about security policy which prohibits\r\n&gt; jd-gui from accessing certain directory structures, like ~/Documents\r\n&gt; for example. It will not see any directory structure beyond it. If I\r\n&gt; copy the file structure I want to examine into another accessible dir,\r\n&gt; like /tmp/ then I am able to browse.\r\n\r\nSource: https://github.com/java-decompiler/jd-gui/issues/335.","title":"JD GUI decompiler is not working through any other file open method other than drag and drop on mac","body":"<p>I got a similar issue for Java Decompiler JD-GUI.</p>\n<p>Below, a solution that I found, working for me.</p>\n<blockquote>\n<p>I found that there is something about security policy which prohibits\njd-gui from accessing certain directory structures, like ~/Documents\nfor example. It will not see any directory structure beyond it. If I\ncopy the file structure I want to examine into another accessible dir,\nlike /tmp/ then I am able to browse.</p>\n</blockquote>\n<p>Source: <a href=\"https://github.com/java-decompiler/jd-gui/issues/335\" rel=\"nofollow noreferrer\">https://github.com/java-decompiler/jd-gui/issues/335</a>.</p>\n"}],"owner":{"account_id":14556449,"reputation":51,"user_id":10513853,"display_name":"Anupam Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660904461,"creation_date":1600149658,"question_id":63895990,"body_markdown":"JD GUI decompiler is not working through any other file open method other than drag and drop on mac when I am trying to open a jar file.","title":"JD GUI decompiler is not working through any other file open method other than drag and drop on mac","body":"<p>JD GUI decompiler is not working through any other file open method other than drag and drop on mac when I am trying to open a jar file.</p>\n"},{"tags":["java","hyperledger-fabric","hyperledger-chaincode"],"answers":[{"tags":[],"owner":{"account_id":5540665,"reputation":3,"user_id":5092182,"display_name":"ibrahimq21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660739308,"creation_date":1660736839,"answer_id":73387945,"question_id":73386750,"body_markdown":"you need to mention the complete directory from chaincode Example:\r\n```\r\n    &lt;mainClass&gt;chaincode.example.SimpleChaincode&lt;/mainClass&gt;\r\n```\r\n","title":"Cannot istantiate chaincode docker container due to missing Main method in contract class","body":"<p>you need to mention the complete directory from chaincode Example:</p>\n<pre><code>    &lt;mainClass&gt;chaincode.example.SimpleChaincode&lt;/mainClass&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17044325,"reputation":107,"user_id":12331525,"display_name":"ultracode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660903523,"creation_date":1660903032,"answer_id":73415013,"question_id":73386750,"body_markdown":"The maven-shade-plugin transformer configuration the `mainClass` tag must be set like this :\r\n```xml\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n   &lt;mainClass&gt;org.hyperledger.fabric.contract.ContractRouter&lt;/mainClass&gt;\r\n&lt;/transformer&gt;\r\n```\r\nI was missled by the [Maven example](https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-maven/pom.xml) for the 2.2 release in which the maven shade plugin transformer is set like this:\r\n```xml\r\n\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n   &lt;mainClass&gt;chaincode.example.SimpleChaincode&lt;/mainClass&gt;\r\n&lt;/transformer&gt;\r\n\r\n```\r\n In later versions the error was fixed, also the [Gradle example](https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-gradle/build.gradle) in the same release has the correct setting. ","title":"Cannot istantiate chaincode docker container due to missing Main method in contract class","body":"<p>The maven-shade-plugin transformer configuration the <code>mainClass</code> tag must be set like this :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n   &lt;mainClass&gt;org.hyperledger.fabric.contract.ContractRouter&lt;/mainClass&gt;\n&lt;/transformer&gt;\n</code></pre>\n<p>I was missled by the <a href=\"https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-maven/pom.xml\" rel=\"nofollow noreferrer\">Maven example</a> for the 2.2 release in which the maven shade plugin transformer is set like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n   &lt;mainClass&gt;chaincode.example.SimpleChaincode&lt;/mainClass&gt;\n&lt;/transformer&gt;\n\n</code></pre>\n<p>In later versions the error was fixed, also the <a href=\"https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-gradle/build.gradle\" rel=\"nofollow noreferrer\">Gradle example</a> in the same release has the correct setting.</p>\n"}],"owner":{"account_id":17044325,"reputation":107,"user_id":12331525,"display_name":"ultracode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73415013,"answer_count":2,"score":1,"last_activity_date":1660903523,"creation_date":1660731580,"question_id":73386750,"body_markdown":"The chaincode container cannot start (after committing to the channel) due to the following error:\r\n```\r\nError: Main method not found in class mypackage.MyChaincodeClass, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n```\r\n\r\nI&#39;m working with fabric-java-chaincode 2.2.3 on a 2.2.2 network. \r\n\r\nSo the problem seems self explanatory but I&#39;m using the example on [Maven java chaincode \r\n on GitHub][1] as a guideline and I adapted the maven shade plugin configuration: \r\n\r\n```xml\r\n &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;finalName&gt;chaincode&lt;/finalName&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer                                    \r\nimplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;mypackage.MyChaincodeClass&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;                                    \r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nthe tree of my project is the following:\r\n```bash\r\n.\r\n└── project-repo/\r\n    ├── chaincode/\r\n    │   ├── src/\r\n    │   │   └── main/\r\n    │   │       └── java/\r\n    │   │           └── mypackage/\r\n    │   │               └── MyChaincodeClass.java\r\n    │   └── pom.xml\r\n    └── another-module/\r\n        └── ...\r\n```\r\n\r\nI tried to start the uber-jar using `java -jar chaincode.jar` and I get the same error as the one printed in the container logs.\r\n\r\nThe manifest in the generate uber-jar looks good to me: \r\n```\r\nManifest-Version: 1.0\r\nArchiver-Version: Plexus Archiver\r\nCreated-By: Apache Maven 3.6.3\r\nBuilt-By: ultracode\r\nBuild-Jdk: 11.0.9\r\nMain-Class: mypackage.MyChaincodeClass\r\n```\r\n\r\nThe chaincode uses only the `@Contract` and `@Transaction` annotation and implements the `ContractInterface` interface (I&#39;m not using the `@Default` annotation beacause this chaincode is not the default one in the channel) \r\n \r\n  [1]: https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-maven/pom.xml","title":"Cannot istantiate chaincode docker container due to missing Main method in contract class","body":"<p>The chaincode container cannot start (after committing to the channel) due to the following error:</p>\n<pre><code>Error: Main method not found in class mypackage.MyChaincodeClass, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n<p>I'm working with fabric-java-chaincode 2.2.3 on a 2.2.2 network.</p>\n<p>So the problem seems self explanatory but I'm using the example on <a href=\"https://github.com/hyperledger/fabric-chaincode-java/blob/release-2.2/examples/fabric-contract-example-maven/pom.xml\" rel=\"nofollow noreferrer\">Maven java chaincode\non GitHub</a> as a guideline and I adapted the maven shade plugin configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;finalName&gt;chaincode&lt;/finalName&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer                                    \nimplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;mypackage.MyChaincodeClass&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;                                    \n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>the tree of my project is the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>.\n└── project-repo/\n    ├── chaincode/\n    │   ├── src/\n    │   │   └── main/\n    │   │       └── java/\n    │   │           └── mypackage/\n    │   │               └── MyChaincodeClass.java\n    │   └── pom.xml\n    └── another-module/\n        └── ...\n</code></pre>\n<p>I tried to start the uber-jar using <code>java -jar chaincode.jar</code> and I get the same error as the one printed in the container logs.</p>\n<p>The manifest in the generate uber-jar looks good to me:</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.6.3\nBuilt-By: ultracode\nBuild-Jdk: 11.0.9\nMain-Class: mypackage.MyChaincodeClass\n</code></pre>\n<p>The chaincode uses only the <code>@Contract</code> and <code>@Transaction</code> annotation and implements the <code>ContractInterface</code> interface (I'm not using the <code>@Default</code> annotation beacause this chaincode is not the default one in the channel)</p>\n"},{"tags":["java","curl","cmd","httpclient"],"comments":[{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1660898575,"post_id":73413790,"comment_id":129647136,"body_markdown":"Would you mind re-phrasing your entire question? Is pretty unclear what you are actually asking - you&#39;re demonstrating the correct usage of self-written Spring REST controllers with a CURL client and ... want to know how you did that (?)\n\nAlso : i recommend using a proper translator-service like DeepL - you&#39;re obviously struggling with the english language, thats very OK. Just try to use available services; we all do.","body":"Would you mind re-phrasing your entire question? Is pretty unclear what you are actually asking - you&#39;re demonstrating the correct usage of self-written Spring REST controllers with a CURL client and ... want to know how you did that (?)  Also : i recommend using a proper translator-service like DeepL - you&#39;re obviously struggling with the english language, thats very OK. Just try to use available services; we all do."},{"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"score":0,"creation_date":1660899319,"post_id":73413790,"comment_id":129647390,"body_markdown":"Sorry for the confusion! I know that I can use curl to do http request to Spring REST controllers. I just wonder if I can add one more step to this process, which is using HttpClient Class. Just by using curl, I can communicate directly with Spring Rest Controller. Can I use cmd to control Rest Client I make with Http Client Class and this Http Client Class can go to Spring Rest Controller?","body":"Sorry for the confusion! I know that I can use curl to do http request to Spring REST controllers. I just wonder if I can add one more step to this process, which is using HttpClient Class. Just by using curl, I can communicate directly with Spring Rest Controller. Can I use cmd to control Rest Client I make with Http Client Class and this Http Client Class can go to Spring Rest Controller?"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1660899566,"post_id":73413790,"comment_id":129647482,"body_markdown":"Im afraid your sentences are somewhat unintelligible. Please use some kind of translator service.\nAre you trying to start HTTP calls in the REST controller-method or do you want to redirect certain calls to the REST method to another controller .... ?","body":"Im afraid your sentences are somewhat unintelligible. Please use some kind of translator service. Are you trying to start HTTP calls in the REST controller-method or do you want to redirect certain calls to the REST method to another controller .... ?"},{"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"score":0,"creation_date":1660900481,"post_id":73413790,"comment_id":129647782,"body_markdown":"I want to redirect certain calls to the REST method to another controller. Thanks for the clarification","body":"I want to redirect certain calls to the REST method to another controller. Thanks for the clarification"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1660903131,"post_id":73413790,"comment_id":129648604,"body_markdown":"You can do it all, and you can do it using curl. But the complexity will eat your energy. Use a proper library for that.","body":"You can do it all, and you can do it using curl. But the complexity will eat your energy. Use a proper library for that."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660898266,"creation_date":1660898266,"answer_id":73414008,"question_id":73413790,"body_markdown":"Of course a java application can do http requests by executing curl. See https://stackoverflow.com/questions/47638990/execute-curl-from-java.\r\n\r\nBut I guess the effort of integrating curl outperforms direct handling of HTTP requests in Java. You have better performance and control over the communication altogether. \r\n\r\nI&#39;ve had quite some success using [Apache httpclient][1].\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.1.x/","title":"Can cmd curl and java.net.http.HttpClient be used together in Java?","body":"<p>Of course a java application can do http requests by executing curl. See <a href=\"https://stackoverflow.com/questions/47638990/execute-curl-from-java\">Execute Curl from Java</a>.</p>\n<p>But I guess the effort of integrating curl outperforms direct handling of HTTP requests in Java. You have better performance and control over the communication altogether.</p>\n<p>I've had quite some success using <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache httpclient</a>.</p>\n"},{"tags":[],"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660903410,"creation_date":1660903410,"answer_id":73415082,"question_id":73413790,"body_markdown":"Apparently what you actually are looking for is this : \r\nhttps://www.baeldung.com/spring-redirect-and-forward\r\n\r\n     @GetMapping(&quot;/redirectWithRedirectPrefix&quot;)\r\n    public ModelAndView redirectWithUsingRedirectPrefix(ModelMap model) {\r\n        model.addAttribute(&quot;attribute&quot;, &quot;redirectWithRedirectPrefix&quot;);\r\n        return new ModelAndView(&quot;redirect:/redirectedUrl&quot;, model);\r\n    }","title":"Can cmd curl and java.net.http.HttpClient be used together in Java?","body":"<p>Apparently what you actually are looking for is this :\n<a href=\"https://www.baeldung.com/spring-redirect-and-forward\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-redirect-and-forward</a></p>\n<pre><code> @GetMapping(&quot;/redirectWithRedirectPrefix&quot;)\npublic ModelAndView redirectWithUsingRedirectPrefix(ModelMap model) {\n    model.addAttribute(&quot;attribute&quot;, &quot;redirectWithRedirectPrefix&quot;);\n    return new ModelAndView(&quot;redirect:/redirectedUrl&quot;, model);\n}\n</code></pre>\n"}],"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660903410,"creation_date":1660897188,"question_id":73413790,"body_markdown":"I&#39;m trying to understand how cmd ```curl``` and ```HttpClient(java.net.http.*)``` class can work together in Java..\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/team&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:8081&quot;)\r\npublic class TeamController {\r\n    @Autowired\r\n    TeamService teamService;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; addNewTeam(@RequestBody Team newTeam) {\r\n        Team team = new Team();\r\n        try {\r\n            team= teamService.addNewTeam(newTeam);\r\n        } catch(TeamAlreadyExistException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(team, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;?&gt; getAllTeams() {\r\n        List&lt;Team&gt; teams = teamService.getAllTeams();\r\n        return new ResponseEntity&lt;&gt;(teams, HttpStatus.OK);\r\n    }\r\n    \r\n}\r\n```\r\nIf I have a Controller like this in my project and just by using cmd curl itself,\r\nI can get the desired outcome I want.. like this below..\r\n```\r\nMyPath&gt;curl -X GET &quot;http://localhost:8081/api/team&quot;\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;team3&quot;}]\r\n```\r\nI&#39;m trying not to use Postman and try to work with HttpClient Class and Cmd..And I think\r\nIf I have @RestController and the cmd.. http request is just find without HttpClient..\r\nIs there any way that I can incorporate HttpClient when trying to make a Http Request Call to my TeamController??","title":"Can cmd curl and java.net.http.HttpClient be used together in Java?","body":"<p>I'm trying to understand how cmd <code>curl</code> and <code>HttpClient(java.net.http.*)</code> class can work together in Java..</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/team&quot;)\n@CrossOrigin(origins = &quot;http://localhost:8081&quot;)\npublic class TeamController {\n    @Autowired\n    TeamService teamService;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; addNewTeam(@RequestBody Team newTeam) {\n        Team team = new Team();\n        try {\n            team= teamService.addNewTeam(newTeam);\n        } catch(TeamAlreadyExistException e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\n        }\n        return new ResponseEntity&lt;&gt;(team, HttpStatus.OK);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;?&gt; getAllTeams() {\n        List&lt;Team&gt; teams = teamService.getAllTeams();\n        return new ResponseEntity&lt;&gt;(teams, HttpStatus.OK);\n    }\n    \n}\n</code></pre>\n<p>If I have a Controller like this in my project and just by using cmd curl itself,\nI can get the desired outcome I want.. like this below..</p>\n<pre><code>MyPath&gt;curl -X GET &quot;http://localhost:8081/api/team&quot;\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;team3&quot;}]\n</code></pre>\n<p>I'm trying not to use Postman and try to work with HttpClient Class and Cmd..And I think\nIf I have @RestController and the cmd.. http request is just find without HttpClient..\nIs there any way that I can incorporate HttpClient when trying to make a Http Request Call to my TeamController??</p>\n"},{"tags":["java","windows-10","installanywhere"],"comments":[{"owner":{"account_id":8664,"reputation":6302,"user_id":15710,"accept_rate":73,"display_name":"Mesh"},"score":0,"creation_date":1553165700,"post_id":55278661,"comment_id":97287419,"body_markdown":"The irony......","body":"The irony......"}],"answers":[{"tags":[],"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553165512,"creation_date":1553165512,"answer_id":55278775,"question_id":55278661,"body_markdown":"Setup JAVA_OPTS as a system variable with the following content, the heap size you want. Java should be able to find it and act accordingly :\r\n\r\n    JAVA_OPTS=&quot;-Xms1G -Xmx2G&quot;\r\n\r\nAfter that in a command prompt run the following commands:\r\n\r\n    SET JAVA_OPTS=&quot;-Xms1G -Xmx2G&quot;\r\n\r\nThis can be explained as follows:\r\n\r\n - allocate at minimum 1GBs of heap\r\n - allocate at maximum 2GBs of heap\r\n\r\n","title":"InstallAnywhere 2018 issues on Windows 10","body":"<p>Setup JAVA_OPTS as a system variable with the following content, the heap size you want. Java should be able to find it and act accordingly :</p>\n\n<pre><code>JAVA_OPTS=\"-Xms1G -Xmx2G\"\n</code></pre>\n\n<p>After that in a command prompt run the following commands:</p>\n\n<pre><code>SET JAVA_OPTS=\"-Xms1G -Xmx2G\"\n</code></pre>\n\n<p>This can be explained as follows:</p>\n\n<ul>\n<li>allocate at minimum 1GBs of heap</li>\n<li>allocate at maximum 2GBs of heap</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10862257,"reputation":11,"user_id":7986793,"display_name":"Rafał Hładyszowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660903217,"creation_date":1660902875,"answer_id":73414978,"question_id":55278661,"body_markdown":"Once it crashes you need to find `ISTPv2Setup.lax` file in your `C:\\Users\\[your_username]\\AppData\\Local\\Temp\\I[a_lot_of_numbers_here]\\Windows`. And replace the last line in the ISTPv2Setup.lax file being this:\r\n\r\n```\r\nlax.nl.java.option.additional=\r\n```\r\n\r\nwith this:\r\n\r\n```\r\nlax.nl.java.option.additional=-Xms1g -Xmx2g\r\n```\r\n\r\nThis also works when getting a stack trace like this:\r\n```\r\njava.lang.NullPointerException\r\n    at com.zerog.ia.installer.AAMgr.initAAMgr(Unknown Source)\r\n    at com.zerog.ia.installer.LifeCycleManager.a6(Unknown Source)\r\n    at com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source)\r\n    at com.zerog.ia.installer.Main.main(Unknown Source)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    at java.lang.reflect.Method.invoke(Unknown Source)\r\n    at com.zerog.lax.LAX.launch(Unknown Source)\r\n    at com.zerog.lax.LAX.main(Unknown Source)\r\n```\r\nThe real exception is in `C:\\Users\\[your_username]\\AppData\\Local\\Temp\\lax-[a_lot_of_numers]-err.tmp`.","title":"InstallAnywhere 2018 issues on Windows 10","body":"<p>Once it crashes you need to find <code>ISTPv2Setup.lax</code> file in your <code>C:\\Users\\[your_username]\\AppData\\Local\\Temp\\I[a_lot_of_numbers_here]\\Windows</code>. And replace the last line in the ISTPv2Setup.lax file being this:</p>\n<pre><code>lax.nl.java.option.additional=\n</code></pre>\n<p>with this:</p>\n<pre><code>lax.nl.java.option.additional=-Xms1g -Xmx2g\n</code></pre>\n<p>This also works when getting a stack trace like this:</p>\n<pre><code>java.lang.NullPointerException\n    at com.zerog.ia.installer.AAMgr.initAAMgr(Unknown Source)\n    at com.zerog.ia.installer.LifeCycleManager.a6(Unknown Source)\n    at com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source)\n    at com.zerog.ia.installer.Main.main(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.zerog.lax.LAX.launch(Unknown Source)\n    at com.zerog.lax.LAX.main(Unknown Source)\n</code></pre>\n<p>The real exception is in <code>C:\\Users\\[your_username]\\AppData\\Local\\Temp\\lax-[a_lot_of_numers]-err.tmp</code>.</p>\n"}],"owner":{"account_id":143771,"reputation":428,"user_id":5811638,"display_name":"jpruiz114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660903217,"creation_date":1553165104,"question_id":55278661,"body_markdown":"I&#39;m trying to install the product InstallAnywhere2018 on Windows 10 and after several attempts including compatibility modes, running as admin and checking my system path for the Java variables I still get the same error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    at java.awt.image.DataBufferInt.&lt;init&gt;(Unknown Source)\r\n    at java.awt.image.Raster.createPackedRaster(Unknown Source)\r\n    at java.awt.image.DirectColorModel.createCompatibleWritableRaster(Unknown Source)\r\n    at java.awt.image.BufferedImage.&lt;init&gt;(Unknown Source)\r\n    at sun.awt.windows.TranslucentWindowPainter$BIWindowPainter.getBackBuffer(Unknown Source)\r\n    at sun.awt.windows.TranslucentWindowPainter.updateWindow(Unknown Source)\r\n    at sun.awt.windows.WWindowPeer.updateWindow(Unknown Source)\r\n    at sun.awt.windows.WWindowPeer.show(Unknown Source)\r\n    at sun.awt.windows.WComponentPeer.setVisible(Unknown Source)\r\n    at java.awt.Component.show(Unknown Source)\r\n    at java.awt.Window.show(Unknown Source)\r\n    at java.awt.Component.show(Unknown Source)\r\n    at java.awt.Component.setVisible(Unknown Source)\r\n    at java.awt.Window.setVisible(Unknown Source)\r\n    at Flexeraat0.setVisible(Unknown Source)\r\n    at Flexeraat0.aj(Unknown Source)\r\n    at com.zerog.ia.installer.AAMgr.a0(Unknown Source)\r\n    at com.zerog.ia.installer.AAMgr.ac(Unknown Source)\r\n    at com.zerog.ia.installer.AAMgrBase.runPreInstall(Unknown Source)\r\n    at com.zerog.ia.installer.AAMgr.runPreInstall(Unknown Source)\r\n    at com.zerog.ia.installer.LifeCycleManager.b0(Unknown Source)\r\n    at com.zerog.ia.installer.LifeCycleManager.a5(Unknown Source)\r\n    at com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source)\r\n    at com.zerog.ia.installer.Main.main(Unknown Source)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    at java.lang.reflect.Method.invoke(Unknown Source)\r\n    at com.zerog.lax.LAX.launch(Unknown Source)\r\n    at com.zerog.lax.LAX.main(Unknown Source)\r\n\r\nAny ideas of how to solve this issue?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LbMyy.png","title":"InstallAnywhere 2018 issues on Windows 10","body":"<p>I'm trying to install the product InstallAnywhere2018 on Windows 10 and after several attempts including compatibility modes, running as admin and checking my system path for the Java variables I still get the same error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LbMyy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LbMyy.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\nat java.awt.image.DataBufferInt.&lt;init&gt;(Unknown Source)\nat java.awt.image.Raster.createPackedRaster(Unknown Source)\nat java.awt.image.DirectColorModel.createCompatibleWritableRaster(Unknown Source)\nat java.awt.image.BufferedImage.&lt;init&gt;(Unknown Source)\nat sun.awt.windows.TranslucentWindowPainter$BIWindowPainter.getBackBuffer(Unknown Source)\nat sun.awt.windows.TranslucentWindowPainter.updateWindow(Unknown Source)\nat sun.awt.windows.WWindowPeer.updateWindow(Unknown Source)\nat sun.awt.windows.WWindowPeer.show(Unknown Source)\nat sun.awt.windows.WComponentPeer.setVisible(Unknown Source)\nat java.awt.Component.show(Unknown Source)\nat java.awt.Window.show(Unknown Source)\nat java.awt.Component.show(Unknown Source)\nat java.awt.Component.setVisible(Unknown Source)\nat java.awt.Window.setVisible(Unknown Source)\nat Flexeraat0.setVisible(Unknown Source)\nat Flexeraat0.aj(Unknown Source)\nat com.zerog.ia.installer.AAMgr.a0(Unknown Source)\nat com.zerog.ia.installer.AAMgr.ac(Unknown Source)\nat com.zerog.ia.installer.AAMgrBase.runPreInstall(Unknown Source)\nat com.zerog.ia.installer.AAMgr.runPreInstall(Unknown Source)\nat com.zerog.ia.installer.LifeCycleManager.b0(Unknown Source)\nat com.zerog.ia.installer.LifeCycleManager.a5(Unknown Source)\nat com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source)\nat com.zerog.ia.installer.Main.main(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.zerog.lax.LAX.launch(Unknown Source)\nat com.zerog.lax.LAX.main(Unknown Source)\n</code></pre>\n\n<p>Any ideas of how to solve this issue?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1660901480,"post_id":73414119,"comment_id":129648086,"body_markdown":"Your `src` of the `img` tag is relative **not** absolute. Prefix with a `/` to make it absolute. I.e. from the root.","body":"Your <code>src</code> of the <code>img</code> tag is relative <b>not</b> absolute. Prefix with a <code>&#47;</code> to make it absolute. I.e. from the root."}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660903134,"creation_date":1660903134,"answer_id":73415038,"question_id":73414119,"body_markdown":"    &lt;img src=&quot;${pageContext.request.contextPath}/static/images/IT.png&quot;&gt;","title":"I need to refer to an image that can be pointed regardless of the URL of the Controller in Spring MVC","body":"<pre><code>&lt;img src=&quot;${pageContext.request.contextPath}/static/images/IT.png&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":26105592,"reputation":1,"user_id":19800346,"display_name":"Giulio Titonel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660903134,"creation_date":1660898793,"question_id":73414119,"body_markdown":"I&#39;m doing an exercise in Spring MVC and I have to show the images of the Italian and English flag in every part of the website.\r\n\r\nI have a footer that is called by every page\r\n\r\n    &lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;div&gt;\r\n    \t&lt;p&gt;All rights reserved&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;h3&gt;\r\n    \t&lt;spring:message code=&quot;addUsers.form.changeLanguage.label&quot; /&gt;\r\n    &lt;/h3&gt;\r\n    &lt;section class=&quot;locale-link&quot;&gt;\r\n    \t&lt;a href=&quot;?language=en&quot;&gt; &lt;img src=&quot;static/images/US.png&quot; /&gt;&lt;/a&gt; \r\n    \t&lt;a href=&quot;?language=it&quot;&gt;&lt;img src=&quot;static/images/IT.png&quot; /&gt;&lt;/a&gt;\r\n    &lt;/section&gt;\r\n\r\nThis is the position where I&#39;ve put the images: [ position of the images][1]\r\n\r\n\r\nUnfortunately I can see the correct visualization of the images of the footer footer only in the home page:[correct visualization of the images in the home page][2]\r\n\r\n\r\n\r\nOn the other hand, I lose the reference to the image if I am in another folder: [wrong visualization of the images in a not-home folder][3]\r\n\r\n\r\n\r\nHow can I fix this problem?\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/15P7L.png\r\n  [2]: https://i.stack.imgur.com/P63gt.png\r\n  [3]: https://i.stack.imgur.com/r92tH.png","title":"I need to refer to an image that can be pointed regardless of the URL of the Controller in Spring MVC","body":"<p>I'm doing an exercise in Spring MVC and I have to show the images of the Italian and English flag in every part of the website.</p>\n<p>I have a footer that is called by every page</p>\n<pre><code>&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;div&gt;\n    &lt;p&gt;All rights reserved&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;h3&gt;\n    &lt;spring:message code=&quot;addUsers.form.changeLanguage.label&quot; /&gt;\n&lt;/h3&gt;\n&lt;section class=&quot;locale-link&quot;&gt;\n    &lt;a href=&quot;?language=en&quot;&gt; &lt;img src=&quot;static/images/US.png&quot; /&gt;&lt;/a&gt; \n    &lt;a href=&quot;?language=it&quot;&gt;&lt;img src=&quot;static/images/IT.png&quot; /&gt;&lt;/a&gt;\n&lt;/section&gt;\n</code></pre>\n<p>This is the position where I've put the images: <a href=\"https://i.stack.imgur.com/15P7L.png\" rel=\"nofollow noreferrer\"> position of the images</a></p>\n<p>Unfortunately I can see the correct visualization of the images of the footer footer only in the home page:<a href=\"https://i.stack.imgur.com/P63gt.png\" rel=\"nofollow noreferrer\">correct visualization of the images in the home page</a></p>\n<p>On the other hand, I lose the reference to the image if I am in another folder: <a href=\"https://i.stack.imgur.com/r92tH.png\" rel=\"nofollow noreferrer\">wrong visualization of the images in a not-home folder</a></p>\n<p>How can I fix this problem?</p>\n<p>Thank you.</p>\n"},{"tags":["java","azure","containers","azure-cli","azure-container-instances"],"answers":[{"tags":[],"owner":{"account_id":13591083,"reputation":11,"user_id":9804358,"display_name":"Rajanikant Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660902962,"creation_date":1660902962,"answer_id":73414999,"question_id":72963893,"body_markdown":"In Azure i find out we can achieve this goal using Azure VM.\r\nhttps://learn.microsoft.com/en-us/rest/api/compute/virtual-machines/run-command","title":"How to connect with Azure Cluster Instances using Java","body":"<p>In Azure i find out we can achieve this goal using Azure VM.\n<a href=\"https://learn.microsoft.com/en-us/rest/api/compute/virtual-machines/run-command\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/compute/virtual-machines/run-command</a></p>\n"}],"owner":{"account_id":13591083,"reputation":11,"user_id":9804358,"display_name":"Rajanikant Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660902962,"creation_date":1657704392,"question_id":72963893,"body_markdown":"In AWS we have SSM which help us to connect to Cluster Instances and using SSM we got the data about the container in Java.\r\nSame I am looking for Azure too. I want to connect with Azure Cluster Instances. \r\nIs there any service in Azure available to get it done ?","title":"How to connect with Azure Cluster Instances using Java","body":"<p>In AWS we have SSM which help us to connect to Cluster Instances and using SSM we got the data about the container in Java.\nSame I am looking for Azure too. I want to connect with Azure Cluster Instances.\nIs there any service in Azure available to get it done ?</p>\n"},{"tags":["java","eclipse","selenium","cucumber"],"comments":[{"owner":{"account_id":11027271,"reputation":1938,"user_id":8099744,"display_name":"Sureshmani Kalirajan"},"score":0,"creation_date":1567018696,"post_id":57698440,"comment_id":101841035,"body_markdown":"tags can be placed before the scenario outline. If you have same steps for test1 &amp; test2, then you can move those steps to background &amp; use scenario outline to seperate the tables and tags.","body":"tags can be placed before the scenario outline. If you have same steps for test1 &amp; test2, then you can move those steps to background &amp; use scenario outline to seperate the tables and tags."},{"owner":{"account_id":12569305,"reputation":25,"user_id":9143954,"display_name":"savita"},"score":0,"creation_date":1567057272,"post_id":57698440,"comment_id":101850237,"body_markdown":"this will work if i have like this one scenario in a feature file.But no ,i have like this scenarios with different steps in a single feature file.And for all the scenario before regression i need to reset the value to @test1.","body":"this will work if i have like this one scenario in a feature file.But no ,i have like this scenarios with different steps in a single feature file.And for all the scenario before regression i need to reset the value to @test1."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1567081807,"post_id":57698440,"comment_id":101862507,"body_markdown":"What versions of eclipse and cucumber are u using? Can u add the complete scenario outline?","body":"What versions of eclipse and cucumber are u using? Can u add the complete scenario outline?"},{"owner":{"account_id":11027271,"reputation":1938,"user_id":8099744,"display_name":"Sureshmani Kalirajan"},"score":0,"creation_date":1567086690,"post_id":57698440,"comment_id":101865602,"body_markdown":"It looks like cucumber editor plugin issue within eclipse. Can you confirm what is the plugin you are using for editing feature files? I have a cucumber Eclipse Plugin  (developed by cucumber) which works just fine for your case.","body":"It looks like cucumber editor plugin issue within eclipse. Can you confirm what is the plugin you are using for editing feature files? I have a cucumber Eclipse Plugin  (developed by cucumber) which works just fine for your case."},{"owner":{"account_id":12569305,"reputation":25,"user_id":9143954,"display_name":"savita"},"score":0,"creation_date":1567148107,"post_id":57698440,"comment_id":101884447,"body_markdown":"Cucumber plugin-Natural 0.7.6","body":"Cucumber plugin-Natural 0.7.6"},{"owner":{"account_id":12569305,"reputation":25,"user_id":9143954,"display_name":"savita"},"score":0,"creation_date":1567152146,"post_id":57698440,"comment_id":101886255,"body_markdown":"the below dependency                                                                  \n         &#39;&lt;dependency&gt;\n      &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;1.2.5&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;&#39;","body":"the below dependency                                                                            &#39;&lt;dependency&gt;       &lt;groupId&gt;info.cukes&lt;/groupId&gt;       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;       &lt;version&gt;1.2.5&lt;/version&gt;       &lt;scope&gt;compile&lt;/scope&gt;     &lt;/dependency&gt;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":12569305,"reputation":25,"user_id":9143954,"display_name":"savita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567160058,"creation_date":1567160058,"answer_id":57724835,"question_id":57698440,"body_markdown":"*Thanks for your Answers and support!!*\r\n\r\n*Its working now!!*\r\n\r\n**What was the problem**-It was cucumber editor issue and i was not able to install any other editor.Please find below the steps i followed and it resolved my problem.\r\n\r\n\r\nSteps\r\n\r\n 1.  I uninstalled existing cucumber editor from Help-&gt;marketplace-&gt;serched cucumber \r\n    editor \r\n    ,i found 2 results and one was installed in my machine.I uninstalled it.\r\n\r\n 2. **Clear your eclipse cache with below steps:**\r\n    Open Eclipse and navigate to the Window &gt; Preferences. \r\n    Scroll down\r\n    the left-hand panel in the Preferences window and click the Remote\r\n    Systems drop-down root menu. Select File Cache. Click the Clear\r\n   Cached Files button in the File Cache window. \r\n   Note that this will\r\n   automatically close any open remote files on your computer. Press\r\n   Apply and OK to save your changes and exit out of the Preferences\r\n   window. Restart Eclipse Install plugin from eclipse-market place.\r\n   Restart Eclipse again.\r\n\r\n 3. Try the bellow link. It works for me with Eclipse oxygen.3 it may also work for \r\n  oxygen.1/oxygen.2\r\n  http://mrpotes.github.com/cukes-jvm-eclipse-plugin/update-site\r\n\r\n  Steps:\r\n  Help -&gt; Install New Software -&gt; Work with: http://mrpotes.github.com/cukes-jvm-eclipse- \r\n  plugin/update-site\r\n\r\n\r\nAfter restarting eclipse the 2 examples in the scenario outline are working for me now even with tags.\r\n\r\n**Source** -https://github.com/cucumber/cucumber-eclipse/issues/232","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p><em>Thanks for your Answers and support!!</em></p>\n\n<p><em>Its working now!!</em></p>\n\n<p><strong>What was the problem</strong>-It was cucumber editor issue and i was not able to install any other editor.Please find below the steps i followed and it resolved my problem.</p>\n\n<p>Steps</p>\n\n<ol>\n<li><p>I uninstalled existing cucumber editor from Help->marketplace->serched cucumber \neditor \n,i found 2 results and one was installed in my machine.I uninstalled it.</p></li>\n<li><p><strong>Clear your eclipse cache with below steps:</strong>\nOpen Eclipse and navigate to the Window > Preferences. \nScroll down\nthe left-hand panel in the Preferences window and click the Remote\nSystems drop-down root menu. Select File Cache. Click the Clear\nCached Files button in the File Cache window. \nNote that this will\nautomatically close any open remote files on your computer. Press\nApply and OK to save your changes and exit out of the Preferences\nwindow. Restart Eclipse Install plugin from eclipse-market place.\nRestart Eclipse again.</p></li>\n<li><p>Try the bellow link. It works for me with Eclipse oxygen.3 it may also work for \noxygen.1/oxygen.2\n<a href=\"http://mrpotes.github.com/cukes-jvm-eclipse-plugin/update-site\" rel=\"nofollow noreferrer\">http://mrpotes.github.com/cukes-jvm-eclipse-plugin/update-site</a></p>\n\n<p>Steps:\nHelp -> Install New Software -> Work with: <a href=\"http://mrpotes.github.com/cukes-jvm-eclipse-\" rel=\"nofollow noreferrer\">http://mrpotes.github.com/cukes-jvm-eclipse-</a> \nplugin/update-site</p></li>\n</ol>\n\n<p>After restarting eclipse the 2 examples in the scenario outline are working for me now even with tags.</p>\n\n<p><strong>Source</strong> -<a href=\"https://github.com/cucumber/cucumber-eclipse/issues/232\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-eclipse/issues/232</a></p>\n"},{"tags":[],"owner":{"account_id":14028004,"reputation":31,"user_id":10132588,"display_name":"vinita patil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593435462,"creation_date":1593435462,"answer_id":62638676,"question_id":57698440,"body_markdown":"for &quot;missing EOF at examples&quot;   in \r\nExamples:\r\n\t\t|address             |\r\n\t\t|78 winter walk, USA |\r\n\t\t\t\t\r\nYou will need to add **Scenario Outline:** instead of Scenario:","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p>for &quot;missing EOF at examples&quot;   in\nExamples:\n|address             |\n|78 winter walk, USA |</p>\n<p>You will need to add <strong>Scenario Outline:</strong> instead of Scenario:</p>\n"},{"tags":[],"owner":{"account_id":19652707,"reputation":11,"user_id":14386100,"display_name":"Shivang Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601749794,"creation_date":1601749794,"answer_id":64187617,"question_id":57698440,"body_markdown":"write scenario outline on the place of scenario. I am pretty sure then your error will resolved.","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p>write scenario outline on the place of scenario. I am pretty sure then your error will resolved.</p>\n"},{"tags":[],"owner":{"account_id":20676250,"reputation":1,"user_id":15180791,"display_name":"Mire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612932542,"creation_date":1612932542,"answer_id":66131054,"question_id":57698440,"body_markdown":"I had the same problem while I was working on Examples files. But  I just got it resolved after I did two things:\r\n1. I updated my gherkin dependency to the stable version \r\n2. I reduced the space between rows\r\nThen solved . \r\nThat work for me may not work for you as the cause may vary, but try .","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p>I had the same problem while I was working on Examples files. But  I just got it resolved after I did two things:</p>\n<ol>\n<li>I updated my gherkin dependency to the stable version</li>\n<li>I reduced the space between rows\nThen solved .\nThat work for me may not work for you as the cause may vary, but try .</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12520591,"reputation":1,"user_id":9112084,"display_name":"mani.rajan87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660902354,"creation_date":1660902354,"answer_id":73414866,"question_id":57698440,"body_markdown":"**Scenario Outline:** Check login is successful\r\n\r\nWhen user enters &lt;username&gt; and &lt;password&gt;\r\n\r\nExamples:\r\n|username|password|\r\n\r\nu get the error because Scenario Outline is missing in the feature\r\n file \r\n","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p><strong>Scenario Outline:</strong> Check login is successful</p>\n<p>When user enters  and </p>\n<p>Examples:\n|username|password|</p>\n<p>u get the error because Scenario Outline is missing in the feature\nfile</p>\n"}],"owner":{"account_id":12569305,"reputation":25,"user_id":9143954,"display_name":"savita"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6619,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1660902354,"creation_date":1567018091,"question_id":57698440,"body_markdown":"Scenario Outline: Entity test\r\n    Given...\r\n    When...\r\n    Then...\r\n\r\n    @test1\r\n    Examples:\r\n    |      Entity    |\r\n    |      AAA1      |     \r\n    |      AAA1      |\r\n\r\n\r\n    @test2\r\n    Examples:                               \r\n    |     Entity        |\r\n    |       BBB01       |\r\n    |       BBB02       |\r\n    |       BBB03       |\r\n\r\n    \r\n   \r\n\r\nProblem Statement :\r\n-------------------\r\n\r\n 1. I have many scenario like above and its prerequisite for few\r\n    scenario to run @test1 data first and then @test2.So i got a\r\n    solution to isolate the data splitting with multiple example.\r\n        \r\n 2. But after creating 2 examples it gives me error in eclipse right\r\n    after example no 2 is &quot;missing EOF at examples&quot; if i keep tags\r\n        on top it gives me error on top of tags right before example 1 is\r\n        &quot;mismatch input &#39;@test1&#39; expecting examples&quot;\r\n 3. I have gone through existing answers and version problem in POM i\r\n            have updated the version.And few post says its eclipse IDE issue i cant change IDE as the whole team uses same IDE from long time and comfortable with it ,until and unless very big issue.\r\n\r\n    \r\n\r\nCan anyone please suggest if any solution for Eclipse IDE ? Or POM update is required. I upgraded cucumber pom dependencies to the latest one\r\n------------------------------------------------------------------------\r\n\r\n    \r\n   \r\n\r\nExpected:\r\n---------\r\n\r\nThe below should be written and executed without any error of eclipse IDE or \r\n version dependency error\r\n    \r\n    @test1\r\n    Examples:To run test 1 specific data\r\n    |      Entity    |\r\n    |      AAA1      |     \r\n    |      AAA1      |\r\n    \r\n    \r\n    @test2\r\n    Examples:  To run test 1 specific data                             \r\n    |     Entity        |\r\n    |       BBB01       |\r\n    |       BBB02       |\r\n    |       BBB03       |\r\n    \r\n   \r\n\r\nActual:\r\n-------\r\n\r\n    \r\n    @test1  //Error here -&quot;mismatch input &#39;@test1&#39; expecting examples&quot;\r\n    Examples:\r\n    |      Entity    |\r\n    |      AAA1      |     \r\n    |      AAA1      |\r\n    \r\n    \r\n    @test2\r\n    Examples: //Error here if i remove tags -&quot;missing EOF at examples&quot;                               \r\n    |     Entity        |\r\n    |       BBB01       |\r\n    |       BBB02       |\r\n    |       BBB03       |","title":"Multiple examples in scenario outline gives error(Missing EOF at examples:) in eclipse IDE,How can i solve this?","body":"<p>Scenario Outline: Entity test\n    Given...\n    When...\n    Then...</p>\n\n<pre><code>@test1\nExamples:\n|      Entity    |\n|      AAA1      |     \n|      AAA1      |\n\n\n@test2\nExamples:                               \n|     Entity        |\n|       BBB01       |\n|       BBB02       |\n|       BBB03       |\n</code></pre>\n\n<h2>Problem Statement :</h2>\n\n<ol>\n<li><p>I have many scenario like above and its prerequisite for few\nscenario to run @test1 data first and then @test2.So i got a\nsolution to isolate the data splitting with multiple example.</p></li>\n<li><p>But after creating 2 examples it gives me error in eclipse right\nafter example no 2 is \"missing EOF at examples\" if i keep tags\n    on top it gives me error on top of tags right before example 1 is\n    \"mismatch input '@test1' expecting examples\"</p></li>\n<li>I have gone through existing answers and version problem in POM i\n        have updated the version.And few post says its eclipse IDE issue i cant change IDE as the whole team uses same IDE from long time and comfortable with it ,until and unless very big issue.</li>\n</ol>\n\n<h2>Can anyone please suggest if any solution for Eclipse IDE ? Or POM update is required. I upgraded cucumber pom dependencies to the latest one</h2>\n\n<h2>Expected:</h2>\n\n<p>The below should be written and executed without any error of eclipse IDE or \n version dependency error</p>\n\n<pre><code>@test1\nExamples:To run test 1 specific data\n|      Entity    |\n|      AAA1      |     \n|      AAA1      |\n\n\n@test2\nExamples:  To run test 1 specific data                             \n|     Entity        |\n|       BBB01       |\n|       BBB02       |\n|       BBB03       |\n</code></pre>\n\n<h2>Actual:</h2>\n\n<pre><code>@test1  //Error here -\"mismatch input '@test1' expecting examples\"\nExamples:\n|      Entity    |\n|      AAA1      |     \n|      AAA1      |\n\n\n@test2\nExamples: //Error here if i remove tags -\"missing EOF at examples\"                               \n|     Entity        |\n|       BBB01       |\n|       BBB02       |\n|       BBB03       |\n</code></pre>\n"},{"tags":["python","java","api","rest-assured","wiremock"],"answers":[{"tags":[],"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660902018,"creation_date":1660902018,"answer_id":73414790,"question_id":73414389,"body_markdown":"Two parts to this:\r\n\r\n**Matching based on request body.** \r\n\r\nIf you want to stub the request based on a very specific value in the request body, you have use RequestMatching. You can load in the file and then pass it in as needed.\r\n\r\n     post(urlEqualTo(&quot;/some/thing&quot;)).withRequestBody(equalToJson(&quot;{}&quot;))\r\n\r\nhttps://wiremock.org/docs/request-matching/\r\n\r\n**Stubbing Reponse Body**\r\n\r\nAs you have in the post, you can use `withBodyFile` to specify **the file** that would be returned. So this is the response body and not the request body.\r\n\r\nJust note that the files have to be under a __files directory.\r\n\r\nhttps://wiremock.org/docs/stubbing/ (Specifying the response body section)\r\n\r\nhttps://wiremock.org/docs/response-templating/","title":"WireMock post stub with request body and response body","body":"<p>Two parts to this:</p>\n<p><strong>Matching based on request body.</strong></p>\n<p>If you want to stub the request based on a very specific value in the request body, you have use RequestMatching. You can load in the file and then pass it in as needed.</p>\n<pre><code> post(urlEqualTo(&quot;/some/thing&quot;)).withRequestBody(equalToJson(&quot;{}&quot;))\n</code></pre>\n<p><a href=\"https://wiremock.org/docs/request-matching/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/request-matching/</a></p>\n<p><strong>Stubbing Reponse Body</strong></p>\n<p>As you have in the post, you can use <code>withBodyFile</code> to specify <strong>the file</strong> that would be returned. So this is the response body and not the request body.</p>\n<p>Just note that the files have to be under a __files directory.</p>\n<p><a href=\"https://wiremock.org/docs/stubbing/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/stubbing/</a> (Specifying the response body section)</p>\n<p><a href=\"https://wiremock.org/docs/response-templating/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/response-templating/</a></p>\n"}],"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660902018,"creation_date":1660900032,"question_id":73414389,"body_markdown":"So I’m trying to use wiremock to make a post request to a Url with a request body and then get a response back with my respons.json file.(custom response )\r\n\r\nThis is how I have it set but I can’t seem to find any info on how to set a post stub with request body(containing data let’s say trying to create ID) and then retrieve a custom response body(created Id response from the json file). \r\nHow would I set that up. I’m trying to make a request to make id through a json file and then trying to retrieve that created Id . \r\n\r\n\r\n    public void exactUrlOnly() {\r\n    stubFor(post(urlEqualTo(&quot;/some/thing&quot;))\r\n            .willReturn(aResponse()\r\n          .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n           .withBodyFile(&quot;Hello /world!&quot;)));\r\n\r\n\r\n\r\nThe WithBodyFile is that the response that’s suppose to be returned ? or is that the request body? I want to somehow put my request body before I start the willReturn line. Basically send a request in with a json file and then get the response from another json file","title":"WireMock post stub with request body and response body","body":"<p>So I’m trying to use wiremock to make a post request to a Url with a request body and then get a response back with my respons.json file.(custom response )</p>\n<p>This is how I have it set but I can’t seem to find any info on how to set a post stub with request body(containing data let’s say trying to create ID) and then retrieve a custom response body(created Id response from the json file).\nHow would I set that up. I’m trying to make a request to make id through a json file and then trying to retrieve that created Id .</p>\n<pre><code>public void exactUrlOnly() {\nstubFor(post(urlEqualTo(&quot;/some/thing&quot;))\n        .willReturn(aResponse()\n      .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\n       .withBodyFile(&quot;Hello /world!&quot;)));\n</code></pre>\n<p>The WithBodyFile is that the response that’s suppose to be returned ? or is that the request body? I want to somehow put my request body before I start the willReturn line. Basically send a request in with a json file and then get the response from another json file</p>\n"},{"tags":["java","apache-flink","flink-cep"],"comments":[{"owner":{"account_id":13103445,"reputation":186,"user_id":9467045,"display_name":"runzhi xiao"},"score":0,"creation_date":1660902266,"post_id":73297054,"comment_id":129648332,"body_markdown":"refer to this: https://stackoverflow.com/questions/68089043/apache-flink-pattern-detection-does-not-find-any-match/68089972#68089972","body":"refer to this: <a href=\"https://stackoverflow.com/questions/68089043/apache-flink-pattern-detection-does-not-find-any-match/68089972#68089972\" title=\"apache flink pattern detection does not find any match\">stackoverflow.com/questions/68089043/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13103445,"reputation":186,"user_id":9467045,"display_name":"runzhi xiao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660901916,"creation_date":1660901916,"answer_id":73414767,"question_id":73297054,"body_markdown":"FlinkCEP by default uses EventTime which relies on a WaterMark to help those events proceeding. It may helps if you switch it to ProcessingTime.\r\n\r\n    PatternStream&lt;String&gt; patternStream = CEP.pattern(keyedInputStream, dspattern).inProcessingTime();\r\n\r\nIf you have no idea about the difference and hence the time semantics, you can check official doc at\r\n[Flink Notion of Time][1]\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/concepts/time/","title":"Apache Flink CEP , pattern not matching","body":"<p>FlinkCEP by default uses EventTime which relies on a WaterMark to help those events proceeding. It may helps if you switch it to ProcessingTime.</p>\n<pre><code>PatternStream&lt;String&gt; patternStream = CEP.pattern(keyedInputStream, dspattern).inProcessingTime();\n</code></pre>\n<p>If you have no idea about the difference and hence the time semantics, you can check official doc at\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/concepts/time/\" rel=\"nofollow noreferrer\">Flink Notion of Time</a></p>\n"}],"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73414767,"answer_count":1,"score":1,"last_activity_date":1660901916,"creation_date":1660072869,"question_id":73297054,"body_markdown":"I am new to Flink CEP and trying to test basic things - \r\nIn below code my expectation is all the input should matched in patter and should print as matched result.\r\nBut somehow nothing is matching (&#39;matechedStream.print()&#39;) any idea about the reason ?\r\n\r\nAny suggestion/help would be much appreciated.\r\n\r\n```\r\npackage com.o9.flink;\r\nimport com.o9.flink.asyncio.DemandSupply;\r\nimport org.apache.flink.cep.CEP;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.flink.cep.PatternStream;\r\nimport org.apache.flink.cep.functions.PatternProcessFunction;\r\nimport org.apache.flink.cep.pattern.Pattern;\r\nimport org.apache.flink.cep.pattern.conditions.SimpleCondition;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.api.windowing.time.Time;\r\nimport org.apache.flink.util.Collector;\r\n\r\n\r\npublic class DemandSupplyPattern {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(1);\r\n        DataStream&lt;String&gt; keyedInputStream = env.fromElements(&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;);\r\n\r\n        Pattern&lt;String, ?&gt; dspattern = Pattern.&lt;String&gt;begin(&quot;start&quot;);\r\n\r\n        PatternStream&lt;String&gt; patternStream = CEP.pattern(keyedInputStream, dspattern);\r\n        DataStream&lt;String&gt; matechedStream =  patternStream.process(new PatternProcessFunction&lt;String, String&gt;() {\r\n            @Override\r\n            public void processMatch(Map&lt;String, List&lt;String&gt;&gt; map, Context context, Collector&lt;String&gt; collector) throws Exception {\r\n                collector.collect(map.get(&quot;start&quot;).toString());\r\n            }\r\n        });\r\n\r\n        matechedStream.print();\r\n\r\n        env.execute(&quot;DemandSupply-CEP&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMaven dependencies :\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-avro&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-statebackend-rocksdb&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.asynchttpclient&lt;/groupId&gt;\r\n        &lt;artifactId&gt;async-http-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flink-cep&lt;/artifactId&gt;\r\n        &lt;version&gt;${flink.version}&lt;/version&gt;\r\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n\r\n\r\nThanks\r\nMahendra","title":"Apache Flink CEP , pattern not matching","body":"<p>I am new to Flink CEP and trying to test basic things -\nIn below code my expectation is all the input should matched in patter and should print as matched result.\nBut somehow nothing is matching ('matechedStream.print()') any idea about the reason ?</p>\n<p>Any suggestion/help would be much appreciated.</p>\n<pre><code>package com.o9.flink;\nimport com.o9.flink.asyncio.DemandSupply;\nimport org.apache.flink.cep.CEP;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.flink.cep.PatternStream;\nimport org.apache.flink.cep.functions.PatternProcessFunction;\nimport org.apache.flink.cep.pattern.Pattern;\nimport org.apache.flink.cep.pattern.conditions.SimpleCondition;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.util.Collector;\n\n\npublic class DemandSupplyPattern {\n\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        DataStream&lt;String&gt; keyedInputStream = env.fromElements(&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;);\n\n        Pattern&lt;String, ?&gt; dspattern = Pattern.&lt;String&gt;begin(&quot;start&quot;);\n\n        PatternStream&lt;String&gt; patternStream = CEP.pattern(keyedInputStream, dspattern);\n        DataStream&lt;String&gt; matechedStream =  patternStream.process(new PatternProcessFunction&lt;String, String&gt;() {\n            @Override\n            public void processMatch(Map&lt;String, List&lt;String&gt;&gt; map, Context context, Collector&lt;String&gt; collector) throws Exception {\n                collector.collect(map.get(&quot;start&quot;).toString());\n            }\n        });\n\n        matechedStream.print();\n\n        env.execute(&quot;DemandSupply-CEP&quot;);\n    }\n}\n</code></pre>\n<p>Maven dependencies :</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-avro&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-statebackend-rocksdb&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.asynchttpclient&lt;/groupId&gt;\n        &lt;artifactId&gt;async-http-client&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-cep&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n</code></pre>\n<p>Thanks\nMahendra</p>\n"},{"tags":["java","hibernate","hibernate-search"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1635326277,"post_id":69735853,"comment_id":123265062,"body_markdown":"Do you think a sql-view mapped to a entity might be a good solution?","body":"Do you think a sql-view mapped to a entity might be a good solution?"}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660901768,"creation_date":1635327966,"answer_id":69736338,"question_id":69735853,"body_markdown":"Note that you don&#39;t need to assign each type to the same index; Hibernate Search is perfectly capable of searching through multiple indexes in a single query. And performance would likely be identical (Lucene indexes are often split into multiple segments under the hood anyway).\r\n\r\nThat being said, here&#39;s how you could do it, assuming there&#39;s a constructor in `SearchResult`:\r\n\r\n```java\r\nclass SearchResult {\r\n  String stype;\r\n  String title;\r\n  String teaser;\r\n\r\n  public SearchResult(String stype, String title, String teaser) {\r\n    this.stype = stype;\r\n    this.title = title;\r\n    this.teaser = teaser;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ll start with [Hibernate Search 6](https://hibernate.org/search/releases/6.0/), since this could be significantly less awkward if you [upgraded](https://docs.jboss.org/hibernate/search/6.0/migration/html_single/). You&#39;ll find an older answer for Hibernate Search 5 below.\r\n\r\nFor Hibernate Search 6, you&#39;ll need a few changes to your mapping:\r\n\r\n```java\r\n@Indexed\r\nclass Book {\r\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  final String stype = &quot;BOOK&quot;;\r\n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String bookTitle;\r\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String bookBlurb ;\r\n}\r\n\r\n@Indexed\r\nclass Person{\r\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  final String stype = &quot;PERSON&quot;;\r\n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String fullname;\r\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String profileIntroText;\r\n}\r\n\r\n@Indexed\r\nclass Location{\r\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  final String stype = &quot;LOCATION&quot;;      \r\n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String streetPcAndCity;\r\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\r\n  String wikiIntoText;\r\n}\r\n```\r\n\r\nBut then I think the improvements when searching would be worth the trouble:\r\n\r\n```java\r\nList&lt;SearchResult&gt; hits = Search.session(entityManager)\r\n        .search(Arrays.asList(Book.class, Person.class, Location.class))\r\n        .select(f -&gt; f.composite(\r\n                SearchResult::new,\r\n                f.field(&quot;stype&quot;, String.class),\r\n                f.field(&quot;title&quot;, String.class),\r\n                f.field(&quot;teaser&quot;, String.class)))\r\n        .where(f -&gt; ...)\r\n        .fetchHits( 20 );\r\n```\r\n\r\n----\r\n\r\nStill in Hibernate Search 6 (though I believe you&#39;ll need 6.1 at least), you could even use an interface:\r\n\r\n\r\n```java\r\ninterface Searchable {\r\n  @KeywordField(projectable = Projectable.YES, analyzer = ...)\r\n  String getStype();\r\n  @FullTextField(projectable = Projectable.YES, analyzer = ...)\r\n  String getTitle();\r\n  @FullTextField(projectable = Projectable.YES, analyzer = ...)\r\n  String getTeaser();\r\n}\r\n\r\n@Indexed\r\nclass Book implements Searchable {\r\n  String bookTitle;\r\n  String bookBlurb;\r\n\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  String getStype() {\r\n      return &quot;BOOK&quot;;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\r\n  ))\r\n  String getTitle() {\r\n      return bookTitle;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\r\n  ))\r\n  String getTeaser() {\r\n      return bookBlurb;\r\n  }\r\n}\r\n\r\n@Indexed\r\nclass Person implements Searchable {\r\n  String fullname;\r\n  String profileIntroText;\r\n\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  String getStype() {\r\n      return &quot;PERSON&quot;;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\r\n  ))\r\n  String getTitle() {\r\n      return bookTitle;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\r\n  ))\r\n  String getTeaser() {\r\n      return bookBlurb;\r\n  }\r\n}\r\n\r\n@Indexed\r\nclass Location implements Searchable {\r\n  String streetPcAndCity;\r\n  String wikiIntoText;\r\n\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\r\n  String getStype() {\r\n      return &quot;LOCATION&quot;;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;streetPcAndCity&quot;)\r\n  ))\r\n  String getTitle() {\r\n      return streetPcAndCity;\r\n  }\r\n  @Override\r\n  @javax.persistence.Transient\r\n  @IndexingDependency(derivedFrom = @ObjectPath(\r\n          @PropertyValue(propertyName = &quot;wikiIntoText&quot;)\r\n  ))\r\n  String getTeaser() {\r\n      return wikiIntoText;\r\n  }\r\n}\r\n```\r\n\r\nThen you could search that way:\r\n\r\n```java\r\nList&lt;SearchResult&gt; hits = Search.session(entityManager)\r\n        .search(Searchable.class)\r\n        .select(f -&gt; f.composite(\r\n                SearchResult::new,\r\n                f.field(&quot;stype&quot;, String.class),\r\n                f.field(&quot;title&quot;, String.class),\r\n                f.field(&quot;teaser&quot;, String.class)))\r\n        .where(f -&gt; ...)\r\n        .fetchHits( 20 );\r\n```\r\n\r\nAnd alternatively, you would be able to load the entities directly:\r\n\r\n```java\r\nList&lt;Searchable&gt; hits = Search.session(entityManager)\r\n        .search(Searchable.class)\r\n        .where(f -&gt; ...)\r\n        .fetchHits( 20 );\r\n\r\nfor (Searchable hit : hits) {\r\n    String stype = hit.getStype();\r\n    String title = hit.getTitle();\r\n    String teaser = hit.getTeaser();\r\n    if ( hit instanceof Book ) {\r\n        ...\r\n    }\r\n    else if ( hit instanceof Location ) {\r\n        ...\r\n    }\r\n    else { \r\n        ...\r\n    } \r\n}\r\n```\r\n\r\n\r\n----\r\n\r\nAnd starting with [Hibernate Search 6.2](https://hibernate.org/search/releases/6.2/), you can make the projection even simpler by annotating the projection class with `@ProjectionConstructor` (and [compiling with the `-parameters` compiler flag](https://docs.jboss.org/hibernate/search/6.2/reference/en-US/html_single/#mapping-projection-inner-inference-fieldpath)):\r\n\r\n\r\n```java\r\nclass SearchResult {\r\n  String stype;\r\n  String title;\r\n  String teaser;\r\n\r\n  @ProjectionConstructor\r\n  public SearchResult(String stype, String title, String teaser) {\r\n    this.stype = stype;\r\n    this.title = title;\r\n    this.teaser = teaser;\r\n  }\r\n}\r\n\r\n```\r\n\r\nThen you could search that way:\r\n\r\n```java\r\nList&lt;SearchResult&gt; hits = Search.session(entityManager)\r\n        .search(Searchable.class)\r\n        .select(SearchResult.class)\r\n        .where(f -&gt; ...)\r\n        .fetchHits( 20 );\r\n```\r\n\r\n---\r\n\r\nOlder answer for Hibernate Search 5:\r\n\r\nMark your fields as stored:\r\n\r\n```\r\n@Indexed\r\nclass Book {\r\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\r\n  final String stype = &quot;BOOK&quot;;\r\n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\r\n  String bookTitle;\r\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\r\n  String bookBlurb ;\r\n}\r\n\r\n@Indexed\r\nclass Person{\r\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\r\n  final String stype = &quot;PERSON&quot;;\r\n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\r\n  String fullname;\r\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\r\n  String profileIntroText;\r\n}\r\n\r\n@Indexed\r\nclass Location{\r\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\r\n  final String stype = &quot;LOCATION&quot;;      \r\n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\r\n  String streetPcAndCity;\r\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\r\n  String wikiIntoText;\r\n}\r\n```\r\n\r\nThen query like this:\r\n\r\n```java\r\nFullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager( entityManager);\r\nfinal QueryBuilder queryBuilder = fullTextEntityManager\r\n            .getSearchFactory()\r\n            .buildQueryBuilder()\r\n            .forEntity(Book.class)\r\n            .get();\r\n\r\nQuery luceneQuery = ...;\r\n\r\nFullTextQuery query = fullTextEntityManager.createFullTextQuery(query, Book.class, Person.class, Location.class);\r\nquery.setProjection(&quot;stype&quot;, &quot;title&quot;, &quot;teaser&quot;);\r\nquery.setMaxResults(20);\r\n\r\nList&lt;Object[]&gt; arrayResults = query.list();\r\n\r\nList&lt;SearchResult&gt; hits = new ArrayList&lt;&gt;();\r\nfor (Object[] array : arrayResults) {\r\n    hits.add(new SearchResult((String) array[0], (String) array[1], (String) array[2]);\r\n}\r\n```","title":"Single return type in Hibernate Search","body":"<p>Note that you don't need to assign each type to the same index; Hibernate Search is perfectly capable of searching through multiple indexes in a single query. And performance would likely be identical (Lucene indexes are often split into multiple segments under the hood anyway).</p>\n<p>That being said, here's how you could do it, assuming there's a constructor in <code>SearchResult</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SearchResult {\n  String stype;\n  String title;\n  String teaser;\n\n  public SearchResult(String stype, String title, String teaser) {\n    this.stype = stype;\n    this.title = title;\n    this.teaser = teaser;\n  }\n}\n</code></pre>\n<p>I'll start with <a href=\"https://hibernate.org/search/releases/6.0/\" rel=\"nofollow noreferrer\">Hibernate Search 6</a>, since this could be significantly less awkward if you <a href=\"https://docs.jboss.org/hibernate/search/6.0/migration/html_single/\" rel=\"nofollow noreferrer\">upgraded</a>. You'll find an older answer for Hibernate Search 5 below.</p>\n<p>For Hibernate Search 6, you'll need a few changes to your mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Indexed\nclass Book {\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  final String stype = &quot;BOOK&quot;;\n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\n  String bookTitle;\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\n  String bookBlurb ;\n}\n\n@Indexed\nclass Person{\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  final String stype = &quot;PERSON&quot;;\n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\n  String fullname;\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\n  String profileIntroText;\n}\n\n@Indexed\nclass Location{\n  @KeywordField(name = &quot;stype&quot;, projectable = Projectable.YES)\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  final String stype = &quot;LOCATION&quot;;      \n  @FullTextField(name = &quot;title&quot;, projectable = Projectable.YES, analyzer = ...)\n  String streetPcAndCity;\n  @FullTextField(name = &quot;teaser&quot;, projectable = Projectable.YES, analyzer = ...)\n  String wikiIntoText;\n}\n</code></pre>\n<p>But then I think the improvements when searching would be worth the trouble:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;SearchResult&gt; hits = Search.session(entityManager)\n        .search(Arrays.asList(Book.class, Person.class, Location.class))\n        .select(f -&gt; f.composite(\n                SearchResult::new,\n                f.field(&quot;stype&quot;, String.class),\n                f.field(&quot;title&quot;, String.class),\n                f.field(&quot;teaser&quot;, String.class)))\n        .where(f -&gt; ...)\n        .fetchHits( 20 );\n</code></pre>\n<hr />\n<p>Still in Hibernate Search 6 (though I believe you'll need 6.1 at least), you could even use an interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Searchable {\n  @KeywordField(projectable = Projectable.YES, analyzer = ...)\n  String getStype();\n  @FullTextField(projectable = Projectable.YES, analyzer = ...)\n  String getTitle();\n  @FullTextField(projectable = Projectable.YES, analyzer = ...)\n  String getTeaser();\n}\n\n@Indexed\nclass Book implements Searchable {\n  String bookTitle;\n  String bookBlurb;\n\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  String getStype() {\n      return &quot;BOOK&quot;;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\n  ))\n  String getTitle() {\n      return bookTitle;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\n  ))\n  String getTeaser() {\n      return bookBlurb;\n  }\n}\n\n@Indexed\nclass Person implements Searchable {\n  String fullname;\n  String profileIntroText;\n\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  String getStype() {\n      return &quot;PERSON&quot;;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\n  ))\n  String getTitle() {\n      return bookTitle;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;bookTitle&quot;)\n  ))\n  String getTeaser() {\n      return bookBlurb;\n  }\n}\n\n@Indexed\nclass Location implements Searchable {\n  String streetPcAndCity;\n  String wikiIntoText;\n\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.NO)\n  String getStype() {\n      return &quot;LOCATION&quot;;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;streetPcAndCity&quot;)\n  ))\n  String getTitle() {\n      return streetPcAndCity;\n  }\n  @Override\n  @javax.persistence.Transient\n  @IndexingDependency(derivedFrom = @ObjectPath(\n          @PropertyValue(propertyName = &quot;wikiIntoText&quot;)\n  ))\n  String getTeaser() {\n      return wikiIntoText;\n  }\n}\n</code></pre>\n<p>Then you could search that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;SearchResult&gt; hits = Search.session(entityManager)\n        .search(Searchable.class)\n        .select(f -&gt; f.composite(\n                SearchResult::new,\n                f.field(&quot;stype&quot;, String.class),\n                f.field(&quot;title&quot;, String.class),\n                f.field(&quot;teaser&quot;, String.class)))\n        .where(f -&gt; ...)\n        .fetchHits( 20 );\n</code></pre>\n<p>And alternatively, you would be able to load the entities directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Searchable&gt; hits = Search.session(entityManager)\n        .search(Searchable.class)\n        .where(f -&gt; ...)\n        .fetchHits( 20 );\n\nfor (Searchable hit : hits) {\n    String stype = hit.getStype();\n    String title = hit.getTitle();\n    String teaser = hit.getTeaser();\n    if ( hit instanceof Book ) {\n        ...\n    }\n    else if ( hit instanceof Location ) {\n        ...\n    }\n    else { \n        ...\n    } \n}\n</code></pre>\n<hr />\n<p>And starting with <a href=\"https://hibernate.org/search/releases/6.2/\" rel=\"nofollow noreferrer\">Hibernate Search 6.2</a>, you can make the projection even simpler by annotating the projection class with <code>@ProjectionConstructor</code> (and <a href=\"https://docs.jboss.org/hibernate/search/6.2/reference/en-US/html_single/#mapping-projection-inner-inference-fieldpath\" rel=\"nofollow noreferrer\">compiling with the <code>-parameters</code> compiler flag</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SearchResult {\n  String stype;\n  String title;\n  String teaser;\n\n  @ProjectionConstructor\n  public SearchResult(String stype, String title, String teaser) {\n    this.stype = stype;\n    this.title = title;\n    this.teaser = teaser;\n  }\n}\n\n</code></pre>\n<p>Then you could search that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;SearchResult&gt; hits = Search.session(entityManager)\n        .search(Searchable.class)\n        .select(SearchResult.class)\n        .where(f -&gt; ...)\n        .fetchHits( 20 );\n</code></pre>\n<hr />\n<p>Older answer for Hibernate Search 5:</p>\n<p>Mark your fields as stored:</p>\n<pre><code>@Indexed\nclass Book {\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\n  final String stype = &quot;BOOK&quot;;\n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\n  String bookTitle;\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\n  String bookBlurb ;\n}\n\n@Indexed\nclass Person{\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\n  final String stype = &quot;PERSON&quot;;\n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\n  String fullname;\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\n  String profileIntroText;\n}\n\n@Indexed\nclass Location{\n  @Field(name = &quot;stype&quot;, store = Store.YES, analyze = ...)\n  final String stype = &quot;LOCATION&quot;;      \n  @Field(name = &quot;title&quot;, store = Store.YES, analyze = ...)\n  String streetPcAndCity;\n  @Field(name = &quot;teaser&quot;, store = Store.YES, analyze = ...)\n  String wikiIntoText;\n}\n</code></pre>\n<p>Then query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager( entityManager);\nfinal QueryBuilder queryBuilder = fullTextEntityManager\n            .getSearchFactory()\n            .buildQueryBuilder()\n            .forEntity(Book.class)\n            .get();\n\nQuery luceneQuery = ...;\n\nFullTextQuery query = fullTextEntityManager.createFullTextQuery(query, Book.class, Person.class, Location.class);\nquery.setProjection(&quot;stype&quot;, &quot;title&quot;, &quot;teaser&quot;);\nquery.setMaxResults(20);\n\nList&lt;Object[]&gt; arrayResults = query.list();\n\nList&lt;SearchResult&gt; hits = new ArrayList&lt;&gt;();\nfor (Object[] array : arrayResults) {\n    hits.add(new SearchResult((String) array[0], (String) array[1], (String) array[2]);\n}\n</code></pre>\n"}],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69736338,"answer_count":1,"score":0,"last_activity_date":1660901768,"creation_date":1635325913,"question_id":69735853,"body_markdown":"Let&#39;s say I have an app with many different entities, which do not have relations between each other.\r\n\r\nI would like to create a search that queries all of them, but returns a unified type, i.e:\r\n\r\n    class SearchResult {\r\n      String stype;\r\n      String title;\r\n      String teaser;\r\n    }\r\n\r\nSo my idea was to index the entities and put their values into one single index (with same index fields):\r\n\r\n    @Indexed(index = &quot;idx_search&quot;)\r\n    class Book {\r\n      @Field(name = &quot;stype&quot;, analyze = ...)\r\n      final String stype = &quot;BOOK&quot;;\r\n      @Field(name = &quot;title&quot;, analyze = ...)\r\n      String bookTitle;\r\n      @Field(name = &quot;teaser&quot;, analyze = ...)\r\n      String bookBlurb ;\r\n    }\r\n\r\n    @Indexed(index = &quot;idx_search&quot;)\r\n    class Person{\r\n      @Field(name = &quot;stype&quot;, analyze = ...)\r\n      final String stype = &quot;PERSON&quot;;\r\n      @Field(name = &quot;title&quot;, analyze = ...)\r\n      String fullname;\r\n      @Field(name = &quot;teaser&quot;, analyze = ...)\r\n      String profileIntroText;\r\n    }\r\n\r\n    @Indexed(index = &quot;idx_search&quot;)\r\n    class Location{\r\n      @Field(name = &quot;stype&quot;, analyze = ...)\r\n      final String stype = &quot;LOCATION&quot;;      \r\n      @Field(name = &quot;title&quot;, analyze = ...)\r\n      String streetPcAndCity;\r\n      @Field(name = &quot;teaser&quot;, analyze = ...)\r\n      String wikiIntoText;\r\n    }\r\n\r\nAs you can see, the index name and the fields names are the same on all entities.\r\n\r\nNow I want to query them getting such results:\r\n\r\n    SearchResult[stype: PERSON, title: Spongebob, teaser: A funny sponge]\r\n    SearchResult[stype: BOOK, title: Clean Architecture , teaser: A Craftsmans Guide to Software...]\r\n    SearchResult[stype: PERSON, title: Patric, teaser: A funny seastar]\r\n    SearchResult[stype: LOCATION, title: Hannover, teaser: A city in Germany]\r\n\r\nSo SearchResult is not an entity, but just merging the results into a single type. The indexing works, but I have to pass the entity type into the query and the QueryBuilder when searching:\r\n\r\n    final QueryBuilder queryBuilder = fullTextEntityManager\r\n                .getSearchFactory()\r\n                .buildQueryBuilder()\r\n                .forEntity(SearchResult.class)\r\n                .get();\r\n    ...\r\n\r\nHibernate then returns this error message:\r\n\r\n`HSEARCH000331: Can&#39;t build query for type &#39;SearchResult&#39; which is neither configured nor has any configured sub-types.`\r\n\r\nDo you think this there is a way to make this work?\r\n\r\n","title":"Single return type in Hibernate Search","body":"<p>Let's say I have an app with many different entities, which do not have relations between each other.</p>\n<p>I would like to create a search that queries all of them, but returns a unified type, i.e:</p>\n<pre><code>class SearchResult {\n  String stype;\n  String title;\n  String teaser;\n}\n</code></pre>\n<p>So my idea was to index the entities and put their values into one single index (with same index fields):</p>\n<pre><code>@Indexed(index = &quot;idx_search&quot;)\nclass Book {\n  @Field(name = &quot;stype&quot;, analyze = ...)\n  final String stype = &quot;BOOK&quot;;\n  @Field(name = &quot;title&quot;, analyze = ...)\n  String bookTitle;\n  @Field(name = &quot;teaser&quot;, analyze = ...)\n  String bookBlurb ;\n}\n\n@Indexed(index = &quot;idx_search&quot;)\nclass Person{\n  @Field(name = &quot;stype&quot;, analyze = ...)\n  final String stype = &quot;PERSON&quot;;\n  @Field(name = &quot;title&quot;, analyze = ...)\n  String fullname;\n  @Field(name = &quot;teaser&quot;, analyze = ...)\n  String profileIntroText;\n}\n\n@Indexed(index = &quot;idx_search&quot;)\nclass Location{\n  @Field(name = &quot;stype&quot;, analyze = ...)\n  final String stype = &quot;LOCATION&quot;;      \n  @Field(name = &quot;title&quot;, analyze = ...)\n  String streetPcAndCity;\n  @Field(name = &quot;teaser&quot;, analyze = ...)\n  String wikiIntoText;\n}\n</code></pre>\n<p>As you can see, the index name and the fields names are the same on all entities.</p>\n<p>Now I want to query them getting such results:</p>\n<pre><code>SearchResult[stype: PERSON, title: Spongebob, teaser: A funny sponge]\nSearchResult[stype: BOOK, title: Clean Architecture , teaser: A Craftsmans Guide to Software...]\nSearchResult[stype: PERSON, title: Patric, teaser: A funny seastar]\nSearchResult[stype: LOCATION, title: Hannover, teaser: A city in Germany]\n</code></pre>\n<p>So SearchResult is not an entity, but just merging the results into a single type. The indexing works, but I have to pass the entity type into the query and the QueryBuilder when searching:</p>\n<pre><code>final QueryBuilder queryBuilder = fullTextEntityManager\n            .getSearchFactory()\n            .buildQueryBuilder()\n            .forEntity(SearchResult.class)\n            .get();\n...\n</code></pre>\n<p>Hibernate then returns this error message:</p>\n<p><code>HSEARCH000331: Can't build query for type 'SearchResult' which is neither configured nor has any configured sub-types.</code></p>\n<p>Do you think this there is a way to make this work?</p>\n"},{"tags":["java","visual-studio-code","gradle","gradlew","java-home"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660900023,"creation_date":1660900023,"answer_id":73414387,"question_id":73413718,"body_markdown":"Set up the `Java runtime` separately for your project workspace.\r\n\r\n- &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; pen the control panel and select **Preferences:Open Workspace Setting(JSON)**\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n- Add the following configuration to the **settings.json** file\r\n\r\n```json\r\n// Just an example, please modify it to your own path\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-8.0.332.9-hotspot&quot;,\r\n            &quot;default&quot; : true,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\r\n        }\r\n    ],\r\n```\r\n\r\n- Change `&quot;default&quot; : true` for different workspace.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t0I7r.png","title":"How to configure VSCode on Linux to make it apply different JAVA_HOME for Gradle in different projects?","body":"<p>Set up the <code>Java runtime</code> separately for your project workspace.</p>\n<ul>\n<li><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> pen the control panel and select <strong>Preferences:Open Workspace Setting(JSON)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/t0I7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t0I7r.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Add the following configuration to the <strong>settings.json</strong> file</p>\n</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>// Just an example, please modify it to your own path\n\n    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-8.0.332.9-hotspot&quot;,\n            &quot;default&quot; : true,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\n        }\n    ],\n</code></pre>\n<ul>\n<li>Change <code>&quot;default&quot; : true</code> for different workspace.</li>\n</ul>\n"}],"owner":{"account_id":26006921,"reputation":105,"user_id":19716509,"display_name":"饕餮饗食"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73414387,"answer_count":1,"score":4,"last_activity_date":1660900023,"creation_date":1660896805,"question_id":73413718,"body_markdown":"Right now I have a Spring project (needs Java 17) and a minecraft-forge-1.12 project (needs Java 8) on the same system. \r\n\r\nI want vscode to automatically change JAVA_HOME between `/usr/lib/jvm/java-17-openjdk-amd64` and `/usr/lib/jvm/java-8-openjdk-amd64` for gradlew command when I switch between these two project. \r\n\r\nI tried using `.vscode/settings.json` to do that, but `java.import.gradle.java.home` cannot change in `settings.json`, so I can&#39;t change this for Gradle.\r\n\r\nIs there a way doing that?","title":"How to configure VSCode on Linux to make it apply different JAVA_HOME for Gradle in different projects?","body":"<p>Right now I have a Spring project (needs Java 17) and a minecraft-forge-1.12 project (needs Java 8) on the same system.</p>\n<p>I want vscode to automatically change JAVA_HOME between <code>/usr/lib/jvm/java-17-openjdk-amd64</code> and <code>/usr/lib/jvm/java-8-openjdk-amd64</code> for gradlew command when I switch between these two project.</p>\n<p>I tried using <code>.vscode/settings.json</code> to do that, but <code>java.import.gradle.java.home</code> cannot change in <code>settings.json</code>, so I can't change this for Gradle.</p>\n<p>Is there a way doing that?</p>\n"},{"tags":["java","apache-camel","activemq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635946329,"creation_date":1635946329,"answer_id":69825774,"question_id":69820583,"body_markdown":"You should use `camel-activemq` or even just `camel-jms` with an `ActiveMQConnectionFactory`. The `activemq-camel` module in the ActiveMQ project is [going to be removed][1].\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/AMQ-8033","title":"Difference between &quot;camel-activemq&quot; vs &quot;activemq-camel&quot;","body":"<p>You should use <code>camel-activemq</code> or even just <code>camel-jms</code> with an <code>ActiveMQConnectionFactory</code>. The <code>activemq-camel</code> module in the ActiveMQ project is <a href=\"https://issues.apache.org/jira/browse/AMQ-8033\" rel=\"noreferrer\">going to be removed</a>.</p>\n"}],"owner":{"account_id":313433,"reputation":640,"user_id":3405398,"accept_rate":56,"display_name":"kaluva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69825774,"answer_count":1,"score":3,"last_activity_date":1660899768,"creation_date":1635921514,"question_id":69820583,"body_markdown":"We are upgrading our system to newest stable frameworks/libraries. However, i found difficulty in understand between these two `camel-activemq` vs `activemq-camel`. Below are details:\r\n1) We are upgrading `ActiveMQ to 5.16.2` version. Here AMQ provides `&quot;activemq-camel&quot;` libraries with its own camel dependencies like:\r\n[![enter image description here][1]][1]\r\n\r\n2) Also, we are planning to migrate a service which runs on `camel-2.x` to `3.11.3`. Here  i see camel provides `camel-activemq` with version `3.11.3`. So i&#39;m confused what to choose here. Will there be incompatibility if i choose `camel-activmeq-3.11.3` while routing messages to `AMQ-5.16.2`.\r\n\r\nWhen i opened both jars, i see packages/classes different in both jars.\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nMaven repo says both are **&quot;AciveMQ component for Camel&quot;**\r\n\r\nCan anyone please clarify difference between these two `activemq-camel` and `camel-activemq`\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Px7Ux.png\r\n  [2]: https://i.stack.imgur.com/r0CRH.png\r\n  [3]: https://i.stack.imgur.com/6oTdA.png\r\n  [4]: https://i.stack.imgur.com/2JrhR.png","title":"Difference between &quot;camel-activemq&quot; vs &quot;activemq-camel&quot;","body":"<p>We are upgrading our system to newest stable frameworks/libraries. However, i found difficulty in understand between these two <code>camel-activemq</code> vs <code>activemq-camel</code>. Below are details:</p>\n<ol>\n<li><p>We are upgrading <code>ActiveMQ to 5.16.2</code> version. Here AMQ provides <code>&quot;activemq-camel&quot;</code> libraries with its own camel dependencies like:\n<a href=\"https://i.stack.imgur.com/Px7Ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Px7Ux.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Also, we are planning to migrate a service which runs on <code>camel-2.x</code> to <code>3.11.3</code>. Here  i see camel provides <code>camel-activemq</code> with version <code>3.11.3</code>. So i'm confused what to choose here. Will there be incompatibility if i choose <code>camel-activmeq-3.11.3</code> while routing messages to <code>AMQ-5.16.2</code>.</p>\n</li>\n</ol>\n<p>When i opened both jars, i see packages/classes different in both jars.\n<a href=\"https://i.stack.imgur.com/r0CRH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r0CRH.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/6oTdA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oTdA.png\" alt=\"enter image description here\" /></a></p>\n<p>Maven repo says both are <strong>&quot;AciveMQ component for Camel&quot;</strong></p>\n<p>Can anyone please clarify difference between these two <code>activemq-camel</code> and <code>camel-activemq</code>\n<a href=\"https://i.stack.imgur.com/2JrhR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2JrhR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","docker","jib","maven-jib"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660899617,"creation_date":1660899617,"answer_id":73414315,"question_id":73413510,"body_markdown":"The Docker registry seems to have issues, at least currently:\r\n\r\nhttps://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver/images/sha256-b6b14b07af4cbe25a542c3671b7171cf02c8bcf5e246b0dcdb4e8a733f495aab?context=explore\r\n\r\nhttps://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver-ltsc2022/images/sha256-11ceaad0c39c7020033244de0b9d97722fabd62ceb3103f7af31c502fe79da53?context=explore\r\n\r\nWhich means, that HTTP 404 is the response to expect.","title":"Using Jib Maven Plugin to pull as base image an windows nanoserver eclipse-temurin:8 gives error blob unknown to registry","body":"<p>The Docker registry seems to have issues, at least currently:</p>\n<p><a href=\"https://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver/images/sha256-b6b14b07af4cbe25a542c3671b7171cf02c8bcf5e246b0dcdb4e8a733f495aab?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver/images/sha256-b6b14b07af4cbe25a542c3671b7171cf02c8bcf5e246b0dcdb4e8a733f495aab?context=explore</a></p>\n<p><a href=\"https://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver-ltsc2022/images/sha256-11ceaad0c39c7020033244de0b9d97722fabd62ceb3103f7af31c502fe79da53?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/eclipse-temurin/library/eclipse-temurin/8-nanoserver-ltsc2022/images/sha256-11ceaad0c39c7020033244de0b9d97722fabd62ceb3103f7af31c502fe79da53?context=explore</a></p>\n<p>Which means, that HTTP 404 is the response to expect.</p>\n"}],"owner":{"account_id":15497005,"reputation":23,"user_id":19478504,"display_name":"Alex998"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660899617,"creation_date":1660895586,"question_id":73413510,"body_markdown":"I am trying to containerize and create an image of my spring boot app using Jib. The requirement is that it should run on an windows container thus my base image is eclipse-temurin:8-nanoserver.\r\nhttps://hub.docker.com/r/winamd64/eclipse-temurin/\r\n\r\nWhenever I build my image I get the following error:\r\n```\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (push-custom-tag) on project snmp-microservice: com.google.cloud.tools.jib.registry.RegistryErrorException: Tried to pull BLOB for registry-1.docker.io/library/eclipse-temurin with digest sha256:2ebf439f800cd4c1fccaf4a0545e6bff60caa5141295c8ab81f6c525073c423d but failed because: blob unknown to registry (something went wrong): 404 Not Found\r\n[ERROR] {&quot;errors&quot;:[{&quot;code&quot;:&quot;BLOB_UNKNOWN&quot;,&quot;message&quot;:&quot;blob unknown to registry&quot;,&quot;detail&quot;:&quot;sha256:2ebf439f800cd4c1fccaf4a0545e6bff60caa5141295c8ab81f6c525073c423d&quot;}]}\r\n[ERROR] -&gt; [Help 1]\r\n```\r\nThis is how jib looks in my pom.xml:\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jib-push-to-local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;from&gt;\r\n                                &lt;image&gt;eclipse-temurin:8-nanoserver&lt;/image&gt;\r\n                                &lt;platforms&gt;\r\n                                    &lt;platform&gt;\r\n                                        &lt;architecture&gt;amd64&lt;/architecture&gt;\r\n                                        &lt;os&gt;windows&lt;/os&gt;\r\n                                    &lt;/platform&gt;\r\n                                &lt;/platforms&gt;\r\n                            &lt;/from&gt;\r\n                            &lt;container&gt;\r\n                                &lt;ports&gt;\r\n                                    &lt;port&gt;8080&lt;/port&gt;\r\n                                &lt;/ports&gt;\r\n                                &lt;format&gt;OCI&lt;/format&gt;\r\n                            &lt;/container&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;push-custom-tag&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;to&gt;\r\n                                        &lt;image&gt;amb/${app.image.name}:${version}&lt;/image&gt;\r\n                                    &lt;/to&gt;\r\n                                &lt;/configuration&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;dockerBuild&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nI am using docker for windows, docker version shows:\r\n```\r\nClient:\r\n Version:           master-dockerproject-2022-03-26\r\n API version:       1.42\r\n Go version:        go1.17.8\r\n Git commit:        dd7397342a\r\n Built:             Sun Mar 27 00:09:40 2022\r\n OS/Arch:           windows/amd64\r\n Context:           default\r\n Experimental:      true\r\n\r\nServer: Docker Engine - Community\r\n Engine:\r\n  Version:          master-dockerproject-2022-03-26\r\n  API version:      1.42 (minimum version 1.24)\r\n  Go version:       go1.18\r\n  Git commit:       8941dcfcc5\r\n  Built:            Sun Mar 27 00:05:42 2022\r\n  OS/Arch:          windows/amd64\r\n  Experimental:     false\r\n```\r\nIs worth saying that with jib this happens with any version of eclipse temurin with a base image of windows, I tried to pull windowsservercore and nanoserver and all of their associated versions that eclipse temurin offers but for all I get the same issue, I think maybe Jib doesn&#39;t support windows builds. If I create a Dockerfile and I don&#39;t use Jib everything works perfectly, however I really want to use Jib. Any ideas what might be the issue ? \r\n\r\n","title":"Using Jib Maven Plugin to pull as base image an windows nanoserver eclipse-temurin:8 gives error blob unknown to registry","body":"<p>I am trying to containerize and create an image of my spring boot app using Jib. The requirement is that it should run on an windows container thus my base image is eclipse-temurin:8-nanoserver.\n<a href=\"https://hub.docker.com/r/winamd64/eclipse-temurin/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/winamd64/eclipse-temurin/</a></p>\n<p>Whenever I build my image I get the following error:</p>\n<pre><code>[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (push-custom-tag) on project snmp-microservice: com.google.cloud.tools.jib.registry.RegistryErrorException: Tried to pull BLOB for registry-1.docker.io/library/eclipse-temurin with digest sha256:2ebf439f800cd4c1fccaf4a0545e6bff60caa5141295c8ab81f6c525073c423d but failed because: blob unknown to registry (something went wrong): 404 Not Found\n[ERROR] {&quot;errors&quot;:[{&quot;code&quot;:&quot;BLOB_UNKNOWN&quot;,&quot;message&quot;:&quot;blob unknown to registry&quot;,&quot;detail&quot;:&quot;sha256:2ebf439f800cd4c1fccaf4a0545e6bff60caa5141295c8ab81f6c525073c423d&quot;}]}\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>This is how jib looks in my pom.xml:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;jib-push-to-local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;from&gt;\n                                &lt;image&gt;eclipse-temurin:8-nanoserver&lt;/image&gt;\n                                &lt;platforms&gt;\n                                    &lt;platform&gt;\n                                        &lt;architecture&gt;amd64&lt;/architecture&gt;\n                                        &lt;os&gt;windows&lt;/os&gt;\n                                    &lt;/platform&gt;\n                                &lt;/platforms&gt;\n                            &lt;/from&gt;\n                            &lt;container&gt;\n                                &lt;ports&gt;\n                                    &lt;port&gt;8080&lt;/port&gt;\n                                &lt;/ports&gt;\n                                &lt;format&gt;OCI&lt;/format&gt;\n                            &lt;/container&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;push-custom-tag&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;configuration&gt;\n                                    &lt;to&gt;\n                                        &lt;image&gt;amb/${app.image.name}:${version}&lt;/image&gt;\n                                    &lt;/to&gt;\n                                &lt;/configuration&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;dockerBuild&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>I am using docker for windows, docker version shows:</p>\n<pre><code>Client:\n Version:           master-dockerproject-2022-03-26\n API version:       1.42\n Go version:        go1.17.8\n Git commit:        dd7397342a\n Built:             Sun Mar 27 00:09:40 2022\n OS/Arch:           windows/amd64\n Context:           default\n Experimental:      true\n\nServer: Docker Engine - Community\n Engine:\n  Version:          master-dockerproject-2022-03-26\n  API version:      1.42 (minimum version 1.24)\n  Go version:       go1.18\n  Git commit:       8941dcfcc5\n  Built:            Sun Mar 27 00:05:42 2022\n  OS/Arch:          windows/amd64\n  Experimental:     false\n</code></pre>\n<p>Is worth saying that with jib this happens with any version of eclipse temurin with a base image of windows, I tried to pull windowsservercore and nanoserver and all of their associated versions that eclipse temurin offers but for all I get the same issue, I think maybe Jib doesn't support windows builds. If I create a Dockerfile and I don't use Jib everything works perfectly, however I really want to use Jib. Any ideas what might be the issue ?</p>\n"},{"tags":["java","security","serialization","apache-commons"],"comments":[{"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"score":0,"creation_date":1660901273,"post_id":73414134,"comment_id":129648021,"body_markdown":"If you look into your static source code and see no InvokerTransformer calls being made, it still is not proof enough, that it will not be executed dynamically when the code runs. I would be careful as hell to claim that the class is not used so we are safe, without understanding the technical context of what the class does and how it is used in the framework. If you don&#39;t want to go though the details this deep, do it differently. Unpack the jar, remove the class, pack the jar, see if it works.","body":"If you look into your static source code and see no InvokerTransformer calls being made, it still is not proof enough, that it will not be executed dynamically when the code runs. I would be careful as hell to claim that the class is not used so we are safe, without understanding the technical context of what the class does and how it is used in the framework. If you don&#39;t want to go though the details this deep, do it differently. Unpack the jar, remove the class, pack the jar, see if it works."},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1660908366,"post_id":73414134,"comment_id":129650343,"body_markdown":"I see ur point, but when reading the link issue I sent, can you tell whether the class is used by the framework itself and it is vulnerable or the class should be called by the app using the framework? I couldn&#39;t really understand it well as the java deserialization issue is new topic for me.","body":"I see ur point, but when reading the link issue I sent, can you tell whether the class is used by the framework itself and it is vulnerable or the class should be called by the app using the framework? I couldn&#39;t really understand it well as the java deserialization issue is new topic for me."},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1660908471,"post_id":73414134,"comment_id":129650380,"body_markdown":"and for hwat you suggested, I&#39;m not sure that is possible in a big application, even if I remove the class, I should try every single feature on the app because I don&#39;t know where apache commons is used.","body":"and for hwat you suggested, I&#39;m not sure that is possible in a big application, even if I remove the class, I should try every single feature on the app because I don&#39;t know where apache commons is used."}],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660898849,"creation_date":1660898849,"question_id":73414134,"body_markdown":"Looking at this issue/vulnerability: https://issues.apache.org/jira/browse/COLLECTIONS-580\r\n\r\ncan I say that if in my app code, the guilty class **InvokerTransformer** is not used, then my app is not vulnerable to this? Or not necessary ?","title":"does not using InvokerTransformer means my code is safe?","body":"<p>Looking at this issue/vulnerability: <a href=\"https://issues.apache.org/jira/browse/COLLECTIONS-580\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/COLLECTIONS-580</a></p>\n<p>can I say that if in my app code, the guilty class <strong>InvokerTransformer</strong> is not used, then my app is not vulnerable to this? Or not necessary ?</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1428205431,"creation_date":1428203610,"answer_id":29453731,"question_id":29453717,"body_markdown":"There are two cases to consider:\r\n\r\n1. The closest integer that is less than or equal to `a`:\r\n\r\n        int c1 = a - (a % b);\r\n\r\n2. The closest integer that is greater than `a`:\r\n\r\n        int c2 = (a + b) - (a % b);\r\n\r\nThen we need to check which is closer to `a` and return that:\r\n\r\n    int c;\r\n    if (a - c1 &gt; c2 - a) {\r\n        c = c2;\r\n    } else {\r\n        c = c1;\r\n    }\r\n\r\nSo we could create a `closestInteger()` method like this:\r\n\r\n    static int closestInteger(int a, int b) {\r\n        int c1 = a - (a % b);\r\n        int c2 = (a + b) - (a % b);\r\n        if (a - c1 &gt; c2 - a) {\r\n            return c2;\r\n        } else {\r\n            return c1;\r\n        }\r\n    }\r\n\r\nExample:\r\n\r\n    System.out.println(closestInteger(254, 25));\r\n    System.out.println(closestInteger(9, 5));\r\n\r\nOutput:\r\n\r\n    250\r\n    10","title":"Closest divisible integer","body":"<p>There are two cases to consider:</p>\n\n<ol>\n<li><p>The closest integer that is less than or equal to <code>a</code>:</p>\n\n<pre><code>int c1 = a - (a % b);\n</code></pre></li>\n<li><p>The closest integer that is greater than <code>a</code>:</p>\n\n<pre><code>int c2 = (a + b) - (a % b);\n</code></pre></li>\n</ol>\n\n<p>Then we need to check which is closer to <code>a</code> and return that:</p>\n\n<pre><code>int c;\nif (a - c1 &gt; c2 - a) {\n    c = c2;\n} else {\n    c = c1;\n}\n</code></pre>\n\n<p>So we could create a <code>closestInteger()</code> method like this:</p>\n\n<pre><code>static int closestInteger(int a, int b) {\n    int c1 = a - (a % b);\n    int c2 = (a + b) - (a % b);\n    if (a - c1 &gt; c2 - a) {\n        return c2;\n    } else {\n        return c1;\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(closestInteger(254, 25));\nSystem.out.println(closestInteger(9, 5));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>250\n10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6014015,"reputation":1182,"user_id":4723506,"display_name":"redge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428204158,"creation_date":1428203819,"answer_id":29453745,"question_id":29453717,"body_markdown":"Closest below:\r\nint c = (a/b)*b;\r\n\r\nSince a and b are both int.  The division a/b will truncate to the nearest in value (10). Then multiplying the result by b will give what you are looking for.\r\n\r\nOr\r\n\r\nClosest either way:\r\n\r\nint c = Math.round((float)a/b))*b;\r\n\r\nSince a is cast as float the answer will be a float and rounding goes to the nearest int. ","title":"Closest divisible integer","body":"<p>Closest below:\nint c = (a/b)*b;</p>\n\n<p>Since a and b are both int.  The division a/b will truncate to the nearest in value (10). Then multiplying the result by b will give what you are looking for.</p>\n\n<p>Or</p>\n\n<p>Closest either way:</p>\n\n<p>int c = Math.round((float)a/b))*b;</p>\n\n<p>Since a is cast as float the answer will be a float and rounding goes to the nearest int. </p>\n"},{"tags":[],"owner":{"account_id":3960214,"reputation":7032,"user_id":3267497,"accept_rate":18,"display_name":"Mshnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428204236,"creation_date":1428203839,"answer_id":29453747,"question_id":29453717,"body_markdown":"You have to check on both sides of `a`. So we set &#39;c1&#39; to the closest integer below (or equal to) `a`, and `c2` to be the closest integer above it. Then compare the differences. If `c1` is closer to `a`, set `c` to `c1`, otherwise `c2`.\r\n\r\n    int c1 = a - (a % b);\r\n    int c2 = c1 + b;\r\n    int c = a - c1 &lt; c2 - a ? c1 : c2;","title":"Closest divisible integer","body":"<p>You have to check on both sides of <code>a</code>. So we set 'c1' to the closest integer below (or equal to) <code>a</code>, and <code>c2</code> to be the closest integer above it. Then compare the differences. If <code>c1</code> is closer to <code>a</code>, set <code>c</code> to <code>c1</code>, otherwise <code>c2</code>.</p>\n\n<pre><code>int c1 = a - (a % b);\nint c2 = c1 + b;\nint c = a - c1 &lt; c2 - a ? c1 : c2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1789974,"reputation":151636,"user_id":1630618,"accept_rate":100,"display_name":"vacawama"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428240031,"creation_date":1428240031,"answer_id":29457729,"question_id":29453717,"body_markdown":"If you don&#39;t mind going to the next highest integer when there is a tie (e.g. closest integer to 6 that is a multiple of 4 becomes 8 and not 4), then you can use this simple formula.  No comparisons are needed.\r\n\r\n    int c = (a + b/2)/b * b;  // closest integer to `a` that is divisible by `b`\r\n\r\nAll calculations are done with integer arithmetic (fractions are discarded).","title":"Closest divisible integer","body":"<p>If you don't mind going to the next highest integer when there is a tie (e.g. closest integer to 6 that is a multiple of 4 becomes 8 and not 4), then you can use this simple formula.  No comparisons are needed.</p>\n\n<pre><code>int c = (a + b/2)/b * b;  // closest integer to `a` that is divisible by `b`\n</code></pre>\n\n<p>All calculations are done with integer arithmetic (fractions are discarded).</p>\n"},{"tags":[],"owner":{"account_id":2753999,"reputation":1450,"user_id":4057024,"display_name":"siddhartha shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500614839,"creation_date":1500614839,"answer_id":45229620,"question_id":29453717,"body_markdown":"\tstatic void checkDivisibility(int i,int j) {\r\n\t    int mod = i % j;\r\n\t    if (mod == 0) {\r\n\t    \tSystem.out.println(i+ &quot; is divisible by 13 &quot;);\r\n\t      \r\n\t    } else {\r\n\t        if (mod &gt;= 7) {\r\n\t            i = (i + (j - mod));\r\n\t        } else {\r\n\t            i = i - mod;\r\n\t        }\r\n\t        System.out.println(i+&quot; is the nearest divisible &quot;);\r\n\t    }\r\n\t}\r\n\r\n**Call this method : checkDivisibility(40,13);\r\nOutput           : 39 is the nearest divisible** \r\n\r\n\r\n","title":"Closest divisible integer","body":"<pre><code>static void checkDivisibility(int i,int j) {\n    int mod = i % j;\n    if (mod == 0) {\n        System.out.println(i+ \" is divisible by 13 \");\n\n    } else {\n        if (mod &gt;= 7) {\n            i = (i + (j - mod));\n        } else {\n            i = i - mod;\n        }\n        System.out.println(i+\" is the nearest divisible \");\n    }\n}\n</code></pre>\n\n<p><strong>Call this method : checkDivisibility(40,13);\nOutput           : 39 is the nearest divisible</strong> </p>\n"},{"tags":[],"owner":{"account_id":11122975,"reputation":273,"user_id":8165339,"accept_rate":53,"display_name":"Pooja Dhannawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500616930,"creation_date":1500615693,"answer_id":45229813,"question_id":29453717,"body_markdown":"* Closet number less than a\r\nint c1 = a - (a % b);\r\n\r\n* Closet number greater than a\r\nint c2 = a + (b - (a%b))\r\n\r\nNow compare which one has less difference from a\r\n\r\nint d1 = a - c1;\r\n\r\nint d2 = c2 - a;\r\n\r\nif(d1 &gt; d2)//closest number is c2\r\n\r\nelse //closest number is c1\r\n\r\n","title":"Closest divisible integer","body":"<ul>\n<li><p>Closet number less than a\nint c1 = a - (a % b);</p></li>\n<li><p>Closet number greater than a\nint c2 = a + (b - (a%b))</p></li>\n</ul>\n\n<p>Now compare which one has less difference from a</p>\n\n<p>int d1 = a - c1;</p>\n\n<p>int d2 = c2 - a;</p>\n\n<p>if(d1 > d2)//closest number is c2</p>\n\n<p>else //closest number is c1</p>\n"},{"tags":[],"owner":{"account_id":19229843,"reputation":116,"user_id":14051912,"display_name":"Mohsin Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617194200,"creation_date":1617194200,"answer_id":66888019,"question_id":29453717,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var nums = [0, 9, 26, 39];\r\n    for (var i=0 ; i&lt;nums.length;i++){\r\n      \tconst mod = nums[i]%3;\r\n        if(mod!=0){\r\n        \tconsole.log(&quot;Closest Multiple: &quot;+(3*Math.round(nums[i]/3)))\r\n        }else{\r\n        \tconsole.log(&quot;Closest multiple: &quot;+nums[i])\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"Closest divisible integer","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var nums = [0, 9, 26, 39];\nfor (var i=0 ; i&lt;nums.length;i++){\n    const mod = nums[i]%3;\n    if(mod!=0){\n        console.log(\"Closest Multiple: \"+(3*Math.round(nums[i]/3)))\n    }else{\n        console.log(\"Closest multiple: \"+nums[i])\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":6499111,"reputation":906,"user_id":5030597,"display_name":"Kyrylo Semenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660898785,"creation_date":1660898785,"answer_id":73414118,"question_id":29453717,"body_markdown":"    int actual; // for example 23\r\n    int divisibleBy; // for example 8\r\n    int result = actual + divisibleBy - 1 &amp; -divisibleBy; // result is 24","title":"Closest divisible integer","body":"<pre><code>int actual; // for example 23\nint divisibleBy; // for example 8\nint result = actual + divisibleBy - 1 &amp; -divisibleBy; // result is 24\n</code></pre>\n"}],"owner":{"account_id":3353380,"reputation":2374,"user_id":2816909,"accept_rate":95,"display_name":"ThatGuy343"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13533,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29453731,"answer_count":8,"score":18,"last_activity_date":1660898785,"creation_date":1428203330,"question_id":29453717,"body_markdown":"Example.\r\n\r\n    int a = 254;\r\n    int b = 25;\r\n    \r\n    int c = (closest integer to `a` that is divisible by `b`)\r\n\r\nHow can I find the integer `c`? The result of that example is `c = 250`.","title":"Closest divisible integer","body":"<p>Example.</p>\n\n<pre><code>int a = 254;\nint b = 25;\n\nint c = (closest integer to `a` that is divisible by `b`)\n</code></pre>\n\n<p>How can I find the integer <code>c</code>? The result of that example is <code>c = 250</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1660898863,"post_id":73412935,"comment_id":129647231,"body_markdown":"rule of thumb: never ever try to interact with other beans or infrastructure when spring is constructing application context, either wait for `ContextRefreshedEvent` or take advantage of `org.springframework.context.Lifecycle`","body":"rule of thumb: never ever try to interact with other beans or infrastructure when spring is constructing application context, either wait for <code>ContextRefreshedEvent</code> or take advantage of <code>org.springframework.context.Lifecycle</code>"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660898386,"creation_date":1660892366,"question_id":73412935,"body_markdown":"I have a component A that asynchronously (@Async interface is used) runs the `foo()` method in component B. However, it may happen that the data in component B is not initialized yet and then `foo()` does not work correctly. Component A needs to wait for the data in component B to be initialized.\r\n\r\nIs there any high-level solution in Spring (I don&#39;t want to play directly with threads) that will try to wait for some time to see if component B initializes and if it initializes earlier, can the `foo()` method run as well? `Thread.sleep()` works, but it always waits the whole time, which I don&#39;t need.","title":"Waiting for a set variable in another Spring component","body":"<p>I have a component A that asynchronously (@Async interface is used) runs the <code>foo()</code> method in component B. However, it may happen that the data in component B is not initialized yet and then <code>foo()</code> does not work correctly. Component A needs to wait for the data in component B to be initialized.</p>\n<p>Is there any high-level solution in Spring (I don't want to play directly with threads) that will try to wait for some time to see if component B initializes and if it initializes earlier, can the <code>foo()</code> method run as well? <code>Thread.sleep()</code> works, but it always waits the whole time, which I don't need.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1660890588,"post_id":73412521,"comment_id":129644710,"body_markdown":"There is no &quot;fix for this error&quot; as it is probably caused by a corrupted file behind your `fileLocation`. Excel itself may be tolerant enough to ignore this corruption but Apache POI (respective Apache Commons Compress) is not. So file a bug in https://bz.apache.org/bugzilla/buglist.cgi?list_id=202094&amp;product=POI but add the Excel file causing this error as attachment there. Without having that file it will be nearly impossible to detect what problem causes this error.","body":"There is no &quot;fix for this error&quot; as it is probably caused by a corrupted file behind your <code>fileLocation</code>. Excel itself may be tolerant enough to ignore this corruption but Apache POI (respective Apache Commons Compress) is not. So file a bug in <a href=\"https://bz.apache.org/bugzilla/buglist.cgi?list_id=202094&amp;product=POI\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/&hellip;</a> but add the Excel file causing this error as attachment there. Without having that file it will be nearly impossible to detect what problem causes this error."},{"owner":{"account_id":592803,"reputation":1174,"user_id":284236,"accept_rate":57,"display_name":"Jayz"},"score":0,"creation_date":1660899833,"post_id":73412521,"comment_id":129647566,"body_markdown":"Ok I debugged the issue. It isn&#39;t related to Apache poi at all, it was due to another piece of code where I was reading the file and rewriting it, before passing it to this method. In the process, the file probably gets corrupted.","body":"Ok I debugged the issue. It isn&#39;t related to Apache poi at all, it was due to another piece of code where I was reading the file and rewriting it, before passing it to this method. In the process, the file probably gets corrupted."}],"answers":[{"tags":[],"owner":{"account_id":6969783,"reputation":49,"user_id":5346531,"display_name":"itsChathurangaJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660892609,"creation_date":1660892287,"answer_id":73412924,"question_id":73412521,"body_markdown":"Make the changes like this. if the file is of type xls, you have to use HSSFWorkbook obj to read it\r\n    \r\n    public List&lt;String&gt; getSheetNames(String fileLocation) throws Exception{\r\n        File inputFile = new File(fileLocation);\r\n        FileInputStream fis = new FileInputStream(inputFile);\r\n        Workbook workbook = null;\r\n                \r\n        try {\r\n            if (inputFile.getName().endsWith(&quot;.xlsx&quot;)) {\r\n                workbook = new XSSFWorkbook(fis);\r\n            } else if (inputFile.getName().endsWith(&quot;.xls&quot;)) {\r\n                workbook = new HSSFWorkbook(fis);\r\n            } else{\r\n                fis.close();\r\n                throw new IOException(&quot;This file extension type is not supported!&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        //do something with read lines\r\n    }","title":"Apache POI, throwing UnsupportedZipFeatureException","body":"<p>Make the changes like this. if the file is of type xls, you have to use HSSFWorkbook obj to read it</p>\n<pre><code>public List&lt;String&gt; getSheetNames(String fileLocation) throws Exception{\n    File inputFile = new File(fileLocation);\n    FileInputStream fis = new FileInputStream(inputFile);\n    Workbook workbook = null;\n            \n    try {\n        if (inputFile.getName().endsWith(&quot;.xlsx&quot;)) {\n            workbook = new XSSFWorkbook(fis);\n        } else if (inputFile.getName().endsWith(&quot;.xls&quot;)) {\n            workbook = new HSSFWorkbook(fis);\n        } else{\n            fis.close();\n            throw new IOException(&quot;This file extension type is not supported!&quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    //do something with read lines\n}\n</code></pre>\n"}],"owner":{"account_id":592803,"reputation":1174,"user_id":284236,"accept_rate":57,"display_name":"Jayz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660898171,"creation_date":1660889605,"question_id":73412521,"body_markdown":"I am using Apache POI for reading xsl files. My pom file update:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMy code:\r\n\r\n      public List&lt;String&gt; getSheetNames(String fileLocation) throws Exception {\r\n\t\tFileInputStream file = new FileInputStream(new File(fileLocation));\r\n        Workbook workbook = null;\r\n        try {\r\n        \tworkbook = new XSSFWorkbook(file);\r\n        } catch (Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n        //do something with read lines\r\n      }\r\n\r\n\r\nThis works fine for some files. However, for others it throws this error:\r\n\r\norg.apache.commons.compress.archivers.zip.UnsupportedZipFeatureException: Unsupported feature compression method used in entry ...\r\n... \r\nat org.apache.commons.compress.archivers.zip.ZipUtil.checkRequestedFeatures(ZipUtil.java:353)\r\n\tat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.read(ZipArchiveInputStream.java:514)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n\tat org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.read(ZipArchiveThresholdInputStream.java:80)\r\n\tat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:185)\r\n\tat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:153)\r\n\tat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:140)\r\n\tat org.apache.poi.openxml4j.util.ZipArchiveFakeEntry.&lt;init&gt;(ZipArchiveFakeEntry.java:72)\r\n\tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:98)\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:132)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:312)\r\n\tat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:304)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:300)\r\n\r\n\r\nwhat&#39;s the fix for this error? I haven&#39;t been able to find much help online.\r\n\r\n\r\nUPDATE: This is not working for any file now.\r\n\r\n","title":"Apache POI, throwing UnsupportedZipFeatureException","body":"<p>I am using Apache POI for reading xsl files. My pom file update:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My code:</p>\n<pre><code>  public List&lt;String&gt; getSheetNames(String fileLocation) throws Exception {\n    FileInputStream file = new FileInputStream(new File(fileLocation));\n    Workbook workbook = null;\n    try {\n        workbook = new XSSFWorkbook(file);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    //do something with read lines\n  }\n</code></pre>\n<p>This works fine for some files. However, for others it throws this error:</p>\n<p>org.apache.commons.compress.archivers.zip.UnsupportedZipFeatureException: Unsupported feature compression method used in entry ...\n...\nat org.apache.commons.compress.archivers.zip.ZipUtil.checkRequestedFeatures(ZipUtil.java:353)\nat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.read(ZipArchiveInputStream.java:514)\nat java.io.FilterInputStream.read(FilterInputStream.java:133)\nat org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.read(ZipArchiveThresholdInputStream.java:80)\nat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:185)\nat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:153)\nat org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:140)\nat org.apache.poi.openxml4j.util.ZipArchiveFakeEntry.(ZipArchiveFakeEntry.java:72)\nat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.(ZipInputStreamZipEntrySource.java:98)\nat org.apache.poi.openxml4j.opc.ZipPackage.(ZipPackage.java:132)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:312)\nat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.(XSSFWorkbook.java:304)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.(XSSFWorkbook.java:300)</p>\n<p>what's the fix for this error? I haven't been able to find much help online.</p>\n<p>UPDATE: This is not working for any file now.</p>\n"},{"tags":["java","exception","runtimeexception","bytebuffer","reactive-feign-client"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1660896370,"post_id":73413611,"comment_id":129646454,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/17354891/java-bytebuffer-to-string","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/17354891/java-bytebuffer-to-string\" title=\"java bytebuffer to string\">stackoverflow.com/questions/17354891/java-bytebuffer-to-stri&zwnj;&#8203;ng</a>"}],"owner":{"account_id":9810609,"reputation":11,"user_id":9495541,"display_name":"manuradha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660897833,"creation_date":1660896143,"question_id":73413611,"body_markdown":"I&#39;m trying to get response body out of an FeignException and the responseBody is there as \r\nByteBuffer. within the byte buffer there is a heapBuffer which has the content I want. but I can&#39;t access  it.\r\n\r\n\r\n    catch (FeignException ex){\r\n                if(ex.responseBody().isPresent()){\r\n                    ByteBuffer byteBuffer = ex.responseBody().get();\r\n                }\r\n                }\r\n\r\nbut when evaluate the following with the debugger mode in Intellij I can get the content I want. but I can&#39;t introduce it to my code.\r\n\r\n***new String(ex.responseBody().get().hb)***\r\n\r\nhere &#39;hb&#39; is reffered to heap buffer in ByteBuffer.\r\n\r\nCan someone help me to get the content in the responseBody?\r\n\r\nThe respose contains a xml content which is to mapped to response object. ","title":"How to get the responseBody of a FeignException","body":"<p>I'm trying to get response body out of an FeignException and the responseBody is there as\nByteBuffer. within the byte buffer there is a heapBuffer which has the content I want. but I can't access  it.</p>\n<pre><code>catch (FeignException ex){\n            if(ex.responseBody().isPresent()){\n                ByteBuffer byteBuffer = ex.responseBody().get();\n            }\n            }\n</code></pre>\n<p>but when evaluate the following with the debugger mode in Intellij I can get the content I want. but I can't introduce it to my code.</p>\n<p><em><strong>new String(ex.responseBody().get().hb)</strong></em></p>\n<p>here 'hb' is reffered to heap buffer in ByteBuffer.</p>\n<p>Can someone help me to get the content in the responseBody?</p>\n<p>The respose contains a xml content which is to mapped to response object.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":0,"creation_date":1450801012,"post_id":34419962,"comment_id":56581434,"body_markdown":"Is `Foo` public? And `i` should be in small case in `import`.","body":"Is <code>Foo</code> public? And <code>i</code> should be in small case in <code>import</code>."},{"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"score":1,"creation_date":1450801052,"post_id":34419962,"comment_id":56581463,"body_markdown":"Did you add that module to the dependency in gradle file?","body":"Did you add that module to the dependency in gradle file?"},{"owner":{"account_id":5649368,"reputation":1276,"user_id":4470532,"accept_rate":89,"display_name":"Palak"},"score":0,"creation_date":1450801260,"post_id":34419962,"comment_id":56581616,"body_markdown":"@prerakSola yes Foo is public, and i is small.","body":"@prerakSola yes Foo is public, and i is small."},{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":0,"creation_date":1450801336,"post_id":34419962,"comment_id":56581666,"body_markdown":"Can you please add the code of both the classes in your question?","body":"Can you please add the code of both the classes in your question?"},{"owner":{"account_id":5649368,"reputation":1276,"user_id":4470532,"accept_rate":89,"display_name":"Palak"},"score":0,"creation_date":1450801401,"post_id":34419962,"comment_id":56581712,"body_markdown":"@prudhvi No I didn&#39;t add the module to dependency. I will try and then let you know.","body":"@prudhvi No I didn&#39;t add the module to dependency. I will try and then let you know."}],"answers":[{"tags":[],"owner":{"account_id":2273443,"reputation":12839,"user_id":2000300,"accept_rate":50,"display_name":"pdegand59"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1481556404,"creation_date":1450801532,"answer_id":34420247,"question_id":34419962,"body_markdown":"Make sure of the following: \r\n\r\nIn settings.gradle, you should have: `include &#39;:x&#39;, &#39;:y&#39;`.\r\n\r\nIn x/build.gradle, you should add y as a dependency: \r\n\r\n    dependencies {\r\n            compile project(&#39;:y&#39;)\r\n            // other dependencies\r\n    }\r\n\r\n","title":"How to import class from another module in android studio?","body":"<p>Make sure of the following: </p>\n\n<p>In settings.gradle, you should have: <code>include ':x', ':y'</code>.</p>\n\n<p>In x/build.gradle, you should add y as a dependency: </p>\n\n<pre><code>dependencies {\n        compile project(':y')\n        // other dependencies\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4619393,"reputation":479,"user_id":3744904,"display_name":"Felhi Abdelhafidh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1660897550,"creation_date":1525259950,"answer_id":50133414,"question_id":34419962,"body_markdown":"Now when you create new module,the *settings.gradle* file add automatically this module.After that u should add this line:\r\n\r\n        dependencies {\r\n        implementation(\r\n        ...,\r\n        ..,\r\n                project(&quot;:y&quot;)\r\n    )\r\n    }","title":"How to import class from another module in android studio?","body":"<p>Now when you create new module,the <em>settings.gradle</em> file add automatically this module.After that u should add this line:</p>\n<pre><code>    dependencies {\n    implementation(\n    ...,\n    ..,\n            project(&quot;:y&quot;)\n)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9074664,"reputation":2435,"user_id":6756683,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1568621981,"creation_date":1568621981,"answer_id":57952915,"question_id":34419962,"body_markdown":"Combining and correcting two previous answers the best solution is to add this single line to x/build.gradle -&gt; dependencies\r\n\r\n    implementation project(&#39;:y&#39;)\r\n\r\n`compile project()` - is deprecated and won&#39;t work anymore\r\n\r\nIf you want to implement just a single module there is no need to use `implementation(..., .., project(&quot;:y&quot;)` structure.\r\n","title":"How to import class from another module in android studio?","body":"<p>Combining and correcting two previous answers the best solution is to add this single line to x/build.gradle -> dependencies</p>\n\n<pre><code>implementation project(':y')\n</code></pre>\n\n<p><code>compile project()</code> - is deprecated and won't work anymore</p>\n\n<p>If you want to implement just a single module there is no need to use <code>implementation(..., .., project(\":y\")</code> structure.</p>\n"}],"owner":{"account_id":5649368,"reputation":1276,"user_id":4470532,"accept_rate":89,"display_name":"Palak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63561,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":34420247,"answer_count":3,"score":55,"last_activity_date":1660897550,"creation_date":1450800593,"question_id":34419962,"body_markdown":"I created two modules in single android project, named it x and y.\r\n\r\n 1. Module x has a class Egg (Package: com.example.x)\r\n 2. Module y has a class Foo (Package: com.example.y)\r\n\r\nNow I want to import class Foo in the class Egg, for which I wrote the statement mentioned below in class Egg\r\n\r\n    Import com.example.y.Foo;\r\n\r\nNow, Foo is not recognized by android.\r\n\r\nQuestions,\r\n\r\n&gt; Is it possible to import Class from a different module using just\r\n&gt; import statement?\r\n&gt; \r\n&gt; Do I need to create library of Module y and then import created\r\n&gt; library into module x?\r\n\r\nOr may the solution is something else.\r\n","title":"How to import class from another module in android studio?","body":"<p>I created two modules in single android project, named it x and y.</p>\n\n<ol>\n<li>Module x has a class Egg (Package: com.example.x)</li>\n<li>Module y has a class Foo (Package: com.example.y)</li>\n</ol>\n\n<p>Now I want to import class Foo in the class Egg, for which I wrote the statement mentioned below in class Egg</p>\n\n<pre><code>Import com.example.y.Foo;\n</code></pre>\n\n<p>Now, Foo is not recognized by android.</p>\n\n<p>Questions,</p>\n\n<blockquote>\n  <p>Is it possible to import Class from a different module using just\n  import statement?</p>\n  \n  <p>Do I need to create library of Module y and then import created\n  library into module x?</p>\n</blockquote>\n\n<p>Or may the solution is something else.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1660855626,"post_id":73399737,"comment_id":129638841,"body_markdown":"It’s not MapStruct, it’s lombok. The setter method is generated by the annotation @Setter of Lombok library.","body":"It’s not MapStruct, it’s lombok. The setter method is generated by the annotation @Setter of Lombok library."},{"owner":{"account_id":26095759,"reputation":3,"user_id":19791909,"display_name":"gplk"},"score":0,"creation_date":1660895654,"post_id":73399737,"comment_id":129646203,"body_markdown":"@PaulMarcelinBejan so in that case, how should I approach this to make it work? I thought dependencies should be enough","body":"@PaulMarcelinBejan so in that case, how should I approach this to make it work? I thought dependencies should be enough"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660897507,"creation_date":1660897507,"answer_id":73413854,"question_id":73399737,"body_markdown":"The reason why this is not working is because the `annotationProcessorPaths` is configured on the `spring-boot-maven-plugin`. The `annotationProcessorPaths` needs to be configured on the `maven-compiler-plugin` and then the annotation processors will properly be used (including the `lombok-mapstruct-binding`.","title":"Mapstruct randomly generating setters","body":"<p>The reason why this is not working is because the <code>annotationProcessorPaths</code> is configured on the <code>spring-boot-maven-plugin</code>. The <code>annotationProcessorPaths</code> needs to be configured on the <code>maven-compiler-plugin</code> and then the annotation processors will properly be used (including the <code>lombok-mapstruct-binding</code>.</p>\n"}],"owner":{"account_id":26095759,"reputation":3,"user_id":19791909,"display_name":"gplk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73413854,"answer_count":1,"score":0,"last_activity_date":1660897507,"creation_date":1660811112,"question_id":73399737,"body_markdown":"I recently discovered Mapstruct and something quite weird is happening. Almost every single time, new implementation of mapper is generating and sometimes is with/without getters and setters. After some research I still can&#39;t find a issue with that. \r\n\r\nAs all of the dependencies, as well as proper annotation paths are in \r\npom.xml\r\n```\r\n   &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.24&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.4.1.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;compilerArg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/compilerArg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface MessageMapper {\r\n    MessageEntity messageDtoToEntity(MessageDTO messageDTO);\r\n\r\n    MessageDTO messageEntityToDto(MessageEntity messageEntity);\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;messages&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class MessageEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Setter(AccessLevel.NONE)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;message&quot;, nullable = false)\r\n    private String message;\r\n\r\n    public static MessageEntity createMessageEntityWithName(String message) {\r\n        MessageEntity mes = new MessageEntity();\r\n        mes.setMessage(message);\r\n        return mes;\r\n    }\r\n}\r\n```\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class MessageDTO {\r\n    @NotNull(message = &quot;Field message has to be provided&quot;)\r\n    private String message;\r\n\r\n    public static MessageDTO create(String message) {\r\n        MessageDTO mes = new MessageDTO();\r\n        mes.setMessage(message);\r\n        return mes;\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class MessageMapperImpl implements MessageMapper {\r\n\r\n    @Override\r\n    public MessageEntity messageDtoToEntity(MessageDTO messageDTO) {\r\n        if ( messageDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        MessageEntity messageEntity = new MessageEntity();\r\n\r\n        return messageEntity;\r\n    }\r\n\r\n    @Override\r\n    public MessageDTO messageEntityToDto(MessageEntity messageEntity) {\r\n        if ( messageEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        MessageDTO messageDTO = new MessageDTO();\r\n\r\n        return messageDTO;\r\n    }\r\n}\r\n```\r\n","title":"Mapstruct randomly generating setters","body":"<p>I recently discovered Mapstruct and something quite weird is happening. Almost every single time, new implementation of mapper is generating and sometimes is with/without getters and setters. After some research I still can't find a issue with that.</p>\n<p>As all of the dependencies, as well as proper annotation paths are in\npom.xml</p>\n<pre><code>   &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.15.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.24&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.4.1.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MessageMapper {\n    MessageEntity messageDtoToEntity(MessageDTO messageDTO);\n\n    MessageDTO messageEntityToDto(MessageEntity messageEntity);\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;messages&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class MessageEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Setter(AccessLevel.NONE)\n    private Long id;\n\n    @Column(name = &quot;message&quot;, nullable = false)\n    private String message;\n\n    public static MessageEntity createMessageEntityWithName(String message) {\n        MessageEntity mes = new MessageEntity();\n        mes.setMessage(message);\n        return mes;\n    }\n}\n</code></pre>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic class MessageDTO {\n    @NotNull(message = &quot;Field message has to be provided&quot;)\n    private String message;\n\n    public static MessageDTO create(String message) {\n        MessageDTO mes = new MessageDTO();\n        mes.setMessage(message);\n        return mes;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class MessageMapperImpl implements MessageMapper {\n\n    @Override\n    public MessageEntity messageDtoToEntity(MessageDTO messageDTO) {\n        if ( messageDTO == null ) {\n            return null;\n        }\n\n        MessageEntity messageEntity = new MessageEntity();\n\n        return messageEntity;\n    }\n\n    @Override\n    public MessageDTO messageEntityToDto(MessageEntity messageEntity) {\n        if ( messageEntity == null ) {\n            return null;\n        }\n\n        MessageDTO messageDTO = new MessageDTO();\n\n        return messageDTO;\n    }\n}\n</code></pre>\n"},{"tags":["java","c#","timespan","infinite","duration"],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442894734,"creation_date":1442894734,"answer_id":32708159,"question_id":32708061,"body_markdown":"From `Duration` [javadoc][1]:\r\n\r\n&gt; A physical duration could be of infinite length. For practicality, the duration is stored with constraints similar to Instant. The duration uses nanosecond resolution with a maximum value of the seconds that can be held in a long. This is greater than the current estimated age of the universe. \r\n\r\nYou certainly don&#39;t need to do an infinite loop to suspend a thread.  Consider `LockSupport.park()` or another one of the many available mechanisms in `java.util.concurrent`.  Can you describe your problem in more detail?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","title":"Is there an infinite Duration in Java 8 equivalent to the .NET Timeout.InfiniteTimeSpan Field?","body":"<p>From <code>Duration</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow\">javadoc</a>:</p>\n\n<blockquote>\n  <p>A physical duration could be of infinite length. For practicality, the duration is stored with constraints similar to Instant. The duration uses nanosecond resolution with a maximum value of the seconds that can be held in a long. This is greater than the current estimated age of the universe. </p>\n</blockquote>\n\n<p>You certainly don't need to do an infinite loop to suspend a thread.  Consider <code>LockSupport.park()</code> or another one of the many available mechanisms in <code>java.util.concurrent</code>.  Can you describe your problem in more detail?</p>\n"},{"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660897433,"creation_date":1596805874,"answer_id":63302566,"question_id":32708061,"body_markdown":"As an extension to [@Misha&#39;s answer](https://stackoverflow.com/a/32708159/6346531), this is essentially the largest duration value allowed:\r\n\r\n```lang-java\r\npublic static final Duration MAX_DURATION = Duration.ofSeconds(\r\n        Long.MAX_VALUE,   // Max allowed seconds\r\n        999999999L        // Max nanoseconds less than a second\r\n);\r\n```\r\n\r\nAnything more than this leads to\r\n\r\n```lang-plaintext\r\njava.lang.ArithmeticException: long overflow\r\n```","title":"Is there an infinite Duration in Java 8 equivalent to the .NET Timeout.InfiniteTimeSpan Field?","body":"<p>As an extension to <a href=\"https://stackoverflow.com/a/32708159/6346531\">@Misha's answer</a>, this is essentially the largest duration value allowed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Duration MAX_DURATION = Duration.ofSeconds(\n        Long.MAX_VALUE,   // Max allowed seconds\n        999999999L        // Max nanoseconds less than a second\n);\n</code></pre>\n<p>Anything more than this leads to</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>java.lang.ArithmeticException: long overflow\n</code></pre>\n"}],"owner":{"account_id":5889717,"reputation":8253,"user_id":4636721,"accept_rate":78,"display_name":"Natalie Perret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3642,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32708159,"answer_count":2,"score":2,"last_activity_date":1660897433,"creation_date":1442893980,"question_id":32708061,"body_markdown":"Everything is in the title:\r\nIs there an infinite Duration in Java 8 equivalent to the C# Timeout.InfiniteTimeSpan Field?\r\n\r\nA bit like:\r\nhttps://msdn.microsoft.com/en-us/library/system.threading.timeout.infinitetimespan(v=vs.110).aspx\r\n\r\nI don&#39;t think -1 ms is understood across the all java libraries as an infinite timespan, so it might be more a problem of definition. \r\n\r\nIn order to clarify a bit the context, let&#39;s say I want to make a thread asleep for an infinite amount of time without performing an infinite loop, note that this not necessarily a realistic practical use though. \r\n\r\nI&#39;m just wondering is there anything built-in in the Java libraries?\r\n","title":"Is there an infinite Duration in Java 8 equivalent to the .NET Timeout.InfiniteTimeSpan Field?","body":"<p>Everything is in the title:\nIs there an infinite Duration in Java 8 equivalent to the C# Timeout.InfiniteTimeSpan Field?</p>\n\n<p>A bit like:\n<a href=\"https://msdn.microsoft.com/en-us/library/system.threading.timeout.infinitetimespan(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.threading.timeout.infinitetimespan(v=vs.110).aspx</a></p>\n\n<p>I don't think -1 ms is understood across the all java libraries as an infinite timespan, so it might be more a problem of definition. </p>\n\n<p>In order to clarify a bit the context, let's say I want to make a thread asleep for an infinite amount of time without performing an infinite loop, note that this not necessarily a realistic practical use though. </p>\n\n<p>I'm just wondering is there anything built-in in the Java libraries?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"score":1,"creation_date":1660629177,"post_id":73368911,"comment_id":129570317,"body_markdown":"Your description confuses me. To answer the question in your title, You can create a custom class that contains your MapStruct List&lt;String&gt; and Integer as fields and make a list of those custom objects. Hope that helps","body":"Your description confuses me. To answer the question in your title, You can create a custom class that contains your MapStruct List&lt;String&gt; and Integer as fields and make a list of those custom objects. Hope that helps"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1660629366,"post_id":73368911,"comment_id":129570343,"body_markdown":"Of course, your answer is also possible. But you have to create an additional object class, assign it, and use it again as a parameter.\n\nI&#39;m looking for a way to map two data obtained separately from each other at once.","body":"Of course, your answer is also possible. But you have to create an additional object class, assign it, and use it again as a parameter.  I&#39;m looking for a way to map two data obtained separately from each other at once."},{"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"score":0,"creation_date":1660629646,"post_id":73368911,"comment_id":129570399,"body_markdown":"You can keep them in a data structure that preserves ordering (array, LinkedList etc) and match them up based on index.","body":"You can keep them in a data structure that preserves ordering (array, LinkedList etc) and match them up based on index."},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1660629804,"post_id":73368911,"comment_id":129570429,"body_markdown":"Thank you very much for your willingness to help. But the key is to hope not to create new classes or objects. (I&#39;ve already had success with this approach.) I&#39;d like to know if there is a feature in MapStruct that supports the way I intend to do it.","body":"Thank you very much for your willingness to help. But the key is to hope not to create new classes or objects. (I&#39;ve already had success with this approach.) I&#39;d like to know if there is a feature in MapStruct that supports the way I intend to do it."}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660897121,"creation_date":1660897121,"answer_id":73413779,"question_id":73368911,"body_markdown":"Currently there is no automatic way in MapStruct to support what you are looking for. You will need to write a custom mapping to achieve this.\r\n\r\nWhat you could do though is to use `@Context` to help yourself. \r\n\r\ne.g.\r\n\r\n```\r\npublic interface SurveyAnswerMapper {\r\n\r\n    SurveyAnswerMapper MAPPER = Mappers.getMapper(SurveyAnswerMapper.class);\r\n\r\n    @Mapping(target = &quot;question.questionId&quot;, expression = &quot;java(questionId)&quot;)\r\n    @Mapping(target = &quot;answer&quot;, source = &quot;answer&quot;)\r\n    SurveyAnswerEntity toEntity(String answer, @Context Integer questionId);\r\n    List&lt;SurveyAnswerEntity&gt; toEntityList(List&lt;String&gt; answer, @Context Integer questionId);\r\n\r\n}\r\n```","title":"How can I create one List&lt;Object&gt; with a MapStruct List&lt;String&gt; and an Integer field?","body":"<p>Currently there is no automatic way in MapStruct to support what you are looking for. You will need to write a custom mapping to achieve this.</p>\n<p>What you could do though is to use <code>@Context</code> to help yourself.</p>\n<p>e.g.</p>\n<pre><code>public interface SurveyAnswerMapper {\n\n    SurveyAnswerMapper MAPPER = Mappers.getMapper(SurveyAnswerMapper.class);\n\n    @Mapping(target = &quot;question.questionId&quot;, expression = &quot;java(questionId)&quot;)\n    @Mapping(target = &quot;answer&quot;, source = &quot;answer&quot;)\n    SurveyAnswerEntity toEntity(String answer, @Context Integer questionId);\n    List&lt;SurveyAnswerEntity&gt; toEntityList(List&lt;String&gt; answer, @Context Integer questionId);\n\n}\n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660897121,"creation_date":1660625507,"question_id":73368911,"body_markdown":"    public class SurveyAnswerEntity extends BaseEntity {\r\n\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        private int answerId;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;question_id&quot;)\r\n        private SurveyQuestionEntity question;\r\n\r\n        private String answer;\r\n \r\n    }\r\n\r\nand\r\n\r\n    public class SurveyContentModel {\r\n        private String question;\r\n        private List&lt;String&gt; answerList;\r\n    }\r\n\r\nand\r\n\r\n    public interface SurveyAnswerMapper {\r\n\r\n        SurveyAnswerMapper MAPPER = Mappers.getMapper(SurveyAnswerMapper.class);\r\n    \r\n        @Mapping(target = &quot;question.questionId&quot;, source = &quot;questionId&quot;)\r\n        SurveyAnswerEntity toEntity(String answer, Integer questionId);\r\n        List&lt;SurveyAnswerEntity&gt; toEntityList(List&lt;String&gt; answer, Integer questionId);\r\n    \r\n    }\r\n\r\n\r\nI have a List&lt;String&gt; array, and a single number. (DB-based Key)\r\n\r\nThe data in the List is different.\r\nHowever, it is dependent on one number corresponding to the DB reference key.\r\n\r\nList&lt;String&gt; contains oneString, twoString, threeString\r\n\r\nNumbers exist on their own.\r\n\r\nThat is, combining these two\r\n\r\nYou need to create a List&lt;Entity&gt;.\r\n\r\nkey : 1\r\nvalue : oneString \r\n= Entity1\r\n\r\nkey : 1\r\nvalue : twoString\r\n = Entity2\r\n\r\nkey :1\r\nvalue : threeString\r\n = Entity3\r\n\r\nIt&#39;s like this.\r\n\r\n\r\nerror: The return type List&lt;SurveyAnswerEntity&gt; is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\r\n\r\n\r\nWhen I delete questionId, it works fine. Perhaps a single field cannot be simply mapped to a List.\r\n\r\nHow can I create an Entity with the same Integer data for all List data?\r\n","title":"How can I create one List&lt;Object&gt; with a MapStruct List&lt;String&gt; and an Integer field?","body":"<pre><code>public class SurveyAnswerEntity extends BaseEntity {\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private int answerId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;question_id&quot;)\n    private SurveyQuestionEntity question;\n\n    private String answer;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class SurveyContentModel {\n    private String question;\n    private List&lt;String&gt; answerList;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public interface SurveyAnswerMapper {\n\n    SurveyAnswerMapper MAPPER = Mappers.getMapper(SurveyAnswerMapper.class);\n\n    @Mapping(target = &quot;question.questionId&quot;, source = &quot;questionId&quot;)\n    SurveyAnswerEntity toEntity(String answer, Integer questionId);\n    List&lt;SurveyAnswerEntity&gt; toEntityList(List&lt;String&gt; answer, Integer questionId);\n\n}\n</code></pre>\n<p>I have a List array, and a single number. (DB-based Key)</p>\n<p>The data in the List is different.\nHowever, it is dependent on one number corresponding to the DB reference key.</p>\n<p>List contains oneString, twoString, threeString</p>\n<p>Numbers exist on their own.</p>\n<p>That is, combining these two</p>\n<p>You need to create a List.</p>\n<p>key : 1\nvalue : oneString\n= Entity1</p>\n<p>key : 1\nvalue : twoString\n= Entity2</p>\n<p>key :1\nvalue : threeString\n= Entity3</p>\n<p>It's like this.</p>\n<p>error: The return type List is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.</p>\n<p>When I delete questionId, it works fine. Perhaps a single field cannot be simply mapped to a List.</p>\n<p>How can I create an Entity with the same Integer data for all List data?</p>\n"},{"tags":["java","swing","graphics2d"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1660897800,"post_id":73413765,"comment_id":129646882,"body_markdown":"Compute positions as double or float, then convert them to integer using `Math.round`","body":"Compute positions as double or float, then convert them to integer using <code>Math.round</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1660899287,"post_id":73413765,"comment_id":129647378,"body_markdown":"Your question basically boils down two things.  Find the path between two points and, animate an object along that path, simular to something like [this](https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859) and [this](https://stackoverflow.com/questions/26784303/java-move-image-towards-mouse-position/26791886#26791886)","body":"Your question basically boils down two things.  Find the path between two points and, animate an object along that path, simular to something like <a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">this</a> and <a href=\"https://stackoverflow.com/questions/26784303/java-move-image-towards-mouse-position/26791886#26791886\">this</a>"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1660911674,"post_id":73413765,"comment_id":129651641,"body_markdown":"Also, you are not restricted to drawing an oval with `fillOval`: you can also [paint `Shape`s](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Graphics2D.html#fill(java.awt.Shape)) (like an [`Ellipse2D.Float`](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/geom/Ellipse2D.Float.html)).","body":"Also, you are not restricted to drawing an oval with <code>fillOval</code>: you can also <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Graphics2D.html#fill(java.awt.Shape)\" rel=\"nofollow noreferrer\">paint <code>Shape</code>s</a> (like an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/geom/Ellipse2D.Float.html\" rel=\"nofollow noreferrer\"><code>Ellipse2D.Float</code></a>)."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1660917357,"post_id":73413765,"comment_id":129653788,"body_markdown":"You can make your life much easier and satisfying using OGL/JOGL instead of Swing. Swing was created to be cross-platform toolkit. OGL works with many programming languages and is much easier to create custom graphics and animations in","body":"You can make your life much easier and satisfying using OGL/JOGL instead of Swing. Swing was created to be cross-platform toolkit. OGL works with many programming languages and is much easier to create custom graphics and animations in"}],"owner":{"account_id":23526145,"reputation":1,"user_id":17572650,"display_name":"Jimmynera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660897068,"creation_date":1660897068,"question_id":73413765,"body_markdown":"I am creating a simulation of a crowd using Java Swing and Java Graphics2D. I have a certain number of pedestrians that must reach some waypoints and I am having troubles with their motion.\r\nThe movement of each pedestrian now is very simple, it is something like this:\r\n\r\n    if (goalPosition.x &gt; pedestrian.position.x) {\r\n            pedestrian.position.x++;\r\n        }\r\n        else\r\n            pedestrian.position.x--;\r\n\r\n        if (goalPosition.y &gt; pedestrian.position.y) {\r\n            pedestrian.position.y++;\r\n        }\r\n        else\r\n            pedestrian.position.y--;\r\n\r\nI just increase/decrease by 1 the position of each pedestrian according to the position of the goal to reach.\r\nThe problem is that i need to make them walk towards the goal in a straight line, I tried to compute angles and use trigonometry, but the problem with that approach is that I can&#39;t update the position of a pedestrian using a *double* value, because later each pedestrian is drawn using:\r\n\r\n    g2D.fillOval(pedestrian.position.x, pedestrian.position.y, ENTITY_SIZE, ENTITY_SIZE);\r\n\r\nThat accepts only integer positions.\r\nAny idea of how I can update my code? Thanks\r\n\r\n","title":"Motion according by an angle Java Graphic","body":"<p>I am creating a simulation of a crowd using Java Swing and Java Graphics2D. I have a certain number of pedestrians that must reach some waypoints and I am having troubles with their motion.\nThe movement of each pedestrian now is very simple, it is something like this:</p>\n<pre><code>if (goalPosition.x &gt; pedestrian.position.x) {\n        pedestrian.position.x++;\n    }\n    else\n        pedestrian.position.x--;\n\n    if (goalPosition.y &gt; pedestrian.position.y) {\n        pedestrian.position.y++;\n    }\n    else\n        pedestrian.position.y--;\n</code></pre>\n<p>I just increase/decrease by 1 the position of each pedestrian according to the position of the goal to reach.\nThe problem is that i need to make them walk towards the goal in a straight line, I tried to compute angles and use trigonometry, but the problem with that approach is that I can't update the position of a pedestrian using a <em>double</em> value, because later each pedestrian is drawn using:</p>\n<pre><code>g2D.fillOval(pedestrian.position.x, pedestrian.position.y, ENTITY_SIZE, ENTITY_SIZE);\n</code></pre>\n<p>That accepts only integer positions.\nAny idea of how I can update my code? Thanks</p>\n"},{"tags":["java","web-services","soap","jaxb","wsdl"],"comments":[{"owner":{"account_id":9953517,"reputation":1,"user_id":7368906,"display_name":"Daniel Francisco Ribeiro"},"score":1,"creation_date":1663267461,"post_id":73413618,"comment_id":130205413,"body_markdown":"I had the same problem.\nI find the solution in this post: https://stackoverflow.com/questions/34525587/invalid-wsdl-generated-by-spring-ws-when-the-request-element-doesnt-end-with-r","body":"I had the same problem. I find the solution in this post: <a href=\"https://stackoverflow.com/questions/34525587/invalid-wsdl-generated-by-spring-ws-when-the-request-element-doesnt-end-with-r\" title=\"invalid wsdl generated by spring ws when the request element doesnt end with r\">stackoverflow.com/questions/34525587/&hellip;</a>"},{"owner":{"account_id":16127437,"reputation":181,"user_id":11641908,"display_name":"gunel"},"score":0,"creation_date":1663309806,"post_id":73413618,"comment_id":130213231,"body_markdown":"Thank you! I had solved this issue by following the same approach (by adding &quot;response&quot; suffix to the response class name).","body":"Thank you! I had solved this issue by following the same approach (by adding &quot;response&quot; suffix to the response class name)."}],"owner":{"account_id":16127437,"reputation":181,"user_id":11641908,"display_name":"gunel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660896949,"creation_date":1660896183,"question_id":73413618,"body_markdown":"I have created a SOAP web service from the given xsd file below (using Java spring boot). The resulting WSDL doesn&#39;t include wsdl:input field. And when I import wsdl in SOAP UI, response form is shown in the request field. However, when I change the structure of request the endpoint works fine. Here is the xsd file that I have used:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;###&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:ibmSchExtn=&quot;http://www.ibm.com/schema/extensions&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;####&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;send&quot; type=&quot;tns:send_t&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;send_t&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;message&quot; type=&quot;tns:ParamsMtMsg&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:complexType name=&quot;ParamsMtMsg&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;block4&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;msgCopySrvId&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:simpleType name=&quot;ack_nak_type&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:enumeration value=&quot;ACK&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;NAK&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n    &lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;sendResponse&quot; type=&quot;tns:sendResponse&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;sendResponse&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;data&quot; type=&quot;tns:result_t&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:complexType name=&quot;result_t&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;type&quot; type=&quot;tns:ack_nak_type&quot;/&gt;\r\n            &lt;xs:element name=&quot;datetime&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n\r\n\r\n```\r\n\r\n\r\nHere is the corresponding generated WSDL and you can see that there is wsdl:output field but wsdl:input field is missing inside the binding:\r\n\r\n```\r\n&lt;wsdl:definitions xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:sch=&quot;##&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;##&quot; ## targetNamespace=&quot;###&quot;&gt;\r\n&lt;wsdl:types&gt;\r\n&lt;xs:schema xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:ibmSchExtn=&quot;http://www.ibm.com/schema/extensions&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;###&quot; version=&quot;1.0&quot;&gt;\r\n&lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;send&quot; type=&quot;tns:send_t&quot;/&gt;\r\n&lt;xs:complexType name=&quot;send_t&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;message&quot; type=&quot;tns:ParamsMtMsg&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;ParamsMtMsg&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;block4&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;msgCopySrvId&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:simpleType name=&quot;ack_nak_type&quot;&gt;\r\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n&lt;xs:enumeration value=&quot;ACK&quot;/&gt;\r\n&lt;xs:enumeration value=&quot;NAK&quot;/&gt;\r\n&lt;/xs:restriction&gt;\r\n&lt;/xs:simpleType&gt;\r\n&lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;sendResponse&quot; type=&quot;tns:sendResponse&quot;/&gt;\r\n&lt;xs:complexType name=&quot;sendResponse&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;data&quot; type=&quot;tns:result_t&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;result_t&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;type&quot; type=&quot;tns:ack_nak_type&quot;/&gt;\r\n&lt;xs:element name=&quot;datetime&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n&lt;/wsdl:types&gt;\r\n&lt;wsdl:message name=&quot;sendResponse&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:sendResponse&quot; name=&quot;sendResponse&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:portType name=&quot;XohksSoapPort&quot;&gt;\r\n&lt;wsdl:operation name=&quot;send&quot;&gt;\r\n&lt;wsdl:output message=&quot;tns:sendResponse&quot; name=&quot;sendResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:portType&gt;\r\n&lt;wsdl:binding name=&quot;XohksSoapPortSoap11&quot; type=&quot;tns:XohksSoapPort&quot;&gt;\r\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n&lt;wsdl:operation name=&quot;send&quot;&gt;\r\n&lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n&lt;wsdl:output name=&quot;sendResponse&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:binding&gt;\r\n&lt;wsdl:service name=&quot;XohksSoapPortService&quot;&gt;\r\n&lt;wsdl:port binding=&quot;tns:XohksSoapPortSoap11&quot; name=&quot;XohksSoapPortSoap11&quot;&gt;\r\n&lt;soap:address location=&quot;http://localhost:8080/ws/getSendResponse&quot;/&gt;\r\n&lt;/wsdl:port&gt;\r\n&lt;/wsdl:service&gt;\r\n&lt;/wsdl:definitions&gt;\r\n\r\n```\r\n\r\nHere is the java code: \r\n\r\n```\r\n@Slf4j\r\n@Endpoint\r\n@AllArgsConstructor\r\npublic class XohksMxController {\r\n\r\n    private static final String NAMESPACE_URI = &quot;###&quot;;\r\n    private final FileTransferService fileTransferService;\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;SendT&quot;)\r\n    @ResponsePayload\r\n    public JAXBElement&lt;SendResponse&gt; getSendResponse(@RequestPayload JAXBElement&lt;SendT&gt; sendT)\r\n            throws JAXBException, SftpException, IOException {\r\n        return this.fileTransferService.getSendResponse(sendT);\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```","title":"WSDL generated from xsd by Spring boot with missing &lt;wsdl:input&gt; field in wsdl binding","body":"<p>I have created a SOAP web service from the given xsd file below (using Java spring boot). The resulting WSDL doesn't include wsdl:input field. And when I import wsdl in SOAP UI, response form is shown in the request field. However, when I change the structure of request the endpoint works fine. Here is the xsd file that I have used:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;###&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:ibmSchExtn=&quot;http://www.ibm.com/schema/extensions&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;####&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;send&quot; type=&quot;tns:send_t&quot;/&gt;\n    &lt;xs:complexType name=&quot;send_t&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;message&quot; type=&quot;tns:ParamsMtMsg&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;ParamsMtMsg&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;block4&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;msgCopySrvId&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:simpleType name=&quot;ack_nak_type&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:enumeration value=&quot;ACK&quot;/&gt;\n            &lt;xs:enumeration value=&quot;NAK&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n    &lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;sendResponse&quot; type=&quot;tns:sendResponse&quot;/&gt;\n    &lt;xs:complexType name=&quot;sendResponse&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;data&quot; type=&quot;tns:result_t&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;result_t&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;type&quot; type=&quot;tns:ack_nak_type&quot;/&gt;\n            &lt;xs:element name=&quot;datetime&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n\n\n</code></pre>\n<p>Here is the corresponding generated WSDL and you can see that there is wsdl:output field but wsdl:input field is missing inside the binding:</p>\n<pre><code>&lt;wsdl:definitions xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:sch=&quot;##&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;##&quot; ## targetNamespace=&quot;###&quot;&gt;\n&lt;wsdl:types&gt;\n&lt;xs:schema xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:ibmSchExtn=&quot;http://www.ibm.com/schema/extensions&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;###&quot; version=&quot;1.0&quot;&gt;\n&lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;send&quot; type=&quot;tns:send_t&quot;/&gt;\n&lt;xs:complexType name=&quot;send_t&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;message&quot; type=&quot;tns:ParamsMtMsg&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;ParamsMtMsg&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;block4&quot; type=&quot;xs:string&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;msgCopySrvId&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:simpleType name=&quot;ack_nak_type&quot;&gt;\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\n&lt;xs:enumeration value=&quot;ACK&quot;/&gt;\n&lt;xs:enumeration value=&quot;NAK&quot;/&gt;\n&lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n&lt;xs:element ibmSchExtn:docRoot=&quot;true&quot; name=&quot;sendResponse&quot; type=&quot;tns:sendResponse&quot;/&gt;\n&lt;xs:complexType name=&quot;sendResponse&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;data&quot; type=&quot;tns:result_t&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;result_t&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;type&quot; type=&quot;tns:ack_nak_type&quot;/&gt;\n&lt;xs:element name=&quot;datetime&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=&quot;sendResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:sendResponse&quot; name=&quot;sendResponse&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=&quot;XohksSoapPort&quot;&gt;\n&lt;wsdl:operation name=&quot;send&quot;&gt;\n&lt;wsdl:output message=&quot;tns:sendResponse&quot; name=&quot;sendResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=&quot;XohksSoapPortSoap11&quot; type=&quot;tns:XohksSoapPort&quot;&gt;\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n&lt;wsdl:operation name=&quot;send&quot;&gt;\n&lt;soap:operation soapAction=&quot;&quot;/&gt;\n&lt;wsdl:output name=&quot;sendResponse&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=&quot;XohksSoapPortService&quot;&gt;\n&lt;wsdl:port binding=&quot;tns:XohksSoapPortSoap11&quot; name=&quot;XohksSoapPortSoap11&quot;&gt;\n&lt;soap:address location=&quot;http://localhost:8080/ws/getSendResponse&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n\n</code></pre>\n<p>Here is the java code:</p>\n<pre><code>@Slf4j\n@Endpoint\n@AllArgsConstructor\npublic class XohksMxController {\n\n    private static final String NAMESPACE_URI = &quot;###&quot;;\n    private final FileTransferService fileTransferService;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;SendT&quot;)\n    @ResponsePayload\n    public JAXBElement&lt;SendResponse&gt; getSendResponse(@RequestPayload JAXBElement&lt;SendT&gt; sendT)\n            throws JAXBException, SftpException, IOException {\n        return this.fileTransferService.getSendResponse(sendT);\n\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1660816278,"post_id":73362491,"comment_id":129624172,"body_markdown":"Better to write your own custom mapper for this kind of scenario.","body":"Better to write your own custom mapper for this kind of scenario."}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660896848,"creation_date":1660896848,"answer_id":73413727,"question_id":73362491,"body_markdown":"Currently MapStruct does not allow mapping target from multiple sources. In order to achieve what you are looking for you will need to provide your own mapper. You could do something like:\r\n\r\n```\r\n@Mapper\r\npublic interface CMapper {\r\n    CMapper INSTANCE = Mappers.getMapper( CMapper.class );\r\n    default C map(A a, b) {\r\n        if (a == null &amp;&amp; b == null) {\r\n            return null;\r\n        } else if (b == null) {\r\n            return map(a.getObj(), a.getAnotherObj();\r\n        } else if (a == null) {\r\n            return map(b.getObj(), b.getAnotherObj();\r\n        } else {\r\n            return map(\r\n                    a.getObj() == null ? b.getObj() : a.getObj(),\r\n                    a.getAnotherObj() == null ? b.getAnotherObj() : a.getAnotherObj()\r\n                )\r\n        }\r\n    }\r\n\r\n    C map(Obj x, AnotherObj y);\r\n}\r\n```","title":"MapStruct: mapping two objects into one immutable object","body":"<p>Currently MapStruct does not allow mapping target from multiple sources. In order to achieve what you are looking for you will need to provide your own mapper. You could do something like:</p>\n<pre><code>@Mapper\npublic interface CMapper {\n    CMapper INSTANCE = Mappers.getMapper( CMapper.class );\n    default C map(A a, b) {\n        if (a == null &amp;&amp; b == null) {\n            return null;\n        } else if (b == null) {\n            return map(a.getObj(), a.getAnotherObj();\n        } else if (a == null) {\n            return map(b.getObj(), b.getAnotherObj();\n        } else {\n            return map(\n                    a.getObj() == null ? b.getObj() : a.getObj(),\n                    a.getAnotherObj() == null ? b.getAnotherObj() : a.getAnotherObj()\n                )\n        }\n    }\n\n    C map(Obj x, AnotherObj y);\n}\n</code></pre>\n"}],"owner":{"account_id":23539421,"reputation":47,"user_id":17583866,"display_name":"HeavyLifter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73413727,"answer_count":1,"score":0,"last_activity_date":1660896848,"creation_date":1660574128,"question_id":73362491,"body_markdown":"\r\nThere are 3 classes: \r\n\r\n      class A {\r\n         private final Obj x;\r\n         private final AnotherObj y;\r\n         public A(int x, String y) ...\r\n         ... getters\r\n        }\r\n        \r\n       class B {\r\n         private final Obj x;\r\n         private final AnotherObj y;\r\n         ... other fields...\r\n         ....constructor....\r\n         .....getters.....\r\n        }\r\n\r\n        class C {\r\n         private final Obj x;\r\n         private final AnotherObj y;\r\n         ...\r\n        }\r\nand a mapper:\r\n\r\n    @Mapper\r\n    public interface CMapper {\r\n        CMapper INSTANCE = Mappers.getMapper( CMapper.class );\r\n        C map(A a, b);\r\n    }\r\n\r\nWhat I would like to achieve is to have ***map*** implementation similar to the following:\r\n\r\n    C map(A a, B b){\r\n      return new C(\r\n        a.getObj() == null ? b.getObj() :a.getObj()\r\n        a.getAnotherObj == null ? b.getAnotherObj() : a.getAnotherObj\r\n      );\r\n    }\r\n\r\nIs it possible to do? \r\n","title":"MapStruct: mapping two objects into one immutable object","body":"<p>There are 3 classes:</p>\n<pre><code>  class A {\n     private final Obj x;\n     private final AnotherObj y;\n     public A(int x, String y) ...\n     ... getters\n    }\n    \n   class B {\n     private final Obj x;\n     private final AnotherObj y;\n     ... other fields...\n     ....constructor....\n     .....getters.....\n    }\n\n    class C {\n     private final Obj x;\n     private final AnotherObj y;\n     ...\n    }\n</code></pre>\n<p>and a mapper:</p>\n<pre><code>@Mapper\npublic interface CMapper {\n    CMapper INSTANCE = Mappers.getMapper( CMapper.class );\n    C map(A a, b);\n}\n</code></pre>\n<p>What I would like to achieve is to have <em><strong>map</strong></em> implementation similar to the following:</p>\n<pre><code>C map(A a, B b){\n  return new C(\n    a.getObj() == null ? b.getObj() :a.getObj()\n    a.getAnotherObj == null ? b.getAnotherObj() : a.getAnotherObj\n  );\n}\n</code></pre>\n<p>Is it possible to do?</p>\n"},{"tags":["java","intellij-idea","javafx","scenebuilder"],"comments":[{"owner":{"account_id":7507439,"reputation":1018,"user_id":5703530,"accept_rate":57,"display_name":"Merve Sahin"},"score":0,"creation_date":1477858672,"post_id":40332451,"comment_id":67921275,"body_markdown":"Usually you need to define your controller class in the fxml file","body":"Usually you need to define your controller class in the fxml file"}],"answers":[{"tags":[],"owner":{"account_id":7507439,"reputation":1018,"user_id":5703530,"accept_rate":57,"display_name":"Merve Sahin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477859046,"creation_date":1477859046,"answer_id":40333265,"question_id":40332451,"body_markdown":"Define your controller class in your fxml file : \r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; id=&quot;GridPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; styleClass=&quot;mainFxmlClass&quot; fx:controller=&quot;yourpackage.yourControllerClass&quot;&gt;\r\n       &lt;children&gt;\r\n         ...\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;","title":"Scene Builder not reconazing my Controller class","body":"<p>Define your controller class in your fxml file : </p>\n\n<pre><code>&lt;AnchorPane xmlns:fx=\"http://javafx.com/fxml/1\" id=\"GridPane\" prefHeight=\"400.0\" prefWidth=\"600.0\" styleClass=\"mainFxmlClass\" fx:controller=\"yourpackage.yourControllerClass\"&gt;\n   &lt;children&gt;\n     ...\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4770461,"reputation":1485,"user_id":3855359,"accept_rate":73,"display_name":"Osama Al-Banna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490041051,"creation_date":1490041051,"answer_id":42913176,"question_id":40332451,"body_markdown":"According to this answer the only is to put in the same folder where your **FXML** file exist,the problem is from **scenebuilder** it has a limitation .\r\n\r\nchekc out the link below for more details\r\n\r\nhttps://stackoverflow.com/questions/28830132/scenebuilder-2-do-controller-classes-need-to-necessarily-be-in-the-same-folder ","title":"Scene Builder not reconazing my Controller class","body":"<p>According to this answer the only is to put in the same folder where your <strong>FXML</strong> file exist,the problem is from <strong>scenebuilder</strong> it has a limitation .</p>\n\n<p>chekc out the link below for more details</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28830132/scenebuilder-2-do-controller-classes-need-to-necessarily-be-in-the-same-folder\">SceneBuilder 2: Do controller classes need to necessarily be in the same folder as the view FXML files?</a> </p>\n"},{"tags":[],"owner":{"account_id":21412367,"reputation":31,"user_id":15772252,"display_name":"Buraxta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660896571,"creation_date":1660896571,"answer_id":73413678,"question_id":40332451,"body_markdown":"I had the same issue. Firstly I wrote my controller class on the fxml file manually, after that annotated @FXML at the top of the each method on the controller class than figured it out.","title":"Scene Builder not reconazing my Controller class","body":"<p>I had the same issue. Firstly I wrote my controller class on the fxml file manually, after that annotated @FXML at the top of the each method on the controller class than figured it out.</p>\n"}],"owner":{"account_id":5904453,"reputation":324,"user_id":4646747,"accept_rate":43,"display_name":"zebiri djallil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1660896571,"creation_date":1477853636,"question_id":40332451,"body_markdown":"I&#39;m trying a simple project in JAVAFX using Intelij Idea, so i have 2 cases of problems:\r\n\r\ncase 1 :\r\n\r\nWhen i put `sample.fxml` and `controller.java` and `main.java` in the same folder `src/main/java/FX/` :\r\n\r\n&lt;p&gt;1- SceneBuilder find controller.java \r\n&lt;P&gt;2- Main.java not find the FXML file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;/FX/sample.fxml&quot;));\r\n\r\n    /opt/java/jdk1.8.0_20/bin/java -Didea.launcher.port=7537 -Didea.launcher.bin.path=/opt/idea-IU-143.381.42/bin -Dfile.encoding=UTF-8 -classpath /opt/java/jdk1.8.0_20/jre/lib/charsets.jar:/opt/java/jdk1.8.0_20/jre/lib/deploy.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/cldrdata.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/dnsns.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/jfxrt.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/localedata.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/nashorn.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunec.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunjce_provider.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunpkcs11.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/zipfs.jar:/opt/java/jdk1.8.0_20/jre/lib/javaws.jar:/opt/java/jdk1.8.0_20/jre/lib/jce.jar:/opt/java/jdk1.8.0_20/jre/lib/jfr.jar:/opt/java/jdk1.8.0_20/jre/lib/jfxswt.jar:/opt/java/jdk1.8.0_20/jre/lib/jsse.jar:/opt/java/jdk1.8.0_20/jre/lib/management-agent.jar:/opt/java/jdk1.8.0_20/jre/lib/plugin.jar:/opt/java/jdk1.8.0_20/jre/lib/resources.jar:/opt/java/jdk1.8.0_20/jre/lib/rt.jar:/home/azb/IdeaProjects/TestMavenFX/target/classes:/opt/idea-IU-143.381.42/lib/idea_rt.jar com.intellij.rt.execution.application.AppMain FX.Main\r\n    \r\n    ** (java:7837): WARNING **: Couldn&#39;t connect to accessibility bus: Failed to connect to socket /tmp/dbus-MBNrjIF7ES: Connection refused\r\n    Exception in Application start method\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:875)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$147(LauncherImpl.java:157)\r\n    \tat com.sun.javafx.application.LauncherImpl$$Lambda$1/424058530.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NullPointerException: Location is required.\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3201)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3169)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3142)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3118)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3098)\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3091)\r\n    \tat FX.Main.start(Main.java:13)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$153(LauncherImpl.java:821)\r\n    \tat com.sun.javafx.application.LauncherImpl$$Lambda$55/669200515.run(Unknown Source)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$166(PlatformImpl.java:323)\r\n    \tat com.sun.javafx.application.PlatformImpl$$Lambda$51/645218408.run(Unknown Source)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$164(PlatformImpl.java:292)\r\n    \tat com.sun.javafx.application.PlatformImpl$$Lambda$53/222734631.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$165(PlatformImpl.java:291)\r\n    \tat com.sun.javafx.application.PlatformImpl$$Lambda$52/444279218.run(Unknown Source)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication$$Lambda$43/1060865646.run(Unknown Source)\r\n    \t... 1 more\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\ncase 2 :\r\n\r\nWhen i put `sample.fxml` in the folder `src/main/resources/FX/`  and `controller.java` and `main.java` in the folder `src/main/java/FX/` :\r\n\r\n&lt;P&gt;1- SceneBuilder not find controller.java \r\n&lt;P&gt;2- Main.java find the FXML file, and the program run\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nQuestion : where&#39;s the wrong with this two cases ? witch cas is suppose to be the good one ? please help\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/xcTyU.png\r\n  [2]: https://i.stack.imgur.com/avXJU.png","title":"Scene Builder not reconazing my Controller class","body":"<p>I'm trying a simple project in JAVAFX using Intelij Idea, so i have 2 cases of problems:</p>\n\n<p>case 1 :</p>\n\n<p>When i put <code>sample.fxml</code> and <code>controller.java</code> and <code>main.java</code> in the same folder <code>src/main/java/FX/</code> :</p>\n\n<p><p>1- SceneBuilder find controller.java \n<P>2- Main.java not find the FXML file</p>\n\n<p><a href=\"https://i.stack.imgur.com/xcTyU.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/xcTyU.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(\"/FX/sample.fxml\"));\n\n/opt/java/jdk1.8.0_20/bin/java -Didea.launcher.port=7537 -Didea.launcher.bin.path=/opt/idea-IU-143.381.42/bin -Dfile.encoding=UTF-8 -classpath /opt/java/jdk1.8.0_20/jre/lib/charsets.jar:/opt/java/jdk1.8.0_20/jre/lib/deploy.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/cldrdata.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/dnsns.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/jfxrt.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/localedata.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/nashorn.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunec.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunjce_provider.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/sunpkcs11.jar:/opt/java/jdk1.8.0_20/jre/lib/ext/zipfs.jar:/opt/java/jdk1.8.0_20/jre/lib/javaws.jar:/opt/java/jdk1.8.0_20/jre/lib/jce.jar:/opt/java/jdk1.8.0_20/jre/lib/jfr.jar:/opt/java/jdk1.8.0_20/jre/lib/jfxswt.jar:/opt/java/jdk1.8.0_20/jre/lib/jsse.jar:/opt/java/jdk1.8.0_20/jre/lib/management-agent.jar:/opt/java/jdk1.8.0_20/jre/lib/plugin.jar:/opt/java/jdk1.8.0_20/jre/lib/resources.jar:/opt/java/jdk1.8.0_20/jre/lib/rt.jar:/home/azb/IdeaProjects/TestMavenFX/target/classes:/opt/idea-IU-143.381.42/lib/idea_rt.jar com.intellij.rt.execution.application.AppMain FX.Main\n\n** (java:7837): WARNING **: Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-MBNrjIF7ES: Connection refused\nException in Application start method\nException in thread \"main\" java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:875)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$147(LauncherImpl.java:157)\n    at com.sun.javafx.application.LauncherImpl$$Lambda$1/424058530.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NullPointerException: Location is required.\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3201)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3169)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3142)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3118)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3098)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:3091)\n    at FX.Main.start(Main.java:13)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$153(LauncherImpl.java:821)\n    at com.sun.javafx.application.LauncherImpl$$Lambda$55/669200515.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$166(PlatformImpl.java:323)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$51/645218408.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$164(PlatformImpl.java:292)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$53/222734631.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$165(PlatformImpl.java:291)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$52/444279218.run(Unknown Source)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\n    at com.sun.glass.ui.gtk.GtkApplication$$Lambda$43/1060865646.run(Unknown Source)\n    ... 1 more\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>case 2 :</p>\n\n<p>When i put <code>sample.fxml</code> in the folder <code>src/main/resources/FX/</code>  and <code>controller.java</code> and <code>main.java</code> in the folder <code>src/main/java/FX/</code> :</p>\n\n<p><P>1- SceneBuilder not find controller.java \n<P>2- Main.java find the FXML file, and the program run</p>\n\n<p><a href=\"https://i.stack.imgur.com/avXJU.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/avXJU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Question : where's the wrong with this two cases ? witch cas is suppose to be the good one ? please help</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1660896504,"creation_date":1342001541,"answer_id":11430372,"question_id":11430289,"body_markdown":"You must the close the `FileInputStream`, as the `Properties` instance will not. From the `Properties.load()` javadoc:\r\n\r\n&gt;The specified stream remains open after this method returns. \r\n\r\nStore the `FileInputStream` in a separate variable, declared outside of the `try` and add a `finally` block that closes the `FileInputStream` if it was opened:\r\n\r\n    Properties properties = new Properties();\r\n    FileInputStream fis = null;\r\n    try {\r\n        fis = new FileInputStream(&quot;filename.properties&quot;);\r\n        properties.load(fis);\r\n    } catch (FileNotFoundException e) {\r\n        system.out.println(&quot;FileNotFound&quot;);\r\n    } catch (IOException e) {\r\n        system.out.println(&quot;IOEXCeption&quot;);\r\n    } finally {\r\n        if (null != fis)\r\n        {\r\n            try\r\n            {\r\n                fis.close();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n----\r\n\r\nUse [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) since Java 7:\r\n\r\n    final Properties properties = new Properties();\r\n    try (final FileInputStream fis =\r\n             new FileInputStream(&quot;filename.properties&quot;))\r\n    {\r\n        properties.load(fis);\r\n    } catch (FileNotFoundException e) {\r\n        System.out.println(&quot;FileNotFound: &quot; + e.getMessage());\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;IOEXCeption: &quot; + e.getMessage());\r\n    }","title":"how to close the fileInputStream while reading the property file","body":"<p>You must the close the <code>FileInputStream</code>, as the <code>Properties</code> instance will not. From the <code>Properties.load()</code> javadoc:</p>\n<blockquote>\n<p>The specified stream remains open after this method returns.</p>\n</blockquote>\n<p>Store the <code>FileInputStream</code> in a separate variable, declared outside of the <code>try</code> and add a <code>finally</code> block that closes the <code>FileInputStream</code> if it was opened:</p>\n<pre><code>Properties properties = new Properties();\nFileInputStream fis = null;\ntry {\n    fis = new FileInputStream(&quot;filename.properties&quot;);\n    properties.load(fis);\n} catch (FileNotFoundException e) {\n    system.out.println(&quot;FileNotFound&quot;);\n} catch (IOException e) {\n    system.out.println(&quot;IOEXCeption&quot;);\n} finally {\n    if (null != fis)\n    {\n        try\n        {\n            fis.close();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> since Java 7:</p>\n<pre><code>final Properties properties = new Properties();\ntry (final FileInputStream fis =\n         new FileInputStream(&quot;filename.properties&quot;))\n{\n    properties.load(fis);\n} catch (FileNotFoundException e) {\n    System.out.println(&quot;FileNotFound: &quot; + e.getMessage());\n} catch (IOException e) {\n    System.out.println(&quot;IOEXCeption: &quot; + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342002169,"creation_date":1342001671,"answer_id":11430408,"question_id":11430289,"body_markdown":"You should always close your streams, and doing it in the `finally` block is a good practice. The reason for this is that the `finally` block always gets executed, and you want to make sure that the stream is always closed, even if Something Bad happens.\r\n\r\n        FileInputStream inStream = null;\r\n        try {\r\n            inStream = new FileInputStream(&quot;filename.properties&quot;);\r\n            properties.load(inStream);\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;FileNotFound&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;IOEXCeption&quot;);\r\n        } finally {\r\n            try {\r\n                inStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nIf you are using Java 7, this becomes much easier, since a new [`try-with`][1] syntax was introduced. Then you can write like this:\r\n\r\n    try(FileInputStream inStream = new FileInputStream(&quot;filename.properties&quot;)){\r\n           properties.load(inStream);\r\n       } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;FileNotFound&quot;);\r\n       } catch (IOException e) {\r\n            System.out.println(&quot;IOEXCeption&quot;);\r\n    }\r\nand the stream is closed automatically.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html","title":"how to close the fileInputStream while reading the property file","body":"<p>You should always close your streams, and doing it in the <code>finally</code> block is a good practice. The reason for this is that the <code>finally</code> block always gets executed, and you want to make sure that the stream is always closed, even if Something Bad happens.</p>\n\n<pre><code>    FileInputStream inStream = null;\n    try {\n        inStream = new FileInputStream(\"filename.properties\");\n        properties.load(inStream);\n    } catch (FileNotFoundException e) {\n        System.out.println(\"FileNotFound\");\n    } catch (IOException e) {\n        System.out.println(\"IOEXCeption\");\n    } finally {\n        try {\n            inStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>If you are using Java 7, this becomes much easier, since a new <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow\"><code>try-with</code></a> syntax was introduced. Then you can write like this:</p>\n\n<pre><code>try(FileInputStream inStream = new FileInputStream(\"filename.properties\")){\n       properties.load(inStream);\n   } catch (FileNotFoundException e) {\n        System.out.println(\"FileNotFound\");\n   } catch (IOException e) {\n        System.out.println(\"IOEXCeption\");\n}\n</code></pre>\n\n<p>and the stream is closed automatically.</p>\n"},{"tags":[],"owner":{"account_id":225235,"reputation":6429,"user_id":485608,"accept_rate":50,"display_name":"M. Abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342001689,"creation_date":1342001689,"answer_id":11430417,"question_id":11430289,"body_markdown":"here is an example:\r\n\r\n        public class PropertiesHelper {\r\n        public static Properties loadFromFile(String file) throws IOException {\r\n            Properties properties = new Properties();\r\n            FileInputStream stream = new FileInputStream(file);\r\n            try {\r\n                properties.load(stream);\r\n            } finally {\r\n                stream.close();\r\n            }\r\n            return properties;\r\n        }\r\n    }\r\n\r\n","title":"how to close the fileInputStream while reading the property file","body":"<p>here is an example:</p>\n\n<pre><code>    public class PropertiesHelper {\n    public static Properties loadFromFile(String file) throws IOException {\n        Properties properties = new Properties();\n        FileInputStream stream = new FileInputStream(file);\n        try {\n            properties.load(stream);\n        } finally {\n            stream.close();\n        }\n        return properties;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645848,"reputation":886,"user_id":1517414,"display_name":"Sylvain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342002269,"creation_date":1342002269,"answer_id":11430596,"question_id":11430289,"body_markdown":"You can use Lombok @Cleanup to do it simply.\r\nhttp://projectlombok.org/features/Cleanup.html\r\n\r\n     Properties properties = new Properties();\r\n     try {\r\n       @Cleanup FileInputStream myFis = new FileInputStream(&quot;filename.properties&quot;);\r\n       properties.load(myFis);\r\n     } catch (FileNotFoundException e) {\r\n       System.out.println(&quot;FileNotFound&quot;);\r\n     }catch (IOException e) {\r\n       System.out.println(&quot;IOEXCeption&quot;);\r\n     }\r\n\r\nOr, only if your are using Java 7, there is the &quot;try with resource&quot; new feature.\r\nhttp://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n\r\n     Properties properties = new Properties();\r\n     try (FileInputStream myFis = new FileInputStream(&quot;filename.properties&quot;)) {\r\n       properties.load(myFis);\r\n     } catch (FileNotFoundException e) {\r\n       System.out.println(&quot;FileNotFound&quot;);\r\n     }catch (IOException e) {\r\n       System.out.println(&quot;IOEXCeption&quot;);\r\n     }","title":"how to close the fileInputStream while reading the property file","body":"<p>You can use Lombok @Cleanup to do it simply.\n<a href=\"http://projectlombok.org/features/Cleanup.html\" rel=\"nofollow\">http://projectlombok.org/features/Cleanup.html</a></p>\n\n<pre><code> Properties properties = new Properties();\n try {\n   @Cleanup FileInputStream myFis = new FileInputStream(\"filename.properties\");\n   properties.load(myFis);\n } catch (FileNotFoundException e) {\n   System.out.println(\"FileNotFound\");\n }catch (IOException e) {\n   System.out.println(\"IOEXCeption\");\n }\n</code></pre>\n\n<p>Or, only if your are using Java 7, there is the \"try with resource\" new feature.\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a></p>\n\n<pre><code> Properties properties = new Properties();\n try (FileInputStream myFis = new FileInputStream(\"filename.properties\")) {\n   properties.load(myFis);\n } catch (FileNotFoundException e) {\n   System.out.println(\"FileNotFound\");\n }catch (IOException e) {\n   System.out.println(\"IOEXCeption\");\n }\n</code></pre>\n"}],"owner":{"account_id":775816,"reputation":865,"user_id":902040,"accept_rate":36,"display_name":"Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13667,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":11430372,"answer_count":4,"score":11,"last_activity_date":1660896504,"creation_date":1342001320,"question_id":11430289,"body_markdown":"I have following code :\r\n\r\n        // Read properties file.\r\n         Properties properties = new Properties();\r\n         try {\r\n         properties.load(new FileInputStream(&quot;filename.properties&quot;));\r\n         } catch (FileNotFoundException e) {\r\n         system.out.println(&quot;FileNotFound&quot;);\r\n         }catch (IOException e) {\r\n         system.out.println(&quot;IOEXCeption&quot;);\r\n         }\r\n\r\nIs it required to close the FileInputStream? If yes, how do I do that? I am getting a bad practice error in my code checklist . Asking it to put finally block.","title":"how to close the fileInputStream while reading the property file","body":"<p>I have following code :</p>\n\n<pre><code>    // Read properties file.\n     Properties properties = new Properties();\n     try {\n     properties.load(new FileInputStream(\"filename.properties\"));\n     } catch (FileNotFoundException e) {\n     system.out.println(\"FileNotFound\");\n     }catch (IOException e) {\n     system.out.println(\"IOEXCeption\");\n     }\n</code></pre>\n\n<p>Is it required to close the FileInputStream? If yes, how do I do that? I am getting a bad practice error in my code checklist . Asking it to put finally block.</p>\n"},{"tags":["java","intellij-idea","getter","live-templates"],"comments":[{"owner":{"account_id":13506446,"reputation":1137,"user_id":9744335,"display_name":"hce"},"score":0,"creation_date":1655155804,"post_id":72605300,"comment_id":128260520,"body_markdown":"see https://stackoverflow.com/questions/43619751/intellij-idea-getter-and-setters-template-javafx-observable","body":"see <a href=\"https://stackoverflow.com/questions/43619751/intellij-idea-getter-and-setters-template-javafx-observable\" title=\"intellij idea getter and setters template javafx observable\">stackoverflow.com/questions/43619751/&hellip;</a>"},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1655303595,"post_id":72605300,"comment_id":128301345,"body_markdown":"It doesn&#39;t work in this case as Velocity treats angle brackets as html tags.\n\nYou can try to escape them (maybe this can help https://velocity.apache.org/engine/1.7/user-guide.html),\n\nor you can try to create a Live Template which you can use after the getter generation, maybe smth like Preferences | Editor | Live Templates | Java | C (Surround with Callable)","body":"It doesn&#39;t work in this case as Velocity treats angle brackets as html tags.  You can try to escape them (maybe this can help <a href=\"https://velocity.apache.org/engine/1.7/user-guide.html\" rel=\"nofollow noreferrer\">velocity.apache.org/engine/1.7/user-guide.html</a>),  or you can try to create a Live Template which you can use after the getter generation, maybe smth like Preferences | Editor | Live Templates | Java | C (Surround with Callable)"}],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660896191,"creation_date":1660896191,"answer_id":73413620,"question_id":72605300,"body_markdown":"Any whitespace in the template is included in the generated code. Most is removed again on the reformat that automatically happens after the generation. But whitespace inside a method name will break the code and reformatting will not fix it. So you will need to remove the indentation of the `#if` statement to avoid that. \r\n\r\nThis template should work:\r\n\r\n```\r\n#if($field.modifierStatic)\r\nstatic ##\r\n#end\r\nOptional&lt;$field.type&gt; ##\r\n#if($field.recordComponent)\r\n    ${field.name}##\r\n#else\r\n    #set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\r\n#if ($field.boolean &amp;&amp; $field.primitive)\r\nis##\r\n#else\r\nget##\r\n#end\r\n${name}##\r\n#end\r\n() {\r\nreturn Optional.ofNullable($field.name);\r\n}\r\n```","title":"IntelliJ LiveTemplate getter snippet with unnecessary space","body":"<p>Any whitespace in the template is included in the generated code. Most is removed again on the reformat that automatically happens after the generation. But whitespace inside a method name will break the code and reformatting will not fix it. So you will need to remove the indentation of the <code>#if</code> statement to avoid that.</p>\n<p>This template should work:</p>\n<pre><code>#if($field.modifierStatic)\nstatic ##\n#end\nOptional&lt;$field.type&gt; ##\n#if($field.recordComponent)\n    ${field.name}##\n#else\n    #set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\n#if ($field.boolean &amp;&amp; $field.primitive)\nis##\n#else\nget##\n#end\n${name}##\n#end\n() {\nreturn Optional.ofNullable($field.name);\n}\n</code></pre>\n"}],"owner":{"account_id":19702214,"reputation":1,"user_id":14424695,"display_name":"Andrzej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660896191,"creation_date":1655133793,"question_id":72605300,"body_markdown":"Im trying to create null-safety template for getter (returning Optional) with such code:\r\n\r\n    #if($field.modifierStatic)\r\n    static ##\r\n    #end\r\n    Optional&lt;$field.type&gt; ##\r\n    #if($field.recordComponent)\r\n        ${field.name}##\r\n    #else\r\n        #set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\r\n        #if ($field.boolean &amp;&amp; $field.primitive)\r\n        is##\r\n        #else\r\n        get##\r\n        #end\r\n        ${name}##\r\n    #end\r\n     () {\r\n    return Optional.ofNullable($field.name);\r\n    }\r\n\r\nbut while trying to create getter i get error:\r\n\r\n&gt; Incorrect method &#39;Optional  get Product () { return\r\n&gt; Optional.ofNullable(product); }&#39;\r\n\r\nIt looks like the templeate doesn&#39;t neither resolve field type nor join correctly &#39;get&#39; with fieldName (space between).\r\n\r\nCould someone help? My IntelliJ version: 2020.03.04","title":"IntelliJ LiveTemplate getter snippet with unnecessary space","body":"<p>Im trying to create null-safety template for getter (returning Optional) with such code:</p>\n<pre><code>#if($field.modifierStatic)\nstatic ##\n#end\nOptional&lt;$field.type&gt; ##\n#if($field.recordComponent)\n    ${field.name}##\n#else\n    #set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\n    #if ($field.boolean &amp;&amp; $field.primitive)\n    is##\n    #else\n    get##\n    #end\n    ${name}##\n#end\n () {\nreturn Optional.ofNullable($field.name);\n}\n</code></pre>\n<p>but while trying to create getter i get error:</p>\n<blockquote>\n<p>Incorrect method 'Optional  get Product () { return\nOptional.ofNullable(product); }'</p>\n</blockquote>\n<p>It looks like the templeate doesn't neither resolve field type nor join correctly 'get' with fieldName (space between).</p>\n<p>Could someone help? My IntelliJ version: 2020.03.04</p>\n"},{"tags":["java","log4j2","java-11"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1540312045,"post_id":52953483,"comment_id":92815321,"body_markdown":"There&#39;s been some &quot;clean up&quot; in the Java API and underlying system code.  My guess is something that used to work doesn&#39;t anymore, and the Apache folks haven&#39;t got around to fixing it.  I don&#39;t know what you can do other than downgrade to an earlier version of Java or use a different log manager.","body":"There&#39;s been some &quot;clean up&quot; in the Java API and underlying system code.  My guess is something that used to work doesn&#39;t anymore, and the Apache folks haven&#39;t got around to fixing it.  I don&#39;t know what you can do other than downgrade to an earlier version of Java or use a different log manager."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1540312949,"post_id":52953483,"comment_id":92815751,"body_markdown":"Could you be precise over which dependency of `log4j2 (2.11.1)`?","body":"Could you be precise over which dependency of <code>log4j2 (2.11.1)</code>?"},{"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"score":0,"creation_date":1540314336,"post_id":52953483,"comment_id":92816447,"body_markdown":"It&#39;s log4j-api - edited question to include","body":"It&#39;s log4j-api - edited question to include"},{"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"score":5,"creation_date":1540314464,"post_id":52953483,"comment_id":92816513,"body_markdown":"@markspace wow, really? One of the most popular logging frameworks isn&#39;t compatible with current LTS of Java?","body":"@markspace wow, really? One of the most popular logging frameworks isn&#39;t compatible with current LTS of Java?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1540316206,"post_id":52953483,"comment_id":92817379,"body_markdown":"@DanielScott I find that third party efforts to outdo [existing standard functionality](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/package-summary.html) tend to believe their “clever” hacks are what make them superior.  I don’t share their belief.","body":"@DanielScott I find that third party efforts to outdo <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/package-summary.html\" rel=\"nofollow noreferrer\">existing standard functionality</a> tend to believe their “clever” hacks are what make them superior.  I don’t share their belief."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1540316702,"post_id":52953483,"comment_id":92817607,"body_markdown":"The official API, [`StackWalker.getCallerClass()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html#getCallerClass()), has been introduced with Java&#160;9. According to [the changelogs](https://logging.apache.org/log4j/2.x/changes-report.html#a2.9.0), support for it has been added even in log4j2 2.9.0. Perhaps, you need a build specifically for Java&#160;9+…","body":"The official API, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html#getCallerClass()\" rel=\"nofollow noreferrer\"><code>StackWalker.getCallerClass()</code></a>, has been introduced with Java 9. According to <a href=\"https://logging.apache.org/log4j/2.x/changes-report.html#a2.9.0\" rel=\"nofollow noreferrer\">the changelogs</a>, support for it has been added even in log4j2 2.9.0. Perhaps, you need a build specifically for Java 9+…"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1540317432,"post_id":52953483,"comment_id":92817982,"body_markdown":"When I download pre-built binaries from https://logging.apache.org/log4j/2.x/download.html I get multi-release jars, which will automatically select the implementation version when running under Java&#160;9 or newer. So the crucial point is how the version, you are using, has been built.","body":"When I download pre-built binaries from <a href=\"https://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/download.html</a> I get multi-release jars, which will automatically select the implementation version when running under Java 9 or newer. So the crucial point is how the version, you are using, has been built."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":5,"creation_date":1540317505,"post_id":52953483,"comment_id":92818018,"body_markdown":"@Holger is right mostly, seems like you&#39;re not using the library under java9+ which is where the [updated implementation of StackLocator](https://github.com/apache/logging-log4j2/blob/master/log4j-api-java9/src/main/java/org/apache/logging/log4j/util/StackLocator.java) is. Not able to share a screenshot here in the comments, but the MR-JAR of log4j includes a different implementation of StackLocator at `../.m2/repository/org/apache/logging/log4j/log4j-api/2.11.1/log4j-api-2.11.1.jar!/META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class`","body":"@Holger is right mostly, seems like you&#39;re not using the library under java9+ which is where the <a href=\"https://github.com/apache/logging-log4j2/blob/master/log4j-api-java9/src/main/java/org/apache/logging/log4j/util/StackLocator.java\" rel=\"nofollow noreferrer\">updated implementation of StackLocator</a> is. Not able to share a screenshot here in the comments, but the MR-JAR of log4j includes a different implementation of StackLocator at <code>..&#47;.m2&#47;repository&#47;org&#47;apache&#47;logging&#47;log4j&#47;log4j-api&#47;2.11.1&#47;&zwnj;&#8203;log4j-api-2.11.1.jar&zwnj;&#8203;!&#47;META-INF&#47;versions&#47;&zwnj;&#8203;9&#47;org&#47;apache&#47;logging&zwnj;&#8203;&#47;log4j&#47;util&#47;StackLoc&zwnj;&#8203;ator.class</code>"},{"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"score":0,"creation_date":1540323224,"post_id":52953483,"comment_id":92820696,"body_markdown":"Yep, I have that class file in my dependency... still not working though","body":"Yep, I have that class file in my dependency... still not working though"},{"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"score":0,"creation_date":1540323536,"post_id":52953483,"comment_id":92820830,"body_markdown":"And the file is identical to the one in the same location in my shaded jar","body":"And the file is identical to the one in the same location in my shaded jar"}],"answers":[{"tags":[],"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1540323922,"creation_date":1540323922,"answer_id":52956767,"question_id":52953483,"body_markdown":"The reason was that the multi-release class files were not being picked up from `META-INF/versions/*` because I hadn&#39;t set the multi-release flag when I built my shaded jar.\r\n\r\nI needed to add:\r\n\r\n    Multi-Release:true\r\n\r\nTo my manifest, and everything started working.","title":"LogManager.getLogger() is unable to determine class name on Java 11","body":"<p>The reason was that the multi-release class files were not being picked up from <code>META-INF/versions/*</code> because I hadn't set the multi-release flag when I built my shaded jar.</p>\n\n<p>I needed to add:</p>\n\n<pre><code>Multi-Release:true\n</code></pre>\n\n<p>To my manifest, and everything started working.</p>\n"},{"tags":[],"owner":{"account_id":4349923,"reputation":464,"user_id":3550642,"display_name":"Chad Lad"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1660896074,"creation_date":1565109336,"answer_id":57380497,"question_id":52953483,"body_markdown":"The answer by @DanielScott is correct. When using the Gradle Shadow plugin, I added the following to my `build.gradle` to appended the `Multi-Release:true` flag to the manifest.\r\n\r\n``` lang-java\r\njar {\r\n    manifest {\r\n        attributes &#39;Multi-Release&#39;: &#39;true&#39;\r\n    }\r\n}\r\n```","title":"LogManager.getLogger() is unable to determine class name on Java 11","body":"<p>The answer by @DanielScott is correct. When using the Gradle Shadow plugin, I added the following to my <code>build.gradle</code> to appended the <code>Multi-Release:true</code> flag to the manifest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>jar {\n    manifest {\n        attributes 'Multi-Release': 'true'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17992,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"closed_date":1640359356,"accepted_answer_id":52956767,"answer_count":2,"score":32,"last_activity_date":1660896074,"creation_date":1540310813,"question_id":52953483,"body_markdown":"I&#39;m using log4j2 (2.11.1) with Java 11 and attempting to get a `Logger` object using:\r\n\r\n    private static final Logger LOG = LogManager.getLogger();\r\n\r\n(Imported from `log4j-api` in `org.apache.logging.log4j`)\r\n\r\nAt runtime, I receive the following error:\r\n\r\n    WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    Caused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\r\n\tat \r\n    org.apache.logging.log4j.LogManager.callerClass(LogManager.java:555)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:580)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:567)\r\n    \tat app.App.&lt;clinit&gt;(App.java:11)\r\n\r\nWhich does make sense - getCallerClass is not supported and so the logger is unable to determine the class name.\r\n\r\nIs it supposed to work this way? Surely I don&#39;t have to hard-code the class name into each logger?","title":"LogManager.getLogger() is unable to determine class name on Java 11","body":"<p>I'm using log4j2 (2.11.1) with Java 11 and attempting to get a <code>Logger</code> object using:</p>\n\n<pre><code>private static final Logger LOG = LogManager.getLogger();\n</code></pre>\n\n<p>(Imported from <code>log4j-api</code> in <code>org.apache.logging.log4j</code>)</p>\n\n<p>At runtime, I receive the following error:</p>\n\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\nException in thread \"main\" java.lang.ExceptionInInitializerError\nCaused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\nat \norg.apache.logging.log4j.LogManager.callerClass(LogManager.java:555)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:580)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:567)\n    at app.App.&lt;clinit&gt;(App.java:11)\n</code></pre>\n\n<p>Which does make sense - getCallerClass is not supported and so the logger is unable to determine the class name.</p>\n\n<p>Is it supposed to work this way? Surely I don't have to hard-code the class name into each logger?</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1660895913,"post_id":73413537,"comment_id":129646295,"body_markdown":"`https://www.gwtproject.org/javadoc/latest/com/google/gwt/user/client/ui/ValueListBox.html#setValue-T-`?","body":"<code>https:&#47;&#47;www.gwtproject.org&#47;javadoc&#47;latest&#47;com&#47;google&#47;gwt&#47;use&zwnj;&#8203;r&#47;client&#47;ui&#47;ValueLis&zwnj;&#8203;tBox.html#setValue-T&zwnj;&#8203;-</code>?"},{"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"score":0,"creation_date":1660897352,"post_id":73413537,"comment_id":129646749,"body_markdown":"I tried to use `NodeList&lt;Element&gt; options = quarterYears.getElement().getElementsByTagName(&quot;option&quot;);`  but I get undefined","body":"I tried to use <code>NodeList&lt;Element&gt; options = quarterYears.getElement().getElementsByTagName(&quot;option&quot;);</code>  but I get undefined"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1660898319,"post_id":73413537,"comment_id":129647039,"body_markdown":"Why not simple `quarterYears.setValue(&lt;YourDefualtValue&gt;)&#39;","body":"Why not simple `quarterYears.setValue(&lt;YourDefualtValue&gt;)&#39;"},{"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"score":1,"creation_date":1661151321,"post_id":73413537,"comment_id":129694362,"body_markdown":"@Jens `quarterYears.setValue(&lt;YourDefualtValue&gt;)` solve the problem, thanks","body":"@Jens <code>quarterYears.setValue(&lt;YourDefualtValue&gt;)</code> solve the problem, thanks"}],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660895699,"creation_date":1660895699,"question_id":73413537,"body_markdown":"I&#39;m a beginner in GWT. I have a `ValueListBox` which contains a list of quarters. This list is returned from service backend. My issue is to set the actual quarter of the year as a default value. I tried many attempts but I didn&#39;t succeed.\r\n\r\n     private ValueListBox&lt;String&gt; getQuarters() {\r\n        return new ValueListBox&lt;String&gt;(new Renderer&lt;String&gt;() {\r\n            @Override\r\n            public String render(String instance) {\r\n                return instance != null ? instance : &quot;--select one--&quot;;\r\n            }\r\n\r\n            @Override\r\n            public void render(String instance, Appendable appendable) throws IOException {\r\n                appendable.append(render(instance));\r\n            }\r\n        });\r\n    }\r\n\r\n     private void populateQuarterList(final ValueListBox&lt;String&gt; quarterYears) {\r\n        TestRpcAsync.INSTANCE.getListOfQuarters(new AsyncCallback&lt;List&lt;String&gt;&gt;() {\r\n            @Override\r\n            public void onFailure(Throwable caught) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onSuccess(List&lt;String&gt; result) {\r\n                quarterYears.setAcceptableValues(result);\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"Set default value to ValueListBox in GWT","body":"<p>I'm a beginner in GWT. I have a <code>ValueListBox</code> which contains a list of quarters. This list is returned from service backend. My issue is to set the actual quarter of the year as a default value. I tried many attempts but I didn't succeed.</p>\n<pre><code> private ValueListBox&lt;String&gt; getQuarters() {\n    return new ValueListBox&lt;String&gt;(new Renderer&lt;String&gt;() {\n        @Override\n        public String render(String instance) {\n            return instance != null ? instance : &quot;--select one--&quot;;\n        }\n\n        @Override\n        public void render(String instance, Appendable appendable) throws IOException {\n            appendable.append(render(instance));\n        }\n    });\n}\n\n private void populateQuarterList(final ValueListBox&lt;String&gt; quarterYears) {\n    TestRpcAsync.INSTANCE.getListOfQuarters(new AsyncCallback&lt;List&lt;String&gt;&gt;() {\n        @Override\n        public void onFailure(Throwable caught) {\n            \n        }\n\n        @Override\n        public void onSuccess(List&lt;String&gt; result) {\n            quarterYears.setAcceptableValues(result);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660896965,"post_id":73413232,"comment_id":129646639,"body_markdown":"You are using the wrong constructor. You are using the `String` based one, use the one that accepts classes. So write `AnnotationConfigApplicationContext(SportConfig.class)`. (Notice no `&quot;`).","body":"You are using the wrong constructor. You are using the <code>String</code> based one, use the one that accepts classes. So write <code>AnnotationConfigApplicationContext(SportConfig.class)</code>. (Notice no <code>&quot;</code>)."},{"owner":{"account_id":25295509,"reputation":13,"user_id":19120735,"display_name":"Mandeep "},"score":0,"creation_date":1660898744,"post_id":73413232,"comment_id":129647192,"body_markdown":"Thank you M.Deinum. That fixed the error. I was stuck on that error for a long time. Thanks a lot.","body":"Thank you M.Deinum. That fixed the error. I was stuck on that error for a long time. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660895132,"creation_date":1660895132,"answer_id":73413421,"question_id":73413232,"body_markdown":"Try scanning package instead:\r\n\r\n```\r\nAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\r\ncontext.scan(&quot;com.mandeep.spring&quot;);\r\n```\r\n","title":"How do I Configure a Spring Project without Xml file and only using Java?","body":"<p>Try scanning package instead:</p>\n<pre><code>AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\ncontext.scan(&quot;com.mandeep.spring&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660895443,"creation_date":1660895443,"answer_id":73413473,"question_id":73413232,"body_markdown":"Try to use component class to construct your context\r\n```\r\nAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(SportConfig.class);\r\n```\r\nWhen use basePackages, we should add full path to the packages to scan.  \r\n","title":"How do I Configure a Spring Project without Xml file and only using Java?","body":"<p>Try to use component class to construct your context</p>\n<pre><code>AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(SportConfig.class);\n</code></pre>\n<p>When use basePackages, we should add full path to the packages to scan.</p>\n"}],"owner":{"account_id":25295509,"reputation":13,"user_id":19120735,"display_name":"Mandeep "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73413473,"answer_count":2,"score":1,"last_activity_date":1660895443,"creation_date":1660894072,"question_id":73413232,"body_markdown":"I am currently learning Spring Framework.\r\n\r\nI have Created 1 Bean Object (Class and Interface) and 1 Dependency (Interface and Class).\r\nWhen I try to Configure Spring Beans without a xml file and with Pure Java class the below Error shows up:\r\n\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;swimCoach&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:863)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)\r\n\tat com.mandeep.spring.JavaConfigApp.main(JavaConfigApp.java:14)\r\n```\r\n\r\n**The Spring Configuration Class &quot;SportConfig.java&quot;is as below:**\r\n```\r\npackage com.mandeep.spring;\r\n\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n//@ComponentScan(&quot;com.mandeep.spring&quot;)\r\npublic class SportConfig {\r\n\t\r\n\t//Define a Method for SadFortuneService\r\n\t@Bean\r\n\tpublic FortuneService sadFortuneService() {\r\n\t\treturn new SadFortuneService();\r\n\t}\r\n\t\r\n\t//Define a Method for SwimCoach and Inject Dependency\r\n\t@Bean\r\n\tpublic Coach swimCoach() {\r\n\t\treturn new SwimCoach(sadFortuneService());\r\n\t}\r\n}\r\n\r\n```\r\n**The Main Function Class &quot;JavaConfigApp.java&quot; is as below:**\r\n```\r\npackage com.mandeep.spring;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class JavaConfigApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//Read Spring Config. File\r\n\t\tAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(&quot;SportConfig.class&quot;);\r\n\t\t\r\n\t\t\r\n\t\t//Get Bean From Spring Container\r\n\t\tCoach theCoach = context.getBean(&quot;swimCoach&quot;,Coach.class);\r\n\t\t\r\n\t\t//Call Method from the Bean\r\n\t\tSystem.out.println(theCoach.getDailyWorkout());\r\n\t\t\r\n\t\tSystem.out.println(theCoach.getDailyFortune());\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//Close the Context\r\n\t\tcontext.close();    \t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**The &quot;SwimCoach.java&quot; class implements Coach interface and is as below:**\r\n\r\n```\r\npackage com.mandeep.spring;\r\n\r\n\r\npublic class SwimCoach implements Coach {\r\n\r\n\tprivate FortuneService fortuneService;\r\n\t\r\n\tpublic SwimCoach(FortuneService fortuneService) {\r\n\t\tsuper();\r\n\t\tthis.fortuneService = fortuneService;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getDailyWorkout() {\r\n\t\t\r\n\t\treturn &quot;Swim For 100 rounds&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getDailyFortune() {\r\n\t\t\r\n\t\treturn fortuneService.getFortune();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getEmail() {\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**The Dependency class &quot;SadFortuneService.java&quot; implements FortuneService interface and is as below:** \r\n```\r\npackage com.mandeep.spring;\r\n\r\n\r\npublic class SadFortuneService implements FortuneService {\r\n\r\n\t@Override\r\n\tpublic String getFortune() {\r\n\t\t\r\n\t\treturn &quot;Today is your Bad Luck&quot;;\r\n\t}\r\n\r\n}\r\n```","title":"How do I Configure a Spring Project without Xml file and only using Java?","body":"<p>I am currently learning Spring Framework.</p>\n<p>I have Created 1 Bean Object (Class and Interface) and 1 Dependency (Interface and Class).\nWhen I try to Configure Spring Beans without a xml file and with Pure Java class the below Error shows up:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'swimCoach' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:863)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)\n    at com.mandeep.spring.JavaConfigApp.main(JavaConfigApp.java:14)\n</code></pre>\n<p><strong>The Spring Configuration Class &quot;SportConfig.java&quot;is as below:</strong></p>\n<pre><code>package com.mandeep.spring;\n\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n//@ComponentScan(&quot;com.mandeep.spring&quot;)\npublic class SportConfig {\n    \n    //Define a Method for SadFortuneService\n    @Bean\n    public FortuneService sadFortuneService() {\n        return new SadFortuneService();\n    }\n    \n    //Define a Method for SwimCoach and Inject Dependency\n    @Bean\n    public Coach swimCoach() {\n        return new SwimCoach(sadFortuneService());\n    }\n}\n\n</code></pre>\n<p><strong>The Main Function Class &quot;JavaConfigApp.java&quot; is as below:</strong></p>\n<pre><code>package com.mandeep.spring;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class JavaConfigApp {\n\n    public static void main(String[] args) {\n        \n        //Read Spring Config. File\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(&quot;SportConfig.class&quot;);\n        \n        \n        //Get Bean From Spring Container\n        Coach theCoach = context.getBean(&quot;swimCoach&quot;,Coach.class);\n        \n        //Call Method from the Bean\n        System.out.println(theCoach.getDailyWorkout());\n        \n        System.out.println(theCoach.getDailyFortune());\n        \n        \n        \n        //Close the Context\n        context.close();        \n    }\n\n}\n</code></pre>\n<p><strong>The &quot;SwimCoach.java&quot; class implements Coach interface and is as below:</strong></p>\n<pre><code>package com.mandeep.spring;\n\n\npublic class SwimCoach implements Coach {\n\n    private FortuneService fortuneService;\n    \n    public SwimCoach(FortuneService fortuneService) {\n        super();\n        this.fortuneService = fortuneService;\n    }\n\n    @Override\n    public String getDailyWorkout() {\n        \n        return &quot;Swim For 100 rounds&quot;;\n    }\n\n    @Override\n    public String getDailyFortune() {\n        \n        return fortuneService.getFortune();\n    }\n\n    @Override\n    public String getEmail() {\n        \n        return null;\n    }\n\n}\n</code></pre>\n<p><strong>The Dependency class &quot;SadFortuneService.java&quot; implements FortuneService interface and is as below:</strong></p>\n<pre><code>package com.mandeep.spring;\n\n\npublic class SadFortuneService implements FortuneService {\n\n    @Override\n    public String getFortune() {\n        \n        return &quot;Today is your Bad Luck&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oracle","plsql"],"answers":[{"tags":[],"owner":{"account_id":7810518,"reputation":465,"user_id":5906841,"display_name":"i.merkurev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506807069,"creation_date":1506682226,"answer_id":46487279,"question_id":46486447,"body_markdown":"You need to follow these steps:\r\n\r\n**1. On your computer you should have an Oracle jdbc driver** (http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html)\r\n\r\n**2. Load a driver**\r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\n**3. Get a connection**\r\n\r\n    Connection connection =\r\n    DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:SID&quot;,&quot;username&quot;,&quot;password&quot;);\r\n\r\nUPDATE: If you work inside of Oracle DB, you can choose a type of driver (Server-Side Thin Driver or Server-Side Internal Driver) - https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\r\n","title":"AbstractMethodError thrown when creating a Clob object in Java oracle procedure","body":"<p>You need to follow these steps:</p>\n\n<p><strong>1. On your computer you should have an Oracle jdbc driver</strong> (<a href=\"http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html</a>)</p>\n\n<p><strong>2. Load a driver</strong></p>\n\n<pre><code>Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n</code></pre>\n\n<p><strong>3. Get a connection</strong></p>\n\n<pre><code>Connection connection =\nDriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:SID\",\"username\",\"password\");\n</code></pre>\n\n<p>UPDATE: If you work inside of Oracle DB, you can choose a type of driver (Server-Side Thin Driver or Server-Side Internal Driver) - <a href=\"https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html</a></p>\n"},{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506804656,"creation_date":1506804656,"answer_id":46506938,"question_id":46486447,"body_markdown":"The creation of the `CLOB`using `conn.createClob()` works for my fine in 12c. I suspect from your error message in 11 you&#39;ll have to use the `CLOB.createTemporary` method to create the CLOB (which works fine in 12c as well but is marked as *deprecated*).\r\n\r\nHere an example\r\n\r\n**Java class**\r\n\r\n    CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED &quot;CreateCLOB&quot;\r\n    AS \r\n    import java.sql.*;\r\n    import oracle.sql.*;\r\n    import oracle.jdbc.*;\r\n    \r\n    /****** START PASTE JAVA CLASS HERE *****/\r\n    public class CreateCLOB{\r\n    \r\n      public static void ClobProc (Clob cl[]) throws SQLException\r\n      {\r\n        Connection conn = DriverManager.getConnection (&quot;jdbc:default:connection:&quot;); /* or use &quot;jdbc:oracle:kprb:&quot; */\r\n        \r\n        Clob clob =  CLOB.createTemporary(conn, false, oracle.sql.CLOB.DURATION_SESSION); /* this is deprecated in 12c */\r\n                    // conn.createClob(); /* works fine in 12.1.0.2.0 */\r\n        clob.setString(1, &quot;Test Data&quot;);\r\n        cl[0] = clob;\r\n      }\r\n    }\r\n    /\r\n\r\n**Wrapper**\r\n\r\n    create or replace procedure MyClob (cl OUT Clob) \r\n      as language java\r\n      name &#39;CreateCLOB.ClobProc(java.sql.Clob[])&#39;;\r\n    /\r\n\r\n**Test**\r\n\r\n    declare\r\n    x Clob;\r\n    \r\n    begin\r\n      MyClob(x);\r\n      dbms_output.put_line(&#39;created CLOB length = &#39; || dbms_lob.getlength(x));\r\n    end;\r\n    /\r\n\r\n    created CLOB length = 9\r\n\r\n\r\nAs mentioned I can&#39;t test it on version 11, but I suppose it will work.\r\n\r\n    select * from v$version;\r\n    Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production","title":"AbstractMethodError thrown when creating a Clob object in Java oracle procedure","body":"<p>The creation of the <code>CLOB</code>using <code>conn.createClob()</code> works for my fine in 12c. I suspect from your error message in 11 you'll have to use the <code>CLOB.createTemporary</code> method to create the CLOB (which works fine in 12c as well but is marked as <em>deprecated</em>).</p>\n\n<p>Here an example</p>\n\n<p><strong>Java class</strong></p>\n\n<pre><code>CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED \"CreateCLOB\"\nAS \nimport java.sql.*;\nimport oracle.sql.*;\nimport oracle.jdbc.*;\n\n/****** START PASTE JAVA CLASS HERE *****/\npublic class CreateCLOB{\n\n  public static void ClobProc (Clob cl[]) throws SQLException\n  {\n    Connection conn = DriverManager.getConnection (\"jdbc:default:connection:\"); /* or use \"jdbc:oracle:kprb:\" */\n\n    Clob clob =  CLOB.createTemporary(conn, false, oracle.sql.CLOB.DURATION_SESSION); /* this is deprecated in 12c */\n                // conn.createClob(); /* works fine in 12.1.0.2.0 */\n    clob.setString(1, \"Test Data\");\n    cl[0] = clob;\n  }\n}\n/\n</code></pre>\n\n<p><strong>Wrapper</strong></p>\n\n<pre><code>create or replace procedure MyClob (cl OUT Clob) \n  as language java\n  name 'CreateCLOB.ClobProc(java.sql.Clob[])';\n/\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>declare\nx Clob;\n\nbegin\n  MyClob(x);\n  dbms_output.put_line('created CLOB length = ' || dbms_lob.getlength(x));\nend;\n/\n\ncreated CLOB length = 9\n</code></pre>\n\n<p>As mentioned I can't test it on version 11, but I suppose it will work.</p>\n\n<pre><code>select * from v$version;\nOracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17745040,"reputation":11,"user_id":12884499,"display_name":"adk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660895303,"creation_date":1660803304,"answer_id":73398243,"question_id":46486447,"body_markdown":"Even when you are not using the createClob() you may get this error when starting the application if you are using an older version of hibernate core library. \r\n\r\nThe errors is just thrown, but the application starts. If you are not worried about it you may leave it, but if you don&#39;t want to see an error during application startup then her is the fix.\r\n\r\nIts a bug in the Spring boot 2.X - hibernate core 5.3.X combination. There are 2 solutions for the issue. I would suggest #1.\r\n\r\n1. Upgrade all hibernate libraries to 5.4.X (my way)\r\n\r\n2. Provide **spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true** in your application properties/ yml file.(If you really do not want to upgrade your hibernate core library). \r\n\r\nI have got this when upgrading spring boot to 2.4 and using Teradata DB without any createClob().\r\n\r\nIf you still want to know how the error is being created, its well explained in https://alexpask.com/spring-boot-createclob-error/\r\n","title":"AbstractMethodError thrown when creating a Clob object in Java oracle procedure","body":"<p>Even when you are not using the createClob() you may get this error when starting the application if you are using an older version of hibernate core library.</p>\n<p>The errors is just thrown, but the application starts. If you are not worried about it you may leave it, but if you don't want to see an error during application startup then her is the fix.</p>\n<p>Its a bug in the Spring boot 2.X - hibernate core 5.3.X combination. There are 2 solutions for the issue. I would suggest #1.</p>\n<ol>\n<li><p>Upgrade all hibernate libraries to 5.4.X (my way)</p>\n</li>\n<li><p>Provide <strong>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true</strong> in your application properties/ yml file.(If you really do not want to upgrade your hibernate core library).</p>\n</li>\n</ol>\n<p>I have got this when upgrading spring boot to 2.4 and using Teradata DB without any createClob().</p>\n<p>If you still want to know how the error is being created, its well explained in <a href=\"https://alexpask.com/spring-boot-createclob-error/\" rel=\"nofollow noreferrer\">https://alexpask.com/spring-boot-createclob-error/</a></p>\n"}],"owner":{"account_id":2197468,"reputation":1394,"user_id":1942762,"display_name":"asidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46506938,"answer_count":3,"score":1,"last_activity_date":1660895303,"creation_date":1506679250,"question_id":46486447,"body_markdown":"I&#39;m developing a Java PLSQL procedure that must instanciate a CLOB object. In order to instanciate that Clob object I must use a connection object. Based on [Oracle documentation][1], I can get the current connection using java.sql.DriverManager however when I execute the following code an AbstractMethodError error is thrown\r\n\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:default:connection:&quot;);\r\n    Clob clob = conn.createClob();\r\n\r\nI see a lot of posts talking about driver compatibility with Java runtime running the code but as I am working inside an Oracle DB I suppose it should be compatible.\r\n\r\nOracle version: 11.2.0.4.0\r\n\r\nMy goal is to create a clob inside my java method and return it to my plsql code. How can I instanciate a Clob inside a java class stored inside an Oracle database ? \r\n\r\nThanks for any help !\r\n\r\n  [1]: https://docs.oracle.com/cd/B28359_01/java.111/b31225/chone.htm#JJDEV01000","title":"AbstractMethodError thrown when creating a Clob object in Java oracle procedure","body":"<p>I'm developing a Java PLSQL procedure that must instanciate a CLOB object. In order to instanciate that Clob object I must use a connection object. Based on <a href=\"https://docs.oracle.com/cd/B28359_01/java.111/b31225/chone.htm#JJDEV01000\" rel=\"nofollow noreferrer\">Oracle documentation</a>, I can get the current connection using java.sql.DriverManager however when I execute the following code an AbstractMethodError error is thrown</p>\n\n<pre><code>Connection conn = DriverManager.getConnection(\"jdbc:default:connection:\");\nClob clob = conn.createClob();\n</code></pre>\n\n<p>I see a lot of posts talking about driver compatibility with Java runtime running the code but as I am working inside an Oracle DB I suppose it should be compatible.</p>\n\n<p>Oracle version: 11.2.0.4.0</p>\n\n<p>My goal is to create a clob inside my java method and return it to my plsql code. How can I instanciate a Clob inside a java class stored inside an Oracle database ? </p>\n\n<p>Thanks for any help !</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"score":0,"creation_date":1660894355,"post_id":73413252,"comment_id":129645790,"body_markdown":"Use a RecyclerView","body":"Use a RecyclerView"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660894881,"creation_date":1660894881,"answer_id":73413385,"question_id":73413252,"body_markdown":"Try this:\r\n\r\n    private fun setListeners() {\r\n    \r\n        val clickableViews: List&lt;Int&gt; =\r\n            listOf(R.id.box_one_text, R.id.box_two_text, R.id.box_three_text,\r\n        R.id.box_four_text, R.id.box_five_text)\r\n        \r\n        for(item in clickableViews){\r\n            findViewById&lt;View&gt;(item).setOnClickListener{makeColored(it)}\r\n        }\r\n    \r\n    }","title":"How to reference view objects inside a list?","body":"<p>Try this:</p>\n<pre><code>private fun setListeners() {\n\n    val clickableViews: List&lt;Int&gt; =\n        listOf(R.id.box_one_text, R.id.box_two_text, R.id.box_three_text,\n    R.id.box_four_text, R.id.box_five_text)\n    \n    for(item in clickableViews){\n        findViewById&lt;View&gt;(item).setOnClickListener{makeColored(it)}\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15922083,"reputation":705,"user_id":11488790,"display_name":"Bernhard Josephus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660895076,"creation_date":1660895076,"answer_id":73413412,"question_id":73413252,"body_markdown":"First thing first, the list type is wrong. You said that `box_one_text` and `box_two_text` are the view id. View id type is `Int`, so you should change the list to list of `Int`\r\n\r\n\r\n    val clickableViews: List&lt;Int&gt; =\r\n        listOf(box_one_text, box_two_text, box_three_text,\r\n    box_four_text, box_five_text)\r\n\r\nThen, to apply a click listener to each of the id, you need to find the view using `findViewById`\r\n\r\n    for(item in clickableViews){\r\n        findViewById&lt;View&gt;(item).setOnClickListener{makeColored(it)}\r\n    }\r\n\r\nOr if you use view binding, you can follow below code:\r\n\r\n    val clickableViews: List&lt;View&gt; =\r\n        listOf(binding.boxOneText, binding.boxTwoText, binding.boxThreeText,\r\n    binding.boxFourText, binding.boxFiveText)\r\n    for(item in clickableViews){\r\n        item.setOnClickListener{makeColored(it)}\r\n    }","title":"How to reference view objects inside a list?","body":"<p>First thing first, the list type is wrong. You said that <code>box_one_text</code> and <code>box_two_text</code> are the view id. View id type is <code>Int</code>, so you should change the list to list of <code>Int</code></p>\n<pre><code>val clickableViews: List&lt;Int&gt; =\n    listOf(box_one_text, box_two_text, box_three_text,\nbox_four_text, box_five_text)\n</code></pre>\n<p>Then, to apply a click listener to each of the id, you need to find the view using <code>findViewById</code></p>\n<pre><code>for(item in clickableViews){\n    findViewById&lt;View&gt;(item).setOnClickListener{makeColored(it)}\n}\n</code></pre>\n<p>Or if you use view binding, you can follow below code:</p>\n<pre><code>val clickableViews: List&lt;View&gt; =\n    listOf(binding.boxOneText, binding.boxTwoText, binding.boxThreeText,\nbinding.boxFourText, binding.boxFiveText)\nfor(item in clickableViews){\n    item.setOnClickListener{makeColored(it)}\n}\n</code></pre>\n"}],"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73413412,"answer_count":2,"score":0,"last_activity_date":1660895076,"creation_date":1660894181,"question_id":73413252,"body_markdown":"I&#39;m trying to create a method to set a `listener` to each of my `views` inside a list like:\r\n\r\n        private fun setListeners() {\r\n\r\n        val clickableViews: List&lt;View&gt; =\r\n            listOf(box_one_text, box_two_text, box_three_text,\r\n        box_four_text, box_five_text)\r\n\r\n        for(item in clickableViews){\r\n            item.setOnClickListener{makeColored(it)}\r\n        }\r\n    }\r\n\r\n`box_one_text`, `box_two_text` and so on are the `id` of the views inside my xml file and I&#39;m trying to set a color of it when they are clicked like:\r\n\r\n       fun makeColored(view: View) {\r\n        when (view.id) {\r\n\r\n            // Boxes using Color class colors for background\r\n            R.id.box_one_text -&gt; view.setBackgroundColor(Color.DKGRAY)\r\n            R.id.box_two_text -&gt; view.setBackgroundColor(Color.GRAY)\r\n\r\n            // Boxes using Android color resources for background\r\n            R.id.box_three_text -&gt; view.setBackgroundResource(android.R.color.holo_green_light)\r\n            R.id.box_four_text -&gt; view.setBackgroundResource(android.R.color.holo_green_dark)\r\n            R.id.box_five_text -&gt; view.setBackgroundResource(android.R.color.holo_green_light)\r\n\r\n            else -&gt; view.setBackgroundColor(Color.LTGRAY)\r\n        }\r\n    }\r\n\r\n\r\nthe problems is that all of the elements inside the `list` are all red lines or can&#39;t reference by the list\r\n\r\n","title":"How to reference view objects inside a list?","body":"<p>I'm trying to create a method to set a <code>listener</code> to each of my <code>views</code> inside a list like:</p>\n<pre><code>    private fun setListeners() {\n\n    val clickableViews: List&lt;View&gt; =\n        listOf(box_one_text, box_two_text, box_three_text,\n    box_four_text, box_five_text)\n\n    for(item in clickableViews){\n        item.setOnClickListener{makeColored(it)}\n    }\n}\n</code></pre>\n<p><code>box_one_text</code>, <code>box_two_text</code> and so on are the <code>id</code> of the views inside my xml file and I'm trying to set a color of it when they are clicked like:</p>\n<pre><code>   fun makeColored(view: View) {\n    when (view.id) {\n\n        // Boxes using Color class colors for background\n        R.id.box_one_text -&gt; view.setBackgroundColor(Color.DKGRAY)\n        R.id.box_two_text -&gt; view.setBackgroundColor(Color.GRAY)\n\n        // Boxes using Android color resources for background\n        R.id.box_three_text -&gt; view.setBackgroundResource(android.R.color.holo_green_light)\n        R.id.box_four_text -&gt; view.setBackgroundResource(android.R.color.holo_green_dark)\n        R.id.box_five_text -&gt; view.setBackgroundResource(android.R.color.holo_green_light)\n\n        else -&gt; view.setBackgroundColor(Color.LTGRAY)\n    }\n}\n</code></pre>\n<p>the problems is that all of the elements inside the <code>list</code> are all red lines or can't reference by the list</p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1520772849,"post_id":6371092,"comment_id":85443981,"body_markdown":"Regarding 2.9 and potentially other versions: I understand the issue https://github.com/FasterXML/jackson-databind/issues/1419 like `Map` serialization with annotated properties simply doesn&#39;t work and Jackson fails with an unrelated error message.","body":"Regarding 2.9 and potentially other versions: I understand the issue <a href=\"https://github.com/FasterXML/jackson-databind/issues/1419\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/1419</a> like <code>Map</code> serialization with annotated properties simply doesn&#39;t work and Jackson fails with an unrelated error message."}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1381881699,"creation_date":1308238758,"answer_id":6374578,"question_id":6371092,"body_markdown":"By default, Jackson tries to serialize Java Maps as JSON Objects (key/value pairs), so Map key object must be somehow serialized as a String; and there must be matching (and registered) key deserializer. Default configuration only supports a small set of JDK types (String, numbers, enum).\r\nSo mapper has no idea as to how to take a String and create AutoHandlingSlotKey out of it.\r\n(in fact I am surprised that serializer did not fail for same reason)\r\n\r\nTwo obvious ways to solve this are:\r\n\r\n* Implement and register a &quot;key deserializer&quot;\r\n* Implement and register a custom deserializer for Maps.\r\n\r\nIn your case it is probably easier to do former. You may also want to implement custom key serializer, to ensure keys are serializer in proper format.\r\n\r\nThe easiest way to register serializers and deserializers is by [Module interface][1] that was added in Jackson 1.7 (and extended in 1.8 to support key serializers/deserializers).\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonFeatureModules","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>By default, Jackson tries to serialize Java Maps as JSON Objects (key/value pairs), so Map key object must be somehow serialized as a String; and there must be matching (and registered) key deserializer. Default configuration only supports a small set of JDK types (String, numbers, enum).\nSo mapper has no idea as to how to take a String and create AutoHandlingSlotKey out of it.\n(in fact I am surprised that serializer did not fail for same reason)</p>\n\n<p>Two obvious ways to solve this are:</p>\n\n<ul>\n<li>Implement and register a \"key deserializer\"</li>\n<li>Implement and register a custom deserializer for Maps.</li>\n</ul>\n\n<p>In your case it is probably easier to do former. You may also want to implement custom key serializer, to ensure keys are serializer in proper format.</p>\n\n<p>The easiest way to register serializers and deserializers is by <a href=\"http://wiki.fasterxml.com/JacksonFeatureModules\" rel=\"noreferrer\">Module interface</a> that was added in Jackson 1.7 (and extended in 1.8 to support key serializers/deserializers).</p>\n"},{"tags":[],"owner":{"account_id":3909348,"reputation":693,"user_id":3238681,"display_name":"estebanrv"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1495832239,"creation_date":1495832239,"answer_id":44210009,"question_id":6371092,"body_markdown":"This was asked a long time ago, and is the first google result when looking up the error, but the accepted answer has no code and might be confusing for a jackson beginner (me). I eventually found [this answer][1] that helped.\r\n\r\nSo, as stated in accepted answer, Implementing and register a &quot;key deserializer&quot; is the way to go. You can do this like this.\r\n\r\n    SimpleModule simpleModule = new SimpleModule();\r\n    simpleModule.addKeyDeserializer(YourClass.class, new YourClassKeyDeserializer());\r\n    objectMapper.registerModule(simpleModule);\r\n\r\nAnd for the class, all you have to do is:\r\n\r\n    class YourClassKeyDeserializer extends KeyDeserializer\r\n    {\r\n        @Override\r\n        public Object deserializeKey(final String key, final DeserializationContext ctxt ) throws IOException, JsonProcessingException\r\n        {\r\n            return null; // replace null with your logic\r\n        }\r\n    }\r\n\r\nThat&#39;s it! No annotation on classes, not custom deserializer for maps, etc.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11246748/deserializing-non-string-map-keys-with-jackson","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>This was asked a long time ago, and is the first google result when looking up the error, but the accepted answer has no code and might be confusing for a jackson beginner (me). I eventually found <a href=\"https://stackoverflow.com/questions/11246748/deserializing-non-string-map-keys-with-jackson\">this answer</a> that helped.</p>\n\n<p>So, as stated in accepted answer, Implementing and register a \"key deserializer\" is the way to go. You can do this like this.</p>\n\n<pre><code>SimpleModule simpleModule = new SimpleModule();\nsimpleModule.addKeyDeserializer(YourClass.class, new YourClassKeyDeserializer());\nobjectMapper.registerModule(simpleModule);\n</code></pre>\n\n<p>And for the class, all you have to do is:</p>\n\n<pre><code>class YourClassKeyDeserializer extends KeyDeserializer\n{\n    @Override\n    public Object deserializeKey(final String key, final DeserializationContext ctxt ) throws IOException, JsonProcessingException\n    {\n        return null; // replace null with your logic\n    }\n}\n</code></pre>\n\n<p>That's it! No annotation on classes, not custom deserializer for maps, etc.</p>\n"},{"tags":[],"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631171511,"creation_date":1631171511,"answer_id":69113748,"question_id":6371092,"body_markdown":"Here is a generic Map serializer and deserializer that uses a list of key-value pairs, instead of JSON key-value pairs.\r\n\r\n    [\r\n        {\r\n            &quot;key&quot;: Object,\r\n            &quot;value&quot;: Object\r\n        }...\r\n    ]\r\n\r\n----\r\n    package default;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.ser.impl.MapEntrySerializer;\r\n    import com.fasterxml.jackson.databind.ser.std.MapSerializer;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    \r\n    /**\r\n     * Simple Map Serializer&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * Serializes the map as a list of key-value pairs, instead of as a list of JSON\r\n     * key-value pairs (using the default serializer {@link MapSerializer}).\r\n     *\r\n     * @param &lt;K&gt; the type of keys maintained by the map\r\n     * @param &lt;V&gt; the type of mapped values\r\n     * @author Gitesh Agarwal (gagarwa)\r\n     */\r\n    public class SimpleMapSerializer&lt;K, V&gt; extends StdSerializer&lt;Map&lt;K, V&gt;&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t/**\r\n    \t * Default Constructor\r\n    \t */\r\n    \tpublic SimpleMapSerializer() {\r\n    \t\tsuper(Map.class, true);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void serialize(Map&lt;K, V&gt; value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n    \t\tList&lt;SimpleEntry&lt;K, V&gt;&gt; listValues = value.entrySet()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(SimpleEntry::new)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tprovider.defaultSerializeValue(listValues, gen);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Simple Entry&lt;br&gt;\r\n    \t * &lt;br&gt;\r\n    \t * Intentionally does not implement the {@link Map.Entry} interface, so as not\r\n    \t * to invoke the default serializer {@link MapEntrySerializer}.\r\n    \t *\r\n    \t * @author Gitesh Agarwal (gagarwa)\r\n    \t */\r\n    \tprotected static class SimpleEntry&lt;K, V&gt; {\r\n    \r\n    \t\tprivate K key;\r\n    \r\n    \t\tprivate V value;\r\n    \r\n    \t\t/**\r\n    \t\t * Default Constructor\r\n    \t\t * \r\n    \t\t * @param entry the map entry\r\n    \t\t */\r\n    \t\tpublic SimpleEntry(Map.Entry&lt;K, V&gt; entry) {\r\n    \t\t\tkey = entry.getKey();\r\n    \t\t\tvalue = entry.getValue();\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * @return the key\r\n    \t\t */\r\n    \t\tpublic K getKey() {\r\n    \t\t\treturn key;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * @return the value\r\n    \t\t */\r\n    \t\tpublic V getValue() {\r\n    \t\t\treturn value;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIf you don&#39;t want to define a custom serializer everytime.\r\n\r\n    package default;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.BeanDescription;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.databind.SerializationConfig;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\r\n    import com.fasterxml.jackson.databind.ser.std.StdKeySerializers;\r\n    import com.fasterxml.jackson.databind.type.MapType;\r\n    import com.ibm.response.SimpleMapSerializer;\r\n    \r\n    /**\r\n     * Map Serializer Modifier\r\n     *\r\n     * @author Gitesh Agarwal (gagarwa)\r\n     */\r\n    @Configuration\r\n    public class MapSerializerModifier extends BeanSerializerModifier {\r\n    \r\n    \t@Override\r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic JsonSerializer&lt;?&gt; modifyMapSerializer(SerializationConfig config, MapType valueType,\r\n    \t\t\tBeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n    \r\n    \t\tJsonSerializer keySerializer = StdKeySerializers.getStdKeySerializer(config,\r\n    \t\t\t\tvalueType.getKeyType().getRawClass(), false);\r\n    \r\n    \t\tif (keySerializer == null)\r\n    \t\t\treturn new SimpleMapSerializer();\r\n    \r\n    \t\treturn serializer;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Simple Module Builder, including the map serializer modifier.\r\n    \t * \r\n    \t * @return the module\r\n    \t */\r\n    \t@Bean\r\n    \tpublic Module module() {\r\n    \t\tSimpleModule module = new SimpleModule();\r\n    \t\tmodule.setSerializerModifier(new MapSerializerModifier());\r\n    \t\treturn module;\r\n    \t}\r\n    \r\n    }\r\n\r\n------\r\n------\r\nThe deserializer is a little more tricky, because you need to maintain type information for a generic version.\r\n\r\n    package default;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.BeanDescription;\r\n    import com.fasterxml.jackson.databind.DeserializationConfig;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.KeyDeserializer;\r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\r\n    import com.fasterxml.jackson.databind.deser.std.StdKeyDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.type.MapType;\r\n    import com.ibm.request.action.SimpleMapDeserializer;\r\n    \r\n    /**\r\n     * Map Deserializer Modifier\r\n     *\r\n     * @author Gitesh Agarwal (gagarwa)\r\n     */\r\n    @Configuration\r\n    public class MapDeserializerModifier extends BeanDeserializerModifier {\r\n    \r\n    \t@Override\r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic JsonDeserializer&lt;?&gt; modifyMapDeserializer(DeserializationConfig config, MapType type,\r\n    \t\t\tBeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\r\n    \r\n    \t\tKeyDeserializer keyDeserializer = StdKeyDeserializer.forType(type.getKeyType().getRawClass());\r\n    \r\n    \t\tif (keyDeserializer == null)\r\n    \t\t\treturn new SimpleMapDeserializer(type, config.getTypeFactory());\r\n    \r\n    \t\treturn deserializer;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Simple Module Builder, including the map deserializer modifier.\r\n    \t * \r\n    \t * @return the module\r\n    \t */\r\n    \t@Bean\r\n    \tpublic Module module() {\r\n    \t\tSimpleModule module = new SimpleModule();\r\n    \t\tmodule.setDeserializerModifier(new MapDeserializerModifier());\r\n    \t\treturn module;\r\n    \t}\r\n    \r\n    }\r\n-----\r\n\r\n    package default;\r\n    \r\n    package com.ibm.request.action;\r\n\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.deser.std.MapDeserializer;\r\n    import com.fasterxml.jackson.databind.deser.std.MapEntryDeserializer;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.type.CollectionType;\r\n    import com.fasterxml.jackson.databind.type.MapType;\r\n    import com.fasterxml.jackson.databind.type.TypeFactory;\r\n    \r\n    /**\r\n     * Simple Map Deserializer&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * Deserializes the map from a list of key-value pairs, instead of from a list\r\n     * of JSON key-value pairs (using the default deserializer\r\n     * {@link MapDeserializer}).\r\n     *\r\n     * @param &lt;K&gt; the type of keys maintained by the map\r\n     * @param &lt;V&gt; the type of mapped values\r\n     * @author Gitesh Agarwal (gagarwa)\r\n     */\r\n    public class SimpleMapDeserializer&lt;K, V&gt; extends StdDeserializer&lt;Map&lt;K, V&gt;&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate final CollectionType type;\r\n    \r\n    \t/**\r\n    \t * Default Constructor\r\n    \t * \r\n    \t * @param type    the map type (key, value)\r\n    \t * @param factory the type factory, to create the collection type\r\n    \t */\r\n    \tpublic SimpleMapDeserializer(MapType type, TypeFactory factory) {\r\n    \t\tsuper(Map.class);\r\n    \t\tthis.type = factory.constructCollectionType(List.class,\r\n    \t\t\t\tfactory.constructParametricType(SimpleEntry.class, type.getKeyType(), type.getContentType()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;K, V&gt; deserialize(JsonParser p, DeserializationContext ctxt)\r\n    \t\t\tthrows IOException, JsonProcessingException {\r\n    \r\n    \t\tList&lt;SimpleEntry&lt;K, V&gt;&gt; listValues = ctxt.readValue(p, type);\r\n    \t\tHashMap&lt;K, V&gt; value = new HashMap&lt;&gt;();\r\n    \r\n    \t\tlistValues.forEach(e -&gt; value.put(e.key, e.value));\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Simple Entry&lt;br&gt;\r\n    \t * &lt;br&gt;\r\n    \t * Intentionally does not implement the {@link Map.Entry} interface, so as not\r\n    \t * to invoke the default deserializer {@link MapEntryDeserializer}.\r\n    \t *\r\n    \t * @author Gitesh Agarwal (gagarwa)\r\n    \t */\r\n    \tprotected static class SimpleEntry&lt;K, V&gt; {\r\n    \r\n    \t\tprivate K key;\r\n    \r\n    \t\tprivate V value;\r\n    \r\n    \t\t/**\r\n    \t\t * Default Constructor\r\n    \t\t */\r\n    \t\tpublic SimpleEntry() {\r\n    \r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * @param key the key\r\n    \t\t */\r\n    \t\tpublic void setKey(K key) {\r\n    \t\t\tthis.key = key;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * @param value the value\r\n    \t\t */\r\n    \t\tpublic void setValue(V value) {\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>Here is a generic Map serializer and deserializer that uses a list of key-value pairs, instead of JSON key-value pairs.</p>\n<pre><code>[\n    {\n        &quot;key&quot;: Object,\n        &quot;value&quot;: Object\n    }...\n]\n</code></pre>\n<hr />\n<pre><code>package default;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.impl.MapEntrySerializer;\nimport com.fasterxml.jackson.databind.ser.std.MapSerializer;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\n/**\n * Simple Map Serializer&lt;br&gt;\n * &lt;br&gt;\n * Serializes the map as a list of key-value pairs, instead of as a list of JSON\n * key-value pairs (using the default serializer {@link MapSerializer}).\n *\n * @param &lt;K&gt; the type of keys maintained by the map\n * @param &lt;V&gt; the type of mapped values\n * @author Gitesh Agarwal (gagarwa)\n */\npublic class SimpleMapSerializer&lt;K, V&gt; extends StdSerializer&lt;Map&lt;K, V&gt;&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * Default Constructor\n     */\n    public SimpleMapSerializer() {\n        super(Map.class, true);\n    }\n\n    @Override\n    public void serialize(Map&lt;K, V&gt; value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        List&lt;SimpleEntry&lt;K, V&gt;&gt; listValues = value.entrySet()\n                .stream()\n                .map(SimpleEntry::new)\n                .collect(Collectors.toList());\n\n        provider.defaultSerializeValue(listValues, gen);\n    }\n\n    /**\n     * Simple Entry&lt;br&gt;\n     * &lt;br&gt;\n     * Intentionally does not implement the {@link Map.Entry} interface, so as not\n     * to invoke the default serializer {@link MapEntrySerializer}.\n     *\n     * @author Gitesh Agarwal (gagarwa)\n     */\n    protected static class SimpleEntry&lt;K, V&gt; {\n\n        private K key;\n\n        private V value;\n\n        /**\n         * Default Constructor\n         * \n         * @param entry the map entry\n         */\n        public SimpleEntry(Map.Entry&lt;K, V&gt; entry) {\n            key = entry.getKey();\n            value = entry.getValue();\n        }\n\n        /**\n         * @return the key\n         */\n        public K getKey() {\n            return key;\n        }\n\n        /**\n         * @return the value\n         */\n        public V getValue() {\n            return value;\n        }\n\n    }\n\n}\n</code></pre>\n<p>If you don't want to define a custom serializer everytime.</p>\n<pre><code>package default;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.databind.SerializationConfig;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\nimport com.fasterxml.jackson.databind.ser.std.StdKeySerializers;\nimport com.fasterxml.jackson.databind.type.MapType;\nimport com.ibm.response.SimpleMapSerializer;\n\n/**\n * Map Serializer Modifier\n *\n * @author Gitesh Agarwal (gagarwa)\n */\n@Configuration\npublic class MapSerializerModifier extends BeanSerializerModifier {\n\n    @Override\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public JsonSerializer&lt;?&gt; modifyMapSerializer(SerializationConfig config, MapType valueType,\n            BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n\n        JsonSerializer keySerializer = StdKeySerializers.getStdKeySerializer(config,\n                valueType.getKeyType().getRawClass(), false);\n\n        if (keySerializer == null)\n            return new SimpleMapSerializer();\n\n        return serializer;\n    }\n\n    /**\n     * Simple Module Builder, including the map serializer modifier.\n     * \n     * @return the module\n     */\n    @Bean\n    public Module module() {\n        SimpleModule module = new SimpleModule();\n        module.setSerializerModifier(new MapSerializerModifier());\n        return module;\n    }\n\n}\n</code></pre>\n<hr />\n<hr />\n<p>The deserializer is a little more tricky, because you need to maintain type information for a generic version.</p>\n<pre><code>package default;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.DeserializationConfig;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.KeyDeserializer;\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\nimport com.fasterxml.jackson.databind.deser.std.StdKeyDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.type.MapType;\nimport com.ibm.request.action.SimpleMapDeserializer;\n\n/**\n * Map Deserializer Modifier\n *\n * @author Gitesh Agarwal (gagarwa)\n */\n@Configuration\npublic class MapDeserializerModifier extends BeanDeserializerModifier {\n\n    @Override\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public JsonDeserializer&lt;?&gt; modifyMapDeserializer(DeserializationConfig config, MapType type,\n            BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\n\n        KeyDeserializer keyDeserializer = StdKeyDeserializer.forType(type.getKeyType().getRawClass());\n\n        if (keyDeserializer == null)\n            return new SimpleMapDeserializer(type, config.getTypeFactory());\n\n        return deserializer;\n    }\n\n    /**\n     * Simple Module Builder, including the map deserializer modifier.\n     * \n     * @return the module\n     */\n    @Bean\n    public Module module() {\n        SimpleModule module = new SimpleModule();\n        module.setDeserializerModifier(new MapDeserializerModifier());\n        return module;\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>package default;\n\npackage com.ibm.request.action;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.MapDeserializer;\nimport com.fasterxml.jackson.databind.deser.std.MapEntryDeserializer;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.type.CollectionType;\nimport com.fasterxml.jackson.databind.type.MapType;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\n\n/**\n * Simple Map Deserializer&lt;br&gt;\n * &lt;br&gt;\n * Deserializes the map from a list of key-value pairs, instead of from a list\n * of JSON key-value pairs (using the default deserializer\n * {@link MapDeserializer}).\n *\n * @param &lt;K&gt; the type of keys maintained by the map\n * @param &lt;V&gt; the type of mapped values\n * @author Gitesh Agarwal (gagarwa)\n */\npublic class SimpleMapDeserializer&lt;K, V&gt; extends StdDeserializer&lt;Map&lt;K, V&gt;&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    private final CollectionType type;\n\n    /**\n     * Default Constructor\n     * \n     * @param type    the map type (key, value)\n     * @param factory the type factory, to create the collection type\n     */\n    public SimpleMapDeserializer(MapType type, TypeFactory factory) {\n        super(Map.class);\n        this.type = factory.constructCollectionType(List.class,\n                factory.constructParametricType(SimpleEntry.class, type.getKeyType(), type.getContentType()));\n    }\n\n    @Override\n    public Map&lt;K, V&gt; deserialize(JsonParser p, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n\n        List&lt;SimpleEntry&lt;K, V&gt;&gt; listValues = ctxt.readValue(p, type);\n        HashMap&lt;K, V&gt; value = new HashMap&lt;&gt;();\n\n        listValues.forEach(e -&gt; value.put(e.key, e.value));\n        return value;\n    }\n\n    /**\n     * Simple Entry&lt;br&gt;\n     * &lt;br&gt;\n     * Intentionally does not implement the {@link Map.Entry} interface, so as not\n     * to invoke the default deserializer {@link MapEntryDeserializer}.\n     *\n     * @author Gitesh Agarwal (gagarwa)\n     */\n    protected static class SimpleEntry&lt;K, V&gt; {\n\n        private K key;\n\n        private V value;\n\n        /**\n         * Default Constructor\n         */\n        public SimpleEntry() {\n\n        }\n\n        /**\n         * @param key the key\n         */\n        public void setKey(K key) {\n            this.key = key;\n        }\n\n        /**\n         * @param value the value\n         */\n        public void setValue(V value) {\n            this.value = value;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22332834,"reputation":1,"user_id":16553874,"display_name":"Redshift"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391029,"creation_date":1655356086,"answer_id":72640741,"question_id":6371092,"body_markdown":"Implementing a String constructor that is compatible with the toString() method is possible as well (optionally @JsonValue on it), although that is only viable for simple classes. That way a local solution can be chosen instead of adding several more classes for (de)serialising.","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>Implementing a String constructor that is compatible with the toString() method is possible as well (optionally @JsonValue on it), although that is only viable for simple classes. That way a local solution can be chosen instead of adding several more classes for (de)serialising.</p>\n"},{"tags":[],"owner":{"account_id":26105306,"reputation":1,"user_id":19800096,"display_name":"Matrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660894898,"creation_date":1660894848,"answer_id":73413380,"question_id":6371092,"body_markdown":"Just override toString() and the constructor。For example:\r\n\r\n    public SysUser(String both) {\r\n        SysUser user = JSONUtil.toBean(both, SysUser.class);\r\n        BeanUtil.copyProperties(user, this); \r\n    }\r\n    \r\n    @Override \r\n    public String toString() {\r\n        return JSONUtil.toJsonStr(this); \r\n    }","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>Just override toString() and the constructor。For example:</p>\n<pre><code>public SysUser(String both) {\n    SysUser user = JSONUtil.toBean(both, SysUser.class);\n    BeanUtil.copyProperties(user, this); \n}\n\n@Override \npublic String toString() {\n    return JSONUtil.toJsonStr(this); \n}\n</code></pre>\n"}],"owner":{"account_id":124022,"reputation":2327,"user_id":318852,"accept_rate":66,"display_name":"Mick Knutson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79931,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":6374578,"answer_count":5,"score":72,"last_activity_date":1660894898,"creation_date":1308223816,"question_id":6371092,"body_markdown":"I have a domain object that has a Map:\r\n\r\n    private Map&lt;AutoHandlingSlotKey, LinkedHashSet&lt;AutoFunction&gt;&gt; autoHandling;\r\n\r\nWhen I serialize the object, I get this:\r\n\r\n    &quot;autoHandling&quot; : [ &quot;java.util.HashMap&quot;, {\r\n    } ],\r\n\r\n\r\nThis Map&#39;s key is a custom Object:\r\n\r\n    public class AutoHandlingSlotKey implements Serializable {\r\n        private FunctionalArea slot; // ENUM\r\n        private String returnView;   // ENUM\r\n\r\nSo, I am not sure how to correct this exception I keep getting when I deserialize the object:\r\n\r\n    org.codehaus.jackson.map.JsonMappingException: Can not find a (Map) Key deserializer for type [simple type, class com.comcast.ivr.core.domain.AutoHandlingSlotKey]\r\n\r\nHow to correct this issue? I do *not* have access to the domain object to modify.\r\n","title":"Can not find a (Map) Key deserializer for type [simple type, class ...]","body":"<p>I have a domain object that has a Map:</p>\n<pre><code>private Map&lt;AutoHandlingSlotKey, LinkedHashSet&lt;AutoFunction&gt;&gt; autoHandling;\n</code></pre>\n<p>When I serialize the object, I get this:</p>\n<pre><code>&quot;autoHandling&quot; : [ &quot;java.util.HashMap&quot;, {\n} ],\n</code></pre>\n<p>This Map's key is a custom Object:</p>\n<pre><code>public class AutoHandlingSlotKey implements Serializable {\n    private FunctionalArea slot; // ENUM\n    private String returnView;   // ENUM\n</code></pre>\n<p>So, I am not sure how to correct this exception I keep getting when I deserialize the object:</p>\n<pre><code>org.codehaus.jackson.map.JsonMappingException: Can not find a (Map) Key deserializer for type [simple type, class com.comcast.ivr.core.domain.AutoHandlingSlotKey]\n</code></pre>\n<p>How to correct this issue? I do <em>not</em> have access to the domain object to modify.</p>\n"},{"tags":["javascript","java","pdf","xfa"],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660894681,"creation_date":1660893337,"question_id":73413128,"body_markdown":"I&#39;m trying to fill a `XFA PDF` using `JavaScript`/`Java`. The PDF is not made by me; I need to download it, fill it and upload back. \r\n\r\nThe PDF has a button for Import XML which does the work just fine, but I want to do it programmatically for my clients. \r\n\r\nIs there any way to execute a JavaScript function inside the PDF or trigger the button event? I&#39;ve tried to embed the `XML` as an attachment, but it doesn&#39;t trigger anything and the data is unchanged…\r\n\r\nThe PDF can be found here: &lt;https://mfinante.gov.ro/documents/2552173/2552377/02_F1103_Buget_individual_2022_07_07_A2.0.125.pdf/ee988bfb-b7bc-8774-29b5-95b0dc94df7e?t=1657200566548&gt;\r\n\r\nAnd a XML example would be: \r\n\r\n    &lt;f1103 d_rec=&quot;0&quot; suma_control=&quot;18332934&quot; luna_r=&quot;01&quot; an=&quot;2025&quot; nume_ip=&quot;dsadsadasd&quot; cui_ip=&quot;17460640&quot; special=&quot;0&quot; tip_bug=&quot;I&quot; an_apr=&quot;2025&quot;&gt;\r\n    \t&lt;f1103_buget cod_sec_bug=&quot;02&quot; cod_prog_bug=&quot;0000000000&quot; cod_sfin=&quot;A&quot; sect=&quot;F&quot;&gt;\r\n    \t\t&lt;f1103_indicator cf_cap=&quot;11&quot; cf_scap=&quot;05&quot; cf_par=&quot;00&quot; ce_titlu=&quot;00&quot; ce_art=&quot;00&quot; ce_alin=&quot;00&quot; cb_an_0=&quot;12312&quot; cb_an_1=&quot;124124&quot; cb_an_2=&quot;423423&quot; cb_an_3=&quot;123&quot; cb_an_ult=&quot;312312&quot; ca_an_0=&quot;0&quot; limita_ca_an_0=&quot;0&quot;/&gt;\r\n    \t&lt;/f1103_buget&gt;\r\n    &lt;/f1103&gt;","title":"Trigger javascript function or event inside a PDF","body":"<p>I'm trying to fill a <code>XFA PDF</code> using <code>JavaScript</code>/<code>Java</code>. The PDF is not made by me; I need to download it, fill it and upload back.</p>\n<p>The PDF has a button for Import XML which does the work just fine, but I want to do it programmatically for my clients.</p>\n<p>Is there any way to execute a JavaScript function inside the PDF or trigger the button event? I've tried to embed the <code>XML</code> as an attachment, but it doesn't trigger anything and the data is unchanged…</p>\n<p>The PDF can be found here: <a href=\"https://mfinante.gov.ro/documents/2552173/2552377/02_F1103_Buget_individual_2022_07_07_A2.0.125.pdf/ee988bfb-b7bc-8774-29b5-95b0dc94df7e?t=1657200566548\" rel=\"nofollow noreferrer\">https://mfinante.gov.ro/documents/2552173/2552377/02_F1103_Buget_individual_2022_07_07_A2.0.125.pdf/ee988bfb-b7bc-8774-29b5-95b0dc94df7e?t=1657200566548</a></p>\n<p>And a XML example would be:</p>\n<pre><code>&lt;f1103 d_rec=&quot;0&quot; suma_control=&quot;18332934&quot; luna_r=&quot;01&quot; an=&quot;2025&quot; nume_ip=&quot;dsadsadasd&quot; cui_ip=&quot;17460640&quot; special=&quot;0&quot; tip_bug=&quot;I&quot; an_apr=&quot;2025&quot;&gt;\n    &lt;f1103_buget cod_sec_bug=&quot;02&quot; cod_prog_bug=&quot;0000000000&quot; cod_sfin=&quot;A&quot; sect=&quot;F&quot;&gt;\n        &lt;f1103_indicator cf_cap=&quot;11&quot; cf_scap=&quot;05&quot; cf_par=&quot;00&quot; ce_titlu=&quot;00&quot; ce_art=&quot;00&quot; ce_alin=&quot;00&quot; cb_an_0=&quot;12312&quot; cb_an_1=&quot;124124&quot; cb_an_2=&quot;423423&quot; cb_an_3=&quot;123&quot; cb_an_ult=&quot;312312&quot; ca_an_0=&quot;0&quot; limita_ca_an_0=&quot;0&quot;/&gt;\n    &lt;/f1103_buget&gt;\n&lt;/f1103&gt;\n</code></pre>\n"},{"tags":["java","mysql","sql","database","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8581686,"reputation":12877,"user_id":6429072,"display_name":"Ed Bangga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660894527,"creation_date":1660894527,"answer_id":73413325,"question_id":73413253,"body_markdown":"use **EXISTS** keyword\r\n\r\n    SELECT *\r\n    FROM blind b\r\n    LEFT JOIN post_blind pb ON b.id = pb.id\r\n    LEFT JOIN comment_blind cb ON b.id = cb.id\r\n    WHERE b.account_id = 2\r\n    \t and (b.type = &#39;POST&#39; and EXISTS\r\n    \t\t(select is_blind\r\n    \t\tfrom post p\r\n    \t\tright join post_blind pb on p.id = pb.post_id) is true)\r\n    \t\t\tOR (b.type = &#39;COMMENT&#39; \r\n    \t\t\t\tand EXISTS (select is_blind\r\n    \t\t\t\t\t\t\tfrom comment c\r\n    \t\t\t\t\t\t\tright join comment_blind cb on c.id = cb.comment_id)\r\n    \t\t\t\t);","title":"Subquery returns more than 1 row when join","body":"<p>use <strong>EXISTS</strong> keyword</p>\n<pre><code>SELECT *\nFROM blind b\nLEFT JOIN post_blind pb ON b.id = pb.id\nLEFT JOIN comment_blind cb ON b.id = cb.id\nWHERE b.account_id = 2\n     and (b.type = 'POST' and EXISTS\n        (select is_blind\n        from post p\n        right join post_blind pb on p.id = pb.post_id) is true)\n            OR (b.type = 'COMMENT' \n                and EXISTS (select is_blind\n                            from comment c\n                            right join comment_blind cb on c.id = cb.comment_id)\n                );\n</code></pre>\n"}],"owner":{"account_id":22850590,"reputation":29,"user_id":16996269,"display_name":"chaewss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1660894527,"creation_date":1660894182,"question_id":73413253,"body_markdown":"class structure inheritancetype.joined jpa  \r\nI want to join different table on case.\r\n\r\n[blind DB][1]  \r\n```\r\n╔════╦══════════════╦════════════╦\r\n║ id ║ account_id   ║ type       ║ \r\n╠════╬══════════════╬════════════╬\r\n║  1 ║ 1            ║  POST      ║\r\n║  2 ║ 2            ║  COMMENT   ║\r\n║  3 ║ 1            ║  POST      ║\r\n║  4 ║ 2            ║  POST      ║\r\n║  5 ║ 2            ║  BOARD     ║\r\n╚════╩══════════════╩════════════╩\r\n```\r\n\r\n\r\n[post_blind DB][2]  \r\n```\r\n╔════╦══════════════╦\r\n║ id ║ post_id      ║\r\n╠════╬══════════════╬\r\n║  1 ║ 1            ║\r\n║  3 ║ 3            ║\r\n║  4 ║ 2            ║\r\n╚════╩══════════════╩\r\n```\r\n\r\n[post DB][3]  \r\n```\r\n╔════╦══════════════╦════════════╦\r\n║ id ║ is_blind     ║ account_id ║\r\n╠════╬══════════════╬════════════╬\r\n║  1 ║ 1            ║  1         ║\r\n║  2 ║ 0            ║  1         ║\r\n║  3 ║ 0            ║  2         ║\r\n╚════╩══════════════╩════════════╩\r\n```\r\n\r\nBlind has two status. `blind` and `blind waiting`\r\nWhen post or comment blinded, blind object created and after 6 hours later, post is_blind or comment is_blind column turns true so users can&#39;t watch that content.\r\n\r\nwhen type is &#39;POST&#39;\r\n: blind -&gt;  post_blind -&gt; post  \r\nand select blind that `post` is_blind column is false and `blind` account_id = :account_id\r\n\r\n\r\n```\r\nSELECT *\r\nFROM blind b\r\n         LEFT JOIN post_blind pb ON b.id = pb.id\r\n         LEFT JOIN comment_blind cb ON b.id = cb.id\r\nWHERE b.account_id = 2\r\n          and (b.type = &#39;POST&#39; AND (select is_blind\r\n                                    from post p\r\n                                    right join post_blind pb on p.id = pb.post_id) is true)\r\n   OR (b.type = &#39;COMMENT&#39; AND (select is_blind\r\n                               from comment c\r\n                                right join comment_blind cb on c.id = cb.comment_id) is true);\r\n```\r\n\r\nIt works if account has one blind post and one blind comment.  \r\nHowever, if the account has more than one blind post, `Subquery will return more than one row` return.\r\n\r\nI have already looked at other question and answer but still don&#39;t understand.\r\nanyone can help me solve this problem?\r\n\r\n  [1]: https://i.stack.imgur.com/uiz0i.png\r\n  [2]: https://i.stack.imgur.com/5PfXh.png\r\n  [3]: https://i.stack.imgur.com/6YqRj.png","title":"Subquery returns more than 1 row when join","body":"<p>class structure inheritancetype.joined jpa<br />\nI want to join different table on case.</p>\n<p><a href=\"https://i.stack.imgur.com/uiz0i.png\" rel=\"nofollow noreferrer\">blind DB</a></p>\n<pre><code>╔════╦══════════════╦════════════╦\n║ id ║ account_id   ║ type       ║ \n╠════╬══════════════╬════════════╬\n║  1 ║ 1            ║  POST      ║\n║  2 ║ 2            ║  COMMENT   ║\n║  3 ║ 1            ║  POST      ║\n║  4 ║ 2            ║  POST      ║\n║  5 ║ 2            ║  BOARD     ║\n╚════╩══════════════╩════════════╩\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5PfXh.png\" rel=\"nofollow noreferrer\">post_blind DB</a></p>\n<pre><code>╔════╦══════════════╦\n║ id ║ post_id      ║\n╠════╬══════════════╬\n║  1 ║ 1            ║\n║  3 ║ 3            ║\n║  4 ║ 2            ║\n╚════╩══════════════╩\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6YqRj.png\" rel=\"nofollow noreferrer\">post DB</a></p>\n<pre><code>╔════╦══════════════╦════════════╦\n║ id ║ is_blind     ║ account_id ║\n╠════╬══════════════╬════════════╬\n║  1 ║ 1            ║  1         ║\n║  2 ║ 0            ║  1         ║\n║  3 ║ 0            ║  2         ║\n╚════╩══════════════╩════════════╩\n</code></pre>\n<p>Blind has two status. <code>blind</code> and <code>blind waiting</code>\nWhen post or comment blinded, blind object created and after 6 hours later, post is_blind or comment is_blind column turns true so users can't watch that content.</p>\n<p>when type is 'POST'\n: blind -&gt;  post_blind -&gt; post<br />\nand select blind that <code>post</code> is_blind column is false and <code>blind</code> account_id = :account_id</p>\n<pre><code>SELECT *\nFROM blind b\n         LEFT JOIN post_blind pb ON b.id = pb.id\n         LEFT JOIN comment_blind cb ON b.id = cb.id\nWHERE b.account_id = 2\n          and (b.type = 'POST' AND (select is_blind\n                                    from post p\n                                    right join post_blind pb on p.id = pb.post_id) is true)\n   OR (b.type = 'COMMENT' AND (select is_blind\n                               from comment c\n                                right join comment_blind cb on c.id = cb.comment_id) is true);\n</code></pre>\n<p>It works if account has one blind post and one blind comment.<br />\nHowever, if the account has more than one blind post, <code>Subquery will return more than one row</code> return.</p>\n<p>I have already looked at other question and answer but still don't understand.\nanyone can help me solve this problem?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603012144,"creation_date":1602695293,"answer_id":64358285,"question_id":64336648,"body_markdown":"As it stated in the JPA specification (see **2.5 Embeddable Classes** section):\r\n\r\n&gt; An embeddable class (including an embeddable class within another embeddable class) may contain a collection of a basic type or other embeddable class. Direct or indirect circular containment dependencies among embeddable classes are not permitted.\r\n\r\nAnd simple example (based on Hibernate 5.4.21).\r\n\r\nAssuming that we have the following schema:\r\n``` sql\r\ncreate table T1_MY_ENTITY\r\n(\r\n   tm_id int not null,\r\n\r\n   primary key (tm_id)\r\n);\r\n\r\ninsert into T1_MY_ENTITY values (1);\r\n\r\ncreate table T1_MY_COLL\r\n(\r\n   tc_tm_id int not null,\r\n   tc_ord_id int not null,\r\n   tc_code varchar(100),\r\n\r\n   foreign key (tc_tm_id) references T1_MY_ENTITY(tm_id)\r\n);\r\n\r\ninsert into T1_MY_COLL values (1, 1, &#39;CL1&#39;), (1, 0, &#39;CL2&#39;);\r\n```\r\n\r\nand the following mapping:\r\n``` java\r\n@Entity\r\n@Table(name = &quot;T1_MY_ENTITY&quot;)\r\npublic class MyEntity\r\n{\r\n   @Id\r\n   @Column(name = &quot;tm_id&quot;)\r\n   private Long id;\r\n\r\n   @Embedded\r\n   private Doubles dou;\r\n   \r\n   // constructor, getters, setters\r\n}\r\n\r\n@Embeddable\r\npublic class Doubles\r\n{\r\n   @OrderColumn(name = &quot;tc_ord_id&quot;)\r\n   @ElementCollection\r\n   @CollectionTable(name = &quot;T1_MY_COLL&quot;, joinColumns = @JoinColumn(name = &quot;tc_tm_id&quot;))\r\n   @Column(name = &quot;tc_code&quot;)\r\n   private List&lt;String&gt; colls;\r\n\r\n   // constructor, getters, setters\r\n}\r\n```\r\n\r\nthe following code:\r\n``` java\r\nMyEntity myEntity =  entityManager.find(MyEntity.class, 1L);\r\nmyEntity.getDou().getColls().add(&quot;CL5&quot;);\r\nentityManager.merge(myEntity);\r\n```\r\n\r\nwill generate insert:\r\n```\r\n19:51:29,612 DEBUG SQL:128 - \r\n    /* insert collection\r\n        row com.my.hibernate.entities.MyEntity.dou.colls */ insert \r\n        into\r\n            TEST_SCHEMA.T1_MY_COLL\r\n            (tc_tm_id, tc_ord_id, tc_code) \r\n        values\r\n            (?, ?, ?)\r\nHibernate: \r\n    /* insert collection\r\n        row com.my.hibernate.entities.MyEntity.dou.colls */ insert \r\n        into\r\n            TEST_SCHEMA.T1_MY_COLL\r\n            (tc_tm_id, tc_ord_id, tc_code) \r\n        values\r\n            (?, ?, ?)\r\n19:51:29,612 TRACE ResourceRegistryStandardImpl:83 - Registering statement [/* insert collection row com.my.hibernate.entities.MyEntity.dou.colls */ insert into TEST_SCHEMA.T1_MY_COLL (tc_tm_id, tc_ord_id, tc_code) values (?, ?, ?)]\r\n19:51:29,612 TRACE BasicBinder:64 - binding parameter [1] as [BIGINT] - [1]\r\n19:51:29,613 TRACE BasicBinder:64 - binding parameter [2] as [INTEGER] - [2]\r\n19:51:29,613 TRACE BasicBinder:64 - binding parameter [3] as [VARCHAR] - [CL5]\r\n```\r\n\r\nSo, It looks like your problem lies in the other plane.\r\n\r\n**UPDATE**: As for your [test case](https://github.com/wimdeblauwe/so-64336648/blob/main/src/test/java/com/wimdeblauwe/so/embeddableelementcollection/MyEntity2RepositoryTest.java#L44), please try to correct it in the following way:\r\n\r\n``` java\r\n@Test\r\nvoid test() {\r\n   MyEntity2 entity = new MyEntity2();\r\n   Doubles doubles = new Doubles();\r\n   doubles.setDoubles(List.of(1.0, 1.5));\r\n\r\n   entity.setDoubles(doubles); // It was absent !!!\r\n\r\n   repository.save(entity);\r\n\r\n   entityManager.flush();\r\n\r\n   assertThat(jdbcTemplate.queryForObject(&quot;SELECT count(*) FROM my_entity2_doubles&quot;, Long.class)).isEqualTo(2);\r\n}\r\n```\r\n\r\n","title":"Moving @ElementCollection to @Embeddable class not working","body":"<p>As it stated in the JPA specification (see <strong>2.5 Embeddable Classes</strong> section):</p>\n<blockquote>\n<p>An embeddable class (including an embeddable class within another embeddable class) may contain a collection of a basic type or other embeddable class. Direct or indirect circular containment dependencies among embeddable classes are not permitted.</p>\n</blockquote>\n<p>And simple example (based on Hibernate 5.4.21).</p>\n<p>Assuming that we have the following schema:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table T1_MY_ENTITY\n(\n   tm_id int not null,\n\n   primary key (tm_id)\n);\n\ninsert into T1_MY_ENTITY values (1);\n\ncreate table T1_MY_COLL\n(\n   tc_tm_id int not null,\n   tc_ord_id int not null,\n   tc_code varchar(100),\n\n   foreign key (tc_tm_id) references T1_MY_ENTITY(tm_id)\n);\n\ninsert into T1_MY_COLL values (1, 1, 'CL1'), (1, 0, 'CL2');\n</code></pre>\n<p>and the following mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;T1_MY_ENTITY&quot;)\npublic class MyEntity\n{\n   @Id\n   @Column(name = &quot;tm_id&quot;)\n   private Long id;\n\n   @Embedded\n   private Doubles dou;\n   \n   // constructor, getters, setters\n}\n\n@Embeddable\npublic class Doubles\n{\n   @OrderColumn(name = &quot;tc_ord_id&quot;)\n   @ElementCollection\n   @CollectionTable(name = &quot;T1_MY_COLL&quot;, joinColumns = @JoinColumn(name = &quot;tc_tm_id&quot;))\n   @Column(name = &quot;tc_code&quot;)\n   private List&lt;String&gt; colls;\n\n   // constructor, getters, setters\n}\n</code></pre>\n<p>the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyEntity myEntity =  entityManager.find(MyEntity.class, 1L);\nmyEntity.getDou().getColls().add(&quot;CL5&quot;);\nentityManager.merge(myEntity);\n</code></pre>\n<p>will generate insert:</p>\n<pre><code>19:51:29,612 DEBUG SQL:128 - \n    /* insert collection\n        row com.my.hibernate.entities.MyEntity.dou.colls */ insert \n        into\n            TEST_SCHEMA.T1_MY_COLL\n            (tc_tm_id, tc_ord_id, tc_code) \n        values\n            (?, ?, ?)\nHibernate: \n    /* insert collection\n        row com.my.hibernate.entities.MyEntity.dou.colls */ insert \n        into\n            TEST_SCHEMA.T1_MY_COLL\n            (tc_tm_id, tc_ord_id, tc_code) \n        values\n            (?, ?, ?)\n19:51:29,612 TRACE ResourceRegistryStandardImpl:83 - Registering statement [/* insert collection row com.my.hibernate.entities.MyEntity.dou.colls */ insert into TEST_SCHEMA.T1_MY_COLL (tc_tm_id, tc_ord_id, tc_code) values (?, ?, ?)]\n19:51:29,612 TRACE BasicBinder:64 - binding parameter [1] as [BIGINT] - [1]\n19:51:29,613 TRACE BasicBinder:64 - binding parameter [2] as [INTEGER] - [2]\n19:51:29,613 TRACE BasicBinder:64 - binding parameter [3] as [VARCHAR] - [CL5]\n</code></pre>\n<p>So, It looks like your problem lies in the other plane.</p>\n<p><strong>UPDATE</strong>: As for your <a href=\"https://github.com/wimdeblauwe/so-64336648/blob/main/src/test/java/com/wimdeblauwe/so/embeddableelementcollection/MyEntity2RepositoryTest.java#L44\" rel=\"nofollow noreferrer\">test case</a>, please try to correct it in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() {\n   MyEntity2 entity = new MyEntity2();\n   Doubles doubles = new Doubles();\n   doubles.setDoubles(List.of(1.0, 1.5));\n\n   entity.setDoubles(doubles); // It was absent !!!\n\n   repository.save(entity);\n\n   entityManager.flush();\n\n   assertThat(jdbcTemplate.queryForObject(&quot;SELECT count(*) FROM my_entity2_doubles&quot;, Long.class)).isEqualTo(2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17294607,"reputation":11,"user_id":12525547,"display_name":"everbef0re"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660894268,"creation_date":1660894268,"answer_id":73413274,"question_id":64336648,"body_markdown":"I don&#39;t know why. But assigning with a collection works.\r\n\r\n    @Embeddable\r\n    public class Doubles {\r\n      @ElementCollection\r\n      private List&lt;Double&gt; doubles = new ArrayList&lt;&gt;();\r\n    }","title":"Moving @ElementCollection to @Embeddable class not working","body":"<p>I don't know why. But assigning with a collection works.</p>\n<pre><code>@Embeddable\npublic class Doubles {\n  @ElementCollection\n  private List&lt;Double&gt; doubles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660894268,"creation_date":1602597447,"question_id":64336648,"body_markdown":"I am trying to move an `@ElementCollection` annotated field from my `@Entity` class into a different class that I annotated with `@Embeddable`. When the field is in the entity, Hibernate will issue the proper INSERT statements. When the field is moved to the `@Embeddable` class, no INSERT statements are generated.\r\n\r\n\r\nSo this works:\r\n\r\n```\r\n@Entity\r\npublic class MyEntity extends AbstractEntity&lt;MyEntityId&gt; {\r\n  @ElementCollection\r\n  @OrderColumn\r\n  private List&lt;Double&gt; doubles;\r\n}\r\n```\r\n\r\nBut this does not:\r\n\r\n```\r\n@Entity\r\npublic class MyEntity extends AbstractEntity&lt;MyEntityId&gt; {\r\n  @Embedded\r\n  private Doubles doubles;\r\n}\r\n\r\n@Embeddable\r\npublic class Doubles {\r\n  @ElementCollection\r\n  @OrderColumn\r\n  private List&lt;Double&gt; doubles;\r\n}\r\n```\r\n\r\nThere is no exception when saving a `MyEntity` instance (and flushing the EntityManager). If I disable creating the appropriate table in Flyway, the Hibernate validation does trigger a &quot;missing table [my_entity_doubles]&quot; error, so Hibernate does seem to correct interpret the setup.\r\n\r\nUsing Spring Boot 2.3.4 that uses Hibernate 5.4.21.\r\n\r\nUPDATE: There is a reproducible testcase at https://github.com/wimdeblauwe/so-64336648","title":"Moving @ElementCollection to @Embeddable class not working","body":"<p>I am trying to move an <code>@ElementCollection</code> annotated field from my <code>@Entity</code> class into a different class that I annotated with <code>@Embeddable</code>. When the field is in the entity, Hibernate will issue the proper INSERT statements. When the field is moved to the <code>@Embeddable</code> class, no INSERT statements are generated.</p>\n<p>So this works:</p>\n<pre><code>@Entity\npublic class MyEntity extends AbstractEntity&lt;MyEntityId&gt; {\n  @ElementCollection\n  @OrderColumn\n  private List&lt;Double&gt; doubles;\n}\n</code></pre>\n<p>But this does not:</p>\n<pre><code>@Entity\npublic class MyEntity extends AbstractEntity&lt;MyEntityId&gt; {\n  @Embedded\n  private Doubles doubles;\n}\n\n@Embeddable\npublic class Doubles {\n  @ElementCollection\n  @OrderColumn\n  private List&lt;Double&gt; doubles;\n}\n</code></pre>\n<p>There is no exception when saving a <code>MyEntity</code> instance (and flushing the EntityManager). If I disable creating the appropriate table in Flyway, the Hibernate validation does trigger a &quot;missing table [my_entity_doubles]&quot; error, so Hibernate does seem to correct interpret the setup.</p>\n<p>Using Spring Boot 2.3.4 that uses Hibernate 5.4.21.</p>\n<p>UPDATE: There is a reproducible testcase at <a href=\"https://github.com/wimdeblauwe/so-64336648\" rel=\"nofollow noreferrer\">https://github.com/wimdeblauwe/so-64336648</a></p>\n"},{"tags":["java","arrays","kotlin","plugins","compiler-errors"],"owner":{"account_id":26104640,"reputation":1,"user_id":19799513,"display_name":"Katiyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660894094,"creation_date":1660890399,"question_id":73412632,"body_markdown":"I wrote a simple java code for a jagged array on Intellij IDEA (2022 Edition) and when I built that, I got an error on the console \r\n\r\nHere is the code: \r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc =new Scanner(System.in);\r\n\r\n        int [][][]arr=new int[3][2][3];\r\n\r\n        for(int i=0;i&lt;arr.length;i++)\r\n        {\r\n            for(int j=0;j&lt;arr[i].length;j++)\r\n            {\r\n                for(int k=0;k&lt;arr[i][j].length;k++)\r\n\r\n                {\r\n                    System.out.println(&quot;Enter marks of School &quot;+ i +&quot; class &quot;+ j +&quot; Student &quot;+ k);\r\n                    arr[i][j][k]=sc.nextInt();\r\n                }\r\n            }\r\n        }\r\n\r\n        for(int i=0;i&lt;arr.length;i++)\r\n        {\r\n            for(int j=0;j&lt;arr[i].length;j++)\r\n            {\r\n                for(int k=0;k&lt;arr[i][j].length;k++)\r\n\r\n                {\r\n                    System.out.println(arr[i][j][k]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n  \r\nThe error I got -&gt;\r\n\r\n    Could not initialize class org.jetbrains.kotlin.idea.compiler.configuration.KotlinJpsPluginSettings\r\n\r\n  \r\n\r\n  \r\n\r\n\r\n","title":"Could not initialize class org.jetbrains.kotlin.idea.compiler.configuration.KotlinJpsPluginSettings resolve this error","body":"<p>I wrote a simple java code for a jagged array on Intellij IDEA (2022 Edition) and when I built that, I got an error on the console</p>\n<p>Here is the code:</p>\n<p>public class Main {\npublic static void main(String[] args) {</p>\n<pre><code>    Scanner sc =new Scanner(System.in);\n\n    int [][][]arr=new int[3][2][3];\n\n    for(int i=0;i&lt;arr.length;i++)\n    {\n        for(int j=0;j&lt;arr[i].length;j++)\n        {\n            for(int k=0;k&lt;arr[i][j].length;k++)\n\n            {\n                System.out.println(&quot;Enter marks of School &quot;+ i +&quot; class &quot;+ j +&quot; Student &quot;+ k);\n                arr[i][j][k]=sc.nextInt();\n            }\n        }\n    }\n\n    for(int i=0;i&lt;arr.length;i++)\n    {\n        for(int j=0;j&lt;arr[i].length;j++)\n        {\n            for(int k=0;k&lt;arr[i][j].length;k++)\n\n            {\n                System.out.println(arr[i][j][k]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The error I got -&gt;</p>\n<pre><code>Could not initialize class org.jetbrains.kotlin.idea.compiler.configuration.KotlinJpsPluginSettings\n</code></pre>\n"},{"tags":["java","multithreading","amazon-sqs","producer-consumer"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1660894490,"post_id":73413206,"comment_id":129645831,"body_markdown":"Why doesn&#39;t your `!= null` check work? Shouldn&#39;t the `while (true)` be *inside* the executor? Instead of submitting an endless number of execution tasks to the executor have just three long running executors!? What blocking queue are you referring to?","body":"Why doesn&#39;t your <code>!= null</code> check work? Shouldn&#39;t the <code>while (true)</code> be <i>inside</i> the executor? Instead of submitting an endless number of execution tasks to the executor have just three long running executors!? What blocking queue are you referring to?"},{"owner":{"account_id":9260958,"reputation":2254,"user_id":6878060,"accept_rate":80,"display_name":"log0"},"score":0,"creation_date":1660894815,"post_id":73413206,"comment_id":129645924,"body_markdown":"`!=null` is preventing from inserting `null` data in the DB. `while(true)` inside the executor will make it a single threaded consumer and there would not benefit of using a thread pool. `BlockingQueue`  is used by the thread pool to make worker threads blocked/wait until the data /space is available","body":"<code>!=null</code> is preventing from inserting <code>null</code> data in the DB. <code>while(true)</code> inside the executor will make it a single threaded consumer and there would not benefit of using a thread pool. <code>BlockingQueue</code>  is used by the thread pool to make worker threads blocked/wait until the data /space is available"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1660895095,"post_id":73413206,"comment_id":129646006,"body_markdown":"!=null is preventing from inserting null data in the DB - then what is the actual problem? I do not see how multithreading is helping you at all here - just having a single thread would probably make everything easier. Submitting an infinite number of tasks all just querying SQS only once is certainly worse performance than having one or three tasks listening to the queue continously.","body":"!=null is preventing from inserting null data in the DB - then what is the actual problem? I do not see how multithreading is helping you at all here - just having a single thread would probably make everything easier. Submitting an infinite number of tasks all just querying SQS only once is certainly worse performance than having one or three tasks listening to the queue continously."},{"owner":{"account_id":9260958,"reputation":2254,"user_id":6878060,"accept_rate":80,"display_name":"log0"},"score":0,"creation_date":1660897776,"post_id":73413206,"comment_id":129646875,"body_markdown":"@luk2302   I want to listen to the queue through multiple threads and to achieve that I am submitting `reading from queue` tasks to the executor. How can I improve this? I am looking for something like, as you mentioend, - `..having one or three tasks listening to the queue continously`","body":"@luk2302   I want to listen to the queue through multiple threads and to achieve that I am submitting <code>reading from queue</code> tasks to the executor. How can I improve this? I am looking for something like, as you mentioend, - <code>..having one or three tasks listening to the queue continously</code>"},{"owner":{"account_id":9260958,"reputation":2254,"user_id":6878060,"accept_rate":80,"display_name":"log0"},"score":0,"creation_date":1660898516,"post_id":73413206,"comment_id":129647113,"body_markdown":"@luk2302 basically, you are saying that,  I should call `exService.execute( ()-&gt; {} ) ` 2 or 3 times and keeping the while loop inside them?","body":"@luk2302 basically, you are saying that,  I should call <code>exService.execute( ()-&gt; {} ) </code> 2 or 3 times and keeping the while loop inside them?"}],"owner":{"account_id":9260958,"reputation":2254,"user_id":6878060,"accept_rate":80,"display_name":"log0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660893938,"creation_date":1660893938,"question_id":73413206,"body_markdown":"I have a standard SQS and I need to read data from it using multiple consumer threads. &lt;br&gt;\r\nTo achieve the same, I have written the following method ( in Java): &lt;br&gt;\r\n  ```\r\n   public void consume() {\r\n\t\tExecutorService exService = Executors.newFixedThreadPool(3);\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\texService.execute(()-&gt;{\r\n\t\t\t\ttry {\r\n                /* the following code submits a null data to the blocking queue when the queue(sqs) is empty*/\r\n\t\t\t\tOrderQ order = queueMessagingTemplate.receiveAndConvert(StringConstants.QUEUE_NAME\r\n\t\t\t\t\t\t, OrderQ.class);\r\n\t\t\t\tif(order!=null)\r\n\t\t\t\t    repstiory.saveOrder(order);\r\n\t\t\t\tlog.debug(&quot;Received from queue:&quot;+ order);\r\n\t\t\t\t}catch(Exception exc) {\r\n\t\t\t\t\tlog.error(&quot;couldn&#39;t read msg from queue&quot;);\r\n\t\t\t\t\tthrow new CouldNotReadMessageFromSQSException(&quot;couldn&#39;t read msg from queue&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n  ```\r\n\r\nand, as of now, I have two approaches to call the above method and start consuming the messages &lt;br&gt;from the queue  stated as follows along with the issues associated with them: &lt;br&gt;\r\nApproach-1 : &lt;br&gt;\r\n create a rest api and call this method. This approach won&#39;t work in production and also when&lt;br&gt; the queue is empty, `null` will keep getting populated in the blocking queue of the thread pool.&lt;br&gt; So, this is clearly not a good approach.&lt;br&gt; **Question**-How can I ensure that only &#39;not null&#39; data is submitted to the blocking queue?\r\n\r\nApproach-2: &lt;br&gt;\r\n calling the consume method from `CommandLineRunner` but the issue is, the queue, most probably,&lt;br&gt; won&#39;t have data as soon as the application starts and will run into the same problem as described in the 1st approach. &lt;br&gt;\r\n\r\n\r\n**Problem-1**:What can be a better solution to handle the null data problem? &lt;br&gt;\r\n**problem-2**:what can be better way to call the `consume` method, considering the production environment?\r\n\r\nKindly suggest solutions and best practices to achieve the same.","title":"Consumer Thread and SQS - Preventing from submitting null data to the blocking queue and finding a better way to call the consumer threads at runtime","body":"<p>I have a standard SQS and I need to read data from it using multiple consumer threads. <br>\nTo achieve the same, I have written the following method ( in Java): <br></p>\n<pre><code> public void consume() {\n      ExecutorService exService = Executors.newFixedThreadPool(3);\n      \n      while(true) {\n          exService.execute(()-&gt;{\n              try {\n              /* the following code submits a null data to the blocking queue when the queue(sqs) is empty*/\n              OrderQ order = queueMessagingTemplate.receiveAndConvert(StringConstants.QUEUE_NAME\n                      , OrderQ.class);\n              if(order!=null)\n                  repstiory.saveOrder(order);\n              log.debug(&quot;Received from queue:&quot;+ order);\n              }catch(Exception exc) {\n                  log.error(&quot;couldn't read msg from queue&quot;);\n                  throw new CouldNotReadMessageFromSQSException(&quot;couldn't read msg from queue&quot;);\n              }\n          });\n      }\n  }\n\n</code></pre>\n<p>and, as of now, I have two approaches to call the above method and start consuming the messages <br>from the queue  stated as follows along with the issues associated with them: <br>\nApproach-1 : <br>\ncreate a rest api and call this method. This approach won't work in production and also when<br> the queue is empty, <code>null</code> will keep getting populated in the blocking queue of the thread pool.<br> So, this is clearly not a good approach.<br> <strong>Question</strong>-How can I ensure that only 'not null' data is submitted to the blocking queue?</p>\n<p>Approach-2: <br>\ncalling the consume method from <code>CommandLineRunner</code> but the issue is, the queue, most probably,<br> won't have data as soon as the application starts and will run into the same problem as described in the 1st approach. <br></p>\n<p><strong>Problem-1</strong>:What can be a better solution to handle the null data problem? <br>\n<strong>problem-2</strong>:what can be better way to call the <code>consume</code> method, considering the production environment?</p>\n<p>Kindly suggest solutions and best practices to achieve the same.</p>\n"},{"tags":["java","algorithm","data-structures","singly-linked-list"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1660889385,"post_id":73412432,"comment_id":129644441,"body_markdown":"`head.next = newNode;` = NPE","body":"<code>head.next = newNode;</code> = NPE"},{"owner":{"account_id":18278479,"reputation":11,"user_id":13307740,"display_name":"Skillkrio"},"score":0,"creation_date":1660889546,"post_id":73412432,"comment_id":129644472,"body_markdown":"I know that head.next will point to the new Node. my question is using Node field using call by value and call by reference both will work?","body":"I know that head.next will point to the new Node. my question is using Node field using call by value and call by reference both will work?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1660889763,"post_id":73412432,"comment_id":129644522,"body_markdown":"No, it will throw a NullPointerException.  Java does not have pointers. You question is meaningless.","body":"No, it will throw a NullPointerException.  Java does not have pointers. You question is meaningless."},{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1660889852,"post_id":73412432,"comment_id":129644539,"body_markdown":"What @ScaryWombat wanted to point out is, that your code will throw a NullPointerException because you want to set the `next` field of a `null` object. Instead your newNode should reference to the head like this: `newNode.next = null` so you get a list structure like this: 7 -&gt; 3 -&gt; 6 -&gt; null.","body":"What @ScaryWombat wanted to point out is, that your code will throw a NullPointerException because you want to set the <code>next</code> field of a <code>null</code> object. Instead your newNode should reference to the head like this: <code>newNode.next = null</code> so you get a list structure like this: 7 -&gt; 3 -&gt; 6 -&gt; null."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1660890924,"post_id":73412432,"comment_id":129644818,"body_markdown":"What is the question? It is not clear - mentioning Dart; not-working example; including &quot;call by value&quot; despite there is no method call involved. Is the question somehow like &quot;can `Node next;` be used (for this use case) in C++?&quot; ?","body":"What is the question? It is not clear - mentioning Dart; not-working example; including &quot;call by value&quot; despite there is no method call involved. Is the question somehow like &quot;can <code>Node next;</code> be used (for this use case) in C++?&quot; ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660894432,"post_id":73412432,"comment_id":129645815,"body_markdown":"`can we implement the Node field inside the Node class with either by reference or value` -  See [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"<code>can we implement the Node field inside the Node class with either by reference or value</code> -  See <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26104660,"reputation":96,"user_id":19799529,"display_name":"Rutra87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660890486,"creation_date":1660890281,"answer_id":73412615,"question_id":73412432,"body_markdown":"As stated by the other answers, your code wont work since your head variable is null and thus would throw a NullPointerException. \r\nYour main method should like this:\r\n\r\n    Node head = new Node(0);\r\n    Node newNode = new Node(1);\r\n    head.next = newNode;\r\n\r\nJava is always passing references by value. For a comprehensive answer see https://stackoverflow.com/a/40523/19799529","title":"Singly Linked List pass by value","body":"<p>As stated by the other answers, your code wont work since your head variable is null and thus would throw a NullPointerException.\nYour main method should like this:</p>\n<pre><code>Node head = new Node(0);\nNode newNode = new Node(1);\nhead.next = newNode;\n</code></pre>\n<p>Java is always passing references by value. For a comprehensive answer see <a href=\"https://stackoverflow.com/a/40523/19799529\">https://stackoverflow.com/a/40523/19799529</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660891936,"creation_date":1660891936,"answer_id":73412864,"question_id":73412432,"body_markdown":"### Pass-by-value\r\n\r\nJava is always passing by value (as you are accustomed to):\r\n\r\n    int x = 3; f(x);\r\n    Object y = new Object(); g(y);\r\n\r\nAbove neither `f` nor `g` can alter the passed _variables_ `x` and `y`.\r\nThe variables are just memory slots in which the value is stored, and that value is passed (not which memory slot), whether primitive type (int) or class instance (Object).\r\n\r\n### Linked list\r\n\r\nYour Node class is fine.\r\n\r\n    public class SingleLinkedList {\r\n        Node head;\r\n        int count;\r\n\r\n        public int size() {\r\n            return count;\r\n        }\r\n\r\nIt is worth holding the `Node` inside a list class, possibly with a field for the number of elements. You could use that for index checking.\r\n\r\n        public void add(int i, int data) {\r\n            head = addToNodes(head, i, data);\r\n            ++count;\r\n        }\r\n\r\n        private Node addToNodes(Node link, int i, int data) {\r\n            if (i &lt;= 0 || link == null) {\r\n                Node node = new Node(data);\r\n                node.next = link;\r\n                return node;\r\n            }\r\n            link.next = addToNodes(link.next, i - 1, data);\r\n            return link;\r\n        }\r\n\r\nAbove I have used a recursive method. It shows that as the passed variable (`head` or some node&#39;s `next` field) cannot be changed in java, one has to return it assigning it to the same variable.\r\n\r\nThe code above is not very nicely formulated; write your own logic. ","title":"Singly Linked List pass by value","body":"<h3>Pass-by-value</h3>\n<p>Java is always passing by value (as you are accustomed to):</p>\n<pre><code>int x = 3; f(x);\nObject y = new Object(); g(y);\n</code></pre>\n<p>Above neither <code>f</code> nor <code>g</code> can alter the passed <em>variables</em> <code>x</code> and <code>y</code>.\nThe variables are just memory slots in which the value is stored, and that value is passed (not which memory slot), whether primitive type (int) or class instance (Object).</p>\n<h3>Linked list</h3>\n<p>Your Node class is fine.</p>\n<pre><code>public class SingleLinkedList {\n    Node head;\n    int count;\n\n    public int size() {\n        return count;\n    }\n</code></pre>\n<p>It is worth holding the <code>Node</code> inside a list class, possibly with a field for the number of elements. You could use that for index checking.</p>\n<pre><code>    public void add(int i, int data) {\n        head = addToNodes(head, i, data);\n        ++count;\n    }\n\n    private Node addToNodes(Node link, int i, int data) {\n        if (i &lt;= 0 || link == null) {\n            Node node = new Node(data);\n            node.next = link;\n            return node;\n        }\n        link.next = addToNodes(link.next, i - 1, data);\n        return link;\n    }\n</code></pre>\n<p>Above I have used a recursive method. It shows that as the passed variable (<code>head</code> or some node's <code>next</code> field) cannot be changed in java, one has to return it assigning it to the same variable.</p>\n<p>The code above is not very nicely formulated; write your own logic.</p>\n"}],"owner":{"account_id":18278479,"reputation":11,"user_id":13307740,"display_name":"Skillkrio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660893871,"creation_date":1660888802,"question_id":73412432,"body_markdown":"Hi i am learning linked list in java. Its a simple doubt but couldn&#39;t figure out.\r\n\r\n    class Node{\r\n    int data;\r\n    Node next;\r\n    Node(int data){\r\n    this.data = data;\r\n    this.next = null;\r\n    }\r\n\r\n**//java main method**\r\n\r\n    Node head = null;\r\n    Node newNode = new Node(1);\r\n    head.next = newNode;\r\n\r\nHere i am passing the reference of the newNode to the next field in the Node class. The next is holding the reference of the newNode.\r\n\r\nIn dart programming languages objects are passed via call by value. By doing the above code is also working fine. My question is can we implement the Node field inside the Node class with either by reference or value.\r\n\r\nIn the context of c++, I don&#39;t know much c++ syntax but roughly it looks like this\r\n**//with pointer**\r\n\r\n    class Node{\r\n    public:\r\n    int data;\r\n    Node* next;\r\n    }\r\n\r\nIt is possible to implement the above code like this one\r\n\r\n**//without pointer**\r\n\r\n    class Node{\r\n    public:\r\n    int data;\r\n    Node next;\r\n    }","title":"Singly Linked List pass by value","body":"<p>Hi i am learning linked list in java. Its a simple doubt but couldn't figure out.</p>\n<pre><code>class Node{\nint data;\nNode next;\nNode(int data){\nthis.data = data;\nthis.next = null;\n}\n</code></pre>\n<p><strong>//java main method</strong></p>\n<pre><code>Node head = null;\nNode newNode = new Node(1);\nhead.next = newNode;\n</code></pre>\n<p>Here i am passing the reference of the newNode to the next field in the Node class. The next is holding the reference of the newNode.</p>\n<p>In dart programming languages objects are passed via call by value. By doing the above code is also working fine. My question is can we implement the Node field inside the Node class with either by reference or value.</p>\n<p>In the context of c++, I don't know much c++ syntax but roughly it looks like this\n<strong>//with pointer</strong></p>\n<pre><code>class Node{\npublic:\nint data;\nNode* next;\n}\n</code></pre>\n<p>It is possible to implement the above code like this one</p>\n<p><strong>//without pointer</strong></p>\n<pre><code>class Node{\npublic:\nint data;\nNode next;\n}\n</code></pre>\n"},{"tags":["java","selenium","jenkins","screenshot"],"comments":[{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1660737728,"post_id":73387353,"comment_id":129602439,"body_markdown":"You may try adjusting your screen resolution to fit the application in window. This could work. But Ideally, the application should be responsive, i;e., it should auto-adjust according to the screen-size","body":"You may try adjusting your screen resolution to fit the application in window. This could work. But Ideally, the application should be responsive, i;e., it should auto-adjust according to the screen-size"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1660738698,"post_id":73387353,"comment_id":129602811,"body_markdown":"The problem is that, the specific element for example is long, so need to scroll down even on regular sized monitor. So in this case, the element is not being captured to its fullest form","body":"The problem is that, the specific element for example is long, so need to scroll down even on regular sized monitor. So in this case, the element is not being captured to its fullest form"},{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":1,"creation_date":1660738957,"post_id":73387353,"comment_id":129602891,"body_markdown":"Maybe try to scroll to the element via `moveToElement()` (https://stackoverflow.com/a/27386399/9741277)","body":"Maybe try to scroll to the element via <code>moveToElement()</code> (<a href=\"https://stackoverflow.com/a/27386399/9741277\">stackoverflow.com/a/27386399/9741277</a>)"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1660743896,"post_id":73387353,"comment_id":129604879,"body_markdown":"Yea that&#39;s what I&#39;m trying, hope that it will help capture the whole element","body":"Yea that&#39;s what I&#39;m trying, hope that it will help capture the whole element"},{"owner":{"account_id":5889510,"reputation":119,"user_id":4636563,"accept_rate":22,"display_name":"DeltaRage"},"score":0,"creation_date":1660745478,"post_id":73387353,"comment_id":129605523,"body_markdown":"Try checking this post out: https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium","body":"Try checking this post out: <a href=\"https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium\" title=\"scroll element into view with selenium\">stackoverflow.com/questions/3401343/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660893181,"creation_date":1660893181,"answer_id":73413094,"question_id":73387353,"body_markdown":"You can increase the Set the Browser resolution to bigger size and pass it in chrome options.  that wil increase the browser window size and then scrollinto that element and continue with it. \r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--window-size=1920,1200&quot;);\r\n        WebDriver driver = new ChromeDriver(options);","title":"Selenium can&#39;t capture the whole element because of monitor size","body":"<p>You can increase the Set the Browser resolution to bigger size and pass it in chrome options.  that wil increase the browser window size and then scrollinto that element and continue with it.</p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--window-size=1920,1200&quot;);\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660893181,"creation_date":1660734243,"question_id":73387353,"body_markdown":"When using a website and capturing pictures of specific elements on screen, \r\nSometimes we encounter a problem in which the element is not captured in its fullest form.\r\nAfter investigating the issue I understand it happens when the Chrome browser opens on laptop screen, which is smaller and that&#39;s why the elements are not shown completely.\r\nHow can I solve this issue? It also happens on Jenkins sometimes, how is that?\r\n\r\nHere is my code snippet:\r\n\r\n        byte[] imageResult = element.getScreenshotAs(OutputType.BYTES);\r\n        BufferedImage imageSnapshot = ImageIO.read(new ByteArrayInputStream(imageResult));\r\n\r\n     ","title":"Selenium can&#39;t capture the whole element because of monitor size","body":"<p>When using a website and capturing pictures of specific elements on screen,\nSometimes we encounter a problem in which the element is not captured in its fullest form.\nAfter investigating the issue I understand it happens when the Chrome browser opens on laptop screen, which is smaller and that's why the elements are not shown completely.\nHow can I solve this issue? It also happens on Jenkins sometimes, how is that?</p>\n<p>Here is my code snippet:</p>\n<pre><code>    byte[] imageResult = element.getScreenshotAs(OutputType.BYTES);\n    BufferedImage imageSnapshot = ImageIO.read(new ByteArrayInputStream(imageResult));\n\n \n</code></pre>\n"},{"tags":["java","tomcat","out-of-memory","tomcat8"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1660892833,"post_id":73412601,"comment_id":129645350,"body_markdown":"You didn&#39;t actually try them with the `rem` did you? `rem` is ALWAYS ignored; that&#39;s its purpose. `export` would not be valid CMD syntax; it is used for (most) Unix shells, not CMD. Your second line but with `rem` deleted is good syntax, but whether those numbers are right for your case is up to you. The `-server` probably isn&#39;t needed, but should do no harm.","body":"You didn&#39;t actually try them with the <code>rem</code> did you? <code>rem</code> is ALWAYS ignored; that&#39;s its purpose. <code>export</code> would not be valid CMD syntax; it is used for (most) Unix shells, not CMD. Your second line but with <code>rem</code> deleted is good syntax, but whether those numbers are right for your case is up to you. The <code>-server</code> probably isn&#39;t needed, but should do no harm."},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1660898182,"post_id":73412601,"comment_id":129646997,"body_markdown":"No I didn&#39;t had rem when I was actually using those commands.","body":"No I didn&#39;t had rem when I was actually using those commands."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1660892216,"creation_date":1660892216,"answer_id":73412909,"question_id":73412601,"body_markdown":"As you experienced, your tomcat service does not make use of setenv.bat at all. According to [the documentation][1] you have to invoke `tomcat8 //US//` to update service definitions. The settings are stored somewhere in the Windows registry.\r\n\r\nSo the command you need might look like\r\n\r\n    tomcat8 //US//Tomcat8 --JvmMx 2048m\r\n\r\nAlternatively it is perfectly ok to use the GUI version `tomcat8w`as you described you have done anyway.\r\n\r\nIn a nutshell: You cannot use setenv.bat to configure Tomcats running as service.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/windows-service-howto.html#Updating_services","title":"Increasing allocated memory for tomcat didn&#39;t work using setenv.bat","body":"<p>As you experienced, your tomcat service does not make use of setenv.bat at all. According to <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/windows-service-howto.html#Updating_services\" rel=\"nofollow noreferrer\">the documentation</a> you have to invoke <code>tomcat8 //US//</code> to update service definitions. The settings are stored somewhere in the Windows registry.</p>\n<p>So the command you need might look like</p>\n<pre><code>tomcat8 //US//Tomcat8 --JvmMx 2048m\n</code></pre>\n<p>Alternatively it is perfectly ok to use the GUI version <code>tomcat8w</code>as you described you have done anyway.</p>\n<p>In a nutshell: You cannot use setenv.bat to configure Tomcats running as service.</p>\n"}],"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73412909,"answer_count":1,"score":1,"last_activity_date":1660892216,"creation_date":1660890204,"question_id":73412601,"body_markdown":"I have a java web app which runs on tomcat (tomcat is installed as a windows service) and I was getting &lt;br&gt;\r\n```Exception in thread &quot;Thread-7&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded```&lt;br&gt;\r\n while trying to process files using the web app. So I tried to increase allocated memory for tomcat. I checked the solutions in [Increase Tomcat memory settings](https://stackoverflow.com/questions/12688778/increase-tomcat-memory-settings), [Dealing with &quot;java.lang.OutOfMemoryError: PermGen space&quot; error](https://stackoverflow.com/questions/88235/dealing-with-java-lang-outofmemoryerror-permgen-space-error) and some other blogs. Here are the commands that I tried in setenv.bat file. \r\n```\r\nrem export JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 -Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m&quot;\r\nrem set &quot;JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx8192m -XX:MaxPermSize=256m -server&quot;\r\nrem set JAVA_OPTS=&quot;-Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m&quot;\r\nrem set JAVA_OPTS=%JAVA_OPTS% -Xms256m  -Xmx2048m\r\nrem set JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m\r\n```\r\nI tried these command one by one. Each time I added a new command I restarted tomcat. None of these commands worked and tomcat was using its default configuration. So I changed **Initial Memory Pool** and **Maximum Memory Pool** from tomcat8w.exe -&gt; java tab. And that worked. But I want to change the configuration using setenv.bat. How can I do that?","title":"Increasing allocated memory for tomcat didn&#39;t work using setenv.bat","body":"<p>I have a java web app which runs on tomcat (tomcat is installed as a windows service) and I was getting <br>\n<code>Exception in thread &quot;Thread-7&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded</code><br>\nwhile trying to process files using the web app. So I tried to increase allocated memory for tomcat. I checked the solutions in <a href=\"https://stackoverflow.com/questions/12688778/increase-tomcat-memory-settings\">Increase Tomcat memory settings</a>, <a href=\"https://stackoverflow.com/questions/88235/dealing-with-java-lang-outofmemoryerror-permgen-space-error\">Dealing with &quot;java.lang.OutOfMemoryError: PermGen space&quot; error</a> and some other blogs. Here are the commands that I tried in setenv.bat file.</p>\n<pre><code>rem export JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 -Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m&quot;\nrem set &quot;JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx8192m -XX:MaxPermSize=256m -server&quot;\nrem set JAVA_OPTS=&quot;-Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m&quot;\nrem set JAVA_OPTS=%JAVA_OPTS% -Xms256m  -Xmx2048m\nrem set JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms256m -Xmx2048m -XX:PermSize=256m -XX:MaxPermSize=1024m\n</code></pre>\n<p>I tried these command one by one. Each time I added a new command I restarted tomcat. None of these commands worked and tomcat was using its default configuration. So I changed <strong>Initial Memory Pool</strong> and <strong>Maximum Memory Pool</strong> from tomcat8w.exe -&gt; java tab. And that worked. But I want to change the configuration using setenv.bat. How can I do that?</p>\n"},{"tags":["java","android","json","android-volley"],"comments":[{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1660894702,"post_id":73412704,"comment_id":129645897,"body_markdown":"if it&#39;s string use `myString.replace(STRING_TO_BE_REMOVED, &quot;&quot;)`","body":"if it&#39;s string use <code>myString.replace(STRING_TO_BE_REMOVED, &quot;&quot;)</code>"},{"owner":{"account_id":14021554,"reputation":11,"user_id":10127667,"display_name":"kavya"},"score":0,"creation_date":1660894771,"post_id":73412704,"comment_id":129645915,"body_markdown":"not working in that way","body":"not working in that way"},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1660895668,"post_id":73412704,"comment_id":129646209,"body_markdown":"try converting the response to string and remove that and convert again to json","body":"try converting the response to string and remove that and convert again to json"}],"owner":{"account_id":14021554,"reputation":11,"user_id":10127667,"display_name":"kavya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660892058,"creation_date":1660890835,"question_id":73412704,"body_markdown":"I&#39;m getting this response from api:\r\n\r\n```xml\r\n&lt;string xmlns=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\r\n[{&quot;ActID&quot;:845,&quot;ActName&quot;:&quot;Current Liabilities&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:387,&quot;ActName&quot;:&quot;K.Ramalinga Raju - Capital&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:728,&quot;ActName&quot;:&quot;Krlr - Airport Land&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:746,&quot;ActName&quot;:&quot;Krlr - Airport Land Polls&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:842,&quot;ActName&quot;:&quot;kRLR - AMLPM-Kom Prawns ponds&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:763,&quot;ActName&quot;:&quot;Krlr - Giet Land Cement Polls&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:770,&quot;ActName&quot;:&quot;krlr - Matha Projects Llp&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:490,&quot;ActName&quot;:&quot;KRLR - Tadipudi Fish Ponds&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:586,&quot;ActName&quot;:&quot;Krlr Palm Oil Plantation&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:493,&quot;ActName&quot;:&quot;Krlr Travelling&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:805,&quot;ActName&quot;:&quot;KRLR-DRAWINGS&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:821,&quot;ActName&quot;:&quot;KRLR-Petty Expenses&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:401,&quot;ActName&quot;:&quot;Kvsn Raju&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:7,&quot;ActName&quot;:&quot;Profit &amp; Loss - Current Year&quot;,&quot;amount&quot;:0.0},\r\n{&quot;ActID&quot;:8,&quot;ActName&quot;:&quot;Profit &amp; Loss - Previous Year&quot;,&quot;amount&quot;:0.0}\r\n]&lt;/string&gt;\r\n```\r\n\r\nHow to parse this json in volley in android studio","title":"remove &lt;string xmlns=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt; from json response in java android studio","body":"<p>I'm getting this response from api:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string xmlns=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\n[{&quot;ActID&quot;:845,&quot;ActName&quot;:&quot;Current Liabilities&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:387,&quot;ActName&quot;:&quot;K.Ramalinga Raju - Capital&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:728,&quot;ActName&quot;:&quot;Krlr - Airport Land&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:746,&quot;ActName&quot;:&quot;Krlr - Airport Land Polls&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:842,&quot;ActName&quot;:&quot;kRLR - AMLPM-Kom Prawns ponds&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:763,&quot;ActName&quot;:&quot;Krlr - Giet Land Cement Polls&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:770,&quot;ActName&quot;:&quot;krlr - Matha Projects Llp&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:490,&quot;ActName&quot;:&quot;KRLR - Tadipudi Fish Ponds&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:586,&quot;ActName&quot;:&quot;Krlr Palm Oil Plantation&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:493,&quot;ActName&quot;:&quot;Krlr Travelling&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:805,&quot;ActName&quot;:&quot;KRLR-DRAWINGS&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:821,&quot;ActName&quot;:&quot;KRLR-Petty Expenses&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:401,&quot;ActName&quot;:&quot;Kvsn Raju&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:7,&quot;ActName&quot;:&quot;Profit &amp; Loss - Current Year&quot;,&quot;amount&quot;:0.0},\n{&quot;ActID&quot;:8,&quot;ActName&quot;:&quot;Profit &amp; Loss - Previous Year&quot;,&quot;amount&quot;:0.0}\n]&lt;/string&gt;\n</code></pre>\n<p>How to parse this json in volley in android studio</p>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660896067,"post_id":73412883,"comment_id":129646344,"body_markdown":"im not going to answer your question, but im going to tell you that you are coding imperative (regular java) using for-loops etc. in a reactive environment. And your dto calls are not returning Monos or Fluxes which tells me that they probably are blocking calls. Just placing things in `Mono.just` doesn&#39;t make things reactive. Also your code is way too abstract for us to know or even run your code, you should instead produce a minimal example that demonstrates your problem.","body":"im not going to answer your question, but im going to tell you that you are coding imperative (regular java) using for-loops etc. in a reactive environment. And your dto calls are not returning Monos or Fluxes which tells me that they probably are blocking calls. Just placing things in <code>Mono.just</code> doesn&#39;t make things reactive. Also your code is way too abstract for us to know or even run your code, you should instead produce a minimal example that demonstrates your problem."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660896134,"post_id":73412883,"comment_id":129646365,"body_markdown":"we have no idea what your `processors` do or your `util` classes do or what your `dto` classes do etc etc.","body":"we have no idea what your <code>processors</code> do or your <code>util</code> classes do or what your <code>dto</code> classes do etc etc."},{"owner":{"account_id":23977161,"reputation":11,"user_id":17965108,"display_name":"Konstantin Goncharenko"},"score":0,"creation_date":1660897453,"post_id":73412883,"comment_id":129646784,"body_markdown":"I believe that the code is completely non-blocking, except of the DAO layer, as I wrote, it is implemented on JDBC, not on R2DBC. Not returning mono or flux on dto calls does not make the code blocking.","body":"I believe that the code is completely non-blocking, except of the DAO layer, as I wrote, it is implemented on JDBC, not on R2DBC. Not returning mono or flux on dto calls does not make the code blocking."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660899341,"post_id":73412883,"comment_id":129647400,"body_markdown":"You are aware that JDBC is blocking? And that when performing things outside the reactive context doesn’t allow the reactive framework to optimize its thread usage to give you fully reactive behaviour. Just one single blocking call in a non-blocking application can seriously cripple your entire application. So your belief is faulty and you should read up on the reactor architecture and why blocking is bad.","body":"You are aware that JDBC is blocking? And that when performing things outside the reactive context doesn’t allow the reactive framework to optimize its thread usage to give you fully reactive behaviour. Just one single blocking call in a non-blocking application can seriously cripple your entire application. So your belief is faulty and you should read up on the reactor architecture and why blocking is bad."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660899668,"post_id":73412883,"comment_id":129647522,"body_markdown":"`Not returning mono or flux on dto calls does not make the code blocking.` is completely wrong, because every call needs to wait until the concrete value is returned. We cant return a value if it doesnt exist. Thats what Mono and Fluxes are for to, to return ”something” and signal when the value is available","body":"<code>Not returning mono or flux on dto calls does not make the code blocking.</code> is completely wrong, because every call needs to wait until the concrete value is returned. We cant return a value if it doesnt exist. Thats what Mono and Fluxes are for to, to return ”something” and signal when the value is available"},{"owner":{"account_id":23977161,"reputation":11,"user_id":17965108,"display_name":"Konstantin Goncharenko"},"score":0,"creation_date":1660899767,"post_id":73412883,"comment_id":129647550,"body_markdown":"Of course. But my question is why is the LoggingIncomingMessageProcessor.processMessage code inside the flatMap body being run twice. If this behavior is due to the blocking nature of JDBC, I&#39;d like to understand why.","body":"Of course. But my question is why is the LoggingIncomingMessageProcessor.processMessage code inside the flatMap body being run twice. If this behavior is due to the blocking nature of JDBC, I&#39;d like to understand why."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660901140,"post_id":73412883,"comment_id":129647984,"body_markdown":"and as i wrote above, your code is way too abstract, i cant run your code.","body":"and as i wrote above, your code is way too abstract, i cant run your code."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1661072744,"post_id":73412883,"comment_id":129680270,"body_markdown":"I can&#39;t see any obvious reason why it could run twice but I&#39;d suggest not to pass Mono objects as method parameters, rather just pass around the dto object as it is. Passing around a Mono can easily lead to multiple subscriptions and multiple unintended executions.","body":"I can&#39;t see any obvious reason why it could run twice but I&#39;d suggest not to pass Mono objects as method parameters, rather just pass around the dto object as it is. Passing around a Mono can easily lead to multiple subscriptions and multiple unintended executions."}],"owner":{"account_id":23977161,"reputation":11,"user_id":17965108,"display_name":"Konstantin Goncharenko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660892038,"creation_date":1660892038,"question_id":73412883,"body_markdown":"I have a java service. \r\nService receives a message, enriches it, stores it in a database, and sends it to kafka. \r\n\r\nThe service is made of reactive streams, DAO layer made of jdbc.\r\n\r\n**Controller:**\r\n```\r\n@Api @Slf4j @Validated\r\n@RestController\r\n@ParametersAreNonnullByDefault\r\n@RequiredArgsConstructor\r\npublic class IncomingMessageController {\r\n\r\n    private final IncomingMessageProcessingService processingService;\r\n\r\n    @PostMapping(value = &quot;/incoming&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; handleIncomingMessages(\r\n            @RequestBody VkIncomingMessage message\r\n    ) {\r\n        \r\n         return processingService.processMessage(message)\r\n                .then(Mono.just(ResponseEntity\r\n                .status(HttpStatus.OK)\r\n                .body(&quot;ok&quot;)));\r\n    }\r\n}\r\n```\r\n\r\n**Processing Service:**\r\n```\r\n@Slf4j\r\n@Service\r\n@ParametersAreNonnullByDefault\r\npublic class IncomingMessageProcessingService {\r\n\r\n    private final List&lt;IncomingMessageProcessor&gt; incomingMessageProcessors;\r\n\r\n    public IncomingMessageProcessingService(\r\n            Optional&lt;LoggingIncomingMessageProcessor&gt; loggingIncomingMessageProcessor,\r\n            Optional&lt;SendToKafkaIncomingMessageProcessor&gt; kafkaIncomingMessageProcessor\r\n    ) {\r\n        incomingMessageProcessors = new ArrayList&lt;&gt;();\r\n        loggingIncomingMessageProcessor.ifPresent(this.incomingMessageProcessors::add);\r\n        kafkaIncomingMessageProcessor.ifPresent(this.incomingMessageProcessors::add);\r\n    }\r\n\r\n    public Mono&lt;VkIncomingDto&gt; processMessage(VkIncomingMessage vkIncomingMessage) {\r\n\r\n        var vkIncomingDto = MessageMappingUtils.toVkIncomingDto(vkIncomingMessage);\r\n        var vkIncomingDtoMono = Mono.just(vkIncomingDto);\r\n        for (var processor : incomingMessageProcessors) {\r\n            vkIncomingDtoMono = processor.processIncomingMessage(vkIncomingDtoMono);\r\n        }\r\n        return vkIncomingDtoMono;\r\n    }\r\n}\r\n```\r\n\r\n**LoggingIncomingMessageProcessor:**\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\n@ParametersAreNonnullByDefault\r\n@ConditionalOnProperty(\r\n        name = {&quot;toggle.logging-incoming-processor&quot;},\r\n        havingValue = &quot;true&quot;,\r\n        matchIfMissing = true)\r\npublic class LoggingIncomingMessageProcessor\r\n        implements IncomingMessageProcessor {\r\n\r\n    private final IncomingMessagesDao incomingMessagesDao;\r\n    private final MessagesDao messagesDao;\r\n    private final IdGenerator idGenerator;\r\n\r\n    @Override\r\n    public Mono&lt;VkIncomingDto&gt; processIncomingMessage(Mono&lt;VkIncomingDto&gt; vkIncomingDtoMono) {\r\n        return vkIncomingDtoMono\r\n                .flatMap(vkIncomingDto -&gt; {\r\n\r\n                    var originalMsgOutLogin = getOriginalMsgOutLogin(Long.parseLong(vkIncomingDto.vkIncoming.getObject()\r\n                            .getMessage()\r\n                            .getMessageTag()));\r\n\r\n                    var enrichedIncomingMessage = enrichVkIncomingMessages(vkIncomingDto, originalMsgOutLogin);\r\n                    incomingMessagesDao.insert(enrichedIncomingMessage);\r\n                    return Mono.just(enrichedIncomingMessage);\r\n                });\r\n    }\r\n\r\n    private VkIncomingDto enrichVkIncomingMessages(VkIncomingDto vkIncomingDto, String login) {\r\n        return vkIncomingDto.toBuilder()\r\n                .id(idGenerator.getNext())\r\n                .vkMessageId(Long.parseLong(Objects.requireNonNull(\r\n                        vkIncomingDto.vkIncoming.getObject().getMessage().getMessageTag())))\r\n                .login(login)\r\n                .build();\r\n    }\r\n\r\n    private String getOriginalMsgOutLogin(Long originalMsgOutId) {\r\n        return messagesDao.getLoginToIdMap(Set.of(originalMsgOutId)).get(originalMsgOutId);\r\n    }\r\n}\r\n```\r\n\r\n**SendToKafkaIncomingMessageProcessor:**\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Repository\r\n@ParametersAreNonnullByDefault\r\n@ConditionalOnProperty(\r\n        name = {&quot;toggle.kafka-incoming-processor&quot;, &quot;server.providermode&quot;},\r\n        havingValue = &quot;true&quot;,\r\n        matchIfMissing = true)\r\npublic class SendToKafkaIncomingMessageProcessor implements IncomingMessageProcessor {\r\n\r\n    private final VkIncomingMessageProducer messageProducer;\r\n\r\n    @Override\r\n    public Mono&lt;VkIncomingDto&gt; processIncomingMessage(Mono&lt;VkIncomingDto&gt; vkIncomingDtoMono) {\r\n\r\n        return vkIncomingDtoMono\r\n                .flatMap(vkIncomingDto -&gt; messageProducer.sendMessage(MessageMappingUtils.toIncomingMessage(vkIncomingDto)))\r\n                .then(vkIncomingDtoMono);\r\n    }\r\n}\r\n```\r\n\r\nI need to return an enriched message from LoggingIncomingMessageProcessor in order to send this information to Kafka. \r\nThe problem is that the code inside flatMap is run twice, resulting in 2 records being saved to the database and 1 message being sent to kafka.\r\n","title":"Mono flatmap body runs twice","body":"<p>I have a java service.\nService receives a message, enriches it, stores it in a database, and sends it to kafka.</p>\n<p>The service is made of reactive streams, DAO layer made of jdbc.</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@Api @Slf4j @Validated\n@RestController\n@ParametersAreNonnullByDefault\n@RequiredArgsConstructor\npublic class IncomingMessageController {\n\n    private final IncomingMessageProcessingService processingService;\n\n    @PostMapping(value = &quot;/incoming&quot;)\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; handleIncomingMessages(\n            @RequestBody VkIncomingMessage message\n    ) {\n        \n         return processingService.processMessage(message)\n                .then(Mono.just(ResponseEntity\n                .status(HttpStatus.OK)\n                .body(&quot;ok&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Processing Service:</strong></p>\n<pre><code>@Slf4j\n@Service\n@ParametersAreNonnullByDefault\npublic class IncomingMessageProcessingService {\n\n    private final List&lt;IncomingMessageProcessor&gt; incomingMessageProcessors;\n\n    public IncomingMessageProcessingService(\n            Optional&lt;LoggingIncomingMessageProcessor&gt; loggingIncomingMessageProcessor,\n            Optional&lt;SendToKafkaIncomingMessageProcessor&gt; kafkaIncomingMessageProcessor\n    ) {\n        incomingMessageProcessors = new ArrayList&lt;&gt;();\n        loggingIncomingMessageProcessor.ifPresent(this.incomingMessageProcessors::add);\n        kafkaIncomingMessageProcessor.ifPresent(this.incomingMessageProcessors::add);\n    }\n\n    public Mono&lt;VkIncomingDto&gt; processMessage(VkIncomingMessage vkIncomingMessage) {\n\n        var vkIncomingDto = MessageMappingUtils.toVkIncomingDto(vkIncomingMessage);\n        var vkIncomingDtoMono = Mono.just(vkIncomingDto);\n        for (var processor : incomingMessageProcessors) {\n            vkIncomingDtoMono = processor.processIncomingMessage(vkIncomingDtoMono);\n        }\n        return vkIncomingDtoMono;\n    }\n}\n</code></pre>\n<p><strong>LoggingIncomingMessageProcessor:</strong></p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\n@ParametersAreNonnullByDefault\n@ConditionalOnProperty(\n        name = {&quot;toggle.logging-incoming-processor&quot;},\n        havingValue = &quot;true&quot;,\n        matchIfMissing = true)\npublic class LoggingIncomingMessageProcessor\n        implements IncomingMessageProcessor {\n\n    private final IncomingMessagesDao incomingMessagesDao;\n    private final MessagesDao messagesDao;\n    private final IdGenerator idGenerator;\n\n    @Override\n    public Mono&lt;VkIncomingDto&gt; processIncomingMessage(Mono&lt;VkIncomingDto&gt; vkIncomingDtoMono) {\n        return vkIncomingDtoMono\n                .flatMap(vkIncomingDto -&gt; {\n\n                    var originalMsgOutLogin = getOriginalMsgOutLogin(Long.parseLong(vkIncomingDto.vkIncoming.getObject()\n                            .getMessage()\n                            .getMessageTag()));\n\n                    var enrichedIncomingMessage = enrichVkIncomingMessages(vkIncomingDto, originalMsgOutLogin);\n                    incomingMessagesDao.insert(enrichedIncomingMessage);\n                    return Mono.just(enrichedIncomingMessage);\n                });\n    }\n\n    private VkIncomingDto enrichVkIncomingMessages(VkIncomingDto vkIncomingDto, String login) {\n        return vkIncomingDto.toBuilder()\n                .id(idGenerator.getNext())\n                .vkMessageId(Long.parseLong(Objects.requireNonNull(\n                        vkIncomingDto.vkIncoming.getObject().getMessage().getMessageTag())))\n                .login(login)\n                .build();\n    }\n\n    private String getOriginalMsgOutLogin(Long originalMsgOutId) {\n        return messagesDao.getLoginToIdMap(Set.of(originalMsgOutId)).get(originalMsgOutId);\n    }\n}\n</code></pre>\n<p><strong>SendToKafkaIncomingMessageProcessor:</strong></p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Repository\n@ParametersAreNonnullByDefault\n@ConditionalOnProperty(\n        name = {&quot;toggle.kafka-incoming-processor&quot;, &quot;server.providermode&quot;},\n        havingValue = &quot;true&quot;,\n        matchIfMissing = true)\npublic class SendToKafkaIncomingMessageProcessor implements IncomingMessageProcessor {\n\n    private final VkIncomingMessageProducer messageProducer;\n\n    @Override\n    public Mono&lt;VkIncomingDto&gt; processIncomingMessage(Mono&lt;VkIncomingDto&gt; vkIncomingDtoMono) {\n\n        return vkIncomingDtoMono\n                .flatMap(vkIncomingDto -&gt; messageProducer.sendMessage(MessageMappingUtils.toIncomingMessage(vkIncomingDto)))\n                .then(vkIncomingDtoMono);\n    }\n}\n</code></pre>\n<p>I need to return an enriched message from LoggingIncomingMessageProcessor in order to send this information to Kafka.\nThe problem is that the code inside flatMap is run twice, resulting in 2 records being saved to the database and 1 message being sent to kafka.</p>\n"},{"tags":["java","spring","weblogic","datasource"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660896776,"post_id":73411379,"comment_id":129646578,"body_markdown":"Don&#39;t do a try/catch in a bean method and return `null`. Do the lookup (I suggest using the `JndiDataSourceLookup` class and if an exception occurs during lookup you will see the exception properly being logged. I suspect there is an exception during startup whichyou swallow, hence the error.","body":"Don&#39;t do a try/catch in a bean method and return <code>null</code>. Do the lookup (I suggest using the <code>JndiDataSourceLookup</code> class and if an exception occurs during lookup you will see the exception properly being logged. I suspect there is an exception during startup whichyou swallow, hence the error."}],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660891801,"creation_date":1660891801,"answer_id":73412845,"question_id":73411379,"body_markdown":"We have many spring boot apps deployed in weblogic that lookup datasources using jndi.  Below is an example of how we do it.  We explicitly specify to use weblogic.jndi.WLInitialContextFactory and also make sure the destroy method of your datasource beans is blank, otherwise undeploying your app can remove the datasource from weblogic. \r\n\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment env;\r\n    \r\n    \t@Bean\r\n    \tpublic JndiTemplate jndiTemplate() {\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(Context.INITIAL_CONTEXT_FACTORY, &quot;weblogic.jndi.WLInitialContextFactory&quot;);\r\n    \t\treturn new JndiTemplate(props);\r\n    \t}\r\n    \r\n    \r\n    \t// destroyMethod MUST be blank or datasource is removed from jndi tree on\r\n    \t// see https://github.com/spring-projects/spring-framework/issues/17153\r\n    \t@Bean(destroyMethod = &quot;&quot;)\r\n    \t@Primary\r\n    \tpublic DataSource batchDataSource() throws NamingException {\r\n    \t\treturn (DataSource) jndiTemplate().lookup(env.getProperty(&quot;dms-geo-sync.batch-datasource-jndi-name&quot;));\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate","body":"<p>We have many spring boot apps deployed in weblogic that lookup datasources using jndi.  Below is an example of how we do it.  We explicitly specify to use weblogic.jndi.WLInitialContextFactory and also make sure the destroy method of your datasource beans is blank, otherwise undeploying your app can remove the datasource from weblogic.</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public JndiTemplate jndiTemplate() {\n        Properties props = new Properties();\n        props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;weblogic.jndi.WLInitialContextFactory&quot;);\n        return new JndiTemplate(props);\n    }\n\n\n    // destroyMethod MUST be blank or datasource is removed from jndi tree on\n    // see https://github.com/spring-projects/spring-framework/issues/17153\n    @Bean(destroyMethod = &quot;&quot;)\n    @Primary\n    public DataSource batchDataSource() throws NamingException {\n        return (DataSource) jndiTemplate().lookup(env.getProperty(&quot;dms-geo-sync.batch-datasource-jndi-name&quot;));\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660891801,"creation_date":1660877278,"question_id":73411379,"body_markdown":"I am getting the following exception when I try to use DataSource created in web logic and trying to use in my application:\r\n\r\n\r\nweblogic.application.ModuleException: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least \r\n1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\r\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n        at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:78)\r\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\r\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n        at weblogic.application.internal.B\r\n\r\nFollowing is the java code:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;my.oracle&quot;)\r\n    public class MyDBConfiguration {\r\n    \r\n    \t@NotNull\r\n    \tprivate String jndiname;\r\n    \t\r\n    \t\tpublic void setJndiname(String jndiname) {\r\n    \t\tthis.jndiname = jndiname;\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;testA&quot;)\r\n    \t@Primary\r\n    \tpublic DataSource dataSource() throws SQLException{\t\t  \r\n    \t    \r\n    \t      DataSource dataSource;\r\n    \t\t\r\n    \t      try {\r\n    \t    \t  Context ctx = new InitialContext();\r\n    \t          dataSource = (DataSource) ctx.lookup(this.jndiname);  // i can clearly see that this matches with the jndi name(jdbc/myOracleDataSource) created in weblogic.\r\n    \t          return dataSource;\r\n    \t         \r\n    \t        }catch(Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn null;\r\n    \t        }\r\n    \t}\r\n    }\r\n\r\napplication.local.properties\r\n\r\nmy.oracle.jndiname=jdbc/myOracleDataSource","title":"No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate","body":"<p>I am getting the following exception when I try to use DataSource created in web logic and trying to use in my application:</p>\n<p>weblogic.application.ModuleException: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least\n1 bean which qualifies as autowire candidate. Dependency annotations: {}\nat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\nat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:78)\nat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.B</p>\n<p>Following is the java code:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;my.oracle&quot;)\npublic class MyDBConfiguration {\n\n    @NotNull\n    private String jndiname;\n    \n        public void setJndiname(String jndiname) {\n        this.jndiname = jndiname;\n    }\n    \n    @Bean(name = &quot;testA&quot;)\n    @Primary\n    public DataSource dataSource() throws SQLException{       \n        \n          DataSource dataSource;\n        \n          try {\n              Context ctx = new InitialContext();\n              dataSource = (DataSource) ctx.lookup(this.jndiname);  // i can clearly see that this matches with the jndi name(jdbc/myOracleDataSource) created in weblogic.\n              return dataSource;\n             \n            }catch(Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n    }\n}\n</code></pre>\n<p>application.local.properties</p>\n<p>my.oracle.jndiname=jdbc/myOracleDataSource</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659550905,"creation_date":1659550905,"answer_id":73226082,"question_id":73225256,"body_markdown":"I dont understand your question bu I think this code examples solves your problem . split behaviour in Map is Map.Entry .  and this returns Node.class and you can get this value with .value \r\n\r\n            from(&quot;timer:test?repeatCount=1&quot;)\r\n                .process(e -&gt; {\r\n                    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n                    map.put(&quot;name&quot;, List.of(&quot;name&quot;, &quot;name1&quot;,&quot;namo&quot;));\r\n                    map.put(&quot;surname&quot;, List.of(&quot;surname&quot;));\r\n                    map.put(&quot;age&quot;, List.of(&quot;age&quot;, &quot;age1&quot;));\r\n                    e.getIn().setBody(map);\r\n                })\r\n                .split(body())\r\n                .setBody(simple(&quot;${body.value}&quot;))\r\n                .log(&quot;${body.class} ${body.size} ${body}&quot;);\r\n\r\noutput \r\n\r\n    :class java.util.ImmutableCollections$List12 1 surname\r\n    :class java.util.ImmutableCollections$ListN 3 name,name1,namo\r\n    :class java.util.ImmutableCollections$List12 2 age,age1\r\n\r\nor more complicated example. u can split every list field to a body \r\n\r\n\r\n    from(&quot;timer:test?repeatCount=1&quot;)\r\n            .log(&quot;its works&quot;)\r\n            .process(e -&gt; {\r\n                Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n                map.put(&quot;name&quot;, List.of(&quot;name&quot;, &quot;name1&quot;));\r\n                map.put(&quot;surname&quot;, List.of(&quot;surname&quot;, &quot;surname1&quot;));\r\n                map.put(&quot;age&quot;, List.of(&quot;age&quot;, &quot;age1&quot;));\r\n                e.getIn().setBody(map);\r\n            })\r\n            .split(body(), new GroupedBodyAggregationStrategy())\r\n            .setBody(simple(&quot;${body.value}&quot;))\r\n            .split(body(), new GroupedBodyAggregationStrategy())\r\n            .log(&quot;${body}&quot;);\r\n\r\n","title":"How to split a HashMap in Apache Camel?","body":"<p>I dont understand your question bu I think this code examples solves your problem . split behaviour in Map is Map.Entry .  and this returns Node.class and you can get this value with .value</p>\n<pre><code>        from(&quot;timer:test?repeatCount=1&quot;)\n            .process(e -&gt; {\n                Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n                map.put(&quot;name&quot;, List.of(&quot;name&quot;, &quot;name1&quot;,&quot;namo&quot;));\n                map.put(&quot;surname&quot;, List.of(&quot;surname&quot;));\n                map.put(&quot;age&quot;, List.of(&quot;age&quot;, &quot;age1&quot;));\n                e.getIn().setBody(map);\n            })\n            .split(body())\n            .setBody(simple(&quot;${body.value}&quot;))\n            .log(&quot;${body.class} ${body.size} ${body}&quot;);\n</code></pre>\n<p>output</p>\n<pre><code>:class java.util.ImmutableCollections$List12 1 surname\n:class java.util.ImmutableCollections$ListN 3 name,name1,namo\n:class java.util.ImmutableCollections$List12 2 age,age1\n</code></pre>\n<p>or more complicated example. u can split every list field to a body</p>\n<pre><code>from(&quot;timer:test?repeatCount=1&quot;)\n        .log(&quot;its works&quot;)\n        .process(e -&gt; {\n            Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;name&quot;, List.of(&quot;name&quot;, &quot;name1&quot;));\n            map.put(&quot;surname&quot;, List.of(&quot;surname&quot;, &quot;surname1&quot;));\n            map.put(&quot;age&quot;, List.of(&quot;age&quot;, &quot;age1&quot;));\n            e.getIn().setBody(map);\n        })\n        .split(body(), new GroupedBodyAggregationStrategy())\n        .setBody(simple(&quot;${body.value}&quot;))\n        .split(body(), new GroupedBodyAggregationStrategy())\n        .log(&quot;${body}&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659550996,"creation_date":1659550996,"answer_id":73226106,"question_id":73225256,"body_markdown":"Sounds like maybe you just want iterate on the map entries:\r\n\r\n```lang-java\r\n.split(simple(&quot;${body.entrySet()}&quot;))\r\n    .log(&quot;${body.key}&quot;) // key is a String\r\n    .log(&quot;${body.value}&quot;) // value is List&lt;String&gt; \r\n```\r\n\r\n","title":"How to split a HashMap in Apache Camel?","body":"<p>Sounds like maybe you just want iterate on the map entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.split(simple(&quot;${body.entrySet()}&quot;))\n    .log(&quot;${body.key}&quot;) // key is a String\n    .log(&quot;${body.value}&quot;) // value is List&lt;String&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5076288,"reputation":27,"user_id":16287503,"display_name":"Mihail Stoyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660891430,"creation_date":1660891430,"answer_id":73412797,"question_id":73225256,"body_markdown":"Camel split EIP does not support maps. You can define your custom splitter bean if you want to iterate over the map, like shown here:\r\nhttps://stackoverflow.com/questions/57810028/can-the-splitter-eip-split-a-hashmap-or-does-it-have-to-be-a-list\r\n","title":"How to split a HashMap in Apache Camel?","body":"<p>Camel split EIP does not support maps. You can define your custom splitter bean if you want to iterate over the map, like shown here:\n<a href=\"https://stackoverflow.com/questions/57810028/can-the-splitter-eip-split-a-hashmap-or-does-it-have-to-be-a-list\">can the Splitter EIP split a HashMap or does it have to be a List</a></p>\n"}],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1660891430,"creation_date":1659546630,"question_id":73225256,"body_markdown":"I have a `Map&lt;String, List&lt;String&gt;&gt;` with size 14. I need to split the map so that I can get 14 maps of 1 size.\r\nI&#39;ve tried the following code, but the split is not working: the size after the split is still 14.\r\n```\r\nfrom(&quot;direct:receive-the-list&quot;)\r\n\t.errorHandler(defaultErrorHandler())\r\n\t.bean(new ListToMapTransformer()) // aggregate list of strings into a Map of strings based on some prefix\r\n    .log(&quot;Size of the body BEFORE SPLIT: ${body.size}&quot;);\t\r\n    .split(body())\r\n    .log(&quot;Size of the body AFTER SPLIT: ${body.size}&quot;);\r\n```\r\n\r\nDoes anyone know how I can get it to work?","title":"How to split a HashMap in Apache Camel?","body":"<p>I have a <code>Map&lt;String, List&lt;String&gt;&gt;</code> with size 14. I need to split the map so that I can get 14 maps of 1 size.\nI've tried the following code, but the split is not working: the size after the split is still 14.</p>\n<pre><code>from(&quot;direct:receive-the-list&quot;)\n    .errorHandler(defaultErrorHandler())\n    .bean(new ListToMapTransformer()) // aggregate list of strings into a Map of strings based on some prefix\n    .log(&quot;Size of the body BEFORE SPLIT: ${body.size}&quot;);    \n    .split(body())\n    .log(&quot;Size of the body AFTER SPLIT: ${body.size}&quot;);\n</code></pre>\n<p>Does anyone know how I can get it to work?</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586947503,"creation_date":1551179119,"answer_id":54884088,"question_id":54782690,"body_markdown":"The `ListPreparedStatementSetter` is not aware of parameters types. If a parameter is an array or a collection, it will set it as is to the first placeholder, leaving other placeholders unset. Hence the error. In your example, if `List&lt;Long&gt; keys = Arrays.asList(1, 2)`, your sql statement will be:\r\n\r\n    SELECT A FROM MYTABLE WHERE KEY IN (?, ?)\r\n\r\nIf you pass your `singletonMap` to the `ListPreparedStatementSetter`, it will set the value of `keys` (which is of type `List`) to the first placeholder and that&#39;s it. The second placeholder will still be unset and the preparation of the statement will fail.\r\n\r\nYou can flatten parameters before passing them to the `ListPreparedStatementSetter` and it should work fine. I added a sample with how to flatten parameters before passing them to the prepared statement setter [here](https://github.com/benas/spring-batch-lab/blob/master/issues/batch2521/src/test/java/com/example/demo/NamedParametersJdbcCursorItemReaderAsListTest.java) (See `flatten` method).\r\n\r\nHope this helps.","title":"Using SpringBatch JdbcCursorItemReader with List as NamedParameters","body":"<p>The <code>ListPreparedStatementSetter</code> is not aware of parameters types. If a parameter is an array or a collection, it will set it as is to the first placeholder, leaving other placeholders unset. Hence the error. In your example, if <code>List&lt;Long&gt; keys = Arrays.asList(1, 2)</code>, your sql statement will be:</p>\n\n<pre><code>SELECT A FROM MYTABLE WHERE KEY IN (?, ?)\n</code></pre>\n\n<p>If you pass your <code>singletonMap</code> to the <code>ListPreparedStatementSetter</code>, it will set the value of <code>keys</code> (which is of type <code>List</code>) to the first placeholder and that's it. The second placeholder will still be unset and the preparation of the statement will fail.</p>\n\n<p>You can flatten parameters before passing them to the <code>ListPreparedStatementSetter</code> and it should work fine. I added a sample with how to flatten parameters before passing them to the prepared statement setter <a href=\"https://github.com/benas/spring-batch-lab/blob/master/issues/batch2521/src/test/java/com/example/demo/NamedParametersJdbcCursorItemReaderAsListTest.java\" rel=\"nofollow noreferrer\">here</a> (See <code>flatten</code> method).</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":2252370,"reputation":457,"user_id":1984342,"display_name":"Neeraj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54884088,"answer_count":1,"score":0,"last_activity_date":1660890688,"creation_date":1550654250,"question_id":54782690,"body_markdown":"I am using below bean definition to configure a reader to read some data from the database table in a Spring Batch project. It is using a named param in SQL. I am passing A java.util.List as a parameter. However, I am getting Invalid Column type error when it tries to run the SQL.\r\n\r\nIf I just hard code one single value (`namedParameters.put(&quot;keys&quot;, &quot;138219&quot;); `) instead of passing a list, it works.\r\n\r\n   \r\n    @Bean\r\n    public JdbcCursorItemReader&lt;MyDTO&gt; myReader() {\r\n    JdbcCursorItemReader&lt;MyDTO&gt; itemReader = new JdbcCursorItemReader&lt;&gt;();\r\n    itemReader.setDataSource(myDatasource);\r\n\titemReader.setRowMapper(return new RowMapper&lt;MyDTO&gt;() {\r\n\t    @Override\r\n\t    public MyDTO mapRow(ResultSet resultSet, int rowNum) throws SQLException {\r\n\t\t   return toMyDto(resultSet);\r\n\t    }\r\n\t};);\r\n\r\n\r\n    Map&lt;String, Object&gt; namedParameters = new HashMap&lt;&gt;();\r\n    List&lt;Long&gt; keys= //Some List\r\n    Map&lt;String, List&lt;Long&gt;&gt; singletonMap = Collections.singletonMap(&quot;keys&quot;, keys);\r\n    namedParameters.putAll(singletonMap);\r\n\r\n    itemReader.setSql(NamedParameterUtils.substituteNamedParameters(&quot;SELECT A FROM MYTABLE WHERE KEY IN (:keys)&quot;,new MapSqlParameterSource(namedParameters)));\r\n\r\n    ListPreparedStatementSetter listPreparedStatementSetter = new ListPreparedStatementSetter();\r\n\tlistPreparedStatementSetter.setParameters(\r\n\t\tArrays.asList(NamedParameterUtils.buildValueArray(&quot;SELECT A FROM MYTABLE WHERE KEY IN (:keys)&quot;, namedParameters)));\r\n\r\n    itemReader.setPreparedStatementSetter(listPreparedStatementSetter);\r\n    return itemReader;\r\n    }\r\n\r\n\r\nI referred [sample code snippet here][1] as a response to one of the [questions][2] asked - it is what seems to be working when we pass one value. However, my issue is with passing a list instead of one value in the param. This is where it seems to fail. \r\n\r\n\r\n  [1]: https://github.com/benas/sandbox/blob/master/batch2521/src/test/java/com/example/demo/NamedParametersJdbcCursorItemReaderTest.java\r\n  [2]: https://stackoverflow.com/questions/23222353/using-spring-batch-jdbccursoritemreader-with-namedparameters","title":"Using SpringBatch JdbcCursorItemReader with List as NamedParameters","body":"<p>I am using below bean definition to configure a reader to read some data from the database table in a Spring Batch project. It is using a named param in SQL. I am passing A java.util.List as a parameter. However, I am getting Invalid Column type error when it tries to run the SQL.</p>\n<p>If I just hard code one single value (<code>namedParameters.put(&quot;keys&quot;, &quot;138219&quot;); </code>) instead of passing a list, it works.</p>\n<pre><code>@Bean\npublic JdbcCursorItemReader&lt;MyDTO&gt; myReader() {\nJdbcCursorItemReader&lt;MyDTO&gt; itemReader = new JdbcCursorItemReader&lt;&gt;();\nitemReader.setDataSource(myDatasource);\nitemReader.setRowMapper(return new RowMapper&lt;MyDTO&gt;() {\n    @Override\n    public MyDTO mapRow(ResultSet resultSet, int rowNum) throws SQLException {\n       return toMyDto(resultSet);\n    }\n};);\n\n\nMap&lt;String, Object&gt; namedParameters = new HashMap&lt;&gt;();\nList&lt;Long&gt; keys= //Some List\nMap&lt;String, List&lt;Long&gt;&gt; singletonMap = Collections.singletonMap(&quot;keys&quot;, keys);\nnamedParameters.putAll(singletonMap);\n\nitemReader.setSql(NamedParameterUtils.substituteNamedParameters(&quot;SELECT A FROM MYTABLE WHERE KEY IN (:keys)&quot;,new MapSqlParameterSource(namedParameters)));\n\nListPreparedStatementSetter listPreparedStatementSetter = new ListPreparedStatementSetter();\nlistPreparedStatementSetter.setParameters(\n    Arrays.asList(NamedParameterUtils.buildValueArray(&quot;SELECT A FROM MYTABLE WHERE KEY IN (:keys)&quot;, namedParameters)));\n\nitemReader.setPreparedStatementSetter(listPreparedStatementSetter);\nreturn itemReader;\n}\n</code></pre>\n<p>I referred <a href=\"https://github.com/benas/sandbox/blob/master/batch2521/src/test/java/com/example/demo/NamedParametersJdbcCursorItemReaderTest.java\" rel=\"nofollow noreferrer\">sample code snippet here</a> as a response to one of the <a href=\"https://stackoverflow.com/questions/23222353/using-spring-batch-jdbccursoritemreader-with-namedparameters\">questions</a> asked - it is what seems to be working when we pass one value. However, my issue is with passing a list instead of one value in the param. This is where it seems to fail.</p>\n"},{"tags":["java","generics","callback"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":4,"creation_date":1362614450,"post_id":15260596,"comment_id":21524883,"body_markdown":"Erm, how about `Observer` http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html and `Observable` http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html","body":"Erm, how about <code>Observer</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Observer.html</a> and <code>Observable</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Observable.html</a>"},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1362616878,"post_id":15260596,"comment_id":21525748,"body_markdown":"&quot;The ID would be needed for cases of overriden hashCode() methods so that the callee identifies the caller.&quot; I don&#39;t get this part","body":"&quot;The ID would be needed for cases of overriden hashCode() methods so that the callee identifies the caller.&quot; I don&#39;t get this part"},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1362617533,"post_id":15260596,"comment_id":21525954,"body_markdown":"If you have an &quot;observable&quot; object with a hashCode() method that changes its return value based on the object state, and you keep track of all the observable objects in a HashMap (e.g., to be able to assert when all these objects have finished executing), then you cannot match any tracked observable.","body":"If you have an &quot;observable&quot; object with a hashCode() method that changes its return value based on the object state, and you keep track of all the observable objects in a HashMap (e.g., to be able to assert when all these objects have finished executing), then you cannot match any tracked observable."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1362620530,"post_id":15260596,"comment_id":21526677,"body_markdown":"It&#39;s better to use specific, meaningful types rather than general, meaningless types.","body":"It&#39;s better to use specific, meaningful types rather than general, meaningless types."}],"answers":[{"tags":[],"owner":{"account_id":96329,"reputation":341,"user_id":2138004,"display_name":"lemil77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362615039,"creation_date":1362615039,"answer_id":15260723,"question_id":15260596,"body_markdown":"looks like you want to implement the Observer pattern. In [this url](http://javarevisited.blogspot.com.ar/2011/12/observer-design-pattern-java-example.html) is a complete implementation for the observer pattern in Java. In your case the observer will be the callback.\r\n\r\nAlso If you need to implement something more complex, you will end up doing an event/notifier pattern. Take a look at this other pattern [here](http://www.marco.panizza.name/dispenseTM/slides/exerc/eventNotifier/eventNotifier.html).\r\n\r\nThanks,\r\n@leo.","title":"Generic callback in Java","body":"<p>looks like you want to implement the Observer pattern. In <a href=\"http://javarevisited.blogspot.com.ar/2011/12/observer-design-pattern-java-example.html\" rel=\"nofollow\">this url</a> is a complete implementation for the observer pattern in Java. In your case the observer will be the callback.</p>\n\n<p>Also If you need to implement something more complex, you will end up doing an event/notifier pattern. Take a look at this other pattern <a href=\"http://www.marco.panizza.name/dispenseTM/slides/exerc/eventNotifier/eventNotifier.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>Thanks,\n@leo.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1362616618,"creation_date":1362616618,"answer_id":15260988,"question_id":15260596,"body_markdown":"I would genericize the callback, based upon the type of Object passed.  This is particularly useful for EventListeners listening for different classes of events.  e.g.\r\n\r\n    public interface Callback&lt;T&gt; {\r\n       public void callback(T t);\r\n    }\r\n\r\nYou *may* be able to use the type T as the key in a Map.  Of course, if you want to differentiate between two callbacks that take the same argument, like a String, then you&#39;d need something like your `getID()`.\r\n\r\n[Here my old blog about using this for Event Listeners][1]  The interface [Events.Listener&lt;T&gt;][2] corresponds to `Callback&lt;T&gt;` above.  And [Broadcasters][3] uses a Map to keep track of multiple listeners based upon the class they accept as the argument.\r\n\r\n\r\n  [1]: http://flyingspaniel.blogspot.com/2012/07/java-event-handling-revisited.html\r\n  [2]: https://www.assembla.com/code/hastur/subversion/nodes/trunk/Hastur_A22/src/com/flyingspaniel/event/Events.java\r\n  [3]: https://www.assembla.com/code/hastur/subversion/nodes/trunk/Hastur_A22/src/com/flyingspaniel/event/Broadcasters.java","title":"Generic callback in Java","body":"<p>I would genericize the callback, based upon the type of Object passed.  This is particularly useful for EventListeners listening for different classes of events.  e.g.</p>\n\n<pre><code>public interface Callback&lt;T&gt; {\n   public void callback(T t);\n}\n</code></pre>\n\n<p>You <em>may</em> be able to use the type T as the key in a Map.  Of course, if you want to differentiate between two callbacks that take the same argument, like a String, then you'd need something like your <code>getID()</code>.</p>\n\n<p><a href=\"http://flyingspaniel.blogspot.com/2012/07/java-event-handling-revisited.html\">Here my old blog about using this for Event Listeners</a>  The interface <a href=\"https://www.assembla.com/code/hastur/subversion/nodes/trunk/Hastur_A22/src/com/flyingspaniel/event/Events.java\">Events.Listener</a> corresponds to <code>Callback&lt;T&gt;</code> above.  And <a href=\"https://www.assembla.com/code/hastur/subversion/nodes/trunk/Hastur_A22/src/com/flyingspaniel/event/Broadcasters.java\">Broadcasters</a> uses a Map to keep track of multiple listeners based upon the class they accept as the argument.</p>\n"},{"tags":[],"owner":{"account_id":369271,"reputation":98,"user_id":716552,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1362620470,"creation_date":1362617137,"answer_id":15261075,"question_id":15260596,"body_markdown":"I&#39;d recommend using **Observer pattern** since the Observer pattern is the gold standard in decoupling - the separation of objects that depend on each other.\r\n\r\nBut I&#39;d recommend avoiding using the **Java.util.Observable class** if you are looking for a generic callback mechanism. Because Observable has a couple of weaknesses: it&#39;s not an interface, and forces you to use Object to represent events.\r\n\r\nYou can define your own event listener like this:\r\n\r\n    public class MyEvent extends EventObject {\r\n        public MyEvent(Object source) {\r\n            super(source);\r\n        }\r\n    }\r\n\r\n    public interface MyEventListener {\r\n        void handleEvent(EventObject event);\r\n    }\r\n\r\n    public class MyEventSource {\r\n        private final List&lt;MyEventListener&gt; listeners;\r\n        public MyEventSource() {\r\n            listeners = new CopyOnWriteArrayList&lt;MyEventListener&gt;();\r\n        }\r\n        public void addMyEventListener(MyEventListener listener) {\r\n            listeners.add(listener);\r\n        }\r\n        public void removeMyEventListener(MyEventListener listener) {\r\n            listeners.remove(listener);\r\n        }\r\n        void fireEvent() {\r\n            MyEvent event = new MyEvent(this);\r\n            for (MyEventListener listener : listeners) {\r\n                listener.handleEvent(event);\r\n            }\r\n        }\r\n    }\r\n","title":"Generic callback in Java","body":"<p>I'd recommend using <strong>Observer pattern</strong> since the Observer pattern is the gold standard in decoupling - the separation of objects that depend on each other.</p>\n\n<p>But I'd recommend avoiding using the <strong>Java.util.Observable class</strong> if you are looking for a generic callback mechanism. Because Observable has a couple of weaknesses: it's not an interface, and forces you to use Object to represent events.</p>\n\n<p>You can define your own event listener like this:</p>\n\n<pre><code>public class MyEvent extends EventObject {\n    public MyEvent(Object source) {\n        super(source);\n    }\n}\n\npublic interface MyEventListener {\n    void handleEvent(EventObject event);\n}\n\npublic class MyEventSource {\n    private final List&lt;MyEventListener&gt; listeners;\n    public MyEventSource() {\n        listeners = new CopyOnWriteArrayList&lt;MyEventListener&gt;();\n    }\n    public void addMyEventListener(MyEventListener listener) {\n        listeners.add(listener);\n    }\n    public void removeMyEventListener(MyEventListener listener) {\n        listeners.remove(listener);\n    }\n    void fireEvent() {\n        MyEvent event = new MyEvent(this);\n        for (MyEventListener listener : listeners) {\n            listener.handleEvent(event);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660890516,"creation_date":1660890516,"answer_id":73412652,"question_id":15260596,"body_markdown":"Callbacks in Java8 can now be done with the [java.util.function][1] package.\r\n\r\nSee https://stackoverflow.com/q/29945627/418057 for more information.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html","title":"Generic callback in Java","body":"<p>Callbacks in Java8 can now be done with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">java.util.function</a> package.</p>\n<p>See <a href=\"https://stackoverflow.com/q/29945627/418057\">Java 8 lambda Void argument</a> for more information.</p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19694,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15261075,"answer_count":4,"score":4,"last_activity_date":1660890516,"creation_date":1362614335,"question_id":15260596,"body_markdown":"What should be the preferable `Java` interface or similar pattern that could be used as a **generic callback mechanism**?\r\n\r\nFor example it could be something like\r\n\r\n    public interface GenericCallback\r\n    {\r\n    \tpublic String getID();\r\n    \tpublic void callback(Object notification);\r\n    \t// or public void callback(String id, Object notification);\r\n    }\r\n\r\nThe ID would be needed for cases of overriden `hashCode()` methods so that the callee identifies the caller.\r\n\r\nA pattern like the above is useful for objects that needs to report back to the class they were spawned from a condition (e.g., end of processing).\r\n\r\nIn this scenario, the &quot;parent&quot; class would use the `getID()` method of each of these `GenericCallback` objects to keep a track of them in a `Map&lt;String, GenericCallable&gt;` and add or remove them according to the notification received.\r\n\r\nAlso, how should such an interface be actually named?\r\n\r\nMany people seem to prefer the [Java Observer pattern][1], but the [Observable class][2] defined there is not convenient, since it not an interface to circumvent single inheritance and it carries more functionality than actually needed in the above, simple scenario.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html","title":"Generic callback in Java","body":"<p>What should be the preferable <code>Java</code> interface or similar pattern that could be used as a <strong>generic callback mechanism</strong>?</p>\n\n<p>For example it could be something like</p>\n\n<pre><code>public interface GenericCallback\n{\n    public String getID();\n    public void callback(Object notification);\n    // or public void callback(String id, Object notification);\n}\n</code></pre>\n\n<p>The ID would be needed for cases of overriden <code>hashCode()</code> methods so that the callee identifies the caller.</p>\n\n<p>A pattern like the above is useful for objects that needs to report back to the class they were spawned from a condition (e.g., end of processing).</p>\n\n<p>In this scenario, the \"parent\" class would use the <code>getID()</code> method of each of these <code>GenericCallback</code> objects to keep a track of them in a <code>Map&lt;String, GenericCallable&gt;</code> and add or remove them according to the notification received.</p>\n\n<p>Also, how should such an interface be actually named?</p>\n\n<p>Many people seem to prefer the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\" rel=\"nofollow\">Java Observer pattern</a>, but the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow\">Observable class</a> defined there is not convenient, since it not an interface to circumvent single inheritance and it carries more functionality than actually needed in the above, simple scenario.</p>\n"},{"tags":["java","c++","spring-boot","yaml","metaprogramming"],"owner":{"account_id":15424529,"reputation":474,"user_id":11127623,"display_name":"Guilty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660890266,"creation_date":1660839418,"question_id":73406418,"body_markdown":"I used to work with the Java framework spring boot which has this neat functionality where\r\nyou can have an yaml file like this:\r\n```\r\nconfig:\r\n  example_int: 17\r\n```\r\nAnd a java class like this:\r\n```\r\npublic class Config {\r\n  int example_int;\r\n  config(example_int) {\r\n    this.example_int = example_int;\r\n  }\r\n}\r\n```\r\nThe framework would then (if I remember correctly) inject into the runtime\r\nan instance of class `Config` with `example_int` data member initialized to 17.\r\n\r\nI&#39;m looking to implement a similar functionality in C++\r\ni.e. parse a yaml file and then construct a c++ object based on the files contents.\r\n\r\nWhile (I think) Spring uses runtime injection I think I could do this via meta programming to\r\nreduce complexity.\r\nTLDR:\r\n  1. Parse yaml with C++\r\n  2. Based on yaml configs inject an object into the runtime, or generate code via \r\n     metaprogramming, which has the characteristics defined in the yaml file.","title":"C++ Representing Objects in a YAML file","body":"<p>I used to work with the Java framework spring boot which has this neat functionality where\nyou can have an yaml file like this:</p>\n<pre><code>config:\n  example_int: 17\n</code></pre>\n<p>And a java class like this:</p>\n<pre><code>public class Config {\n  int example_int;\n  config(example_int) {\n    this.example_int = example_int;\n  }\n}\n</code></pre>\n<p>The framework would then (if I remember correctly) inject into the runtime\nan instance of class <code>Config</code> with <code>example_int</code> data member initialized to 17.</p>\n<p>I'm looking to implement a similar functionality in C++\ni.e. parse a yaml file and then construct a c++ object based on the files contents.</p>\n<p>While (I think) Spring uses runtime injection I think I could do this via meta programming to\nreduce complexity.\nTLDR:</p>\n<ol>\n<li>Parse yaml with C++</li>\n<li>Based on yaml configs inject an object into the runtime, or generate code via\nmetaprogramming, which has the characteristics defined in the yaml file.</li>\n</ol>\n"},{"tags":["java","android","android-studio","internationalization","android-locale"],"comments":[{"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"score":0,"creation_date":1660889553,"post_id":73412211,"comment_id":129644474,"body_markdown":"can you add screenshot your resource folder? and do you used values-hu folder for Hungarian language strings.xml?","body":"can you add screenshot your resource folder? and do you used values-hu folder for Hungarian language strings.xml?"},{"owner":{"account_id":18416481,"reputation":51,"user_id":13415221,"display_name":"chutwik"},"score":0,"creation_date":1660890100,"post_id":73412211,"comment_id":129644591,"body_markdown":"Hi @RajasekaranM thank you for responding. Please find the screenshot of the res directory in the post.","body":"Hi @RajasekaranM thank you for responding. Please find the screenshot of the res directory in the post."},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1660891568,"post_id":73412211,"comment_id":129644985,"body_markdown":"You can get names of month and days of the week programmatically","body":"You can get names of month and days of the week programmatically"},{"owner":{"account_id":18416481,"reputation":51,"user_id":13415221,"display_name":"chutwik"},"score":0,"creation_date":1660893538,"post_id":73412211,"comment_id":129645534,"body_markdown":"In Hungarian Language?.. I don&#39;t know that @Style-7. Could you please help me with an example as to how we can do that?","body":"In Hungarian Language?.. I don&#39;t know that @Style-7. Could you please help me with an example as to how we can do that?"},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1660898630,"post_id":73412211,"comment_id":129647152,"body_markdown":"sure, any language, see SimpleDateFormat","body":"sure, any language, see SimpleDateFormat"}],"owner":{"account_id":18416481,"reputation":51,"user_id":13415221,"display_name":"chutwik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660890041,"creation_date":1660887136,"question_id":73412211,"body_markdown":"I am facing a weird issue where there are only few strings appearing in english when the locale is set to hungary. This is happening on very few devices of various OS versions. \r\n\r\nHere are few devices I&#39;ve tried on: \r\n\r\nOne Plus 8 running Android 12 (works perfectly fine)\r\nGoogle Pixel 5 running Android 12 (works well)\r\nGalaxy S10 running Android 12 (date strings appear in english when locale is HU)\r\nOne Plus 5t running Android 10 (date strings appear in english when locale is HU)\r\nanother One Plus 5t running Android 10 (works well)\r\n\r\nand emulators of various android versions shows all the strings the way it should. i.e. all strings appear in hungary.\r\n\r\nHere&#39;s the code:\r\n\r\n**strings.xml:**\r\n   ``` \r\n&lt;string-array name=&quot;months_name&quot;&gt;\r\n        &lt;item&gt;Jan&lt;/item&gt;\r\n        &lt;item&gt;Feb&lt;/item&gt;\r\n        &lt;item&gt;Mar&lt;/item&gt;\r\n        &lt;item&gt;Apr&lt;/item&gt;\r\n        &lt;item&gt;May&lt;/item&gt;\r\n        &lt;item&gt;Jun&lt;/item&gt;\r\n        &lt;item&gt;Jul&lt;/item&gt;\r\n        &lt;item&gt;Aug&lt;/item&gt;\r\n        &lt;item&gt;Sep&lt;/item&gt;\r\n        &lt;item&gt;Oct&lt;/item&gt;\r\n        &lt;item&gt;Nov&lt;/item&gt;\r\n        &lt;item&gt;Dec&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    &lt;string-array name=&quot;full_months_name&quot;&gt;\r\n        &lt;item&gt;January&lt;/item&gt;\r\n        &lt;item&gt;February&lt;/item&gt;\r\n        &lt;item&gt;March&lt;/item&gt;\r\n        &lt;item&gt;April&lt;/item&gt;\r\n        &lt;item&gt;May&lt;/item&gt;\r\n        &lt;item&gt;June&lt;/item&gt;\r\n        &lt;item&gt;July&lt;/item&gt;\r\n        &lt;item&gt;August&lt;/item&gt;\r\n        &lt;item&gt;September&lt;/item&gt;\r\n        &lt;item&gt;October&lt;/item&gt;\r\n        &lt;item&gt;November&lt;/item&gt;\r\n        &lt;item&gt;December&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n&lt;string name=&quot;st&quot;&gt;st&lt;/string&gt;\r\n    &lt;string name=&quot;nd&quot;&gt;nd&lt;/string&gt;\r\n    &lt;string name=&quot;rd&quot;&gt;rd&lt;/string&gt;\r\n    &lt;string name=&quot;th&quot;&gt;th&lt;/string&gt;\r\n\r\n```\r\n**strings-hu.xml:**\r\n```\r\n &lt;string-array name=&quot;months_name&quot;&gt;\r\n        &lt;item&gt;Jan&lt;/item&gt;\r\n        &lt;item&gt;Febr&lt;/item&gt;\r\n        &lt;item&gt;M&#225;rc&lt;/item&gt;\r\n        &lt;item&gt;&#193;pr&lt;/item&gt;\r\n        &lt;item&gt;M&#225;j&lt;/item&gt;\r\n        &lt;item&gt;J&#250;n&lt;/item&gt;\r\n        &lt;item&gt;J&#250;l&lt;/item&gt;\r\n        &lt;item&gt;Aug&lt;/item&gt;\r\n        &lt;item&gt;Szept&lt;/item&gt;\r\n        &lt;item&gt;Okt&lt;/item&gt;\r\n        &lt;item&gt;Nov&lt;/item&gt;\r\n        &lt;item&gt;Dec&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    &lt;string-array name=&quot;full_months_name&quot;&gt;\r\n        &lt;item&gt;janu&#225;r&lt;/item&gt;\r\n        &lt;item&gt;febru&#225;r&lt;/item&gt;\r\n        &lt;item&gt;m&#225;rcius&lt;/item&gt;\r\n        &lt;item&gt;&#225;prilis&lt;/item&gt;\r\n        &lt;item&gt;Lehet&lt;/item&gt;\r\n        &lt;item&gt;j&#250;nius&lt;/item&gt;\r\n        &lt;item&gt;j&#250;lius&lt;/item&gt;\r\n        &lt;item&gt;augusztus&lt;/item&gt;\r\n        &lt;item&gt;szeptember&lt;/item&gt;\r\n        &lt;item&gt;okt&#243;ber&lt;/item&gt;\r\n        &lt;item&gt;November&lt;/item&gt;\r\n        &lt;item&gt;December&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    \r\n    \r\n    &lt;string name=&quot;st&quot;&gt;&lt;/string&gt;\r\n    &lt;string name=&quot;nd&quot;&gt;&lt;/string&gt;\r\n    &lt;string name=&quot;rd&quot;&gt;&lt;/string&gt;\r\n    &lt;string name=&quot;th&quot;&gt;&lt;/string&gt;\r\n```\r\n\r\n**DateFormatter.java:**\r\n```\r\npackage app.util;\r\n\r\nimport android.content.Context;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Locale;\r\n\r\npublic class DateFormatter {\r\n\r\n\tprivate static Integer date;\r\n\tprivate static Integer month;\r\n\tprivate static Integer year;\r\n\tprivate static String[] monthArray;\r\n\tprivate static String[] shortMonthArray;\r\n\r\n\tpublic static String formatDate(long milliseconds, Context context) {\r\n\t\tinit(milliseconds, context);\r\n\r\n\t\tif (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\treturn getDateString(date, context) + &quot; &quot; + getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(year);\r\n\t\t} else {\r\n\t\t\treturn numberFormatBasedOnLanguage(year) + &quot; &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String formatDateMonthAndYear(long milliseconds, Context context) {\r\n\t\tinit(milliseconds, context);\r\n\r\n\t\tif (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\treturn getDateString(date, context) + &quot;-&quot; + getMonth(month, true) + &quot;-&quot; + numberFormatBasedOnLanguage(year);\r\n\t\t} else {\r\n\t\t\treturn numberFormatBasedOnLanguage(year) + &quot;. &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic static String formatDateAndMonth(long milliseconds, Context context,\r\n\t\t\tboolean suffixRequired) {\r\n\t\tinit(milliseconds, context);\r\n\t\tif (suffixRequired) {\r\n\t\t\tif (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\t\treturn getDateString(date, context) + &quot; &quot; + getMonth(month, true);\r\n\t\t\t} else {\r\n\t\t\t\treturn  getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(date);\r\n\t\t\t}\r\n\t\t} else if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\treturn numberFormatBasedOnLanguage(date) + &quot; &quot; + getMonth(month, true);\r\n\t\t} else {\r\n\t\t\treturn getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(date);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String formatToDDMMMY(long milliseconds, Context context) {\r\n\t\tinit(milliseconds, context);\r\n\r\n\t\tif (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\treturn numberFormatBasedOnLanguage(date) + &quot; &quot; + getMonth(month, false) + &quot; &quot; + numberFormatBasedOnLanguage(year);\r\n\t\t} else {\r\n\t\t\treturn numberFormatBasedOnLanguage(year) + &quot;. &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String formatToDDMMMYYYY(long milliseconds, Context context) {\r\n\t\tinit(milliseconds, context);\r\n\t\treturn numberFormatBasedOnLanguage(date) + &quot;-&quot;\r\n\t\t\t\t+ (getMonth(month, false)).toUpperCase(Constants.LANGUAGE)\r\n\t\t\t\t+ &quot;-&quot; + numberFormatBasedOnLanguage(year);\r\n\t}\r\n\tpublic static String numberFormatBasedOnLanguage(long value){\r\n\t\tif(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\r\n\t\t\tNumberFormat nf= NumberFormat.getInstance(new Locale(Locale.getDefault().getLanguage()));\r\n\t\t\tnf.setGroupingUsed(false);\r\n\t\t\treturn nf.format(value);\r\n\t\t}else{\r\n\t\t\treturn &quot;&quot;+value;\r\n\t\t}\r\n\t}\r\n\tpublic static String numberFormatBasedOnLanguage(String value){\r\n\t\tif(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\r\n\t\tNumberFormat nf= NumberFormat.getInstance(new Locale(Locale.getDefault().getLanguage()));\r\n\t\t\tnf.setGroupingUsed(false);\r\n\t\treturn nf.format(Integer.parseInt(value));\r\n\t\t}else{\r\n\t\t\treturn &quot;&quot;+value;\r\n\t\t}\r\n\t}\r\n\tpublic static String numberFormatGlobalBasedOn(String value){\r\n\t\tif(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\r\n\t\t\tNumberFormat nf= NumberFormat.getInstance(new Locale(Constants.GLOBAL));\r\n\t\t\tnf.setGroupingUsed(false);\r\n\t\t\treturn nf.format(Integer.parseInt(value));\r\n\t\t}else{\r\n\t\t\treturn &quot;&quot;+value;\r\n\t\t}\r\n\t}\r\n\tprivate static void init(long milliseconds, Context context) {\r\n\t\tmonthArray = context.getResources().getStringArray(\r\n\t\t\t\tR.array.full_months_name);\r\n\t\tshortMonthArray = context.getResources().getStringArray(\r\n\t\t\t\tR.array.months_name);\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.setTimeInMillis(milliseconds);\r\n\t\tdate = cal.get(Calendar.DATE);\r\n\t\tmonth = cal.get(Calendar.MONTH);\r\n\t\tyear = cal.get(Calendar.YEAR);\r\n\t\tLog.d(&quot;DateFormatter&quot;, &quot;date:&quot; + date + &quot; month:&quot; + month + &quot; year&quot;\r\n\t\t\t\t+ year);\r\n\t}\r\n\r\n\tprivate static String getDateString(Integer date, Context context) {\r\n\t\tString extension = &quot;&quot;;\r\n\t\tif (BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\r\n\t\t\treturn DateFormatter.numberFormatBasedOnLanguage(date) + extension;\r\n\t\t}\r\n\t\tif (date == 1 || date == 21 || date == 31) {\r\n\t\t\textension = context.getString(R.string.st);\r\n\t\t} else if (date == 2 || date == 22) {\r\n\t\t\textension = context.getString(R.string.nd);\r\n\t\t} else if (date == 3 || date == 23) {\r\n\t\t\textension = context.getString(R.string.rd);\r\n\t\t} else if (date == 4 || (date &gt; 4 &amp;&amp; date &lt; 21)\r\n\t\t\t\t|| (date &gt; 23 &amp;&amp; date &lt; 31)) {\r\n\t\t\textension = context.getString(R.string.th);\r\n\t\t}\r\n\t\treturn DateFormatter.numberFormatBasedOnLanguage(date) + extension;\r\n\t}\r\n\r\n\tprivate static String getMonth(Integer month, boolean fullMonth) {\r\n\t\tif (fullMonth) {\r\n\t\t\treturn monthArray[month];\r\n\t\t}\r\n\t\treturn shortMonthArray[month];\r\n\t}\r\n}\r\n\r\n```\r\nHere we&#39;re setting the language for the whole application:\r\n\r\n**SplashScreenActivity.java:**\r\n```\r\n\t/**\r\n\t * This method is to set the locale language.\r\n\t */\r\n\tprivate void setLocale(String language) {\r\n\t\tLocale locale = new Locale(language);\r\n\t\tLocale.setDefault(locale);\r\n\t\tConfiguration config = new Configuration();\r\n\t\tconfig.locale = locale;\r\n\t\tgetBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\r\n\t}\r\n\r\n```\r\n\r\nThe above code works perfect in most of the devices. But on few devices it fails to show the date in hungarian language. It&#39;s happening on various android OS versions, so I&#39;m not able to pinpoint where exactly the problem is.\r\n\r\nAlso, I&#39;ve tried setting the device language to hungarian language but still the date appears in english in spite of that.\r\n\r\nCan anyone please help me with this problem?\r\n\r\nScreenshot of res folder:\r\n\r\n[res folder][1]\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A8dfP.png","title":"only few localisation strings not working on few android devices","body":"<p>I am facing a weird issue where there are only few strings appearing in english when the locale is set to hungary. This is happening on very few devices of various OS versions.</p>\n<p>Here are few devices I've tried on:</p>\n<p>One Plus 8 running Android 12 (works perfectly fine)\nGoogle Pixel 5 running Android 12 (works well)\nGalaxy S10 running Android 12 (date strings appear in english when locale is HU)\nOne Plus 5t running Android 10 (date strings appear in english when locale is HU)\nanother One Plus 5t running Android 10 (works well)</p>\n<p>and emulators of various android versions shows all the strings the way it should. i.e. all strings appear in hungary.</p>\n<p>Here's the code:</p>\n<p><strong>strings.xml:</strong></p>\n<pre><code>&lt;string-array name=&quot;months_name&quot;&gt;\n     &lt;item&gt;Jan&lt;/item&gt;\n     &lt;item&gt;Feb&lt;/item&gt;\n     &lt;item&gt;Mar&lt;/item&gt;\n     &lt;item&gt;Apr&lt;/item&gt;\n     &lt;item&gt;May&lt;/item&gt;\n     &lt;item&gt;Jun&lt;/item&gt;\n     &lt;item&gt;Jul&lt;/item&gt;\n     &lt;item&gt;Aug&lt;/item&gt;\n     &lt;item&gt;Sep&lt;/item&gt;\n     &lt;item&gt;Oct&lt;/item&gt;\n     &lt;item&gt;Nov&lt;/item&gt;\n     &lt;item&gt;Dec&lt;/item&gt;\n &lt;/string-array&gt;\n &lt;string-array name=&quot;full_months_name&quot;&gt;\n     &lt;item&gt;January&lt;/item&gt;\n     &lt;item&gt;February&lt;/item&gt;\n     &lt;item&gt;March&lt;/item&gt;\n     &lt;item&gt;April&lt;/item&gt;\n     &lt;item&gt;May&lt;/item&gt;\n     &lt;item&gt;June&lt;/item&gt;\n     &lt;item&gt;July&lt;/item&gt;\n     &lt;item&gt;August&lt;/item&gt;\n     &lt;item&gt;September&lt;/item&gt;\n     &lt;item&gt;October&lt;/item&gt;\n     &lt;item&gt;November&lt;/item&gt;\n     &lt;item&gt;December&lt;/item&gt;\n &lt;/string-array&gt;\n\n&lt;string name=&quot;st&quot;&gt;st&lt;/string&gt;\n &lt;string name=&quot;nd&quot;&gt;nd&lt;/string&gt;\n &lt;string name=&quot;rd&quot;&gt;rd&lt;/string&gt;\n &lt;string name=&quot;th&quot;&gt;th&lt;/string&gt;\n\n</code></pre>\n<p><strong>strings-hu.xml:</strong></p>\n<pre><code> &lt;string-array name=&quot;months_name&quot;&gt;\n        &lt;item&gt;Jan&lt;/item&gt;\n        &lt;item&gt;Febr&lt;/item&gt;\n        &lt;item&gt;Márc&lt;/item&gt;\n        &lt;item&gt;Ápr&lt;/item&gt;\n        &lt;item&gt;Máj&lt;/item&gt;\n        &lt;item&gt;Jún&lt;/item&gt;\n        &lt;item&gt;Júl&lt;/item&gt;\n        &lt;item&gt;Aug&lt;/item&gt;\n        &lt;item&gt;Szept&lt;/item&gt;\n        &lt;item&gt;Okt&lt;/item&gt;\n        &lt;item&gt;Nov&lt;/item&gt;\n        &lt;item&gt;Dec&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name=&quot;full_months_name&quot;&gt;\n        &lt;item&gt;január&lt;/item&gt;\n        &lt;item&gt;február&lt;/item&gt;\n        &lt;item&gt;március&lt;/item&gt;\n        &lt;item&gt;április&lt;/item&gt;\n        &lt;item&gt;Lehet&lt;/item&gt;\n        &lt;item&gt;június&lt;/item&gt;\n        &lt;item&gt;július&lt;/item&gt;\n        &lt;item&gt;augusztus&lt;/item&gt;\n        &lt;item&gt;szeptember&lt;/item&gt;\n        &lt;item&gt;október&lt;/item&gt;\n        &lt;item&gt;November&lt;/item&gt;\n        &lt;item&gt;December&lt;/item&gt;\n    &lt;/string-array&gt;\n    \n    \n    &lt;string name=&quot;st&quot;&gt;&lt;/string&gt;\n    &lt;string name=&quot;nd&quot;&gt;&lt;/string&gt;\n    &lt;string name=&quot;rd&quot;&gt;&lt;/string&gt;\n    &lt;string name=&quot;th&quot;&gt;&lt;/string&gt;\n</code></pre>\n<p><strong>DateFormatter.java:</strong></p>\n<pre><code>package app.util;\n\nimport android.content.Context;\n\nimport java.text.NumberFormat;\nimport java.util.Calendar;\nimport java.util.Locale;\n\npublic class DateFormatter {\n\n    private static Integer date;\n    private static Integer month;\n    private static Integer year;\n    private static String[] monthArray;\n    private static String[] shortMonthArray;\n\n    public static String formatDate(long milliseconds, Context context) {\n        init(milliseconds, context);\n\n        if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n            return getDateString(date, context) + &quot; &quot; + getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(year);\n        } else {\n            return numberFormatBasedOnLanguage(year) + &quot; &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\n        }\n    }\n\n    public static String formatDateMonthAndYear(long milliseconds, Context context) {\n        init(milliseconds, context);\n\n        if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n            return getDateString(date, context) + &quot;-&quot; + getMonth(month, true) + &quot;-&quot; + numberFormatBasedOnLanguage(year);\n        } else {\n            return numberFormatBasedOnLanguage(year) + &quot;. &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\n        }\n    }\n\n\n    public static String formatDateAndMonth(long milliseconds, Context context,\n            boolean suffixRequired) {\n        init(milliseconds, context);\n        if (suffixRequired) {\n            if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n                return getDateString(date, context) + &quot; &quot; + getMonth(month, true);\n            } else {\n                return  getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(date);\n            }\n        } else if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n            return numberFormatBasedOnLanguage(date) + &quot; &quot; + getMonth(month, true);\n        } else {\n            return getMonth(month, true) + &quot; &quot; + numberFormatBasedOnLanguage(date);\n        }\n    }\n\n    public static String formatToDDMMMY(long milliseconds, Context context) {\n        init(milliseconds, context);\n\n        if (!BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n            return numberFormatBasedOnLanguage(date) + &quot; &quot; + getMonth(month, false) + &quot; &quot; + numberFormatBasedOnLanguage(year);\n        } else {\n            return numberFormatBasedOnLanguage(year) + &quot;. &quot; + getMonth(month, true) + &quot; &quot; + getDateString(date, context);\n        }\n    }\n\n    public static String formatToDDMMMYYYY(long milliseconds, Context context) {\n        init(milliseconds, context);\n        return numberFormatBasedOnLanguage(date) + &quot;-&quot;\n                + (getMonth(month, false)).toUpperCase(Constants.LANGUAGE)\n                + &quot;-&quot; + numberFormatBasedOnLanguage(year);\n    }\n    public static String numberFormatBasedOnLanguage(long value){\n        if(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\n            NumberFormat nf= NumberFormat.getInstance(new Locale(Locale.getDefault().getLanguage()));\n            nf.setGroupingUsed(false);\n            return nf.format(value);\n        }else{\n            return &quot;&quot;+value;\n        }\n    }\n    public static String numberFormatBasedOnLanguage(String value){\n        if(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\n        NumberFormat nf= NumberFormat.getInstance(new Locale(Locale.getDefault().getLanguage()));\n            nf.setGroupingUsed(false);\n        return nf.format(Integer.parseInt(value));\n        }else{\n            return &quot;&quot;+value;\n        }\n    }\n    public static String numberFormatGlobalBasedOn(String value){\n        if(BuildConfig.IS_NUMBER_FORMAT_ENABLED){\n            NumberFormat nf= NumberFormat.getInstance(new Locale(Constants.GLOBAL));\n            nf.setGroupingUsed(false);\n            return nf.format(Integer.parseInt(value));\n        }else{\n            return &quot;&quot;+value;\n        }\n    }\n    private static void init(long milliseconds, Context context) {\n        monthArray = context.getResources().getStringArray(\n                R.array.full_months_name);\n        shortMonthArray = context.getResources().getStringArray(\n                R.array.months_name);\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeInMillis(milliseconds);\n        date = cal.get(Calendar.DATE);\n        month = cal.get(Calendar.MONTH);\n        year = cal.get(Calendar.YEAR);\n        Log.d(&quot;DateFormatter&quot;, &quot;date:&quot; + date + &quot; month:&quot; + month + &quot; year&quot;\n                + year);\n    }\n\n    private static String getDateString(Integer date, Context context) {\n        String extension = &quot;&quot;;\n        if (BuildConfig.FLAVOR.equals(BuildConfig.Flavor_Hungarian)) {\n            return DateFormatter.numberFormatBasedOnLanguage(date) + extension;\n        }\n        if (date == 1 || date == 21 || date == 31) {\n            extension = context.getString(R.string.st);\n        } else if (date == 2 || date == 22) {\n            extension = context.getString(R.string.nd);\n        } else if (date == 3 || date == 23) {\n            extension = context.getString(R.string.rd);\n        } else if (date == 4 || (date &gt; 4 &amp;&amp; date &lt; 21)\n                || (date &gt; 23 &amp;&amp; date &lt; 31)) {\n            extension = context.getString(R.string.th);\n        }\n        return DateFormatter.numberFormatBasedOnLanguage(date) + extension;\n    }\n\n    private static String getMonth(Integer month, boolean fullMonth) {\n        if (fullMonth) {\n            return monthArray[month];\n        }\n        return shortMonthArray[month];\n    }\n}\n\n</code></pre>\n<p>Here we're setting the language for the whole application:</p>\n<p><strong>SplashScreenActivity.java:</strong></p>\n<pre><code>    /**\n     * This method is to set the locale language.\n     */\n    private void setLocale(String language) {\n        Locale locale = new Locale(language);\n        Locale.setDefault(locale);\n        Configuration config = new Configuration();\n        config.locale = locale;\n        getBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\n    }\n\n</code></pre>\n<p>The above code works perfect in most of the devices. But on few devices it fails to show the date in hungarian language. It's happening on various android OS versions, so I'm not able to pinpoint where exactly the problem is.</p>\n<p>Also, I've tried setting the device language to hungarian language but still the date appears in english in spite of that.</p>\n<p>Can anyone please help me with this problem?</p>\n<p>Screenshot of res folder:</p>\n<p><a href=\"https://i.stack.imgur.com/A8dfP.png\" rel=\"nofollow noreferrer\">res folder</a></p>\n<p>Thank you.</p>\n"},{"tags":["java","reflect"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1660889762,"post_id":73412525,"comment_id":129644521,"body_markdown":"You want to find out which method Java would call, given a list of arguments?","body":"You want to find out which method Java would call, given a list of arguments?"},{"owner":{"account_id":20178095,"reputation":1,"user_id":14799256,"display_name":"王志英"},"score":0,"creation_date":1660890883,"post_id":73412525,"comment_id":129644804,"body_markdown":"yes, I want that","body":"yes, I want that"}],"owner":{"account_id":20178095,"reputation":1,"user_id":14799256,"display_name":"王志英"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660889627,"creation_date":1660889627,"question_id":73412525,"body_markdown":"el:\r\ndefined some method such as:\r\n```\r\n  class AClass {\r\n    public void dynamicMethod(String a, String... b) {\r\n      log.info(&quot;dynamic String arg:&quot; + a);\r\n    }\r\n\r\n    public void dynamicMethod(String a, Integer... b) {\r\n      log.info(&quot;dynamic Integer arg:&quot; + a);\r\n    }\r\n\r\n    public void dynamicMethod(String a, Object... b) {\r\n      log.info(&quot;dynamic Object arg:&quot; + a);\r\n    }\r\n  }\r\n```\r\nJVM can execute correctly:\r\n```\r\n    @Test\r\n    public void testDynamicArgs() throws Exception {\r\n        this.dynamicMethod(&quot;String&quot;, &quot;s1&quot;, &quot;s2&quot;);\r\n        this.dynamicMethod(&quot;Integer&quot;, 1, 2);\r\n        this.dynamicMethod(&quot;Object&quot;, &quot;1&quot;, null, 2);\r\n    }\r\n```\r\nconsole:\r\n```\r\ndynamic String arg:String\r\ndynamic Integer arg:Integer\r\ndynamic Object arg:Object\r\n```\r\nso when have class `this.getClass()`,method name `dynamicMethod`,args `&quot;1&quot;, null, 2`;how to determine the right Method.Because arguments maybe contain `null` variable number or even both.Determine the parameter type in turn is not an efficient way.Is there a tool method provided in the JVM or other open source projects.\r\n```\r\n  public Method getMethod(Class&lt;?&gt; clazz, String methodName, Object[] args) {\r\n    // TODO how write there;\r\n  }\r\n```","title":"Method Reflect - When have class,method name and args;how to reflect a method","body":"<p>el:\ndefined some method such as:</p>\n<pre><code>  class AClass {\n    public void dynamicMethod(String a, String... b) {\n      log.info(&quot;dynamic String arg:&quot; + a);\n    }\n\n    public void dynamicMethod(String a, Integer... b) {\n      log.info(&quot;dynamic Integer arg:&quot; + a);\n    }\n\n    public void dynamicMethod(String a, Object... b) {\n      log.info(&quot;dynamic Object arg:&quot; + a);\n    }\n  }\n</code></pre>\n<p>JVM can execute correctly:</p>\n<pre><code>    @Test\n    public void testDynamicArgs() throws Exception {\n        this.dynamicMethod(&quot;String&quot;, &quot;s1&quot;, &quot;s2&quot;);\n        this.dynamicMethod(&quot;Integer&quot;, 1, 2);\n        this.dynamicMethod(&quot;Object&quot;, &quot;1&quot;, null, 2);\n    }\n</code></pre>\n<p>console:</p>\n<pre><code>dynamic String arg:String\ndynamic Integer arg:Integer\ndynamic Object arg:Object\n</code></pre>\n<p>so when have class <code>this.getClass()</code>,method name <code>dynamicMethod</code>,args <code>&quot;1&quot;, null, 2</code>;how to determine the right Method.Because arguments maybe contain <code>null</code> variable number or even both.Determine the parameter type in turn is not an efficient way.Is there a tool method provided in the JVM or other open source projects.</p>\n<pre><code>  public Method getMethod(Class&lt;?&gt; clazz, String methodName, Object[] args) {\n    // TODO how write there;\n  }\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660889548,"creation_date":1660889548,"answer_id":73412516,"question_id":73407788,"body_markdown":"Open the command palette with &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; and select **Java: Clean Java Language Server Workspace**. \r\n\r\nGenerally this will solve your problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/InEBU.png","title":"The language support for Java crashed 5 times on the last 3 minutes","body":"<p>Open the command palette with <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> and select <strong>Java: Clean Java Language Server Workspace</strong>.</p>\n<p>Generally this will solve your problem.</p>\n<p><a href=\"https://i.stack.imgur.com/InEBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/InEBU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660889548,"creation_date":1660846932,"question_id":73407788,"body_markdown":"I&#39;m trying to use the Extension Pack for Java by Microsoft. I have a file called `main.java` that has the following code:\r\n```\r\nclass Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t}\r\n}\r\n```\r\nBut when I open the file in Visual Studio Code, I receive the infamous message &quot;The Language Support for Java server crashed 5 times in the last 3 minutes. The server will not be restarted.&quot;. I checked the logs and this is what in them:\r\n```\r\n{\r\n  message: &quot;Use the JDK from &#39;JAVA_HOME,PATH&#39; as the initial default project JDK.&quot;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:02.759&#39;\r\n}\r\n{\r\n  message: &#39;Starting Java server with: c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\jre\\\\17.0.3-win32-x86_64\\\\bin\\\\java --add-modules=ALL-SYSTEM --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.nio.fs=ALL-UNNAMED -Declipse.application=org.eclipse.jdt.ls.core.id1 -Dosgi.bundles.defaultStartLevel=4 -Declipse.product=org.eclipse.jdt.ls.core.product -Djava.import.generatesMetadataFilesAtProjectRoot=false -Dfile.encoding=utf8 -DwatchParentProcess=false -XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\lombok\\\\lombok-1.18.24.jar -jar c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\server\\\\plugins\\\\org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar -configuration c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\globalStorage\\\\redhat.java\\\\1.9.0\\\\config_ss_win -data c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java\\\\ss_ws&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:02.811&#39;\r\n}\r\n{\r\n  message: &#39;Starting Java server with: c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\jre\\\\17.0.3-win32-x86_64\\\\bin\\\\java --add-modules=ALL-SYSTEM --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.nio.fs=ALL-UNNAMED -Declipse.application=org.eclipse.jdt.ls.core.id1 -Dosgi.bundles.defaultStartLevel=4 -Declipse.product=org.eclipse.jdt.ls.core.product -Djava.import.generatesMetadataFilesAtProjectRoot=false -Dfile.encoding=utf8 -DwatchParentProcess=false -XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\lombok\\\\lombok-1.18.24.jar -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java -jar c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\server\\\\plugins\\\\org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar -configuration c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\globalStorage\\\\redhat.java\\\\1.9.0\\\\config_win -data c:\\\\Users\\\\Ot&#225;vio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java\\\\jdt_ws&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.025&#39;\r\n}\r\n{\r\n  message: &#39;*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message find class on InstrumentationImpl failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 494\\n&#39; +\r\n    &#39;*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message instrumentation instance creation failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 402\\n&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.219&#39;\r\n}\r\n{\r\n  message: &#39;*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message find class on InstrumentationImpl failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 494\\n&#39; +\r\n    &#39;*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message instrumentation instance creation failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 402\\n&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.220&#39;\r\n}\r\n{\r\n  message: &#39;The Language Support for Java server crashed and will restart.&#39;,\r\n  level: &#39;error&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.222&#39;\r\n}\r\n{\r\n  message: &#39;[Info  - 15:10:03] Connection to server got closed. Server will restart.&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.222&#39;\r\n}\r\n{\r\n  message: &#39;The Language Support for Java (Syntax Server) server crashed and will restart.&#39;,\r\n  level: &#39;error&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.223&#39;\r\n}\r\n{\r\n  message: &#39;[Info  - 15:10:03] Connection to server got closed. Server will restart.&#39;,\r\n  level: &#39;info&#39;,\r\n  timestamp: &#39;2022-08-18 15:10:03.223&#39;\r\n}\r\n```\r\nHow can I fix this and make the extensions work?","title":"The language support for Java crashed 5 times on the last 3 minutes","body":"<p>I'm trying to use the Extension Pack for Java by Microsoft. I have a file called <code>main.java</code> that has the following code:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>But when I open the file in Visual Studio Code, I receive the infamous message &quot;The Language Support for Java server crashed 5 times in the last 3 minutes. The server will not be restarted.&quot;. I checked the logs and this is what in them:</p>\n<pre><code>{\n  message: &quot;Use the JDK from 'JAVA_HOME,PATH' as the initial default project JDK.&quot;,\n  level: 'info',\n  timestamp: '2022-08-18 15:10:02.759'\n}\n{\n  message: 'Starting Java server with: c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\jre\\\\17.0.3-win32-x86_64\\\\bin\\\\java --add-modules=ALL-SYSTEM --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.nio.fs=ALL-UNNAMED -Declipse.application=org.eclipse.jdt.ls.core.id1 -Dosgi.bundles.defaultStartLevel=4 -Declipse.product=org.eclipse.jdt.ls.core.product -Djava.import.generatesMetadataFilesAtProjectRoot=false -Dfile.encoding=utf8 -DwatchParentProcess=false -XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\lombok\\\\lombok-1.18.24.jar -jar c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\server\\\\plugins\\\\org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar -configuration c:\\\\Users\\\\Otávio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\globalStorage\\\\redhat.java\\\\1.9.0\\\\config_ss_win -data c:\\\\Users\\\\Otávio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java\\\\ss_ws',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:02.811'\n}\n{\n  message: 'Starting Java server with: c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\jre\\\\17.0.3-win32-x86_64\\\\bin\\\\java --add-modules=ALL-SYSTEM --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.nio.fs=ALL-UNNAMED -Declipse.application=org.eclipse.jdt.ls.core.id1 -Dosgi.bundles.defaultStartLevel=4 -Declipse.product=org.eclipse.jdt.ls.core.product -Djava.import.generatesMetadataFilesAtProjectRoot=false -Dfile.encoding=utf8 -DwatchParentProcess=false -XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\lombok\\\\lombok-1.18.24.jar -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=c:\\\\Users\\\\Otávio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java -jar c:\\\\Users\\\\Otávio Augusto Silva\\\\.vscode\\\\extensions\\\\redhat.java-1.9.0-win32-x64\\\\server\\\\plugins\\\\org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar -configuration c:\\\\Users\\\\Otávio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\globalStorage\\\\redhat.java\\\\1.9.0\\\\config_win -data c:\\\\Users\\\\Otávio Augusto Silva\\\\AppData\\\\Roaming\\\\Code\\\\User\\\\workspaceStorage\\\\092e9f14627920ce78f64c2dbd9c572e\\\\redhat.java\\\\jdt_ws',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:03.025'\n}\n{\n  message: '*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message find class on InstrumentationImpl failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 494\\n' +\n    '*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message instrumentation instance creation failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 402\\n',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:03.219'\n}\n{\n  message: '*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message find class on InstrumentationImpl failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 494\\n' +\n    '*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message instrumentation instance creation failed at e:\\\\jenkins\\\\tmp\\\\workspace\\\\build\\\\src\\\\src\\\\java.instrument\\\\share\\\\native\\\\libinstrument\\\\JPLISAgent.c line: 402\\n',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:03.220'\n}\n{\n  message: 'The Language Support for Java server crashed and will restart.',\n  level: 'error',\n  timestamp: '2022-08-18 15:10:03.222'\n}\n{\n  message: '[Info  - 15:10:03] Connection to server got closed. Server will restart.',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:03.222'\n}\n{\n  message: 'The Language Support for Java (Syntax Server) server crashed and will restart.',\n  level: 'error',\n  timestamp: '2022-08-18 15:10:03.223'\n}\n{\n  message: '[Info  - 15:10:03] Connection to server got closed. Server will restart.',\n  level: 'info',\n  timestamp: '2022-08-18 15:10:03.223'\n}\n</code></pre>\n<p>How can I fix this and make the extensions work?</p>\n"},{"tags":["java","android","unit-testing","kotlin","mockk"],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660889499,"creation_date":1660331967,"answer_id":73338831,"question_id":73329861,"body_markdown":"It is not really clear to me what you are trying to achieve, but I can try to help you with what I think I understand.\r\n\r\nLet&#39;s start with your test-case `testCreateData1`:\r\n\r\n* A relaxed mock in MockK tries to return a &quot;simple value&quot; (mostly &quot;default&quot; values or null if possible) for each function call of the mock. \r\n* Therefore, your relaxed mock of `MyHelper` returns `AndroidData(0.0)` which does not satisfy your assertion.\r\n\r\nRegarding test-case `testCreateData2`:\r\n\r\n* `every { ... }` alone is not a proper expression, but it is intended to specify what should happen on every `...`. For instance, if you have a mock `m` with a function `f` you could write something like the following:\r\n\r\n```kotlin\r\nevery { m.f() } returns 42\r\nevery { m.f() } answers { callOriginal() }\r\n```\r\n* In pretty much the same way, `constructedWith&lt;AndroidData&gt;(LargerThan15Matcher())` is not a proper expression, because it is intended to specify what should happen with an AndroidData constructed with an argument matched by the `LargerThan15Matcher`. For instance, if you want to say that the `value` of such an object should always return 1 you could write\r\n```kotlin\r\n every { constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value } returns 1f\r\n```\r\n\r\n### Update 0815\r\n\r\nYour updated test does not work due to an unfortunate combination of mocking:\r\n* You mock each constructed element of `AndroidData`.\r\n* But at the same time you also have a (relaxed) mock of `MyHelper` which does not call the constructor of `AndroidData`, but instead it gives you some mock of `AndroidData`.\r\n\r\nThere are (at least) two possibilities to solve this:\r\n\r\n1. You do not mock `MyHelper` but only constructed values of `AndroidData`:\r\n```kotlin\r\nmockkConstructor(AndroidData::class)\r\nevery {\r\n    constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value\r\n} returns 20f\r\n\r\nval helper = MyHelper()\r\nval createdData = helper.createData(true)\r\n\r\nassertTrue(createdData.value &gt;= 15f)\r\n```\r\n\r\n2. You mock `MyHelper` and you explicitly define how your mock should work:\r\n```kotlin\r\nval helper = mockk&lt;MyHelper&gt; {\r\n    every { createData(true) } returns AndroidData(20f)\r\n}\r\n\r\nval createdData = helper.createData(true)\r\n\r\n// test if the argument in AndroidData&#39;s constructor was larger than 15\r\nassertTrue(createdData.value &gt;= 15f)\r\n```\r\nor\r\n```kotlin\r\nval helper = mockk&lt;MyHelper&gt; {\r\n    every { createData(true) } returns mockk {\r\n        every { value } returns 20f\r\n    }\r\n}\r\n\r\nval createdData = helper.createData(true)\r\n\r\nassertTrue(createdData.value &gt;= 15f)\r\n```","title":"Is it possible to test arguments in mocked constructor with mockk?","body":"<p>It is not really clear to me what you are trying to achieve, but I can try to help you with what I think I understand.</p>\n<p>Let's start with your test-case <code>testCreateData1</code>:</p>\n<ul>\n<li>A relaxed mock in MockK tries to return a &quot;simple value&quot; (mostly &quot;default&quot; values or null if possible) for each function call of the mock.</li>\n<li>Therefore, your relaxed mock of <code>MyHelper</code> returns <code>AndroidData(0.0)</code> which does not satisfy your assertion.</li>\n</ul>\n<p>Regarding test-case <code>testCreateData2</code>:</p>\n<ul>\n<li><code>every { ... }</code> alone is not a proper expression, but it is intended to specify what should happen on every <code>...</code>. For instance, if you have a mock <code>m</code> with a function <code>f</code> you could write something like the following:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>every { m.f() } returns 42\nevery { m.f() } answers { callOriginal() }\n</code></pre>\n<ul>\n<li>In pretty much the same way, <code>constructedWith&lt;AndroidData&gt;(LargerThan15Matcher())</code> is not a proper expression, because it is intended to specify what should happen with an AndroidData constructed with an argument matched by the <code>LargerThan15Matcher</code>. For instance, if you want to say that the <code>value</code> of such an object should always return 1 you could write</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code> every { constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value } returns 1f\n</code></pre>\n<h3>Update 0815</h3>\n<p>Your updated test does not work due to an unfortunate combination of mocking:</p>\n<ul>\n<li>You mock each constructed element of <code>AndroidData</code>.</li>\n<li>But at the same time you also have a (relaxed) mock of <code>MyHelper</code> which does not call the constructor of <code>AndroidData</code>, but instead it gives you some mock of <code>AndroidData</code>.</li>\n</ul>\n<p>There are (at least) two possibilities to solve this:</p>\n<ol>\n<li>You do not mock <code>MyHelper</code> but only constructed values of <code>AndroidData</code>:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mockkConstructor(AndroidData::class)\nevery {\n    constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value\n} returns 20f\n\nval helper = MyHelper()\nval createdData = helper.createData(true)\n\nassertTrue(createdData.value &gt;= 15f)\n</code></pre>\n<ol start=\"2\">\n<li>You mock <code>MyHelper</code> and you explicitly define how your mock should work:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val helper = mockk&lt;MyHelper&gt; {\n    every { createData(true) } returns AndroidData(20f)\n}\n\nval createdData = helper.createData(true)\n\n// test if the argument in AndroidData's constructor was larger than 15\nassertTrue(createdData.value &gt;= 15f)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val helper = mockk&lt;MyHelper&gt; {\n    every { createData(true) } returns mockk {\n        every { value } returns 20f\n    }\n}\n\nval createdData = helper.createData(true)\n\nassertTrue(createdData.value &gt;= 15f)\n</code></pre>\n"}],"owner":{"account_id":10283951,"reputation":3,"user_id":7587958,"display_name":"Joy Wen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73338831,"answer_count":1,"score":0,"last_activity_date":1660889499,"creation_date":1660284577,"question_id":73329861,"body_markdown":"#### Purpose\r\nI want to test the result of a function of a class. And it returns an instance of an Android class, which should be mocked in a unit test since it seems to be stubbed in any unit test.\r\n\r\n#### Example code\r\nHere&#39;s a minimized example code of the simulated android class, `AndroidData`, and the class to be tested, `MyHelper`.\r\n\r\n```\r\n/**\r\n * Should be mocked in a unit test.\r\n */\r\nclass AndroidData(val value: Float)\r\n\r\n/**\r\n * Target class to be tested.\r\n */\r\nclass MyHelper() {\r\n    fun createData(flag: Boolean): AndroidData {\r\n        // simplified logic\r\n        return if (flag) AndroidData(20f) else AndroidData(10f)\r\n    }\r\n}\r\n```\r\n\r\nWhat I want to achieve is something like this(**note that this is incorrect code**):\r\n```\r\nclass MyHelperTest : TestCase() {\r\n    @Test\r\n    fun testCreateData() {\r\n        mockkConstructor(AndroidData::class)\r\n        val valueSlot = slot&lt;Float&gt;()\r\n        every { constructedWith&lt;AndroidData&gt;(capture(valueSlot)) }  // Type mismatch in IDE\r\n        val helper = MyHelper()\r\n        \r\n        val returnedData = helper.createData(true)\r\n        assertTrue(returnedData.value &gt;= 15f)\r\n    }\r\n}\r\n```\r\n\r\nI want to test that returned `AndroidData` instance has a correct `value`, or matches some conditions. I cannot find any tutorial about this case or any correct way to implement it.\r\n\r\n#### What I tried\r\nThese 2 test cases would both fail.\r\n```\r\n    @Test\r\n    fun testCreateData1() {\r\n        mockkConstructor(AndroidData::class)\r\n\r\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\r\n        val createdData = helper.createData(true)\r\n\r\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\r\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\r\n\r\n        // test if the argument in AndroidData&#39;s constructor was larger than 15\r\n        assertTrue(createdData.value &gt;= 15f)  // assertion failed\r\n    }\r\n\r\n    @Test\r\n    fun testCreateData2() {\r\n        mockkConstructor(AndroidData::class)\r\n        // raise error: Missing mocked calls inside every { ... } block: make sure the object inside the block is a mock\r\n        every {\r\n            constructedWith&lt;AndroidData&gt;(LargerThan15Matcher())\r\n        }\r\n\r\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\r\n        val createdData = helper.createData(true)\r\n\r\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\r\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\r\n\r\n        // test if the argument in AndroidData&#39;s constructor was larger than 15\r\n        assertTrue(createdData.value &gt;= 15f)\r\n    }\r\n```\r\n\r\nThe testing idea was pretty easy and intuitive for Python unittest in my experience. Yet it seems impossible in Java or Android? I haven&#39;t tried the `mockito` and `roboletric` library because I was told that `mockk` provides support on Android projects. Or I just haven&#39;t found the correct way to do this, or the whole testing idea is completely wrong? Please end my days of searching and struggle.\r\n\r\n### Update 0815\r\nWith @Karsten Gabriel &#39;s suggestion, I made a bit of mod on the `testCreateData2()` test case, but still it doesn&#39;t work. The `createdData` seems not really an `AndroidData` instance and has `value` 0.0.\r\n```\r\n    @Test\r\n    fun testCreateData2() {\r\n        mockkConstructor(AndroidData::class)\r\n        // Missing mocked calls inside every { ... } block: make sure the object inside the block is a mock\r\n        every {\r\n            constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value\r\n        } returns 1f\r\n\r\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\r\n        val createdData = helper.createData(true)\r\n\r\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\r\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\r\n\r\n        // test if the argument in AndroidData&#39;s constructor was larger than 15\r\n        assertTrue(createdData.value &gt;= 15f)\r\n    }\r\n```\r\nBTW, the `LargerThan15Matcher`:\r\n```\r\nclass LargerThan15Matcher : Matcher&lt;Float&gt; {\r\n    override fun match(arg: Float?): Boolean {\r\n        return if (arg == null) false else arg &gt;= 15f\r\n    }\r\n}\r\n```","title":"Is it possible to test arguments in mocked constructor with mockk?","body":"<h4>Purpose</h4>\n<p>I want to test the result of a function of a class. And it returns an instance of an Android class, which should be mocked in a unit test since it seems to be stubbed in any unit test.</p>\n<h4>Example code</h4>\n<p>Here's a minimized example code of the simulated android class, <code>AndroidData</code>, and the class to be tested, <code>MyHelper</code>.</p>\n<pre><code>/**\n * Should be mocked in a unit test.\n */\nclass AndroidData(val value: Float)\n\n/**\n * Target class to be tested.\n */\nclass MyHelper() {\n    fun createData(flag: Boolean): AndroidData {\n        // simplified logic\n        return if (flag) AndroidData(20f) else AndroidData(10f)\n    }\n}\n</code></pre>\n<p>What I want to achieve is something like this(<strong>note that this is incorrect code</strong>):</p>\n<pre><code>class MyHelperTest : TestCase() {\n    @Test\n    fun testCreateData() {\n        mockkConstructor(AndroidData::class)\n        val valueSlot = slot&lt;Float&gt;()\n        every { constructedWith&lt;AndroidData&gt;(capture(valueSlot)) }  // Type mismatch in IDE\n        val helper = MyHelper()\n        \n        val returnedData = helper.createData(true)\n        assertTrue(returnedData.value &gt;= 15f)\n    }\n}\n</code></pre>\n<p>I want to test that returned <code>AndroidData</code> instance has a correct <code>value</code>, or matches some conditions. I cannot find any tutorial about this case or any correct way to implement it.</p>\n<h4>What I tried</h4>\n<p>These 2 test cases would both fail.</p>\n<pre><code>    @Test\n    fun testCreateData1() {\n        mockkConstructor(AndroidData::class)\n\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\n        val createdData = helper.createData(true)\n\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\n\n        // test if the argument in AndroidData's constructor was larger than 15\n        assertTrue(createdData.value &gt;= 15f)  // assertion failed\n    }\n\n    @Test\n    fun testCreateData2() {\n        mockkConstructor(AndroidData::class)\n        // raise error: Missing mocked calls inside every { ... } block: make sure the object inside the block is a mock\n        every {\n            constructedWith&lt;AndroidData&gt;(LargerThan15Matcher())\n        }\n\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\n        val createdData = helper.createData(true)\n\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\n\n        // test if the argument in AndroidData's constructor was larger than 15\n        assertTrue(createdData.value &gt;= 15f)\n    }\n</code></pre>\n<p>The testing idea was pretty easy and intuitive for Python unittest in my experience. Yet it seems impossible in Java or Android? I haven't tried the <code>mockito</code> and <code>roboletric</code> library because I was told that <code>mockk</code> provides support on Android projects. Or I just haven't found the correct way to do this, or the whole testing idea is completely wrong? Please end my days of searching and struggle.</p>\n<h3>Update 0815</h3>\n<p>With @Karsten Gabriel 's suggestion, I made a bit of mod on the <code>testCreateData2()</code> test case, but still it doesn't work. The <code>createdData</code> seems not really an <code>AndroidData</code> instance and has <code>value</code> 0.0.</p>\n<pre><code>    @Test\n    fun testCreateData2() {\n        mockkConstructor(AndroidData::class)\n        // Missing mocked calls inside every { ... } block: make sure the object inside the block is a mock\n        every {\n            constructedWith&lt;AndroidData&gt;(LargerThan15Matcher()).value\n        } returns 1f\n\n        val helper = mockk&lt;MyHelper&gt;(relaxed = true)\n        val createdData = helper.createData(true)\n\n        println(&quot;createdData=$createdData&quot;)  // AndroidData(child of #1#2)\n        println(&quot;createdData.value=${createdData.value}&quot;)  // 0.0\n\n        // test if the argument in AndroidData's constructor was larger than 15\n        assertTrue(createdData.value &gt;= 15f)\n    }\n</code></pre>\n<p>BTW, the <code>LargerThan15Matcher</code>:</p>\n<pre><code>class LargerThan15Matcher : Matcher&lt;Float&gt; {\n    override fun match(arg: Float?): Boolean {\n        return if (arg == null) false else arg &gt;= 15f\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","windowbuilder"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1660829055,"post_id":73402854,"comment_id":129629241,"body_markdown":"That doesn&#39;t sound like you installed WindowBuilder successfully. Check _Help &gt; About Eclipse IDE: Installation Details_ if you really have installed it. But as first thing, you should update your pretty old Eclipse.","body":"That doesn&#39;t sound like you installed WindowBuilder successfully. Check <i>Help &gt; About Eclipse IDE: Installation Details</i> if you really have installed it. But as first thing, you should update your pretty old Eclipse."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1660837537,"post_id":73402854,"comment_id":129632967,"body_markdown":"Open what kind of file?","body":"Open what kind of file?"},{"owner":{"account_id":10681332,"reputation":61,"user_id":9470836,"display_name":"dipesh patidar"},"score":0,"creation_date":1660888085,"post_id":73402854,"comment_id":129644182,"body_markdown":"Swing files, but i can not find option of opening the file with window builder.","body":"Swing files, but i can not find option of opening the file with window builder."},{"owner":{"account_id":10681332,"reputation":61,"user_id":9470836,"display_name":"dipesh patidar"},"score":0,"creation_date":1660888469,"post_id":73402854,"comment_id":129644252,"body_markdown":"@howlger to what version i should update eclipse","body":"@howlger to what version i should update eclipse"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1660890821,"post_id":73402854,"comment_id":129644777,"body_markdown":"Latest version of Eclipse is 2022-06. Next version is due to be released next month, i.e. September 2022. You can download latest Eclipse from here: https://www.eclipse.org/downloads/packages/ And you can download WindowBuilder from here: https://www.eclipse.org/windowbuilder/download.php I suggest that you remove your current Eclipse installation and install the latest version. After you install the latest version, then install the latest WindowBuilder. Note that Eclipse 2022-06 comes with JDK 17 as part of the distribution.","body":"Latest version of Eclipse is 2022-06. Next version is due to be released next month, i.e. September 2022. You can download latest Eclipse from here: <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a> And you can download WindowBuilder from here: <a href=\"https://www.eclipse.org/windowbuilder/download.php\" rel=\"nofollow noreferrer\">eclipse.org/windowbuilder/download.php</a> I suggest that you remove your current Eclipse installation and install the latest version. After you install the latest version, then install the latest WindowBuilder. Note that Eclipse 2022-06 comes with JDK 17 as part of the distribution."}],"owner":{"account_id":10681332,"reputation":61,"user_id":9470836,"display_name":"dipesh patidar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660889229,"creation_date":1660824604,"question_id":73402854,"body_markdown":"I have installed window builder in eclipse 2019-12 but unable to find it whenever i try to open a file with open with or whenever i try to create new project from file wizard. So how can i launch window builder in eclipse 2019-12 after installation?\r\n\r\nplease find the screenshot of Help &gt; About Eclipse IDE: Installation Details [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N2oHY.png","title":"Installed window builder in eclipse 2019-12 but unable to find it","body":"<p>I have installed window builder in eclipse 2019-12 but unable to find it whenever i try to open a file with open with or whenever i try to create new project from file wizard. So how can i launch window builder in eclipse 2019-12 after installation?</p>\n<p>please find the screenshot of Help &gt; About Eclipse IDE: Installation Details <a href=\"https://i.stack.imgur.com/N2oHY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N2oHY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1660843393,"post_id":73407107,"comment_id":129635078,"body_markdown":"What is `lastPlayerCheck`?","body":"What is <code>lastPlayerCheck</code>?"},{"owner":{"account_id":23736563,"reputation":93,"user_id":17755181,"display_name":"djasyfuj"},"score":0,"creation_date":1660843428,"post_id":73407107,"comment_id":129635087,"body_markdown":"It is a function that checks if currentPlayer was the last one on the list:","body":"It is a function that checks if currentPlayer was the last one on the list:"}],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660889104,"creation_date":1660844100,"answer_id":73407286,"question_id":73407107,"body_markdown":"As far as I can tell the `currentPlayer` field in the `TableService` was never assigned a different value other than being initialized with `Optional.empty()`. Therefore, your `TableService` maybe needs a method like `setCurrentPlayer(Player player)` so you can manually configure the `currentPlayer` field. Note: The way you try to assign a value to the `currentPlayer` field in the test does not work!\r\n\r\n    // here you only get a reference to the currently empty Optional object\r\n    Optional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\r\n    // here you just assign the variable (which is only visible in the context of this test)\r\n    // to a fresh Optional holding an actual player object - this has no effect on the\r\n    // currentPlayer field inside the TableService \r\n    currentPlayer = Optional.of(players.get(0));\r\n\r\nMaybe your next thought is to do something like this:\r\n\r\n    Optional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\r\n    currentPlayer.setValue(players.get(0)) // WILL NOT COMPILE\r\n\r\nBut Java Optionals are IMMUTABLE meaning that you can not assign a new value to an Optional Object, but instead you have to create a new `Optional` object with the value you want to assign. This is why there is no method such as `setValue()` in the `Optional` class.\r\n\r\n**UPDATE:**\r\nI think you are not yet fully understanding how [method parameters][1] function. What you are basically trying to do is:\r\n\r\n    void updateString(String: someString){\r\n      someString = &quot;updated string value&quot;\r\n    }\r\n    \r\n    String someString = &quot;initial string value&quot;\r\n    updateString(someString)\r\n    println(someString) // =&gt; will still be &quot;initial string value&quot;\r\n\r\nWhen you pass a **variable** as an **argument** to a **method** you can not reassign that variable in the context of the method, so that the variable outside the method (from where this method was invoked) is also reassigned! Actually the `someString` parameter in the `updateString(String: someString)` method is a different variable than the `someString` variable in the outer scope (from where the method was invoked) but only holds the reference to the same value (&quot;updated string value&quot; in this case). So when you reassign that variable in the inner method you are not updating the variable (in the outer scopee) that has been passed into the method! \r\n \r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html","title":"Testing function","body":"<p>As far as I can tell the <code>currentPlayer</code> field in the <code>TableService</code> was never assigned a different value other than being initialized with <code>Optional.empty()</code>. Therefore, your <code>TableService</code> maybe needs a method like <code>setCurrentPlayer(Player player)</code> so you can manually configure the <code>currentPlayer</code> field. Note: The way you try to assign a value to the <code>currentPlayer</code> field in the test does not work!</p>\n<pre><code>// here you only get a reference to the currently empty Optional object\nOptional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\n// here you just assign the variable (which is only visible in the context of this test)\n// to a fresh Optional holding an actual player object - this has no effect on the\n// currentPlayer field inside the TableService \ncurrentPlayer = Optional.of(players.get(0));\n</code></pre>\n<p>Maybe your next thought is to do something like this:</p>\n<pre><code>Optional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\ncurrentPlayer.setValue(players.get(0)) // WILL NOT COMPILE\n</code></pre>\n<p>But Java Optionals are IMMUTABLE meaning that you can not assign a new value to an Optional Object, but instead you have to create a new <code>Optional</code> object with the value you want to assign. This is why there is no method such as <code>setValue()</code> in the <code>Optional</code> class.</p>\n<p><strong>UPDATE:</strong>\nI think you are not yet fully understanding how <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">method parameters</a> function. What you are basically trying to do is:</p>\n<pre><code>void updateString(String: someString){\n  someString = &quot;updated string value&quot;\n}\n\nString someString = &quot;initial string value&quot;\nupdateString(someString)\nprintln(someString) // =&gt; will still be &quot;initial string value&quot;\n</code></pre>\n<p>When you pass a <strong>variable</strong> as an <strong>argument</strong> to a <strong>method</strong> you can not reassign that variable in the context of the method, so that the variable outside the method (from where this method was invoked) is also reassigned! Actually the <code>someString</code> parameter in the <code>updateString(String: someString)</code> method is a different variable than the <code>someString</code> variable in the outer scope (from where the method was invoked) but only holds the reference to the same value (&quot;updated string value&quot; in this case). So when you reassign that variable in the inner method you are not updating the variable (in the outer scopee) that has been passed into the method!</p>\n"}],"owner":{"account_id":23736563,"reputation":93,"user_id":17755181,"display_name":"djasyfuj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73407286,"answer_count":1,"score":0,"last_activity_date":1660889104,"creation_date":1660843147,"question_id":73407107,"body_markdown":"I have the following variables in a *TableService* class and a function which takes currentPlayer index on the list, adds +1 and make currentPlayer the one with this incremented index.\r\n*currentPlayer* is assigned as `currentPlayer = Optional.of(players.get(0));` earlier in different method.\r\n\r\n    private ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    private Optional&lt;Player&gt; currentPlayer = Optional.empty();        \r\n    \r\n    public void setNextPlayerCurrent() {\r\n        int currentPlayerIndex = players.indexOf(currentPlayer.get());\r\n        if (!lastPlayerCheck(currentPlayerIndex)) {\r\n            currentPlayer = Optional.of(players.get(currentPlayerIndex + 1));\r\n        }\r\n        else {\r\n            currentPlayer = Optional.of(players.get(0));\r\n        }\r\n    }\r\n\r\nI want to test this and I wrote the following function: \r\n\r\n        @Test\r\n    void checkCurrentPlayerSetting() {\r\n        List&lt;Player&gt; players = tableService.getPlayers();\r\n        Optional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\r\n        Player player1 = new Player(&quot;A&quot;, &quot;Adam&quot;, 100);\r\n        Player player2 = new Player(&quot;B&quot;, &quot;Bella&quot;, 100);\r\n        players.add(player1);\r\n        players.add(player2);\r\n        currentPlayer = Optional.of(players.get(0));\r\n\r\n        int player1Index = players.indexOf(player1);\r\n        int player2Index = players.indexOf(player2);\r\n        System.out.println(player1Index); // prints 0\r\n        System.out.println(player2Index); / prints 1\r\n        System.out.println(players.indexOf(currentPlayer.get())); // prints 0\r\n\r\n        tableService.setNextPlayerCurrent(); // java.util.NoSuchElementException: No value present!!!\r\n\r\n        //assertEquals(player2.getId(), currentPlayer.get().getId());\r\n    }\r\n\r\nI want to assert that after execution of *setNextPlayerCurrent()* player2 will match currentPlayer.\r\nWhat should I do with the exception?\r\n\r\nEDIT: lastPlayerCheck() also in the TableService class:\r\n\r\n        public boolean lastPlayerCheck(int currentPlayerIndex) {\r\n        if (currentPlayerIndex == (players.size() - 1)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }","title":"Testing function","body":"<p>I have the following variables in a <em>TableService</em> class and a function which takes currentPlayer index on the list, adds +1 and make currentPlayer the one with this incremented index.\n<em>currentPlayer</em> is assigned as <code>currentPlayer = Optional.of(players.get(0));</code> earlier in different method.</p>\n<pre><code>private ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\nprivate Optional&lt;Player&gt; currentPlayer = Optional.empty();        \n\npublic void setNextPlayerCurrent() {\n    int currentPlayerIndex = players.indexOf(currentPlayer.get());\n    if (!lastPlayerCheck(currentPlayerIndex)) {\n        currentPlayer = Optional.of(players.get(currentPlayerIndex + 1));\n    }\n    else {\n        currentPlayer = Optional.of(players.get(0));\n    }\n}\n</code></pre>\n<p>I want to test this and I wrote the following function:</p>\n<pre><code>    @Test\nvoid checkCurrentPlayerSetting() {\n    List&lt;Player&gt; players = tableService.getPlayers();\n    Optional&lt;Player&gt; currentPlayer = tableService.getCurrentPlayer();\n    Player player1 = new Player(&quot;A&quot;, &quot;Adam&quot;, 100);\n    Player player2 = new Player(&quot;B&quot;, &quot;Bella&quot;, 100);\n    players.add(player1);\n    players.add(player2);\n    currentPlayer = Optional.of(players.get(0));\n\n    int player1Index = players.indexOf(player1);\n    int player2Index = players.indexOf(player2);\n    System.out.println(player1Index); // prints 0\n    System.out.println(player2Index); / prints 1\n    System.out.println(players.indexOf(currentPlayer.get())); // prints 0\n\n    tableService.setNextPlayerCurrent(); // java.util.NoSuchElementException: No value present!!!\n\n    //assertEquals(player2.getId(), currentPlayer.get().getId());\n}\n</code></pre>\n<p>I want to assert that after execution of <em>setNextPlayerCurrent()</em> player2 will match currentPlayer.\nWhat should I do with the exception?</p>\n<p>EDIT: lastPlayerCheck() also in the TableService class:</p>\n<pre><code>    public boolean lastPlayerCheck(int currentPlayerIndex) {\n    if (currentPlayerIndex == (players.size() - 1)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","timestamp","rfc3986"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1558540533,"post_id":54294843,"comment_id":99138023,"body_markdown":"I assume this was an expected change?","body":"I assume this was an expected change?"},{"owner":{"account_id":5643857,"reputation":1206,"user_id":4466695,"accept_rate":75,"display_name":"Gregor Eesmaa"},"score":1,"creation_date":1558597530,"post_id":54294843,"comment_id":99155589,"body_markdown":"If leaving the `+` (plus) sign as is were expected, then a receiving Spring Boot endpoint should not attempt to decode the `+` (plus) as a ` ` (space). Unfortunately, that is not the case due to seemingly conflicting standards.","body":"If leaving the <code>+</code> (plus) sign as is were expected, then a receiving Spring Boot endpoint should not attempt to decode the <code>+</code> (plus) as a ` ` (space). Unfortunately, that is not the case due to seemingly conflicting standards."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1579107370,"post_id":54294843,"comment_id":105658394,"body_markdown":"I was having the same problem but I had started with a templated URL. The success of Option 2 seems to hinge on setting the `uriTemplateHandler` as you do... but why? I&#39;m not grasping the difference between the `DefaultUriBuilderFactor` that you use and the `DefaultUriTemplateHandler` that would otherwise be used.","body":"I was having the same problem but I had started with a templated URL. The success of Option 2 seems to hinge on setting the <code>uriTemplateHandler</code> as you do... but why? I&#39;m not grasping the difference between the <code>DefaultUriBuilderFactor</code> that you use and the <code>DefaultUriTemplateHandler</code> that would otherwise be used."},{"owner":{"account_id":5643857,"reputation":1206,"user_id":4466695,"accept_rate":75,"display_name":"Gregor Eesmaa"},"score":1,"creation_date":1579164168,"post_id":54294843,"comment_id":105675795,"body_markdown":"@PatrickM `DefaultUriTemplateHandler` seems to be deprecated, but the docs indicate the difference might be, that &quot;DefaultUriBuilderFactory has a different default for the parsePath property (from false to true).&quot;","body":"@PatrickM <code>DefaultUriTemplateHandler</code> seems to be deprecated, but the docs indicate the difference might be, that &quot;DefaultUriBuilderFactory has a different default for the parsePath property (from false to true).&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5643857,"reputation":1206,"user_id":4466695,"accept_rate":75,"display_name":"Gregor Eesmaa"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1548331118,"creation_date":1548323388,"answer_id":54343680,"question_id":54294843,"body_markdown":"We realized the URL can be modified in an interceptor after the encoding is done. So a solution would be to use an interceptor, that encodes the plus sign in the query params. \r\n\r\n    RestTemplate restTemplate = new RestTemplateBuilder()\r\n            .rootUri(&quot;http://localhost:8080&quot;)\r\n            .interceptors(new PlusEncoderInterceptor())\r\n            .build();\r\n\r\nA shortened example:\r\n\r\n    public class PlusEncoderInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n        @Override\r\n        public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n            return execution.execute(new HttpRequestWrapper(request) {\r\n                @Override\r\n                public URI getURI() {\r\n                    URI u = super.getURI();\r\n                    String strictlyEscapedQuery = StringUtils.replace(u.getRawQuery(), &quot;+&quot;, &quot;%2B&quot;);\r\n                    return UriComponentsBuilder.fromUri(u)\r\n                            .replaceQuery(strictlyEscapedQuery)\r\n                            .build(true).toUri();\r\n                }\r\n            }, body);\r\n        }\r\n    }\r\n","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>We realized the URL can be modified in an interceptor after the encoding is done. So a solution would be to use an interceptor, that encodes the plus sign in the query params. </p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplateBuilder()\n        .rootUri(\"http://localhost:8080\")\n        .interceptors(new PlusEncoderInterceptor())\n        .build();\n</code></pre>\n\n<p>A shortened example:</p>\n\n<pre><code>public class PlusEncoderInterceptor implements ClientHttpRequestInterceptor {\n\n    @Override\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        return execution.execute(new HttpRequestWrapper(request) {\n            @Override\n            public URI getURI() {\n                URI u = super.getURI();\n                String strictlyEscapedQuery = StringUtils.replace(u.getRawQuery(), \"+\", \"%2B\");\n                return UriComponentsBuilder.fromUri(u)\n                        .replaceQuery(strictlyEscapedQuery)\n                        .build(true).toUri();\n            }\n        }, body);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6196424,"reputation":135,"user_id":4827572,"display_name":"Matt Garner"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1573743581,"creation_date":1573743581,"answer_id":58859769,"question_id":54294843,"body_markdown":"The issue has been discussed here as well. \r\n\r\n\r\n[Encoding of URI Variables on RestTemplate [SPR-16202]][1]\r\n\r\nA simpler solution is to set the encoding mode on the URI builder to VALUES_ONLY.\r\n\r\n        DefaultUriBuilderFactory builderFactory = new DefaultUriBuilderFactory();\r\n        builderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\r\n        RestTemplate restTemplate = new RestTemplateBuilder()\r\n                .rootUri(&quot;http://localhost:8080&quot;)\r\n                .uriTemplateHandler(builderFactory)\r\n                .build();\r\n\r\nThis achieved the same result as using the PlusEncodingInterceptor when using query parameters.\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/20750","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>The issue has been discussed here as well. </p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/20750\" rel=\"nofollow noreferrer\">Encoding of URI Variables on RestTemplate [SPR-16202]</a></p>\n\n<p>A simpler solution is to set the encoding mode on the URI builder to VALUES_ONLY.</p>\n\n<pre><code>    DefaultUriBuilderFactory builderFactory = new DefaultUriBuilderFactory();\n    builderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\n    RestTemplate restTemplate = new RestTemplateBuilder()\n            .rootUri(\"http://localhost:8080\")\n            .uriTemplateHandler(builderFactory)\n            .build();\n</code></pre>\n\n<p>This achieved the same result as using the PlusEncodingInterceptor when using query parameters.</p>\n"},{"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608801216,"creation_date":1608801216,"answer_id":65436247,"question_id":54294843,"body_markdown":"Thanks https://stackoverflow.com/users/4466695/gregor-eesmaa, it solved my issue. Just wanted to add that in case if you can format URL before calling `RestTemplate`, you can fix the URL at once (instead of replacing it in `PlusEncoderInterceptor`):\r\n```java\r\nUriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(&quot;/search&quot;);\r\nuriBuilder.queryParam(&quot;beforeTimestamp&quot;, &quot;2019-01-21T14:56:50+00:00&quot;);\r\nURI uriPlus = uriBuilder.encode().build(false).toUri();\r\n\r\n// import org.springframework.util.StringUtils;\r\nString strictlyEscapedQuery = StringUtils.replace(uriPlus.getRawQuery(), &quot;+&quot;, &quot;%2B&quot;);\r\nURI uri = UriComponentsBuilder.fromUri(uriPlus)\r\n        .replaceQuery(strictlyEscapedQuery)\r\n        .build(true).toUri();\r\n\r\n// prints &quot;/search?beforeTimestamp=2019-01-21T14:56:50%2B00:00&quot;\r\nSystem.out.println(uri);\r\n```\r\n\r\nThen you can use in `RestTemplate` call:\r\n```java\r\nRequestEntity&lt;?&gt; requestEntity = RequestEntity.get(uri).build();\r\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(requestEntity, String.class);\r\n```","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>Thanks <a href=\"https://stackoverflow.com/users/4466695/gregor-eesmaa\">https://stackoverflow.com/users/4466695/gregor-eesmaa</a>, it solved my issue. Just wanted to add that in case if you can format URL before calling <code>RestTemplate</code>, you can fix the URL at once (instead of replacing it in <code>PlusEncoderInterceptor</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(&quot;/search&quot;);\nuriBuilder.queryParam(&quot;beforeTimestamp&quot;, &quot;2019-01-21T14:56:50+00:00&quot;);\nURI uriPlus = uriBuilder.encode().build(false).toUri();\n\n// import org.springframework.util.StringUtils;\nString strictlyEscapedQuery = StringUtils.replace(uriPlus.getRawQuery(), &quot;+&quot;, &quot;%2B&quot;);\nURI uri = UriComponentsBuilder.fromUri(uriPlus)\n        .replaceQuery(strictlyEscapedQuery)\n        .build(true).toUri();\n\n// prints &quot;/search?beforeTimestamp=2019-01-21T14:56:50%2B00:00&quot;\nSystem.out.println(uri);\n</code></pre>\n<p>Then you can use in <code>RestTemplate</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestEntity&lt;?&gt; requestEntity = RequestEntity.get(uri).build();\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(requestEntity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3617951,"reputation":628,"user_id":3017375,"accept_rate":100,"display_name":"Alfredo Diaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625900883,"creation_date":1625900883,"answer_id":68325513,"question_id":54294843,"body_markdown":"To get around this kind of issue, I found it easier to build the URI by hand.\r\n\r\n    URI uri = new URI(siteProperties.getBaseUrl()\r\n      + &quot;v3/elements/&quot;\r\n      + URLEncoder.encode(&quot;user/&quot; + user + &quot;/type/&quot; + type, UTF_8)\r\n      + &quot;/&quot;\r\n      + URLEncoder.encode(id, UTF_8)\r\n    );\r\n    \r\n    restTemplate.exchange(uri, DELETE, new HttpEntity&lt;&gt;(httpHeaders), Void.class);","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>To get around this kind of issue, I found it easier to build the URI by hand.</p>\n<pre><code>URI uri = new URI(siteProperties.getBaseUrl()\n  + &quot;v3/elements/&quot;\n  + URLEncoder.encode(&quot;user/&quot; + user + &quot;/type/&quot; + type, UTF_8)\n  + &quot;/&quot;\n  + URLEncoder.encode(id, UTF_8)\n);\n\nrestTemplate.exchange(uri, DELETE, new HttpEntity&lt;&gt;(httpHeaders), Void.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11957608,"reputation":11,"user_id":8749483,"display_name":"vibol rim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660888469,"creation_date":1660564049,"answer_id":73360590,"question_id":54294843,"body_markdown":"Just want to add on!, You can try with this without configure every where u used RestTemplate in your project, config also support UTF-8 encoding respons:\r\n    \r\n    public class PlusEncoderInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n\t@Override\r\n\tpublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n\t\t\tthrows IOException {\r\n\t\treturn execution.execute(new HttpRequestWrapper(request) {\r\n\t\t\t@NotNull\r\n\t\t\t@Override\r\n\t\t\tpublic URI getURI() {\r\n\t\t\t\tURI u = super.getURI();\r\n\t\t\t\tString strictlyEscapedQuery = StringUtils.replace(u.getRawQuery(), &quot;+&quot;, &quot;%2B&quot;);\r\n\t\t\t\treturn UriComponentsBuilder.fromUri(u).replaceQuery(strictlyEscapedQuery).build(true).toUri();\r\n\t\t\t}\r\n\t\t}, body);\r\n\t}\r\n    }\r\n\r\n    @Configuration\r\n    public class RestTemplateConfig {\r\n\t@Bean\r\n\tpublic RestTemplate restTemplate() {\r\n\t\tRestTemplate restTemplate = new RestTemplateBuilder().interceptors(new PlusEncoderInterceptor()).build();\r\n\t\trestTemplate.getMessageConverters().add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n\t\treturn restTemplate;\r\n\t}\r\n    }","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>Just want to add on!, You can try with this without configure every where u used RestTemplate in your project, config also support UTF-8 encoding respons:</p>\n<pre><code>public class PlusEncoderInterceptor implements ClientHttpRequestInterceptor {\n\n@Override\npublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n        throws IOException {\n    return execution.execute(new HttpRequestWrapper(request) {\n        @NotNull\n        @Override\n        public URI getURI() {\n            URI u = super.getURI();\n            String strictlyEscapedQuery = StringUtils.replace(u.getRawQuery(), &quot;+&quot;, &quot;%2B&quot;);\n            return UriComponentsBuilder.fromUri(u).replaceQuery(strictlyEscapedQuery).build(true).toUri();\n        }\n    }, body);\n}\n}\n\n@Configuration\npublic class RestTemplateConfig {\n@Bean\npublic RestTemplate restTemplate() {\n    RestTemplate restTemplate = new RestTemplateBuilder().interceptors(new PlusEncoderInterceptor()).build();\n    restTemplate.getMessageConverters().add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n    return restTemplate;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":5643857,"reputation":1206,"user_id":4466695,"accept_rate":75,"display_name":"Gregor Eesmaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17842,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":54343680,"answer_count":5,"score":44,"last_activity_date":1660888469,"creation_date":1548090891,"question_id":54294843,"body_markdown":"We are moving from Java 8 to Java 11, and thus, from Spring Boot 1.5.6 to 2.1.2. We noticed, that when using RestTemplate, the &#39;+&#39; sign is not encoded to &#39;%2B&#39; anymore (changes by SPR-14828). This would be okay, because RFC3986 doesn&#39;t list &#39;+&#39; as a reserved character, but it is still interpreted as a &#39; &#39; (space) when received in a Spring Boot endpoint.\r\n\r\nWe have a search query which can take optional timestamps as query parameters. The query looks something like `http://example.com/search?beforeTimestamp=2019-01-21T14:56:50%2B00:00`. \r\n\r\nWe can&#39;t figure out how to send an encoded plus sign, without it being double-encoded. Query parameter `2019-01-21T14:56:50+00:00` would be interpreted as `2019-01-21T14:56:50 00:00`. If we were to encode the parameter ourselves (`2019-01-21T14:56:50%2B00:00`), then it would be received and interpreted as `2019-01-21T14:56:50%252B00:00`.\r\n\r\nAn additional constraint is, that we want to set the base url elsewhere, when setting up the restTemplate, not where the query is being executed.\r\n\r\nAlternatively, is there a way to force &#39;+&#39; not to be interpreted as &#39; &#39; by the endpoint? \r\n\r\nI have written a short example demonstrating some ways of achieving stricter encoding with their drawbacks explained as comments:\r\n\r\n    package com.example.clientandserver;\r\n    \r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.client.RestTemplateBuilder;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import org.springframework.web.util.DefaultUriBuilderFactory;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    import org.springframework.web.util.UriUtils;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class ClientAndServerApp implements CommandLineRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ClientAndServerApp.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n            String beforeTimestamp = &quot;2019-01-21T14:56:50+00:00&quot;;\r\n    \r\n            // Previously - base url and raw params (encoded automatically). \r\n            // This worked in the earlier version of Spring Boot\r\n            {\r\n                RestTemplate restTemplate = new RestTemplateBuilder()\r\n                   .rootUri(&quot;http://localhost:8080&quot;).build();\r\n                UriComponentsBuilder b = UriComponentsBuilder.fromPath(&quot;/search&quot;);\r\n                if (beforeTimestamp != null) {\r\n                    b.queryParam(&quot;beforeTimestamp&quot;, beforeTimestamp);\r\n                }\r\n                restTemplate.getForEntity(b.toUriString(), Object.class);\r\n                // Received: 2019-01-21T14:56:50 00:00\r\n                //       Plus sign missing here ^\r\n            }\r\n    \r\n            // Option 1 - no base url and encoding the param ourselves.\r\n            {\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                UriComponentsBuilder b = UriComponentsBuilder\r\n                    .fromHttpUrl(&quot;http://localhost:8080/search&quot;);\r\n                if (beforeTimestamp != null) {\r\n                    b.queryParam(\r\n                        &quot;beforeTimestamp&quot;,\r\n                        UriUtils.encode(beforeTimestamp, StandardCharsets.UTF_8)\r\n                    );\r\n                }\r\n                restTemplate.getForEntity(\r\n                    b.build(true).toUri(), Object.class\r\n                ).getBody();\r\n                // Received: 2019-01-21T14:56:50+00:00\r\n            }\r\n    \r\n            // Option 2 - with templated base url, query parameter is not optional.\r\n            {\r\n                RestTemplate restTemplate = new RestTemplateBuilder()\r\n                    .rootUri(&quot;http://localhost:8080&quot;)\r\n                    .uriTemplateHandler(new DefaultUriBuilderFactory())\r\n                    .build();\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;beforeTimestamp&quot;, beforeTimestamp);\r\n                restTemplate.getForEntity(\r\n                    &quot;/search?beforeTimestamp={beforeTimestamp}&quot;,\r\n                    Object.class,\r\n                    params);\r\n                // Received: 2019-01-21T14:56:50+00:00\r\n            }\r\n        }\r\n    \r\n        @GetMapping(&quot;/search&quot;)\r\n        public void search(@RequestParam String beforeTimestamp) {\r\n            System.out.println(&quot;Received: &quot; + beforeTimestamp);\r\n        }\r\n    }\r\n\r\n","title":"&#39;+&#39; (plus sign) not encoded with RestTemplate using String url, but interpreted as &#39; &#39; (space)","body":"<p>We are moving from Java 8 to Java 11, and thus, from Spring Boot 1.5.6 to 2.1.2. We noticed, that when using RestTemplate, the '+' sign is not encoded to '%2B' anymore (changes by SPR-14828). This would be okay, because RFC3986 doesn't list '+' as a reserved character, but it is still interpreted as a ' ' (space) when received in a Spring Boot endpoint.</p>\n\n<p>We have a search query which can take optional timestamps as query parameters. The query looks something like <code>http://example.com/search?beforeTimestamp=2019-01-21T14:56:50%2B00:00</code>. </p>\n\n<p>We can't figure out how to send an encoded plus sign, without it being double-encoded. Query parameter <code>2019-01-21T14:56:50+00:00</code> would be interpreted as <code>2019-01-21T14:56:50 00:00</code>. If we were to encode the parameter ourselves (<code>2019-01-21T14:56:50%2B00:00</code>), then it would be received and interpreted as <code>2019-01-21T14:56:50%252B00:00</code>.</p>\n\n<p>An additional constraint is, that we want to set the base url elsewhere, when setting up the restTemplate, not where the query is being executed.</p>\n\n<p>Alternatively, is there a way to force '+' not to be interpreted as ' ' by the endpoint? </p>\n\n<p>I have written a short example demonstrating some ways of achieving stricter encoding with their drawbacks explained as comments:</p>\n\n<pre><code>package com.example.clientandserver;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.DefaultUriBuilderFactory;\nimport org.springframework.web.util.UriComponentsBuilder;\nimport org.springframework.web.util.UriUtils;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@SpringBootApplication\n@RestController\npublic class ClientAndServerApp implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClientAndServerApp.class, args);\n    }\n\n    @Override\n    public void run(String... args) {\n        String beforeTimestamp = \"2019-01-21T14:56:50+00:00\";\n\n        // Previously - base url and raw params (encoded automatically). \n        // This worked in the earlier version of Spring Boot\n        {\n            RestTemplate restTemplate = new RestTemplateBuilder()\n               .rootUri(\"http://localhost:8080\").build();\n            UriComponentsBuilder b = UriComponentsBuilder.fromPath(\"/search\");\n            if (beforeTimestamp != null) {\n                b.queryParam(\"beforeTimestamp\", beforeTimestamp);\n            }\n            restTemplate.getForEntity(b.toUriString(), Object.class);\n            // Received: 2019-01-21T14:56:50 00:00\n            //       Plus sign missing here ^\n        }\n\n        // Option 1 - no base url and encoding the param ourselves.\n        {\n            RestTemplate restTemplate = new RestTemplate();\n            UriComponentsBuilder b = UriComponentsBuilder\n                .fromHttpUrl(\"http://localhost:8080/search\");\n            if (beforeTimestamp != null) {\n                b.queryParam(\n                    \"beforeTimestamp\",\n                    UriUtils.encode(beforeTimestamp, StandardCharsets.UTF_8)\n                );\n            }\n            restTemplate.getForEntity(\n                b.build(true).toUri(), Object.class\n            ).getBody();\n            // Received: 2019-01-21T14:56:50+00:00\n        }\n\n        // Option 2 - with templated base url, query parameter is not optional.\n        {\n            RestTemplate restTemplate = new RestTemplateBuilder()\n                .rootUri(\"http://localhost:8080\")\n                .uriTemplateHandler(new DefaultUriBuilderFactory())\n                .build();\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(\"beforeTimestamp\", beforeTimestamp);\n            restTemplate.getForEntity(\n                \"/search?beforeTimestamp={beforeTimestamp}\",\n                Object.class,\n                params);\n            // Received: 2019-01-21T14:56:50+00:00\n        }\n    }\n\n    @GetMapping(\"/search\")\n    public void search(@RequestParam String beforeTimestamp) {\n        System.out.println(\"Received: \" + beforeTimestamp);\n    }\n}\n</code></pre>\n"},{"tags":["java","consumer","apache-pulsar","pulsar"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1660158877,"post_id":73310425,"comment_id":129469581,"body_markdown":"Have you tried to use non persistent topic, and shared subscription as described in documentation ?","body":"Have you tried to use non persistent topic, and shared subscription as described in documentation ?"},{"owner":{"account_id":18819196,"reputation":3,"user_id":13725544,"display_name":"Aranya Das"},"score":0,"creation_date":1660311912,"post_id":73310425,"comment_id":129509745,"body_markdown":"@VictorGubin Yes, I did.But it&#39;s showing same behavior. The messages are piling up in the topic.","body":"@VictorGubin Yes, I did.But it&#39;s showing same behavior. The messages are piling up in the topic."}],"answers":[{"tags":[],"owner":{"account_id":26102991,"reputation":101,"user_id":19798114,"display_name":"Penghui Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660887959,"creation_date":1660887959,"answer_id":73412309,"question_id":73310425,"body_markdown":"Which version are you using?\r\n\r\nIf you are using Java Client 2.8.3, 2.9.1, or 2.10.0\r\nIt might be related to this one https://github.com/apache/pulsar/pull/15162\r\nThis is a performance regression and fixed in 2.10.1 and 2.9.3.\r\nFor the 2.8.x version, 2.8.4 is in the release process, it will be available in 2 ~ 3 weeks.\r\n\r\nIf not the above problem. It&#39;s better to provide more context about how high throughput of the topic.","title":"Pulsar Consumer is not consuming fast enough","body":"<p>Which version are you using?</p>\n<p>If you are using Java Client 2.8.3, 2.9.1, or 2.10.0\nIt might be related to this one <a href=\"https://github.com/apache/pulsar/pull/15162\" rel=\"nofollow noreferrer\">https://github.com/apache/pulsar/pull/15162</a>\nThis is a performance regression and fixed in 2.10.1 and 2.9.3.\nFor the 2.8.x version, 2.8.4 is in the release process, it will be available in 2 ~ 3 weeks.</p>\n<p>If not the above problem. It's better to provide more context about how high throughput of the topic.</p>\n"}],"owner":{"account_id":18819196,"reputation":3,"user_id":13725544,"display_name":"Aranya Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73412309,"answer_count":1,"score":0,"last_activity_date":1660887959,"creation_date":1660152354,"question_id":73310425,"body_markdown":"I have a pulsar client and consumer code as below.\r\n\r\n    PulsarClient client = PulsarClient.builder()\r\n                .serviceUrl(pulsarServerUrl).enableTlsHostnameVerification(false)\r\n                .listenerThreads(1).ioThreads(1)\r\n                .build();\r\n\r\n        BatchReceivePolicy batchReceivePolicy\r\n                        = BatchReceivePolicy.builder().maxNumBytes(10 *\r\n                1024 * 1024).maxNumMessages(100000).timeout(-1, TimeUnit.SECONDS).build();\r\n        consumer = client.newConsumer()\r\n                .topic(topicName)\r\n                .subscriptionType(SubscriptionType.Shared)\r\n                .subscriptionName(subscriptionName)\r\n                .subscriptionInitialPosition(SubscriptionInitialPosition.Latest)\r\n                .batchReceivePolicy(batchReceivePolicy)\r\n\r\n                .messageListener((consumer1, msg) -&gt; {\r\n                    LOG.info(&quot;Message Received from Pulsar : &quot; + new String(msg.getData()));\r\n                   \r\n                    consumer1.acknowledgeAsync(msg);\r\n                })\r\n                .subscribe();\r\n\r\nBut with this code, there is a huge backlog in pulsar topic. Its around 12 million. My question is how to make pulsar consumer consume more faster? So that the backlog will be 0. BTW, I have tried batch receive as well, but no luck.","title":"Pulsar Consumer is not consuming fast enough","body":"<p>I have a pulsar client and consumer code as below.</p>\n<pre><code>PulsarClient client = PulsarClient.builder()\n            .serviceUrl(pulsarServerUrl).enableTlsHostnameVerification(false)\n            .listenerThreads(1).ioThreads(1)\n            .build();\n\n    BatchReceivePolicy batchReceivePolicy\n                    = BatchReceivePolicy.builder().maxNumBytes(10 *\n            1024 * 1024).maxNumMessages(100000).timeout(-1, TimeUnit.SECONDS).build();\n    consumer = client.newConsumer()\n            .topic(topicName)\n            .subscriptionType(SubscriptionType.Shared)\n            .subscriptionName(subscriptionName)\n            .subscriptionInitialPosition(SubscriptionInitialPosition.Latest)\n            .batchReceivePolicy(batchReceivePolicy)\n\n            .messageListener((consumer1, msg) -&gt; {\n                LOG.info(&quot;Message Received from Pulsar : &quot; + new String(msg.getData()));\n               \n                consumer1.acknowledgeAsync(msg);\n            })\n            .subscribe();\n</code></pre>\n<p>But with this code, there is a huge backlog in pulsar topic. Its around 12 million. My question is how to make pulsar consumer consume more faster? So that the backlog will be 0. BTW, I have tried batch receive as well, but no luck.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","amazon-kinesis"],"comments":[{"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"score":0,"creation_date":1660887322,"post_id":73412176,"comment_id":129644058,"body_markdown":"which aws service are you trying to connect with Spring boot application?","body":"which aws service are you trying to connect with Spring boot application?"},{"owner":{"account_id":19455670,"reputation":3,"user_id":14231053,"display_name":"Mahesh Thorat"},"score":0,"creation_date":1661146313,"post_id":73412176,"comment_id":129693267,"body_markdown":"I tried connecting kinesis and s3","body":"I tried connecting kinesis and s3"}],"answers":[{"tags":[],"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660887891,"creation_date":1660887891,"answer_id":73412300,"question_id":73412176,"body_markdown":"You can use https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html\r\n\r\ndefault credentials provider chain that looks for credentials in this order:\r\n\r\n- Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY\r\n- Java System Properties - aws.accessKeyId and aws.secretKey\r\n- Web Identity Token credentials from the environment or container\r\n- Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI\r\n- Credentials delivered through the Amazon EC2 container service \r\n- Instance profile credentials delivered through the Amazon EC2 metadata service\r\n\r\n```\r\n@Bean\r\n\tpublic AWSCredentialsProvider amazonAWSCredentialsProvider() {\r\n\t\t\r\n\t\treturn DefaultAWSCredentialsProviderChain.getInstance();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AmazonS3 amazonS3() {\r\n\t\treturn AmazonS3ClientBuilder\r\n\t\t  .standard()\r\n\t\t  .withCredentials(amazonAWSCredentialsProvider())\r\n\t\t  .withRegion(Regions.US_WEST_2)\r\n\t\t  .build();\r\n\t}\r\n```","title":"How to consume temporary AWS credentials in spring boot?","body":"<p>You can use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html</a></p>\n<p>default credentials provider chain that looks for credentials in this order:</p>\n<ul>\n<li>Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY</li>\n<li>Java System Properties - aws.accessKeyId and aws.secretKey</li>\n<li>Web Identity Token credentials from the environment or container</li>\n<li>Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI</li>\n<li>Credentials delivered through the Amazon EC2 container service</li>\n<li>Instance profile credentials delivered through the Amazon EC2 metadata service</li>\n</ul>\n<pre><code>@Bean\n    public AWSCredentialsProvider amazonAWSCredentialsProvider() {\n        \n        return DefaultAWSCredentialsProviderChain.getInstance();\n    }\n    \n    @Bean\n    public AmazonS3 amazonS3() {\n        return AmazonS3ClientBuilder\n          .standard()\n          .withCredentials(amazonAWSCredentialsProvider())\n          .withRegion(Regions.US_WEST_2)\n          .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":19455670,"reputation":3,"user_id":14231053,"display_name":"Mahesh Thorat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660887891,"creation_date":1660886734,"question_id":73412176,"body_markdown":"So I am working on spring boot application from which I am expected to access AWS resources, I know how to access the AWS resources via IAM credentials and STS credentials, I am looking for an example or way to consume following temporary AWS credentials via spring boot application.\r\n\r\n 1. AWS_SECRET_ACCESS_KEY\r\n 2. AWS_ACCESS_KEY\r\n 3. AWS_SESSION_TOKEN\r\n 4. AWS_SESSION_ID\r\n\r\nNote: I have tried accessing via BasicSessionCredentials and BasicAWSCredentials but no luck with the same getting error **Unable to execute Http request** \r\n\r\nSo any reference or example to set all four properties using java would help a lot, thanks!!","title":"How to consume temporary AWS credentials in spring boot?","body":"<p>So I am working on spring boot application from which I am expected to access AWS resources, I know how to access the AWS resources via IAM credentials and STS credentials, I am looking for an example or way to consume following temporary AWS credentials via spring boot application.</p>\n<ol>\n<li>AWS_SECRET_ACCESS_KEY</li>\n<li>AWS_ACCESS_KEY</li>\n<li>AWS_SESSION_TOKEN</li>\n<li>AWS_SESSION_ID</li>\n</ol>\n<p>Note: I have tried accessing via BasicSessionCredentials and BasicAWSCredentials but no luck with the same getting error <strong>Unable to execute Http request</strong></p>\n<p>So any reference or example to set all four properties using java would help a lot, thanks!!</p>\n"},{"tags":["java","yaml","charset"],"owner":{"account_id":19761741,"reputation":68,"user_id":14470687,"display_name":"CHUANWISE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660887606,"creation_date":1660887606,"question_id":73412262,"body_markdown":"The majority of my users don&#39;t know how to solve the charset error, they always ask this question in user groups. So I want to find a solution choosing proper charset automatically.\r\n\r\nThe first solution is fixed charset property in configuration file. For example, program will load the yaml file in any charset, and read the property `metadata.charset`, then reload it in this charset. \r\n\r\nThis is my code choosing property charset:\r\n\r\n```java\r\nif (Objects.isNull(charset)) {\r\n  if (getInputFile().exists()) {\r\n\r\n    final InputStream inputStream = getInputStream();\r\n    final Object object = yaml.load(inputStream);  // line 85\r\n\r\n    if (object instanceof Map) {\r\n      try {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final String charsetName = Structure.of((Map&lt;String, Object&gt;) object).getStringOrFail(charsetPath);\r\n        charset = Charset.forName(charsetName);\r\n      } catch (Throwable throwable) {\r\n        throw new IOException(&quot;can not find the charset in auto charset yaml file: &quot; + getInputFile(), throwable);\r\n      }\r\n    } else {\r\n      throw new IOException(&quot;yaml value is an instance of type &#39;&quot; + object.getClass().getName() + &quot;&#39;, not required &#39;Map&lt;String, Object&gt;&#39;!&quot;);\r\n    }\r\n  } else {\r\n    charset = defaultCharset;\r\n  }\r\n}\r\n```\r\n\r\nThe charset of my users&#39; device are inconsistent, and they maybe share configuration file to each other. Consider following situation: If the shared configuration, includes characters can not load in UTF-8, is saved in GBK, and is loading in a device which charset defaults UTF-8, we will get a exception:\r\n\r\n```\r\njava.nio.charset.MalformedInputException: Input length = 1\r\norg.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\r\n\tat org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:218)\r\n\tat org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:176)\r\n\tat org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:171)\r\n\tat org.yaml.snakeyaml.reader.StreamReader.peek(StreamReader.java:126)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.scanToNextToken(ScannerImpl.java:1218)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:329)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:251)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl$ParseImplicitDocumentStart.produce(ParserImpl.java:214)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:166)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:156)\r\n\tat org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:141)\r\n\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:151)\r\n\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:491)\r\n\tat org.yaml.snakeyaml.Yaml.load(Yaml.java:429)\r\n\tat cn.codethink.xiaoming.platform.configuration.io.AutoCharsetYamlFileInputOutputImpl.getCharset(AutoCharsetYamlFileInputOutputImpl.java:85)\r\n\tat cn.codethink.xiaoming.platform.configuration.io.AutoCharsetYamlFileInputOutputImpl.getReader(AutoCharsetYamlFileInputOutputImpl.java:70)\r\n\tat cn.codethink.xiaoming.platform.configuration.AbstractTextConfiguration.load(AbstractTextConfiguration.java:37)\r\n\tat cn.codethink.xiaoming.platform.configuration.AbstractTextConfiguration.load(AbstractTextConfiguration.java:87)\r\n\tat cn.codethink.xiaoming.platform.configuration.ConfigurationTest.testAutoCharsetYamlFile(ConfigurationTest.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:135)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:125)\r\n\tat org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:183)\r\n\t... 108 more\r\n```\r\n\r\nHow to ignore it and replace wrong characters to anything else **temporarily** (only in this context, the exception will be thrown at other codes in same program)?\r\n\r\nI found solutions choosing property charset: use head charset comments like Python, and just read a few characters by `InputStream` (but I don&#39;t think it&#39;s graceful enough), or use BOM. But I still want to know how to solve the problem.","title":"How to ignore `java.nio.charset.MalformedInputException` and replace wrong characters to anything else temporarily?","body":"<p>The majority of my users don't know how to solve the charset error, they always ask this question in user groups. So I want to find a solution choosing proper charset automatically.</p>\n<p>The first solution is fixed charset property in configuration file. For example, program will load the yaml file in any charset, and read the property <code>metadata.charset</code>, then reload it in this charset.</p>\n<p>This is my code choosing property charset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Objects.isNull(charset)) {\n  if (getInputFile().exists()) {\n\n    final InputStream inputStream = getInputStream();\n    final Object object = yaml.load(inputStream);  // line 85\n\n    if (object instanceof Map) {\n      try {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final String charsetName = Structure.of((Map&lt;String, Object&gt;) object).getStringOrFail(charsetPath);\n        charset = Charset.forName(charsetName);\n      } catch (Throwable throwable) {\n        throw new IOException(&quot;can not find the charset in auto charset yaml file: &quot; + getInputFile(), throwable);\n      }\n    } else {\n      throw new IOException(&quot;yaml value is an instance of type '&quot; + object.getClass().getName() + &quot;', not required 'Map&lt;String, Object&gt;'!&quot;);\n    }\n  } else {\n    charset = defaultCharset;\n  }\n}\n</code></pre>\n<p>The charset of my users' device are inconsistent, and they maybe share configuration file to each other. Consider following situation: If the shared configuration, includes characters can not load in UTF-8, is saved in GBK, and is loading in a device which charset defaults UTF-8, we will get a exception:</p>\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\norg.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\n    at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:218)\n    at org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:176)\n    at org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:171)\n    at org.yaml.snakeyaml.reader.StreamReader.peek(StreamReader.java:126)\n    at org.yaml.snakeyaml.scanner.ScannerImpl.scanToNextToken(ScannerImpl.java:1218)\n    at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:329)\n    at org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:251)\n    at org.yaml.snakeyaml.parser.ParserImpl$ParseImplicitDocumentStart.produce(ParserImpl.java:214)\n    at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:166)\n    at org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:156)\n    at org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:141)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:151)\n    at org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:491)\n    at org.yaml.snakeyaml.Yaml.load(Yaml.java:429)\n    at cn.codethink.xiaoming.platform.configuration.io.AutoCharsetYamlFileInputOutputImpl.getCharset(AutoCharsetYamlFileInputOutputImpl.java:85)\n    at cn.codethink.xiaoming.platform.configuration.io.AutoCharsetYamlFileInputOutputImpl.getReader(AutoCharsetYamlFileInputOutputImpl.java:70)\n    at cn.codethink.xiaoming.platform.configuration.AbstractTextConfiguration.load(AbstractTextConfiguration.java:37)\n    at cn.codethink.xiaoming.platform.configuration.AbstractTextConfiguration.load(AbstractTextConfiguration.java:87)\n    at cn.codethink.xiaoming.platform.configuration.ConfigurationTest.testAutoCharsetYamlFile(ConfigurationTest.java:54)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:135)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n    at java.nio.charset.CoderResult.throwException(CoderResult.java:281)\n    at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\n    at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n    at java.io.InputStreamReader.read(InputStreamReader.java:184)\n    at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:125)\n    at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:183)\n    ... 108 more\n</code></pre>\n<p>How to ignore it and replace wrong characters to anything else <strong>temporarily</strong> (only in this context, the exception will be thrown at other codes in same program)?</p>\n<p>I found solutions choosing property charset: use head charset comments like Python, and just read a few characters by <code>InputStream</code> (but I don't think it's graceful enough), or use BOM. But I still want to know how to solve the problem.</p>\n"},{"tags":["java","list","sorting"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660887335,"creation_date":1660852790,"answer_id":73408776,"question_id":73408706,"body_markdown":"You might want to get familiar with Java 8 static methods of the [`Comparator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#method-summary) interface like `comparing()`, `comparingInt()`, etc.\r\n\r\n```\r\nList&lt;Employee&gt; sortedEmployees = employees.stream()\r\n    .sorted(Comparator.comparingInt(employee -&gt; employee.getLastName().length()))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nAlso, **don&#39;t** sort the data multiple times (i.e. avoid applying `sorted()` more than once), instead you can chain the *comparators* by using different flavors of the method [`thenComparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)).\r\n\r\nNote, that if you don&#39;t need to create a copy of the list, then there&#39;s no point in utilizing streams. Instead, you can sort the source list by using [`List.sort()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)).","title":"Sorting of List of Objects based on Custom parameter Java","body":"<p>You might want to get familiar with Java 8 static methods of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#method-summary\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> interface like <code>comparing()</code>, <code>comparingInt()</code>, etc.</p>\n<pre><code>List&lt;Employee&gt; sortedEmployees = employees.stream()\n    .sorted(Comparator.comparingInt(employee -&gt; employee.getLastName().length()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Also, <strong>don't</strong> sort the data multiple times (i.e. avoid applying <code>sorted()</code> more than once), instead you can chain the <em>comparators</em> by using different flavors of the method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a>.</p>\n<p>Note, that if you don't need to create a copy of the list, then there's no point in utilizing streams. Instead, you can sort the source list by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List.sort()</code></a>.</p>\n"}],"owner":{"account_id":15576095,"reputation":21,"user_id":11237182,"display_name":"Mahidhar Gadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660887335,"creation_date":1660852324,"question_id":73408706,"body_markdown":"I am writing a component where it requires to sort upon Object variable parameter . For example : Employee has variable lastName.\r\nI want to sort the employees by the lastName.lenght()\r\nI have seen many examples,but i could not find an answer\r\nCan I achieve the result in this way or do we need a different approach.\r\n\r\nI am giving the example\r\n```\r\npublic class Employee {\r\n    private int Id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String department;\r\n\r\n    public Employee(int id, String firstName, String lastName, String department) {\r\n        Id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.department = department;\r\n    }\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public int getId() {\r\n        return Id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        Id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getDepartment() {\r\n        return department;\r\n    }\r\n\r\n    public void setDepartment(String department) {\r\n        this.department = department;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;Id=&quot; + Id +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, department=&#39;&quot; + department + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class SortExample\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        ArrayList&lt;Employee&gt; employees = getUnsortedEmployeeList();\r\n        Comparator&lt;Employee&gt; compareByName = Comparator\r\n                .comparing(Employee::getFirstName).reversed();\r\n\r\n        Comparator&lt;Employee&gt; compareByLastName = Comparator\r\n                .comparing(Employee::getLastName).reversed();\r\n\r\n\r\n        \r\n        List&lt;Employee&gt; sortedEmployees = employees.stream()\r\n                .sorted(compareByName)\r\n                .sorted(compareByLastName)\r\n\t\t//I have commented the code\r\n        //.sorted((e1,e2) -&gt;e1.getLastName().length().compareTo(e2.getLastName().length()))\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(sortedEmployees);\r\n    }\r\n\r\n    private static ArrayList&lt;Employee&gt; getUnsortedEmployeeList()\r\n    {\r\n        ArrayList&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n        list.add( new Employee(2, &quot;Irene&quot;, &quot;Parr&quot;,&quot;programming&quot;) );\r\n        list.add( new Employee(1, &quot;Nicola&quot;, &quot;Mitchell&quot;,&quot;programming&quot;) );\r\n        list.add( new Employee(4, &quot;Emily&quot;, &quot;Carr&quot;,&quot;finance&quot;) );\r\n        list.add( new Employee(5, &quot;Blake&quot;, &quot;Baker&quot;,&quot;finance&quot;) );\r\n        list.add( new Employee(3, &quot;Natalie&quot;, &quot;Parsons&quot;,&quot;marketing&quot;) );\r\n        list.add( new Employee(7, &quot;Olivia&quot;, &quot;Clarkson&quot;,&quot;marketing&quot;) );\r\n        list.add( new Employee(6, &quot;Justin&quot;, &quot;Scott&quot;,&quot;marketing&quot;) );\r\n\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated.","title":"Sorting of List of Objects based on Custom parameter Java","body":"<p>I am writing a component where it requires to sort upon Object variable parameter . For example : Employee has variable lastName.\nI want to sort the employees by the lastName.lenght()\nI have seen many examples,but i could not find an answer\nCan I achieve the result in this way or do we need a different approach.</p>\n<p>I am giving the example</p>\n<pre><code>public class Employee {\n    private int Id;\n    private String firstName;\n    private String lastName;\n    private String department;\n\n    public Employee(int id, String firstName, String lastName, String department) {\n        Id = id;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.department = department;\n    }\n\n    public Employee() {\n    }\n\n    public int getId() {\n        return Id;\n    }\n\n    public void setId(int id) {\n        Id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;Id=&quot; + Id +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, department='&quot; + department + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class SortExample\n{\n    public static void main(String[] args)\n    {\n        ArrayList&lt;Employee&gt; employees = getUnsortedEmployeeList();\n        Comparator&lt;Employee&gt; compareByName = Comparator\n                .comparing(Employee::getFirstName).reversed();\n\n        Comparator&lt;Employee&gt; compareByLastName = Comparator\n                .comparing(Employee::getLastName).reversed();\n\n\n        \n        List&lt;Employee&gt; sortedEmployees = employees.stream()\n                .sorted(compareByName)\n                .sorted(compareByLastName)\n        //I have commented the code\n        //.sorted((e1,e2) -&gt;e1.getLastName().length().compareTo(e2.getLastName().length()))\n                .collect(Collectors.toList());\n\n        System.out.println(sortedEmployees);\n    }\n\n    private static ArrayList&lt;Employee&gt; getUnsortedEmployeeList()\n    {\n        ArrayList&lt;Employee&gt; list = new ArrayList&lt;&gt;();\n        list.add( new Employee(2, &quot;Irene&quot;, &quot;Parr&quot;,&quot;programming&quot;) );\n        list.add( new Employee(1, &quot;Nicola&quot;, &quot;Mitchell&quot;,&quot;programming&quot;) );\n        list.add( new Employee(4, &quot;Emily&quot;, &quot;Carr&quot;,&quot;finance&quot;) );\n        list.add( new Employee(5, &quot;Blake&quot;, &quot;Baker&quot;,&quot;finance&quot;) );\n        list.add( new Employee(3, &quot;Natalie&quot;, &quot;Parsons&quot;,&quot;marketing&quot;) );\n        list.add( new Employee(7, &quot;Olivia&quot;, &quot;Clarkson&quot;,&quot;marketing&quot;) );\n        list.add( new Employee(6, &quot;Justin&quot;, &quot;Scott&quot;,&quot;marketing&quot;) );\n\n        return list;\n    }\n}\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1660894839,"post_id":73412111,"comment_id":129645932,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."}],"answers":[{"tags":[],"owner":{"account_id":25916347,"reputation":1,"user_id":19639690,"display_name":"Jeffin Pulsator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660887226,"creation_date":1660887226,"answer_id":73412222,"question_id":73412111,"body_markdown":"i think your app crashes when you call finish().\r\njust remove that finish() and check if its getting updated in the database","title":"Adding data in Firebase realtime database using push() in Android Studio","body":"<p>i think your app crashes when you call finish().\njust remove that finish() and check if its getting updated in the database</p>\n"}],"owner":{"account_id":25882825,"reputation":9,"user_id":19611563,"display_name":"New"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660887226,"creation_date":1660886133,"question_id":73412111,"body_markdown":"I&#39;m trying to make a feature in my hospital app which allows users to book appointment with doctor. So when they book appointments, the details such as date of appointment, patient email, doctor email, etc should get stored in both parent nodes named &quot;Doctor Schedule&quot; and &quot;Patient Appointments&quot;. I&#39;m trying to do this using push() in Firebase, but my app keeps crashing. Please help me fix it. \r\n\r\n    public class Book extends AppCompatActivity {\r\n    \r\n        TextView selectedDate;\r\n        Button calenderButton,ok;\r\n        FirebaseAuth mAuth;\r\n        DatabaseReference docUser, patRef;\r\n        ProgressDialog loader;\r\n        FirebaseDatabase database= FirebaseDatabase.getInstance();\r\n        String Date;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_book);\r\n    \r\n            Intent intent = getIntent();\r\n    \r\n            // receive the value by getStringExtra() method\r\n            // and key must be same which is send by first\r\n            // activity\r\n            String docEmail = intent.getStringExtra(&quot;message_key1&quot;);\r\n            String patEmail = intent.getStringExtra(&quot;message_key2&quot;);\r\n            String patname = intent.getStringExtra(&quot;message_key2.1&quot;);\r\n            String docname = intent.getStringExtra(&quot;message_key2.2&quot;);\r\n            String dphone = intent.getStringExtra(&quot;message_key2.3&quot;);\r\n    \r\n            //Toast.makeText(Book.this, patname, Toast.LENGTH_SHORT).show();\r\n    \r\n            selectedDate=findViewById(R.id.text);\r\n            calenderButton=findViewById(R.id.calender);\r\n            ok=findViewById(R.id.ok);\r\n    \r\n            loader = new ProgressDialog(this);\r\n            mAuth = FirebaseAuth.getInstance();\r\n    \r\n            FirebaseUser user= mAuth.getInstance().getCurrentUser();\r\n            //docUser= database.getReference().child(&quot;Doctor Schedule&quot;);\r\n    \r\n            MaterialDatePicker materialDatePicker=MaterialDatePicker.Builder.datePicker().\r\n                    setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\r\n    \r\n            calenderButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    materialDatePicker.show(getSupportFragmentManager(),&quot;Tag_Picker&quot;);\r\n                    materialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\r\n                        @Override\r\n                        public void onPositiveButtonClick(Object selection) {\r\n                            selectedDate.setText(materialDatePicker.getHeaderText());\r\n                            Date=materialDatePicker.getHeaderText();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n              class Post {\r\n    \r\n                  public Post(String Date, String Patient,String Email,String Doctor,String Status) {\r\n                    // ...\r\n                }\r\n    \r\n            }\r\n    \r\n            class Post1 {\r\n    \r\n                public Post1(String Date, String Patient,String Doctor,String Email,String Phone,String Status) {\r\n                    // ...\r\n                }\r\n    \r\n            }\r\n    \r\n            ok.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    if (Date != null) {\r\n    \r\n                        docUser = database.getReference().child(&quot;Doctor Schedule&quot;);\r\n                        DatabaseReference newdocUser = docUser.push();\r\n    \r\n                        newdocUser.setValue(new Post(Date, patname,patEmail,docEmail,&quot;Pending&quot;));\r\n \r\n    \r\n                        patRef= database.getReference().child(&quot;Patient Appointments&quot;);\r\n                        DatabaseReference newpatRef = patRef.push();\r\n    \r\n                        newpatRef.setValue(new Post1(Date,patEmail,docname,docEmail,dphone,&quot;Pending&quot;));\r\n    \r\n                  \r\n                    }\r\n    \r\n                    else {\r\n                        Toast.makeText(Book.this, &quot;Select date!&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n    \r\n                    finish();\r\n    \r\n                }\r\n            });\r\n        }\r\n    }","title":"Adding data in Firebase realtime database using push() in Android Studio","body":"<p>I'm trying to make a feature in my hospital app which allows users to book appointment with doctor. So when they book appointments, the details such as date of appointment, patient email, doctor email, etc should get stored in both parent nodes named &quot;Doctor Schedule&quot; and &quot;Patient Appointments&quot;. I'm trying to do this using push() in Firebase, but my app keeps crashing. Please help me fix it.</p>\n<pre><code>public class Book extends AppCompatActivity {\n\n    TextView selectedDate;\n    Button calenderButton,ok;\n    FirebaseAuth mAuth;\n    DatabaseReference docUser, patRef;\n    ProgressDialog loader;\n    FirebaseDatabase database= FirebaseDatabase.getInstance();\n    String Date;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_book);\n\n        Intent intent = getIntent();\n\n        // receive the value by getStringExtra() method\n        // and key must be same which is send by first\n        // activity\n        String docEmail = intent.getStringExtra(&quot;message_key1&quot;);\n        String patEmail = intent.getStringExtra(&quot;message_key2&quot;);\n        String patname = intent.getStringExtra(&quot;message_key2.1&quot;);\n        String docname = intent.getStringExtra(&quot;message_key2.2&quot;);\n        String dphone = intent.getStringExtra(&quot;message_key2.3&quot;);\n\n        //Toast.makeText(Book.this, patname, Toast.LENGTH_SHORT).show();\n\n        selectedDate=findViewById(R.id.text);\n        calenderButton=findViewById(R.id.calender);\n        ok=findViewById(R.id.ok);\n\n        loader = new ProgressDialog(this);\n        mAuth = FirebaseAuth.getInstance();\n\n        FirebaseUser user= mAuth.getInstance().getCurrentUser();\n        //docUser= database.getReference().child(&quot;Doctor Schedule&quot;);\n\n        MaterialDatePicker materialDatePicker=MaterialDatePicker.Builder.datePicker().\n                setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\n\n        calenderButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                materialDatePicker.show(getSupportFragmentManager(),&quot;Tag_Picker&quot;);\n                materialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\n                    @Override\n                    public void onPositiveButtonClick(Object selection) {\n                        selectedDate.setText(materialDatePicker.getHeaderText());\n                        Date=materialDatePicker.getHeaderText();\n                    }\n                });\n            }\n        });\n\n          class Post {\n\n              public Post(String Date, String Patient,String Email,String Doctor,String Status) {\n                // ...\n            }\n\n        }\n\n        class Post1 {\n\n            public Post1(String Date, String Patient,String Doctor,String Email,String Phone,String Status) {\n                // ...\n            }\n\n        }\n\n        ok.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (Date != null) {\n\n                    docUser = database.getReference().child(&quot;Doctor Schedule&quot;);\n                    DatabaseReference newdocUser = docUser.push();\n\n                    newdocUser.setValue(new Post(Date, patname,patEmail,docEmail,&quot;Pending&quot;));\n\n\n                    patRef= database.getReference().child(&quot;Patient Appointments&quot;);\n                    DatabaseReference newpatRef = patRef.push();\n\n                    newpatRef.setValue(new Post1(Date,patEmail,docname,docEmail,dphone,&quot;Pending&quot;));\n\n              \n                }\n\n                else {\n                    Toast.makeText(Book.this, &quot;Select date!&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n\n                finish();\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","copy","opengl-es-2.0","lwjgl","vbo"],"comments":[{"owner":{"account_id":5046303,"reputation":6678,"user_id":4052193,"accept_rate":50,"display_name":"Columbo"},"score":3,"creation_date":1661007362,"post_id":73412194,"comment_id":129670719,"body_markdown":"Could you keep the data client-side and render using client arrays instead of with VBOs? Never ideal, but at least means you don&#39;t duplicate the data if memory is a top concern.","body":"Could you keep the data client-side and render using client arrays instead of with VBOs? Never ideal, but at least means you don&#39;t duplicate the data if memory is a top concern."},{"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"score":0,"creation_date":1661145348,"post_id":73412194,"comment_id":129693125,"body_markdown":"no, CPU is a huge bottleneck too, unfortunately. I am leaning towards duplication after all, but I wanted to know if anyone knows a better way.","body":"no, CPU is a huge bottleneck too, unfortunately. I am leaning towards duplication after all, but I wanted to know if anyone knows a better way."}],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660886946,"creation_date":1660886946,"question_id":73412194,"body_markdown":"Due to a downgrade in my project&#39;s hardware I need to switch from OpenGL-ES 3.2 to OpenGL 2.0.\r\n\r\nThe feature that I&#39;m struggling with is glCopyBufferSubData, which allows you to copy data between 2 VBO&#39;s.\r\n\r\nThe problem that I&#39;m facing is that I have meshes that dynamically grow, and it&#39;s impossible to tell how big they will get from the start. So I have to sometimes expand the VBO buffers in increments, for example once every 100 vertexes I would allocate space for another 100.\r\n\r\nHere&#39;s how I used to do that (Java LWJGL code):\r\n```\r\n// Input:\r\n// buffer - an empty buffer object of new expanded size\r\n// vertexCount - number of vertexes currently written into the old buffer\r\npublic void reCreate(FloatBuffer buffer, int vertexCount)\r\n    {\r\n        glBindBuffer(GL_COPY_READ_BUFFER, ID);\r\n\r\n        int newVboID = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, newVboID);\r\n\r\n        // allocates new memory for the new VBO\r\n        glBufferData(GL_ARRAY_BUFFER, buffer, GL_STATIC_DRAW);\r\n\r\n        // copy data from old VBO to new\r\n        glCopyBufferSubData(GL_COPY_READ_BUFFER, GL_ARRAY_BUFFER, 0, 0, vertexCount * FLOAT_SIZE);\r\n\r\n        // replace VBO ID and delete the old VBO\r\n        glDeleteBuffers(ID);\r\n        ID = newVboID;\r\n\r\n        // unbind buffers\r\n        glBindBuffer(GL_COPY_READ_BUFFER, 0);\r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n    }\r\n```\r\n\r\nHow can I achieve the same goal in 2.0? I.e. basically allocating more memory for VBO data array?\r\nThe only way I can think of is to read data from VBO into the client application and then just create a new VBO with that data. But that&#39;s gonna be very slow.\r\n\r\nOh, I also can&#39;t keep the data client-side (to avoid reading from VBO) because of memory concerns. It&#39;s too much.","title":"OpenGL-ES 2.0 glCopyBufferSubData alternative","body":"<p>Due to a downgrade in my project's hardware I need to switch from OpenGL-ES 3.2 to OpenGL 2.0.</p>\n<p>The feature that I'm struggling with is glCopyBufferSubData, which allows you to copy data between 2 VBO's.</p>\n<p>The problem that I'm facing is that I have meshes that dynamically grow, and it's impossible to tell how big they will get from the start. So I have to sometimes expand the VBO buffers in increments, for example once every 100 vertexes I would allocate space for another 100.</p>\n<p>Here's how I used to do that (Java LWJGL code):</p>\n<pre><code>// Input:\n// buffer - an empty buffer object of new expanded size\n// vertexCount - number of vertexes currently written into the old buffer\npublic void reCreate(FloatBuffer buffer, int vertexCount)\n    {\n        glBindBuffer(GL_COPY_READ_BUFFER, ID);\n\n        int newVboID = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, newVboID);\n\n        // allocates new memory for the new VBO\n        glBufferData(GL_ARRAY_BUFFER, buffer, GL_STATIC_DRAW);\n\n        // copy data from old VBO to new\n        glCopyBufferSubData(GL_COPY_READ_BUFFER, GL_ARRAY_BUFFER, 0, 0, vertexCount * FLOAT_SIZE);\n\n        // replace VBO ID and delete the old VBO\n        glDeleteBuffers(ID);\n        ID = newVboID;\n\n        // unbind buffers\n        glBindBuffer(GL_COPY_READ_BUFFER, 0);\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n    }\n</code></pre>\n<p>How can I achieve the same goal in 2.0? I.e. basically allocating more memory for VBO data array?\nThe only way I can think of is to read data from VBO into the client application and then just create a new VBO with that data. But that's gonna be very slow.</p>\n<p>Oh, I also can't keep the data client-side (to avoid reading from VBO) because of memory concerns. It's too much.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24239813,"reputation":56,"user_id":18192360,"display_name":"Breno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656105385,"creation_date":1656105385,"answer_id":72749483,"question_id":72377943,"body_markdown":"In NSA mode, many operators show the 5G icon even though there is no 5G bearer in use, and only the 4G anchor cell is indicating that it supports 5G aggregation via upperLayerIndication.\r\n\r\nSo in your case you might not even have a 5G cell configured, and there is no way to force the phone to acquire a 5G bearer (it&#39;s up to the network to reconfigure you to the 5G cell). If you&#39;re not using mobile data, it is very that likely there is no 5G bearer in use. \r\n\r\nBut it is usually configured when you start a data session. So make sure to have a speedtest running, or some kind of download session when accessing CellIdentityNr/CellInfoNr.\r\n\r\nThe only API provided by Android Telephony to retrieve the NR-ARFCN is [`getNrarfcn()`][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/telephony/CellIdentityNr#getNrarfcn()","title":"Retrieving ARFCN in a 5G NR NSA network","body":"<p>In NSA mode, many operators show the 5G icon even though there is no 5G bearer in use, and only the 4G anchor cell is indicating that it supports 5G aggregation via upperLayerIndication.</p>\n<p>So in your case you might not even have a 5G cell configured, and there is no way to force the phone to acquire a 5G bearer (it's up to the network to reconfigure you to the 5G cell). If you're not using mobile data, it is very that likely there is no 5G bearer in use.</p>\n<p>But it is usually configured when you start a data session. So make sure to have a speedtest running, or some kind of download session when accessing CellIdentityNr/CellInfoNr.</p>\n<p>The only API provided by Android Telephony to retrieve the NR-ARFCN is <a href=\"https://developer.android.com/reference/android/telephony/CellIdentityNr#getNrarfcn()\" rel=\"nofollow noreferrer\"><code>getNrarfcn()</code></a>.</p>\n"}],"owner":{"account_id":15918260,"reputation":33,"user_id":11486145,"display_name":"Diego S&#225;nchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660886316,"creation_date":1653482831,"question_id":72377943,"body_markdown":"I&#39;m trying to retrieve the ARFCN (Frequency Channel Number) that a device in a 5G network is currently using. The thing is that the 5G all the operators in my city offer is of the NSA type, thus meaning that the phone will always be registered to a 4G LTE network as a primary cell and will use a 5G NR cell as a secondary one.\r\n\r\nTo get the mentioned ARFCN one will normally use the [PhoneStateListener.onCellInfoChanged(List&lt;CellInfo&gt; cellInfo)][1] method and check from the list which [CellInfo][2] is that one the device is registered on, get the [CellIdentity][3] attached to it and then get the ARFCN. **The problem is that, aside from being only registerd to a CellInfoLTE (4G) there&#39;s no trace of any CellInfoNR (5G), registered or not.** Weird thing is I can get the 5G signal intensity through [PhoneStateListener.onSignalStrengthsChanged(SignalStrength signalStrength)][4]. The phone is always displaying the 5G logo on the top-right corner too.\r\n\r\nAny help would be appreciated\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/telephony/PhoneStateListener#onCellInfoChanged(java.util.List%3Candroid.telephony.CellInfo%3E)\r\n  [2]: https://developer.android.com/reference/android/telephony/CellInfo\r\n  [3]: https://developer.android.com/reference/android/telephony/CellIdentityNr\r\n  [4]: https://developer.android.com/reference/android/telephony/PhoneStateListener#onSignalStrengthsChanged(android.telephony.SignalStrength)","title":"Retrieving ARFCN in a 5G NR NSA network","body":"<p>I'm trying to retrieve the ARFCN (Frequency Channel Number) that a device in a 5G network is currently using. The thing is that the 5G all the operators in my city offer is of the NSA type, thus meaning that the phone will always be registered to a 4G LTE network as a primary cell and will use a 5G NR cell as a secondary one.</p>\n<p>To get the mentioned ARFCN one will normally use the <a href=\"https://developer.android.com/reference/android/telephony/PhoneStateListener#onCellInfoChanged(java.util.List%3Candroid.telephony.CellInfo%3E)\" rel=\"nofollow noreferrer\">PhoneStateListener.onCellInfoChanged(List cellInfo)</a> method and check from the list which <a href=\"https://developer.android.com/reference/android/telephony/CellInfo\" rel=\"nofollow noreferrer\">CellInfo</a> is that one the device is registered on, get the <a href=\"https://developer.android.com/reference/android/telephony/CellIdentityNr\" rel=\"nofollow noreferrer\">CellIdentity</a> attached to it and then get the ARFCN. <strong>The problem is that, aside from being only registerd to a CellInfoLTE (4G) there's no trace of any CellInfoNR (5G), registered or not.</strong> Weird thing is I can get the 5G signal intensity through <a href=\"https://developer.android.com/reference/android/telephony/PhoneStateListener#onSignalStrengthsChanged(android.telephony.SignalStrength)\" rel=\"nofollow noreferrer\">PhoneStateListener.onSignalStrengthsChanged(SignalStrength signalStrength)</a>. The phone is always displaying the 5G logo on the top-right corner too.</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","code-injection"],"comments":[{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1660835431,"post_id":73405414,"comment_id":129632098,"body_markdown":"Do you have an exception? Can you post it?","body":"Do you have an exception? Can you post it?"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1660835468,"post_id":73405414,"comment_id":129632123,"body_markdown":"Where is your properties file located? Is is it under ```src/main/resources``` and named ```application.properties```?","body":"Where is your properties file located? Is is it under <code>src&#47;main&#47;resources</code> and named <code>application.properties</code>?"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1660835607,"post_id":73405414,"comment_id":129632187,"body_markdown":"Also, confirm that the local.address is under right spirng profile inside application.properties. Another thing is, if the properties file name is `application.yml` the format is different.","body":"Also, confirm that the local.address is under right spirng profile inside application.properties. Another thing is, if the properties file name is <code>application.yml</code> the format is different."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1660836511,"post_id":73405414,"comment_id":129632531,"body_markdown":"How can you tell it didn&#39;t work? How do you use `AuthorizationServiceImpl`?","body":"How can you tell it didn&#39;t work? How do you use <code>AuthorizationServiceImpl</code>?"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1660838010,"post_id":73405414,"comment_id":129633136,"body_markdown":"Is this a Spring managed bean?","body":"Is this a Spring managed bean?"}],"owner":{"account_id":18525912,"reputation":53,"user_id":14426675,"display_name":"LordCommander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660885719,"creation_date":1660835212,"question_id":73405414,"body_markdown":"I have a spring service:\r\n\r\n    @Service\r\n    public class AuthorizationServiceImpl implements AuthorizationService {\r\n\r\n    @Value(&quot;${local.address}&quot;)\r\n    private String localIP;\r\n\r\n    private final String LOCALHOST_IPV4 = &quot;127.0.0.1&quot;;\r\n    private final String LOCALHOST_IPV6 = &quot;0:0:0:0:0:0:0:1&quot;;\r\n\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @Override\r\n    public boolean isAuthorized(String token, HttpServletRequest request) {\r\n        try {\r\n            TokenUserModel user = new TokenUserModel();\r\n            user.setSessionID(&quot;&quot;);\r\n            user = getTokenUserModel(token);\r\n            IServiceAAA client = new ServiceAAA().getBasicHttpBindingIServiceAAA();\r\n            int systemId = client.getUserSystemId(&quot;InvoiceAdmin&quot;);\r\n\r\n            String xRealIP = request.getRemoteAddr();\r\n            String ipAddress = xRealIP.equals(LOCALHOST_IPV4) || xRealIP.equals(LOCALHOST_IPV6) ? localIP : xRealIP;\r\n            String userAgent = request.getHeader(&quot;User-Agent&quot;);\r\n            int response = client.checkPermissionAndUserData(user.getSessionID(), &quot;Admin&quot;,\r\n                    userAgent,\r\n                    ipAddress, systemId, systemId, &quot;&quot;);\r\n            return response == 0;\r\n        } catch (Exception ex) {\r\n            throw new AuthorizationException(AuthorizationError.ERR_WHILE_AUTHORISATION);\r\n        }\r\n    }\r\n}\r\n\r\n`@Value(&quot;${local.address}&quot;)`&lt;br&gt;\r\n`private String localIP;` - this line of code didn&#39;t working, not populating local.address field from application.properties:\r\n\r\n    local.address=10.10.16.13\r\n\r\nUpdate: \r\n\r\n 1. I have 3 application properties file for spring profiles, named:\r\n    **application.properties**,**application-dev.properties**,**application-prod.properties**,\r\n    my current active profile is **application-dev.properties**\r\n    (&#39;spring.profiles.active=dev&#39; - it&#39;s inside of my\r\n    application.properties file). \r\n 2. I&#39;m sure that &#39;local.address&#39;\r\n        property is defined in application-dev.properties\r\n        \r\n            local.address=10.10.16.13\r\n 3. **AuthorizationService** is a just interface that **AutheroziationServiceImpl** impliments.\r\n```\r\npublic interface AuthorizationService {\r\n    boolean isAuthorized(String token, HttpServletRequest request) throws UnsupportedEncodingException;\r\n\r\n    void logout(String token) throws UnsupportedEncodingException;\r\n\r\n    TokenUserModel getTokenUserModel(String token) throws UnsupportedEncodingException;\r\n}\r\n```\r\nI&#39;m using it in constructor of one of controllers:\r\n```\r\n@Autowired\r\n    public AuthorizationController(AuthorizationService authorizationService) {\r\n        this.authorizationService = authorizationService;\r\n    }\r\n    private final AuthorizationService authorizationService;\r\n\r\n```\r\n 4. Yes, it&#39;s spring managed bean annotated as ```@Service```","title":"why spring boot @Value populating not working","body":"<p>I have a spring service:</p>\n<pre><code>@Service\npublic class AuthorizationServiceImpl implements AuthorizationService {\n\n@Value(&quot;${local.address}&quot;)\nprivate String localIP;\n\nprivate final String LOCALHOST_IPV4 = &quot;127.0.0.1&quot;;\nprivate final String LOCALHOST_IPV6 = &quot;0:0:0:0:0:0:0:1&quot;;\n\n@CrossOrigin(origins = &quot;*&quot;)\n@Override\npublic boolean isAuthorized(String token, HttpServletRequest request) {\n    try {\n        TokenUserModel user = new TokenUserModel();\n        user.setSessionID(&quot;&quot;);\n        user = getTokenUserModel(token);\n        IServiceAAA client = new ServiceAAA().getBasicHttpBindingIServiceAAA();\n        int systemId = client.getUserSystemId(&quot;InvoiceAdmin&quot;);\n\n        String xRealIP = request.getRemoteAddr();\n        String ipAddress = xRealIP.equals(LOCALHOST_IPV4) || xRealIP.equals(LOCALHOST_IPV6) ? localIP : xRealIP;\n        String userAgent = request.getHeader(&quot;User-Agent&quot;);\n        int response = client.checkPermissionAndUserData(user.getSessionID(), &quot;Admin&quot;,\n                userAgent,\n                ipAddress, systemId, systemId, &quot;&quot;);\n        return response == 0;\n    } catch (Exception ex) {\n        throw new AuthorizationException(AuthorizationError.ERR_WHILE_AUTHORISATION);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><code>@Value(&quot;${local.address}&quot;)</code><br>\n<code>private String localIP;</code> - this line of code didn't working, not populating local.address field from application.properties:</p>\n<pre><code>local.address=10.10.16.13\n</code></pre>\n<p>Update:</p>\n<ol>\n<li><p>I have 3 application properties file for spring profiles, named:\n<strong>application.properties</strong>,<strong>application-dev.properties</strong>,<strong>application-prod.properties</strong>,\nmy current active profile is <strong>application-dev.properties</strong>\n('spring.profiles.active=dev' - it's inside of my\napplication.properties file).</p>\n</li>\n<li><p>I'm sure that 'local.address'\nproperty is defined in application-dev.properties</p>\n<pre><code>    local.address=10.10.16.13\n</code></pre>\n</li>\n<li><p><strong>AuthorizationService</strong> is a just interface that <strong>AutheroziationServiceImpl</strong> impliments.</p>\n</li>\n</ol>\n<pre><code>public interface AuthorizationService {\n    boolean isAuthorized(String token, HttpServletRequest request) throws UnsupportedEncodingException;\n\n    void logout(String token) throws UnsupportedEncodingException;\n\n    TokenUserModel getTokenUserModel(String token) throws UnsupportedEncodingException;\n}\n</code></pre>\n<p>I'm using it in constructor of one of controllers:</p>\n<pre><code>@Autowired\n    public AuthorizationController(AuthorizationService authorizationService) {\n        this.authorizationService = authorizationService;\n    }\n    private final AuthorizationService authorizationService;\n\n</code></pre>\n<ol start=\"4\">\n<li>Yes, it's spring managed bean annotated as <code>@Service</code></li>\n</ol>\n"},{"tags":["java","android","jsoup"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1660884236,"post_id":73411735,"comment_id":129643595,"body_markdown":"Its just a Url string no matter from where you get it .. the jsoup part will be same .. Please edit your question with the exact problem you are facing . is in parsing or in intent its not clear right now .","body":"Its just a Url string no matter from where you get it .. the jsoup part will be same .. Please edit your question with the exact problem you are facing . is in parsing or in intent its not clear right now ."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1660887029,"post_id":73411735,"comment_id":129644007,"body_markdown":"Move all `getIntent()` code inside `onCreate()` just before `new MyAsynTask().execute()` and make sure you are passing `Author` key in the Intent from Previous `Activity` .. Also you shouldn&#39;t be using `AsyncTask` anymore its [deprecated](https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives) long ago .","body":"Move all <code>getIntent()</code> code inside <code>onCreate()</code> just before <code>new MyAsynTask().execute()</code> and make sure you are passing <code>Author</code> key in the Intent from Previous <code>Activity</code> .. Also you shouldn&#39;t be using <code>AsyncTask</code> anymore its <a href=\"https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives\">deprecated</a> long ago ."}],"owner":{"account_id":23487515,"reputation":11,"user_id":17538894,"display_name":"RadioTracer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660885431,"creation_date":1660882147,"question_id":73411735,"body_markdown":"    public class MainActivity extends AppCompatActivity {\r\n    WebView webview;\r\n    //I did this &#128071;\r\n    Intent intent = getIntent();\r\n        String I = intent.getStringExtra( &quot;Author&quot; );\r\n    // and removed this &#128071;\r\n    String url=&quot;http://pixelay.com/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n\r\n    webview= (WebView) findViewById(R.id.webview);\r\n    new MyAsynTask().execute();\r\n    }\r\n\r\n    private class MyAsynTask extends AsyncTask&lt;Void, Void, Document&gt; {\r\n    @Override\r\n    protected Document doInBackground(Void... voids) {\r\n\r\n        Document document = null;\r\n        try {\r\n                             // Here&#128071;\r\n            document= Jsoup.connect(I).get();\r\n            document.getElementsByClass(&quot;main-navigation&quot;).remove();\r\n            document.getElementsByClass(&quot;custom-header-image&quot;).remove();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return document;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Document document) {\r\n        super.onPostExecute(document);\r\n                          //Here&#128071;\r\n    webview.loadDataWithBaseURL(I,document.toString(),&quot;text/html&quot;,&quot;utf-8&quot;,&quot;&quot;);\r\n        webview.getSettings().setCacheMode( \r\n    WebSettings.LOAD_CACHE_ELSE_NETWORK );\r\n\r\n        webview.setWebViewClient(new WebViewClient(){\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, \r\n    WebResourceRequest request) {\r\n                      //Here &#128071;\r\n                view.loadUrl(I);\r\n                return super.shouldOverrideUrlLoading(view, request);\r\n            }\r\n        });\r\n     }\r\n    }\r\n\r\nBut it does not work\r\n\r\nLogcat shows this\r\n\r\n java.lang.RuntimeException: Unable to instantiate activity ComponentInfo \r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Intent.getStringExtra(java.lang.String)&#39; on a null object\r\n\r\n\r\nHow can I can do that? Please help me","title":"Get string URL from intent.getStringExtra to parse using Jsoup","body":"<pre><code>public class MainActivity extends AppCompatActivity {\nWebView webview;\n//I did this 👇\nIntent intent = getIntent();\n    String I = intent.getStringExtra( &quot;Author&quot; );\n// and removed this 👇\nString url=&quot;http://pixelay.com/&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\n\nwebview= (WebView) findViewById(R.id.webview);\nnew MyAsynTask().execute();\n}\n\nprivate class MyAsynTask extends AsyncTask&lt;Void, Void, Document&gt; {\n@Override\nprotected Document doInBackground(Void... voids) {\n\n    Document document = null;\n    try {\n                         // Here👇\n        document= Jsoup.connect(I).get();\n        document.getElementsByClass(&quot;main-navigation&quot;).remove();\n        document.getElementsByClass(&quot;custom-header-image&quot;).remove();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return document;\n}\n\n@Override\nprotected void onPostExecute(Document document) {\n    super.onPostExecute(document);\n                      //Here👇\nwebview.loadDataWithBaseURL(I,document.toString(),&quot;text/html&quot;,&quot;utf-8&quot;,&quot;&quot;);\n    webview.getSettings().setCacheMode( \nWebSettings.LOAD_CACHE_ELSE_NETWORK );\n\n    webview.setWebViewClient(new WebViewClient(){\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, \nWebResourceRequest request) {\n                  //Here 👇\n            view.loadUrl(I);\n            return super.shouldOverrideUrlLoading(view, request);\n        }\n    });\n }\n}\n</code></pre>\n<p>But it does not work</p>\n<p>Logcat shows this</p>\n<p>java.lang.RuntimeException: Unable to instantiate activity ComponentInfo\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object</p>\n<p>How can I can do that? Please help me</p>\n"},{"tags":["java","multithreading","memory-fences"],"answers":[{"tags":[],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465609475,"creation_date":1465609475,"answer_id":37759183,"question_id":34542604,"body_markdown":"What are you trying to achieve. Are you simply trying to prevent reordering of your &quot;before&quot; and &quot;after&quot; operations? Do you need your operations to be atomic?\r\n\r\nTo answer the question, Yes, locking will have the same effect of a full memory fence **and more**. It will ensure that your Before and After operations are not re-ordered. It will also ensure that all your writes within the synchronized block are visible to other threads. Further, all your operations done while holding the lock will happen atomically. Something that just adding a full fence wouldn&#39;t have accomplished.\r\n\r\nOther way to trigger a full fence in java is to write to a volatile variable.\r\n","title":"How to trigger a full memory fence without using sun.misc.Unsafe?","body":"<p>What are you trying to achieve. Are you simply trying to prevent reordering of your \"before\" and \"after\" operations? Do you need your operations to be atomic?</p>\n\n<p>To answer the question, Yes, locking will have the same effect of a full memory fence <strong>and more</strong>. It will ensure that your Before and After operations are not re-ordered. It will also ensure that all your writes within the synchronized block are visible to other threads. Further, all your operations done while holding the lock will happen atomically. Something that just adding a full fence wouldn't have accomplished.</p>\n\n<p>Other way to trigger a full fence in java is to write to a volatile variable.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660885024,"creation_date":1660884610,"answer_id":73411955,"question_id":34542604,"body_markdown":"If you want to trigger a full fence manually, you need to have a look at the [VarHandle][1]. It has various fences.\r\n\r\nRelying on synchronized blocks or volatiles purely for fencing behavior is very unreliable. \r\n\r\nFor example:\r\n\r\n```\r\nint a=0\r\n\r\nthread1:\r\n   a=1\r\n   synchronized(this){}\r\n\r\nthread2:\r\n   synchronized(this){}\r\n   r1=a\r\n```\r\n\r\nThere is a data race on &#39;a&#39; because &#39;a=1&#39; could be read after the thread1 has updated a=1 and before it has released the lock. So there is no synchronizes-with edge that connects the write of a with the read of 1.\r\n\r\nThe JVM is free to produce a subset of all possible and valid executions and it could choose to only produce executions whereby &#39;a&#39; remains zero and the new value will never be seen (since there is a data race). So the whole fence isn&#39;t taken into consideration.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/VarHandle.html","title":"How to trigger a full memory fence without using sun.misc.Unsafe?","body":"<p>If you want to trigger a full fence manually, you need to have a look at the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/VarHandle.html\" rel=\"nofollow noreferrer\">VarHandle</a>. It has various fences.</p>\n<p>Relying on synchronized blocks or volatiles purely for fencing behavior is very unreliable.</p>\n<p>For example:</p>\n<pre><code>int a=0\n\nthread1:\n   a=1\n   synchronized(this){}\n\nthread2:\n   synchronized(this){}\n   r1=a\n</code></pre>\n<p>There is a data race on 'a' because 'a=1' could be read after the thread1 has updated a=1 and before it has released the lock. So there is no synchronizes-with edge that connects the write of a with the read of 1.</p>\n<p>The JVM is free to produce a subset of all possible and valid executions and it could choose to only produce executions whereby 'a' remains zero and the new value will never be seen (since there is a data race). So the whole fence isn't taken into consideration.</p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1660885024,"creation_date":1451545720,"question_id":34542604,"body_markdown":"I am interested to trigger a full memory fence without using `sun.misc.Unsafe`.\r\n\r\nDoes the following Java code trigger a full memory fence?\r\n\r\n    public final class Foo {\r\n        public void bar() {\r\n            // Before memory fence?\r\n            synchronized(this) {\r\n                // After memory fence?\r\n            }\r\n        }\r\n    }\r\n\r\nDoes the following Java code **also** trigger a full memory fence?\r\n\r\n    public final class Foo {\r\n        private final Object monitor = new Object();\r\n        public void bar() {\r\n            // Before memory fence?\r\n            synchronized(monitor) {\r\n                // After memory fence?\r\n            }\r\n        }\r\n    }\r\n\r\n - Ref: https://stackoverflow.com/questions/23603304/java-8-unsafe-xxxfence-instructions\r\n - Ref: http://openjdk.java.net/jeps/171","title":"How to trigger a full memory fence without using sun.misc.Unsafe?","body":"<p>I am interested to trigger a full memory fence without using <code>sun.misc.Unsafe</code>.</p>\n\n<p>Does the following Java code trigger a full memory fence?</p>\n\n<pre><code>public final class Foo {\n    public void bar() {\n        // Before memory fence?\n        synchronized(this) {\n            // After memory fence?\n        }\n    }\n}\n</code></pre>\n\n<p>Does the following Java code <strong>also</strong> trigger a full memory fence?</p>\n\n<pre><code>public final class Foo {\n    private final Object monitor = new Object();\n    public void bar() {\n        // Before memory fence?\n        synchronized(monitor) {\n            // After memory fence?\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>Ref: <a href=\"https://stackoverflow.com/questions/23603304/java-8-unsafe-xxxfence-instructions\">Java 8 Unsafe: xxxFence() instructions</a></li>\n<li>Ref: <a href=\"http://openjdk.java.net/jeps/171\" rel=\"nofollow noreferrer\">http://openjdk.java.net/jeps/171</a></li>\n</ul>\n"},{"tags":["java","performance","algorithm","min"],"comments":[{"owner":{"account_id":279769,"reputation":6517,"user_id":575111,"accept_rate":96,"display_name":"debracey"},"score":22,"creation_date":1330996869,"post_id":9576557,"comment_id":12142904,"body_markdown":"Expecting to get any kind of meaningful performance impact from basic numeric comparisons is jumping too far down the rabbit hole.","body":"Expecting to get any kind of meaningful performance impact from basic numeric comparisons is jumping too far down the rabbit hole."},{"owner":{"account_id":103729,"reputation":3046,"user_id":277671,"accept_rate":68,"display_name":"Chris"},"score":1,"creation_date":1330997049,"post_id":9576557,"comment_id":12142936,"body_markdown":"@debracey is it when my algorithm has been running for almost 23 hours so far? :P","body":"@debracey is it when my algorithm has been running for almost 23 hours so far? :P"},{"owner":{"account_id":300291,"reputation":3703,"user_id":1229683,"display_name":"cjm"},"score":7,"creation_date":1330997088,"post_id":9576557,"comment_id":12142948,"body_markdown":"Yeah, this is pointless optimization. The cost of this kind of operation is infinitesimal. That being said, I would probably stick with your Math.min construction.","body":"Yeah, this is pointless optimization. The cost of this kind of operation is infinitesimal. That being said, I would probably stick with your Math.min construction."},{"owner":{"account_id":279769,"reputation":6517,"user_id":575111,"accept_rate":96,"display_name":"debracey"},"score":1,"creation_date":1330997162,"post_id":9576557,"comment_id":12142964,"body_markdown":"That one little function is not hanging your code for 23 hours, what&#39;s calling it?","body":"That one little function is not hanging your code for 23 hours, what&#39;s calling it?"},{"owner":{"account_id":103729,"reputation":3046,"user_id":277671,"accept_rate":68,"display_name":"Chris"},"score":0,"creation_date":1330997181,"post_id":9576557,"comment_id":12142968,"body_markdown":"Main reason I&#39;m asking is I got a significant speed improvement from not using Math.pow","body":"Main reason I&#39;m asking is I got a significant speed improvement from not using Math.pow"},{"owner":{"account_id":103729,"reputation":3046,"user_id":277671,"accept_rate":68,"display_name":"Chris"},"score":1,"creation_date":1330997267,"post_id":9576557,"comment_id":12142988,"body_markdown":"@debracey well I&#39;m doing dynamic time warping on about 80,000 instances of data that each have 96 attributes and I&#39;m doing this 10 times for cross validation purposes. So I&#39;m expecting it to take a long time","body":"@debracey well I&#39;m doing dynamic time warping on about 80,000 instances of data that each have 96 attributes and I&#39;m doing this 10 times for cross validation purposes. So I&#39;m expecting it to take a long time"},{"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"score":2,"creation_date":1330997409,"post_id":9576557,"comment_id":12143015,"body_markdown":"Math.pow uses a for loop. so say you did math.pow(4,3), you would be saying {double result = 4;for (int i = 0; i &lt; 3 - 1; i++) {result *= 4;}return result;}. This creates a double variable which might not be necessary and the for loop slows it down.","body":"Math.pow uses a for loop. so say you did math.pow(4,3), you would be saying {double result = 4;for (int i = 0; i &lt; 3 - 1; i++) {result *= 4;}return result;}. This creates a double variable which might not be necessary and the for loop slows it down."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1330997530,"post_id":9576557,"comment_id":12143039,"body_markdown":"HotSpot will inline your calls to Math.min() if they get hot enough, but for completeness it should be mentioned that in your suggested code &lt;= would be more efficient than &lt; as it will save some redundant comparisons and jumps.","body":"HotSpot will inline your calls to Math.min() if they get hot enough, but for completeness it should be mentioned that in your suggested code &lt;= would be more efficient than &lt; as it will save some redundant comparisons and jumps."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":5,"creation_date":1330998626,"post_id":9576557,"comment_id":12143243,"body_markdown":"Google for `premature optimization`, and then profile your code.","body":"Google for <code>premature optimization</code>, and then profile your code."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1330996891,"creation_date":1330996891,"answer_id":9576582,"question_id":9576557,"body_markdown":"    double smallest = a;\r\n    if (smallest &gt; b) smallest = b;\r\n    if (smallest &gt; c) smallest = c;\r\n\r\nNot necessarily faster than your code.","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<pre><code>double smallest = a;\nif (smallest &gt; b) smallest = b;\nif (smallest &gt; c) smallest = c;\n</code></pre>\n\n<p>Not necessarily faster than your code.</p>\n"},{"tags":[],"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330996948,"creation_date":1330996948,"answer_id":9576591,"question_id":9576557,"body_markdown":"It all looks ok, your code will be fine, unless you&#39;re doing this in a tight loop. I also would consider\r\n\r\n    double min;\r\n    min = (a&lt;b) ? a : b;\r\n    min = (min&lt;c) ? min : c;\r\n\r\n","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>It all looks ok, your code will be fine, unless you're doing this in a tight loop. I also would consider</p>\n\n<pre><code>double min;\nmin = (a&lt;b) ? a : b;\nmin = (min&lt;c) ? min : c;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91853,"reputation":1679,"user_id":252022,"display_name":"wpgreenway"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1330997498,"creation_date":1330997498,"answer_id":9576656,"question_id":9576557,"body_markdown":"For a lot of utility-type methods, the apache commons libraries have solid implementations that you can either leverage or get additional insight from. In this case, there is a method for finding the smallest of three doubles available in org.apache.commons.lang.math.NumberUtils. Their implementation is actually nearly identical to your initial thought:\r\n\r\n    public static double min(double a, double b, double c) {\r\n        return Math.min(Math.min(a, b), c);\r\n    }\r\n\r\n","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>For a lot of utility-type methods, the apache commons libraries have solid implementations that you can either leverage or get additional insight from. In this case, there is a method for finding the smallest of three doubles available in org.apache.commons.lang.math.NumberUtils. Their implementation is actually nearly identical to your initial thought:</p>\n\n<pre><code>public static double min(double a, double b, double c) {\n    return Math.min(Math.min(a, b), c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1330997806,"creation_date":1330997806,"answer_id":9576704,"question_id":9576557,"body_markdown":"No, it&#39;s seriously _not_ worth changing. The sort of improvements you&#39;re going to get when fiddling with micro-optimisations like this will not be worth it. Even the method call cost will be removed if the `min` function is called enough.\r\n\r\nIf you have a problem with your algorithm, your best bet is to look into macro-optimisations (&quot;big picture&quot; stuff like algorithm selection or tuning) - you&#39;ll generally get _much_ better performance improvements there.\r\n\r\nAnd your comment that removing `Math.pow` gave improvements may well be correct but that&#39;s because it&#39;s a relatively expensive operation. `Math.min` will not even be close to that in terms of cost.\r\n","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>No, it's seriously <em>not</em> worth changing. The sort of improvements you're going to get when fiddling with micro-optimisations like this will not be worth it. Even the method call cost will be removed if the <code>min</code> function is called enough.</p>\n\n<p>If you have a problem with your algorithm, your best bet is to look into macro-optimisations (\"big picture\" stuff like algorithm selection or tuning) - you'll generally get <em>much</em> better performance improvements there.</p>\n\n<p>And your comment that removing <code>Math.pow</code> gave improvements may well be correct but that's because it's a relatively expensive operation. <code>Math.min</code> will not even be close to that in terms of cost.</p>\n"},{"tags":[],"owner":{"account_id":1278534,"reputation":516,"user_id":1233211,"accept_rate":71,"display_name":"Abhishek"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443064747,"creation_date":1330997868,"answer_id":9576711,"question_id":9576557,"body_markdown":"You can use ternary operator as follows:\r\n\r\n    smallest=(a&lt;b)?((a&lt;c)?a:c):((b&lt;c)?b:c);\r\n\r\nWhich takes only one assignment and minimum two comparisons.\r\n\r\nBut I think that these statements would not have any effect on execution time, your initial logic will take same time as of mine and all of others.","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>You can use ternary operator as follows:</p>\n\n<pre><code>smallest=(a&lt;b)?((a&lt;c)?a:c):((b&lt;c)?b:c);\n</code></pre>\n\n<p>Which takes only one assignment and minimum two comparisons.</p>\n\n<p>But I think that these statements would not have any effect on execution time, your initial logic will take same time as of mine and all of others.</p>\n"},{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330998184,"creation_date":1330998184,"answer_id":9576761,"question_id":9576557,"body_markdown":"I would use `min/max` (and not worry otherwise) ... however, here is another &quot;long hand&quot; approach which may or may not be easier for some people to understand. (I would *not* expect it to be faster or slower than the code in the post.)\r\n\r\n    int smallest;\r\n    if (a &lt; b) {\r\n      if (a &gt; c) {\r\n        smallest = c;\r\n      } else { // a &lt;= c\r\n        smallest = a;\r\n      }\r\n    } else { // a &gt;= b\r\n      if (b &gt; c) {\r\n        smallest = c;\r\n      } else { // b &lt;= c\r\n        smallest = b;\r\n      }\r\n    }\r\n\r\nJust throwing it into the mix.\r\n\r\nNote that this is just the side-effecting variant of Abhishek&#39;s answer.","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>I would use <code>min/max</code> (and not worry otherwise) ... however, here is another \"long hand\" approach which may or may not be easier for some people to understand. (I would <em>not</em> expect it to be faster or slower than the code in the post.)</p>\n\n<pre><code>int smallest;\nif (a &lt; b) {\n  if (a &gt; c) {\n    smallest = c;\n  } else { // a &lt;= c\n    smallest = a;\n  }\n} else { // a &gt;= b\n  if (b &gt; c) {\n    smallest = c;\n  } else { // b &lt;= c\n    smallest = b;\n  }\n}\n</code></pre>\n\n<p>Just throwing it into the mix.</p>\n\n<p>Note that this is just the side-effecting variant of Abhishek's answer.</p>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349436681,"creation_date":1349436681,"answer_id":12745375,"question_id":9576557,"body_markdown":"`Math.min` uses a simple comparison to do its thing. The only advantage to not using Math.min is to save the extra function calls, but that is a negligible saving.\r\n\r\nIf you have more than just three numbers, having a `minimum` method for any number of `double`s might be valuable and would look something like:\r\n\r\n    public static double min(double ... numbers) {\r\n        double min = numbers[0];\r\n        for (int i=1 ; i&lt;numbers.length ; i++) {\r\n            min = (min &lt;= numbers[i]) ? min : numbers[i];\r\n        }\r\n        return min;\r\n    }\r\n\r\nFor three numbers this is the functional equivalent of `Math.min(a, Math.min(b, c));` but you save one method invocation.\r\n","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p><code>Math.min</code> uses a simple comparison to do its thing. The only advantage to not using Math.min is to save the extra function calls, but that is a negligible saving.</p>\n\n<p>If you have more than just three numbers, having a <code>minimum</code> method for any number of <code>double</code>s might be valuable and would look something like:</p>\n\n<pre><code>public static double min(double ... numbers) {\n    double min = numbers[0];\n    for (int i=1 ; i&lt;numbers.length ; i++) {\n        min = (min &lt;= numbers[i]) ? min : numbers[i];\n    }\n    return min;\n}\n</code></pre>\n\n<p>For three numbers this is the functional equivalent of <code>Math.min(a, Math.min(b, c));</code> but you save one method invocation.</p>\n"},{"tags":[],"owner":{"account_id":2898048,"reputation":21,"user_id":2485377,"display_name":"Maximus Ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371200144,"creation_date":1371200144,"answer_id":17104728,"question_id":9576557,"body_markdown":"    double smallest;\r\n    if(a&lt;b &amp;&amp; a&lt;c){\r\n        smallest = a;\r\n    }else if(b&lt;c &amp;&amp; b&lt;a){\r\n        smallest = b;\r\n    }else{\r\n        smallest = c;\r\n    }\r\n\r\n\r\ncan be improved to:\r\n\r\n    double smallest;\r\n    if(a&lt;b &amp;&amp; a&lt;c){\r\n    smallest = a;\r\n    }else if(b&lt;c){\r\n        smallest = b;\r\n    }else{\r\n        smallest = c;\r\n    }","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<pre><code>double smallest;\nif(a&lt;b &amp;&amp; a&lt;c){\n    smallest = a;\n}else if(b&lt;c &amp;&amp; b&lt;a){\n    smallest = b;\n}else{\n    smallest = c;\n}\n</code></pre>\n\n<p>can be improved to:</p>\n\n<pre><code>double smallest;\nif(a&lt;b &amp;&amp; a&lt;c){\nsmallest = a;\n}else if(b&lt;c){\n    smallest = b;\n}else{\n    smallest = c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5560053,"reputation":1,"user_id":4409717,"display_name":"rakesh"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1420098505,"creation_date":1420096720,"answer_id":27728998,"question_id":9576557,"body_markdown":"Simply use this math function \r\n\r\n    System.out.println(Math.min(a,b,c));\r\n\r\nYou will get the answer in single line. ","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>Simply use this math function </p>\n\n<pre><code>System.out.println(Math.min(a,b,c));\n</code></pre>\n\n<p>You will get the answer in single line. </p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1602930477,"creation_date":1422641134,"answer_id":28241992,"question_id":9576557,"body_markdown":"Let me first repeat what others already said, by quoting from the article &quot;Structured Programming with go to Statements&quot; by Donald Knuth:\r\n\r\n&gt; We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil.\r\n&gt;\r\n&gt; **Yet we should not pass up our opportunities in that critical 3%. A good programmer will not be lulled into complacency by such reasoning, he will be wise to look carefully at the critical code; but only after that code has been identified.**\r\n\r\n(emphasis by me)\r\n\r\nSo if you have identified that a seemingly trivial operation like the computation of the minimum of three numbers **is** the actual bottleneck (that is, the &quot;critical 3%&quot;) in your application, then you may consider optimizing it.\r\n\r\nAnd in this case, this is actually possible: The [`Math#min(double,double)`][1] method in Java has very special semantics:\r\n\r\n&gt; Returns the smaller of two double values. That is, the result is the value closer to negative infinity. If the arguments have the same value, the result is that same value. If either value is NaN, then the result is NaN. Unlike the numerical comparison operators, this method considers negative zero to be strictly smaller than positive zero. If one argument is positive zero and the other is negative zero, the result is negative zero.\r\n\r\nOne can have a look at the implementation, and see that it&#39;s actually rather complex:\r\n\r\n    public static double min(double a, double b) {\r\n        if (a != a)\r\n            return a;   // a is NaN\r\n        if ((a == 0.0d) &amp;&amp;\r\n            (b == 0.0d) &amp;&amp;\r\n            (Double.doubleToRawLongBits(b) == negativeZeroDoubleBits)) {\r\n            // Raw conversion ok since NaN can&#39;t map to -0.0.\r\n            return b;\r\n        }\r\n        return (a &lt;= b) ? a : b;\r\n    }\r\n\r\n\r\n----------\r\n\r\nNow, it may be important to point out that this behavior is *different* from a simple comparison. This can easily be examined with the following example:\r\n\r\n    public class MinExample\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            test(0.0, 1.0);\r\n            test(1.0, 0.0);\r\n            test(-0.0, 0.0);\r\n            test(Double.NaN, 1.0);\r\n            test(1.0, Double.NaN);\r\n        }\r\n\r\n        private static void test(double a, double b)\r\n        {\r\n            double minA = Math.min(a, b);\r\n            double minB = a &lt; b ? a : b;\r\n            System.out.println(&quot;a: &quot;+a);\r\n            System.out.println(&quot;b: &quot;+b);\r\n            System.out.println(&quot;minA &quot;+minA);\r\n            System.out.println(&quot;minB &quot;+minB);\r\n            if (Double.doubleToRawLongBits(minA) !=\r\n                Double.doubleToRawLongBits(minB))\r\n            {\r\n                System.out.println(&quot; -&gt; Different results!&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nHowever: If the treatment of `NaN` and positive/negative zero is not relevant for your application, you can replace the solution that is based on `Math.min` with a solution that is based on a simple comparison, and see whether it makes a difference.\r\n\r\nThis will, of course, be application dependent. Here is a simple, artificial microbenchmark (**to be taken with a grain of salt!**)\r\n\r\n    import java.util.Random;\r\n\r\n    public class MinPerformance\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            bench();\r\n        }\r\n\r\n        private static void bench()\r\n        {\r\n            int runs = 1000;\r\n            for (int size=10000; size&lt;=100000; size+=10000)\r\n            {\r\n                Random random = new Random(0);\r\n                double data[] = new double[size];\r\n                for (int i=0; i&lt;size; i++)\r\n                {\r\n                    data[i] = random.nextDouble();\r\n                }\r\n                benchA(data, runs);\r\n                benchB(data, runs);\r\n            }\r\n        }\r\n\r\n        private static void benchA(double data[], int runs)\r\n        {\r\n            long before = System.nanoTime();\r\n            double sum = 0;\r\n            for (int r=0; r&lt;runs; r++)\r\n            {\r\n                for (int i=0; i&lt;data.length-3; i++)\r\n                {\r\n                    sum += minA(data[i], data[i+1], data[i+2]);\r\n                }\r\n            }\r\n            long after = System.nanoTime();\r\n            System.out.println(&quot;A: length &quot;+data.length+&quot;, time &quot;+(after-before)/1e6+&quot;, result &quot;+sum);\r\n        }\r\n\r\n        private static void benchB(double data[], int runs)\r\n        {\r\n            long before = System.nanoTime();\r\n            double sum = 0;\r\n            for (int r=0; r&lt;runs; r++)\r\n            {\r\n                for (int i=0; i&lt;data.length-3; i++)\r\n                {\r\n                    sum += minB(data[i], data[i+1], data[i+2]);\r\n                }\r\n            }\r\n            long after = System.nanoTime();\r\n            System.out.println(&quot;B: length &quot;+data.length+&quot;, time &quot;+(after-before)/1e6+&quot;, result &quot;+sum);\r\n        }\r\n\r\n        private static double minA(double a, double b, double c)\r\n        {\r\n            return Math.min(a, Math.min(b, c));\r\n        }\r\n\r\n        private static double minB(double a, double b, double c)\r\n        {\r\n            if (a &lt; b)\r\n            {\r\n                if (a &lt; c)\r\n                {\r\n                    return a;\r\n                }\r\n                return c;\r\n            }\r\n            if (b &lt; c)\r\n            {\r\n                return b;\r\n            }\r\n            return c;\r\n        }\r\n    }\r\n\r\n(Disclaimer: Microbenchmarking in Java is an art, and for more reliable results, one should consider using [JMH][2] or [Caliper][3]).\r\n\r\nRunning this with JRE 1.8.0_31 may result in something like\r\n\r\n    ....\r\n    A: length 90000, time 545.929078, result 2.247805342620906E7\r\n    B: length 90000, time 441.999193, result 2.247805342620906E7\r\n    A: length 100000, time 608.046928, result 2.5032781001456387E7\r\n    B: length 100000, time 493.747898, result 2.5032781001456387E7\r\n\r\nThis at least *suggests* that it might be possible to squeeze out a few percent here (again, in a very artifical example).\r\n\r\n\r\n----------\r\n\r\nAnalyzing this further, by looking at the hotspot disassembly output created with\r\n\r\n    java -server -XX:+UnlockDiagnosticVMOptions -XX:+TraceClassLoading -XX:+LogCompilation -XX:+PrintAssembly MinPerformance\r\n\r\none can see the optimized versions of both methods, `minA` and `minB`.\r\n\r\nFirst, the output for the method that uses `Math.min`:\r\n\r\n    Decoding compiled method 0x0000000002992310:\r\n    Code:\r\n    [Entry Point]\r\n    [Verified Entry Point]\r\n    [Constants]\r\n      # {method} {0x000000001c010910} &amp;apos;minA&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;\r\n      # parm0:    xmm0:xmm0   = double\r\n      # parm1:    xmm1:xmm1   = double\r\n      # parm2:    xmm2:xmm2   = double\r\n      #           [sp+0x60]  (sp of caller)\r\n      0x0000000002992480: mov    %eax,-0x6000(%rsp)\r\n      0x0000000002992487: push   %rbp\r\n      0x0000000002992488: sub    $0x50,%rsp\r\n      0x000000000299248c: movabs $0x1c010cd0,%rsi\r\n      0x0000000002992496: mov    0x8(%rsi),%edi\r\n      0x0000000002992499: add    $0x8,%edi\r\n      0x000000000299249c: mov    %edi,0x8(%rsi)\r\n      0x000000000299249f: movabs $0x1c010908,%rsi   ; {metadata({method} {0x000000001c010910} &amp;apos;minA&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;)}\r\n      0x00000000029924a9: and    $0x3ff8,%edi\r\n      0x00000000029924af: cmp    $0x0,%edi\r\n      0x00000000029924b2: je     0x00000000029924e8  ;*dload_0\r\n                            ; - MinPerformance::minA@0 (line 58)\r\n\r\n      0x00000000029924b8: vmovsd %xmm0,0x38(%rsp)\r\n      0x00000000029924be: vmovapd %xmm1,%xmm0\r\n      0x00000000029924c2: vmovapd %xmm2,%xmm1       ;*invokestatic min\r\n                            ; - MinPerformance::minA@4 (line 58)\r\n\r\n      0x00000000029924c6: nop\r\n      0x00000000029924c7: callq  0x00000000028c6360  ; OopMap{off=76}\r\n                            ;*invokestatic min\r\n                            ; - MinPerformance::minA@4 (line 58)\r\n                            ;   {static_call}\r\n      0x00000000029924cc: vmovapd %xmm0,%xmm1       ;*invokestatic min\r\n                            ; - MinPerformance::minA@4 (line 58)\r\n\r\n      0x00000000029924d0: vmovsd 0x38(%rsp),%xmm0   ;*invokestatic min\r\n                            ; - MinPerformance::minA@7 (line 58)\r\n\r\n      0x00000000029924d6: nop\r\n      0x00000000029924d7: callq  0x00000000028c6360  ; OopMap{off=92}\r\n                            ;*invokestatic min\r\n                            ; - MinPerformance::minA@7 (line 58)\r\n                            ;   {static_call}\r\n      0x00000000029924dc: add    $0x50,%rsp\r\n      0x00000000029924e0: pop    %rbp\r\n      0x00000000029924e1: test   %eax,-0x27623e7(%rip)        # 0x0000000000230100\r\n                            ;   {poll_return}\r\n      0x00000000029924e7: retq\r\n      0x00000000029924e8: mov    %rsi,0x8(%rsp)\r\n      0x00000000029924ed: movq   $0xffffffffffffffff,(%rsp)\r\n      0x00000000029924f5: callq  0x000000000297e260  ; OopMap{off=122}\r\n                            ;*synchronization entry\r\n                            ; - MinPerformance::minA@-1 (line 58)\r\n                            ;   {runtime_call}\r\n      0x00000000029924fa: jmp    0x00000000029924b8\r\n      0x00000000029924fc: nop\r\n      0x00000000029924fd: nop\r\n      0x00000000029924fe: mov    0x298(%r15),%rax\r\n      0x0000000002992505: movabs $0x0,%r10\r\n      0x000000000299250f: mov    %r10,0x298(%r15)\r\n      0x0000000002992516: movabs $0x0,%r10\r\n      0x0000000002992520: mov    %r10,0x2a0(%r15)\r\n      0x0000000002992527: add    $0x50,%rsp\r\n      0x000000000299252b: pop    %rbp\r\n      0x000000000299252c: jmpq   0x00000000028ec620  ; {runtime_call}\r\n      0x0000000002992531: hlt\r\n      0x0000000002992532: hlt\r\n      0x0000000002992533: hlt\r\n      0x0000000002992534: hlt\r\n      0x0000000002992535: hlt\r\n      0x0000000002992536: hlt\r\n      0x0000000002992537: hlt\r\n      0x0000000002992538: hlt\r\n      0x0000000002992539: hlt\r\n      0x000000000299253a: hlt\r\n      0x000000000299253b: hlt\r\n      0x000000000299253c: hlt\r\n      0x000000000299253d: hlt\r\n      0x000000000299253e: hlt\r\n      0x000000000299253f: hlt\r\n    [Stub Code]\r\n      0x0000000002992540: nop                       ;   {no_reloc}\r\n      0x0000000002992541: nop\r\n      0x0000000002992542: nop\r\n      0x0000000002992543: nop\r\n      0x0000000002992544: nop\r\n      0x0000000002992545: movabs $0x0,%rbx          ; {static_stub}\r\n      0x000000000299254f: jmpq   0x000000000299254f  ; {runtime_call}\r\n      0x0000000002992554: nop\r\n      0x0000000002992555: movabs $0x0,%rbx          ; {static_stub}\r\n      0x000000000299255f: jmpq   0x000000000299255f  ; {runtime_call}\r\n    [Exception Handler]\r\n      0x0000000002992564: callq  0x000000000297b9e0  ; {runtime_call}\r\n      0x0000000002992569: mov    %rsp,-0x28(%rsp)\r\n      0x000000000299256e: sub    $0x80,%rsp\r\n      0x0000000002992575: mov    %rax,0x78(%rsp)\r\n      0x000000000299257a: mov    %rcx,0x70(%rsp)\r\n      0x000000000299257f: mov    %rdx,0x68(%rsp)\r\n      0x0000000002992584: mov    %rbx,0x60(%rsp)\r\n      0x0000000002992589: mov    %rbp,0x50(%rsp)\r\n      0x000000000299258e: mov    %rsi,0x48(%rsp)\r\n      0x0000000002992593: mov    %rdi,0x40(%rsp)\r\n      0x0000000002992598: mov    %r8,0x38(%rsp)\r\n      0x000000000299259d: mov    %r9,0x30(%rsp)\r\n      0x00000000029925a2: mov    %r10,0x28(%rsp)\r\n      0x00000000029925a7: mov    %r11,0x20(%rsp)\r\n      0x00000000029925ac: mov    %r12,0x18(%rsp)\r\n      0x00000000029925b1: mov    %r13,0x10(%rsp)\r\n      0x00000000029925b6: mov    %r14,0x8(%rsp)\r\n      0x00000000029925bb: mov    %r15,(%rsp)\r\n      0x00000000029925bf: movabs $0x515db148,%rcx   ; {external_word}\r\n      0x00000000029925c9: movabs $0x2992569,%rdx    ; {internal_word}\r\n      0x00000000029925d3: mov    %rsp,%r8\r\n      0x00000000029925d6: and    $0xfffffffffffffff0,%rsp\r\n      0x00000000029925da: callq  0x00000000512a9020  ; {runtime_call}\r\n      0x00000000029925df: hlt\r\n    [Deopt Handler Code]\r\n      0x00000000029925e0: movabs $0x29925e0,%r10    ; {section_word}\r\n      0x00000000029925ea: push   %r10\r\n      0x00000000029925ec: jmpq   0x00000000028c7340  ; {runtime_call}\r\n      0x00000000029925f1: hlt\r\n      0x00000000029925f2: hlt\r\n      0x00000000029925f3: hlt\r\n      0x00000000029925f4: hlt\r\n      0x00000000029925f5: hlt\r\n      0x00000000029925f6: hlt\r\n      0x00000000029925f7: hlt\r\n\r\nOne can see that the treatment of special cases involves some effort - compared to the output that uses simple comparisons, which is rather straightforward:\r\n\r\n    Decoding compiled method 0x0000000002998790:\r\n    Code:\r\n    [Entry Point]\r\n    [Verified Entry Point]\r\n    [Constants]\r\n      # {method} {0x000000001c0109c0} &amp;apos;minB&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;\r\n      # parm0:    xmm0:xmm0   = double\r\n      # parm1:    xmm1:xmm1   = double\r\n      # parm2:    xmm2:xmm2   = double\r\n      #           [sp+0x20]  (sp of caller)\r\n      0x00000000029988c0: sub    $0x18,%rsp\r\n      0x00000000029988c7: mov    %rbp,0x10(%rsp) ;*synchronization entry\r\n                            ; - MinPerformance::minB@-1 (line 63)\r\n\r\n      0x00000000029988cc: vucomisd %xmm0,%xmm1\r\n      0x00000000029988d0: ja     0x00000000029988ee  ;*ifge\r\n                            ; - MinPerformance::minB@3 (line 63)\r\n\r\n      0x00000000029988d2: vucomisd %xmm1,%xmm2\r\n      0x00000000029988d6: ja     0x00000000029988de  ;*ifge\r\n                            ; - MinPerformance::minB@22 (line 71)\r\n\r\n      0x00000000029988d8: vmovapd %xmm2,%xmm0\r\n      0x00000000029988dc: jmp    0x00000000029988e2\r\n      0x00000000029988de: vmovapd %xmm1,%xmm0 ;*synchronization entry\r\n                            ; - MinPerformance::minB@-1 (line 63)\r\n\r\n      0x00000000029988e2: add    $0x10,%rsp\r\n      0x00000000029988e6: pop    %rbp\r\n      0x00000000029988e7: test   %eax,-0x27688ed(%rip)        # 0x0000000000230000\r\n                            ;   {poll_return}\r\n      0x00000000029988ed: retq\r\n      0x00000000029988ee: vucomisd %xmm0,%xmm2\r\n      0x00000000029988f2: ja     0x00000000029988e2  ;*ifge\r\n                            ; - MinPerformance::minB@10 (line 65)\r\n\r\n      0x00000000029988f4: vmovapd %xmm2,%xmm0\r\n      0x00000000029988f8: jmp    0x00000000029988e2\r\n      0x00000000029988fa: hlt\r\n      0x00000000029988fb: hlt\r\n      0x00000000029988fc: hlt\r\n      0x00000000029988fd: hlt\r\n      0x00000000029988fe: hlt\r\n      0x00000000029988ff: hlt\r\n    [Exception Handler]\r\n    [Stub Code]\r\n      0x0000000002998900: jmpq   0x00000000028ec920  ;   {no_reloc}\r\n    [Deopt Handler Code]\r\n      0x0000000002998905: callq  0x000000000299890a\r\n      0x000000000299890a: subq   $0x5,(%rsp)\r\n      0x000000000299890f: jmpq   0x00000000028c7340  ; {runtime_call}\r\n      0x0000000002998914: hlt\r\n      0x0000000002998915: hlt\r\n      0x0000000002998916: hlt\r\n      0x0000000002998917: hlt\r\n\r\n\r\n----------\r\n\r\nWhether or not there are cases where such an optimization really makes a difference in an application is hard to tell. But at least, the bottom line is:\r\n\r\n - The `Math#min(double,double)` method is **not** the same as a simple comparison, and the treatment of the special cases does not come for free\r\n - There are cases where the special case treatment that is done by `Math#min` is not necessary, and then a comparison-based approach **may** be more efficient\r\n - As already pointed out in other answers: In most cases, the performance difference will not matter. However, for this particular example, one should probably create a utility method `min(double,double,double)` anyhow, for better convenience and readability, and then it would be easy to do two runs with the different implementations, and see whether it really affects the performance.\r\n\r\n\r\n----------\r\n\r\n(Side note: The integer type methods, like `Math.min(int,int)` actually *are* a simple comparison - so I would expect **no** difference for these).\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-double-double-\r\n  [2]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [3]: https://code.google.com/p/caliper/\r\n","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>Let me first repeat what others already said, by quoting from the article &quot;Structured Programming with go to Statements&quot; by Donald Knuth:</p>\n<blockquote>\n<p>We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil.</p>\n<p><strong>Yet we should not pass up our opportunities in that critical 3%. A good programmer will not be lulled into complacency by such reasoning, he will be wise to look carefully at the critical code; but only after that code has been identified.</strong></p>\n</blockquote>\n<p>(emphasis by me)</p>\n<p>So if you have identified that a seemingly trivial operation like the computation of the minimum of three numbers <strong>is</strong> the actual bottleneck (that is, the &quot;critical 3%&quot;) in your application, then you may consider optimizing it.</p>\n<p>And in this case, this is actually possible: The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-double-double-\" rel=\"nofollow noreferrer\"><code>Math#min(double,double)</code></a> method in Java has very special semantics:</p>\n<blockquote>\n<p>Returns the smaller of two double values. That is, the result is the value closer to negative infinity. If the arguments have the same value, the result is that same value. If either value is NaN, then the result is NaN. Unlike the numerical comparison operators, this method considers negative zero to be strictly smaller than positive zero. If one argument is positive zero and the other is negative zero, the result is negative zero.</p>\n</blockquote>\n<p>One can have a look at the implementation, and see that it's actually rather complex:</p>\n<pre><code>public static double min(double a, double b) {\n    if (a != a)\n        return a;   // a is NaN\n    if ((a == 0.0d) &amp;&amp;\n        (b == 0.0d) &amp;&amp;\n        (Double.doubleToRawLongBits(b) == negativeZeroDoubleBits)) {\n        // Raw conversion ok since NaN can't map to -0.0.\n        return b;\n    }\n    return (a &lt;= b) ? a : b;\n}\n</code></pre>\n<hr />\n<p>Now, it may be important to point out that this behavior is <em>different</em> from a simple comparison. This can easily be examined with the following example:</p>\n<pre><code>public class MinExample\n{\n    public static void main(String[] args)\n    {\n        test(0.0, 1.0);\n        test(1.0, 0.0);\n        test(-0.0, 0.0);\n        test(Double.NaN, 1.0);\n        test(1.0, Double.NaN);\n    }\n\n    private static void test(double a, double b)\n    {\n        double minA = Math.min(a, b);\n        double minB = a &lt; b ? a : b;\n        System.out.println(&quot;a: &quot;+a);\n        System.out.println(&quot;b: &quot;+b);\n        System.out.println(&quot;minA &quot;+minA);\n        System.out.println(&quot;minB &quot;+minB);\n        if (Double.doubleToRawLongBits(minA) !=\n            Double.doubleToRawLongBits(minB))\n        {\n            System.out.println(&quot; -&gt; Different results!&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<hr />\n<p>However: If the treatment of <code>NaN</code> and positive/negative zero is not relevant for your application, you can replace the solution that is based on <code>Math.min</code> with a solution that is based on a simple comparison, and see whether it makes a difference.</p>\n<p>This will, of course, be application dependent. Here is a simple, artificial microbenchmark (<strong>to be taken with a grain of salt!</strong>)</p>\n<pre><code>import java.util.Random;\n\npublic class MinPerformance\n{\n    public static void main(String[] args)\n    {\n        bench();\n    }\n\n    private static void bench()\n    {\n        int runs = 1000;\n        for (int size=10000; size&lt;=100000; size+=10000)\n        {\n            Random random = new Random(0);\n            double data[] = new double[size];\n            for (int i=0; i&lt;size; i++)\n            {\n                data[i] = random.nextDouble();\n            }\n            benchA(data, runs);\n            benchB(data, runs);\n        }\n    }\n\n    private static void benchA(double data[], int runs)\n    {\n        long before = System.nanoTime();\n        double sum = 0;\n        for (int r=0; r&lt;runs; r++)\n        {\n            for (int i=0; i&lt;data.length-3; i++)\n            {\n                sum += minA(data[i], data[i+1], data[i+2]);\n            }\n        }\n        long after = System.nanoTime();\n        System.out.println(&quot;A: length &quot;+data.length+&quot;, time &quot;+(after-before)/1e6+&quot;, result &quot;+sum);\n    }\n\n    private static void benchB(double data[], int runs)\n    {\n        long before = System.nanoTime();\n        double sum = 0;\n        for (int r=0; r&lt;runs; r++)\n        {\n            for (int i=0; i&lt;data.length-3; i++)\n            {\n                sum += minB(data[i], data[i+1], data[i+2]);\n            }\n        }\n        long after = System.nanoTime();\n        System.out.println(&quot;B: length &quot;+data.length+&quot;, time &quot;+(after-before)/1e6+&quot;, result &quot;+sum);\n    }\n\n    private static double minA(double a, double b, double c)\n    {\n        return Math.min(a, Math.min(b, c));\n    }\n\n    private static double minB(double a, double b, double c)\n    {\n        if (a &lt; b)\n        {\n            if (a &lt; c)\n            {\n                return a;\n            }\n            return c;\n        }\n        if (b &lt; c)\n        {\n            return b;\n        }\n        return c;\n    }\n}\n</code></pre>\n<p>(Disclaimer: Microbenchmarking in Java is an art, and for more reliable results, one should consider using <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a> or <a href=\"https://code.google.com/p/caliper/\" rel=\"nofollow noreferrer\">Caliper</a>).</p>\n<p>Running this with JRE 1.8.0_31 may result in something like</p>\n<pre><code>....\nA: length 90000, time 545.929078, result 2.247805342620906E7\nB: length 90000, time 441.999193, result 2.247805342620906E7\nA: length 100000, time 608.046928, result 2.5032781001456387E7\nB: length 100000, time 493.747898, result 2.5032781001456387E7\n</code></pre>\n<p>This at least <em>suggests</em> that it might be possible to squeeze out a few percent here (again, in a very artifical example).</p>\n<hr />\n<p>Analyzing this further, by looking at the hotspot disassembly output created with</p>\n<pre><code>java -server -XX:+UnlockDiagnosticVMOptions -XX:+TraceClassLoading -XX:+LogCompilation -XX:+PrintAssembly MinPerformance\n</code></pre>\n<p>one can see the optimized versions of both methods, <code>minA</code> and <code>minB</code>.</p>\n<p>First, the output for the method that uses <code>Math.min</code>:</p>\n<pre><code>Decoding compiled method 0x0000000002992310:\nCode:\n[Entry Point]\n[Verified Entry Point]\n[Constants]\n  # {method} {0x000000001c010910} &amp;apos;minA&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;\n  # parm0:    xmm0:xmm0   = double\n  # parm1:    xmm1:xmm1   = double\n  # parm2:    xmm2:xmm2   = double\n  #           [sp+0x60]  (sp of caller)\n  0x0000000002992480: mov    %eax,-0x6000(%rsp)\n  0x0000000002992487: push   %rbp\n  0x0000000002992488: sub    $0x50,%rsp\n  0x000000000299248c: movabs $0x1c010cd0,%rsi\n  0x0000000002992496: mov    0x8(%rsi),%edi\n  0x0000000002992499: add    $0x8,%edi\n  0x000000000299249c: mov    %edi,0x8(%rsi)\n  0x000000000299249f: movabs $0x1c010908,%rsi   ; {metadata({method} {0x000000001c010910} &amp;apos;minA&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;)}\n  0x00000000029924a9: and    $0x3ff8,%edi\n  0x00000000029924af: cmp    $0x0,%edi\n  0x00000000029924b2: je     0x00000000029924e8  ;*dload_0\n                        ; - MinPerformance::minA@0 (line 58)\n\n  0x00000000029924b8: vmovsd %xmm0,0x38(%rsp)\n  0x00000000029924be: vmovapd %xmm1,%xmm0\n  0x00000000029924c2: vmovapd %xmm2,%xmm1       ;*invokestatic min\n                        ; - MinPerformance::minA@4 (line 58)\n\n  0x00000000029924c6: nop\n  0x00000000029924c7: callq  0x00000000028c6360  ; OopMap{off=76}\n                        ;*invokestatic min\n                        ; - MinPerformance::minA@4 (line 58)\n                        ;   {static_call}\n  0x00000000029924cc: vmovapd %xmm0,%xmm1       ;*invokestatic min\n                        ; - MinPerformance::minA@4 (line 58)\n\n  0x00000000029924d0: vmovsd 0x38(%rsp),%xmm0   ;*invokestatic min\n                        ; - MinPerformance::minA@7 (line 58)\n\n  0x00000000029924d6: nop\n  0x00000000029924d7: callq  0x00000000028c6360  ; OopMap{off=92}\n                        ;*invokestatic min\n                        ; - MinPerformance::minA@7 (line 58)\n                        ;   {static_call}\n  0x00000000029924dc: add    $0x50,%rsp\n  0x00000000029924e0: pop    %rbp\n  0x00000000029924e1: test   %eax,-0x27623e7(%rip)        # 0x0000000000230100\n                        ;   {poll_return}\n  0x00000000029924e7: retq\n  0x00000000029924e8: mov    %rsi,0x8(%rsp)\n  0x00000000029924ed: movq   $0xffffffffffffffff,(%rsp)\n  0x00000000029924f5: callq  0x000000000297e260  ; OopMap{off=122}\n                        ;*synchronization entry\n                        ; - MinPerformance::minA@-1 (line 58)\n                        ;   {runtime_call}\n  0x00000000029924fa: jmp    0x00000000029924b8\n  0x00000000029924fc: nop\n  0x00000000029924fd: nop\n  0x00000000029924fe: mov    0x298(%r15),%rax\n  0x0000000002992505: movabs $0x0,%r10\n  0x000000000299250f: mov    %r10,0x298(%r15)\n  0x0000000002992516: movabs $0x0,%r10\n  0x0000000002992520: mov    %r10,0x2a0(%r15)\n  0x0000000002992527: add    $0x50,%rsp\n  0x000000000299252b: pop    %rbp\n  0x000000000299252c: jmpq   0x00000000028ec620  ; {runtime_call}\n  0x0000000002992531: hlt\n  0x0000000002992532: hlt\n  0x0000000002992533: hlt\n  0x0000000002992534: hlt\n  0x0000000002992535: hlt\n  0x0000000002992536: hlt\n  0x0000000002992537: hlt\n  0x0000000002992538: hlt\n  0x0000000002992539: hlt\n  0x000000000299253a: hlt\n  0x000000000299253b: hlt\n  0x000000000299253c: hlt\n  0x000000000299253d: hlt\n  0x000000000299253e: hlt\n  0x000000000299253f: hlt\n[Stub Code]\n  0x0000000002992540: nop                       ;   {no_reloc}\n  0x0000000002992541: nop\n  0x0000000002992542: nop\n  0x0000000002992543: nop\n  0x0000000002992544: nop\n  0x0000000002992545: movabs $0x0,%rbx          ; {static_stub}\n  0x000000000299254f: jmpq   0x000000000299254f  ; {runtime_call}\n  0x0000000002992554: nop\n  0x0000000002992555: movabs $0x0,%rbx          ; {static_stub}\n  0x000000000299255f: jmpq   0x000000000299255f  ; {runtime_call}\n[Exception Handler]\n  0x0000000002992564: callq  0x000000000297b9e0  ; {runtime_call}\n  0x0000000002992569: mov    %rsp,-0x28(%rsp)\n  0x000000000299256e: sub    $0x80,%rsp\n  0x0000000002992575: mov    %rax,0x78(%rsp)\n  0x000000000299257a: mov    %rcx,0x70(%rsp)\n  0x000000000299257f: mov    %rdx,0x68(%rsp)\n  0x0000000002992584: mov    %rbx,0x60(%rsp)\n  0x0000000002992589: mov    %rbp,0x50(%rsp)\n  0x000000000299258e: mov    %rsi,0x48(%rsp)\n  0x0000000002992593: mov    %rdi,0x40(%rsp)\n  0x0000000002992598: mov    %r8,0x38(%rsp)\n  0x000000000299259d: mov    %r9,0x30(%rsp)\n  0x00000000029925a2: mov    %r10,0x28(%rsp)\n  0x00000000029925a7: mov    %r11,0x20(%rsp)\n  0x00000000029925ac: mov    %r12,0x18(%rsp)\n  0x00000000029925b1: mov    %r13,0x10(%rsp)\n  0x00000000029925b6: mov    %r14,0x8(%rsp)\n  0x00000000029925bb: mov    %r15,(%rsp)\n  0x00000000029925bf: movabs $0x515db148,%rcx   ; {external_word}\n  0x00000000029925c9: movabs $0x2992569,%rdx    ; {internal_word}\n  0x00000000029925d3: mov    %rsp,%r8\n  0x00000000029925d6: and    $0xfffffffffffffff0,%rsp\n  0x00000000029925da: callq  0x00000000512a9020  ; {runtime_call}\n  0x00000000029925df: hlt\n[Deopt Handler Code]\n  0x00000000029925e0: movabs $0x29925e0,%r10    ; {section_word}\n  0x00000000029925ea: push   %r10\n  0x00000000029925ec: jmpq   0x00000000028c7340  ; {runtime_call}\n  0x00000000029925f1: hlt\n  0x00000000029925f2: hlt\n  0x00000000029925f3: hlt\n  0x00000000029925f4: hlt\n  0x00000000029925f5: hlt\n  0x00000000029925f6: hlt\n  0x00000000029925f7: hlt\n</code></pre>\n<p>One can see that the treatment of special cases involves some effort - compared to the output that uses simple comparisons, which is rather straightforward:</p>\n<pre><code>Decoding compiled method 0x0000000002998790:\nCode:\n[Entry Point]\n[Verified Entry Point]\n[Constants]\n  # {method} {0x000000001c0109c0} &amp;apos;minB&amp;apos; &amp;apos;(DDD)D&amp;apos; in &amp;apos;MinPerformance&amp;apos;\n  # parm0:    xmm0:xmm0   = double\n  # parm1:    xmm1:xmm1   = double\n  # parm2:    xmm2:xmm2   = double\n  #           [sp+0x20]  (sp of caller)\n  0x00000000029988c0: sub    $0x18,%rsp\n  0x00000000029988c7: mov    %rbp,0x10(%rsp) ;*synchronization entry\n                        ; - MinPerformance::minB@-1 (line 63)\n\n  0x00000000029988cc: vucomisd %xmm0,%xmm1\n  0x00000000029988d0: ja     0x00000000029988ee  ;*ifge\n                        ; - MinPerformance::minB@3 (line 63)\n\n  0x00000000029988d2: vucomisd %xmm1,%xmm2\n  0x00000000029988d6: ja     0x00000000029988de  ;*ifge\n                        ; - MinPerformance::minB@22 (line 71)\n\n  0x00000000029988d8: vmovapd %xmm2,%xmm0\n  0x00000000029988dc: jmp    0x00000000029988e2\n  0x00000000029988de: vmovapd %xmm1,%xmm0 ;*synchronization entry\n                        ; - MinPerformance::minB@-1 (line 63)\n\n  0x00000000029988e2: add    $0x10,%rsp\n  0x00000000029988e6: pop    %rbp\n  0x00000000029988e7: test   %eax,-0x27688ed(%rip)        # 0x0000000000230000\n                        ;   {poll_return}\n  0x00000000029988ed: retq\n  0x00000000029988ee: vucomisd %xmm0,%xmm2\n  0x00000000029988f2: ja     0x00000000029988e2  ;*ifge\n                        ; - MinPerformance::minB@10 (line 65)\n\n  0x00000000029988f4: vmovapd %xmm2,%xmm0\n  0x00000000029988f8: jmp    0x00000000029988e2\n  0x00000000029988fa: hlt\n  0x00000000029988fb: hlt\n  0x00000000029988fc: hlt\n  0x00000000029988fd: hlt\n  0x00000000029988fe: hlt\n  0x00000000029988ff: hlt\n[Exception Handler]\n[Stub Code]\n  0x0000000002998900: jmpq   0x00000000028ec920  ;   {no_reloc}\n[Deopt Handler Code]\n  0x0000000002998905: callq  0x000000000299890a\n  0x000000000299890a: subq   $0x5,(%rsp)\n  0x000000000299890f: jmpq   0x00000000028c7340  ; {runtime_call}\n  0x0000000002998914: hlt\n  0x0000000002998915: hlt\n  0x0000000002998916: hlt\n  0x0000000002998917: hlt\n</code></pre>\n<hr />\n<p>Whether or not there are cases where such an optimization really makes a difference in an application is hard to tell. But at least, the bottom line is:</p>\n<ul>\n<li>The <code>Math#min(double,double)</code> method is <strong>not</strong> the same as a simple comparison, and the treatment of the special cases does not come for free</li>\n<li>There are cases where the special case treatment that is done by <code>Math#min</code> is not necessary, and then a comparison-based approach <strong>may</strong> be more efficient</li>\n<li>As already pointed out in other answers: In most cases, the performance difference will not matter. However, for this particular example, one should probably create a utility method <code>min(double,double,double)</code> anyhow, for better convenience and readability, and then it would be easy to do two runs with the different implementations, and see whether it really affects the performance.</li>\n</ul>\n<hr />\n<p>(Side note: The integer type methods, like <code>Math.min(int,int)</code> actually <em>are</em> a simple comparison - so I would expect <strong>no</strong> difference for these).</p>\n"},{"tags":[],"owner":{"account_id":3389813,"reputation":2142,"user_id":2844907,"accept_rate":44,"display_name":"Alexander Cyberman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492910607,"creation_date":1492910607,"answer_id":43566448,"question_id":9576557,"body_markdown":"If you will call min() around 1kk times with different a, b, c, then use my method:\r\n\r\nHere only two comparisons. There is no way to calc faster :P\r\n    \r\n    public static double min(double a, double b, double c) {\r\n        if (a &gt; b) {     //if true, min = b\r\n            if (b &gt; c) { //if true, min = c\r\n                return c;\r\n            } else {     //else min = b\r\n                return b; \r\n            }\r\n        }          //else min = a\r\n        if (a &gt; c) {  // if true, min=c\r\n            return c;\r\n        } else {\r\n            return a;\r\n        }\r\n    }","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>If you will call min() around 1kk times with different a, b, c, then use my method:</p>\n\n<p>Here only two comparisons. There is no way to calc faster :P</p>\n\n<pre><code>public static double min(double a, double b, double c) {\n    if (a &gt; b) {     //if true, min = b\n        if (b &gt; c) { //if true, min = c\n            return c;\n        } else {     //else min = b\n            return b; \n        }\n    }          //else min = a\n    if (a &gt; c) {  // if true, min=c\n        return c;\n    } else {\n        return a;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9247027,"reputation":39,"user_id":6868576,"display_name":"Thomas Allenbaugh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503505367,"creation_date":1503505367,"answer_id":45844897,"question_id":9576557,"body_markdown":"For pure characters-of-code efficiency, I can&#39;t find anything better than\r\n\r\n    smallest = a&lt;b&amp;&amp;a&lt;c?a:b&lt;c?b:c;","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>For pure characters-of-code efficiency, I can't find anything better than</p>\n\n<pre><code>smallest = a&lt;b&amp;&amp;a&lt;c?a:b&lt;c?b:c;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11926946,"reputation":45,"user_id":8727979,"display_name":"Sinisa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509295993,"creation_date":1509295993,"answer_id":47002789,"question_id":9576557,"body_markdown":"For those who find this topic much later:\r\n\r\nIf you have just three values to compare there is no significant difference. But if you have to find min of, say, thirty or sixty values, &quot;min&quot; could be easier for anyone to read in the code next year:\r\n\r\n    int smallest;\r\n    \r\n    smallest = min(a1, a2);\r\n    smallest = min(smallest, a3);\r\n    smallest = min(smallest, a4);\r\n    ...\r\n    smallest = min(smallest, a37);\r\n\r\nBut if you think of speed, maybe better way would be to put values into list, and then find min of that:\r\n\r\n    List&lt;Integer&gt; mySet = Arrays.asList(a1, a2, a3, ..., a37);\r\n    \r\n    int smallest = Collections.min(mySet);\r\n\r\nWould you agree?","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>For those who find this topic much later:</p>\n\n<p>If you have just three values to compare there is no significant difference. But if you have to find min of, say, thirty or sixty values, \"min\" could be easier for anyone to read in the code next year:</p>\n\n<pre><code>int smallest;\n\nsmallest = min(a1, a2);\nsmallest = min(smallest, a3);\nsmallest = min(smallest, a4);\n...\nsmallest = min(smallest, a37);\n</code></pre>\n\n<p>But if you think of speed, maybe better way would be to put values into list, and then find min of that:</p>\n\n<pre><code>List&lt;Integer&gt; mySet = Arrays.asList(a1, a2, a3, ..., a37);\n\nint smallest = Collections.min(mySet);\n</code></pre>\n\n<p>Would you agree?</p>\n"},{"tags":[],"owner":{"account_id":13445974,"reputation":51,"user_id":9701908,"display_name":"newbie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524724673,"creation_date":1524720226,"answer_id":50035387,"question_id":9576557,"body_markdown":"OP&#39;s efficient code has a bug: \r\n\r\nwhen `a == b`, and `a (or b) &lt; c`, the code will pick c instead of a or b.","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>OP's efficient code has a bug: </p>\n\n<p>when <code>a == b</code>, and <code>a (or b) &lt; c</code>, the code will pick c instead of a or b.</p>\n"},{"tags":[],"owner":{"account_id":3557255,"reputation":5214,"user_id":2970705,"display_name":"JavAlex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599903148,"creation_date":1599903148,"answer_id":63858873,"question_id":9576557,"body_markdown":"Works with an arbitrary number of input values:\r\n\r\n     public static double min(double... doubles) {\r\n        double m = Double.MAX_VALUE;\r\n        for (double d : doubles) {\r\n            m = Math.min(m, d);\r\n        }\r\n        return m;\r\n    }","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>Works with an arbitrary number of input values:</p>\n<pre><code> public static double min(double... doubles) {\n    double m = Double.MAX_VALUE;\n    for (double d : doubles) {\n        m = Math.min(m, d);\n    }\n    return m;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18338014,"reputation":59,"user_id":13354986,"display_name":"james"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1605105739,"creation_date":1605052404,"answer_id":64778512,"question_id":9576557,"body_markdown":"Use the Arrays.sort() method, the lowest value will be element0. \r\n\r\nIn terms of performance, this should not be expensive since the sort operation is\r\nalready optimised. Also has the advantage of being concise. \r\n\r\n    private int min(int ... value) {\r\n        Arrays.sort(value);\r\n        return value[0];\r\n    }\r\n\r\n\r\n\r\nProof of concept\r\n\r\n        int[] intArr = {12, 5, 6, 9, 44, 28, 1, 4, 18, 2, 66, 13, 1, 33, 74, 12, \r\n        5, 6, 9, 44, 28, 1, 4, 18, 2, 66, 13};\r\n\r\n        // Sorting approach\r\n        long startTime = System.currentTimeMillis();\r\n        int minVal = min(intArr);\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println(&quot;Sorting: Min =&gt; &quot; + minVal + &quot; took =&gt; &quot; + (endTime - \r\n        startTime));\r\n        System.out.println(startTime + &quot;   &quot;  + endTime);\r\n        System.out.println(&quot; &quot;);\r\n\r\n        // Scanning approach\r\n        minVal = 100;\r\n        startTime = System.currentTimeMillis();\r\n        for(int val : intArr) {\r\n            if (val &lt; minVal)\r\n                minVal = val;\r\n        }\r\n        endTime = System.currentTimeMillis();\r\n        System.out.println(&quot;Iterating: Min =&gt; &quot; + minVal + &quot; took =&gt; &quot; + (endTime \r\n        - startTime));\r\n        System.out.println(startTime + &quot;   &quot;  + endTime);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PfDYY.png","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>Use the Arrays.sort() method, the lowest value will be element0.</p>\n<p>In terms of performance, this should not be expensive since the sort operation is\nalready optimised. Also has the advantage of being concise.</p>\n<pre><code>private int min(int ... value) {\n    Arrays.sort(value);\n    return value[0];\n}\n</code></pre>\n<p>Proof of concept</p>\n<pre><code>    int[] intArr = {12, 5, 6, 9, 44, 28, 1, 4, 18, 2, 66, 13, 1, 33, 74, 12, \n    5, 6, 9, 44, 28, 1, 4, 18, 2, 66, 13};\n\n    // Sorting approach\n    long startTime = System.currentTimeMillis();\n    int minVal = min(intArr);\n    long endTime = System.currentTimeMillis();\n    System.out.println(&quot;Sorting: Min =&gt; &quot; + minVal + &quot; took =&gt; &quot; + (endTime - \n    startTime));\n    System.out.println(startTime + &quot;   &quot;  + endTime);\n    System.out.println(&quot; &quot;);\n\n    // Scanning approach\n    minVal = 100;\n    startTime = System.currentTimeMillis();\n    for(int val : intArr) {\n        if (val &lt; minVal)\n            minVal = val;\n    }\n    endTime = System.currentTimeMillis();\n    System.out.println(&quot;Iterating: Min =&gt; &quot; + minVal + &quot; took =&gt; &quot; + (endTime \n    - startTime));\n    System.out.println(startTime + &quot;   &quot;  + endTime);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PfDYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfDYY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":103729,"reputation":3046,"user_id":277671,"accept_rate":68,"display_name":"Chris"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195793,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":9576704,"answer_count":16,"score":60,"last_activity_date":1660885019,"creation_date":1330996742,"question_id":9576557,"body_markdown":"I have an algorithm written in Java that I would like to make more efficient. A part that I think could be made more efficient is finding the smallest of 3 numbers. Currently I&#39;m using the `Math.min` method as below:\r\n\r\n    double smallest = Math.min(a, Math.min(b, c));\r\n\r\nHow efficient is this? Would it be more efficient to replace with if statements like below:\r\n\r\n    double smallest;\r\n    if (a &lt;= b &amp;&amp; a &lt;= c) {\r\n        smallest = a;\r\n    } else if (b &lt;= c &amp;&amp; b &lt;= a) {\r\n        smallest = b;\r\n    } else {\r\n        smallest = c;\r\n    }\r\n\r\nOr if any other way is more efficient\r\n\r\nI&#39;m wondering if it is worth changing what I&#39;m currently using?\r\n\r\nAny speed increase would be greatly helpful","title":"Most efficient way to find smallest of 3 numbers Java?","body":"<p>I have an algorithm written in Java that I would like to make more efficient. A part that I think could be made more efficient is finding the smallest of 3 numbers. Currently I'm using the <code>Math.min</code> method as below:</p>\n\n<pre><code>double smallest = Math.min(a, Math.min(b, c));\n</code></pre>\n\n<p>How efficient is this? Would it be more efficient to replace with if statements like below:</p>\n\n<pre><code>double smallest;\nif (a &lt;= b &amp;&amp; a &lt;= c) {\n    smallest = a;\n} else if (b &lt;= c &amp;&amp; b &lt;= a) {\n    smallest = b;\n} else {\n    smallest = c;\n}\n</code></pre>\n\n<p>Or if any other way is more efficient</p>\n\n<p>I'm wondering if it is worth changing what I'm currently using?</p>\n\n<p>Any speed increase would be greatly helpful</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","connection-pooling"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1625566004,"post_id":68268496,"comment_id":120654361,"body_markdown":"There is already a connection pool so no you don&#39;t need to add one (this is also explained in the reference guide). You can still configure it by increasing the max connections (the default is 10 for instance).","body":"There is already a connection pool so no you don&#39;t need to add one (this is also explained in the reference guide). You can still configure it by increasing the max connections (the default is 10 for instance)."},{"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"score":0,"creation_date":1625566165,"post_id":68268496,"comment_id":120654442,"body_markdown":"ok, thanks ... can you give me the link to the reference guide please?","body":"ok, thanks ... can you give me the link to the reference guide please?"}],"answers":[{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1625572270,"creation_date":1625572270,"answer_id":68270053,"question_id":68268496,"body_markdown":"Hikari is the default DataSource implementation with Spring Boot 2. This means we need not add explicit dependency in the pom.xml. The spring-boot-starter-jdbc and spring-boot-starter-data-jpa resolve it by default. To sum up, you require no other steps with Spring Boot 2.\r\n&lt;br/&gt;\r\nLink for Documentation : [Spring Documentation for Connection pools][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.sql.datasource.connection-pool\r\n\r\nAlthough you modify the default properties of HikariCP\r\n\r\n    spring.datasource.hikari.connection-timeout = 20000 #maximum number of milliseconds that a client will wait for a connection\r\n\r\n    spring.datasource.hikari.minimum-idle= 10 #minimum number of idle connections maintained by HikariCP in a connection pool\r\n\r\n    spring.datasource.hikari.maximum-pool-size= 10 #maximum pool size\r\n\r\n    spring.datasource.hikari.idle-timeout=10000 #maximum idle time for connection\r\n\r\n    spring.datasource.hikari.max-lifetime= 1000 # maximum lifetime in milliseconds of a connection in the pool after it is closed.\r\n\r\n    spring.datasource.hikari.auto-commit =true #default auto-commit behavior.","title":"Spring Boot with default connection-pool","body":"<p>Hikari is the default DataSource implementation with Spring Boot 2. This means we need not add explicit dependency in the pom.xml. The spring-boot-starter-jdbc and spring-boot-starter-data-jpa resolve it by default. To sum up, you require no other steps with Spring Boot 2.\n<br/>\nLink for Documentation : <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.sql.datasource.connection-pool\" rel=\"noreferrer\">Spring Documentation for Connection pools</a></p>\n<p>Although you modify the default properties of HikariCP</p>\n<pre><code>spring.datasource.hikari.connection-timeout = 20000 #maximum number of milliseconds that a client will wait for a connection\n\nspring.datasource.hikari.minimum-idle= 10 #minimum number of idle connections maintained by HikariCP in a connection pool\n\nspring.datasource.hikari.maximum-pool-size= 10 #maximum pool size\n\nspring.datasource.hikari.idle-timeout=10000 #maximum idle time for connection\n\nspring.datasource.hikari.max-lifetime= 1000 # maximum lifetime in milliseconds of a connection in the pool after it is closed.\n\nspring.datasource.hikari.auto-commit =true #default auto-commit behavior.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21647082,"reputation":51,"user_id":15968258,"display_name":"Bhabani Prasad Patel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625592524,"creation_date":1625573414,"answer_id":68270301,"question_id":68268496,"body_markdown":"***As per Spring Boot Documentation:***\r\n\r\nSupported Connection Pools:-\r\n\r\nSpring Boot uses the following algorithm for choosing a specific implementation:\r\n\r\n 1. We prefer HikariCP for its performance and concurrency. If HikariCP is available, we always choose it.\r\n 2. Otherwise, if the Tomcat pooling DataSource is available, we use it.\r\n 3. Otherwise, if Commons DBCP2 is available, we use it.\r\n 4. If none of HikariCP, Tomcat, and DBCP2 are available and if Oracle UCP is available, we use it.\r\n\r\n*If you use the spring-boot-starter-jdbc or spring-boot-starter-data-jpa “starters”, you automatically get a dependency to HikariCP.*\r\n\r\n[Spring documentation][1]\r\n\r\nHave a look into HikariCP: https://github.com/brettwooldridge/HikariCP\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.sql.datasource.connection-pool","title":"Spring Boot with default connection-pool","body":"<p><em><strong>As per Spring Boot Documentation:</strong></em></p>\n<p>Supported Connection Pools:-</p>\n<p>Spring Boot uses the following algorithm for choosing a specific implementation:</p>\n<ol>\n<li>We prefer HikariCP for its performance and concurrency. If HikariCP is available, we always choose it.</li>\n<li>Otherwise, if the Tomcat pooling DataSource is available, we use it.</li>\n<li>Otherwise, if Commons DBCP2 is available, we use it.</li>\n<li>If none of HikariCP, Tomcat, and DBCP2 are available and if Oracle UCP is available, we use it.</li>\n</ol>\n<p><em>If you use the spring-boot-starter-jdbc or spring-boot-starter-data-jpa “starters”, you automatically get a dependency to HikariCP.</em></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.sql.datasource.connection-pool\" rel=\"noreferrer\">Spring documentation</a></p>\n<p>Have a look into HikariCP: <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"noreferrer\">https://github.com/brettwooldridge/HikariCP</a></p>\n"}],"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50840,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":68270053,"answer_count":2,"score":10,"last_activity_date":1660884608,"creation_date":1625565845,"question_id":68268496,"body_markdown":"I&#39;m using SpringBoot (v2.3.0.RELEASE), JPA and Hibernate (with a MySQL database).\r\nI need to try to improve, in general, the performances.\r\n\r\nIt&#39;s not completely clear for me if, into the default configuration, is already there a Database Connection Pool.\r\n\r\nI didn&#39;t add any specific dependencies into my pom about a connection pool but when I try to run my service I read:\r\n\r\n    2021-07-01 13:53:04.065  INFO  HikariDataSource-getConnection():110 - [ HikariPool-1 - Starting... ]\r\n    2021-07-01 13:53:04.499  INFO  HikariDataSource-getConnection():123 - [ HikariPool-1 - Start completed. ]\r\n\r\ncan you give me some info about this?\r\n\r\nDo I need to configure (adding the dependency also) a connection pool manually?","title":"Spring Boot with default connection-pool","body":"<p>I'm using SpringBoot (v2.3.0.RELEASE), JPA and Hibernate (with a MySQL database).\nI need to try to improve, in general, the performances.</p>\n<p>It's not completely clear for me if, into the default configuration, is already there a Database Connection Pool.</p>\n<p>I didn't add any specific dependencies into my pom about a connection pool but when I try to run my service I read:</p>\n<pre><code>2021-07-01 13:53:04.065  INFO  HikariDataSource-getConnection():110 - [ HikariPool-1 - Starting... ]\n2021-07-01 13:53:04.499  INFO  HikariDataSource-getConnection():123 - [ HikariPool-1 - Start completed. ]\n</code></pre>\n<p>can you give me some info about this?</p>\n<p>Do I need to configure (adding the dependency also) a connection pool manually?</p>\n"},{"tags":["java","maven","dependency-management"],"comments":[{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1660844846,"post_id":73406948,"comment_id":129635594,"body_markdown":"note: on further reflection, I think this question is poorly titled; if anyone has suggestions for better title I&#39;m eager to hear them","body":"note: on further reflection, I think this question is poorly titled; if anyone has suggestions for better title I&#39;m eager to hear them"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1660846217,"post_id":73406948,"comment_id":129636032,"body_markdown":"Before you can run your build all dependencies (incl. plugins + deps) have to be downloaded...","body":"Before you can run your build all dependencies (incl. plugins + deps) have to be downloaded..."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1660846984,"post_id":73406948,"comment_id":129636306,"body_markdown":"I&#39;m not trying to do a &quot;real&quot; build.  I&#39;m just trying to find a way to ask maven &quot;why do you claim that I depend on module ABC, even though ABC is not in my pom file&quot;.","body":"I&#39;m not trying to do a &quot;real&quot; build.  I&#39;m just trying to find a way to ask maven &quot;why do you claim that I depend on module ABC, even though ABC is not in my pom file&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660843665,"creation_date":1660843665,"answer_id":73407208,"question_id":73406948,"body_markdown":"How exactly would you think that maven could resolve transitive dependencies (= dependencies of dependencies) without resolving the dependencies first? Escpecially for the goal &quot;test&quot; also the dependency scope &quot;test&quot; has to be used, which is more then the default scope &quot;compile&quot;.\r\n\r\nYou can use the goal `dependency:go-offline` to prepare for the offline mode. Maven downloads then all required dependencies. Find the detailed docs for that on https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\r\n\r\nYou could also have a look at [this answer](https://stackoverflow.com/a/7233762/2846138) to get another opinion on going online.","title":"get partial maven dependency tree in offline mode","body":"<p>How exactly would you think that maven could resolve transitive dependencies (= dependencies of dependencies) without resolving the dependencies first? Escpecially for the goal &quot;test&quot; also the dependency scope &quot;test&quot; has to be used, which is more then the default scope &quot;compile&quot;.</p>\n<p>You can use the goal <code>dependency:go-offline</code> to prepare for the offline mode. Maven downloads then all required dependencies. Find the detailed docs for that on <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html</a></p>\n<p>You could also have a look at <a href=\"https://stackoverflow.com/a/7233762/2846138\">this answer</a> to get another opinion on going online.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660884169,"creation_date":1660884169,"answer_id":73411918,"question_id":73406948,"body_markdown":"The main problem is maven downloads dependencies by demand, you may just check that by triggering different lifecycle phases like `mvn initialize`, `mvn validate`, `mvn compile`, `mvn package` and checking what maven is trying to download. Sometimes it is possible to figure out project dependencies via analysing project object model (`pom`), sometimes it is not, especially when plugins define their own dependencies either implicitly or explicitly, some examples below:\r\n- we may ask `maven-dependency-plugin` to download something via [`dependency:copy-dependencies`](https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html)\r\n- `exec-maven-plugin` has similar functionality: [Running Java programs with the exec goal](https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html)\r\n- [`maven-invoker-plugin`](https://maven.apache.org/plugins/maven-invoker-plugin/) may run poms which are part of project but not a part of reactor.\r\n\r\n**In short**: neither maven plugin will able to download all required dependencies. The only &quot;reliable&quot; way to go offline is to run target goal and only then go offline, unfortunately even in this cases some weird things may happen, especially when you or dependency authors are using snapshot versions, version ranges, third-party repositories, etc (my own preference is to run maven with `-llr` flag to make it more reliable). ","title":"get partial maven dependency tree in offline mode","body":"<p>The main problem is maven downloads dependencies by demand, you may just check that by triggering different lifecycle phases like <code>mvn initialize</code>, <code>mvn validate</code>, <code>mvn compile</code>, <code>mvn package</code> and checking what maven is trying to download. Sometimes it is possible to figure out project dependencies via analysing project object model (<code>pom</code>), sometimes it is not, especially when plugins define their own dependencies either implicitly or explicitly, some examples below:</p>\n<ul>\n<li>we may ask <code>maven-dependency-plugin</code> to download something via <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\"><code>dependency:copy-dependencies</code></a></li>\n<li><code>exec-maven-plugin</code> has similar functionality: <a href=\"https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html\" rel=\"nofollow noreferrer\">Running Java programs with the exec goal</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/\" rel=\"nofollow noreferrer\"><code>maven-invoker-plugin</code></a> may run poms which are part of project but not a part of reactor.</li>\n</ul>\n<p><strong>In short</strong>: neither maven plugin will able to download all required dependencies. The only &quot;reliable&quot; way to go offline is to run target goal and only then go offline, unfortunately even in this cases some weird things may happen, especially when you or dependency authors are using snapshot versions, version ranges, third-party repositories, etc (my own preference is to run maven with <code>-llr</code> flag to make it more reliable).</p>\n"}],"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660884169,"creation_date":1660842346,"question_id":73406948,"body_markdown":"I&#39;m trying to run some unit tests with Apache Maven.  I hoped this would be as simple as running the `test` &quot;goal&quot;.  But when I did that, maven complained that it could not download some dependencies and thus can&#39;t run my tests.  This sounds fine, except that I have no idea why it decided I need those dependencies; they are not in my pom.xml, and I doubt they&#39;re in my transitive dependencies either.  (I&#39;m not sure about that last part; they very well might be in my transitive dependencies.)\r\n\r\nLuckily, maven has the perfect tool for this: `dependency:tree` will tell us exactly which dependency is getting pulled in by what.  Except for the small problem that maven thinks to itself &quot;in order to build the tree, I have to resolve the dependencies first&quot; so it tries (and fails) to download those very same dependencies so that it can build the part of the tree that&#39;s under them.\r\n\r\nSo now I don&#39;t have a tree, and I have no idea how to proceed from here.","title":"get partial maven dependency tree in offline mode","body":"<p>I'm trying to run some unit tests with Apache Maven.  I hoped this would be as simple as running the <code>test</code> &quot;goal&quot;.  But when I did that, maven complained that it could not download some dependencies and thus can't run my tests.  This sounds fine, except that I have no idea why it decided I need those dependencies; they are not in my pom.xml, and I doubt they're in my transitive dependencies either.  (I'm not sure about that last part; they very well might be in my transitive dependencies.)</p>\n<p>Luckily, maven has the perfect tool for this: <code>dependency:tree</code> will tell us exactly which dependency is getting pulled in by what.  Except for the small problem that maven thinks to itself &quot;in order to build the tree, I have to resolve the dependencies first&quot; so it tries (and fails) to download those very same dependencies so that it can build the part of the tree that's under them.</p>\n<p>So now I don't have a tree, and I have no idea how to proceed from here.</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660671682,"creation_date":1660671682,"answer_id":73378130,"question_id":73377655,"body_markdown":"I&#39;ve not worked a lot with Sleuth but I have great suspicion over the creating of a new RestTemplate each time.\r\n\r\nTry defining it as a bean with a singleton scope and then Autowire the RestTemplate.","title":"Not able to pass Sleuth traceid and spanid to downstream services while making API calls using resttemplate with new keyword","body":"<p>I've not worked a lot with Sleuth but I have great suspicion over the creating of a new RestTemplate each time.</p>\n<p>Try defining it as a bean with a singleton scope and then Autowire the RestTemplate.</p>\n"},{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660739047,"creation_date":1660739047,"answer_id":73388438,"question_id":73377655,"body_markdown":"You need to inject `TracingClientHttpRequestInterceptor` bean to your rest template and it will take care of passing the tracing context.","title":"Not able to pass Sleuth traceid and spanid to downstream services while making API calls using resttemplate with new keyword","body":"<p>You need to inject <code>TracingClientHttpRequestInterceptor</code> bean to your rest template and it will take care of passing the tracing context.</p>\n"}],"owner":{"account_id":10685095,"reputation":283,"user_id":7865867,"accept_rate":100,"display_name":"New2Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73388438,"answer_count":2,"score":0,"last_activity_date":1660884077,"creation_date":1660669233,"question_id":73377655,"body_markdown":"Currently, I am integrating Sleuth into our existing Microservices to enhance the logging mechanism. The MS is using Spring Cloud Sleuth 3.0.6\r\n\r\nThe challenge that I am trying to solve is while making outbound API calls, we are creating RestTemplate using new() keyword instead of managing RestTemplate as Bean. Due to this, the traceids vary in the MS1 and MS2 logs, which makes the tracing difficult. \r\n\r\nAs I understand from the official doc, Brave registers interceptors to like LazyTraceClientHttpRequestInterceptor &amp; TracingClientHttpRequestInterceptor to add headers like X-B3-Traceid, X-B3-SpanId to the outbound request, I tried to do something similar. \r\n\r\nHere is the code for my custom Interceptor:\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.cloud.sleuth.Span;\r\n    import org.springframework.cloud.sleuth.Tracer;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpRequest;\r\n    import org.springframework.http.client.ClientHttpRequestExecution;\r\n    import org.springframework.http.client.ClientHttpRequestInterceptor;\r\n    import org.springframework.http.client.ClientHttpResponse;\r\n    import org.springframework.stereotype.Component;\r\n     \r\n    @Component\r\n    public class RequestResponseLoggingInterceptor implements ClientHttpRequestInterceptor {\r\n        \r\n        private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n        \r\n        private Tracer tracer;\r\n        \r\n        RequestResponseLoggingInterceptor(Tracer tracer){\r\n        \tthis.tracer = tracer;\r\n        }\r\n      \r\n        @Override\r\n        public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException \r\n        {\r\n            Span span = tracer.currentSpan();\r\n            \r\n            HttpHeaders headers = new HttpHeaders();\r\n        \theaders.set(&quot;X-B3-Traceid&quot;, span.context().traceId());\r\n        \theaders.set(&quot;X-B3-SpanId&quot;, span.context().spanId());\r\n        \theaders.set(&quot;X-B3-ParentSpanId&quot;, span.context().parentId());\r\n        \trequest.getHeaders().addAll(headers);\r\n        \t\r\n        \tClientHttpResponse response = execution.execute(request, body);\r\n            return response;\r\n        }\r\n    }\r\n\r\nAnd In my controller class, I have autowired this interceptor. And using this interceptor for the resttemplate call.\r\n\r\nWhen I am comparing the MS1 and MS2 logs for this API call, the traceids are different.\r\n\r\nCan anyone help me what am I doing wrong here? And how can I achieve this traceid propagation to downstream service By Creating RestTemplate with New() keyword.","title":"Not able to pass Sleuth traceid and spanid to downstream services while making API calls using resttemplate with new keyword","body":"<p>Currently, I am integrating Sleuth into our existing Microservices to enhance the logging mechanism. The MS is using Spring Cloud Sleuth 3.0.6</p>\n<p>The challenge that I am trying to solve is while making outbound API calls, we are creating RestTemplate using new() keyword instead of managing RestTemplate as Bean. Due to this, the traceids vary in the MS1 and MS2 logs, which makes the tracing difficult.</p>\n<p>As I understand from the official doc, Brave registers interceptors to like LazyTraceClientHttpRequestInterceptor &amp; TracingClientHttpRequestInterceptor to add headers like X-B3-Traceid, X-B3-SpanId to the outbound request, I tried to do something similar.</p>\n<p>Here is the code for my custom Interceptor:</p>\n<pre><code>import java.io.IOException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.cloud.sleuth.Span;\nimport org.springframework.cloud.sleuth.Tracer;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpRequest;\nimport org.springframework.http.client.ClientHttpRequestExecution;\nimport org.springframework.http.client.ClientHttpRequestInterceptor;\nimport org.springframework.http.client.ClientHttpResponse;\nimport org.springframework.stereotype.Component;\n \n@Component\npublic class RequestResponseLoggingInterceptor implements ClientHttpRequestInterceptor {\n    \n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n    \n    private Tracer tracer;\n    \n    RequestResponseLoggingInterceptor(Tracer tracer){\n        this.tracer = tracer;\n    }\n  \n    @Override\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException \n    {\n        Span span = tracer.currentSpan();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;X-B3-Traceid&quot;, span.context().traceId());\n        headers.set(&quot;X-B3-SpanId&quot;, span.context().spanId());\n        headers.set(&quot;X-B3-ParentSpanId&quot;, span.context().parentId());\n        request.getHeaders().addAll(headers);\n        \n        ClientHttpResponse response = execution.execute(request, body);\n        return response;\n    }\n}\n</code></pre>\n<p>And In my controller class, I have autowired this interceptor. And using this interceptor for the resttemplate call.</p>\n<p>When I am comparing the MS1 and MS2 logs for this API call, the traceids are different.</p>\n<p>Can anyone help me what am I doing wrong here? And how can I achieve this traceid propagation to downstream service By Creating RestTemplate with New() keyword.</p>\n"},{"tags":["java","jboss","wildfly","xerces"],"comments":[{"owner":{"account_id":25189247,"reputation":25,"user_id":19029638,"display_name":"Qwerty"},"score":0,"creation_date":1660835429,"post_id":73399695,"comment_id":129632096,"body_markdown":"It is for tomcat.","body":"It is for tomcat."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1660835510,"post_id":73399695,"comment_id":129632139,"body_markdown":"You&#39;re correct and you have `xercesImpl.jar` already.  Retracted.","body":"You&#39;re correct and you have <code>xercesImpl.jar</code> already.  Retracted."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1660842507,"post_id":73399695,"comment_id":129634798,"body_markdown":"What version of WildFly are you using?","body":"What version of WildFly are you using?"},{"owner":{"account_id":25189247,"reputation":25,"user_id":19029638,"display_name":"Qwerty"},"score":0,"creation_date":1660883412,"post_id":73399695,"comment_id":129643499,"body_markdown":"@JamesR.Perkins Xerces version is 2.6.1\nJboos Module version 1.9.1\nWildFly version 17.0.1","body":"@JamesR.Perkins Xerces version is 2.6.1 Jboos Module version 1.9.1 WildFly version 17.0.1"}],"owner":{"account_id":25189247,"reputation":25,"user_id":19029638,"display_name":"Qwerty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660883724,"creation_date":1660810956,"question_id":73399695,"body_markdown":"I&#39;m using WildFly and Jboss for API deployment.\r\nBelow code throwing exception when I&#39;m hitting one of the API.\r\n\r\n    System.setProperty(&quot;javax.xml.parsers.DocumentBuilderFactory&quot;, &quot;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&quot;);\r\n    // Here the exception is occurring\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance(&quot;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&quot;, ClassLoader.getSystemClassLoader());\r\n    dbFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    dbFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\nException:\r\n\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\r\n    ERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\r\n    ERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.stream.XMLOutputFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\r\n    ERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\r\n    ERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.SAXParserFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.SAXParserFactory\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\r\n    ERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\r\n    ERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\r\n    ERROR [stderr] JAXP: Looking up system property &#39;javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom&#39;\r\n    ERROR [stderr] JAXP: The property is undefined.\r\n    ERROR [stderr] JAXP: found null in $java.home/conf/jaxp.properties\r\n    ERROR [stderr] JAXP: factory &#39;org.apache.xpath.jaxp.XPathFactoryImpl&#39; was found for http://java.sun.com/jaxp/xpath/dom\r\n    ERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\r\n    ERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\r\n    ERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\r\n    ERROR [stderr] (Exception Multicaster Thread15) com.blazesoft.server.base.NdServiceSessionException: Service session Id number 1.\r\n    ERROR [stderr] (Exception Multicaster Thread15) java.lang.ClassNotFoundException: org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\r\n                    SEVERE [com.sun.xml.ws.server.sei.EndpointMethodHandler] (default task-1) com.blazesoft.server.base.NdServiceSessionException: Service session Id number 1.\r\n                    Class &#39;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&#39; could not be found. Please verify it is on the classpath. while evaluating &quot;XYZ&quot; in function ABC\r\n                            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n                            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n                            ...\r\n\r\nI have added a jars file in build.xml of ant build. So in my jar, I have below jars in the \\WEB-INF\\lib\\.\r\n\r\n    &lt;fileset id=&quot;required-jars&quot; dir=&quot;${product.lib}&quot;&gt;\r\n    \t&lt;include name=&quot;xerces.jar&quot;/&gt;\r\n    \t&lt;include name=&quot;resolver.jar&quot;/&gt;\r\n    \t&lt;include name=&quot;serializer.jar&quot;/&gt;\r\n    \t&lt;include name=&quot;xalan.jar&quot;/&gt;\r\n    \t&lt;include name=&quot;xercesImpl.jar&quot;/&gt;\r\n    \t&lt;include name=&quot;xml-apis.jar&quot;/&gt;\r\n    &lt;/fileset&gt;\r\n\r\nXerces version is 2.6.1 &lt;br&gt;\r\nJBoss Module version 1.9.1 &lt;br&gt;\r\nWildFly version 17.0.1","title":"Class &#39;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&#39; could not be found. Please verify it is on the classpath","body":"<p>I'm using WildFly and Jboss for API deployment.\nBelow code throwing exception when I'm hitting one of the API.</p>\n<pre><code>System.setProperty(&quot;javax.xml.parsers.DocumentBuilderFactory&quot;, &quot;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&quot;);\n// Here the exception is occurring\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance(&quot;org.apache.xerces.jaxp.DocumentBuilderFactoryImpl&quot;, ClassLoader.getSystemClassLoader());\ndbFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ndbFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>Exception:</p>\n<pre><code>ERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\nERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\nERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\nERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.stream.XMLOutputFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\nERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\nERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\nERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.SAXParserFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.SAXParserFactory\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\nERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\nERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\nERROR [stderr] JAXP: find factoryId =javax.xml.transform.TransformerFactory\nERROR [stderr] JAXP: Looking up system property 'javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom'\nERROR [stderr] JAXP: The property is undefined.\nERROR [stderr] JAXP: found null in $java.home/conf/jaxp.properties\nERROR [stderr] JAXP: factory 'org.apache.xpath.jaxp.XPathFactoryImpl' was found for http://java.sun.com/jaxp/xpath/dom\nERROR [stderr] JAXP: find factoryId =javax.xml.parsers.DocumentBuilderFactory\nERROR [stderr] JAXP: found system property, value=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\nERROR [stderr] JAXP: created new instance of class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl using ClassLoader: null\nERROR [stderr] (Exception Multicaster Thread15) com.blazesoft.server.base.NdServiceSessionException: Service session Id number 1.\nERROR [stderr] (Exception Multicaster Thread15) java.lang.ClassNotFoundException: org.apache.xerces.jaxp.DocumentBuilderFactoryImpl\n                SEVERE [com.sun.xml.ws.server.sei.EndpointMethodHandler] (default task-1) com.blazesoft.server.base.NdServiceSessionException: Service session Id number 1.\n                Class 'org.apache.xerces.jaxp.DocumentBuilderFactoryImpl' could not be found. Please verify it is on the classpath. while evaluating &quot;XYZ&quot; in function ABC\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n                        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n                        ...\n</code></pre>\n<p>I have added a jars file in build.xml of ant build. So in my jar, I have below jars in the \\WEB-INF\\lib.</p>\n<pre><code>&lt;fileset id=&quot;required-jars&quot; dir=&quot;${product.lib}&quot;&gt;\n    &lt;include name=&quot;xerces.jar&quot;/&gt;\n    &lt;include name=&quot;resolver.jar&quot;/&gt;\n    &lt;include name=&quot;serializer.jar&quot;/&gt;\n    &lt;include name=&quot;xalan.jar&quot;/&gt;\n    &lt;include name=&quot;xercesImpl.jar&quot;/&gt;\n    &lt;include name=&quot;xml-apis.jar&quot;/&gt;\n&lt;/fileset&gt;\n</code></pre>\n<p>Xerces version is 2.6.1 <br>\nJBoss Module version 1.9.1 <br>\nWildFly version 17.0.1</p>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":0,"creation_date":1660876772,"post_id":73411314,"comment_id":129642645,"body_markdown":"You want to use `Optional.flatMap`. I think this function is not available in java 8 so you need to write some ugly code.","body":"You want to use <code>Optional.flatMap</code>. I think this function is not available in java 8 so you need to write some ugly code."},{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":1,"creation_date":1660876861,"post_id":73411314,"comment_id":129642657,"body_markdown":"Actually, `Optional.map` will automaticall convert `null` to `Optional.empty` so you can use that","body":"Actually, <code>Optional.map</code> will automaticall convert <code>null</code> to <code>Optional.empty</code> so you can use that"}],"answers":[{"tags":[],"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660876938,"creation_date":1660876938,"answer_id":73411343,"question_id":73411314,"body_markdown":"This is probably what you want\r\n```\r\nOptional.ofNullable(emp).map(Employee::getName).ifPresent(System.out::println);\r\n```","title":"Java Optional check for object and its property","body":"<p>This is probably what you want</p>\n<pre><code>Optional.ofNullable(emp).map(Employee::getName).ifPresent(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660883326,"creation_date":1660876560,"question_id":73411314,"body_markdown":"I wanted to check if object is not null and its property is not null then call another function. I am trying to do this with Optional.\r\n\r\nEmployee is a class with a string property name. So I wanted to check if employee object is not null and name property in it is not null then call a method.\r\n\r\nI tried some thing like below, but is this right approach, please correct me.\r\n\r\n       //Employee emp; // comes from another function\r\n        Optional.ofNullable(emp).ifPresent(obj -&gt; Optional.ofNullable(obj.getName()).ifPresent(name -&gt;System.out.println(name)));","title":"Java Optional check for object and its property","body":"<p>I wanted to check if object is not null and its property is not null then call another function. I am trying to do this with Optional.</p>\n<p>Employee is a class with a string property name. So I wanted to check if employee object is not null and name property in it is not null then call a method.</p>\n<p>I tried some thing like below, but is this right approach, please correct me.</p>\n<pre><code>   //Employee emp; // comes from another function\n    Optional.ofNullable(emp).ifPresent(obj -&gt; Optional.ofNullable(obj.getName()).ifPresent(name -&gt;System.out.println(name)));\n</code></pre>\n"},{"tags":["java","linked-list","scope","null"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660878691,"post_id":73411466,"comment_id":129642920,"body_markdown":"Is `current` null or is `current.item` null? They are different things, and it might be an issue with the inner `item` variable not being set correctly somewhere. If you want more help please include the full error in your question, and include the relevant code in the question.","body":"Is <code>current</code> null or is <code>current.item</code> null? They are different things, and it might be an issue with the inner <code>item</code> variable not being set correctly somewhere. If you want more help please include the full error in your question, and include the relevant code in the question."},{"owner":{"account_id":20933783,"reputation":13,"user_id":15379465,"display_name":"rodew"},"score":0,"creation_date":1660878807,"post_id":73411466,"comment_id":129642938,"body_markdown":"`current` is null.\nI do not need the `current.item`, so I do not assign it to a variable.\nI am only using `MyLinkedList.first()` to iterate through the list to a certain node.","body":"<code>current</code> is null. I do not need the <code>current.item</code>, so I do not assign it to a variable. I am only using <code>MyLinkedList.first()</code> to iterate through the list to a certain node."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660878982,"post_id":73411466,"comment_id":129642961,"body_markdown":"The value of `current` is set to the non null value of `first`, it will not be null unless there is relevant code that you have not shown us. Please edit your question to show the error and the code as noted above.","body":"The value of <code>current</code> is set to the non null value of <code>first</code>, it will not be null unless there is relevant code that you have not shown us. Please edit your question to show the error and the code as noted above."},{"owner":{"account_id":20933783,"reputation":13,"user_id":15379465,"display_name":"rodew"},"score":0,"creation_date":1660879298,"post_id":73411466,"comment_id":129643012,"body_markdown":"The error is that `current` is only equal to the first item in the list inside the method call. As soon as `first()` returns to `Population`, `current` is null.\nThat is what I don&#39;t understand. There is no way that I know of that `current` can be equal to anything but what it was set to inside `first()` unless some other method changes it.\nI will include the surrounding code in the question.","body":"The error is that <code>current</code> is only equal to the first item in the list inside the method call. As soon as <code>first()</code> returns to <code>Population</code>, <code>current</code> is null. That is what I don&#39;t understand. There is no way that I know of that <code>current</code> can be equal to anything but what it was set to inside <code>first()</code> unless some other method changes it. I will include the surrounding code in the question."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660883034,"creation_date":1660883034,"answer_id":73411814,"question_id":73411466,"body_markdown":"Let&#39;s add some debugging to your `nextGeneration()` method to see if current is null or not. We can do this with the following:\r\n\r\n\tSystem.out.println(&quot;Before: &quot;+population.current.toString());\r\n    population.first();\r\n\tSystem.out.println(&quot;After: &quot;+population.current.toString());\r\n\r\nAnd the results are:\r\n\r\n    Before: (&quot;&quot;, -50)\r\n    After: (&quot;&quot;, -50)\r\n\r\nAs we can see, `current` is not null, it is returning results both before and after calling `population.first();`. Instead your issue is that the values of `current` and `first` are never updated.\r\n\r\nYou have far too much code for any of us to sort through, so you will need to do some of your own debugging to work out why the values are not being updated.\r\n\r\nHint 1: Inside your `mutate()` method the statement `if (mutationSuccess() &amp; genes.first() != null) {` is NEVER true, so the following line in NEVER called `genes.addBefore(gene);` which may be one of the causes why `current` and `first` never change.\r\n\r\nHint 2: Find all locations in your code where a new Node is created and assigned to `first` or `current`, and check the values that are being inserted.","title":"MyLinkedList current node is only not-null within the structure. When method MyLinkedList.first() returns, current is reset to null","body":"<p>Let's add some debugging to your <code>nextGeneration()</code> method to see if current is null or not. We can do this with the following:</p>\n<pre><code>System.out.println(&quot;Before: &quot;+population.current.toString());\npopulation.first();\nSystem.out.println(&quot;After: &quot;+population.current.toString());\n</code></pre>\n<p>And the results are:</p>\n<pre><code>Before: (&quot;&quot;, -50)\nAfter: (&quot;&quot;, -50)\n</code></pre>\n<p>As we can see, <code>current</code> is not null, it is returning results both before and after calling <code>population.first();</code>. Instead your issue is that the values of <code>current</code> and <code>first</code> are never updated.</p>\n<p>You have far too much code for any of us to sort through, so you will need to do some of your own debugging to work out why the values are not being updated.</p>\n<p>Hint 1: Inside your <code>mutate()</code> method the statement <code>if (mutationSuccess() &amp; genes.first() != null) {</code> is NEVER true, so the following line in NEVER called <code>genes.addBefore(gene);</code> which may be one of the causes why <code>current</code> and <code>first</code> never change.</p>\n<p>Hint 2: Find all locations in your code where a new Node is created and assigned to <code>first</code> or <code>current</code>, and check the values that are being inserted.</p>\n"}],"owner":{"account_id":20933783,"reputation":13,"user_id":15379465,"display_name":"rodew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660883034,"creation_date":1660878433,"question_id":73411466,"body_markdown":"I apologize in advance if I break any etiquette. I have never posted a question before.\r\nI was unable to find advice for my problem elsewhere online.\r\nI am writing an `EvolvingStrings` program in Java and I am running into issues when using `MyLinkedList.first()`. `Current` is set to the `first` node within the method call, but on return `current` is reset to null. The linked list is of a user defined type `Genome`.\r\nWhen running my test class `EvolutionTest.java`, my program runs infinitely because my Strings are never evolved, and therefore never reach their target. I have traced a bug to `Population.nextGeneration()`. Specifically, line 127 in the class `Population`.\r\nThe method should set population&#39;s current node to first. It does do this, however, only inside the method call. On return, current is reset to null.\r\nIf anyone has any advice as to the problem, I would greatly appreciate it.\r\n\r\nThis is my population class.\r\n```\r\n/**\r\n * FileName: Population.java\r\n * CreatedOn: August 17, 2022\r\n *\r\n * @author rodew\r\n * @version 1.0.081722\r\n */\r\n\r\n/**\r\n * A class that contains a list of Genomes\r\n * representing all the Strings in a virtual world.\r\n * In this world, all that exists are strings of\r\n * characters from the set: {A,B,C,D,E,F,G,H,I,J,\r\n * K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,&#39; &#39;,-,&#39;}\r\n * Strings in this world can reproduce new strings\r\n * and die if they are not fit enough.\r\n */\r\npublic class Population {\r\n\r\n    /**\r\n     * The number of genomes in the population.\r\n     * For this assignment, population size is 100.\r\n     */\r\n    protected final int SIZE;\r\n\r\n    /**\r\n     * The number of times nextGeneration\r\n     * has been called.\r\n     */\r\n    public int generation;\r\n\r\n    /**\r\n     * This stores the most fit genome, which\r\n     * is the genome with the highest fitness\r\n     * level.\r\n     */\r\n    public Genome mostFit;\r\n\r\n    /**\r\n     * This stores the Genomes in the population.\r\n     * The initial population of size SIZE is\r\n     * created in the constructor. The population\r\n     * is updated every time nextGeneration is\r\n     * called.\r\n     */\r\n    public MyLinkedList&lt;Genome&gt; population;\r\n\r\n    /**\r\n     * Default Constructor.\r\n     * Calls the main constructor with\r\n     * String &quot;FIRST MIDDLE LAST&quot; and\r\n     * integer 100.\r\n     */\r\n    public Population() {   this(&quot;FIRST MIDDLE LAST&quot;, 100);    }\r\n\r\n    /**\r\n     * Constructor.\r\n     * Initializes SIZE to populationSize.\r\n     * Initializes generation to zero.\r\n     * Initializes population to a linkedList with\r\n     * 100 baby (Empty) Genomes.\r\n     * Initializes Genome.Target to a linkedList\r\n     * consisting of the characters from the target\r\n     * String.\r\n     * Initializes mostFit to the first Genome in the\r\n     * population.\r\n     * @param target the target Genome for evolution.\r\n     * @param populationSize the number of Genomes in the\r\n     * population.\r\n     */\r\n    public Population(String target, int populationSize) {\r\n\r\n        SIZE = populationSize;\r\n        generation = 0;\r\n        population = new MyLinkedList&lt;&gt;();\r\n        Genome.target = createTarget(target);\r\n\r\n        for(int n = 0; n &lt; SIZE; n++) population.addToEnd(new Genome());\r\n\r\n        mostFit = population.first();\r\n\r\n    }\r\n\r\n    /**\r\n     * Creates a MyLinkedList from passed String.\r\n     * @param str the String from which the list is created.\r\n     * @return the target linkedList.\r\n     */\r\n    public MyLinkedList&lt;Character&gt; createTarget(String str) {\r\n\r\n        MyLinkedList&lt;Character&gt; target = new MyLinkedList&lt;&gt;();\r\n\r\n        for(int i = 0; i &lt; str.length(); i++) {\r\n\r\n            char ch = str.charAt(i);\r\n\r\n            target.addToEnd(ch);\r\n\r\n        }\r\n\r\n        return target;\r\n\r\n    }\r\n\r\n    /**\r\n     * Updates the population with the next\r\n     * generation. First, half the population\r\n     * with the lowest fitness levels are deleted.\r\n     * Second, new Genomes are created from the\r\n     * remaining population. There is equal chance\r\n     * that (1) a random remaining Genome will be\r\n     * cloned and the clone mutated or (2) a random\r\n     * remaining Genome will be cloned, the clone\r\n     * crossed with another Genome, and then finally\r\n     * mutated. Third, the population will be sorted\r\n     * by fitness level. Last, the mostFit Genome will\r\n     * be updated to the Genome with the highest fitness\r\n     * level.\r\n     */\r\n    public void nextGeneration() {\r\n\r\n        int select;\r\n        int half = SIZE / 2;\r\n        Genome adult;\r\n        Genome offspring;\r\n\r\n        population.first();\r\n\r\n        for(int i = 0; i &lt; half; i++) population.next();\r\n\r\n        while (population.current() != null) population.remove();\r\n\r\n        for(int n = 0; n &lt; half; n++) {\r\n\r\n            select = Genome.random() % half;\r\n            adult = population.first();\r\n\r\n            for (int i = 0; i &lt; select; i++) adult = population.next();\r\n\r\n            offspring = new Genome(adult);\r\n\r\n            if (Genome.random() % 2 == 0) {\r\n\r\n                select = Genome.random() % half;\r\n                adult = population.first();\r\n\r\n                for (int i = 0; i &lt; select; i++) adult = population.next();\r\n\r\n                offspring.crossover(adult);\r\n\r\n            }\r\n\r\n            offspring.mutate();\r\n            population.addToEnd(offspring);\r\n\r\n        }\r\n\r\n        population.sort(true);\r\n        generation++;\r\n\r\n        mostFit = population.first();\r\n\r\n    }\r\n\r\n    public String toString() {\r\n\r\n        StringBuilder str = new StringBuilder(&quot;[\\n&quot;);\r\n        Genome current = population.first();\r\n\r\n        while (current != null) {\r\n\r\n            str.append(current).append(&quot;\\n&quot;);\r\n\r\n            current = population.next();\r\n\r\n        }\r\n\r\n//        str = new StringBuilder(str.substring(0, str.length() - 2));\r\n\r\n\r\n        return str.append(&quot;]&quot;).toString();\r\n\r\n    }\r\n}\r\n\r\n```\r\nThis is my linked list class.\r\n```\r\n/**\r\n * FileName: MyLinkedList.java\r\n * CreatedOn: July 8, 2022\r\n * @author rodew\r\n * @version 4.0.081722\r\n */\r\n\r\n/**\r\n * Processes a generic list of elements by implementing a Linked List.\r\n */\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class MyLinkedList&lt;Type extends Comparable&lt;Type&gt;&gt; {\r\n    /**\r\n     * A reference to the first node in the list.\r\n     * Is null if the list is empty.\r\n     */\r\n    protected Node first;\r\n\r\n    /**\r\n     * A reference to the last node in the list.\r\n     * Is null if the list is empty.\r\n     */\r\n    protected Node last;\r\n\r\n    /**\r\n     * A reference to the current node in the list.\r\n     * Initialized to null.\r\n     * When this node is null, the current node has fallen off the end of the list.\r\n     */\r\n    protected Node current;\r\n\r\n    /**\r\n     * A reference to the previous node in the list.\r\n     * Is null if current is equal to first.\r\n     */\r\n    protected Node previous;\r\n\r\n    /**\r\n     * The number of elements stored in the list.\r\n     */\r\n    protected int size;\r\n\r\n    /**\r\n     * The total number of comparisons made with the list.\r\n     */\r\n    public long comparisons;\r\n\r\n    /**\r\n     * Default constructor.\r\n     * Initializes first, current, and previous to null.\r\n     * Initializes size to zero.\r\n     * Initializes comparisons to zero.\r\n     */\r\n    public MyLinkedList() {\r\n\r\n        first       = null;\r\n        last        = null;\r\n        current     = null;\r\n        previous    = null;\r\n        size        = 0;\r\n        comparisons = 0;\r\n\r\n    }\r\n\r\n    /**\r\n     * Inserts the passed item before the current node.\r\n     * Runtime: O(1).\r\n     * @param item the element to be inserted.\r\n     */\r\n    public void addBefore(Type item) {\r\n\r\n        // Try to get two cases\r\n        // 1: previous != null\r\n        // else\r\n        if (first == null) {            //  Case is only true once\r\n\r\n            first       = new Node(item, current);\r\n            last        = first;\r\n            previous    = first;\r\n\r\n        } else if (current == first) {\r\n\r\n            first       = new Node(item, current);\r\n\r\n        } else if (current == null) {\r\n\r\n            last.next = new Node(item, null);\r\n            last = last.next;\r\n            previous = last;\r\n\r\n        } else {\r\n\r\n            Node temp   = previous;\r\n\r\n            previous    = new Node(item, current);\r\n            temp.next   = previous;\r\n\r\n        }\r\n\r\n        size++;\r\n\r\n    }\r\n\r\n    /**\r\n     * Inserts the passed item after the current node.\r\n     * Does nothing if the current node is null.\r\n     * Runtime: O(1).\r\n     * @param item the element to be inserted.\r\n     */\r\n    public void addAfter(Type item) {\r\n\r\n        if (current == null) return;\r\n\r\n        current.next    = new Node(item, current.next);\r\n\r\n        if (current == last) last = current.next;\r\n\r\n        size++;\r\n\r\n    }\r\n\r\n    /**\r\n     * Adds the item to the front of the list.\r\n     * Runtime: O(1)\r\n     * @param item the element to be added to the front of the list.\r\n     */\r\n    public void addToFront(Type item) {\r\n\r\n        if (first == null || current == first) {\r\n\r\n            first = new Node(item, first);\r\n            last = first;\r\n            previous = first;\r\n\r\n        } else first = new Node(item, first);\r\n\r\n        size++;\r\n    }\r\n\r\n    /**\r\n     * Adds the item to the end of the list.\r\n     * Runtime: O(1)\r\n     * @param item the element to be added to the end of the list.\r\n     */\r\n    public void addToEnd(Type item) {\r\n\r\n        if (first == null) {\r\n\r\n            first = new Node(item, null);\r\n            last = first;\r\n            previous = first;\r\n\r\n        } else {\r\n\r\n            last.next = new Node(item, null);\r\n            last = last.next;\r\n\r\n            if (current == null) previous = last;\r\n\r\n        }\r\n\r\n        size++;\r\n    }\r\n\r\n    /**\r\n     * Returns the item stored in the current node.\r\n     * Returns null if the current node is null.\r\n     * Runtime: O(1).\r\n     * @return the item in the current node.\r\n     */\r\n    public Type current() {\r\n\r\n        if (current == null) { return null; }\r\n\r\n        return current.item;\r\n\r\n    }\r\n\r\n    /**\r\n     * Sets the current node to be the first node.\r\n     * Returns null if the first node is null.\r\n     * Runtime: O(1).\r\n     * @return the item stored in the current node after the update.\r\n     */\r\n    public Type first() {\r\n\r\n        if (first == null) { return null; }\r\n\r\n        current = first;\r\n        previous = null;\r\n\r\n        return current.item;\r\n\r\n    }\r\n\r\n    /**\r\n     * Sets the previous node to be the current node and then sets the current node\r\n     * to be the next node in the list.\r\n     * Returns null if the current node is null.\r\n     * Runtime: O(1).\r\n     * @return the item stored in the current node after the update.\r\n     */\r\n    public Type next() {\r\n\r\n        if (current == null) { return null; }\r\n\r\n        previous    = current;\r\n        current     = current.next;\r\n\r\n        if (current == null) { return null; }\r\n\r\n        return current.item;\r\n\r\n    }\r\n\r\n    /**\r\n     * Removes the current node.\r\n     * If current is null, does nothing but return null.\r\n     * Runtime: O(1).\r\n     * @return the item removed.\r\n     */\r\n    public Type remove() {\r\n\r\n        if (current == null) return null;\r\n\r\n        Node temp       = current;\r\n\r\n        if (current == first) {\r\n\r\n            first = first.next;\r\n\r\n        } else {\r\n\r\n            previous.next   = current.next;\r\n\r\n        }\r\n\r\n        if (current == last) last = previous;\r\n\r\n        current         = current.next;\r\n        size--;\r\n\r\n        return temp.item;\r\n\r\n    }\r\n\r\n    /**\r\n     * Backwards compatible (Ascending) Bubble Sort.\r\n     * Calls sort(descending) by passing\r\n     * false value as boolean.\r\n     * Runtime: 0(n^2)\r\n     */\r\n    public void sort() {    sort(false);    }\r\n\r\n    /**\r\n     * Bubble Sort Algorithm.\r\n     * Allows sorting the list in\r\n     * ascending or descending order.\r\n     * Runtime: O(n^2)\r\n     * @param descending if true, sort order is descending;\r\n     * otherwise, sort order is ascending.\r\n     */\r\n    public void sort(boolean descending) {\r\n\r\n        Node current = first;\r\n\r\n        while (current != null ) {\r\n\r\n            Node next = current.next;\r\n\r\n            while(next != null ) {\r\n\r\n                if (descending) {\r\n\r\n                    if (current.item.compareTo(next.item) &lt; 0) {\r\n\r\n                        Type temp = current.item;\r\n\r\n                        current.item = next.item;\r\n                        next.item = temp;\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if (current.item.compareTo(next.item) &gt; 0) {\r\n\r\n                        Type temp = current.item;\r\n\r\n                        current.item = next.item;\r\n                        next.item = temp;\r\n\r\n                    }\r\n                }\r\n\r\n                next = next.next;\r\n\r\n            }\r\n\r\n            current = current.next;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Moves the current node to the front of the list.\r\n     * Runtime: O(1)\r\n     * @return the item inside the node moved.\r\n     */\r\n    public Type moveToFront() {\r\n\r\n        if (current == null) return null;\r\n\r\n        addToFront(remove());\r\n\r\n        current = first;\r\n\r\n        return current.item;\r\n\r\n    }\r\n\r\n    /**\r\n     * Swaps the current node with the previous node.\r\n     * Runtime: O(1)\r\n     * @return the item swapped closer to the front of the list.\r\n     */\r\n    public Type swap() {\r\n\r\n        if (current == null) return null;\r\n        else if (current == first) return current.item;\r\n\r\n        Type temp = current.item;\r\n        current.item = previous.item;\r\n        previous.item = temp;\r\n\r\n        return temp;\r\n\r\n    }\r\n\r\n    /**\r\n     * Searches the nodes for the passed item.\r\n     * Runtime: O(n).\r\n     * @param item the element to be searched for.\r\n     * @return true if item is found, false otherwise.\r\n     */\r\n    public boolean contains(Type item) {\r\n\r\n        Node temp       = first;\r\n\r\n        while (temp != null) {\r\n\r\n            comparisons++;\r\n\r\n            if (temp.item.compareTo(item) == 0) { return true; }\r\n\r\n            temp = temp.next;\r\n\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns the number of elements in the list.\r\n     * Runtime: O(1).\r\n     * @return the number of elements in the list.\r\n     */\r\n    public int size() { return size; }\r\n\r\n    /**\r\n     * Returns true if size is zero.\r\n     * Runtime: O(1).\r\n     * @return true if size is zero, false otherwise.\r\n     */\r\n    public boolean isEmpty() { return size == 0; }\r\n\r\n    /**\r\n     * Displays the contents of the list.\r\n     * Runtime: O(n).\r\n     * @return the string representation of the list of items.\r\n     */\r\n    public String toString() {\r\n\r\n        if (isEmpty()) { return &quot;[]&quot;; }         // Only true in one situation\r\n\r\n        Node temp       = first;\r\n\r\n        StringBuilder listString = new StringBuilder(&quot;[&quot; + temp.toString());\r\n\r\n        for (int i = 1; i &lt; size; i++) {        // while loops are usually more efficient\r\n\r\n            temp = temp.next;\r\n\r\n            listString.append(&quot;, &quot;).append(temp.toString());\r\n\r\n        }\r\n\r\n        listString.append(&quot;]&quot;);\r\n\r\n        return listString.toString();\r\n\r\n    }\r\n\r\n    protected class Node {\r\n\r\n        /**\r\n         * The item stored in this node.\r\n         */\r\n        Type item;\r\n\r\n        /**\r\n         * A reference to the next node in the list.\r\n         * Is null if there is no next node.\r\n         */\r\n        Node next;\r\n\r\n        /**\r\n         * Default Constructor.\r\n         * Instantiates item to the passed element.\r\n         * Instantiates the next node reference to the passed node.\r\n         * @param item the element to be stored.\r\n         * @param next the reference to the next node in the list.\r\n         */\r\n        public Node(Type item, Node next) {\r\n\r\n            this.item = item;\r\n            this.next = next;\r\n\r\n        }\r\n\r\n        /**\r\n         * Returns the toString of item.\r\n         * @return the toString of item.\r\n         */\r\n        public String toString() {\r\n\r\n            return item.toString();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThis is my Genome class\r\n```\r\n/**\r\n * FileName: Genome.java\r\n * CreatedOn: August 17, 2022\r\n *\r\n * @author rodew\r\n * @version 1.0.081722\r\n */\r\n\r\n/**\r\n * A class that contains a list of characters\r\n * representing a String in a virtual world.\r\n * In this world, all that exists are strings of\r\n * characters from the set: {A,B,C,D,E,F,G,H,I,J,\r\n * K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,&#39; &#39;,-,&#39;}\r\n * Strings in this world can reproduce new strings\r\n * and die if they are not fit enough.\r\n */\r\npublic class Genome implements Comparable&lt;Genome&gt;{\r\n\r\n    /**\r\n     * Seed for random().\r\n     */\r\n    protected static Integer seed = 2067734636;\r\n\r\n    /**\r\n     * A list of characters representing the string\r\n     * encoded by the genome.\r\n     */\r\n    protected MyLinkedList&lt;Character&gt; genes;\r\n\r\n    /**\r\n     * The population&#39;s mutation rate.\r\n     * Accurate only to two decimal places.\r\n     * Default: 5% chance of mutation.\r\n     */\r\n    protected static double mutationRate = 0.05;\r\n\r\n    /**\r\n     * The target string.\r\n     */\r\n    protected static MyLinkedList&lt;Character&gt; target = new MyLinkedList&lt;&gt;();\r\n\r\n    /**\r\n     * The set of characters all strings are made from.\r\n     */\r\n    protected static final MyLinkedList&lt;Character&gt; genePool = getDNA();\r\n\r\n    /**\r\n     * Constructor\r\n     * Initializes genes to an empty list.\r\n     */\r\n    public Genome() {   genes = new MyLinkedList&lt;&gt;();       }\r\n\r\n    /**\r\n     * Copy constructor.\r\n     * Initializes genes to the passed genome&#39;s genes.\r\n     * @param genome the list of characters to be copied.\r\n     */\r\n    public Genome(Genome genome) {  genes = genome.genes;       }\r\n\r\n    /**\r\n     * My random number generator.\r\n     * @return a random 32 bit integer.\r\n     */\r\n    protected static int random() {\r\n\r\n        int a = 923743637;\r\n        int b = 3;\r\n        long c = (long) Math.pow(2, 48);\r\n\r\n        seed = (int) ((a * seed + b) % c);\r\n\r\n        return seed;\r\n    }\r\n\r\n    /**\r\n     * Initializes the genePool with characters:\r\n     * {A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,\r\n     * U,V,W,X,Y,Z,&#39; &#39;,-,&#39;}\r\n     * @return the genePool\r\n     */\r\n    protected static MyLinkedList&lt;Character&gt; getDNA() {\r\n\r\n        MyLinkedList&lt;Character&gt; characters = new MyLinkedList&lt;&gt;();\r\n        int index = 65;\r\n\r\n        while (index &lt; 91) characters.addToEnd((char) index++);       // Characters &#39;A&#39;-&#39;Z&#39;\r\n\r\n        characters.addToEnd((char) 32);         //  &#39; &#39; character\r\n        characters.addToEnd((char) 45);         //  &#39;-&#39; character\r\n        characters.addToEnd((char) 39);         //  &#39;&#39;&#39; character\r\n\r\n        return characters;\r\n    }\r\n\r\n    /**\r\n     * Mutation chance simulator.\r\n     * @return true if successful; false otherwise.\r\n     */\r\n    protected static boolean mutationSuccess() {\r\n\r\n        double threshold = mutationRate * 100;\r\n\r\n        return (random() % 100) &lt;= threshold;\r\n\r\n    }\r\n\r\n    /**\r\n     * Mutates the genes.\r\n     * With mutationRate chance, add a randomly selected\r\n     * character to a randomly selected position in genes.\r\n     * With mutationRate chance, delete a single character\r\n     * from a randomly selected position in genes; only\r\n     * if genes.size() &gt;= 1.\r\n     * Each character in genes, with mutationRate chance\r\n     * is replaced by a random character.\r\n     */\r\n    public void mutate() {\r\n\r\n        int select;\r\n        char gene;\r\n\r\n        if (mutationSuccess() &amp; genes.first() != null) {\r\n\r\n            select = random() % 29;\r\n            gene = genePool.first();\r\n\r\n            genes.first();\r\n\r\n            for (int i = 0; i &lt; select; i++) gene = genePool.next();\r\n\r\n            select = random() % genes.size();\r\n\r\n            for (int i = 0; i &lt; select; i++) genes.next();\r\n\r\n            genes.remove();\r\n            genes.addBefore(gene);\r\n\r\n        }\r\n\r\n        if (mutationSuccess() &amp; genes.first() != null) {\r\n\r\n            select = random() % genes.size();\r\n\r\n            for (int i = 0; i &lt; select; i++) genes.next();\r\n\r\n            genes.remove();\r\n\r\n        }\r\n\r\n        genes.first();\r\n\r\n        while (genes.current() != null) {\r\n\r\n            if(mutationSuccess()) {\r\n\r\n                genes.remove();\r\n\r\n                select = random() % 29;\r\n                gene = genePool.first();\r\n\r\n                for (int i = 0; i &lt; select; i++) gene = genePool.next();\r\n\r\n                genes.addBefore(gene);\r\n\r\n            } else genes.next();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This updates genes by crossing it with the passed genome.\r\n     * The new genes list is created by randomly selecting one\r\n     * of the parent genomes and adding that character to the\r\n     * new genes list; if the position does not exist in the\r\n     * parent, the new list will end at that position.\r\n     * @param parent the genome to be crossed with.\r\n     */\r\n    public void crossover(Genome parent) {\r\n\r\n        MyLinkedList&lt;Character&gt; child = new MyLinkedList&lt;&gt;();\r\n        Character mother = genes.first();\r\n        Character father = parent.genes.first();\r\n\r\n        while (mother != null) {\r\n\r\n            if (random() % 2 == 0) child.addToEnd(mother);\r\n\r\n            else if (father != null) child.addToEnd(father);\r\n\r\n            else break;\r\n\r\n            mother = genes.next();\r\n            father = parent.genes.next();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns the fitness level of the genome using\r\n     * the following formula: -(l + d), where l is the\r\n     * difference in length between the target and the\r\n     * genes and d is the number of characters that\r\n     * are incorrect.\r\n     * @return the fitness level.\r\n     */\r\n    public int fitness() {\r\n\r\n        int d = 25;\r\n        int l = target.size() - genes.size();\r\n\r\n        Character self = genes.first();\r\n        Character other = target.first();\r\n\r\n        while (self != null &amp; other != null) {\r\n\r\n            if (self.compareTo(other) == 0) d--;\r\n\r\n            self = genes.next();\r\n            other = target.next();\r\n\r\n        }\r\n\r\n        while (self != null) {\r\n\r\n            d++;\r\n            self = genes.next();\r\n\r\n        }\r\n\r\n       return -(l + d);\r\n    }\r\n\r\n    /**\r\n     * Compares the fitness level of the genome with\r\n     * the fitness level of the other genome.\r\n     * @param other the genome to be compared with.\r\n     * @return a negative integer, zero, or a positive\r\n     * integer as this genome&#39;s fitness level is less\r\n     * than, equal to, or greater than the specified\r\n     * genome&#39;s fitness level.\r\n     */\r\n    public int compareTo(Genome other) {    return this.fitness() - other.fitness();        }\r\n\r\n    /**\r\n     * Displays the genome and its fitness level\r\n     * in this format: (&quot;genes&quot;, fitness)\r\n     * @return the string format of the genome.\r\n     */\r\n    public String toString() {\r\n\r\n        if (genes.isEmpty()) return &quot;(\\&quot;\\&quot;, -50)&quot;;\r\n\r\n        StringBuilder string = new StringBuilder(&quot;(&quot;);\r\n        String genome = genes.toString();\r\n\r\n        genome = genome.replace(&#39;[&#39;, &#39;&quot;&#39;);\r\n        genome = genome.replace(&#39;]&#39;, &#39;&quot;&#39;);\r\n        genome = genome.replaceAll(&quot;,&quot;, &quot;&quot;);\r\n\r\n        string.append(genome).append(&quot;, &quot;).append(this.fitness()).append(&#39;)&#39;);\r\n\r\n        return string.toString();\r\n\r\n    }\r\n}\r\n```\r\nThis is the test class.\r\n```\r\n/**\r\n * FileName: EvolutionTest.java\r\n * CreatedOn: August 18, 2022\r\n *\r\n * @author rodew\r\n * @version 1.0.081822\r\n */\r\n\r\nimport org.junit.Test;\r\n/**\r\n * JUnit test for my Population and Genome Classes\r\n */\r\npublic class EvolutionTest {\r\n\r\n    @Test\r\n    public final void construct() {\r\n\r\n        System.out.println(&quot;Strings are now evolving...&quot;);\r\n\r\n        long delta, startTime = System.currentTimeMillis();\r\n\r\n        Population pop = new Population(&quot;FIRST MIDDLE LAST&quot;, 100);\r\n\r\n        while(pop.mostFit.fitness() &lt; 0) {\r\n\r\n            System.out.print(&quot;... Generation &quot; + pop.generation + &quot; &quot;);\r\n            System.out.println(pop.mostFit);\r\n\r\n            pop.nextGeneration();\r\n\r\n        }\r\n\r\n        delta = System.currentTimeMillis() - startTime;\r\n\r\n        System.out.println(&quot;Evolution took &quot; + delta + &quot; milliseconds.&quot;);\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy code is on gitHub: https://github.com/rodew374/EvolvingStrings.\r\n\r\n","title":"MyLinkedList current node is only not-null within the structure. When method MyLinkedList.first() returns, current is reset to null","body":"<p>I apologize in advance if I break any etiquette. I have never posted a question before.\nI was unable to find advice for my problem elsewhere online.\nI am writing an <code>EvolvingStrings</code> program in Java and I am running into issues when using <code>MyLinkedList.first()</code>. <code>Current</code> is set to the <code>first</code> node within the method call, but on return <code>current</code> is reset to null. The linked list is of a user defined type <code>Genome</code>.\nWhen running my test class <code>EvolutionTest.java</code>, my program runs infinitely because my Strings are never evolved, and therefore never reach their target. I have traced a bug to <code>Population.nextGeneration()</code>. Specifically, line 127 in the class <code>Population</code>.\nThe method should set population's current node to first. It does do this, however, only inside the method call. On return, current is reset to null.\nIf anyone has any advice as to the problem, I would greatly appreciate it.</p>\n<p>This is my population class.</p>\n<pre><code>/**\n * FileName: Population.java\n * CreatedOn: August 17, 2022\n *\n * @author rodew\n * @version 1.0.081722\n */\n\n/**\n * A class that contains a list of Genomes\n * representing all the Strings in a virtual world.\n * In this world, all that exists are strings of\n * characters from the set: {A,B,C,D,E,F,G,H,I,J,\n * K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,' ',-,'}\n * Strings in this world can reproduce new strings\n * and die if they are not fit enough.\n */\npublic class Population {\n\n    /**\n     * The number of genomes in the population.\n     * For this assignment, population size is 100.\n     */\n    protected final int SIZE;\n\n    /**\n     * The number of times nextGeneration\n     * has been called.\n     */\n    public int generation;\n\n    /**\n     * This stores the most fit genome, which\n     * is the genome with the highest fitness\n     * level.\n     */\n    public Genome mostFit;\n\n    /**\n     * This stores the Genomes in the population.\n     * The initial population of size SIZE is\n     * created in the constructor. The population\n     * is updated every time nextGeneration is\n     * called.\n     */\n    public MyLinkedList&lt;Genome&gt; population;\n\n    /**\n     * Default Constructor.\n     * Calls the main constructor with\n     * String &quot;FIRST MIDDLE LAST&quot; and\n     * integer 100.\n     */\n    public Population() {   this(&quot;FIRST MIDDLE LAST&quot;, 100);    }\n\n    /**\n     * Constructor.\n     * Initializes SIZE to populationSize.\n     * Initializes generation to zero.\n     * Initializes population to a linkedList with\n     * 100 baby (Empty) Genomes.\n     * Initializes Genome.Target to a linkedList\n     * consisting of the characters from the target\n     * String.\n     * Initializes mostFit to the first Genome in the\n     * population.\n     * @param target the target Genome for evolution.\n     * @param populationSize the number of Genomes in the\n     * population.\n     */\n    public Population(String target, int populationSize) {\n\n        SIZE = populationSize;\n        generation = 0;\n        population = new MyLinkedList&lt;&gt;();\n        Genome.target = createTarget(target);\n\n        for(int n = 0; n &lt; SIZE; n++) population.addToEnd(new Genome());\n\n        mostFit = population.first();\n\n    }\n\n    /**\n     * Creates a MyLinkedList from passed String.\n     * @param str the String from which the list is created.\n     * @return the target linkedList.\n     */\n    public MyLinkedList&lt;Character&gt; createTarget(String str) {\n\n        MyLinkedList&lt;Character&gt; target = new MyLinkedList&lt;&gt;();\n\n        for(int i = 0; i &lt; str.length(); i++) {\n\n            char ch = str.charAt(i);\n\n            target.addToEnd(ch);\n\n        }\n\n        return target;\n\n    }\n\n    /**\n     * Updates the population with the next\n     * generation. First, half the population\n     * with the lowest fitness levels are deleted.\n     * Second, new Genomes are created from the\n     * remaining population. There is equal chance\n     * that (1) a random remaining Genome will be\n     * cloned and the clone mutated or (2) a random\n     * remaining Genome will be cloned, the clone\n     * crossed with another Genome, and then finally\n     * mutated. Third, the population will be sorted\n     * by fitness level. Last, the mostFit Genome will\n     * be updated to the Genome with the highest fitness\n     * level.\n     */\n    public void nextGeneration() {\n\n        int select;\n        int half = SIZE / 2;\n        Genome adult;\n        Genome offspring;\n\n        population.first();\n\n        for(int i = 0; i &lt; half; i++) population.next();\n\n        while (population.current() != null) population.remove();\n\n        for(int n = 0; n &lt; half; n++) {\n\n            select = Genome.random() % half;\n            adult = population.first();\n\n            for (int i = 0; i &lt; select; i++) adult = population.next();\n\n            offspring = new Genome(adult);\n\n            if (Genome.random() % 2 == 0) {\n\n                select = Genome.random() % half;\n                adult = population.first();\n\n                for (int i = 0; i &lt; select; i++) adult = population.next();\n\n                offspring.crossover(adult);\n\n            }\n\n            offspring.mutate();\n            population.addToEnd(offspring);\n\n        }\n\n        population.sort(true);\n        generation++;\n\n        mostFit = population.first();\n\n    }\n\n    public String toString() {\n\n        StringBuilder str = new StringBuilder(&quot;[\\n&quot;);\n        Genome current = population.first();\n\n        while (current != null) {\n\n            str.append(current).append(&quot;\\n&quot;);\n\n            current = population.next();\n\n        }\n\n//        str = new StringBuilder(str.substring(0, str.length() - 2));\n\n\n        return str.append(&quot;]&quot;).toString();\n\n    }\n}\n\n</code></pre>\n<p>This is my linked list class.</p>\n<pre><code>/**\n * FileName: MyLinkedList.java\n * CreatedOn: July 8, 2022\n * @author rodew\n * @version 4.0.081722\n */\n\n/**\n * Processes a generic list of elements by implementing a Linked List.\n */\n@SuppressWarnings(&quot;unused&quot;)\npublic class MyLinkedList&lt;Type extends Comparable&lt;Type&gt;&gt; {\n    /**\n     * A reference to the first node in the list.\n     * Is null if the list is empty.\n     */\n    protected Node first;\n\n    /**\n     * A reference to the last node in the list.\n     * Is null if the list is empty.\n     */\n    protected Node last;\n\n    /**\n     * A reference to the current node in the list.\n     * Initialized to null.\n     * When this node is null, the current node has fallen off the end of the list.\n     */\n    protected Node current;\n\n    /**\n     * A reference to the previous node in the list.\n     * Is null if current is equal to first.\n     */\n    protected Node previous;\n\n    /**\n     * The number of elements stored in the list.\n     */\n    protected int size;\n\n    /**\n     * The total number of comparisons made with the list.\n     */\n    public long comparisons;\n\n    /**\n     * Default constructor.\n     * Initializes first, current, and previous to null.\n     * Initializes size to zero.\n     * Initializes comparisons to zero.\n     */\n    public MyLinkedList() {\n\n        first       = null;\n        last        = null;\n        current     = null;\n        previous    = null;\n        size        = 0;\n        comparisons = 0;\n\n    }\n\n    /**\n     * Inserts the passed item before the current node.\n     * Runtime: O(1).\n     * @param item the element to be inserted.\n     */\n    public void addBefore(Type item) {\n\n        // Try to get two cases\n        // 1: previous != null\n        // else\n        if (first == null) {            //  Case is only true once\n\n            first       = new Node(item, current);\n            last        = first;\n            previous    = first;\n\n        } else if (current == first) {\n\n            first       = new Node(item, current);\n\n        } else if (current == null) {\n\n            last.next = new Node(item, null);\n            last = last.next;\n            previous = last;\n\n        } else {\n\n            Node temp   = previous;\n\n            previous    = new Node(item, current);\n            temp.next   = previous;\n\n        }\n\n        size++;\n\n    }\n\n    /**\n     * Inserts the passed item after the current node.\n     * Does nothing if the current node is null.\n     * Runtime: O(1).\n     * @param item the element to be inserted.\n     */\n    public void addAfter(Type item) {\n\n        if (current == null) return;\n\n        current.next    = new Node(item, current.next);\n\n        if (current == last) last = current.next;\n\n        size++;\n\n    }\n\n    /**\n     * Adds the item to the front of the list.\n     * Runtime: O(1)\n     * @param item the element to be added to the front of the list.\n     */\n    public void addToFront(Type item) {\n\n        if (first == null || current == first) {\n\n            first = new Node(item, first);\n            last = first;\n            previous = first;\n\n        } else first = new Node(item, first);\n\n        size++;\n    }\n\n    /**\n     * Adds the item to the end of the list.\n     * Runtime: O(1)\n     * @param item the element to be added to the end of the list.\n     */\n    public void addToEnd(Type item) {\n\n        if (first == null) {\n\n            first = new Node(item, null);\n            last = first;\n            previous = first;\n\n        } else {\n\n            last.next = new Node(item, null);\n            last = last.next;\n\n            if (current == null) previous = last;\n\n        }\n\n        size++;\n    }\n\n    /**\n     * Returns the item stored in the current node.\n     * Returns null if the current node is null.\n     * Runtime: O(1).\n     * @return the item in the current node.\n     */\n    public Type current() {\n\n        if (current == null) { return null; }\n\n        return current.item;\n\n    }\n\n    /**\n     * Sets the current node to be the first node.\n     * Returns null if the first node is null.\n     * Runtime: O(1).\n     * @return the item stored in the current node after the update.\n     */\n    public Type first() {\n\n        if (first == null) { return null; }\n\n        current = first;\n        previous = null;\n\n        return current.item;\n\n    }\n\n    /**\n     * Sets the previous node to be the current node and then sets the current node\n     * to be the next node in the list.\n     * Returns null if the current node is null.\n     * Runtime: O(1).\n     * @return the item stored in the current node after the update.\n     */\n    public Type next() {\n\n        if (current == null) { return null; }\n\n        previous    = current;\n        current     = current.next;\n\n        if (current == null) { return null; }\n\n        return current.item;\n\n    }\n\n    /**\n     * Removes the current node.\n     * If current is null, does nothing but return null.\n     * Runtime: O(1).\n     * @return the item removed.\n     */\n    public Type remove() {\n\n        if (current == null) return null;\n\n        Node temp       = current;\n\n        if (current == first) {\n\n            first = first.next;\n\n        } else {\n\n            previous.next   = current.next;\n\n        }\n\n        if (current == last) last = previous;\n\n        current         = current.next;\n        size--;\n\n        return temp.item;\n\n    }\n\n    /**\n     * Backwards compatible (Ascending) Bubble Sort.\n     * Calls sort(descending) by passing\n     * false value as boolean.\n     * Runtime: 0(n^2)\n     */\n    public void sort() {    sort(false);    }\n\n    /**\n     * Bubble Sort Algorithm.\n     * Allows sorting the list in\n     * ascending or descending order.\n     * Runtime: O(n^2)\n     * @param descending if true, sort order is descending;\n     * otherwise, sort order is ascending.\n     */\n    public void sort(boolean descending) {\n\n        Node current = first;\n\n        while (current != null ) {\n\n            Node next = current.next;\n\n            while(next != null ) {\n\n                if (descending) {\n\n                    if (current.item.compareTo(next.item) &lt; 0) {\n\n                        Type temp = current.item;\n\n                        current.item = next.item;\n                        next.item = temp;\n\n                    }\n\n                } else {\n\n                    if (current.item.compareTo(next.item) &gt; 0) {\n\n                        Type temp = current.item;\n\n                        current.item = next.item;\n                        next.item = temp;\n\n                    }\n                }\n\n                next = next.next;\n\n            }\n\n            current = current.next;\n        }\n    }\n\n    /**\n     * Moves the current node to the front of the list.\n     * Runtime: O(1)\n     * @return the item inside the node moved.\n     */\n    public Type moveToFront() {\n\n        if (current == null) return null;\n\n        addToFront(remove());\n\n        current = first;\n\n        return current.item;\n\n    }\n\n    /**\n     * Swaps the current node with the previous node.\n     * Runtime: O(1)\n     * @return the item swapped closer to the front of the list.\n     */\n    public Type swap() {\n\n        if (current == null) return null;\n        else if (current == first) return current.item;\n\n        Type temp = current.item;\n        current.item = previous.item;\n        previous.item = temp;\n\n        return temp;\n\n    }\n\n    /**\n     * Searches the nodes for the passed item.\n     * Runtime: O(n).\n     * @param item the element to be searched for.\n     * @return true if item is found, false otherwise.\n     */\n    public boolean contains(Type item) {\n\n        Node temp       = first;\n\n        while (temp != null) {\n\n            comparisons++;\n\n            if (temp.item.compareTo(item) == 0) { return true; }\n\n            temp = temp.next;\n\n        }\n\n        return false;\n\n    }\n\n    /**\n     * Returns the number of elements in the list.\n     * Runtime: O(1).\n     * @return the number of elements in the list.\n     */\n    public int size() { return size; }\n\n    /**\n     * Returns true if size is zero.\n     * Runtime: O(1).\n     * @return true if size is zero, false otherwise.\n     */\n    public boolean isEmpty() { return size == 0; }\n\n    /**\n     * Displays the contents of the list.\n     * Runtime: O(n).\n     * @return the string representation of the list of items.\n     */\n    public String toString() {\n\n        if (isEmpty()) { return &quot;[]&quot;; }         // Only true in one situation\n\n        Node temp       = first;\n\n        StringBuilder listString = new StringBuilder(&quot;[&quot; + temp.toString());\n\n        for (int i = 1; i &lt; size; i++) {        // while loops are usually more efficient\n\n            temp = temp.next;\n\n            listString.append(&quot;, &quot;).append(temp.toString());\n\n        }\n\n        listString.append(&quot;]&quot;);\n\n        return listString.toString();\n\n    }\n\n    protected class Node {\n\n        /**\n         * The item stored in this node.\n         */\n        Type item;\n\n        /**\n         * A reference to the next node in the list.\n         * Is null if there is no next node.\n         */\n        Node next;\n\n        /**\n         * Default Constructor.\n         * Instantiates item to the passed element.\n         * Instantiates the next node reference to the passed node.\n         * @param item the element to be stored.\n         * @param next the reference to the next node in the list.\n         */\n        public Node(Type item, Node next) {\n\n            this.item = item;\n            this.next = next;\n\n        }\n\n        /**\n         * Returns the toString of item.\n         * @return the toString of item.\n         */\n        public String toString() {\n\n            return item.toString();\n\n        }\n    }\n}\n\n</code></pre>\n<p>This is my Genome class</p>\n<pre><code>/**\n * FileName: Genome.java\n * CreatedOn: August 17, 2022\n *\n * @author rodew\n * @version 1.0.081722\n */\n\n/**\n * A class that contains a list of characters\n * representing a String in a virtual world.\n * In this world, all that exists are strings of\n * characters from the set: {A,B,C,D,E,F,G,H,I,J,\n * K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,' ',-,'}\n * Strings in this world can reproduce new strings\n * and die if they are not fit enough.\n */\npublic class Genome implements Comparable&lt;Genome&gt;{\n\n    /**\n     * Seed for random().\n     */\n    protected static Integer seed = 2067734636;\n\n    /**\n     * A list of characters representing the string\n     * encoded by the genome.\n     */\n    protected MyLinkedList&lt;Character&gt; genes;\n\n    /**\n     * The population's mutation rate.\n     * Accurate only to two decimal places.\n     * Default: 5% chance of mutation.\n     */\n    protected static double mutationRate = 0.05;\n\n    /**\n     * The target string.\n     */\n    protected static MyLinkedList&lt;Character&gt; target = new MyLinkedList&lt;&gt;();\n\n    /**\n     * The set of characters all strings are made from.\n     */\n    protected static final MyLinkedList&lt;Character&gt; genePool = getDNA();\n\n    /**\n     * Constructor\n     * Initializes genes to an empty list.\n     */\n    public Genome() {   genes = new MyLinkedList&lt;&gt;();       }\n\n    /**\n     * Copy constructor.\n     * Initializes genes to the passed genome's genes.\n     * @param genome the list of characters to be copied.\n     */\n    public Genome(Genome genome) {  genes = genome.genes;       }\n\n    /**\n     * My random number generator.\n     * @return a random 32 bit integer.\n     */\n    protected static int random() {\n\n        int a = 923743637;\n        int b = 3;\n        long c = (long) Math.pow(2, 48);\n\n        seed = (int) ((a * seed + b) % c);\n\n        return seed;\n    }\n\n    /**\n     * Initializes the genePool with characters:\n     * {A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,\n     * U,V,W,X,Y,Z,' ',-,'}\n     * @return the genePool\n     */\n    protected static MyLinkedList&lt;Character&gt; getDNA() {\n\n        MyLinkedList&lt;Character&gt; characters = new MyLinkedList&lt;&gt;();\n        int index = 65;\n\n        while (index &lt; 91) characters.addToEnd((char) index++);       // Characters 'A'-'Z'\n\n        characters.addToEnd((char) 32);         //  ' ' character\n        characters.addToEnd((char) 45);         //  '-' character\n        characters.addToEnd((char) 39);         //  ''' character\n\n        return characters;\n    }\n\n    /**\n     * Mutation chance simulator.\n     * @return true if successful; false otherwise.\n     */\n    protected static boolean mutationSuccess() {\n\n        double threshold = mutationRate * 100;\n\n        return (random() % 100) &lt;= threshold;\n\n    }\n\n    /**\n     * Mutates the genes.\n     * With mutationRate chance, add a randomly selected\n     * character to a randomly selected position in genes.\n     * With mutationRate chance, delete a single character\n     * from a randomly selected position in genes; only\n     * if genes.size() &gt;= 1.\n     * Each character in genes, with mutationRate chance\n     * is replaced by a random character.\n     */\n    public void mutate() {\n\n        int select;\n        char gene;\n\n        if (mutationSuccess() &amp; genes.first() != null) {\n\n            select = random() % 29;\n            gene = genePool.first();\n\n            genes.first();\n\n            for (int i = 0; i &lt; select; i++) gene = genePool.next();\n\n            select = random() % genes.size();\n\n            for (int i = 0; i &lt; select; i++) genes.next();\n\n            genes.remove();\n            genes.addBefore(gene);\n\n        }\n\n        if (mutationSuccess() &amp; genes.first() != null) {\n\n            select = random() % genes.size();\n\n            for (int i = 0; i &lt; select; i++) genes.next();\n\n            genes.remove();\n\n        }\n\n        genes.first();\n\n        while (genes.current() != null) {\n\n            if(mutationSuccess()) {\n\n                genes.remove();\n\n                select = random() % 29;\n                gene = genePool.first();\n\n                for (int i = 0; i &lt; select; i++) gene = genePool.next();\n\n                genes.addBefore(gene);\n\n            } else genes.next();\n        }\n    }\n\n    /**\n     * This updates genes by crossing it with the passed genome.\n     * The new genes list is created by randomly selecting one\n     * of the parent genomes and adding that character to the\n     * new genes list; if the position does not exist in the\n     * parent, the new list will end at that position.\n     * @param parent the genome to be crossed with.\n     */\n    public void crossover(Genome parent) {\n\n        MyLinkedList&lt;Character&gt; child = new MyLinkedList&lt;&gt;();\n        Character mother = genes.first();\n        Character father = parent.genes.first();\n\n        while (mother != null) {\n\n            if (random() % 2 == 0) child.addToEnd(mother);\n\n            else if (father != null) child.addToEnd(father);\n\n            else break;\n\n            mother = genes.next();\n            father = parent.genes.next();\n\n        }\n\n    }\n\n    /**\n     * Returns the fitness level of the genome using\n     * the following formula: -(l + d), where l is the\n     * difference in length between the target and the\n     * genes and d is the number of characters that\n     * are incorrect.\n     * @return the fitness level.\n     */\n    public int fitness() {\n\n        int d = 25;\n        int l = target.size() - genes.size();\n\n        Character self = genes.first();\n        Character other = target.first();\n\n        while (self != null &amp; other != null) {\n\n            if (self.compareTo(other) == 0) d--;\n\n            self = genes.next();\n            other = target.next();\n\n        }\n\n        while (self != null) {\n\n            d++;\n            self = genes.next();\n\n        }\n\n       return -(l + d);\n    }\n\n    /**\n     * Compares the fitness level of the genome with\n     * the fitness level of the other genome.\n     * @param other the genome to be compared with.\n     * @return a negative integer, zero, or a positive\n     * integer as this genome's fitness level is less\n     * than, equal to, or greater than the specified\n     * genome's fitness level.\n     */\n    public int compareTo(Genome other) {    return this.fitness() - other.fitness();        }\n\n    /**\n     * Displays the genome and its fitness level\n     * in this format: (&quot;genes&quot;, fitness)\n     * @return the string format of the genome.\n     */\n    public String toString() {\n\n        if (genes.isEmpty()) return &quot;(\\&quot;\\&quot;, -50)&quot;;\n\n        StringBuilder string = new StringBuilder(&quot;(&quot;);\n        String genome = genes.toString();\n\n        genome = genome.replace('[', '&quot;');\n        genome = genome.replace(']', '&quot;');\n        genome = genome.replaceAll(&quot;,&quot;, &quot;&quot;);\n\n        string.append(genome).append(&quot;, &quot;).append(this.fitness()).append(')');\n\n        return string.toString();\n\n    }\n}\n</code></pre>\n<p>This is the test class.</p>\n<pre><code>/**\n * FileName: EvolutionTest.java\n * CreatedOn: August 18, 2022\n *\n * @author rodew\n * @version 1.0.081822\n */\n\nimport org.junit.Test;\n/**\n * JUnit test for my Population and Genome Classes\n */\npublic class EvolutionTest {\n\n    @Test\n    public final void construct() {\n\n        System.out.println(&quot;Strings are now evolving...&quot;);\n\n        long delta, startTime = System.currentTimeMillis();\n\n        Population pop = new Population(&quot;FIRST MIDDLE LAST&quot;, 100);\n\n        while(pop.mostFit.fitness() &lt; 0) {\n\n            System.out.print(&quot;... Generation &quot; + pop.generation + &quot; &quot;);\n            System.out.println(pop.mostFit);\n\n            pop.nextGeneration();\n\n        }\n\n        delta = System.currentTimeMillis() - startTime;\n\n        System.out.println(&quot;Evolution took &quot; + delta + &quot; milliseconds.&quot;);\n        System.out.println();\n    }\n}\n\n</code></pre>\n<p>My code is on gitHub: <a href=\"https://github.com/rodew374/EvolvingStrings\" rel=\"nofollow noreferrer\">https://github.com/rodew374/EvolvingStrings</a>.</p>\n"},{"tags":["java","spring","apache-flink","amazon-kinesis","amazon-kinesis-analytics"],"answers":[{"tags":[],"owner":{"account_id":942897,"reputation":2171,"user_id":970673,"accept_rate":69,"display_name":"Jordan Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660882723,"creation_date":1660882723,"answer_id":73411792,"question_id":72406279,"body_markdown":"Is this because you&#39;re attempting to use dependencies for flink 1.15? AFAIK, 1.13 is the latest version supported. You need to choose which flink version you intend to use when creating the streaming application.","title":"ClassNotFoundException while running jar on Amazon Kinesis Streaming Analytics app","body":"<p>Is this because you're attempting to use dependencies for flink 1.15? AFAIK, 1.13 is the latest version supported. You need to choose which flink version you intend to use when creating the streaming application.</p>\n"}],"owner":{"account_id":7042332,"reputation":121,"user_id":5394411,"accept_rate":29,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660882723,"creation_date":1653658423,"question_id":72406279,"body_markdown":"I have created a Kinesis Analytics Streaming Application in SpringBoot which will consume messages from the AmazonKinesis input stream and will do some operations on top of it using the Apache Flink DataStream library.\r\n\r\nWhen, I am uploading the application jar to S3 and trying to run this application on Streaming App it is throwing **ClassNotFoundException** for one of the files which is the **ApplicationConfiguration** file. Also, when I am running this application locally, it is running fine without any errors and I am able to consume the messages.\r\n\r\nBelow are some of the code files.\r\n\r\n**ApplicationConfiguration.java**\r\n```\r\nimport java.util.Properties;\r\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\r\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisProducer;\r\nimport org.apache.flink.streaming.connectors.kinesis.config.ConsumerConfigConstants;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n  @Value(&quot;${oe.metric.input.stream}&quot;)\r\n  private String inputStreamName;\r\n  @Value(&quot;${oe.metric.output.stream}&quot;)\r\n  private String outputStreamName;\r\n  @Value(&quot;${aws.region}&quot;)\r\n  private String region;\r\n  @Value(&quot;${stream.initial.position}&quot;)\r\n  private String position;\r\n\r\n  @Bean\r\n  public FlinkKinesisProducer&lt;String&gt; createSinkFromStaticConfig() {\r\n    Properties outputProperties = new Properties();\r\n    outputProperties.setProperty(ConsumerConfigConstants.AWS_REGION, region);\r\n    outputProperties.setProperty(&quot;AggregationEnabled&quot;, &quot;false&quot;);\r\n\r\n    FlinkKinesisProducer&lt;String&gt; sink = new FlinkKinesisProducer&lt;&gt;(new SimpleStringSchema(),\r\n        outputProperties);\r\n    sink.setDefaultStream(outputStreamName);\r\n    sink.setDefaultPartition(&quot;0&quot;);\r\n    return sink;\r\n  }\r\n\r\n  @Bean\r\n  public DataStream&lt;String&gt; createSourceFromConfig() {\r\n    Properties inputProperties = new Properties();\r\n    inputProperties.setProperty(ConsumerConfigConstants.AWS_REGION, region);\r\n    inputProperties.setProperty(ConsumerConfigConstants.STREAM_INITIAL_POSITION, position);\r\n\r\n    return ApplicationConstants.streamExecutionEnvironment.addSource(\r\n        new FlinkKinesisConsumer&lt;&gt;(inputStreamName, new SimpleStringSchema(), inputProperties));\r\n  }\r\n\r\n```\r\n\r\n**Error**:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Cannot load configuration class: com.pkg.config.ApplicationConfiguration\r\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:415)\r\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\r\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\r\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\nat com.pkg.KinesisConsumerApplication.main(KinesisConsumerApplication.java:18)\r\n... 25 more\r\nCaused by: java.lang.ClassNotFoundException: com.pkg.config.ApplicationConfiguration\r\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\nat java.base/java.lang.Class.forName0(Native Method)\r\nat java.base/java.lang.Class.forName(Class.java:398)\r\n```\r\n\r\n**KinesisConsumerApplication.java**\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration\r\n@ComponentScan(basePackages = &quot;com.pkg&quot;)\r\npublic class KinesisConsumerApplication implements CommandLineRunner {\r\n\r\n  @Autowired\r\n  ApplicationContext ctx;\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(KinesisConsumerApplication.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) throws Exception {\r\n    GetKinesisRecords getKinesisRecords = ctx.getBean(GetKinesisRecords.class);\r\n    getKinesisRecords.getDataFromStream();\r\n  }\r\n}\r\n```\r\n\r\nMaven **pom.xml** file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;artifactId&gt;kinesis-consumer&lt;/artifactId&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;flink-connector-kinesis_${scala.binary.version}&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;version&gt;1.13.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;version&gt;1.13.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;ssai-common&lt;/artifactId&gt;\r\n      &lt;groupId&gt;com.adsparx.phoenix&lt;/groupId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;version&gt;1.15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Logging --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;description&gt;Apache Kinesis Consumer&lt;/description&gt;\r\n  &lt;groupId&gt;com.pkg&lt;/groupId&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;name&gt;kinesis-consumer&lt;/name&gt;\r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;relativePath/&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThings that I have tried on my end:\r\n\r\n - Clean build the project a couple of times.\r\n - Checked Java and Spring version in pom, as suggested in one of the\r\n   StackOverflow post. \r\n - Downgraded SpringBoot version from &quot;2.7.0&quot; to &quot;2.4.0&quot;. \r\n - Added ComponentScan annotation in main class.\r\n - Tried changing the annotation from @Configuration to @Component.\r\n - Last but not least, tried google and stackoverflow.\r\n\r\n&gt; Can someone please help me identify the error? ","title":"ClassNotFoundException while running jar on Amazon Kinesis Streaming Analytics app","body":"<p>I have created a Kinesis Analytics Streaming Application in SpringBoot which will consume messages from the AmazonKinesis input stream and will do some operations on top of it using the Apache Flink DataStream library.</p>\n<p>When, I am uploading the application jar to S3 and trying to run this application on Streaming App it is throwing <strong>ClassNotFoundException</strong> for one of the files which is the <strong>ApplicationConfiguration</strong> file. Also, when I am running this application locally, it is running fine without any errors and I am able to consume the messages.</p>\n<p>Below are some of the code files.</p>\n<p><strong>ApplicationConfiguration.java</strong></p>\n<pre><code>import java.util.Properties;\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisProducer;\nimport org.apache.flink.streaming.connectors.kinesis.config.ConsumerConfigConstants;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ApplicationConfiguration {\n\n  @Value(&quot;${oe.metric.input.stream}&quot;)\n  private String inputStreamName;\n  @Value(&quot;${oe.metric.output.stream}&quot;)\n  private String outputStreamName;\n  @Value(&quot;${aws.region}&quot;)\n  private String region;\n  @Value(&quot;${stream.initial.position}&quot;)\n  private String position;\n\n  @Bean\n  public FlinkKinesisProducer&lt;String&gt; createSinkFromStaticConfig() {\n    Properties outputProperties = new Properties();\n    outputProperties.setProperty(ConsumerConfigConstants.AWS_REGION, region);\n    outputProperties.setProperty(&quot;AggregationEnabled&quot;, &quot;false&quot;);\n\n    FlinkKinesisProducer&lt;String&gt; sink = new FlinkKinesisProducer&lt;&gt;(new SimpleStringSchema(),\n        outputProperties);\n    sink.setDefaultStream(outputStreamName);\n    sink.setDefaultPartition(&quot;0&quot;);\n    return sink;\n  }\n\n  @Bean\n  public DataStream&lt;String&gt; createSourceFromConfig() {\n    Properties inputProperties = new Properties();\n    inputProperties.setProperty(ConsumerConfigConstants.AWS_REGION, region);\n    inputProperties.setProperty(ConsumerConfigConstants.STREAM_INITIAL_POSITION, position);\n\n    return ApplicationConstants.streamExecutionEnvironment.addSource(\n        new FlinkKinesisConsumer&lt;&gt;(inputStreamName, new SimpleStringSchema(), inputProperties));\n  }\n\n</code></pre>\n<p><strong>Error</strong>:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Cannot load configuration class: com.pkg.config.ApplicationConfiguration\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:415)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat com.pkg.KinesisConsumerApplication.main(KinesisConsumerApplication.java:18)\n... 25 more\nCaused by: java.lang.ClassNotFoundException: com.pkg.config.ApplicationConfiguration\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:398)\n</code></pre>\n<p><strong>KinesisConsumerApplication.java</strong></p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan(basePackages = &quot;com.pkg&quot;)\npublic class KinesisConsumerApplication implements CommandLineRunner {\n\n  @Autowired\n  ApplicationContext ctx;\n\n  public static void main(String[] args) {\n    SpringApplication.run(KinesisConsumerApplication.class, args);\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    GetKinesisRecords getKinesisRecords = ctx.getBean(GetKinesisRecords.class);\n    getKinesisRecords.getDataFromStream();\n  }\n}\n</code></pre>\n<p>Maven <strong>pom.xml</strong> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;artifactId&gt;kinesis-consumer&lt;/artifactId&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;flink-connector-kinesis_${scala.binary.version}&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;version&gt;1.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\n      &lt;version&gt;1.13.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;version&gt;1.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;ssai-common&lt;/artifactId&gt;\n      &lt;groupId&gt;com.adsparx.phoenix&lt;/groupId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;version&gt;1.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;description&gt;Apache Kinesis Consumer&lt;/description&gt;\n  &lt;groupId&gt;com.pkg&lt;/groupId&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;name&gt;kinesis-consumer&lt;/name&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;relativePath/&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Things that I have tried on my end:</p>\n<ul>\n<li>Clean build the project a couple of times.</li>\n<li>Checked Java and Spring version in pom, as suggested in one of the\nStackOverflow post.</li>\n<li>Downgraded SpringBoot version from &quot;2.7.0&quot; to &quot;2.4.0&quot;.</li>\n<li>Added ComponentScan annotation in main class.</li>\n<li>Tried changing the annotation from @Configuration to @Component.</li>\n<li>Last but not least, tried google and stackoverflow.</li>\n</ul>\n<blockquote>\n<p>Can someone please help me identify the error?</p>\n</blockquote>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"score":0,"creation_date":1457545664,"post_id":35898598,"comment_id":59458269,"body_markdown":"Can you please fix the code formatting? Thanks!","body":"Can you please fix the code formatting? Thanks!"},{"owner":{"account_id":7891616,"reputation":201,"user_id":5961575,"accept_rate":50,"display_name":"Rahul Koshaley"},"score":0,"creation_date":1457546039,"post_id":35898598,"comment_id":59458533,"body_markdown":"Sorry about that Daniel","body":"Sorry about that Daniel"}],"answers":[{"tags":[],"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457545622,"creation_date":1457545622,"answer_id":35898900,"question_id":35898598,"body_markdown":"`app1.run1` puts the RDD contents into `app1.ListFromS3`. Then you look at `app.ListFromS3`, which is empty. `app1.ListFromS3` and `app.ListFromS3` are fields on two different objects. Setting one does not set the other.\r\n\r\nI think you meant `ListFromS3` to be `static`, meaning it belongs to the `Query5kPids` class, not to a particular instance. Like this:\r\n\r\n    static List&lt;String&gt; ListFromS3 = new ArrayList&lt;String&gt;();\r\n","title":"Getting empty Java List after converting from RDD","body":"<p><code>app1.run1</code> puts the RDD contents into <code>app1.ListFromS3</code>. Then you look at <code>app.ListFromS3</code>, which is empty. <code>app1.ListFromS3</code> and <code>app.ListFromS3</code> are fields on two different objects. Setting one does not set the other.</p>\n\n<p>I think you meant <code>ListFromS3</code> to be <code>static</code>, meaning it belongs to the <code>Query5kPids</code> class, not to a particular instance. Like this:</p>\n\n<pre><code>static List&lt;String&gt; ListFromS3 = new ArrayList&lt;String&gt;();\n</code></pre>\n"}],"owner":{"account_id":7891616,"reputation":201,"user_id":5961575,"accept_rate":50,"display_name":"Rahul Koshaley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35898900,"answer_count":1,"score":0,"last_activity_date":1660882498,"creation_date":1457544739,"question_id":35898598,"body_markdown":" I&#39;m creating a RDD in 1st part of the application, then converting it to a list using rdd.collect().\r\n\r\nBut for some reason the list size is coming as 0 in the second part of the application , while the RDD from which I&#39;m creating the list is not empty.Even rdd.toArray() is giving empty list.\r\n\r\nBelow is my program.\r\n\r\n     public class Query5kPids implements Serializable{\r\n\r\n     List&lt;String&gt; ListFromS3 = new ArrayList&lt;String&gt;();\r\n\r\n     public static void main(String[] args) throws JSONException, IOException, InterruptedException, URISyntaxException {\r\n\t\t\r\n\t\t\r\n\t\t    SparkConf conf = new SparkConf();\r\n\t\t    conf.setAppName(&quot;Spark-Cassandra Integration&quot;);\r\n            conf.set(&quot;spark.cassandra.connection.host&quot;, &quot;12.16.193.19&quot;);\r\n\t\t    conf.setMaster(&quot;yarn-cluster&quot;);\r\n\r\n            SparkConf conf1 = new SparkConf().setAppName(&quot;SparkAutomation&quot;).setMaster(&quot;yarn-cluster&quot;);\r\n\r\n            Query5kPids app1 = new Query5kPids(conf1);\r\n\t    \tapp1.run1(file);\r\n\t    \t\r\n\t    \tQuery5kPids app = new Query5kPids(conf);\r\n\t    \tSystem.out.println(&quot;Both RDD has been generated&quot;);\r\n\t\t    app.run();\r\n\r\n    }\r\n\r\n\tprivate void run() throws JSONException, IOException, InterruptedException {\r\n\t\t\r\n\t\t    JavaSparkContext sc = new JavaSparkContext(conf);\r\n\t\t    query(sc);\r\n\t\t    sc.stop();\r\n\t}\r\n\t\r\n\tprivate void run1(File file) throws JSONException, IOException, InterruptedException {\r\n\t\t     JavaSparkContext sc = new JavaSparkContext(conf);\r\n\t\t     getData(sc,file);\r\n\t\t     sc.stop();\r\n\r\n\t}\r\n\r\n        private void getData(JavaSparkContext sc, File file) {\r\n\t\t\r\n\t\t     JavaRDD&lt;String&gt; Data = sc.textFile(file.toString());\r\n             System.out.println(&quot;RDD Count is &quot; + Data.count());\r\n             // here it prints some count value\r\n             ListFromS3 = Data.collect();\r\n             // ListFromS3 = Data.toArray();\r\n\r\n        }\r\n         private void query(JavaSparkContext sc) {\r\n             \r\n             System.out.println(&quot;RDD Count is &quot; + ListFromS3.size());\r\n             // Prints 0\r\n             // So cant convert the list to RDD\r\n             JavaRDD&lt;String&gt; rddFromGz = sc.parallelize(ListFromS3);\r\n\r\n        }\r\n\r\n\r\n      }\r\n\r\nNOTE -&gt; In the actual program , the RDD and List is of type.\r\n\r\n    List&lt;UserSetGet&gt; ListFromS3 = new ArrayList&lt;UserSetGet&gt;();\r\n    JavaRDD&lt;UserSetGet&gt; Data = new ....\r\n\r\nwhere UserSetGet is a Pojo , With Setter and getter methods, and its Serializable.","title":"Getting empty Java List after converting from RDD","body":"<p>I'm creating a RDD in 1st part of the application, then converting it to a list using rdd.collect().</p>\n\n<p>But for some reason the list size is coming as 0 in the second part of the application , while the RDD from which I'm creating the list is not empty.Even rdd.toArray() is giving empty list.</p>\n\n<p>Below is my program.</p>\n\n<pre><code> public class Query5kPids implements Serializable{\n\n List&lt;String&gt; ListFromS3 = new ArrayList&lt;String&gt;();\n\n public static void main(String[] args) throws JSONException, IOException, InterruptedException, URISyntaxException {\n\n\n        SparkConf conf = new SparkConf();\n        conf.setAppName(\"Spark-Cassandra Integration\");\n        conf.set(\"spark.cassandra.connection.host\", \"12.16.193.19\");\n        conf.setMaster(\"yarn-cluster\");\n\n        SparkConf conf1 = new SparkConf().setAppName(\"SparkAutomation\").setMaster(\"yarn-cluster\");\n\n        Query5kPids app1 = new Query5kPids(conf1);\n        app1.run1(file);\n\n        Query5kPids app = new Query5kPids(conf);\n        System.out.println(\"Both RDD has been generated\");\n        app.run();\n\n}\n\nprivate void run() throws JSONException, IOException, InterruptedException {\n\n        JavaSparkContext sc = new JavaSparkContext(conf);\n        query(sc);\n        sc.stop();\n}\n\nprivate void run1(File file) throws JSONException, IOException, InterruptedException {\n         JavaSparkContext sc = new JavaSparkContext(conf);\n         getData(sc,file);\n         sc.stop();\n\n}\n\n    private void getData(JavaSparkContext sc, File file) {\n\n         JavaRDD&lt;String&gt; Data = sc.textFile(file.toString());\n         System.out.println(\"RDD Count is \" + Data.count());\n         // here it prints some count value\n         ListFromS3 = Data.collect();\n         // ListFromS3 = Data.toArray();\n\n    }\n     private void query(JavaSparkContext sc) {\n\n         System.out.println(\"RDD Count is \" + ListFromS3.size());\n         // Prints 0\n         // So cant convert the list to RDD\n         JavaRDD&lt;String&gt; rddFromGz = sc.parallelize(ListFromS3);\n\n    }\n\n\n  }\n</code></pre>\n\n<p>NOTE -> In the actual program , the RDD and List is of type.</p>\n\n<pre><code>List&lt;UserSetGet&gt; ListFromS3 = new ArrayList&lt;UserSetGet&gt;();\nJavaRDD&lt;UserSetGet&gt; Data = new ....\n</code></pre>\n\n<p>where UserSetGet is a Pojo , With Setter and getter methods, and its Serializable.</p>\n"},{"tags":["java","apache-spark","cassandra","amazon-emr","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":2882984,"reputation":1522,"user_id":2473417,"display_name":"Igor Berman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570624160,"creation_date":1457697551,"answer_id":35939730,"question_id":35936497,"body_markdown":"We are running tests with local spark context and are using following &quot;hack&quot; to solve collision problems:\r\n\r\n    sc.stop()\r\n    // To avoid Akka rebinding to the same port, since it doesn&#39;t unbind \r\n    // immediately on shutdown\r\n    \r\n    System.clearProperty(&quot;spark.driver.port&quot;)\r\n\r\nAny reason you are using 2 different spark contexts? Why can&#39;t you use only 1?\r\n","title":"Spark Job with Multiple Contexts is failing","body":"<p>We are running tests with local spark context and are using following \"hack\" to solve collision problems:</p>\n\n<pre><code>sc.stop()\n// To avoid Akka rebinding to the same port, since it doesn't unbind \n// immediately on shutdown\n\nSystem.clearProperty(\"spark.driver.port\")\n</code></pre>\n\n<p>Any reason you are using 2 different spark contexts? Why can't you use only 1?</p>\n"}],"owner":{"account_id":7891616,"reputation":201,"user_id":5961575,"accept_rate":50,"display_name":"Rahul Koshaley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6923,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35939730,"answer_count":1,"score":2,"last_activity_date":1660882486,"creation_date":1457688681,"question_id":35936497,"body_markdown":"In the spark application we are making two spark contexts, \r\n\r\n1) For reading data from file system.\r\n\r\n2) For connecting and loading data to Cassandra.\r\n\r\nIn one app we can run only one spark spark context, so we are stopping 1st then starting second.\r\n\r\nI was getting the following error.\r\n\r\n    Error 1) 16/03/10 05:40:44 ERROR Utils: Uncaught exception in thread      Thread-2\r\n    java.io.IOException: Target log file already exists        (hdfs:///var/log/spark/apps/application_1457586850134_0001_2)\r\n        at `org.apache.spark.scheduler.EventLoggingListener.stop(EventLoggingListener.scala:225)`\r\n\r\nIt was because , in hadoop the directory/file need not be present when running the job (1st context), so for running 2nd context the log direcory/log file was present \r\nI So was the above error.\r\n\r\nI solved the issue by setting spark.eventLog.overwrite=true\r\n\r\n__________________________________________________\r\n\r\n  \r\n\r\n    Error 2) WARN executor.CoarseGrainedExecutorBackend: An unknown (ip-10-93-141-13.ec2.internal:48849) driver disconnected. 16/03/10 06:47:37                                                            ERROR executor.CoarseGrainedExecutorBackend: Driver 10.93.141.13:48849disassociated! Shutting down.\r\n\r\nI tried increasing the \r\n\r\n&gt; spark.yarn.driver.memoryOverhead=1024\r\n&gt; \r\n&gt; spark.yarn.executor.memoryOverhead=1024\r\n\r\nBut the problem is still there.\r\n_____________________________________________________\r\nError 3) \r\n\r\n  \r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Failed to connect to /10.93.141.13:46008\r\n        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)\r\n        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)\r\n        at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)\r\n        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)\r\n        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\nI have checked in in the core node , it is not listening on port 46008.\r\n\r\n___________________________________________________________\r\n\r\nError 4 )\r\n\r\n    WARN YarnAllocator: Container marked as failed:              container_1457586850134_0006_01_000006 on host: ip-10-164-169-         46.ec2.internal. Exit status: 1. Diagnostics: Exception from container-   launch.\r\n    Container id: container_1457586850134_0006_01_000006\r\n    Exit code: 1\r\n    Stack trace: ExitCodeException exitCode=1:\r\n    at org.apache.hadoop.util.Shell.runCommand(Shell.java:545)\r\n    at org.apache.hadoop.util.Shell.run(Shell.java:456)\r\n    at   org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:722)\r\n    at org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:211)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:302)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:82)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n    Container exited with a non-zero exit code 1\r\n\r\n    16/03/10 06:47:17 WARN ApplicationMaster: Reporter thread fails 1 time(s) in a row.\r\n    java.lang.IllegalStateException: RpcEnv already stopped.\r\n    at org.apache.spark.rpc.netty.Dispatcher.postMessage(Dispatcher.scala:159)\r\n        at org.apache.spark.rpc.netty.Dispatcher.postOneWayMessage(Dispatcher.scala:131)\r\n        at org.apache.spark.rpc.netty.NettyRpcEnv.send(NettyRpcEnv.scala:192)\r\n        at org.apache.spark.rpc.netty.NettyRpcEndpointRef.send(NettyRpcEnv.scala:516)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1$$anonfun$apply$7.apply(YarnAllocator.scala:531)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1$$anonfun$apply$7.apply(YarnAllocator.scala:512)\r\n        at scala.Option.foreach(Option.scala:236)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1.apply(YarnAllocator.scala:512)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1.apply(YarnAllocator.scala:442)\r\n        at scala.collection.Iterator$class.foreach(Iterator.scala:727)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1157)\r\n        at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\r\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:54)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator.processCompletedContainers(YarnAllocator.scala:442)\r\n        at org.apache.spark.deploy.yarn.YarnAllocator.allocateResources(YarnAllocator.scala:242)\r\n        at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$1.run(ApplicationMaster.scala:368)\r\n\r\n\r\nThe above error is since the container is failing continously.\r\n\r\n____________________________________________________________________\r\n\r\nIt seems the above  spark issue&#39;s due to  multiple contexts, as raised in the mailing list.\r\n\r\nhttps://mail-archives.apache.org/mod_mbox/spark-issues/201602.mbox/%3CJIRA.12936774.1454603470000.316442.1454707659978@Atlassian.JIRA%3E\r\n\r\nsparkContext.stop() is not able to free up the resources.\r\n\r\n_______________________________________________________\r\n\r\nI&#39;m running the using the following options\r\n\r\n  \r\n\r\n    --class com.mobi.vserv.driver.Query5kPids                            \r\n      --conf spark.eventLog.overwrite=true  \r\n      --conf spark.yarn.executor.memoryOverhead=1024                       \r\n      --conf spark.yarn.driver.memoryOverhead=1024                             \r\n      --num-executors 4                \r\n      --executor-memory 3g            \r\n      --executor-cores 2                  \r\n      --driver-memory 3g\r\n\r\nI&#39;m running on EMR , with a master and 2 slave nodes, master has 8 core and 16GB memory and each slave has 4 core 5120 MB available memory.\r\n\r\nBelow is my code.\r\n\r\n        public class Query5kPids implements Serializable{\r\n\r\n        static List&lt;UserSetGet&gt; ListFromS3 = new ArrayList&lt;UserSetGet&gt;();\r\n\r\n        public static void main(String[] args) throws JSONException, IOException, InterruptedException, URISyntaxException {\r\n\r\n\r\n        SparkConf conf = new SparkConf();\r\n        conf.setAppName(&quot;Spark-Cassandra Integration&quot;);\r\n        conf.setMaster(&quot;yarn-cluster&quot;);\r\n        conf.set(&quot;spark.cassandra.connection.host&quot;, &quot;12.16.193.19&quot;);\r\n        conf.set(&quot;spark.cassandra.connection.port&quot;, &quot;9042&quot;);\r\n        \r\n\r\n        SparkConf conf1 = new SparkConf().setAppName(&quot;SparkAutomation&quot;).setMaster(&quot;yarn-cluster&quot;);\r\n\r\n        Query5kPids app1 = new Query5kPids(conf1);\r\n        app1.run1(file);\r\n\r\n        Query5kPids app = new Query5kPids(conf);\r\n        System.out.println(&quot;Both RDD has been generated&quot;);\r\n        app.run();\r\n\r\n       }\r\n\r\n       private void run() throws JSONException, IOException, InterruptedException {\r\n\r\n       JavaSparkContext sc = new JavaSparkContext(conf);\r\n       query(sc);\r\n       sc.stop();\r\n       }\r\n\r\n       private void run1(File file) throws JSONException, IOException,     InterruptedException {\r\n       JavaSparkContext sc = new JavaSparkContext(conf);\r\n       getData(sc,file);\r\n       sc.stop();\r\n\r\n      }\r\n\r\n       private void getData(JavaSparkContext sc, File file) {\r\n\r\n       JavaRDD&lt;String&gt; Data = sc.textFile(file.toString());\r\n       System.out.println(&quot;RDD Count is &quot; + Data.count());\r\n         \r\n       // Other map opetations to convert to UserSetGet RDD.\r\n       ListFromS3 = Data.collect();\r\n     \r\n       }\r\n       private void query(JavaSparkContext sc) {\r\n\r\n       System.out.prin`enter code here`tln(&quot;RDD Count is &quot; +  ListFromS3.size());\r\n       //This gets printed. \r\n       //Which means it application is coming to the second part of the program.\r\n         \r\n       for (int i = 0; i &lt; ListFromS3.size(); i++) {\r\n\t\t\t\r\n\t   sb.append(ListFromS3.get(i).getApnid());\r\n\t   sb.append(&#39;,&#39;);\r\n\t   }\r\n\t   sb.setLength(sb.length() - 3);\r\n\t\t\r\n       JavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sc).cassandraTable(&quot;dmp&quot;, &quot;user_profile_spark_test&quot;).select       (&quot;app_day_count&quot;, &quot;app_first_seen&quot;,&quot;app_last_seen&quot;, &quot;app_usage_count&quot;, &quot;total_day_count&quot;, &quot;total_usage_count&quot;)\r\n     .where(&quot;apnid IN (&#39;&quot; + sb + &quot;&#39;)&quot;);\r\n        \r\n       if(cassandraRDD.isEmpty()){\r\n         \r\n       JavaRDD&lt;UserSetGet&gt; rddFromGz = sc.parallelize(ListFromS3);\r\n         \r\n       CassandraJavaUtil.javaFunctions(rddFromGz).writerBuilder(&quot;dmp&quot;, &quot;user_profile_spark_test&quot;, mapToRow(UserSetGet.class)).saveToCassand();\r\n\t\t\tlogger.info(&quot;DataSaved&quot;);\r\n       }\r\n       }\r\n\r\n       }\r\n\r\n Below is my POM\r\n\r\n       &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache-extras.cassandra-jdbc&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cassandra-jdbc&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2.5&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t   &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t   &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.3.7&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.2.17&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\t\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.6.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\t\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.5.0-M1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\r\n\t   &lt;version&gt;2.1.6&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;spark-cassandra-connector-java_2.10&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.5.0-M3&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t   &lt;version&gt;4.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;","title":"Spark Job with Multiple Contexts is failing","body":"<p>In the spark application we are making two spark contexts, </p>\n\n<p>1) For reading data from file system.</p>\n\n<p>2) For connecting and loading data to Cassandra.</p>\n\n<p>In one app we can run only one spark spark context, so we are stopping 1st then starting second.</p>\n\n<p>I was getting the following error.</p>\n\n<pre><code>Error 1) 16/03/10 05:40:44 ERROR Utils: Uncaught exception in thread      Thread-2\njava.io.IOException: Target log file already exists        (hdfs:///var/log/spark/apps/application_1457586850134_0001_2)\n    at `org.apache.spark.scheduler.EventLoggingListener.stop(EventLoggingListener.scala:225)`\n</code></pre>\n\n<p>It was because , in hadoop the directory/file need not be present when running the job (1st context), so for running 2nd context the log direcory/log file was present \nI So was the above error.</p>\n\n<p>I solved the issue by setting spark.eventLog.overwrite=true</p>\n\n<hr>\n\n<pre><code>Error 2) WARN executor.CoarseGrainedExecutorBackend: An unknown (ip-10-93-141-13.ec2.internal:48849) driver disconnected. 16/03/10 06:47:37                                                            ERROR executor.CoarseGrainedExecutorBackend: Driver 10.93.141.13:48849disassociated! Shutting down.\n</code></pre>\n\n<p>I tried increasing the </p>\n\n<blockquote>\n  <p>spark.yarn.driver.memoryOverhead=1024</p>\n  \n  <p>spark.yarn.executor.memoryOverhead=1024</p>\n</blockquote>\n\n<p>But the problem is still there.</p>\n\n<hr>\n\n<p>Error 3) </p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Failed to connect to /10.93.141.13:46008\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I have checked in in the core node , it is not listening on port 46008.</p>\n\n<hr>\n\n<p>Error 4 )</p>\n\n<pre><code>WARN YarnAllocator: Container marked as failed:              container_1457586850134_0006_01_000006 on host: ip-10-164-169-         46.ec2.internal. Exit status: 1. Diagnostics: Exception from container-   launch.\nContainer id: container_1457586850134_0006_01_000006\nExit code: 1\nStack trace: ExitCodeException exitCode=1:\nat org.apache.hadoop.util.Shell.runCommand(Shell.java:545)\nat org.apache.hadoop.util.Shell.run(Shell.java:456)\nat   org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:722)\nat org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:211)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:302)\nat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:82)\nat java.util.concurrent.FutureTask.run(FutureTask.java:262)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\n\n\nContainer exited with a non-zero exit code 1\n\n16/03/10 06:47:17 WARN ApplicationMaster: Reporter thread fails 1 time(s) in a row.\njava.lang.IllegalStateException: RpcEnv already stopped.\nat org.apache.spark.rpc.netty.Dispatcher.postMessage(Dispatcher.scala:159)\n    at org.apache.spark.rpc.netty.Dispatcher.postOneWayMessage(Dispatcher.scala:131)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.send(NettyRpcEnv.scala:192)\n    at org.apache.spark.rpc.netty.NettyRpcEndpointRef.send(NettyRpcEnv.scala:516)\n    at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1$$anonfun$apply$7.apply(YarnAllocator.scala:531)\n    at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1$$anonfun$apply$7.apply(YarnAllocator.scala:512)\n    at scala.Option.foreach(Option.scala:236)\n    at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1.apply(YarnAllocator.scala:512)\n    at org.apache.spark.deploy.yarn.YarnAllocator$$anonfun$processCompletedContainers$1.apply(YarnAllocator.scala:442)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:727)\n    at scala.collection.AbstractIterator.foreach(Iterator.scala:1157)\n    at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\n    at scala.collection.AbstractIterable.foreach(Iterable.scala:54)\n    at org.apache.spark.deploy.yarn.YarnAllocator.processCompletedContainers(YarnAllocator.scala:442)\n    at org.apache.spark.deploy.yarn.YarnAllocator.allocateResources(YarnAllocator.scala:242)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$1.run(ApplicationMaster.scala:368)\n</code></pre>\n\n<p>The above error is since the container is failing continously.</p>\n\n<hr>\n\n<p>It seems the above  spark issue's due to  multiple contexts, as raised in the mailing list.</p>\n\n<p><a href=\"https://mail-archives.apache.org/mod_mbox/spark-issues/201602.mbox/%3CJIRA.12936774.1454603470000.316442.1454707659978@Atlassian.JIRA%3E\" rel=\"nofollow\">https://mail-archives.apache.org/mod_mbox/spark-issues/201602.mbox/%3CJIRA.12936774.1454603470000.316442.1454707659978@Atlassian.JIRA%3E</a></p>\n\n<p>sparkContext.stop() is not able to free up the resources.</p>\n\n<hr>\n\n<p>I'm running the using the following options</p>\n\n<pre><code>--class com.mobi.vserv.driver.Query5kPids                            \n  --conf spark.eventLog.overwrite=true  \n  --conf spark.yarn.executor.memoryOverhead=1024                       \n  --conf spark.yarn.driver.memoryOverhead=1024                             \n  --num-executors 4                \n  --executor-memory 3g            \n  --executor-cores 2                  \n  --driver-memory 3g\n</code></pre>\n\n<p>I'm running on EMR , with a master and 2 slave nodes, master has 8 core and 16GB memory and each slave has 4 core 5120 MB available memory.</p>\n\n<p>Below is my code.</p>\n\n<pre><code>    public class Query5kPids implements Serializable{\n\n    static List&lt;UserSetGet&gt; ListFromS3 = new ArrayList&lt;UserSetGet&gt;();\n\n    public static void main(String[] args) throws JSONException, IOException, InterruptedException, URISyntaxException {\n\n\n    SparkConf conf = new SparkConf();\n    conf.setAppName(\"Spark-Cassandra Integration\");\n    conf.setMaster(\"yarn-cluster\");\n    conf.set(\"spark.cassandra.connection.host\", \"12.16.193.19\");\n    conf.set(\"spark.cassandra.connection.port\", \"9042\");\n\n\n    SparkConf conf1 = new SparkConf().setAppName(\"SparkAutomation\").setMaster(\"yarn-cluster\");\n\n    Query5kPids app1 = new Query5kPids(conf1);\n    app1.run1(file);\n\n    Query5kPids app = new Query5kPids(conf);\n    System.out.println(\"Both RDD has been generated\");\n    app.run();\n\n   }\n\n   private void run() throws JSONException, IOException, InterruptedException {\n\n   JavaSparkContext sc = new JavaSparkContext(conf);\n   query(sc);\n   sc.stop();\n   }\n\n   private void run1(File file) throws JSONException, IOException,     InterruptedException {\n   JavaSparkContext sc = new JavaSparkContext(conf);\n   getData(sc,file);\n   sc.stop();\n\n  }\n\n   private void getData(JavaSparkContext sc, File file) {\n\n   JavaRDD&lt;String&gt; Data = sc.textFile(file.toString());\n   System.out.println(\"RDD Count is \" + Data.count());\n\n   // Other map opetations to convert to UserSetGet RDD.\n   ListFromS3 = Data.collect();\n\n   }\n   private void query(JavaSparkContext sc) {\n\n   System.out.prin`enter code here`tln(\"RDD Count is \" +  ListFromS3.size());\n   //This gets printed. \n   //Which means it application is coming to the second part of the program.\n\n   for (int i = 0; i &lt; ListFromS3.size(); i++) {\n\n   sb.append(ListFromS3.get(i).getApnid());\n   sb.append(',');\n   }\n   sb.setLength(sb.length() - 3);\n\n   JavaRDD&lt;CassandraRow&gt; cassandraRDD = CassandraJavaUtil.javaFunctions(sc).cassandraTable(\"dmp\", \"user_profile_spark_test\").select       (\"app_day_count\", \"app_first_seen\",\"app_last_seen\", \"app_usage_count\", \"total_day_count\", \"total_usage_count\")\n .where(\"apnid IN ('\" + sb + \"')\");\n\n   if(cassandraRDD.isEmpty()){\n\n   JavaRDD&lt;UserSetGet&gt; rddFromGz = sc.parallelize(ListFromS3);\n\n   CassandraJavaUtil.javaFunctions(rddFromGz).writerBuilder(\"dmp\", \"user_profile_spark_test\", mapToRow(UserSetGet.class)).saveToCassand();\n        logger.info(\"DataSaved\");\n   }\n   }\n\n   }\n</code></pre>\n\n<p>Below is my POM</p>\n\n<pre><code>   &lt;dependencies&gt;\n   &lt;dependency&gt;\n   &lt;groupId&gt;org.apache-extras.cassandra-jdbc&lt;/groupId&gt;\n   &lt;artifactId&gt;cassandra-jdbc&lt;/artifactId&gt;\n   &lt;version&gt;1.2.5&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;junit&lt;/groupId&gt;\n   &lt;artifactId&gt;junit&lt;/artifactId&gt;\n   &lt;version&gt;3.8.1&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n   &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n   &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n   &lt;version&gt;1.3.7&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n   &lt;groupId&gt;log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n   &lt;version&gt;1.2.17&lt;/version&gt;\n   &lt;/dependency&gt;\n\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n   &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\n   &lt;version&gt;1.6.0&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n   &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\n   &lt;version&gt;1.5.0-M1&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\n   &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\n   &lt;version&gt;2.1.6&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n   &lt;artifactId&gt;spark-cassandra-connector-java_2.10&lt;/artifactId&gt;\n   &lt;version&gt;1.5.0-M3&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n   &lt;version&gt;4.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8893,"page":1099,"page_size":100}
