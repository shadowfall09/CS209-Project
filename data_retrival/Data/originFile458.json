{"items":[{"tags":["java","inheritance","abstract-class","multiple-inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1683085036,"post_id":76160259,"comment_id":134310802,"body_markdown":"[It is not useful to ask why something *isn&#39;t* in the language.](https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language). Why not just make both of them interfaces if you want to do this so badly?","body":"<a href=\"https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language\">It is not useful to ask why something <i>isn&#39;t</i> in the language.</a>. Why not just make both of them interfaces if you want to do this so badly?"},{"owner":{"account_id":27004123,"reputation":11,"user_id":20564907,"display_name":"Steve54"},"score":0,"creation_date":1683085127,"post_id":76160259,"comment_id":134310815,"body_markdown":"@Sweeper Thanks for clarification . I just want to know is there any other reason behind it !!","body":"@Sweeper Thanks for clarification . I just want to know is there any other reason behind it !!"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1683085889,"post_id":76160259,"comment_id":134310879,"body_markdown":"A Java Interface has methods that are not implemented - these are _abstract_ methods. In fact, you can define something like this: `public Interface MyInterface { public abstract void doStuff(); }` .  So, you can define the `superclass1` and `superclass2` interfaces, you can extend them in the `superclass3` interface.  In fact, the Interface definition can also be like this: `public abstract Interface MyInterface { ... `. So, you have this feature that an abstract class with all abstract methods can be an interface and and allows multiple inheritance.","body":"A Java Interface has methods that are not implemented - these are <i>abstract</i> methods. In fact, you can define something like this: <code>public Interface MyInterface { public abstract void doStuff(); }</code> .  So, you can define the <code>superclass1</code> and <code>superclass2</code> interfaces, you can extend them in the <code>superclass3</code> interface.  In fact, the Interface definition can also be like this: <code>public abstract Interface MyInterface { ... </code>. So, you have this feature that an abstract class with all abstract methods can be an interface and and allows multiple inheritance."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683086233,"post_id":76160259,"comment_id":134310904,"body_markdown":"@prasad_ the Java keyword is `interface`, not `Interface`, and while `abstract interface` is legal syntax, and `abstract` can be applied to methods on interfaces, using `abstract` makes no difference. The `abstract` keyword is redundant in these situations.","body":"@prasad_ the Java keyword is <code>interface</code>, not <code>Interface</code>, and while <code>abstract interface</code> is legal syntax, and <code>abstract</code> can be applied to methods on interfaces, using <code>abstract</code> makes no difference. The <code>abstract</code> keyword is redundant in these situations."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1683086442,"post_id":76160259,"comment_id":134310923,"body_markdown":"@tgdavies _interface, not Interface_ - you are correct about the syntax.","body":"@tgdavies <i>interface, not Interface</i> - you are correct about the syntax."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683089055,"post_id":76160259,"comment_id":134311148,"body_markdown":"If you search for &quot;[java] multiple inheritance&quot; you can find several questions with great answers like https://stackoverflow.com/questions/2515477/why-is-there-no-multiple-inheritance-in-java-but-implementing-multiple-interfac and https://stackoverflow.com/questions/995255/why-is-multiple-inheritance-not-allowed-in-java-or-c","body":"If you search for &quot;[java] multiple inheritance&quot; you can find several questions with great answers like <a href=\"https://stackoverflow.com/questions/2515477/why-is-there-no-multiple-inheritance-in-java-but-implementing-multiple-interfac\" title=\"why is there no multiple inheritance in java but implementing multiple interfac\">stackoverflow.com/questions/2515477/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/995255/why-is-multiple-inheritance-not-allowed-in-java-or-c\" title=\"why is multiple inheritance not allowed in java or c\">stackoverflow.com/questions/995255/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683092996,"creation_date":1683092996,"answer_id":76160776,"question_id":76160259,"body_markdown":"Well, answering your question &quot;why Java is not allowing it?&quot;: &quot;Java doesn’t support multiple inheritances in classes because it can lead to diamond problem and rather than providing some complex way to solve it, there are better ways through which we can achieve the same result as multiple inheritances.&quot; Read more [here][1]\r\n\r\nYou say, but my class contains only abstract methods, right? But how do you guarantee that it will not change in the future? What if you have 10 purely abstract classes and inherited 100 class out of them with all the combinations and then you decide to add a non-abstract method to one of them? What if your parent class is a library class, you do not even know who and how inherited it. To avoid this complications, Java says: if you need purely abstract class and multiple inheritance, just use interfaces. In the practice I never had a big problems with this limitation. Actually, another way around, I saw examples in C++ where multiple inheritance from classes led to a very complex solutions that are very hard to maintain.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java","title":"Can we achieve multiple inheritance using abstract classes with only abstract methods?","body":"<p>Well, answering your question &quot;why Java is not allowing it?&quot;: &quot;Java doesn’t support multiple inheritances in classes because it can lead to diamond problem and rather than providing some complex way to solve it, there are better ways through which we can achieve the same result as multiple inheritances.&quot; Read more <a href=\"https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You say, but my class contains only abstract methods, right? But how do you guarantee that it will not change in the future? What if you have 10 purely abstract classes and inherited 100 class out of them with all the combinations and then you decide to add a non-abstract method to one of them? What if your parent class is a library class, you do not even know who and how inherited it. To avoid this complications, Java says: if you need purely abstract class and multiple inheritance, just use interfaces. In the practice I never had a big problems with this limitation. Actually, another way around, I saw examples in C++ where multiple inheritance from classes led to a very complex solutions that are very hard to maintain.</p>\n"}],"owner":{"account_id":27004123,"reputation":11,"user_id":20564907,"display_name":"Steve54"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1683107289,"accepted_answer_id":76160776,"answer_count":1,"score":0,"last_activity_date":1683168979,"creation_date":1683084783,"question_id":76160259,"body_markdown":"We know that abstract class contains both abstract and non - abstract methods , so what if we have only abstract methods so that we can achieve **multiple inheritance** like interfaces.\r\n\r\nHere is the example:\r\n\r\n```\r\npublic abstract class superclass1 {\r\n \r\n   public abstract void func ( );\r\n\r\n}\r\n\r\npublic abstract class superclass2 {\r\n\r\n    public abstract void func ( );\r\n}\r\n\r\npublic class test extends superclass1 , superclass2 {\r\n\r\n    /* Code goes here */\r\n}\r\n```\r\n\r\nI know above code is not possible but why Java is not allowing it , because we define class body only after extending it just like interfaces and work correctly such that , so there will be no ambiguity and no problem.","title":"Can we achieve multiple inheritance using abstract classes with only abstract methods?","body":"<p>We know that abstract class contains both abstract and non - abstract methods , so what if we have only abstract methods so that we can achieve <strong>multiple inheritance</strong> like interfaces.</p>\n<p>Here is the example:</p>\n<pre><code>public abstract class superclass1 {\n \n   public abstract void func ( );\n\n}\n\npublic abstract class superclass2 {\n\n    public abstract void func ( );\n}\n\npublic class test extends superclass1 , superclass2 {\n\n    /* Code goes here */\n}\n</code></pre>\n<p>I know above code is not possible but why Java is not allowing it , because we define class body only after extending it just like interfaces and work correctly such that , so there will be no ambiguity and no problem.</p>\n"},{"tags":["java","android-studio","gradle","android-gradle-plugin","android-studio-3.0"],"comments":[{"owner":{"account_id":3665219,"reputation":791,"user_id":3053860,"accept_rate":75,"display_name":"Axay Prajapati"},"score":1,"creation_date":1663078379,"post_id":73179429,"comment_id":130151537,"body_markdown":"hey, same issue here. Did you find any solution?","body":"hey, same issue here. Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":10493876,"reputation":27,"user_id":7734800,"display_name":"Sheraz Hussain Turi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667244890,"creation_date":1667244890,"answer_id":74268307,"question_id":73179429,"body_markdown":"I was facing the same issue. I just changed the version of these two lines.\r\nReplace these two lines with yours and sync the project. \r\n\r\n\r\nBuild.gradle (Project)\r\n 1. classpath &#39;com.android.tools.build:gradle:**7.0.4**&#39;\r\n\r\nGradle.wrapper.properties \r\n\r\n 2. distributionUrl=https\\://services.gradle.org/distributions/gradle-**7.5.1**-bin.zip\r\n\r\nI am using:\r\n\r\nAndroid Studio Dolphin | 2021.3.1 Patch 1\r\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\r\n ","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>I was facing the same issue. I just changed the version of these two lines.\nReplace these two lines with yours and sync the project.</p>\n<p>Build.gradle (Project)</p>\n<ol>\n<li>classpath 'com.android.tools.build:gradle:<strong>7.0.4</strong>'</li>\n</ol>\n<p>Gradle.wrapper.properties</p>\n<ol start=\"2\">\n<li>distributionUrl=https://services.gradle.org/distributions/gradle-<strong>7.5.1</strong>-bin.zip</li>\n</ol>\n<p>I am using:</p>\n<p>Android Studio Dolphin | 2021.3.1 Patch 1\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022</p>\n"},{"tags":[],"owner":{"account_id":19311658,"reputation":345,"user_id":14117210,"display_name":"Julsapargi Nursam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683168837,"creation_date":1683168837,"answer_id":76169282,"question_id":73179429,"body_markdown":"I experienced the same thing after I tried several things, the result is still the same.\r\n\r\nIt turned out that I had to update the version of the Firebase Performance library.\r\n\r\ncom.google.firebase:perf-plugin:1.3.5 to version 1.4.2","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>I experienced the same thing after I tried several things, the result is still the same.</p>\n<p>It turned out that I had to update the version of the Firebase Performance library.</p>\n<p>com.google.firebase:perf-plugin:1.3.5 to version 1.4.2</p>\n"}],"owner":{"account_id":15417207,"reputation":395,"user_id":11122289,"display_name":"Sarwar Sateer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683168837,"creation_date":1659219773,"question_id":73179429,"body_markdown":"The problem might be similar or looks duplicated but it doesn&#39;t. I Tried every possible solution on Stackoverflow and YouTube but I couldn&#39;t solve the issue with my project. I have already released the app to Google Play Store as well. but Now facing this problem.\r\n\r\nError:\r\n\r\n    Your project may be using a third-party plugin that is not compatible with the other \r\n    plugins in the project or the version of Gradle requested by the project\r\n\r\n[![Gradle Error Explaination][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Evama.png\r\n\r\n\r\nThe things I have tried:\r\n\r\n* I removed all the Gradle files and downloaded them again.\r\n\r\n* I compare all the libs and repositories with my other projects which are working with no issue. (but have not solved this project&#39;s problem).\r\n\r\n* I had recently added a module to add Native ads on this app and removed that too. (Not had any positive impact).\r\n\r\n* Several times I restarted the project and rebuilt the project.  (result: nothing) I tried anything I could. the problem still exists.\r\n\r\n","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>The problem might be similar or looks duplicated but it doesn't. I Tried every possible solution on Stackoverflow and YouTube but I couldn't solve the issue with my project. I have already released the app to Google Play Store as well. but Now facing this problem.</p>\n<p>Error:</p>\n<pre><code>Your project may be using a third-party plugin that is not compatible with the other \nplugins in the project or the version of Gradle requested by the project\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Evama.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Evama.png\" alt=\"Gradle Error Explaination\" /></a></p>\n<p>The things I have tried:</p>\n<ul>\n<li><p>I removed all the Gradle files and downloaded them again.</p>\n</li>\n<li><p>I compare all the libs and repositories with my other projects which are working with no issue. (but have not solved this project's problem).</p>\n</li>\n<li><p>I had recently added a module to add Native ads on this app and removed that too. (Not had any positive impact).</p>\n</li>\n<li><p>Several times I restarted the project and rebuilt the project.  (result: nothing) I tried anything I could. the problem still exists.</p>\n</li>\n</ul>\n"},{"tags":["java","spring-security","jackson","objectmapper","spring-authorization-server"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680493256,"post_id":75915309,"comment_id":133902271,"body_markdown":"I am curious: why migrate from Keycloak to spring authorization-server? Doesn&#39;t the first have so many more features?","body":"I am curious: why migrate from Keycloak to spring authorization-server? Doesn&#39;t the first have so many more features?"},{"owner":{"account_id":3507372,"reputation":368,"user_id":2932614,"display_name":"Torsten Krah"},"score":1,"creation_date":1680503082,"post_id":75915309,"comment_id":133903217,"body_markdown":"Smaller footprint, better customizable if you already have a spring stack running, less stuff you may not need -  I do use spring-auth-server too instead of that keycloak one which I just don&#39;t need.","body":"Smaller footprint, better customizable if you already have a spring stack running, less stuff you may not need -  I do use spring-auth-server too instead of that keycloak one which I just don&#39;t need."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680555514,"post_id":75915309,"comment_id":133915477,"body_markdown":"@ch4mp Torsten Krah summerized the reasons I am migrating to Spring Authorization Server, I want to customize as I wish my authorization server. Also Keycloak does not provide an opaque token and for some clients I need that kind of tokens.","body":"@ch4mp Torsten Krah summerized the reasons I am migrating to Spring Authorization Server, I want to customize as I wish my authorization server. Also Keycloak does not provide an opaque token and for some clients I need that kind of tokens."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680560370,"post_id":75915309,"comment_id":133916258,"body_markdown":"You can introspect JWTs if that&#39;s the matter (and Keycloak exposes an introspection endpoint). For the &quot;better customizable&quot;, I&#39;d be curious of what you couldn&#39;t do with Keycloak. &quot;Smaller footprint&quot;, maybe, at the cost of clients and user management UI (and so much configuration burdon)...","body":"You can introspect JWTs if that&#39;s the matter (and Keycloak exposes an introspection endpoint). For the &quot;better customizable&quot;, I&#39;d be curious of what you couldn&#39;t do with Keycloak. &quot;Smaller footprint&quot;, maybe, at the cost of clients and user management UI (and so much configuration burdon)..."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680566805,"post_id":75915309,"comment_id":133916918,"body_markdown":"@ch4mp I simply don&#39;t want a JWT format even if I can introspect it, I need another format which we can&#39;t see its claims. Also my apps are deployed in the cloud and with Keycloak I have to provide a dedicated database and have to manage a full application. Migrating to Spring Authorization Server, with one dependency I can reuse one of the database of one application (and so limiting the number of required connexions). I don&#39;t really need the UI provided by Keycloak which prevent us to really understand what happens behind the scene","body":"@ch4mp I simply don&#39;t want a JWT format even if I can introspect it, I need another format which we can&#39;t see its claims. Also my apps are deployed in the cloud and with Keycloak I have to provide a dedicated database and have to manage a full application. Migrating to Spring Authorization Server, with one dependency I can reuse one of the database of one application (and so limiting the number of required connexions). I don&#39;t really need the UI provided by Keycloak which prevent us to really understand what happens behind the scene"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680567960,"post_id":75915309,"comment_id":133917018,"body_markdown":"Can&#39;t opaque token claims be seen on introspection endpoint? Or is it hidden behind a firewall as well as user endpoint? If the aim is protecting tokens content from the &quot;outside&quot;, why not using the [BFF pattern](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff) where the tokens don&#39;t leave your servers at all? Regarding DB, why couldn&#39;t you use one of your applications DB with Keycloak?","body":"Can&#39;t opaque token claims be seen on introspection endpoint? Or is it hidden behind a firewall as well as user endpoint? If the aim is protecting tokens content from the &quot;outside&quot;, why not using the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">BFF pattern</a> where the tokens don&#39;t leave your servers at all? Regarding DB, why couldn&#39;t you use one of your applications DB with Keycloak?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680568156,"post_id":75915309,"comment_id":133917030,"body_markdown":"But I guess, all those are tradeoffs and partly opinions and I thank you for sharing yours. I think the most important grief I have against spring authorization server is it mobilises a lot of Spring security team energy, leaving much less for the security framework...","body":"But I guess, all those are tradeoffs and partly opinions and I thank you for sharing yours. I think the most important grief I have against spring authorization server is it mobilises a lot of Spring security team energy, leaving much less for the security framework..."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680626452,"post_id":75915309,"comment_id":133928604,"body_markdown":"@ch4mp I can use the db of one application but that means increasing the number of db connections, what I want is to reduce the number of apps to manage and have fine grained control about users management. I  agree with you about the complexity of Spring Security, sometimes I ask myself what am I doing since it&#39;s not really trivial to understand what&#39;s going above all when we define multiple SecurityFilterChain. \nThank you for the link on BFF pattern","body":"@ch4mp I can use the db of one application but that means increasing the number of db connections, what I want is to reduce the number of apps to manage and have fine grained control about users management. I  agree with you about the complexity of Spring Security, sometimes I ask myself what am I doing since it&#39;s not really trivial to understand what&#39;s going above all when we define multiple SecurityFilterChain.  Thank you for the link on BFF pattern"}],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680511536,"creation_date":1680511536,"answer_id":75917563,"question_id":75915309,"body_markdown":"the &quot;java.util.Collections$UnmodifiableRandomAccessList&quot; type info in the json is not compatible with your \r\nSIMPLE_GRANTED_AUTHORITY_SET type reference, so there is a easy way to prcess.\r\n\r\nuse the type reference that already registed in CoreJackson2Module, and then convert it to the type actually required.\r\n\r\n```\r\n        TypeReference&lt;List&lt;SimpleGrantedAuthority&gt;&gt; listType = new TypeReference&lt;&gt;() {\r\n        };\r\n\r\n        List&lt;SimpleGrantedAuthority&gt; authoritiesList = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), listType);\r\n        Set&lt;? extends SimpleGrantedAuthority&gt; authorities = authoritiesList.stream().collect(Collectors.toSet());\r\n```","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>the &quot;java.util.Collections$UnmodifiableRandomAccessList&quot; type info in the json is not compatible with your\nSIMPLE_GRANTED_AUTHORITY_SET type reference, so there is a easy way to prcess.</p>\n<p>use the type reference that already registed in CoreJackson2Module, and then convert it to the type actually required.</p>\n<pre><code>        TypeReference&lt;List&lt;SimpleGrantedAuthority&gt;&gt; listType = new TypeReference&lt;&gt;() {\n        };\n\n        List&lt;SimpleGrantedAuthority&gt; authoritiesList = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), listType);\n        Set&lt;? extends SimpleGrantedAuthority&gt; authorities = authoritiesList.stream().collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680890906,"creation_date":1680566938,"answer_id":75924576,"question_id":75915309,"body_markdown":"I solved my problem by manually extracting the roles from the JSON, it&#39;s not the better way to go but I can go ahead. \r\n\r\n**EDIT** \r\n\r\nA better altenative is to avoid using ImmutableCollection or provide a dedicated mixin.\r\nI changed all codes that created an ImmutableCollection like `...stream().toList()` to `...stream().collect(Collectors.toList())`","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>I solved my problem by manually extracting the roles from the JSON, it's not the better way to go but I can go ahead.</p>\n<p><strong>EDIT</strong></p>\n<p>A better altenative is to avoid using ImmutableCollection or provide a dedicated mixin.\nI changed all codes that created an ImmutableCollection like <code>...stream().toList()</code> to <code>...stream().collect(Collectors.toList())</code></p>\n"},{"tags":[],"owner":{"account_id":22706665,"reputation":1,"user_id":16873265,"display_name":"JohnDG89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683168669,"creation_date":1683168414,"answer_id":76169255,"question_id":75915309,"body_markdown":"You should use a service implemented &quot;UserDetailsManager&quot; instead of &quot;UserDetails&quot;. \r\nYou need override &quot;loadUserByUsername&quot; method:\r\n\r\n```java\r\n@Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;SecurityUser&gt; optional = userRepository.findByUsername(username);\r\n        if (!optional.isPresent()) {\r\n            throw new UsernameNotFoundException(&quot;User &#39;&quot; + username + &quot;&#39; not found&quot;);\r\n        }\r\n        SecurityUser user = optional.get();\r\n        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        user.getAuthorities().forEach(auth -&gt; authorities.add(new SimpleGrantedAuthority(auth.getAuthority())));\r\n\r\n        return new User(user.getUsername(), user.getPassword(), !user.isDisable(), !user.isExpired(),\r\n                !user.isCredentialsExpired(), !user.isLocked(), authorities);\r\n    }\r\n```\r\n\r\nSecurityUser is my custom Entity and User in return is &quot;org.springframework.security.core.userdetails.User&quot;\r\n\r\nHere is some of my custom Entity:\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Table(name = &quot;users&quot;)\r\npublic class SecurityUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @NonNull\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @NonNull\r\n    private String password;\r\n\r\n    @Singular\r\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;users_authorities&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;authorities_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    private Set&lt;Authority&gt; authorities;\r\n\r\n    @Builder.Default\r\n    private boolean expired = false;\r\n    @Builder.Default\r\n    private boolean locked = false;\r\n    @Builder.Default\r\n    private boolean credentialsExpired = false;\r\n    @Builder.Default\r\n    private boolean disable = false;\r\n}\r\n```","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>You should use a service implemented &quot;UserDetailsManager&quot; instead of &quot;UserDetails&quot;.\nYou need override &quot;loadUserByUsername&quot; method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;SecurityUser&gt; optional = userRepository.findByUsername(username);\n        if (!optional.isPresent()) {\n            throw new UsernameNotFoundException(&quot;User '&quot; + username + &quot;' not found&quot;);\n        }\n        SecurityUser user = optional.get();\n        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getAuthorities().forEach(auth -&gt; authorities.add(new SimpleGrantedAuthority(auth.getAuthority())));\n\n        return new User(user.getUsername(), user.getPassword(), !user.isDisable(), !user.isExpired(),\n                !user.isCredentialsExpired(), !user.isLocked(), authorities);\n    }\n</code></pre>\n<p>SecurityUser is my custom Entity and User in return is &quot;org.springframework.security.core.userdetails.User&quot;</p>\n<p>Here is some of my custom Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Table(name = &quot;users&quot;)\npublic class SecurityUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NonNull\n    @Column(unique = true)\n    private String username;\n\n    @NonNull\n    private String password;\n\n    @Singular\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_authorities&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;authorities_id&quot;, referencedColumnName = &quot;id&quot;))\n    private Set&lt;Authority&gt; authorities;\n\n    @Builder.Default\n    private boolean expired = false;\n    @Builder.Default\n    private boolean locked = false;\n    @Builder.Default\n    private boolean credentialsExpired = false;\n    @Builder.Default\n    private boolean disable = false;\n}\n</code></pre>\n"}],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75924576,"answer_count":3,"score":0,"last_activity_date":1683168669,"creation_date":1680481513,"question_id":75915309,"body_markdown":"I am fighting against JSON deserialization for a while now by trying to migrate from Keycloak to Spring Authorization Server (I am still wonder if it&#39;s a good idea with all those issues). Anyway... \r\n\r\nFirstly trying to get an access token using the code grant type, I had that exception when using a CustomUserDetails \r\n```\r\nCaused by: java.lang.IllegalArgumentException: The class with com.company.user.CustomUserDetails and name of com.company.user.CustomUserDetails is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\r\n```\r\nI visited the link https://github.com/spring-projects/spring-security/issues/4370 but nothing really helpful. \r\n\r\nBased on the error message I defined this CustomUserDetailsMixin\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\r\n@JsonDeserialize(using = CustomUserDetailsSerializer.class)\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\r\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic abstract class CustomUserDetailsMixin {\r\n}\r\n```\r\n\r\nAnd the `CustomUserDetailsSerializer`:\r\n\r\n```\r\npublic class CustomUserDetailsSerializer extends JsonDeserializer&lt;CustomUserDetails&gt; {\r\n    private static final TypeReference&lt;Set&lt;SimpleGrantedAuthority&gt;&gt; SIMPLE_GRANTED_AUTHORITY_SET = new TypeReference&lt;&gt;() {\r\n    };\r\n\r\n    @Override\r\n    public CustomUserDetails deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\r\n        JsonNode jsonNode = mapper.readTree(jp);\r\n\r\n        //there is an issue here :\r\n        Set&lt;? extends GrantedAuthority&gt; authorities = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), SIMPLE_GRANTED_AUTHORITY_SET);\r\n    }\r\n} \r\n```\r\nAnd registered it here:\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfiguration {\r\n\r\n    @Bean \r\n    public OAuth2AuthorizationService oAuth2AuthorizationService(JdbcTemplate jdbcTemplate, RegisteredClientRepository registeredClientRepository) {\r\n        JdbcOAuth2AuthorizationService oAuth2AuthorizationService = new JdbcOAuth2AuthorizationService(jdbcTemplate, registeredClientRepository);\r\n        JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper rowMapper = new JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper(registeredClientRepository);\r\n        ClassLoader classLoader = JdbcOAuth2AuthorizationService.class.getClassLoader();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModules(new CoreJackson2Module());\r\n        objectMapper.registerModules(SecurityJackson2Modules.getModules(classLoader));\r\n        objectMapper.registerModule(new OAuth2AuthorizationServerJackson2Module());\r\n\r\n        //registering the mixin\r\n        objectMapper.addMixIn(CustomUserDetails.class, CustomUserDetailsMixin.class);\r\n\r\n        rowMapper.setObjectMapper(objectMapper);\r\n        oAuth2AuthorizationService.setAuthorizationRowMapper(rowMapper);\r\n        return oAuth2AuthorizationService;\r\n    }\r\n\r\n}\r\n```\r\nBut now I have another error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not resolve type id &#39;java.util.ImmutableCollections$ListN&#39; as a subtype of `java.util.Set&lt;org.springframework.security.core.authority.SimpleGrantedAuthority&gt;`: Not a subtype\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat org.springframework.security.oauth2.server.authorization.JdbcOAuth2AuthorizationService$OAuth2AuthorizationRowMapper.parseMap(JdbcOAuth2AuthorizationService.java:467)\r\n```\r\nI took a look at the JSON saved in db by spring security and it looks like this: \r\n```\r\n{\r\n  &quot;@class&quot;: &quot;java.util.Collections$UnmodifiableMap&quot;,\r\n  &quot;java.security.Principal&quot;: {\r\n    &quot;@class&quot;: &quot;org.springframework.security.authentication.UsernamePasswordAuthenticationToken&quot;,\r\n    &quot;authorities&quot;: [\r\n      &quot;java.util.Collections$UnmodifiableRandomAccessList&quot;,\r\n      [\r\n        {\r\n          &quot;@class&quot;: &quot;org.springframework.security.core.authority.SimpleGrantedAuthority&quot;,\r\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n        }\r\n      ]\r\n    ],\r\n   }\r\n  ....\r\n}\r\n```\r\nThe question is how to solve that last error? ","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>I am fighting against JSON deserialization for a while now by trying to migrate from Keycloak to Spring Authorization Server (I am still wonder if it's a good idea with all those issues). Anyway...</p>\n<p>Firstly trying to get an access token using the code grant type, I had that exception when using a CustomUserDetails</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The class with com.company.user.CustomUserDetails and name of com.company.user.CustomUserDetails is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\n</code></pre>\n<p>I visited the link <a href=\"https://github.com/spring-projects/spring-security/issues/4370\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/4370</a> but nothing really helpful.</p>\n<p>Based on the error message I defined this CustomUserDetailsMixin</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\n@JsonDeserialize(using = CustomUserDetailsSerializer.class)\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic abstract class CustomUserDetailsMixin {\n}\n</code></pre>\n<p>And the <code>CustomUserDetailsSerializer</code>:</p>\n<pre><code>public class CustomUserDetailsSerializer extends JsonDeserializer&lt;CustomUserDetails&gt; {\n    private static final TypeReference&lt;Set&lt;SimpleGrantedAuthority&gt;&gt; SIMPLE_GRANTED_AUTHORITY_SET = new TypeReference&lt;&gt;() {\n    };\n\n    @Override\n    public CustomUserDetails deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n        JsonNode jsonNode = mapper.readTree(jp);\n\n        //there is an issue here :\n        Set&lt;? extends GrantedAuthority&gt; authorities = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), SIMPLE_GRANTED_AUTHORITY_SET);\n    }\n} \n</code></pre>\n<p>And registered it here:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfiguration {\n\n    @Bean \n    public OAuth2AuthorizationService oAuth2AuthorizationService(JdbcTemplate jdbcTemplate, RegisteredClientRepository registeredClientRepository) {\n        JdbcOAuth2AuthorizationService oAuth2AuthorizationService = new JdbcOAuth2AuthorizationService(jdbcTemplate, registeredClientRepository);\n        JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper rowMapper = new JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper(registeredClientRepository);\n        ClassLoader classLoader = JdbcOAuth2AuthorizationService.class.getClassLoader();\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModules(new CoreJackson2Module());\n        objectMapper.registerModules(SecurityJackson2Modules.getModules(classLoader));\n        objectMapper.registerModule(new OAuth2AuthorizationServerJackson2Module());\n\n        //registering the mixin\n        objectMapper.addMixIn(CustomUserDetails.class, CustomUserDetailsMixin.class);\n\n        rowMapper.setObjectMapper(objectMapper);\n        oAuth2AuthorizationService.setAuthorizationRowMapper(rowMapper);\n        return oAuth2AuthorizationService;\n    }\n\n}\n</code></pre>\n<p>But now I have another error:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve type id 'java.util.ImmutableCollections$ListN' as a subtype of `java.util.Set&lt;org.springframework.security.core.authority.SimpleGrantedAuthority&gt;`: Not a subtype\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at org.springframework.security.oauth2.server.authorization.JdbcOAuth2AuthorizationService$OAuth2AuthorizationRowMapper.parseMap(JdbcOAuth2AuthorizationService.java:467)\n</code></pre>\n<p>I took a look at the JSON saved in db by spring security and it looks like this:</p>\n<pre><code>{\n  &quot;@class&quot;: &quot;java.util.Collections$UnmodifiableMap&quot;,\n  &quot;java.security.Principal&quot;: {\n    &quot;@class&quot;: &quot;org.springframework.security.authentication.UsernamePasswordAuthenticationToken&quot;,\n    &quot;authorities&quot;: [\n      &quot;java.util.Collections$UnmodifiableRandomAccessList&quot;,\n      [\n        {\n          &quot;@class&quot;: &quot;org.springframework.security.core.authority.SimpleGrantedAuthority&quot;,\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\n        }\n      ]\n    ],\n   }\n  ....\n}\n</code></pre>\n<p>The question is how to solve that last error?</p>\n"},{"tags":["java","mysql","tomcat","jdbc","timezone"],"comments":[{"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"score":1,"creation_date":1414009496,"post_id":26515700,"comment_id":41662729,"body_markdown":"What does your JDBC URL look like?","body":"What does your JDBC URL look like?"}],"answers":[{"tags":[],"owner":{"account_id":1691486,"reputation":14379,"user_id":1553725,"display_name":"bluecollarcoder"},"down_vote_count":4,"up_vote_count":835,"is_accepted":true,"score":831,"last_activity_date":1563887389,"creation_date":1417623348,"answer_id":27276523,"question_id":26515700,"body_markdown":"Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the `serverTimezone` explicitly in the connection string.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the <code>serverTimezone</code> explicitly in the connection string.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1475498162,"creation_date":1448366041,"answer_id":33893008,"question_id":26515700,"body_markdown":"This is a bug in mysql-connector-java from version 5.1.33 to 5.1.37.\r\nI&#39;ve reported it here: http://bugs.mysql.com/bug.php?id=79343\r\n\r\n**Edited:\r\nThis has been corrected from mysql-connector-java 5.1.39**\r\n\r\n\r\nIt was a typo in TimeUtil class in loadTimeZoneMappings method that raises a NPE locating /com/mysql/jdbc/TimeZoneMapping.properties file. If you look at the code, the file should be located within TimeUtil class loader, not TimeZone:\r\n\r\n    TimeUtil.class.getResourceAsStream(TIME_ZONE_MAPPINGS_RESOURCE);\r\n\r\nThe parameter **useLegacyDatetimeCode** allows to correct the difference between client and server timezones automatically when using dates. So it helps you precissely not having to specify timezones in each part. Althought using **serverTimeZone** parameter is a workaround, and meanwhile the patch is released, you can try better correcting the code by yourself as I did.\r\n\r\n - If it&#39;s a standalone application, you can try simply to add a\r\n   corrected com/mysql/jdbc/TimeUtil class to your code and be careful\r\n   with jar loading order. This can help:\r\n   https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html\r\n   \r\n - If it&#39;s a web application, the easier solution is to create your own\r\n   mysql-connector-java-5.1.37-patched.jar, substituting the .class directly\r\n   into the original jar.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>This is a bug in mysql-connector-java from version 5.1.33 to 5.1.37.\nI've reported it here: <a href=\"http://bugs.mysql.com/bug.php?id=79343\" rel=\"noreferrer\">http://bugs.mysql.com/bug.php?id=79343</a></p>\n\n<p><strong>Edited:\nThis has been corrected from mysql-connector-java 5.1.39</strong></p>\n\n<p>It was a typo in TimeUtil class in loadTimeZoneMappings method that raises a NPE locating /com/mysql/jdbc/TimeZoneMapping.properties file. If you look at the code, the file should be located within TimeUtil class loader, not TimeZone:</p>\n\n<pre><code>TimeUtil.class.getResourceAsStream(TIME_ZONE_MAPPINGS_RESOURCE);\n</code></pre>\n\n<p>The parameter <strong>useLegacyDatetimeCode</strong> allows to correct the difference between client and server timezones automatically when using dates. So it helps you precissely not having to specify timezones in each part. Althought using <strong>serverTimeZone</strong> parameter is a workaround, and meanwhile the patch is released, you can try better correcting the code by yourself as I did.</p>\n\n<ul>\n<li><p>If it's a standalone application, you can try simply to add a\ncorrected com/mysql/jdbc/TimeUtil class to your code and be careful\nwith jar loading order. This can help:\n<a href=\"https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html\" rel=\"noreferrer\">https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html</a></p></li>\n<li><p>If it's a web application, the easier solution is to create your own\nmysql-connector-java-5.1.37-patched.jar, substituting the .class directly\ninto the original jar.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7939918,"reputation":933,"user_id":5994373,"display_name":"Gabriel Amazonas Mesquita"},"down_vote_count":4,"up_vote_count":59,"is_accepted":false,"score":55,"last_activity_date":1654740927,"creation_date":1466744978,"answer_id":38005969,"question_id":26515700,"body_markdown":"If you are using Maven, you can just set another MySQL connector version (I had the same error, so I changed from 6.0.2 to 5.1.39) in `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAs reported in another answers, this issue has been fixed in versions 6.0.3 or above, so you can use the updated version:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMaven will automatically re-build your project after you save the `pom.xml` file. ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>If you are using Maven, you can just set another MySQL connector version (I had the same error, so I changed from 6.0.2 to 5.1.39) in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As reported in another answers, this issue has been fixed in versions 6.0.3 or above, so you can use the updated version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will automatically re-build your project after you save the <code>pom.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":4941402,"reputation":2504,"user_id":3977996,"accept_rate":96,"display_name":"Alireza Alallah"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1468976036,"creation_date":1468188736,"answer_id":38296891,"question_id":26515700,"body_markdown":"The connection string should be set like this:\r\n\r\n    jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\nIf you are defining the connection in an `xml` file (such as `persistence.xml`, `standalone-full.xml`, etc..), instead of `&amp;` you should use `&amp;amp;` or use a `CDATA` block.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The connection string should be set like this:</p>\n\n<pre><code>jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n\n<p>If you are defining the connection in an <code>xml</code> file (such as <code>persistence.xml</code>, <code>standalone-full.xml</code>, etc..), instead of <code>&amp;</code> you should use <code>&amp;amp;</code> or use a <code>CDATA</code> block.</p>\n"},{"tags":[],"owner":{"account_id":9513877,"reputation":1479,"user_id":7070958,"display_name":"Dmitriy Rud"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1477415662,"creation_date":1477415662,"answer_id":40245885,"question_id":26515700,"body_markdown":"I&#39;ve solved this problem by configuring MySQL. \r\n\r\n`SET GLOBAL time_zone = &#39;+3:00&#39;;`","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I've solved this problem by configuring MySQL. </p>\n\n<p><code>SET GLOBAL time_zone = '+3:00';</code></p>\n"},{"tags":[],"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1498572612,"creation_date":1498217500,"answer_id":44720416,"question_id":26515700,"body_markdown":" 1. I added in mysql config file in section **[mysqld]**\r\n    \r\n        default_time_zone=&#39;+03:00&#39;\r\n 2. And restart mysql server: \r\n    \r\n        sudo service mysql restart\r\n\r\nWhere **+03:00** my UTC time zone.\r\n\r\n\r\nPath to config file on my os ubuntu 16.04:\r\n\r\n    /etc/mysql/mysql.conf.d/mysqld.cnf\r\n\r\n\r\n\r\n**WARNING: IF YOUR TIME ZONE HAVE SUMMER AND WINTER TIME. YOU MUST CHANGE UTC IN CONFIG IF CHANGE TIME. TWICE IN YEAR(USUALLY) OR SET CRONTAB WITH SUDO.**\r\n\r\n*My url jdbc connection:* \r\n\r\n    &quot;jdbc:mysql://localhost/java&quot;\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<ol>\n<li><p>I added in mysql config file in section <strong>[mysqld]</strong></p>\n\n<pre><code>default_time_zone='+03:00'\n</code></pre></li>\n<li><p>And restart mysql server: </p>\n\n<pre><code>sudo service mysql restart\n</code></pre></li>\n</ol>\n\n<p>Where <strong>+03:00</strong> my UTC time zone.</p>\n\n<p>Path to config file on my os ubuntu 16.04:</p>\n\n<pre><code>/etc/mysql/mysql.conf.d/mysqld.cnf\n</code></pre>\n\n<p><strong>WARNING: IF YOUR TIME ZONE HAVE SUMMER AND WINTER TIME. YOU MUST CHANGE UTC IN CONFIG IF CHANGE TIME. TWICE IN YEAR(USUALLY) OR SET CRONTAB WITH SUDO.</strong></p>\n\n<p><em>My url jdbc connection:</em> </p>\n\n<pre><code>\"jdbc:mysql://localhost/java\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11570675,"reputation":29,"user_id":8477561,"display_name":"Nikunj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1502965965,"creation_date":1502965965,"answer_id":45732766,"question_id":26515700,"body_markdown":"I solved this issue without any single code change. just goto system time setting and set the time zone. In my case the default time zone was UTC which I changed to my local time zone. After I did restart all services, everything worked for me. ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I solved this issue without any single code change. just goto system time setting and set the time zone. In my case the default time zone was UTC which I changed to my local time zone. After I did restart all services, everything worked for me. </p>\n"},{"tags":[],"owner":{"account_id":12319791,"reputation":341,"user_id":8989353,"display_name":"Rafael Costa Cavalcante"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1528238379,"creation_date":1528219018,"answer_id":50705619,"question_id":26515700,"body_markdown":"I solved putting below connection string in the URL\r\n\r\n    jdbc:mysql://localhost:3306/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I solved putting below connection string in the URL</p>\n\n<pre><code>jdbc:mysql://localhost:3306/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8528130,"reputation":91,"user_id":6392912,"display_name":"GordR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530146579,"creation_date":1530146579,"answer_id":51073220,"question_id":26515700,"body_markdown":"I also was having the exact same problem in LibreOffice Base.  So I just specified a non &#39;daylight savings time zone&#39; in the connection string.  \r\n[![**enter image description here**][1]][1]\r\n\r\nI tried **without** the &quot;&amp;serverTimezone=MST&quot; but that failed as well.\r\n\r\nI also tried &quot;&amp;serverTimezone=MDT&quot; and that failed, so for some reason, it doesn&#39;t like daylight savings time!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lakXx.jpg","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I also was having the exact same problem in LibreOffice Base.  So I just specified a non 'daylight savings time zone' in the connection string.<br>\n<a href=\"https://i.stack.imgur.com/lakXx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lakXx.jpg\" alt=\"**enter image description here**\"></a></p>\n\n<p>I tried <strong>without</strong> the \"&amp;serverTimezone=MST\" but that failed as well.</p>\n\n<p>I also tried \"&amp;serverTimezone=MDT\" and that failed, so for some reason, it doesn't like daylight savings time!</p>\n"},{"tags":[],"owner":{"account_id":14179886,"reputation":161,"user_id":10243917,"display_name":"felice de simone"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1534618143,"creation_date":1534613103,"answer_id":51911047,"question_id":26515700,"body_markdown":"I have the same problem and i solved it append only &quot;?serverTimezone=UTC&quot; to my string connection.\r\n\r\n############################\r\nsinossi my problem:\r\n\r\njava.sql.SQLException: The server time zone value &#39;CEST&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\r\n\r\n    my dbDriver = com.mysql.jdbc.Driver\r\n    \r\n    my jar = mysql-connector-java-8.0.12.jar\r\n    \r\n    my java = 1.8\r\n    \r\n    my tomcat = Apache Tomcat Version 8.5.32\r\n    \r\n    my MySql server = MySql ver.8.0.12 \r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I have the same problem and i solved it append only \"?serverTimezone=UTC\" to my string connection.</p>\n\n#\n\n<p>sinossi my problem:</p>\n\n<p>java.sql.SQLException: The server time zone value 'CEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.</p>\n\n<pre><code>my dbDriver = com.mysql.jdbc.Driver\n\nmy jar = mysql-connector-java-8.0.12.jar\n\nmy java = 1.8\n\nmy tomcat = Apache Tomcat Version 8.5.32\n\nmy MySql server = MySql ver.8.0.12 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14711392,"reputation":43,"user_id":10624650,"display_name":"Yerbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543484812,"creation_date":1543484812,"answer_id":53536058,"question_id":26515700,"body_markdown":"Agree with @bluecollarcoder answer, but it&#39;s better to use ***`TimeZone.getDefault().getID();`*** at the end of the connection string:\r\n\r\n    &quot;jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=&quot; + TimeZone.getDefault().getID();  \r\n\r\nIn this case `Timezone` parameter automatically updates depending on the local machine timezone.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Agree with @bluecollarcoder answer, but it's better to use <strong><em><code>TimeZone.getDefault().getID();</code></em></strong> at the end of the connection string:</p>\n\n<pre><code>\"jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=\" + TimeZone.getDefault().getID();  \n</code></pre>\n\n<p>In this case <code>Timezone</code> parameter automatically updates depending on the local machine timezone.</p>\n"},{"tags":[],"owner":{"account_id":14842054,"reputation":111,"user_id":10718500,"display_name":"RAdrian"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1543611877,"creation_date":1543601100,"answer_id":53562666,"question_id":26515700,"body_markdown":"I&#39;m using *mysql-connector-java-8.0.13* and had the same problem. \r\nI created my database in the command line console and solved this problem by using *@Dimitry Rud&#39;s* solution on the command line:\r\n\r\n    SET GLOBAL time_zone = &#39;-6:00&#39;;\r\n\r\nI didn&#39;t need to restart anything, set the time and immediately run my code in eclipse, it connected with no problems.\r\n \r\nThe bug is supposed to be fixed in an older version, but I think I got this error because after I created the database in the console, I didn&#39;t set this. I&#39;m not using workbench nor another app to manage this rather than the console.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I'm using <em>mysql-connector-java-8.0.13</em> and had the same problem. \nI created my database in the command line console and solved this problem by using <em>@Dimitry Rud's</em> solution on the command line:</p>\n\n<pre><code>SET GLOBAL time_zone = '-6:00';\n</code></pre>\n\n<p>I didn't need to restart anything, set the time and immediately run my code in eclipse, it connected with no problems.</p>\n\n<p>The bug is supposed to be fixed in an older version, but I think I got this error because after I created the database in the console, I didn't set this. I'm not using workbench nor another app to manage this rather than the console.</p>\n"},{"tags":[],"owner":{"account_id":8082685,"reputation":1042,"user_id":6091258,"display_name":"epol"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1683167377,"creation_date":1547822359,"answer_id":54256150,"question_id":26515700,"body_markdown":"After reading several posts on this topic, testing different configurations and based on some insights from [this mysql bug thread][1] that&#39;s what I have understood:\r\n\r\n - the server time zone is important in particular to convert dates stored in the database to the time zone of the application server. there are other implications but this is the most noticeable one\r\n - GMT x UTC time zone systems. GMT was conceived in the late 19th century and can be shifted between standard time and summer time. this property could lead to a situation where the database server shifts to summer time and the application doesn&#39;t notice it (perhaps there are other complications but I didn&#39;t research further). UTC does not vary over time (it is always within about 1 second of mean solar time at 0&#176; longitude).\r\n - serverTimeZone definition was introduced in mysql jdbc connectors versions 5.1 ahead. until version 8 it could be ignored with `useLegacyDatetimeCode=true` , which in conjunction with `useJDBCCompliantTimezoneShift=true` would make the application get the database time zone on every connection. In this mode GMT time zones such as &#39;British Summer Time&#39; would be converted to the internal java/JDBC format. New time zones could be defined in a .properties file such as [this one][2]\r\n - Starting with jdbc driver version 8, automatic time matching (`useJDBCCompliantTimezoneShift`) and legacy time format (`useLegacyDatetimeCode`) were removed ([see mysql jdbc connector changelog][3]). therefore setting these 2 parameters has no effect as they are completely ignored (new default is `useLegacyDateTimeCode=false`)\r\n - In this manner setting `serverTimezone` became **mandatory** if any of the time zones (application/database servers) are not in the format &#39;UTC+xx&#39; or &#39;GMT+xx&#39;\r\n - There is no impact of setting server time as UTC (for instance with `jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC`, even if your application / database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. In different words, **simply setting serverTimezone=UTC with a different time zone on the database server will shift any dates extracted from the database**\r\n - The MySQL default time zone can be set to UTC+0 with the my.ini or my.cnf files (windows / linux respectively) by adding the line `default-time-zone = &#39;+00:00&#39;` (details in [this StackOverflow post][4])\r\n - Databases configured on AWS (amazon web services) are automatically assigned UTC+0 default time ([see AWS help page here][3])\r\n\r\n\r\n  [1]: https://bugs.mysql.com/bug.php?id=85816\r\n  [2]: https://github.com/meedan/copacabana/blob/master/logstash/mysql-connector-java-5.1.37/src/com/mysql/jdbc/TimeZoneMapping.properties\r\n  [3]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\r\n  [4]: https://stackoverflow.com/questions/19903610/how-to-set-permanent-default-timezone-in-mysql-server/19904846","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>After reading several posts on this topic, testing different configurations and based on some insights from <a href=\"https://bugs.mysql.com/bug.php?id=85816\" rel=\"nofollow noreferrer\">this mysql bug thread</a> that's what I have understood:</p>\n<ul>\n<li>the server time zone is important in particular to convert dates stored in the database to the time zone of the application server. there are other implications but this is the most noticeable one</li>\n<li>GMT x UTC time zone systems. GMT was conceived in the late 19th century and can be shifted between standard time and summer time. this property could lead to a situation where the database server shifts to summer time and the application doesn't notice it (perhaps there are other complications but I didn't research further). UTC does not vary over time (it is always within about 1 second of mean solar time at 0° longitude).</li>\n<li>serverTimeZone definition was introduced in mysql jdbc connectors versions 5.1 ahead. until version 8 it could be ignored with <code>useLegacyDatetimeCode=true</code> , which in conjunction with <code>useJDBCCompliantTimezoneShift=true</code> would make the application get the database time zone on every connection. In this mode GMT time zones such as 'British Summer Time' would be converted to the internal java/JDBC format. New time zones could be defined in a .properties file such as <a href=\"https://github.com/meedan/copacabana/blob/master/logstash/mysql-connector-java-5.1.37/src/com/mysql/jdbc/TimeZoneMapping.properties\" rel=\"nofollow noreferrer\">this one</a></li>\n<li>Starting with jdbc driver version 8, automatic time matching (<code>useJDBCCompliantTimezoneShift</code>) and legacy time format (<code>useLegacyDatetimeCode</code>) were removed (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\" rel=\"nofollow noreferrer\">see mysql jdbc connector changelog</a>). therefore setting these 2 parameters has no effect as they are completely ignored (new default is <code>useLegacyDateTimeCode=false</code>)</li>\n<li>In this manner setting <code>serverTimezone</code> became <strong>mandatory</strong> if any of the time zones (application/database servers) are not in the format 'UTC+xx' or 'GMT+xx'</li>\n<li>There is no impact of setting server time as UTC (for instance with <code>jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC</code>, even if your application / database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. In different words, <strong>simply setting serverTimezone=UTC with a different time zone on the database server will shift any dates extracted from the database</strong></li>\n<li>The MySQL default time zone can be set to UTC+0 with the my.ini or my.cnf files (windows / linux respectively) by adding the line <code>default-time-zone = '+00:00'</code> (details in <a href=\"https://stackoverflow.com/questions/19903610/how-to-set-permanent-default-timezone-in-mysql-server/19904846\">this StackOverflow post</a>)</li>\n<li>Databases configured on AWS (amazon web services) are automatically assigned UTC+0 default time (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\" rel=\"nofollow noreferrer\">see AWS help page here</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15208517,"reputation":151,"user_id":10974101,"display_name":"Ingvar"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1548591295,"creation_date":1548577183,"answer_id":54386284,"question_id":26515700,"body_markdown":"Everything that we need to fix the problem with `serverTimezone`:\r\n\r\n    String url = &quot;jdbc:mysql://localhost:3306/db?serverTimezone=&quot; + TimeZone.getDefault().getID()","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Everything that we need to fix the problem with <code>serverTimezone</code>:</p>\n\n<pre><code>String url = \"jdbc:mysql://localhost:3306/db?serverTimezone=\" + TimeZone.getDefault().getID()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14538276,"reputation":81,"user_id":10500869,"display_name":"toof06"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553788111,"creation_date":1553788111,"answer_id":55401802,"question_id":26515700,"body_markdown":"From mysql workbench run the following sql statements:\r\n\r\n 1. SET @@global.time_zone = &#39;+00:00&#39;;\r\n 2. SET @@session.time_zone = &#39;+00:00&#39;;\r\n\r\nwith the following sql statements check if the values were set:\r\n\r\nSELECT @@global.time_zone, @@session.time_zone;","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>From mysql workbench run the following sql statements:</p>\n\n<ol>\n<li>SET @@global.time_zone = '+00:00';</li>\n<li>SET @@session.time_zone = '+00:00';</li>\n</ol>\n\n<p>with the following sql statements check if the values were set:</p>\n\n<p>SELECT @@global.time_zone, @@session.time_zone;</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1575983198,"creation_date":1555577257,"answer_id":55742365,"question_id":26515700,"body_markdown":"You can use the MySQL connector in the Maven dependency, \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen you need the set the right parameters in the `application.properties` file, \r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/UserReward?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=testuser\r\n    spring.datasource.password=testpassword\r\n    # MySQL driver\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>You can use the MySQL connector in the Maven dependency, </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you need the set the right parameters in the <code>application.properties</code> file, </p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/UserReward?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=testuser\nspring.datasource.password=testpassword\n# MySQL driver\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7919693,"reputation":1311,"user_id":5981077,"display_name":"ColdFire"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1556889973,"creation_date":1556035770,"answer_id":55815322,"question_id":26515700,"body_markdown":"It worked for me just by adding serverTimeZone=UTC on application.properties.  \r\n`spring.datasource.url=jdbc:mysql://localhost/db?serverTimezone=UTC`\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>It worked for me just by adding serverTimeZone=UTC on application.properties.<br>\n<code>spring.datasource.url=jdbc:mysql://localhost/db?serverTimezone=UTC</code></p>\n"},{"tags":[],"owner":{"account_id":1467879,"reputation":71,"user_id":1380233,"display_name":"Anil Gowda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558562003,"creation_date":1557977125,"answer_id":56160360,"question_id":26515700,"body_markdown":"This worked for me.\r\n\r\non DBeaver 6.0 : Go to Connection Settings &gt; Driver Properties &gt; Server Time Zone &gt; Set UTC.\r\n\r\n\r\nAlso, in spring boot config, had to set below property.\r\n\r\njdbc:mysql://localhost:&lt;port&gt;/&lt;db&gt;?serverTimezone=UTC","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>This worked for me.</p>\n\n<p>on DBeaver 6.0 : Go to Connection Settings > Driver Properties > Server Time Zone > Set UTC.</p>\n\n<p>Also, in spring boot config, had to set below property.</p>\n\n<p>jdbc:mysql://localhost:/?serverTimezone=UTC</p>\n"},{"tags":[],"owner":{"account_id":5609802,"reputation":589,"user_id":4442994,"accept_rate":20,"display_name":"Rituraj Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558441237,"creation_date":1558441237,"answer_id":56238174,"question_id":26515700,"body_markdown":"I am late, But If you are struggling through the following error and using datasource(javax.sql.DataSource): \r\n\r\n    The server time zone value &#39;CEST&#39; is unrecognized or represents more than one time zone.\r\n\r\nSet following line to get rid of the error:\r\n\r\n    MysqlDataSource dataSource = new MysqlDataSource();\r\n    dataSource.setServerTimezone(&quot;UTC&quot;);\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I am late, But If you are struggling through the following error and using datasource(javax.sql.DataSource): </p>\n\n<pre><code>The server time zone value 'CEST' is unrecognized or represents more than one time zone.\n</code></pre>\n\n<p>Set following line to get rid of the error:</p>\n\n<pre><code>MysqlDataSource dataSource = new MysqlDataSource();\ndataSource.setServerTimezone(\"UTC\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558447815,"creation_date":1558447815,"answer_id":56240156,"question_id":26515700,"body_markdown":"In my case, it was a test environment and I had to make an existing application to work without any configuration changes, and if possible without any MySQL config changes.\r\nI was able to fix the issue by following @vinnyjames suggestion and **changing server timezone to UTC**:\r\n\r\n```\r\nln -sf /usr/share/zoneinfo/UTC /etc/localtime\r\nservice mysqld restart\r\n```\r\nDoing that was enough for me to solve the issue.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>In my case, it was a test environment and I had to make an existing application to work without any configuration changes, and if possible without any MySQL config changes.\nI was able to fix the issue by following @vinnyjames suggestion and <strong>changing server timezone to UTC</strong>:</p>\n\n<pre><code>ln -sf /usr/share/zoneinfo/UTC /etc/localtime\nservice mysqld restart\n</code></pre>\n\n<p>Doing that was enough for me to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":16061733,"reputation":1,"user_id":11592423,"display_name":"Gerard Indika"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559561273,"creation_date":1559554867,"answer_id":56424716,"question_id":26515700,"body_markdown":"I also got the same running java JDBC in NetBeans. This is how it fixed\r\n\r\nI use Xampp. In conf button of Apache I opened httpd.conf file and on first line I typed \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    # Set timezone to Europe/Athens UTC+02:00 \r\n    SetEnv TZ Europe/Athens.\r\n\r\nIn conf button of MySQL I opened my.ini file and on last line I typed\r\n&quot;Europe/Athens&quot;\r\n\r\nStopped and started both Apache and MySQL\r\n\r\nProblem fixed.\r\n\r\n*(Local mechine time zone is different, but no problem.)","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I also got the same running java JDBC in NetBeans. This is how it fixed</p>\n\n<p>I use Xampp. In conf button of Apache I opened httpd.conf file and on first line I typed </p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Set timezone to Europe/Athens UTC+02:00 \nSetEnv TZ Europe/Athens.\n</code></pre>\n\n<p>In conf button of MySQL I opened my.ini file and on last line I typed\n\"Europe/Athens\"</p>\n\n<p>Stopped and started both Apache and MySQL</p>\n\n<p>Problem fixed.</p>\n\n<p>*(Local mechine time zone is different, but no problem.)</p>\n"},{"tags":[],"owner":{"account_id":13739229,"reputation":41,"user_id":9914792,"display_name":"Berkay Ernalbant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561468843,"creation_date":1561468453,"answer_id":56754956,"question_id":26515700,"body_markdown":"I had the same problem when I try to work with spring boot project on windows. \r\n\r\nDatasource url should be:\r\n\r\n```spring.datasource.url=jdbc:mysql://localhost/database?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC```\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I had the same problem when I try to work with spring boot project on windows. </p>\n\n<p>Datasource url should be:</p>\n\n<p><code>spring.datasource.url=jdbc:mysql://localhost/database?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</code></p>\n"},{"tags":[],"owner":{"account_id":12178017,"reputation":466,"user_id":8890476,"display_name":"Aathil Ahamed"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1562014551,"creation_date":1562010428,"answer_id":56841621,"question_id":26515700,"body_markdown":"The above program will generate that time zone error.\r\n\r\nAfter your database name you have to add this: `?useTimezone=true&amp;serverTimezone=UTC`. Once you have done your code will work fine.\r\n\r\nBest of luck :)","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The above program will generate that time zone error.</p>\n\n<p>After your database name you have to add this: <code>?useTimezone=true&amp;serverTimezone=UTC</code>. Once you have done your code will work fine.</p>\n\n<p>Best of luck :)</p>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1565919880,"creation_date":1565919880,"answer_id":57518022,"question_id":26515700,"body_markdown":"I executed following on my database side.\r\n\r\n    mysql&gt; SET @@global.time_zone = &#39;+00:00&#39;;\r\n    \r\n    mysql&gt; SET @@session.time_zone = &#39;+00:00&#39;;\r\n    \r\n    mysql&gt; SELECT @@global.time_zone, @@session.time_zone;\r\n    \r\nI am using Server version: 8.0.17 - MySQL Community Server - GPL\r\n\r\nsource: https://community.oracle.com/thread/4144569?start=0&amp;tstart=0","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I executed following on my database side.</p>\n\n<pre><code>mysql&gt; SET @@global.time_zone = '+00:00';\n\nmysql&gt; SET @@session.time_zone = '+00:00';\n\nmysql&gt; SELECT @@global.time_zone, @@session.time_zone;\n</code></pre>\n\n<p>I am using Server version: 8.0.17 - MySQL Community Server - GPL</p>\n\n<p>source: <a href=\"https://community.oracle.com/thread/4144569?start=0&amp;tstart=0\" rel=\"noreferrer\">https://community.oracle.com/thread/4144569?start=0&amp;tstart=0</a></p>\n"},{"tags":[],"owner":{"account_id":16831335,"reputation":41,"user_id":12694565,"display_name":"saurabh asthana"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579196068,"creation_date":1579193473,"answer_id":59774392,"question_id":26515700,"body_markdown":"Run below query to mysql DB to resolve the error\r\n\r\n```\r\nMariaDB [xxx&gt; SET @@global.time_zone = &#39;+00:00&#39;;\r\nQuery OK, 0 rows affected (0.062 sec)\r\n\r\nMariaDB [xxx]&gt; SET @@session.time_zone = &#39;+00:00&#39;;\r\nQuery OK, 0 rows affected (0.000 sec)\r\n\r\nMariaDB [xxx]&gt; SELECT @@global.time_zone, @@session.time_zone;\r\n```","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Run below query to mysql DB to resolve the error</p>\n\n<pre><code>MariaDB [xxx&gt; SET @@global.time_zone = '+00:00';\nQuery OK, 0 rows affected (0.062 sec)\n\nMariaDB [xxx]&gt; SET @@session.time_zone = '+00:00';\nQuery OK, 0 rows affected (0.000 sec)\n\nMariaDB [xxx]&gt; SELECT @@global.time_zone, @@session.time_zone;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14141446,"reputation":326,"user_id":10216101,"display_name":"iifast2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581169044,"creation_date":1581169044,"answer_id":60127304,"question_id":26515700,"body_markdown":"i Got error similar to yours but my The server time zone value is  &#39;Afr. centrale Ouest&#39; \r\nso i did these steps : \r\n\r\n\r\nMyError (on IntelliJ IDEA Community Edition): \r\n```\r\n    InvalidConnectionAttributeException: The server time zone value &#39;Afr. centrale Ouest&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the &#39;serverTimezone&#39; configuration property) to use a more specifc time zone value if you want to u....\r\n```\r\nI faced this issue when I upgraded my mysql server to SQL Server 8.0 (MYSQL80).\r\n\r\nThe simplest solution to this problem is just write the below command in your MYSQL Workbench -\r\n\r\n\r\n      SET GLOBAL time_zone = &#39;+1:00&#39;\r\n\r\n\r\nThe value after the time-zone will be equal to GMT+/- Difference in your timezone. The above example is for North Africa(GMT+1:00) / or for India(GMT+5:30).\r\nIt will solve the issue.\r\n\r\n[Enter the Following code in your Mysql Workbench and execute quesry][1]\r\n\r\n\r\n \r\n[\\[source link for question/problem \\]][2]  \r\n\r\n[\\[source link for answer\\]][3] \r\n\r\n[\\[Solution ScreenShot \\]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qJgH4.png\r\n  [2]: https://stackoverflow.com/questions/26515700/mysql-jdbc-driver-5-1-33-time-zone-issue\r\n  [3]: https://stackoverflow.com/a/54211982/10216101\r\n  [4]: https://i.stack.imgur.com/Dh2Kg.jpg","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>i Got error similar to yours but my The server time zone value is  'Afr. centrale Ouest' \nso i did these steps : </p>\n\n<p>MyError (on IntelliJ IDEA Community Edition): </p>\n\n<pre><code>    InvalidConnectionAttributeException: The server time zone value 'Afr. centrale Ouest' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the 'serverTimezone' configuration property) to use a more specifc time zone value if you want to u....\n</code></pre>\n\n<p>I faced this issue when I upgraded my mysql server to SQL Server 8.0 (MYSQL80).</p>\n\n<p>The simplest solution to this problem is just write the below command in your MYSQL Workbench -</p>\n\n<pre><code>  SET GLOBAL time_zone = '+1:00'\n</code></pre>\n\n<p>The value after the time-zone will be equal to GMT+/- Difference in your timezone. The above example is for North Africa(GMT+1:00) / or for India(GMT+5:30).\nIt will solve the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qJgH4.png\" rel=\"noreferrer\">Enter the Following code in your Mysql Workbench and execute quesry</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/26515700/mysql-jdbc-driver-5-1-33-time-zone-issue\">[source link for question/problem ]</a>  </p>\n\n<p><a href=\"https://stackoverflow.com/a/54211982/10216101\">[source link for answer]</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/Dh2Kg.jpg\" rel=\"noreferrer\">[Solution ScreenShot ]</a></p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1583523544,"creation_date":1583523544,"answer_id":60570557,"question_id":26515700,"body_markdown":"Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the serverTimezone explicitly in the connection string.\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/quartz_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the serverTimezone explicitly in the connection string.</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/quartz_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9706671,"reputation":6388,"user_id":7199922,"accept_rate":62,"display_name":"ttt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587052154,"creation_date":1587052154,"answer_id":61254474,"question_id":26515700,"body_markdown":"I have added the following line to my `/etc/mysql/my.cnf` file:\r\n\r\n    default_time_zone=&#39;+00:00&#39;\r\n\r\nRestarted the MySQL server:\r\n\r\n    systemctl restart mysql\r\n\r\nAnd it works like a charm.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I have added the following line to my <code>/etc/mysql/my.cnf</code> file:</p>\n\n<pre><code>default_time_zone='+00:00'\n</code></pre>\n\n<p>Restarted the MySQL server:</p>\n\n<pre><code>systemctl restart mysql\n</code></pre>\n\n<p>And it works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":17378925,"reputation":11,"user_id":12591594,"display_name":"Mittal "},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1588906979,"creation_date":1588890438,"answer_id":61668814,"question_id":26515700,"body_markdown":"Just modify the connection string with the following code in the application.properties file.\r\n\r\n```\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3301/Db?\r\n   useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=\r\n   false&amp;serverTimezone=UTC\r\n\r\n```\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Just modify the connection string with the following code in the application.properties file.</p>\n\n<pre><code>\nspring.datasource.url=jdbc:mysql://localhost:3301/Db?\n   useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=\n   false&amp;serverTimezone=UTC\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18383644,"reputation":69,"user_id":13391216,"display_name":"Pratham Sarankar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589445936,"creation_date":1589440038,"answer_id":61791286,"question_id":26515700,"body_markdown":"```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/resultout? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;,&quot;root&quot;,&quot;&quot;))\r\n```\r\n\r\nThis is actually the solution to this problem, but don&#39;t just copy and paste it in your program. If you just read the line you will find &#39;resultout&#39;, that&#39;s the name of my database, and you have to write your&#39;s.\r\n\r\nThere are three string components, first one is url, second is username, and third one is password. In above paragraph we cleared, url. The second and third String components as said your username and password you have to change accordingly. \r\n\r\nThanks","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<pre><code>Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/resultout? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\",\"root\",\"\"))\n</code></pre>\n\n<p>This is actually the solution to this problem, but don't just copy and paste it in your program. If you just read the line you will find 'resultout', that's the name of my database, and you have to write your's.</p>\n\n<p>There are three string components, first one is url, second is username, and third one is password. In above paragraph we cleared, url. The second and third String components as said your username and password you have to change accordingly. </p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":18797658,"reputation":131,"user_id":13708754,"display_name":"Hermann N&#39;ZI"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1592037867,"creation_date":1591999903,"answer_id":62353189,"question_id":26515700,"body_markdown":"There is no impact of setting server time as UTC (for instance with `jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC`, even if your application/database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. \r\n\r\nIn other words, simply setting `serverTimezone=UTC` with a different time zone on the database server will shift any dates extracted from the database","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>There is no impact of setting server time as UTC (for instance with <code>jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC</code>, even if your application/database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. </p>\n\n<p>In other words, simply setting <code>serverTimezone=UTC</code> with a different time zone on the database server will shift any dates extracted from the database</p>\n"},{"tags":[],"owner":{"account_id":16965919,"reputation":111,"user_id":12271788,"display_name":"chanaka wickramasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597388483,"creation_date":1597388483,"answer_id":63408019,"question_id":26515700,"body_markdown":"I faced the same error and in my case, I change the **Server Port Number** to **3308** where previously it was 3306. This connect my project to the MySQL database. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere we have to change the connection code also.\r\n\r\n\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    cn=(java.sql.Connection)DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/test2?zeroDateTimeBehavior=convertToNull&quot;,&quot;root&quot;,&quot;&quot;);\r\n\r\nChanging the port number in the connection code is also necessary as `localhost:3308` to resolved the error. \r\n\r\nAlso, the admin properties in my case.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BUu8m.png\r\n  [2]: https://i.stack.imgur.com/L57ko.png","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I faced the same error and in my case, I change the <strong>Server Port Number</strong> to <strong>3308</strong> where previously it was 3306. This connect my project to the MySQL database.</p>\n<p><a href=\"https://i.stack.imgur.com/BUu8m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BUu8m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here we have to change the connection code also.</p>\n<pre><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\ncn=(java.sql.Connection)DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/test2?zeroDateTimeBehavior=convertToNull&quot;,&quot;root&quot;,&quot;&quot;);\n</code></pre>\n<p>Changing the port number in the connection code is also necessary as <code>localhost:3308</code> to resolved the error.</p>\n<p>Also, the admin properties in my case.\n<a href=\"https://i.stack.imgur.com/L57ko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L57ko.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":68659,"reputation":2464,"user_id":200212,"accept_rate":75,"display_name":"alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610224638,"creation_date":1610224638,"answer_id":65647361,"question_id":26515700,"body_markdown":"Setting the time zone by location for a spring boot application inside the `application.properties` file to\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db?serverTimezone=Europe/Berlin\r\n\r\nresolved the problem for the `CET` / `CEST` time zone. The `pom.xml` uses the maven artifact\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Setting the time zone by location for a spring boot application inside the <code>application.properties</code> file to</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/db?serverTimezone=Europe/Berlin\n</code></pre>\n<p>resolved the problem for the <code>CET</code> / <code>CEST</code> time zone. The <code>pom.xml</code> uses the maven artifact</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18404650,"reputation":81,"user_id":13417290,"display_name":"Rossi Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620690906,"creation_date":1620690906,"answer_id":67478909,"question_id":26515700,"body_markdown":"The connection string worked for me this\r\n\r\n`jdbc:mysql://localhost/&lt;yourDbName&gt;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC`\r\n\r\nI am using Gradle my build.gradle file is like this\r\n```\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n    implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.17&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n```","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The connection string worked for me this</p>\n<p><code>jdbc:mysql://localhost/&lt;yourDbName&gt;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</code></p>\n<p>I am using Gradle my build.gradle file is like this</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.17'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8297053,"reputation":727,"user_id":6236959,"display_name":"Shubham Kumar Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642263349,"creation_date":1642263349,"answer_id":70723186,"question_id":26515700,"body_markdown":"my.ini\r\n\r\nAt the end add this line:\r\n\r\n    default-time-zone = &#39;+05:30&#39;\r\n\r\nfrom the terminal run this command\r\n\r\n    &gt;&gt; sudo mysql -e &quot;SET GLOBAL time_zone = ‘+5:30’;&quot; -u root\r\n    &gt;&gt; sudo mysql -e &quot;SELECT @@global.time_zone;&quot; -u root\r\n\r\nIf both of them do not work try using this request from sqoop using terminal\r\n\r\n    &gt;&gt; sqoop list-databases --connect &quot;jdbc:mysql://localhost/employees?serverTimezone=UTC&quot; --username sqoop -P\r\n\r\nOr you can just replace your request URL with this\r\n\r\n    jdbc:mysql://localhost/employees?serverTimezone=UTC\r\n\r\n\r\n   ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>my.ini</p>\n<p>At the end add this line:</p>\n<pre><code>default-time-zone = '+05:30'\n</code></pre>\n<p>from the terminal run this command</p>\n<pre><code>&gt;&gt; sudo mysql -e &quot;SET GLOBAL time_zone = ‘+5:30’;&quot; -u root\n&gt;&gt; sudo mysql -e &quot;SELECT @@global.time_zone;&quot; -u root\n</code></pre>\n<p>If both of them do not work try using this request from sqoop using terminal</p>\n<pre><code>&gt;&gt; sqoop list-databases --connect &quot;jdbc:mysql://localhost/employees?serverTimezone=UTC&quot; --username sqoop -P\n</code></pre>\n<p>Or you can just replace your request URL with this</p>\n<pre><code>jdbc:mysql://localhost/employees?serverTimezone=UTC\n</code></pre>\n"}],"owner":{"account_id":1691486,"reputation":14379,"user_id":1553725,"display_name":"bluecollarcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744738,"favorite_count":0,"down_vote_count":0,"up_vote_count":469,"accepted_answer_id":27276523,"answer_count":35,"score":469,"last_activity_date":1683167377,"creation_date":1414006655,"question_id":26515700,"body_markdown":"Some background:\r\n\r\nI have a Java 1.6 webapp running on Tomcat 7. The database is MySQL 5.5. Previously, I was using Mysql JDBC driver 5.1.23 to connect to the DB. Everything worked. I recently upgraded to Mysql JDBC driver 5.1.33. After the upgrade, Tomcat would throw this error when starting the app.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    WARNING: Unexpected exception resolving reference\r\n    java.sql.SQLException: The server timezone value &#39;UTC&#39; is unrecognized or represents\r\n      more than one timezone. You must configure either the server or JDBC driver (via\r\n      the serverTimezone configuration property) to use a more specifc timezone value if\r\n      you want to utilize timezone support.\r\n\r\nWhy is this happening?","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Some background:</p>\n<p>I have a Java 1.6 webapp running on Tomcat 7. The database is MySQL 5.5. Previously, I was using Mysql JDBC driver 5.1.23 to connect to the DB. Everything worked. I recently upgraded to Mysql JDBC driver 5.1.33. After the upgrade, Tomcat would throw this error when starting the app.</p>\n<pre class=\"lang-none prettyprint-override\"><code>WARNING: Unexpected exception resolving reference\njava.sql.SQLException: The server timezone value 'UTC' is unrecognized or represents\n  more than one timezone. You must configure either the server or JDBC driver (via\n  the serverTimezone configuration property) to use a more specifc timezone value if\n  you want to utilize timezone support.\n</code></pre>\n<p>Why is this happening?</p>\n"},{"tags":["java","class","classloader"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683166830,"post_id":76169153,"comment_id":134326077,"body_markdown":"You already know `-verbose:class`, so how about running `getUser` and see if `Car` gets loaded yourself? Also, why does this matter to you?","body":"You already know <code>-verbose:class</code>, so how about running <code>getUser</code> and see if <code>Car</code> gets loaded yourself? Also, why does this matter to you?"},{"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"score":0,"creation_date":1683182197,"post_id":76169153,"comment_id":134327736,"body_markdown":"@Sweeper just curious why  `Car` is loaded in runtime instead of starting time,  Is it a good reason to post this question？","body":"@Sweeper just curious why  <code>Car</code> is loaded in runtime instead of starting time,  Is it a good reason to post this question？"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683182334,"post_id":76169153,"comment_id":134327773,"body_markdown":"&quot;Why&quot; is an unclear question - it is unclear what kind of answer will satisfy you. Is a quote from the language/JVM specification satisfy you? i.e. &quot;because the spec says so&quot;.","body":"&quot;Why&quot; is an unclear question - it is unclear what kind of answer will satisfy you. Is a quote from the language/JVM specification satisfy you? i.e. &quot;because the spec says so&quot;."},{"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"score":0,"creation_date":1683185432,"post_id":76169153,"comment_id":134328345,"body_markdown":"@Sweeper can you show me the quote in specification? thanks","body":"@Sweeper can you show me the quote in specification? thanks"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683185968,"post_id":76169153,"comment_id":134328454,"body_markdown":"Oops, I got confused class loading with class initialisation, which the spec leaves more room for implementation details. Anyway, see [this answer](https://stackoverflow.com/a/34263422/5133585).","body":"Oops, I got confused class loading with class initialisation, which the spec leaves more room for implementation details. Anyway, see <a href=\"https://stackoverflow.com/a/34263422/5133585\">this answer</a>."}],"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683166718,"creation_date":1683166718,"question_id":76169153,"body_markdown":"here is the sample code:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1/user&quot;)\r\npublic class JsonSampleController {\r\n\r\n    @GetMapping\r\n    public User getUser() {\r\n        Vehicle vehicle = new Car();\r\n        return new User(&quot;y&quot;, 4);\r\n    }\r\n}\r\n```\r\nafter the application is started, only ``Vehicle`` is loaded into JVM(result of -verbose:class), does `Car` will be loaded at runtime?","title":"declare a variable with interface type and initialize with concrete type, when will the concrete class will be loaded","body":"<p>here is the sample code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/user&quot;)\npublic class JsonSampleController {\n\n    @GetMapping\n    public User getUser() {\n        Vehicle vehicle = new Car();\n        return new User(&quot;y&quot;, 4);\n    }\n}\n</code></pre>\n<p>after the application is started, only <code>Vehicle</code> is loaded into JVM(result of -verbose:class), does <code>Car</code> will be loaded at runtime?</p>\n"},{"tags":["java","windows-7","unc"],"answers":[{"tags":[],"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1369221345,"creation_date":1369220993,"answer_id":16690227,"question_id":16690037,"body_markdown":"Firstly, &quot;Libraries&quot; is not an actual file-system location. Libraries point to file-system locations. If you right-click on a library in win7 and view its properties, you&#39;ll see the actual file-system location(s) it points to. By default, the Documents library points to \r\n`C:\\Users\\{userName}\\Documents`. In any case, you can access the current user&#39;s home directory by using: \r\n      \r\n    System.getProperty(&quot;user.home&quot;)\r\n\r\nSo, to access the documents folder: \r\n\r\n    File documentsFolder = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Documents&quot;);   \r\n","title":"Writing to Windows 7 library with Java application","body":"<p>Firstly, \"Libraries\" is not an actual file-system location. Libraries point to file-system locations. If you right-click on a library in win7 and view its properties, you'll see the actual file-system location(s) it points to. By default, the Documents library points to \n<code>C:\\Users\\{userName}\\Documents</code>. In any case, you can access the current user's home directory by using: </p>\n\n<pre><code>System.getProperty(\"user.home\")\n</code></pre>\n\n<p>So, to access the documents folder: </p>\n\n<pre><code>File documentsFolder = new File(System.getProperty(\"user.home\") + \"\\\\Documents\");   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166671,"creation_date":1369222185,"answer_id":16690610,"question_id":16690037,"body_markdown":"You can use JNA :\r\n\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.Shell32;\r\n    import com.sun.jna.platform.win32.ShlObj;\r\n    import com.sun.jna.platform.win32.WinDef;\r\n    \r\n    ...\r\n    \r\n        char[] pszPath = new char[WinDef.MAX_PATH];\r\n        Shell32.INSTANCE.SHGetFolderPath(null,\r\n          ShlObj.CSIDL_MYDOCUMENTS, null, ShlObj.SHGFP_TYPE_CURRENT,\r\n          pszPath);\r\n        System.out.println(Native.toString(pszPath));\r\n\r\n\r\n\r\n\r\nAs an alternative, you can use a method provided by the JFileChooser class. \r\n\r\n    import javax.swing.JFileChooser;\r\n    javax.swing.filechooser.FileSystemView;\r\n    \r\n    public class GetMyDocuments {\r\n      public static void main(String args[]) {\r\n         JFileChooser fr = new JFileChooser();\r\n         FileSystemView fw = fr.getFileSystemView();\r\n         System.out.println(fw.getDefaultDirectory());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html","title":"Writing to Windows 7 library with Java application","body":"<p>You can use JNA :</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.platform.win32.Shell32;\nimport com.sun.jna.platform.win32.ShlObj;\nimport com.sun.jna.platform.win32.WinDef;\n\n...\n\n    char[] pszPath = new char[WinDef.MAX_PATH];\n    Shell32.INSTANCE.SHGetFolderPath(null,\n      ShlObj.CSIDL_MYDOCUMENTS, null, ShlObj.SHGFP_TYPE_CURRENT,\n      pszPath);\n    System.out.println(Native.toString(pszPath));\n</code></pre>\n<p>As an alternative, you can use a method provided by the JFileChooser class.</p>\n<pre><code>import javax.swing.JFileChooser;\njavax.swing.filechooser.FileSystemView;\n\npublic class GetMyDocuments {\n  public static void main(String args[]) {\n     JFileChooser fr = new JFileChooser();\n     FileSystemView fw = fr.getFileSystemView();\n     System.out.println(fw.getDefaultDirectory());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2348172,"reputation":431,"user_id":2183504,"accept_rate":62,"display_name":"user42179"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16690227,"answer_count":2,"score":2,"last_activity_date":1683166671,"creation_date":1369220391,"question_id":16690037,"body_markdown":"In the company, we&#39;ve got several global Java applications used by our employees. Some of them allow the users to create reports, which are always saved in their home directory. The home directories are network drives and are assigned the drive letter `U:/` when a user logs himself in on his computer. So, in the applications, the path to the report destination directory is simply a hard coded `U:\\Reports`.\r\n\r\nHowever, we will soon migrate from Windows XP to Windows 7 and use a different structure: The users will get new home directories on other servers, which will be accessible in the Documents Library in the Windows 7 Explorer. There wont be any drive letters anymore. \r\n\r\nSo the new path for the report directory is supposed to be `Libraries\\Documents\\My Documents\\Reports`. But how would I be able to access this path in Java? How can I find the actual, absolute UNC path (if this is even necessary)?\r\n\r\nI can&#39;t just use `\\\\theserver\\users\\username`, since we&#39;ve got multiple servers (one for every continent). I have to use the folder in the Windows 7 Document library.","title":"Writing to Windows 7 library with Java application","body":"<p>In the company, we've got several global Java applications used by our employees. Some of them allow the users to create reports, which are always saved in their home directory. The home directories are network drives and are assigned the drive letter <code>U:/</code> when a user logs himself in on his computer. So, in the applications, the path to the report destination directory is simply a hard coded <code>U:\\Reports</code>.</p>\n\n<p>However, we will soon migrate from Windows XP to Windows 7 and use a different structure: The users will get new home directories on other servers, which will be accessible in the Documents Library in the Windows 7 Explorer. There wont be any drive letters anymore. </p>\n\n<p>So the new path for the report directory is supposed to be <code>Libraries\\Documents\\My Documents\\Reports</code>. But how would I be able to access this path in Java? How can I find the actual, absolute UNC path (if this is even necessary)?</p>\n\n<p>I can't just use <code>\\\\theserver\\users\\username</code>, since we've got multiple servers (one for every continent). I have to use the folder in the Windows 7 Document library.</p>\n"},{"tags":["java","multithreading","performance","oracle"],"comments":[{"owner":{"account_id":36618,"reputation":9065,"user_id":104480,"accept_rate":80,"display_name":"ebo"},"score":0,"creation_date":1291292109,"post_id":4334830,"comment_id":4711843,"body_markdown":"Please include the algorithm and queries your are currently using.","body":"Please include the algorithm and queries your are currently using."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1291292589,"creation_date":1291292194,"answer_id":4334868,"question_id":4334830,"body_markdown":"You can retrieve the Items, a joined query to obtain the Audit and another to obtain the Comments.\r\n\r\nA way to speed up the query results is to return the select line as a single concatenated string and split the line yourself.  This used to speed up retrieval by a factor of 2-3.  Newer versions of Oracle may be smarter in this regard and have less overhead.\r\n\r\n\r\nHowever the volume of data you have this is likely to take a while to get from Oracle in any case.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>You can retrieve the Items, a joined query to obtain the Audit and another to obtain the Comments.</p>\n\n<p>A way to speed up the query results is to return the select line as a single concatenated string and split the line yourself.  This used to speed up retrieval by a factor of 2-3.  Newer versions of Oracle may be smarter in this regard and have less overhead.</p>\n\n<p>However the volume of data you have this is likely to take a while to get from Oracle in any case.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291292365,"creation_date":1291292365,"answer_id":4334893,"question_id":4334830,"body_markdown":"Read this resource: http://www.w3schools.com/Sql/sql_join.asp and use join.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>Read this resource: <a href=\"http://www.w3schools.com/Sql/sql_join.asp\" rel=\"nofollow\">http://www.w3schools.com/Sql/sql_join.asp</a> and use join.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291292499,"creation_date":1291292499,"answer_id":4334912,"question_id":4334830,"body_markdown":"It is unclear what you are doing, and what your real problem is from the limited information you have provided.\r\n\r\n- If you are doing a million individual (small) queries, you should consider restructuring your application so that it combines them in batches, or does a SELECT over the entire table.\r\n\r\n- If the problem is fetching a million rows in a single query, then consider using a more complicated query, or a stored query, or something to do some data reduction on the database side.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>It is unclear what you are doing, and what your real problem is from the limited information you have provided.</p>\n\n<ul>\n<li><p>If you are doing a million individual (small) queries, you should consider restructuring your application so that it combines them in batches, or does a SELECT over the entire table.</p></li>\n<li><p>If the problem is fetching a million rows in a single query, then consider using a more complicated query, or a stored query, or something to do some data reduction on the database side.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":178681,"reputation":2681,"user_id":410826,"accept_rate":44,"display_name":"winkbrace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291303560,"creation_date":1291303560,"answer_id":4336591,"question_id":4334830,"body_markdown":"Probably best to combine a UNION with a JOIN to fetch all data the best way.\r\nThe query might look something like this:\r\n\r\n    select itm.itemid\r\n    ,      tmp.what || &#39; &#39; || tmp.entry || &#39; for Item &#39; || tmp.itemid line\r\n    from   items itm\r\n    join\r\n    (\r\n        select itemid\r\n        ,      entry \r\n        ,      &#39;Audit&#39; what\r\n        from   audits\r\n        union all\r\n        select itemid\r\n        ,      entry \r\n        ,      &#39;Comment&#39; what\r\n        from   comments\r\n    ) tmp on itm.itemid = tmp.itemid","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>Probably best to combine a UNION with a JOIN to fetch all data the best way.\nThe query might look something like this:</p>\n\n<pre><code>select itm.itemid\n,      tmp.what || ' ' || tmp.entry || ' for Item ' || tmp.itemid line\nfrom   items itm\njoin\n(\n    select itemid\n    ,      entry \n    ,      'Audit' what\n    from   audits\n    union all\n    select itemid\n    ,      entry \n    ,      'Comment' what\n    from   comments\n) tmp on itm.itemid = tmp.itemid\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12926,"reputation":35063,"user_id":25714,"display_name":"Gary Myers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291332727,"creation_date":1291332727,"answer_id":4341108,"question_id":4334830,"body_markdown":"My thought is run three queries (one to return all the items, one for all the comments and one for all the audit entries) each one sorted by item id\r\n\r\n    SELECT * FROM\r\n      (SELECT itemid, 1 type, null seq, item_line line\r\n       from items\r\n       union all\r\n       select itemid, 2, audit_seq, audit_line\r\n       from audit\r\n       union all\r\n       select itemid, 3, comment_seq comment_line \r\n       from comments)\r\n    order by itemid, type, seq\r\n\r\nIt means putting all the logic to build the line entries into the database but it will probably run a lot faster than the java code.\r\n  \r\n\r\n\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>My thought is run three queries (one to return all the items, one for all the comments and one for all the audit entries) each one sorted by item id</p>\n\n<pre><code>SELECT * FROM\n  (SELECT itemid, 1 type, null seq, item_line line\n   from items\n   union all\n   select itemid, 2, audit_seq, audit_line\n   from audit\n   union all\n   select itemid, 3, comment_seq comment_line \n   from comments)\norder by itemid, type, seq\n</code></pre>\n\n<p>It means putting all the logic to build the line entries into the database but it will probably run a lot faster than the java code.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166649,"creation_date":1291345385,"answer_id":4342086,"question_id":4334830,"body_markdown":"After you manage your UNION/JOIN as BazzPsychoNut said, it may be helpful to adjust the FetchSize value to greater value if the ResultSet is big. The default value for Oracle is 10.\r\n\r\n    Statement stmt = conn.createStatement();\r\n    stmt.setFetchSize(200);\r\n    ResultSet rset = stmt.executeQuery(sql);\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0659.html","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>After you manage your UNION/JOIN as BazzPsychoNut said, it may be helpful to adjust the FetchSize value to greater value if the ResultSet is big. The default value for Oracle is 10.</p>\n<pre><code>Statement stmt = conn.createStatement();\nstmt.setFetchSize(200);\nResultSet rset = stmt.executeQuery(sql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45742,"reputation":2817,"user_id":134967,"accept_rate":69,"display_name":"jva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1291369774,"creation_date":1291369154,"answer_id":4344203,"question_id":4334830,"body_markdown":"You can write a stored procedure that would output the file with utl_file package and just call that from java. That way you can just use something like\r\n\r\n    f := utl_file.fopen(&#39;my_dir&#39;,&#39;my_file&#39;,&#39;w&#39;);\r\n    FOR r_items IN (SELECT * FROM items) LOOP\r\n      utl_file.put_line(f,r_items.name);\r\n      \r\n      FOR r_audit IN (SELECT * FROM audit WHERE item_id = r_items.id) LOOP\r\n        utl_file.put_line(f,r_audit.some_field);\r\n      END LOOP;\r\n\r\n      FOR r_comments IN (SELECT * FROM comments WHERE item_id = r_items.id) LOOP\r\n        utl_file.put_line(f,r_comments.some_field);\r\n      END LOOP;\r\n    END LOOP;\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>You can write a stored procedure that would output the file with utl_file package and just call that from java. That way you can just use something like</p>\n\n<pre><code>f := utl_file.fopen('my_dir','my_file','w');\nFOR r_items IN (SELECT * FROM items) LOOP\n  utl_file.put_line(f,r_items.name);\n\n  FOR r_audit IN (SELECT * FROM audit WHERE item_id = r_items.id) LOOP\n    utl_file.put_line(f,r_audit.some_field);\n  END LOOP;\n\n  FOR r_comments IN (SELECT * FROM comments WHERE item_id = r_items.id) LOOP\n    utl_file.put_line(f,r_comments.some_field);\n  END LOOP;\nEND LOOP;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216784,"reputation":12653,"user_id":472226,"accept_rate":73,"display_name":"Ronnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291483715,"creation_date":1291483715,"answer_id":4354812,"question_id":4334830,"body_markdown":"If your system (hardware, configuration etc) is sized to handle the amount of data you put in it, the best, fastest and simplest way is to simply join the tables in one query, fetch the rows (see other comments about fetch_size) and then dump it in whatever format you want.\r\n\r\nJudging from the example output format, you need to process the rows in sorted order (item, audit, comments). You would iterate over the rows and keeping track of the last item processed, and whenever the current ITEM_ID is different from the previous you output the item data.\r\n\r\nThe single most important aspect for you to consider when you decide on how to implement this, is whether the join and sort fits in memory or not. If the sort/join spills to disk, you will have to work around that in order to achieve the desired performance. Some examples on how to avoid the disk spill:\r\n\r\nHash partition the tables (or a copy of them) on the ITEM_ID. You may then join the tables partitionwise so that each join fits inside memory.\r\n\r\nOr you could fetch all data from all tables, and in your java code, put the items in a linked list, and the audits/comments in some hash-based structure keyed by item_no. You&#39;d then iterate over the items and query audit/comments by the item_id. This solution avoids a sort operation, and doesn&#39;t need to fit the joined result in memory.\r\n\r\nOr you can implement some do-it-yourself partitioning. For example, query the data 9 times. In the first query you fetch only items with ITEM_ID starting or ending with 1. Second query fetcehs all items starting/ending with 2 etcetera. This solution results in 9 table scans on all tables, which is clearly not very efficient. But if you can avoid the spill to disk, it may actually be faster.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>If your system (hardware, configuration etc) is sized to handle the amount of data you put in it, the best, fastest and simplest way is to simply join the tables in one query, fetch the rows (see other comments about fetch_size) and then dump it in whatever format you want.</p>\n\n<p>Judging from the example output format, you need to process the rows in sorted order (item, audit, comments). You would iterate over the rows and keeping track of the last item processed, and whenever the current ITEM_ID is different from the previous you output the item data.</p>\n\n<p>The single most important aspect for you to consider when you decide on how to implement this, is whether the join and sort fits in memory or not. If the sort/join spills to disk, you will have to work around that in order to achieve the desired performance. Some examples on how to avoid the disk spill:</p>\n\n<p>Hash partition the tables (or a copy of them) on the ITEM_ID. You may then join the tables partitionwise so that each join fits inside memory.</p>\n\n<p>Or you could fetch all data from all tables, and in your java code, put the items in a linked list, and the audits/comments in some hash-based structure keyed by item_no. You'd then iterate over the items and query audit/comments by the item_id. This solution avoids a sort operation, and doesn't need to fit the joined result in memory.</p>\n\n<p>Or you can implement some do-it-yourself partitioning. For example, query the data 9 times. In the first query you fetch only items with ITEM_ID starting or ending with 1. Second query fetcehs all items starting/ending with 2 etcetera. This solution results in 9 table scans on all tables, which is clearly not very efficient. But if you can avoid the spill to disk, it may actually be faster.</p>\n"}],"owner":{"account_id":63693,"reputation":617,"user_id":188415,"display_name":"JSixface"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4344203,"answer_count":8,"score":1,"last_activity_date":1683166649,"creation_date":1291291916,"question_id":4334830,"body_markdown":"I have 3 database tables - Items, Audits and Comments. I have to fetch a large amount of data from _Items_ table, say 1 million records, and for each item fetched, I have to retrive the data from _Audits_ and _Comments_ and write the report to a delimited file. So the output may look like ,\r\n\r\n    Item entry 1\r\n        Audit entry 1 for Item 1\r\n        Audit entry 2 for Item 1\r\n        Audit entry 3 for Item 1\r\n        Comment entry 1 for Item 1\r\n        Comment entry 2 for Item 1\r\n    Item entry 2 \r\n        Audit entry 1 for Item 2\r\n        .\r\n        .\r\n        .\r\nNow this is taking so much time, because the program is querying the oracle 1 million times for every _item_. I would like to increase the performance thru threads but i&#39;m not familiar with the threads. So could someone help me with the performance increase ?\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>I have 3 database tables - Items, Audits and Comments. I have to fetch a large amount of data from <em>Items</em> table, say 1 million records, and for each item fetched, I have to retrive the data from <em>Audits</em> and <em>Comments</em> and write the report to a delimited file. So the output may look like ,</p>\n\n<pre><code>Item entry 1\n    Audit entry 1 for Item 1\n    Audit entry 2 for Item 1\n    Audit entry 3 for Item 1\n    Comment entry 1 for Item 1\n    Comment entry 2 for Item 1\nItem entry 2 \n    Audit entry 1 for Item 2\n    .\n    .\n    .\n</code></pre>\n\n<p>Now this is taking so much time, because the program is querying the oracle 1 million times for every <em>item</em>. I would like to increase the performance thru threads but i'm not familiar with the threads. So could someone help me with the performance increase ?</p>\n"},{"tags":["java","jsp","jboss","recompile"],"answers":[{"tags":[],"owner":{"account_id":35647,"reputation":2298,"user_id":101031,"accept_rate":100,"display_name":"Mr. Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244150299,"creation_date":1244150299,"answer_id":953165,"question_id":952309,"body_markdown":"I don&#39;t know of a setting, but deleting the generated Java class file in the work directory of your JBoss instance will cause the JSP to be recompiled the next time it is called.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>I don't know of a setting, but deleting the generated Java class file in the work directory of your JBoss instance will cause the JSP to be recompiled the next time it is called.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244387274,"creation_date":1244387274,"answer_id":962057,"question_id":952309,"body_markdown":"You coudl alter the JBoss startup scripts to explicitly delete the &quot;tmp&quot; and/or &quot;work&quot; directories, where the compiled JSPs are stored. JBoss would then have no choice but to recompile them all. \r\n\r\nNot subtle, but it would do the job.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>You coudl alter the JBoss startup scripts to explicitly delete the \"tmp\" and/or \"work\" directories, where the compiled JSPs are stored. JBoss would then have no choice but to recompile them all. </p>\n\n<p>Not subtle, but it would do the job.</p>\n"},{"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244536288,"creation_date":1244536288,"answer_id":968859,"question_id":952309,"body_markdown":"One option for you would be to precompile all of your jsp&#39;s at build time. This would quickly flag any compilation errors.\r\n\r\nYou could also do this in production - speeding up first access but I get the feeling you want this more for a QA step than anything else. If so, you could add the precompile step to the your testing phase in your build tool of choice - and so to your CI environment. This would provide assurance that jsp&#39;s that don&#39;t compile won&#39;t make it out of test. \r\n\r\nSee this for details on running a precompile task:\r\n\r\n[Jboss Jasper configuration][1]\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: http://www.jboss.org/file-access/default/members/jbossweb/freezone/docs/latest/jasper-howto.html","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>One option for you would be to precompile all of your jsp's at build time. This would quickly flag any compilation errors.</p>\n\n<p>You could also do this in production - speeding up first access but I get the feeling you want this more for a QA step than anything else. If so, you could add the precompile step to the your testing phase in your build tool of choice - and so to your CI environment. This would provide assurance that jsp's that don't compile won't make it out of test. </p>\n\n<p>See this for details on running a precompile task:</p>\n\n<p><a href=\"http://www.jboss.org/file-access/default/members/jbossweb/freezone/docs/latest/jasper-howto.html\" rel=\"nofollow noreferrer\">Jboss Jasper configuration</a></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166572,"creation_date":1244633625,"answer_id":975055,"question_id":952309,"body_markdown":"Some JSP containers (as per section 8.4.2 of the JSP 1.2 specification) support the capability of precompiling a JSP page.\r\n\r\nTo precompile a JSP page, access the page with a query string of ?jsp_precompile\r\n\r\n    http://hostname.com/mywebapp/mypage.jsp?jsp_precompile\r\n\r\nThe JSP page will not be executed. If the container supports precompilation, the JSP page will be compiled if necessary. \r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0414.html","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>Some JSP containers (as per section 8.4.2 of the JSP 1.2 specification) support the capability of precompiling a JSP page.</p>\n<p>To precompile a JSP page, access the page with a query string of ?jsp_precompile</p>\n<pre><code>http://hostname.com/mywebapp/mypage.jsp?jsp_precompile\n</code></pre>\n<p>The JSP page will not be executed. If the container supports precompilation, the JSP page will be compiled if necessary.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85917,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1300719265,"creation_date":1244770079,"answer_id":984618,"question_id":952309,"body_markdown":"If the JSPs are part of a WAR that is part of an EAR that is being deployed as a jar, then I&#39;m not clear why your JSPs are not being recompiled.  Don&#39;t the JSPs in the war file have newer timestamps than their JBoss-compiled class files from the last deploy?  If not, couldn&#39;t you touch the JSPs as part of building the WAR/EAR before deploying.  [I&#39;m referring to using the Unix &quot;touch&quot; command, not manually touching each JSP file.]\r\n\r\nAlternatively, the DeleteWorkDirOnContextDestroy setting in $JBOSS/server/default/deploy/jboss-web.deployer/META-INF/jboss-service.xml may be what you are looking for.  It is false by default, but setting it to true may be what you need.  I think this should delete the JSPs&#39; class files on redeploy so that they get recreated upon first access of each JSP.\r\n\r\nSee [https://jira.jboss.org/jira/browse/JBAS-3358][1] for more info.\r\n\r\n  [1]: https://jira.jboss.org/jira/browse/JBAS-3358","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>If the JSPs are part of a WAR that is part of an EAR that is being deployed as a jar, then I'm not clear why your JSPs are not being recompiled.  Don't the JSPs in the war file have newer timestamps than their JBoss-compiled class files from the last deploy?  If not, couldn't you touch the JSPs as part of building the WAR/EAR before deploying.  [I'm referring to using the Unix \"touch\" command, not manually touching each JSP file.]</p>\n\n<p>Alternatively, the DeleteWorkDirOnContextDestroy setting in $JBOSS/server/default/deploy/jboss-web.deployer/META-INF/jboss-service.xml may be what you are looking for.  It is false by default, but setting it to true may be what you need.  I think this should delete the JSPs' class files on redeploy so that they get recreated upon first access of each JSP.</p>\n\n<p>See <a href=\"https://jira.jboss.org/jira/browse/JBAS-3358\" rel=\"noreferrer\">https://jira.jboss.org/jira/browse/JBAS-3358</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244819275,"creation_date":1244819275,"answer_id":987164,"question_id":952309,"body_markdown":"Pablojim is on the right track.  You just need some more info to get a complete view of what&#39;s going on.  Here&#39;s how I understand it.\r\n\r\n  In prod, you&#39;ve changed a jsp that requires other jsps to be recompiled.  In order for them to be recompiled one of 2 things must happen\r\n  \r\n1.  The compiled version of the jsp needs to be deleted.\r\n2.  The jsp itself needs to be modified (or even if it&#39;s &quot;touched&quot; - modified date is updated)\r\n\r\nIf you still need to verify that all your jsps work, they will all need to be [precompiled using an ant task][1].  this also allows you to deploy the war file with the precompiled jsps in the war file.  This should solve your problem.\r\n\r\nIf your files are not deployed in a war file, but in an exploded format, you should [seriously consider packaging your web app][2] in a war file for deployment.  This makes it a nice package to deploy between environments.\r\n\r\n\r\n  [1]: http://www.jboss.org/community/wiki/PrecompileJSPs\r\n  [2]: http://www.theserverside.com/discussions/thread.tss?thread_id=32903","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>Pablojim is on the right track.  You just need some more info to get a complete view of what's going on.  Here's how I understand it.</p>\n\n<p>In prod, you've changed a jsp that requires other jsps to be recompiled.  In order for them to be recompiled one of 2 things must happen</p>\n\n<ol>\n<li>The compiled version of the jsp needs to be deleted.</li>\n<li>The jsp itself needs to be modified (or even if it's \"touched\" - modified date is updated)</li>\n</ol>\n\n<p>If you still need to verify that all your jsps work, they will all need to be <a href=\"http://www.jboss.org/community/wiki/PrecompileJSPs\" rel=\"nofollow noreferrer\">precompiled using an ant task</a>.  this also allows you to deploy the war file with the precompiled jsps in the war file.  This should solve your problem.</p>\n\n<p>If your files are not deployed in a war file, but in an exploded format, you should <a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=32903\" rel=\"nofollow noreferrer\">seriously consider packaging your web app</a> in a war file for deployment.  This makes it a nice package to deploy between environments.</p>\n"}],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17049,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":984618,"answer_count":6,"score":7,"last_activity_date":1683166572,"creation_date":1244140387,"question_id":952309,"body_markdown":"I hit on this nasty behavior on JBoss 4.2 in QA, and I want to nip it in the bud before we go into production and find some other corner case.\r\n\r\nA jsp calles a method that had the following signature:\r\n\r\n     public void methodName(String arg)\r\n\r\nThis was changed to:\r\n\r\n     public void methodName(String arg, Object... args)\r\n\r\nA pre-existing JSP called this method via:\r\n\r\n     methodName(&quot;param&quot;);\r\n\r\nOn deployment of the modified code, JBoss did not recompile the JSP and this caused a crash in QA. Adding a silly comment to the jsp fixed the problem (JBoss recognized that the JSP changed and recompiled it).\r\n\r\nIs there a setting on JBoss to force recompilation of JSPs on restart?\r\n\r\nEDIT: To clarify some points in the answer, the setup is that the JSPs are part of a war which is part of an ear. The ear has all classes in it, in a jar.\r\n\r\nRegarding the desire to pre-compile, if the system doesn&#39;t think that the jsp needs compilation, will pre-compile force recompilation? It doesn&#39;t seem so. The error here is not a compliation error, it is a method invocation error because of the &quot;changed&quot; (at the byte code level, not really at the code level) method signature.\r\n\r\nAddendum: Note that we experienced in production recently that even with the accepted answer&#39;s flag set the JSPs did not recompile, even though the JSP did in fact change. Major bug there, but regardless, JBoss was shutdown normally. At this point it is getting to be an old version of JBoss, but if you are still using it, deleting the content of the work and tmp directories is the only way to be sure.\r\n\r\nI&#39;m not changing the accepted answer simply because it really gets to the point of what the question was looking for. JBoss bugs are kind of a separate issue.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>I hit on this nasty behavior on JBoss 4.2 in QA, and I want to nip it in the bud before we go into production and find some other corner case.</p>\n\n<p>A jsp calles a method that had the following signature:</p>\n\n<pre><code> public void methodName(String arg)\n</code></pre>\n\n<p>This was changed to:</p>\n\n<pre><code> public void methodName(String arg, Object... args)\n</code></pre>\n\n<p>A pre-existing JSP called this method via:</p>\n\n<pre><code> methodName(\"param\");\n</code></pre>\n\n<p>On deployment of the modified code, JBoss did not recompile the JSP and this caused a crash in QA. Adding a silly comment to the jsp fixed the problem (JBoss recognized that the JSP changed and recompiled it).</p>\n\n<p>Is there a setting on JBoss to force recompilation of JSPs on restart?</p>\n\n<p>EDIT: To clarify some points in the answer, the setup is that the JSPs are part of a war which is part of an ear. The ear has all classes in it, in a jar.</p>\n\n<p>Regarding the desire to pre-compile, if the system doesn't think that the jsp needs compilation, will pre-compile force recompilation? It doesn't seem so. The error here is not a compliation error, it is a method invocation error because of the \"changed\" (at the byte code level, not really at the code level) method signature.</p>\n\n<p>Addendum: Note that we experienced in production recently that even with the accepted answer's flag set the JSPs did not recompile, even though the JSP did in fact change. Major bug there, but regardless, JBoss was shutdown normally. At this point it is getting to be an old version of JBoss, but if you are still using it, deleting the content of the work and tmp directories is the only way to be sure.</p>\n\n<p>I'm not changing the accepted answer simply because it really gets to the point of what the question was looking for. JBoss bugs are kind of a separate issue.</p>\n"},{"tags":["java","html","email","viewer"],"comments":[{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":0,"creation_date":1281439965,"post_id":3448352,"comment_id":3594434,"body_markdown":"Would .NET components running with mod_mono be OK?","body":"Would .NET components running with mod_mono be OK?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1281509010,"post_id":3448352,"comment_id":3603332,"body_markdown":"@Oded - what do you have in mind?","body":"@Oded - what do you have in mind?"},{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":0,"creation_date":1281511750,"post_id":3448352,"comment_id":3603621,"body_markdown":"There are a number of proprietary .NET libraries/solutions that may be able to run under mono/apache. This is more of a long shot as it will need to be tested. If there is something native, I would go with that.","body":"There are a number of proprietary .NET libraries/solutions that may be able to run under mono/apache. This is more of a long shot as it will need to be tested. If there is something native, I would go with that."},{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":1,"creation_date":1417537333,"post_id":3448352,"comment_id":42982104,"body_markdown":"Did you ever find anything?","body":"Did you ever find anything?"},{"owner":{"account_id":3128733,"reputation":2388,"user_id":2657549,"accept_rate":0,"display_name":"Cl&#233;ment"},"score":0,"creation_date":1509331592,"post_id":3448352,"comment_id":80961560,"body_markdown":"@DavidRabinowitz So... Did you ever find anything?","body":"@DavidRabinowitz So... Did you ever find anything?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1509357533,"post_id":3448352,"comment_id":80971094,"body_markdown":"It&#39;s been a long time since i have needed that, but I haven&#39;t find anything. I guess it&#39;s such a corner use case in practice, so there&#39;s no component for that. Also, the web UI is not trends to JS mostly code(Node, Angular, React, etc.), less Java based sites, so I don&#39;t think there will be one.","body":"It&#39;s been a long time since i have needed that, but I haven&#39;t find anything. I guess it&#39;s such a corner use case in practice, so there&#39;s no component for that. Also, the web UI is not trends to JS mostly code(Node, Angular, React, etc.), less Java based sites, so I don&#39;t think there will be one."}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683166525,"creation_date":1281440075,"answer_id":3448458,"question_id":3448352,"body_markdown":"Javamail can read EML file.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    \r\n    public class ReadEmail {\r\n    \r\n       public static void main(String args[]) throws Exception{\r\n           display(new File(&quot;C:\\\\temp\\\\message.eml&quot;));\r\n    \r\n       }\r\n    \r\n       public static void display(File emlFile) throws Exception{\r\n            Properties props = System.getProperties();\r\n            props.put(&quot;mail.host&quot;, &quot;smtp.dummydomain.com&quot;);\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    \r\n            Session mailSession = Session.getDefaultInstance(props, null);\r\n            InputStream source = new FileInputStream(emlFile);\r\n            MimeMessage message = new MimeMessage(mailSession, source);\r\n    \r\n    \r\n            System.out.println(&quot;Subject : &quot; + message.getSubject());\r\n            System.out.println(&quot;From : &quot; + message.getFrom()[0]);\r\n            System.out.println(&quot;--------------&quot;);\r\n            System.out.println(&quot;Body : &quot; +  message.getContent());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0458.html","title":"Display .eml file in a web appication","body":"<p>Javamail can read EML file.</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\npublic class ReadEmail {\n\n   public static void main(String args[]) throws Exception{\n       display(new File(&quot;C:\\\\temp\\\\message.eml&quot;));\n\n   }\n\n   public static void display(File emlFile) throws Exception{\n        Properties props = System.getProperties();\n        props.put(&quot;mail.host&quot;, &quot;smtp.dummydomain.com&quot;);\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n\n        Session mailSession = Session.getDefaultInstance(props, null);\n        InputStream source = new FileInputStream(emlFile);\n        MimeMessage message = new MimeMessage(mailSession, source);\n\n\n        System.out.println(&quot;Subject : &quot; + message.getSubject());\n        System.out.println(&quot;From : &quot; + message.getFrom()[0]);\n        System.out.println(&quot;--------------&quot;);\n        System.out.println(&quot;Body : &quot; +  message.getContent());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10789355,"reputation":65,"user_id":7937416,"display_name":"sunrelax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554799943,"creation_date":1554799943,"answer_id":55588726,"question_id":3448352,"body_markdown":"You could convert .eml into javax.mail.Messages mailMessage as:\r\n\r\nhttps://stackoverflow.com/questions/2781739/loading-eml-files-into-javax-mail-messages\r\n\r\nthen you could use this library to convert in MessageBean:\r\n\r\nhttp://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html\r\n\r\nMessageBean mb = MessageBeanUtil.mimeToBean(mailMessage);\r\n\r\n","title":"Display .eml file in a web appication","body":"<p>You could convert .eml into javax.mail.Messages mailMessage as:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2781739/loading-eml-files-into-javax-mail-messages\">Loading .eml files into javax.mail.Messages</a></p>\n\n<p>then you could use this library to convert in MessageBean:</p>\n\n<p><a href=\"http://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html\" rel=\"nofollow noreferrer\">http://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html</a></p>\n\n<p>MessageBean mb = MessageBeanUtil.mimeToBean(mailMessage);</p>\n"}],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683166525,"creation_date":1281439283,"question_id":3448352,"body_markdown":"I have a web application where I need to display .eml files (in RFC 822 format) to the users, formatted properly as e-mail - show the HTML to text body properly, show images, attachments and so on. Do you know of a component / library that can do those things? \r\n\r\nI prefer it would be in Java (and to integrate with spring easily :-) ), but any other implementation which runs on Apache is fine as well.","title":"Display .eml file in a web appication","body":"<p>I have a web application where I need to display .eml files (in RFC 822 format) to the users, formatted properly as e-mail - show the HTML to text body properly, show images, attachments and so on. Do you know of a component / library that can do those things? </p>\n\n<p>I prefer it would be in Java (and to integrate with spring easily :-) ), but any other implementation which runs on Apache is fine as well.</p>\n"},{"tags":["java","windows","process","account"],"answers":[{"tags":[],"owner":{"account_id":17260,"reputation":28385,"user_id":38426,"display_name":"BobbyShaftoe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1229070174,"creation_date":1229070174,"answer_id":362203,"question_id":362198,"body_markdown":"There is a program called &quot;runas.exe.&quot; You could run that process and supply the appropriate arguments for your process and username/password. I think that&#39;s the simplest method.","title":"How can I create a new process with another User Account on Windows?","body":"<p>There is a program called \"runas.exe.\" You could run that process and supply the appropriate arguments for your process and username/password. I think that's the simplest method.</p>\n"},{"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1229072042,"creation_date":1229072042,"answer_id":362245,"question_id":362198,"body_markdown":"You need to write a DLL using the [Java Native Interface (JNI)][1] as you cannot do this with pure Java code.\r\n\r\nThe DLL itself needs to call the **[CreateProcessAsUser][2]** function to create a process in the context of another user. To successfully create that process you need to provide an access token to the function, which was itself created by calling the [LogonUser][3] function (it takes the username and password to authentify that other user).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Native_Interface\r\n  [2]: http://msdn.microsoft.com/en-us/library/ms682429(VS.85).aspx\r\n  [3]: http://msdn.microsoft.com/en-us/library/aa378184(VS.85).aspx","title":"How can I create a new process with another User Account on Windows?","body":"<p>You need to write a DLL using the <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"noreferrer\">Java Native Interface (JNI)</a> as you cannot do this with pure Java code.</p>\n\n<p>The DLL itself needs to call the <strong><a href=\"http://msdn.microsoft.com/en-us/library/ms682429(VS.85).aspx\" rel=\"noreferrer\">CreateProcessAsUser</a></strong> function to create a process in the context of another user. To successfully create that process you need to provide an access token to the function, which was itself created by calling the <a href=\"http://msdn.microsoft.com/en-us/library/aa378184(VS.85).aspx\" rel=\"noreferrer\">LogonUser</a> function (it takes the username and password to authentify that other user).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166456,"creation_date":1229809294,"answer_id":383772,"question_id":362198,"body_markdown":"RUNAS has the &quot;/savecred&quot; switch that let you enter the credential only the first time. One potential problem is that when /SaveCred saves the credentials it saves it for whenever RUNAS invokes that user account. This can be a huge security risk so be careful using it!\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0014.html","title":"How can I create a new process with another User Account on Windows?","body":"<p>RUNAS has the &quot;/savecred&quot; switch that let you enter the credential only the first time. One potential problem is that when /SaveCred saves the credentials it saves it for whenever RUNAS invokes that user account. This can be a huge security risk so be careful using it!</p>\n"},{"tags":[],"owner":{"account_id":11345,"reputation":3564,"user_id":21826,"accept_rate":0,"display_name":"user21826"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1230519501,"creation_date":1229813649,"answer_id":383844,"question_id":362198,"body_markdown":"Depending on your needs the Win32 API &quot;[CreateProcessWithLogonW][1]&quot; is easier to use than the &quot;CreateProcessAsUser / LogonUser&quot; functions.\r\n\r\nFrom MSDN Docs:\r\n\r\n&lt;pre&gt;\r\nThe CreateProcessWithLogonW and CreateProcessWithTokenW functions are\r\nsimilar to the CreateProcessAsUser function, except that the caller \r\ndoes not need to call the LogonUser function to authenticate the user \r\nand get a token\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms682431(VS.85).aspx","title":"How can I create a new process with another User Account on Windows?","body":"<p>Depending on your needs the Win32 API \"<a href=\"http://msdn.microsoft.com/en-us/library/ms682431(VS.85).aspx\" rel=\"nofollow noreferrer\">CreateProcessWithLogonW</a>\" is easier to use than the \"CreateProcessAsUser / LogonUser\" functions.</p>\n\n<p>From MSDN Docs:</p>\n\n<pre>\nThe CreateProcessWithLogonW and CreateProcessWithTokenW functions are\nsimilar to the CreateProcessAsUser function, except that the caller \ndoes not need to call the LogonUser function to authenticate the user \nand get a token\n</pre>\n"},{"tags":[],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266815554,"creation_date":1266815554,"answer_id":2308947,"question_id":362198,"body_markdown":"I just ran across an alternative to the runas.exe program called MiniRunAs which will take the password on the command line - http://www.source-code.biz/snippets/c/1.htm\r\n\r\nIf you are able to install it along with your application, that may prove simpler than writing a JNI DLL.","title":"How can I create a new process with another User Account on Windows?","body":"<p>I just ran across an alternative to the runas.exe program called MiniRunAs which will take the password on the command line - <a href=\"http://www.source-code.biz/snippets/c/1.htm\" rel=\"nofollow noreferrer\">http://www.source-code.biz/snippets/c/1.htm</a></p>\n\n<p>If you are able to install it along with your application, that may prove simpler than writing a JNI DLL.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5953,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":362245,"answer_count":5,"score":11,"last_activity_date":1683166456,"creation_date":1229070008,"question_id":362198,"body_markdown":"Is it possible to create a new process on windows with a different user account? I know there are a context menu &quot;Run as&quot; but I want do it from Java. I have the username and the password.","title":"How can I create a new process with another User Account on Windows?","body":"<p>Is it possible to create a new process on windows with a different user account? I know there are a context menu \"Run as\" but I want do it from Java. I have the username and the password.</p>\n"},{"tags":["java","eclipse","utf-8","gedit"],"comments":[{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":0,"creation_date":1292686095,"post_id":4478560,"comment_id":4896920,"body_markdown":"How do you exchange the code between the different plattforms? Do you have a repository?","body":"How do you exchange the code between the different plattforms? Do you have a repository?"}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1292685218,"creation_date":1292685218,"answer_id":4478601,"question_id":4478560,"body_markdown":"Not sure about gedit, but you can certainly configure eclipse to use whatever encoding you like for source code. It&#39;s part of the project properties (and saved in the .settings directory within the project).\r\n\r\n![alt text][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RvK8e.jpg","title":"Java problems with UTF-8 in different OS","body":"<p>Not sure about gedit, but you can certainly configure eclipse to use whatever encoding you like for source code. It's part of the project properties (and saved in the .settings directory within the project).</p>\n\n<p><img src=\"https://i.stack.imgur.com/RvK8e.jpg\" alt=\"alt text\"></p>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292685742,"creation_date":1292685427,"answer_id":4478614,"question_id":4478560,"body_markdown":"You could avoid the issue in Strings by using [character escape sequences][1], and using only ASCII encoding for the files. \r\n\r\nFor example, an en dash can be expressed as &quot;\\u2013&quot;.\r\n\r\nYou can quickly search for the Java code for individual characters [here][2].\r\n\r\nAs Sergey notes below, this works best for small numbers of non-ASCII characters. An alternative is to put all the UTF-8 strings in resource files. Eclipse provides a handy wizard for this.\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.4\r\n  [2]: http://www.fileformat.info/info/unicode/char/search.htm","title":"Java problems with UTF-8 in different OS","body":"<p>You could avoid the issue in Strings by using <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.4\" rel=\"nofollow\">character escape sequences</a>, and using only ASCII encoding for the files. </p>\n\n<p>For example, an en dash can be expressed as \"\\u2013\".</p>\n\n<p>You can quickly search for the Java code for individual characters <a href=\"http://www.fileformat.info/info/unicode/char/search.htm\" rel=\"nofollow\">here</a>.</p>\n\n<p>As Sergey notes below, this works best for small numbers of non-ASCII characters. An alternative is to put all the UTF-8 strings in resource files. Eclipse provides a handy wizard for this.</p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292685497,"creation_date":1292685497,"answer_id":4478618,"question_id":4478560,"body_markdown":"Eclipse works fine with UTF-8. See Michael&#39;s answer about configuring it. Maybe for Windows and/or MacOS it is really necessary. Ubuntu uses UTF-8 as the default encoding so I don&#39;t think it&#39;s necessary to configure Eclipse there.\r\n\r\nAs for Gedit, [this picture][1] shows that it is possible to change the encoding when saving a file in Gedit.\r\n\r\nAnyway, you need to make sure that all of you use UTF-8 for your sources. This is the only reasonable way to achieve cross-platform portability of your sources.\r\n\r\n\r\n  [1]: http://img237.imageshack.us/img237/9563/capture1hh5.jpg","title":"Java problems with UTF-8 in different OS","body":"<p>Eclipse works fine with UTF-8. See Michael's answer about configuring it. Maybe for Windows and/or MacOS it is really necessary. Ubuntu uses UTF-8 as the default encoding so I don't think it's necessary to configure Eclipse there.</p>\n\n<p>As for Gedit, <a href=\"http://img237.imageshack.us/img237/9563/capture1hh5.jpg\" rel=\"nofollow\">this picture</a> shows that it is possible to change the encoding when saving a file in Gedit.</p>\n\n<p>Anyway, you need to make sure that all of you use UTF-8 for your sources. This is the only reasonable way to achieve cross-platform portability of your sources.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166436,"creation_date":1292689029,"answer_id":4478866,"question_id":4478560,"body_markdown":"If your UTF8 file contains a BOM (byte order mark) then you will have a problem. It is a known bug , see [here][1] and [here][2]. \r\n\r\nThe BOM is optional with UTF8 and most of the time it is not there because it breaks many tools (like Javadoc, XML parser,...).\r\n\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6378911\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4508058\r\n  [3]: http://www.rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html","title":"Java problems with UTF-8 in different OS","body":"<p>If your UTF8 file contains a BOM (byte order mark) then you will have a problem. It is a known bug , see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6378911\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4508058\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The BOM is optional with UTF8 and most of the time it is not there because it breaks many tools (like Javadoc, XML parser,...).</p>\n"}],"owner":{"account_id":95926,"reputation":1585,"user_id":2718862,"accept_rate":85,"display_name":"dgnin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4478601,"answer_count":4,"score":1,"last_activity_date":1683166436,"creation_date":1292684511,"question_id":4478560,"body_markdown":"I&#39;m programing with other people an application to college homework, and sometime we use non-english characters in comments or in Strings displayed in the views. The problem is that everyone of use is using a different OS and sometimes different IDE&#39;s to program.\r\n\r\nConcretely, one is using MacOS, another Windows7, and another and me Ubuntu Linux. Furthermore, all of them use Eclipse and I use gedit. We have no idea if Eclipse or gedit are configurable to work propertly with UTF8 bussiness, at least I don&#39;t found nothing for mine.\r\n\r\nThe fact is that what I write with non-english characters appears in Windows &amp; MacOS virtual machines with strange symbols and vice-versa , and sometimes, what my non-linux friends write provokes compilation warnings like this: `warning: unmappable character for encoding UTF8`.\r\n\r\nDo you have any Idea to solve this? It is not really urgent but it will be a help.\r\n\r\nThank you.\r\n","title":"Java problems with UTF-8 in different OS","body":"<p>I'm programing with other people an application to college homework, and sometime we use non-english characters in comments or in Strings displayed in the views. The problem is that everyone of use is using a different OS and sometimes different IDE's to program.</p>\n\n<p>Concretely, one is using MacOS, another Windows7, and another and me Ubuntu Linux. Furthermore, all of them use Eclipse and I use gedit. We have no idea if Eclipse or gedit are configurable to work propertly with UTF8 bussiness, at least I don't found nothing for mine.</p>\n\n<p>The fact is that what I write with non-english characters appears in Windows &amp; MacOS virtual machines with strange symbols and vice-versa , and sometimes, what my non-linux friends write provokes compilation warnings like this: <code>warning: unmappable character for encoding UTF8</code>.</p>\n\n<p>Do you have any Idea to solve this? It is not really urgent but it will be a help.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","oracle","jdbc","connection-pooling"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1349006104,"post_id":12660724,"comment_id":17081554,"body_markdown":"What exactly do you mean with &quot;not awfully fast&quot;? Which part exactly is slow? Opening a connection to Oracle *can* take some time. Did you check out the manual regarding connection caching? http://docs.oracle.com/cd/B28359_01/java.111/b31224/concache.htm#CDEGABII","body":"What exactly do you mean with &quot;not awfully fast&quot;? Which part exactly is slow? Opening a connection to Oracle <i>can</i> take some time. Did you check out the manual regarding connection caching? <a href=\"http://docs.oracle.com/cd/B28359_01/java.111/b31224/concache.htm#CDEGABII\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B28359_01/java.111/b31224/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1349009209,"post_id":12660724,"comment_id":17082130,"body_markdown":"Read the link I posted. It says the &quot;*OracleConnectionCache*&quot; is deprecated, not the section I linked to. Btw: why don&#39;t you use a connection pool like DBCP or C3P0?","body":"Read the link I posted. It says the &quot;<i>OracleConnectionCache</i>&quot; is deprecated, not the section I linked to. Btw: why don&#39;t you use a connection pool like DBCP or C3P0?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1349012074,"creation_date":1349003106,"answer_id":12660743,"question_id":12660724,"body_markdown":"You should not use a `ConnectionPoolDataSource` directly. It is intended for use by a connection pool in an application server. It does not provide connection pooling itself. See also https://stackoverflow.com/a/12651163/466862 \r\n\r\nIn other words: You need to use an actual connection pool, like DBCP, c3p0 or BoneCP, or the UCP (Universal Connection Pool).","title":"Oracle Connection Pool Class","body":"<p>You should not use a <code>ConnectionPoolDataSource</code> directly. It is intended for use by a connection pool in an application server. It does not provide connection pooling itself. See also <a href=\"https://stackoverflow.com/a/12651163/466862\">https://stackoverflow.com/a/12651163/466862</a> </p>\n\n<p>In other words: You need to use an actual connection pool, like DBCP, c3p0 or BoneCP, or the UCP (Universal Connection Pool).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166414,"creation_date":1349013165,"answer_id":12661760,"question_id":12660724,"body_markdown":"You need you to use OracleDataSource (not OracleConnectionPoolDataSource) and set setConnectionCachingEnabled(true).\r\n\r\n       \r\n         private  static OracleDataSource ods = null;\r\n         ...\r\n         static {\r\n            System.out.println(&quot;OracleDataSource Initialization&quot;);\r\n            try {\r\n                ods = new OracleDataSource();\r\n                ods.setConnectionCachingEnabled(true);\r\n                ods.setConnectionCacheName(&quot;mycache&quot;);\r\n                ods.setURL(&quot;jdbc:oracle:thin:@//server.local:1521/prod&quot;);\r\n                ods.setUser(&quot;scott&quot;);\r\n                ods.setPassword(&quot;tiger&quot;);\r\n                Properties cacheProps = new Properties();\r\n                cacheProps.setProperty(&quot;MinLimit&quot;, &quot;1&quot;);\r\n                cacheProps.setProperty(&quot;MaxLimit&quot;, &quot;4&quot;);\r\n                cacheProps.setProperty(&quot;InitialLimit&quot;, &quot;1&quot;);\r\n                cacheProps.setProperty(&quot;ConnectionWaitTimeout&quot;, &quot;5&quot;);\r\n                cacheProps.setProperty(&quot;ValidateConnection&quot;, &quot;true&quot;);\r\n                ods.setConnectionCacheProperties(cacheProps);\r\n    \r\n            }\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    ...\r\n        public static Connection getConnection()\r\n           throws SQLException {\r\n          return ods.getConnection();\r\n        }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0545.html","title":"Oracle Connection Pool Class","body":"<p>You need you to use OracleDataSource (not OracleConnectionPoolDataSource) and set setConnectionCachingEnabled(true).</p>\n<pre><code>     private  static OracleDataSource ods = null;\n     ...\n     static {\n        System.out.println(&quot;OracleDataSource Initialization&quot;);\n        try {\n            ods = new OracleDataSource();\n            ods.setConnectionCachingEnabled(true);\n            ods.setConnectionCacheName(&quot;mycache&quot;);\n            ods.setURL(&quot;jdbc:oracle:thin:@//server.local:1521/prod&quot;);\n            ods.setUser(&quot;scott&quot;);\n            ods.setPassword(&quot;tiger&quot;);\n            Properties cacheProps = new Properties();\n            cacheProps.setProperty(&quot;MinLimit&quot;, &quot;1&quot;);\n            cacheProps.setProperty(&quot;MaxLimit&quot;, &quot;4&quot;);\n            cacheProps.setProperty(&quot;InitialLimit&quot;, &quot;1&quot;);\n            cacheProps.setProperty(&quot;ConnectionWaitTimeout&quot;, &quot;5&quot;);\n            cacheProps.setProperty(&quot;ValidateConnection&quot;, &quot;true&quot;);\n            ods.setConnectionCacheProperties(cacheProps);\n\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n...\n    public static Connection getConnection()\n       throws SQLException {\n      return ods.getConnection();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25805,"reputation":22420,"user_id":66629,"display_name":"Gian Marco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480345341,"creation_date":1480345341,"answer_id":40847379,"question_id":12660724,"body_markdown":"`oracle.jdbc.pool.OracleDataSource.setConnectionCachingEnabled` documentation state the following:\r\n\r\n&gt; Deprecated. Use Oracle Universal Connection Pool instead.\r\n\r\nYou can download [Oracle Database UCP][1] and create your `DataSource` as follows:\r\n\r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    import oracle.ucp.jdbc.PoolDataSource;\r\n    import oracle.ucp.jdbc.PoolDataSourceFactory;\r\n    \r\n    PoolDataSource poolDataSource = PoolDataSourceFactory.getPoolDataSource();\r\n    poolDataSource.setConnectionFactoryClassName(OracleDataSource.class.getName());\r\n    poolDataSource.setURL(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;);\r\n    poolDataSource.setUser(&quot;SYSTEM&quot;);\r\n    poolDataSource.setPassword(&quot;****&quot;);\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/enterprise-edition/downloads/ucp-112010-099129.html","title":"Oracle Connection Pool Class","body":"<p><code>oracle.jdbc.pool.OracleDataSource.setConnectionCachingEnabled</code> documentation state the following:</p>\n\n<blockquote>\n  <p>Deprecated. Use Oracle Universal Connection Pool instead.</p>\n</blockquote>\n\n<p>You can download <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/downloads/ucp-112010-099129.html\" rel=\"nofollow noreferrer\">Oracle Database UCP</a> and create your <code>DataSource</code> as follows:</p>\n\n<pre><code>import oracle.jdbc.pool.OracleDataSource;\nimport oracle.ucp.jdbc.PoolDataSource;\nimport oracle.ucp.jdbc.PoolDataSourceFactory;\n\nPoolDataSource poolDataSource = PoolDataSourceFactory.getPoolDataSource();\npoolDataSource.setConnectionFactoryClassName(OracleDataSource.class.getName());\npoolDataSource.setURL(\"jdbc:oracle:thin:@localhost:1521:XE\");\npoolDataSource.setUser(\"SYSTEM\");\npoolDataSource.setPassword(\"****\");\n</code></pre>\n"}],"owner":{"account_id":458693,"reputation":343,"user_id":858749,"accept_rate":62,"display_name":"gausss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12660743,"answer_count":3,"score":2,"last_activity_date":1683166414,"creation_date":1349002910,"question_id":12660724,"body_markdown":"I want to setup a connection pool for a Oracle DB in a Helper class.\r\n\r\n\r\n    public class DbConnection {\r\n\r\n\t// Data source for the pooled connection\r\n\tprivate static OracleDataSource dataSource;\r\n\r\n\t// Host\r\n\tprivate static final String dbHost = &quot;bla&quot;;\r\n\r\n\t// Port\r\n\tprivate static final String dbPort = &quot;1521&quot;;\r\n\r\n\t// DBname\r\n\tprivate static final String database = &quot;orcl&quot;;\r\n\r\n\t// DBuser\r\n\tprivate static final String dbUser = &quot;bla&quot;;\r\n\r\n\t// DBpassword\r\n\tprivate static final String dbPassword = &quot;bla&quot;;\r\n\r\n\tstatic {\r\n\t\tOracleConnectionPoolDataSource opds;\r\n\t\ttry {\r\n\t\t\topds = new OracleConnectionPoolDataSource();\r\n\t\t\topds.setURL(&quot;jdbc:oracle:thin:@&quot; + dbHost + &quot;:&quot; + dbPort + &quot;:&quot;\r\n\t\t\t\t\t+ database);\r\n\t\t\topds.setUser(dbUser);\r\n\t\t\topds.setPassword(dbPassword);\r\n\t\t\tdataSource = opds;\r\n\t\t} catch (SQLException e1) {\r\n\t\t\tSystem.err.println(&quot;Connection failed!&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t// Load driver\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;Driver not found!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Connection getConnection() throws SQLException {\r\n\t\treturn dataSource.getConnection();\r\n\t}\r\n    }\r\n\r\nThis is working but it is not awfully fast so I think I&#39;m missing something to get the pooling working. Any suggestions?\r\n\r\nSo my externel classes just invoke the getConnection() method ...\r\n   \r\n    Connection conn = DbConnection.getConnection();\r\n    ...\r\n    conn.close();\r\n\r\n","title":"Oracle Connection Pool Class","body":"<p>I want to setup a connection pool for a Oracle DB in a Helper class.</p>\n\n<pre><code>public class DbConnection {\n\n// Data source for the pooled connection\nprivate static OracleDataSource dataSource;\n\n// Host\nprivate static final String dbHost = \"bla\";\n\n// Port\nprivate static final String dbPort = \"1521\";\n\n// DBname\nprivate static final String database = \"orcl\";\n\n// DBuser\nprivate static final String dbUser = \"bla\";\n\n// DBpassword\nprivate static final String dbPassword = \"bla\";\n\nstatic {\n    OracleConnectionPoolDataSource opds;\n    try {\n        opds = new OracleConnectionPoolDataSource();\n        opds.setURL(\"jdbc:oracle:thin:@\" + dbHost + \":\" + dbPort + \":\"\n                + database);\n        opds.setUser(dbUser);\n        opds.setPassword(dbPassword);\n        dataSource = opds;\n    } catch (SQLException e1) {\n        System.err.println(\"Connection failed!\");\n    }\n    try {\n        // Load driver\n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n\n    } catch (ClassNotFoundException e) {\n        System.out.println(\"Driver not found!\");\n    }\n}\n\npublic static Connection getConnection() throws SQLException {\n    return dataSource.getConnection();\n}\n}\n</code></pre>\n\n<p>This is working but it is not awfully fast so I think I'm missing something to get the pooling working. Any suggestions?</p>\n\n<p>So my externel classes just invoke the getConnection() method ...</p>\n\n<pre><code>Connection conn = DbConnection.getConnection();\n...\nconn.close();\n</code></pre>\n"},{"tags":["java","audio","javasound"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1280791728,"post_id":3392449,"comment_id":3527808,"body_markdown":"Please do not complain about answers being &quot;incomplete&quot;.  You should expect to be pointed to the relevant section of the API **not** to have someone write a framework for you.","body":"Please do not complain about answers being &quot;incomplete&quot;.  You should expect to be pointed to the relevant section of the API <b>not</b> to have someone write a framework for you."},{"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"score":0,"creation_date":1280868572,"post_id":3392449,"comment_id":3537522,"body_markdown":"I didn&#39;t ask for the framework, just a useful answer for someone who doesn&#39;t know much about sound in Java.  The API&#39;s don&#39;t always explain  things well - I went there first!","body":"I didn&#39;t ask for the framework, just a useful answer for someone who doesn&#39;t know much about sound in Java.  The API&#39;s don&#39;t always explain  things well - I went there first!"}],"answers":[{"tags":[],"owner":{"account_id":102448,"reputation":5087,"user_id":275003,"accept_rate":100,"display_name":"Michael Rodrigues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280799441,"creation_date":1280799441,"answer_id":3393035,"question_id":3392449,"body_markdown":"I don&#39;t know about the API part, but for the sounds try [www.sounddogs.com][1]\r\n\r\n\r\n  [1]: http://www.sounddogs.com","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>I don't know about the API part, but for the sounds try <a href=\"http://www.sounddogs.com\" rel=\"nofollow noreferrer\">www.sounddogs.com</a></p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683166390,"creation_date":1280802655,"answer_id":3393226,"question_id":3392449,"body_markdown":"Using javax.sound, it&#39;s possible to have simple sound effect.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0632.html\r\n\r\n\r\n----------\r\n\r\nEDIT: Using a Thread (or not)\r\n\r\n    import javax.sound.sampled.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class AppWithSound2 extends JFrame implements ActionListener {\r\n      JButton b1;\r\n      JButton b2;\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n          public void run() {\r\n            AppWithSound2 app = new AppWithSound2();\r\n            app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            app.startApp();\r\n          }\r\n        });\r\n      }\r\n    \r\n      public AppWithSound2() {\r\n        initGUI();\r\n      }\r\n    \r\n      private void startApp() {\r\n        setVisible(true);\r\n      }\r\n    \r\n      private void initGUI() {\r\n        setLayout(new FlowLayout());\r\n        setSize(300, 200);\r\n        b1 = new JButton(&quot;Sound with no thread&quot;);\r\n        b2 = new JButton(&quot;Sound with thread&quot;);\r\n        b1.addActionListener(this);\r\n        b2.addActionListener(this);\r\n        add(b1);\r\n        add(b2);\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == b1) {\r\n          LaserSound.laser();\r\n        }\r\n        if (e.getSource() == b2) {\r\n          new LaserSound().start();\r\n        }\r\n      }\r\n    }\r\n    \r\n    class LaserSound extends Thread {\r\n    \r\n      public void run() {\r\n        LaserSound.laser();\r\n      }\r\n    \r\n      public static void laser() {\r\n        int repeat = 10;\r\n        try {\r\n          AudioFormat af = new AudioFormat(8000f, // sampleRate\r\n              8, // sampleSizeInBits\r\n              1, // channels\r\n              true, // signed\r\n              false); // bigEndian\r\n          SourceDataLine sdl;\r\n          sdl = AudioSystem.getSourceDataLine(af);\r\n          sdl.open(af);\r\n          sdl.start();\r\n    \r\n          byte[] buf = new byte[1];\r\n          int step;\r\n    \r\n          for (int j = 0; j &lt; repeat; j++) {\r\n            step = 10;\r\n            for (int i = 0; i &lt; 2000; i++) {\r\n              buf[0] = ((i % step &gt; 0) ? 32 : (byte) 0);\r\n    \r\n              if (i % 250 == 0)\r\n                step += 2;\r\n              sdl.write(buf, 0, 1);\r\n            }\r\n            Thread.sleep(200);\r\n          }\r\n          sdl.drain();\r\n          sdl.stop();\r\n          sdl.close();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>Using javax.sound, it's possible to have simple sound effect.</p>\n<hr />\n<p>EDIT: Using a Thread (or not)</p>\n<pre><code>import javax.sound.sampled.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class AppWithSound2 extends JFrame implements ActionListener {\n  JButton b1;\n  JButton b2;\n\n  private static final long serialVersionUID = 1L;\n\n  public static void main(String[] args) {\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        AppWithSound2 app = new AppWithSound2();\n        app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        app.startApp();\n      }\n    });\n  }\n\n  public AppWithSound2() {\n    initGUI();\n  }\n\n  private void startApp() {\n    setVisible(true);\n  }\n\n  private void initGUI() {\n    setLayout(new FlowLayout());\n    setSize(300, 200);\n    b1 = new JButton(&quot;Sound with no thread&quot;);\n    b2 = new JButton(&quot;Sound with thread&quot;);\n    b1.addActionListener(this);\n    b2.addActionListener(this);\n    add(b1);\n    add(b2);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n    if (e.getSource() == b1) {\n      LaserSound.laser();\n    }\n    if (e.getSource() == b2) {\n      new LaserSound().start();\n    }\n  }\n}\n\nclass LaserSound extends Thread {\n\n  public void run() {\n    LaserSound.laser();\n  }\n\n  public static void laser() {\n    int repeat = 10;\n    try {\n      AudioFormat af = new AudioFormat(8000f, // sampleRate\n          8, // sampleSizeInBits\n          1, // channels\n          true, // signed\n          false); // bigEndian\n      SourceDataLine sdl;\n      sdl = AudioSystem.getSourceDataLine(af);\n      sdl.open(af);\n      sdl.start();\n\n      byte[] buf = new byte[1];\n      int step;\n\n      for (int j = 0; j &lt; repeat; j++) {\n        step = 10;\n        for (int i = 0; i &lt; 2000; i++) {\n          buf[0] = ((i % step &gt; 0) ? 32 : (byte) 0);\n\n          if (i % 250 == 0)\n            step += 2;\n          sdl.write(buf, 0, 1);\n        }\n        Thread.sleep(200);\n      }\n      sdl.drain();\n      sdl.stop();\n      sdl.close();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280809674,"creation_date":1280809674,"answer_id":3393580,"question_id":3392449,"body_markdown":"[Clip][1] interface is the easiest way to play small sounds in your app. [Here][2] is an example. If you want to play anything other than wav, use MP3SPI or VorbisSPI from [JavaZOOM][3].\r\n\r\n\r\n  [1]: http://download-llnw.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/Clip.html\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=5256690\r\n  [3]: http://www.javazoom.net/projects.html","title":"Java game sounds in applications (as in, NOT applets)","body":"<p><a href=\"http://download-llnw.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/Clip.html\" rel=\"nofollow noreferrer\">Clip</a> interface is the easiest way to play small sounds in your app. <a href=\"http://forums.sun.com/thread.jspa?threadID=5256690\" rel=\"nofollow noreferrer\">Here</a> is an example. If you want to play anything other than wav, use MP3SPI or VorbisSPI from <a href=\"http://www.javazoom.net/projects.html\" rel=\"nofollow noreferrer\">JavaZOOM</a>.</p>\n"},{"tags":[],"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280868365,"creation_date":1280868365,"answer_id":3400643,"question_id":3392449,"body_markdown":"Okay guys - here&#39;s what i came up with while I was waiting.  I thought I had set the Stack Overflow settings to email me when my question was answered, so I thought I received no answers yet.  Thus, I continued on by myself.\r\nHere&#39;s what I found that worked.\r\n\r\n(1) Create the instance by using this:\r\n\r\n\tprivate PlaySounds lasershot = new PlaySounds(&quot;snd/lasershot.wav&quot;);\r\n\tprivate PlaySounds test = new PlaySounds(&quot;snd/cash_register.au&quot;);\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\n(2) And create the file PlaySounds.java (or whatever you like)\r\nimport java.io.*;\r\nimport javax.media.*;\r\n\r\npublic class PlaySounds\r\n{\r\n\t   private Player player;\r\n\t   private File file;\t\r\n\t\r\n\t   // Create a player for each of the sound files\r\n\t   public PlaySounds(String filename)\r\n\t   {\r\n\t\t   file = new File(filename);\r\n\t\t   createPlayer();\r\n\t   }\r\n\t   \r\n\t   private void createPlayer()\r\n\t   {\r\n\t\t   if ( file == null )\r\n\t\t\t   return;\r\n\r\n\t\t   try \r\n\t\t   {\r\n\t\t\t   // create a new player and add listener\r\n\t\t\t   player = Manager.createPlayer( file.toURI().toURL() );\r\n\t           //player.addController( (Controller) new EventHandler(player, null, null, null) );\r\n\t\t\t  // player.start();  // start player\r\n\t\t   }\r\n\t\t   catch ( Exception e )\r\n\t\t   {\r\n\t       }\r\n\t   }\r\n\t\r\n\t\tpublic void playSound()\r\n\t\t{\r\n\t\t\t// start player\r\n\t\t\tplayer.start();\r\n\t\t\t// Clear player\r\n\t\t\tplayer = null;\t\r\n\t\t\t// Re-create player\r\n\t\t\tcreatePlayer();\r\n\t\t}\r\n\r\n} // End of file PlaySounds.java\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\n(3) To use, insert these where you want the sounds:\r\n\r\n     lasershot.playSound();\r\n     test.playSound();\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\nThis was the shortest / sweetest I found.  Very easy to use, and plays both .au AND .wav files.\r\n\r\nI do appreciate all your help guys.\r\n\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>Okay guys - here's what i came up with while I was waiting.  I thought I had set the Stack Overflow settings to email me when my question was answered, so I thought I received no answers yet.  Thus, I continued on by myself.\nHere's what I found that worked.</p>\n\n<p>(1) Create the instance by using this:</p>\n\n<pre><code>private PlaySounds lasershot = new PlaySounds(\"snd/lasershot.wav\");\nprivate PlaySounds test = new PlaySounds(\"snd/cash_register.au\");\n</code></pre>\n\n<hr>\n\n<p>(2) And create the file PlaySounds.java (or whatever you like)\nimport java.io.<em>;\nimport javax.media.</em>;</p>\n\n<p>public class PlaySounds\n{\n       private Player player;\n       private File file;   </p>\n\n<pre><code>   // Create a player for each of the sound files\n   public PlaySounds(String filename)\n   {\n       file = new File(filename);\n       createPlayer();\n   }\n\n   private void createPlayer()\n   {\n       if ( file == null )\n           return;\n\n       try \n       {\n           // create a new player and add listener\n           player = Manager.createPlayer( file.toURI().toURL() );\n           //player.addController( (Controller) new EventHandler(player, null, null, null) );\n          // player.start();  // start player\n       }\n       catch ( Exception e )\n       {\n       }\n   }\n\n    public void playSound()\n    {\n        // start player\n        player.start();\n        // Clear player\n        player = null;  \n        // Re-create player\n        createPlayer();\n    }\n</code></pre>\n\n<p>} // End of file PlaySounds.java</p>\n\n<hr>\n\n<p>(3) To use, insert these where you want the sounds:</p>\n\n<pre><code> lasershot.playSound();\n test.playSound();\n</code></pre>\n\n<hr>\n\n<p>This was the shortest / sweetest I found.  Very easy to use, and plays both .au AND .wav files.</p>\n\n<p>I do appreciate all your help guys.</p>\n"}],"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":3393226,"answer_count":4,"score":0,"last_activity_date":1683166390,"creation_date":1280790025,"question_id":3392449,"body_markdown":"I have two questions - (1) How to play small sound clips, e.g. saucer flying, bullets shooting, things getting hit with bullets, etc.  Very short, but real-time, sounds.  I like the old arcade sounds, so they need not be largess .wav&#39;s.  I want to run these in as little code as possible.  Which leads to my second question...\r\n(2) Does anyone know where to find these sound clips.\r\n\r\nA little note, I&#39;ve seen some of the answers here, and they seem incomplete.  If you have a straight, generic code, that&#39;s great!  I know very little about sounds as I don&#39;t normally get this far in my game writing.\r\n\r\nThanks for any and all information - I do appreciate it!\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>I have two questions - (1) How to play small sound clips, e.g. saucer flying, bullets shooting, things getting hit with bullets, etc.  Very short, but real-time, sounds.  I like the old arcade sounds, so they need not be largess .wav's.  I want to run these in as little code as possible.  Which leads to my second question...\n(2) Does anyone know where to find these sound clips.</p>\n\n<p>A little note, I've seen some of the answers here, and they seem incomplete.  If you have a straight, generic code, that's great!  I know very little about sounds as I don't normally get this far in my game writing.</p>\n\n<p>Thanks for any and all information - I do appreciate it!</p>\n"},{"tags":["java","ms-office"],"comments":[{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":0,"creation_date":1267362043,"post_id":2350543,"comment_id":2324428,"body_markdown":"you could have multiple versions, what do you want exactly, know the one associated with .doc for example ?","body":"you could have multiple versions, what do you want exactly, know the one associated with .doc for example ?"},{"owner":{"account_id":80251,"reputation":2389,"user_id":227046,"accept_rate":64,"display_name":"Supereme"},"score":0,"creation_date":1267378045,"post_id":2350543,"comment_id":2325369,"body_markdown":"I want to know the version of MS-Excel so that I can use appropriate API.","body":"I want to know the version of MS-Excel so that I can use appropriate API."}],"answers":[{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267347145,"creation_date":1267347145,"answer_id":2350553,"question_id":2350543,"body_markdown":"Is there a specific file in the installation of ms office that distinguishes one version from another? If yes you could read that and detect.\r\n\r\nOther you&#39;d have to do nasty interfacing with the possibly installed (to the o/s) ms office activex controls and query the version number.","title":"Knowing MS-Office version on Your pc using java","body":"<p>Is there a specific file in the installation of ms office that distinguishes one version from another? If yes you could read that and detect.</p>\n\n<p>Other you'd have to do nasty interfacing with the possibly installed (to the o/s) ms office activex controls and query the version number.</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1267349517,"creation_date":1267349517,"answer_id":2350645,"question_id":2350543,"body_markdown":"I can suggest you a bit tricky work around:\r\n\r\nYou can easily get list of installed fonts. Different versions of MS-Office have different unique fonts. You need to google which fonts correspond to which version and it can give you some information (for example, if you can see &#39;Constantia&#39; then it&#39;s office 2007).","title":"Knowing MS-Office version on Your pc using java","body":"<p>I can suggest you a bit tricky work around:</p>\n\n<p>You can easily get list of installed fonts. Different versions of MS-Office have different unique fonts. You need to google which fonts correspond to which version and it can give you some information (for example, if you can see 'Constantia' then it's office 2007).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166370,"creation_date":1377615209,"answer_id":18468871,"question_id":2350543,"body_markdown":"One way is to call the Windows ASSOC and FTYPE commands, capture the output and parse it to determine the Office version installed.\r\n\r\n    C:\\Users\\me&gt;assoc .xls\r\n    .xls=Excel.Sheet.8\r\n    \r\n    C:\\Users\\me&gt;ftype Excel.sheet.8\r\n    Excel.sheet.8=&quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\r\n\r\nJava code :\r\n\r\n    import java.io.*;\r\n    public class ShowOfficeInstalled {\r\n        public static void main(String argv[]) {\r\n          try {\r\n            Process p = Runtime.getRuntime().exec\r\n              (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;assoc&quot;, &quot;.xls&quot;});\r\n            BufferedReader input =\r\n              new BufferedReader\r\n                (new InputStreamReader(p.getInputStream()));\r\n            String extensionType = input.readLine();\r\n            input.close();\r\n            // extract type\r\n            if (extensionType == null) {\r\n              System.out.println(&quot;no office installed ?&quot;);\r\n              System.exit(1);\r\n            }\r\n            String fileType[] = extensionType.split(&quot;=&quot;);\r\n    \r\n            p = Runtime.getRuntime().exec\r\n              (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;ftype&quot;, fileType[1]});\r\n            input =\r\n              new BufferedReader\r\n                (new InputStreamReader(p.getInputStream()));\r\n            String fileAssociation = input.readLine();\r\n            // extract path\r\n            String officePath = fileAssociation.split(&quot;=&quot;)[1];\r\n            System.out.println(officePath);\r\n            //\r\n            // output if office is installed :\r\n            //  &quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\r\n            // the next step is to parse the pathname but this is left as an exercise :-)\r\n            //\r\n          }\r\n          catch (Exception err) {\r\n            err.printStackTrace();\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-detect-installed-office-version.html","title":"Knowing MS-Office version on Your pc using java","body":"<p>One way is to call the Windows ASSOC and FTYPE commands, capture the output and parse it to determine the Office version installed.</p>\n<pre><code>C:\\Users\\me&gt;assoc .xls\n.xls=Excel.Sheet.8\n\nC:\\Users\\me&gt;ftype Excel.sheet.8\nExcel.sheet.8=&quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\n</code></pre>\n<p>Java code :</p>\n<pre><code>import java.io.*;\npublic class ShowOfficeInstalled {\n    public static void main(String argv[]) {\n      try {\n        Process p = Runtime.getRuntime().exec\n          (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;assoc&quot;, &quot;.xls&quot;});\n        BufferedReader input =\n          new BufferedReader\n            (new InputStreamReader(p.getInputStream()));\n        String extensionType = input.readLine();\n        input.close();\n        // extract type\n        if (extensionType == null) {\n          System.out.println(&quot;no office installed ?&quot;);\n          System.exit(1);\n        }\n        String fileType[] = extensionType.split(&quot;=&quot;);\n\n        p = Runtime.getRuntime().exec\n          (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;ftype&quot;, fileType[1]});\n        input =\n          new BufferedReader\n            (new InputStreamReader(p.getInputStream()));\n        String fileAssociation = input.readLine();\n        // extract path\n        String officePath = fileAssociation.split(&quot;=&quot;)[1];\n        System.out.println(officePath);\n        //\n        // output if office is installed :\n        //  &quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\n        // the next step is to parse the pathname but this is left as an exercise :-)\n        //\n      }\n      catch (Exception err) {\n        err.printStackTrace();\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":80251,"reputation":2389,"user_id":227046,"accept_rate":64,"display_name":"Supereme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2350645,"answer_count":3,"score":1,"last_activity_date":1683166370,"creation_date":1267346827,"question_id":2350543,"body_markdown":"Is there any way to know which version of MS-Office I have on my pc using &#39;Java&#39;? ","title":"Knowing MS-Office version on Your pc using java","body":"<p>Is there any way to know which version of MS-Office I have on my pc using 'Java'? </p>\n"},{"tags":["java","oracle","jdbc","sequence"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1306003050,"post_id":6083638,"comment_id":7048623,"body_markdown":"i&#39;m pretty sure you&#39;ll need to execute that statement before trying to get the generated keys.","body":"i&#39;m pretty sure you&#39;ll need to execute that statement before trying to get the generated keys."},{"owner":{"display_name":"user761796"},"score":0,"creation_date":1306003487,"post_id":6083638,"comment_id":7048673,"body_markdown":"Sorry it was mistake, I forgot to write the line in my question here. In my code the statement is already executed and it doesn&#39;t work.","body":"Sorry it was mistake, I forgot to write the line in my question here. In my code the statement is already executed and it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306004388,"creation_date":1306004388,"answer_id":6083822,"question_id":6083638,"body_markdown":"Is `customer.getID()` a candidate key of the table? If so, you can run a `SELECT` after the `INSERT` to find the value of the generated PK. Alternatively, you can get rid of the trigger, get the next value of the `SEQUENCE` from the DB in Java, and use that as the PK for the `INSERT`. The drawback of this approach is that inserts from other applications will have to do the same too.","title":"How to get the auto incremented PK from Oracle database?","body":"<p>Is <code>customer.getID()</code> a candidate key of the table? If so, you can run a <code>SELECT</code> after the <code>INSERT</code> to find the value of the generated PK. Alternatively, you can get rid of the trigger, get the next value of the <code>SEQUENCE</code> from the DB in Java, and use that as the PK for the <code>INSERT</code>. The drawback of this approach is that inserts from other applications will have to do the same too.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166337,"creation_date":1306010999,"answer_id":6084380,"question_id":6083638,"body_markdown":"You need to specify the possible generated keys that you want to retrieve.\r\n\r\n    PreparedStatement  pstmt = conn.prepareStatement(sql,new String [] {&quot;ID_ORDER&quot;});\r\n\r\nNote that the column name is case-sensitive. Finally a JDBC 3.0 driver and Oracle 10g R2 or better are required.\r\n\r\nYou can check if your current installation supports this mechanism by examining the DatabaseMetaData :\r\n\r\n    DatabaseMetaData metaData =  conn.getMetaData();\r\n    log(&quot;SupportsGetGeneratedKeys?=&quot;+metaData.supportsGetGeneratedKeys());\r\n\r\n\r\n","title":"How to get the auto incremented PK from Oracle database?","body":"<p>You need to specify the possible generated keys that you want to retrieve.</p>\n<pre><code>PreparedStatement  pstmt = conn.prepareStatement(sql,new String [] {&quot;ID_ORDER&quot;});\n</code></pre>\n<p>Note that the column name is case-sensitive. Finally a JDBC 3.0 driver and Oracle 10g R2 or better are required.</p>\n<p>You can check if your current installation supports this mechanism by examining the DatabaseMetaData :</p>\n<pre><code>DatabaseMetaData metaData =  conn.getMetaData();\nlog(&quot;SupportsGetGeneratedKeys?=&quot;+metaData.supportsGetGeneratedKeys());\n</code></pre>\n"}],"owner":{"display_name":"user761796"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1306068426,"answer_count":2,"score":2,"last_activity_date":1683166337,"creation_date":1306002627,"question_id":6083638,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [PLSQL JDBC: How to get last row ID?](https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI have implemented a trigger and a sequence for auto incrementing PK, I&#39;m using Oracle 10g as database.\r\nNow I want to INSERT something using JAVA, but I need to save the incremented PK in a variable right after the INSERT. I tried this:\r\n\r\n    PreparedStatement pstmt = connection.prepareStatement(&quot;INSERT INTO sometable \r\n                                                           VALUES(?, ?)&quot;, \r\n                                                          Statement.RETURN_GENERATED_KEYS);\r\n    pstmt.setInt(1, 5);\r\n    pstmt.setString(2, &quot;Username&quot;);\r\n    pstmt.executeUpdate();\r\n    ResultSet resultSet = pstmt.getGeneratedKeys();\r\n\r\nBut it doesn&#39;t work.","title":"How to get the auto incremented PK from Oracle database?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id\">PLSQL JDBC: How to get last row ID?</a>  </p>\n</blockquote>\n\n\n\n<p>I have implemented a trigger and a sequence for auto incrementing PK, I'm using Oracle 10g as database.\nNow I want to INSERT something using JAVA, but I need to save the incremented PK in a variable right after the INSERT. I tried this:</p>\n\n<pre><code>PreparedStatement pstmt = connection.prepareStatement(\"INSERT INTO sometable \n                                                       VALUES(?, ?)\", \n                                                      Statement.RETURN_GENERATED_KEYS);\npstmt.setInt(1, 5);\npstmt.setString(2, \"Username\");\npstmt.executeUpdate();\nResultSet resultSet = pstmt.getGeneratedKeys();\n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":["java","python","excel"],"answers":[{"tags":[],"owner":{"account_id":19645,"reputation":3249,"user_id":46204,"display_name":"Abram Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229552484,"creation_date":1229552484,"answer_id":376252,"question_id":376221,"body_markdown":"You might want to look into a third party library called [Aspose.Cells][1].  It is available for Java and .Net and allows very granular control of Excel documents.  The great thing about this library is that it does not use automation (which could be disasterous in a multi-threaded environment like the web).\r\n\r\nI have not personally used Apose.Cells, but I have used Aspose.Words (for .Net) to create mail merged Word documents that contained several thousand records and images, and it worked flawlessly.\r\n\r\n\r\n  [1]: http://www.aspose.com/categories/file-format-components/aspose.cells-for-.net-and-java/default.aspx","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>You might want to look into a third party library called <a href=\"http://www.aspose.com/categories/file-format-components/aspose.cells-for-.net-and-java/default.aspx\" rel=\"nofollow noreferrer\">Aspose.Cells</a>.  It is available for Java and .Net and allows very granular control of Excel documents.  The great thing about this library is that it does not use automation (which could be disasterous in a multi-threaded environment like the web).</p>\n\n<p>I have not personally used Apose.Cells, but I have used Aspose.Words (for .Net) to create mail merged Word documents that contained several thousand records and images, and it worked flawlessly.</p>\n"},{"tags":[],"owner":{"account_id":1851,"reputation":90520,"user_id":2548,"display_name":"Fionnuala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229555338,"creation_date":1229555338,"answer_id":376396,"question_id":376221,"body_markdown":"WinHttpRequest (&lt;http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx&gt;) may suit, you can use the document and so forth. Here is a snippet from the link. \r\n\r\n    Dim HttpReq As Object\r\n    \r\n    &#39; Create the WinHTTPRequest ActiveX Object.&#39;\r\n    Set HttpReq = New WinHttpRequest\r\n    \r\n    &#39; Open an HTTP connection.&#39;\r\n    HttpReq.Open &quot;GET&quot;, &quot;http://microsoft.com&quot;, False\r\n    \r\n    &#39; Send the HTTP Request.&#39;\r\n    HttpReq.Send\r\n      \r\n    &#39; Get all response text.&#39;\r\n    Text1.Text = HttpReq.ResponseText","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>WinHttpRequest (<a href=\"http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx</a>) may suit, you can use the document and so forth. Here is a snippet from the link. </p>\n\n<pre><code>Dim HttpReq As Object\n\n' Create the WinHTTPRequest ActiveX Object.'\nSet HttpReq = New WinHttpRequest\n\n' Open an HTTP connection.'\nHttpReq.Open \"GET\", \"http://microsoft.com\", False\n\n' Send the HTTP Request.'\nHttpReq.Send\n\n' Get all response text.'\nText1.Text = HttpReq.ResponseText\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683166256,"creation_date":1229568723,"answer_id":376772,"question_id":376221,"body_markdown":"jXLS is maybe an option. You define an XLS file as a template and then you merge your data.  \r\n\r\n\r\n[http://jxls.sourceforge.net/][2]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0516.html\r\n  [2]: http://jxls.sourceforge.net/","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>jXLS is maybe an option. You define an XLS file as a template and then you merge your data.</p>\n<p><a href=\"http://jxls.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jxls.sourceforge.net/</a></p>\n"}],"owner":{"account_id":7495,"reputation":103700,"user_id":13055,"accept_rate":68,"display_name":"Parand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":376772,"answer_count":3,"score":4,"last_activity_date":1683166256,"creation_date":1229551942,"question_id":376221,"body_markdown":"I&#39;d like to automate data entry into Excel spreadsheets. User data will exist on a web site, and when the user requests it, that data will need to be injected into an Excel spreadsheet. The complication is that the format of the Excel spreadsheet can vary significantly between users - it&#39;ll be user defined.\r\n\r\nI&#39;ve been thinking of this as a templating problem - the excel spreadsheet provides the template, and the task s to inject data into specific user defined cells within that template.\r\n\r\nI&#39;ve looked at xlwt and xlrd for python, as well as jexcelapi and POI-HSSF for Java. They seem like they could work, but given that I simply want to put values into certain cells, they seem like overkill. I&#39;m also worried about re-writing the user&#39;s spreadsheet after processing; seems like an opportunity to introduce errors into the process.\r\n\r\nIs there a way to tell excel to merge the data from one sheet into another? I&#39;m thinking I could produce a simple spreadsheet that has only the data, and somehow get Excel to merge it into the user&#39;s existing spreadsheet.\r\n\r\nMake sense? Better approaches?","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>I'd like to automate data entry into Excel spreadsheets. User data will exist on a web site, and when the user requests it, that data will need to be injected into an Excel spreadsheet. The complication is that the format of the Excel spreadsheet can vary significantly between users - it'll be user defined.</p>\n\n<p>I've been thinking of this as a templating problem - the excel spreadsheet provides the template, and the task s to inject data into specific user defined cells within that template.</p>\n\n<p>I've looked at xlwt and xlrd for python, as well as jexcelapi and POI-HSSF for Java. They seem like they could work, but given that I simply want to put values into certain cells, they seem like overkill. I'm also worried about re-writing the user's spreadsheet after processing; seems like an opportunity to introduce errors into the process.</p>\n\n<p>Is there a way to tell excel to merge the data from one sheet into another? I'm thinking I could produce a simple spreadsheet that has only the data, and somehow get Excel to merge it into the user's existing spreadsheet.</p>\n\n<p>Make sense? Better approaches?</p>\n"},{"tags":["java","scripting","vbscript","shortcut"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1281116931,"post_id":3426314,"comment_id":3567296,"body_markdown":"why not just calling shortcut.exe without using VBS?","body":"why not just calling shortcut.exe without using VBS?"}],"answers":[{"tags":[],"owner":{"account_id":72122,"reputation":2758,"user_id":208344,"display_name":"Jes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281142809,"creation_date":1281142809,"answer_id":3428721,"question_id":3426314,"body_markdown":"See [this similar question.][1] and [this][2].\r\n\r\nAfter a quick google search I found this java library: [http://alumnus.caltech.edu/~jimmc/jshortcut/][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/343776/how-do-you-create-and-read-windows-shortcut-lnk-file-in-java\r\n  [2]: https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java\r\n  [3]: http://alumnus.caltech.edu/~jimmc/jshortcut/","title":"Creating shortcut links (.lnk) from Java","body":"<p>See <a href=\"https://stackoverflow.com/questions/343776/how-do-you-create-and-read-windows-shortcut-lnk-file-in-java\">this similar question.</a> and <a href=\"https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java\">this</a>.</p>\n\n<p>After a quick google search I found this java library: <a href=\"http://alumnus.caltech.edu/~jimmc/jshortcut/\" rel=\"nofollow noreferrer\">http://alumnus.caltech.edu/~jimmc/jshortcut/</a></p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683166230,"creation_date":1281144132,"answer_id":3428774,"question_id":3426314,"body_markdown":"   \r\n\r\n      /**\r\n       * Create an Internet shortcut\r\n       * @param name     name of the shortcut\r\n       * @param where    location of the shortcut\r\n       * @param target   URL \r\n       * @param icon     URL (ex. http://www.server.com/favicon.ico)\r\n       * @throws IOException\r\n       */\r\n      public static void createInternetShortcut\r\n          (String name, String where, String target, String icon) \r\n        throws IOException\r\n      {\r\n        FileWriter fw = new FileWriter(where);\r\n        fw.write(&quot;[InternetShortcut]\\n&quot;);\r\n        fw.write(&quot;URL=&quot; + target + &quot;\\n&quot;);\r\n        if (!icon.equals(&quot;&quot;))  {\r\n          fw.write(&quot;IconFile=&quot; + icon + &quot;\\n&quot;);  \r\n        }\r\n        fw.flush();\r\n        fw.close();\r\n      }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0660.html","title":"Creating shortcut links (.lnk) from Java","body":"<pre><code>  /**\n   * Create an Internet shortcut\n   * @param name     name of the shortcut\n   * @param where    location of the shortcut\n   * @param target   URL \n   * @param icon     URL (ex. http://www.server.com/favicon.ico)\n   * @throws IOException\n   */\n  public static void createInternetShortcut\n      (String name, String where, String target, String icon) \n    throws IOException\n  {\n    FileWriter fw = new FileWriter(where);\n    fw.write(&quot;[InternetShortcut]\\n&quot;);\n    fw.write(&quot;URL=&quot; + target + &quot;\\n&quot;);\n    if (!icon.equals(&quot;&quot;))  {\n      fw.write(&quot;IconFile=&quot; + icon + &quot;\\n&quot;);  \n    }\n    fw.flush();\n    fw.close();\n  }\n</code></pre>\n"}],"owner":{"account_id":17109,"reputation":11407,"user_id":37966,"accept_rate":77,"display_name":"cweston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9923,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3428774,"answer_count":2,"score":3,"last_activity_date":1683166230,"creation_date":1281116642,"question_id":3426314,"body_markdown":"I am writing an installer (launcher) in Java and require the ability to be able to create a shortcut on the users desktop during the process. \r\n\r\nI am interested in any ideas as the best way to do this. My one option I have considered is using a VB Script on windows and using the native &#39;shortcut.exe&#39; to do it for me, however a third party file utility would be preferred.","title":"Creating shortcut links (.lnk) from Java","body":"<p>I am writing an installer (launcher) in Java and require the ability to be able to create a shortcut on the users desktop during the process. </p>\n\n<p>I am interested in any ideas as the best way to do this. My one option I have considered is using a VB Script on windows and using the native 'shortcut.exe' to do it for me, however a third party file utility would be preferred.</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":290879,"reputation":758,"user_id":592678,"accept_rate":95,"display_name":"Teknophilia"},"score":1,"creation_date":1296251893,"post_id":4833301,"comment_id":5364143,"body_markdown":"What exactly do you want to do? Do you want to make the file accessible to java apps from other computers?","body":"What exactly do you want to do? Do you want to make the file accessible to java apps from other computers?"},{"owner":{"account_id":237984,"reputation":11801,"user_id":506565,"accept_rate":73,"display_name":"el_pup_le"},"score":0,"creation_date":1296253141,"post_id":4833301,"comment_id":5364355,"body_markdown":"Files will need to be transferred between the client applications. Like P2P but only 1 to 1 file transfers. I will not be able to setup HTTP servers on all the computers using this application!","body":"Files will need to be transferred between the client applications. Like P2P but only 1 to 1 file transfers. I will not be able to setup HTTP servers on all the computers using this application!"}],"answers":[{"tags":[],"owner":{"account_id":59394,"reputation":6071,"user_id":177728,"accept_rate":60,"display_name":"evandrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296252755,"creation_date":1296252755,"answer_id":4833573,"question_id":4833301,"body_markdown":"Create a Java server, be sure to expose it if you&#39;re behind a router/proxy/firewall if you&#39;re accessing it externally from the internet, if not, if you&#39;re in the same subnet then it&#39;s fine ignore this consideration.\r\n\r\nOn the Java server, make it listen to a specific port and handle TCP calls from a custom Java client on this predetermined agreed port to exchange data. Then get the Java server to use a System.IO call or similar to serve out the file as a byte stream to the client.\r\n\r\nThe Java server can preferably be say LAMP or Jetty or any minified Java-based server actually, so you needn&#39;t begin from scratch.\r\n\r\nHope this helps.","title":"Create downloadable file with URL","body":"<p>Create a Java server, be sure to expose it if you're behind a router/proxy/firewall if you're accessing it externally from the internet, if not, if you're in the same subnet then it's fine ignore this consideration.</p>\n\n<p>On the Java server, make it listen to a specific port and handle TCP calls from a custom Java client on this predetermined agreed port to exchange data. Then get the Java server to use a System.IO call or similar to serve out the file as a byte stream to the client.</p>\n\n<p>The Java server can preferably be say LAMP or Jetty or any minified Java-based server actually, so you needn't begin from scratch.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1298114377,"creation_date":1296252879,"answer_id":4833586,"question_id":4833301,"body_markdown":"You can set up a webserver.\r\n\r\nA Java webserver:\r\n\r\n * [Oracle Networking (Code)][1] and this is the project page: [project page][2]\r\n\r\nOf course, if you are behind a router, you will need to forward port 80 to your computer.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Networking/Webserver/WebServer.java\r\n  [2]: http://java.sun.com/developer/technicalArticles/Networking/Webserver/","title":"Create downloadable file with URL","body":"<p>You can set up a webserver.</p>\n\n<p>A Java webserver:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/Networking/Webserver/WebServer.java\" rel=\"nofollow\">Oracle Networking (Code)</a> and this is the project page: <a href=\"http://java.sun.com/developer/technicalArticles/Networking/Webserver/\" rel=\"nofollow\">project page</a></li>\n</ul>\n\n<p>Of course, if you are behind a router, you will need to forward port 80 to your computer.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683166208,"creation_date":1296253771,"answer_id":4833677,"question_id":4833301,"body_markdown":"Since Java 1.6, there&#39;s a built-in HTTP server included with the JDK. \r\n\r\nThis code is used to setup a simple http server to get a specific PDF (with the request http://localhost:8000/get)\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.net.InetSocketAddress;\r\n    \r\n    import com.sun.net.httpserver.HttpExchange;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpServer;\r\n    import com.sun.net.httpserver.Headers;\r\n    \r\n    public class SimpleHttpServer {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\r\n        server.createContext(&quot;/info&quot;, new InfoHandler());\r\n        server.createContext(&quot;/get&quot;, new GetHandler());\r\n        server.setExecutor(null); // creates a default executor\r\n        server.start();\r\n      }\r\n    \r\n      static class InfoHandler implements HttpHandler {\r\n        public void handle(HttpExchange t) throws IOException {\r\n          String response = &quot;Use /get to download a PDF&quot;;\r\n          t.sendResponseHeaders(200, response.length());\r\n          OutputStream os = t.getResponseBody();\r\n          os.write(response.getBytes());\r\n          os.close();\r\n        }\r\n      }\r\n    \r\n      static class GetHandler implements HttpHandler {\r\n        public void handle(HttpExchange t) throws IOException {\r\n    \r\n          // add the required response header for a PDF file\r\n          Headers h = t.getResponseHeaders();\r\n          h.add(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\r\n    \r\n          // a PDF (you provide your own!)\r\n          File file = new File (&quot;c:/temp/doc.pdf&quot;);\r\n          byte [] bytearray  = new byte [(int)file.length()];\r\n          FileInputStream fis = new FileInputStream(file);\r\n          BufferedInputStream bis = new BufferedInputStream(fis);\r\n          bis.read(bytearray, 0, bytearray.length);\r\n    \r\n          // ok, we are ready to send the response.\r\n          t.sendResponseHeaders(200, file.length());\r\n          OutputStream os = t.getResponseBody();\r\n          os.write(bytearray,0,bytearray.length);\r\n          os.close();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"Create downloadable file with URL","body":"<p>Since Java 1.6, there's a built-in HTTP server included with the JDK.</p>\n<p>This code is used to setup a simple http server to get a specific PDF (with the request http://localhost:8000/get)</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.InetSocketAddress;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\nimport com.sun.net.httpserver.Headers;\n\npublic class SimpleHttpServer {\n\n  public static void main(String[] args) throws Exception {\n    HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\n    server.createContext(&quot;/info&quot;, new InfoHandler());\n    server.createContext(&quot;/get&quot;, new GetHandler());\n    server.setExecutor(null); // creates a default executor\n    server.start();\n  }\n\n  static class InfoHandler implements HttpHandler {\n    public void handle(HttpExchange t) throws IOException {\n      String response = &quot;Use /get to download a PDF&quot;;\n      t.sendResponseHeaders(200, response.length());\n      OutputStream os = t.getResponseBody();\n      os.write(response.getBytes());\n      os.close();\n    }\n  }\n\n  static class GetHandler implements HttpHandler {\n    public void handle(HttpExchange t) throws IOException {\n\n      // add the required response header for a PDF file\n      Headers h = t.getResponseHeaders();\n      h.add(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\n\n      // a PDF (you provide your own!)\n      File file = new File (&quot;c:/temp/doc.pdf&quot;);\n      byte [] bytearray  = new byte [(int)file.length()];\n      FileInputStream fis = new FileInputStream(file);\n      BufferedInputStream bis = new BufferedInputStream(fis);\n      bis.read(bytearray, 0, bytearray.length);\n\n      // ok, we are ready to send the response.\n      t.sendResponseHeaders(200, file.length());\n      OutputStream os = t.getResponseBody();\n      os.write(bytearray,0,bytearray.length);\n      os.close();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280835,"reputation":26318,"user_id":576766,"accept_rate":80,"display_name":"tenshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1296254236,"creation_date":1296254236,"answer_id":4833727,"question_id":4833301,"body_markdown":"You can use Jetty server. It&#39;s very easy to embed it in your Java SE application. You can find more info here:\r\n\r\nhttp://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\r\n\r\nI think section **Configuring a File Server** would be especially interesting for you:\r\n\r\nhttp://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server\r\n\r\nHere is an example that you can find there:\r\n\r\n    public class FileServer\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            Server server = new Server();\r\n            SelectChannelConnector connector = new SelectChannelConnector();\r\n            connector.setPort(8080);\r\n            server.addConnector(connector);\r\n     \r\n            ResourceHandler resource_handler = new ResourceHandler();\r\n            resource_handler.setDirectoriesListed(true);\r\n            resource_handler.setWelcomeFiles(new String[]{ &quot;index.html&quot; });\r\n     \r\n            resource_handler.setResourceBase(&quot;.&quot;);\r\n     \r\n            HandlerList handlers = new HandlerList();\r\n            handlers.setHandlers(new Handler[] { resource_handler, new DefaultHandler() });\r\n            server.setHandler(handlers);\r\n     \r\n            server.start();\r\n            server.join();\r\n        }\r\n    }\r\n\r\nIf you configure `resourceBase` with path to your folder like this: `resource_handler.setResourceBase(&quot;/path/to/your/folder&quot;)`, then all files in this folder would be available through HTTP.","title":"Create downloadable file with URL","body":"<p>You can use Jetty server. It's very easy to embed it in your Java SE application. You can find more info here:</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\" rel=\"nofollow\">http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty</a></p>\n\n<p>I think section <strong>Configuring a File Server</strong> would be especially interesting for you:</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server\" rel=\"nofollow\">http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server</a></p>\n\n<p>Here is an example that you can find there:</p>\n\n<pre><code>public class FileServer\n{\n    public static void main(String[] args) throws Exception\n    {\n        Server server = new Server();\n        SelectChannelConnector connector = new SelectChannelConnector();\n        connector.setPort(8080);\n        server.addConnector(connector);\n\n        ResourceHandler resource_handler = new ResourceHandler();\n        resource_handler.setDirectoriesListed(true);\n        resource_handler.setWelcomeFiles(new String[]{ \"index.html\" });\n\n        resource_handler.setResourceBase(\".\");\n\n        HandlerList handlers = new HandlerList();\n        handlers.setHandlers(new Handler[] { resource_handler, new DefaultHandler() });\n        server.setHandler(handlers);\n\n        server.start();\n        server.join();\n    }\n}\n</code></pre>\n\n<p>If you configure <code>resourceBase</code> with path to your folder like this: <code>resource_handler.setResourceBase(\"/path/to/your/folder\")</code>, then all files in this folder would be available through HTTP.</p>\n"}],"owner":{"account_id":237984,"reputation":11801,"user_id":506565,"accept_rate":73,"display_name":"el_pup_le"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4833727,"answer_count":4,"score":1,"last_activity_date":1683166208,"creation_date":1296250728,"question_id":4833301,"body_markdown":"How can i make a local file on any computer available as a downloadable file with a URL. The URL would be accessed by a client java application to download the file.","title":"Create downloadable file with URL","body":"<p>How can i make a local file on any computer available as a downloadable file with a URL. The URL would be accessed by a client java application to download the file.</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"score":0,"creation_date":1292319602,"post_id":4437715,"comment_id":4844902,"body_markdown":"Care to explain? I&#39;ve always found println to be quite fast...","body":"Care to explain? I&#39;ve always found println to be quite fast..."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1292319654,"post_id":4437715,"comment_id":4844910,"body_markdown":"@DasWood &quot;Seems&quot;? Please present some benchmarks (code + timings).","body":"@DasWood &quot;Seems&quot;? Please present some benchmarks (code + timings)."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1292319767,"post_id":4437715,"comment_id":4844933,"body_markdown":"It tends to be fast on *nix, slow on windows. In other words, it&#39;s the console implementations of those OSes that&#39;s the factor here.","body":"It tends to be fast on *nix, slow on windows. In other words, it&#39;s the console implementations of those OSes that&#39;s the factor here."},{"owner":{"display_name":"user328898"},"score":0,"creation_date":1292319920,"post_id":4437715,"comment_id":4844952,"body_markdown":"Bench the example I paste with printing commented out. Bench again with it not. HUGE difference and it is only running through the number line once, not 9999998 times like the actual sieve.","body":"Bench the example I paste with printing commented out. Bench again with it not. HUGE difference and it is only running through the number line once, not 9999998 times like the actual sieve."},{"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"score":0,"creation_date":1292319954,"post_id":4437715,"comment_id":4844959,"body_markdown":"Do you mean `println` vs nothing, or `println` vs `print`? They are very different questions.","body":"Do you mean <code>println</code> vs nothing, or <code>println</code> vs <code>print</code>? They are very different questions."},{"owner":{"display_name":"user328898"},"score":1,"creation_date":1292320287,"post_id":4437715,"comment_id":4845013,"body_markdown":"Instead of println repeatedly, put it all into a string then println it. It&#39;s faster.","body":"Instead of println repeatedly, put it all into a string then println it. It&#39;s faster."}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1292322485,"creation_date":1292319658,"answer_id":4437752,"question_id":4437715,"body_markdown":"`println` is not slow, it&#39;s the underlying `PrintStream` that is connected with the console, provided by the hosting operating system.\r\n\r\nYou can check it yourself: compare dumping a large text file to the console with piping the same textfile into another file:\r\n\r\n    cat largeTextFile.txt\r\n    cat largeTextFile.txt &gt; temp.txt\r\n\r\nReading and writing are similiar and proportional to the size of the file (O(n)), the only difference is, that the destination is different (console compared to file). And that&#39;s basically the same with `System.out`.\r\n\r\n---\r\n\r\nThe underlying OS operation (displaying chars on a console window) is slow because\r\n\r\n1. The bytes have to be sent to the console application (should be quite fast)\r\n2. Each char has to be rendered using (usually) a true type font (that&#39;s pretty slow, switching off anti aliasing could improve performance, btw)\r\n3. The displayed area may have to be scrolled in order to append a new line to the visible area (best case: bit block transfer operation, worst case: re-rendering of the complete text area)","title":"Why is System.out.println so slow?","body":"<p><code>println</code> is not slow, it's the underlying <code>PrintStream</code> that is connected with the console, provided by the hosting operating system.</p>\n\n<p>You can check it yourself: compare dumping a large text file to the console with piping the same textfile into another file:</p>\n\n<pre><code>cat largeTextFile.txt\ncat largeTextFile.txt &gt; temp.txt\n</code></pre>\n\n<p>Reading and writing are similiar and proportional to the size of the file (O(n)), the only difference is, that the destination is different (console compared to file). And that's basically the same with <code>System.out</code>.</p>\n\n<hr>\n\n<p>The underlying OS operation (displaying chars on a console window) is slow because</p>\n\n<ol>\n<li>The bytes have to be sent to the console application (should be quite fast)</li>\n<li>Each char has to be rendered using (usually) a true type font (that's pretty slow, switching off anti aliasing could improve performance, btw)</li>\n<li>The displayed area may have to be scrolled in order to append a new line to the visible area (best case: bit block transfer operation, worst case: re-rendering of the complete text area)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292319711,"creation_date":1292319711,"answer_id":4437766,"question_id":4437715,"body_markdown":"I believe this is because of [buffering][1]. A quote from the article:\r\n\r\n&gt; Another aspect of buffering concerns\r\n&gt; text output to a terminal window. By\r\n&gt; default, System.out (a PrintStream) is\r\n&gt; line buffered, meaning that the output\r\n&gt; buffer is flushed when a newline\r\n&gt; character is encountered. This is\r\n&gt; important for interactivity, where\r\n&gt; you&#39;d like to have an input prompt\r\n&gt; displayed before actually entering any\r\n&gt; input.\r\n\r\nA quote explaining buffers from wikipedia:\r\n\r\n&gt; In computer science, a buffer is a\r\n&gt; region of memory used to temporarily\r\n&gt; hold data while it is being moved from\r\n&gt; one place to another. Typically, the\r\n&gt; data is stored in a buffer as it is\r\n&gt; retrieved from an input device (such\r\n&gt; as a Mouse) or just before it is sent\r\n&gt; to an output device (such as Speakers)\r\n\r\n    public void println()\r\n\r\n&gt; Terminate the current line by writing\r\n&gt; the line separator string. The line\r\n&gt; separator string is defined by the\r\n&gt; system property line.separator, and is\r\n&gt; not necessarily a single newline\r\n&gt; character (&#39;\\n&#39;).\r\n\r\nSo the buffer get&#39;s flushed when you do `println` which means new memory has to be allocated etc which makes printing slower. The other methods you specified require lesser flushing of buffers thus are faster.\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\r\n\r\n","title":"Why is System.out.println so slow?","body":"<p>I believe this is because of <a href=\"http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\" rel=\"nofollow\">buffering</a>. A quote from the article:</p>\n\n<blockquote>\n  <p>Another aspect of buffering concerns\n  text output to a terminal window. By\n  default, System.out (a PrintStream) is\n  line buffered, meaning that the output\n  buffer is flushed when a newline\n  character is encountered. This is\n  important for interactivity, where\n  you'd like to have an input prompt\n  displayed before actually entering any\n  input.</p>\n</blockquote>\n\n<p>A quote explaining buffers from wikipedia:</p>\n\n<blockquote>\n  <p>In computer science, a buffer is a\n  region of memory used to temporarily\n  hold data while it is being moved from\n  one place to another. Typically, the\n  data is stored in a buffer as it is\n  retrieved from an input device (such\n  as a Mouse) or just before it is sent\n  to an output device (such as Speakers)</p>\n</blockquote>\n\n<pre><code>public void println()\n</code></pre>\n\n<blockquote>\n  <p>Terminate the current line by writing\n  the line separator string. The line\n  separator string is defined by the\n  system property line.separator, and is\n  not necessarily a single newline\n  character ('\\n').</p>\n</blockquote>\n\n<p>So the buffer get's flushed when you do <code>println</code> which means new memory has to be allocated etc which makes printing slower. The other methods you specified require lesser flushing of buffers thus are faster.</p>\n"},{"tags":[],"owner":{"account_id":177247,"reputation":639,"user_id":408453,"accept_rate":100,"display_name":"JBirch"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1292320291,"creation_date":1292320291,"answer_id":4437844,"question_id":4437715,"body_markdown":"`System.out` is a static `PrintStream` class. `PrintStream` has, among other things, those methods you&#39;re probably quite familiar with, like `print()` and `println()` and such.\r\n\r\nIt&#39;s not unique to Java that input and output operations take a long time. &quot;long.&quot; printing or writing to a `PrintStream` takes a fraction of a second, but over 10 billion instances of this print can add up to quite a lot!\r\n\r\nThis is why your &quot;moving everything to a String&quot; is the fastest. Your huge String is built, but you only print it *once*. Sure, it&#39;s a huge print, but you spend time on actually printing, not on the overhead associated with the `print()` or `println()`.\r\n\r\nAs Dvd Prd has mentioned, Strings are immutable. That means whenever you assign a new String to an old one but reusing references, you actually destroy the reference to the old String and create a reference to the new one. So you can make this whole operation go even faster by using the StringBuilder class, which is mutable. This will decrease the overhead associated with building that string you&#39;ll eventually print.","title":"Why is System.out.println so slow?","body":"<p><code>System.out</code> is a static <code>PrintStream</code> class. <code>PrintStream</code> has, among other things, those methods you're probably quite familiar with, like <code>print()</code> and <code>println()</code> and such.</p>\n\n<p>It's not unique to Java that input and output operations take a long time. \"long.\" printing or writing to a <code>PrintStream</code> takes a fraction of a second, but over 10 billion instances of this print can add up to quite a lot!</p>\n\n<p>This is why your \"moving everything to a String\" is the fastest. Your huge String is built, but you only print it <em>once</em>. Sure, it's a huge print, but you spend time on actually printing, not on the overhead associated with the <code>print()</code> or <code>println()</code>.</p>\n\n<p>As Dvd Prd has mentioned, Strings are immutable. That means whenever you assign a new String to an old one but reusing references, you actually destroy the reference to the old String and create a reference to the new one. So you can make this whole operation go even faster by using the StringBuilder class, which is mutable. This will decrease the overhead associated with building that string you'll eventually print.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674640275,"creation_date":1292323421,"answer_id":4438299,"question_id":4437715,"body_markdown":"The problem you have is that displaying to the screen is very espensive, especially if you have a graphical windows/X-windows environment (rather than a pure text terminal)  Just to render one digit in a font is far more expensive than the calculations you are doing.  When you send data to the screen faster than it can display it, it buffered the data and quickly blocks.  Even writing to a file is significant compare to the calculations, but its 10x - 100x faster than displaying on the screen.\r\n\r\nBTW: math.sqrt() is very expensive, and using a loop is much slower than using modulus i.e. % to determine if a number is a multiple.  BitSet can be 8x more space efficient than boolean[], and faster for operations on multiple bits e.g. counting or searching bits.\r\n\r\nIf I dump the output to a file, it is quick, but writing to the console is slow, and if I write to the console the data which was written to a file it takes about the same amount of time.\r\n\r\n    Took 289 ms to examine 10,000,000 numbers.\r\n    Took 149 ms to toString primes up to 10,000,000.\r\n    Took 306 ms to write to a file primes up to 10,000,000.\r\n    Took 61,082 ms to write to a System.out primes up to 10,000,000.\r\n\r\n    time cat primes.txt\r\n    \r\n    real    1m24.916s\r\n    user    0m3.619s\r\n    sys     0m12.058s\r\n\r\nThe code\r\n\r\n    int upTo = 10*1000*1000;\r\n    long start = System.nanoTime();\r\n    BitSet nonprimes = new BitSet(upTo);\r\n    for (int t = 2; t * t &lt; upTo; t++) {\r\n        if (nonprimes.get(t)) continue;\r\n        for (int i = 2 * t; i &lt;= upTo; i += t)\r\n            nonprimes.set(i);\r\n    }\r\n    PrintWriter report = new PrintWriter(&quot;report.txt&quot;);\r\n    long time = System.nanoTime() - start;\r\n    report.printf(&quot;Took %,d ms to examine %,d numbers.%n&quot;, time / 1000 / 1000, upTo);\r\n\r\n    long start2 = System.nanoTime();\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            Integer.toString(i);\r\n    }\r\n    long time2 = System.nanoTime() - start2;\r\n    report.printf(&quot;Took %,d ms to toString primes up to %,d.%n&quot;, time2 / 1000 / 1000, upTo);\r\n\r\n    long start3 = System.nanoTime();\r\n    PrintWriter pw = new PrintWriter(new BufferedOutputStream(new FileOutputStream(&quot;primes.txt&quot;), 64*1024));\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            pw.println(i);\r\n    }\r\n    pw.close();\r\n    long time3 = System.nanoTime() - start3;\r\n    report.printf(&quot;Took %,d ms to write to a file primes up to %,d.%n&quot;, time3 / 1000 / 1000, upTo);\r\n\r\n    long start4 = System.nanoTime();\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            System.out.println(i);\r\n    }\r\n    long time4 = System.nanoTime() - start4;\r\n    report.printf(&quot;Took %,d ms to write to a System.out primes up to %,d.%n&quot;, time4 / 1000 / 1000, upTo);\r\n    report.close();\r\n\r\n\r\n\r\n\r\n","title":"Why is System.out.println so slow?","body":"<p>The problem you have is that displaying to the screen is very espensive, especially if you have a graphical windows/X-windows environment (rather than a pure text terminal)  Just to render one digit in a font is far more expensive than the calculations you are doing.  When you send data to the screen faster than it can display it, it buffered the data and quickly blocks.  Even writing to a file is significant compare to the calculations, but its 10x - 100x faster than displaying on the screen.</p>\n<p>BTW: math.sqrt() is very expensive, and using a loop is much slower than using modulus i.e. % to determine if a number is a multiple.  BitSet can be 8x more space efficient than boolean[], and faster for operations on multiple bits e.g. counting or searching bits.</p>\n<p>If I dump the output to a file, it is quick, but writing to the console is slow, and if I write to the console the data which was written to a file it takes about the same amount of time.</p>\n<pre><code>Took 289 ms to examine 10,000,000 numbers.\nTook 149 ms to toString primes up to 10,000,000.\nTook 306 ms to write to a file primes up to 10,000,000.\nTook 61,082 ms to write to a System.out primes up to 10,000,000.\n\ntime cat primes.txt\n\nreal    1m24.916s\nuser    0m3.619s\nsys     0m12.058s\n</code></pre>\n<p>The code</p>\n<pre><code>int upTo = 10*1000*1000;\nlong start = System.nanoTime();\nBitSet nonprimes = new BitSet(upTo);\nfor (int t = 2; t * t &lt; upTo; t++) {\n    if (nonprimes.get(t)) continue;\n    for (int i = 2 * t; i &lt;= upTo; i += t)\n        nonprimes.set(i);\n}\nPrintWriter report = new PrintWriter(&quot;report.txt&quot;);\nlong time = System.nanoTime() - start;\nreport.printf(&quot;Took %,d ms to examine %,d numbers.%n&quot;, time / 1000 / 1000, upTo);\n\nlong start2 = System.nanoTime();\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        Integer.toString(i);\n}\nlong time2 = System.nanoTime() - start2;\nreport.printf(&quot;Took %,d ms to toString primes up to %,d.%n&quot;, time2 / 1000 / 1000, upTo);\n\nlong start3 = System.nanoTime();\nPrintWriter pw = new PrintWriter(new BufferedOutputStream(new FileOutputStream(&quot;primes.txt&quot;), 64*1024));\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        pw.println(i);\n}\npw.close();\nlong time3 = System.nanoTime() - start3;\nreport.printf(&quot;Took %,d ms to write to a file primes up to %,d.%n&quot;, time3 / 1000 / 1000, upTo);\n\nlong start4 = System.nanoTime();\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        System.out.println(i);\n}\nlong time4 = System.nanoTime() - start4;\nreport.printf(&quot;Took %,d ms to write to a System.out primes up to %,d.%n&quot;, time4 / 1000 / 1000, upTo);\nreport.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292326358,"creation_date":1292326358,"answer_id":4438668,"question_id":4437715,"body_markdown":"If you&#39;re printing to the console window, not to a file, that will be the killer.\r\n\r\nEvery character has to be painted, and on every line the whole window has to be scrolled.\r\nIf the window is partly overlaid with other windows, it also has to do clipping.\r\n\r\nThat&#39;s going to take far more cycles than what your program is doing.\r\n\r\nUsually that&#39;s not a bad price to pay, since console output is supposed to be for your reading pleasure :)","title":"Why is System.out.println so slow?","body":"<p>If you're printing to the console window, not to a file, that will be the killer.</p>\n\n<p>Every character has to be painted, and on every line the whole window has to be scrolled.\nIf the window is partly overlaid with other windows, it also has to do clipping.</p>\n\n<p>That's going to take far more cycles than what your program is doing.</p>\n\n<p>Usually that's not a bad price to pay, since console output is supposed to be for your reading pleasure :)</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683166135,"creation_date":1292327992,"answer_id":4438910,"question_id":4437715,"body_markdown":"\r\n\r\nBy default, System.out.print() is only line-buffered and does a lot work related to Unicode handling. Because of its small buffer size, System.out.println() is not well suited to handle many repetitive outputs in a batch mode. Each line is flushed right away. If your output is mainly ASCII-based then by removing the Unicode-related activities, the overall execution time will be better. \r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0603.html","title":"Why is System.out.println so slow?","body":"<p>By default, System.out.print() is only line-buffered and does a lot work related to Unicode handling. Because of its small buffer size, System.out.println() is not well suited to handle many repetitive outputs in a batch mode. Each line is flushed right away. If your output is mainly ASCII-based then by removing the Unicode-related activities, the overall execution time will be better.</p>\n"},{"tags":[],"owner":{"account_id":12264813,"reputation":28,"user_id":8951614,"display_name":"yutanpo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540822483,"creation_date":1540822483,"answer_id":53047402,"question_id":4437715,"body_markdown":"Most of the answers here are right, but they don&#39;t cover the most important point: system calls. This is the operation that induces the more overhead.\r\n\r\nWhen your software needs to access some hardware resource (your screen for example), it needs to ask the OS (or hypervisor) if it can access the hardware. This costs a lot:\r\n\r\nHere are interesting blogs about syscalls, the last one being dedicated to syscall and Java\r\n\r\nhttp://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead\r\nhttp://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html\r\nhttps://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/\r\n","title":"Why is System.out.println so slow?","body":"<p>Most of the answers here are right, but they don't cover the most important point: system calls. This is the operation that induces the more overhead.</p>\n\n<p>When your software needs to access some hardware resource (your screen for example), it needs to ask the OS (or hypervisor) if it can access the hardware. This costs a lot:</p>\n\n<p>Here are interesting blogs about syscalls, the last one being dedicated to syscall and Java</p>\n\n<p><a href=\"http://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead\" rel=\"nofollow noreferrer\">http://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead</a>\n<a href=\"http://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html\" rel=\"nofollow noreferrer\">http://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html</a>\n<a href=\"https://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/\" rel=\"nofollow noreferrer\">https://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/</a></p>\n"}],"owner":{"display_name":"user328898"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19373,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4437752,"answer_count":7,"score":17,"last_activity_date":1683166135,"creation_date":1292319468,"question_id":4437715,"body_markdown":"Is this something common to all programming languages? Doing multiple print followed by a println seems faster  but moving everything to a string and just printing that seems fastest. Why?\r\n\r\nEDIT: For example, Java can find all the prime numbers up to 1 million in less than a second - but printing then all out each on their own println can take minutes! Up to a 10 billion can hours to print!\r\n\r\nEX: \r\n\r\n    package sieveoferatosthenes;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int upTo = 10000000;\r\n            boolean primes[] = new boolean[upTo];\r\n            for( int b = 0; b &lt; upTo; b++ ){\r\n                primes[b] = true;\r\n            }\r\n            primes[0] = false;\r\n            primes[1] = false;\r\n    \r\n            int testing = 1;\r\n    \r\n            while( testing &lt;= Math.sqrt(upTo)){\r\n                testing ++;\r\n                int testingWith = testing;\r\n                if( primes[testing] ){\r\n                    while( testingWith &lt; upTo ){\r\n                        testingWith = testingWith + testing;\r\n                        if ( testingWith &gt;= upTo){\r\n                        }\r\n                        else{\r\n                            primes[testingWith] = false;\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            }\r\n            for( int b = 2; b &lt; upTo; b++){\r\n                if( primes[b] ){\r\n                    System.out.println( b );\r\n                }\r\n            }\r\n        }\r\n    }","title":"Why is System.out.println so slow?","body":"<p>Is this something common to all programming languages? Doing multiple print followed by a println seems faster  but moving everything to a string and just printing that seems fastest. Why?</p>\n\n<p>EDIT: For example, Java can find all the prime numbers up to 1 million in less than a second - but printing then all out each on their own println can take minutes! Up to a 10 billion can hours to print!</p>\n\n<p>EX: </p>\n\n<pre><code>package sieveoferatosthenes;\npublic class Main {\n    public static void main(String[] args) {\n        int upTo = 10000000;\n        boolean primes[] = new boolean[upTo];\n        for( int b = 0; b &lt; upTo; b++ ){\n            primes[b] = true;\n        }\n        primes[0] = false;\n        primes[1] = false;\n\n        int testing = 1;\n\n        while( testing &lt;= Math.sqrt(upTo)){\n            testing ++;\n            int testingWith = testing;\n            if( primes[testing] ){\n                while( testingWith &lt; upTo ){\n                    testingWith = testingWith + testing;\n                    if ( testingWith &gt;= upTo){\n                    }\n                    else{\n                        primes[testingWith] = false;\n                    }\n\n                }\n            }\n        }\n        for( int b = 2; b &lt; upTo; b++){\n            if( primes[b] ){\n                System.out.println( b );\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","scheduled-tasks"],"comments":[{"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"score":1,"creation_date":1475061209,"post_id":39745154,"comment_id":66788052,"body_markdown":"Google always knock the stackoverflow door before whispering. :)","body":"Google always knock the stackoverflow door before whispering. :)"}],"answers":[{"tags":[],"owner":{"account_id":1112547,"reputation":13664,"user_id":1102741,"accept_rate":82,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475059459,"creation_date":1475059459,"answer_id":39745230,"question_id":39745154,"body_markdown":"Windows have already a task scheduler that you can invoke from command line: Schtasks.exe\r\n\r\n\r\nSCHTASKS /parameter [arguments]\r\n\r\nDescription:\r\n    Enables an administrator to create, delete, query, change, run and\r\n    end scheduled tasks on a local or remote system.\r\n\r\nParameter List:\r\n/Create         Creates a new scheduled task.\r\n\r\n/Delete         Deletes the scheduled task(s).\r\n\r\n/Query          Displays all scheduled tasks.\r\n\r\n/Change         Changes the properties of scheduled task.\r\n\r\n/Run            Runs the scheduled task on demand.\r\n\r\n/End            Stops the currently running scheduled task.\r\n\r\n /ShowSid        Shows the security identifier corresponding to a scheduled t\r\nask name.\r\n\r\n /?              Displays this help message.\r\n\r\n","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Windows have already a task scheduler that you can invoke from command line: Schtasks.exe</p>\n\n<p>SCHTASKS /parameter [arguments]</p>\n\n<p>Description:\n    Enables an administrator to create, delete, query, change, run and\n    end scheduled tasks on a local or remote system.</p>\n\n<p>Parameter List:\n/Create         Creates a new scheduled task.</p>\n\n<p>/Delete         Deletes the scheduled task(s).</p>\n\n<p>/Query          Displays all scheduled tasks.</p>\n\n<p>/Change         Changes the properties of scheduled task.</p>\n\n<p>/Run            Runs the scheduled task on demand.</p>\n\n<p>/End            Stops the currently running scheduled task.</p>\n\n<p>/ShowSid        Shows the security identifier corresponding to a scheduled t\nask name.</p>\n\n<p>/?              Displays this help message.</p>\n"},{"tags":[],"owner":{"account_id":7125962,"reputation":85,"user_id":5448883,"display_name":"Omal Withanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475061011,"creation_date":1475061011,"answer_id":39745776,"question_id":39745154,"body_markdown":"Try this one http://yajsw.sourceforge.net/. Using &quot;YAJSW&quot; (Yet Another Java Service Wrapper) you can register your java service as a windows service.","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Try this one <a href=\"http://yajsw.sourceforge.net/\" rel=\"nofollow\">http://yajsw.sourceforge.net/</a>. Using \"YAJSW\" (Yet Another Java Service Wrapper) you can register your java service as a windows service.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683166087,"creation_date":1475062817,"answer_id":39746408,"question_id":39745154,"body_markdown":"Launch the command line utility [schtasks][1].\r\n\r\nTo create the task.\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TestWinScheduler {\r\n    \r\n    public static void main(String args[]) throws IOException, InterruptedException {\r\n      // schtasks /create /tn &quot;HowToTask&quot; /tr c:\\temp\\test.cmd /sc once /st 00:00:00 /sd 2022/01/01 /ru username /rp password\r\n    \r\n      List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n    \r\n      commands.add(&quot;schtasks.exe&quot;);\r\n      commands.add(&quot;/CREATE&quot;);\r\n      commands.add(&quot;/TN&quot;);\r\n      commands.add(&quot;\\&quot;HowToTask\\&quot;&quot;);\r\n      commands.add(&quot;/TR&quot;);\r\n      commands.add(&quot;\\&quot;c:/temp/test.cmd\\&quot;&quot;);\r\n      commands.add(&quot;/SC&quot;);\r\n      commands.add(&quot;once&quot;);\r\n      commands.add(&quot;/ST&quot;);\r\n      commands.add(&quot;00:00:00&quot;);\r\n      commands.add(&quot;/SD&quot;);\r\n      commands.add(&quot;2022/10/10&quot;);\r\n      commands.add(&quot;/RU&quot;);\r\n      commands.add(&quot;username&quot;);\r\n      commands.add(&quot;/RP&quot;);\r\n      commands.add(&quot;password&quot;);\r\n    \r\n      ProcessBuilder builder = new ProcessBuilder(commands);\r\n      Process p = builder.start();\r\n      p.waitFor();\r\n      System.out.println(p.exitValue()); // 0 : OK\r\n                                         // 1 : Error\r\n      }\r\n    }\r\n\r\nTo execute a task :\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TestWinScheduler {\r\n    \r\n    public static void main(String args[]) throws IOException, InterruptedException {\r\n      // schtasks /run /tn &quot;HowToTask&quot;\r\n    \r\n      List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n    \r\n      commands.add(&quot;schtasks.exe&quot;);\r\n      commands.add(&quot;/RUN&quot;);\r\n      commands.add(&quot;/TN&quot;);\r\n      commands.add(&quot;\\&quot;HowtoTask\\&quot;&quot;);\r\n    \r\n      ProcessBuilder builder = new ProcessBuilder(commands);\r\n      Process p = builder.start();\r\n      p.waitFor();\r\n      System.out.println(p.exitValue()); // 0 : OK\r\n                                         // 1 : Error\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/schtasks.mspx\r\n  [2]: http://www.rgagnon.com/javadetails/java-schedule-or-run-a-windows-task.html","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Launch the command line utility <a href=\"http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/schtasks.mspx\" rel=\"nofollow noreferrer\">schtasks</a>.</p>\n<p>To create the task.</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestWinScheduler {\n\npublic static void main(String args[]) throws IOException, InterruptedException {\n  // schtasks /create /tn &quot;HowToTask&quot; /tr c:\\temp\\test.cmd /sc once /st 00:00:00 /sd 2022/01/01 /ru username /rp password\n\n  List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n\n  commands.add(&quot;schtasks.exe&quot;);\n  commands.add(&quot;/CREATE&quot;);\n  commands.add(&quot;/TN&quot;);\n  commands.add(&quot;\\&quot;HowToTask\\&quot;&quot;);\n  commands.add(&quot;/TR&quot;);\n  commands.add(&quot;\\&quot;c:/temp/test.cmd\\&quot;&quot;);\n  commands.add(&quot;/SC&quot;);\n  commands.add(&quot;once&quot;);\n  commands.add(&quot;/ST&quot;);\n  commands.add(&quot;00:00:00&quot;);\n  commands.add(&quot;/SD&quot;);\n  commands.add(&quot;2022/10/10&quot;);\n  commands.add(&quot;/RU&quot;);\n  commands.add(&quot;username&quot;);\n  commands.add(&quot;/RP&quot;);\n  commands.add(&quot;password&quot;);\n\n  ProcessBuilder builder = new ProcessBuilder(commands);\n  Process p = builder.start();\n  p.waitFor();\n  System.out.println(p.exitValue()); // 0 : OK\n                                     // 1 : Error\n  }\n}\n</code></pre>\n<p>To execute a task :</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestWinScheduler {\n\npublic static void main(String args[]) throws IOException, InterruptedException {\n  // schtasks /run /tn &quot;HowToTask&quot;\n\n  List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n\n  commands.add(&quot;schtasks.exe&quot;);\n  commands.add(&quot;/RUN&quot;);\n  commands.add(&quot;/TN&quot;);\n  commands.add(&quot;\\&quot;HowtoTask\\&quot;&quot;);\n\n  ProcessBuilder builder = new ProcessBuilder(commands);\n  Process p = builder.start();\n  p.waitFor();\n  System.out.println(p.exitValue()); // 0 : OK\n                                     // 1 : Error\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1683166087,"creation_date":1475059286,"question_id":39745154,"body_markdown":"I want to create a task under Window Task Scheduler using my java code.\r\nOS I am using is win7 64bit.\r\nAfter creating the task I have to edit the scheduled time weekly or biweekly.\r\nIs there any window scheduler API to use in java code or command to use under command prompt?","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>I want to create a task under Window Task Scheduler using my java code.\nOS I am using is win7 64bit.\nAfter creating the task I have to edit the scheduled time weekly or biweekly.\nIs there any window scheduler API to use in java code or command to use under command prompt?</p>\n"},{"tags":["java","com"],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683166019,"creation_date":1302820190,"answer_id":5670465,"question_id":5669709,"body_markdown":"Check the ActiveX Bridge.\r\n\r\n&gt; The ActiveX Bridge allow a component\r\n&gt; based on JavaBeans(TM) component\r\n&gt; architecture (&quot;bean&quot;) to be\r\n&gt; effectively packaged as an ActiveX\r\n&gt; control, thereby allowing it to be\r\n&gt; used as a functional component in an\r\n&gt; ActiveX container.\r\n\r\n\r\nThe official documentation : http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html\r\n\r\n\r\n\r\n\r\n","title":"Creating COM objects with Java","body":"<p>Check the ActiveX Bridge.</p>\n<blockquote>\n<p>The ActiveX Bridge allow a component\nbased on JavaBeans(TM) component\narchitecture (&quot;bean&quot;) to be\neffectively packaged as an ActiveX\ncontrol, thereby allowing it to be\nused as a functional component in an\nActiveX container.</p>\n</blockquote>\n<p>The official documentation : <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html</a></p>\n"}],"owner":{"account_id":119214,"reputation":193,"user_id":310765,"display_name":"Matachana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5670465,"answer_count":1,"score":3,"last_activity_date":1683166019,"creation_date":1302815268,"question_id":5669709,"body_markdown":"To add support for some new features in a VB3.0 legacy application, I need to create a COM object in Java. I found some tutorials in the Internet, but they all refer to the discontinued javareg.exe tool distributed by Microsoft. I was unable to find a download place nor the MSJVM virtual machine required to run the COM object&#39;s code.\r\n\r\nSo, in nowadays, how can I expose a COM-object written in Java to any other application?","title":"Creating COM objects with Java","body":"<p>To add support for some new features in a VB3.0 legacy application, I need to create a COM object in Java. I found some tutorials in the Internet, but they all refer to the discontinued javareg.exe tool distributed by Microsoft. I was unable to find a download place nor the MSJVM virtual machine required to run the COM object's code.</p>\n\n<p>So, in nowadays, how can I expose a COM-object written in Java to any other application?</p>\n"},{"tags":["java","windows","internationalization","portability","non-ascii-characters"],"comments":[{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1365763681,"post_id":15969345,"comment_id":22761304,"body_markdown":"Are you specifying the right `-encoding` option while compiling your code? See the [javac documentation](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html) for details.","body":"Are you specifying the right <code>-encoding</code> option while compiling your code? See the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\" rel=\"nofollow noreferrer\">javac documentation</a> for details."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":0,"creation_date":1365768255,"post_id":15969345,"comment_id":22763949,"body_markdown":"@mthmulders&#160;—&#160;Good idea, but Eclipse does not provide a way to do that. I choose Export…&#160;→&#160;Java&#160;→&#160;Runnable&#160;JAR&#160;file.","body":"@mthmulders — Good idea, but Eclipse does not provide a way to do that. I choose Export… → Java → Runnable JAR file."}],"answers":[{"tags":[],"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365764076,"creation_date":1365763753,"answer_id":15969401,"question_id":15969345,"body_markdown":"Use unicode escaped sequence: `\\u00E8`\r\n\r\n    System.err.println(&quot;Param\\u00E8tre manquant. … &quot;);\r\n\r\n[Here&#39;s][1] an useful Unicode character table.\r\n\r\n\r\n  [1]: http://www.tamasoft.co.jp/en/general-info/unicode.html","title":"From a Java program, portable way to write strings with accents","body":"<p>Use unicode escaped sequence: <code>\\u00E8</code></p>\n\n<pre><code>System.err.println(\"Param\\u00E8tre manquant. … \");\n</code></pre>\n\n<p><a href=\"http://www.tamasoft.co.jp/en/general-info/unicode.html\" rel=\"nofollow\">Here's</a> an useful Unicode character table.</p>\n"},{"tags":[],"owner":{"account_id":2391149,"reputation":6383,"user_id":2090976,"accept_rate":100,"display_name":"fcm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365763812,"creation_date":1365763812,"answer_id":15969422,"question_id":15969345,"body_markdown":"Try using `\\u&lt;XXXX&gt;` when encoding unicode characters. It won&#39;t look pretty in code, but it will work and be portable.\r\n\r\nFor instance:\r\n\r\n    String specialCharacters= &quot;\\u00E1 \\u00E9 \\u00ED \\u00F3 \\u00FA&quot;;\r\n    System.out.println(specialCharacters); // This will print &#225; &#233; &#237; &#243; &#250;\r\n\r\nCheck Alepac&#39;s answer for a table of unicode characters.","title":"From a Java program, portable way to write strings with accents","body":"<p>Try using <code>\\u&lt;XXXX&gt;</code> when encoding unicode characters. It won't look pretty in code, but it will work and be portable.</p>\n\n<p>For instance:</p>\n\n<pre><code>String specialCharacters= \"\\u00E1 \\u00E9 \\u00ED \\u00F3 \\u00FA\";\nSystem.out.println(specialCharacters); // This will print á é í ó ú\n</code></pre>\n\n<p>Check Alepac's answer for a table of unicode characters.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683165999,"creation_date":1365765609,"answer_id":15970024,"question_id":15969345,"body_markdown":"In Java 1.6 you can use [System.console()][1] instead of System.out.println() to display accentuated characters to console.\r\n\r\n    public class Test2 {\r\n      public static void main(String args[]){\r\n       String s = &quot;caract&#232;res fran&#231;ais :  &#224; &#233; \\u00e9&quot;; // Unicode for &quot;&#233;&quot;\r\n       System.out.println(s);\r\n       System.console().writer().println(s);\r\n      }\r\n    }\r\n\r\nand the output is\r\n\r\n    C:\\temp&gt;java Test\r\n    caract&#254;res fran&#254;ais :  &#211; &#218; &#218;\r\n    caract&#232;res fran&#231;ais :  &#224; &#233; &#233;\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\r\n  [2]: http://www.rgagnon.com/javadetails/java-0046.html","title":"From a Java program, portable way to write strings with accents","body":"<p>In Java 1.6 you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">System.console()</a> instead of System.out.println() to display accentuated characters to console.</p>\n<pre><code>public class Test2 {\n  public static void main(String args[]){\n   String s = &quot;caractères français :  à é \\u00e9&quot;; // Unicode for &quot;é&quot;\n   System.out.println(s);\n   System.console().writer().println(s);\n  }\n}\n</code></pre>\n<p>and the output is</p>\n<pre><code>C:\\temp&gt;java Test\ncaractþres franþais :  Ó Ú Ú\ncaractères français :  à é é\n</code></pre>\n"}],"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2771,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":3,"score":4,"last_activity_date":1683165999,"creation_date":1365763557,"question_id":15969345,"body_markdown":"Hullo,\r\n\r\nI have a Java program, with command line interface. It is used on Linux and Windows. **The Java code is portable, and I want it to remain portable.**\r\n\r\nMy Java source files are in Unicode — which is good. In them, I have lines like this&#160;:\r\n\r\n    System.err.println(&quot;Param&#232;tre manquant.&#160;…&#160;&quot;);\r\n\r\nI use Eclipse to **package** the program as a JAR archive.\r\n\r\nThen, the program is run by a command like this&#160;:\r\n\r\n`java -jar MyProgram.jar parameters`\r\n\r\nIn the Windows XP command line, this gives&#160;:\r\n\r\n`Param&#222;tre manquant.&#160;…&#160;`\r\n\r\n**Is there a portable way to write strings with accents in the Java program, so that they appear correctly in the Windows command line&#160;?** Or do we just have to live with Windows stupidly replacing accented&#160;E with icelandic thorn&#160;?\r\n\r\nI use Java 6.\r\n","title":"From a Java program, portable way to write strings with accents","body":"<p>Hullo,</p>\n\n<p>I have a Java program, with command line interface. It is used on Linux and Windows. <strong>The Java code is portable, and I want it to remain portable.</strong></p>\n\n<p>My Java source files are in Unicode — which is good. In them, I have lines like this :</p>\n\n<pre><code>System.err.println(\"Paramètre manquant. … \");\n</code></pre>\n\n<p>I use Eclipse to <strong>package</strong> the program as a JAR archive.</p>\n\n<p>Then, the program is run by a command like this :</p>\n\n<p><code>java -jar MyProgram.jar parameters</code></p>\n\n<p>In the Windows XP command line, this gives :</p>\n\n<p><code>ParamÞtre manquant. … </code></p>\n\n<p><strong>Is there a portable way to write strings with accents in the Java program, so that they appear correctly in the Windows command line ?</strong> Or do we just have to live with Windows stupidly replacing accented E with icelandic thorn ?</p>\n\n<p>I use Java 6.</p>\n"},{"tags":["java","unicode","special-characters","diacritics"],"comments":[{"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"score":0,"creation_date":1245263797,"post_id":1008802,"comment_id":817652,"body_markdown":"See this question: http://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net - there should also be some other questions about this topic, but I can&#39;t find them at the moment.","body":"See this question: <a href=\"http://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\" title=\"how do i remove diacritics accents from a string in net\">stackoverflow.com/questions/249087/&hellip;</a> - there should also be some other questions about this topic, but I can&#39;t find them at the moment."},{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":1,"creation_date":1245267741,"post_id":1008802,"comment_id":818103,"body_markdown":"Should your third example be Ȳ → Y?","body":"Should your third example be Ȳ → Y?"},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":2,"creation_date":1245268864,"post_id":1008802,"comment_id":818216,"body_markdown":"Why do you want to do this?  If we knew what your overall goal was, we might be able to be more helpful.","body":"Why do you want to do this?  If we knew what your overall goal was, we might be able to be more helpful."},{"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"score":0,"creation_date":1245269083,"post_id":1008802,"comment_id":818236,"body_markdown":"David you know some EMOs use different chars in sentences. Here you an example: ฬ.&#162;. tђє ฬยη∂єг&#162;คקђ Ŧค๓เℓy &lt;-- Solve this :) @schnaader, I think that is what I&#39;m looking for but not in Java.","body":"David you know some EMOs use different chars in sentences. Here you an example: ฬ.&#162;. tђє ฬยη∂єг&#162;คקђ Ŧค๓เℓy &lt;-- Solve this :) @schnaader, I think that is what I&#39;m looking for but not in Java."},{"owner":{"account_id":15131,"reputation":37459,"user_id":31641,"accept_rate":90,"display_name":"dkretz"},"score":0,"creation_date":1245269272,"post_id":1008802,"comment_id":818261,"body_markdown":"This conversation has been done before - see @schnaader above.","body":"This conversation has been done before - see @schnaader above."},{"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"score":0,"creation_date":1245269690,"post_id":1008802,"comment_id":818299,"body_markdown":"I said that I&#39;m looking for something in Java.","body":"I said that I&#39;m looking for something in Java."},{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1246106202,"post_id":1008802,"comment_id":864302,"body_markdown":"Related (not necessarily duplicate) Java question: &#39;Method to substitute foreign for English characters in Java?&#39;, http://stackoverflow.com/questions/1016955/method-to-substitute-foreign-for-english-characters-in-java","body":"Related (not necessarily duplicate) Java question: &#39;Method to substitute foreign for English characters in Java?&#39;, <a href=\"http://stackoverflow.com/questions/1016955/method-to-substitute-foreign-for-english-characters-in-java\" title=\"method to substitute foreign for english characters in java\">stackoverflow.com/questions/1016955/&hellip;</a>"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1433437194,"post_id":1008802,"comment_id":49363098,"body_markdown":"look for `Unihandecode`","body":"look for <code>Unihandecode</code>"},{"owner":{"account_id":60334,"reputation":39652,"user_id":180275,"accept_rate":77,"display_name":"Ren&#233; Nyffenegger"},"score":0,"creation_date":1501160766,"post_id":1008802,"comment_id":77664360,"body_markdown":"http://renenyffenegger.ch/development/Unicode/Find-Unicode-Character-by-Appearance.html","body":"<a href=\"http://renenyffenegger.ch/development/Unicode/Find-Unicode-Character-by-Appearance.html\" rel=\"nofollow noreferrer\">renenyffenegger.ch/development/Unicode/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523384013,"creation_date":1245264571,"answer_id":1008901,"question_id":1008802,"body_markdown":"The problem with &quot;converting&quot; arbitrary Unicode to ASCII is that the meaning of a character is culture-dependent. For example, “&#223;” to a German-speaking person should be converted to &quot;ss&quot; while an English-speaker would probably convert it to “B”.\r\n\r\nAdd to that the fact that Unicode has multiple code points for the same glyphs.\r\n\r\nThe upshot is that the only way to do this is create a massive table with each Unicode character and the ASCII character you want to convert it to. You can take a shortcut by normalizing characters with accents to normalization form KD, but not all characters normalize to ASCII. In addition, Unicode does not define which parts of a glyph are &quot;accents&quot;.\r\n\r\nHere is a tiny excerpt from an app that does this:\r\n\r\n\tswitch (c)\r\n\t{\r\n\t\tcase &#39;A&#39;:\r\n\t\tcase &#39;\\u00C0&#39;:\t//  &#192; LATIN CAPITAL LETTER A WITH GRAVE\r\n\t\tcase &#39;\\u00C1&#39;:\t//  &#193; LATIN CAPITAL LETTER A WITH ACUTE\r\n\t\tcase &#39;\\u00C2&#39;:\t//  &#194; LATIN CAPITAL LETTER A WITH CIRCUMFLEX\r\n\t\t// and so on for about 20 lines...\r\n\t\t\treturn &quot;A&quot;;\r\n\t\t\tbreak;\r\n\r\n\t\tcase &#39;\\u00C6&#39;://  &#198; LATIN CAPITAL LIGATURE AE\r\n\t\t\treturn &quot;AE&quot;;\r\n\t\t\tbreak;\r\n\r\n\t\t// And so on for pages...\r\n\t}","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The problem with \"converting\" arbitrary Unicode to ASCII is that the meaning of a character is culture-dependent. For example, “ß” to a German-speaking person should be converted to \"ss\" while an English-speaker would probably convert it to “B”.</p>\n\n<p>Add to that the fact that Unicode has multiple code points for the same glyphs.</p>\n\n<p>The upshot is that the only way to do this is create a massive table with each Unicode character and the ASCII character you want to convert it to. You can take a shortcut by normalizing characters with accents to normalization form KD, but not all characters normalize to ASCII. In addition, Unicode does not define which parts of a glyph are \"accents\".</p>\n\n<p>Here is a tiny excerpt from an app that does this:</p>\n\n<pre><code>switch (c)\n{\n    case 'A':\n    case '\\u00C0':  //  À LATIN CAPITAL LETTER A WITH GRAVE\n    case '\\u00C1':  //  Á LATIN CAPITAL LETTER A WITH ACUTE\n    case '\\u00C2':  //  Â LATIN CAPITAL LETTER A WITH CIRCUMFLEX\n    // and so on for about 20 lines...\n        return \"A\";\n        break;\n\n    case '\\u00C6'://  Æ LATIN CAPITAL LIGATURE AE\n        return \"AE\";\n        break;\n\n    // And so on for pages...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33083,"reputation":92212,"user_id":92313,"accept_rate":88,"display_name":"Daniel Vandersluis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245266047,"creation_date":1245266047,"answer_id":1009010,"question_id":1008802,"body_markdown":"You could try using `unidecode`, which is available as a [ruby gem][1] and as a [perl module on cpan][2]. Essentially, it works as a huge lookup table, where each unicode code point relates to an ascii character or string.\r\n\r\n\r\n  [1]: http://rubyforge.org/projects/unidecode/\r\n  [2]: http://search.cpan.org/~sburke/Text-Unidecode-0.04/lib/Text/Unidecode.pm","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>You could try using <code>unidecode</code>, which is available as a <a href=\"http://rubyforge.org/projects/unidecode/\" rel=\"nofollow noreferrer\">ruby gem</a> and as a <a href=\"http://search.cpan.org/~sburke/Text-Unidecode-0.04/lib/Text/Unidecode.pm\" rel=\"nofollow noreferrer\">perl module on cpan</a>. Essentially, it works as a huge lookup table, where each unicode code point relates to an ascii character or string.</p>\n"},{"tags":[],"owner":{"account_id":3097,"reputation":4238,"user_id":4396,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1354324316,"creation_date":1245269892,"answer_id":1009319,"question_id":1008802,"body_markdown":"Attempting to &quot;convert them all&quot; is the wrong approach to the problem.  \r\n\r\nFirstly, you need to understand the limitations of what you are trying to do.  As others have pointed out, diacritics are there for a reason: they are essentially unique letters in the alphabet of that language with their own meaning / sound etc.: removing those marks is just the same as replacing random letters in an English word.  This is before you even go onto consider the Cyrillic languages and other script based texts such as Arabic, which simply cannot be &quot;converted&quot; to English.\r\n\r\nIf you *must*, for whatever reason, convert characters, then the only sensible way to approach this it to firstly reduce the scope of the task at hand.  Consider the source of the input - if you are coding an application for &quot;the Western world&quot; (to use as good a phrase as any), it would be unlikely that you would ever need to parse Arabic characters.  Similarly, the Unicode character set contains hundreds of mathematical and pictorial symbols: there is no (easy) way for users to directly enter these, so you can assume they can be ignored.\r\n\r\nBy taking these logical steps you can reduce the number of possible characters to parse to the point where a dictionary based lookup / replace operation is feasible.  It then becomes a small amount of slightly boring work creating the dictionaries, and a trivial task to perform the replacement.  If your language supports native Unicode characters (as Java does) and optimises static structures correctly, such find and replaces tend to be blindingly quick.\r\n\r\nThis comes from experience of having worked on an application that was required to allow end users to search bibliographic data that included diacritic characters.  The lookup arrays (as it was in our case) took perhaps 1 man day to produce, to cover all diacritic marks for all Western European languages.\r\n\r\n\r\n","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Attempting to \"convert them all\" is the wrong approach to the problem.  </p>\n\n<p>Firstly, you need to understand the limitations of what you are trying to do.  As others have pointed out, diacritics are there for a reason: they are essentially unique letters in the alphabet of that language with their own meaning / sound etc.: removing those marks is just the same as replacing random letters in an English word.  This is before you even go onto consider the Cyrillic languages and other script based texts such as Arabic, which simply cannot be \"converted\" to English.</p>\n\n<p>If you <em>must</em>, for whatever reason, convert characters, then the only sensible way to approach this it to firstly reduce the scope of the task at hand.  Consider the source of the input - if you are coding an application for \"the Western world\" (to use as good a phrase as any), it would be unlikely that you would ever need to parse Arabic characters.  Similarly, the Unicode character set contains hundreds of mathematical and pictorial symbols: there is no (easy) way for users to directly enter these, so you can assume they can be ignored.</p>\n\n<p>By taking these logical steps you can reduce the number of possible characters to parse to the point where a dictionary based lookup / replace operation is feasible.  It then becomes a small amount of slightly boring work creating the dictionaries, and a trivial task to perform the replacement.  If your language supports native Unicode characters (as Java does) and optimises static structures correctly, such find and replaces tend to be blindingly quick.</p>\n\n<p>This comes from experience of having worked on an application that was required to allow end users to search bibliographic data that included diacritic characters.  The lookup arrays (as it was in our case) took perhaps 1 man day to produce, to cover all diacritic marks for all Western European languages.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683165974,"creation_date":1245278012,"answer_id":1009847,"question_id":1008802,"body_markdown":"If the need is to convert &quot;&#242;&#233;ış&#246;&#231;-&gt;oeisoc&quot;, you can use this a starting point :\r\n\r\n    public class AsciiUtils {\r\n        private static final String PLAIN_ASCII =\r\n          &quot;AaEeIiOoUu&quot;    // grave\r\n        + &quot;AaEeIiOoUuYy&quot;  // acute\r\n        + &quot;AaEeIiOoUuYy&quot;  // circumflex\r\n        + &quot;AaOoNn&quot;        // tilde\r\n        + &quot;AaEeIiOoUuYy&quot;  // umlaut\r\n        + &quot;Aa&quot;            // ring\r\n        + &quot;Cc&quot;            // cedilla\r\n        + &quot;OoUu&quot;          // double acute\r\n        ;\r\n    \r\n        private static final String UNICODE =\r\n         &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot;             \r\n        + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; \r\n        + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; \r\n        + &quot;\\u00C3\\u00E3\\u00D5\\u00F5\\u00D1\\u00F1&quot;\r\n        + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; \r\n        + &quot;\\u00C5\\u00E5&quot;                                                             \r\n        + &quot;\\u00C7\\u00E7&quot; \r\n        + &quot;\\u0150\\u0151\\u0170\\u0171&quot; \r\n        ;\r\n    \r\n        // private constructor, can&#39;t be instanciated!\r\n        private AsciiUtils() { }\r\n    \r\n        // remove accentued from a string and replace with ascii equivalent\r\n        public static String convertNonAscii(String s) {\r\n           if (s == null) return null;\r\n           StringBuilder sb = new StringBuilder();\r\n           int n = s.length();\r\n           for (int i = 0; i &lt; n; i++) {\r\n              char c = s.charAt(i);\r\n              int pos = UNICODE.indexOf(c);\r\n              if (pos &gt; -1){\r\n                  sb.append(PLAIN_ASCII.charAt(pos));\r\n              }\r\n              else {\r\n                  sb.append(c);\r\n              }\r\n           }\r\n           return sb.toString();\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n           String s = \r\n             &quot;The result : &#200;,&#201;,&#202;,&#203;,&#219;,&#217;,&#207;,&#206;,&#192;,&#194;,&#212;,&#232;,&#233;,&#234;,&#235;,&#251;,&#249;,&#239;,&#238;,&#224;,&#226;,&#244;,&#231;&quot;;\r\n           System.out.println(AsciiUtils.convertNonAscii(s));\r\n           // output : \r\n           // The result : E,E,E,E,U,U,I,I,A,A,O,e,e,e,e,u,u,i,i,a,a,o,c\r\n        }\r\n    }\r\n\r\nThe JDK 1.6 provides the java.text.Normalizer class that can be used for this task.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0456.html","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>If the need is to convert &quot;òéışöç-&gt;oeisoc&quot;, you can use this a starting point :</p>\n<pre><code>public class AsciiUtils {\n    private static final String PLAIN_ASCII =\n      &quot;AaEeIiOoUu&quot;    // grave\n    + &quot;AaEeIiOoUuYy&quot;  // acute\n    + &quot;AaEeIiOoUuYy&quot;  // circumflex\n    + &quot;AaOoNn&quot;        // tilde\n    + &quot;AaEeIiOoUuYy&quot;  // umlaut\n    + &quot;Aa&quot;            // ring\n    + &quot;Cc&quot;            // cedilla\n    + &quot;OoUu&quot;          // double acute\n    ;\n\n    private static final String UNICODE =\n     &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot;             \n    + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; \n    + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; \n    + &quot;\\u00C3\\u00E3\\u00D5\\u00F5\\u00D1\\u00F1&quot;\n    + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; \n    + &quot;\\u00C5\\u00E5&quot;                                                             \n    + &quot;\\u00C7\\u00E7&quot; \n    + &quot;\\u0150\\u0151\\u0170\\u0171&quot; \n    ;\n\n    // private constructor, can't be instanciated!\n    private AsciiUtils() { }\n\n    // remove accentued from a string and replace with ascii equivalent\n    public static String convertNonAscii(String s) {\n       if (s == null) return null;\n       StringBuilder sb = new StringBuilder();\n       int n = s.length();\n       for (int i = 0; i &lt; n; i++) {\n          char c = s.charAt(i);\n          int pos = UNICODE.indexOf(c);\n          if (pos &gt; -1){\n              sb.append(PLAIN_ASCII.charAt(pos));\n          }\n          else {\n              sb.append(c);\n          }\n       }\n       return sb.toString();\n    }\n\n    public static void main(String args[]) {\n       String s = \n         &quot;The result : È,É,Ê,Ë,Û,Ù,Ï,Î,À,Â,Ô,è,é,ê,ë,û,ù,ï,î,à,â,ô,ç&quot;;\n       System.out.println(AsciiUtils.convertNonAscii(s));\n       // output : \n       // The result : E,E,E,E,U,U,I,I,A,A,O,e,e,e,e,u,u,i,i,a,a,o,c\n    }\n}\n</code></pre>\n<p>The JDK 1.6 provides the java.text.Normalizer class that can be used for this task.</p>\n"},{"tags":[],"owner":{"account_id":4844,"reputation":41872,"user_id":7488,"accept_rate":67,"display_name":"JacquesB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246105192,"creation_date":1246104297,"answer_id":1052731,"question_id":1008802,"body_markdown":"There is no easy or general way to do what you want because it is just your subjective opinion that these letters look loke the latin letters you want to convert to. They are actually separate letters with their own distinct names and sounds which just happen to superficially look like a latin letter. \r\n\r\nIf you want that conversion, you have to create your own translation table based on what latin letters you think the non-latin letters should be converted to.\r\n\r\n(If you only want to remove diacritial marks, there are some answers in this thread: https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net However you describe a more general problem)","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>There is no easy or general way to do what you want because it is just your subjective opinion that these letters look loke the latin letters you want to convert to. They are actually separate letters with their own distinct names and sounds which just happen to superficially look like a latin letter. </p>\n\n<p>If you want that conversion, you have to create your own translation table based on what latin letters you think the non-latin letters should be converted to.</p>\n\n<p>(If you only want to remove diacritial marks, there are some answers in this thread: <a href=\"https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\">How do I remove diacritics (accents) from a string in .NET?</a> However you describe a more general problem)</p>\n"},{"tags":[],"owner":{"account_id":42716,"reputation":3811,"user_id":124533,"accept_rate":88,"display_name":"hashable"},"down_vote_count":2,"up_vote_count":211,"is_accepted":true,"score":209,"last_activity_date":1351769400,"creation_date":1249077963,"answer_id":1215117,"question_id":1008802,"body_markdown":"Reposting my post from [How do I remove diacritics (accents) from a string in .NET?][1]\r\n\r\nThis method works fine in java *(purely for the purpose of removing diacritical marks aka accents)*.\r\n\r\nIt basically converts all accented characters into their deAccented counterparts followed by their combining diacritics. Now you can use a regex to strip off the diacritics.\r\n\r\n    import java.text.Normalizer;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public String deAccent(String str) {\r\n        String nfdNormalizedString = Normalizer.normalize(str, Normalizer.Form.NFD); \r\n        Pattern pattern = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\r\n        return pattern.matcher(nfdNormalizedString).replaceAll(&quot;&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Reposting my post from <a href=\"https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\">How do I remove diacritics (accents) from a string in .NET?</a></p>\n\n<p>This method works fine in java <em>(purely for the purpose of removing diacritical marks aka accents)</em>.</p>\n\n<p>It basically converts all accented characters into their deAccented counterparts followed by their combining diacritics. Now you can use a regex to strip off the diacritics.</p>\n\n<pre><code>import java.text.Normalizer;\nimport java.util.regex.Pattern;\n\npublic String deAccent(String str) {\n    String nfdNormalizedString = Normalizer.normalize(str, Normalizer.Form.NFD); \n    Pattern pattern = Pattern.compile(\"\\\\p{InCombiningDiacriticalMarks}+\");\n    return pattern.matcher(nfdNormalizedString).replaceAll(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1252486548,"creation_date":1252486227,"answer_id":1398403,"question_id":1008802,"body_markdown":"Since the encoding that turns &quot;the Family&quot; into &quot;tђє Ŧค๓เℓy&quot; is effectively random and not following any algorithm that can be explained by the information of the Unicode codepoints involved, there&#39;s no general way to solve this algorithmically.\r\n\r\nYou will need to build the mapping of Unicode characters into latin characters which they resemble. You could probably do this with some smart machine learning on the actual glyphs representing the Unicode codepoints. But I think the effort for this would be greater than manually building that mapping. Especially if you have a good amount of examples from which you can build your mapping.\r\n\r\nTo clarify: a few of the substitutions can actually be solved via the Unicode data (as the other answers demonstrate), but some letters simply have no reasonable association with the latin characters which they resemble.\r\n\r\nExamples:\r\n\r\n * &quot;ђ&quot; (U+0452 CYRILLIC SMALL LETTER DJE) is more related to &quot;d&quot; than to &quot;h&quot;, but is used to represent &quot;h&quot;.\r\n * &quot;Ŧ&quot; (U+0166 LATIN CAPITAL LETTER T WITH STROKE) is somewhat related to &quot;T&quot; (as the name suggests) but is used to represent &quot;F&quot;.\r\n * &quot;ค&quot; (U+0E04 THAI CHARACTER KHO KHWAI) is not related to any latin character at all and in your example is used to represent &quot;a&quot;","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Since the encoding that turns \"the Family\" into \"tђє Ŧค๓เℓy\" is effectively random and not following any algorithm that can be explained by the information of the Unicode codepoints involved, there's no general way to solve this algorithmically.</p>\n\n<p>You will need to build the mapping of Unicode characters into latin characters which they resemble. You could probably do this with some smart machine learning on the actual glyphs representing the Unicode codepoints. But I think the effort for this would be greater than manually building that mapping. Especially if you have a good amount of examples from which you can build your mapping.</p>\n\n<p>To clarify: a few of the substitutions can actually be solved via the Unicode data (as the other answers demonstrate), but some letters simply have no reasonable association with the latin characters which they resemble.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li>\"ђ\" (U+0452 CYRILLIC SMALL LETTER DJE) is more related to \"d\" than to \"h\", but is used to represent \"h\".</li>\n<li>\"Ŧ\" (U+0166 LATIN CAPITAL LETTER T WITH STROKE) is somewhat related to \"T\" (as the name suggests) but is used to represent \"F\".</li>\n<li>\"ค\" (U+0E04 THAI CHARACTER KHO KHWAI) is not related to any latin character at all and in your example is used to represent \"a\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1424952292,"creation_date":1351949285,"answer_id":13209635,"question_id":1008802,"body_markdown":"It&#39;s a part of [Apache Commons Lang](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29) as of ver. 3.0.\r\n\r\n    org.apache.commons.lang3.StringUtils.stripAccents(&quot;A&#241;&quot;);\r\n\r\nreturns `An`\r\n\r\nAlso see http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>It's a part of <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29\">Apache Commons Lang</a> as of ver. 3.0.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.stripAccents(\"Añ\");\n</code></pre>\n\n<p>returns <code>An</code></p>\n\n<p>Also see <a href=\"http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/\">http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/</a></p>\n"},{"tags":[],"owner":{"account_id":2638662,"reputation":111,"user_id":2282794,"display_name":"Dayanand Gowda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1416568408,"creation_date":1415600037,"answer_id":26837834,"question_id":1008802,"body_markdown":"The original request has been answered already. \r\n\r\nHowever, I am posting the below answer for those who might be looking for generic transliteration code to transliterate any charset to Latin/English in Java.\r\n\r\nNaive meaning of tranliteration: \r\nTranslated string in it&#39;s final form/target charset sounds like the string in it&#39;s original form.\r\nIf we want to transliterate any charset to Latin(English alphabets), then ICU4(ICU4J library in java ) will do the job.\r\n\r\nHere is the code snippet in java:\r\n\r\n        import com.ibm.icu.text.Transliterator; //ICU4J library import\r\n\r\n        public static String TRANSLITERATE_ID = &quot;NFD; Any-Latin; NFC&quot;;\r\n        public static String NORMALIZE_ID = &quot;NFD; [:Nonspacing Mark:] Remove; NFC&quot;;\r\n\r\n        /**\r\n        * Returns the transliterated string to convert any charset to latin.\r\n        */\r\n        public static String transliterate(String input) {\r\n            Transliterator transliterator = Transliterator.getInstance(TRANSLITERATE_ID + &quot;; &quot; + NORMALIZE_ID);\r\n            String result = transliterator.transliterate(input);\r\n            return result;\r\n        }","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The original request has been answered already. </p>\n\n<p>However, I am posting the below answer for those who might be looking for generic transliteration code to transliterate any charset to Latin/English in Java.</p>\n\n<p>Naive meaning of tranliteration: \nTranslated string in it's final form/target charset sounds like the string in it's original form.\nIf we want to transliterate any charset to Latin(English alphabets), then ICU4(ICU4J library in java ) will do the job.</p>\n\n<p>Here is the code snippet in java:</p>\n\n<pre><code>    import com.ibm.icu.text.Transliterator; //ICU4J library import\n\n    public static String TRANSLITERATE_ID = \"NFD; Any-Latin; NFC\";\n    public static String NORMALIZE_ID = \"NFD; [:Nonspacing Mark:] Remove; NFC\";\n\n    /**\n    * Returns the transliterated string to convert any charset to latin.\n    */\n    public static String transliterate(String input) {\n        Transliterator transliterator = Transliterator.getInstance(TRANSLITERATE_ID + \"; \" + NORMALIZE_ID);\n        String result = transliterator.transliterate(input);\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89134,"reputation":1996,"user_id":246097,"accept_rate":50,"display_name":"Francisco Junior"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471216122,"creation_date":1471212706,"answer_id":38947064,"question_id":1008802,"body_markdown":"I&#39;m late to the party, but after facing this issue today, I found this answer to be very good:\r\n\r\n    String asciiName = Normalizer.normalize(unicodeName, Normalizer.Form.NFD)\r\n        .replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n\r\n\r\nReference: \r\nhttps://stackoverflow.com/a/16283863","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>I'm late to the party, but after facing this issue today, I found this answer to be very good:</p>\n\n<pre><code>String asciiName = Normalizer.normalize(unicodeName, Normalizer.Form.NFD)\n    .replaceAll(\"[^\\\\p{ASCII}]\", \"\");\n</code></pre>\n\n<p>Reference: \n<a href=\"https://stackoverflow.com/a/16283863\">https://stackoverflow.com/a/16283863</a></p>\n"},{"tags":[],"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1492003415,"creation_date":1492003415,"answer_id":43370834,"question_id":1008802,"body_markdown":"String tested : &#193;&#194;&#195;&#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221;&#223;\r\n\r\nTested :\r\n\r\n - Output from [Apache Commons Lang3][1] : AAAAA&#198;CEEEEIIII&#208;NOOOOO&#216;UUUUY&#223;\r\n - Output from [ICU4j][2] : AAAAA&#198;CEEEEIIII&#208;NOOOOO&#216;UUUUY&#223;\r\n - Output from [JUnidecode][3] : AAAAAAECEEEEIIIIDNOOOOOOUUUUUss (problem with &#221; and another [issue][4])\r\n - Output from [Unidecode][5] : AAAAAAECEEEEIIIIDNOOOOOOUUUUYss\r\n\r\n**The last choice is the best.**\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://mvnrepository.com/artifact/com.ibm.icu/icu4j\r\n  [3]: https://github.com/gcardone/junidecode\r\n  [4]: https://github.com/gcardone/junidecode/issues/2\r\n  [5]: https://github.com/xuender/unidecode","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>String tested : ÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝß</p>\n\n<p>Tested :</p>\n\n<ul>\n<li>Output from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang3</a> : AAAAAÆCEEEEIIIIÐNOOOOOØUUUUYß</li>\n<li>Output from <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j\" rel=\"noreferrer\">ICU4j</a> : AAAAAÆCEEEEIIIIÐNOOOOOØUUUUYß</li>\n<li>Output from <a href=\"https://github.com/gcardone/junidecode\" rel=\"noreferrer\">JUnidecode</a> : AAAAAAECEEEEIIIIDNOOOOOOUUUUUss (problem with Ý and another <a href=\"https://github.com/gcardone/junidecode/issues/2\" rel=\"noreferrer\">issue</a>)</li>\n<li>Output from <a href=\"https://github.com/xuender/unidecode\" rel=\"noreferrer\">Unidecode</a> : AAAAAAECEEEEIIIIDNOOOOOOUUUUYss</li>\n</ul>\n\n<p><strong>The last choice is the best.</strong></p>\n"},{"tags":[],"owner":{"account_id":1028702,"reputation":968,"user_id":1037439,"display_name":"TomWolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498474243,"creation_date":1498474243,"answer_id":44758042,"question_id":1008802,"body_markdown":"Following Class does the trick:\r\n\r\n    org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Following Class does the trick:</p>\n\n<pre><code>org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter\n</code></pre>\n"}],"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145652,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":1215117,"answer_count":12,"score":142,"last_activity_date":1683165974,"creation_date":1245263484,"question_id":1008802,"body_markdown":"The problem is that, as you know, there are thousands of characters [in the Unicode chart][1] and I want to convert all the similar characters to the letters which are in English alphabet.\r\n\r\nFor instance here are a few conversions:\r\n\r\n    ҥ-&gt;H\r\n    Ѷ-&gt;V\r\n    Ȳ-&gt;Y\r\n    Ǭ-&gt;O\r\n    Ƈ-&gt;C\r\n    tђє Ŧค๓เℓy --&gt; the Family\r\n    ...\r\n\r\nand I saw that there are more than 20 versions of letter A/a. and I don&#39;t know how to classify them. They look like needles in the haystack. \r\n\r\n\r\n\r\nThe complete list of unicode chars is at [http://www.ssec.wisc.edu/~tomw/java/unicode.html][2]  or [http://unicode.org/charts/charindex.html][3] . Just try scrolling down and see the variations of letters. \r\n\r\nHow can I convert all these with Java? Please help me :(\r\n\r\n  [1]: http://www.ssec.wisc.edu/~tomw/java/unicode.html\r\n  [2]: http://www.ssec.wisc.edu/~tomw/java/unicode.html\r\n  [3]: http://unicode.org/charts/charindex.html","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The problem is that, as you know, there are thousands of characters <a href=\"http://www.ssec.wisc.edu/~tomw/java/unicode.html\" rel=\"noreferrer\">in the Unicode chart</a> and I want to convert all the similar characters to the letters which are in English alphabet.</p>\n\n<p>For instance here are a few conversions:</p>\n\n<pre><code>ҥ-&gt;H\nѶ-&gt;V\nȲ-&gt;Y\nǬ-&gt;O\nƇ-&gt;C\ntђє Ŧค๓เℓy --&gt; the Family\n...\n</code></pre>\n\n<p>and I saw that there are more than 20 versions of letter A/a. and I don't know how to classify them. They look like needles in the haystack. </p>\n\n<p>The complete list of unicode chars is at <a href=\"http://www.ssec.wisc.edu/~tomw/java/unicode.html\" rel=\"noreferrer\">http://www.ssec.wisc.edu/~tomw/java/unicode.html</a>  or <a href=\"http://unicode.org/charts/charindex.html\" rel=\"noreferrer\">http://unicode.org/charts/charindex.html</a> . Just try scrolling down and see the variations of letters. </p>\n\n<p>How can I convert all these with Java? Please help me :(</p>\n"},{"tags":["java","html","css","image","jakarta-mail"],"comments":[{"owner":{"account_id":7277,"reputation":113068,"user_id":12579,"accept_rate":92,"display_name":"Diodeus - James MacFarlane"},"score":0,"creation_date":1300211651,"post_id":5315834,"comment_id":5997230,"body_markdown":"Keep in mind that Outlook is very popular and incredibly stupid mail client. I seriously doubt embedded data would ever work for an image. You really do need to host the images on a server.","body":"Keep in mind that Outlook is very popular and incredibly stupid mail client. I seriously doubt embedded data would ever work for an image. You really do need to host the images on a server."},{"owner":{"account_id":292191,"reputation":471,"user_id":594801,"accept_rate":95,"display_name":"B.Z.B"},"score":0,"creation_date":1300211788,"post_id":5315834,"comment_id":5997266,"body_markdown":"hm ok, I&#39;ll try looking around for a solution using temp files too.","body":"hm ok, I&#39;ll try looking around for a solution using temp files too."}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683165931,"creation_date":1300229579,"answer_id":5319044,"question_id":5315834,"body_markdown":"You add the image as an attachment and then you make a reference to it with a &quot;cid&quot; prefix.\r\n\r\n    //\r\n    // This HTML mail have to 2 part, the BODY and the embedded image\r\n    //\r\n    MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\r\n\r\n    // first part  (the html)\r\n    BodyPart messageBodyPart = new MimeBodyPart();\r\n    String htmlText = &quot;&lt;H1&gt;Hello&lt;/H1&gt;&lt;img src=\\&quot;cid:image@foo.com\\&quot;&gt;&quot;;\r\n    messageBodyPart.setContent(htmlText, &quot;text/html&quot;);\r\n\r\n    // add it\r\n    multipart.addBodyPart(messageBodyPart);\r\n    \r\n    // second part (the image)\r\n    messageBodyPart = new MimeBodyPart();\r\n    DataSource fds = new FileDataSource\r\n      (&quot;C:\\\\images\\\\foo.gif&quot;);\r\n    messageBodyPart.setDataHandler(new DataHandler(fds));\r\n    messageBodyPart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image@foo.com&gt;&quot;);\r\n\r\n    // add it\r\n    multipart.addBodyPart(messageBodyPart);\r\n\r\n    // put everything together\r\n    message.setContent(multipart);\r\n","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>You add the image as an attachment and then you make a reference to it with a &quot;cid&quot; prefix.</p>\n<pre><code>//\n// This HTML mail have to 2 part, the BODY and the embedded image\n//\nMimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\n\n// first part  (the html)\nBodyPart messageBodyPart = new MimeBodyPart();\nString htmlText = &quot;&lt;H1&gt;Hello&lt;/H1&gt;&lt;img src=\\&quot;cid:image@foo.com\\&quot;&gt;&quot;;\nmessageBodyPart.setContent(htmlText, &quot;text/html&quot;);\n\n// add it\nmultipart.addBodyPart(messageBodyPart);\n\n// second part (the image)\nmessageBodyPart = new MimeBodyPart();\nDataSource fds = new FileDataSource\n  (&quot;C:\\\\images\\\\foo.gif&quot;);\nmessageBodyPart.setDataHandler(new DataHandler(fds));\nmessageBodyPart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image@foo.com&gt;&quot;);\n\n// add it\nmultipart.addBodyPart(messageBodyPart);\n\n// put everything together\nmessage.setContent(multipart);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40182,"reputation":8647,"user_id":116339,"accept_rate":90,"display_name":"objects"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349271300,"creation_date":1300230611,"answer_id":5319153,"question_id":5315834,"body_markdown":"Try the following which uses a ByteArrayDataSource to include your image bytes in the mail\r\n\r\n\r\n    // Add html content\r\n    // Specify the cid of the image to include in the email\r\n\r\n    String html = &quot;&lt;html&gt;&lt;body&gt;&lt;b&gt;Test&lt;/b&gt; email &lt;img src=&#39;cid:my-image-id&#39;&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    Multipart mp = new MimeMultipart();\r\n    MimeBodyPart htmlPart = new MimeBodyPart();\r\n    htmlPart.setContent(html, &quot;text/html&quot;);\r\n    mp.addBodyPart(htmlPart);\r\n\r\n    // add image in another part\r\n\r\n    MimeBodyPart imagePart = new MimeBodyPart();\r\n    DataSource fds = new ByteArrayDataSource(imageBytes, imageType);\r\n    imagePart.setDataHandler(new DataHandler(fds));\r\n\r\n    // assign a cid to the image\r\n    \r\n    imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;my-image-id&gt;&quot;); // Make sure you use brackets &lt; &gt;\r\n    mp.addBodyPart(imagePart);\r\n\r\n    message.setContent(mp);\r\n\r\n\r\n\r\nAdapted from example @ http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>Try the following which uses a ByteArrayDataSource to include your image bytes in the mail</p>\n\n<pre><code>// Add html content\n// Specify the cid of the image to include in the email\n\nString html = \"&lt;html&gt;&lt;body&gt;&lt;b&gt;Test&lt;/b&gt; email &lt;img src='cid:my-image-id'&gt;&lt;/body&gt;&lt;/html&gt;\";\nMultipart mp = new MimeMultipart();\nMimeBodyPart htmlPart = new MimeBodyPart();\nhtmlPart.setContent(html, \"text/html\");\nmp.addBodyPart(htmlPart);\n\n// add image in another part\n\nMimeBodyPart imagePart = new MimeBodyPart();\nDataSource fds = new ByteArrayDataSource(imageBytes, imageType);\nimagePart.setDataHandler(new DataHandler(fds));\n\n// assign a cid to the image\n\nimagePart.setHeader(\"Content-ID\", \"&lt;my-image-id&gt;\"); // Make sure you use brackets &lt; &gt;\nmp.addBodyPart(imagePart);\n\nmessage.setContent(mp);\n</code></pre>\n\n<p>Adapted from example @ <a href=\"http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail\" rel=\"nofollow\">http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail</a></p>\n"}],"owner":{"account_id":292191,"reputation":471,"user_id":594801,"accept_rate":95,"display_name":"B.Z.B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5319044,"answer_count":2,"score":2,"last_activity_date":1683165931,"creation_date":1300211350,"question_id":5315834,"body_markdown":"Hey all,  I&#39;ve seen a lot of topics on this, but not quite what I am looking for.  \r\n\r\nEssentially when I get to sending my Javamail message I&#39;ll have my image as a byte[] object and I&#39;ll have a string that contains the html template.  What I am looking to do is not store it on the server (didn&#39;t want to try to deal with the upkeep on keeping the image stored on the server, and we&#39;ll have limited space to work with).  I&#39;d like to take the byte[] object that I already have and directly store it within the html template, making sure it&#39;s in the correct image tag.  Is there a way I could do this? Basically I want to stick a message.setContent(&quot;blah&quot;,&quot;image/jpg&quot;); directly into the html template at a specific spot.\r\n\r\nHopefully I&#39;m making sense here...\r\n\r\nAnother Idea I was thinking was add the image as an attachment and just reference the attachment when displaying the html template....if that is possible.","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>Hey all,  I've seen a lot of topics on this, but not quite what I am looking for.  </p>\n\n<p>Essentially when I get to sending my Javamail message I'll have my image as a byte[] object and I'll have a string that contains the html template.  What I am looking to do is not store it on the server (didn't want to try to deal with the upkeep on keeping the image stored on the server, and we'll have limited space to work with).  I'd like to take the byte[] object that I already have and directly store it within the html template, making sure it's in the correct image tag.  Is there a way I could do this? Basically I want to stick a message.setContent(\"blah\",\"image/jpg\"); directly into the html template at a specific spot.</p>\n\n<p>Hopefully I'm making sense here...</p>\n\n<p>Another Idea I was thinking was add the image as an attachment and just reference the attachment when displaying the html template....if that is possible.</p>\n"},{"tags":["java","file","aem","aem-6","crx"],"owner":{"account_id":12892506,"reputation":3238,"user_id":9324000,"accept_rate":100,"display_name":"superninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683165542,"creation_date":1683165225,"question_id":76169060,"body_markdown":"I am trying to create a txt file under `/conf` but got this error:  \r\n\r\n&gt;  Exception occurred: This tree does not exist\r\n\r\nHere is the simplified version of my code - ignoring the file content:\r\n\r\n    Session session = resourceResolver.adaptTo(Session.class);\r\n    Node confNode = session.getNode(&quot;/conf&quot;);\r\n    Node fileNode = confNode.addNode(&quot;helloworld.txt&quot;, &quot;nt:file&quot;);\r\n    session.save();\r\n\r\nAm I missing anything? `/conf` path exists in CRXDE so I am not sure why it says the tree does not exist. I have also make sure the SystemUser.yaml has the write and read permission under /conf","title":"AEM Add File: Exception occurred: This tree does not exist","body":"<p>I am trying to create a txt file under <code>/conf</code> but got this error:</p>\n<blockquote>\n<p>Exception occurred: This tree does not exist</p>\n</blockquote>\n<p>Here is the simplified version of my code - ignoring the file content:</p>\n<pre><code>Session session = resourceResolver.adaptTo(Session.class);\nNode confNode = session.getNode(&quot;/conf&quot;);\nNode fileNode = confNode.addNode(&quot;helloworld.txt&quot;, &quot;nt:file&quot;);\nsession.save();\n</code></pre>\n<p>Am I missing anything? <code>/conf</code> path exists in CRXDE so I am not sure why it says the tree does not exist. I have also make sure the SystemUser.yaml has the write and read permission under /conf</p>\n"},{"tags":["java","desktop"],"answers":[{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1246652081,"creation_date":1246652081,"answer_id":1080702,"question_id":1080634,"body_markdown":"Seems not that easy...\r\n\r\nBut you could try to find an anwser browsing the code of some open-source projects, e.g. on [Koders](http://koders.com/default.aspx?s=Shell+Folders+desktop&amp;la=Java&amp;li=*). I guess all the solutions boil down to checking the `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\\Desktop` path in the Windows registry. And probably are Windows-specific.\r\n\r\nIf you need a more general solution I would try to find an open-source application you know  is working properly on different platforms and puts some icons on the user&#39;s Desktop.","title":"How to get the Desktop path in java","body":"<p>Seems not that easy...</p>\n\n<p>But you could try to find an anwser browsing the code of some open-source projects, e.g. on <a href=\"http://koders.com/default.aspx?s=Shell+Folders+desktop&amp;la=Java&amp;li=*\" rel=\"nofollow noreferrer\">Koders</a>. I guess all the solutions boil down to checking the <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\\Desktop</code> path in the Windows registry. And probably are Windows-specific.</p>\n\n<p>If you need a more general solution I would try to find an open-source application you know  is working properly on different platforms and puts some icons on the user's Desktop.</p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1334907233,"creation_date":1246652097,"answer_id":1080703,"question_id":1080634,"body_markdown":"I think this is the same question... but I&#39;m not sure!:\r\n\r\nhttps://stackoverflow.com/questions/570401/in-java-under-windows-how-do-i-find-a-redirected-desktop-folder\r\n\r\nReading it I would expect that solution to return the user.home, but apparently not, and the link in the answer comments back that up. Haven&#39;t tried it myself.\r\n\r\nI guess by using `JFileChooser` the solution will require a non-headless JVM, but you are probably running one of them.","title":"How to get the Desktop path in java","body":"<p>I think this is the same question... but I'm not sure!:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/570401/in-java-under-windows-how-do-i-find-a-redirected-desktop-folder\">In java under Windows, how do I find a redirected Desktop folder?</a></p>\n\n<p>Reading it I would expect that solution to return the user.home, but apparently not, and the link in the answer comments back that up. Haven't tried it myself.</p>\n\n<p>I guess by using <code>JFileChooser</code> the solution will require a non-headless JVM, but you are probably running one of them.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1683165488,"creation_date":1246656426,"answer_id":1080900,"question_id":1080634,"body_markdown":"This is for Windows only. Launch REG.EXE and capture its output :\r\n\r\n    import java.io.*;\r\n        \r\n    public class WindowsUtils {\r\n      private static final String REGQUERY_UTIL = &quot;reg query &quot;;\r\n      private static final String REGSTR_TOKEN = &quot;REG_SZ&quot;;\r\n      private static final String DESKTOP_FOLDER_CMD = REGQUERY_UTIL \r\n         + &quot;\\&quot;HKCU\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\&quot; \r\n         + &quot;Explorer\\\\Shell Folders\\&quot; /v DESKTOP&quot;;\r\n       \r\n      private WindowsUtils() {}\r\n            \r\n      public static String getCurrentUserDesktopPath() {\r\n        try {\r\n          Process process = Runtime.getRuntime().exec(DESKTOP_FOLDER_CMD);\r\n          StreamReader reader = new StreamReader(process.getInputStream());\r\n    \r\n          reader.start();\r\n          process.waitFor();\r\n          reader.join();\r\n          String result = reader.getResult();\r\n          int p = result.indexOf(REGSTR_TOKEN);\r\n    \r\n          if (p == -1) return null;\r\n          return result.substring(p + REGSTR_TOKEN.length()).trim();\r\n        }\r\n        catch (Exception e) {\r\n          return null;\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * TEST\r\n       */\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Desktop directory : &quot; \r\n           + getCurrentUserDesktopPath());\r\n      }\r\n    \r\n      \r\n      static class StreamReader extends Thread {\r\n        private InputStream is;\r\n        private StringWriter sw;\r\n    \r\n        StreamReader(InputStream is) {\r\n          this.is = is;\r\n          sw = new StringWriter();\r\n        }\r\n    \r\n        public void run() {\r\n          try {\r\n            int c;\r\n            while ((c = is.read()) != -1)\r\n              sw.write(c);\r\n            }\r\n            catch (IOException e) { ; }\r\n          }\r\n    \r\n        String getResult() {\r\n          return sw.toString();\r\n        }\r\n      }\r\n    }\r\n\r\nor you can use JNA\r\n\r\n       Shell32.INSTANCE.SHGetFolderPath(null,\r\n          ShlObj.CSIDL_DESKTOPDIRECTORY, null, ShlObj.SHGFP_TYPE_CURRENT,\r\n          pszPath);\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html","title":"How to get the Desktop path in java","body":"<p>This is for Windows only. Launch REG.EXE and capture its output :</p>\n<pre><code>import java.io.*;\n    \npublic class WindowsUtils {\n  private static final String REGQUERY_UTIL = &quot;reg query &quot;;\n  private static final String REGSTR_TOKEN = &quot;REG_SZ&quot;;\n  private static final String DESKTOP_FOLDER_CMD = REGQUERY_UTIL \n     + &quot;\\&quot;HKCU\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\&quot; \n     + &quot;Explorer\\\\Shell Folders\\&quot; /v DESKTOP&quot;;\n   \n  private WindowsUtils() {}\n        \n  public static String getCurrentUserDesktopPath() {\n    try {\n      Process process = Runtime.getRuntime().exec(DESKTOP_FOLDER_CMD);\n      StreamReader reader = new StreamReader(process.getInputStream());\n\n      reader.start();\n      process.waitFor();\n      reader.join();\n      String result = reader.getResult();\n      int p = result.indexOf(REGSTR_TOKEN);\n\n      if (p == -1) return null;\n      return result.substring(p + REGSTR_TOKEN.length()).trim();\n    }\n    catch (Exception e) {\n      return null;\n    }\n  }\n\n  /**\n   * TEST\n   */\n  public static void main(String[] args) {\n    System.out.println(&quot;Desktop directory : &quot; \n       + getCurrentUserDesktopPath());\n  }\n\n  \n  static class StreamReader extends Thread {\n    private InputStream is;\n    private StringWriter sw;\n\n    StreamReader(InputStream is) {\n      this.is = is;\n      sw = new StringWriter();\n    }\n\n    public void run() {\n      try {\n        int c;\n        while ((c = is.read()) != -1)\n          sw.write(c);\n        }\n        catch (IOException e) { ; }\n      }\n\n    String getResult() {\n      return sw.toString();\n    }\n  }\n}\n</code></pre>\n<p>or you can use JNA</p>\n<pre><code>   Shell32.INSTANCE.SHGetFolderPath(null,\n      ShlObj.CSIDL_DESKTOPDIRECTORY, null, ShlObj.SHGFP_TYPE_CURRENT,\n      pszPath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1414129,"reputation":1,"user_id":1340127,"display_name":"Princely Royan"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1334755031,"creation_date":1334714021,"answer_id":10201737,"question_id":1080634,"body_markdown":"    public class Sample {\r\n        public static void main(String[] args) {    \r\n            String desktopPath =System.getProperty(&quot;user.home&quot;) + &quot;\\\\&quot;+&quot;Desktop&quot;;\r\n            String s = &quot;\\&quot;&quot; + desktopPath.replace(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;) + &quot;\\\\\\\\&quot; +&quot;satis&quot; + &quot;\\&quot;&quot;;\r\n            System.out.print(s);\r\n            File f = new File(s);\r\n            boolean mkdir = f.mkdir();\r\n            System.out.println(mkdir);\r\n        }\r\n    }\r\n","title":"How to get the Desktop path in java","body":"<pre><code>public class Sample {\n    public static void main(String[] args) {    \n        String desktopPath =System.getProperty(\"user.home\") + \"\\\\\"+\"Desktop\";\n        String s = \"\\\"\" + desktopPath.replace(\"\\\\\",\"\\\\\\\\\") + \"\\\\\\\\\" +\"satis\" + \"\\\"\";\n        System.out.print(s);\n        File f = new File(s);\n        boolean mkdir = f.mkdir();\n        System.out.println(mkdir);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1418693,"reputation":531,"user_id":1343783,"display_name":"Amlaa"},"down_vote_count":5,"up_vote_count":54,"is_accepted":false,"score":49,"last_activity_date":1508133848,"creation_date":1334833532,"answer_id":10226697,"question_id":1080634,"body_markdown":"I use a french version of Windows and with it the instruction:\r\n\r\n    System.getProperty(&quot;user.home&quot;) + &quot;/Desktop&quot;;\r\n\r\nworks fine for me.","title":"How to get the Desktop path in java","body":"<p>I use a french version of Windows and with it the instruction:</p>\n\n<pre><code>System.getProperty(\"user.home\") + \"/Desktop\";\n</code></pre>\n\n<p>works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":3893586,"reputation":1,"user_id":3223199,"display_name":"j-cup"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1393222998,"creation_date":1393222998,"answer_id":21980321,"question_id":1080634,"body_markdown":"Simplest solution is to find out machine name, since this name is only variable changing in path to Desktop folder. So if you can find this, you have found path to Desktop. Following code should do the trick - it did for me :)\r\n\r\n    String machine_name = InetAddress.getLocalHost().getHostName();\r\n    String path_to_desktop = &quot;C:/Documents and Settings/&quot;+machine_name+&quot;/Desktop/&quot;;\r\n\r\n\r\n\t  ","title":"How to get the Desktop path in java","body":"<p>Simplest solution is to find out machine name, since this name is only variable changing in path to Desktop folder. So if you can find this, you have found path to Desktop. Following code should do the trick - it did for me :)</p>\n\n<pre><code>String machine_name = InetAddress.getLocalHost().getHostName();\nString path_to_desktop = \"C:/Documents and Settings/\"+machine_name+\"/Desktop/\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5338891,"reputation":1,"user_id":4256802,"display_name":"augugusto"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1416090424,"creation_date":1416089893,"answer_id":26951377,"question_id":1080634,"body_markdown":"there are 2 things.\r\n\r\n1. you are using the wrong slash. for windows it&#39;s `\\`  not `/`.\r\n2. i&#39;m using RandomAccesFile and File to manage fles and folders, and it requires double slash ( `\\\\` ) to separate the folders name.\r\n","title":"How to get the Desktop path in java","body":"<p>there are 2 things.</p>\n\n<ol>\n<li>you are using the wrong slash. for windows it's <code>\\</code>  not <code>/</code>.</li>\n<li>i'm using RandomAccesFile and File to manage fles and folders, and it requires double slash ( <code>\\\\</code> ) to separate the folders name.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":226474,"reputation":3182,"user_id":487545,"accept_rate":82,"display_name":"mauretto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444314063,"creation_date":1444314063,"answer_id":33018499,"question_id":1080634,"body_markdown":"    javax.swing.filechooser.FileSystemView.getFileSystemView().getHomeDirectory()","title":"How to get the Desktop path in java","body":"<pre><code>javax.swing.filechooser.FileSystemView.getFileSystemView().getHomeDirectory()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19975009,"reputation":300,"user_id":14639553,"display_name":"ABDO-AR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1629371599,"creation_date":1629371387,"answer_id":68846720,"question_id":1080634,"body_markdown":"You&#39;re just missing `&quot;C:\\\\Users\\\\&quot;`:\r\n\r\n    String userDefPath = &quot;C:\\\\Users\\\\&quot; + System.getProperty(&quot;user.name&quot;) + &quot;\\\\Desktop&quot;;","title":"How to get the Desktop path in java","body":"<p>You're just missing <code>&quot;C:\\\\Users\\\\&quot;</code>:</p>\n<pre><code>String userDefPath = &quot;C:\\\\Users\\\\&quot; + System.getProperty(&quot;user.name&quot;) + &quot;\\\\Desktop&quot;;\n</code></pre>\n"}],"owner":{"account_id":1896,"reputation":5360,"user_id":2612,"accept_rate":67,"display_name":"jumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109228,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"answer_count":9,"score":65,"last_activity_date":1683165488,"creation_date":1246650737,"question_id":1080634,"body_markdown":"\r\n\r\nI think this will work only on an English language Windows installation:\r\n\r\n    System.getProperty(&quot;user.home&quot;) + &quot;/Desktop&quot;;\r\n\r\nHow can I make this work for non English Windows?","title":"How to get the Desktop path in java","body":"<p>I think this will work only on an English language Windows installation:</p>\n\n<pre><code>System.getProperty(\"user.home\") + \"/Desktop\";\n</code></pre>\n\n<p>How can I make this work for non English Windows?</p>\n"},{"tags":["java","gmail"],"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":2,"creation_date":1233056359,"post_id":483048,"comment_id":299618,"body_markdown":"Via IMAP? Via POP3/SMTP? Provide more information, otherwise it&#39;s a &quot;Ask Google&quot; question.","body":"Via IMAP? Via POP3/SMTP? Provide more information, otherwise it&#39;s a &quot;Ask Google&quot; question."}],"answers":[{"tags":[],"owner":{"account_id":2305,"reputation":41595,"user_id":3201,"accept_rate":80,"display_name":"Galwegian"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1233055976,"creation_date":1233055976,"answer_id":483059,"question_id":483048,"body_markdown":"Have you seen [g4j - GMail API for Java][1]?\r\n\r\n&gt; GMailer API for Java (g4j) is set of\r\n&gt; API that allows Java programmer to\r\n&gt; communicate to GMail. With G4J\r\n&gt; programmers can made Java based\r\n&gt; application that based on huge storage\r\n&gt; of GMail.\r\n\r\n\r\n  [1]: http://g4j.sourceforge.net/","title":"Access gmail from Java","body":"<p>Have you seen <a href=\"http://g4j.sourceforge.net/\" rel=\"noreferrer\">g4j - GMail API for Java</a>?</p>\n\n<blockquote>\n  <p>GMailer API for Java (g4j) is set of\n  API that allows Java programmer to\n  communicate to GMail. With G4J\n  programmers can made Java based\n  application that based on huge storage\n  of GMail.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233056003,"creation_date":1233056003,"answer_id":483061,"question_id":483048,"body_markdown":"Have a look at [GMail API for Java][1].\r\n\r\n\r\n  [1]: http://g4j.sourceforge.net/","title":"Access gmail from Java","body":"<p>Have a look at <a href=\"http://g4j.sourceforge.net/\" rel=\"nofollow noreferrer\">GMail API for Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233056146,"creation_date":1233056146,"answer_id":483071,"question_id":483048,"body_markdown":"First, configure your Gmail account to accept POP3 access.\r\nThen, simply access your mail account using Javamail !","title":"Access gmail from Java","body":"<p>First, configure your Gmail account to accept POP3 access.\nThen, simply access your mail account using Javamail !</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1683165454,"creation_date":1233059236,"answer_id":483218,"question_id":483048,"body_markdown":"You can use the Javamail for that. The thing to remember is that GMail uses SMTPS not SMTP.\r\n\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    \r\n    public class SimpleSSLMail {\r\n    \r\n        private static final String SMTP_HOST_NAME = &quot;smtp.gmail.com&quot;;\r\n        private static final int SMTP_HOST_PORT = 465;\r\n        private static final String SMTP_AUTH_USER = &quot;myaccount@gmail.com&quot;;\r\n        private static final String SMTP_AUTH_PWD  = &quot;mypwd&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n           new SimpleSSLMail().test();\r\n        }\r\n    \r\n        public void test() throws Exception{\r\n            Properties props = new Properties();\r\n    \r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\r\n            props.put(&quot;mail.smtps.host&quot;, SMTP_HOST_NAME);\r\n            props.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\r\n            // props.put(&quot;mail.smtps.quitwait&quot;, &quot;false&quot;);\r\n    \r\n            Session mailSession = Session.getDefaultInstance(props);\r\n            mailSession.setDebug(true);\r\n            Transport transport = mailSession.getTransport();\r\n    \r\n            MimeMessage message = new MimeMessage(mailSession);\r\n            message.setSubject(&quot;Testing SMTP-SSL&quot;);\r\n            message.setContent(&quot;This is a test&quot;, &quot;text/plain&quot;);\r\n    \r\n            message.addRecipient(Message.RecipientType.TO,\r\n                 new InternetAddress(&quot;elvis@presley.org&quot;));\r\n    \r\n            transport.connect\r\n              (SMTP_HOST_NAME, SMTP_HOST_PORT, SMTP_AUTH_USER, SMTP_AUTH_PWD);\r\n    \r\n            transport.sendMessage(message,\r\n                message.getRecipients(Message.RecipientType.TO));\r\n            transport.close();\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0570.html","title":"Access gmail from Java","body":"<p>You can use the Javamail for that. The thing to remember is that GMail uses SMTPS not SMTP.</p>\n<pre><code>import javax.mail.*;\nimport javax.mail.internet.*;\n\nimport java.util.Properties;\n\n\npublic class SimpleSSLMail {\n\n    private static final String SMTP_HOST_NAME = &quot;smtp.gmail.com&quot;;\n    private static final int SMTP_HOST_PORT = 465;\n    private static final String SMTP_AUTH_USER = &quot;myaccount@gmail.com&quot;;\n    private static final String SMTP_AUTH_PWD  = &quot;mypwd&quot;;\n\n    public static void main(String[] args) throws Exception{\n       new SimpleSSLMail().test();\n    }\n\n    public void test() throws Exception{\n        Properties props = new Properties();\n\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\n        props.put(&quot;mail.smtps.host&quot;, SMTP_HOST_NAME);\n        props.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\n        // props.put(&quot;mail.smtps.quitwait&quot;, &quot;false&quot;);\n\n        Session mailSession = Session.getDefaultInstance(props);\n        mailSession.setDebug(true);\n        Transport transport = mailSession.getTransport();\n\n        MimeMessage message = new MimeMessage(mailSession);\n        message.setSubject(&quot;Testing SMTP-SSL&quot;);\n        message.setContent(&quot;This is a test&quot;, &quot;text/plain&quot;);\n\n        message.addRecipient(Message.RecipientType.TO,\n             new InternetAddress(&quot;elvis@presley.org&quot;));\n\n        transport.connect\n          (SMTP_HOST_NAME, SMTP_HOST_PORT, SMTP_AUTH_USER, SMTP_AUTH_PWD);\n\n        transport.sendMessage(message,\n            message.getRecipients(Message.RecipientType.TO));\n        transport.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1233060032,"creation_date":1233059456,"answer_id":483227,"question_id":483048,"body_markdown":"Variations of this question have been addressed in several earlier posts:\r\n\r\n - [Getting mail from GMail into Java application using IMAP][1]\r\n - [How do you send email from a Java app using Gmail?][2]\r\n\r\nThe general approach is to use IMAP/SMTP via [JavaMail][3]. The [FAQ][4] even has a special entry for [working with Gmail][5].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61176/getting-mail-from-gmail-into-java-application-using-imap\r\n  [2]: https://stackoverflow.com/questions/46663/how-do-you-send-email-from-a-java-app-using-gmail\r\n  [3]: http://java.sun.com/products/javamail/\r\n  [4]: http://java.sun.com/products/javamail/FAQ.html\r\n  [5]: http://java.sun.com/products/javamail/FAQ.html#gmail","title":"Access gmail from Java","body":"<p>Variations of this question have been addressed in several earlier posts:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/61176/getting-mail-from-gmail-into-java-application-using-imap\">Getting mail from GMail into Java application using IMAP</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46663/how-do-you-send-email-from-a-java-app-using-gmail\">How do you send email from a Java app using Gmail?</a></li>\n</ul>\n\n<p>The general approach is to use IMAP/SMTP via <a href=\"http://java.sun.com/products/javamail/\" rel=\"nofollow noreferrer\">JavaMail</a>. The <a href=\"http://java.sun.com/products/javamail/FAQ.html\" rel=\"nofollow noreferrer\">FAQ</a> even has a special entry for <a href=\"http://java.sun.com/products/javamail/FAQ.html#gmail\" rel=\"nofollow noreferrer\">working with Gmail</a>.</p>\n"}],"owner":{"account_id":19986,"reputation":2758,"user_id":47342,"accept_rate":23,"display_name":"Lonzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29186,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1321631994,"accepted_answer_id":483059,"answer_count":5,"score":12,"last_activity_date":1683165454,"creation_date":1233055704,"question_id":483048,"body_markdown":"I need a library that allows me to do email operations(e.g Sent/Receive mail) in Gmail using Java.","title":"Access gmail from Java","body":"<p>I need a library that allows me to do email operations(e.g Sent/Receive mail) in Gmail using Java.</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":46886,"reputation":732,"user_id":138699,"accept_rate":65,"display_name":"javacoder"},"score":1,"creation_date":1269567851,"post_id":469695,"comment_id":79729734,"body_markdown":"No matter what type of app your using (experiment or not), it&#39;s just as simple as creating a single Base64.java file in your utils package using the code here: http://migbase64.sourceforge.net/ Look at the performance charts and notice the difference: 4-5 times as fast.","body":"No matter what type of app your using (experiment or not), it&#39;s just as simple as creating a single Base64.java file in your utils package using the code here: <a href=\"http://migbase64.sourceforge.net/\" rel=\"nofollow noreferrer\">migbase64.sourceforge.net</a> Look at the performance charts and notice the difference: 4-5 times as fast."},{"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"score":0,"creation_date":1330736223,"post_id":469695,"comment_id":79729739,"body_markdown":"FYI: [JEP 135](http://openjdk.java.net/jeps/135) proposes to introduce a standard, discoverable API for this in the Java platform.","body":"FYI: <a href=\"http://openjdk.java.net/jeps/135\" rel=\"nofollow noreferrer\">JEP 135</a> proposes to introduce a standard, discoverable API for this in the Java platform."},{"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"score":0,"creation_date":1349948837,"post_id":469695,"comment_id":79729740,"body_markdown":"Progress happening: http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-October/011722.html","body":"Progress happening: <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-October/011722.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/core-libs-dev/2012-October/&hellip;</a>"},{"owner":{"account_id":940197,"reputation":131,"user_id":968400,"display_name":"Jason Greene"},"score":2,"creation_date":1352745439,"post_id":469695,"comment_id":18219885,"body_markdown":"Here is yet another implementation I recently through together: https://github.com/n1hility/playground/blob/master/src/main/java/org/jboss/FlexBase64.java","body":"Here is yet another implementation I recently through together: <a href=\"https://github.com/n1hility/playground/blob/master/src/main/java/org/jboss/FlexBase64.java\" rel=\"nofollow noreferrer\">github.com/n1hility/playground/blob/master/src/main/java/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2001351,"reputation":7781,"user_id":1792327,"accept_rate":48,"display_name":"Raphael Oliveira"},"score":3,"creation_date":1359998793,"post_id":469695,"comment_id":20543521,"body_markdown":"Note that if you are developing an Android app, Google has already done this: http://developer.android.com/reference/android/util/Base64.html","body":"Note that if you are developing an Android app, Google has already done this: <a href=\"http://developer.android.com/reference/android/util/Base64.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/util/Base64.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":2,"up_vote_count":62,"is_accepted":false,"score":60,"last_activity_date":1334911195,"creation_date":1232640062,"answer_id":469715,"question_id":469695,"body_markdown":"Specifically in [Commons Codec][1]: class [`Base64`][2] to `decode(byte[] array)` or `encode(byte[] array)`\r\n\r\n\r\n  [1]: http://commons.apache.org/codec/\r\n  [2]: http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html","title":"Decode Base64 data in Java","body":"<p>Specifically in <a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">Commons Codec</a>: class <a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\"><code>Base64</code></a> to <code>decode(byte[] array)</code> or <code>encode(byte[] array)</code></p>\n"},{"tags":[],"owner":{"account_id":21632,"reputation":10223,"user_id":52734,"accept_rate":100,"display_name":"MattK"},"down_vote_count":100,"up_vote_count":204,"is_accepted":false,"score":104,"last_activity_date":1368629371,"creation_date":1232640337,"answer_id":469739,"question_id":469695,"body_markdown":"No need to use commons--Sun ships a base64 encoder with Java.  You can import it as such:\r\n\r\n    import sun.misc.BASE64Decoder;\r\n\r\nAnd then use it like this:\r\n\r\n    BASE64Decoder decoder = new BASE64Decoder();\r\n    byte[] decodedBytes = decoder.decodeBuffer(encodedBytes);\r\n\r\nWhere `encodedBytes` is either a `java.lang.String` or a `java.io.InputStream`.  Just beware that the `sun.*` classes are not &quot;officially supported&quot; by Sun.\r\n\r\n&lt;b&gt;EDIT:&lt;/b&gt; Who knew this would be the most controversial answer I&#39;d ever post?  I do know that sun.* packages are not supported or guaranteed to continue existing, and I do know about Commons and use it all the time.  However, the poster asked for a class that that was &quot;included with Sun Java 6,&quot; and that&#39;s what I was trying to answer.  I agree that Commons is the best way to go in general.\r\n\r\n&lt;b&gt;EDIT 2:&lt;/b&gt; As amir75 points out below, Java 6+ ships with JAXB, which contains supported code to encode/decode Base64. Please see [Jeremy Ross&#39; answer][1] below.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2054226/33311","title":"Decode Base64 data in Java","body":"<p>No need to use commons--Sun ships a base64 encoder with Java.  You can import it as such:</p>\n\n<pre><code>import sun.misc.BASE64Decoder;\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>BASE64Decoder decoder = new BASE64Decoder();\nbyte[] decodedBytes = decoder.decodeBuffer(encodedBytes);\n</code></pre>\n\n<p>Where <code>encodedBytes</code> is either a <code>java.lang.String</code> or a <code>java.io.InputStream</code>.  Just beware that the <code>sun.*</code> classes are not \"officially supported\" by Sun.</p>\n\n<p><b>EDIT:</b> Who knew this would be the most controversial answer I'd ever post?  I do know that sun.* packages are not supported or guaranteed to continue existing, and I do know about Commons and use it all the time.  However, the poster asked for a class that that was \"included with Sun Java 6,\" and that's what I was trying to answer.  I agree that Commons is the best way to go in general.</p>\n\n<p><b>EDIT 2:</b> As amir75 points out below, Java 6+ ships with JAXB, which contains supported code to encode/decode Base64. Please see <a href=\"https://stackoverflow.com/a/2054226/33311\">Jeremy Ross' answer</a> below.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1683165410,"creation_date":1232723386,"answer_id":473223,"question_id":469695,"body_markdown":"As an alternative to `sun.misc.BASE64Decoder` or non-core libraries, look at `javax.mail.internet.MimeUtility.decode()`.\r\n\r\n\r\n\r\n    public static byte[] encode(byte[] b) throws Exception {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        OutputStream b64os = MimeUtility.encode(baos, &quot;base64&quot;);\r\n        b64os.write(b);\r\n        b64os.close();\r\n        return baos.toByteArray();\r\n    }\r\n    public static byte[] decode(byte[] b) throws Exception {\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(b);\r\n        InputStream b64is = MimeUtility.decode(bais, &quot;base64&quot;);\r\n        byte[] tmp = new byte[b.length];\r\n        int n = b64is.read(tmp);\r\n        byte[] res = new byte[n];\r\n        System.arraycopy(tmp, 0, res, 0, n);\r\n        return res;\r\n    }\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0598.html","title":"Decode Base64 data in Java","body":"<p>As an alternative to <code>sun.misc.BASE64Decoder</code> or non-core libraries, look at <code>javax.mail.internet.MimeUtility.decode()</code>.</p>\n<pre><code>public static byte[] encode(byte[] b) throws Exception {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    OutputStream b64os = MimeUtility.encode(baos, &quot;base64&quot;);\n    b64os.write(b);\n    b64os.close();\n    return baos.toByteArray();\n}\npublic static byte[] decode(byte[] b) throws Exception {\n    ByteArrayInputStream bais = new ByteArrayInputStream(b);\n    InputStream b64is = MimeUtility.decode(bais, &quot;base64&quot;);\n    byte[] tmp = new byte[b.length];\n    int n = b64is.read(tmp);\n    byte[] res = new byte[n];\n    System.arraycopy(tmp, 0, res, 0, n);\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":5,"up_vote_count":431,"is_accepted":true,"score":426,"last_activity_date":1645126560,"creation_date":1263354120,"answer_id":2054226,"question_id":469695,"body_markdown":"As of v6, Java SE ships with JAXB. [`javax.xml.bind.DatatypeConverter`][1] has static methods that make this easy. See [`parseBase64Binary()`][2] and [`printBase64Binary()`][3].\r\n\r\n**UPDATE**: JAXB is no longer shipped with Java (since Java 11). If JAXB is required for your project, you will need to configure the relevant libraries via your dependency management system, for example Maven. If you require the compiler (`xjc.exe`) you also need to download that separately.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary(java.lang.String)\r\n  [3]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte[]%29","title":"Decode Base64 data in Java","body":"<p>As of v6, Java SE ships with JAXB. <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"nofollow noreferrer\"><code>javax.xml.bind.DatatypeConverter</code></a> has static methods that make this easy. See <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary(java.lang.String)\" rel=\"nofollow noreferrer\"><code>parseBase64Binary()</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\" rel=\"nofollow noreferrer\"><code>printBase64Binary()</code></a>.</p>\n<p><strong>UPDATE</strong>: JAXB is no longer shipped with Java (since Java 11). If JAXB is required for your project, you will need to configure the relevant libraries via your dependency management system, for example Maven. If you require the compiler (<code>xjc.exe</code>) you also need to download that separately.</p>\n"},{"tags":[],"owner":{"account_id":674402,"reputation":481,"user_id":518568,"display_name":"GeorgeK"},"down_vote_count":15,"up_vote_count":51,"is_accepted":false,"score":36,"last_activity_date":1290592632,"creation_date":1290592632,"answer_id":4265472,"question_id":469695,"body_markdown":"My solution is fastest and easiest.\r\n\r\n    public class MyBase64 {\r\n        \r\n        private final static char[] ALPHABET = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;.toCharArray();\r\n    \r\n        private static int[]  toInt   = new int[128];\r\n    \r\n        static {\r\n            for(int i=0; i&lt; ALPHABET.length; i++){\r\n                toInt[ALPHABET[i]]= i;\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Translates the specified byte array into Base64 string.\r\n         *\r\n         * @param buf the byte array (not null)\r\n         * @return the translated Base64 string (not null)\r\n         */\r\n        public static String encode(byte[] buf){\r\n            int size = buf.length;\r\n            char[] ar = new char[((size + 2) / 3) * 4];\r\n            int a = 0;\r\n            int i=0;\r\n            while(i &lt; size){\r\n                byte b0 = buf[i++];\r\n                byte b1 = (i &lt; size) ? buf[i++] : 0;\r\n                byte b2 = (i &lt; size) ? buf[i++] : 0;\r\n                \r\n                int mask = 0x3F;\r\n                ar[a++] = ALPHABET[(b0 &gt;&gt; 2) &amp; mask];\r\n                ar[a++] = ALPHABET[((b0 &lt;&lt; 4) | ((b1 &amp; 0xFF) &gt;&gt; 4)) &amp; mask];\r\n                ar[a++] = ALPHABET[((b1 &lt;&lt; 2) | ((b2 &amp; 0xFF) &gt;&gt; 6)) &amp; mask];\r\n                ar[a++] = ALPHABET[b2 &amp; mask];\r\n            }\r\n            switch(size % 3){\r\n                case 1: ar[--a]  = &#39;=&#39;;\r\n                case 2: ar[--a]  = &#39;=&#39;;\r\n            }\r\n            return new String(ar);\r\n        }\r\n    \r\n        /**\r\n         * Translates the specified Base64 string into a byte array.\r\n         *\r\n         * @param s the Base64 string (not null)\r\n         * @return the byte array (not null)\r\n         */\r\n        public static byte[] decode(String s){\r\n            int delta = s.endsWith( &quot;==&quot; ) ? 2 : s.endsWith( &quot;=&quot; ) ? 1 : 0;\r\n            byte[] buffer = new byte[s.length()*3/4 - delta];\r\n            int mask = 0xFF;\r\n            int index = 0;\r\n            for(int i=0; i&lt; s.length(); i+=4){\r\n                int c0 = toInt[s.charAt( i )];\r\n                int c1 = toInt[s.charAt( i + 1)];\r\n                buffer[index++]= (byte)(((c0 &lt;&lt; 2) | (c1 &gt;&gt; 4)) &amp; mask);\r\n                if(index &gt;= buffer.length){\r\n                    return buffer;\r\n                }\r\n                int c2 = toInt[s.charAt( i + 2)];\r\n                buffer[index++]= (byte)(((c1 &lt;&lt; 4) | (c2 &gt;&gt; 2)) &amp; mask);\r\n                if(index &gt;= buffer.length){\r\n                    return buffer;\r\n                }\r\n                int c3 = toInt[s.charAt( i + 3 )];\r\n                buffer[index++]= (byte)(((c2 &lt;&lt; 6) | c3) &amp; mask);\r\n            }\r\n            return buffer;\r\n        } \r\n        \r\n    }\r\n\r\n","title":"Decode Base64 data in Java","body":"<p>My solution is fastest and easiest.</p>\n\n<pre><code>public class MyBase64 {\n\n    private final static char[] ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".toCharArray();\n\n    private static int[]  toInt   = new int[128];\n\n    static {\n        for(int i=0; i&lt; ALPHABET.length; i++){\n            toInt[ALPHABET[i]]= i;\n        }\n    }\n\n    /**\n     * Translates the specified byte array into Base64 string.\n     *\n     * @param buf the byte array (not null)\n     * @return the translated Base64 string (not null)\n     */\n    public static String encode(byte[] buf){\n        int size = buf.length;\n        char[] ar = new char[((size + 2) / 3) * 4];\n        int a = 0;\n        int i=0;\n        while(i &lt; size){\n            byte b0 = buf[i++];\n            byte b1 = (i &lt; size) ? buf[i++] : 0;\n            byte b2 = (i &lt; size) ? buf[i++] : 0;\n\n            int mask = 0x3F;\n            ar[a++] = ALPHABET[(b0 &gt;&gt; 2) &amp; mask];\n            ar[a++] = ALPHABET[((b0 &lt;&lt; 4) | ((b1 &amp; 0xFF) &gt;&gt; 4)) &amp; mask];\n            ar[a++] = ALPHABET[((b1 &lt;&lt; 2) | ((b2 &amp; 0xFF) &gt;&gt; 6)) &amp; mask];\n            ar[a++] = ALPHABET[b2 &amp; mask];\n        }\n        switch(size % 3){\n            case 1: ar[--a]  = '=';\n            case 2: ar[--a]  = '=';\n        }\n        return new String(ar);\n    }\n\n    /**\n     * Translates the specified Base64 string into a byte array.\n     *\n     * @param s the Base64 string (not null)\n     * @return the byte array (not null)\n     */\n    public static byte[] decode(String s){\n        int delta = s.endsWith( \"==\" ) ? 2 : s.endsWith( \"=\" ) ? 1 : 0;\n        byte[] buffer = new byte[s.length()*3/4 - delta];\n        int mask = 0xFF;\n        int index = 0;\n        for(int i=0; i&lt; s.length(); i+=4){\n            int c0 = toInt[s.charAt( i )];\n            int c1 = toInt[s.charAt( i + 1)];\n            buffer[index++]= (byte)(((c0 &lt;&lt; 2) | (c1 &gt;&gt; 4)) &amp; mask);\n            if(index &gt;= buffer.length){\n                return buffer;\n            }\n            int c2 = toInt[s.charAt( i + 2)];\n            buffer[index++]= (byte)(((c1 &lt;&lt; 4) | (c2 &gt;&gt; 2)) &amp; mask);\n            if(index &gt;= buffer.length){\n                return buffer;\n            }\n            int c3 = toInt[s.charAt( i + 3 )];\n            buffer[index++]= (byte)(((c2 &lt;&lt; 6) | c3) &amp; mask);\n        }\n        return buffer;\n    } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1317015355,"creation_date":1317015355,"answer_id":7550975,"question_id":469695,"body_markdown":"This is a **late** answer, but Joshua Bloch committed his `Base64` class (when he was working for Sun, ahem, Oracle) under the `java.util.prefs` package. This class existed since JDK 1.4.\r\n\r\n\r\nE.g.\r\n\r\n    String currentString = &quot;Hello World&quot;;\r\n    String base64String = java.util.prefs.Base64.byteArrayToBase64(currentString.getBytes(&quot;UTF-8&quot;));\r\n\r\n","title":"Decode Base64 data in Java","body":"<p>This is a <strong>late</strong> answer, but Joshua Bloch committed his <code>Base64</code> class (when he was working for Sun, ahem, Oracle) under the <code>java.util.prefs</code> package. This class existed since JDK 1.4.</p>\n\n<p>E.g.</p>\n\n<pre><code>String currentString = \"Hello World\";\nString base64String = java.util.prefs.Base64.byteArrayToBase64(currentString.getBytes(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97390,"reputation":12553,"user_id":264181,"display_name":"diyism"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1469699381,"creation_date":1323059155,"answer_id":8381015,"question_id":469695,"body_markdown":"Hope this helps you:   \r\n\r\n    import com.sun.org.apache.xml.internal.security.utils.Base64;\r\n    String str=&quot;Hello World&quot;;\r\n    String base64_str=Base64.encode(str.getBytes(&quot;UTF-8&quot;));\r\n\r\nOr:\r\n\r\n    String str=&quot;Hello World&quot;;\r\n    String base64_str=&quot;&quot;;\r\n    try\r\n       {base64_str=(String)Class.forName(&quot;java.util.prefs.Base64&quot;).getDeclaredMethod(&quot;byteArrayToBase64&quot;, new Class[]{byte[].class}).invoke(null, new Object[]{str.getBytes(&quot;UTF-8&quot;)});\r\n       }\r\n    catch (Exception ee) {}\r\n\r\n`java.util.prefs.Base64` works on local `rt.jar`,\r\n\r\nBut it is not in [The JRE Class White List](http://code.google.com/appengine/docs/java/jrewhitelist.html)\r\n\r\nand not in [Available classes not listed in the GAE/J white-list](http://blog.stringbuffer.com/2009/04/available-classes-in-google-app-enginej.html)\r\n\r\nWhat a pity!\r\n\r\nPS. In android, it&#39;s easy because that `android.util.Base64` has been included since Android API Level 8.","title":"Decode Base64 data in Java","body":"<p>Hope this helps you:   </p>\n\n<pre><code>import com.sun.org.apache.xml.internal.security.utils.Base64;\nString str=\"Hello World\";\nString base64_str=Base64.encode(str.getBytes(\"UTF-8\"));\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>String str=\"Hello World\";\nString base64_str=\"\";\ntry\n   {base64_str=(String)Class.forName(\"java.util.prefs.Base64\").getDeclaredMethod(\"byteArrayToBase64\", new Class[]{byte[].class}).invoke(null, new Object[]{str.getBytes(\"UTF-8\")});\n   }\ncatch (Exception ee) {}\n</code></pre>\n\n<p><code>java.util.prefs.Base64</code> works on local <code>rt.jar</code>,</p>\n\n<p>But it is not in <a href=\"http://code.google.com/appengine/docs/java/jrewhitelist.html\" rel=\"nofollow\">The JRE Class White List</a></p>\n\n<p>and not in <a href=\"http://blog.stringbuffer.com/2009/04/available-classes-in-google-app-enginej.html\" rel=\"nofollow\">Available classes not listed in the GAE/J white-list</a></p>\n\n<p>What a pity!</p>\n\n<p>PS. In android, it's easy because that <code>android.util.Base64</code> has been included since Android API Level 8.</p>\n"},{"tags":[],"owner":{"display_name":"user1221406"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1350269299,"creation_date":1329752079,"answer_id":9363739,"question_id":469695,"body_markdown":"If You are prefering performance based solution then you can use &quot;MiGBase64&quot;\r\n\r\nhttp://migbase64.sourceforge.net/\r\n\r\n  \r\n\r\n    public class Base64Test {\r\n        public static void main(String[] args) {\r\n        String encodeToString = Base64.encodeToString(&quot;JavaTips.net&quot;.getBytes(), true);\r\n        System.out.println(&quot;encodeToString &quot; + encodeToString);\r\n        byte[] decodedBytes = Base64.decode(encodeToString.getBytes());\r\n        System.out.println(&quot;decodedBytes &quot; + new String(decodedBytes));\r\n        }\r\n    }\r\n\r\n","title":"Decode Base64 data in Java","body":"<p>If You are prefering performance based solution then you can use \"MiGBase64\"</p>\n\n<p><a href=\"http://migbase64.sourceforge.net/\" rel=\"noreferrer\">http://migbase64.sourceforge.net/</a></p>\n\n<pre><code>public class Base64Test {\n    public static void main(String[] args) {\n    String encodeToString = Base64.encodeToString(\"JavaTips.net\".getBytes(), true);\n    System.out.println(\"encodeToString \" + encodeToString);\n    byte[] decodedBytes = Base64.decode(encodeToString.getBytes());\n    System.out.println(\"decodedBytes \" + new String(decodedBytes));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77528,"reputation":30998,"user_id":221213,"accept_rate":93,"display_name":"KARASZI Istv&#225;n"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1337860559,"creation_date":1337698600,"answer_id":10704593,"question_id":469695,"body_markdown":"Another late answer, but my benchmarking shows that [Jetty&#39;s implementation of Base64][1] encoder is pretty fast. Not as fast as [MiGBase64][2] but faster than [iHarder Base64][3].\r\n\r\n    import org.eclipse.jetty.util.B64Code;\r\n    \r\n    final String decoded = B64Code.decode(encoded, &quot;UTF-8&quot;);\r\n\r\nI also did some benchmarks:\r\n\r\n          library     |    encode    |    decode   \r\n    ------------------+--------------+-------------\r\n     &#39;MiGBase64&#39;      |  10146001.00 |  6426446.00\r\n     &#39;Jetty B64Code&#39;  |   8846191.00 |  3101361.75\r\n     &#39;iHarder Base64&#39; |   3259590.50 |  2505280.00\r\n     &#39;Commons-Codec&#39;  |    241318.04 |   255179.96\r\n\r\nThese are runs/sec so higher is better.\r\n\r\n\r\n  [1]: http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/util/B64Code.html\r\n  [2]: http://migbase64.sourceforge.net/\r\n  [3]: http://iharder.sourceforge.net/current/java/base64/","title":"Decode Base64 data in Java","body":"<p>Another late answer, but my benchmarking shows that <a href=\"http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/util/B64Code.html\" rel=\"noreferrer\">Jetty's implementation of Base64</a> encoder is pretty fast. Not as fast as <a href=\"http://migbase64.sourceforge.net/\" rel=\"noreferrer\">MiGBase64</a> but faster than <a href=\"http://iharder.sourceforge.net/current/java/base64/\" rel=\"noreferrer\">iHarder Base64</a>.</p>\n\n<pre><code>import org.eclipse.jetty.util.B64Code;\n\nfinal String decoded = B64Code.decode(encoded, \"UTF-8\");\n</code></pre>\n\n<p>I also did some benchmarks:</p>\n\n<pre><code>      library     |    encode    |    decode   \n------------------+--------------+-------------\n 'MiGBase64'      |  10146001.00 |  6426446.00\n 'Jetty B64Code'  |   8846191.00 |  3101361.75\n 'iHarder Base64' |   3259590.50 |  2505280.00\n 'Commons-Codec'  |    241318.04 |   255179.96\n</code></pre>\n\n<p>These are runs/sec so higher is better.</p>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1337857158,"creation_date":1337857158,"answer_id":10736154,"question_id":469695,"body_markdown":"Here&#39;s my own implementation, if it could be useful to someone : \r\n\r\n    public class Base64Coder {\r\n    \r\n    \t// The line separator string of the operating system.\r\n    \tprivate static final String systemLineSeparator = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n    \t// Mapping table from 6-bit nibbles to Base64 characters.\r\n    \tprivate static final char[] map1 = new char[64];\r\n    \t   static {\r\n    \t      int i=0;\r\n    \t      for (char c=&#39;A&#39;; c&lt;=&#39;Z&#39;; c++) map1[i++] = c;\r\n    \t      for (char c=&#39;a&#39;; c&lt;=&#39;z&#39;; c++) map1[i++] = c;\r\n    \t      for (char c=&#39;0&#39;; c&lt;=&#39;9&#39;; c++) map1[i++] = c;\r\n    \t      map1[i++] = &#39;+&#39;; map1[i++] = &#39;/&#39;; }\r\n    \r\n    \t// Mapping table from Base64 characters to 6-bit nibbles.\r\n    \tprivate static final byte[] map2 = new byte[128];\r\n    \t   static {\r\n    \t      for (int i=0; i&lt;map2.length; i++) map2[i] = -1;\r\n    \t      for (int i=0; i&lt;64; i++) map2[map1[i]] = (byte)i; }\r\n    \r\n    \t/**\r\n    \t* Encodes a string into Base64 format.\r\n    \t* No blanks or line breaks are inserted.\r\n    \t* @param s  A String to be encoded.\r\n    \t* @return   A String containing the Base64 encoded data.\r\n    \t*/\r\n    \tpublic static String encodeString (String s) {\r\n    \t   return new String(encode(s.getBytes())); }\r\n    \r\n    \t/**\r\n    \t* Encodes a byte array into Base 64 format and breaks the output into lines of 76 characters.\r\n    \t* This method is compatible with &lt;code&gt;sun.misc.BASE64Encoder.encodeBuffer(byte[])&lt;/code&gt;.\r\n    \t* @param in  An array containing the data bytes to be encoded.\r\n    \t* @return    A String containing the Base64 encoded data, broken into lines.\r\n    \t*/\r\n    \tpublic static String encodeLines (byte[] in) {\r\n    \t   return encodeLines(in, 0, in.length, 76, systemLineSeparator); }\r\n    \r\n    \t/**\r\n    \t* Encodes a byte array into Base 64 format and breaks the output into lines.\r\n    \t* @param in            An array containing the data bytes to be encoded.\r\n    \t* @param iOff          Offset of the first byte in &lt;code&gt;in&lt;/code&gt; to be processed.\r\n    \t* @param iLen          Number of bytes to be processed in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\r\n    \t* @param lineLen       Line length for the output data. Should be a multiple of 4.\r\n    \t* @param lineSeparator The line separator to be used to separate the output lines.\r\n    \t* @return              A String containing the Base64 encoded data, broken into lines.\r\n    \t*/\r\n    \tpublic static String encodeLines (byte[] in, int iOff, int iLen, int lineLen, String lineSeparator) {\r\n    \t   int blockLen = (lineLen*3) / 4;\r\n    \t   if (blockLen &lt;= 0) throw new IllegalArgumentException();\r\n    \t   int lines = (iLen+blockLen-1) / blockLen;\r\n    \t   int bufLen = ((iLen+2)/3)*4 + lines*lineSeparator.length();\r\n    \t   StringBuilder buf = new StringBuilder(bufLen);\r\n    \t   int ip = 0;\r\n    \t   while (ip &lt; iLen) {\r\n    \t      int l = Math.min(iLen-ip, blockLen);\r\n    \t      buf.append (encode(in, iOff+ip, l));\r\n    \t      buf.append (lineSeparator);\r\n    \t      ip += l; }\r\n    \t   return buf.toString(); }\r\n    \r\n    \t/**\r\n    \t* Encodes a byte array into Base64 format.\r\n    \t* No blanks or line breaks are inserted in the output.\r\n    \t* @param in  An array containing the data bytes to be encoded.\r\n    \t* @return    A character array containing the Base64 encoded data.\r\n    \t*/\r\n    \tpublic static char[] encode (byte[] in) {\r\n    \t   return encode(in, 0, in.length); }\r\n    \r\n    \t/**\r\n    \t* Encodes a byte array into Base64 format.\r\n    \t* No blanks or line breaks are inserted in the output.\r\n    \t* @param in    An array containing the data bytes to be encoded.\r\n    \t* @param iLen  Number of bytes to process in &lt;code&gt;in&lt;/code&gt;.\r\n    \t* @return      A character array containing the Base64 encoded data.\r\n    \t*/\r\n    \tpublic static char[] encode (byte[] in, int iLen) {\r\n    \t   return encode(in, 0, iLen); }\r\n    \r\n    \t/**\r\n    \t* Encodes a byte array into Base64 format.\r\n    \t* No blanks or line breaks are inserted in the output.\r\n    \t* @param in    An array containing the data bytes to be encoded.\r\n    \t* @param iOff  Offset of the first byte in &lt;code&gt;in&lt;/code&gt; to be processed.\r\n    \t* @param iLen  Number of bytes to process in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\r\n    \t* @return      A character array containing the Base64 encoded data.\r\n    \t*/\r\n    \tpublic static char[] encode (byte[] in, int iOff, int iLen) {\r\n    \t   int oDataLen = (iLen*4+2)/3;       // output length without padding\r\n    \t   int oLen = ((iLen+2)/3)*4;         // output length including padding\r\n    \t   char[] out = new char[oLen];\r\n    \t   int ip = iOff;\r\n    \t   int iEnd = iOff + iLen;\r\n    \t   int op = 0;\r\n    \t   while (ip &lt; iEnd) {\r\n    \t      int i0 = in[ip++] &amp; 0xff;\r\n    \t      int i1 = ip &lt; iEnd ? in[ip++] &amp; 0xff : 0;\r\n    \t      int i2 = ip &lt; iEnd ? in[ip++] &amp; 0xff : 0;\r\n    \t      int o0 = i0 &gt;&gt;&gt; 2;\r\n    \t      int o1 = ((i0 &amp;   3) &lt;&lt; 4) | (i1 &gt;&gt;&gt; 4);\r\n    \t      int o2 = ((i1 &amp; 0xf) &lt;&lt; 2) | (i2 &gt;&gt;&gt; 6);\r\n    \t      int o3 = i2 &amp; 0x3F;\r\n    \t      out[op++] = map1[o0];\r\n    \t      out[op++] = map1[o1];\r\n    \t      out[op] = op &lt; oDataLen ? map1[o2] : &#39;=&#39;; op++;\r\n    \t      out[op] = op &lt; oDataLen ? map1[o3] : &#39;=&#39;; op++; }\r\n    \t   return out; }\r\n    \r\n    \t/**\r\n    \t* Decodes a string from Base64 format.\r\n    \t* No blanks or line breaks are allowed within the Base64 encoded input data.\r\n    \t* @param s  A Base64 String to be decoded.\r\n    \t* @return   A String containing the decoded data.\r\n    \t* @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\r\n    \t*/\r\n    \tpublic static String decodeString (String s) {\r\n    \t   return new String(decode(s)); }\r\n    \r\n    \t/**\r\n    \t* Decodes a byte array from Base64 format and ignores line separators, tabs and blanks.\r\n    \t* CR, LF, Tab and Space characters are ignored in the input data.\r\n    \t* This method is compatible with &lt;code&gt;sun.misc.BASE64Decoder.decodeBuffer(String)&lt;/code&gt;.\r\n    \t* @param s  A Base64 String to be decoded.\r\n    \t* @return   An array containing the decoded data bytes.\r\n    \t* @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\r\n    \t*/\r\n    \tpublic static byte[] decodeLines (String s) {\r\n    \t   char[] buf = new char[s.length()];\r\n    \t   int p = 0;\r\n    \t   for (int ip = 0; ip &lt; s.length(); ip++) {\r\n    \t      char c = s.charAt(ip);\r\n    \t      if (c != &#39; &#39; &amp;&amp; c != &#39;\\r&#39; &amp;&amp; c != &#39;\\n&#39; &amp;&amp; c != &#39;\\t&#39;)\r\n    \t         buf[p++] = c; }\r\n    \t   return decode(buf, 0, p); }\r\n    \r\n    \t/**\r\n    \t* Decodes a byte array from Base64 format.\r\n    \t* No blanks or line breaks are allowed within the Base64 encoded input data.\r\n    \t* @param s  A Base64 String to be decoded.\r\n    \t* @return   An array containing the decoded data bytes.\r\n    \t* @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\r\n    \t*/\r\n    \tpublic static byte[] decode (String s) {\r\n    \t   return decode(s.toCharArray()); }\r\n    \r\n    \t/**\r\n    \t* Decodes a byte array from Base64 format.\r\n    \t* No blanks or line breaks are allowed within the Base64 encoded input data.\r\n    \t* @param in  A character array containing the Base64 encoded data.\r\n    \t* @return    An array containing the decoded data bytes.\r\n    \t* @throws    IllegalArgumentException If the input is not valid Base64 encoded data.\r\n    \t*/\r\n    \tpublic static byte[] decode (char[] in) {\r\n    \t   return decode(in, 0, in.length); }\r\n    \r\n    \t/**\r\n    \t* Decodes a byte array from Base64 format.\r\n    \t* No blanks or line breaks are allowed within the Base64 encoded input data.\r\n    \t* @param in    A character array containing the Base64 encoded data.\r\n    \t* @param iOff  Offset of the first character in &lt;code&gt;in&lt;/code&gt; to be processed.\r\n    \t* @param iLen  Number of characters to process in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\r\n    \t* @return      An array containing the decoded data bytes.\r\n    \t* @throws      IllegalArgumentException If the input is not valid Base64 encoded data.\r\n    \t*/\r\n    \tpublic static byte[] decode (char[] in, int iOff, int iLen) {\r\n    \t   if (iLen%4 != 0) throw new IllegalArgumentException (&quot;Length of Base64 encoded input string is not a multiple of 4.&quot;);\r\n    \t   while (iLen &gt; 0 &amp;&amp; in[iOff+iLen-1] == &#39;=&#39;) iLen--;\r\n    \t   int oLen = (iLen*3) / 4;\r\n    \t   byte[] out = new byte[oLen];\r\n    \t   int ip = iOff;\r\n    \t   int iEnd = iOff + iLen;\r\n    \t   int op = 0;\r\n    \t   while (ip &lt; iEnd) {\r\n    \t      int i0 = in[ip++];\r\n    \t      int i1 = in[ip++];\r\n    \t      int i2 = ip &lt; iEnd ? in[ip++] : &#39;A&#39;;\r\n    \t      int i3 = ip &lt; iEnd ? in[ip++] : &#39;A&#39;;\r\n    \t      if (i0 &gt; 127 || i1 &gt; 127 || i2 &gt; 127 || i3 &gt; 127)\r\n    \t         throw new IllegalArgumentException (&quot;Illegal character in Base64 encoded data.&quot;);\r\n    \t      int b0 = map2[i0];\r\n    \t      int b1 = map2[i1];\r\n    \t      int b2 = map2[i2];\r\n    \t      int b3 = map2[i3];\r\n    \t      if (b0 &lt; 0 || b1 &lt; 0 || b2 &lt; 0 || b3 &lt; 0)\r\n    \t         throw new IllegalArgumentException (&quot;Illegal character in Base64 encoded data.&quot;);\r\n    \t      int o0 = ( b0       &lt;&lt;2) | (b1&gt;&gt;&gt;4);\r\n    \t      int o1 = ((b1 &amp; 0xf)&lt;&lt;4) | (b2&gt;&gt;&gt;2);\r\n    \t      int o2 = ((b2 &amp;   3)&lt;&lt;6) |  b3;\r\n    \t      out[op++] = (byte)o0;\r\n    \t      if (op&lt;oLen) out[op++] = (byte)o1;\r\n    \t      if (op&lt;oLen) out[op++] = (byte)o2; }\r\n    \t   return out; }\r\n    \r\n    \t// Dummy constructor.\r\n    \tprivate Base64Coder() {}\r\n    }","title":"Decode Base64 data in Java","body":"<p>Here's my own implementation, if it could be useful to someone : </p>\n\n<pre><code>public class Base64Coder {\n\n    // The line separator string of the operating system.\n    private static final String systemLineSeparator = System.getProperty(\"line.separator\");\n\n    // Mapping table from 6-bit nibbles to Base64 characters.\n    private static final char[] map1 = new char[64];\n       static {\n          int i=0;\n          for (char c='A'; c&lt;='Z'; c++) map1[i++] = c;\n          for (char c='a'; c&lt;='z'; c++) map1[i++] = c;\n          for (char c='0'; c&lt;='9'; c++) map1[i++] = c;\n          map1[i++] = '+'; map1[i++] = '/'; }\n\n    // Mapping table from Base64 characters to 6-bit nibbles.\n    private static final byte[] map2 = new byte[128];\n       static {\n          for (int i=0; i&lt;map2.length; i++) map2[i] = -1;\n          for (int i=0; i&lt;64; i++) map2[map1[i]] = (byte)i; }\n\n    /**\n    * Encodes a string into Base64 format.\n    * No blanks or line breaks are inserted.\n    * @param s  A String to be encoded.\n    * @return   A String containing the Base64 encoded data.\n    */\n    public static String encodeString (String s) {\n       return new String(encode(s.getBytes())); }\n\n    /**\n    * Encodes a byte array into Base 64 format and breaks the output into lines of 76 characters.\n    * This method is compatible with &lt;code&gt;sun.misc.BASE64Encoder.encodeBuffer(byte[])&lt;/code&gt;.\n    * @param in  An array containing the data bytes to be encoded.\n    * @return    A String containing the Base64 encoded data, broken into lines.\n    */\n    public static String encodeLines (byte[] in) {\n       return encodeLines(in, 0, in.length, 76, systemLineSeparator); }\n\n    /**\n    * Encodes a byte array into Base 64 format and breaks the output into lines.\n    * @param in            An array containing the data bytes to be encoded.\n    * @param iOff          Offset of the first byte in &lt;code&gt;in&lt;/code&gt; to be processed.\n    * @param iLen          Number of bytes to be processed in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\n    * @param lineLen       Line length for the output data. Should be a multiple of 4.\n    * @param lineSeparator The line separator to be used to separate the output lines.\n    * @return              A String containing the Base64 encoded data, broken into lines.\n    */\n    public static String encodeLines (byte[] in, int iOff, int iLen, int lineLen, String lineSeparator) {\n       int blockLen = (lineLen*3) / 4;\n       if (blockLen &lt;= 0) throw new IllegalArgumentException();\n       int lines = (iLen+blockLen-1) / blockLen;\n       int bufLen = ((iLen+2)/3)*4 + lines*lineSeparator.length();\n       StringBuilder buf = new StringBuilder(bufLen);\n       int ip = 0;\n       while (ip &lt; iLen) {\n          int l = Math.min(iLen-ip, blockLen);\n          buf.append (encode(in, iOff+ip, l));\n          buf.append (lineSeparator);\n          ip += l; }\n       return buf.toString(); }\n\n    /**\n    * Encodes a byte array into Base64 format.\n    * No blanks or line breaks are inserted in the output.\n    * @param in  An array containing the data bytes to be encoded.\n    * @return    A character array containing the Base64 encoded data.\n    */\n    public static char[] encode (byte[] in) {\n       return encode(in, 0, in.length); }\n\n    /**\n    * Encodes a byte array into Base64 format.\n    * No blanks or line breaks are inserted in the output.\n    * @param in    An array containing the data bytes to be encoded.\n    * @param iLen  Number of bytes to process in &lt;code&gt;in&lt;/code&gt;.\n    * @return      A character array containing the Base64 encoded data.\n    */\n    public static char[] encode (byte[] in, int iLen) {\n       return encode(in, 0, iLen); }\n\n    /**\n    * Encodes a byte array into Base64 format.\n    * No blanks or line breaks are inserted in the output.\n    * @param in    An array containing the data bytes to be encoded.\n    * @param iOff  Offset of the first byte in &lt;code&gt;in&lt;/code&gt; to be processed.\n    * @param iLen  Number of bytes to process in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\n    * @return      A character array containing the Base64 encoded data.\n    */\n    public static char[] encode (byte[] in, int iOff, int iLen) {\n       int oDataLen = (iLen*4+2)/3;       // output length without padding\n       int oLen = ((iLen+2)/3)*4;         // output length including padding\n       char[] out = new char[oLen];\n       int ip = iOff;\n       int iEnd = iOff + iLen;\n       int op = 0;\n       while (ip &lt; iEnd) {\n          int i0 = in[ip++] &amp; 0xff;\n          int i1 = ip &lt; iEnd ? in[ip++] &amp; 0xff : 0;\n          int i2 = ip &lt; iEnd ? in[ip++] &amp; 0xff : 0;\n          int o0 = i0 &gt;&gt;&gt; 2;\n          int o1 = ((i0 &amp;   3) &lt;&lt; 4) | (i1 &gt;&gt;&gt; 4);\n          int o2 = ((i1 &amp; 0xf) &lt;&lt; 2) | (i2 &gt;&gt;&gt; 6);\n          int o3 = i2 &amp; 0x3F;\n          out[op++] = map1[o0];\n          out[op++] = map1[o1];\n          out[op] = op &lt; oDataLen ? map1[o2] : '='; op++;\n          out[op] = op &lt; oDataLen ? map1[o3] : '='; op++; }\n       return out; }\n\n    /**\n    * Decodes a string from Base64 format.\n    * No blanks or line breaks are allowed within the Base64 encoded input data.\n    * @param s  A Base64 String to be decoded.\n    * @return   A String containing the decoded data.\n    * @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\n    */\n    public static String decodeString (String s) {\n       return new String(decode(s)); }\n\n    /**\n    * Decodes a byte array from Base64 format and ignores line separators, tabs and blanks.\n    * CR, LF, Tab and Space characters are ignored in the input data.\n    * This method is compatible with &lt;code&gt;sun.misc.BASE64Decoder.decodeBuffer(String)&lt;/code&gt;.\n    * @param s  A Base64 String to be decoded.\n    * @return   An array containing the decoded data bytes.\n    * @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\n    */\n    public static byte[] decodeLines (String s) {\n       char[] buf = new char[s.length()];\n       int p = 0;\n       for (int ip = 0; ip &lt; s.length(); ip++) {\n          char c = s.charAt(ip);\n          if (c != ' ' &amp;&amp; c != '\\r' &amp;&amp; c != '\\n' &amp;&amp; c != '\\t')\n             buf[p++] = c; }\n       return decode(buf, 0, p); }\n\n    /**\n    * Decodes a byte array from Base64 format.\n    * No blanks or line breaks are allowed within the Base64 encoded input data.\n    * @param s  A Base64 String to be decoded.\n    * @return   An array containing the decoded data bytes.\n    * @throws   IllegalArgumentException If the input is not valid Base64 encoded data.\n    */\n    public static byte[] decode (String s) {\n       return decode(s.toCharArray()); }\n\n    /**\n    * Decodes a byte array from Base64 format.\n    * No blanks or line breaks are allowed within the Base64 encoded input data.\n    * @param in  A character array containing the Base64 encoded data.\n    * @return    An array containing the decoded data bytes.\n    * @throws    IllegalArgumentException If the input is not valid Base64 encoded data.\n    */\n    public static byte[] decode (char[] in) {\n       return decode(in, 0, in.length); }\n\n    /**\n    * Decodes a byte array from Base64 format.\n    * No blanks or line breaks are allowed within the Base64 encoded input data.\n    * @param in    A character array containing the Base64 encoded data.\n    * @param iOff  Offset of the first character in &lt;code&gt;in&lt;/code&gt; to be processed.\n    * @param iLen  Number of characters to process in &lt;code&gt;in&lt;/code&gt;, starting at &lt;code&gt;iOff&lt;/code&gt;.\n    * @return      An array containing the decoded data bytes.\n    * @throws      IllegalArgumentException If the input is not valid Base64 encoded data.\n    */\n    public static byte[] decode (char[] in, int iOff, int iLen) {\n       if (iLen%4 != 0) throw new IllegalArgumentException (\"Length of Base64 encoded input string is not a multiple of 4.\");\n       while (iLen &gt; 0 &amp;&amp; in[iOff+iLen-1] == '=') iLen--;\n       int oLen = (iLen*3) / 4;\n       byte[] out = new byte[oLen];\n       int ip = iOff;\n       int iEnd = iOff + iLen;\n       int op = 0;\n       while (ip &lt; iEnd) {\n          int i0 = in[ip++];\n          int i1 = in[ip++];\n          int i2 = ip &lt; iEnd ? in[ip++] : 'A';\n          int i3 = ip &lt; iEnd ? in[ip++] : 'A';\n          if (i0 &gt; 127 || i1 &gt; 127 || i2 &gt; 127 || i3 &gt; 127)\n             throw new IllegalArgumentException (\"Illegal character in Base64 encoded data.\");\n          int b0 = map2[i0];\n          int b1 = map2[i1];\n          int b2 = map2[i2];\n          int b3 = map2[i3];\n          if (b0 &lt; 0 || b1 &lt; 0 || b2 &lt; 0 || b3 &lt; 0)\n             throw new IllegalArgumentException (\"Illegal character in Base64 encoded data.\");\n          int o0 = ( b0       &lt;&lt;2) | (b1&gt;&gt;&gt;4);\n          int o1 = ((b1 &amp; 0xf)&lt;&lt;4) | (b2&gt;&gt;&gt;2);\n          int o2 = ((b2 &amp;   3)&lt;&lt;6) |  b3;\n          out[op++] = (byte)o0;\n          if (op&lt;oLen) out[op++] = (byte)o1;\n          if (op&lt;oLen) out[op++] = (byte)o2; }\n       return out; }\n\n    // Dummy constructor.\n    private Base64Coder() {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1509535651,"creation_date":1355771523,"answer_id":13920568,"question_id":469695,"body_markdown":"Guava now has Base64 decoding built in. \r\n\r\nUse [BaseEncoding.base64().decode()][1] \r\n\r\nAs for dealing with possible whitespace in input use\r\n\r\n`BaseEncoding.base64().decode(CharMatcher.WHITESPACE.removeFrom(...));`\r\n\r\nSee [this discussion][2] for more information\r\n\r\n [1]: http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/BaseEncoding.html\r\n  [2]: https://github.com/google/guava/issues/1252","title":"Decode Base64 data in Java","body":"<p>Guava now has Base64 decoding built in. </p>\n\n<p>Use <a href=\"http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/BaseEncoding.html\" rel=\"nofollow noreferrer\">BaseEncoding.base64().decode()</a> </p>\n\n<p>As for dealing with possible whitespace in input use</p>\n\n<p><code>BaseEncoding.base64().decode(CharMatcher.WHITESPACE.removeFrom(...));</code></p>\n\n<p>See <a href=\"https://github.com/google/guava/issues/1252\" rel=\"nofollow noreferrer\">this discussion</a> for more information</p>\n"},{"tags":[],"owner":{"account_id":2394150,"reputation":12396,"user_id":2093341,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":463,"is_accepted":false,"score":463,"last_activity_date":1655125287,"creation_date":1364330105,"answer_id":15646871,"question_id":469695,"body_markdown":"As of **Java 8**, there is an officially supported API for Base64 encoding and decoding.\r\nIn time this will probably become the default choice.\r\n\r\nThe API includes the class [`java.util.Base64`][1] and its nested classes. It supports three different flavors: basic, URL safe, and MIME.\r\n\r\n\r\nSample code using the &quot;basic&quot; encoding:\r\n\r\n    import java.util.Base64;\r\n\r\n    byte[] bytes = &quot;Hello, World!&quot;.getBytes(&quot;UTF-8&quot;);\r\n    String encoded = Base64.getEncoder().encodeToString(bytes);\r\n    byte[] decoded = Base64.getDecoder().decode(encoded);\r\n    String decodedStr = new String(decoded, StandardCharsets.UTF_8);\r\n\r\n\r\nThe [documentation for `java.util.Base64`][1] includes several more methods for configuring encoders and decoders, and for using different classes as inputs and outputs (byte arrays, strings, ByteBuffers, java.io streams).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n","title":"Decode Base64 data in Java","body":"<p>As of <strong>Java 8</strong>, there is an officially supported API for Base64 encoding and decoding.\nIn time this will probably become the default choice.</p>\n<p>The API includes the class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\"><code>java.util.Base64</code></a> and its nested classes. It supports three different flavors: basic, URL safe, and MIME.</p>\n<p>Sample code using the &quot;basic&quot; encoding:</p>\n<pre><code>import java.util.Base64;\n\nbyte[] bytes = &quot;Hello, World!&quot;.getBytes(&quot;UTF-8&quot;);\nString encoded = Base64.getEncoder().encodeToString(bytes);\nbyte[] decoded = Base64.getDecoder().decode(encoded);\nString decodedStr = new String(decoded, StandardCharsets.UTF_8);\n</code></pre>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\">documentation for <code>java.util.Base64</code></a> includes several more methods for configuring encoders and decoders, and for using different classes as inputs and outputs (byte arrays, strings, ByteBuffers, java.io streams).</p>\n"},{"tags":[],"owner":{"account_id":996853,"reputation":1570,"user_id":1012575,"display_name":"Vassilis Blazos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1429168330,"creation_date":1423908871,"answer_id":28514547,"question_id":469695,"body_markdown":"Given a **test** encode/decode example of [javax.xml.bind.DatatypeConverter][1] using methods [parseBase64Binary()][2] and [printBase64Binary()][3] referring to @jeremy-ross and @nightfirecat answer.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary%28java.lang.String%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\r\n\r\n\r\n    @Test\r\n    public void EncodeDecode() {\r\n    \t//ENCODE\r\n    \tString hello = &quot;Hello World&quot;;\r\n    \tbyte[] helloBytes = hello.getBytes(StandardCharsets.UTF_8);\r\n    \tString encodedHello = DatatypeConverter.printBase64Binary(helloBytes);\r\n    \tLOGGER.info(hello + &quot; encoded=&gt; &quot; + encodedHello);\r\n    \r\n    \t//DECODE\r\n    \tbyte[] encodedHelloBytes = DatatypeConverter.parseBase64Binary(encodedHello);\r\n    \tString helloAgain = new String(encodedHelloBytes, StandardCharsets.UTF_8) ;\r\n    \tLOGGER.info(encodedHello + &quot; decoded=&gt; &quot; + helloAgain);\r\n    \r\n    \tAssert.assertEquals(hello, helloAgain);\r\n    }\r\n\r\nResult:\r\n\r\n    INFO - Hello World encoded=&gt; SGVsbG8gV29ybGQ=\r\n    INFO - SGVsbG8gV29ybGQ= decoded=&gt; Hello World","title":"Decode Base64 data in Java","body":"<p>Given a <strong>test</strong> encode/decode example of <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\">javax.xml.bind.DatatypeConverter</a> using methods <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary%28java.lang.String%29\">parseBase64Binary()</a> and <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\">printBase64Binary()</a> referring to @jeremy-ross and @nightfirecat answer.</p>\n\n<pre><code>@Test\npublic void EncodeDecode() {\n    //ENCODE\n    String hello = \"Hello World\";\n    byte[] helloBytes = hello.getBytes(StandardCharsets.UTF_8);\n    String encodedHello = DatatypeConverter.printBase64Binary(helloBytes);\n    LOGGER.info(hello + \" encoded=&gt; \" + encodedHello);\n\n    //DECODE\n    byte[] encodedHelloBytes = DatatypeConverter.parseBase64Binary(encodedHello);\n    String helloAgain = new String(encodedHelloBytes, StandardCharsets.UTF_8) ;\n    LOGGER.info(encodedHello + \" decoded=&gt; \" + helloAgain);\n\n    Assert.assertEquals(hello, helloAgain);\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>INFO - Hello World encoded=&gt; SGVsbG8gV29ybGQ=\nINFO - SGVsbG8gV29ybGQ= decoded=&gt; Hello World\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4487107,"reputation":672,"user_id":3649347,"display_name":"Tell Me How"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448875487,"creation_date":1448875487,"answer_id":33995170,"question_id":469695,"body_markdown":"You can write or download file from encoded Base64 string:\r\n\r\n    Base64 base64 = new Base64(); \r\n    String encodedFile=&quot;JVBERi0xLjUKJeLjz9MKMSAwIG9iago8PCAKICAgL1R5cGUgL0NhdGFsb2cKICAgL1BhZ2VzIDIgMCBSCiAgIC9QYWdlTGF5b3V0IC9TaW5&quot;; \r\n    \t\t\t  byte[] dd=encodedFile.getBytes();\r\n    \t\t\tbyte[] bytes = Base64.decodeBase64(dd);\r\n    \r\n     response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=\\&quot;&quot;+filename+&quot;\\&quot;&quot;);\r\n    \t\t    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    \t\t    response.setHeader(&quot;Expires&quot;, &quot;-1&quot;);\r\n    \t\t\r\n    \t\t    // actually send result bytes\r\n    \t\t    response.getOutputStream().write(bytes);\r\n\r\nWorked for me and hopefully for you also...","title":"Decode Base64 data in Java","body":"<p>You can write or download file from encoded Base64 string:</p>\n\n<pre><code>Base64 base64 = new Base64(); \nString encodedFile=\"JVBERi0xLjUKJeLjz9MKMSAwIG9iago8PCAKICAgL1R5cGUgL0NhdGFsb2cKICAgL1BhZ2VzIDIgMCBSCiAgIC9QYWdlTGF5b3V0IC9TaW5\"; \n              byte[] dd=encodedFile.getBytes();\n            byte[] bytes = Base64.decodeBase64(dd);\n\n response.setHeader(\"Content-disposition\", \"attachment; filename=\\\"\"+filename+\"\\\"\");\n            response.setHeader(\"Cache-Control\", \"no-cache\");\n            response.setHeader(\"Expires\", \"-1\");\n\n            // actually send result bytes\n            response.getOutputStream().write(bytes);\n</code></pre>\n\n<p>Worked for me and hopefully for you also...</p>\n"},{"tags":[],"owner":{"account_id":5525181,"reputation":299,"user_id":4539566,"display_name":"beyeriii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496790187,"creation_date":1466471105,"answer_id":37934079,"question_id":469695,"body_markdown":"The Java 8 implementation of `java.util.Base64` has no dependencies on other Java 8 specific classes.\r\n\r\nI am not certain if this will work for Java 6 project, but it is possible to copy and paste the `Base64.java` file into a Java 7 project and compile it with no modification other than importing java.util.Arrays and `java.util.Objects`.\r\n\r\nNote the Base64.java file is covered by the GNU GPL2\r\n","title":"Decode Base64 data in Java","body":"<p>The Java 8 implementation of <code>java.util.Base64</code> has no dependencies on other Java 8 specific classes.</p>\n\n<p>I am not certain if this will work for Java 6 project, but it is possible to copy and paste the <code>Base64.java</code> file into a Java 7 project and compile it with no modification other than importing java.util.Arrays and <code>java.util.Objects</code>.</p>\n\n<p>Note the Base64.java file is covered by the GNU GPL2</p>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503476572,"creation_date":1503476572,"answer_id":45834397,"question_id":469695,"body_markdown":"I used `android.util.base64` that works pretty good without any dependances: \r\n\r\n*Usage:*\r\n\r\n    byte[] decodedKey = Base64.decode(encodedPublicKey, Base64.DEFAULT);\r\n\r\n---\r\n\r\npackage com.test;\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    /**\r\n     * Utilities for encoding and decoding the Base64 representation of\r\n     * binary data.  See RFCs &lt;a\r\n     * href=&quot;http://www.ietf.org/rfc/rfc2045.txt&quot;&gt;2045&lt;/a&gt; and &lt;a\r\n     * href=&quot;http://www.ietf.org/rfc/rfc3548.txt&quot;&gt;3548&lt;/a&gt;.\r\n     */\r\n    public class Base64 {\r\n       \r\n        public static final int DEFAULT = 0;\r\n    \r\n       \r\n        public static final int NO_PADDING = 1;\r\n    \r\n        \r\n        public static final int NO_WRAP = 2;\r\n    \r\n        \r\n        public static final int CRLF = 4;\r\n    \r\n        \r\n        public static final int URL_SAFE = 8;\r\n    \r\n       \r\n        public static final int NO_CLOSE = 16;\r\n    \r\n        //  --------------------------------------------------------\r\n        //  shared code\r\n        //  --------------------------------------------------------\r\n    \r\n        /* package */ static abstract class Coder {\r\n            public byte[] output;\r\n            public int op;\r\n    \r\n            public abstract boolean process(byte[] input, int offset, int len, boolean finish);\r\n    \r\n            \r\n            public abstract int maxOutputSize(int len);\r\n        }\r\n    \r\n        //  --------------------------------------------------------\r\n        //  decoding\r\n        //  --------------------------------------------------------\r\n    \r\n        \r\n        public static byte[] decode(String str, int flags) {\r\n            return decode(str.getBytes(), flags);\r\n        }\r\n    \r\n        public static byte[] decode(byte[] input, int flags) {\r\n            return decode(input, 0, input.length, flags);\r\n        }\r\n    \r\n        \r\n        public static byte[] decode(byte[] input, int offset, int len, int flags) {\r\n            // Allocate space for the most data the input could represent.\r\n            // (It could contain less if it contains whitespace, etc.)\r\n            Decoder decoder = new Decoder(flags, new byte[len*3/4]);\r\n    \r\n            if (!decoder.process(input, offset, len, true)) {\r\n                throw new IllegalArgumentException(&quot;bad base-64&quot;);\r\n            }\r\n    \r\n            // Maybe we got lucky and allocated exactly enough output space.\r\n            if (decoder.op == decoder.output.length) {\r\n                return decoder.output;\r\n            }\r\n    \r\n            // Need to shorten the array, so allocate a new one of the\r\n            // right size and copy.\r\n            byte[] temp = new byte[decoder.op];\r\n            System.arraycopy(decoder.output, 0, temp, 0, decoder.op);\r\n            return temp;\r\n        }\r\n    \r\n       static class Decoder extends Coder {       \r\n            private static final int DECODE[] = {\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,\r\n                52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -2, -1, -1,\r\n                -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\r\n                15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,\r\n                -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\r\n                41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n            };\r\n    \r\n            /**\r\n             * Decode lookup table for the &quot;web safe&quot; variant (RFC 3548\r\n             * sec. 4) where - and _ replace + and /.\r\n             */\r\n            private static final int DECODE_WEBSAFE[] = {\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1,\r\n                52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -2, -1, -1,\r\n                -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\r\n                15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, 63,\r\n                -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\r\n                41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n            };\r\n    \r\n            /** Non-data values in the DECODE arrays. */\r\n            private static final int SKIP = -1;\r\n            private static final int EQUALS = -2;\r\n    \r\n            \r\n            private int state;   // state number (0 to 6)\r\n            private int value;\r\n    \r\n            final private int[] alphabet;\r\n    \r\n            public Decoder(int flags, byte[] output) {\r\n                this.output = output;\r\n    \r\n                alphabet = ((flags &amp; URL_SAFE) == 0) ? DECODE : DECODE_WEBSAFE;\r\n                state = 0;\r\n                value = 0;\r\n            }\r\n    \r\n          \r\n            public int maxOutputSize(int len) {\r\n                return len * 3/4 + 10;\r\n            }\r\n    \r\n            /**\r\n             * Decode another block of input data.\r\n             *\r\n             * @return true if the state machine is still healthy.  false if\r\n             *         bad base-64 data has been detected in the input stream.\r\n             */\r\n            public boolean process(byte[] input, int offset, int len, boolean finish) {\r\n                if (this.state == 6) return false;\r\n    \r\n                int p = offset;\r\n                len += offset;\r\n               \r\n                int state = this.state;\r\n                int value = this.value;\r\n                int op = 0;\r\n                final byte[] output = this.output;\r\n                final int[] alphabet = this.alphabet;\r\n    \r\n                while (p &lt; len) {                \r\n                    if (state == 0) {\r\n                        while (p+4 &lt;= len &amp;&amp;\r\n                               (value = ((alphabet[input[p] &amp; 0xff] &lt;&lt; 18) |\r\n                                         (alphabet[input[p+1] &amp; 0xff] &lt;&lt; 12) |\r\n                                         (alphabet[input[p+2] &amp; 0xff] &lt;&lt; 6) |\r\n                                         (alphabet[input[p+3] &amp; 0xff]))) &gt;= 0) {\r\n                            output[op+2] = (byte) value;\r\n                            output[op+1] = (byte) (value &gt;&gt; 8);\r\n                            output[op] = (byte) (value &gt;&gt; 16);\r\n                            op += 3;\r\n                            p += 4;\r\n                        }\r\n                        if (p &gt;= len) break;\r\n                    }\r\n    \r\n                    int d = alphabet[input[p++] &amp; 0xff];\r\n    \r\n                    switch (state) {\r\n                    case 0:\r\n                        if (d &gt;= 0) {\r\n                            value = d;\r\n                            ++state;\r\n                        } else if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n    \r\n                    case 1:\r\n                        if (d &gt;= 0) {\r\n                            value = (value &lt;&lt; 6) | d;\r\n                            ++state;\r\n                        } else if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n    \r\n                    case 2:\r\n                        if (d &gt;= 0) {\r\n                            value = (value &lt;&lt; 6) | d;\r\n                            ++state;\r\n                        } else if (d == EQUALS) {\r\n                            // Emit the last (partial) output tuple;\r\n                            // expect exactly one more padding character.\r\n                            output[op++] = (byte) (value &gt;&gt; 4);\r\n                            state = 4;\r\n                        } else if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n    \r\n                    case 3:\r\n                        if (d &gt;= 0) {\r\n                            // Emit the output triple and return to state 0.\r\n                            value = (value &lt;&lt; 6) | d;\r\n                            output[op+2] = (byte) value;\r\n                            output[op+1] = (byte) (value &gt;&gt; 8);\r\n                            output[op] = (byte) (value &gt;&gt; 16);\r\n                            op += 3;\r\n                            state = 0;\r\n                        } else if (d == EQUALS) {\r\n                            // Emit the last (partial) output tuple;\r\n                            // expect no further data or padding characters.\r\n                            output[op+1] = (byte) (value &gt;&gt; 2);\r\n                            output[op] = (byte) (value &gt;&gt; 10);\r\n                            op += 2;\r\n                            state = 5;\r\n                        } else if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n    \r\n                    case 4:\r\n                        if (d == EQUALS) {\r\n                            ++state;\r\n                        } else if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n    \r\n                    case 5:\r\n                        if (d != SKIP) {\r\n                            this.state = 6;\r\n                            return false;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if (!finish) {\r\n                    // We&#39;re out of input, but a future call could provide\r\n                    // more.\r\n                    this.state = state;\r\n                    this.value = value;\r\n                    this.op = op;\r\n                    return true;\r\n                }\r\n    \r\n                \r\n                switch (state) {\r\n                case 0:\r\n                    break;\r\n                case 1:\r\n                    this.state = 6;\r\n                    return false;\r\n                case 2:\r\n                    output[op++] = (byte) (value &gt;&gt; 4);\r\n                    break;\r\n                case 3:\r\n                   output[op++] = (byte) (value &gt;&gt; 10);\r\n                    output[op++] = (byte) (value &gt;&gt; 2);\r\n                    break;\r\n                case 4:\r\n                    this.state = 6;\r\n                    return false;\r\n                case 5:\r\n                    break;\r\n                }\r\n    \r\n                this.state = state;\r\n                this.op = op;\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        //  --------------------------------------------------------\r\n        //  encoding\r\n        //  --------------------------------------------------------    \r\n        public static String encodeToString(byte[] input, int flags) {\r\n            try {\r\n                return new String(encode(input, flags), &quot;US-ASCII&quot;);\r\n            } catch (UnsupportedEncodingException e) {\r\n                // US-ASCII is guaranteed to be available.\r\n                throw new AssertionError(e);\r\n            }\r\n        }\r\n    \r\n        \r\n        public static String encodeToString(byte[] input, int offset, int len, int flags) {\r\n            try {\r\n                return new String(encode(input, offset, len, flags), &quot;US-ASCII&quot;);\r\n            } catch (UnsupportedEncodingException e) {\r\n                // US-ASCII is guaranteed to be available.\r\n                throw new AssertionError(e);\r\n            }\r\n        }\r\n    \r\n        \r\n        public static byte[] encode(byte[] input, int flags) {\r\n            return encode(input, 0, input.length, flags);\r\n        }\r\n    \r\n        \r\n        public static byte[] encode(byte[] input, int offset, int len, int flags) {\r\n            Encoder encoder = new Encoder(flags, null);\r\n    \r\n            // Compute the exact length of the array we will produce.\r\n            int output_len = len / 3 * 4;\r\n    \r\n            // Account for the tail of the data and the padding bytes, if any.\r\n            if (encoder.do_padding) {\r\n                if (len % 3 &gt; 0) {\r\n                    output_len += 4;\r\n                }\r\n            } else {\r\n                switch (len % 3) {\r\n                    case 0: break;\r\n                    case 1: output_len += 2; break;\r\n                    case 2: output_len += 3; break;\r\n                }\r\n            }\r\n    \r\n            // Account for the newlines, if any.\r\n            if (encoder.do_newline &amp;&amp; len &gt; 0) {\r\n                output_len += (((len-1) / (3 * Encoder.LINE_GROUPS)) + 1) *\r\n                    (encoder.do_cr ? 2 : 1);\r\n            }\r\n    \r\n            encoder.output = new byte[output_len];\r\n            encoder.process(input, offset, len, true);\r\n    \r\n            assert encoder.op == output_len;\r\n    \r\n            return encoder.output;\r\n        }\r\n    \r\n        /* package */ static class Encoder extends Coder {\r\n            /**\r\n             * Emit a new line every this many output tuples.  Corresponds to\r\n             * a 76-character line length (the maximum allowable according to\r\n             * &lt;a href=&quot;http://www.ietf.org/rfc/rfc2045.txt&quot;&gt;RFC 2045&lt;/a&gt;).\r\n             */\r\n            public static final int LINE_GROUPS = 19;\r\n    \r\n            /**\r\n             * Lookup table for turning Base64 alphabet positions (6 bits)\r\n             * into output bytes.\r\n             */\r\n            private static final byte ENCODE[] = {\r\n                &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;,\r\n                &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;,\r\n                &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n                &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;+&#39;, &#39;/&#39;,\r\n            };\r\n    \r\n            /**\r\n             * Lookup table for turning Base64 alphabet positions (6 bits)\r\n             * into output bytes.\r\n             */\r\n            private static final byte ENCODE_WEBSAFE[] = {\r\n                &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;,\r\n                &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;,\r\n                &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n                &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;-&#39;, &#39;_&#39;,\r\n            };\r\n    \r\n            final private byte[] tail;\r\n            /* package */ int tailLen;\r\n            private int count;\r\n    \r\n            final public boolean do_padding;\r\n            final public boolean do_newline;\r\n            final public boolean do_cr;\r\n            final private byte[] alphabet;\r\n    \r\n            public Encoder(int flags, byte[] output) {\r\n                this.output = output;\r\n    \r\n                do_padding = (flags &amp; NO_PADDING) == 0;\r\n                do_newline = (flags &amp; NO_WRAP) == 0;\r\n                do_cr = (flags &amp; CRLF) != 0;\r\n                alphabet = ((flags &amp; URL_SAFE) == 0) ? ENCODE : ENCODE_WEBSAFE;\r\n    \r\n                tail = new byte[2];\r\n                tailLen = 0;\r\n    \r\n                count = do_newline ? LINE_GROUPS : -1;\r\n            }\r\n    \r\n            /**\r\n             * @return an overestimate for the number of bytes {@code\r\n             * len} bytes could encode to.\r\n             */\r\n            public int maxOutputSize(int len) {\r\n                return len * 8/5 + 10;\r\n            }\r\n    \r\n            public boolean process(byte[] input, int offset, int len, boolean finish) {\r\n                // Using local variables makes the encoder about 9% faster.\r\n                final byte[] alphabet = this.alphabet;\r\n                final byte[] output = this.output;\r\n                int op = 0;\r\n                int count = this.count;\r\n    \r\n                int p = offset;\r\n                len += offset;\r\n                int v = -1;\r\n    \r\n                // First we need to concatenate the tail of the previous call\r\n                // with any input bytes available now and see if we can empty\r\n                // the tail.\r\n    \r\n                switch (tailLen) {\r\n                    case 0:\r\n                        // There was no tail.\r\n                        break;\r\n    \r\n                    case 1:\r\n                        if (p+2 &lt;= len) {\r\n                            // A 1-byte tail with at least 2 bytes of\r\n                            // input available now.\r\n                            v = ((tail[0] &amp; 0xff) &lt;&lt; 16) |\r\n                                ((input[p++] &amp; 0xff) &lt;&lt; 8) |\r\n                                (input[p++] &amp; 0xff);\r\n                            tailLen = 0;\r\n                        };\r\n                        break;\r\n    \r\n                    case 2:\r\n                        if (p+1 &lt;= len) {\r\n                            // A 2-byte tail with at least 1 byte of input.\r\n                            v = ((tail[0] &amp; 0xff) &lt;&lt; 16) |\r\n                                ((tail[1] &amp; 0xff) &lt;&lt; 8) |\r\n                                (input[p++] &amp; 0xff);\r\n                            tailLen = 0;\r\n                        }\r\n                        break;\r\n                }\r\n    \r\n                if (v != -1) {\r\n                    output[op++] = alphabet[(v &gt;&gt; 18) &amp; 0x3f];\r\n                    output[op++] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\r\n                    output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\r\n                    output[op++] = alphabet[v &amp; 0x3f];\r\n                    if (--count == 0) {\r\n                        if (do_cr) output[op++] = &#39;\\r&#39;;\r\n                        output[op++] = &#39;\\n&#39;;\r\n                        count = LINE_GROUPS;\r\n                    }\r\n                }\r\n    \r\n                // At this point either there is no tail, or there are fewer\r\n                // than 3 bytes of input available.\r\n    \r\n                // The main loop, turning 3 input bytes into 4 output bytes on\r\n                // each iteration.\r\n                while (p+3 &lt;= len) {\r\n                    v = ((input[p] &amp; 0xff) &lt;&lt; 16) |\r\n                        ((input[p+1] &amp; 0xff) &lt;&lt; 8) |\r\n                        (input[p+2] &amp; 0xff);\r\n                    output[op] = alphabet[(v &gt;&gt; 18) &amp; 0x3f];\r\n                    output[op+1] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\r\n                    output[op+2] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\r\n                    output[op+3] = alphabet[v &amp; 0x3f];\r\n                    p += 3;\r\n                    op += 4;\r\n                    if (--count == 0) {\r\n                        if (do_cr) output[op++] = &#39;\\r&#39;;\r\n                        output[op++] = &#39;\\n&#39;;\r\n                        count = LINE_GROUPS;\r\n                    }\r\n                }\r\n    \r\n                if (finish) {\r\n                    \r\n                    if (p-tailLen == len-1) {\r\n                        int t = 0;\r\n                        v = ((tailLen &gt; 0 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 4;\r\n                        tailLen -= t;\r\n                        output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\r\n                        output[op++] = alphabet[v &amp; 0x3f];\r\n                        if (do_padding) {\r\n                            output[op++] = &#39;=&#39;;\r\n                            output[op++] = &#39;=&#39;;\r\n                        }\r\n                        if (do_newline) {\r\n                            if (do_cr) output[op++] = &#39;\\r&#39;;\r\n                            output[op++] = &#39;\\n&#39;;\r\n                        }\r\n                    } else if (p-tailLen == len-2) {\r\n                        int t = 0;\r\n                        v = (((tailLen &gt; 1 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 10) |\r\n                            (((tailLen &gt; 0 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 2);\r\n                        tailLen -= t;\r\n                        output[op++] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\r\n                        output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\r\n                        output[op++] = alphabet[v &amp; 0x3f];\r\n                        if (do_padding) {\r\n                            output[op++] = &#39;=&#39;;\r\n                        }\r\n                        if (do_newline) {\r\n                            if (do_cr) output[op++] = &#39;\\r&#39;;\r\n                            output[op++] = &#39;\\n&#39;;\r\n                        }\r\n                    } else if (do_newline &amp;&amp; op &gt; 0 &amp;&amp; count != LINE_GROUPS) {\r\n                        if (do_cr) output[op++] = &#39;\\r&#39;;\r\n                        output[op++] = &#39;\\n&#39;;\r\n                    }\r\n    \r\n                    assert tailLen == 0;\r\n                    assert p == len;\r\n                } else {\r\n                    // Save the leftovers in tail to be consumed on the next\r\n                    // call to encodeInternal.\r\n    \r\n                    if (p == len-1) {\r\n                        tail[tailLen++] = input[p];\r\n                    } else if (p == len-2) {\r\n                        tail[tailLen++] = input[p];\r\n                        tail[tailLen++] = input[p+1];\r\n                    }\r\n                }\r\n    \r\n                this.op = op;\r\n                this.count = count;\r\n    \r\n                return true;\r\n            }\r\n        }\r\n    \r\n        private Base64() { }   // don&#39;t instantiate\r\n    }","title":"Decode Base64 data in Java","body":"<p>I used <code>android.util.base64</code> that works pretty good without any dependances: </p>\n\n<p><em>Usage:</em></p>\n\n<pre><code>byte[] decodedKey = Base64.decode(encodedPublicKey, Base64.DEFAULT);\n</code></pre>\n\n<hr>\n\n<p>package com.test;</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\n\n/**\n * Utilities for encoding and decoding the Base64 representation of\n * binary data.  See RFCs &lt;a\n * href=\"http://www.ietf.org/rfc/rfc2045.txt\"&gt;2045&lt;/a&gt; and &lt;a\n * href=\"http://www.ietf.org/rfc/rfc3548.txt\"&gt;3548&lt;/a&gt;.\n */\npublic class Base64 {\n\n    public static final int DEFAULT = 0;\n\n\n    public static final int NO_PADDING = 1;\n\n\n    public static final int NO_WRAP = 2;\n\n\n    public static final int CRLF = 4;\n\n\n    public static final int URL_SAFE = 8;\n\n\n    public static final int NO_CLOSE = 16;\n\n    //  --------------------------------------------------------\n    //  shared code\n    //  --------------------------------------------------------\n\n    /* package */ static abstract class Coder {\n        public byte[] output;\n        public int op;\n\n        public abstract boolean process(byte[] input, int offset, int len, boolean finish);\n\n\n        public abstract int maxOutputSize(int len);\n    }\n\n    //  --------------------------------------------------------\n    //  decoding\n    //  --------------------------------------------------------\n\n\n    public static byte[] decode(String str, int flags) {\n        return decode(str.getBytes(), flags);\n    }\n\n    public static byte[] decode(byte[] input, int flags) {\n        return decode(input, 0, input.length, flags);\n    }\n\n\n    public static byte[] decode(byte[] input, int offset, int len, int flags) {\n        // Allocate space for the most data the input could represent.\n        // (It could contain less if it contains whitespace, etc.)\n        Decoder decoder = new Decoder(flags, new byte[len*3/4]);\n\n        if (!decoder.process(input, offset, len, true)) {\n            throw new IllegalArgumentException(\"bad base-64\");\n        }\n\n        // Maybe we got lucky and allocated exactly enough output space.\n        if (decoder.op == decoder.output.length) {\n            return decoder.output;\n        }\n\n        // Need to shorten the array, so allocate a new one of the\n        // right size and copy.\n        byte[] temp = new byte[decoder.op];\n        System.arraycopy(decoder.output, 0, temp, 0, decoder.op);\n        return temp;\n    }\n\n   static class Decoder extends Coder {       \n        private static final int DECODE[] = {\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,\n            52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -2, -1, -1,\n            -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\n            15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,\n            -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        };\n\n        /**\n         * Decode lookup table for the \"web safe\" variant (RFC 3548\n         * sec. 4) where - and _ replace + and /.\n         */\n        private static final int DECODE_WEBSAFE[] = {\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1,\n            52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -2, -1, -1,\n            -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\n            15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, 63,\n            -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n            -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        };\n\n        /** Non-data values in the DECODE arrays. */\n        private static final int SKIP = -1;\n        private static final int EQUALS = -2;\n\n\n        private int state;   // state number (0 to 6)\n        private int value;\n\n        final private int[] alphabet;\n\n        public Decoder(int flags, byte[] output) {\n            this.output = output;\n\n            alphabet = ((flags &amp; URL_SAFE) == 0) ? DECODE : DECODE_WEBSAFE;\n            state = 0;\n            value = 0;\n        }\n\n\n        public int maxOutputSize(int len) {\n            return len * 3/4 + 10;\n        }\n\n        /**\n         * Decode another block of input data.\n         *\n         * @return true if the state machine is still healthy.  false if\n         *         bad base-64 data has been detected in the input stream.\n         */\n        public boolean process(byte[] input, int offset, int len, boolean finish) {\n            if (this.state == 6) return false;\n\n            int p = offset;\n            len += offset;\n\n            int state = this.state;\n            int value = this.value;\n            int op = 0;\n            final byte[] output = this.output;\n            final int[] alphabet = this.alphabet;\n\n            while (p &lt; len) {                \n                if (state == 0) {\n                    while (p+4 &lt;= len &amp;&amp;\n                           (value = ((alphabet[input[p] &amp; 0xff] &lt;&lt; 18) |\n                                     (alphabet[input[p+1] &amp; 0xff] &lt;&lt; 12) |\n                                     (alphabet[input[p+2] &amp; 0xff] &lt;&lt; 6) |\n                                     (alphabet[input[p+3] &amp; 0xff]))) &gt;= 0) {\n                        output[op+2] = (byte) value;\n                        output[op+1] = (byte) (value &gt;&gt; 8);\n                        output[op] = (byte) (value &gt;&gt; 16);\n                        op += 3;\n                        p += 4;\n                    }\n                    if (p &gt;= len) break;\n                }\n\n                int d = alphabet[input[p++] &amp; 0xff];\n\n                switch (state) {\n                case 0:\n                    if (d &gt;= 0) {\n                        value = d;\n                        ++state;\n                    } else if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n\n                case 1:\n                    if (d &gt;= 0) {\n                        value = (value &lt;&lt; 6) | d;\n                        ++state;\n                    } else if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n\n                case 2:\n                    if (d &gt;= 0) {\n                        value = (value &lt;&lt; 6) | d;\n                        ++state;\n                    } else if (d == EQUALS) {\n                        // Emit the last (partial) output tuple;\n                        // expect exactly one more padding character.\n                        output[op++] = (byte) (value &gt;&gt; 4);\n                        state = 4;\n                    } else if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n\n                case 3:\n                    if (d &gt;= 0) {\n                        // Emit the output triple and return to state 0.\n                        value = (value &lt;&lt; 6) | d;\n                        output[op+2] = (byte) value;\n                        output[op+1] = (byte) (value &gt;&gt; 8);\n                        output[op] = (byte) (value &gt;&gt; 16);\n                        op += 3;\n                        state = 0;\n                    } else if (d == EQUALS) {\n                        // Emit the last (partial) output tuple;\n                        // expect no further data or padding characters.\n                        output[op+1] = (byte) (value &gt;&gt; 2);\n                        output[op] = (byte) (value &gt;&gt; 10);\n                        op += 2;\n                        state = 5;\n                    } else if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n\n                case 4:\n                    if (d == EQUALS) {\n                        ++state;\n                    } else if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n\n                case 5:\n                    if (d != SKIP) {\n                        this.state = 6;\n                        return false;\n                    }\n                    break;\n                }\n            }\n\n            if (!finish) {\n                // We're out of input, but a future call could provide\n                // more.\n                this.state = state;\n                this.value = value;\n                this.op = op;\n                return true;\n            }\n\n\n            switch (state) {\n            case 0:\n                break;\n            case 1:\n                this.state = 6;\n                return false;\n            case 2:\n                output[op++] = (byte) (value &gt;&gt; 4);\n                break;\n            case 3:\n               output[op++] = (byte) (value &gt;&gt; 10);\n                output[op++] = (byte) (value &gt;&gt; 2);\n                break;\n            case 4:\n                this.state = 6;\n                return false;\n            case 5:\n                break;\n            }\n\n            this.state = state;\n            this.op = op;\n            return true;\n        }\n    }\n\n    //  --------------------------------------------------------\n    //  encoding\n    //  --------------------------------------------------------    \n    public static String encodeToString(byte[] input, int flags) {\n        try {\n            return new String(encode(input, flags), \"US-ASCII\");\n        } catch (UnsupportedEncodingException e) {\n            // US-ASCII is guaranteed to be available.\n            throw new AssertionError(e);\n        }\n    }\n\n\n    public static String encodeToString(byte[] input, int offset, int len, int flags) {\n        try {\n            return new String(encode(input, offset, len, flags), \"US-ASCII\");\n        } catch (UnsupportedEncodingException e) {\n            // US-ASCII is guaranteed to be available.\n            throw new AssertionError(e);\n        }\n    }\n\n\n    public static byte[] encode(byte[] input, int flags) {\n        return encode(input, 0, input.length, flags);\n    }\n\n\n    public static byte[] encode(byte[] input, int offset, int len, int flags) {\n        Encoder encoder = new Encoder(flags, null);\n\n        // Compute the exact length of the array we will produce.\n        int output_len = len / 3 * 4;\n\n        // Account for the tail of the data and the padding bytes, if any.\n        if (encoder.do_padding) {\n            if (len % 3 &gt; 0) {\n                output_len += 4;\n            }\n        } else {\n            switch (len % 3) {\n                case 0: break;\n                case 1: output_len += 2; break;\n                case 2: output_len += 3; break;\n            }\n        }\n\n        // Account for the newlines, if any.\n        if (encoder.do_newline &amp;&amp; len &gt; 0) {\n            output_len += (((len-1) / (3 * Encoder.LINE_GROUPS)) + 1) *\n                (encoder.do_cr ? 2 : 1);\n        }\n\n        encoder.output = new byte[output_len];\n        encoder.process(input, offset, len, true);\n\n        assert encoder.op == output_len;\n\n        return encoder.output;\n    }\n\n    /* package */ static class Encoder extends Coder {\n        /**\n         * Emit a new line every this many output tuples.  Corresponds to\n         * a 76-character line length (the maximum allowable according to\n         * &lt;a href=\"http://www.ietf.org/rfc/rfc2045.txt\"&gt;RFC 2045&lt;/a&gt;).\n         */\n        public static final int LINE_GROUPS = 19;\n\n        /**\n         * Lookup table for turning Base64 alphabet positions (6 bits)\n         * into output bytes.\n         */\n        private static final byte ENCODE[] = {\n            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n            'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n            'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n            'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/',\n        };\n\n        /**\n         * Lookup table for turning Base64 alphabet positions (6 bits)\n         * into output bytes.\n         */\n        private static final byte ENCODE_WEBSAFE[] = {\n            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n            'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n            'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n            'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '-', '_',\n        };\n\n        final private byte[] tail;\n        /* package */ int tailLen;\n        private int count;\n\n        final public boolean do_padding;\n        final public boolean do_newline;\n        final public boolean do_cr;\n        final private byte[] alphabet;\n\n        public Encoder(int flags, byte[] output) {\n            this.output = output;\n\n            do_padding = (flags &amp; NO_PADDING) == 0;\n            do_newline = (flags &amp; NO_WRAP) == 0;\n            do_cr = (flags &amp; CRLF) != 0;\n            alphabet = ((flags &amp; URL_SAFE) == 0) ? ENCODE : ENCODE_WEBSAFE;\n\n            tail = new byte[2];\n            tailLen = 0;\n\n            count = do_newline ? LINE_GROUPS : -1;\n        }\n\n        /**\n         * @return an overestimate for the number of bytes {@code\n         * len} bytes could encode to.\n         */\n        public int maxOutputSize(int len) {\n            return len * 8/5 + 10;\n        }\n\n        public boolean process(byte[] input, int offset, int len, boolean finish) {\n            // Using local variables makes the encoder about 9% faster.\n            final byte[] alphabet = this.alphabet;\n            final byte[] output = this.output;\n            int op = 0;\n            int count = this.count;\n\n            int p = offset;\n            len += offset;\n            int v = -1;\n\n            // First we need to concatenate the tail of the previous call\n            // with any input bytes available now and see if we can empty\n            // the tail.\n\n            switch (tailLen) {\n                case 0:\n                    // There was no tail.\n                    break;\n\n                case 1:\n                    if (p+2 &lt;= len) {\n                        // A 1-byte tail with at least 2 bytes of\n                        // input available now.\n                        v = ((tail[0] &amp; 0xff) &lt;&lt; 16) |\n                            ((input[p++] &amp; 0xff) &lt;&lt; 8) |\n                            (input[p++] &amp; 0xff);\n                        tailLen = 0;\n                    };\n                    break;\n\n                case 2:\n                    if (p+1 &lt;= len) {\n                        // A 2-byte tail with at least 1 byte of input.\n                        v = ((tail[0] &amp; 0xff) &lt;&lt; 16) |\n                            ((tail[1] &amp; 0xff) &lt;&lt; 8) |\n                            (input[p++] &amp; 0xff);\n                        tailLen = 0;\n                    }\n                    break;\n            }\n\n            if (v != -1) {\n                output[op++] = alphabet[(v &gt;&gt; 18) &amp; 0x3f];\n                output[op++] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\n                output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\n                output[op++] = alphabet[v &amp; 0x3f];\n                if (--count == 0) {\n                    if (do_cr) output[op++] = '\\r';\n                    output[op++] = '\\n';\n                    count = LINE_GROUPS;\n                }\n            }\n\n            // At this point either there is no tail, or there are fewer\n            // than 3 bytes of input available.\n\n            // The main loop, turning 3 input bytes into 4 output bytes on\n            // each iteration.\n            while (p+3 &lt;= len) {\n                v = ((input[p] &amp; 0xff) &lt;&lt; 16) |\n                    ((input[p+1] &amp; 0xff) &lt;&lt; 8) |\n                    (input[p+2] &amp; 0xff);\n                output[op] = alphabet[(v &gt;&gt; 18) &amp; 0x3f];\n                output[op+1] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\n                output[op+2] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\n                output[op+3] = alphabet[v &amp; 0x3f];\n                p += 3;\n                op += 4;\n                if (--count == 0) {\n                    if (do_cr) output[op++] = '\\r';\n                    output[op++] = '\\n';\n                    count = LINE_GROUPS;\n                }\n            }\n\n            if (finish) {\n\n                if (p-tailLen == len-1) {\n                    int t = 0;\n                    v = ((tailLen &gt; 0 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 4;\n                    tailLen -= t;\n                    output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\n                    output[op++] = alphabet[v &amp; 0x3f];\n                    if (do_padding) {\n                        output[op++] = '=';\n                        output[op++] = '=';\n                    }\n                    if (do_newline) {\n                        if (do_cr) output[op++] = '\\r';\n                        output[op++] = '\\n';\n                    }\n                } else if (p-tailLen == len-2) {\n                    int t = 0;\n                    v = (((tailLen &gt; 1 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 10) |\n                        (((tailLen &gt; 0 ? tail[t++] : input[p++]) &amp; 0xff) &lt;&lt; 2);\n                    tailLen -= t;\n                    output[op++] = alphabet[(v &gt;&gt; 12) &amp; 0x3f];\n                    output[op++] = alphabet[(v &gt;&gt; 6) &amp; 0x3f];\n                    output[op++] = alphabet[v &amp; 0x3f];\n                    if (do_padding) {\n                        output[op++] = '=';\n                    }\n                    if (do_newline) {\n                        if (do_cr) output[op++] = '\\r';\n                        output[op++] = '\\n';\n                    }\n                } else if (do_newline &amp;&amp; op &gt; 0 &amp;&amp; count != LINE_GROUPS) {\n                    if (do_cr) output[op++] = '\\r';\n                    output[op++] = '\\n';\n                }\n\n                assert tailLen == 0;\n                assert p == len;\n            } else {\n                // Save the leftovers in tail to be consumed on the next\n                // call to encodeInternal.\n\n                if (p == len-1) {\n                    tail[tailLen++] = input[p];\n                } else if (p == len-2) {\n                    tail[tailLen++] = input[p];\n                    tail[tailLen++] = input[p+1];\n                }\n            }\n\n            this.op = op;\n            this.count = count;\n\n            return true;\n        }\n    }\n\n    private Base64() { }   // don't instantiate\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":206261,"reputation":7740,"user_id":455449,"accept_rate":83,"display_name":"Petr Kozelka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540008677,"creation_date":1540008677,"answer_id":52902346,"question_id":469695,"body_markdown":"In a code compiled with Java 7 but potentially running in a higher java version, it seems useful to detect presence of `java.util.Base64` class and use the approach best for given JVM mentioned in other questions here.\r\n\r\nI used this code:\r\n\r\n    private static final Method JAVA_UTIL_BASE64_GETENCODER;\r\n\r\n    static {\r\n        Method getEncoderMethod;\r\n        try {\r\n            final Class&lt;?&gt; base64Class = Class.forName(&quot;java.util.Base64&quot;);\r\n            getEncoderMethod = base64Class.getMethod(&quot;getEncoder&quot;);\r\n        } catch (ClassNotFoundException | NoSuchMethodException e) {\r\n            getEncoderMethod = null;\r\n        }\r\n        JAVA_UTIL_BASE64_GETENCODER = getEncoderMethod;\r\n    }\r\n\r\n    static String base64EncodeToString(String s) {\r\n        final byte[] bytes = s.getBytes(StandardCharsets.ISO_8859_1);\r\n        if (JAVA_UTIL_BASE64_GETENCODER == null) {\r\n            // Java 7 and older // TODO: remove this branch after switching to Java 8\r\n            return DatatypeConverter.printBase64Binary(bytes);\r\n        } else {\r\n            // Java 8 and newer\r\n            try {\r\n                final Object encoder = JAVA_UTIL_BASE64_GETENCODER.invoke(null);\r\n                final Class&lt;?&gt; encoderClass = encoder.getClass();\r\n                final Method encodeMethod = encoderClass.getMethod(&quot;encode&quot;, byte[].class);\r\n                final byte[] encodedBytes = (byte[]) encodeMethod.invoke(encoder, bytes);\r\n                return new String(encodedBytes);\r\n            } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n    }\r\n","title":"Decode Base64 data in Java","body":"<p>In a code compiled with Java 7 but potentially running in a higher java version, it seems useful to detect presence of <code>java.util.Base64</code> class and use the approach best for given JVM mentioned in other questions here.</p>\n\n<p>I used this code:</p>\n\n<pre><code>private static final Method JAVA_UTIL_BASE64_GETENCODER;\n\nstatic {\n    Method getEncoderMethod;\n    try {\n        final Class&lt;?&gt; base64Class = Class.forName(\"java.util.Base64\");\n        getEncoderMethod = base64Class.getMethod(\"getEncoder\");\n    } catch (ClassNotFoundException | NoSuchMethodException e) {\n        getEncoderMethod = null;\n    }\n    JAVA_UTIL_BASE64_GETENCODER = getEncoderMethod;\n}\n\nstatic String base64EncodeToString(String s) {\n    final byte[] bytes = s.getBytes(StandardCharsets.ISO_8859_1);\n    if (JAVA_UTIL_BASE64_GETENCODER == null) {\n        // Java 7 and older // TODO: remove this branch after switching to Java 8\n        return DatatypeConverter.printBase64Binary(bytes);\n    } else {\n        // Java 8 and newer\n        try {\n            final Object encoder = JAVA_UTIL_BASE64_GETENCODER.invoke(null);\n            final Class&lt;?&gt; encoderClass = encoder.getClass();\n            final Method encodeMethod = encoderClass.getMethod(\"encode\", byte[].class);\n            final byte[] encodedBytes = (byte[]) encodeMethod.invoke(encoder, bytes);\n            return new String(encodedBytes);\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1560178486,"creation_date":1560178486,"answer_id":56528756,"question_id":469695,"body_markdown":"Using Java 8 -\r\n\r\n        public static String encodeString(String plainString) {\r\n    \t\treturn  Base64.getEncoder().encodeToString(plainString.getBytes());\r\n    \t}\r\n    \t\r\n    \tpublic static String decodeString(String encodedString) {\r\n    \t\tbyte[] bytes = Base64.getDecoder().decode(encodedString);\r\n    \t\treturn new String(bytes);\r\n    \t}","title":"Decode Base64 data in Java","body":"<p>Using Java 8 -</p>\n\n<pre><code>    public static String encodeString(String plainString) {\n        return  Base64.getEncoder().encodeToString(plainString.getBytes());\n    }\n\n    public static String decodeString(String encodedString) {\n        byte[] bytes = Base64.getDecoder().decode(encodedString);\n        return new String(bytes);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623227952,"creation_date":1571396294,"answer_id":58449466,"question_id":469695,"body_markdown":"You can simply try this.\r\n\r\n    byte[] data = Base64.getDecoder().decode(base64fileContent);\r\n    \r\n`Base64.getDecode()` returns a Base64 Decoder that can be decoded. Then you need to decode that again using `.decode(&lt;your base64&gt;)`.","title":"Decode Base64 data in Java","body":"<p>You can simply try this.</p>\n<pre><code>byte[] data = Base64.getDecoder().decode(base64fileContent);\n</code></pre>\n<p><code>Base64.getDecode()</code> returns a Base64 Decoder that can be decoded. Then you need to decode that again using <code>.decode(&lt;your base64&gt;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590769665,"creation_date":1590769665,"answer_id":62090512,"question_id":469695,"body_markdown":"    import java.io.UnsupportedEncodingException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    /***\r\n     * \r\n     * @author Vaquar khan\r\n     * \r\n     *\r\n     */\r\n    public class AES {\r\n    \r\n    \tprivate static SecretKeySpec secretKey;\r\n    \tprivate static final String VK_secretKey = &quot;VaquarKhan-secrate-key!!!!&quot;;\r\n    \tprivate static byte[] key;\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param myKey\r\n    \t */\r\n    \tpublic static void setKey(String myKey) {\r\n    \t\tMessageDigest sha = null;\r\n    \t\ttry {\r\n    \t\t\tkey = myKey.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tsha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    \t\t\tkey = sha.digest(key);\r\n    \t\t\tkey = Arrays.copyOf(key, 16);\r\n    \t\t\tsecretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n    \t\t} catch (NoSuchAlgorithmException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    /**\r\n     * encrypt\r\n     * @param strToEncrypt\r\n     * @param secret\r\n     * @return\r\n     */\r\n    \tpublic static String encrypt(String strToEncrypt, String secret) {\r\n    \t\ttry {\r\n    \t\t\tsetKey(secret);\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \t\t\treturn Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    /**\r\n     * decrypt\r\n     * @param strToDecrypt\r\n     * @param secret\r\n     * @return\r\n     */\r\n    \tpublic static String decrypt(String strToDecrypt, String secret) {\r\n    \t\ttry {\r\n    \t\t\tsetKey(secret);\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n    \t\t\tcipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    \t\t\treturn new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String secretKey = VK_secretKey;\r\n    \t\tString password = &quot;VKhan@12&quot;;\r\n    \t\t//\r\n    \t\tString encryptedString = AES.encrypt(password, secretKey);\r\n    \t\tString decryptedString = AES.decrypt(encryptedString, secretKey);\r\n    \t\t//\r\n    \t\tSystem.out.println(password);\r\n    \t\tSystem.out.println(encryptedString);\r\n    \t\tSystem.out.println(decryptedString);\r\n    \t}\r\n    \r\n    }","title":"Decode Base64 data in Java","body":"<pre><code>import java.io.UnsupportedEncodingException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n/***\n * \n * @author Vaquar khan\n * \n *\n */\npublic class AES {\n\n    private static SecretKeySpec secretKey;\n    private static final String VK_secretKey = \"VaquarKhan-secrate-key!!!!\";\n    private static byte[] key;\n\n    /**\n     * \n     * @param myKey\n     */\n    public static void setKey(String myKey) {\n        MessageDigest sha = null;\n        try {\n            key = myKey.getBytes(\"UTF-8\");\n            sha = MessageDigest.getInstance(\"SHA-1\");\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 16);\n            secretKey = new SecretKeySpec(key, \"AES\");\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n    }\n/**\n * encrypt\n * @param strToEncrypt\n * @param secret\n * @return\n */\n    public static String encrypt(String strToEncrypt, String secret) {\n        try {\n            setKey(secret);\n            Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(\"UTF-8\")));\n        } catch (Exception e) {\n            System.out.println(\"Error while encrypting: \" + e.toString());\n        }\n        return null;\n    }\n/**\n * decrypt\n * @param strToDecrypt\n * @param secret\n * @return\n */\n    public static String decrypt(String strToDecrypt, String secret) {\n        try {\n            setKey(secret);\n            Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5PADDING\");\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n        } catch (Exception e) {\n            System.out.println(\"Error while decrypting: \" + e.toString());\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        final String secretKey = VK_secretKey;\n        String password = \"VKhan@12\";\n        //\n        String encryptedString = AES.encrypt(password, secretKey);\n        String decryptedString = AES.decrypt(encryptedString, secretKey);\n        //\n        System.out.println(password);\n        System.out.println(encryptedString);\n        System.out.println(decryptedString);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658485541,"creation_date":1658485541,"answer_id":73078827,"question_id":469695,"body_markdown":"I know it&#39;s way to late to answer, but for JDK 8 and above.\r\n\r\n```\r\nBase64.getEncoder().encodeToString(&quot;anyStringData&quot;.getBytes());\r\nBase64.getDecoder().decode(&quot;encodedData&quot;);\r\n\r\n```\r\n\r\nimports\r\n```\r\nimport java.util.Base64;\r\n```\r\n\r\n\r\n[Please refer this OracleDocs !][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"Decode Base64 data in Java","body":"<p>I know it's way to late to answer, but for JDK 8 and above.</p>\n<pre><code>Base64.getEncoder().encodeToString(&quot;anyStringData&quot;.getBytes());\nBase64.getDecoder().decode(&quot;encodedData&quot;);\n\n</code></pre>\n<p>imports</p>\n<pre><code>import java.util.Base64;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Please refer this OracleDocs !</a></p>\n"}],"owner":{"account_id":1158,"reputation":6461,"user_id":1539,"accept_rate":100,"display_name":"Ryan P"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908734,"favorite_count":0,"down_vote_count":1,"up_vote_count":538,"accepted_answer_id":2054226,"answer_count":21,"score":537,"last_activity_date":1683165410,"creation_date":1232639718,"question_id":469695,"body_markdown":"I have an image that is Base64 encoded. What is the best way to decode that in Java? Hopefully using only the libraries included with Sun Java 6.","title":"Decode Base64 data in Java","body":"<p>I have an image that is Base64 encoded. What is the best way to decode that in Java? Hopefully using only the libraries included with Sun Java 6.</p>\n"},{"tags":["java","winapi","swing","java-native-interface","hwnd"],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1683165391,"creation_date":1230058257,"answer_id":389734,"question_id":386792,"body_markdown":"This little JNI method accepts a window title and returns the corresponding window handle.\r\n\r\n    JNIEXPORT jint JNICALL Java_JavaHowTo_getHwnd\r\n         (JNIEnv *env, jclass obj, jstring title){\r\n     HWND hwnd = NULL;\r\n     const char *str = NULL;\r\n    \r\n     str = (*env)-&gt;GetStringUTFChars(env, title, 0);\r\n     hwnd = FindWindow(NULL,str);\r\n     (*env)-&gt;ReleaseStringUTFChars(env, title, str);\r\n     return (jint) hwnd;\r\n     }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-detect-if-a-program-is-running-using-jna.html","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>This little JNI method accepts a window title and returns the corresponding window handle.</p>\n<pre><code>JNIEXPORT jint JNICALL Java_JavaHowTo_getHwnd\n     (JNIEnv *env, jclass obj, jstring title){\n HWND hwnd = NULL;\n const char *str = NULL;\n\n str = (*env)-&gt;GetStringUTFChars(env, title, 0);\n hwnd = FindWindow(NULL,str);\n (*env)-&gt;ReleaseStringUTFChars(env, title, str);\n return (jint) hwnd;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1231177205,"creation_date":1231177205,"answer_id":413895,"question_id":386792,"body_markdown":"The following code lets you pass a Component to get the window handle (HWND) for it. To make sure that a Component has a corresponding window handle call isLightWeight() on the Component and verify that it equals false. If it doesn&#39;t, try it&#39;s parent by calling Component.getParent().\r\n\r\nJava code:\r\n\r\n    package win32;\r\n    public class Win32 {\r\n        public static native int getWindowHandle(Component c);\r\n    }\r\n\r\nHeader file main.h:\r\n\r\n    /* DO NOT EDIT THIS FILE - it is machine generated */\r\n    #include &lt;jni.h&gt;\r\n    /* Header for class win32_Win32 */\r\n    \r\n    #ifndef _Included_win32_Win32\r\n    #define _Included_win32_Win32\r\n    #ifdef __cplusplus\r\n    extern &quot;C&quot; {\r\n    #endif\r\n    /*\r\n     * Class:     win32_Win32\r\n     * Method:    getWindowHandle\r\n     * Signature: (Ljava/awt/Component;Ljava/lang/String;)I\r\n     */\r\n    JNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle\r\n      (JNIEnv *, jclass, jobject);\r\n    #ifdef __cplusplus\r\n    }\r\n    #endif\r\n    #endif\r\n\r\nThe C source main.c:\r\n\r\n    #include&lt;windows.h&gt;\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;jawt.h&gt;\r\n    #include &lt;jawt_md.h&gt;\r\n    \r\n    HMODULE _hAWT = 0;\r\n    \r\n    JNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle\r\n      (JNIEnv * env, jclass cls, jobject comp)\r\n    {\r\n        HWND hWnd = 0;\r\n        typedef jboolean (JNICALL *PJAWT_GETAWT)(JNIEnv*, JAWT*);\r\n        JAWT awt;\r\n        JAWT_DrawingSurface* ds;\r\n        JAWT_DrawingSurfaceInfo* dsi;\r\n        JAWT_Win32DrawingSurfaceInfo* dsi_win;\r\n        jboolean result;\r\n        jint lock;\r\n    \r\n        //Load AWT Library\r\n        if(!_hAWT)\r\n            //for Java 1.4\r\n            _hAWT = LoadLibrary(&quot;jawt.dll&quot;);\r\n        if(!_hAWT)\r\n            //for Java 1.3\r\n            _hAWT = LoadLibrary(&quot;awt.dll&quot;);\r\n        if(_hAWT)\r\n        {\r\n            PJAWT_GETAWT JAWT_GetAWT = (PJAWT_GETAWT)GetProcAddress(_hAWT, &quot;_JAWT_GetAWT@8&quot;);\r\n            if(JAWT_GetAWT)\r\n            {\r\n                awt.version = JAWT_VERSION_1_4; // Init here with JAWT_VERSION_1_3 or JAWT_VERSION_1_4\r\n                //Get AWT API Interface\r\n                result = JAWT_GetAWT(env, &amp;awt);\r\n                if(result != JNI_FALSE)\r\n                {\r\n                    ds = awt.GetDrawingSurface(env, comp);\r\n                    if(ds != NULL)\r\n                    {\r\n                        lock = ds-&gt;Lock(ds);\r\n                        if((lock &amp; JAWT_LOCK_ERROR) == 0)\r\n                        {\r\n                            dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\r\n                            if(dsi)\r\n                            {\r\n                                dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\r\n                                if(dsi_win)\r\n                                {\r\n                                    hWnd = dsi_win-&gt;hwnd;\r\n                                }\r\n    \t\t\t\t\t\t\telse {\r\n    \t\t\t\t\t\t\t\thWnd = (HWND) -1;\r\n    \t\t\t\t\t\t\t}\r\n                                ds-&gt;FreeDrawingSurfaceInfo(dsi);\r\n                            }\r\n    \t\t\t\t\t\telse {\r\n    \t\t\t\t\t\t\thWnd = (HWND) -2;\r\n    \t\t\t\t\t\t}\r\n                            ds-&gt;Unlock(ds);\r\n                        }\r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\thWnd = (HWND) -3;\r\n    \t\t\t\t\t}\r\n                        awt.FreeDrawingSurface(ds);\r\n                    }\r\n    \t\t\t\telse {\r\n    \t\t\t\t\thWnd = (HWND) -4;\r\n    \t\t\t\t}\r\n                }\r\n    \t\t\telse {\r\n    \t\t\t\thWnd = (HWND) -5;\r\n    \t\t\t}\r\n            }\r\n    \t\telse {\r\n    \t\t\thWnd = (HWND) -6;\r\n    \t\t}\r\n        }\r\n    \telse {\r\n    \t\thWnd = (HWND) -7;\r\n    \t}\r\n        return (jint)hWnd;\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>The following code lets you pass a Component to get the window handle (HWND) for it. To make sure that a Component has a corresponding window handle call isLightWeight() on the Component and verify that it equals false. If it doesn't, try it's parent by calling Component.getParent().</p>\n\n<p>Java code:</p>\n\n<pre><code>package win32;\npublic class Win32 {\n    public static native int getWindowHandle(Component c);\n}\n</code></pre>\n\n<p>Header file main.h:</p>\n\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class win32_Win32 */\n\n#ifndef _Included_win32_Win32\n#define _Included_win32_Win32\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n/*\n * Class:     win32_Win32\n * Method:    getWindowHandle\n * Signature: (Ljava/awt/Component;Ljava/lang/String;)I\n */\nJNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle\n  (JNIEnv *, jclass, jobject);\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n\n<p>The C source main.c:</p>\n\n<pre><code>#include&lt;windows.h&gt;\n#include &lt;jni.h&gt;\n#include &lt;jawt.h&gt;\n#include &lt;jawt_md.h&gt;\n\nHMODULE _hAWT = 0;\n\nJNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle\n  (JNIEnv * env, jclass cls, jobject comp)\n{\n    HWND hWnd = 0;\n    typedef jboolean (JNICALL *PJAWT_GETAWT)(JNIEnv*, JAWT*);\n    JAWT awt;\n    JAWT_DrawingSurface* ds;\n    JAWT_DrawingSurfaceInfo* dsi;\n    JAWT_Win32DrawingSurfaceInfo* dsi_win;\n    jboolean result;\n    jint lock;\n\n    //Load AWT Library\n    if(!_hAWT)\n        //for Java 1.4\n        _hAWT = LoadLibrary(\"jawt.dll\");\n    if(!_hAWT)\n        //for Java 1.3\n        _hAWT = LoadLibrary(\"awt.dll\");\n    if(_hAWT)\n    {\n        PJAWT_GETAWT JAWT_GetAWT = (PJAWT_GETAWT)GetProcAddress(_hAWT, \"_JAWT_GetAWT@8\");\n        if(JAWT_GetAWT)\n        {\n            awt.version = JAWT_VERSION_1_4; // Init here with JAWT_VERSION_1_3 or JAWT_VERSION_1_4\n            //Get AWT API Interface\n            result = JAWT_GetAWT(env, &amp;awt);\n            if(result != JNI_FALSE)\n            {\n                ds = awt.GetDrawingSurface(env, comp);\n                if(ds != NULL)\n                {\n                    lock = ds-&gt;Lock(ds);\n                    if((lock &amp; JAWT_LOCK_ERROR) == 0)\n                    {\n                        dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\n                        if(dsi)\n                        {\n                            dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\n                            if(dsi_win)\n                            {\n                                hWnd = dsi_win-&gt;hwnd;\n                            }\n                            else {\n                                hWnd = (HWND) -1;\n                            }\n                            ds-&gt;FreeDrawingSurfaceInfo(dsi);\n                        }\n                        else {\n                            hWnd = (HWND) -2;\n                        }\n                        ds-&gt;Unlock(ds);\n                    }\n                    else {\n                        hWnd = (HWND) -3;\n                    }\n                    awt.FreeDrawingSurface(ds);\n                }\n                else {\n                    hWnd = (HWND) -4;\n                }\n            }\n            else {\n                hWnd = (HWND) -5;\n            }\n        }\n        else {\n            hWnd = (HWND) -6;\n        }\n    }\n    else {\n        hWnd = (HWND) -7;\n    }\n    return (jint)hWnd;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":650354,"reputation":241,"user_id":450002,"display_name":"Jared MacD."},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1309578498,"creation_date":1284670954,"answer_id":3730797,"question_id":386792,"body_markdown":"You don&#39;t have write any C/JNI code. From Java:\r\n\r\n    import sun.awt.windows.WComponentPeer;\r\n\r\n    public static long getHWnd(Frame f) {\r\n       return f.getPeer() != null ? ((WComponentPeer) f.getPeer()).getHWnd() : 0;\r\n    }\r\n\r\nCaveats:\r\n\r\n - This uses a sun.* package. Obviously this is not public API. But it is unlikely to change (and I think less likely to break than the solutions above).\r\n - This will compile and run on Windows only. You would need to turn this into reflection code for this to be portable.\r\n","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>You don't have write any C/JNI code. From Java:</p>\n\n<pre><code>import sun.awt.windows.WComponentPeer;\n\npublic static long getHWnd(Frame f) {\n   return f.getPeer() != null ? ((WComponentPeer) f.getPeer()).getHWnd() : 0;\n}\n</code></pre>\n\n<p>Caveats:</p>\n\n<ul>\n<li>This uses a sun.* package. Obviously this is not public API. But it is unlikely to change (and I think less likely to break than the solutions above).</li>\n<li>This will compile and run on Windows only. You would need to turn this into reflection code for this to be portable.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1303922500,"creation_date":1303922500,"answer_id":5807559,"question_id":386792,"body_markdown":"I found this: http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowID(java.awt.Window)\r\n\r\nJNA lets you call native libraries without having to write jni native code.\r\nTurns out the library itself has a method that takes a Window and produces an int, presumably a handle (or pointer?) that hopefully works on all platforms.\r\n","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>I found this: <a href=\"http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowID(java.awt.Window\" rel=\"noreferrer\">http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowID(java.awt.Window</a>)</p>\n\n<p>JNA lets you call native libraries without having to write jni native code.\nTurns out the library itself has a method that takes a Window and produces an int, presumably a handle (or pointer?) that hopefully works on all platforms.</p>\n"},{"tags":[],"owner":{"account_id":437675,"reputation":11,"user_id":825492,"display_name":"Evandro Millian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309579316,"creation_date":1309553208,"answer_id":6553061,"question_id":386792,"body_markdown":"In JNA library we see that using Native AWT in Java 5 and 6 UnsatisfiedLinkError when run headless, so use dynamic linking. See the method `Java_com_sun_jna_Native_getWindowHandle0` in &lt;https://github.com/twall/jna/blob/master/native/dispatch.c&gt;.","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>In JNA library we see that using Native AWT in Java 5 and 6 UnsatisfiedLinkError when run headless, so use dynamic linking. See the method <code>Java_com_sun_jna_Native_getWindowHandle0</code> in <a href=\"https://github.com/twall/jna/blob/master/native/dispatch.c\" rel=\"nofollow\">https://github.com/twall/jna/blob/master/native/dispatch.c</a>.</p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344019410,"creation_date":1344019410,"answer_id":11801514,"question_id":386792,"body_markdown":"This is the same as Jared MacD&#39;s answer but it uses reflection so that the code can compile and load on a non-Windows computer. Of course it will fail if you try to call it.\r\n\r\n    import java.awt.Frame;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    public class WindowHandleGetter {\r\n        private static final Logger log = LoggerFactory.getLogger(WindowHandleGetter.class);\r\n        private final Frame rootFrame;\r\n    \r\n        protected WindowHandleGetter(Frame rootFrame) {\r\n            this.rootFrame = rootFrame;\r\n        }\r\n        \r\n        protected long getWindowId() {\r\n            \r\n            try {\r\n                Frame frame = rootFrame;\r\n                \r\n                // The reflection code below does the same as this\r\n                // long handle = frame.getPeer() != null ? ((WComponentPeer) frame.getPeer()).getHWnd() : 0;\r\n    \r\n                Object wComponentPeer = invokeMethod(frame, &quot;getPeer&quot;);\r\n                \r\n                Long hwnd = (Long) invokeMethod(wComponentPeer, &quot;getHWnd&quot;);\r\n                \r\n                return hwnd;\r\n                \r\n            } catch (Exception ex) {\r\n                log.error(&quot;Error getting window handle&quot;);\r\n            }\r\n            \r\n            return 0;\r\n        }\r\n        \r\n        protected Object invokeMethod(Object o, String methodName) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n            \r\n            Class c = o.getClass();\r\n            for (Method m : c.getMethods()) {\r\n                if (m.getName().equals(methodName)) {\r\n                    Object ret = m.invoke(o);\r\n                    return ret;\r\n                }\r\n            }\r\n            throw new RuntimeException(&quot;Could not find method named &#39;&quot;+methodName+&quot;&#39; on class &quot; + c);\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>This is the same as Jared MacD's answer but it uses reflection so that the code can compile and load on a non-Windows computer. Of course it will fail if you try to call it.</p>\n\n<pre><code>import java.awt.Frame;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class WindowHandleGetter {\n    private static final Logger log = LoggerFactory.getLogger(WindowHandleGetter.class);\n    private final Frame rootFrame;\n\n    protected WindowHandleGetter(Frame rootFrame) {\n        this.rootFrame = rootFrame;\n    }\n\n    protected long getWindowId() {\n\n        try {\n            Frame frame = rootFrame;\n\n            // The reflection code below does the same as this\n            // long handle = frame.getPeer() != null ? ((WComponentPeer) frame.getPeer()).getHWnd() : 0;\n\n            Object wComponentPeer = invokeMethod(frame, \"getPeer\");\n\n            Long hwnd = (Long) invokeMethod(wComponentPeer, \"getHWnd\");\n\n            return hwnd;\n\n        } catch (Exception ex) {\n            log.error(\"Error getting window handle\");\n        }\n\n        return 0;\n    }\n\n    protected Object invokeMethod(Object o, String methodName) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n\n        Class c = o.getClass();\n        for (Method m : c.getMethods()) {\n            if (m.getName().equals(methodName)) {\n                Object ret = m.invoke(o);\n                return ret;\n            }\n        }\n        throw new RuntimeException(\"Could not find method named '\"+methodName+\"' on class \" + c);\n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47668,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":413895,"answer_count":6,"score":29,"last_activity_date":1683165391,"creation_date":1229966457,"question_id":386792,"body_markdown":"In Java 1.4 you could use ((SunToolkit) Toolkit.getDefaultToolkit()).getNativeWindowHandleFromComponent() but that was removed.\r\n\r\nIt looks like you have to use JNI to do this now. Do you have the JNI code and sample Java code to do this?\r\n\r\nI need this to call the Win32 GetWindowLong and SetWindowLong API calls, which can be done via the Jawin library.\r\n\r\nI would like something very precise so I can pass a reference to the JDialog or JFrame and get the window handle.\r\n\r\nhttps://stackoverflow.com/questions/265602/swing-transparency-using-jni may be related.","title":"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window?","body":"<p>In Java 1.4 you could use ((SunToolkit) Toolkit.getDefaultToolkit()).getNativeWindowHandleFromComponent() but that was removed.</p>\n\n<p>It looks like you have to use JNI to do this now. Do you have the JNI code and sample Java code to do this?</p>\n\n<p>I need this to call the Win32 GetWindowLong and SetWindowLong API calls, which can be done via the Jawin library.</p>\n\n<p>I would like something very precise so I can pass a reference to the JDialog or JFrame and get the window handle.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/265602/swing-transparency-using-jni\">Swing transparency using JNI</a> may be related.</p>\n"},{"tags":["java","cmd","version"],"comments":[{"owner":{"account_id":242330,"reputation":10725,"user_id":513769,"accept_rate":75,"display_name":"stevevls"},"score":0,"creation_date":1354748775,"post_id":13734142,"comment_id":18869904,"body_markdown":"is it just me, or are there two directories of the same name in that list?","body":"is it just me, or are there two directories of the same name in that list?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1354748810,"post_id":13734142,"comment_id":18869926,"body_markdown":"You get whatever your path is set to if you aren&#39;t explicitly specifying it, just like any other program on your computer. **Edit:** See: http://www.computerhope.com/issues/ch000549.htm","body":"You get whatever your path is set to if you aren&#39;t explicitly specifying it, just like any other program on your computer. <b>Edit:</b> See: <a href=\"http://www.computerhope.com/issues/ch000549.htm\" rel=\"nofollow noreferrer\">computerhope.com/issues/ch000549.htm</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1354749145,"post_id":13734142,"comment_id":18870027,"body_markdown":"Use the search in windows and find all the instances of `java`. Your path is pointed at one of those locations, and that&#39;s the one you get if you just type `java`","body":"Use the search in windows and find all the instances of <code>java</code>. Your path is pointed at one of those locations, and that&#39;s the one you get if you just type <code>java</code>"},{"owner":{"account_id":471978,"reputation":1840,"user_id":880135,"accept_rate":69,"display_name":"Franz Noel"},"score":0,"creation_date":1354749594,"post_id":13734142,"comment_id":18870183,"body_markdown":"I got the directory and I found it on this location. `C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java`. I used the keyword `1.7.0_09`.","body":"I got the directory and I found it on this location. <code>C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java</code>. I used the keyword <code>1.7.0_09</code>."},{"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"score":1,"creation_date":1354749668,"post_id":13734142,"comment_id":18870200,"body_markdown":"Installing the JDK puts a driver `java.exe` in `%SYSTEMROOT%\\System32`.\n\nYou can either delete this, or make sure the JDK you want to use is on the path before the `%SYSTEMROOT%\\System32` entry.","body":"Installing the JDK puts a driver <code>java.exe</code> in <code>%SYSTEMROOT%\\System32</code>.  You can either delete this, or make sure the JDK you want to use is on the path before the <code>%SYSTEMROOT%\\System32</code> entry."},{"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"score":0,"creation_date":1354753438,"post_id":13734142,"comment_id":18871234,"body_markdown":"@FranzNoel Those look like installation files. `AppData` is often used for temprorary storage. It looks like the installer unpacked its data into those folders and just didn&#39;t delete them all. If they don&#39;t contain a `java.exe` file, then they&#39;re not what you&#39;re looking for.","body":"@FranzNoel Those look like installation files. <code>AppData</code> is often used for temprorary storage. It looks like the installer unpacked its data into those folders and just didn&#39;t delete them all. If they don&#39;t contain a <code>java.exe</code> file, then they&#39;re not what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1683165269,"creation_date":1354750273,"answer_id":13734429,"question_id":13734142,"body_markdown":"It&#39;s possible to have many JRE side-by-side on a computer.\r\n\r\nIf the JRE is properly installed on Windows, informations about each version are stored in the registry. The installation process installs a **special java.exe** in the system PATH (**%SYSTEMROOT%\\System32**). So you don&#39;t need to alter you PATH because this special java.exe will find the current JRE. From a command line, type java -version to display the current jre version installed.\r\n\r\nWith release 1.6, it&#39;s now possible to select a different JRE installation than the last one without any registry modification.\r\n\r\nThe JRE installation are listed in the registry in the key \r\n\r\n&gt; HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\r\n\r\nTake this simple test class \r\n\r\n    public class ShowVersion {\r\n     public static void main(String args[]) {\r\n       System.out.println(System.getProperty(&quot;java.version&quot;));\r\n     }\r\n    }\r\n\r\nOn a system, with 1.6 and 1.5 installed. If you type\r\n\r\n    &gt; java ShowVersion\r\n\r\nIt&#39;s probably the 1.6 JRE that will be used since it&#39;s the last installed.\r\n\r\nTo force the 1.5 JRE instead, use this command line.\r\n\r\n    &gt; java -version:&quot;1.5&quot; ShowVersion\r\n\r\nIf the bytecode is incompatible with the given JRE then .. it won&#39;t work, of course. \r\n\r\nref :  [technote java 6][1]\r\n\r\nYou can always give the complete path to use a specific installation. Launching the JVM this way does not use the registry setting at all.\r\n\r\n    &gt;&quot;C:\\Program Files\\Java\\j2re1.4.1_02\\bin\\java&quot; -version\r\n    java version &quot;1.4.1_02&quot;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/windows/java.html\r\n  [2]: http://www.rgagnon.com/javadetails/java-0634.html","title":"Different Java version showing on command line","body":"<p>It's possible to have many JRE side-by-side on a computer.</p>\n<p>If the JRE is properly installed on Windows, informations about each version are stored in the registry. The installation process installs a <strong>special java.exe</strong> in the system PATH (<strong>%SYSTEMROOT%\\System32</strong>). So you don't need to alter you PATH because this special java.exe will find the current JRE. From a command line, type java -version to display the current jre version installed.</p>\n<p>With release 1.6, it's now possible to select a different JRE installation than the last one without any registry modification.</p>\n<p>The JRE installation are listed in the registry in the key</p>\n<blockquote>\n<p>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment</p>\n</blockquote>\n<p>Take this simple test class</p>\n<pre><code>public class ShowVersion {\n public static void main(String args[]) {\n   System.out.println(System.getProperty(&quot;java.version&quot;));\n }\n}\n</code></pre>\n<p>On a system, with 1.6 and 1.5 installed. If you type</p>\n<pre><code>&gt; java ShowVersion\n</code></pre>\n<p>It's probably the 1.6 JRE that will be used since it's the last installed.</p>\n<p>To force the 1.5 JRE instead, use this command line.</p>\n<pre><code>&gt; java -version:&quot;1.5&quot; ShowVersion\n</code></pre>\n<p>If the bytecode is incompatible with the given JRE then .. it won't work, of course.</p>\n<p>ref :  <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">technote java 6</a></p>\n<p>You can always give the complete path to use a specific installation. Launching the JVM this way does not use the registry setting at all.</p>\n<pre><code>&gt;&quot;C:\\Program Files\\Java\\j2re1.4.1_02\\bin\\java&quot; -version\njava version &quot;1.4.1_02&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1354751727,"creation_date":1354750440,"answer_id":13734463,"question_id":13734142,"body_markdown":"In answer to the &quot;actual&quot; question:\r\n\r\n&gt; Another thing that is weird is, I tried to check on environment\r\n&gt; variable settings, and it does not say anything about jdk1.7.0_09.\r\n\r\nWhat happened here is that you installed jdk1.7.0_07  and then you auto-upgraded it. When that happens , it still uses the old folder name that you originally installed to.\r\n\r\nAfter I install Java , I usually make a copy of the JDK directory and name it with the version number.  Then, I can directly call a certain java like so:\r\n\r\n    @echo off\r\n    :: testjava.bat\r\n    set JAVA_HOME=C:\\JDK1.x.xx\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%;.\r\n    java -version\r\n    pause\r\n\r\nSo, my recommendation is to set your JAVA_HOME system variable and PATH variable like I show above.  This would override everything on your system so that your JDK of your choice is the default over the JRE.","title":"Different Java version showing on command line","body":"<p>In answer to the \"actual\" question:</p>\n\n<blockquote>\n  <p>Another thing that is weird is, I tried to check on environment\n  variable settings, and it does not say anything about jdk1.7.0_09.</p>\n</blockquote>\n\n<p>What happened here is that you installed jdk1.7.0_07  and then you auto-upgraded it. When that happens , it still uses the old folder name that you originally installed to.</p>\n\n<p>After I install Java , I usually make a copy of the JDK directory and name it with the version number.  Then, I can directly call a certain java like so:</p>\n\n<pre><code>@echo off\n:: testjava.bat\nset JAVA_HOME=C:\\JDK1.x.xx\nset PATH=%JAVA_HOME%\\bin;%PATH%;.\njava -version\npause\n</code></pre>\n\n<p>So, my recommendation is to set your JAVA_HOME system variable and PATH variable like I show above.  This would override everything on your system so that your JDK of your choice is the default over the JRE.</p>\n"},{"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354750989,"creation_date":1354750989,"answer_id":13734576,"question_id":13734142,"body_markdown":"That `AppData` path in your comment isn&#39;t on your path (supposedly, anyway), so that&#39;s probably not what it&#39;s using. Unfortunately, there isn&#39;t a `which` command on Windows either.\r\n\r\nIf you edit your path and move the `C:\\Program Files\\Java\\bin` directory to the very beginning of the list and it still prints `1.7.0_09`, then somehow you have JDK7u9 in your JDK7u7 folder. If not, browse to all the other directories on your path and open them 1-by-1 until you find the appropriate `java` file. Fortunately for you, your path is *much* shorter than mine.\r\n\r\nNote that when doing:\r\n\r\n    &gt; java -version\r\n\r\nIt may also look for `java.bat` and other non-`exe` extensions, so keep an eye out for this while you&#39;re searching your path. Try running:\r\n\r\n    &gt; java.exe -version\r\n\r\nThat way you *know* you&#39;re looking for an `exe` file.\r\n\r\nOne last thing you can try:\r\n\r\n    &gt; &quot;C:\\Program Files\\Java\\jdk1.7.0_07\\bin\\java&quot; -version\r\n\r\nIf this returns `1.7.0_09`, then something happened that updated your JDK in-place, which isn&#39;t supposed to happen, AFAIK (but I could be wrong).","title":"Different Java version showing on command line","body":"<p>That <code>AppData</code> path in your comment isn't on your path (supposedly, anyway), so that's probably not what it's using. Unfortunately, there isn't a <code>which</code> command on Windows either.</p>\n\n<p>If you edit your path and move the <code>C:\\Program Files\\Java\\bin</code> directory to the very beginning of the list and it still prints <code>1.7.0_09</code>, then somehow you have JDK7u9 in your JDK7u7 folder. If not, browse to all the other directories on your path and open them 1-by-1 until you find the appropriate <code>java</code> file. Fortunately for you, your path is <em>much</em> shorter than mine.</p>\n\n<p>Note that when doing:</p>\n\n<pre><code>&gt; java -version\n</code></pre>\n\n<p>It may also look for <code>java.bat</code> and other non-<code>exe</code> extensions, so keep an eye out for this while you're searching your path. Try running:</p>\n\n<pre><code>&gt; java.exe -version\n</code></pre>\n\n<p>That way you <em>know</em> you're looking for an <code>exe</code> file.</p>\n\n<p>One last thing you can try:</p>\n\n<pre><code>&gt; \"C:\\Program Files\\Java\\jdk1.7.0_07\\bin\\java\" -version\n</code></pre>\n\n<p>If this returns <code>1.7.0_09</code>, then something happened that updated your JDK in-place, which isn't supposed to happen, AFAIK (but I could be wrong).</p>\n"},{"tags":[],"owner":{"account_id":4768420,"reputation":61,"user_id":3853933,"display_name":"Shashidhar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490612517,"creation_date":1490604647,"answer_id":43041850,"question_id":13734142,"body_markdown":"Adding the following will resolve your issue:\r\n\r\n    set JAVA_HOME=&quot;your jdk path&quot;\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%.\r\n\r\nAdditionally if it does not work that means you have set the `PATH` for multiple java versions, include only the latest one and remove all from `PATH` variables.","title":"Different Java version showing on command line","body":"<p>Adding the following will resolve your issue:</p>\n\n<pre><code>set JAVA_HOME=\"your jdk path\"\nset PATH=%JAVA_HOME%\\bin;%PATH%.\n</code></pre>\n\n<p>Additionally if it does not work that means you have set the <code>PATH</code> for multiple java versions, include only the latest one and remove all from <code>PATH</code> variables.</p>\n"}],"owner":{"account_id":471978,"reputation":1840,"user_id":880135,"accept_rate":69,"display_name":"Franz Noel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93434,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13734429,"answer_count":4,"score":18,"last_activity_date":1683165269,"creation_date":1354748699,"question_id":13734142,"body_markdown":"I have recently checked on my Java version. I ran the command `java -version` and I found out that I was using `java version 1.7.0_09`. But when I tried to check on `C:\\Program Files\\Java\\` directory, I don&#39;t seem to find the same version. I only see the following: \r\n\r\n - j2re1.4\r\n - jdk1.6.0_32\r\n - jdk1.7.0_06\r\n - jdk1.7.0_07\r\n - jre6\r\n - jre7\r\n\r\nAnd so on... \r\n\r\nMy programs still run, but I&#39;m just trying to compile everything manually, and understand how Java is being treated by the OS.\r\n\r\nAnother thing that is weird is, I tried to check on environment variable settings, and it does not say anything about `jdk1.7.0_09`.\r\n\r\n**Path:** \r\n\r\n - C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;\r\n - %SystemRoot%\\system32;\r\n - %SystemRoot%;\r\n - %SystemRoot%\\System32\\Wbem;\r\n - %SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;\r\n - C:\\Program Files\\TortoiseSVN\\bin;\r\n - C:\\Program Files\\Windows Live\\Shared;\r\n - C:\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.6.5\\appengine-java-sdk-1.6.5\\bin;\r\n - C:\\Program Files\\Java\\jdk1.7.0_07\\bin;C:\\Program Files\\QuickTime\\QTSystem\\;\r\n - %ANT_HOME%\\bin\r\n\r\nJust want to let you guys know that it somehow automatically became a jre. \r\n\r\nThe complete directory is `C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java\\jre1.7.0_09` and it&#39;s just got the file named `lzma.dll`. \r\n\r\nBut, I have another directory that says `C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java\\jdk1.7.0_07`. The files inside it are: \r\n\r\n - jdk1.7.0_07.msi\r\n - sj170070.cab\r\n - ss170070.cab\r\n - st170070.cab \r\n - and sz170070.cab\r\n\r\n","title":"Different Java version showing on command line","body":"<p>I have recently checked on my Java version. I ran the command <code>java -version</code> and I found out that I was using <code>java version 1.7.0_09</code>. But when I tried to check on <code>C:\\Program Files\\Java\\</code> directory, I don't seem to find the same version. I only see the following: </p>\n\n<ul>\n<li>j2re1.4</li>\n<li>jdk1.6.0_32</li>\n<li>jdk1.7.0_06</li>\n<li>jdk1.7.0_07</li>\n<li>jre6</li>\n<li>jre7</li>\n</ul>\n\n<p>And so on... </p>\n\n<p>My programs still run, but I'm just trying to compile everything manually, and understand how Java is being treated by the OS.</p>\n\n<p>Another thing that is weird is, I tried to check on environment variable settings, and it does not say anything about <code>jdk1.7.0_09</code>.</p>\n\n<p><strong>Path:</strong> </p>\n\n<ul>\n<li>C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;</li>\n<li>%SystemRoot%\\system32;</li>\n<li>%SystemRoot%;</li>\n<li>%SystemRoot%\\System32\\Wbem;</li>\n<li>%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;</li>\n<li>C:\\Program Files\\TortoiseSVN\\bin;</li>\n<li>C:\\Program Files\\Windows Live\\Shared;</li>\n<li>C:\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.6.5\\appengine-java-sdk-1.6.5\\bin;</li>\n<li>C:\\Program Files\\Java\\jdk1.7.0_07\\bin;C:\\Program Files\\QuickTime\\QTSystem\\;</li>\n<li>%ANT_HOME%\\bin</li>\n</ul>\n\n<p>Just want to let you guys know that it somehow automatically became a jre. </p>\n\n<p>The complete directory is <code>C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java\\jre1.7.0_09</code> and it's just got the file named <code>lzma.dll</code>. </p>\n\n<p>But, I have another directory that says <code>C:\\Users\\User02\\AppData\\LocalLow\\Sun\\Java\\jdk1.7.0_07</code>. The files inside it are: </p>\n\n<ul>\n<li>jdk1.7.0_07.msi</li>\n<li>sj170070.cab</li>\n<li>ss170070.cab</li>\n<li>st170070.cab </li>\n<li>and sz170070.cab</li>\n</ul>\n"},{"tags":["java","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":26247,"reputation":33763,"user_id":68105,"accept_rate":69,"display_name":"MK."},"down_vote_count":11,"up_vote_count":88,"is_accepted":true,"score":77,"last_activity_date":1376982950,"creation_date":1294784097,"answer_id":4663241,"question_id":4663147,"body_markdown":"`-Dcom.sun.net.ssl.checkRevocation=false`","title":"Is there a java setting for disabling certificate validation?","body":"<p><code>-Dcom.sun.net.ssl.checkRevocation=false</code></p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1683165243,"creation_date":1294789176,"answer_id":4663922,"question_id":4663147,"body_markdown":"Not exactly a setting but you can override the default TrustManager and HostnameVerifier to accept anything. Not a safe approach but in your situation, it can be acceptable.\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-fix-certificate-problem-in-HTTPS.html","title":"Is there a java setting for disabling certificate validation?","body":"<p>Not exactly a setting but you can override the default TrustManager and HostnameVerifier to accept anything. Not a safe approach but in your situation, it can be acceptable.</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584547659,"creation_date":1396513153,"answer_id":22831739,"question_id":4663147,"body_markdown":"In Axis webservice and if you have to disable the certificate checking then use below code:\r\n \r\nAxisProperties.setProperty(&quot;axis.socketSecureFactory&quot;,&quot;org.apache.axis.components.net.SunFakeTrustSocketFactory&quot;);","title":"Is there a java setting for disabling certificate validation?","body":"<p>In Axis webservice and if you have to disable the certificate checking then use below code:</p>\n\n<p>AxisProperties.setProperty(\"axis.socketSecureFactory\",\"org.apache.axis.components.net.SunFakeTrustSocketFactory\");</p>\n"},{"tags":[],"owner":{"account_id":5913408,"reputation":863,"user_id":4652896,"display_name":"Алексей Присяжный"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1517403638,"creation_date":1517403638,"answer_id":48542816,"question_id":4663147,"body_markdown":"Use cli utility **keytool** from java software distribution for import (and **trust!**) needed certificates\r\n\r\nSample: \r\n\r\n0. From cli change dir to jre\\bin\r\n\r\n1. Check keystore (file found in jre\\bin directory)  \r\nkeytool -list -keystore ..\\lib\\security\\cacerts  \r\nEnter keystore password: **changeit** \r\n\r\n2. Download and save all certificates chain from needed server.\r\n\r\n3. Add certificates (before need to remove &quot;read-only&quot; attribute on file &quot;..\\lib\\security\\cacerts&quot;) \r\nkeytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore ..\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;\r\n\r\n\r\naccidentally I found such a simple tip. \r\nOther solutions require the use of InstallCert.Java and JDK\r\n\r\nsource: http://www.java-samples.com/showtutorial.php?tutorialid=210","title":"Is there a java setting for disabling certificate validation?","body":"<p>Use cli utility <strong>keytool</strong> from java software distribution for import (and <strong>trust!</strong>) needed certificates</p>\n\n<p>Sample: </p>\n\n<ol>\n<li><p>From cli change dir to jre\\bin</p></li>\n<li><p>Check keystore (file found in jre\\bin directory)<br>\nkeytool -list -keystore ..\\lib\\security\\cacerts<br>\nEnter keystore password: <strong>changeit</strong> </p></li>\n<li><p>Download and save all certificates chain from needed server.</p></li>\n<li><p>Add certificates (before need to remove \"read-only\" attribute on file \"..\\lib\\security\\cacerts\") \nkeytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore ..\\lib\\security\\cacerts -file \"r:\\root.crt\"</p></li>\n</ol>\n\n<p>accidentally I found such a simple tip. \nOther solutions require the use of InstallCert.Java and JDK</p>\n\n<p>source: <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=210\" rel=\"noreferrer\">http://www.java-samples.com/showtutorial.php?tutorialid=210</a></p>\n"},{"tags":[],"owner":{"account_id":8765399,"reputation":97,"user_id":6553967,"display_name":"Steve Heffern"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533686948,"creation_date":1533682652,"answer_id":51736521,"question_id":4663147,"body_markdown":"On my Mac that I&#39;m sure I&#39;m not going to allow java anyplace other than a specific site, I was able to use Preferences-&gt;Java to bring up the Java control panel and turned the checking off.  If DLink ever fixes their certificate, I&#39;ll turn it back on.\r\n\r\n[![Java control panel - Advanced][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuTLg.png","title":"Is there a java setting for disabling certificate validation?","body":"<p>On my Mac that I'm sure I'm not going to allow java anyplace other than a specific site, I was able to use Preferences->Java to bring up the Java control panel and turned the checking off.  If DLink ever fixes their certificate, I'll turn it back on.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iuTLg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuTLg.png\" alt=\"Java control panel - Advanced\"></a></p>\n"},{"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1551891225,"creation_date":1548386882,"answer_id":54358567,"question_id":4663147,"body_markdown":"In addition to the answers above. You can do it programmatically by implementing the TrustManager:\r\n\r\n    TrustManager[] trustAllCerts = new TrustManager[] {\r\n            new X509TrustManager() {\r\n              public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n               return null;\r\n              }\r\n              @Override\r\n              public void checkClientTrusted(X509Certificate[] arg0, String arg1)\r\n               throws CertificateException {}\r\n     \r\n              @Override\r\n              public void checkServerTrusted(X509Certificate[] arg0, String arg1)\r\n                throws CertificateException {}\r\n              }\r\n         };\r\n\r\n      SSLContext sc=null;\r\n      try {\r\n       sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n      } catch (NoSuchAlgorithmException e) {\r\n       e.printStackTrace();\r\n      }\r\n      try {\r\n       sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n      } catch (KeyManagementException e) {\r\n       e.printStackTrace();\r\n      }\r\n      HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n      // Create all-trusting host name verifier\r\n      HostnameVerifier validHosts = new HostnameVerifier() {\r\n      @Override\r\n      public boolean verify(String arg0, SSLSession arg1) {\r\n       return true;\r\n      }\r\n      };\r\n      // All hosts will be valid\r\n      HttpsURLConnection.setDefaultHostnameVerifier(validHosts);\r\n\r\nHowever this is not a good practice for production.\r\n\r\nThis example on [How to disable SSL certificat validation in Java][1] contains a utility class you can copy in your project.\r\n\r\n\r\n  [1]: https://tutoref.com/how-to-disable-ssl-certificat-validation-in-java/\r\n","title":"Is there a java setting for disabling certificate validation?","body":"<p>In addition to the answers above. You can do it programmatically by implementing the TrustManager:</p>\n\n<pre><code>TrustManager[] trustAllCerts = new TrustManager[] {\n        new X509TrustManager() {\n          public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n           return null;\n          }\n          @Override\n          public void checkClientTrusted(X509Certificate[] arg0, String arg1)\n           throws CertificateException {}\n\n          @Override\n          public void checkServerTrusted(X509Certificate[] arg0, String arg1)\n            throws CertificateException {}\n          }\n     };\n\n  SSLContext sc=null;\n  try {\n   sc = SSLContext.getInstance(\"SSL\");\n  } catch (NoSuchAlgorithmException e) {\n   e.printStackTrace();\n  }\n  try {\n   sc.init(null, trustAllCerts, new java.security.SecureRandom());\n  } catch (KeyManagementException e) {\n   e.printStackTrace();\n  }\n  HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n  // Create all-trusting host name verifier\n  HostnameVerifier validHosts = new HostnameVerifier() {\n  @Override\n  public boolean verify(String arg0, SSLSession arg1) {\n   return true;\n  }\n  };\n  // All hosts will be valid\n  HttpsURLConnection.setDefaultHostnameVerifier(validHosts);\n</code></pre>\n\n<p>However this is not a good practice for production.</p>\n\n<p>This example on <a href=\"https://tutoref.com/how-to-disable-ssl-certificat-validation-in-java/\" rel=\"noreferrer\">How to disable SSL certificat validation in Java</a> contains a utility class you can copy in your project.</p>\n"},{"tags":[],"owner":{"account_id":18330519,"reputation":1,"user_id":13349154,"display_name":"Eldor"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1587231963,"creation_date":1587231963,"answer_id":61293613,"question_id":4663147,"body_markdown":"It is very simple .In my opinion it is the best way for everyone \r\n ```public void DisableSSLVerif(){\r\n        Unirest.config().verifySsl(false);\r\n        HttpResponse&lt;String&gt; response = null;\r\n        try {\r\n            Gson gson = new Gson();\r\n            response = Unirest.post(&quot;your_api_url&quot;)\r\n                    .header(&quot;Authorization&quot;, &quot;Basic &quot; + &quot;authkey&quot;)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .body(&quot;request_body&quot;)\r\n                    .asString();\r\n            System.out.println(&quot;------RESPONSE -------&quot;+ gson.toJson(response.getBody()));\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;------RESPONSE ERROR--&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Is there a java setting for disabling certificate validation?","body":"<p>It is very simple .In my opinion it is the best way for everyone </p>\n\n<pre><code>       Unirest.config().verifySsl(false);\n       HttpResponse&lt;String&gt; response = null;\n       try {\n           Gson gson = new Gson();\n           response = Unirest.post(\"your_api_url\")\n                   .header(\"Authorization\", \"Basic \" + \"authkey\")\n                   .header(\"Content-Type\", \"application/json\")\n                   .body(\"request_body\")\n                   .asString();\n           System.out.println(\"------RESPONSE -------\"+ gson.toJson(response.getBody()));\n       } catch (Exception e) {\n           System.out.println(\"------RESPONSE ERROR--\");\n           e.printStackTrace();\n       }\n   }\n</code></pre>\n"}],"owner":{"account_id":71306,"reputation":2177,"user_id":206342,"accept_rate":42,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361366,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"closed_date":1614075852,"accepted_answer_id":4663241,"answer_count":7,"score":95,"last_activity_date":1683165243,"creation_date":1294783436,"question_id":4663147,"body_markdown":"I received this error while trying to start up an application: \r\n\r\n    Sun.security.validator.ValidatorException: PKIX path validation failed: \r\n    java.security.cert.CertPathValidatorException:  java.net.UnknownHostException:oscp.thawte.com\r\n\r\nThe application is behind a closed network and won&#39;t ever be able to get to oscp.thawte.com. Is there a java setting that can disable this?","title":"Is there a java setting for disabling certificate validation?","body":"<p>I received this error while trying to start up an application: </p>\n\n<pre><code>Sun.security.validator.ValidatorException: PKIX path validation failed: \njava.security.cert.CertPathValidatorException:  java.net.UnknownHostException:oscp.thawte.com\n</code></pre>\n\n<p>The application is behind a closed network and won't ever be able to get to oscp.thawte.com. Is there a java setting that can disable this?</p>\n"},{"tags":["java","audio"],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1285258851,"creation_date":1285258851,"answer_id":3780434,"question_id":3780406,"body_markdown":"You can take a look at the beep method within the Toolkit class, as shown [here][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/java.awt/Toolkitbeep.htm","title":"How to play a sound (alert) in a java application?","body":"<p>You can take a look at the beep method within the Toolkit class, as shown <a href=\"http://www.java2s.com/Code/JavaAPI/java.awt/Toolkitbeep.htm\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548317824,"creation_date":1285258937,"answer_id":3780445,"question_id":3780406,"body_markdown":"The applet route should be fine (and is very straightforward).  To avoid creating an Applet instance you can use the static [`newAudioClip`][1] method, and then call `play()` on the `AudioClip` created.\r\n\r\n    URL url = getClass().getResource(&quot;/foo/bar/sound.wav&quot;);\r\n    AudioClip clip = Applet.newAudioClip(url);\r\n    clip.play();\r\n\r\nHere, the `sound.wav` file is bundled in the `jar` file in the `foo/bar` package that you create. A fully functional class (where the `wav` file is in the `sounds` package) would look like this: \r\n\r\n    package sounds;\r\n    \r\n    import java.applet.Applet;\r\n    import java.applet.AudioClip;\r\n    \r\n    public class PlaySound {\r\n    \r\n        public void PlayBeep() {        \r\n            AudioClip clip = Applet.newAudioClip(getClass().getResource(&quot;/sounds/beep3.wav&quot;));\r\n            clip.play();\r\n        }\r\n    }\r\n\r\nHere, the path is given as `/sounds/` because when you extract the `jar`, you&#39;ll see that the `wav` file is located in the first folder in the `jar`, which is `sounds`.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/applet/Applet.html#newAudioClip(java.net.URL)","title":"How to play a sound (alert) in a java application?","body":"<p>The applet route should be fine (and is very straightforward).  To avoid creating an Applet instance you can use the static <a href=\"http://download.oracle.com/javase/6/docs/api/java/applet/Applet.html#newAudioClip(java.net.URL)\" rel=\"nofollow noreferrer\"><code>newAudioClip</code></a> method, and then call <code>play()</code> on the <code>AudioClip</code> created.</p>\n\n<pre><code>URL url = getClass().getResource(\"/foo/bar/sound.wav\");\nAudioClip clip = Applet.newAudioClip(url);\nclip.play();\n</code></pre>\n\n<p>Here, the <code>sound.wav</code> file is bundled in the <code>jar</code> file in the <code>foo/bar</code> package that you create. A fully functional class (where the <code>wav</code> file is in the <code>sounds</code> package) would look like this: </p>\n\n<pre><code>package sounds;\n\nimport java.applet.Applet;\nimport java.applet.AudioClip;\n\npublic class PlaySound {\n\n    public void PlayBeep() {        \n        AudioClip clip = Applet.newAudioClip(getClass().getResource(\"/sounds/beep3.wav\"));\n        clip.play();\n    }\n}\n</code></pre>\n\n<p>Here, the path is given as <code>/sounds/</code> because when you extract the <code>jar</code>, you'll see that the <code>wav</code> file is located in the first folder in the <code>jar</code>, which is <code>sounds</code>.</p>\n"},{"tags":[],"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1679422034,"creation_date":1285259094,"answer_id":3780467,"question_id":3780406,"body_markdown":"If you just want to produce a beep or a quick alert, you can use the following code:\r\n\r\n```java\r\nimport java.awt.Toolkit;\r\nToolkit.getDefaultToolkit().beep();\r\n```","title":"How to play a sound (alert) in a java application?","body":"<p>If you just want to produce a beep or a quick alert, you can use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Toolkit;\nToolkit.getDefaultToolkit().beep();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310677296,"creation_date":1285259131,"answer_id":3780474,"question_id":3780406,"body_markdown":"If you want to use the sound package to play an arbitrary sound file, you can use the &lt;code&gt;javax.sound.sampled&lt;/code&gt; package.  Here is the code that will play a sound file:\r\n\r\n&lt;pre&gt;\r\nprivate void playSound(File f) {\r\n\tRunnable r = new Runnable() {\r\n\t\tprivate File f;\r\n\t\t\r\n\t\tpublic void run() {\r\n\t\t\tplaySoundInternal(this.f);\r\n\t\t}\r\n\t\t\r\n\t\tpublic Runnable setFile(File f) {\r\n\t\t\tthis.f = f;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}.setFile(f);\r\n\t\r\n\tnew Thread(r).start();\r\n}\r\n\r\nprivate void playSoundInternal(File f) {\r\n\ttry {\r\n\t\tAudioInputStream audioInputStream = AudioSystem.getAudioInputStream(f);\r\n\t\ttry {\r\n\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\tclip.open(audioInputStream);\r\n\t\t\ttry {\r\n\t\t\t\tclip.start();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tclip.drain();\r\n\t\t\t} finally {\r\n\t\t\t\tclip.close();\r\n\t\t\t}\r\n\t\t} catch (LineUnavailableException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\taudioInputStream.close();\r\n\t\t}\r\n\t} catch (UnsupportedAudioFileException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n&lt;/pre&gt;","title":"How to play a sound (alert) in a java application?","body":"<p>If you want to use the sound package to play an arbitrary sound file, you can use the <code>javax.sound.sampled</code> package.  Here is the code that will play a sound file:</p>\n\n<pre>\nprivate void playSound(File f) {\n    Runnable r = new Runnable() {\n        private File f;\n\n        public void run() {\n            playSoundInternal(this.f);\n        }\n\n        public Runnable setFile(File f) {\n            this.f = f;\n            return this;\n        }\n    }.setFile(f);\n\n    new Thread(r).start();\n}\n\nprivate void playSoundInternal(File f) {\n    try {\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(f);\n        try {\n            Clip clip = AudioSystem.getClip();\n            clip.open(audioInputStream);\n            try {\n                clip.start();\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                clip.drain();\n            } finally {\n                clip.close();\n            }\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n        } finally {\n            audioInputStream.close();\n        }\n    } catch (UnsupportedAudioFileException e) {\n        e.printStackTrace();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1683165197,"creation_date":1310678266,"answer_id":6700039,"question_id":3780406,"body_markdown":"You can generate your own sound if you looking for something less boring than a beep() without an external sound file.\r\n\r\n    import javax.sound.sampled.*;\r\n    \r\n    public class SoundUtils {\r\n    \r\n      public static float SAMPLE_RATE = 8000f;\r\n    \r\n      public static void tone(int hz, int msecs) \r\n         throws LineUnavailableException \r\n      {\r\n         tone(hz, msecs, 1.0);\r\n      }\r\n    \r\n      public static void tone(int hz, int msecs, double vol)\r\n          throws LineUnavailableException \r\n      {\r\n        byte[] buf = new byte[1];\r\n        AudioFormat af = \r\n            new AudioFormat(\r\n                SAMPLE_RATE, // sampleRate\r\n                8,           // sampleSizeInBits\r\n                1,           // channels\r\n                true,        // signed\r\n                false);      // bigEndian\r\n        SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\r\n        sdl.open(af);\r\n        sdl.start();\r\n        for (int i=0; i &lt; msecs*8; i++) {\r\n          double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\r\n          buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\r\n          sdl.write(buf,0,1);\r\n        }\r\n        sdl.drain();\r\n        sdl.stop();\r\n        sdl.close();\r\n      }\r\n      \r\n      public static void main(String[] args) throws Exception {\r\n        SoundUtils.tone(1000,100);\r\n        Thread.sleep(1000);\r\n        SoundUtils.tone(100,1000);\r\n        Thread.sleep(1000);\r\n        SoundUtils.tone(5000,100);\r\n        Thread.sleep(1000);\r\n        SoundUtils.tone(400,500);\r\n        Thread.sleep(1000);\r\n        SoundUtils.tone(400,500, 0.2);\r\n    \r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0632.html","title":"How to play a sound (alert) in a java application?","body":"<p>You can generate your own sound if you looking for something less boring than a beep() without an external sound file.</p>\n<pre><code>import javax.sound.sampled.*;\n\npublic class SoundUtils {\n\n  public static float SAMPLE_RATE = 8000f;\n\n  public static void tone(int hz, int msecs) \n     throws LineUnavailableException \n  {\n     tone(hz, msecs, 1.0);\n  }\n\n  public static void tone(int hz, int msecs, double vol)\n      throws LineUnavailableException \n  {\n    byte[] buf = new byte[1];\n    AudioFormat af = \n        new AudioFormat(\n            SAMPLE_RATE, // sampleRate\n            8,           // sampleSizeInBits\n            1,           // channels\n            true,        // signed\n            false);      // bigEndian\n    SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\n    sdl.open(af);\n    sdl.start();\n    for (int i=0; i &lt; msecs*8; i++) {\n      double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\n      buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\n      sdl.write(buf,0,1);\n    }\n    sdl.drain();\n    sdl.stop();\n    sdl.close();\n  }\n  \n  public static void main(String[] args) throws Exception {\n    SoundUtils.tone(1000,100);\n    Thread.sleep(1000);\n    SoundUtils.tone(100,1000);\n    Thread.sleep(1000);\n    SoundUtils.tone(5000,100);\n    Thread.sleep(1000);\n    SoundUtils.tone(400,500);\n    Thread.sleep(1000);\n    SoundUtils.tone(400,500, 0.2);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":652670,"reputation":301,"user_id":456400,"display_name":"Krithika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77324,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"closed_date":1415954584,"answer_count":5,"score":30,"last_activity_date":1683165197,"creation_date":1285258698,"question_id":3780406,"body_markdown":"I am working with a SMS handling, java based software and want to play a beep / alert sound whenever we receive a message.  I tried looking at the java.sound libraries and could not find anything.  I do not know if going the applet way of playing a sound will be okay in a java application!  Are there any predefined sounds in any java libraries which we can call in an application? Any pointers will be appreciated!","title":"How to play a sound (alert) in a java application?","body":"<p>I am working with a SMS handling, java based software and want to play a beep / alert sound whenever we receive a message.  I tried looking at the java.sound libraries and could not find anything.  I do not know if going the applet way of playing a sound will be okay in a java application!  Are there any predefined sounds in any java libraries which we can call in an application? Any pointers will be appreciated!</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1294604884,"post_id":4641540,"comment_id":5109047,"body_markdown":"This really isn&#39;t something your code should require. I&#39;d very much advise rethinking your design so that you don&#39;t need it.","body":"This really isn&#39;t something your code should require. I&#39;d very much advise rethinking your design so that you don&#39;t need it."},{"owner":{"account_id":273843,"reputation":648,"user_id":565708,"display_name":"Umut Utkan"},"score":1,"creation_date":1294604915,"post_id":4641540,"comment_id":5109051,"body_markdown":"If you are inside that method you already know the name, right? :) If you want to know the caller method&#39;s name, Jigar&#39;s answer below is the one you are looking for. Just use 1 instead of 0 as index.","body":"If you are inside that method you already know the name, right? :) If you want to know the caller method&#39;s name, Jigar&#39;s answer below is the one you are looking for. Just use 1 instead of 0 as index."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1294604571,"creation_date":1294604571,"answer_id":4641546,"question_id":4641540,"body_markdown":"    System.out.println(new Exception().getStackTrace()[0].getMethodName());\r\n\r\n**Also See**\r\n\r\n - [Can-i-determine-who-is-calling-a-function-or-instantiating-a-class-in-java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3907983/can-i-determine-who-is-calling-a-function-or-instantiating-a-class-in-java/3908024#3908024","title":"How to find method name from within that method in Java?","body":"<pre><code>System.out.println(new Exception().getStackTrace()[0].getMethodName());\n</code></pre>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3907983/can-i-determine-who-is-calling-a-function-or-instantiating-a-class-in-java/3908024#3908024\">Can-i-determine-who-is-calling-a-function-or-instantiating-a-class-in-java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1683165136,"creation_date":1294605488,"answer_id":4641628,"question_id":4641540,"body_markdown":"Since JDK1.5, you don&#39;t need an Exception to get the StackTrace,  \r\nyou can get it with `Thread.currentThread().getStackTrace()`]:\r\n\r\n       public class Test2 {\r\n         public static void main(String args[]) {\r\n            new Test2().doit();\r\n         }\r\n         public void doit() {\r\n            System.out.println(\r\n               Thread.currentThread().getStackTrace()[1].getMethodName()); // output : doit\r\n         }\r\n       }\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0420.html","title":"How to find method name from within that method in Java?","body":"<p>Since JDK1.5, you don't need an Exception to get the StackTrace,<br />\nyou can get it with <code>Thread.currentThread().getStackTrace()</code>]:</p>\n<pre><code>   public class Test2 {\n     public static void main(String args[]) {\n        new Test2().doit();\n     }\n     public void doit() {\n        System.out.println(\n           Thread.currentThread().getStackTrace()[1].getMethodName()); // output : doit\n     }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686157,"reputation":11,"user_id":1549408,"display_name":"Greg Youree"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1343149424,"creation_date":1343149424,"answer_id":11635802,"question_id":4641540,"body_markdown":"\r\n    Method lastMethodCalled = this.getClass().getEnclosingMethod();","title":"How to find method name from within that method in Java?","body":"<pre><code>Method lastMethodCalled = this.getClass().getEnclosingMethod();\n</code></pre>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59610,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"closed_date":1370951391,"accepted_answer_id":4641628,"answer_count":3,"score":27,"last_activity_date":1683165136,"creation_date":1294604458,"question_id":4641540,"body_markdown":"I was wondering if there is a way to know the method name being executed at run time?\r\n\r\nFor instance, inside a `private void doSomething (String s)` method, I&#39;d like to know that I am executing the `doSomething (String s)` method.","title":"How to find method name from within that method in Java?","body":"<p>I was wondering if there is a way to know the method name being executed at run time?</p>\n\n<p>For instance, inside a <code>private void doSomething (String s)</code> method, I'd like to know that I am executing the <code>doSomething (String s)</code> method.</p>\n"},{"tags":["java","file","encoding"],"comments":[{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":7,"creation_date":1296822177,"post_id":4897876,"comment_id":5450984,"body_markdown":"UTF-8 is not supposed to have a BOM!  It is neither necessary **nor recommended** by The Unicode Standard.","body":"UTF-8 is not supposed to have a BOM!  It is neither necessary <b>nor recommended</b> by The Unicode Standard."},{"owner":{"account_id":80348,"reputation":63958,"user_id":227267,"accept_rate":80,"display_name":"Matti Virkkunen"},"score":38,"creation_date":1296822253,"post_id":4897876,"comment_id":5450994,"body_markdown":"@tchrist: At Microsoft, they do not care about standards.","body":"@tchrist: At Microsoft, they do not care about standards."},{"owner":{"account_id":1699,"reputation":4908,"user_id":2289,"accept_rate":100,"display_name":"Ant"},"score":3,"creation_date":1296822867,"post_id":4897876,"comment_id":5451080,"body_markdown":"To expand on Matti&#39;s point, all MS text editors prefix UTF-8 documents with a BOM.","body":"To expand on Matti&#39;s point, all MS text editors prefix UTF-8 documents with a BOM."},{"owner":{"account_id":17101,"reputation":9851,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"score":12,"creation_date":1328028164,"post_id":4897876,"comment_id":11404731,"body_markdown":"@Matti &quot;not recommended&quot; != non-standard","body":"@Matti &quot;not recommended&quot; != non-standard"},{"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"score":8,"creation_date":1339164110,"post_id":4897876,"comment_id":14291776,"body_markdown":"@tchrist tell that to the people who put the BOM in the UTF-8 files (=Microsoft) when saving them.","body":"@tchrist tell that to the people who put the BOM in the UTF-8 files (=Microsoft) when saving them."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1339184706,"post_id":4897876,"comment_id":14300129,"body_markdown":"@dstibbe I am not responsible for Microsoft’s stupidity. I will have no part in it. My hands are clean.","body":"@dstibbe I am not responsible for Microsoft’s stupidity. I will have no part in it. My hands are clean."},{"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"score":7,"creation_date":1339410733,"post_id":4897876,"comment_id":14338197,"body_markdown":"@tchrist I wish things were that simple. You create an application for the users, not for yourself. And the users use (partially) Microsoft software to create their files.","body":"@tchrist I wish things were that simple. You create an application for the users, not for yourself. And the users use (partially) Microsoft software to create their files."},{"owner":{"account_id":276404,"reputation":3376,"user_id":569814,"accept_rate":60,"display_name":"peenut"},"score":3,"creation_date":1342881655,"post_id":4897876,"comment_id":15342370,"body_markdown":"BOM is necessary for UTF-16, optional for UTF-8. Java can handle neither (by standard library). C# can handle both. Now talk who follows standard and who does not.","body":"BOM is necessary for UTF-16, optional for UTF-8. Java can handle neither (by standard library). C# can handle both. Now talk who follows standard and who does not."},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1386343266,"post_id":4897876,"comment_id":30511514,"body_markdown":"@peenut, Java *can* handle BOMs in UTF-16, if you tell it to","body":"@peenut, Java <i>can</i> handle BOMs in UTF-16, if you tell it to"},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":0,"creation_date":1427316498,"post_id":4897876,"comment_id":46734129,"body_markdown":"possible duplicate of [Byte order mark screws up file reading in Java](http://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java\">Byte order mark screws up file reading in Java</a>"},{"owner":{"account_id":3977220,"reputation":81,"user_id":3280109,"display_name":"bernie3280109"},"score":1,"creation_date":1580902132,"post_id":4897876,"comment_id":106248558,"body_markdown":"@tchriist, BOM is a standard - not from MS or Unicode. peenut is right, that the BOM for UTF-16 in xml files is a MUST and UTF-8 BOM in xml file is a may. xml Standard at W3org https://www.w3.org/TR/xml/#charencoding. The methods for autodetection of the BOM is a none normative standard. Section &gt;F Autodetection of Character Encodings (Non-Normative)&lt;","body":"@tchriist, BOM is a standard - not from MS or Unicode. peenut is right, that the BOM for UTF-16 in xml files is a MUST and UTF-8 BOM in xml file is a may. xml Standard at W3org <a href=\"https://www.w3.org/TR/xml/#charencoding\" rel=\"nofollow noreferrer\">w3.org/TR/xml/#charencoding</a>. The methods for autodetection of the BOM is a none normative standard. Section &gt;F Autodetection of Character Encodings (Non-Normative)&lt;"}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1683165106,"creation_date":1296822723,"answer_id":4897993,"question_id":4897876,"body_markdown":"In Java, you have to consume manually the UTF8 BOM if present. This behaviour is documented in the Java bug database, [here][1] and [here][2]. There will be no fix for now because it will break existing tools like JavaDoc or XML parsers. The [Apache IO Commons][3] provides a `BOMInputStream` to handle this situation.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4508058\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6378911\r\n  [3]: https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/input/BOMInputStream.html\r\n  [4]: http://www.rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html","title":"Reading UTF-8 - BOM marker","body":"<p>In Java, you have to consume manually the UTF8 BOM if present. This behaviour is documented in the Java bug database, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4508058\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6378911\" rel=\"nofollow noreferrer\">here</a>. There will be no fix for now because it will break existing tools like JavaDoc or XML parsers. The <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/input/BOMInputStream.html\" rel=\"nofollow noreferrer\">Apache IO Commons</a> provides a <code>BOMInputStream</code> to handle this situation.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1296822736,"creation_date":1296822736,"answer_id":4897995,"question_id":4897876,"body_markdown":"The easiest fix is probably just to remove the resulting `\\uFEFF` from the string, since it is extremely unlikely to appear for any other reason.\r\n\r\n    tmp = tmp.replace(&quot;\\uFEFF&quot;, &quot;&quot;);\r\n\r\nAlso see [this Guava bug report](http://code.google.com/p/guava-libraries/issues/detail?id=345&amp;colspec=ID%20Type%20Status%20Milestone%20Summary)","title":"Reading UTF-8 - BOM marker","body":"<p>The easiest fix is probably just to remove the resulting <code>\\uFEFF</code> from the string, since it is extremely unlikely to appear for any other reason.</p>\n\n<pre><code>tmp = tmp.replace(\"\\uFEFF\", \"\");\n</code></pre>\n\n<p>Also see <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=345&amp;colspec=ID%20Type%20Status%20Milestone%20Summary\">this Guava bug report</a></p>\n"},{"tags":[],"owner":{"account_id":276404,"reputation":3376,"user_id":569814,"accept_rate":60,"display_name":"peenut"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1427319188,"creation_date":1356085614,"answer_id":13988345,"question_id":4897876,"body_markdown":"Use the [Apache Commons library][1].\r\n\r\nClass: [`org.apache.commons.io.input.BOMInputStream`][2]\r\n\r\nExample usage:\r\n\r\n    String defaultEncoding = &quot;UTF-8&quot;;\r\n    InputStream inputStream = new FileInputStream(someFileWithPossibleUtf8Bom);\r\n    try {\r\n    \tBOMInputStream bOMInputStream = new BOMInputStream(inputStream);\r\n    \tByteOrderMark bom = bOMInputStream.getBOM();\r\n    \tString charsetName = bom == null ? defaultEncoding : bom.getCharsetName();\r\n    \tInputStreamReader reader = new InputStreamReader(new BufferedInputStream(bOMInputStream), charsetName);\r\n    \t//use reader\r\n    } finally {\r\n    \tinputStream.close();\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/io/\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/input/BOMInputStream.html","title":"Reading UTF-8 - BOM marker","body":"<p>Use the <a href=\"https://commons.apache.org/io/\" rel=\"noreferrer\">Apache Commons library</a>.</p>\n\n<p>Class: <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/input/BOMInputStream.html\" rel=\"noreferrer\"><code>org.apache.commons.io.input.BOMInputStream</code></a></p>\n\n<p>Example usage:</p>\n\n<pre><code>String defaultEncoding = \"UTF-8\";\nInputStream inputStream = new FileInputStream(someFileWithPossibleUtf8Bom);\ntry {\n    BOMInputStream bOMInputStream = new BOMInputStream(inputStream);\n    ByteOrderMark bom = bOMInputStream.getBOM();\n    String charsetName = bom == null ? defaultEncoding : bom.getCharsetName();\n    InputStreamReader reader = new InputStreamReader(new BufferedInputStream(bOMInputStream), charsetName);\n    //use reader\n} finally {\n    inputStream.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5113443,"reputation":195,"user_id":4099398,"display_name":"snakedoctor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1464344018,"creation_date":1464204358,"answer_id":37445972,"question_id":4897876,"body_markdown":"Here&#39;s how I use the Apache BOMInputStream, it uses a try-with-resources block. The &quot;false&quot; argument tells the object to ignore the following BOMs (we use &quot;BOM-less&quot; text files for safety reasons, haha):\r\n\r\n    try( BufferedReader br = new BufferedReader( \r\n        new InputStreamReader( new BOMInputStream( new FileInputStream(\r\n           file), false, ByteOrderMark.UTF_8,\r\n            ByteOrderMark.UTF_16BE, ByteOrderMark.UTF_16LE,\r\n            ByteOrderMark.UTF_32BE, ByteOrderMark.UTF_32LE ) ) ) )\r\n    {\r\n        // use br here\r\n\r\n    } catch( Exception e)\r\n\r\n    }\r\n\r\n","title":"Reading UTF-8 - BOM marker","body":"<p>Here's how I use the Apache BOMInputStream, it uses a try-with-resources block. The \"false\" argument tells the object to ignore the following BOMs (we use \"BOM-less\" text files for safety reasons, haha):</p>\n\n<pre><code>try( BufferedReader br = new BufferedReader( \n    new InputStreamReader( new BOMInputStream( new FileInputStream(\n       file), false, ByteOrderMark.UTF_8,\n        ByteOrderMark.UTF_16BE, ByteOrderMark.UTF_16LE,\n        ByteOrderMark.UTF_32BE, ByteOrderMark.UTF_32LE ) ) ) )\n{\n    // use br here\n\n} catch( Exception e)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3316640,"reputation":494,"user_id":2788862,"display_name":"Drake Sobania"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488149030,"creation_date":1488149030,"answer_id":42475151,"question_id":4897876,"body_markdown":"It&#39;s mentioned [here][1] that this is usually a problem with files on Windows.\n\nOne possible solution would be running the file through a tool like dos2unix first.\n\n\n  [1]: https://unix.stackexchange.com/questions/338836/awk-with-bom-is-there-any-cool-way-to-handle-unicode-bom-with-regexp/338930","title":"Reading UTF-8 - BOM marker","body":"<p>It's mentioned <a href=\"https://unix.stackexchange.com/questions/338836/awk-with-bom-is-there-any-cool-way-to-handle-unicode-bom-with-regexp/338930\">here</a> that this is usually a problem with files on Windows.</p>\n\n<p>One possible solution would be running the file through a tool like dos2unix first.</p>\n"},{"tags":[],"owner":{"account_id":11234953,"reputation":81,"user_id":8241492,"display_name":"pawman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498925268,"creation_date":1498922533,"answer_id":44862536,"question_id":4897876,"body_markdown":"Use [Apache Commons IO][1].\r\n\r\nFor example, let&#39;s take a look on my code (used for reading a text file with both latin and cyrillic characters) below:\r\n\r\n    String defaultEncoding = &quot;UTF-16&quot;;\r\n    InputStream inputStream = new FileInputStream(new File(&quot;/temp/1.txt&quot;));\r\n\r\n    BOMInputStream bomInputStream = new BOMInputStream(inputStream);\r\n    \r\n    ByteOrderMark bom = bomInputStream.getBOM();\r\n    String charsetName = bom == null ? defaultEncoding : bom.getCharsetName();\r\n    InputStreamReader reader = new InputStreamReader(new BufferedInputStream(bomInputStream), charsetName);\r\n    int data = reader.read();\r\n    while (data != -1) {\r\n    \r\n     char theChar = (char) data;\r\n     data = reader.read();\r\n     ari.add(Character.toString(theChar));\r\n    }\r\n    reader.close();\r\n\r\nAs a result we have an ArrayList named &quot;ari&quot; with all characters from file &quot;1.txt&quot; excepting BOM.\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-io/download_io.cgi","title":"Reading UTF-8 - BOM marker","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-io/download_io.cgi\" rel=\"noreferrer\">Apache Commons IO</a>.</p>\n\n<p>For example, let's take a look on my code (used for reading a text file with both latin and cyrillic characters) below:</p>\n\n<pre><code>String defaultEncoding = \"UTF-16\";\nInputStream inputStream = new FileInputStream(new File(\"/temp/1.txt\"));\n\nBOMInputStream bomInputStream = new BOMInputStream(inputStream);\n\nByteOrderMark bom = bomInputStream.getBOM();\nString charsetName = bom == null ? defaultEncoding : bom.getCharsetName();\nInputStreamReader reader = new InputStreamReader(new BufferedInputStream(bomInputStream), charsetName);\nint data = reader.read();\nwhile (data != -1) {\n\n char theChar = (char) data;\n data = reader.read();\n ari.add(Character.toString(theChar));\n}\nreader.close();\n</code></pre>\n\n<p>As a result we have an ArrayList named \"ari\" with all characters from file \"1.txt\" excepting BOM.</p>\n"},{"tags":[],"owner":{"account_id":10957959,"reputation":11,"user_id":8052131,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508999149,"creation_date":1508999149,"answer_id":46947202,"question_id":4897876,"body_markdown":"The easiest way I found to bypass BOM\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(fis));    \r\n    while ((currentLine = br.readLine()) != null) {\r\n\t\t\t\t\t\t//case of, remove the BOM of UTF-8 BOM\r\n\t\t\t\t\t\tcurrentLine = currentLine.replace(&quot;&#239;&#187;&#191;&quot;,&quot;&quot;);","title":"Reading UTF-8 - BOM marker","body":"<p>The easiest way I found to bypass BOM</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(fis));    \nwhile ((currentLine = br.readLine()) != null) {\n                    //case of, remove the BOM of UTF-8 BOM\n                    currentLine = currentLine.replace(\"ï»¿\",\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1666277612,"creation_date":1518447826,"answer_id":48749396,"question_id":4897876,"body_markdown":"Consider [UnicodeReader][1] from Google which does all this work for you.\r\n\r\n    Charset utf8 = StandardCharsets.UTF_8;  // default if no BOM present\r\n    try (Reader r = new UnicodeReader(new FileInputStream(file), utf8.name())) {\r\n        ....\r\n    }\r\n\r\n\r\nMaven Dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.47.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/google/gdata-java-client/blob/master/java/src/com/google/gdata/util/io/base/UnicodeReader.java","title":"Reading UTF-8 - BOM marker","body":"<p>Consider <a href=\"https://github.com/google/gdata-java-client/blob/master/java/src/com/google/gdata/util/io/base/UnicodeReader.java\" rel=\"nofollow noreferrer\">UnicodeReader</a> from Google which does all this work for you.</p>\n<pre><code>Charset utf8 = StandardCharsets.UTF_8;  // default if no BOM present\ntry (Reader r = new UnicodeReader(new FileInputStream(file), utf8.name())) {\n    ....\n}\n</code></pre>\n<p>Maven Dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;1.47.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15570557,"reputation":31,"user_id":11233136,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553101827,"creation_date":1553097808,"answer_id":55265235,"question_id":4897876,"body_markdown":"If somebody wants to do it with the standard, this would be a way:\r\n&lt;!-- language: java --&gt;\r\n\r\n\tpublic static String cutBOM(String value) {\r\n\t\t// UTF-8 BOM is EF BB BF, see https://en.wikipedia.org/wiki/Byte_order_mark\r\n\t\tString bom = String.format(&quot;%x&quot;, new BigInteger(1, value.substring(0,3).getBytes()));\r\n\t\tif (bom.equals(&quot;efbbbf&quot;))\r\n\t\t\t// UTF-8\r\n\t\t\treturn value.substring(3, value.length());\r\n\t\telse if (bom.substring(0, 2).equals(&quot;feff&quot;) || bom.substring(0, 2).equals(&quot;ffe&quot;))\r\n\t\t\t// UTF-16BE or UTF16-LE\r\n\t\t\treturn value.substring(2, value.length());\r\n\t\telse\r\n\t\t\treturn value;\r\n\t}","title":"Reading UTF-8 - BOM marker","body":"<p>If somebody wants to do it with the standard, this would be a way:\n</p>\n\n<pre><code>public static String cutBOM(String value) {\n    // UTF-8 BOM is EF BB BF, see https://en.wikipedia.org/wiki/Byte_order_mark\n    String bom = String.format(\"%x\", new BigInteger(1, value.substring(0,3).getBytes()));\n    if (bom.equals(\"efbbbf\"))\n        // UTF-8\n        return value.substring(3, value.length());\n    else if (bom.substring(0, 2).equals(\"feff\") || bom.substring(0, 2).equals(\"ffe\"))\n        // UTF-16BE or UTF16-LE\n        return value.substring(2, value.length());\n    else\n        return value;\n}\n</code></pre>\n"}],"owner":{"account_id":67291,"reputation":4770,"user_id":196963,"accept_rate":83,"display_name":"onigunn"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105823,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":4897993,"answer_count":9,"score":93,"last_activity_date":1683165106,"creation_date":1296821917,"question_id":4897876,"body_markdown":"I&#39;m reading a file through a FileReader - the file is UTF-8 decoded (with BOM) now my problem is: I read the file and output a string, but sadly the BOM marker is outputted too. Why this occurs?\r\n\r\n    fr = new FileReader(file);\r\n    br = new BufferedReader(fr);\r\n    \tString tmp = null;\r\n    \twhile ((tmp = br.readLine()) != null) {\r\n    \tString text;\t\r\n        text = new String(tmp.getBytes(), &quot;UTF-8&quot;);\r\n    \tcontent += text + System.getProperty(&quot;line.separator&quot;);\r\n    }\r\n\r\noutput after first line\r\n\r\n    ?&lt;style&gt;","title":"Reading UTF-8 - BOM marker","body":"<p>I'm reading a file through a FileReader - the file is UTF-8 decoded (with BOM) now my problem is: I read the file and output a string, but sadly the BOM marker is outputted too. Why this occurs?</p>\n\n<pre><code>fr = new FileReader(file);\nbr = new BufferedReader(fr);\n    String tmp = null;\n    while ((tmp = br.readLine()) != null) {\n    String text;    \n    text = new String(tmp.getBytes(), \"UTF-8\");\n    content += text + System.getProperty(\"line.separator\");\n}\n</code></pre>\n\n<p>output after first line</p>\n\n<pre><code>?&lt;style&gt;\n</code></pre>\n"},{"tags":["java","string","character-encoding","ascii"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1282918902,"creation_date":1282918902,"answer_id":3585079,"question_id":3585053,"body_markdown":"Iterate through the string, and use charAt() to get the char.  Then treat it as an int, and see if it has a unicode value (a superset of ASCII) which you like.\r\n\r\nBreak at the first you don&#39;t like.","title":"How to check if a String contains only ASCII?","body":"<p>Iterate through the string, and use charAt() to get the char.  Then treat it as an int, and see if it has a unicode value (a superset of ASCII) which you like.</p>\n\n<p>Break at the first you don't like.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":2,"up_vote_count":139,"is_accepted":true,"score":137,"last_activity_date":1542134739,"creation_date":1282918938,"answer_id":3585089,"question_id":3585053,"body_markdown":"From [Guava][1] 19.0 onward, you may use:\r\n\r\n    boolean isAscii = CharMatcher.ascii().matchesAllOf(someString);\r\n\r\nThis uses the [`matchesAllOf(someString)`][2] method which relies on the factory method [`ascii()`][3] rather than the now deprecated `ASCII` singleton.\r\n\r\nHere ASCII includes all ASCII characters *including* the non-printable characters lower than `0x20` (space) such as tabs, line-feed / return but also `BEL` with code `0x07` and `DEL` with code `0x7F`.\r\n\r\nThis code incorrectly uses characters rather than code points, even if code points are indicated in the comments of earlier versions. Fortunately, the characters required to create code point with a value of `U+010000` or over uses two surrogate characters with a value outside of the ASCII range. So the method still succeeds in testing for ASCII, even for strings containing emoji&#39;s.\r\n\r\nFor earlier Guava versions without the `ascii()` method you may write:\r\n\r\n    boolean isAscii = CharMatcher.ASCII.matchesAllOf(someString);\r\n\r\n[1]: http://code.google.com/p/guava-libraries/\r\n[2]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/CharMatcher.html#matchesAllOf(java.lang.CharSequence)\r\n[3]: http://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/CharMatcher.html#ascii()","title":"How to check if a String contains only ASCII?","body":"<p>From <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> 19.0 onward, you may use:</p>\n\n<pre><code>boolean isAscii = CharMatcher.ascii().matchesAllOf(someString);\n</code></pre>\n\n<p>This uses the <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/CharMatcher.html#matchesAllOf(java.lang.CharSequence)\" rel=\"noreferrer\"><code>matchesAllOf(someString)</code></a> method which relies on the factory method <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/CharMatcher.html#ascii()\" rel=\"noreferrer\"><code>ascii()</code></a> rather than the now deprecated <code>ASCII</code> singleton.</p>\n\n<p>Here ASCII includes all ASCII characters <em>including</em> the non-printable characters lower than <code>0x20</code> (space) such as tabs, line-feed / return but also <code>BEL</code> with code <code>0x07</code> and <code>DEL</code> with code <code>0x7F</code>.</p>\n\n<p>This code incorrectly uses characters rather than code points, even if code points are indicated in the comments of earlier versions. Fortunately, the characters required to create code point with a value of <code>U+010000</code> or over uses two surrogate characters with a value outside of the ASCII range. So the method still succeeds in testing for ASCII, even for strings containing emoji's.</p>\n\n<p>For earlier Guava versions without the <code>ascii()</code> method you may write:</p>\n\n<pre><code>boolean isAscii = CharMatcher.ASCII.matchesAllOf(someString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":1,"up_vote_count":130,"is_accepted":false,"score":129,"last_activity_date":1683165016,"creation_date":1282919864,"answer_id":3585247,"question_id":3585053,"body_markdown":"You can do it with  [java.nio.charset.Charset][1].\r\n\r\n    import java.nio.charset.Charset;\r\n    \r\n    public class StringUtils {\r\n      \r\n      public static boolean isPureAscii(String v) {\r\n        return Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(v);\r\n        // or &quot;ISO-8859-1&quot; for ISO Latin 1\r\n        // or StandardCharsets.US_ASCII with JDK1.7+\r\n      }\r\n    \r\n      public static void main (String args[])\r\n        throws Exception {\r\n    \r\n         String test = &quot;R&#233;al&quot;;\r\n         System.out.println(test + &quot; isPureAscii() : &quot; + StringUtils.isPureAscii(test));\r\n         test = &quot;Real&quot;;\r\n         System.out.println(test + &quot; isPureAscii() : &quot; + StringUtils.isPureAscii(test));\r\n         \r\n         /*\r\n          * output :\r\n          *   R&#233;al isPureAscii() : false\r\n          *   Real isPureAscii() : true\r\n          */\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html","title":"How to check if a String contains only ASCII?","body":"<p>You can do it with  <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">java.nio.charset.Charset</a>.</p>\n<pre><code>import java.nio.charset.Charset;\n\npublic class StringUtils {\n  \n  public static boolean isPureAscii(String v) {\n    return Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(v);\n    // or &quot;ISO-8859-1&quot; for ISO Latin 1\n    // or StandardCharsets.US_ASCII with JDK1.7+\n  }\n\n  public static void main (String args[])\n    throws Exception {\n\n     String test = &quot;Réal&quot;;\n     System.out.println(test + &quot; isPureAscii() : &quot; + StringUtils.isPureAscii(test));\n     test = &quot;Real&quot;;\n     System.out.println(test + &quot; isPureAscii() : &quot; + StringUtils.isPureAscii(test));\n     \n     /*\n      * output :\n      *   Réal isPureAscii() : false\n      *   Real isPureAscii() : true\n      */\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1643038589,"creation_date":1282920050,"answer_id":3585284,"question_id":3585053,"body_markdown":"Here is another way not depending on a library but using a regex.\r\n\r\nYou can use this single line:\r\n\r\n    text.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;)\r\n\r\nWhole example program:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tchar nonAscii = 0x00FF;\r\n    \t\tString asciiText = &quot;Hello&quot;;\r\n    \t\tString nonAsciiText = &quot;Buy: &quot; + nonAscii;\r\n    \t\tSystem.out.println(asciiText.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;));\r\n    \t\tSystem.out.println(nonAsciiText.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;));\r\n    \t}\r\n    }\r\n\r\nUnderstanding the regex :&lt;br&gt;\r\n* li `\\\\A` : Beginning of input\r\n* `\\\\p{ASCII}` : Any ASCII character\r\n* `*` : all repetitions\r\n* `\\\\z` : End of input\r\n\r\n","title":"How to check if a String contains only ASCII?","body":"<p>Here is another way not depending on a library but using a regex.</p>\n<p>You can use this single line:</p>\n<pre><code>text.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;)\n</code></pre>\n<p>Whole example program:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        char nonAscii = 0x00FF;\n        String asciiText = &quot;Hello&quot;;\n        String nonAsciiText = &quot;Buy: &quot; + nonAscii;\n        System.out.println(asciiText.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;));\n        System.out.println(nonAsciiText.matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;));\n    }\n}\n</code></pre>\n<p>Understanding the regex :<br></p>\n<ul>\n<li>li <code>\\\\A</code> : Beginning of input</li>\n<li><code>\\\\p{ASCII}</code> : Any ASCII character</li>\n<li><code>*</code> : all repetitions</li>\n<li><code>\\\\z</code> : End of input</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":56534,"reputation":85018,"user_id":169346,"display_name":"JeremyP"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1282923443,"creation_date":1282923443,"answer_id":3585791,"question_id":3585053,"body_markdown":"Iterate through the string and make sure all the characters have a value less than 128.\r\n\r\nJava Strings are conceptually encoded as UTF-16.  In UTF-16, the ASCII character set is encoded as the values 0 - 127 and the encoding for any non ASCII character (which may consist of more than one Java char) is guaranteed not to include the numbers 0 - 127","title":"How to check if a String contains only ASCII?","body":"<p>Iterate through the string and make sure all the characters have a value less than 128.</p>\n\n<p>Java Strings are conceptually encoded as UTF-16.  In UTF-16, the ASCII character set is encoded as the values 0 - 127 and the encoding for any non ASCII character (which may consist of more than one Java char) is guaranteed not to include the numbers 0 - 127</p>\n"},{"tags":[],"owner":{"account_id":1298254,"reputation":2903,"user_id":1248724,"accept_rate":67,"display_name":"Zarathustra"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1356682499,"creation_date":1356682499,"answer_id":14066594,"question_id":3585053,"body_markdown":"Or you copy the code from the [IDN][1] class.\r\n\r\n    // to check if a string only contains US-ASCII code point\r\n    //\r\n    private static boolean isAllASCII(String input) {\r\n        boolean isASCII = true;\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            int c = input.charAt(i);\r\n            if (c &gt; 0x7F) {\r\n                isASCII = false;\r\n                break;\r\n            }\r\n        }\r\n        return isASCII;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html","title":"How to check if a String contains only ASCII?","body":"<p>Or you copy the code from the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html\" rel=\"noreferrer\">IDN</a> class.</p>\n\n<pre><code>// to check if a string only contains US-ASCII code point\n//\nprivate static boolean isAllASCII(String input) {\n    boolean isASCII = true;\n    for (int i = 0; i &lt; input.length(); i++) {\n        int c = input.charAt(i);\n        if (c &gt; 0x7F) {\n            isASCII = false;\n            break;\n        }\n    }\n    return isASCII;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2314155,"reputation":101,"user_id":2031556,"display_name":"pforyogurt"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1382997763,"creation_date":1382997763,"answer_id":19645907,"question_id":3585053,"body_markdown":"try this:\r\n\r\n    for (char c: string.toCharArray()){\r\n      if (((int)c)&gt;127){\r\n        return false;\r\n      } \r\n    }\r\n    return true;","title":"How to check if a String contains only ASCII?","body":"<p>try this:</p>\n\n<pre><code>for (char c: string.toCharArray()){\n  if (((int)c)&gt;127){\n    return false;\n  } \n}\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4439784,"reputation":1,"user_id":3614583,"display_name":"user3614583"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423957644,"creation_date":1422515354,"answer_id":28208862,"question_id":3585053,"body_markdown":"It was possible. Pretty problem.\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetEncoder;\r\n    \r\n    public class EncodingTest {\r\n    \r\n    \tstatic CharsetEncoder asciiEncoder = Charset.forName(&quot;US-ASCII&quot;)\r\n    \t\t\t.newEncoder();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString testStr = &quot;&#164;E&#192;s&#198;W&#176;&#234;&#187;&#218;&#174;i&#182;T&#164;&#164;&#164;&#223;3&#188;&#211;&#174;i&#182;T&#198;U2~~KITEC 3/F Rotunda 2&quot;;\r\n    \t\tString[] strArr = testStr.split(&quot;~~&quot;, 2);\r\n    \t\tint count = 0;\r\n    \t\tboolean encodeFlag = false;\r\n    \r\n    \t\tdo {\r\n    \t\t\tencodeFlag = asciiEncoderTest(strArr[count]);\r\n    \t\t\tSystem.out.println(encodeFlag);\r\n    \t\t\tcount++;\r\n    \t\t} while (count &lt; strArr.length);\r\n    \t}\r\n    \r\n    \tpublic static boolean asciiEncoderTest(String test) {\r\n    \t\tboolean encodeFlag = false;\r\n    \t\ttry {\r\n    \t\t\tencodeFlag = asciiEncoder.canEncode(new String(test\r\n    \t\t\t\t\t.getBytes(&quot;ISO8859_1&quot;), &quot;BIG5&quot;));\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn encodeFlag;\r\n    \t}\r\n    }","title":"How to check if a String contains only ASCII?","body":"<p>It was possible. Pretty problem.</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetEncoder;\n\npublic class EncodingTest {\n\n    static CharsetEncoder asciiEncoder = Charset.forName(\"US-ASCII\")\n            .newEncoder();\n\n    public static void main(String[] args) {\n\n        String testStr = \"¤EÀsÆW°ê»Ú®i¶T¤¤¤ß3¼Ó®i¶TÆU2~~KITEC 3/F Rotunda 2\";\n        String[] strArr = testStr.split(\"~~\", 2);\n        int count = 0;\n        boolean encodeFlag = false;\n\n        do {\n            encodeFlag = asciiEncoderTest(strArr[count]);\n            System.out.println(encodeFlag);\n            count++;\n        } while (count &lt; strArr.length);\n    }\n\n    public static boolean asciiEncoderTest(String test) {\n        boolean encodeFlag = false;\n        try {\n            encodeFlag = asciiEncoder.canEncode(new String(test\n                    .getBytes(\"ISO8859_1\"), \"BIG5\"));\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return encodeFlag;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1431260,"reputation":649,"user_id":1353644,"accept_rate":75,"display_name":"Lukas Greblikas"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1423955581,"creation_date":1423955581,"answer_id":28521340,"question_id":3585053,"body_markdown":"    //return is uppercase or lowercase\r\n    public boolean isASCIILetter(char c) {\r\n      return (c &gt; 64 &amp;&amp; c &lt; 91) || (c &gt; 96 &amp;&amp; c &lt; 123);\r\n    }","title":"How to check if a String contains only ASCII?","body":"<pre><code>//return is uppercase or lowercase\npublic boolean isASCIILetter(char c) {\n  return (c &gt; 64 &amp;&amp; c &lt; 91) || (c &gt; 96 &amp;&amp; c &lt; 123);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1436821584,"creation_date":1436813048,"answer_id":31391067,"question_id":3585053,"body_markdown":"commons-lang3 from Apache contains valuable utility/convenience methods for all kinds of &#39;problems&#39;,  including this one. \r\n\r\n    System.out.println(StringUtils.isAsciiPrintable(&quot;!@&#163;$%^&amp;!@&#163;$%^&quot;));\r\n","title":"How to check if a String contains only ASCII?","body":"<p>commons-lang3 from Apache contains valuable utility/convenience methods for all kinds of 'problems',  including this one. </p>\n\n<pre><code>System.out.println(StringUtils.isAsciiPrintable(\"!@£$%^&amp;!@£$%^\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4221128,"reputation":728,"user_id":3455897,"accept_rate":46,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1474899198,"creation_date":1474899198,"answer_id":39705224,"question_id":3585053,"body_markdown":"    private static boolean isASCII(String s) \r\n    {\r\n        for (int i = 0; i &lt; s.length(); i++) \r\n            if (s.charAt(i) &gt; 127) \r\n                return false;\r\n        return true;\r\n    }\r\n","title":"How to check if a String contains only ASCII?","body":"<pre><code>private static boolean isASCII(String s) \n{\n    for (int i = 0; i &lt; s.length(); i++) \n        if (s.charAt(i) &gt; 127) \n            return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4089332,"reputation":147,"user_id":3357788,"display_name":"mike oganyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560382561,"creation_date":1560382561,"answer_id":56571607,"question_id":3585053,"body_markdown":"This will return true if String only contains ASCII characters and false when it does not \r\n\r\n    Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(str)\r\n\r\nIf You want to remove non ASCII , here is the snippet:\r\n\r\n    if(!Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(str)) {\r\n                            str = str.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n                        }","title":"How to check if a String contains only ASCII?","body":"<p>This will return true if String only contains ASCII characters and false when it does not </p>\n\n<pre><code>Charset.forName(\"US-ASCII\").newEncoder().canEncode(str)\n</code></pre>\n\n<p>If You want to remove non ASCII , here is the snippet:</p>\n\n<pre><code>if(!Charset.forName(\"US-ASCII\").newEncoder().canEncode(str)) {\n                        str = str.replaceAll(\"[^\\\\p{ASCII}]\", \"\");\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620765286,"creation_date":1620765286,"answer_id":67493980,"question_id":3585053,"body_markdown":"In Java 8 and above, one can use [`String#codePoints`](https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--) in conjunction with [`IntStream#allMatch`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#allMatch-java.util.function.IntPredicate-).\r\n\r\n```\r\nboolean allASCII = str.codePoints().allMatch(c -&gt; c &lt; 128);\r\n```","title":"How to check if a String contains only ASCII?","body":"<p>In Java 8 and above, one can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"nofollow noreferrer\"><code>String#codePoints</code></a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#allMatch-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>IntStream#allMatch</code></a>.</p>\n<pre><code>boolean allASCII = str.codePoints().allMatch(c -&gt; c &lt; 128);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177236,"reputation":1539,"user_id":2631304,"accept_rate":70,"display_name":"steven smith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634937694,"creation_date":1634937694,"answer_id":69683189,"question_id":3585053,"body_markdown":"In Kotlin:\r\n\r\n    fun String.isAsciiString() : Boolean =\r\n        this.toCharArray().none { it &lt; &#39; &#39; || it &gt; &#39;~&#39; }\r\n\r\n","title":"How to check if a String contains only ASCII?","body":"<p>In Kotlin:</p>\n<pre><code>fun String.isAsciiString() : Boolean =\n    this.toCharArray().none { it &lt; ' ' || it &gt; '~' }\n</code></pre>\n"}],"owner":{"account_id":190585,"reputation":1443,"user_id":430657,"display_name":"TambourineMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135857,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":3585089,"answer_count":14,"score":144,"last_activity_date":1683165016,"creation_date":1282918750,"question_id":3585053,"body_markdown":"The call `Character.isLetter(c)` returns `true` if the character is a letter. But is there a way to quickly find if a `String` only contains the base characters of ASCII?\r\n","title":"How to check if a String contains only ASCII?","body":"<p>The call <code>Character.isLetter(c)</code> returns <code>true</code> if the character is a letter. But is there a way to quickly find if a <code>String</code> only contains the base characters of ASCII?</p>\n"},{"tags":["java","maven","networking","firewall"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683165342,"post_id":76168868,"comment_id":134325956,"body_markdown":"Probably a connectivity problem from the server/vm.","body":"Probably a connectivity problem from the server/vm."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1683190317,"post_id":76168868,"comment_id":134329426,"body_markdown":"Firewall in between?","body":"Firewall in between?"}],"owner":{"account_id":28113700,"reputation":1,"user_id":21481108,"display_name":"Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683163235,"creation_date":1683161623,"question_id":76168868,"body_markdown":"I’m not able to download the maven dependencies in one of the linux server(lets say A), it got stuck at downloading and same is working in another linux VM(lets say B). It got stuck at below - \r\n`Downloading from central: https://repo.maven.apache.org/maven2/com/distra/switch/plugins/cartridge-validation/5.0.3-11-1/cartridge-validation-5.0.3-11-1.pom`\r\n\r\nI&#39;m exporting below variables -\r\n`export MAVAN_HOME=&quot;/apps/workspace/tools/apache-maven-3.8.6&quot;\r\nexport JAVA_HOME=&quot;$(jrunscript -e &#39;java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));&#39;)&quot;\r\nexport PATH=&quot;${PATH}:/apps/workspace/tools/apache-maven-3.8.6/bin:$JAVA_HOME&quot;`\r\n\r\nMy A VM should be able to download maven dependencies like B.\r\n\r\n    mvn --version\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: /apps/apache-maven-3.8.6\r\n    Java version: 11.0.16, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.el8_6.x86_64\r\n    Default locale: en, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;4.18.0-372.19.1.el8_6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot; ","title":"Not able to download maven dependencies in one linux server but in another linux server it&#39;s working fine","body":"<p>I’m not able to download the maven dependencies in one of the linux server(lets say A), it got stuck at downloading and same is working in another linux VM(lets say B). It got stuck at below -\n<code>Downloading from central: https://repo.maven.apache.org/maven2/com/distra/switch/plugins/cartridge-validation/5.0.3-11-1/cartridge-validation-5.0.3-11-1.pom</code></p>\n<p>I'm exporting below variables -\n<code>export MAVAN_HOME=&quot;/apps/workspace/tools/apache-maven-3.8.6&quot; export JAVA_HOME=&quot;$(jrunscript -e 'java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));')&quot; export PATH=&quot;${PATH}:/apps/workspace/tools/apache-maven-3.8.6/bin:$JAVA_HOME&quot;</code></p>\n<p>My A VM should be able to download maven dependencies like B.</p>\n<pre><code>mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /apps/apache-maven-3.8.6\nJava version: 11.0.16, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.el8_6.x86_64\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;4.18.0-372.19.1.el8_6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot; \n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1683125331,"post_id":76165109,"comment_id":134319042,"body_markdown":"If the class name for the selector you are using has space you&#39;ll get the above error  , Replace the spaces with . \nfor e.g. &quot;class class-a&quot; with &quot;.class.class-a","body":"If the class name for the selector you are using has space you&#39;ll get the above error  , Replace the spaces with .  for e.g. &quot;class class-a&quot; with &quot;.class.class-a"}],"owner":{"account_id":2701581,"reputation":111,"user_id":2332195,"display_name":"user2332195"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683162190,"creation_date":1683124704,"question_id":76165109,"body_markdown":"I am upgrading the company automation framework from `3.x` to `4.8.1`\r\nFYI: The automation framework has been running for couple years and it is stable and functional\r\n\r\nI see the following\r\n\r\nAny idea what is the reason for the error?\r\n````\r\nCompound class names not permitted\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;14&#39;\r\nDriver info: driver.version: unknown\r\nnull\r\norg.openqa.selenium.InvalidSelectorException: Compound class names not permitted\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;14&#39;\r\nDriver info: driver.version: unknown\r\nat org.openqa.selenium.By$ByClassName.\\&lt;init\\&gt;(By.java:310)\r\nat org.openqa.selenium.By.className(By.java:100)\r\nat org.openqa.selenium.support.AbstractFindByBuilder.buildByFromShortFindBy(AbstractFindByBuilder.java:43)\r\nat org.openqa.selenium.support.FindBy$FindByBuilder.buildIt(FindBy.java:85)\r\nat org.openqa.selenium.support.pagefactory.Annotations.buildBy(Annotations.java:79)\r\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.\\&lt;init\\&gt;(DefaultElementLocator.java:58)\r\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.\\&lt;init\\&gt;(DefaultElementLocator.java:46)\r\nat org.openqa.selenium.support.pagefactory.DefaultElementLocatorFactory.createLocator(DefaultElementLocatorFactory.java:33)\r\nat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:57)\r\nat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\r\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\r\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:90)\r\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:78)\r\nat pages.MCDashboardPage.\\&lt;init\\&gt;(MCDashboardPage.java:439)\r\nat tests.MCOffenderIntakeTests.testAddNewOffender(MCOffenderIntakeTests.java:444)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\r\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\r\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\r\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\r\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\r\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\nat org.testng.TestRunner.run(TestRunner.java:585)\r\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\nat org.testng.SuiteRunner.access$`your text`000(SuiteRunner.java:28)\r\nat org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:425)\r\nat org.testng.internal.thread.ThreadUtil.lambda$execute$0(ThreadUtil.java:66)\r\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\nat java.base/java.lang.Thread.run(Thread.java:832)\r\nTest Case: testAddNewOffender COMPLETE\r\n````","title":"Upgrading from Selenium 3 to Selenium 4 generates Compound class names not permitted","body":"<p>I am upgrading the company automation framework from <code>3.x</code> to <code>4.8.1</code>\nFYI: The automation framework has been running for couple years and it is stable and functional</p>\n<p>I see the following</p>\n<p>Any idea what is the reason for the error?</p>\n<pre><code>Compound class names not permitted\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '14'\nDriver info: driver.version: unknown\nnull\norg.openqa.selenium.InvalidSelectorException: Compound class names not permitted\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '14'\nDriver info: driver.version: unknown\nat org.openqa.selenium.By$ByClassName.\\&lt;init\\&gt;(By.java:310)\nat org.openqa.selenium.By.className(By.java:100)\nat org.openqa.selenium.support.AbstractFindByBuilder.buildByFromShortFindBy(AbstractFindByBuilder.java:43)\nat org.openqa.selenium.support.FindBy$FindByBuilder.buildIt(FindBy.java:85)\nat org.openqa.selenium.support.pagefactory.Annotations.buildBy(Annotations.java:79)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.\\&lt;init\\&gt;(DefaultElementLocator.java:58)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.\\&lt;init\\&gt;(DefaultElementLocator.java:46)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocatorFactory.createLocator(DefaultElementLocatorFactory.java:33)\nat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:57)\nat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:90)\nat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:78)\nat pages.MCDashboardPage.\\&lt;init\\&gt;(MCDashboardPage.java:439)\nat tests.MCOffenderIntakeTests.testAddNewOffender(MCOffenderIntakeTests.java:444)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\nat org.testng.SuiteRunner.access$`your text`000(SuiteRunner.java:28)\nat org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:425)\nat org.testng.internal.thread.ThreadUtil.lambda$execute$0(ThreadUtil.java:66)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\nat java.base/java.lang.Thread.run(Thread.java:832)\nTest Case: testAddNewOffender COMPLETE\n</code></pre>\n"},{"tags":["java","comparator","priority-queue"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683114010,"post_id":76163264,"comment_id":134315966,"body_markdown":"The `ArrayList` never constructs `PriorityQueue` objects for you. You need to pass the comparator to the `PriorityQueue` constructor every time you create a new `PriorityQueue` object.","body":"The <code>ArrayList</code> never constructs <code>PriorityQueue</code> objects for you. You need to pass the comparator to the <code>PriorityQueue</code> constructor every time you create a new <code>PriorityQueue</code> object."},{"owner":{"account_id":28083875,"reputation":81,"user_id":21454529,"display_name":"Allison Chen"},"score":0,"creation_date":1683204630,"post_id":76163264,"comment_id":134332842,"body_markdown":"Why do you use `ArrayList` here? Seems just using `PriorityQueue` is fine.  `PriorityQueue&lt;Integer[]&gt; priorityQueue = new PriorityQueue&lt;&gt;((o1,o2) -&gt; o1[2] - o2[2]);`","body":"Why do you use <code>ArrayList</code> here? Seems just using <code>PriorityQueue</code> is fine.  <code>PriorityQueue&lt;Integer[]&gt; priorityQueue = new PriorityQueue&lt;&gt;((o1,o2) -&gt; o1[2] - o2[2]);</code>"}],"owner":{"account_id":22516952,"reputation":1,"user_id":16711040,"display_name":"Abhijeetkumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683161938,"creation_date":1683113174,"question_id":76163264,"body_markdown":"I want to make the following:  \r\n\r\n    ArrayList of PriorityQueue of Integer[](  \r\n    ArrayList&lt;PrirorityQueue&lt;Integer[]&gt;&gt; )\r\n\r\nBut I am unable to implement Comparator in the constructor area.\r\n```\r\nArrayList&lt;PriorityQueue&lt;Integer[]&gt;&gt; p = new ArrayList&lt;&gt;\r\n((o1,o2) -&gt; o1[2] - o2[2]);\r\n```\r\nI was trying to make an ArrayList of PriorityQueue which contains integer array based on the third index of the integer array. ![enter image description here](https://i.stack.imgur.com/pVqgU.png)\r\n","title":"Implementing comparator in constructor when PriorityQueue is nested","body":"<p>I want to make the following:</p>\n<pre><code>ArrayList of PriorityQueue of Integer[](  \nArrayList&lt;PrirorityQueue&lt;Integer[]&gt;&gt; )\n</code></pre>\n<p>But I am unable to implement Comparator in the constructor area.</p>\n<pre><code>ArrayList&lt;PriorityQueue&lt;Integer[]&gt;&gt; p = new ArrayList&lt;&gt;\n((o1,o2) -&gt; o1[2] - o2[2]);\n</code></pre>\n<p>I was trying to make an ArrayList of PriorityQueue which contains integer array based on the third index of the integer array. <img src=\"https://i.stack.imgur.com/pVqgU.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring-boot","apache-camel","smpp","jsmpp"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1683144489,"post_id":76163850,"comment_id":134323091,"body_markdown":"I would try to use a string with the `;` separator. \nFor instance `String recipientList = &quot;0512345678;0512345679&quot;; `","body":"I would try to use a string with the <code>;</code> separator.  For instance <code>String recipientList = &quot;0512345678;0512345679&quot;; </code>"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1683144522,"post_id":76163850,"comment_id":134323101,"body_markdown":"See https://www.tops.com.pl/en/smscs/manual/usage/receive-multi.html","body":"See <a href=\"https://www.tops.com.pl/en/smscs/manual/usage/receive-multi.html\" rel=\"nofollow noreferrer\">tops.com.pl/en/smscs/manual/usage/receive-multi.html</a>"},{"owner":{"account_id":13086080,"reputation":19,"user_id":9454992,"display_name":"dilip"},"score":0,"creation_date":1683175248,"post_id":76163850,"comment_id":134326784,"body_markdown":"Tried with ; semicolon still same issue","body":"Tried with ; semicolon still same issue"},{"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"score":0,"creation_date":1683216102,"post_id":76163850,"comment_id":134336061,"body_markdown":"Can you try changing ```.setHeader(&quot;CamelSmppDestAddr&quot;, simple(recipientList.toString()))``` to ```.setHeader(&quot;CamelSmppDestAddr&quot;, recipientList)```?\n\nI believe you can set objects directly in header.","body":"Can you try changing <code>.setHeader(&quot;CamelSmppDestAddr&quot;, simple(recipientList.toString()))</code> to <code>.setHeader(&quot;CamelSmppDestAddr&quot;, recipientList)</code>?  I believe you can set objects directly in header."}],"owner":{"account_id":13086080,"reputation":19,"user_id":9454992,"display_name":"dilip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683161891,"creation_date":1683116977,"question_id":76163850,"body_markdown":"I am using following route to send SMS to multiple recipients.\r\n\r\n\r\n```\r\n@Component\r\npublic class SMSRoute extends RouteBuilder{\r\n\t\r\n\tList&lt;String&gt; recipientList = Arrays.asList(&quot;0512345678&quot;,&quot;0512345679&quot;);\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\t\r\n\t\tfrom(&quot;timer://myTimer?period=1000&quot;)\r\n\t\t.setHeader(&quot;CamelSmppDestAddr&quot;, simple(recipientList.toString()))\r\n\t\t.setBody()\r\n        .simple(&quot;Hello World Camel fired at ${header.firedTime}&quot;)\r\n        .to(&quot;smpp://smppclient@{{host}}:{{port}}?password={{password}}&amp;systemId={{systemId}}&amp;&quot;\r\n        \t\t+ &quot;transactionTimer=5000&amp;systemType=70015&quot; \r\n        \t\t+ &quot;&amp;sourceAddr=JAVA&amp;dataCoding=8&amp;encoding=UTF-16BE&amp;alphabet=8&quot;);\r\n        //.to(&quot;stream:out&quot;);\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I try to run this code, camel consider the entire list as single number\r\n\r\n&gt;023-05-03T11:41:43.691+03:00 DEBUG 4032 --- [timer://myTimer] o.a.c.c.smpp.SmppSubmitSmCommand         : Sending short message 0 for exchange id &#39;7C18C829419B90F-0000000000000000&#39;...\r\n2023-05-03T11:41:43.691+03:00 ERROR 4032 --- [timer://myTimer] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 7C18C829419B90F-0000000000000000 on ExchangeId: 7C18C829419B90F-0000000000000000). Exhausted after delivery attempt: 1 caught: org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value &#39;[05********, 05*********]&#39; length must be less than 21. Actual length is 24\r\n \r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route1/route1                  from[timer://myTimer?period=1000]                    1810519390\r\n        ...\r\n                                         route1/to1                     null                                                          0\r\n \r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n \r\n&gt;org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value &#39;[05********, 05*********]&#39; length must be less than 21. Actual length is 24\r\n        at org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:79) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.smpp.SmppProducer.process(SmppProducer.java:181) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[camel-support-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:474) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:164) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:378) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\nCaused by: org.jsmpp.PDUStringException: C-Octet String value &#39;[0571804118, 0505402810]&#39; length must be less than 21. Actual length is 24\r\n        at org.jsmpp.util.StringValidator.validateString(StringValidator.java:42) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.util.DefaultComposer.submitSm(DefaultComposer.java:213) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.DefaultPDUSender.sendSubmitSm(DefaultPDUSender.java:224) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.SynchronizedPDUSender.sendSubmitSm(SynchronizedPDUSender.java:189) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.SubmitSmCommandTask.executeTask(SubmitSmCommandTask.java:86) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.AbstractSession.executeSendCommand(AbstractSession.java:303) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.SMPPSession.submitShortMessage(SMPPSession.java:346) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:59) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        ... 12 common frames omitted\r\n \r\n&gt;2023-05-03T11:41:43.691+03:00  WARN 4032 --- [timer://myTimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[7C18C829419B90F-0000000000000000]. Caused by: [org.apache.camel.component.smpp.SmppException - org.jsmpp.PDUStringException: C-Octet String value &#39;[05********, 05*********]&#39; length must be less than 21. Actual length is 24]\r\n \r\n&gt;org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value &#39;[05********, 05*********]&#39; length must be less than 21. Actual length is 24\r\n        at org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:79) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.smpp.SmppProducer.process(SmppProducer.java:181) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[camel-support-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:474) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:164) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:378) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\r\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\nCaused by: org.jsmpp.PDUStringException: C-Octet String value &#39;[0571804118, 0505402810]&#39; length must be less than 21. Actual length is 24\r\n        at org.jsmpp.util.StringValidator.validateString(StringValidator.java:42) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.util.DefaultComposer.submitSm(DefaultComposer.java:213) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.DefaultPDUSender.sendSubmitSm(DefaultPDUSender.java:224) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.SynchronizedPDUSender.sendSubmitSm(SynchronizedPDUSender.java:189) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.SubmitSmCommandTask.executeTask(SubmitSmCommandTask.java:86) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.AbstractSession.executeSendCommand(AbstractSession.java:303) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.jsmpp.session.SMPPSession.submitShortMessage(SMPPSession.java:346) ~[jsmpp-2.3.11.jar!/:2.3.11]\r\n        at org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:59) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\r\n        ... 12 common frames omitted*\r\n \r\n\r\nMy expectation is to send SMS to multiple recipients via Route using Apache Camel SMPP","title":"How to send SMS message to Multiple recipients using Apache Camel SMPP","body":"<p>I am using following route to send SMS to multiple recipients.</p>\n<pre><code>@Component\npublic class SMSRoute extends RouteBuilder{\n    \n    List&lt;String&gt; recipientList = Arrays.asList(&quot;0512345678&quot;,&quot;0512345679&quot;);\n\n    @Override\n    public void configure() throws Exception {\n        \n        from(&quot;timer://myTimer?period=1000&quot;)\n        .setHeader(&quot;CamelSmppDestAddr&quot;, simple(recipientList.toString()))\n        .setBody()\n        .simple(&quot;Hello World Camel fired at ${header.firedTime}&quot;)\n        .to(&quot;smpp://smppclient@{{host}}:{{port}}?password={{password}}&amp;systemId={{systemId}}&amp;&quot;\n                + &quot;transactionTimer=5000&amp;systemType=70015&quot; \n                + &quot;&amp;sourceAddr=JAVA&amp;dataCoding=8&amp;encoding=UTF-16BE&amp;alphabet=8&quot;);\n        //.to(&quot;stream:out&quot;);        \n    }\n\n}\n</code></pre>\n<p>When I try to run this code, camel consider the entire list as single number</p>\n<blockquote>\n<p>023-05-03T11:41:43.691+03:00 DEBUG 4032 --- [timer://myTimer] o.a.c.c.smpp.SmppSubmitSmCommand         : Sending short message 0 for exchange id '7C18C829419B90F-0000000000000000'...\n2023-05-03T11:41:43.691+03:00 ERROR 4032 --- [timer://myTimer] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 7C18C829419B90F-0000000000000000 on ExchangeId: 7C18C829419B90F-0000000000000000). Exhausted after delivery attempt: 1 caught: org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value '[05********, 05*********]' length must be less than 21. Actual length is 24</p>\n</blockquote>\n<h2>Message History (source location and message history is disabled)</h2>\n<p>Source                                   ID                             Processor                                          Elapsed (ms)\nroute1/route1                  from[timer://myTimer?period=1000]                    1810519390\n...\nroute1/to1                     null                                                          0</p>\n<h2>Stacktrace</h2>\n<blockquote>\n<p>org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value '[05********, 05*********]' length must be less than 21. Actual length is 24\nat org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:79) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.smpp.SmppProducer.process(SmppProducer.java:181) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[camel-support-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:474) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.Pipeline.process(Pipeline.java:164) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:378) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\nat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\nat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\nCaused by: org.jsmpp.PDUStringException: C-Octet String value '[0571804118, 0505402810]' length must be less than 21. Actual length is 24\nat org.jsmpp.util.StringValidator.validateString(StringValidator.java:42) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.util.DefaultComposer.submitSm(DefaultComposer.java:213) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.DefaultPDUSender.sendSubmitSm(DefaultPDUSender.java:224) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.SynchronizedPDUSender.sendSubmitSm(SynchronizedPDUSender.java:189) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.SubmitSmCommandTask.executeTask(SubmitSmCommandTask.java:86) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.AbstractSession.executeSendCommand(AbstractSession.java:303) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.SMPPSession.submitShortMessage(SMPPSession.java:346) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:59) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\n... 12 common frames omitted</p>\n</blockquote>\n<blockquote>\n<p>2023-05-03T11:41:43.691+03:00  WARN 4032 --- [timer://myTimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[7C18C829419B90F-0000000000000000]. Caused by: [org.apache.camel.component.smpp.SmppException - org.jsmpp.PDUStringException: C-Octet String value '[05********, 05*********]' length must be less than 21. Actual length is 24]</p>\n</blockquote>\n<blockquote>\n<p>org.apache.camel.component.smpp.SmppException: org.jsmpp.PDUStringException: C-Octet String value '[05********, 05*********]' length must be less than 21. Actual length is 24\nat org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:79) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.smpp.SmppProducer.process(SmppProducer.java:181) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[camel-support-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:474) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.processor.Pipeline.process(Pipeline.java:164) ~[camel-core-processor-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:378) ~[camel-base-engine-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\nat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-M2.jar!/:4.0.0-M2]\nat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\nat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\nCaused by: org.jsmpp.PDUStringException: C-Octet String value '[0571804118, 0505402810]' length must be less than 21. Actual length is 24\nat org.jsmpp.util.StringValidator.validateString(StringValidator.java:42) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.util.DefaultComposer.submitSm(DefaultComposer.java:213) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.DefaultPDUSender.sendSubmitSm(DefaultPDUSender.java:224) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.SynchronizedPDUSender.sendSubmitSm(SynchronizedPDUSender.java:189) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.SubmitSmCommandTask.executeTask(SubmitSmCommandTask.java:86) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.AbstractSession.executeSendCommand(AbstractSession.java:303) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.jsmpp.session.SMPPSession.submitShortMessage(SMPPSession.java:346) ~[jsmpp-2.3.11.jar!/:2.3.11]\nat org.apache.camel.component.smpp.SmppSubmitSmCommand.execute(SmppSubmitSmCommand.java:59) ~[camel-smpp-4.0.0-M2.jar!/:4.0.0-M2]\n... 12 common frames omitted*</p>\n</blockquote>\n<p>My expectation is to send SMS to multiple recipients via Route using Apache Camel SMPP</p>\n"},{"tags":["java","ant","build.xml"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1461639404,"post_id":36854464,"comment_id":61277635,"body_markdown":"Ant is used to build the source; if it has built then you need to execute your entry point. What kind of project have you built?","body":"Ant is used to build the source; if it has built then you need to execute your entry point. What kind of project have you built?"},{"owner":{"account_id":6078162,"reputation":425,"user_id":4744788,"accept_rate":14,"display_name":"Manish Mallavarapu"},"score":0,"creation_date":1461639533,"post_id":36854464,"comment_id":61277662,"body_markdown":"can you please post the command you entered into cmd to compile","body":"can you please post the command you entered into cmd to compile"},{"owner":{"account_id":8323269,"reputation":27,"user_id":6254100,"display_name":"Jatinder Brar"},"score":0,"creation_date":1461639648,"post_id":36854464,"comment_id":61277687,"body_markdown":"command used /ant -buildfile C:\\Users\\Meh\\Project","body":"command used /ant -buildfile C:\\Users\\Meh\\Project"},{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":0,"creation_date":1461639705,"post_id":36854464,"comment_id":61277697,"body_markdown":"You should actually start [here](https://docs.oracle.com/javase/tutorial/index.html)","body":"You should actually start <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":8323269,"reputation":27,"user_id":6254100,"display_name":"Jatinder Brar"},"score":0,"creation_date":1461639813,"post_id":36854464,"comment_id":61277719,"body_markdown":"its an online Enterprise System","body":"its an online Enterprise System"}],"answers":[{"tags":[],"owner":{"account_id":3945608,"reputation":631,"user_id":3258380,"accept_rate":20,"display_name":"Aroonalok"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1463139743,"creation_date":1463139743,"answer_id":37209191,"question_id":36854464,"body_markdown":"I assume that this is a simple &quot;Hello, World&quot; Java program (**HelloWorld.java**) and that the **HelloWorld.java**, **build.xml** and the **HelloWorld.class** (to be generated) are in the current directory (**.**) \r\n\r\n**HelloWorld.java** file :\r\n\r\n    public class HelloWorld {\r\n\r\n    public static void main(String[] args) {\r\n        // Prints &quot;Hello, World&quot; to the terminal window.\r\n        System.out.println(&quot;Hello, World&quot;);\r\n    }\r\n\r\n    }\r\n\r\nCreate two **targets** : **compile** and **run** in your **build.xml** file :\r\n\r\n    &lt;project name=&quot;Hello World&quot; basedir=&quot;.&quot;&gt;\r\n\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n           &lt;javac srcdir=&quot;.&quot; includeantruntime=&quot;true&quot; includes=&quot;HelloWorld.java&quot; destdir=&quot;.&quot;&gt;&lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n           &lt;java classname=&quot;HelloWorld&quot; fork=&quot;true&quot;&gt;&lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nNow you simply need to navigate to the current directory in your terminal and run :\r\n\r\n    ant run","title":"How to run java program with ant","body":"<p>I assume that this is a simple \"Hello, World\" Java program (<strong>HelloWorld.java</strong>) and that the <strong>HelloWorld.java</strong>, <strong>build.xml</strong> and the <strong>HelloWorld.class</strong> (to be generated) are in the current directory (<strong>.</strong>) </p>\n\n<p><strong>HelloWorld.java</strong> file :</p>\n\n<pre><code>public class HelloWorld {\n\npublic static void main(String[] args) {\n    // Prints \"Hello, World\" to the terminal window.\n    System.out.println(\"Hello, World\");\n}\n\n}\n</code></pre>\n\n<p>Create two <strong>targets</strong> : <strong>compile</strong> and <strong>run</strong> in your <strong>build.xml</strong> file :</p>\n\n<pre><code>&lt;project name=\"Hello World\" basedir=\".\"&gt;\n\n&lt;target name=\"compile\"&gt;\n       &lt;javac srcdir=\".\" includeantruntime=\"true\" includes=\"HelloWorld.java\" destdir=\".\"&gt;&lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=\"run\" depends=\"compile\"&gt;\n       &lt;java classname=\"HelloWorld\" fork=\"true\"&gt;&lt;/java&gt;\n&lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Now you simply need to navigate to the current directory in your terminal and run :</p>\n\n<pre><code>ant run\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6743474"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683161845,"creation_date":1632533018,"answer_id":69322452,"question_id":36854464,"body_markdown":"Not assuming everything is in the root directory, a far better solution is available on the apache ant page that parameterizes all the directories etc. and is a more general and practical answer. [Tutorial: Hello World with Apache Ant][1]\r\n\r\n    &lt;project name=&quot;Hello World&quot; basedir=&quot;.&quot;&gt;      \t\r\n         \t&lt;mkdir dir=&quot;build/classes&quot;/&gt;\r\n         \t&lt;javac\r\n         \t    srcdir=&quot;src&quot;\r\n         \t    destdir=&quot;build/classes&quot;/&gt;\r\n         \t&lt;!-- automatically detected --&gt;\r\n         \t&lt;!-- obsolete; done via manifest tag --&gt;\r\n         \t&lt;mkdir dir=&quot;build/jar&quot;/&gt;\r\n         \t&lt;jar\r\n         \t    destfile=&quot;build/jar/HelloWorld.jar&quot;\r\n\r\n         \t    basedir=&quot;build/classes&quot;&gt;\r\n         \t    &lt;manifest&gt;\r\n         \t        &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.HelloWorld&quot;/&gt;\r\n         \t    &lt;/manifest&gt;\r\n         \t&lt;/jar&gt;\r\n         \t&lt;java jar=&quot;build/jar/HelloWorld.jar&quot; fork=&quot;true&quot;/&gt;\r\n\t\t\r\n\t\t&lt;target name=&quot;compile&quot;&gt;\r\n\t\t       &lt;javac includeantruntime=&quot;true&quot; includes=&quot;HelloWorld.java&quot;&gt;&lt;/javac&gt;\r\n\t\t&lt;/target&gt;\t\t \t\r\n\t\t\r\n\t\t&lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n\t\t       &lt;java classname=&quot;bin/org/HelloWorld&quot; fork=&quot;true&quot;&gt;&lt;/java&gt;      \r\n\t\t\t&lt;echo message=&quot;Event Generator Finished.&quot;/&gt;\r\n\t\t&lt;/target&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\n  [1]: https://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html","title":"How to run java program with ant","body":"<p>Not assuming everything is in the root directory, a far better solution is available on the apache ant page that parameterizes all the directories etc. and is a more general and practical answer. <a href=\"https://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html\" rel=\"nofollow noreferrer\">Tutorial: Hello World with Apache Ant</a></p>\n<pre><code>&lt;project name=&quot;Hello World&quot; basedir=&quot;.&quot;&gt;        \n        &lt;mkdir dir=&quot;build/classes&quot;/&gt;\n        &lt;javac\n            srcdir=&quot;src&quot;\n            destdir=&quot;build/classes&quot;/&gt;\n        &lt;!-- automatically detected --&gt;\n        &lt;!-- obsolete; done via manifest tag --&gt;\n        &lt;mkdir dir=&quot;build/jar&quot;/&gt;\n        &lt;jar\n            destfile=&quot;build/jar/HelloWorld.jar&quot;\n\n            basedir=&quot;build/classes&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.HelloWorld&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n        &lt;java jar=&quot;build/jar/HelloWorld.jar&quot; fork=&quot;true&quot;/&gt;\n    \n    &lt;target name=&quot;compile&quot;&gt;\n           &lt;javac includeantruntime=&quot;true&quot; includes=&quot;HelloWorld.java&quot;&gt;&lt;/javac&gt;\n    &lt;/target&gt;           \n    \n    &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\n           &lt;java classname=&quot;bin/org/HelloWorld&quot; fork=&quot;true&quot;&gt;&lt;/java&gt;      \n        &lt;echo message=&quot;Event Generator Finished.&quot;/&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":8323269,"reputation":27,"user_id":6254100,"display_name":"Jatinder Brar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12967,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1683161845,"creation_date":1461639226,"question_id":36854464,"body_markdown":"I am a complete noob in Java and I want to know how do you run a Java program after you use build.xml. I am using &#39;cmd&#39; and I got the message BUILD SUCCESSFUL after compiling (?) Now what should I do to run the program? \r\n\r\nEdit: it created a .war file.  How do I execute it? ","title":"How to run java program with ant","body":"<p>I am a complete noob in Java and I want to know how do you run a Java program after you use build.xml. I am using 'cmd' and I got the message BUILD SUCCESSFUL after compiling (?) Now what should I do to run the program?</p>\n<p>Edit: it created a .war file.  How do I execute it?</p>\n"},{"tags":["java","android","kotlin","button","share"],"answers":[{"tags":[],"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683142167,"creation_date":1683142167,"answer_id":76167395,"question_id":76163247,"body_markdown":"You can add a `type` to your intent as recommended by the [documentation][1]:\r\n\r\n``` kotlin\r\n// Create the text message with a string.\r\nval sendIntent = Intent().apply {\r\n    action = Intent.ACTION_SEND\r\n    putExtra(Intent.EXTRA_TEXT, textMessage)\r\n    type = &quot;text/plain&quot;\r\n}\r\n\r\n// Try to invoke the intent.\r\ntry {\r\n    startActivity(sendIntent)\r\n} catch (e: ActivityNotFoundException) {\r\n    // Define what your app should do if no activity can handle the intent.\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-filters#ExampleSend","title":"How to share data from application in kotlin android studio?","body":"<p>You can add a <code>type</code> to your intent as recommended by the <a href=\"https://developer.android.com/guide/components/intents-filters#ExampleSend\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Create the text message with a string.\nval sendIntent = Intent().apply {\n    action = Intent.ACTION_SEND\n    putExtra(Intent.EXTRA_TEXT, textMessage)\n    type = &quot;text/plain&quot;\n}\n\n// Try to invoke the intent.\ntry {\n    startActivity(sendIntent)\n} catch (e: ActivityNotFoundException) {\n    // Define what your app should do if no activity can handle the intent.\n}\n</code></pre>\n"}],"owner":{"account_id":28491420,"reputation":3,"user_id":21804011,"display_name":"Madeeha Shahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76167395,"answer_count":1,"score":0,"last_activity_date":1683161825,"creation_date":1683113044,"question_id":76163247,"body_markdown":"I have a button on which when I click, it shows an option on where to share all the data in that activity such as title, link, image video etc. In Android Studio in Kotlin or Java.\r\n\r\nI tried the code given below using intent:\r\n \r\n      btShare.setOnClickListener {\r\n            val shareText = tvTit.text.toString()\r\n\r\n            // Create the Intent\r\n            val shareIntent = Intent(Intent.ACTION_SEND).apply {\r\n                putExtra(Intent.EXTRA_TEXT, shareText)\r\n            }\r\n\r\n            // Start the chooser dialog\r\n            val chooserIntent = \r\n                Intent.createChooser(shareIntent, &quot;Share with&quot;)\r\n            startActivity(chooserIntent)\r\n        }\r\nbut it shows message &quot;no app can perform this action&quot;.\r\nIs there any other way?","title":"How to share data from application in kotlin android studio?","body":"<p>I have a button on which when I click, it shows an option on where to share all the data in that activity such as title, link, image video etc. In Android Studio in Kotlin or Java.</p>\n<p>I tried the code given below using intent:</p>\n<pre><code>  btShare.setOnClickListener {\n        val shareText = tvTit.text.toString()\n\n        // Create the Intent\n        val shareIntent = Intent(Intent.ACTION_SEND).apply {\n            putExtra(Intent.EXTRA_TEXT, shareText)\n        }\n\n        // Start the chooser dialog\n        val chooserIntent = \n            Intent.createChooser(shareIntent, &quot;Share with&quot;)\n        startActivity(chooserIntent)\n    }\n</code></pre>\n<p>but it shows message &quot;no app can perform this action&quot;.\nIs there any other way?</p>\n"},{"tags":["java","simulation","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681797657,"creation_date":1681797657,"answer_id":76041228,"question_id":76040019,"body_markdown":"It is not 100% clear what you mean, but maybe this helps:\r\n\r\nif you want to different agent types to flow through a block, but still access their individual characteristics, set the block&#39;s expected agent type to `Agent` (the most general option).\r\n\r\nIn the code fields of the block, you can distinguish and access fields like:\r\n\r\n    if (agent instanceof AgentType1) {\r\n        ((AgentType1)agent).getSomeFieldOrMethodFromType1();\r\n    } else {\r\n        ((AgentType2)agent).getSomeFieldOrMethodFromType2();\r\n    }","title":"Anylogic multiple agents in same block","body":"<p>It is not 100% clear what you mean, but maybe this helps:</p>\n<p>if you want to different agent types to flow through a block, but still access their individual characteristics, set the block's expected agent type to <code>Agent</code> (the most general option).</p>\n<p>In the code fields of the block, you can distinguish and access fields like:</p>\n<pre><code>if (agent instanceof AgentType1) {\n    ((AgentType1)agent).getSomeFieldOrMethodFromType1();\n} else {\n    ((AgentType2)agent).getSomeFieldOrMethodFromType2();\n}\n</code></pre>\n"}],"owner":{"account_id":18853087,"reputation":1,"user_id":13751747,"display_name":"nani869"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683160560,"creation_date":1681774624,"question_id":76040019,"body_markdown":"How to set agent type dynamically in agent type of advanced section in service block. For example let&#39;s say\r\nwe have two type customers and both are served by same service block. In want to change the agent type based on type of customer, how to do this in anylogic?\r\n\r\nThe two customer are regular customers(reg_cust) and card holder customers(ch_cust);\r\nInitially I have set the color for these two agents in their respective source blocks  using agent.setColor() , red for regular and orange for cardholder. Now in service block , in advanced section in the agent type I used the following code:\r\n\r\nif (agent.getColor() == red) {\r\n    return reg_cust;} \r\n\r\nelse if (agent.getColor() == orange) {\r\n    return ch_cust;\r\n\r\nThe reason I set different colors is that I couldn&#39;t differentiate between agents when they pass through same block. I cant call the parameters that I set for these two agents.\r\n\r\nIs there any way to solve this?","title":"Anylogic multiple agents in same block","body":"<p>How to set agent type dynamically in agent type of advanced section in service block. For example let's say\nwe have two type customers and both are served by same service block. In want to change the agent type based on type of customer, how to do this in anylogic?</p>\n<p>The two customer are regular customers(reg_cust) and card holder customers(ch_cust);\nInitially I have set the color for these two agents in their respective source blocks  using agent.setColor() , red for regular and orange for cardholder. Now in service block , in advanced section in the agent type I used the following code:</p>\n<p>if (agent.getColor() == red) {\nreturn reg_cust;}</p>\n<p>else if (agent.getColor() == orange) {\nreturn ch_cust;</p>\n<p>The reason I set different colors is that I couldn't differentiate between agents when they pass through same block. I cant call the parameters that I set for these two agents.</p>\n<p>Is there any way to solve this?</p>\n"},{"tags":["java","maven","web-services","soap","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":7080403,"reputation":84,"user_id":5419028,"display_name":"Volo Myhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598400355,"creation_date":1598400355,"answer_id":63588721,"question_id":61217681,"body_markdown":"You have included only API classes.\r\nYour project needs also some Implementation classes (artifact).\r\nOne of possible implementations is jaxws-ri:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"JDK8: &quot;java.lang.NoClassDefFoundError: javax/xml/ws/Service&quot;","body":"<p>You have included only API classes.\nYour project needs also some Implementation classes (artifact).\nOne of possible implementations is jaxws-ri:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18287720,"reputation":21,"user_id":13315224,"display_name":"Java3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598491044,"creation_date":1598491044,"answer_id":63607792,"question_id":61217681,"body_markdown":"Thanks for your response Volo Myhal. I have already included jaxws-rt dependency as well. But still I keep getting NoClassDefFoundError.\r\n\r\nThis issue is resolved after manually adding the required jars into our local server path from the .m2 folder","title":"JDK8: &quot;java.lang.NoClassDefFoundError: javax/xml/ws/Service&quot;","body":"<p>Thanks for your response Volo Myhal. I have already included jaxws-rt dependency as well. But still I keep getting NoClassDefFoundError.</p>\n<p>This issue is resolved after manually adding the required jars into our local server path from the .m2 folder</p>\n"},{"tags":[],"owner":{"account_id":1404411,"reputation":646,"user_id":1332519,"display_name":"dzlatkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683159271,"creation_date":1683159271,"answer_id":76168749,"question_id":61217681,"body_markdown":"**Running from Command Line**\r\n\r\nI encountered this when running `wsdl2java` directly from command line (on my mac). The `wsdl2java` script is not very smart, so you have to help it a bit. \r\n\r\nAfter you download the CXF tools from the apache website, you should specify their location before running the executables.\r\n\r\n    export CXF_HOME=/Users/dimitar/Downloads/apache-cxf-4.0.0\r\n    export CLASSPATH=$CLASSPATH:$CXF_HOME/lib/*\r\n    export PATH=$PATH:$CXF_HOME/bin\r\n\r\n","title":"JDK8: &quot;java.lang.NoClassDefFoundError: javax/xml/ws/Service&quot;","body":"<p><strong>Running from Command Line</strong></p>\n<p>I encountered this when running <code>wsdl2java</code> directly from command line (on my mac). The <code>wsdl2java</code> script is not very smart, so you have to help it a bit.</p>\n<p>After you download the CXF tools from the apache website, you should specify their location before running the executables.</p>\n<pre><code>export CXF_HOME=/Users/dimitar/Downloads/apache-cxf-4.0.0\nexport CLASSPATH=$CLASSPATH:$CXF_HOME/lib/*\nexport PATH=$PATH:$CXF_HOME/bin\n</code></pre>\n"}],"owner":{"account_id":18287720,"reputation":21,"user_id":13315224,"display_name":"Java3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683159271,"creation_date":1586900361,"question_id":61217681,"body_markdown":"Fairly new to Webservices, have done some research and generated client stubs for a third party WSDL using JAX-WS RI (wsimport tool). JDK 8 is being used.  Using generated Stubs, web service client is written to invoke the WSDL operations. Maven Build is successful but while testing it, getting &quot;java.lang.NoClassDefFoundError: javax/xml/ws/Service&quot;. \r\n\r\nHere is the Web service client. Tried to refer many resources for NoClassDefFoundError as well, but nothing actually worked. While debugging understood its failing in line-11 below. How to fix this NoClassDefFoundError, please Help? \r\n\r\n    line-11:  ServiceWS service = new ServiceWS(); //@WebServiceClient\r\n    line-12:  ServiceWSSoap stubWS = service.getServiceWSSoap(); //where ServiceWSSoap is @WebService and getServiceWSSoap() is @WebEndpoint \r\n\r\nHere is the Stack trace\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n        at package1.ProjectClient.getStub(ProjectClient.java:11)\r\n        at package.Project.&lt;init&gt;(Project.java:55)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        at java.base/java.lang.Class.newInstance(Unknown Source)\r\n        at package.SubClass.getInstance(SubClass.java:1284)\r\n        at package.SubClass.getCall(SubClass.java:635)\r\n        at package.SubClass.execute(SubClass.java:317)\r\n        at package.MainClass.run(MainClass.java:1216)\r\n        at package.MainClass.execute(MainClass.java:759)\r\n        at package.ServerClass.b(ServerClass.java)\r\n        at package.ServerClass.run(ServerClass.java)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n\r\nI have included jaxws-api dependency in my pom.xml, but still no luck\r\n\r\n     &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nResearch links: \r\n1) &lt;https://stackoverflow.com/questions/3588616/java-webservice-client-best-way&gt; &lt;br&gt;\r\n2) https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/&lt;br&gt;\r\n3) https://mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/","title":"JDK8: &quot;java.lang.NoClassDefFoundError: javax/xml/ws/Service&quot;","body":"<p>Fairly new to Webservices, have done some research and generated client stubs for a third party WSDL using JAX-WS RI (wsimport tool). JDK 8 is being used.  Using generated Stubs, web service client is written to invoke the WSDL operations. Maven Build is successful but while testing it, getting \"java.lang.NoClassDefFoundError: javax/xml/ws/Service\". </p>\n\n<p>Here is the Web service client. Tried to refer many resources for NoClassDefFoundError as well, but nothing actually worked. While debugging understood its failing in line-11 below. How to fix this NoClassDefFoundError, please Help? </p>\n\n<pre><code>line-11:  ServiceWS service = new ServiceWS(); //@WebServiceClient\nline-12:  ServiceWSSoap stubWS = service.getServiceWSSoap(); //where ServiceWSSoap is @WebService and getServiceWSSoap() is @WebEndpoint \n</code></pre>\n\n<p>Here is the Stack trace</p>\n\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/ws/Service\n    at package1.ProjectClient.getStub(ProjectClient.java:11)\n    at package.Project.&lt;init&gt;(Project.java:55)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.base/java.lang.Class.newInstance(Unknown Source)\n    at package.SubClass.getInstance(SubClass.java:1284)\n    at package.SubClass.getCall(SubClass.java:635)\n    at package.SubClass.execute(SubClass.java:317)\n    at package.MainClass.run(MainClass.java:1216)\n    at package.MainClass.execute(MainClass.java:759)\n    at package.ServerClass.b(ServerClass.java)\n    at package.ServerClass.run(ServerClass.java)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I have included jaxws-api dependency in my pom.xml, but still no luck</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Research links: \n1) <a href=\"https://stackoverflow.com/questions/3588616/java-webservice-client-best-way\">Java Webservice Client (Best way)</a> <br>\n2) <a href=\"https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/</a><br>\n3) <a href=\"https://mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/</a></p>\n"},{"tags":["java","cryptography","bouncycastle"],"owner":{"account_id":28479908,"reputation":1,"user_id":21794018,"display_name":"Xusers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683158841,"creation_date":1683014871,"question_id":76152885,"body_markdown":"I am new to cryptography and would like to get started.\r\nI know `(somehow I was able to write these 2 options for creating key pairs)`\r\n\r\nUsing `bouncycastle` classes I need : &lt;p&gt;\r\n\r\n    - 1)Create a Curve25519 key pair.\r\n\r\n&lt;p&gt;How to use this pair for:\r\n\r\n    - 2)Encryption/Decryption\r\n\r\n    - 3)Data Signing/Signature Verification\r\n\r\n\r\n\r\n\r\n\r\n\r\n# key pair generation\r\n\r\n    ProviderUtils.getProvider():\r\n\r\n```java\r\nnew BouncyCastleProvider();\r\n```\r\n\r\n- first option:\r\n```java\r\nfinal BouncyCastleProvider provider = ProviderUtils.getProvider();\r\nfinal KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(XDHParameterSpec.X25519, provider);\r\nkeyPairGenerator.initialize(new XDHParameterSpec(XDHParameterSpec.X25519));\r\nfinal KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\nSystem.out.println(keyPair);\r\nSystem.out.println(keyPair.getPrivate());\r\n```\r\noutput:\r\n```sh\r\njava.security.KeyPair@1324409e\r\nX25519 Private Key [86:45:fc:74:0f:8c:d1:c2:ed:3c:0c:ae:b9:3f:3f:84:19:05:d2:b3]\r\n    public data: 2c823d1015ffa4a8ce427618a7a383b6c3de9cfc63cf97b4f48ae2407aa5a267\r\n```\r\n\r\n- Second option:\r\n```java\r\nfinal X25519KeyPairGenerator x25519KeyPairGenerator = new X25519KeyPairGenerator();\r\nfinal X25519KeyGenerationParameters params = new X25519KeyGenerationParameters(new SecureRandom());\r\nx25519KeyPairGenerator.init(params);\r\nfinal AsymmetricCipherKeyPair kp = x25519KeyPairGenerator.generateKeyPair();\r\nSystem.err.println(kp);\r\nSystem.err.println(kp.getPrivate());\r\n```\r\noutput:\r\n```sh\r\norg.bouncycastle.crypto.AsymmetricCipherKeyPair@68837a77\r\norg.bouncycastle.crypto.params.X25519PrivateKeyParameters@6be46e8f\r\n```\r\n\r\n\r\n\r\n","title":"Java-&gt;Bouncycastle-&gt; Show example operations","body":"<p>I am new to cryptography and would like to get started.\nI know <code>(somehow I was able to write these 2 options for creating key pairs)</code></p>\n<p>Using <code>bouncycastle</code> classes I need : <p></p>\n<pre><code>- 1)Create a Curve25519 key pair.\n</code></pre>\n<p>How to use this pair for:\n<pre><code>- 2)Encryption/Decryption\n\n- 3)Data Signing/Signature Verification\n</code></pre>\n<h1>key pair generation</h1>\n<pre><code>ProviderUtils.getProvider():\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>new BouncyCastleProvider();\n</code></pre>\n<ul>\n<li>first option:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>final BouncyCastleProvider provider = ProviderUtils.getProvider();\nfinal KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(XDHParameterSpec.X25519, provider);\nkeyPairGenerator.initialize(new XDHParameterSpec(XDHParameterSpec.X25519));\nfinal KeyPair keyPair = keyPairGenerator.generateKeyPair();\nSystem.out.println(keyPair);\nSystem.out.println(keyPair.getPrivate());\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java.security.KeyPair@1324409e\nX25519 Private Key [86:45:fc:74:0f:8c:d1:c2:ed:3c:0c:ae:b9:3f:3f:84:19:05:d2:b3]\n    public data: 2c823d1015ffa4a8ce427618a7a383b6c3de9cfc63cf97b4f48ae2407aa5a267\n</code></pre>\n<ul>\n<li>Second option:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>final X25519KeyPairGenerator x25519KeyPairGenerator = new X25519KeyPairGenerator();\nfinal X25519KeyGenerationParameters params = new X25519KeyGenerationParameters(new SecureRandom());\nx25519KeyPairGenerator.init(params);\nfinal AsymmetricCipherKeyPair kp = x25519KeyPairGenerator.generateKeyPair();\nSystem.err.println(kp);\nSystem.err.println(kp.getPrivate());\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>org.bouncycastle.crypto.AsymmetricCipherKeyPair@68837a77\norg.bouncycastle.crypto.params.X25519PrivateKeyParameters@6be46e8f\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","intellij-14","intellij-13"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1683158399,"post_id":76168631,"comment_id":134325232,"body_markdown":"Not really a programming question, this is an IDE question. Have you considered making a post and asking about this on your [particular&#39;s IDE&#39;s community page](https://intellij-support.jetbrains.com/hc/en-us/community/topics/200382555-IntelliJ-IDEA-Users)?","body":"Not really a programming question, this is an IDE question. Have you considered making a post and asking about this on your <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200382555-IntelliJ-IDEA-Users\" rel=\"nofollow noreferrer\">particular&#39;s IDE&#39;s community page</a>?"},{"owner":{"account_id":10108153,"reputation":427,"user_id":7470057,"display_name":"backward forward"},"score":0,"creation_date":1683166787,"post_id":76168631,"comment_id":134326072,"body_markdown":"@AlexT the availability of intellij tags and this question/answer suggests this is an appropriate place for questions regarding an IDE, although I appreciate the recommendation https://meta.stackexchange.com/questions/20251/where-to-ask-a-question-about-an-ide","body":"@AlexT the availability of intellij tags and this question/answer suggests this is an appropriate place for questions regarding an IDE, although I appreciate the recommendation <a href=\"https://meta.stackexchange.com/questions/20251/where-to-ask-a-question-about-an-ide\" title=\"where to ask a question about an ide\">meta.stackexchange.com/questions/20251/&hellip;</a>"},{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":1,"creation_date":1683193798,"post_id":76168631,"comment_id":134330236,"body_markdown":"There are some 3rd party code generation plugins which may allow you change toString template and more.","body":"There are some 3rd party code generation plugins which may allow you change toString template and more."},{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":1,"creation_date":1683293243,"post_id":76168631,"comment_id":134348736,"body_markdown":"Note for anybody else interested in this feature, after a [community post](https://intellij-support.jetbrains.com/hc/en-us/community/posts/11308253542162-How-can-I-change-the-template-for-kotlins-toString-code-generation-in-intellij-) was created, someone from the kotlin team created [a ticket](https://youtrack.jetbrains.com/issue/KTIJ-25469?_ga=2.116877190.1422321171.1683292854-291834642.1683292849&amp;_gl=1*syjnfh*_ga*MjkxODM0NjQyLjE2ODMyOTI4NDk.*_ga_9J976DJZ68*MTY4MzI5Mjg0OS4xLjEuMTY4MzI5Mjg4OS4yNS4wLjA.). Do vote for it in the tracker if you want it to be added.","body":"Note for anybody else interested in this feature, after a <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/11308253542162-How-can-I-change-the-template-for-kotlins-toString-code-generation-in-intellij-\" rel=\"nofollow noreferrer\">community post</a> was created, someone from the kotlin team created <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-25469?_ga=2.116877190.1422321171.1683292854-291834642.1683292849&amp;_gl=1%2Asyjnfh%2A_ga%2AMjkxODM0NjQyLjE2ODMyOTI4NDk.%2A_ga_9J976DJZ68%2AMTY4MzI5Mjg0OS4xLjEuMTY4MzI5Mjg4OS4yNS4wLjA.\" rel=\"nofollow noreferrer\">a ticket</a>. Do vote for it in the tracker if you want it to be added."}],"owner":{"account_id":10108153,"reputation":427,"user_id":7470057,"display_name":"backward forward"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683157238,"creation_date":1683157238,"question_id":76168631,"body_markdown":"When working with java files inside of intellij, you are able to auto-generate the override for the `toString()` method by using `Code &gt; Generate &gt; toString()`. From here you are able to go into `Settings &gt; Templates`, and create new templates to change how intellij would format the generated `toString()` method.\r\n\r\nWhere is this setting for kotlin code? I have project entirely made in kotlin, however the `Settings` button doesn&#39;t exist whenever I go to generate my `toString()`. there&#39;s no way i&#39;m going to hand write the `toString()` method for hundreds of different classes, so am I just going to be forced to use this whack formatting that puts hundreds of characters on a single line? I mean, there is another template option that allows `Multiple templates with concatenation` that looks like the following:\r\n```kotlin\r\noverride fun toString(): String {\r\n  return &quot;MyBogusObject(&quot; +\r\n          &quot;firstProperty=$firstProperty&quot; +\r\n          &quot;secondProperty=$secondProperty&quot; +\r\n         &quot;)&quot;\r\n}\r\n```\r\nhowever, I think that&#39;s ugly and I would prefer intellij generate something like the following (no concat):\r\n```kotlin\r\noverride fun toString(): String {\r\n  return &quot;&quot;&quot;\r\n    MyBogusObject(\r\n      firstProperty=$firstProperty\r\n      secondProperty=$secondProperty\r\n    )\r\n  &quot;&quot;&quot;.trimIndent()\r\n}\r\n```\r\n\r\nA quick google search for this continues to yield results on the jetbrains website that give instructions for how to change the template, but nothing in regards to the languages that support this. Am I going about this wrong? is there any way that I can update the template for kotlin? if not, are there any alternatives? third-parties that&#39;ll do this for me (no preferred)?","title":"How can I change the template for kotlins toString() code generation in intellij?","body":"<p>When working with java files inside of intellij, you are able to auto-generate the override for the <code>toString()</code> method by using <code>Code &gt; Generate &gt; toString()</code>. From here you are able to go into <code>Settings &gt; Templates</code>, and create new templates to change how intellij would format the generated <code>toString()</code> method.</p>\n<p>Where is this setting for kotlin code? I have project entirely made in kotlin, however the <code>Settings</code> button doesn't exist whenever I go to generate my <code>toString()</code>. there's no way i'm going to hand write the <code>toString()</code> method for hundreds of different classes, so am I just going to be forced to use this whack formatting that puts hundreds of characters on a single line? I mean, there is another template option that allows <code>Multiple templates with concatenation</code> that looks like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun toString(): String {\n  return &quot;MyBogusObject(&quot; +\n          &quot;firstProperty=$firstProperty&quot; +\n          &quot;secondProperty=$secondProperty&quot; +\n         &quot;)&quot;\n}\n</code></pre>\n<p>however, I think that's ugly and I would prefer intellij generate something like the following (no concat):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun toString(): String {\n  return &quot;&quot;&quot;\n    MyBogusObject(\n      firstProperty=$firstProperty\n      secondProperty=$secondProperty\n    )\n  &quot;&quot;&quot;.trimIndent()\n}\n</code></pre>\n<p>A quick google search for this continues to yield results on the jetbrains website that give instructions for how to change the template, but nothing in regards to the languages that support this. Am I going about this wrong? is there any way that I can update the template for kotlin? if not, are there any alternatives? third-parties that'll do this for me (no preferred)?</p>\n"},{"tags":["java","android","gson","date-format","unix-timestamp"],"answers":[{"tags":[],"owner":{"account_id":2147129,"reputation":31578,"user_id":1904517,"display_name":"iagreen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1482877191,"creation_date":1482877191,"answer_id":41352884,"question_id":41348055,"body_markdown":"Time stamps are just `long`&#39;s, so you can use that in your POJO.  Or use `Long` to get a `null` if the field is missing.\r\n\r\n    class myPOJO {\r\n        Long myDate;\r\n    }","title":"Using gson dateformat to serialize and deserialize unix-timestamps","body":"<p>Time stamps are just <code>long</code>'s, so you can use that in your POJO.  Or use <code>Long</code> to get a <code>null</code> if the field is missing.</p>\n\n<pre><code>class myPOJO {\n    Long myDate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1663881600,"creation_date":1484521407,"answer_id":41667341,"question_id":41348055,"body_markdown":"Creating a custom `TypeAdapter` (`UnixTimestampAdapter`) was the way to go.\r\n\r\n## `UnixTimestampAdapter`\r\n\r\n    public class UnixTimestampAdapter extends TypeAdapter&lt;Date&gt; {\r\n\r\n        @Override\r\n        public void write(JsonWriter out, Date value) throws IOException {\r\n            if (value == null) {\r\n                out.nullValue();\r\n                return;\r\n            }\r\n            out.value(value.getTime() / 1000);\r\n        }\r\n    \r\n        @Override\r\n        public Date read(JsonReader in) throws IOException {\r\n            if (in.peek() == JsonToken.NULL) {\r\n                in.nextNull();\r\n                return null;\r\n            }\r\n            return new Date(in.nextLong() * 1000);\r\n        }\r\n\r\n    }\r\n\r\nNow, you have to options (depending on your use case):\r\n\r\n1 - If you want apply this serialization on all your date fields then register `UnixTimestampAdapter` upon creating your `Gson` instance:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                       .registerTypeAdapter(Date.class, new UnixTimestampAdapter())\r\n                       .create();\r\n\r\n2 - Or annotate your date fields with `@JsonAdapter` (as suggested by [@Marcono1234](https://stackoverflow.com/users/4288506/marcono1234)) if you want it applied only to some specific fields.\r\n\r\n    class Person {\r\n        @JsonAdapter(UnixTimestampAdapter.class)\r\n        private Date birthday;\r\n    }","title":"Using gson dateformat to serialize and deserialize unix-timestamps","body":"<p>Creating a custom <code>TypeAdapter</code> (<code>UnixTimestampAdapter</code>) was the way to go.</p>\n<h2><code>UnixTimestampAdapter</code></h2>\n<pre><code>public class UnixTimestampAdapter extends TypeAdapter&lt;Date&gt; {\n\n    @Override\n    public void write(JsonWriter out, Date value) throws IOException {\n        if (value == null) {\n            out.nullValue();\n            return;\n        }\n        out.value(value.getTime() / 1000);\n    }\n\n    @Override\n    public Date read(JsonReader in) throws IOException {\n        if (in.peek() == JsonToken.NULL) {\n            in.nextNull();\n            return null;\n        }\n        return new Date(in.nextLong() * 1000);\n    }\n\n}\n</code></pre>\n<p>Now, you have to options (depending on your use case):</p>\n<p>1 - If you want apply this serialization on all your date fields then register <code>UnixTimestampAdapter</code> upon creating your <code>Gson</code> instance:</p>\n<pre><code>Gson gson = new GsonBuilder()\n                   .registerTypeAdapter(Date.class, new UnixTimestampAdapter())\n                   .create();\n</code></pre>\n<p>2 - Or annotate your date fields with <code>@JsonAdapter</code> (as suggested by <a href=\"https://stackoverflow.com/users/4288506/marcono1234\">@Marcono1234</a>) if you want it applied only to some specific fields.</p>\n<pre><code>class Person {\n    @JsonAdapter(UnixTimestampAdapter.class)\n    private Date birthday;\n}\n</code></pre>\n"}],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9164,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41667341,"answer_count":2,"score":10,"last_activity_date":1683154843,"creation_date":1482853340,"question_id":41348055,"body_markdown":"I am using Gson to serialize/deserialize my pojos and currently looking for a clean way to tell Gson to parse/output date attributes as unix-timestamps.\r\nHere&#39;s my attempt:\r\n\r\n    Gson gson = new GsonBuilder().setDateFormat(&quot;U&quot;).create();\r\n\r\nComming from PHP where &quot;U&quot; is the dateformat used to serialize/deserialize date as unix-timestamps, when running my attempt code, I am a `RuntimeException`:\r\n\r\n&gt; Unknown pattern character &#39;U&#39;\r\n\r\nI am assuming that Gson uses `SimpleDateformat` under the hood which doesn&#39;t define the letter &quot;U&quot;.\r\n\r\nI could implement a custom `DateTypeAdapter` but I am looking for a cleaner way to achieve that. Simply changing the `DateFormat` would be great.","title":"Using gson dateformat to serialize and deserialize unix-timestamps","body":"<p>I am using Gson to serialize/deserialize my pojos and currently looking for a clean way to tell Gson to parse/output date attributes as unix-timestamps.\nHere's my attempt:</p>\n<pre><code>Gson gson = new GsonBuilder().setDateFormat(&quot;U&quot;).create();\n</code></pre>\n<p>Comming from PHP where &quot;U&quot; is the dateformat used to serialize/deserialize date as unix-timestamps, when running my attempt code, I am a <code>RuntimeException</code>:</p>\n<blockquote>\n<p>Unknown pattern character 'U'</p>\n</blockquote>\n<p>I am assuming that Gson uses <code>SimpleDateformat</code> under the hood which doesn't define the letter &quot;U&quot;.</p>\n<p>I could implement a custom <code>DateTypeAdapter</code> but I am looking for a cleaner way to achieve that. Simply changing the <code>DateFormat</code> would be great.</p>\n"},{"tags":["java","swing","awt","layer"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1683144954,"post_id":76167423,"comment_id":134323195,"body_markdown":"Do you get an error?","body":"Do you get an error?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1683165821,"post_id":76167423,"comment_id":134325997,"body_markdown":"Swing components have a parent/child relationship. So you need to create a panel with the background image and add it to the frame. Then you need to add all your other components to that panel. If you add panels they need to use setOpaque(false)` .*but the other answers isn&#39;t an answer for me* - yes the other answers will help because they show the proper way to solve this problem. The problem is that you code is NOT structured properly so you need to change your code to follow the structure of the suggested answers.","body":"Swing components have a parent/child relationship. So you need to create a panel with the background image and add it to the frame. Then you need to add all your other components to that panel. If you add panels they need to use setOpaque(false)` .*but the other answers isn&#39;t an answer for me* - yes the other answers will help because they show the proper way to solve this problem. The problem is that you code is NOT structured properly so you need to change your code to follow the structure of the suggested answers."}],"answers":[{"tags":[],"owner":{"account_id":2640224,"reputation":586,"user_id":9189768,"display_name":"BluEOS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683147620,"creation_date":1683147620,"answer_id":76167947,"question_id":76167423,"body_markdown":"You have to set a new container in your frame and override &quot;paintComponent&quot;.\r\n\r\n     JPanel container = new JPanel() {\r\n            protected void paintComponent(Graphics g) {\r\n                g.drawImage(icon1.getImage(), 0, 0, null);\r\n            };\r\n     };\r\n\r\n     f.setContentPane(container);\r\n\r\n","title":"How to add a background image?","body":"<p>You have to set a new container in your frame and override &quot;paintComponent&quot;.</p>\n<pre><code> JPanel container = new JPanel() {\n        protected void paintComponent(Graphics g) {\n            g.drawImage(icon1.getImage(), 0, 0, null);\n        };\n };\n\n f.setContentPane(container);\n</code></pre>\n"}],"owner":{"account_id":28497373,"reputation":1,"user_id":21809065,"display_name":"Phx_DPyrexx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1683150365,"answer_count":1,"score":-2,"last_activity_date":1683154257,"creation_date":1683142423,"question_id":76167423,"body_markdown":"In the code I tried to move &quot;Hotelz.jpg&quot; to the bottom of the layer, but it does not work\r\nHow do I do that?\r\n\r\n\r\nI tried this code to add a background image, but it does not work\r\nI&#39;m really new to Java so please explain why it isn&#39;t working\r\n\r\nThere isn&#39;t much detail I can add, As I really don&#39;t know what to do\r\n\r\nThis was closed, but the other answers isn&#39;t an answer for me\r\n\r\nBecause their code is very different from mine and the answers they received doesn&#39;t help me\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.SQLException;\r\nimport java.util.Objects;\r\n\r\nclass Login extends JFrame {\r\n    private JTextField txtUEmail;\r\n    private JPasswordField txtPass;\r\n\r\n    private JButton btnLogin;\r\n    private JButton btnReg;\r\n            \r\n    private JLabel lblUEmail;\r\n    private JLabel lblPass;\r\n    private JLabel lblAcc;\r\n    private JLabel lblConn;\r\n    private JLabel lblCheck; \r\n    private JLabel lblPic1;\r\n    private JLabel lblPic2;\r\n    ImageIcon icon1, icon2;\r\n       \r\n    private JComboBox&lt;String&gt; accountType;\r\n\r\n    private Database database;\r\n\r\n    /**\r\n     * Constructor for objects of class Login\r\n     */\r\n    public Login()\r\n    {\r\n        \r\n        database = new Database();         \r\n        setLayout(new FlowLayout());         \r\n        String[] accountTypes = { &quot;Customer&quot;, &quot;Manager&quot;, };\r\n        //Creating the Combo Box and passing an array into it to display account type\r\n        accountType = new JComboBox(accountTypes);        \r\n        \r\n        //Creating new JLabel objects and label values\r\n        lblUEmail = new JLabel(&quot;Customer Email:&quot;);\r\n        lblUEmail.setForeground(Color.white);\r\n        lblPass = new JLabel(&quot;Password:&quot;);\r\n        lblPass.setForeground(Color.white);\r\n        lblAcc = new JLabel(&quot;Account Type:&quot;);\r\n        lblAcc.setForeground(Color.white);\r\n        lblConn = new JLabel(&quot;&quot;);\r\n        lblConn.setForeground(Color.white);\r\n        \r\n        lblCheck = new JLabel(&quot;&quot;);  \r\n        lblCheck.setForeground(Color.white);\r\n        \r\n        icon1 = new ImageIcon(&quot;hotelz.jpg&quot;);        \r\n        lblPic1 = new JLabel();        \r\n        \r\n        lblPic1.setIcon(icon1);        \r\n        \r\n        //Creating new JTextField object and value\r\n        txtUEmail = new JTextField(15);\r\n        \r\n        //Creating new JPasswordField object and value\r\n        txtPass = new JPasswordField(15);     \r\n        \r\n        //Creating the JButton objects\r\n        btnReg = new JButton(&quot;Register&quot;);\r\n        btnLogin = new JButton(&quot;Login&quot;);\r\n        //Declaring a label that we can use to provide information\r\n        //ie. it could say &quot;Incorrect Login Details&quot;   \r\n        \r\n        //Creating a container for the components \r\n        Container con = getContentPane();\r\n        //Making the container a Flow Layout\r\n        con.setBackground(Color.gray);\r\n        con.setLayout(new FlowLayout());\r\n                     \r\n        //Adding the components to the container\r\n        con.add(lblUEmail);\r\n        con.add(txtUEmail);\r\n        con.add(lblPass);\r\n        con.add(txtPass);\r\n        con.add(lblAcc);\r\n        con.add(accountType);\r\n        con.add(btnReg);\r\n        con.add(btnLogin);\r\n        con.add(lblCheck);\r\n        con.add(lblConn);\r\n        con.add(lblPic1);        \r\n        lblPic1.setOpaque(false);\r\n\r\n        \r\n        \r\n        if(database.conn != null)\r\n        {\r\n            lblConn.setText(&quot;Successful connection to database&quot;);\r\n        }\r\n        else\r\n        {\r\n            lblConn.setText(&quot;Cannot connect to database.  Please see your Systems Administrator.&quot;);\r\n        }           \r\n        con.setComponentZOrder(lblPic1, 0);\r\n        \r\n        //Calling the buttonActions() method\r\n        buttonActions();\r\n        \r\n        setVisible(true);       \r\n        setSize(400,600);        \r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        pack();\r\n    }\r\n    \r\n    //buttonActions method\r\n    public void buttonActions() {\r\n        //Event Handler for btnLogin\r\n        btnLogin.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                String userType = Objects.requireNonNull(accountType.getSelectedItem()).toString();\r\n                switch (userType) {\r\n                    case &quot;Customer&quot;:\r\n                        try {\r\n                            database.statement = database.conn.createStatement();\r\n                            database.resultSet = database.statement.executeQuery(&quot;SELECT * FROM customer&quot;);\r\n                            \r\n                            while (database.resultSet.next()) {\r\n                                int customerId = database.resultSet.getInt(1);\r\n                                String user = database.resultSet.getString(5);\r\n                                String pass = database.resultSet.getString(7);\r\n\r\n\r\n                                if ((user.equals(txtUEmail.getText()))&amp;&amp;(pass.equals(txtPass.getText()))) {\r\n                                    JOptionPane.showMessageDialog(null, &quot;Correct login details!&quot;);\r\n                                    dispose();\r\n                                    new CustomerMain(customerId);\r\n                                    return;\r\n                                } \r\n                            }                                \r\n                               JOptionPane.showMessageDialog(null, &quot;Incorrect login details!&quot;);\r\n                                   \r\n                               } catch (SQLException s) {\r\n                                   s.printStackTrace();\r\n                        }\r\n                        break;\r\n                    \r\n                    case &quot;Manager&quot;:\r\n                        try {\r\n                            database.statement = database.conn.createStatement();\r\n                            database.resultSet = database.statement.executeQuery(&quot;SELECT * FROM manager&quot;);\r\n\r\n                            while (database.resultSet.next()) {\r\n                                String user = database.resultSet.getString(5);\r\n                                String pass = database.resultSet.getString(7);\r\n\r\n                                if ((user.equals(txtUEmail.getText()))&amp;&amp;(pass.equals(txtPass.getText()))) {\r\n                                    JOptionPane.showMessageDialog(null, &quot;Correct login details!&quot;);\r\n                                    dispose();\r\n                                    //new AdminMain(txtUEmail.getText());\r\n                                    return;\r\n                                }\r\n                            }\r\n\r\n                            JOptionPane.showMessageDialog(null, &quot;Incorrect login details!&quot;);\r\n                        } catch (SQLException s) {\r\n                            s.printStackTrace();\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n        //Event handler for btnReg\r\n        btnReg.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                dispose();\r\n                new Register();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n[Result](https://i.stack.imgur.com/GTvj2.jpg)","title":"How to add a background image?","body":"<p>In the code I tried to move &quot;Hotelz.jpg&quot; to the bottom of the layer, but it does not work\nHow do I do that?</p>\n<p>I tried this code to add a background image, but it does not work\nI'm really new to Java so please explain why it isn't working</p>\n<p>There isn't much detail I can add, As I really don't know what to do</p>\n<p>This was closed, but the other answers isn't an answer for me</p>\n<p>Because their code is very different from mine and the answers they received doesn't help me</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.SQLException;\nimport java.util.Objects;\n\nclass Login extends JFrame {\n    private JTextField txtUEmail;\n    private JPasswordField txtPass;\n\n    private JButton btnLogin;\n    private JButton btnReg;\n            \n    private JLabel lblUEmail;\n    private JLabel lblPass;\n    private JLabel lblAcc;\n    private JLabel lblConn;\n    private JLabel lblCheck; \n    private JLabel lblPic1;\n    private JLabel lblPic2;\n    ImageIcon icon1, icon2;\n       \n    private JComboBox&lt;String&gt; accountType;\n\n    private Database database;\n\n    /**\n     * Constructor for objects of class Login\n     */\n    public Login()\n    {\n        \n        database = new Database();         \n        setLayout(new FlowLayout());         \n        String[] accountTypes = { &quot;Customer&quot;, &quot;Manager&quot;, };\n        //Creating the Combo Box and passing an array into it to display account type\n        accountType = new JComboBox(accountTypes);        \n        \n        //Creating new JLabel objects and label values\n        lblUEmail = new JLabel(&quot;Customer Email:&quot;);\n        lblUEmail.setForeground(Color.white);\n        lblPass = new JLabel(&quot;Password:&quot;);\n        lblPass.setForeground(Color.white);\n        lblAcc = new JLabel(&quot;Account Type:&quot;);\n        lblAcc.setForeground(Color.white);\n        lblConn = new JLabel(&quot;&quot;);\n        lblConn.setForeground(Color.white);\n        \n        lblCheck = new JLabel(&quot;&quot;);  \n        lblCheck.setForeground(Color.white);\n        \n        icon1 = new ImageIcon(&quot;hotelz.jpg&quot;);        \n        lblPic1 = new JLabel();        \n        \n        lblPic1.setIcon(icon1);        \n        \n        //Creating new JTextField object and value\n        txtUEmail = new JTextField(15);\n        \n        //Creating new JPasswordField object and value\n        txtPass = new JPasswordField(15);     \n        \n        //Creating the JButton objects\n        btnReg = new JButton(&quot;Register&quot;);\n        btnLogin = new JButton(&quot;Login&quot;);\n        //Declaring a label that we can use to provide information\n        //ie. it could say &quot;Incorrect Login Details&quot;   \n        \n        //Creating a container for the components \n        Container con = getContentPane();\n        //Making the container a Flow Layout\n        con.setBackground(Color.gray);\n        con.setLayout(new FlowLayout());\n                     \n        //Adding the components to the container\n        con.add(lblUEmail);\n        con.add(txtUEmail);\n        con.add(lblPass);\n        con.add(txtPass);\n        con.add(lblAcc);\n        con.add(accountType);\n        con.add(btnReg);\n        con.add(btnLogin);\n        con.add(lblCheck);\n        con.add(lblConn);\n        con.add(lblPic1);        \n        lblPic1.setOpaque(false);\n\n        \n        \n        if(database.conn != null)\n        {\n            lblConn.setText(&quot;Successful connection to database&quot;);\n        }\n        else\n        {\n            lblConn.setText(&quot;Cannot connect to database.  Please see your Systems Administrator.&quot;);\n        }           \n        con.setComponentZOrder(lblPic1, 0);\n        \n        //Calling the buttonActions() method\n        buttonActions();\n        \n        setVisible(true);       \n        setSize(400,600);        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pack();\n    }\n    \n    //buttonActions method\n    public void buttonActions() {\n        //Event Handler for btnLogin\n        btnLogin.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String userType = Objects.requireNonNull(accountType.getSelectedItem()).toString();\n                switch (userType) {\n                    case &quot;Customer&quot;:\n                        try {\n                            database.statement = database.conn.createStatement();\n                            database.resultSet = database.statement.executeQuery(&quot;SELECT * FROM customer&quot;);\n                            \n                            while (database.resultSet.next()) {\n                                int customerId = database.resultSet.getInt(1);\n                                String user = database.resultSet.getString(5);\n                                String pass = database.resultSet.getString(7);\n\n\n                                if ((user.equals(txtUEmail.getText()))&amp;&amp;(pass.equals(txtPass.getText()))) {\n                                    JOptionPane.showMessageDialog(null, &quot;Correct login details!&quot;);\n                                    dispose();\n                                    new CustomerMain(customerId);\n                                    return;\n                                } \n                            }                                \n                               JOptionPane.showMessageDialog(null, &quot;Incorrect login details!&quot;);\n                                   \n                               } catch (SQLException s) {\n                                   s.printStackTrace();\n                        }\n                        break;\n                    \n                    case &quot;Manager&quot;:\n                        try {\n                            database.statement = database.conn.createStatement();\n                            database.resultSet = database.statement.executeQuery(&quot;SELECT * FROM manager&quot;);\n\n                            while (database.resultSet.next()) {\n                                String user = database.resultSet.getString(5);\n                                String pass = database.resultSet.getString(7);\n\n                                if ((user.equals(txtUEmail.getText()))&amp;&amp;(pass.equals(txtPass.getText()))) {\n                                    JOptionPane.showMessageDialog(null, &quot;Correct login details!&quot;);\n                                    dispose();\n                                    //new AdminMain(txtUEmail.getText());\n                                    return;\n                                }\n                            }\n\n                            JOptionPane.showMessageDialog(null, &quot;Incorrect login details!&quot;);\n                        } catch (SQLException s) {\n                            s.printStackTrace();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n        });\n        //Event handler for btnReg\n        btnReg.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                dispose();\n                new Register();\n            }\n        });\n    }\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GTvj2.jpg\" rel=\"nofollow noreferrer\">Result</a></p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1269884225,"post_id":2539654,"comment_id":2540398,"body_markdown":"I don&#39;t think it is a good idea to change the state of an object while holding a lock on it. Also there should be no need to synchronize the `run()` method in `StatsHarvester`.","body":"I don&#39;t think it is a good idea to change the state of an object while holding a lock on it. Also there should be no need to synchronize the <code>run()</code> method in <code>StatsHarvester</code>."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":1,"creation_date":1269975076,"post_id":2539654,"comment_id":2549148,"body_markdown":"`synchronized` keyword in below snipped (in CHMSS) seems to be unnecessary. Unless you are harvesting stats using multiple threads concurrently (obviously, if so that seems odd). Even if you put `synchronized` there, it won&#39;t stop threads from calling notify() anyway. If I were you, I&#39;d not bother because stats don&#39;t have to be &quot;100%&quot; accurate. If you use CHM, there is no way to lock the entire map.\n\n synchronized (stats)\n                {\n                        copy = new HashMap&lt;String, Number&gt;(stats);\n                        stats.clear();\n                }\n                return copy;","body":"<code>synchronized</code> keyword in below snipped (in CHMSS) seems to be unnecessary. Unless you are harvesting stats using multiple threads concurrently (obviously, if so that seems odd). Even if you put <code>synchronized</code> there, it won&#39;t stop threads from calling notify() anyway. If I were you, I&#39;d not bother because stats don&#39;t have to be &quot;100%&quot; accurate. If you use CHM, there is no way to lock the entire map.   synchronized (stats)                 {                         copy = new HashMap&lt;String, Number&gt;(stats);                         stats.clear();                 }                 return copy;"}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1683136564,"creation_date":1269880993,"answer_id":2539666,"question_id":2539654,"body_markdown":"Why don&#39;t you use [`java.util.concurrent.ConcurrentHashMap&lt;K, V&gt;`][1]? It handles everything internally avoiding useless locks on the map and saving you a lot of work: you won&#39;t have to care about synchronizations on get and put..\r\n\r\n\r\nFrom the documentation:\r\n\r\n&gt; A hash table supporting full concurrency of retrievals and adjustable expected concurrency for updates. This class obeys the same functional specification as Hashtable, and includes versions of methods corresponding to each method of Hashtable. __However, even though all operations are thread-safe, retrieval operations do not entail locking__, and there is not any support for locking the entire table in a way that prevents all access.\r\n\r\nYou can specify its _concurrency level_:\r\n\r\n&gt; __The allowed concurrency among update operations is guided by the optional concurrencyLevel constructor argument (default 16), which is used as a hint for internal sizing__. The table is internally partitioned to try to permit the indicated number of concurrent updates without contention. Because placement in hash tables is essentially random, the actual concurrency will vary. __Ideally, you should choose a value to accommodate as many threads as will ever concurrently modify the table__. Using a significantly higher value than you need can waste space and time, and a significantly lower value can lead to thread contention. But overestimates and underestimates within an order of magnitude do not usually have much noticeable impact. A value of one is appropriate when it is known that only one thread will modify and all others will only read. Also, resizing this or any other kind of hash table is a relatively slow operation, so, when possible, it is a good idea to provide estimates of expected table sizes in constructors. \r\n\r\nAs suggested in comments read carefully the documentation of [ConcurrentHashMap][1], especially when it states about atomic or not atomic operations.\r\n\r\nTo have the guarantee of atomicity you should consider which operations are atomic, from `ConcurrentMap` interface you will know that:\r\n\r\n    V putIfAbsent(K key, V value)\r\n    V replace(K key, V value)\r\n    boolean replace(K key,V oldValue, V newValue)\r\n    boolean remove(Object key, Object value)\r\n\r\ncan be used safely.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html","title":"java concurrency: many writers, one reader","body":"<p>Why don't you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.ConcurrentHashMap&lt;K, V&gt;</code></a>? It handles everything internally avoiding useless locks on the map and saving you a lot of work: you won't have to care about synchronizations on get and put..</p>\n<p>From the documentation:</p>\n<blockquote>\n<p>A hash table supporting full concurrency of retrievals and adjustable expected concurrency for updates. This class obeys the same functional specification as Hashtable, and includes versions of methods corresponding to each method of Hashtable. <strong>However, even though all operations are thread-safe, retrieval operations do not entail locking</strong>, and there is not any support for locking the entire table in a way that prevents all access.</p>\n</blockquote>\n<p>You can specify its <em>concurrency level</em>:</p>\n<blockquote>\n<p><strong>The allowed concurrency among update operations is guided by the optional concurrencyLevel constructor argument (default 16), which is used as a hint for internal sizing</strong>. The table is internally partitioned to try to permit the indicated number of concurrent updates without contention. Because placement in hash tables is essentially random, the actual concurrency will vary. <strong>Ideally, you should choose a value to accommodate as many threads as will ever concurrently modify the table</strong>. Using a significantly higher value than you need can waste space and time, and a significantly lower value can lead to thread contention. But overestimates and underestimates within an order of magnitude do not usually have much noticeable impact. A value of one is appropriate when it is known that only one thread will modify and all others will only read. Also, resizing this or any other kind of hash table is a relatively slow operation, so, when possible, it is a good idea to provide estimates of expected table sizes in constructors.</p>\n</blockquote>\n<p>As suggested in comments read carefully the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>, especially when it states about atomic or not atomic operations.</p>\n<p>To have the guarantee of atomicity you should consider which operations are atomic, from <code>ConcurrentMap</code> interface you will know that:</p>\n<pre><code>V putIfAbsent(K key, V value)\nV replace(K key, V value)\nboolean replace(K key,V oldValue, V newValue)\nboolean remove(Object key, Object value)\n</code></pre>\n<p>can be used safely.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269881644,"creation_date":1269881644,"answer_id":2539723,"question_id":2539654,"body_markdown":"If we ignore the harvesting part and focus on the writing, the main bottleneck of the program is that the stats are locked at a very coarse level of granularity. If two threads want to update different keys, they must wait.\r\n\r\nIf you know the set of keys in advance, and can preinitialize the map so that by the time an update thread arrives the key is guaranteed to exist, you would be able to do locking on the accumulator variable instead of the whole map, or use a thread-safe accumulator object. \r\n\r\nInstead of implementing this yourself, there are map implementations that are designed specifically for concurrency and do this more fine-grained locking for you.\r\n\r\nOne caveat though are the stats, since you would need to get locks on all the accumulators at roughly the same time. If you use an existing concurrency-friendly map, there might be a construct for getting a snapshot. \r\n","title":"java concurrency: many writers, one reader","body":"<p>If we ignore the harvesting part and focus on the writing, the main bottleneck of the program is that the stats are locked at a very coarse level of granularity. If two threads want to update different keys, they must wait.</p>\n\n<p>If you know the set of keys in advance, and can preinitialize the map so that by the time an update thread arrives the key is guaranteed to exist, you would be able to do locking on the accumulator variable instead of the whole map, or use a thread-safe accumulator object. </p>\n\n<p>Instead of implementing this yourself, there are map implementations that are designed specifically for concurrency and do this more fine-grained locking for you.</p>\n\n<p>One caveat though are the stats, since you would need to get locks on all the accumulators at roughly the same time. If you use an existing concurrency-friendly map, there might be a construct for getting a snapshot. </p>\n"},{"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683154245,"creation_date":1269881753,"answer_id":2539732,"question_id":2539654,"body_markdown":"I would suggest taking a look at Java&#39;s util.concurrent library. I think you can implement this solution a lot cleaner. I don&#39;t think you need a map here at all. I would recommend implementing this using the [ConcurrentLinkedQueue][1]. Each &#39;producer&#39; can freely write to this queue without worrying about others. It can put an object on the queue with the data for its statistics.\r\n\r\nThe harvester can consume the queue continually pulling data off and processsing it. It can then store it however it needs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html","title":"java concurrency: many writers, one reader","body":"<p>I would suggest taking a look at Java's util.concurrent library. I think you can implement this solution a lot cleaner. I don't think you need a map here at all. I would recommend implementing this using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">ConcurrentLinkedQueue</a>. Each 'producer' can freely write to this queue without worrying about others. It can put an object on the queue with the data for its statistics.</p>\n<p>The harvester can consume the queue continually pulling data off and processsing it. It can then store it however it needs.</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1395415003,"creation_date":1269882051,"answer_id":2539761,"question_id":2539654,"body_markdown":"As jack was eluding to you can use the java.util.concurrent library which includes a ConcurrentHashMap and AtomicLong.  You can put the AtomicLong in if absent else, you can increment the value.  Since AtomicLong is thread safe you will be able to increment the variable without worry about a concurrency issue.\r\n\r\n\r\n    public void notify(String key) {\r\n        AtomicLong value = stats.get(key);\r\n        if (value == null) {\r\n            value = stats.putIfAbsent(key, new AtomicLong(1));\r\n        }\r\n        if (value != null) {\r\n            value.incrementAndGet();\r\n        }\r\n    }\r\n\r\n\r\nThis should be both fast and thread safe\r\n\r\nEdit: Refactored sligthly so there is only at most two lookups.","title":"java concurrency: many writers, one reader","body":"<p>As jack was eluding to you can use the java.util.concurrent library which includes a ConcurrentHashMap and AtomicLong.  You can put the AtomicLong in if absent else, you can increment the value.  Since AtomicLong is thread safe you will be able to increment the variable without worry about a concurrency issue.</p>\n\n<pre><code>public void notify(String key) {\n    AtomicLong value = stats.get(key);\n    if (value == null) {\n        value = stats.putIfAbsent(key, new AtomicLong(1));\n    }\n    if (value != null) {\n        value.incrementAndGet();\n    }\n}\n</code></pre>\n\n<p>This should be both fast and thread safe</p>\n\n<p>Edit: Refactored sligthly so there is only at most two lookups.</p>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683135556,"creation_date":1269882153,"answer_id":2539773,"question_id":2539654,"body_markdown":"Have you looked into [`ScheduledThreadPoolExecutor`][1]? You could use that to schedule your writers, which could all write to a concurrent collection, such as the `ConcurrentLinkedQueue` mentioned by @Chris Dail. You can have a separately schedule job to read from the Queue as necessary, and the Java SDK should handle pretty much all your concurrency concerns, no manual locking needed.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html","title":"java concurrency: many writers, one reader","body":"<p>Have you looked into <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor</code></a>? You could use that to schedule your writers, which could all write to a concurrent collection, such as the <code>ConcurrentLinkedQueue</code> mentioned by @Chris Dail. You can have a separately schedule job to read from the Queue as necessary, and the Java SDK should handle pretty much all your concurrency concerns, no manual locking needed.</p>\n"},{"tags":[],"owner":{"account_id":18056,"reputation":28943,"user_id":41012,"accept_rate":78,"display_name":"Ben Lings"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1269955273,"creation_date":1269882357,"answer_id":2539800,"question_id":2539654,"body_markdown":"Chris Dail&#39;s answer looks like a good approach.\r\n\r\nAnother alternative would be to use a concurrent `Multiset`.  There is one in the [Google Collections library][1].  You could use this as follows:\r\n\r\n    private Multiset&lt;String&gt; stats = ConcurrentHashMultiset.create();\r\n\r\n    public void notify ( String key )\r\n    {\r\n        stats.add(key, 1);\r\n    }\r\n\r\nLooking at the [source][2], this is implemented using a `ConcurrentHashMap` and using `putIfAbsent` and the three-argument version of `replace` to detect concurrent modifications and retry.\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ConcurrentHashMultiset.html\r\n  [2]: http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/ConcurrentHashMultiset.java","title":"java concurrency: many writers, one reader","body":"<p>Chris Dail's answer looks like a good approach.</p>\n\n<p>Another alternative would be to use a concurrent <code>Multiset</code>.  There is one in the <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ConcurrentHashMultiset.html\" rel=\"nofollow noreferrer\">Google Collections library</a>.  You could use this as follows:</p>\n\n<pre><code>private Multiset&lt;String&gt; stats = ConcurrentHashMultiset.create();\n\npublic void notify ( String key )\n{\n    stats.add(key, 1);\n}\n</code></pre>\n\n<p>Looking at the <a href=\"http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/ConcurrentHashMultiset.java\" rel=\"nofollow noreferrer\">source</a>, this is implemented using a <code>ConcurrentHashMap</code> and using <code>putIfAbsent</code> and the three-argument version of <code>replace</code> to detect concurrent modifications and retry.</p>\n"},{"tags":[],"owner":{"account_id":46369,"reputation":7786,"user_id":136928,"accept_rate":60,"display_name":"sjlee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280271737,"creation_date":1269885004,"answer_id":2540073,"question_id":2539654,"body_markdown":"A different approach to the problem is to exploit the (trivial) thread safety via thread confinement. Basically create a single background thread that takes care of both reading and writing. It has a pretty good characteristics in terms of scalability and simplicity.\r\n\r\nThe idea is that instead of all the threads trying to update the data directly, they produce an &quot;update&quot; task for the background thread to process. The same thread can also do the read task, assuming some lags in processing updates is tolerable.\r\n\r\nThis design is pretty nice because the threads will no longer have to compete for a lock to update data, and since the map is confined to a single thread you can simply use a plain HashMap to do get/put, etc. In terms of implementation, it would mean creating a single threaded executor, and submitting write tasks which may also perform the optional &quot;collectAndSave&quot; operation.\r\n\r\nA sketch of code may look like the following:\r\n\r\n    public class StatsService {\r\n        private ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        private final Map&lt;String,Long&gt; stats = new HashMap&lt;String,Long&gt;();\r\n\r\n        public void notify(final String key) {\r\n            Runnable r = new Runnable() {\r\n                public void run() {\r\n                    Long value = stats.get(key);\r\n                    if (value == null) {\r\n                        value = 1L;\r\n                    } else {\r\n                        value++;\r\n                    }\r\n                    stats.put(key, value);\r\n                    // do the optional collectAndSave periodically\r\n                    if (timeToDoCollectAndSave()) {\r\n                        collectAndSave();\r\n                    }\r\n                }\r\n            };\r\n            executor.execute(r);\r\n        }\r\n    }\r\n\r\nThere is a BlockingQueue associated with an executor, and each thread that produces a task for the StatsService uses the BlockingQueue. The key point is this: **the locking duration for this operation should be much shorter** than the locking duration in the original code, so the contention should be much less. Overall it should result in a much better throughput and latency.\r\n\r\nAnother benefit is that since only one thread reads and writes to the map, plain HashMap and primitive long type can be used (no ConcurrentHashMap or atomic types involved). This also simplifies the code that actually processes it a great deal.\r\n\r\nHope it helps.\r\n","title":"java concurrency: many writers, one reader","body":"<p>A different approach to the problem is to exploit the (trivial) thread safety via thread confinement. Basically create a single background thread that takes care of both reading and writing. It has a pretty good characteristics in terms of scalability and simplicity.</p>\n\n<p>The idea is that instead of all the threads trying to update the data directly, they produce an \"update\" task for the background thread to process. The same thread can also do the read task, assuming some lags in processing updates is tolerable.</p>\n\n<p>This design is pretty nice because the threads will no longer have to compete for a lock to update data, and since the map is confined to a single thread you can simply use a plain HashMap to do get/put, etc. In terms of implementation, it would mean creating a single threaded executor, and submitting write tasks which may also perform the optional \"collectAndSave\" operation.</p>\n\n<p>A sketch of code may look like the following:</p>\n\n<pre><code>public class StatsService {\n    private ExecutorService executor = Executors.newSingleThreadExecutor();\n    private final Map&lt;String,Long&gt; stats = new HashMap&lt;String,Long&gt;();\n\n    public void notify(final String key) {\n        Runnable r = new Runnable() {\n            public void run() {\n                Long value = stats.get(key);\n                if (value == null) {\n                    value = 1L;\n                } else {\n                    value++;\n                }\n                stats.put(key, value);\n                // do the optional collectAndSave periodically\n                if (timeToDoCollectAndSave()) {\n                    collectAndSave();\n                }\n            }\n        };\n        executor.execute(r);\n    }\n}\n</code></pre>\n\n<p>There is a BlockingQueue associated with an executor, and each thread that produces a task for the StatsService uses the BlockingQueue. The key point is this: <strong>the locking duration for this operation should be much shorter</strong> than the locking duration in the original code, so the contention should be much less. Overall it should result in a much better throughput and latency.</p>\n\n<p>Another benefit is that since only one thread reads and writes to the map, plain HashMap and primitive long type can be used (no ConcurrentHashMap or atomic types involved). This also simplifies the code that actually processes it a great deal.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":1848338,"reputation":1157,"user_id":1675502,"accept_rate":42,"display_name":"V&#237;ctor Herraiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358895478,"creation_date":1358872409,"answer_id":14463417,"question_id":2539654,"body_markdown":"Another alternative for implement both methods using [ReentranReadWriteLock][1]. This implementation protects against race conditions at getStats method, if you need to clear the counters. Also it removes the mutable AtomicLong from the getStats an uses an immutable Long.\r\n\r\n\r\n    public class StatsService {\r\n\t\r\n\t\tprivate final Map&lt;String, AtomicLong&gt; stats = new HashMap&lt;String, AtomicLong&gt;(1000);\r\n\t    private final ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\r\n\t    private final Lock r = rwl.readLock();\r\n\t    private final Lock w = rwl.writeLock();\r\n\t\r\n\t\tpublic void  notify(final String key) {\r\n\t\t\tr.lock();\r\n\t\t\tAtomicLong count = stats.get(key);\r\n\t\t\tif (count == null) {\r\n\t\t\t\tr.unlock();\r\n\t\t\t\tw.lock();\r\n\t\t\t\tcount = stats.get(key);\r\n\t\t\t\tif(count == null) { \r\n\t\t\t\t\tcount = new AtomicLong();\r\n\t\t\t\t\tstats.put(key, count);\r\n\t\t\t\t}\r\n\t\t\t\tr.lock();\r\n\t\t\t\tw.unlock();\r\n\t\t\t}\r\n\t\t\tcount.incrementAndGet();\r\n\t\t\tr.unlock();\r\n\t\t}\r\n\t\r\n\t\tpublic Map&lt;String, Long&gt; getStats() {\r\n\t\t\tw.lock();\r\n\t\t\t\r\n\t\t\tMap&lt;String, Long&gt; copy = new HashMap&lt;String, Long&gt;();\r\n\t\t\tfor(Entry&lt;String,AtomicLong&gt; entry : stats.entrySet() ){\r\n\t\t\t\t\tcopy.put(entry.getKey(), entry.getValue().longValue());\r\n\t\t\t}\r\n\t\t\tstats.clear();\r\n\t\t\tw.unlock();\r\n\t\t\t\r\n\t\t\treturn copy;\r\n\t\t}\r\n\t}\r\n\r\nI hope this helps, any comments are welcome! \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"java concurrency: many writers, one reader","body":"<p>Another alternative for implement both methods using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow\">ReentranReadWriteLock</a>. This implementation protects against race conditions at getStats method, if you need to clear the counters. Also it removes the mutable AtomicLong from the getStats an uses an immutable Long.</p>\n\n<pre><code>public class StatsService {\n\n    private final Map&lt;String, AtomicLong&gt; stats = new HashMap&lt;String, AtomicLong&gt;(1000);\n    private final ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\n    private final Lock r = rwl.readLock();\n    private final Lock w = rwl.writeLock();\n\n    public void  notify(final String key) {\n        r.lock();\n        AtomicLong count = stats.get(key);\n        if (count == null) {\n            r.unlock();\n            w.lock();\n            count = stats.get(key);\n            if(count == null) { \n                count = new AtomicLong();\n                stats.put(key, count);\n            }\n            r.lock();\n            w.unlock();\n        }\n        count.incrementAndGet();\n        r.unlock();\n    }\n\n    public Map&lt;String, Long&gt; getStats() {\n        w.lock();\n\n        Map&lt;String, Long&gt; copy = new HashMap&lt;String, Long&gt;();\n        for(Entry&lt;String,AtomicLong&gt; entry : stats.entrySet() ){\n                copy.put(entry.getKey(), entry.getValue().longValue());\n        }\n        stats.clear();\n        w.unlock();\n\n        return copy;\n    }\n}\n</code></pre>\n\n<p>I hope this helps, any comments are welcome! </p>\n"},{"tags":[],"owner":{"account_id":3331986,"reputation":1920,"user_id":2800708,"accept_rate":45,"display_name":"user2800708"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417784239,"creation_date":1398867112,"answer_id":23390492,"question_id":2539654,"body_markdown":"Here is how to do it with minimal impact on the performance of the threads being measured. This is the fastest solution possible in Java, without resorting to special hardware registers for performance counting.\r\n\r\nHave each thread output its stats independently of the others, that is with no synchronization, to some stats object. Make the field containing the count volatile, so it is memory fenced:\r\n\r\n    class Stats\r\n    {\r\n       public volatile long count;\r\n    }\r\n\r\n    class SomeRunnable implements Runnable\r\n    {\r\n       public void run()\r\n       {\r\n         doStuff();\r\n         stats.count++;\r\n       }\r\n    }\r\n\r\nHave another thread, that holds a reference to all the Stats objects, periodically go around them all and add up the counts across all threads:\r\n\r\n    public long accumulateStats()\r\n    {\r\n       long count = previousCount;\r\n    \r\n       for (Stats stat : allStats)\r\n       {\r\n           count += stat.count;\r\n       }\r\n    \r\n       long resultDelta = count - previousCount;\r\n       previousCount = count;\r\n    \r\n       return resultDelta;\r\n    }\r\n\r\nThis gatherer thread also needs a sleep() (or some other throttle) added to it. It can periodically output counts/sec to the console for example, to give you a &quot;live&quot; view of how your application is performing.\r\n\r\nThis avoids the synchronization overhead about as much as you can. \r\n\r\nThe other trick to consider is padding the Stats objects to 128 (or 256 bytes on SandyBridge or later), so as to keep the different threads counts on different cache lines, or there will be caching contention on the CPU.\r\n\r\nWhen only one thread reads and one writes, you do not need locks or atomics, a volatile is sufficient. There will still be some thread contention, when the stats reader thread interacts with the CPU cache line of the thread being measured. This cannot be avoided, but it is the way to do it with minimal impact on the running thread; read the stats maybe once a second or less.","title":"java concurrency: many writers, one reader","body":"<p>Here is how to do it with minimal impact on the performance of the threads being measured. This is the fastest solution possible in Java, without resorting to special hardware registers for performance counting.</p>\n\n<p>Have each thread output its stats independently of the others, that is with no synchronization, to some stats object. Make the field containing the count volatile, so it is memory fenced:</p>\n\n<pre><code>class Stats\n{\n   public volatile long count;\n}\n\nclass SomeRunnable implements Runnable\n{\n   public void run()\n   {\n     doStuff();\n     stats.count++;\n   }\n}\n</code></pre>\n\n<p>Have another thread, that holds a reference to all the Stats objects, periodically go around them all and add up the counts across all threads:</p>\n\n<pre><code>public long accumulateStats()\n{\n   long count = previousCount;\n\n   for (Stats stat : allStats)\n   {\n       count += stat.count;\n   }\n\n   long resultDelta = count - previousCount;\n   previousCount = count;\n\n   return resultDelta;\n}\n</code></pre>\n\n<p>This gatherer thread also needs a sleep() (or some other throttle) added to it. It can periodically output counts/sec to the console for example, to give you a \"live\" view of how your application is performing.</p>\n\n<p>This avoids the synchronization overhead about as much as you can. </p>\n\n<p>The other trick to consider is padding the Stats objects to 128 (or 256 bytes on SandyBridge or later), so as to keep the different threads counts on different cache lines, or there will be caching contention on the CPU.</p>\n\n<p>When only one thread reads and one writes, you do not need locks or atomics, a volatile is sufficient. There will still be some thread contention, when the stats reader thread interacts with the CPU cache line of the thread being measured. This cannot be avoided, but it is the way to do it with minimal impact on the running thread; read the stats maybe once a second or less.</p>\n"}],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11056,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":2539761,"answer_count":9,"score":17,"last_activity_date":1683154245,"creation_date":1269880768,"question_id":2539654,"body_markdown":"I need to gather some statistics in my software and i am trying to make it fast and correct, which is not easy (for me!) \r\n\r\nfirst my code so far with two classes, a StatsService and a StatsHarvester\r\n\r\n    public class StatsService\r\n    {\r\n\tprivate Map&lt;String, Long&gt;\tstats\t= new HashMap&lt;String, Long&gt;(1000);\r\n\r\n\tpublic void notify ( String key )\r\n\t{\r\n\t\tLong value = 1l;\r\n\t\tsynchronized (stats)\r\n\t\t{\r\n\t\t\tif (stats.containsKey(key))\r\n\t\t\t{\r\n\t\t\t\tvalue = stats.get(key) + 1;\r\n\t\t\t}\r\n\t\t\tstats.put(key, value);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Map&lt;String, Long&gt; getStats ( )\r\n\t{\r\n\t\tMap&lt;String, Long&gt; copy;\r\n\t\tsynchronized (stats)\r\n\t\t{\r\n\t\t\tcopy = new HashMap&lt;String, Long&gt;(stats);\r\n\t\t\tstats.clear();\r\n\t\t}\r\n\t\treturn copy;\r\n\t}\r\n    }\r\n\r\nthis is my second class, a harvester which collects the stats from time to time and writes them to a database.\r\n\r\n    public class StatsHarvester implements Runnable\r\n    {\r\n\tprivate StatsService\tstatsService;\r\n\tprivate Thread\t\t\tt;\r\n\r\n\tpublic void init ( )\r\n\t{\r\n\t\tt = new Thread(this);\r\n\t\tt.start();\r\n\t}\r\n\r\n\tpublic synchronized void run ( )\r\n\t{\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\twait(5 * 60 * 1000); // 5 minutes\r\n\t\t\t\tcollectAndSave();\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void collectAndSave ( )\r\n\t{\r\n\t\tMap&lt;String, Long&gt; stats = statsService.getStats();\r\n\t\t// do something like:\r\n\t\t// saveRecords(stats);\r\n\t}\r\n    }\r\n\r\nAt runtime it will have about 30 concurrent running threads each calling `notify(key)` about 100 times. Only one StatsHarvester is calling `statsService.getStats()`\r\n\r\nSo i have many writers and only one reader. it would be nice to have accurate stats but i don&#39;t care if some records are lost on high concurrency.\r\n\r\nThe reader should run every 5 Minutes or whatever is reasonable.\r\n\r\nWriting should be as fast as possible. Reading should be fast but if it locks for about 300ms every 5 minutes, its fine.  \r\n\r\nI&#39;ve read many docs (Java concurrency in practice, effective java and so on), but i have the strong feeling that i need your advice to get it right.\r\n\r\nI hope i stated my problem clear and short enough to get valuable help.\r\n\r\n\r\n----------\r\n## EDIT ##\r\n\r\nThanks to all for your detailed and helpful answers. As i expected there is more than one way to do it.\r\n\r\nI tested most of your proposals (those i understood) and uploaded a test project to google code for further reference (maven project)\r\n \r\n[http://code.google.com/p/javastats/][1]\r\n\r\nI have tested different implementations of my StatsService\r\n\r\n - HashMapStatsService (HMSS)\r\n - ConcurrentHashMapStatsService (CHMSS)\r\n - LinkedQueueStatsService (LQSS)\r\n - GoogleStatsService (GSS)\r\n - ExecutorConcurrentHashMapStatsService (ECHMSS)\r\n - ExecutorHashMapStatsService (EHMSS)\r\n\r\nand i tested them with `x` number of Threads each calling notify `y` times, results are in ms\r\n\r\n             10,100   10,1000  10,5000  50,100   50,1000  50,5000  100,100  100,1000 100,5000 \r\n    GSS       1        5        17       7        21       117      7        37       254       Summe: 466\r\n    ECHMSS    1        6        21       5        32       132      8        54       249       Summe: 508\r\n    HMSS      1        8        45       8        52       233      11       103      449       Summe: 910\r\n    EHMSS     1        5        24       7        31       113      8        67       235       Summe: 491\r\n    CHMSS     1        2        9        3        11       40       7        26       72        Summe: 171\r\n    LQSS      0        3        11       3        16       56       6        27       144       Summe: 266\r\n\r\n  [1]: http://code.google.com/p/javastats/\r\n\r\nAt this moment i think i will use ConcurrentHashMap, as it offers good performance while it is quite easy to understand.\r\n\r\nThanks for all your input!\r\nJanning\r\n\r\n\r\n","title":"java concurrency: many writers, one reader","body":"<p>I need to gather some statistics in my software and i am trying to make it fast and correct, which is not easy (for me!) </p>\n\n<p>first my code so far with two classes, a StatsService and a StatsHarvester</p>\n\n<pre><code>public class StatsService\n{\nprivate Map&lt;String, Long&gt;   stats   = new HashMap&lt;String, Long&gt;(1000);\n\npublic void notify ( String key )\n{\n    Long value = 1l;\n    synchronized (stats)\n    {\n        if (stats.containsKey(key))\n        {\n            value = stats.get(key) + 1;\n        }\n        stats.put(key, value);\n    }\n}\n\npublic Map&lt;String, Long&gt; getStats ( )\n{\n    Map&lt;String, Long&gt; copy;\n    synchronized (stats)\n    {\n        copy = new HashMap&lt;String, Long&gt;(stats);\n        stats.clear();\n    }\n    return copy;\n}\n}\n</code></pre>\n\n<p>this is my second class, a harvester which collects the stats from time to time and writes them to a database.</p>\n\n<pre><code>public class StatsHarvester implements Runnable\n{\nprivate StatsService    statsService;\nprivate Thread          t;\n\npublic void init ( )\n{\n    t = new Thread(this);\n    t.start();\n}\n\npublic synchronized void run ( )\n{\n    while (true)\n    {\n        try\n        {\n            wait(5 * 60 * 1000); // 5 minutes\n            collectAndSave();\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate void collectAndSave ( )\n{\n    Map&lt;String, Long&gt; stats = statsService.getStats();\n    // do something like:\n    // saveRecords(stats);\n}\n}\n</code></pre>\n\n<p>At runtime it will have about 30 concurrent running threads each calling <code>notify(key)</code> about 100 times. Only one StatsHarvester is calling <code>statsService.getStats()</code></p>\n\n<p>So i have many writers and only one reader. it would be nice to have accurate stats but i don't care if some records are lost on high concurrency.</p>\n\n<p>The reader should run every 5 Minutes or whatever is reasonable.</p>\n\n<p>Writing should be as fast as possible. Reading should be fast but if it locks for about 300ms every 5 minutes, its fine.  </p>\n\n<p>I've read many docs (Java concurrency in practice, effective java and so on), but i have the strong feeling that i need your advice to get it right.</p>\n\n<p>I hope i stated my problem clear and short enough to get valuable help.</p>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>Thanks to all for your detailed and helpful answers. As i expected there is more than one way to do it.</p>\n\n<p>I tested most of your proposals (those i understood) and uploaded a test project to google code for further reference (maven project)</p>\n\n<p><a href=\"http://code.google.com/p/javastats/\" rel=\"noreferrer\">http://code.google.com/p/javastats/</a></p>\n\n<p>I have tested different implementations of my StatsService</p>\n\n<ul>\n<li>HashMapStatsService (HMSS)</li>\n<li>ConcurrentHashMapStatsService (CHMSS)</li>\n<li>LinkedQueueStatsService (LQSS)</li>\n<li>GoogleStatsService (GSS)</li>\n<li>ExecutorConcurrentHashMapStatsService (ECHMSS)</li>\n<li>ExecutorHashMapStatsService (EHMSS)</li>\n</ul>\n\n<p>and i tested them with <code>x</code> number of Threads each calling notify <code>y</code> times, results are in ms</p>\n\n<pre><code>         10,100   10,1000  10,5000  50,100   50,1000  50,5000  100,100  100,1000 100,5000 \nGSS       1        5        17       7        21       117      7        37       254       Summe: 466\nECHMSS    1        6        21       5        32       132      8        54       249       Summe: 508\nHMSS      1        8        45       8        52       233      11       103      449       Summe: 910\nEHMSS     1        5        24       7        31       113      8        67       235       Summe: 491\nCHMSS     1        2        9        3        11       40       7        26       72        Summe: 171\nLQSS      0        3        11       3        16       56       6        27       144       Summe: 266\n</code></pre>\n\n<p>At this moment i think i will use ConcurrentHashMap, as it offers good performance while it is quite easy to understand.</p>\n\n<p>Thanks for all your input!\nJanning</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1376963485,"creation_date":1376963485,"answer_id":18325780,"question_id":18325666,"body_markdown":"The order is not required to be stable across runs. However, the field&#39;s `hashCode()` value is defined to be stable (it&#39;s documented to always be `field.getDeclaringClass().getName().hashCode() ^ field.getName().hashCode()`), so you may be able to use that as your ID, with the understanding that the hash code is not guaranteed to be unique.\r\n\r\nAlternatively, you may sort the results returned from `getDeclaredFields()` yourself, using whatever sorting criteria suits you.","title":"Does Class.getDeclaredFields() return members in a consistent order?","body":"<p>The order is not required to be stable across runs. However, the field's <code>hashCode()</code> value is defined to be stable (it's documented to always be <code>field.getDeclaringClass().getName().hashCode() ^ field.getName().hashCode()</code>), so you may be able to use that as your ID, with the understanding that the hash code is not guaranteed to be unique.</p>\n\n<p>Alternatively, you may sort the results returned from <code>getDeclaredFields()</code> yourself, using whatever sorting criteria suits you.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683153526,"creation_date":1376964858,"answer_id":18325964,"question_id":18325666,"body_markdown":"&gt; However I am not sure if this implies that the order will not be consistent each time the application invokes the routine.\r\n\r\nIt does not guarantee that it will be consistent over time.  But it might be consistent over time.  \r\n\r\nAnd the behavior might be different for different JVM versions or vendors.  And it might be affected by unexpected things ... like class unload / reload, or JIT recompilation.\r\n\r\nIn short, even if your scheme *appears* to work, it is liable to be fragile.  It is unwise to rely on undocumented behavior.\r\n\r\n-----------------\r\n\r\nIt also depends on what you mean by &quot;over time&quot;.  If you mean &quot;over time&quot; within a single run of the application, then it is (IMO) more likely that order will be consistent than if you consider different runs of the application.\r\n\r\nFinally, beware of using `hashCode()` to give you an ordering.  Hash codes can collide, and if you get a collision your ordering will be ambiguous.  The probability of a collision is small but not zero, and if your use-case is security related then it would not be difficult for someone with knowledge of the algorithm to manufacture a collision.","title":"Does Class.getDeclaredFields() return members in a consistent order?","body":"<blockquote>\n<p>However I am not sure if this implies that the order will not be consistent each time the application invokes the routine.</p>\n</blockquote>\n<p>It does not guarantee that it will be consistent over time.  But it might be consistent over time.</p>\n<p>And the behavior might be different for different JVM versions or vendors.  And it might be affected by unexpected things ... like class unload / reload, or JIT recompilation.</p>\n<p>In short, even if your scheme <em>appears</em> to work, it is liable to be fragile.  It is unwise to rely on undocumented behavior.</p>\n<hr />\n<p>It also depends on what you mean by &quot;over time&quot;.  If you mean &quot;over time&quot; within a single run of the application, then it is (IMO) more likely that order will be consistent than if you consider different runs of the application.</p>\n<p>Finally, beware of using <code>hashCode()</code> to give you an ordering.  Hash codes can collide, and if you get a collision your ordering will be ambiguous.  The probability of a collision is small but not zero, and if your use-case is security related then it would not be difficult for someone with knowledge of the algorithm to manufacture a collision.</p>\n"}],"owner":{"account_id":1071799,"reputation":834,"user_id":1070878,"accept_rate":100,"display_name":"Jeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6491,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":18325780,"answer_count":2,"score":12,"last_activity_date":1683153526,"creation_date":1376962599,"question_id":18325666,"body_markdown":"The documentation describes the method as:\r\n\r\n&gt;The elements in the array returned are not sorted and are not in any particular order\r\n\r\nHowever I am not sure if this implies that the order will not be consistent each time the application invokes the routine.\r\n\r\nI am looking for a way to pair a unique ID for each field that is found - but it also needs to be consistent with the next time the application is run, i.e continuously generate the same ID.\r\n\r\nI am wanting to just iterate over each Field found and increment a counter per each element iterated. Then assign the ID of the particular element to whatever the counter is equal to, these &#39;ids&#39; aren&#39;t consistent though if the Fields are not returned in a consistent order.","title":"Does Class.getDeclaredFields() return members in a consistent order?","body":"<p>The documentation describes the method as:</p>\n\n<blockquote>\n  <p>The elements in the array returned are not sorted and are not in any particular order</p>\n</blockquote>\n\n<p>However I am not sure if this implies that the order will not be consistent each time the application invokes the routine.</p>\n\n<p>I am looking for a way to pair a unique ID for each field that is found - but it also needs to be consistent with the next time the application is run, i.e continuously generate the same ID.</p>\n\n<p>I am wanting to just iterate over each Field found and increment a counter per each element iterated. Then assign the ID of the particular element to whatever the counter is equal to, these 'ids' aren't consistent though if the Fields are not returned in a consistent order.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683182285,"post_id":76168368,"comment_id":134327759,"body_markdown":"Have you any engine in your dependencies... also why using an older version of maven-surefire-plugin(current: 3.0.0)...","body":"Have you any engine in your dependencies... also why using an older version of maven-surefire-plugin(current: 3.0.0)..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1683206641,"post_id":76168368,"comment_id":134333454,"body_markdown":"junit-jupiter-engine, junit-platform-engine, and junit-platform-suite-engine . I&#39;ll try version 3.0.0 in a few hours.","body":"junit-jupiter-engine, junit-platform-engine, and junit-platform-suite-engine . I&#39;ll try version 3.0.0 in a few hours."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1683211761,"post_id":76168368,"comment_id":134334932,"body_markdown":"Ah, excellent. that worked. Moving forward.","body":"Ah, excellent. that worked. Moving forward."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683152799,"creation_date":1683152799,"question_id":76168368,"body_markdown":"I support a platform and parent pom used by a couple hundred services.  We&#39;ve been doing a gradual shift from JUnit 4 to JUnit 5. Initially, we wanted to allow both JUnit 4 and JUnit 5 tests, so we&#39;re including junit-vintage-engine as a dependency, and that is working fine.  When I run the build on a sample service, it runs all of the unit tests, which consists of one JUnit 4 test and several other tests, all JUnit 5.\r\n\r\nThis is what I see in the normal case:\r\n\r\n\t15:07:46 [INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ PlatformPilotMs ---\r\n\t15:07:46 [INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n\t15:07:47 [INFO] \r\n\t15:07:47 [INFO] -------------------------------------------------------\r\n\t15:07:47 [INFO]  T E S T S\r\n\t15:07:47 [INFO] -------------------------------------------------------\r\n\r\nI&#39;m now trying to take the next step to remove the junit-vintage-engine by default, allowing individual project poms to specify it, if they can&#39;t get off of JUnit 4 yet.\r\n\r\nSo, in the parent pom,  I added an exclusion for junit-vintage-engine on the one dependency that it comes from, and I also removed an explicit dependency for it.  I changed the version of that parent pom so I could compare the results.\r\n\r\nWhen the service is using the old pom, I can run &quot;mvn dependency:tree&quot;, and I find &quot;junit-vintage-engine&quot; in the dependencies.  When the service is using the new pom, I don&#39;t see &quot;junit-vintage-engine&quot; anywhere in the tree output.\r\n\r\nHowever, when I then run the build with it using the new parent pom, I see this:\r\n\r\n\t15:11:10 [INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ PlatformPilotMs ---\r\n\t15:11:10 [INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n\t15:11:10 [INFO] \r\n\t15:11:10 [INFO] -------------------------------------------------------\r\n\t15:11:10 [INFO]  T E S T S\r\n\t15:11:10 [INFO] -------------------------------------------------------\r\n\t15:11:12 [ERROR] TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\t15:11:12 [INFO] \r\n\t15:11:12 [INFO] Results:\r\n\t15:11:12 [INFO] \r\n\t15:11:12 [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nThis is perplexing.  I suppose it was sort of successful.  I expected this to not find the one JUnit 4 test.  That certainly worked.  However, it also failed to find any of the JUnit 5 tests.\r\n\r\nWhat might I doing wrong here?","title":"Excluding junit-vintage-engine says &quot;&#39;junit-jupiter&#39; failed to discover tests&quot;","body":"<p>I support a platform and parent pom used by a couple hundred services.  We've been doing a gradual shift from JUnit 4 to JUnit 5. Initially, we wanted to allow both JUnit 4 and JUnit 5 tests, so we're including junit-vintage-engine as a dependency, and that is working fine.  When I run the build on a sample service, it runs all of the unit tests, which consists of one JUnit 4 test and several other tests, all JUnit 5.</p>\n<p>This is what I see in the normal case:</p>\n<pre><code>15:07:46 [INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ PlatformPilotMs ---\n15:07:46 [INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n15:07:47 [INFO] \n15:07:47 [INFO] -------------------------------------------------------\n15:07:47 [INFO]  T E S T S\n15:07:47 [INFO] -------------------------------------------------------\n</code></pre>\n<p>I'm now trying to take the next step to remove the junit-vintage-engine by default, allowing individual project poms to specify it, if they can't get off of JUnit 4 yet.</p>\n<p>So, in the parent pom,  I added an exclusion for junit-vintage-engine on the one dependency that it comes from, and I also removed an explicit dependency for it.  I changed the version of that parent pom so I could compare the results.</p>\n<p>When the service is using the old pom, I can run &quot;mvn dependency:tree&quot;, and I find &quot;junit-vintage-engine&quot; in the dependencies.  When the service is using the new pom, I don't see &quot;junit-vintage-engine&quot; anywhere in the tree output.</p>\n<p>However, when I then run the build with it using the new parent pom, I see this:</p>\n<pre><code>15:11:10 [INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ PlatformPilotMs ---\n15:11:10 [INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n15:11:10 [INFO] \n15:11:10 [INFO] -------------------------------------------------------\n15:11:10 [INFO]  T E S T S\n15:11:10 [INFO] -------------------------------------------------------\n15:11:12 [ERROR] TestEngine with ID 'junit-jupiter' failed to discover tests\n15:11:12 [INFO] \n15:11:12 [INFO] Results:\n15:11:12 [INFO] \n15:11:12 [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>This is perplexing.  I suppose it was sort of successful.  I expected this to not find the one JUnit 4 test.  That certainly worked.  However, it also failed to find any of the JUnit 5 tests.</p>\n<p>What might I doing wrong here?</p>\n"},{"tags":["java","xml","logging","log4j"],"comments":[{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1683136882,"post_id":76166750,"comment_id":134321730,"body_markdown":"I just had a thought maybe the `serializer` fully qualified class name has something to do with it. I presume that serializer is loaded at runtime (hence specifying package.ClassName as a string in xml) and perhaps that class is not found in stage environment, but is present in production?","body":"I just had a thought maybe the <code>serializer</code> fully qualified class name has something to do with it. I presume that serializer is loaded at runtime (hence specifying package.ClassName as a string in xml) and perhaps that class is not found in stage environment, but is present in production?"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1683137011,"post_id":76166750,"comment_id":134321755,"body_markdown":"if the default behavior of the resulting ClassNotFoundException is to just dump the unformatted log, that would explain this","body":"if the default behavior of the resulting ClassNotFoundException is to just dump the unformatted log, that would explain this"},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1683141160,"post_id":76166750,"comment_id":134322513,"body_markdown":"Have you tried adding -Dlog4j2.debug to get some diagnostic information from log4j (i.e. at start-up).","body":"Have you tried adding -Dlog4j2.debug to get some diagnostic information from log4j (i.e. at start-up)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1683141530,"post_id":76166750,"comment_id":134322560,"body_markdown":"When building the configuration, Log4j 2 Core handles errors by logging an error on `System.err` and dropping the misconfigured/failing component.","body":"When building the configuration, Log4j 2 Core handles errors by logging an error on <code>System.err</code> and dropping the misconfigured/failing component."}],"answers":[{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683152752,"creation_date":1683152752,"answer_id":76168365,"question_id":76166750,"body_markdown":"The issue was that serializer in the StructuredLayout `com.mycompany.jvm.commons.logging.structured.kv.KeyValueSerializer` was not available in the dependency graph. Our production build is working but some time in between the last production build and this current build in staging, that dependency got dropped. Who knows why, but it could have been due to the fact we got &quot;lucky&quot; and had the dependency available via a transitive dependency, but that is no longer true.\r\n\r\nThe fix was to add a runtime dependency to gradle, to include that missing `KeyValueSerializer` type.\r\n\r\n```\r\nruntimeOnly(&quot;com.mycompany.jvm.commons.commons-logging:structured-layout-log4j2:1.11.1&quot;)\r\n```\r\n\r\nNote that this dependency is our own internal artifact, YMMV","title":"Log4j format (via -Dlog4j.configurationFile) not working in some env","body":"<p>The issue was that serializer in the StructuredLayout <code>com.mycompany.jvm.commons.logging.structured.kv.KeyValueSerializer</code> was not available in the dependency graph. Our production build is working but some time in between the last production build and this current build in staging, that dependency got dropped. Who knows why, but it could have been due to the fact we got &quot;lucky&quot; and had the dependency available via a transitive dependency, but that is no longer true.</p>\n<p>The fix was to add a runtime dependency to gradle, to include that missing <code>KeyValueSerializer</code> type.</p>\n<pre><code>runtimeOnly(&quot;com.mycompany.jvm.commons.commons-logging:structured-layout-log4j2:1.11.1&quot;)\n</code></pre>\n<p>Note that this dependency is our own internal artifact, YMMV</p>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76168365,"answer_count":1,"score":1,"last_activity_date":1683152752,"creation_date":1683136498,"question_id":76166750,"body_markdown":"Our app uses log4j to control logging behavior. It specifies the format of the log line via `Field` elements in the `Configuration.Appenders.RollingFile.StructuredLayout` section of the log4 config xml file (full config below). \r\n\r\n\r\nProblem: The log format is only being used in some of our environments, but not others. \r\n\r\nWe pass the log4j xml config to the app like so, the same for each environment\r\n```\r\n# command in stage\r\njava -Dlog4j.configurationFile=/opt/ais/config/log4j2.xml -jar myApp.jar\r\n\r\n# command in production\r\njava -Dlog4j.configurationFile=/opt/ais/config/log4j2.xml -jar myApp.jar\r\n```\r\n\r\nThe logs in stage have no formatting. The logs in production have the formatting we expect (specified in the xml).\r\n\r\n```\r\n# in stage (no format, not working)\r\n&gt; cat /opt/ais/logs/splunk/myApp/host-0-443.log\r\ntest log message\r\n\r\n# in prod (format, working as expected)\r\n&gt; cat /opt/ais/logs/splunk/myApp/host-0-443.log\r\ntimestamp=&quot;2023-05-03 07:13:15,461&quot;,level=&quot;INFO&quot;,thread=&quot;pool-2-thread-1&quot;,message=&quot;test log message&quot;,logger=&quot;MessageProcessor&quot;,appName=&quot;myApp&quot;,instanceNum=&quot;300&quot;,dataCenter=&quot;MR&quot;,partition=&quot;MR&quot;,buildVersion=&quot;1.0.0&quot;\r\n```\r\n\r\nThe xml file is present on each host, and the file path matches. So what could be causing one environment to honor the log format, and the other does not?\r\n\r\nFull log4j config xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;com.apple.jvm.commons.logging.structured&quot;&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;StructuredLayout/&gt;\r\n    &lt;/Console&gt;\r\n    &lt;RollingFile name=&quot;RollingFile&quot;\r\n                 fileName=&quot;/opt/ais/logs/splunk/${sys:ISApplicationName}/${sys:ISHostId}-${sys:ISInstanceId}-${sys:WOPort}.log&quot;\r\n                 filePattern=&quot;/opt/ais/logs/${sys:ISApplicationName}/${sys:ISHostId}-${sys:ISInstanceId}-${sys:WOPort}.%i.log&quot;&gt;\r\n      &lt;StructuredLayout serializer=&quot;com.mycompany.jvm.commons.logging.structured.kv.KeyValueSerializer&quot; fieldSeparator=&quot;,&quot; timeZoneId=&quot;America/Los_Angeles&quot;&gt;\r\n        &lt;Field name=&quot;timestamp&quot; pattern=&quot;%date{yyyy-MM-dd HH:mm:ss,SSS}{America/Los_Angeles}&quot;/&gt;\r\n        &lt;Basic exclude=&quot;timestamp&quot;/&gt;\r\n        &lt;Throwable name=&quot;exception&quot;/&gt;\r\n        &lt;Field name=&quot;appName&quot; value=&quot;${sys:ISApplicationName}&quot;/&gt;\r\n        &lt;Field name=&quot;instanceNum&quot; value=&quot;${sys:ISInstanceId}&quot;/&gt;\r\n        &lt;Field name=&quot;dataCenter&quot; value=&quot;${sys:ISDataCenter}&quot;/&gt;\r\n        &lt;Field name=&quot;partition&quot; value=&quot;${sys:partition}&quot;/&gt;\r\n        &lt;Field name=&quot;buildVersion&quot; value=&quot;${sys:build.version}&quot;/&gt;\r\n      &lt;/StructuredLayout&gt;\r\n      &lt;Policies&gt;\r\n        &lt;SizeBasedTriggeringPolicy size=&quot;500 MB&quot;/&gt;\r\n      &lt;/Policies&gt;\r\n    &lt;/RollingFile&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;info&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```","title":"Log4j format (via -Dlog4j.configurationFile) not working in some env","body":"<p>Our app uses log4j to control logging behavior. It specifies the format of the log line via <code>Field</code> elements in the <code>Configuration.Appenders.RollingFile.StructuredLayout</code> section of the log4 config xml file (full config below).</p>\n<p>Problem: The log format is only being used in some of our environments, but not others.</p>\n<p>We pass the log4j xml config to the app like so, the same for each environment</p>\n<pre><code># command in stage\njava -Dlog4j.configurationFile=/opt/ais/config/log4j2.xml -jar myApp.jar\n\n# command in production\njava -Dlog4j.configurationFile=/opt/ais/config/log4j2.xml -jar myApp.jar\n</code></pre>\n<p>The logs in stage have no formatting. The logs in production have the formatting we expect (specified in the xml).</p>\n<pre><code># in stage (no format, not working)\n&gt; cat /opt/ais/logs/splunk/myApp/host-0-443.log\ntest log message\n\n# in prod (format, working as expected)\n&gt; cat /opt/ais/logs/splunk/myApp/host-0-443.log\ntimestamp=&quot;2023-05-03 07:13:15,461&quot;,level=&quot;INFO&quot;,thread=&quot;pool-2-thread-1&quot;,message=&quot;test log message&quot;,logger=&quot;MessageProcessor&quot;,appName=&quot;myApp&quot;,instanceNum=&quot;300&quot;,dataCenter=&quot;MR&quot;,partition=&quot;MR&quot;,buildVersion=&quot;1.0.0&quot;\n</code></pre>\n<p>The xml file is present on each host, and the file path matches. So what could be causing one environment to honor the log format, and the other does not?</p>\n<p>Full log4j config xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.apple.jvm.commons.logging.structured&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;StructuredLayout/&gt;\n    &lt;/Console&gt;\n    &lt;RollingFile name=&quot;RollingFile&quot;\n                 fileName=&quot;/opt/ais/logs/splunk/${sys:ISApplicationName}/${sys:ISHostId}-${sys:ISInstanceId}-${sys:WOPort}.log&quot;\n                 filePattern=&quot;/opt/ais/logs/${sys:ISApplicationName}/${sys:ISHostId}-${sys:ISInstanceId}-${sys:WOPort}.%i.log&quot;&gt;\n      &lt;StructuredLayout serializer=&quot;com.mycompany.jvm.commons.logging.structured.kv.KeyValueSerializer&quot; fieldSeparator=&quot;,&quot; timeZoneId=&quot;America/Los_Angeles&quot;&gt;\n        &lt;Field name=&quot;timestamp&quot; pattern=&quot;%date{yyyy-MM-dd HH:mm:ss,SSS}{America/Los_Angeles}&quot;/&gt;\n        &lt;Basic exclude=&quot;timestamp&quot;/&gt;\n        &lt;Throwable name=&quot;exception&quot;/&gt;\n        &lt;Field name=&quot;appName&quot; value=&quot;${sys:ISApplicationName}&quot;/&gt;\n        &lt;Field name=&quot;instanceNum&quot; value=&quot;${sys:ISInstanceId}&quot;/&gt;\n        &lt;Field name=&quot;dataCenter&quot; value=&quot;${sys:ISDataCenter}&quot;/&gt;\n        &lt;Field name=&quot;partition&quot; value=&quot;${sys:partition}&quot;/&gt;\n        &lt;Field name=&quot;buildVersion&quot; value=&quot;${sys:build.version}&quot;/&gt;\n      &lt;/StructuredLayout&gt;\n      &lt;Policies&gt;\n        &lt;SizeBasedTriggeringPolicy size=&quot;500 MB&quot;/&gt;\n      &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1683155687,"post_id":76168356,"comment_id":134324932,"body_markdown":"&quot;Any suggestions on&quot; — a program really should not be writing into its own source directory tree. What is the actual _goal_ of writing the file there? (see https://xyproblem.info/)","body":"&quot;Any suggestions on&quot; — a program really should not be writing into its own source directory tree. What is the actual <i>goal</i> of writing the file there? (see <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>)"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683165587,"post_id":76168356,"comment_id":134325979,"body_markdown":"Your source folders are in the execution environment?","body":"Your source folders are in the execution environment?"},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1683175137,"post_id":76168356,"comment_id":134326770,"body_markdown":"Your java project most likely is compiled into a jar or war. What aled was alluding to is it&#39;s not typical for the source files to be deployed alongside the jar containing the compiled program.","body":"Your java project most likely is compiled into a jar or war. What aled was alluding to is it&#39;s not typical for the source files to be deployed alongside the jar containing the compiled program."}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683152630,"creation_date":1683152630,"question_id":76168356,"body_markdown":"I have a Spring boot application which is deployed in Kubernetes pods. I am trying to write to a file within my project folders.\r\n\r\nProject structure:\r\n\r\n```\r\nproject\r\n - src\r\n  - main\r\n   - resources\r\n  - test\r\n```\r\nI am trying to store a file under ```src/main/resources/{folderName}/{fileName}```. \r\n\r\nCode: \r\n```\r\n    File file = new File(filePath); // filePath is src/main/resources/{folderName}/{fileName}\r\n    if (file.getParentFile() != null) {\r\n        file.getParentFile().mkdirs();\r\n    }\r\n```\r\nOnce the path is created I&#39;m using BufferedWriter to write my string into the file. \r\nThis works just fine locally. But it fails when deployed in Kubernetes pods.\r\n\r\nAny suggestions on what can be done here?? Thanks!\r\n","title":"Unable to save file inside Java project folders","body":"<p>I have a Spring boot application which is deployed in Kubernetes pods. I am trying to write to a file within my project folders.</p>\n<p>Project structure:</p>\n<pre><code>project\n - src\n  - main\n   - resources\n  - test\n</code></pre>\n<p>I am trying to store a file under <code>src/main/resources/{folderName}/{fileName}</code>.</p>\n<p>Code:</p>\n<pre><code>    File file = new File(filePath); // filePath is src/main/resources/{folderName}/{fileName}\n    if (file.getParentFile() != null) {\n        file.getParentFile().mkdirs();\n    }\n</code></pre>\n<p>Once the path is created I'm using BufferedWriter to write my string into the file.\nThis works just fine locally. But it fails when deployed in Kubernetes pods.</p>\n<p>Any suggestions on what can be done here?? Thanks!</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1408087598,"post_id":25322658,"comment_id":39473668,"body_markdown":"My guess is that ServiceUser.method() is itself transactional. It shouldn&#39;t be. Post the full stack trace.","body":"My guess is that ServiceUser.method() is itself transactional. It shouldn&#39;t be. Post the full stack trace."},{"owner":{"account_id":4181333,"reputation":369,"user_id":3426286,"display_name":"papacito"},"score":0,"creation_date":1408087806,"post_id":25322658,"comment_id":39473740,"body_markdown":"try using `noRollbackFor` instead of `rollbackFor` in the `@Transactional` annotation","body":"try using <code>noRollbackFor</code> instead of <code>rollbackFor</code> in the <code>@Transactional</code> annotation"},{"owner":{"account_id":4074590,"reputation":1029,"user_id":3346601,"accept_rate":37,"display_name":"user3346601"},"score":0,"creation_date":1408088506,"post_id":25322658,"comment_id":39473951,"body_markdown":"@JBNizet Wow good guess, there was actually an `@Transactional` annotation at ServiceUser&#39;s class declaration. After removing that it works perfectly. Could you please post your comment as an answer (and maybe give a short explanation of the reason why it shouldnt be transactional)?","body":"@JBNizet Wow good guess, there was actually an <code>@Transactional</code> annotation at ServiceUser&#39;s class declaration. After removing that it works perfectly. Could you please post your comment as an answer (and maybe give a short explanation of the reason why it shouldnt be transactional)?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1408090079,"creation_date":1408089040,"answer_id":25322944,"question_id":25322658,"body_markdown":"My guess is that `ServiceUser.method()` is itself transactional. It shouldn&#39;t be. Here&#39;s the reason why.\r\n\r\nHere&#39;s what happens when a call is made to your `ServiceUser.method()` method:\r\n\r\n 1. the transactional interceptor intercepts the method call, and starts a transaction, because no transaction is already active\r\n 2. the method is called\r\n 3. the method calls MyService.doSth()\r\n 4. the transactional interceptor intercepts the method call, sees that a transaction is already active, and doesn&#39;t do anything\r\n 5. doSth() is executed and throws an exception\r\n 6. the transactional interceptor intercepts the exception, marks the transaction as rollbackOnly, and propagates the exception\r\n 7. ServiceUser.method() catches the exception and returns\r\n 8. the transactional interceptor, since it has started the transaction, tries to commit it. But Hibernate refuses to do it because the transaction is marked as rollbackOnly, so Hibernate throws an exception. The transaction interceptor signals it to the caller by throwing an exception wrapping the hibernate exception.\r\n\r\nNow if `ServiceUser.method()` is not transactional, here&#39;s what happens:\r\n\r\n 1. the method is called\r\n 2. the method calls MyService.doSth()\r\n 3. the transactional interceptor intercepts the method call, sees that no transaction is already active, and thus starts a transaction\r\n 4. doSth() is executed and throws an exception\r\n 5. the transactional interceptor intercepts the exception. Since it has started the transaction, and since an exception has been thrown, it rollbacks the transaction, and propagates the exception\r\n 6. ServiceUser.method() catches the exception and returns\r\n","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>My guess is that <code>ServiceUser.method()</code> is itself transactional. It shouldn't be. Here's the reason why.</p>\n\n<p>Here's what happens when a call is made to your <code>ServiceUser.method()</code> method:</p>\n\n<ol>\n<li>the transactional interceptor intercepts the method call, and starts a transaction, because no transaction is already active</li>\n<li>the method is called</li>\n<li>the method calls MyService.doSth()</li>\n<li>the transactional interceptor intercepts the method call, sees that a transaction is already active, and doesn't do anything</li>\n<li>doSth() is executed and throws an exception</li>\n<li>the transactional interceptor intercepts the exception, marks the transaction as rollbackOnly, and propagates the exception</li>\n<li>ServiceUser.method() catches the exception and returns</li>\n<li>the transactional interceptor, since it has started the transaction, tries to commit it. But Hibernate refuses to do it because the transaction is marked as rollbackOnly, so Hibernate throws an exception. The transaction interceptor signals it to the caller by throwing an exception wrapping the hibernate exception.</li>\n</ol>\n\n<p>Now if <code>ServiceUser.method()</code> is not transactional, here's what happens:</p>\n\n<ol>\n<li>the method is called</li>\n<li>the method calls MyService.doSth()</li>\n<li>the transactional interceptor intercepts the method call, sees that no transaction is already active, and thus starts a transaction</li>\n<li>doSth() is executed and throws an exception</li>\n<li>the transactional interceptor intercepts the exception. Since it has started the transaction, and since an exception has been thrown, it rollbacks the transaction, and propagates the exception</li>\n<li>ServiceUser.method() catches the exception and returns</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":357255,"reputation":20888,"user_id":697313,"display_name":"Yaroslav Stavnichiy"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1490023286,"creation_date":1490001596,"answer_id":42899742,"question_id":25322658,"body_markdown":"&gt; Could not commit JPA transaction: Transaction marked as rollbackOnly\r\n\r\n**This exception occurs when you invoke nested methods/services also marked as `@Transactional`**. JB Nizet explained the mechanism in detail. I&#39;d like to add some **scenarios** when it happens as well as some **ways to avoid it**.\r\n\r\nSuppose we have two Spring services: `Service1` and `Service2`. From our program we call `Service1.method1()` which in turn calls `Service2.method2()`:\r\n\r\n    class Service1 {\r\n        @Transactional\r\n        public void method1() {\r\n            try {\r\n                ...\r\n                service2.method2();\r\n                ...\r\n            } catch (Exception e) {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n    class Service2 {\r\n        @Transactional\r\n        public void method2() {\r\n            ...\r\n            throw new SomeException();\r\n            ...\r\n        }\r\n    }\r\n\r\n`SomeException` is unchecked (extends RuntimeException) unless stated otherwise.\r\n\r\nScenarios:\r\n\r\n1. Transaction marked for rollback by exception thrown out of `method2`. This is our default case explained by JB Nizet.\r\n\r\n2. Annotating `method2` as `@Transactional(readOnly = true)` still marks transaction for rollback (exception thrown when exiting from `method1`).\r\n\r\n3. Annotating both `method1` and `method2` as `@Transactional(readOnly = true)` still marks transaction for rollback (exception thrown when exiting from `method1`).\r\n\r\n4. Annotating `method2` with `@Transactional(noRollbackFor = SomeException)` prevents marking transaction for rollback (**no exception** thrown when exiting from `method1`).\r\n\r\n5. Suppose `method2` belongs to `Service1`. Invoking it from `method1` does not go through Spring&#39;s proxy, i.e. Spring is unaware of `SomeException` thrown out of `method2`. Transaction is **not marked for rollback** in this case.\r\n\r\n6. Suppose `method2` is not annotated with `@Transactional`. Invoking it from `method1` does go through Spring&#39;s proxy, but Spring pays no attention to exceptions thrown. Transaction is **not marked for rollback** in this case.\r\n\r\n7. Annotating `method2` with `@Transactional(propagation = Propagation.REQUIRES_NEW)` makes `method2` start new transaction. That second transaction is marked for rollback upon exit from `method2` but original transaction is unaffected in this case (**no exception** thrown when exiting from `method1`).\r\n\r\n8. In case `SomeException` is *checked* (does not extend RuntimeException), Spring by default does not mark transaction for rollback when intercepting checked exceptions (**no exception** thrown when exiting from `method1`).\r\n\r\nSee all scenarios tested in [this gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/yarosla/794fdff3a7c9448faa18d484066b4fa8","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<blockquote>\n  <p>Could not commit JPA transaction: Transaction marked as rollbackOnly</p>\n</blockquote>\n\n<p><strong>This exception occurs when you invoke nested methods/services also marked as <code>@Transactional</code></strong>. JB Nizet explained the mechanism in detail. I'd like to add some <strong>scenarios</strong> when it happens as well as some <strong>ways to avoid it</strong>.</p>\n\n<p>Suppose we have two Spring services: <code>Service1</code> and <code>Service2</code>. From our program we call <code>Service1.method1()</code> which in turn calls <code>Service2.method2()</code>:</p>\n\n<pre><code>class Service1 {\n    @Transactional\n    public void method1() {\n        try {\n            ...\n            service2.method2();\n            ...\n        } catch (Exception e) {\n            ...\n        }\n    }\n}\n\nclass Service2 {\n    @Transactional\n    public void method2() {\n        ...\n        throw new SomeException();\n        ...\n    }\n}\n</code></pre>\n\n<p><code>SomeException</code> is unchecked (extends RuntimeException) unless stated otherwise.</p>\n\n<p>Scenarios:</p>\n\n<ol>\n<li><p>Transaction marked for rollback by exception thrown out of <code>method2</code>. This is our default case explained by JB Nizet.</p></li>\n<li><p>Annotating <code>method2</code> as <code>@Transactional(readOnly = true)</code> still marks transaction for rollback (exception thrown when exiting from <code>method1</code>).</p></li>\n<li><p>Annotating both <code>method1</code> and <code>method2</code> as <code>@Transactional(readOnly = true)</code> still marks transaction for rollback (exception thrown when exiting from <code>method1</code>).</p></li>\n<li><p>Annotating <code>method2</code> with <code>@Transactional(noRollbackFor = SomeException)</code> prevents marking transaction for rollback (<strong>no exception</strong> thrown when exiting from <code>method1</code>).</p></li>\n<li><p>Suppose <code>method2</code> belongs to <code>Service1</code>. Invoking it from <code>method1</code> does not go through Spring's proxy, i.e. Spring is unaware of <code>SomeException</code> thrown out of <code>method2</code>. Transaction is <strong>not marked for rollback</strong> in this case.</p></li>\n<li><p>Suppose <code>method2</code> is not annotated with <code>@Transactional</code>. Invoking it from <code>method1</code> does go through Spring's proxy, but Spring pays no attention to exceptions thrown. Transaction is <strong>not marked for rollback</strong> in this case.</p></li>\n<li><p>Annotating <code>method2</code> with <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> makes <code>method2</code> start new transaction. That second transaction is marked for rollback upon exit from <code>method2</code> but original transaction is unaffected in this case (<strong>no exception</strong> thrown when exiting from <code>method1</code>).</p></li>\n<li><p>In case <code>SomeException</code> is <em>checked</em> (does not extend RuntimeException), Spring by default does not mark transaction for rollback when intercepting checked exceptions (<strong>no exception</strong> thrown when exiting from <code>method1</code>).</p></li>\n</ol>\n\n<p>See all scenarios tested in <a href=\"https://gist.github.com/yarosla/794fdff3a7c9448faa18d484066b4fa8\" rel=\"noreferrer\">this gist</a>.</p>\n"},{"tags":[],"owner":{"account_id":5242465,"reputation":541,"user_id":4189120,"display_name":"mahkras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510849976,"creation_date":1510849976,"answer_id":47334779,"question_id":25322658,"body_markdown":"As explained @Yaroslav Stavnichiy if a service is marked as transactional spring tries to handle transaction itself. If any exception occurs then a rollback operation performed. If in your scenario ServiceUser.method() is not performing any transactional operation you can use @Transactional.TxType annotation. &#39;NEVER&#39; option is used to manage that method outside transactional context. \r\n\r\nTransactional.TxType reference doc is [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>As explained @Yaroslav Stavnichiy if a service is marked as transactional spring tries to handle transaction itself. If any exception occurs then a rollback operation performed. If in your scenario ServiceUser.method() is not performing any transactional operation you can use @Transactional.TxType annotation. 'NEVER' option is used to manage that method outside transactional context. </p>\n\n<p>Transactional.TxType reference doc is <a href=\"https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6987823,"reputation":4269,"user_id":5358054,"display_name":"Nirbhay Rana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514973269,"creation_date":1514973269,"answer_id":48074980,"question_id":25322658,"body_markdown":"Save sub object first and then call final repository save method.\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    \tpublic String save(@ModelAttribute(&quot;shortcode&quot;) @Valid Shortcode shortcode, BindingResult result) {\r\n    \t\tShortcode existingShortcode = shortcodeService.findByShortcode(shortcode.getShortcode());\r\n    \t\tif (existingShortcode != null) {\r\n    \t\t\tresult.rejectValue(shortcode.getShortcode(), &quot;This shortode is already created.&quot;);\r\n    \t\t}\r\n    \t\tif (result.hasErrors()) {\r\n    \t\t\treturn &quot;redirect:/shortcode/create&quot;;\r\n    \t\t}\r\n    \t\t**shortcode.setUser(userService.findByUsername(shortcode.getUser().getUsername()));**\r\n    \t\tshortcodeService.save(shortcode);\r\n    \t\treturn &quot;redirect:/shortcode/create?success&quot;;\r\n    \t}","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>Save sub object first and then call final repository save method.</p>\n\n<pre><code>@PostMapping(\"/save\")\n    public String save(@ModelAttribute(\"shortcode\") @Valid Shortcode shortcode, BindingResult result) {\n        Shortcode existingShortcode = shortcodeService.findByShortcode(shortcode.getShortcode());\n        if (existingShortcode != null) {\n            result.rejectValue(shortcode.getShortcode(), \"This shortode is already created.\");\n        }\n        if (result.hasErrors()) {\n            return \"redirect:/shortcode/create\";\n        }\n        **shortcode.setUser(userService.findByUsername(shortcode.getUser().getUsername()));**\n        shortcodeService.save(shortcode);\n        return \"redirect:/shortcode/create?success\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558372,"reputation":165,"user_id":920874,"display_name":"Joel Richard Koett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532499655,"creation_date":1532499655,"answer_id":51512080,"question_id":25322658,"body_markdown":"For those who can&#39;t (or don&#39;t want to) setup a debugger to track down the original exception which was causing the rollback-flag to get set, you can just add a bunch of debug statements throughout your code to find the lines of code which trigger the rollback-only flag:\r\n\r\n    logger.debug(&quot;Is rollbackOnly: &quot; + TransactionAspectSupport.currentTransactionStatus().isRollbackOnly());\r\n\r\nAdding this throughout the code allowed me to narrow down the root cause, by numbering the debug statements and looking to see where the above method goes from returning &quot;false&quot; to &quot;true&quot;.\r\n\r\n","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>For those who can't (or don't want to) setup a debugger to track down the original exception which was causing the rollback-flag to get set, you can just add a bunch of debug statements throughout your code to find the lines of code which trigger the rollback-only flag:</p>\n\n<pre><code>logger.debug(\"Is rollbackOnly: \" + TransactionAspectSupport.currentTransactionStatus().isRollbackOnly());\n</code></pre>\n\n<p>Adding this throughout the code allowed me to narrow down the root cause, by numbering the debug statements and looking to see where the above method goes from returning \"false\" to \"true\".</p>\n"},{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683150631,"creation_date":1683150631,"answer_id":76168203,"question_id":25322658,"body_markdown":"For me this happened due to constraint violation , when I was trying to update not null field with null value using save.","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>For me this happened due to constraint violation , when I was trying to update not null field with null value using save.</p>\n"}],"owner":{"account_id":4074590,"reputation":1029,"user_id":3346601,"accept_rate":37,"display_name":"user3346601"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197391,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":25322944,"answer_count":6,"score":56,"last_activity_date":1683150631,"creation_date":1408087319,"question_id":25322658,"body_markdown":"I&#39;m using Spring and Hibernate in one of the applications that I&#39;m working on and I&#39;ve got a problem with handling of transactions.\r\n\r\nI&#39;ve got a service class that loads some entities from the database, modifies some of their values and then (when everything is valid) commits these changes to the database. If the new values are invalid (which I can only check after setting them) I do not want to persist the changes. To prevent Spring/Hibernate from saving the changes I throw an exception in the method. This however results in the following error: \r\n\r\n    Could not commit JPA transaction: Transaction marked as rollbackOnly\r\n\r\nAnd this is the service:\r\n\r\n    @Service\r\n    class MyService {\r\n\r\n      @Transactional(rollbackFor = MyCustomException.class)\r\n      public void doSth() throws MyCustomException {\r\n        //load entities from database\r\n        //modify some of their values\r\n        //check if they are valid\r\n        if(invalid) { //if they arent valid, throw an exception\r\n          throw new MyCustomException();\r\n        }\r\n\r\n      }\r\n    }\r\n\r\nAnd this is how I invoke it:\r\n\r\n    class ServiceUser {\r\n      @Autowired\r\n      private MyService myService;\r\n\r\n      public void method() {\r\n        try {\r\n          myService.doSth();\r\n        } catch (MyCustomException e) {\r\n          // ...\r\n        }        \r\n      }\r\n    }\r\n\r\nWhat I&#39;d expect to happen: No changes to the database and no exception visible to the user.\r\n\r\nWhat happens: No changes to the database but the app crashes with:\r\n\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction;\r\n    nested exception is javax.persistence.RollbackException: Transaction marked as rollbackOnly\r\n\r\nIt&#39;s correctly setting the transaction to rollbackOnly but why is the rollback crashing with an exception?","title":"Could not commit JPA transaction: Transaction marked as rollbackOnly","body":"<p>I'm using Spring and Hibernate in one of the applications that I'm working on and I've got a problem with handling of transactions.</p>\n\n<p>I've got a service class that loads some entities from the database, modifies some of their values and then (when everything is valid) commits these changes to the database. If the new values are invalid (which I can only check after setting them) I do not want to persist the changes. To prevent Spring/Hibernate from saving the changes I throw an exception in the method. This however results in the following error: </p>\n\n<pre><code>Could not commit JPA transaction: Transaction marked as rollbackOnly\n</code></pre>\n\n<p>And this is the service:</p>\n\n<pre><code>@Service\nclass MyService {\n\n  @Transactional(rollbackFor = MyCustomException.class)\n  public void doSth() throws MyCustomException {\n    //load entities from database\n    //modify some of their values\n    //check if they are valid\n    if(invalid) { //if they arent valid, throw an exception\n      throw new MyCustomException();\n    }\n\n  }\n}\n</code></pre>\n\n<p>And this is how I invoke it:</p>\n\n<pre><code>class ServiceUser {\n  @Autowired\n  private MyService myService;\n\n  public void method() {\n    try {\n      myService.doSth();\n    } catch (MyCustomException e) {\n      // ...\n    }        \n  }\n}\n</code></pre>\n\n<p>What I'd expect to happen: No changes to the database and no exception visible to the user.</p>\n\n<p>What happens: No changes to the database but the app crashes with:</p>\n\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction;\nnested exception is javax.persistence.RollbackException: Transaction marked as rollbackOnly\n</code></pre>\n\n<p>It's correctly setting the transaction to rollbackOnly but why is the rollback crashing with an exception?</p>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683165660,"post_id":76168003,"comment_id":134325984,"body_markdown":"Is it in the repository?","body":"Is it in the repository?"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1683202639,"post_id":76168003,"comment_id":134332281,"body_markdown":"What do you mean? It&#39;s in the github repo and I run a build before running my tests in the pipeline","body":"What do you mean? It&#39;s in the github repo and I run a build before running my tests in the pipeline"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1683282957,"post_id":76168003,"comment_id":134346444,"body_markdown":"Please edit your question and add details. You can perhaps share a sample repo that will tell us what your repo looks like. Also when you run in CI, what is the maven command that you are using.","body":"Please edit your question and add details. You can perhaps share a sample repo that will tell us what your repo looks like. Also when you run in CI, what is the maven command that you are using."}],"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683149743,"creation_date":1683148110,"question_id":76168003,"body_markdown":"For some reason my pipeline is complaining about my retrylistener. This seems to run locally, but in the pipeline it doesn&#39;t seem to be working.\r\n\r\n```xml\r\n&lt;listeners&gt;\r\n    &lt;listener class-name=&quot;com.mycompany.test.util.RetryListener&quot;/&gt;\r\n&lt;/listeners&gt;\r\n```\r\n```java\r\npackage com.mycompany.test.util;\r\n\r\npublic class RetryListener implements IAnnotationTransformer {\r\n//...\r\n}\r\n```\r\nIAnnotationTransformer extends ITestNGListener\r\n\r\nError message:\r\n\r\n```none\r\n[2023-05-03T19:33:03.596Z] Listener com.mycompany.test.util.RetryListener was not found in project&#39;s classpath\r\n[2023-05-03T19:33:03.596Z] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[2023-05-03T19:33:03.596Z] \r\n[2023-05-03T19:33:03.596Z] Listener com.mycompany.test.util.RetryListener was not found in project&#39;s classpath\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:656)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:282)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:245)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1183)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1011)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:857)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:202)\r\n[2023-05-03T19:33:03.596Z] \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:198)\r\n[2023-05-03T19:33:03.596Z] \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n[2023-05-03T19:33:03.596Z] \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n[2023-05-03T19:33:03.596Z] \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n[2023-05-03T19:33:03.596Z] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n[2023-05-03T19:33:03.596Z] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\r\n[2023-05-03T19:33:03.596Z] \tat java.lang.Thread.run(Thread.java:748)\r\n.\r\n.\r\n.\r\n[2023-05-03T19:33:03.597Z]     at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1149)\r\n[2023-05-03T19:33:03.597Z]     at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:624)\r\n[2023-05-03T19:33:03.597Z]     at java.lang.Thread.run (Thread.java:748)\r\n[2023-05-03T19:33:03.597Z] Caused by: org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n```","title":"Listener com.mycompany.test.util.RetryListener was not found in project&#39;s classpath","body":"<p>For some reason my pipeline is complaining about my retrylistener. This seems to run locally, but in the pipeline it doesn't seem to be working.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;listeners&gt;\n    &lt;listener class-name=&quot;com.mycompany.test.util.RetryListener&quot;/&gt;\n&lt;/listeners&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.test.util;\n\npublic class RetryListener implements IAnnotationTransformer {\n//...\n}\n</code></pre>\n<p>IAnnotationTransformer extends ITestNGListener</p>\n<p>Error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-05-03T19:33:03.596Z] Listener com.mycompany.test.util.RetryListener was not found in project's classpath\n[2023-05-03T19:33:03.596Z] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[2023-05-03T19:33:03.596Z] \n[2023-05-03T19:33:03.596Z] Listener com.mycompany.test.util.RetryListener was not found in project's classpath\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:656)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:282)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:245)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1183)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1011)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:857)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:202)\n[2023-05-03T19:33:03.596Z]  at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:198)\n[2023-05-03T19:33:03.596Z]  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[2023-05-03T19:33:03.596Z]  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n[2023-05-03T19:33:03.596Z]  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[2023-05-03T19:33:03.596Z]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[2023-05-03T19:33:03.596Z]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\n[2023-05-03T19:33:03.596Z]  at java.lang.Thread.run(Thread.java:748)\n.\n.\n.\n[2023-05-03T19:33:03.597Z]     at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1149)\n[2023-05-03T19:33:03.597Z]     at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:624)\n[2023-05-03T19:33:03.597Z]     at java.lang.Thread.run (Thread.java:748)\n[2023-05-03T19:33:03.597Z] Caused by: org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":8105942,"reputation":290,"user_id":6107472,"display_name":"WrapItUp87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592881892,"creation_date":1592881892,"answer_id":62526687,"question_id":62067562,"body_markdown":"I had a fail moment and made an obvious mistake\r\n\r\n\r\n`highlight.getX()` is how you get the selected label.","title":"How to get X index in MP Android Pie Chart?","body":"<p>I had a fail moment and made an obvious mistake</p>\n<p><code>highlight.getX()</code> is how you get the selected label.</p>\n"},{"tags":[],"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683149717,"creation_date":1683149717,"answer_id":76168147,"question_id":62067562,"body_markdown":"I was looking to get the X index, and not the X value (they can be different).\r\n\r\nOne way to accomplish this is to add the index to the `Entry` in the `data` when first creating it:\r\n\r\n```java\r\ndata.addEntry(new Entry(x, y, dataSet.getEntryCount() + 1), GRAPH_DATA);\r\n```\r\n\r\nAnd then you can retrieve it from the `Entry` after it&#39;s tapped:\r\n\r\n```java\r\n  public void refreshContent(Entry e, Highlight highlight) {\r\n\r\n    textView.setText(&quot;Index: &quot; + (int) e.getData()));\r\n...\r\n```","title":"How to get X index in MP Android Pie Chart?","body":"<p>I was looking to get the X index, and not the X value (they can be different).</p>\n<p>One way to accomplish this is to add the index to the <code>Entry</code> in the <code>data</code> when first creating it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>data.addEntry(new Entry(x, y, dataSet.getEntryCount() + 1), GRAPH_DATA);\n</code></pre>\n<p>And then you can retrieve it from the <code>Entry</code> after it's tapped:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void refreshContent(Entry e, Highlight highlight) {\n\n    textView.setText(&quot;Index: &quot; + (int) e.getData()));\n...\n</code></pre>\n"}],"owner":{"account_id":8105942,"reputation":290,"user_id":6107472,"display_name":"WrapItUp87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62526687,"answer_count":2,"score":1,"last_activity_date":1683149717,"creation_date":1590677020,"question_id":62067562,"body_markdown":"I&#39;m making a function to help people identify each pie chart slice with it&#39;s value via click listener. The problem is that it ONLY returns the first company value regardless if the second company has a value or not. \r\n\r\nFurthermore the logs reveal the following &quot;I/DEPRECATED: Pie entries do not have x values&quot; \r\n\r\nThe &quot;`entry.getX()`&quot; is how I identified slices in the past. This code will no doubt work if it was a bar chart,but that&#39;s not what doing. All it does on Pie charts is return the first entry value nothing more.\r\n\r\nThe version of MP android Chart I&#39;m using is Version 3.1.0. \r\n\r\nThis is my code below\r\n\r\n    //Chart click listener that displays the percentage when clicked\r\n    piechart.setOnChartValueSelectedListener(new OnChartValueSelectedListener() {\r\n    \r\n        @Override\r\n        public void onValueSelected(Entry entry, Highlight highlight) {\r\n            try {\r\n    \r\n                String company = null;\r\n                Double formattedvalue = 0.0;\r\n                float getval = entry.getY();\r\n                testformat = new DoublePercentConverter();\r\n                if (entry.getX() == 0) {\r\n                    company = “Company 1” + &quot; &quot;;\r\n    \r\n                } else {\r\n                    company = “Company 2” + &quot; &quot;;\r\n                }\r\n                formattedvalue = testformat.convertvalue(getval);\r\n    \r\n    \r\n                AlertDialog.Builder a_builder545 = new AlertDialog.Builder(activity1.this);\r\n                a_builder545.setMessage(company + Double.toString(formattedvalue) + &quot;%&quot;).setCancelable(false)\r\n                        .setPositiveButton(ok, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                                piechart.highlightValues(null);\r\n                                piechart.invalidate();\r\n                            }\r\n                        });\r\n    \r\n                AlertDialog alert743 = a_builder545.create();\r\n                alert743.setTitle(“Company info”);\r\n                alert743.show();\r\n    \r\n            } catch (Exception eg) {\r\n                eg.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onNothingSelected() {\r\n    \r\n        }\r\n    });\r\n\r\n","title":"How to get X index in MP Android Pie Chart?","body":"<p>I'm making a function to help people identify each pie chart slice with it's value via click listener. The problem is that it ONLY returns the first company value regardless if the second company has a value or not. </p>\n\n<p>Furthermore the logs reveal the following \"I/DEPRECATED: Pie entries do not have x values\" </p>\n\n<p>The \"<code>entry.getX()</code>\" is how I identified slices in the past. This code will no doubt work if it was a bar chart,but that's not what doing. All it does on Pie charts is return the first entry value nothing more.</p>\n\n<p>The version of MP android Chart I'm using is Version 3.1.0. </p>\n\n<p>This is my code below</p>\n\n<pre><code>//Chart click listener that displays the percentage when clicked\npiechart.setOnChartValueSelectedListener(new OnChartValueSelectedListener() {\n\n    @Override\n    public void onValueSelected(Entry entry, Highlight highlight) {\n        try {\n\n            String company = null;\n            Double formattedvalue = 0.0;\n            float getval = entry.getY();\n            testformat = new DoublePercentConverter();\n            if (entry.getX() == 0) {\n                company = “Company 1” + \" \";\n\n            } else {\n                company = “Company 2” + \" \";\n            }\n            formattedvalue = testformat.convertvalue(getval);\n\n\n            AlertDialog.Builder a_builder545 = new AlertDialog.Builder(activity1.this);\n            a_builder545.setMessage(company + Double.toString(formattedvalue) + \"%\").setCancelable(false)\n                    .setPositiveButton(ok, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n\n                            piechart.highlightValues(null);\n                            piechart.invalidate();\n                        }\n                    });\n\n            AlertDialog alert743 = a_builder545.create();\n            alert743.setTitle(“Company info”);\n            alert743.show();\n\n        } catch (Exception eg) {\n            eg.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onNothingSelected() {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1590426436,"post_id":62007244,"comment_id":109669148,"body_markdown":"The only file you&#39;re copying into the result image is the jar file.  One of Docker&#39;s key features is filesystem isolation: unless you go out of your way to configure it, containers can&#39;t see or access files on the host system (or vice versa).","body":"The only file you&#39;re copying into the result image is the jar file.  One of Docker&#39;s key features is filesystem isolation: unless you go out of your way to configure it, containers can&#39;t see or access files on the host system (or vice versa)."},{"owner":{"account_id":3912193,"reputation":876,"user_id":3237171,"accept_rate":30,"display_name":"Nagendra Nigade"},"score":0,"creation_date":1590427322,"post_id":62007244,"comment_id":109669591,"body_markdown":"What is the best way here to provide configuration?","body":"What is the best way here to provide configuration?"},{"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"score":0,"creation_date":1590427678,"post_id":62007244,"comment_id":109669752,"body_markdown":"What is the location of your `dockerfile` ??","body":"What is the location of your <code>dockerfile</code> ??"},{"owner":{"account_id":3912193,"reputation":876,"user_id":3237171,"accept_rate":30,"display_name":"Nagendra Nigade"},"score":0,"creation_date":1590427795,"post_id":62007244,"comment_id":109669810,"body_markdown":"@DupinderSingh In project directory","body":"@DupinderSingh In project directory"},{"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"score":0,"creation_date":1590427897,"post_id":62007244,"comment_id":109669866,"body_markdown":"means root location Am i right ?","body":"means root location Am i right ?"},{"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"score":0,"creation_date":1590428438,"post_id":62007244,"comment_id":109670123,"body_markdown":"@NagendraNigade I updated the answer, please have a look, if any problem please let me know, I am here","body":"@NagendraNigade I updated the answer, please have a look, if any problem please let me know, I am here"}],"answers":[{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590428370,"creation_date":1590428370,"answer_id":62007768,"question_id":62007244,"body_markdown":"See the basic problem in your `dockerfile` is \r\n\r\nYou are setting `WORKDIR` then while `COPY` you said `COPY` in `/home/app` so if you set `WORKDIR` then it means Any `RUN`, `CMD`, `ADD`, `COPY`, or `ENTRYPOINT` command will be executed in the specified working directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo to avoid the confusions try as following\r\n\r\n\r\n    # Build Jar File\r\n    FROM maven:3.6.3-jdk-8-slim as stage1\r\n    WORKDIR /home/app\r\n    #COPY FROM PROJECT ROOT DIR TO WORKING ROOT DIR i.e: /home/app \r\n    COPY . .\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    # Create an Image\r\n    FROM openjdk:8-jdk-alpine\r\n    EXPOSE 8080\r\n    COPY --from=stage1 /home/app/target/myapp.jar myapp.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;myapp.jar&quot;]\r\n\r\n\r\nTry this :)\r\n\r\nPS:\r\nOnce you start the container please do `exec` and check is all the project details are at right directory or not and `mvn build` is building jar with correct name or not \r\n\r\n  [1]: https://i.stack.imgur.com/UM6pj.png","title":"FileNotFoundException while running docker image","body":"<p>See the basic problem in your <code>dockerfile</code> is </p>\n\n<p>You are setting <code>WORKDIR</code> then while <code>COPY</code> you said <code>COPY</code> in <code>/home/app</code> so if you set <code>WORKDIR</code> then it means Any <code>RUN</code>, <code>CMD</code>, <code>ADD</code>, <code>COPY</code>, or <code>ENTRYPOINT</code> command will be executed in the specified working directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UM6pj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UM6pj.png\" alt=\"enter image description here\"></a></p>\n\n<p>So to avoid the confusions try as following</p>\n\n<pre><code># Build Jar File\nFROM maven:3.6.3-jdk-8-slim as stage1\nWORKDIR /home/app\n#COPY FROM PROJECT ROOT DIR TO WORKING ROOT DIR i.e: /home/app \nCOPY . .\nRUN mvn -f /home/app/pom.xml clean package\n\n# Create an Image\nFROM openjdk:8-jdk-alpine\nEXPOSE 8080\nCOPY --from=stage1 /home/app/target/myapp.jar myapp.jar\nENTRYPOINT [\"java\", \"-jar\", \"myapp.jar\"]\n</code></pre>\n\n<p>Try this :)</p>\n\n<p>PS:\nOnce you start the container please do <code>exec</code> and check is all the project details are at right directory or not and <code>mvn build</code> is building jar with correct name or not </p>\n"}],"owner":{"account_id":3912193,"reputation":876,"user_id":3237171,"accept_rate":30,"display_name":"Nagendra Nigade"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683148502,"creation_date":1590426231,"question_id":62007244,"body_markdown":"I have configured a Firebase properties file as follows -\r\n\r\n    @Bean\r\n    Firestore firestore() throws IOException {\r\n        InputStream serviceAccount = new FileInputStream(&quot;my-karwaan-firebase-adminsdk.json&quot;);\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount);\r\n\r\nJSON file is present under the resources folder.\r\n\r\nEverything works fine on the localhost. \r\nBut on docker it&#39;s throwing while running docker image\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate \r\n    [com.google.cloud.firestore.Firestore]: Factory method &#39;firestore&#39; threw exception; nested\r\n     exception is java.io.FileNotFoundException: my-karwaan-firebase-adminsdk.json\r\n\r\nDocker file content as follows -\r\n\r\n    # Build Jar File\r\n    FROM maven:3.6.3-jdk-8-slim as stage1\r\n    WORKDIR /home/app\r\n    COPY . /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    # Create an Image\r\n    FROM openjdk:8-jdk-alpine\r\n    EXPOSE 8080\r\n    COPY --from=stage1 /home/app/target/myapp.jar myapp.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;myapp.jar&quot;]\r\n\r\nI tried to give an absolute path but it&#39;s not working on docker.\r\n\r\nDirectory structure as follows - \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Hm8S.png","title":"FileNotFoundException while running docker image","body":"<p>I have configured a Firebase properties file as follows -</p>\n\n<pre><code>@Bean\nFirestore firestore() throws IOException {\n    InputStream serviceAccount = new FileInputStream(\"my-karwaan-firebase-adminsdk.json\");\n    GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount);\n</code></pre>\n\n<p>JSON file is present under the resources folder.</p>\n\n<p>Everything works fine on the localhost. \nBut on docker it's throwing while running docker image</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate \n[com.google.cloud.firestore.Firestore]: Factory method 'firestore' threw exception; nested\n exception is java.io.FileNotFoundException: my-karwaan-firebase-adminsdk.json\n</code></pre>\n\n<p>Docker file content as follows -</p>\n\n<pre><code># Build Jar File\nFROM maven:3.6.3-jdk-8-slim as stage1\nWORKDIR /home/app\nCOPY . /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n# Create an Image\nFROM openjdk:8-jdk-alpine\nEXPOSE 8080\nCOPY --from=stage1 /home/app/target/myapp.jar myapp.jar\nENTRYPOINT [\"java\", \"-jar\", \"myapp.jar\"]\n</code></pre>\n\n<p>I tried to give an absolute path but it's not working on docker.</p>\n\n<p>Directory structure as follows - \n<a href=\"https://i.stack.imgur.com/5Hm8S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Hm8S.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","inheritance","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1683126175,"post_id":76165240,"comment_id":134319275,"body_markdown":"You can use the [JsonTypeInfo.Id#DEDUCTION](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION).","body":"You can use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION\" rel=\"nofollow noreferrer\">JsonTypeInfo.Id#DEDUCTION</a>."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683127285,"post_id":76165240,"comment_id":134319580,"body_markdown":"I have explained in the question by editing it right now that why this will not work for me @dariosicily","body":"I have explained in the question by editing it right now that why this will not work for me @dariosicily"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1683128789,"post_id":76165240,"comment_id":134319950,"body_markdown":"Your message error says &quot;Cannot deduce unique subtype of com.mapabc.entity.Point (2 candidates match)&quot;, so for jackson library `Point` is an abstract class or similar with subclasses.","body":"Your message error says &quot;Cannot deduce unique subtype of com.mapabc.entity.Point (2 candidates match)&quot;, so for jackson library <code>Point</code> is an abstract class or similar with subclasses."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683128904,"post_id":76165240,"comment_id":134319983,"body_markdown":"Yes, thats the tricky part, on how to get this working.","body":"Yes, thats the tricky part, on how to get this working."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1683129162,"post_id":76165240,"comment_id":134320050,"body_markdown":"You have to use  `JsonTypeInfo.DEDUCTION` for `Point` class too.","body":"You have to use  <code>JsonTypeInfo.DEDUCTION</code> for <code>Point</code> class too."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683129761,"post_id":76165240,"comment_id":134320193,"body_markdown":"I already tried that. It doesn&#39;t work. Added JsonTypeInfo.DEDUCTION on Point class as well","body":"I already tried that. It doesn&#39;t work. Added JsonTypeInfo.DEDUCTION on Point class as well"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1683130060,"post_id":76165240,"comment_id":134320256,"body_markdown":"Please include in your question a runnable example of a json input file and how it should be deserialized with all classes code involved.","body":"Please include in your question a runnable example of a json input file and how it should be deserialized with all classes code involved."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683130476,"post_id":76165240,"comment_id":134320362,"body_markdown":"I have added it. (@RequestBody Element element) Fetching it like this","body":"I have added it. (@RequestBody Element element) Fetching it like this"},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683135565,"post_id":76165240,"comment_id":134321491,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253450/discussion-between-mukund-mundhra-and-dariosicily).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253450/discussion-between-mukund-mundhra-and-dariosicily\">continue this discussion in chat</a>."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1683142180,"post_id":76165240,"comment_id":134322682,"body_markdown":"So the issue is when we add more than 2 subclasses. You can check it. It will break","body":"So the issue is when we add more than 2 subclasses. You can check it. It will break"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683148246,"creation_date":1683148246,"answer_id":76168014,"question_id":76165240,"body_markdown":"The problem resides in the definition of the `Point` and `Circle` classes as subclasses of the `Element` class:\r\n\r\n~~~\r\npublic class Point extends Element implements Serializable {\r\n\r\n    private double lng;\r\n    private double lat;\r\n}\r\n\r\npublic class Circle extends Element implements Serializable {\r\n    private double lng;\r\n    private double lat;\r\n    private int r;\r\n}\r\n~~~\r\nBasically when the jackson library reads the `&quot;leftDown&quot;: {&quot;lng&quot; : 4.0, &quot;lat&quot; : 1.0}` property from the json file, it can interpret it as a representation either of a `Point` object or a `Circle` object without the definition of its radius at the same time, there the exception due to the ambiguous representation. One of the possible solution and maybe the most natural idea is redefine the `Circle` class as a couple of a `Point` center and its radius (up to you another possible solution you can consider more adapt to your needs):\r\n\r\n~~~\r\npublic class Circle extends Element implements Serializable {\r\n\r\n    Point center;\r\n    private int r;\r\n}\r\n~~~ ","title":"Possible to identify inheritor in request body without specifying type?","body":"<p>The problem resides in the definition of the <code>Point</code> and <code>Circle</code> classes as subclasses of the <code>Element</code> class:</p>\n<pre><code>public class Point extends Element implements Serializable {\n\n    private double lng;\n    private double lat;\n}\n\npublic class Circle extends Element implements Serializable {\n    private double lng;\n    private double lat;\n    private int r;\n}\n</code></pre>\n<p>Basically when the jackson library reads the <code>&quot;leftDown&quot;: {&quot;lng&quot; : 4.0, &quot;lat&quot; : 1.0}</code> property from the json file, it can interpret it as a representation either of a <code>Point</code> object or a <code>Circle</code> object without the definition of its radius at the same time, there the exception due to the ambiguous representation. One of the possible solution and maybe the most natural idea is redefine the <code>Circle</code> class as a couple of a <code>Point</code> center and its radius (up to you another possible solution you can consider more adapt to your needs):</p>\n<pre><code>public class Circle extends Element implements Serializable {\n\n    Point center;\n    private int r;\n}\n</code></pre>\n"}],"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76168014,"answer_count":1,"score":2,"last_activity_date":1683148246,"creation_date":1683125421,"question_id":76165240,"body_markdown":"I have a case where my request body has an object which is backed by inheritance.\r\nSo when I use @requestbody and do not explicitly specify the type of subclass it does not pick/determine that automatically.\r\nIs there a way to do it without this :\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = Fence.class, name = &quot;fence&quot;),\r\n            @JsonSubTypes.Type(value = Rectangle.class, name = &quot;rectangle&quot;),\r\n            @JsonSubTypes.Type(value = Point.class, name = &quot;point&quot;),\r\n            @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\r\n    })\r\n    public class Element implements Serializable {\r\n    }\r\n\r\nIs there any open-source library which handles this, when a requestBody comes in it automatically detects the instance of the sub class.\r\n\r\nI would have used JsonTypeInfo.Id#DEDUCTION but it fails to work when we have a nested object in the subclass. \r\n\r\n    public class Rectangle extends Element implements Serializable {\r\n    \r\n        private Point leftDown;\r\n        private Point rightUpper;\r\n    \r\n    }\r\n    \r\n    public class Point extends Element implements Serializable {\r\n    \r\n        private double lng;\r\n        private double lat;\r\n    }\r\n\r\nGives me this error \r\n\r\n    &quot;JSON parse error: Could not resolve subtype of [simple type, class com.mapabc.entity.Point]: Cannot deduce unique subtype of `com.mapabc.entity.Point` (2 candidates match); nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.mapabc.entity.Point]: Cannot deduce unique subtype of `com.mapabc.entity.Point` (2 candidates match)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 8, column: 9] (through reference chain: java.util.ArrayList[0]-&gt;com.moveinsync.geofencing.models.Geofence[\\&quot;geometry\\&quot;]-&gt;com.mapabc.entity.Rectangle[\\&quot;leftDown\\&quot;])&quot;\r\n\r\n\r\nHere is the element class -&gt;\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(Fence.class),\r\n            @JsonSubTypes.Type(Rectangle.class),\r\n            @JsonSubTypes.Type(Point.class),\r\n            @JsonSubTypes.Type(Circle.class)\r\n    })\r\n    public class Element implements Serializable {\r\n        public CommandArgs&lt;String, String&gt; getCommandArgs(String key, String member){\r\n            return null;\r\n        }\r\n    }\r\n\r\nPoint class -&gt; \r\n\r\n    public class Point extends Element implements Serializable {\r\n\r\n    private double lng;\r\n    private double lat;\r\n\r\n    public Point() {}\r\n\r\n    public Point(double lng, double lat) {\r\n        this.lng = lng;\r\n        this.lat = lat;\r\n    }\r\n\r\n    public double getLng() {\r\n        return lng;\r\n    }\r\n\r\n    public void setLng(double lng) {\r\n        this.lng = lng;\r\n    }\r\n\r\n    public double getLat() {\r\n        return lat;\r\n    }\r\n\r\n    public void setLat(double lat) {\r\n        this.lat = lat;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Point{&quot; +\r\n                &quot;lng=&quot; + lng +\r\n                &quot;, lat=&quot; + lat +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\nRectangle class -&gt; \r\n\r\n    public class Rectangle extends Element implements Serializable {\r\n    \r\n        private Point leftDown;\r\n        private Point rightUpper;\r\n    \r\n        @Override\r\n        public CommandArgs&lt;String, String&gt; getCommandArgs(String key, String member) {\r\n            double lng1 = leftDown.getLng();\r\n            double lat1 = leftDown.getLat();\r\n            double lng2 = rightUpper.getLng();\r\n            double lat2 = rightUpper.getLat();\r\n            return new CommandArgs&lt;&gt;(StringCodec.UTF8).add(key).add(member).add(&quot;BOUNDS&quot;).add(lng1).add(lat1).add(lng2).add(lat2);\r\n        }\r\n    \r\n        public Rectangle() {}\r\n    \r\n        public Rectangle(Point leftDown, Point rightUpper) {\r\n            this.leftDown = leftDown;\r\n            this.rightUpper = rightUpper;\r\n        }\r\n    \r\n        public Point getLeftDown() {\r\n            return leftDown;\r\n        }\r\n    \r\n        public void setLeftDown(Point leftDown) {\r\n            this.leftDown = leftDown;\r\n        }\r\n    \r\n        public Point getRightUpper() {\r\n            return rightUpper;\r\n        }\r\n    \r\n        public void setRightUpper(Point rightUpper) {\r\n            this.rightUpper = rightUpper;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis is the request body -&gt;\r\n\r\n    {\r\n            &quot;leftDown&quot;: {\r\n                &quot;lng&quot; : 4.0,\r\n                &quot;lat&quot; : 1.0\r\n            },\r\n            &quot;rightUpper&quot; : {\r\n                &quot;lng&quot; : 1.0,\r\n                &quot;lat&quot; : 4.0\r\n            }\r\n        }\r\n\r\n\r\nWith just 2 classes everything works fine but if we add a third class it breaks -&gt;\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(Rectangle.class),\r\n            @JsonSubTypes.Type(Point.class),\r\n            @JsonSubTypes.Type(Circle.class)\r\n    })\r\n    public class Element implements Serializable {\r\n    \r\n    }\r\n    \r\n    public class Circle extends Element implements Serializable {\r\n        private double lng;\r\n        private double lat;\r\n        private int r;\r\n    }","title":"Possible to identify inheritor in request body without specifying type?","body":"<p>I have a case where my request body has an object which is backed by inheritance.\nSo when I use @requestbody and do not explicitly specify the type of subclass it does not pick/determine that automatically.\nIs there a way to do it without this :</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Fence.class, name = &quot;fence&quot;),\n        @JsonSubTypes.Type(value = Rectangle.class, name = &quot;rectangle&quot;),\n        @JsonSubTypes.Type(value = Point.class, name = &quot;point&quot;),\n        @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\n})\npublic class Element implements Serializable {\n}\n</code></pre>\n<p>Is there any open-source library which handles this, when a requestBody comes in it automatically detects the instance of the sub class.</p>\n<p>I would have used JsonTypeInfo.Id#DEDUCTION but it fails to work when we have a nested object in the subclass.</p>\n<pre><code>public class Rectangle extends Element implements Serializable {\n\n    private Point leftDown;\n    private Point rightUpper;\n\n}\n\npublic class Point extends Element implements Serializable {\n\n    private double lng;\n    private double lat;\n}\n</code></pre>\n<p>Gives me this error</p>\n<pre><code>&quot;JSON parse error: Could not resolve subtype of [simple type, class com.mapabc.entity.Point]: Cannot deduce unique subtype of `com.mapabc.entity.Point` (2 candidates match); nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.mapabc.entity.Point]: Cannot deduce unique subtype of `com.mapabc.entity.Point` (2 candidates match)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 8, column: 9] (through reference chain: java.util.ArrayList[0]-&gt;com.moveinsync.geofencing.models.Geofence[\\&quot;geometry\\&quot;]-&gt;com.mapabc.entity.Rectangle[\\&quot;leftDown\\&quot;])&quot;\n</code></pre>\n<p>Here is the element class -&gt;</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(Fence.class),\n        @JsonSubTypes.Type(Rectangle.class),\n        @JsonSubTypes.Type(Point.class),\n        @JsonSubTypes.Type(Circle.class)\n})\npublic class Element implements Serializable {\n    public CommandArgs&lt;String, String&gt; getCommandArgs(String key, String member){\n        return null;\n    }\n}\n</code></pre>\n<p>Point class -&gt;</p>\n<pre><code>public class Point extends Element implements Serializable {\n\nprivate double lng;\nprivate double lat;\n\npublic Point() {}\n\npublic Point(double lng, double lat) {\n    this.lng = lng;\n    this.lat = lat;\n}\n\npublic double getLng() {\n    return lng;\n}\n\npublic void setLng(double lng) {\n    this.lng = lng;\n}\n\npublic double getLat() {\n    return lat;\n}\n\npublic void setLat(double lat) {\n    this.lat = lat;\n}\n\n@Override\npublic String toString() {\n    return &quot;Point{&quot; +\n            &quot;lng=&quot; + lng +\n            &quot;, lat=&quot; + lat +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>Rectangle class -&gt;</p>\n<pre><code>public class Rectangle extends Element implements Serializable {\n\n    private Point leftDown;\n    private Point rightUpper;\n\n    @Override\n    public CommandArgs&lt;String, String&gt; getCommandArgs(String key, String member) {\n        double lng1 = leftDown.getLng();\n        double lat1 = leftDown.getLat();\n        double lng2 = rightUpper.getLng();\n        double lat2 = rightUpper.getLat();\n        return new CommandArgs&lt;&gt;(StringCodec.UTF8).add(key).add(member).add(&quot;BOUNDS&quot;).add(lng1).add(lat1).add(lng2).add(lat2);\n    }\n\n    public Rectangle() {}\n\n    public Rectangle(Point leftDown, Point rightUpper) {\n        this.leftDown = leftDown;\n        this.rightUpper = rightUpper;\n    }\n\n    public Point getLeftDown() {\n        return leftDown;\n    }\n\n    public void setLeftDown(Point leftDown) {\n        this.leftDown = leftDown;\n    }\n\n    public Point getRightUpper() {\n        return rightUpper;\n    }\n\n    public void setRightUpper(Point rightUpper) {\n        this.rightUpper = rightUpper;\n    }\n\n\n}\n</code></pre>\n<p>This is the request body -&gt;</p>\n<pre><code>{\n        &quot;leftDown&quot;: {\n            &quot;lng&quot; : 4.0,\n            &quot;lat&quot; : 1.0\n        },\n        &quot;rightUpper&quot; : {\n            &quot;lng&quot; : 1.0,\n            &quot;lat&quot; : 4.0\n        }\n    }\n</code></pre>\n<p>With just 2 classes everything works fine but if we add a third class it breaks -&gt;</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(Rectangle.class),\n        @JsonSubTypes.Type(Point.class),\n        @JsonSubTypes.Type(Circle.class)\n})\npublic class Element implements Serializable {\n\n}\n\npublic class Circle extends Element implements Serializable {\n    private double lng;\n    private double lat;\n    private int r;\n}\n</code></pre>\n"},{"tags":["java","macos","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683152204,"post_id":76167998,"comment_id":134324484,"body_markdown":"Just a wild guess… when desperately trying to fix bizarre behavior in IntelliJ, I eventually resort to [invalidate caches](https://www.jetbrains.com/help/idea/invalidate-caches.html) and a reboot of computer.","body":"Just a wild guess… when desperately trying to fix bizarre behavior in IntelliJ, I eventually resort to <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">invalidate caches</a> and a reboot of computer."},{"owner":{"account_id":1556478,"reputation":762,"user_id":1447419,"display_name":"a2k42"},"score":1,"creation_date":1683152586,"post_id":76167998,"comment_id":134324550,"body_markdown":"I was trying to reproduce this on the community edition but the new project screen looks completely different to what you have. What steps did you take to get there, especially what type of project are you creating? Perhaps I won&#39;t be able to help if the versions are different, I&#39;m on linux too.","body":"I was trying to reproduce this on the community edition but the new project screen looks completely different to what you have. What steps did you take to get there, especially what type of project are you creating? Perhaps I won&#39;t be able to help if the versions are different, I&#39;m on linux too."}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683148067,"creation_date":1683148067,"question_id":76167998,"body_markdown":"On macOS Monterey 12.6.5 am running the following version of IntelliJ IDEA Ultimate Edition:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe following JDKs are installed in my local machine:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThese are visible via IntelliJ:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHowever, the Target JVM version dialog only shows up until JDK 17?\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kfy0E.png\r\n  [2]: https://i.stack.imgur.com/Z4byH.png\r\n  [3]: https://i.stack.imgur.com/sI41H.png\r\n  [4]: https://i.stack.imgur.com/I7G07.png\r\n\r\nDoes the version of IntelliJ IDEA support `JVM versions &gt; 17`? \r\n\r\nIf so, how can it be configured to show these versions in that `Target JVM version` drop down list?","title":"Intellij IDEA Ultimate Edition - Locally Installed Target JVM Versions not showing past JDK 17","body":"<p>On macOS Monterey 12.6.5 am running the following version of IntelliJ IDEA Ultimate Edition:</p>\n<p><a href=\"https://i.stack.imgur.com/Kfy0E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kfy0E.png\" alt=\"enter image description here\" /></a></p>\n<p>The following JDKs are installed in my local machine:</p>\n<p><a href=\"https://i.stack.imgur.com/Z4byH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4byH.png\" alt=\"enter image description here\" /></a></p>\n<p>These are visible via IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/sI41H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sI41H.png\" alt=\"enter image description here\" /></a></p>\n<p>However, the Target JVM version dialog only shows up until JDK 17?</p>\n<p><a href=\"https://i.stack.imgur.com/I7G07.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7G07.png\" alt=\"enter image description here\" /></a></p>\n<p>Does the version of IntelliJ IDEA support <code>JVM versions &gt; 17</code>?</p>\n<p>If so, how can it be configured to show these versions in that <code>Target JVM version</code> drop down list?</p>\n"},{"tags":["java","sql","data-migration"],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248804629,"creation_date":1248804629,"answer_id":1195760,"question_id":1195714,"body_markdown":"A brute force method for debugging this: \r\n\r\nYou could create a script that runs a `FOR` loop and inserts row by row from Table A to Table B, outputting the row ID or some pertinent data to the console.  Once you identify the bad row, you could attempt to update column by column of an existing row with the column data from the bad row until you find your culprit.","title":"java.sql.SQLException: [BEA][Oracle JDBC Driver][Oracle]ORA-01438: value larger than specified precision allows for this column","body":"<p>A brute force method for debugging this: </p>\n\n<p>You could create a script that runs a <code>FOR</code> loop and inserts row by row from Table A to Table B, outputting the row ID or some pertinent data to the console.  Once you identify the bad row, you could attempt to update column by column of an existing row with the column data from the bad row until you find your culprit.</p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683147868,"creation_date":1248804034,"question_id":1195714,"body_markdown":"I&#39;m getting this error message in production:\r\n\r\n&gt; java.sql.SQLException: [BEA][Oracle JDBC Driver][Oracle]ORA-01438: value larger than specified precision allows for this column\r\n\r\nUnfortunately this comes from a purchased application and the support process is not precisely fast. \r\n\r\nThis happens when data is being copied from one table to another. Both tables are supposed to have the same columns types and length. So far I have reviewed a some of them by doing the following:\r\n\r\n    select distinct( length( column_name ) ) ) from source_table\r\n\r\nThen comparing the value with the length of column_name in the target table but it&#39;s taking me a lot of time.\r\n\r\nIs there a way to perform this check that doesn&#39;t result in this error?\r\n\r\nI want to identify what column contains the data whose length goes beyond the limit of the source.\r\n\r\nI&#39;m working with:\r\n\r\n- Oracle9i Enterprise Edition Release 9.2.0.7.0 - Production\r\n- With the Partitioning, OLAP and Oracle Data Mining options\r\n- JServer Release 9.2.0.7.0 - Production","title":"java.sql.SQLException: [BEA][Oracle JDBC Driver][Oracle]ORA-01438: value larger than specified precision allows for this column","body":"<p>I'm getting this error message in production:</p>\n<blockquote>\n<p>java.sql.SQLException: [BEA][Oracle JDBC Driver][Oracle]ORA-01438: value larger than specified precision allows for this column</p>\n</blockquote>\n<p>Unfortunately this comes from a purchased application and the support process is not precisely fast.</p>\n<p>This happens when data is being copied from one table to another. Both tables are supposed to have the same columns types and length. So far I have reviewed a some of them by doing the following:</p>\n<pre><code>select distinct( length( column_name ) ) ) from source_table\n</code></pre>\n<p>Then comparing the value with the length of column_name in the target table but it's taking me a lot of time.</p>\n<p>Is there a way to perform this check that doesn't result in this error?</p>\n<p>I want to identify what column contains the data whose length goes beyond the limit of the source.</p>\n<p>I'm working with:</p>\n<ul>\n<li>Oracle9i Enterprise Edition Release 9.2.0.7.0 - Production</li>\n<li>With the Partitioning, OLAP and Oracle Data Mining options</li>\n<li>JServer Release 9.2.0.7.0 - Production</li>\n</ul>\n"},{"tags":["java","swap","endianness","dataoutputstream"],"comments":[{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1444164695,"post_id":6438099,"comment_id":53784429,"body_markdown":"Please give a sample input / output and remove Java from the equation. Do you want to invert every 8 bytes, or all bytes? For all bytes: http://stackoverflow.com/questions/11461625/bashreverse-the-order-of-characters-in-a-string Similar: http://unix.stackexchange.com/questions/13137/in-bash-how-to-convert-8-bytes-to-an-unsigned-int-64bit-le","body":"Please give a sample input / output and remove Java from the equation. Do you want to invert every 8 bytes, or all bytes? For all bytes: <a href=\"http://stackoverflow.com/questions/11461625/bashreverse-the-order-of-characters-in-a-string\" title=\"bashreverse the order of characters in a string\">stackoverflow.com/questions/11461625/&hellip;</a> Similar: <a href=\"http://unix.stackexchange.com/questions/13137/in-bash-how-to-convert-8-bytes-to-an-unsigned-int-64bit-le\" title=\"in bash how to convert 8 bytes to an unsigned int 64bit le\">unix.stackexchange.com/questions/13137/&hellip;</a>"},{"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"score":1,"creation_date":1444220739,"post_id":6438099,"comment_id":53808783,"body_markdown":"@CiroSantilli六四事件法轮功纳米比亚威视: Nope, won&#39;t do. Problem already solved.","body":"@CiroSantilli六四事件法轮功纳米比亚威视: Nope, won&#39;t do. Problem already solved."}],"answers":[{"tags":[],"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1309162551,"creation_date":1308751351,"answer_id":6441177,"question_id":6438099,"body_markdown":"Resorted to Perl in the end. Used a one-liner which I found at [PERL One Liners][1]:\r\n\r\n    tail -c 8 file | perl -0777e &#39;print scalar reverse &lt;&gt;&#39; | od -t d8\r\n\r\nThe `0777` separator char was a bit puzzling to me, but [this][2] page at debian admin seems to suggest that it is a placeholder for &#39;no record separator&#39;, triggering a complete reverse byte-per byte.\r\n\r\nOther suggestions are welcome.\r\n\r\nEDIT: Found another command in a comment to tac.c, which I downloaded from GNU coreutils:\r\n\r\n&gt; Copy each FILE, or the standard input if none are given or when a\r\n   FILE name of &quot;-&quot; is encountered, to the standard output with the\r\n   order of the records reversed.  The records are separated by\r\n   instances of a string, or a newline if none is given.  By default, the\r\n   separator string is attached to the end of the record that it\r\n   follows in the file.\r\n\r\n&gt;  Options:\r\n   -b, --before\t\t\tThe separator is attached to the beginning\r\n                                of the record that it precedes in the file.\r\n   -r, --regex\t\t\tThe separator is a regular expression.\r\n   -s, --separator=separator\tUse SEPARATOR as the record separator.\r\n\r\n&gt;  To reverse a file byte by byte, use (in bash, ksh, or sh):\r\n**tac -r -s &#39;.\\|\r\n&#39; file**\r\n\r\n\r\n  [1]: http://www.unixguide.net/unix/perl_oneliners.shtml\r\n  [2]: http://www.debian-administration.org/articles/298","title":"Command-line to reverse byte order/change endianess","body":"<p>Resorted to Perl in the end. Used a one-liner which I found at <a href=\"http://www.unixguide.net/unix/perl_oneliners.shtml\">PERL One Liners</a>:</p>\n\n<pre><code>tail -c 8 file | perl -0777e 'print scalar reverse &lt;&gt;' | od -t d8\n</code></pre>\n\n<p>The <code>0777</code> separator char was a bit puzzling to me, but <a href=\"http://www.debian-administration.org/articles/298\">this</a> page at debian admin seems to suggest that it is a placeholder for 'no record separator', triggering a complete reverse byte-per byte.</p>\n\n<p>Other suggestions are welcome.</p>\n\n<p>EDIT: Found another command in a comment to tac.c, which I downloaded from GNU coreutils:</p>\n\n<blockquote>\n  <p>Copy each FILE, or the standard input if none are given or when a\n     FILE name of \"-\" is encountered, to the standard output with the\n     order of the records reversed.  The records are separated by\n     instances of a string, or a newline if none is given.  By default, the\n     separator string is attached to the end of the record that it\n     follows in the file.</p>\n  \n  <p>Options:\n     -b, --before         The separator is attached to the beginning\n                                  of the record that it precedes in the file.\n     -r, --regex          The separator is a regular expression.\n     -s, --separator=separator    Use SEPARATOR as the record separator.</p>\n  \n  <p>To reverse a file byte by byte, use (in bash, ksh, or sh):\n  <strong>tac -r -s '.\\|\n  ' file</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":151150,"reputation":20166,"user_id":364818,"accept_rate":39,"display_name":"Mark Lakata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362768739,"creation_date":1362768739,"answer_id":15301175,"question_id":6438099,"body_markdown":"I came up with this Perl one-liner to convert 4-byte integers from one endianness to another:\r\n\r\n    $ perl -e &#39;open F,shift; do { read(F,$a,4); print scalar reverse($a);} while(!eof(F));&#39; bigend.bin &gt; littlend.bin\r\n\r\nThat probably works fine on real Linux machines, but Cygwin bit me in the end, treating the binary file as text and inserting a 0x0D (aka CR) before each 0x0A byte (aka newline). But if you pipe to `cat -`, it seems to leave it alone. This works for me:\r\n\r\n    $ perl -e &#39;open F,shift; do { read(F,$a,4); print scalar reverse($a);} while(!eof(F));&#39; bigend.bin | cat - &gt; littlend.bin","title":"Command-line to reverse byte order/change endianess","body":"<p>I came up with this Perl one-liner to convert 4-byte integers from one endianness to another:</p>\n\n<pre><code>$ perl -e 'open F,shift; do { read(F,$a,4); print scalar reverse($a);} while(!eof(F));' bigend.bin &gt; littlend.bin\n</code></pre>\n\n<p>That probably works fine on real Linux machines, but Cygwin bit me in the end, treating the binary file as text and inserting a 0x0D (aka CR) before each 0x0A byte (aka newline). But if you pipe to <code>cat -</code>, it seems to leave it alone. This works for me:</p>\n\n<pre><code>$ perl -e 'open F,shift; do { read(F,$a,4); print scalar reverse($a);} while(!eof(F));' bigend.bin | cat - &gt; littlend.bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3417129,"reputation":159,"user_id":2865681,"display_name":"Marc"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1436361273,"creation_date":1381385149,"answer_id":19288235,"question_id":6438099,"body_markdown":"You could use objcopy:\r\n\r\n    $ objcopy -I binary -O binary --reverse-bytes=num inputfile.bin outputfile.bin\r\n\r\nwhere num is either 2 or 4.","title":"Command-line to reverse byte order/change endianess","body":"<p>You could use objcopy:</p>\n\n<pre><code>$ objcopy -I binary -O binary --reverse-bytes=num inputfile.bin outputfile.bin\n</code></pre>\n\n<p>where num is either 2 or 4.</p>\n"},{"tags":[],"owner":{"account_id":3113,"reputation":30873,"user_id":4421,"accept_rate":50,"display_name":"pixelbeat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391888773,"creation_date":1391888773,"answer_id":21650956,"question_id":6438099,"body_markdown":"Note the next version of GNU coreutils (&gt;= 8.23) will add the --endian={little,big} option to the od command","title":"Command-line to reverse byte order/change endianess","body":"<p>Note the next version of GNU coreutils (>= 8.23) will add the --endian={little,big} option to the od command</p>\n"},{"tags":[],"owner":{"account_id":2262332,"reputation":391,"user_id":1992064,"display_name":"Brian Carcich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404919627,"creation_date":1404918582,"answer_id":24657352,"question_id":6438099,"body_markdown":"BASH:\r\n\r\n    od -b -v -w8 | while read pfx b8 ; do [ &quot;$b8&quot; ] &amp;&amp; echo -n 12345678 | tr 87654321 \\\\${b8// /\\\\} ; done\r\n\r\nTo be a bit more robust depending on the output style of `od`, it may need to compress spaces ( insert `&quot;| sed &#39;s/  */ /g&#39;&quot;` after the `w8`).","title":"Command-line to reverse byte order/change endianess","body":"<p>BASH:</p>\n\n<pre><code>od -b -v -w8 | while read pfx b8 ; do [ \"$b8\" ] &amp;&amp; echo -n 12345678 | tr 87654321 \\\\${b8// /\\\\} ; done\n</code></pre>\n\n<p>To be a bit more robust depending on the output style of <code>od</code>, it may need to compress spaces ( insert <code>\"| sed 's/  */ /g'\"</code> after the <code>w8</code>).</p>\n"},{"tags":[],"owner":{"account_id":4052520,"reputation":161,"user_id":3331575,"display_name":"Anton Chevychalov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438103753,"creation_date":1438103753,"answer_id":31683034,"question_id":6438099,"body_markdown":"Used dd, Luke!\r\n\r\n    dd if=sourcefile of=resultfile conv=swab","title":"Command-line to reverse byte order/change endianess","body":"<p>Used dd, Luke!</p>\n\n<pre><code>dd if=sourcefile of=resultfile conv=swab\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299356,"reputation":1264,"user_id":2312686,"accept_rate":90,"display_name":"matovitch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671545805,"creation_date":1671545805,"answer_id":74864439,"question_id":6438099,"body_markdown":"`xxd` has two flags `-e` and `-g` for your purpose.\r\n```\r\n    -e          little-endian dump (incompatible with -ps,-i,-r).\r\n    -g          number of octets per group in normal output. Default 2 (-e: 4).\r\n```\r\nThis way, you can do:\r\n```\r\ntail -c 8 file | xxd -e -g8\r\n```","title":"Command-line to reverse byte order/change endianess","body":"<p><code>xxd</code> has two flags <code>-e</code> and <code>-g</code> for your purpose.</p>\n<pre><code>    -e          little-endian dump (incompatible with -ps,-i,-r).\n    -g          number of octets per group in normal output. Default 2 (-e: 4).\n</code></pre>\n<p>This way, you can do:</p>\n<pre><code>tail -c 8 file | xxd -e -g8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6730169,"reputation":2192,"user_id":5186820,"accept_rate":60,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683147551,"creation_date":1683147551,"answer_id":76167941,"question_id":6438099,"body_markdown":"A simple Python approach that reverses every 4 bytes.  Uses newer Python 3.8+ walrus operator:\r\n\r\n    import sys\r\n    while word := sys.stdin.buffer.read(4):\r\n        sys.stdout.buffer.write(bytes(reversed(word)))\r\n\r\nThe above is simple to understand, but if you want a more compact oneliner, you can modify the above script into:\r\n\r\n    python3 -c $&#39;import sys\\nwhile word := sys.stdin.buffer.read(4):\\n sys.stdout.buffer.write(bytes(reversed(word)))&#39;\r\n\r\nNote the `$&#39;&#39;` notation assumes you&#39;re using bash.  It allows you to use newlines in the Python command.\r\n\r\nAs an example, swapping some chars on stdin:\r\n\r\n    # echo ABCDEFGH | python3 -c $&#39;import sys\\nwhile word := sys.stdin.buffer.read(4):\\n sys.stdout.buffer.write(bytes(reversed(word)))&#39;\r\n    DCBAHGFE\r\n\r\n\r\n\r\n\r\n\r\n","title":"Command-line to reverse byte order/change endianess","body":"<p>A simple Python approach that reverses every 4 bytes.  Uses newer Python 3.8+ walrus operator:</p>\n<pre><code>import sys\nwhile word := sys.stdin.buffer.read(4):\n    sys.stdout.buffer.write(bytes(reversed(word)))\n</code></pre>\n<p>The above is simple to understand, but if you want a more compact oneliner, you can modify the above script into:</p>\n<pre><code>python3 -c $'import sys\\nwhile word := sys.stdin.buffer.read(4):\\n sys.stdout.buffer.write(bytes(reversed(word)))'\n</code></pre>\n<p>Note the <code>$''</code> notation assumes you're using bash.  It allows you to use newlines in the Python command.</p>\n<p>As an example, swapping some chars on stdin:</p>\n<pre><code># echo ABCDEFGH | python3 -c $'import sys\\nwhile word := sys.stdin.buffer.read(4):\\n sys.stdout.buffer.write(bytes(reversed(word)))'\nDCBAHGFE\n</code></pre>\n"}],"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23741,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6441177,"answer_count":8,"score":13,"last_activity_date":1683147551,"creation_date":1308737000,"question_id":6438099,"body_markdown":"I&#39;m hacking around in some scripts trying to parse some data written by Javas `DataOutputStream#writeLong(...)`. Since java always seems to write big endian, I have a problem feeding the bytes to `od`. This is due to the fact that `od` always assumes that the endianess matches the endianess of the arch that you are currently on, and I&#39;m on a little endian machine. \r\n\r\nI&#39;m looking for an easy one-liner to reverse the byte order. Let&#39;s say that you know that the last 8 bytes of a file is a long written by the aforementioned `writeLong(...)` method. My current best attempt to print this long is\r\n\r\n    tail -c 8 file | tac | od -t d8\r\n\r\n, but `tac` only seems to work on text (fair enough). I&#39;ve found some references to `dd conv=swab`, but this only swaps bytes in pairs, and cannot reverse these eight bytes. \r\n\r\nDoes anyone know a good one-liner for this?","title":"Command-line to reverse byte order/change endianess","body":"<p>I'm hacking around in some scripts trying to parse some data written by Javas <code>DataOutputStream#writeLong(...)</code>. Since java always seems to write big endian, I have a problem feeding the bytes to <code>od</code>. This is due to the fact that <code>od</code> always assumes that the endianess matches the endianess of the arch that you are currently on, and I'm on a little endian machine. </p>\n\n<p>I'm looking for an easy one-liner to reverse the byte order. Let's say that you know that the last 8 bytes of a file is a long written by the aforementioned <code>writeLong(...)</code> method. My current best attempt to print this long is</p>\n\n<pre><code>tail -c 8 file | tac | od -t d8\n</code></pre>\n\n<p>, but <code>tac</code> only seems to work on text (fair enough). I've found some references to <code>dd conv=swab</code>, but this only swaps bytes in pairs, and cannot reverse these eight bytes. </p>\n\n<p>Does anyone know a good one-liner for this?</p>\n"},{"tags":["java","image","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683146912,"creation_date":1682795676,"answer_id":76137984,"question_id":76124593,"body_markdown":"## 1. JasperPrint + JRBasePrintImage usage\r\n\r\n### 1.1 Solution in case using byte array\r\nTry to use *[JRPrintImage](https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JRPrintImage.html)* (*[JRBasePrintImage](https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/base/JRBasePrintImage.html)* implementation) for showing image. \r\n\r\nThe *[JRPrintImage.setRenderer(net.sf.jasperreports.renderers.Renderable)](https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JRPrintImage.html#setRenderer(net.sf.jasperreports.renderers.Renderable))* method can be used for setting image renderer. The *[SimpleDataRenderer](https://jasperreports.sourceforge.net/api/net/sf/jasperreports/renderers/SimpleDataRenderer.html)* implementation of renderer can be used for showing image passed as byte array.\r\n\r\n### 1.2 Working example on Java\r\n\r\nThis code is showing report with image that was read from the file and was passed to renderer as byte array.\r\n\r\n\r\n    private static JasperPrint getJasperPrint() throws IOException, URISyntaxException {\r\n        JasperPrint jasperPrint = new JasperPrint();\r\n        jasperPrint.setPageWidth(500);\r\n        jasperPrint.setPageHeight(400);\r\n\r\n        JRPrintPage page = new JRBasePrintPage();\r\n\r\n        byte[] imageBytes = Files.readAllBytes(Paths.get(BuildReportWithImage.class.getResource(&quot;/smile.jpg&quot;).toURI()));\r\n\r\n        JRPrintImage image = new JRBasePrintImage(jasperPrint.getDefaultStyleProvider());\r\n        image.setX(45);\r\n        image.setY(55);\r\n        image.setWidth(88);\r\n        image.setHeight(88);\r\n        image.setScaleImage(ScaleImageEnum.FILL_FRAME);\r\n        image.setRenderer(SimpleDataRenderer.getInstance(imageBytes));\r\n        page.addElement(image);\r\n\r\n        JRPrintText text = new JRBasePrintText(jasperPrint.getDefaultStyleProvider());\r\n        text.setX(150);\r\n        text.setY(55);\r\n        text.setWidth(345);\r\n        text.setHeight(30);\r\n        text.setTextHeight(text.getHeight());\r\n        text.setFontSize(12f);\r\n        text.setText(&quot;Example of rendering image using byte array with \\nhelp of SimpleDataRenderer&quot;);\r\n        page.addElement(text);\r\n\r\n        jasperPrint.addPage(page);\r\n\r\n        return jasperPrint;\r\n    }\r\n\r\n    public static void main(String[] args) throws JRException, IOException, URISyntaxException {\r\n        JasperViewer jasperViewer = new JasperViewer(getJasperPrint(), false);\r\n        jasperViewer.setTitle(&quot;Show image using byte array&quot;);\r\n        jasperViewer.setVisible(true);\r\n    }\r\n\r\n### 1.3 Output\r\n\r\nThis is the result of running the code above:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## 2. JasperDesign + JRDesignImage usage\r\n\r\n### 2.1 Solution in case using byte array\r\n\r\nIn case we have to use *JasperDesign* (for example, we need different bands) we can do a similar trick with the *SimpleDataRenderer*.\r\n\r\nWe can&#39;t set the byte array directly in case using *JRDesignImage*, but we can write expression (Java expression) that will use *SimpleDataRenderer* because image expression supports *Renderable* object.\r\n\r\n### 2.2 Working example on Java\r\n\r\nWe can init the instance of *Renderable* object with expression like this:\r\n\r\n    Renderable renderable = SimpleDataRenderer.getInstance(someByteArray);\r\n\r\nThe full snippet:\r\n\r\n    private static JasperDesign getJasperDesign() throws JRException, URISyntaxException, IOException {\r\n        JasperDesign jasperDesign = new JasperDesign();\r\n        jasperDesign.setName(&quot;ShowingImage&quot;);\r\n        jasperDesign.setPageWidth(595);\r\n        jasperDesign.setPageHeight(400);\r\n        jasperDesign.setWhenNoDataType(WhenNoDataTypeEnum.NO_DATA_SECTION);\r\n\r\n        JRDesignBand titleBand = new JRDesignBand();\r\n        titleBand.setHeight(100);\r\n\r\n        JRDesignStaticText staticText = new JRDesignStaticText();\r\n        staticText.setX(120);\r\n        staticText.setY(10);\r\n        staticText.setWidth(400);\r\n        staticText.setHeight(60);\r\n        staticText.setHorizontalTextAlign(HorizontalTextAlignEnum.CENTER);\r\n        staticText.setFontSize(12f);\r\n        staticText.setText(&quot;Example of rendering image [JRDesignImage] using byte array with \\nhelp of SimpleDataRenderer&quot;);\r\n        titleBand.addElement(staticText);\r\n\r\n        JRDesignImage image = new JRDesignImage(DEFAULT_STYLE_PROVIDER);\r\n        image.setX(1);\r\n        image.setY(1);\r\n        image.setWidth(88);\r\n        image.setHeight(88);\r\n        image.setOnErrorType(OnErrorTypeEnum.ERROR);\r\n        image.setExpression(new JRDesignExpression(&quot;net.sf.jasperreports.renderers.SimpleDataRenderer.getInstance(java.nio.file.Files.readAllBytes(java.nio.file.Paths.get(ru.alex.BuildReportWithImage.class.getResource(\\&quot;/earth.jpg\\&quot;).toURI())))&quot;));\r\n        titleBand.addElement(image);\r\n\r\n        jasperDesign.setTitle(titleBand);\r\n\r\n        return jasperDesign;\r\n    }\r\n\r\n    public static void main(String[] args) throws JRException, IOException, URISyntaxException {\r\n        JasperDesign jasperDesign = getJasperDesign();\r\n        JasperReport jasperReport = JasperCompileManager.getInstance(DefaultJasperReportsContext.getInstance()).compile(jasperDesign);\r\n\r\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, new HashMap&lt;&gt;(), new JREmptyDataSource());\r\n\r\n        JasperViewer jasperViewer = new JasperViewer(jasperPrint, false);\r\n        jasperViewer.setTitle(&quot;Show image using byte array&quot;);\r\n        jasperViewer.setVisible(true);\r\n    }\r\n\r\n### 2.3 Output\r\n\r\nThis is the result of running the code above:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3dwb.png\r\n  [2]: https://i.stack.imgur.com/EmTXv.png","title":"Add image byte array in JRDesignImage","body":"<h2>1. JasperPrint + JRBasePrintImage usage</h2>\n<h3>1.1 Solution in case using byte array</h3>\n<p>Try to use <em><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JRPrintImage.html\" rel=\"nofollow noreferrer\">JRPrintImage</a></em> (<em><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/base/JRBasePrintImage.html\" rel=\"nofollow noreferrer\">JRBasePrintImage</a></em> implementation) for showing image.</p>\n<p>The <em><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JRPrintImage.html#setRenderer(net.sf.jasperreports.renderers.Renderable)\" rel=\"nofollow noreferrer\">JRPrintImage.setRenderer(net.sf.jasperreports.renderers.Renderable)</a></em> method can be used for setting image renderer. The <em><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/renderers/SimpleDataRenderer.html\" rel=\"nofollow noreferrer\">SimpleDataRenderer</a></em> implementation of renderer can be used for showing image passed as byte array.</p>\n<h3>1.2 Working example on Java</h3>\n<p>This code is showing report with image that was read from the file and was passed to renderer as byte array.</p>\n<pre><code>private static JasperPrint getJasperPrint() throws IOException, URISyntaxException {\n    JasperPrint jasperPrint = new JasperPrint();\n    jasperPrint.setPageWidth(500);\n    jasperPrint.setPageHeight(400);\n\n    JRPrintPage page = new JRBasePrintPage();\n\n    byte[] imageBytes = Files.readAllBytes(Paths.get(BuildReportWithImage.class.getResource(&quot;/smile.jpg&quot;).toURI()));\n\n    JRPrintImage image = new JRBasePrintImage(jasperPrint.getDefaultStyleProvider());\n    image.setX(45);\n    image.setY(55);\n    image.setWidth(88);\n    image.setHeight(88);\n    image.setScaleImage(ScaleImageEnum.FILL_FRAME);\n    image.setRenderer(SimpleDataRenderer.getInstance(imageBytes));\n    page.addElement(image);\n\n    JRPrintText text = new JRBasePrintText(jasperPrint.getDefaultStyleProvider());\n    text.setX(150);\n    text.setY(55);\n    text.setWidth(345);\n    text.setHeight(30);\n    text.setTextHeight(text.getHeight());\n    text.setFontSize(12f);\n    text.setText(&quot;Example of rendering image using byte array with \\nhelp of SimpleDataRenderer&quot;);\n    page.addElement(text);\n\n    jasperPrint.addPage(page);\n\n    return jasperPrint;\n}\n\npublic static void main(String[] args) throws JRException, IOException, URISyntaxException {\n    JasperViewer jasperViewer = new JasperViewer(getJasperPrint(), false);\n    jasperViewer.setTitle(&quot;Show image using byte array&quot;);\n    jasperViewer.setVisible(true);\n}\n</code></pre>\n<h3>1.3 Output</h3>\n<p>This is the result of running the code above:</p>\n<p><a href=\"https://i.stack.imgur.com/A3dwb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3dwb.png\" alt=\"enter image description here\" /></a></p>\n<h2>2. JasperDesign + JRDesignImage usage</h2>\n<h3>2.1 Solution in case using byte array</h3>\n<p>In case we have to use <em>JasperDesign</em> (for example, we need different bands) we can do a similar trick with the <em>SimpleDataRenderer</em>.</p>\n<p>We can't set the byte array directly in case using <em>JRDesignImage</em>, but we can write expression (Java expression) that will use <em>SimpleDataRenderer</em> because image expression supports <em>Renderable</em> object.</p>\n<h3>2.2 Working example on Java</h3>\n<p>We can init the instance of <em>Renderable</em> object with expression like this:</p>\n<pre><code>Renderable renderable = SimpleDataRenderer.getInstance(someByteArray);\n</code></pre>\n<p>The full snippet:</p>\n<pre><code>private static JasperDesign getJasperDesign() throws JRException, URISyntaxException, IOException {\n    JasperDesign jasperDesign = new JasperDesign();\n    jasperDesign.setName(&quot;ShowingImage&quot;);\n    jasperDesign.setPageWidth(595);\n    jasperDesign.setPageHeight(400);\n    jasperDesign.setWhenNoDataType(WhenNoDataTypeEnum.NO_DATA_SECTION);\n\n    JRDesignBand titleBand = new JRDesignBand();\n    titleBand.setHeight(100);\n\n    JRDesignStaticText staticText = new JRDesignStaticText();\n    staticText.setX(120);\n    staticText.setY(10);\n    staticText.setWidth(400);\n    staticText.setHeight(60);\n    staticText.setHorizontalTextAlign(HorizontalTextAlignEnum.CENTER);\n    staticText.setFontSize(12f);\n    staticText.setText(&quot;Example of rendering image [JRDesignImage] using byte array with \\nhelp of SimpleDataRenderer&quot;);\n    titleBand.addElement(staticText);\n\n    JRDesignImage image = new JRDesignImage(DEFAULT_STYLE_PROVIDER);\n    image.setX(1);\n    image.setY(1);\n    image.setWidth(88);\n    image.setHeight(88);\n    image.setOnErrorType(OnErrorTypeEnum.ERROR);\n    image.setExpression(new JRDesignExpression(&quot;net.sf.jasperreports.renderers.SimpleDataRenderer.getInstance(java.nio.file.Files.readAllBytes(java.nio.file.Paths.get(ru.alex.BuildReportWithImage.class.getResource(\\&quot;/earth.jpg\\&quot;).toURI())))&quot;));\n    titleBand.addElement(image);\n\n    jasperDesign.setTitle(titleBand);\n\n    return jasperDesign;\n}\n\npublic static void main(String[] args) throws JRException, IOException, URISyntaxException {\n    JasperDesign jasperDesign = getJasperDesign();\n    JasperReport jasperReport = JasperCompileManager.getInstance(DefaultJasperReportsContext.getInstance()).compile(jasperDesign);\n\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, new HashMap&lt;&gt;(), new JREmptyDataSource());\n\n    JasperViewer jasperViewer = new JasperViewer(jasperPrint, false);\n    jasperViewer.setTitle(&quot;Show image using byte array&quot;);\n    jasperViewer.setVisible(true);\n}\n</code></pre>\n<h3>2.3 Output</h3>\n<p>This is the result of running the code above:</p>\n<p><a href=\"https://i.stack.imgur.com/EmTXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EmTXv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683146912,"creation_date":1682629033,"question_id":76124593,"body_markdown":"I have a byte array that represents an image.\r\n\r\nI need to use this byte array in reports generated through JasperReport API 6.20.\r\n\r\nPassing the image path is out of scope in this case.\r\n\r\n```\r\nbyte[] image = [0,0,0,0,0]\r\nJRDesignImage jrDesignImage = new JRDesignImage()\r\njrDesignImage.setX(width)\r\njrDesignImage.setY(0)\r\njrDesignImage.setWidth(width)\r\njrDesignImage.setHeight(height)\r\njrDesignImage.setOnErrorType(OnErrorTypeEnum.BLANK)\r\n```\r\nI tried to use JRDesignExpression, with base64, but error occurs due to the length of the string.\r\n```\r\nString b64 = Base64.getEncoder().encodeToString(image)\r\nJRDesignExpression expressionApp = new JRDesignExpression()\r\nexpressionApp.setText(&#39;&quot;&#39; + b64 + &#39;&quot;&#39;)\r\n//expressionApp.setText(b64)\r\nexpressionApp.setValueClass(String)\r\nimageApp.setExpression(expressionApp)\r\n```\r\n\r\nI&#39;m using Java 11.0.17, Grails 5.2.2 and JasperReports API 6.20","title":"Add image byte array in JRDesignImage","body":"<p>I have a byte array that represents an image.</p>\n<p>I need to use this byte array in reports generated through JasperReport API 6.20.</p>\n<p>Passing the image path is out of scope in this case.</p>\n<pre><code>byte[] image = [0,0,0,0,0]\nJRDesignImage jrDesignImage = new JRDesignImage()\njrDesignImage.setX(width)\njrDesignImage.setY(0)\njrDesignImage.setWidth(width)\njrDesignImage.setHeight(height)\njrDesignImage.setOnErrorType(OnErrorTypeEnum.BLANK)\n</code></pre>\n<p>I tried to use JRDesignExpression, with base64, but error occurs due to the length of the string.</p>\n<pre><code>String b64 = Base64.getEncoder().encodeToString(image)\nJRDesignExpression expressionApp = new JRDesignExpression()\nexpressionApp.setText('&quot;' + b64 + '&quot;')\n//expressionApp.setText(b64)\nexpressionApp.setValueClass(String)\nimageApp.setExpression(expressionApp)\n</code></pre>\n<p>I'm using Java 11.0.17, Grails 5.2.2 and JasperReports API 6.20</p>\n"},{"tags":["java","string","type-conversion","long-integer"],"answers":[{"tags":[],"owner":{"account_id":75307,"reputation":69271,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"down_vote_count":2,"up_vote_count":412,"is_accepted":false,"score":410,"last_activity_date":1400249791,"creation_date":1260093635,"answer_id":1854935,"question_id":1854924,"body_markdown":"See the [reference documentation for the String class][1]: `String s = String.valueOf(date);`\r\n\r\n\r\n\r\nIf your Long might be null and you don&#39;t want to get a 4-letter `&quot;null&quot;` string, you might use [`Objects.toString`][2], like: `String s = Objects.toString(date, null);`\r\n\r\n\r\n----------\r\n\r\nEDIT:\r\n\r\nYou reverse it using `Long l = Long.valueOf(s);` but in this direction you need to catch `NumberFormatException`\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29","title":"How to convert / cast long to String?","body":"<p>See the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"noreferrer\">reference documentation for the String class</a>: <code>String s = String.valueOf(date);</code></p>\n\n<p>If your Long might be null and you don't want to get a 4-letter <code>\"null\"</code> string, you might use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#toString%28java.lang.Object,%20java.lang.String%29\" rel=\"noreferrer\"><code>Objects.toString</code></a>, like: <code>String s = Objects.toString(date, null);</code></p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>You reverse it using <code>Long l = Long.valueOf(s);</code> but in this direction you need to catch <code>NumberFormatException</code></p>\n"},{"tags":[],"owner":{"account_id":921315,"reputation":217,"user_id":952970,"display_name":"MR.M"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1316455921,"creation_date":1316446194,"answer_id":7473365,"question_id":1854924,"body_markdown":"very simple,\r\njust concatenate the long to a string.\r\n\r\n    long date = curDateFld.getDate(); \r\n    String str = &quot;&quot;+date;\r\n","title":"How to convert / cast long to String?","body":"<p>very simple,\njust concatenate the long to a string.</p>\n\n<pre><code>long date = curDateFld.getDate(); \nString str = \"\"+date;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087474,"reputation":2544,"user_id":1082845,"accept_rate":71,"display_name":"Fisu"},"down_vote_count":0,"up_vote_count":232,"is_accepted":false,"score":232,"last_activity_date":1334167758,"creation_date":1334167758,"answer_id":10111547,"question_id":1854924,"body_markdown":"    String strLong = Long.toString(longNumber);\r\n\r\nSimple and works fine :-)","title":"How to convert / cast long to String?","body":"<pre><code>String strLong = Long.toString(longNumber);\n</code></pre>\n\n<p>Simple and works fine :-)</p>\n"},{"tags":[],"owner":{"account_id":1028876,"reputation":2699,"user_id":1037592,"display_name":"iKushal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1468835685,"creation_date":1334205049,"answer_id":10117397,"question_id":1854924,"body_markdown":"1.\r\n\r\n    long date = curDateFld.getDate();\r\n    //convert long to string\r\n    String str = String.valueOf(date);\r\n   \r\n    //convert string to long\r\n    date = Long.valueOf(str);\r\n\r\n2.\r\n\r\n     //convert long to string just concat long with empty string\r\n     String str = &quot;&quot;+date;\r\n    //convert string to long\r\n\r\n    date = Long.valueOf(str);","title":"How to convert / cast long to String?","body":"<p>1.</p>\n\n<pre><code>long date = curDateFld.getDate();\n//convert long to string\nString str = String.valueOf(date);\n\n//convert string to long\ndate = Long.valueOf(str);\n</code></pre>\n\n<p>2.</p>\n\n<pre><code> //convert long to string just concat long with empty string\n String str = \"\"+date;\n//convert string to long\n\ndate = Long.valueOf(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455587,"reputation":297,"user_id":2894186,"accept_rate":0,"display_name":"MBR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468835325,"creation_date":1384771294,"answer_id":20045728,"question_id":1854924,"body_markdown":"    String logStringVal= date+&quot;&quot;;\r\n\r\nCan convert the long into string object, cool shortcut for converting into string...but use of `String.valueOf(date);` is advisable","title":"How to convert / cast long to String?","body":"<pre><code>String logStringVal= date+\"\";\n</code></pre>\n\n<p>Can convert the long into string object, cool shortcut for converting into string...but use of <code>String.valueOf(date);</code> is advisable</p>\n"},{"tags":[],"owner":{"account_id":420026,"reputation":95102,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1683146776,"creation_date":1411224777,"answer_id":25950010,"question_id":1854924,"body_markdown":"# `Long.toString()` \r\n\r\nThis should work:\r\n\r\n    long myLong = 1234567890123L;\r\n    String myString = Long.toString(myLong);\r\n\r\n","title":"How to convert / cast long to String?","body":"<h1><code>Long.toString()</code></h1>\n<p>This should work:</p>\n<pre><code>long myLong = 1234567890123L;\nString myString = Long.toString(myLong);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017673,"reputation":409,"user_id":6047365,"display_name":"Nathan Meyer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483978409,"creation_date":1483978409,"answer_id":41552194,"question_id":1854924,"body_markdown":"    String longString = new String(&quot;&quot;+long);\r\nor\r\n\r\n    String longString = new Long(datelong).toString();","title":"How to convert / cast long to String?","body":"<pre><code>String longString = new String(\"\"+long);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String longString = new Long(datelong).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9247575,"reputation":692,"user_id":6869015,"display_name":"Anushil Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599467731,"creation_date":1599467731,"answer_id":63774075,"question_id":1854924,"body_markdown":"Just do this:\r\n\r\n    String strLong = Long.toString(longNumber);","title":"How to convert / cast long to String?","body":"<p>Just do this:</p>\n<pre><code>String strLong = Long.toString(longNumber);\n</code></pre>\n"}],"owner":{"account_id":879005,"reputation":3211,"user_id":225714,"display_name":"user225714"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873500,"favorite_count":0,"down_vote_count":0,"up_vote_count":321,"answer_count":8,"score":321,"last_activity_date":1683146776,"creation_date":1260093486,"question_id":1854924,"body_markdown":"I just created sample BB app, which can allow to choose the date.\r\n\r\n    DateField curDateFld = new DateField(&quot;Choose Date: &quot;,\r\n      System.currentTimeMillis(), DateField.DATE | DateField.FIELD_LEFT);\r\n\r\nAfter choosing the date, I need to convert that long value to String, so that I can easily store the date value somewhere in database.\r\nI am new to Java and Blackberry development.\r\n\r\n    long date = curDateFld.getDate();\r\n\r\nHow should I convert this long value to String? Also I want to convert back to long from String. I think for that I can use `long l = Long.parseLong(&quot;myStr&quot;);`?\r\n","title":"How to convert / cast long to String?","body":"<p>I just created sample BB app, which can allow to choose the date.</p>\n\n<pre><code>DateField curDateFld = new DateField(\"Choose Date: \",\n  System.currentTimeMillis(), DateField.DATE | DateField.FIELD_LEFT);\n</code></pre>\n\n<p>After choosing the date, I need to convert that long value to String, so that I can easily store the date value somewhere in database.\nI am new to Java and Blackberry development.</p>\n\n<pre><code>long date = curDateFld.getDate();\n</code></pre>\n\n<p>How should I convert this long value to String? Also I want to convert back to long from String. I think for that I can use <code>long l = Long.parseLong(\"myStr\");</code>?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683115996,"post_id":76163273,"comment_id":134316461,"body_markdown":"Catching the `InterruptedException` clears the interrupted flag of the thread. Generally the correct way to proceed is (1) set the interrupted flag again: `Thread.currentThread().interrupt();` (2) stop doing what you were currently doing since someone wanted to interrupt it; for example, return from the method (after doing any necessary clean-up).","body":"Catching the <code>InterruptedException</code> clears the interrupted flag of the thread. Generally the correct way to proceed is (1) set the interrupted flag again: <code>Thread.currentThread().interrupt();</code> (2) stop doing what you were currently doing since someone wanted to interrupt it; for example, return from the method (after doing any necessary clean-up)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683116174,"post_id":76163273,"comment_id":134316501,"body_markdown":"See [The Secrets of Concurrency (Part 1)](https://www.javaspecialists.eu/archive/Issue146-The-Secrets-of-Concurrency-Part-1.html), the section *Law 1: The Law of the Sabotaged Doorbell*.","body":"See <a href=\"https://www.javaspecialists.eu/archive/Issue146-The-Secrets-of-Concurrency-Part-1.html\" rel=\"nofollow noreferrer\">The Secrets of Concurrency (Part 1)</a>, the section <i>Law 1: The Law of the Sabotaged Doorbell</i>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683140044,"post_id":76163273,"comment_id":134322328,"body_markdown":"That said, in situations where the `InterrruptedException` surely cannot occur, I tend to do just `throw new AssertionError(&quot;This can’t happen&quot;, exception);` from the `catch` block. Never leave the the catch block without effect.","body":"That said, in situations where the <code>InterrruptedException</code> surely cannot occur, I tend to do just <code>throw new AssertionError(&quot;This can’t happen&quot;, exception);</code> from the <code>catch</code> block. Never leave the the catch block without effect."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683140391,"post_id":76163273,"comment_id":134322391,"body_markdown":"Closely related: [Handling InterruptedException in Java](https://stackoverflow.com/questions/3976344/handling-interruptedexception-in-java). It may even answer your question?","body":"Closely related: <a href=\"https://stackoverflow.com/questions/3976344/handling-interruptedexception-in-java\">Handling InterruptedException in Java</a>. It may even answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683146184,"creation_date":1683113483,"answer_id":76163309,"question_id":76163273,"body_markdown":"Neither is better - it depends on what you intend to do.\r\n\r\nThe second example would break the while loop upon InterruptedException,\r\nthe first example will just break one iteration and the thread would continue on the next.\r\n\r\nThe reason is that an [InterruptedException][1], when thrown inside `Thread.sleep()` will break all execution until a catch block applies (or, if none such block is found, the thread terminates). In the second example this catch is outside the loop, therefore after having executed the catch the loop is gone. \r\n\r\nBut consider why your thread was interrupted in first place. As Ole put it: Stop doing what you were doing. If need be perform some cleanup work, then exit.\r\n\r\nThis may mean you have to exit the loop. It may mean you have to stay in the loop, or run some &#39;undo&#39; loop. But in any case you have to deal with the fact that this thread actually needs to terminate. And since [throwing an InterruptedException clears the interrupted flag][2] of the thread, generally it is wise to set the interrupted flag again using `Thread.currentThread().interrupt()`.\r\n\r\nIf your application needs to perform cleanup also see [Runtime.addShutdownHook()][3], as similar concepts will apply to an interrupted thread:\r\n\r\n*Shutdown hooks should also finish their work quickly. When a program invokes exit the expectation is that the virtual machine will promptly shut down and exit. When the virtual machine is terminated due to user logoff or system shutdown the underlying operating system may only allow a fixed amount of time in which to shut down and exit. It is therefore inadvisable to attempt any user interaction or to perform a long-running computation in a shutdown hook.* \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/InterruptedException.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(long)\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)","title":"Java threads, interrupted exception correct handling","body":"<p>Neither is better - it depends on what you intend to do.</p>\n<p>The second example would break the while loop upon InterruptedException,\nthe first example will just break one iteration and the thread would continue on the next.</p>\n<p>The reason is that an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/InterruptedException.html\" rel=\"nofollow noreferrer\">InterruptedException</a>, when thrown inside <code>Thread.sleep()</code> will break all execution until a catch block applies (or, if none such block is found, the thread terminates). In the second example this catch is outside the loop, therefore after having executed the catch the loop is gone.</p>\n<p>But consider why your thread was interrupted in first place. As Ole put it: Stop doing what you were doing. If need be perform some cleanup work, then exit.</p>\n<p>This may mean you have to exit the loop. It may mean you have to stay in the loop, or run some 'undo' loop. But in any case you have to deal with the fact that this thread actually needs to terminate. And since <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\">throwing an InterruptedException clears the interrupted flag</a> of the thread, generally it is wise to set the interrupted flag again using <code>Thread.currentThread().interrupt()</code>.</p>\n<p>If your application needs to perform cleanup also see <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">Runtime.addShutdownHook()</a>, as similar concepts will apply to an interrupted thread:</p>\n<p><em>Shutdown hooks should also finish their work quickly. When a program invokes exit the expectation is that the virtual machine will promptly shut down and exit. When the virtual machine is terminated due to user logoff or system shutdown the underlying operating system may only allow a fixed amount of time in which to shut down and exit. It is therefore inadvisable to attempt any user interaction or to perform a long-running computation in a shutdown hook.</em></p>\n"}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76163309,"answer_count":1,"score":1,"last_activity_date":1683146520,"creation_date":1683113210,"question_id":76163273,"body_markdown":"Why second example is better than the first one? Can someone explain me? \r\n\r\n//1\r\n```\r\npublic void run()\r\n{\r\n    while (. . .)\r\n    {\r\n        . . .\r\n        try \r\n        { \r\n            . . .\r\n            Thread.sleep(delay); \r\n            . . .\r\n        } catch (InterruptedException exception) {}  \r\n            . . .\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n//2\r\n\r\n```\r\npublic void run() {\r\n    try {\r\n        while (. . .) {\r\n         . . .\r\n         Thread.sleep(delay);\r\n         . . .\r\n        }\r\n    } catch (InterruptedException exception) {\r\n        . . .\r\n    } \r\n}\r\n```\r\n\r\nI heard that the first example, when InterruptedException occurs it does not terminate the thread, but I still do not understand why.","title":"Java threads, interrupted exception correct handling","body":"<p>Why second example is better than the first one? Can someone explain me?</p>\n<p>//1</p>\n<pre><code>public void run()\n{\n    while (. . .)\n    {\n        . . .\n        try \n        { \n            . . .\n            Thread.sleep(delay); \n            . . .\n        } catch (InterruptedException exception) {}  \n            . . .\n        }\n    }\n}\n</code></pre>\n<p>//2</p>\n<pre><code>public void run() {\n    try {\n        while (. . .) {\n         . . .\n         Thread.sleep(delay);\n         . . .\n        }\n    } catch (InterruptedException exception) {\n        . . .\n    } \n}\n</code></pre>\n<p>I heard that the first example, when InterruptedException occurs it does not terminate the thread, but I still do not understand why.</p>\n"},{"tags":["java","android","mvvm","android-navigation-graph","android-safe-args"],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683145409,"creation_date":1683145409,"question_id":76167724,"body_markdown":"There&#39;re 3 fragments\r\n\r\n- AuthFragment - is responsible for the authentication of the user. The authenticated user is stored in the `AuthUser` class. The &#39;AuthUser` class is passed to the `HomeFragment` via safe args.\r\n- HomeFragment - is responsible for displaying some widgets, whatever, allows to logout (that&#39;s why it needs the `AuthUser` - the app gets back to `AuthFragment` on logout) and to go to the `ProfileFragment`. The `ProfileFragment` doesn&#39;t need to know anything about authentication, that&#39;s why the `HomeFragment` creates a `HomeUser` class which contains the profile information and other things. The `HomeUser` class is passed to the `ProfileFragment` via safe args\r\n- ProfileFragment - displays the `HomeUser` data and allows to get back to the `HomeFragment`\r\n\r\nIn short, the navigation graph looks like this:\r\n\r\n- AuthFragment --(AuthUser)--&gt; HomeFragment\r\n- HomeFragment --&gt; AuthFragment\r\n- HomeFragment --(HomeUser)--&gt; ProfileFragment\r\n- ProfileFragment &lt;--(What here???)-- HomeFragment\r\n\r\nThe `AuthFragment` uses the `AuthViewModel` and the `AuthRepository` to handle the firebase authentication, but it&#39;s not in the scope of this question, so I won&#39;t get deeper into it.\r\n\r\nHere&#39;s the thing, what should I use: \r\n\r\n- safe args - the `HomeFragment` would take the `AuthUser` and the `HomeUser` as arguments, and the `AuthUser` would also be passed as an argument to the `ProfileFragment` because the `HomeFragment` needs to have the `AuthUser` valid, so to get back to the `HomeFragment` with a valid `AuthUser` the `ProfileFragment` has to have the valid `AuthUser`.\r\n \r\n```java\r\n//AuthFragment to HomeFragment, HomeUser is null\r\nAuthUser authUser = getAuthUser();\r\nvar action = AuthFragmentDirections.authToHome(authUser);\r\nNavHostFragment.findNavController(AuthFragment.this).navigate(action);\r\n```\r\n```java\r\n//HomeFragment to ProfileFragment\r\nAuthUser authUser = getAuthUser();\r\nHomeUser homeUser = getHomeUser();\r\nvar action = AuthFragmentDirections.homeToProfile(authUser, homeUser);\r\nNavHostFragment.findNavController(HomeFragment.this).navigate(action);\r\n```\r\n```java\r\n//ProfileFragmentto HomeFragment \r\nAuthUser authUser = getAuthUser();\r\nHomeUser homeUser = getHomeUser();\r\nvar action = AuthFragmentDirections.profileToHome(authUser, homeUser);\r\nNavHostFragment.findNavController(ProfileFragment.this).navigate(action);\r\n```\r\n```java\r\n//getting the authUser from arguments\r\nauthUser = HomeFragmentArgs.fromBundle(getArguments()).getAuthUser();\r\n```\r\n\r\nIt sounds confusing, I know... that&#39;s why I thought of the `HomeViewModel` class that would contain the `AuthUser` and the `HomeUser`, so let&#39;s get into what I thought of\r\n\r\n- ViewModel to save the `AuthUser` or/and the `HomeUser` - I&#39;ve got 2 ideas. \r\n1. The `AuthViewModel` will be also used in the `HomeFragment`, which is not ideal, because `AuthViewModel` contains methods strictly for authorization\r\n2. Create a `HomeViewModel` that will have the `AuthUser`\r\n```java\r\npublic class HomeViewModel extends ViewModel {\r\n    public AuthUser authUser;\r\n    public HomeUser homeUser;\r\n}\r\n```\r\nand in the `HomeFragment`\r\n```java\r\nauthUser = HomeScreenArgs.fromBundle(getArguments()).getAuthUser();\r\nhomeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\r\nhomeViewModel.authUser = authUser;\r\n```\r\n\r\nMy question is, which method is more correct?\r\n1. It doesn&#39;t matter if the `ProfileFragment` has access to the `AuthUser` and I can just pass it all around using safe args\r\n2. I should use the `AuthViewModel`, which has authentication methods, in the `HomeFragment`. \r\n3. I should use a combination of safe args and a ViewModel to pass the `AuthUser` to the `HomeFragment` and save it inside a ViewModel\r\n","title":"Should I use ViewModel, safe args or both? If both, how to do this a proper way?","body":"<p>There're 3 fragments</p>\n<ul>\n<li>AuthFragment - is responsible for the authentication of the user. The authenticated user is stored in the <code>AuthUser</code> class. The 'AuthUser<code>class is passed to the</code>HomeFragment` via safe args.</li>\n<li>HomeFragment - is responsible for displaying some widgets, whatever, allows to logout (that's why it needs the <code>AuthUser</code> - the app gets back to <code>AuthFragment</code> on logout) and to go to the <code>ProfileFragment</code>. The <code>ProfileFragment</code> doesn't need to know anything about authentication, that's why the <code>HomeFragment</code> creates a <code>HomeUser</code> class which contains the profile information and other things. The <code>HomeUser</code> class is passed to the <code>ProfileFragment</code> via safe args</li>\n<li>ProfileFragment - displays the <code>HomeUser</code> data and allows to get back to the <code>HomeFragment</code></li>\n</ul>\n<p>In short, the navigation graph looks like this:</p>\n<ul>\n<li>AuthFragment --(AuthUser)--&gt; HomeFragment</li>\n<li>HomeFragment --&gt; AuthFragment</li>\n<li>HomeFragment --(HomeUser)--&gt; ProfileFragment</li>\n<li>ProfileFragment &lt;--(What here???)-- HomeFragment</li>\n</ul>\n<p>The <code>AuthFragment</code> uses the <code>AuthViewModel</code> and the <code>AuthRepository</code> to handle the firebase authentication, but it's not in the scope of this question, so I won't get deeper into it.</p>\n<p>Here's the thing, what should I use:</p>\n<ul>\n<li>safe args - the <code>HomeFragment</code> would take the <code>AuthUser</code> and the <code>HomeUser</code> as arguments, and the <code>AuthUser</code> would also be passed as an argument to the <code>ProfileFragment</code> because the <code>HomeFragment</code> needs to have the <code>AuthUser</code> valid, so to get back to the <code>HomeFragment</code> with a valid <code>AuthUser</code> the <code>ProfileFragment</code> has to have the valid <code>AuthUser</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>//AuthFragment to HomeFragment, HomeUser is null\nAuthUser authUser = getAuthUser();\nvar action = AuthFragmentDirections.authToHome(authUser);\nNavHostFragment.findNavController(AuthFragment.this).navigate(action);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//HomeFragment to ProfileFragment\nAuthUser authUser = getAuthUser();\nHomeUser homeUser = getHomeUser();\nvar action = AuthFragmentDirections.homeToProfile(authUser, homeUser);\nNavHostFragment.findNavController(HomeFragment.this).navigate(action);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//ProfileFragmentto HomeFragment \nAuthUser authUser = getAuthUser();\nHomeUser homeUser = getHomeUser();\nvar action = AuthFragmentDirections.profileToHome(authUser, homeUser);\nNavHostFragment.findNavController(ProfileFragment.this).navigate(action);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//getting the authUser from arguments\nauthUser = HomeFragmentArgs.fromBundle(getArguments()).getAuthUser();\n</code></pre>\n<p>It sounds confusing, I know... that's why I thought of the <code>HomeViewModel</code> class that would contain the <code>AuthUser</code> and the <code>HomeUser</code>, so let's get into what I thought of</p>\n<ul>\n<li>ViewModel to save the <code>AuthUser</code> or/and the <code>HomeUser</code> - I've got 2 ideas.</li>\n</ul>\n<ol>\n<li>The <code>AuthViewModel</code> will be also used in the <code>HomeFragment</code>, which is not ideal, because <code>AuthViewModel</code> contains methods strictly for authorization</li>\n<li>Create a <code>HomeViewModel</code> that will have the <code>AuthUser</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class HomeViewModel extends ViewModel {\n    public AuthUser authUser;\n    public HomeUser homeUser;\n}\n</code></pre>\n<p>and in the <code>HomeFragment</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>authUser = HomeScreenArgs.fromBundle(getArguments()).getAuthUser();\nhomeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\nhomeViewModel.authUser = authUser;\n</code></pre>\n<p>My question is, which method is more correct?</p>\n<ol>\n<li>It doesn't matter if the <code>ProfileFragment</code> has access to the <code>AuthUser</code> and I can just pass it all around using safe args</li>\n<li>I should use the <code>AuthViewModel</code>, which has authentication methods, in the <code>HomeFragment</code>.</li>\n<li>I should use a combination of safe args and a ViewModel to pass the <code>AuthUser</code> to the <code>HomeFragment</code> and save it inside a ViewModel</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","db2","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683145153,"creation_date":1683145153,"answer_id":76167695,"question_id":76164353,"body_markdown":"Actually, you may use HBN ~internal API to get next value of arbitrary sequence, something like:\r\n\r\n```java\r\npublic class SequenceManager {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Autowired\r\n    private EntityManagerFactory entityManagerFactory;\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public long getNextValue(String sequenceName) {\r\n        Dialect dialect = getDialect();\r\n        String sql = dialect.getSequenceNextValString(sequenceName);\r\n        return Optional.of(entityManager.createNativeQuery(sql))\r\n                .map(Query::getSingleResult)\r\n                .flatMap(optionalOf(Number.class))\r\n                .map(Number::longValue)\r\n                .orElseThrow(NoResultException::new);\r\n    }\r\n\r\n    protected Dialect getDialect() {\r\n        return entityManagerFactory.unwrap(SessionFactoryImplementor.class)\r\n                .getJdbcServices().getDialect();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI believe your security tool will fail to discover that `org.hibernate.dialect.Dialect#getSequenceNextValString` method performs string concatenation, just add sane check of `sequenceName` value, to make sure you are safe.","title":"How to write a Criteria Query where the table schema is an input parameter and it avoids SQL injection","body":"<p>Actually, you may use HBN ~internal API to get next value of arbitrary sequence, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SequenceManager {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Autowired\n    private EntityManagerFactory entityManagerFactory;\n\n    @Transactional(propagation = Propagation.REQUIRED)\n    public long getNextValue(String sequenceName) {\n        Dialect dialect = getDialect();\n        String sql = dialect.getSequenceNextValString(sequenceName);\n        return Optional.of(entityManager.createNativeQuery(sql))\n                .map(Query::getSingleResult)\n                .flatMap(optionalOf(Number.class))\n                .map(Number::longValue)\n                .orElseThrow(NoResultException::new);\n    }\n\n    protected Dialect getDialect() {\n        return entityManagerFactory.unwrap(SessionFactoryImplementor.class)\n                .getJdbcServices().getDialect();\n    }\n\n}\n</code></pre>\n<p>I believe your security tool will fail to discover that <code>org.hibernate.dialect.Dialect#getSequenceNextValString</code> method performs string concatenation, just add sane check of <code>sequenceName</code> value, to make sure you are safe.</p>\n"}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683145153,"creation_date":1683120021,"question_id":76164353,"body_markdown":"I have been attempting to find a way to write the following query to avoid any sort of SQL injection but have continually come up empty handed.\r\n\r\n```SQL\r\n&quot;SELECT NEXTVAL FOR &quot; + schema + &quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1&quot;\r\n```\r\n\r\nI have tried using the `EntityManager` and `setParameter()` as such:\r\n```java\r\nQuery query = entityManager.createNativeQuery(&quot;SELECT NEXTVAL FOR ?.CNTCT_ID FROM SYSIBM.SYSDUMMY1&quot;);\r\nquery.setParameter(1, schema);\r\n```\r\n\r\nBut that doesn&#39;t work because the positional parameter can only be used in the `WHERE` or `HAVING` clause of a SQL statement. Similar results when using a named parameter.\r\n\r\nThose failures led me to try out Criteria Queries since they use a prepared statements. I was only really able to find examples of Criteria Queries that are extremely simple ie. `SELECT * FROM employees WHERE name = &quot;JOHN&quot;`. I could not find anything that was similar to what I needed.\r\n\r\nSince I couldn&#39;t find what I needed and due to my time constraint I ventured into the forbidden OpenAI territory. The Criteria Query I received there still doesn&#39;t work... surprise surprise. But it is certainly different from all of the other CQ examples I found.\r\n\r\n```java\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Integer&gt; query = cb.createQuery(Integer.class);\r\n\r\n        ParameterExpression&lt;String&gt; schemaNameParam = cb.parameter(String.class);\r\n        Expression&lt;String&gt; sequenceExpression = cb.concat(cb.concat(cb.literal(&quot;NEXTVAL FOR &quot;), schemaNameParam), cb.literal(&quot;.CNTCT_ID&quot;));\r\n        Expression&lt;String&gt; sequenceString = cb.function(&quot;COALESCE&quot;, String.class, sequenceExpression, cb.literal(&quot;0&quot;));\r\n        query.select(cb.function(&quot;CAST&quot;, Integer.class, sequenceString));\r\n        query.from(DummySequenceEntity.class);\r\n\r\n        TypedQuery&lt;Integer&gt; typedQuery = entityManager.createQuery(query);\r\n        typedQuery.setParameter(schemaNameParam, schema);\r\n\r\n        return typedQuery.getSingleResult();\r\n```\r\n\r\nWith that Criteria Query I am running into issues with the `CAST` it seems. Any assistance would be appreciated. I just want a SQL injection safe sequence query where the schema is variable depending on the `systemProperties` but that seems to be much more difficult than I thought.","title":"How to write a Criteria Query where the table schema is an input parameter and it avoids SQL injection","body":"<p>I have been attempting to find a way to write the following query to avoid any sort of SQL injection but have continually come up empty handed.</p>\n<pre><code>&quot;SELECT NEXTVAL FOR &quot; + schema + &quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1&quot;\n</code></pre>\n<p>I have tried using the <code>EntityManager</code> and <code>setParameter()</code> as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager.createNativeQuery(&quot;SELECT NEXTVAL FOR ?.CNTCT_ID FROM SYSIBM.SYSDUMMY1&quot;);\nquery.setParameter(1, schema);\n</code></pre>\n<p>But that doesn't work because the positional parameter can only be used in the <code>WHERE</code> or <code>HAVING</code> clause of a SQL statement. Similar results when using a named parameter.</p>\n<p>Those failures led me to try out Criteria Queries since they use a prepared statements. I was only really able to find examples of Criteria Queries that are extremely simple ie. <code>SELECT * FROM employees WHERE name = &quot;JOHN&quot;</code>. I could not find anything that was similar to what I needed.</p>\n<p>Since I couldn't find what I needed and due to my time constraint I ventured into the forbidden OpenAI territory. The Criteria Query I received there still doesn't work... surprise surprise. But it is certainly different from all of the other CQ examples I found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Integer&gt; query = cb.createQuery(Integer.class);\n\n        ParameterExpression&lt;String&gt; schemaNameParam = cb.parameter(String.class);\n        Expression&lt;String&gt; sequenceExpression = cb.concat(cb.concat(cb.literal(&quot;NEXTVAL FOR &quot;), schemaNameParam), cb.literal(&quot;.CNTCT_ID&quot;));\n        Expression&lt;String&gt; sequenceString = cb.function(&quot;COALESCE&quot;, String.class, sequenceExpression, cb.literal(&quot;0&quot;));\n        query.select(cb.function(&quot;CAST&quot;, Integer.class, sequenceString));\n        query.from(DummySequenceEntity.class);\n\n        TypedQuery&lt;Integer&gt; typedQuery = entityManager.createQuery(query);\n        typedQuery.setParameter(schemaNameParam, schema);\n\n        return typedQuery.getSingleResult();\n</code></pre>\n<p>With that Criteria Query I am running into issues with the <code>CAST</code> it seems. Any assistance would be appreciated. I just want a SQL injection safe sequence query where the schema is variable depending on the <code>systemProperties</code> but that seems to be much more difficult than I thought.</p>\n"},{"tags":["java","spring-boot","kotlin","gradle","type-mismatch"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1683114416,"post_id":76163373,"comment_id":134316065,"body_markdown":"please add more details , I don&#39;t think so it&#39;s having enough information to answer this question.\ncheck isEmpty() might required instead of isEmpty property you are trying to return.","body":"please add more details , I don&#39;t think so it&#39;s having enough information to answer this question. check isEmpty() might required instead of isEmpty property you are trying to return."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683143884,"creation_date":1683143884,"answer_id":76167576,"question_id":76163373,"body_markdown":"It&#39;s telling you that it&#39;s expecting a function invocation, i.e. `isEmpty()` (with the parentheses). You&#39;re treating it like a value by just doing `department.isEmpty` without the parentheses, but it has no property with that name. But it recognises it as the name of a function you can call on the `department` object, so it&#39;s telling you you need to invoke that instead.","title":"Facing unresolved reference. None of the following candidates is applicable because of receiver type mismatch","body":"<p>It's telling you that it's expecting a function invocation, i.e. <code>isEmpty()</code> (with the parentheses). You're treating it like a value by just doing <code>department.isEmpty</code> without the parentheses, but it has no property with that name. But it recognises it as the name of a function you can call on the <code>department</code> object, so it's telling you you need to invoke that instead.</p>\n"}],"owner":{"account_id":21253356,"reputation":11,"user_id":16241357,"display_name":"samey _"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683143884,"creation_date":1683113891,"question_id":76163373,"body_markdown":"Someone to please help me solve this issue that I get on correct kotlin code. \r\nTo be precise, the issue occurs on all usages of isEmpty.\r\n\r\nBelow is the error snippet.\r\n\r\n\r\n```\r\nfunction invocation &#39;isEmpty(...)&#39; expected\r\n        return if (department.isEmpty) {\r\n                              ^\r\n```\r\n\r\n\r\n\r\nI have tried downgrading and upgrading to different versions of java as well as gradle but still the issue is consistent. ","title":"Facing unresolved reference. None of the following candidates is applicable because of receiver type mismatch","body":"<p>Someone to please help me solve this issue that I get on correct kotlin code.\nTo be precise, the issue occurs on all usages of isEmpty.</p>\n<p>Below is the error snippet.</p>\n<pre><code>function invocation 'isEmpty(...)' expected\n        return if (department.isEmpty) {\n                              ^\n</code></pre>\n<p>I have tried downgrading and upgrading to different versions of java as well as gradle but still the issue is consistent.</p>\n"},{"tags":["java","android","rotation","drawing","android-framelayout"],"owner":{"account_id":28381767,"reputation":1,"user_id":21708938,"display_name":"T1D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683143673,"creation_date":1683143673,"question_id":76167552,"body_markdown":"I am creating an app using Java. In it I have a frame layout that rotates on button click 90 degrees. After rotating it, I want it to resize and fit to its parent (basically the original width becomes the new height and vice versa). I have a drawing added to that layout, that&#39;s why I need for it to change its size. Right now, when I press button for the layout to rotate, that layout becomes square (both sides are equal to original width), and when I press it again, the layout once again perfectly fits inside its parent. So, I can rotate it 180 degrees without any problems, but not 90 degrees.\r\n\r\nRight now, my code for the button in MainActivity looks like this. I tried to remove else and nothing changes, I get the same result.\r\n\r\n```\r\nspiralView2 = findViewById(R.id.spiralView); //frame layout\r\nbutton = findViewById(R.id.buttonColor); //it&#39;s an image button\r\nDisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            screenWidth = displayMetrics.widthPixels;\r\n            screenHeight = displayMetrics.heightPixels;\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    spiralView2.setRotation(90 * rotation);\r\n                    rotation++;\r\n                    if (rotation == 5)\r\n                        rotation = 1;\r\n\r\n                    RelativeLayout.LayoutParams layoutParams1 = (RelativeLayout.LayoutParams) spiralView2.getLayoutParams();\r\n                    if (rotation % 2 == 0) {\r\n                        layoutParams1.height = screenWidth;\r\n                        layoutParams1.width = screenHeight;\r\n                    } else {\r\n                        layoutParams1.height = screenHeight;\r\n                        layoutParams1.width = screenWidth;\r\n                    }\r\n                    spiralView2.setLayoutParams(layoutParams1);\r\n                }\r\n            });\r\n```\r\nThe drawing inside the spiralView2 is drawn in DrawGrid class, which is called by clicking button inside my fragment. When rotating some of the drawings it looks like they are redrawn after I do the rotation, so I tried to dabble width canvas params, but no luck.\r\n\r\nThe activity_main.xml part:\r\n\r\n```\r\n&lt;RelativeLayout\r\n            android:id=&quot;@+id/relativeLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;8&quot;&gt;\r\n\r\n            &lt;view\r\n                android:id=&quot;@+id/cameraPreview&quot;\r\n                class=&quot;androidx.camera.view.PreviewView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:contentDescription=&quot;@string/camera_preview&quot; /&gt;\r\n\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/spiralView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/frameLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n```\r\nI can&#39;t remove weight from Relative Layout because I want for it to resize according to screen size.\r\n\r\nAny help would be appreciated.","title":"Can&#39;t resize frame layout after rotating it","body":"<p>I am creating an app using Java. In it I have a frame layout that rotates on button click 90 degrees. After rotating it, I want it to resize and fit to its parent (basically the original width becomes the new height and vice versa). I have a drawing added to that layout, that's why I need for it to change its size. Right now, when I press button for the layout to rotate, that layout becomes square (both sides are equal to original width), and when I press it again, the layout once again perfectly fits inside its parent. So, I can rotate it 180 degrees without any problems, but not 90 degrees.</p>\n<p>Right now, my code for the button in MainActivity looks like this. I tried to remove else and nothing changes, I get the same result.</p>\n<pre><code>spiralView2 = findViewById(R.id.spiralView); //frame layout\nbutton = findViewById(R.id.buttonColor); //it's an image button\nDisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            screenWidth = displayMetrics.widthPixels;\n            screenHeight = displayMetrics.heightPixels;\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    spiralView2.setRotation(90 * rotation);\n                    rotation++;\n                    if (rotation == 5)\n                        rotation = 1;\n\n                    RelativeLayout.LayoutParams layoutParams1 = (RelativeLayout.LayoutParams) spiralView2.getLayoutParams();\n                    if (rotation % 2 == 0) {\n                        layoutParams1.height = screenWidth;\n                        layoutParams1.width = screenHeight;\n                    } else {\n                        layoutParams1.height = screenHeight;\n                        layoutParams1.width = screenWidth;\n                    }\n                    spiralView2.setLayoutParams(layoutParams1);\n                }\n            });\n</code></pre>\n<p>The drawing inside the spiralView2 is drawn in DrawGrid class, which is called by clicking button inside my fragment. When rotating some of the drawings it looks like they are redrawn after I do the rotation, so I tried to dabble width canvas params, but no luck.</p>\n<p>The activity_main.xml part:</p>\n<pre><code>&lt;RelativeLayout\n            android:id=&quot;@+id/relativeLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;8&quot;&gt;\n\n            &lt;view\n                android:id=&quot;@+id/cameraPreview&quot;\n                class=&quot;androidx.camera.view.PreviewView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:contentDescription=&quot;@string/camera_preview&quot; /&gt;\n\n            &lt;FrameLayout\n                android:id=&quot;@+id/spiralView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;/&gt;\n\n            &lt;FrameLayout\n                android:id=&quot;@+id/frameLayout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n</code></pre>\n<p>I can't remove weight from Relative Layout because I want for it to resize according to screen size.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","swing","jframe","jpanel","graphics2d"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1681502031,"post_id":76018493,"comment_id":134072497,"body_markdown":"I would prefer if you could create and post a valid [mre] with your question, but a point about one line of code we see: `g2.dispose(); //clear the system recources used to paint objects` You ***never*** should dispose of a Graphics object that the system gives you, only one that you yourself create. Otherwise you risk breaking the painting chain that might use this object.","body":"I would prefer if you could create and post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question, but a point about one line of code we see: <code>g2.dispose(); &#47;&#47;clear the system recources used to paint objects</code> You <b><i>never</i></b> should dispose of a Graphics object that the system gives you, only one that you yourself create. Otherwise you risk breaking the painting chain that might use this object."},{"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"score":0,"creation_date":1681505794,"post_id":76018493,"comment_id":134073124,"body_markdown":"@Hovercraft Full Of Eels\nSorry for the inconvenience; I have edited my question to include a minimal reproducible example.","body":"@Hovercraft Full Of Eels Sorry for the inconvenience; I have edited my question to include a minimal reproducible example."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681506123,"post_id":76018493,"comment_id":134073174,"body_markdown":"Thank you, but also, what happened when you commented out `//g2.dispose();`?","body":"Thank you, but also, what happened when you commented out <code>&#47;&#47;g2.dispose();</code>?"},{"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"score":0,"creation_date":1681506545,"post_id":76018493,"comment_id":134073248,"body_markdown":"When it&#39;s commented out, the bug persists.","body":"When it&#39;s commented out, the bug persists."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681513230,"post_id":76018493,"comment_id":134074151,"body_markdown":"1. Swing components are double buffered by default; 2. Swing is not thread safe, you should never update the ui or state the ui depends on from outside the context of the event dispatching thread","body":"1. Swing components are double buffered by default; 2. Swing is not thread safe, you should never update the ui or state the ui depends on from outside the context of the event dispatching thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681513314,"post_id":76018493,"comment_id":134074159,"body_markdown":"As a general recommendation, a Swing Timer would be a better choice then a thread, otherwise you’ll need to investigate using a BufferStrategy","body":"As a general recommendation, a Swing Timer would be a better choice then a thread, otherwise you’ll need to investigate using a BufferStrategy"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681514699,"post_id":76018493,"comment_id":134074269,"body_markdown":"So I did a quick test with your code and it seems to work fine for me - it might be that your `delta` is to fine - in my testing, you&#39;re basically painting every millisecond and from general experience and community feedback, ~5 milliseconds is lowest possible repaint speed, given all the other &quot;over heads&quot; involved, this &quot;might&quot; account for the flickering, your system might not simply not be able to keep up.  If you&#39;re targeting 60fps, then a `Thread.sleep(16)` should just about get your there","body":"So I did a quick test with your code and it seems to work fine for me - it might be that your <code>delta</code> is to fine - in my testing, you&#39;re basically painting every millisecond and from general experience and community feedback, ~5 milliseconds is lowest possible repaint speed, given all the other &quot;over heads&quot; involved, this &quot;might&quot; account for the flickering, your system might not simply not be able to keep up.  If you&#39;re targeting 60fps, then a <code>Thread.sleep(16)</code> should just about get your there"},{"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"score":0,"creation_date":1681515316,"post_id":76018493,"comment_id":134074324,"body_markdown":"@MadProgrammer\nCould it be my code editor? I am using Visual Studio Code, however I find most java developers use Eclipse, so using VSCode may be the cause for the low performance.","body":"@MadProgrammer Could it be my code editor? I am using Visual Studio Code, however I find most java developers use Eclipse, so using VSCode may be the cause for the low performance."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681515683,"post_id":76018493,"comment_id":134074353,"body_markdown":"I doubt it, it&#39;s more likely a combination of issues with your hardware, drivers and violations of the thread safe nature of the Swing API.  For example, I&#39;m pretty sure you&#39;d probably still see the issue if your exported your app to a Jar and ran it directly.  The fact is, you&#39;re doing something wrong (ie updating the UI from outside the EDT) and possibly re-drawing to often.  I&#39;d start with a Swing `Timer` test (using a delay of roughly 16 milliseconds) and see where that takes you.  If you  really want to be face to the metal, the a `BufferedStrategy` is where you need to look","body":"I doubt it, it&#39;s more likely a combination of issues with your hardware, drivers and violations of the thread safe nature of the Swing API.  For example, I&#39;m pretty sure you&#39;d probably still see the issue if your exported your app to a Jar and ran it directly.  The fact is, you&#39;re doing something wrong (ie updating the UI from outside the EDT) and possibly re-drawing to often.  I&#39;d start with a Swing <code>Timer</code> test (using a delay of roughly 16 milliseconds) and see where that takes you.  If you  really want to be face to the metal, the a <code>BufferedStrategy</code> is where you need to look"},{"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"score":0,"creation_date":1681520831,"post_id":76018493,"comment_id":134074740,"body_markdown":"@MadProgrammer\nI tried some of the things you recommended, but still no luck. Reducing the code to use a thread.sleep to make sure I didn&#39;t re-draw to often didn&#39;t help. I also tried updating drivers and exporting as a jar just in case, but that also did nothing. I doubt it&#39;s my system as it can run other games without any problems. At this point, I&#39;m really not sure what else I should do to get this to work.","body":"@MadProgrammer I tried some of the things you recommended, but still no luck. Reducing the code to use a thread.sleep to make sure I didn&#39;t re-draw to often didn&#39;t help. I also tried updating drivers and exporting as a jar just in case, but that also did nothing. I doubt it&#39;s my system as it can run other games without any problems. At this point, I&#39;m really not sure what else I should do to get this to work."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681523960,"post_id":76018493,"comment_id":134074940,"body_markdown":"&quot;Other games&quot; - made in Swing?","body":"&quot;Other games&quot; - made in Swing?"},{"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"score":0,"creation_date":1681524075,"post_id":76018493,"comment_id":134074951,"body_markdown":"@MadProgrammer Made in Java. I&#39;m not sure if they use swing or not. I&#39;m not sure if I should move away from swing, or how to do so.","body":"@MadProgrammer Made in Java. I&#39;m not sure if they use swing or not. I&#39;m not sure if I should move away from swing, or how to do so."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681524909,"creation_date":1681524909,"answer_id":76020052,"question_id":76018493,"body_markdown":"# This...\r\n\r\nWorks for me, but, Swing is not thread safe.  This means you should avoid update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new GamePanel());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel implements Runnable //class for the game screen\r\n        {\r\n            Thread gameThread; //the thread in which the game operates\r\n\r\n            BufferedImage sprite;\r\n            public int cameraY = -1400;\r\n            public int cameraX = -1400;\r\n\r\n            public GamePanel() throws IOException {\r\n                sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/Grass.png&quot;));\r\n                gameThread = new Thread(this); //instantiate a new thread\r\n                gameThread.start(); //start the thread\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (gameThread != null) {\r\n                    return;\r\n                }\r\n                gameThread = new Thread(this);\r\n                gameThread.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                Thread reference = gameThread;\r\n                gameThread = null;\r\n                if (reference != null) {\r\n                    try {\r\n                        reference.join();\r\n                    } catch (InterruptedException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(480, 320);\r\n            }\r\n\r\n            @Override\r\n            public void run() //runs when thread is started\r\n            {\r\n                double drawInterval = 1000000000 / 60; //set the interval to 1000000000 divide by the fps (60)\r\n                double delta = 0;\r\n                long lastTime = System.nanoTime();\r\n                long currentTime;\r\n\r\n                while (gameThread != null) //repeat while gamethread is active\r\n                {\r\n                    currentTime = System.nanoTime();\r\n                    delta += (currentTime - lastTime) / drawInterval;\r\n                    lastTime = currentTime;\r\n\r\n                    if (delta &gt;= 1) {\r\n                        cameraY++;\r\n                        cameraX++;\r\n                        repaint();\r\n                        delta--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\r\n            {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D) g; //create a new variable equal to the variable g converted to Graphics2D\r\n\r\n                for (int x = 0; x &lt; 100; x++) {\r\n                    for (int y = 0; y &lt; 100; y++) {\r\n                        g2.drawImage(sprite, x * 16 + cameraX, y * 16 + cameraY, 16, 16, this);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n# This...\r\n\r\nAlso works for me, but makes use of a Swing `Timer` instead, which would generally be a better solution...\r\n\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new GamePanel());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel //class for the game screen\r\n        {\r\n\r\n            BufferedImage sprite;\r\n            public int cameraY = -1400;\r\n            public int cameraX = -1400;\r\n\r\n            private Timer timer;\r\n\r\n            public GamePanel() throws IOException {\r\n                sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/Grass.png&quot;));\r\n                timer = new Timer(16, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        cameraY++;\r\n                        cameraX++;\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                timer.stop();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(480, 320);\r\n            }\r\n\r\n            public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\r\n            {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D) g; //create a new variable equal to the variable g converted to Graphics2D\r\n\r\n                for (int x = 0; x &lt; 100; x++) {\r\n                    for (int y = 0; y &lt; 100; y++) {\r\n                        g2.drawImage(sprite, x * 16 + cameraX, y * 16 + cameraY, 16, 16, this);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n&gt; I doubt it&#39;s my system as it can run other games without any problems\r\n\r\nYou base code works for me, although I&#39;d discourage you from building a system this way, it points the finger towards your system.  It could be the OS, I&#39;ve had issues with different hardware/driver combinations which do strange things on selected systems, so it&#39;s not easily discounted.\r\n\r\n\r\n&gt; Made in Java\r\n\r\nSwing is not the only available graphics library.  Swing also makes use of passive repaint engine and it&#39;s paint process is generally out of your control, so it&#39;s not entirely suitable for more complex or intensive games/animation.\r\n\r\nYou could also make use of [`BufferStrategy`](https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html) (and the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html) which has a decent example) which will provide you with the lowest level access to the hardware which Java allows out the box.\r\n\r\nYou could also look at [JavaFx](https://www.google.com/search?q=javafx+game&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=javafx+game&amp;aqs=chrome..69i57.1514j0j4&amp;sourceid=chrome&amp;ie=UTF-8) or even [libGDX](https://libgdx.com/) or [LWJGL](https://www.lwjgl.org/)","title":"Java Tile Flickering","body":"<h1>This...</h1>\n<p>Works for me, but, Swing is not thread safe.  This means you should avoid update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new GamePanel());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel implements Runnable //class for the game screen\n    {\n        Thread gameThread; //the thread in which the game operates\n\n        BufferedImage sprite;\n        public int cameraY = -1400;\n        public int cameraX = -1400;\n\n        public GamePanel() throws IOException {\n            sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/Grass.png&quot;));\n            gameThread = new Thread(this); //instantiate a new thread\n            gameThread.start(); //start the thread\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (gameThread != null) {\n                return;\n            }\n            gameThread = new Thread(this);\n            gameThread.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            Thread reference = gameThread;\n            gameThread = null;\n            if (reference != null) {\n                try {\n                    reference.join();\n                } catch (InterruptedException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(480, 320);\n        }\n\n        @Override\n        public void run() //runs when thread is started\n        {\n            double drawInterval = 1000000000 / 60; //set the interval to 1000000000 divide by the fps (60)\n            double delta = 0;\n            long lastTime = System.nanoTime();\n            long currentTime;\n\n            while (gameThread != null) //repeat while gamethread is active\n            {\n                currentTime = System.nanoTime();\n                delta += (currentTime - lastTime) / drawInterval;\n                lastTime = currentTime;\n\n                if (delta &gt;= 1) {\n                    cameraY++;\n                    cameraX++;\n                    repaint();\n                    delta--;\n                }\n            }\n        }\n\n        public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\n        {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D) g; //create a new variable equal to the variable g converted to Graphics2D\n\n            for (int x = 0; x &lt; 100; x++) {\n                for (int y = 0; y &lt; 100; y++) {\n                    g2.drawImage(sprite, x * 16 + cameraX, y * 16 + cameraY, 16, 16, this);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<h1>This...</h1>\n<p>Also works for me, but makes use of a Swing <code>Timer</code> instead, which would generally be a better solution...</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new GamePanel());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel //class for the game screen\n    {\n\n        BufferedImage sprite;\n        public int cameraY = -1400;\n        public int cameraX = -1400;\n\n        private Timer timer;\n\n        public GamePanel() throws IOException {\n            sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/Grass.png&quot;));\n            timer = new Timer(16, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    cameraY++;\n                    cameraX++;\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(480, 320);\n        }\n\n        public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\n        {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D) g; //create a new variable equal to the variable g converted to Graphics2D\n\n            for (int x = 0; x &lt; 100; x++) {\n                for (int y = 0; y &lt; 100; y++) {\n                    g2.drawImage(sprite, x * 16 + cameraX, y * 16 + cameraY, 16, 16, this);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>I doubt it's my system as it can run other games without any problems</p>\n</blockquote>\n<p>You base code works for me, although I'd discourage you from building a system this way, it points the finger towards your system.  It could be the OS, I've had issues with different hardware/driver combinations which do strange things on selected systems, so it's not easily discounted.</p>\n<blockquote>\n<p>Made in Java</p>\n</blockquote>\n<p>Swing is not the only available graphics library.  Swing also makes use of passive repaint engine and it's paint process is generally out of your control, so it's not entirely suitable for more complex or intensive games/animation.</p>\n<p>You could also make use of <a href=\"https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html\" rel=\"nofollow noreferrer\"><code>BufferStrategy</code></a> (and the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\">JavaDocs</a> which has a decent example) which will provide you with the lowest level access to the hardware which Java allows out the box.</p>\n<p>You could also look at <a href=\"https://www.google.com/search?q=javafx+game&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=javafx+game&amp;aqs=chrome..69i57.1514j0j4&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">JavaFx</a> or even <a href=\"https://libgdx.com/\" rel=\"nofollow noreferrer\">libGDX</a> or <a href=\"https://www.lwjgl.org/\" rel=\"nofollow noreferrer\">LWJGL</a></p>\n"}],"owner":{"account_id":25910156,"reputation":3,"user_id":19634555,"display_name":"Oliver Langford"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76020052,"answer_count":1,"score":-1,"last_activity_date":1683143553,"creation_date":1681501796,"question_id":76018493,"body_markdown":"Whenever I move the camera in a java game I&#39;m working on, the edges of the tiles begin to flicker, and gaps appear between the seams, shown in the picture provided.\r\n[image flickers](https://i.stack.imgur.com/SuOXN.png)\r\n\r\nI was following a tutorial series made by RyiSnow on YouTube, and this bug occurred when I got to the 5th tutorial in the series.\r\n\r\nI suspect this may be a performance problem, however I am unsure of what the problem may be. What&#39;s strange is that while moving the camera up and to the left, the tiles flicker, but moving the camera down and to the left doesn&#39;t cause the tiles to flicker. This bug is even more apparent in full screen mode, even if all of the tiles were already rendered when in windowed mode.\r\n\r\nA minimal reproducible example:\r\n\r\n\r\nMain.java:\r\n\r\n```java\r\npackage src.main;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class Main //the main class\r\n{\r\n\r\n    public static void main(String args[])\r\n    {\r\n        GamePanel gamePanel = new GamePanel();\r\n\r\n        JFrame window = new JFrame(); //create a new JFrame\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //task will terminate when window is closed\r\n        window.add(gamePanel); //adds the game panel to the window frame\r\n        window.pack(); //sets size to preferred size\r\n        window.setVisible(true);\r\n        window.setLocationRelativeTo(null); //center window\r\n    }\r\n}\r\n```\r\nGamePanel.java:\r\n\r\n```java\r\npackage src.main;\r\n\r\n//import necessary libraries\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JPanel;\r\n\r\npublic class GamePanel extends JPanel implements Runnable //class for the game screen\r\n{ \r\n    Thread gameThread; //the thread in which the game operates\r\n\r\n    BufferedImage sprite;\r\n    public int cameraY = -1400;\r\n    public int cameraX = -1400;\r\n\r\n    public GamePanel()\r\n    {\r\n        this.setPreferredSize(new Dimension(480, 320)); //set preferred size to the variables previously defined\r\n        this.setDoubleBuffered(true); //all drawing done in offscreen buffer; improves game performance\r\n        this.setFocusable(true);\r\n\r\n        //load the tile image\r\n        try\r\n        {\r\n            sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/res/Grass.png&quot;));\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        gameThread = new Thread(this); //instantiate a new thread\r\n        gameThread.start(); //start the thread\r\n    }\r\n\r\n    @Override\r\n    public void run() //runs when thread is started\r\n    {\r\n        double drawInterval = 1000000000/60; //set the interval to 1000000000 divide by the fps (60)\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long currentTime;\r\n\r\n        while(gameThread != null) //repeat while gamethread is active\r\n        {\r\n            currentTime = System.nanoTime();\r\n            delta +=(currentTime - lastTime) / drawInterval;\r\n            lastTime = currentTime;\r\n\r\n            if(delta &gt;= 1)\r\n            {\r\n                cameraY++;\r\n                cameraX++;\r\n                repaint();\r\n                delta--;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D)g; //create a new variable equal to the variable g converted to Graphics2D\r\n\r\n        for(int x = 0; x&lt;100; x++)\r\n        {\r\n            for(int y = 0; y&lt;100; y++)\r\n            {\r\n                g2.drawImage(sprite, x*16+cameraX, y*16+cameraY, 16, 16, null);\r\n            }\r\n        }\r\n\r\n        g2.dispose(); //clear the system recources used to paint objects\r\n    }\r\n\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated.","title":"Java Tile Flickering","body":"<p>Whenever I move the camera in a java game I'm working on, the edges of the tiles begin to flicker, and gaps appear between the seams, shown in the picture provided.\n<a href=\"https://i.stack.imgur.com/SuOXN.png\" rel=\"nofollow noreferrer\">image flickers</a></p>\n<p>I was following a tutorial series made by RyiSnow on YouTube, and this bug occurred when I got to the 5th tutorial in the series.</p>\n<p>I suspect this may be a performance problem, however I am unsure of what the problem may be. What's strange is that while moving the camera up and to the left, the tiles flicker, but moving the camera down and to the left doesn't cause the tiles to flicker. This bug is even more apparent in full screen mode, even if all of the tiles were already rendered when in windowed mode.</p>\n<p>A minimal reproducible example:</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package src.main;\n\nimport javax.swing.JFrame;\n\npublic class Main //the main class\n{\n\n    public static void main(String args[])\n    {\n        GamePanel gamePanel = new GamePanel();\n\n        JFrame window = new JFrame(); //create a new JFrame\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //task will terminate when window is closed\n        window.add(gamePanel); //adds the game panel to the window frame\n        window.pack(); //sets size to preferred size\n        window.setVisible(true);\n        window.setLocationRelativeTo(null); //center window\n    }\n}\n</code></pre>\n<p>GamePanel.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package src.main;\n\n//import necessary libraries\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel implements Runnable //class for the game screen\n{ \n    Thread gameThread; //the thread in which the game operates\n\n    BufferedImage sprite;\n    public int cameraY = -1400;\n    public int cameraX = -1400;\n\n    public GamePanel()\n    {\n        this.setPreferredSize(new Dimension(480, 320)); //set preferred size to the variables previously defined\n        this.setDoubleBuffered(true); //all drawing done in offscreen buffer; improves game performance\n        this.setFocusable(true);\n\n        //load the tile image\n        try\n        {\n            sprite = ImageIO.read(getClass().getResourceAsStream(&quot;/res/Grass.png&quot;));\n        }\n        catch(IOException e)\n        {\n            e.printStackTrace();\n        }\n        gameThread = new Thread(this); //instantiate a new thread\n        gameThread.start(); //start the thread\n    }\n\n    @Override\n    public void run() //runs when thread is started\n    {\n        double drawInterval = 1000000000/60; //set the interval to 1000000000 divide by the fps (60)\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime;\n\n        while(gameThread != null) //repeat while gamethread is active\n        {\n            currentTime = System.nanoTime();\n            delta +=(currentTime - lastTime) / drawInterval;\n            lastTime = currentTime;\n\n            if(delta &gt;= 1)\n            {\n                cameraY++;\n                cameraX++;\n                repaint();\n                delta--;\n            }\n        }\n    }\n\n    public void paintComponent(Graphics g) //In this case, this method is used to draw the tiles on a grid\n    {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g; //create a new variable equal to the variable g converted to Graphics2D\n\n        for(int x = 0; x&lt;100; x++)\n        {\n            for(int y = 0; y&lt;100; y++)\n            {\n                g2.drawImage(sprite, x*16+cameraX, y*16+cameraY, 16, 16, null);\n            }\n        }\n\n        g2.dispose(); //clear the system recources used to paint objects\n    }\n\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1682025093,"post_id":76067946,"comment_id":134155200,"body_markdown":"maybe you need a `@ControllerAdvice`? https://www.baeldung.com/exception-handling-for-rest-with-spring","body":"maybe you need a <code>@ControllerAdvice</code>? <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/exception-handling-for-rest-with-spring</a>"}],"owner":{"account_id":28363734,"reputation":1,"user_id":21693373,"display_name":"SkyKnight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683143415,"creation_date":1682021608,"question_id":76067946,"body_markdown":"In a web application I use Spring&#39;s Validator interface for validation.\r\nThere are some methods in the service layer for business logic, ex. to check username is valid, that are called by the validator class that throw exceptions. \r\n\r\nWhere should these exceptions be handled normally? I would prefer to add a throws clause in the validate method, but it won&#39;t let me.","title":"Where should exceptions from validator interface be handled?","body":"<p>In a web application I use Spring's Validator interface for validation.\nThere are some methods in the service layer for business logic, ex. to check username is valid, that are called by the validator class that throw exceptions.</p>\n<p>Where should these exceptions be handled normally? I would prefer to add a throws clause in the validate method, but it won't let me.</p>\n"},{"tags":["java","mockito","junit4"],"comments":[{"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"score":0,"creation_date":1431533547,"post_id":30209011,"comment_id":48544163,"body_markdown":"I don&#39;t see how this question is off-topic. Please clarify why you think that so I can improve it.","body":"I don&#39;t see how this question is off-topic. Please clarify why you think that so I can improve it."},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1506696268,"post_id":30209011,"comment_id":79937027,"body_markdown":"I am using currently JUnit 5 and Mockito v1.10.19. Facing the same proble, though writing the test methods with public access specifier. Any advice?","body":"I am using currently JUnit 5 and Mockito v1.10.19. Facing the same proble, though writing the test methods with public access specifier. Any advice?"},{"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"score":0,"creation_date":1506698121,"post_id":30209011,"comment_id":79938244,"body_markdown":"@ParameshKorrakuti Never used Junit 5. If there is no question about Junit5, just create a new question.","body":"@ParameshKorrakuti Never used Junit 5. If there is no question about Junit5, just create a new question."},{"owner":{"account_id":4723232,"reputation":870,"user_id":4214037,"accept_rate":91,"display_name":"32cupo"},"score":1,"creation_date":1540404388,"post_id":30209011,"comment_id":92857333,"body_markdown":"Probably next time when you ask a question, you should share your code with us. And  I had the same problem, of course.","body":"Probably next time when you ask a question, you should share your code with us. And  I had the same problem, of course."},{"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"score":1,"creation_date":1540736906,"post_id":30209011,"comment_id":92965360,"body_markdown":"@32cupo Here you go: `@Test void asdf() {}`.","body":"@32cupo Here you go: <code>@Test void asdf() {}</code>."}],"answers":[{"tags":[],"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1431504119,"creation_date":1431504119,"answer_id":30209012,"question_id":30209011,"body_markdown":"The method needs to be explicitly declared as `public`:\r\n\r\n    @Test\r\n    public void asdf() {\r\n        asdf...\r\n    }","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>The method needs to be explicitly declared as <code>public</code>:</p>\n\n<pre><code>@Test\npublic void asdf() {\n    asdf...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5742680,"reputation":269,"user_id":4534855,"display_name":"Bingo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473876768,"creation_date":1473876768,"answer_id":39497043,"question_id":30209011,"body_markdown":"Import junit package in stead of testng package.","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>Import junit package in stead of testng package.</p>\n"},{"tags":[],"owner":{"account_id":3269240,"reputation":5236,"user_id":2752969,"display_name":"Jefferson Lima"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1579874334,"creation_date":1578620516,"answer_id":59674486,"question_id":30209011,"body_markdown":"I got this exception even though I had a public method annotaded with `@Test`. Turned out was importing `org.junit.jupiter.api.Test`, I changed to `org.junit.Test` and it worked fine.","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>I got this exception even though I had a public method annotaded with <code>@Test</code>. Turned out was importing <code>org.junit.jupiter.api.Test</code>, I changed to <code>org.junit.Test</code> and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":15323888,"reputation":71,"user_id":11055574,"display_name":"Praz01"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593529813,"creation_date":1593529813,"answer_id":62660601,"question_id":30209011,"body_markdown":"If you&#39;ve upgraded to Junit 5, according to this https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5:\r\n\r\n&quot;No Rules, No Runners\r\nJUnit 4 rules and runners don&#39;t work in JUnit 5, so the MockitoRule and the Mockito runner can not be used.&quot;\r\n\r\nUse @ExtendWith(MockitoExtension.class) instead. Verified this on Junit 5.6.2 and Spring boot 2.3.1:\r\n\r\n`@ExtendWith(MockitoExtension.class)\r\n @MockitoSettings(strictness = Strictness.LENIENT)\r\n public class ClassTest {}`\r\n\r\nDon&#39;t also forget to explicitly declare the test method as public as well.","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>If you've upgraded to Junit 5, according to this <a href=\"https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5\">How to use Mockito with JUnit5</a>:</p>\n<p>&quot;No Rules, No Runners\nJUnit 4 rules and runners don't work in JUnit 5, so the MockitoRule and the Mockito runner can not be used.&quot;</p>\n<p>Use @ExtendWith(MockitoExtension.class) instead. Verified this on Junit 5.6.2 and Spring boot 2.3.1:</p>\n<p><code>@ExtendWith(MockitoExtension.class) @MockitoSettings(strictness = Strictness.LENIENT) public class ClassTest {}</code></p>\n<p>Don't also forget to explicitly declare the test method as public as well.</p>\n"},{"tags":[],"owner":{"account_id":26576601,"reputation":21,"user_id":20201851,"display_name":"Aankit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665379204,"creation_date":1665379204,"answer_id":74010480,"question_id":30209011,"body_markdown":"Just remove the public access modifier from the test class \r\nand go with the \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n&lt;!-- end snippet --&gt;","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>Just remove the public access modifier from the test class\nand go with the</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.junit.jupiter.api.Test;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665764481,"creation_date":1665764481,"answer_id":74072116,"question_id":30209011,"body_markdown":"you need to check the import of the test in the class for example from :`import org.junit.jupiter.api.Test;`\r\ninto: `import org.junit.Test;`","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>you need to check the import of the test in the class for example from :<code>import org.junit.jupiter.api.Test;</code>\ninto: <code>import org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":28497600,"reputation":1,"user_id":21809262,"display_name":"user21809262"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683143382,"creation_date":1683143382,"answer_id":76167520,"question_id":30209011,"body_markdown":"Class has be public\r\ntest method has be public","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>Class has be public\ntest method has be public</p>\n"}],"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25967,"favorite_count":0,"down_vote_count":3,"up_vote_count":33,"accepted_answer_id":30209012,"answer_count":7,"score":30,"last_activity_date":1683143382,"creation_date":1431504119,"question_id":30209011,"body_markdown":"I am getting an error like this when running my test:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    \r\n    No tests found in TestCase\r\n    Haven&#39;t you forgot @Test annotation?\r\n\r\nI certainly do have a method annotated with `@Test`. What am I doing wrong?","title":"No tests found in TestClass Haven&#39;t you forgot @Test annotation?","body":"<p>I am getting an error like this when running my test:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.mockito.exceptions.base.MockitoException: \n\nNo tests found in TestCase\nHaven't you forgot @Test annotation?\n</code></pre>\n\n<p>I certainly do have a method annotated with <code>@Test</code>. What am I doing wrong?</p>\n"},{"tags":["java","hibernate","jpa","entity","eclipselink"],"comments":[{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1683157191,"post_id":76167504,"comment_id":134325091,"body_markdown":"I&#39;m assuming that when you say &quot;fitting hibernate config files&quot; you are not talking about JPA `orm.xml` files inside `META-INF` folder, right? Can you provide an sample of these files you&#39;re talking about?","body":"I&#39;m assuming that when you say &quot;fitting hibernate config files&quot; you are not talking about JPA <code>orm.xml</code> files inside <code>META-INF</code> folder, right? Can you provide an sample of these files you&#39;re talking about?"},{"owner":{"account_id":12731487,"reputation":1,"user_id":21809157,"display_name":"cauchyavecmoi"},"score":1,"creation_date":1683191818,"post_id":76167504,"comment_id":134329771,"body_markdown":"Hi @MauricioBuffon yes you are right. I am talking about the MyClass.cfg.xml files, that define the mappings to the database from my respective java classes","body":"Hi @MauricioBuffon yes you are right. I am talking about the MyClass.cfg.xml files, that define the mappings to the database from my respective java classes"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1683206126,"post_id":76167504,"comment_id":134333318,"body_markdown":"Other products, EclipseLink included, do not work with native hibernate configuration files, though you could write your own reader to make it happen - but if that is worth it depends on how many classes are involved and how much you can pick up from the EclipseLink unit tests that dynamically modify the config at runtime. If you do, EclipseLink has ways to write out its project mappings as orm.xml (or non-jpa parts into an eclipselink-orm.xml, at least allowing an easier time if you want to switch again).","body":"Other products, EclipseLink included, do not work with native hibernate configuration files, though you could write your own reader to make it happen - but if that is worth it depends on how many classes are involved and how much you can pick up from the EclipseLink unit tests that dynamically modify the config at runtime. If you do, EclipseLink has ways to write out its project mappings as orm.xml (or non-jpa parts into an eclipselink-orm.xml, at least allowing an easier time if you want to switch again)."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1683206169,"post_id":76167504,"comment_id":134333331,"body_markdown":"IDEs and other tools can generate entities from tables, so you might try that to reduce the migration workload, and then figure out what specific customizations from the hibernate files are still needed to add in manually.","body":"IDEs and other tools can generate entities from tables, so you might try that to reduce the migration workload, and then figure out what specific customizations from the hibernate files are still needed to add in manually."},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1683213024,"post_id":76167504,"comment_id":134335246,"body_markdown":"I found this rather old question, but with a relatively recent answer: https://stackoverflow.com/questions/962231/converting-from-hibernate-hbm-xml-to-annotations. Maybe the project referenced in the answer can help.","body":"I found this rather old question, but with a relatively recent answer: <a href=\"https://stackoverflow.com/questions/962231/converting-from-hibernate-hbm-xml-to-annotations\" title=\"converting from hibernate hbm xml to annotations\">stackoverflow.com/questions/962231/&hellip;</a>. Maybe the project referenced in the answer can help."}],"owner":{"account_id":12731487,"reputation":1,"user_id":21809157,"display_name":"cauchyavecmoi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683143256,"creation_date":1683143256,"question_id":76167504,"body_markdown":"I am currently working on a project that requires JPA-annotated Java-classes to persist into the database with Eclipselink. Unfortunately, no negotiation is possible here from my side. \r\n\r\nNow, we have a dependency to classes we need to persist into a very complex database, where the Java-classes are also very complex. \r\nWe are talking about hundreds of classes and thousands of attributes.\r\nThese classes from the dependency come from another project, that uses **hibernate **to persist their data into the database. They accordingly provide the fitting hibernate **config files**, that map the Java-classes to the database tables (non-trivial).\r\n\r\nI am looking for an automated way to translate these hibernate config files into the dependency-classes, so I end up with JPA-annotated classes that Eclipselink can work with.\r\n\r\nOr is there a way that Eclipselink could work with these hibernate files?\r\n\r\nThank you in advance kind community!\r\n\r\n\r\n\r\n\r\nOne approach we follow right now, is to rebuild the database from the hibernate files and then create JPA-annotated Java-classes so we can persist them via Eclipselink.\r\n\r\nUnfortunately, this method requires time-consuming labour, such that we would need to map the data from the dependecy classes to the newly generated JPA-annotated classes.\r\n\r\nI wonder, if we can skip the mapping part and really use the hibernate files to transition to Eclipselink.","title":"Switch from JPA Hibernate to JPA Eclipselink","body":"<p>I am currently working on a project that requires JPA-annotated Java-classes to persist into the database with Eclipselink. Unfortunately, no negotiation is possible here from my side.</p>\n<p>Now, we have a dependency to classes we need to persist into a very complex database, where the Java-classes are also very complex.\nWe are talking about hundreds of classes and thousands of attributes.\nThese classes from the dependency come from another project, that uses **hibernate **to persist their data into the database. They accordingly provide the fitting hibernate <strong>config files</strong>, that map the Java-classes to the database tables (non-trivial).</p>\n<p>I am looking for an automated way to translate these hibernate config files into the dependency-classes, so I end up with JPA-annotated classes that Eclipselink can work with.</p>\n<p>Or is there a way that Eclipselink could work with these hibernate files?</p>\n<p>Thank you in advance kind community!</p>\n<p>One approach we follow right now, is to rebuild the database from the hibernate files and then create JPA-annotated Java-classes so we can persist them via Eclipselink.</p>\n<p>Unfortunately, this method requires time-consuming labour, such that we would need to map the data from the dependecy classes to the newly generated JPA-annotated classes.</p>\n<p>I wonder, if we can skip the mapping part and really use the hibernate files to transition to Eclipselink.</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":2,"creation_date":1543606602,"post_id":53563693,"comment_id":93993366,"body_markdown":"Possible duplicate of [How can I add items to a spinner in Android?](https://stackoverflow.com/questions/5241660/how-can-i-add-items-to-a-spinner-in-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5241660/how-can-i-add-items-to-a-spinner-in-android\">How can I add items to a spinner in Android?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1395119,"reputation":780,"user_id":1325048,"accept_rate":33,"display_name":"d.aemon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543606195,"creation_date":1543606195,"answer_id":53563743,"question_id":53563693,"body_markdown":"You can&#39;t add data to application resources programmatically. Resources are part of compiled, packed and signed APK package and therefore can&#39;t be modified.\r\nWhat are you trying to achieve?","title":"Add item to resource file","body":"<p>You can't add data to application resources programmatically. Resources are part of compiled, packed and signed APK package and therefore can't be modified.\nWhat are you trying to achieve?</p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543606244,"creation_date":1543606244,"answer_id":53563754,"question_id":53563693,"body_markdown":"You can&#39;t add things to resources programmatically.  But a Spinner doesn&#39;t need to go off a resource file.  Use an in memory list of items, and modify that.","title":"Add item to resource file","body":"<p>You can't add things to resources programmatically.  But a Spinner doesn't need to go off a resource file.  Use an in memory list of items, and modify that.</p>\n"},{"tags":[],"owner":{"account_id":9306113,"reputation":324,"user_id":6909807,"display_name":"Kalpesh A. Nikam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543618595,"creation_date":1543618595,"answer_id":53566027,"question_id":53563693,"body_markdown":"If try to add data in spinner programmtically.\r\n\r\n\r\nthere is only one way use database like #firebase which update realtime data.\r\n\r\n&quot;without database it not possible.&quot;","title":"Add item to resource file","body":"<p>If try to add data in spinner programmtically.</p>\n\n<p>there is only one way use database like #firebase which update realtime data.</p>\n\n<p>\"without database it not possible.\"</p>\n"}],"owner":{"account_id":13748502,"reputation":1,"user_id":9921363,"display_name":"Stdio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683143211,"creation_date":1543605980,"question_id":53563693,"body_markdown":"How to programmatically add item to strings.xml for spinner&#39;s string-array?\r\n\r\n    &lt;Spinner\r\n                android:id=&quot;@+id/tags&quot;\r\n                android:spinnerMode=&quot;dialog&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:entries=&quot;@array/tags&quot; /&gt;    \r\nstrings.xml\r\n\r\n    &lt;string-array name=&quot;tags&quot;&gt;\r\n        &lt;item&gt;item1&lt;/item&gt;\r\n        &lt;item&gt;item2&lt;/item&gt;\r\n        &lt;item&gt;item3&lt;/item&gt;\r\n        &lt;item&gt;item4&lt;/item&gt;\r\n    &lt;/string-array&gt;&gt;","title":"Add item to resource file","body":"<p>How to programmatically add item to strings.xml for spinner's string-array?</p>\n\n<pre><code>&lt;Spinner\n            android:id=\"@+id/tags\"\n            android:spinnerMode=\"dialog\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:entries=\"@array/tags\" /&gt;    \n</code></pre>\n\n<p>strings.xml</p>\n\n<pre><code>&lt;string-array name=\"tags\"&gt;\n    &lt;item&gt;item1&lt;/item&gt;\n    &lt;item&gt;item2&lt;/item&gt;\n    &lt;item&gt;item3&lt;/item&gt;\n    &lt;item&gt;item4&lt;/item&gt;\n&lt;/string-array&gt;&gt;\n</code></pre>\n"},{"tags":["java","algorithm","graph"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1683141988,"post_id":76167368,"comment_id":134322647,"body_markdown":"i &lt; graph.adjList[v].size() ?","body":"i &lt; graph.adjList[v].size() ?"}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683142474,"creation_date":1683142474,"answer_id":76167429,"question_id":76167368,"body_markdown":"the problem is in the for loop. the signature of a `for` is like this\r\n\r\n    for (statement 1; statement 2; statement 3) {\r\n      // logic\r\n    }\r\n\r\nwhere \r\n- `statement 1` is executed once\r\n- `statement 2` is the condition that decides if the loop must be executed one more time\r\n- `statement 3` will be executed after the logic inside the for block is executed\r\n\r\nin your case you have\r\n\r\n    for (int i = 0;graph.adjList[v].size(); i++)\r\n\r\nwhere the `statement 2` which is `graph.adjList[v].size()` is an int. You have to change that and put a condition. Something like \r\n\r\n    i &lt; graph.adjList[v].size()\r\n\r\nor whatever you need\r\n\r\n ","title":"Im trying to convert an Int to a boolean for code. Is there a workaround?","body":"<p>the problem is in the for loop. the signature of a <code>for</code> is like this</p>\n<pre><code>for (statement 1; statement 2; statement 3) {\n  // logic\n}\n</code></pre>\n<p>where</p>\n<ul>\n<li><code>statement 1</code> is executed once</li>\n<li><code>statement 2</code> is the condition that decides if the loop must be executed one more time</li>\n<li><code>statement 3</code> will be executed after the logic inside the for block is executed</li>\n</ul>\n<p>in your case you have</p>\n<pre><code>for (int i = 0;graph.adjList[v].size(); i++)\n</code></pre>\n<p>where the <code>statement 2</code> which is <code>graph.adjList[v].size()</code> is an int. You have to change that and put a condition. Something like</p>\n<pre><code>i &lt; graph.adjList[v].size()\n</code></pre>\n<p>or whatever you need</p>\n"}],"owner":{"account_id":28490392,"reputation":15,"user_id":21803112,"display_name":"Terrance Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76167429,"answer_count":1,"score":0,"last_activity_date":1683142474,"creation_date":1683141847,"question_id":76167368,"body_markdown":"Im making a program that takes vertices from a text file and creates a graph. The code takes in a text file with edges, constructs a graph using adjacency list data structure, then finally uses Depth first search (DFS) for searching the graph. \r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Graph {\r\n    private int V; \r\n    private ArrayList&lt;Integer&gt;[] adjList; \r\n\r\n    \r\n    public Graph(int V) {\r\n        this.V = V;\r\n        adjList = new ArrayList[V];\r\n        for (int i = 0; i &lt; V; i++) {\r\n            adjList[i] = new ArrayList&lt;Integer&gt;();\r\n        }\r\n    }\r\n\r\n    \r\n    public void addEdge(int u, int v) {\r\n        adjList[u].add(v);\r\n    }\r\n\r\n    \r\n    public void DFS(int v, boolean[] visited) {\r\n        visited[v] = true;\r\n        System.out.print(v + &quot; &quot;);\r\n\r\n        for (int i = 0; i &lt; adjList[v].size(); i++) {\r\n            int neighbor = adjList[v].get(i);\r\n            if (!visited[neighbor]) {\r\n                DFS(neighbor, visited);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Scanner scanner = new Scanner(new File(&quot;input.txt&quot;));\r\n\r\n            \r\n            int V = scanner.nextInt();\r\n            Graph graph = new Graph(V);\r\n\r\n            \r\n            while (scanner.hasNextInt()) {\r\n                int u = scanner.nextInt();\r\n                int v = scanner.nextInt();\r\n                graph.addEdge(u, v);\r\n            }\r\n\r\n            \r\n            scanner.close();\r\n\r\n            \r\n            for (int i = 0; i &lt; V; i++) {\r\n                System.out.print(i + &quot;: &quot;);\r\n                for (int j = 0; j &lt; graph.adjList[i].size(); j++) {\r\n                    System.out.print(graph.adjList[i].get(j) + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n\r\n            \r\n            Scanner userScanner = new Scanner(System.in);\r\n            System.out.print(&quot;Enter starting vertex: &quot;);\r\n            int start = userScanner.nextInt();\r\n            userScanner.close();\r\n\r\n            \r\n            boolean[] visited = new boolean[V];\r\n            System.out.println(&quot;DFS traversal from vertex &quot; + start + &quot;:&quot;);\r\n            graph.DFS(start, visited);\r\n\r\n            \r\n            Scanner searchScanner = new Scanner(System.in);\r\n            System.out.print(&quot;\\nEnter value to search for: &quot;);\r\n            int value = searchScanner.nextInt();\r\n            searchScanner.close();\r\n\r\n            \r\n            boolean[] searchVisited = new boolean[V];\r\n            System.out.println(&quot;Searching for value &quot; + value + &quot; starting from vertex &quot; + start + &quot;:&quot;);\r\n            boolean found = search(graph, start, value, searchVisited);\r\n            if (found) {\r\n                System.out.println(&quot;Value &quot; + value + &quot; found in the graph!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Value &quot; + value + &quot; not found in the graph.&quot;);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    \r\n    public static boolean search(Graph graph, int v, int value, boolean[] visited) {\r\n        visited[v] = true;\r\n        if (v == value) {\r\n            return true;\r\n        }\r\n\r\n        for (int i = 0;graph.adjList[v].size(); i++) {\r\n               int neighbor = graph.adjList[v].get(i);\r\n               if (!visited[neighbor]) {\r\n                   boolean found = search(graph, neighbor, value, visited);\r\n                   if (found) {\r\n                      return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n} \r\n\r\n```\r\n\r\n\r\nThe error is specifically the for loop in public static boolean search. I get an error saying &quot;Type mismatch: cannot convert from int to boolean&quot; where graph.adjList[v].size() is at.","title":"Im trying to convert an Int to a boolean for code. Is there a workaround?","body":"<p>Im making a program that takes vertices from a text file and creates a graph. The code takes in a text file with edges, constructs a graph using adjacency list data structure, then finally uses Depth first search (DFS) for searching the graph.</p>\n<p>Here is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Graph {\n    private int V; \n    private ArrayList&lt;Integer&gt;[] adjList; \n\n    \n    public Graph(int V) {\n        this.V = V;\n        adjList = new ArrayList[V];\n        for (int i = 0; i &lt; V; i++) {\n            adjList[i] = new ArrayList&lt;Integer&gt;();\n        }\n    }\n\n    \n    public void addEdge(int u, int v) {\n        adjList[u].add(v);\n    }\n\n    \n    public void DFS(int v, boolean[] visited) {\n        visited[v] = true;\n        System.out.print(v + &quot; &quot;);\n\n        for (int i = 0; i &lt; adjList[v].size(); i++) {\n            int neighbor = adjList[v].get(i);\n            if (!visited[neighbor]) {\n                DFS(neighbor, visited);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            Scanner scanner = new Scanner(new File(&quot;input.txt&quot;));\n\n            \n            int V = scanner.nextInt();\n            Graph graph = new Graph(V);\n\n            \n            while (scanner.hasNextInt()) {\n                int u = scanner.nextInt();\n                int v = scanner.nextInt();\n                graph.addEdge(u, v);\n            }\n\n            \n            scanner.close();\n\n            \n            for (int i = 0; i &lt; V; i++) {\n                System.out.print(i + &quot;: &quot;);\n                for (int j = 0; j &lt; graph.adjList[i].size(); j++) {\n                    System.out.print(graph.adjList[i].get(j) + &quot; &quot;);\n                }\n                System.out.println();\n            }\n\n            \n            Scanner userScanner = new Scanner(System.in);\n            System.out.print(&quot;Enter starting vertex: &quot;);\n            int start = userScanner.nextInt();\n            userScanner.close();\n\n            \n            boolean[] visited = new boolean[V];\n            System.out.println(&quot;DFS traversal from vertex &quot; + start + &quot;:&quot;);\n            graph.DFS(start, visited);\n\n            \n            Scanner searchScanner = new Scanner(System.in);\n            System.out.print(&quot;\\nEnter value to search for: &quot;);\n            int value = searchScanner.nextInt();\n            searchScanner.close();\n\n            \n            boolean[] searchVisited = new boolean[V];\n            System.out.println(&quot;Searching for value &quot; + value + &quot; starting from vertex &quot; + start + &quot;:&quot;);\n            boolean found = search(graph, start, value, searchVisited);\n            if (found) {\n                System.out.println(&quot;Value &quot; + value + &quot; found in the graph!&quot;);\n            } else {\n                System.out.println(&quot;Value &quot; + value + &quot; not found in the graph.&quot;);\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    \n    public static boolean search(Graph graph, int v, int value, boolean[] visited) {\n        visited[v] = true;\n        if (v == value) {\n            return true;\n        }\n\n        for (int i = 0;graph.adjList[v].size(); i++) {\n               int neighbor = graph.adjList[v].get(i);\n               if (!visited[neighbor]) {\n                   boolean found = search(graph, neighbor, value, visited);\n                   if (found) {\n                      return true;\n            }\n        }\n    }\n\n    return false;\n}\n} \n\n</code></pre>\n<p>The error is specifically the for loop in public static boolean search. I get an error saying &quot;Type mismatch: cannot convert from int to boolean&quot; where graph.adjList[v].size() is at.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1683142215,"post_id":76167375,"comment_id":134322689,"body_markdown":"Perhaps need to use `@RequiredArgsConstructor`.  But since all those fields are `final`, then probably could use `@Value` instead of `@Data`.","body":"Perhaps need to use <code>@RequiredArgsConstructor</code>.  But since all those fields are <code>final</code>, then probably could use <code>@Value</code> instead of <code>@Data</code>."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":1,"creation_date":1683142920,"post_id":76167375,"comment_id":134322812,"body_markdown":"What version of lombok? For 1.18.x, lombok is smart enough to not generate setters for final fields.","body":"What version of lombok? For 1.18.x, lombok is smart enough to not generate setters for final fields."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683179422,"post_id":76167375,"comment_id":134327275,"body_markdown":"I cannot reproduce it with lombok 1.18.26 (and according to the [lombok documentation](https://projectlombok.org/features/constructor) it is clear that the created constructor initializes all fields). Can you provide more context? How do you create an instance of this class? What is the code where the compile error occurs?","body":"I cannot reproduce it with lombok 1.18.26 (and according to the <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">lombok documentation</a> it is clear that the created constructor initializes all fields). Can you provide more context? How do you create an instance of this class? What is the code where the compile error occurs?"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683142283,"creation_date":1683142283,"answer_id":76167408,"question_id":76167375,"body_markdown":"I think you need to add force to your annotation. By adding force lombok should generate a constructor with final fields\r\n\r\n    @AllArgsConstructor(force = true)\r\n\r\n","title":"Lombok&#39;s @AllArgsConstructor doesn&#39;t work with final fields","body":"<p>I think you need to add force to your annotation. By adding force lombok should generate a constructor with final fields</p>\n<pre><code>@AllArgsConstructor(force = true)\n</code></pre>\n"}],"owner":{"account_id":6883078,"reputation":483,"user_id":5289186,"display_name":"Stefan Fenn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683142283,"creation_date":1683141972,"question_id":76167375,"body_markdown":"I&#39;m using Lombok&#39;s @AllArgsConstructor annotation to generate a constructor for my class, but I&#39;m encountering an issue when trying to use it with final fields. Here&#39;s an example of what my class looks like:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class MyClass {\r\n  private final String field1;\r\n  private final int field2;\r\n}\r\n```\r\n\r\nWhen I try to create an instance of this class using the generated constructor, I get a compilation error:\r\n\r\n\r\n```\r\nMyClass.java:[X,Y] variable field1 might not have been initialized\r\n```\r\n\r\n\r\n\r\nI&#39;ve checked that I&#39;ve initialized the final fields correctly in my code, so I suspect that there&#39;s an issue with Lombok&#39;s @AllArgsConstructor annotation. How can I use @AllArgsConstructor with final fields in Lombok?","title":"Lombok&#39;s @AllArgsConstructor doesn&#39;t work with final fields","body":"<p>I'm using Lombok's @AllArgsConstructor annotation to generate a constructor for my class, but I'm encountering an issue when trying to use it with final fields. Here's an example of what my class looks like:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class MyClass {\n  private final String field1;\n  private final int field2;\n}\n</code></pre>\n<p>When I try to create an instance of this class using the generated constructor, I get a compilation error:</p>\n<pre><code>MyClass.java:[X,Y] variable field1 might not have been initialized\n</code></pre>\n<p>I've checked that I've initialized the final fields correctly in my code, so I suspect that there's an issue with Lombok's @AllArgsConstructor annotation. How can I use @AllArgsConstructor with final fields in Lombok?</p>\n"},{"tags":["java","android","fm-radio"],"comments":[{"owner":{"account_id":20538209,"reputation":1,"user_id":15073712,"display_name":"Rudolph James Robert Wratten"},"score":0,"creation_date":1611539824,"post_id":22601414,"comment_id":116477865,"body_markdown":"Currently this is a chipset.\nThe the manufacturer of the chipset can supply this.\nRight now, Motorola/Lenovo is very open.\nThe chip frequency range is 65 MHz to 108 MHz wideband FM only.\nRDS is ported from the chip as raw data and buffered.\nThis is handset specific.\nThe FCC might also be a good resource.\nRudolph.","body":"Currently this is a chipset. The the manufacturer of the chipset can supply this. Right now, Motorola/Lenovo is very open. The chip frequency range is 65 MHz to 108 MHz wideband FM only. RDS is ported from the chip as raw data and buffered. This is handset specific. The FCC might also be a good resource. Rudolph."}],"answers":[{"tags":[],"owner":{"account_id":3735471,"reputation":1839,"user_id":3106508,"display_name":"gilonm"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1395814136,"creation_date":1395814136,"answer_id":22652799,"question_id":22601414,"body_markdown":"There is currently no native Android API for playing FM radio.\r\n\r\nYou need to use 3rd party apps to play FM radio, and each phone vendor / app vendor has it&#39;s own API.\r\n\r\nYou best option is to contact them directly and ask for the relevant API to suit your needs.\r\n\r\nHope this helped!","title":"How to set a frequency for the fm radio in android?","body":"<p>There is currently no native Android API for playing FM radio.</p>\n\n<p>You need to use 3rd party apps to play FM radio, and each phone vendor / app vendor has it's own API.</p>\n\n<p>You best option is to contact them directly and ask for the relevant API to suit your needs.</p>\n\n<p>Hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":2904340,"reputation":2020,"user_id":2490115,"accept_rate":100,"display_name":"The Badak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395814933,"creation_date":1395814933,"answer_id":22653033,"question_id":22601414,"body_markdown":"I&#39;ve decompiled FM Radio app, and I saw this code:\r\n\r\n        void sendFMStatusBroadcast(float p1, String p2) {\r\n            Intent localIntent1 = new Intent(&quot;com.android.fm.player_lock.status.channel&quot;);\r\n            if(FMRadioProperties.getRegion() == 0x65) {\r\n                localString2 = String.format(&quot;%.2f&quot;, Float.valueOf(p1));\r\n                localIntent3.putExtra(&quot;freq&quot;, &quot;%.2f&quot;);\r\n            } else {\r\n                localIntent1.putExtra(&quot;freq&quot;, p1 + &quot;&quot;);\r\n            }\r\n            localIntent1.putExtra(&quot;name&quot;, p2);\r\n            sendBroadcast(localIntent1);\r\n        }\r\n\r\nYou should also decompile FM Radio app and search for **intent** in the Main Activity, and work with that code to get through your problem.","title":"How to set a frequency for the fm radio in android?","body":"<p>I've decompiled FM Radio app, and I saw this code:</p>\n\n<pre><code>    void sendFMStatusBroadcast(float p1, String p2) {\n        Intent localIntent1 = new Intent(\"com.android.fm.player_lock.status.channel\");\n        if(FMRadioProperties.getRegion() == 0x65) {\n            localString2 = String.format(\"%.2f\", Float.valueOf(p1));\n            localIntent3.putExtra(\"freq\", \"%.2f\");\n        } else {\n            localIntent1.putExtra(\"freq\", p1 + \"\");\n        }\n        localIntent1.putExtra(\"name\", p2);\n        sendBroadcast(localIntent1);\n    }\n</code></pre>\n\n<p>You should also decompile FM Radio app and search for <strong>intent</strong> in the Main Activity, and work with that code to get through your problem.</p>\n"}],"owner":{"account_id":2557746,"reputation":4176,"user_id":2219371,"accept_rate":83,"display_name":"Amila Iddamalgoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6421,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22652799,"answer_count":2,"score":10,"last_activity_date":1683142267,"creation_date":1395637266,"question_id":22601414,"body_markdown":"In my android app I am using this intent to start fm radio\r\n\r\n    Intent i = new Intent(Intent.ACTION_MAIN);\r\n    PackageManager manager = getPackageManager();\r\n    i = manager.getLaunchIntentForPackage(&quot;com.sec.android.app.fm&quot;);\r\n    i.addCategory(Intent.CATEGORY_LAUNCHER);\r\n    startActivity(i);\r\n\r\nIs it possible to **set a manual frequency** and open the fm radio? Thanks","title":"How to set a frequency for the fm radio in android?","body":"<p>In my android app I am using this intent to start fm radio</p>\n\n<pre><code>Intent i = new Intent(Intent.ACTION_MAIN);\nPackageManager manager = getPackageManager();\ni = manager.getLaunchIntentForPackage(\"com.sec.android.app.fm\");\ni.addCategory(Intent.CATEGORY_LAUNCHER);\nstartActivity(i);\n</code></pre>\n\n<p>Is it possible to <strong>set a manual frequency</strong> and open the fm radio? Thanks</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1682611592,"post_id":76120546,"comment_id":134246634,"body_markdown":"Despite framing this as a Java problem is just basic RSA mathematics. Transforming the notation, `bigIntegerSample` is just the message `m` being encrypted, `exponent` is the encrypt exponent `e`, `a` is the ciphertext `c`, and `RSA_MOD` is the RSA modulus `n`. I chose this notation because it&#39;s what&#39;s used in the [wikipedia article describing](https://en.wikipedia.org/wiki/RSA_(cryptosystem)) RSA, which contains the answer to your question.","body":"Despite framing this as a Java problem is just basic RSA mathematics. Transforming the notation, <code>bigIntegerSample</code> is just the message <code>m</code> being encrypted, <code>exponent</code> is the encrypt exponent <code>e</code>, <code>a</code> is the ciphertext <code>c</code>, and <code>RSA_MOD</code> is the RSA modulus <code>n</code>. I chose this notation because it&#39;s what&#39;s used in the <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\" rel=\"nofollow noreferrer\">wikipedia article describing</a> RSA, which contains the answer to your question."},{"owner":{"account_id":28434367,"reputation":1,"user_id":21754662,"display_name":"onerom"},"score":0,"creation_date":1682689617,"post_id":76120546,"comment_id":134259592,"body_markdown":"exponent in my case is `d`, not `e`! Or am I wrong?","body":"exponent in my case is <code>d</code>, not <code>e</code>! Or am I wrong?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1682700723,"post_id":76120546,"comment_id":134262248,"body_markdown":"It doesn&#39;t matter whether it&#39;s `d` or `e`, you just use the other one to recover `m`.","body":"It doesn&#39;t matter whether it&#39;s <code>d</code> or <code>e</code>, you just use the other one to recover <code>m</code>."}],"answers":[{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683141172,"creation_date":1683141172,"answer_id":76167289,"question_id":76120546,"body_markdown":"`a.modInverse(RSA_MOD)` gives you the multiplicative inverse of `a`. It&#39;s just `(a.modInverse(RSA_MOD) * a) % RSA_MOD == 1`. That doesn&#39;t help you much.\r\n\r\nYou are basically expecting a solution to the [discrete logarithm problem][1]. Cryptography is based on the assumption that there is no simple solution. You have encrypted your ciphertext and you want to decrypt it without the secret key. If you don&#39;t know the secret key this will be difficult... But if you know the secret key you can just do\r\n```\r\nBigInteger b = a.modPow(secretKey, RSA_MOD);\r\n```\r\nand now hopefully `bigIntegerSample == b`. That is what @President James K. Polk is telling you.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Discrete_logarithm","title":"How to use modInverse to recover initial bigInteger of modPow","body":"<p><code>a.modInverse(RSA_MOD)</code> gives you the multiplicative inverse of <code>a</code>. It's just <code>(a.modInverse(RSA_MOD) * a) % RSA_MOD == 1</code>. That doesn't help you much.</p>\n<p>You are basically expecting a solution to the <a href=\"https://en.wikipedia.org/wiki/Discrete_logarithm\" rel=\"nofollow noreferrer\">discrete logarithm problem</a>. Cryptography is based on the assumption that there is no simple solution. You have encrypted your ciphertext and you want to decrypt it without the secret key. If you don't know the secret key this will be difficult... But if you know the secret key you can just do</p>\n<pre><code>BigInteger b = a.modPow(secretKey, RSA_MOD);\n</code></pre>\n<p>and now hopefully <code>bigIntegerSample == b</code>. That is what @President James K. Polk is telling you.</p>\n"}],"owner":{"account_id":28434367,"reputation":1,"user_id":21754662,"display_name":"onerom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683141172,"creation_date":1682599185,"question_id":76120546,"body_markdown":"I&#39;m trying to use `modInverse` in java to obtain the original value of biginteger. Suppose we have a in input:\r\n\r\n```\r\na = bigIntegerSample.modPow(exponent, RSA_MOD);\r\n```\r\n\r\nHow do I get the value of bigIntegerSample? I know both exponent and RSA_MOD. \r\n\r\nI tried with:\r\n\r\n```\r\nbigIntegerSample = a.modInverse(RSA_MOD);\r\n```\r\n\r\nbut it&#39;s wrong. Any hint?","title":"How to use modInverse to recover initial bigInteger of modPow","body":"<p>I'm trying to use <code>modInverse</code> in java to obtain the original value of biginteger. Suppose we have a in input:</p>\n<pre><code>a = bigIntegerSample.modPow(exponent, RSA_MOD);\n</code></pre>\n<p>How do I get the value of bigIntegerSample? I know both exponent and RSA_MOD.</p>\n<p>I tried with:</p>\n<pre><code>bigIntegerSample = a.modInverse(RSA_MOD);\n</code></pre>\n<p>but it's wrong. Any hint?</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679138052,"creation_date":1679137678,"answer_id":75775450,"question_id":75775420,"body_markdown":"You have specified your dependencies as test dependencies (which these libraries typically are), but the code which tries to use these libraries is in _main_. Tests and other code using test dependencies should be put in `src/test/java`, not in `src/main/java`.\r\n\r\nAlternatively, you need to declare your dependencies as normal (_main_) dependencies (e.g. using `implementation` instead of `testImplementation`).","title":"Gradle doesn&#39;t import libraries in Intellij IDEA","body":"<p>You have specified your dependencies as test dependencies (which these libraries typically are), but the code which tries to use these libraries is in <em>main</em>. Tests and other code using test dependencies should be put in <code>src/test/java</code>, not in <code>src/main/java</code>.</p>\n<p>Alternatively, you need to declare your dependencies as normal (<em>main</em>) dependencies (e.g. using <code>implementation</code> instead of <code>testImplementation</code>).</p>\n"},{"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683140785,"creation_date":1683140785,"answer_id":76167251,"question_id":75775420,"body_markdown":"On my `IntelliJ IDEA 2023.1` Gradle based project, just changing `testImplementation` to `implementation` for `org.junit.jupiter:junit-jupiter-api:5.9.2` solved the issue.\r\n\r\nThis is despite the described error occurring (before the fix) in java file under `src/test/java/` (where `testImplementation` should suffice).\r\n\r\nLooks like even the latest &amp; greatest `IntelliJ IDEA 2023` is not bug-free.\r\n","title":"Gradle doesn&#39;t import libraries in Intellij IDEA","body":"<p>On my <code>IntelliJ IDEA 2023.1</code> Gradle based project, just changing <code>testImplementation</code> to <code>implementation</code> for <code>org.junit.jupiter:junit-jupiter-api:5.9.2</code> solved the issue.</p>\n<p>This is despite the described error occurring (before the fix) in java file under <code>src/test/java/</code> (where <code>testImplementation</code> should suffice).</p>\n<p>Looks like even the latest &amp; greatest <code>IntelliJ IDEA 2023</code> is not bug-free.</p>\n"}],"owner":{"account_id":4232670,"reputation":25,"user_id":3464672,"display_name":"Anton Nikolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75775450,"answer_count":2,"score":1,"last_activity_date":1683140785,"creation_date":1679137263,"question_id":75775420,"body_markdown":"I am studying how to use Gradle in Intellij IDEA to import necessary libraries automatically (in Java projects). I created new clean project on Gradle, added dependencies in file &#39;build.gradle&#39;, added imports in file &#39;Main.java&#39;, but libraries aren&#39;t imported and errors occure. I expect that Gradle should load libraries from Maven Repository automatically, but it doesn&#39;t happen.\r\n\r\nI created new project in Intellij IDEA (file/new/project - on Java, Gradle and &#39;Groovy&#39; in &#39;Gradle DSL&#39;). In the file &#39;gradle-wrapper.properties&#39; I successfully updated Gradle to version 8.0.2 (because by default IDEA uses the 7th version and then says that it is incompatible with JDK19).\r\n\r\nThen I added dependencies into &#39;build.gradle&#39; file:\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n}\r\ndependencies {\r\n    testImplementation (\r\n            &quot;com.codeborne:selenide:6.3.5&quot;,\r\n            &quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\r\n}\r\n```\r\n\r\nAnd added imports into &#39;Main.java&#39;:\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport static com.codeborne.selenide.Condition.text;\r\nimport static com.codeborne.selenide.Selenide.$;\r\nimport static com.codeborne.selenide.Selenide.open;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n        Selenide.open(&quot;https://www.google.com/&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI clicked &quot;Reload all Gradle projects&quot; and it said:\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\nBUILD SUCCESSFUL in 780ms \r\n\r\nBut imports didn&#39;t happen, I can&#39;t run &#39;Main.java&#39;. When I click &quot;Build project&quot;, it says:\r\n```\r\nC:\\IT\\Projects\\CheckingGradle\\src\\main\\java\\org\\example\\Main.java:2: error: package org.junit.jupiter.api does not exist\r\nimport org.junit.jupiter.api.Test;\r\n\r\nfailed\r\n:compileJava\r\nMain.java\r\npackage org.junit.jupiter.api does not exist\r\npackage com.codeborne.selenide does not exist\r\nand so on\r\n```\r\n\r\nI expected that Gradle should load necessary libraries from Maven Repository, but it doesn&#39;t happen.\r\n\r\nThe project on the Github: https://github.com/Anton248/CheckingGradle\r\n\r\nWhen I make a project without Gradle and add libraries manually, all works fine (https://github.com/Anton248/Study2).\r\n","title":"Gradle doesn&#39;t import libraries in Intellij IDEA","body":"<p>I am studying how to use Gradle in Intellij IDEA to import necessary libraries automatically (in Java projects). I created new clean project on Gradle, added dependencies in file 'build.gradle', added imports in file 'Main.java', but libraries aren't imported and errors occure. I expect that Gradle should load libraries from Maven Repository automatically, but it doesn't happen.</p>\n<p>I created new project in Intellij IDEA (file/new/project - on Java, Gradle and 'Groovy' in 'Gradle DSL'). In the file 'gradle-wrapper.properties' I successfully updated Gradle to version 8.0.2 (because by default IDEA uses the 7th version and then says that it is incompatible with JDK19).</p>\n<p>Then I added dependencies into 'build.gradle' file:</p>\n<pre><code>repositories {\n    mavenCentral()\n}\ndependencies {\n    testImplementation (\n            &quot;com.codeborne:selenide:6.3.5&quot;,\n            &quot;org.junit.jupiter:junit-jupiter:5.8.2&quot;)\n}\n</code></pre>\n<p>And added imports into 'Main.java':</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport static com.codeborne.selenide.Condition.text;\nimport static com.codeborne.selenide.Selenide.$;\nimport static com.codeborne.selenide.Selenide.open;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        Selenide.open(&quot;https://www.google.com/&quot;);\n    }\n}\n</code></pre>\n<p>I clicked &quot;Reload all Gradle projects&quot; and it said:\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\nBUILD SUCCESSFUL in 780ms</p>\n<p>But imports didn't happen, I can't run 'Main.java'. When I click &quot;Build project&quot;, it says:</p>\n<pre><code>C:\\IT\\Projects\\CheckingGradle\\src\\main\\java\\org\\example\\Main.java:2: error: package org.junit.jupiter.api does not exist\nimport org.junit.jupiter.api.Test;\n\nfailed\n:compileJava\nMain.java\npackage org.junit.jupiter.api does not exist\npackage com.codeborne.selenide does not exist\nand so on\n</code></pre>\n<p>I expected that Gradle should load necessary libraries from Maven Repository, but it doesn't happen.</p>\n<p>The project on the Github: <a href=\"https://github.com/Anton248/CheckingGradle\" rel=\"nofollow noreferrer\">https://github.com/Anton248/CheckingGradle</a></p>\n<p>When I make a project without Gradle and add libraries manually, all works fine (<a href=\"https://github.com/Anton248/Study2\" rel=\"nofollow noreferrer\">https://github.com/Anton248/Study2</a>).</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":4,"creation_date":1683133452,"post_id":76166351,"comment_id":134321038,"body_markdown":"Re-import the project: https://stackoverflow.com/a/43192764/104891.","body":"Re-import the project: <a href=\"https://stackoverflow.com/a/43192764/104891\">stackoverflow.com/a/43192764/104891</a>."}],"answers":[{"tags":[],"owner":{"account_id":17657794,"reputation":33,"user_id":12816955,"display_name":"inao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683140497,"creation_date":1683140497,"answer_id":76167231,"question_id":76166351,"body_markdown":"I&#39;d recommend this procedure.\r\n 1. attempt: Re-import Gradle Project. This can be done from menu located on the right side of IDE. It&#39;s like a card where you will see Gradle logo. (https://www.jetbrains.com/idea/guide/tutorials/working-with-gradle/syncing-and-reloading/)\r\n 2. attempt: Clear IDE Cache. This can be done in File &gt; Invalidate Caches (https://www.jetbrains.com/help/idea/invalidate-caches.html)\r\n 3. attempt: Use &quot;Repair IDE&quot; in File &gt; Repair IDE. This will launch a wizard that will try to guide you with multiple functions. These will try to fix all problems that might caused by IntelliJ. (https://www.jetbrains.com/help/idea/repair-ide.html)","title":"Intellij does not recognize import gradle/java/groovy","body":"<p>I'd recommend this procedure.</p>\n<ol>\n<li>attempt: Re-import Gradle Project. This can be done from menu located on the right side of IDE. It's like a card where you will see Gradle logo. (<a href=\"https://www.jetbrains.com/idea/guide/tutorials/working-with-gradle/syncing-and-reloading/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/guide/tutorials/working-with-gradle/syncing-and-reloading/</a>)</li>\n<li>attempt: Clear IDE Cache. This can be done in File &gt; Invalidate Caches (<a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a>)</li>\n<li>attempt: Use &quot;Repair IDE&quot; in File &gt; Repair IDE. This will launch a wizard that will try to guide you with multiple functions. These will try to fix all problems that might caused by IntelliJ. (<a href=\"https://www.jetbrains.com/help/idea/repair-ide.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/repair-ide.html</a>)</li>\n</ol>\n"}],"owner":{"account_id":15112196,"reputation":91,"user_id":10905910,"display_name":"Azm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683140497,"creation_date":1683132907,"question_id":76166351,"body_markdown":"Im new to java/intellij. Dont understand why the text still is in red when the package is added and it compiles[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H0yUZ.png\r\n\r\n    dependencies {\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n        implementation &#39;org.json:json:20190722&#39;\r\n    }","title":"Intellij does not recognize import gradle/java/groovy","body":"<p>Im new to java/intellij. Dont understand why the text still is in red when the package is added and it compiles<a href=\"https://i.stack.imgur.com/H0yUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0yUZ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    implementation 'org.json:json:20190722'\n}\n</code></pre>\n"},{"tags":["java","android","json","jackson"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683154461,"post_id":76166873,"comment_id":134324762,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28496385,"reputation":1,"user_id":21808224,"display_name":"Post_malore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683140355,"creation_date":1683137390,"question_id":76166873,"body_markdown":"I&#39;m trying to make a quiz app in android studio in java, using JSON and the Jackson API to convert the request.\r\n\r\nThe following is the xml of my layout:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/layoutMain&quot;\r\n    &gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/questionField&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Question&quot;\r\n        android:textSize=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/choice1&quot;\r\n        /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/choice1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:text=&quot;1&quot;\r\n        /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/choice2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice1&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/choice1&quot;\r\n        android:text=&quot;2&quot;\r\n        /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/choice3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice1&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/choice1&quot;\r\n        android:text=&quot;3&quot;\r\n        /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/choice4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice2&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/choice2&quot;\r\n        android:text=&quot;4&quot;\r\n        /&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThen I have the class for the Questions and for the Response:\r\n\r\n```\r\npackage com.example.triviaquiz.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic class Questions implements Serializable {\r\n\r\n    private String category, difficulty, question, correct_answer;\r\n    private List &lt;String&gt; incorrect_answers;\r\n\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getDifficulty() {\r\n        return difficulty;\r\n    }\r\n\r\n    public void setDifficulty(String difficulty) {\r\n        this.difficulty = difficulty;\r\n    }\r\n\r\n    public String getQuestion() {\r\n        return question;\r\n    }\r\n\r\n    public void setQuestion(String question) {\r\n        this.question = question;\r\n    }\r\n\r\n    public String getCorrect_answer() {\r\n        return correct_answer;\r\n    }\r\n\r\n    public void setCorrect_answer(String correct_answer) {\r\n        this.correct_answer = correct_answer;\r\n    }\r\n\r\n    public List&lt;String&gt; getIncorrect_answers() {\r\n        return incorrect_answers;\r\n    }\r\n\r\n    public void setIncorrect_answers(List&lt;String&gt; incorrect_answers) {\r\n        this.incorrect_answers = incorrect_answers;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.triviaquiz.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic class Questions implements Serializable {\r\n\r\n    private String category, difficulty, question, correct_answer;\r\n    private List &lt;String&gt; incorrect_answers;\r\n\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getDifficulty() {\r\n        return difficulty;\r\n    }\r\n\r\n    public void setDifficulty(String difficulty) {\r\n        this.difficulty = difficulty;\r\n    }\r\n\r\n    public String getQuestion() {\r\n        return question;\r\n    }\r\n\r\n    public void setQuestion(String question) {\r\n        this.question = question;\r\n    }\r\n\r\n    public String getCorrect_answer() {\r\n        return correct_answer;\r\n    }\r\n\r\n    public void setCorrect_answer(String correct_answer) {\r\n        this.correct_answer = correct_answer;\r\n    }\r\n\r\n    public List&lt;String&gt; getIncorrect_answers() {\r\n        return incorrect_answers;\r\n    }\r\n\r\n    public void setIncorrect_answers(List&lt;String&gt; incorrect_answers) {\r\n        this.incorrect_answers = incorrect_answers;\r\n    }\r\n}\r\n```\r\n\r\nLastly, this is the MainActivity:\r\n\r\n```\r\npackage com.example.triviaquiz;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.triviaquiz.model.Questions;\r\nimport com.example.triviaquiz.model.ResponseQuiz;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button choice1, choice2, choice3, choice4;\r\n    TextView question;\r\n    List&lt;Questions&gt; questionsList;\r\n    int indexQuestion;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        question = findViewById(R.id.questionField);\r\n        choice1 = findViewById(R.id.choice1);\r\n        choice2 = findViewById(R.id.choice2);\r\n        choice3 = findViewById(R.id.choice3);\r\n        choice4 = findViewById(R.id.choice4);\r\n\r\n        loadQuestions();\r\n    }\r\n\r\n    public void loadQuestions(){\r\n        OkHttpClient client = new OkHttpClient();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://opentdb.com/api.php?amount=10&amp;type=multiple&quot;)\r\n                .get()\r\n                .build();\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                Snackbar.make(findViewById(R.id.layoutMain), &quot;Request failed&quot;, Snackbar.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if(response.isSuccessful()){\r\n                    Snackbar.make(findViewById(R.id.layoutMain), &quot;Response successful&quot;, Snackbar.LENGTH_SHORT).show();\r\n                    String body = response.body().string();\r\n                    ResponseQuiz resp = mapper.readValue(body, ResponseQuiz.class);\r\n                    questionsList = resp.getResults();\r\n                    indexQuestion = 0;\r\n                    //Collections.shuffle(questionsList);\r\n                    runOnUiThread(() -&gt; {\r\n                                showQuestions(indexQuestion);\r\n                            });\r\n                }\r\n                else{\r\n                    Snackbar.make(findViewById(R.id.layoutMain), &quot;Response not successful&quot;, Snackbar.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void showQuestions(int index){\r\n            Questions currentQuestion = questionsList.get(index);\r\n            question.setText(currentQuestion.getQuestion());\r\n            List&lt;String&gt; answers = currentQuestion.getIncorrect_answers();\r\n            answers.add(currentQuestion.getCorrect_answer());\r\n            Collections.shuffle(answers);\r\n            choice1.setText(answers.get(0));\r\n            choice2.setText(answers.get(1));\r\n            choice3.setText(answers.get(2));\r\n            choice4.setText(answers.get(3));\r\n    }\r\n}\r\n```\r\n\r\nWhen I launch the app, nothing from the questions and relative answers in the url gets set in the textview for the question and in the buttons for the answers as I thought it would and I don&#39;t get why.\r\n\r\nI&#39;d greatly appreciate any help.","title":"Stuck while making a quiz app in Android studio using JSON and Jackson API","body":"<p>I'm trying to make a quiz app in android studio in java, using JSON and the Jackson API to convert the request.</p>\n<p>The following is the xml of my layout:</p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/layoutMain&quot;\n    &gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/questionField&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Question&quot;\n        android:textSize=&quot;30dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/choice1&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/choice1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:text=&quot;1&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/choice2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice1&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/choice1&quot;\n        android:text=&quot;2&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/choice3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice1&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/choice1&quot;\n        android:text=&quot;3&quot;\n        /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/choice4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/choice2&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/choice2&quot;\n        android:text=&quot;4&quot;\n        /&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Then I have the class for the Questions and for the Response:</p>\n<pre><code>package com.example.triviaquiz.model;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic class Questions implements Serializable {\n\n    private String category, difficulty, question, correct_answer;\n    private List &lt;String&gt; incorrect_answers;\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getDifficulty() {\n        return difficulty;\n    }\n\n    public void setDifficulty(String difficulty) {\n        this.difficulty = difficulty;\n    }\n\n    public String getQuestion() {\n        return question;\n    }\n\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n    public String getCorrect_answer() {\n        return correct_answer;\n    }\n\n    public void setCorrect_answer(String correct_answer) {\n        this.correct_answer = correct_answer;\n    }\n\n    public List&lt;String&gt; getIncorrect_answers() {\n        return incorrect_answers;\n    }\n\n    public void setIncorrect_answers(List&lt;String&gt; incorrect_answers) {\n        this.incorrect_answers = incorrect_answers;\n    }\n}\n</code></pre>\n<pre><code>package com.example.triviaquiz.model;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic class Questions implements Serializable {\n\n    private String category, difficulty, question, correct_answer;\n    private List &lt;String&gt; incorrect_answers;\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getDifficulty() {\n        return difficulty;\n    }\n\n    public void setDifficulty(String difficulty) {\n        this.difficulty = difficulty;\n    }\n\n    public String getQuestion() {\n        return question;\n    }\n\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n    public String getCorrect_answer() {\n        return correct_answer;\n    }\n\n    public void setCorrect_answer(String correct_answer) {\n        this.correct_answer = correct_answer;\n    }\n\n    public List&lt;String&gt; getIncorrect_answers() {\n        return incorrect_answers;\n    }\n\n    public void setIncorrect_answers(List&lt;String&gt; incorrect_answers) {\n        this.incorrect_answers = incorrect_answers;\n    }\n}\n</code></pre>\n<p>Lastly, this is the MainActivity:</p>\n<pre><code>package com.example.triviaquiz;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.triviaquiz.model.Questions;\nimport com.example.triviaquiz.model.ResponseQuiz;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n    Button choice1, choice2, choice3, choice4;\n    TextView question;\n    List&lt;Questions&gt; questionsList;\n    int indexQuestion;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        question = findViewById(R.id.questionField);\n        choice1 = findViewById(R.id.choice1);\n        choice2 = findViewById(R.id.choice2);\n        choice3 = findViewById(R.id.choice3);\n        choice4 = findViewById(R.id.choice4);\n\n        loadQuestions();\n    }\n\n    public void loadQuestions(){\n        OkHttpClient client = new OkHttpClient();\n        ObjectMapper mapper = new ObjectMapper();\n        Request request = new Request.Builder()\n                .url(&quot;https://opentdb.com/api.php?amount=10&amp;type=multiple&quot;)\n                .get()\n                .build();\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                Snackbar.make(findViewById(R.id.layoutMain), &quot;Request failed&quot;, Snackbar.LENGTH_SHORT).show();\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if(response.isSuccessful()){\n                    Snackbar.make(findViewById(R.id.layoutMain), &quot;Response successful&quot;, Snackbar.LENGTH_SHORT).show();\n                    String body = response.body().string();\n                    ResponseQuiz resp = mapper.readValue(body, ResponseQuiz.class);\n                    questionsList = resp.getResults();\n                    indexQuestion = 0;\n                    //Collections.shuffle(questionsList);\n                    runOnUiThread(() -&gt; {\n                                showQuestions(indexQuestion);\n                            });\n                }\n                else{\n                    Snackbar.make(findViewById(R.id.layoutMain), &quot;Response not successful&quot;, Snackbar.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n\n    public void showQuestions(int index){\n            Questions currentQuestion = questionsList.get(index);\n            question.setText(currentQuestion.getQuestion());\n            List&lt;String&gt; answers = currentQuestion.getIncorrect_answers();\n            answers.add(currentQuestion.getCorrect_answer());\n            Collections.shuffle(answers);\n            choice1.setText(answers.get(0));\n            choice2.setText(answers.get(1));\n            choice3.setText(answers.get(2));\n            choice4.setText(answers.get(3));\n    }\n}\n</code></pre>\n<p>When I launch the app, nothing from the questions and relative answers in the url gets set in the textview for the question and in the buttons for the answers as I thought it would and I don't get why.</p>\n<p>I'd greatly appreciate any help.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4151180,"reputation":880,"user_id":3403603,"display_name":"neal"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1457839463,"creation_date":1457569138,"answer_id":35905291,"question_id":35905135,"body_markdown":"Why don&#39;t you read the first row(0) cell values (0-n) (aka column names) and put(columnName,columnIndex) into a map of String/int.  Then you can reference the column index by name.\r\n\r\nHere&#39;s an example:\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;(); //Create map\r\n    HSSFRow row = sheet.getRow(0); //Get first row\r\n    //following is boilerplate from the java doc\r\n    short minColIx = row.getFirstCellNum(); //get the first column index for a row\r\n    short maxColIx = row.getLastCellNum(); //get the last column index for a row\r\n    for(short colIx=minColIx; colIx&lt;maxColIx; colIx++) { //loop from first to last index\r\n       HSSFCell cell = row.getCell(colIx); //get the cell\r\n       map.put(cell.getStringCellValue(),cell.getColumnIndex()) //add the cell contents (name of column) and cell index to the map\r\n     }\r\n\r\nAfter this you&#39;ll have the map from columnName ---&gt; index.  Then you can do:\r\n\r\n    int idx = map.get(&quot;ColumnName&quot;);\r\n\r\n....and you can use this in row.getCell(idx) to get the cells in all the other rows.\r\n\r\nRead the comments below in the code.  I can&#39;t help you other than this.  You need to read the documentation and figure out how to do it.\r\n\r\n\r\n    Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;C:\\\\file.xlsx&quot;));\r\n\r\n    Sheet sheet = workbook.getSheetAt(0);\r\n    totalRows = sheet.getPhysicalNumberOfRows();\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;(); //Create map\r\n    HSSFRow row = sheet.getRow(0); //Get first row\r\n    //following is boilerplate from the java doc\r\n    short minColIx = row.getFirstCellNum(); //get the first column index for a row\r\n    short maxColIx = row.getLastCellNum(); //get the last column index for a row\r\n    for(short colIx=minColIx; colIx&lt;maxColIx; colIx++) { //loop from first to last index\r\n    HSSFCell cell = row.getCell(colIx); //get the cell\r\n    map.put(cell.getStringCellValue(),cell.getColumnIndex()) //add the cell contents (name of column) and cell index to the map\r\n    }\r\n \r\n    List&lt;ReportRow&gt; listOfDataFromReport = new ArrayList&lt;ReportRow&gt;();\r\n    for(int x = 1; x&lt;=totalRows; x++){\r\n\t ReportRow rr = new ReportRow(); //Data structure to hold the data from the xls file.\r\n\t HSSFRow dataRow = sheet.getRow(x); //get row 1 to row n (rows containing data)\r\n\t \r\n\t int idxForColumn1 = map.get(&quot;Column1&quot;); //get the column index for the column with header name = &quot;Column1&quot;\r\n\t int idxForColumn2 = map.get(&quot;Column2&quot;); //get the column index for the column with header name = &quot;Column2&quot;\r\n\t int idxForColumn3 = map.get(&quot;Column3&quot;); //get the column index for the column with header name = &quot;Column3&quot;\r\n\t \r\n\t HSSFCell cell1 = dataRow.getCell(idxForColumn1) //Get the cells for each of the indexes\r\n\t HSSFCell cell2 = dataRow.getCell(idxForColumn2) \r\n\t HSSFCell cell3 = dataRow.getCell(idxForColumn3)  \r\n\t \r\n\t //NOTE THAT YOU HAVE TO KNOW THE DATA TYPES OF THE DATA YOU&#39;RE EXTRACTING.\r\n\t //FOR EXAMPLE I DON&#39;T THINK YOU CAN USE cell.getStringCellValue IF YOU&#39;RE TRYING TO GET A NUMBER\r\n\t rr.setColumn1(cell1.getStringCellValue()); //Get the values out of those cells and put them into the report row object\r\n\t rr.setColumn2(cell2.getStringCellValue());\r\n\t rr.setColumn3(cell3.getStringCellValue());\r\n\t \r\n\t listOfDataFromReport.add(rr);\r\n\t \r\n    }\r\n \r\n    //Now you have a list of report rows\r\n    for(int j = 0; j&lt; listOfDataFromReport.size();j++){\r\n\t   System.out.println(&quot;Column 1 Value: &quot; +   listOfDataFromReport.get(j).getColumn1())\r\n\t//etc...\t\r\n    }\r\n \r\n    //This class holds the values from the xls file.  You may not need it\r\n    // I have no idea what you&#39;re doing with the data.  If you simply wanted to \r\n    //print the data to console you wouldn&#39;t need it.\r\n    public static class ReportRow{\r\n\tprivate String column1;\r\n\tprivate String column2;\r\n\tprivate String column3;\r\n\t\r\n\tpublic String getColumn1(){\r\n\t\treturn this.column1;\r\n\t}\r\n\tpublic void setColumn1(String column1){\r\n\t\tthis.column1 = column1;\r\n\t}\t\r\n\t\r\n\tpublic String getColumn2(){\r\n\t\treturn this.column2;\r\n\t}\r\n\tpublic void setColumn2(String column2){\r\n\t\tthis.column2 = column2;\r\n\t}\t\t\r\n\tpublic String getColumn3(){\r\n\t\treturn this.column3;\r\n\t}\r\n\tpublic void setColumn3(String column3){\r\n\t\tthis.column3 = column3;\r\n\t}\t\r\n    }\r\n","title":"read excel by column name java POI","body":"<p>Why don't you read the first row(0) cell values (0-n) (aka column names) and put(columnName,columnIndex) into a map of String/int.  Then you can reference the column index by name.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;(); //Create map\nHSSFRow row = sheet.getRow(0); //Get first row\n//following is boilerplate from the java doc\nshort minColIx = row.getFirstCellNum(); //get the first column index for a row\nshort maxColIx = row.getLastCellNum(); //get the last column index for a row\nfor(short colIx=minColIx; colIx&lt;maxColIx; colIx++) { //loop from first to last index\n   HSSFCell cell = row.getCell(colIx); //get the cell\n   map.put(cell.getStringCellValue(),cell.getColumnIndex()) //add the cell contents (name of column) and cell index to the map\n }\n</code></pre>\n\n<p>After this you'll have the map from columnName ---> index.  Then you can do:</p>\n\n<pre><code>int idx = map.get(\"ColumnName\");\n</code></pre>\n\n<p>....and you can use this in row.getCell(idx) to get the cells in all the other rows.</p>\n\n<p>Read the comments below in the code.  I can't help you other than this.  You need to read the documentation and figure out how to do it.</p>\n\n<pre><code>Workbook workbook = WorkbookFactory.create(new FileInputStream(\"C:\\\\file.xlsx\"));\n\nSheet sheet = workbook.getSheetAt(0);\ntotalRows = sheet.getPhysicalNumberOfRows();\n\nMap&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;(); //Create map\nHSSFRow row = sheet.getRow(0); //Get first row\n//following is boilerplate from the java doc\nshort minColIx = row.getFirstCellNum(); //get the first column index for a row\nshort maxColIx = row.getLastCellNum(); //get the last column index for a row\nfor(short colIx=minColIx; colIx&lt;maxColIx; colIx++) { //loop from first to last index\nHSSFCell cell = row.getCell(colIx); //get the cell\nmap.put(cell.getStringCellValue(),cell.getColumnIndex()) //add the cell contents (name of column) and cell index to the map\n}\n\nList&lt;ReportRow&gt; listOfDataFromReport = new ArrayList&lt;ReportRow&gt;();\nfor(int x = 1; x&lt;=totalRows; x++){\n ReportRow rr = new ReportRow(); //Data structure to hold the data from the xls file.\n HSSFRow dataRow = sheet.getRow(x); //get row 1 to row n (rows containing data)\n\n int idxForColumn1 = map.get(\"Column1\"); //get the column index for the column with header name = \"Column1\"\n int idxForColumn2 = map.get(\"Column2\"); //get the column index for the column with header name = \"Column2\"\n int idxForColumn3 = map.get(\"Column3\"); //get the column index for the column with header name = \"Column3\"\n\n HSSFCell cell1 = dataRow.getCell(idxForColumn1) //Get the cells for each of the indexes\n HSSFCell cell2 = dataRow.getCell(idxForColumn2) \n HSSFCell cell3 = dataRow.getCell(idxForColumn3)  \n\n //NOTE THAT YOU HAVE TO KNOW THE DATA TYPES OF THE DATA YOU'RE EXTRACTING.\n //FOR EXAMPLE I DON'T THINK YOU CAN USE cell.getStringCellValue IF YOU'RE TRYING TO GET A NUMBER\n rr.setColumn1(cell1.getStringCellValue()); //Get the values out of those cells and put them into the report row object\n rr.setColumn2(cell2.getStringCellValue());\n rr.setColumn3(cell3.getStringCellValue());\n\n listOfDataFromReport.add(rr);\n\n}\n\n//Now you have a list of report rows\nfor(int j = 0; j&lt; listOfDataFromReport.size();j++){\n   System.out.println(\"Column 1 Value: \" +   listOfDataFromReport.get(j).getColumn1())\n//etc...    \n}\n\n//This class holds the values from the xls file.  You may not need it\n// I have no idea what you're doing with the data.  If you simply wanted to \n//print the data to console you wouldn't need it.\npublic static class ReportRow{\nprivate String column1;\nprivate String column2;\nprivate String column3;\n\npublic String getColumn1(){\n    return this.column1;\n}\npublic void setColumn1(String column1){\n    this.column1 = column1;\n}   \n\npublic String getColumn2(){\n    return this.column2;\n}\npublic void setColumn2(String column2){\n    this.column2 = column2;\n}       \npublic String getColumn3(){\n    return this.column3;\n}\npublic void setColumn3(String column3){\n    this.column3 = column3;\n}   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14217776,"reputation":81,"user_id":10271141,"display_name":"Kostiantyn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557430319,"creation_date":1557428948,"answer_id":56066108,"question_id":35905135,"body_markdown":"I wrote a method\t\r\n\r\n\r\n    public static int columnName(String a) throws EncryptedDocumentException, InvalidFormatException, IOException {\r\n    \r\n    \tint coefficient = 0;\r\n    \tString excelFilePath = ConfigurationReader.getProperty(&quot;pathToYourFile&quot;); // or specify the path directly\r\n    \tFileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\n    \tWorkbook wb = WorkbookFactory.create(inputStream);\r\n    \tSheet sh = wb.getSheet(&quot;Sheet1&quot;);\r\n    \tRow row = sh.getRow(0);\r\n    \tint cellNum = row.getPhysicalNumberOfCells();\r\n    \tfor (int i = 0; i &lt; cellNum; i++) {\r\n    \t\tif ((row.getCell(i).toString()).equals(a)) {\r\n    \t\t\tcoefficient = i;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn coefficient;\r\n    }\r\n\r\nand then just call it in my code:\r\n\r\n`Cell anyCellName = row.getCell(columnName(&quot;NameOfColumnInMyExcell&quot;));`\r\n\r\nAnd like this with any column names. Now I&#39;m able to move my columns in any order and code works.","title":"read excel by column name java POI","body":"<p>I wrote a method    </p>\n\n<pre><code>public static int columnName(String a) throws EncryptedDocumentException, InvalidFormatException, IOException {\n\n    int coefficient = 0;\n    String excelFilePath = ConfigurationReader.getProperty(\"pathToYourFile\"); // or specify the path directly\n    FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\n    Workbook wb = WorkbookFactory.create(inputStream);\n    Sheet sh = wb.getSheet(\"Sheet1\");\n    Row row = sh.getRow(0);\n    int cellNum = row.getPhysicalNumberOfCells();\n    for (int i = 0; i &lt; cellNum; i++) {\n        if ((row.getCell(i).toString()).equals(a)) {\n            coefficient = i;\n        }\n    }\n\n    return coefficient;\n}\n</code></pre>\n\n<p>and then just call it in my code:</p>\n\n<p><code>Cell anyCellName = row.getCell(columnName(\"NameOfColumnInMyExcell\"));</code></p>\n\n<p>And like this with any column names. Now I'm able to move my columns in any order and code works.</p>\n"},{"tags":[],"owner":{"account_id":16027791,"reputation":594,"user_id":11567596,"display_name":"Abanoub Hany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650387476,"creation_date":1650387476,"answer_id":71928604,"question_id":35905135,"body_markdown":"Here is my way, I hope it can help\r\n\r\nFirst of all let us get columns names and put it into a map\r\n\r\n     Map&lt;String, Integer&gt; requiredHeaders = new HashMap&lt;&gt;();\r\n            FileInputStream file = new FileInputStream(new File(&quot;filename.xlsx&quot;));\r\n            Workbook workbook = new XSSFWorkbook(file);\r\n            DataFormatter formatter = new DataFormatter();\r\n            Sheet sheet = workbook.getSheetAt(0);\r\n     for (Cell cell : sheet.getRow(0)) {\r\n            requiredHeaders.put(cell.getStringCellValue(), cell.getColumnIndex());\r\n        }\r\n\r\nThen We Can Loop for rows to get the required row using the column index\r\n\r\n        for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Row row = sheet.getRow(i);\r\n            System.out.println(&quot;serial = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;serial&quot;))));\r\n            System.out.println(&quot;pin = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;pin&quot;))));\r\n        }\r\n\r\nNow Full Code Will be Like :\r\n\r\n    private void readFile() throws FileNotFoundException, IOException {\r\n        Map&lt;String, Integer&gt; requiredHeaders = new HashMap&lt;&gt;();\r\n        FileInputStream file = new FileInputStream(new File(&quot;filename.xlsx&quot;));\r\n        Workbook workbook = new XSSFWorkbook(file);\r\n        DataFormatter formatter = new DataFormatter();\r\n        Sheet sheet = workbook.getSheetAt(0);\r\n        for (Cell cell : sheet.getRow(0)) {\r\n            requiredHeaders.put(cell.getStringCellValue(), cell.getColumnIndex());\r\n        }\r\n\r\n        for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Row row = sheet.getRow(i);\r\n            System.out.println(&quot;serial = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;serial&quot;))));\r\n            System.out.println(&quot;pin = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;pin&quot;))));\r\n        }\r\n        workbook.close();\r\n    }\r\n[![This is how My Sheet looks like][1]][1]\r\n\r\n\r\nNow here is the output\r\n[![Code Output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4Amy.png\r\n  [2]: https://i.stack.imgur.com/jBzLL.png","title":"read excel by column name java POI","body":"<p>Here is my way, I hope it can help</p>\n<p>First of all let us get columns names and put it into a map</p>\n<pre><code> Map&lt;String, Integer&gt; requiredHeaders = new HashMap&lt;&gt;();\n        FileInputStream file = new FileInputStream(new File(&quot;filename.xlsx&quot;));\n        Workbook workbook = new XSSFWorkbook(file);\n        DataFormatter formatter = new DataFormatter();\n        Sheet sheet = workbook.getSheetAt(0);\n for (Cell cell : sheet.getRow(0)) {\n        requiredHeaders.put(cell.getStringCellValue(), cell.getColumnIndex());\n    }\n</code></pre>\n<p>Then We Can Loop for rows to get the required row using the column index</p>\n<pre><code>    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row row = sheet.getRow(i);\n        System.out.println(&quot;serial = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;serial&quot;))));\n        System.out.println(&quot;pin = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;pin&quot;))));\n    }\n</code></pre>\n<p>Now Full Code Will be Like :</p>\n<pre><code>private void readFile() throws FileNotFoundException, IOException {\n    Map&lt;String, Integer&gt; requiredHeaders = new HashMap&lt;&gt;();\n    FileInputStream file = new FileInputStream(new File(&quot;filename.xlsx&quot;));\n    Workbook workbook = new XSSFWorkbook(file);\n    DataFormatter formatter = new DataFormatter();\n    Sheet sheet = workbook.getSheetAt(0);\n    for (Cell cell : sheet.getRow(0)) {\n        requiredHeaders.put(cell.getStringCellValue(), cell.getColumnIndex());\n    }\n\n    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row row = sheet.getRow(i);\n        System.out.println(&quot;serial = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;serial&quot;))));\n        System.out.println(&quot;pin = &quot; + formatter.formatCellValue(row.getCell(requiredHeaders.get(&quot;pin&quot;))));\n    }\n    workbook.close();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X4Amy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Amy.png\" alt=\"This is how My Sheet looks like\" /></a></p>\n<p>Now here is the output\n<a href=\"https://i.stack.imgur.com/jBzLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jBzLL.png\" alt=\"Code Output\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28496872,"reputation":1,"user_id":21808641,"display_name":"Death"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683139186,"creation_date":1683139186,"answer_id":76167081,"question_id":35905135,"body_markdown":"    FileInputStream file = new FileInputStream(new File(&quot;Filepath&quot;));\r\n    Map&lt;String, Integer&gt; headers = new HashMap&lt;&gt;();\r\n    Workbook work = new XSSFWorkbook(file);\r\n    Sheet sheet = work.getSheetAt(0);\r\n\r\n    //Get the header from file and put in map with Index value\r\n    for (Cell cell : sheet.getRow(0)) {\r\n    headers.put(cell.getStringCellValue(), cell.getColumnIndex());\r\n    }\r\n\r\n    //Get the column value from the file Using Field Name\r\n    for (int i = 0; i &lt; sheet.getLastRowNum(); i++){\r\n    Row row = sheet.getRow(i);\r\n    row.getCell(headers.get(&quot;columnName1&quot;));\r\n    row.getCell(headers.get(&quot;columnName2&quot;));\r\n    }\r\nThis method will work when you are deal with .xlsx file","title":"read excel by column name java POI","body":"<pre><code>FileInputStream file = new FileInputStream(new File(&quot;Filepath&quot;));\nMap&lt;String, Integer&gt; headers = new HashMap&lt;&gt;();\nWorkbook work = new XSSFWorkbook(file);\nSheet sheet = work.getSheetAt(0);\n\n//Get the header from file and put in map with Index value\nfor (Cell cell : sheet.getRow(0)) {\nheaders.put(cell.getStringCellValue(), cell.getColumnIndex());\n}\n\n//Get the column value from the file Using Field Name\nfor (int i = 0; i &lt; sheet.getLastRowNum(); i++){\nRow row = sheet.getRow(i);\nrow.getCell(headers.get(&quot;columnName1&quot;));\nrow.getCell(headers.get(&quot;columnName2&quot;));\n}\n</code></pre>\n<p>This method will work when you are deal with .xlsx file</p>\n"}],"owner":{"account_id":2392058,"reputation":63,"user_id":2091725,"accept_rate":25,"display_name":"user2091725"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35905291,"answer_count":4,"score":3,"last_activity_date":1683139186,"creation_date":1457568272,"question_id":35905135,"body_markdown":"Good afternoon experts have a problem and I need to read the entire excel  file by column name instead of its index,example:\r\n\r\n    Column1 | Column2 | Column3\r\n    data1      data 2    data 3\r\n\r\nPOI allows me to read the column index by the method `getColumnIndex()` returning for the `Column1 = 0 , Column2= 1 etc,` but I need to read it by column name `Column1` , `Column2` etc , \r\nthere any way to do this??\r\n\r\nI need to read all fields of rows and columns by column name.\r\nattach the code which I read my file:\r\n\r\n\r\nupdated code:\r\n\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n\r\n    public class example {\r\n\r\n        DataFormatter fmt = new DataFormatter();\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) throws FileNotFoundException, IOException {\r\n            example softMarti = new example();\r\n            FileInputStream file = new FileInputStream(new File(&quot;C:archive.xlsx&quot;));\r\n            XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n            XSSFSheet sheet = workbook.getSheetAt(0);\r\n            Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n            while (rowIterator.hasNext()) {\r\n                Row row = rowIterator.next();\r\n                int rowIndex = row.getRowNum();\r\n                if (rowIndex &lt; 1) {\r\n                    continue;\r\n                }\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    int columnIndex = cell.getColumnIndex();\r\n                    if (columnIndex != 0 &amp;&amp; columnIndex != 1 &amp;&amp; columnIndex != 4) {\r\n                        continue;\r\n                    }\r\n                    String columnName = &quot;&quot;;\r\n                    switch (columnIndex) {\r\n                        case 0:\r\n                            columnName = &quot;column1&quot;;\r\n                            break;\r\n                        case 1:\r\n                            columnName = &quot;column2&quot;;\r\n                            break;\r\n                        case 4:\r\n                            columnName = &quot;column 4&quot;;\r\n                            break;\r\n                    }\r\n                    String value = example.getValue(cell);\r\n                    boolean valid = example.isValid(columnIndex, value);\r\n                    if (valid) {\r\n                        continue;\r\n                    }\r\n                    System.out.print(columnName + rowIndex);\r\n                    System.out.println(&quot; -&gt; &quot; + value);\r\n\r\n                }\r\n\r\n            }\r\n\r\n            // TODO code application logic here\r\n        }\r\n\r\n        private String getValue(Cell cell) {\r\n            switch (cell.getCellType()) {\r\n                case Cell.CELL_TYPE_BLANK:\r\n                    return null;\r\n                case Cell.CELL_TYPE_BOOLEAN:\r\n                    return &quot;CELL_TYPE_BOOLEAN&quot;;\r\n                case Cell.CELL_TYPE_ERROR:\r\n                    return &quot;CELL_TYPE_ERROR&quot;;\r\n                case Cell.CELL_TYPE_FORMULA:\r\n                    return &quot;CELL_TYPE_FORMULA&quot;;\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                    return fmt.formatCellValue(cell);\r\n                case Cell.CELL_TYPE_STRING:\r\n                    return cell.getStringCellValue();\r\n                default:\r\n                    return &quot;none&quot;;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        boolean isValid(int column, String value) {\r\n            if (value == null) {\r\n                return false;\r\n            }\r\n            String pattern = &quot;&quot;;\r\n            switch (column) {\r\n                case 0:\r\n                    pattern = &quot;[A-Za-z0-9_\\\\- ]{1,20}&quot;;\r\n                    break;\r\n                case 1:\r\n                    pattern = &quot;[A-Za-z0-9_\\\\- ]{1,80}&quot;;\r\n                    break;\r\n                case 4:\r\n                    pattern = &quot;[0-9]{1,8}&quot;;\r\n                    break;\r\n            }\r\n            Pattern pat = Pattern.compile(pattern);\r\n            Matcher mat = pat.matcher(value);\r\n            return mat.matches();\r\n        }\r\n    }\r\n    \r\n\r\nThis code works but I need to validate column name  because for my project  columns may change position, that&#39;s my goal","title":"read excel by column name java POI","body":"<p>Good afternoon experts have a problem and I need to read the entire excel  file by column name instead of its index,example:</p>\n\n<pre><code>Column1 | Column2 | Column3\ndata1      data 2    data 3\n</code></pre>\n\n<p>POI allows me to read the column index by the method <code>getColumnIndex()</code> returning for the <code>Column1 = 0 , Column2= 1 etc,</code> but I need to read it by column name <code>Column1</code> , <code>Column2</code> etc , \nthere any way to do this??</p>\n\n<p>I need to read all fields of rows and columns by column name.\nattach the code which I read my file:</p>\n\n<p>updated code:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class example {\n\n    DataFormatter fmt = new DataFormatter();\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        example softMarti = new example();\n        FileInputStream file = new FileInputStream(new File(\"C:archive.xlsx\"));\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n        XSSFSheet sheet = workbook.getSheetAt(0);\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n        while (rowIterator.hasNext()) {\n            Row row = rowIterator.next();\n            int rowIndex = row.getRowNum();\n            if (rowIndex &lt; 1) {\n                continue;\n            }\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                int columnIndex = cell.getColumnIndex();\n                if (columnIndex != 0 &amp;&amp; columnIndex != 1 &amp;&amp; columnIndex != 4) {\n                    continue;\n                }\n                String columnName = \"\";\n                switch (columnIndex) {\n                    case 0:\n                        columnName = \"column1\";\n                        break;\n                    case 1:\n                        columnName = \"column2\";\n                        break;\n                    case 4:\n                        columnName = \"column 4\";\n                        break;\n                }\n                String value = example.getValue(cell);\n                boolean valid = example.isValid(columnIndex, value);\n                if (valid) {\n                    continue;\n                }\n                System.out.print(columnName + rowIndex);\n                System.out.println(\" -&gt; \" + value);\n\n            }\n\n        }\n\n        // TODO code application logic here\n    }\n\n    private String getValue(Cell cell) {\n        switch (cell.getCellType()) {\n            case Cell.CELL_TYPE_BLANK:\n                return null;\n            case Cell.CELL_TYPE_BOOLEAN:\n                return \"CELL_TYPE_BOOLEAN\";\n            case Cell.CELL_TYPE_ERROR:\n                return \"CELL_TYPE_ERROR\";\n            case Cell.CELL_TYPE_FORMULA:\n                return \"CELL_TYPE_FORMULA\";\n            case Cell.CELL_TYPE_NUMERIC:\n                return fmt.formatCellValue(cell);\n            case Cell.CELL_TYPE_STRING:\n                return cell.getStringCellValue();\n            default:\n                return \"none\";\n\n        }\n\n    }\n\n    boolean isValid(int column, String value) {\n        if (value == null) {\n            return false;\n        }\n        String pattern = \"\";\n        switch (column) {\n            case 0:\n                pattern = \"[A-Za-z0-9_\\\\- ]{1,20}\";\n                break;\n            case 1:\n                pattern = \"[A-Za-z0-9_\\\\- ]{1,80}\";\n                break;\n            case 4:\n                pattern = \"[0-9]{1,8}\";\n                break;\n        }\n        Pattern pat = Pattern.compile(pattern);\n        Matcher mat = pat.matcher(value);\n        return mat.matches();\n    }\n}\n</code></pre>\n\n<p>This code works but I need to validate column name  because for my project  columns may change position, that's my goal</p>\n"},{"tags":["java","design-patterns","language-agnostic","factory","factory-method"],"comments":[{"owner":{"account_id":104738,"reputation":1738,"user_id":279844,"accept_rate":57,"display_name":"Nick Alexeev"},"score":8,"creation_date":1446152364,"post_id":13029261,"comment_id":54638136,"body_markdown":"While I was looking for answers to roughly the same question as the O.P., I found this article: [From No Factory to Factory Method](http://www.codeproject.com/Articles/492900/From-No-Factory-to-Factory-Method).  It provides the insight by following the evolution of a sample project (factory method mentioned in the title is one of the evolutionary steps).","body":"While I was looking for answers to roughly the same question as the O.P., I found this article: <a href=\"http://www.codeproject.com/Articles/492900/From-No-Factory-to-Factory-Method\" rel=\"nofollow noreferrer\">From No Factory to Factory Method</a>.  It provides the insight by following the evolution of a sample project (factory method mentioned in the title is one of the evolutionary steps)."},{"owner":{"account_id":18675034,"reputation":107,"user_id":13612900,"display_name":"Sheena"},"score":0,"creation_date":1625725575,"post_id":13029261,"comment_id":120708071,"body_markdown":"I stumbled over this after reading the following article, which describes the problem quite well: [&quot;Codeproject- Factory methode vs. abstract factory](https://www.codeproject.com/articles/716413/factory-method-pattern-vs-abstract-factory-pattern).","body":"I stumbled over this after reading the following article, which describes the problem quite well: <a href=\"https://www.codeproject.com/articles/716413/factory-method-pattern-vs-abstract-factory-pattern\" rel=\"nofollow noreferrer\">&quot;Codeproject- Factory methode vs. abstract factory</a>."}],"answers":[{"tags":[],"owner":{"account_id":1964600,"reputation":976,"user_id":1765193,"display_name":"Ravi K"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1666765490,"creation_date":1350992825,"answer_id":13029726,"question_id":13029261,"body_markdown":"**Factory** - Separate Factory class to create complex object. \r\n\r\nEx: FruitFactory class to create object of Fruit\r\n\r\n    class FruitFactory{\r\n    \r\n    public static Fruit getFruit(){...}\r\n    \r\n    }\r\n\r\n**Factory Method** - Instead of whole separate class for factory, just add one method in that class itself as a factory.\r\n\r\nEx:\r\n\r\n    Calendar.getInstance() (Java&#39;s Calendar)\r\n\r\n**Abstract Factory** - Factory of Factories\r\n\r\nEx: Lets say we want to build factory for computer parts. So there are several types of computers like Laptop, Desktop, Server.\r\n\r\nSo for each compter type we need factory. So we create one highlevel factory of factories like below\r\n\r\n    ComputerTypeAbstractFactory.getComputerPartFactory(String computerType) ---&gt; This will return PartFactory which can be one of these ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\r\n\r\nNow these 3 itself are again factories. (You will be dealing with PartFactory itself, but under the hood, there will be separate implementation based on what you provided in abstract factory)\r\n\r\n      Interface-&gt; PartFactory. getComputerPart(String s), \r\n    Implementations -&gt; ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\r\n\r\n    Usage:\r\n    new ComputerTypeAbstractFactory().getFactory(“Laptop”).getComputerPart(“RAM”)\r\n\r\nEDIT: edited to provide exact interfaces for Abstract Factory as per the objections in comments.","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p><strong>Factory</strong> - Separate Factory class to create complex object.</p>\n<p>Ex: FruitFactory class to create object of Fruit</p>\n<pre><code>class FruitFactory{\n\npublic static Fruit getFruit(){...}\n\n}\n</code></pre>\n<p><strong>Factory Method</strong> - Instead of whole separate class for factory, just add one method in that class itself as a factory.</p>\n<p>Ex:</p>\n<pre><code>Calendar.getInstance() (Java's Calendar)\n</code></pre>\n<p><strong>Abstract Factory</strong> - Factory of Factories</p>\n<p>Ex: Lets say we want to build factory for computer parts. So there are several types of computers like Laptop, Desktop, Server.</p>\n<p>So for each compter type we need factory. So we create one highlevel factory of factories like below</p>\n<pre><code>ComputerTypeAbstractFactory.getComputerPartFactory(String computerType) ---&gt; This will return PartFactory which can be one of these ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\n</code></pre>\n<p>Now these 3 itself are again factories. (You will be dealing with PartFactory itself, but under the hood, there will be separate implementation based on what you provided in abstract factory)</p>\n<pre><code>  Interface-&gt; PartFactory. getComputerPart(String s), \nImplementations -&gt; ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\n\nUsage:\nnew ComputerTypeAbstractFactory().getFactory(“Laptop”).getComputerPart(“RAM”)\n</code></pre>\n<p>EDIT: edited to provide exact interfaces for Abstract Factory as per the objections in comments.</p>\n"},{"tags":[],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1611181123,"creation_date":1350993905,"answer_id":13030033,"question_id":13029261,"body_markdown":"Every design pattern strives to help ensure that written, working code is not touched. We all know that once we touch working code, there are defects in existing working flows, and a lot more testing needs to get done to ensure that we did not break anything.\r\n\r\nA factory pattern creates objects based on input criteria, thus ensuring that you dont need to write code like:\r\n\r\n     if (this) {\r\n         create this kind of object \r\n     } else { \r\n         that kind of object \r\n     }\r\n\r\n A good example of this is a travel website. A travel website can only provide travel (flight, train, bus) or / and provide hotels or / and provide tourist attraction packages. Now, when a user selects next, the website needs to decide what objects it needs to create. Should it only create the travel or hotel object too.\r\n\r\nNow, if you envision adding another website to your portfolio, and you believe that the same core be used, for example, a carpooling website, which now searches for cab&#39;s and makes payments online, you can use a abstract factory at your core. This way you can just snap in one more factory of cabs and carpools.\r\n\r\nBoth factories have nothing to do with each other, so it&#39;s a good design to keep them in different factories.\r\n\r\nHope this is clear now. Study the website again keeping this example in mind, hopefully it will help. And I really hope I have represented the patterns correctly :). ","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>Every design pattern strives to help ensure that written, working code is not touched. We all know that once we touch working code, there are defects in existing working flows, and a lot more testing needs to get done to ensure that we did not break anything.</p>\n<p>A factory pattern creates objects based on input criteria, thus ensuring that you dont need to write code like:</p>\n<pre><code> if (this) {\n     create this kind of object \n } else { \n     that kind of object \n }\n</code></pre>\n<p>A good example of this is a travel website. A travel website can only provide travel (flight, train, bus) or / and provide hotels or / and provide tourist attraction packages. Now, when a user selects next, the website needs to decide what objects it needs to create. Should it only create the travel or hotel object too.</p>\n<p>Now, if you envision adding another website to your portfolio, and you believe that the same core be used, for example, a carpooling website, which now searches for cab's and makes payments online, you can use a abstract factory at your core. This way you can just snap in one more factory of cabs and carpools.</p>\n<p>Both factories have nothing to do with each other, so it's a good design to keep them in different factories.</p>\n<p>Hope this is clear now. Study the website again keeping this example in mind, hopefully it will help. And I really hope I have represented the patterns correctly :).</p>\n"},{"tags":[],"owner":{"account_id":1573314,"reputation":10235,"user_id":1460495,"accept_rate":100,"display_name":"Anders Johansen"},"down_vote_count":1,"up_vote_count":367,"is_accepted":false,"score":366,"last_activity_date":1611183735,"creation_date":1350994335,"answer_id":13030163,"question_id":13029261,"body_markdown":"All three Factory types do the same thing: They are a &quot;smart constructor&quot;.\r\n\r\nLet&#39;s say you want to be able to create two kinds of Fruit: Apple and Orange.\r\n\r\n\r\n&lt;h3&gt;Factory&lt;/h3&gt;\r\nFactory is &quot;fixed&quot;, in that you have just one implementation with no subclassing. In this case, you will have a class like this:\r\n\r\n    class FruitFactory {\r\n    \r\n      public Apple makeApple() {\r\n        // Code for creating an Apple here.\r\n      }\r\n    \r\n      public Orange makeOrange() {\r\n        // Code for creating an orange here.\r\n      }\r\n    \r\n    }\r\n\r\nUse case: Constructing an Apple or an Orange is a bit too complex to handle in the constructor for either.\r\n\r\n&lt;h3&gt;Factory Method&lt;/h3&gt;\r\nFactory method is generally used when you have some generic processing in a class, but want to vary which kind of fruit you actually use. So:\r\n\r\n    abstract class FruitPicker {\r\n    \r\n      protected abstract Fruit makeFruit();\r\n    \r\n      public void pickFruit() {\r\n        private final Fruit f = makeFruit(); // The fruit we will work on..\r\n        &lt;bla bla bla&gt;\r\n      }\r\n    }\r\n\r\n...then you can reuse the common functionality in `FruitPicker.pickFruit()` by implementing a factory method in subclasses:\r\n\r\n    class OrangePicker extends FruitPicker {\r\n\r\n      @Override\r\n      protected Fruit makeFruit() {\r\n        return new Orange();\r\n      }\r\n    }\r\n\r\n&lt;h3&gt;Abstract Factory&lt;/h3&gt;\r\nAbstract factory is normally used for things like dependency injection/strategy, when you want to be able to create a whole family of objects that need to be of &quot;the same kind&quot;, and have some common base classes. Here&#39;s a vaguely fruit-related example. The use case here is that we want to make sure that we don&#39;t accidentally use an OrangePicker on an Apple. As long as we get our Fruit and Picker from the same factory, they will match.\r\n\r\n    interface PlantFactory {\r\n      \r\n      Plant makePlant();\r\n    \r\n      Picker makePicker(); \r\n    \r\n    }\r\n    \r\n    public class AppleFactory implements PlantFactory {\r\n      Plant makePlant() {\r\n        return new Apple();\r\n      }\r\n    \r\n      Picker makePicker() {\r\n        return new ApplePicker();\r\n      }\r\n    }\r\n    \r\n    public class OrangeFactory implements PlantFactory {\r\n      Plant makePlant() {\r\n        return new Orange();\r\n      }\r\n    \r\n      Picker makePicker() {\r\n        return new OrangePicker();\r\n      }\r\n    }\r\n\r\n\r\n","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>All three Factory types do the same thing: They are a &quot;smart constructor&quot;.</p>\n<p>Let's say you want to be able to create two kinds of Fruit: Apple and Orange.</p>\n<h3>Factory</h3>\nFactory is \"fixed\", in that you have just one implementation with no subclassing. In this case, you will have a class like this:\n<pre><code>class FruitFactory {\n\n  public Apple makeApple() {\n    // Code for creating an Apple here.\n  }\n\n  public Orange makeOrange() {\n    // Code for creating an orange here.\n  }\n\n}\n</code></pre>\n<p>Use case: Constructing an Apple or an Orange is a bit too complex to handle in the constructor for either.</p>\n<h3>Factory Method</h3>\nFactory method is generally used when you have some generic processing in a class, but want to vary which kind of fruit you actually use. So:\n<pre><code>abstract class FruitPicker {\n\n  protected abstract Fruit makeFruit();\n\n  public void pickFruit() {\n    private final Fruit f = makeFruit(); // The fruit we will work on..\n    &lt;bla bla bla&gt;\n  }\n}\n</code></pre>\n<p>...then you can reuse the common functionality in <code>FruitPicker.pickFruit()</code> by implementing a factory method in subclasses:</p>\n<pre><code>class OrangePicker extends FruitPicker {\n\n  @Override\n  protected Fruit makeFruit() {\n    return new Orange();\n  }\n}\n</code></pre>\n<h3>Abstract Factory</h3>\nAbstract factory is normally used for things like dependency injection/strategy, when you want to be able to create a whole family of objects that need to be of \"the same kind\", and have some common base classes. Here's a vaguely fruit-related example. The use case here is that we want to make sure that we don't accidentally use an OrangePicker on an Apple. As long as we get our Fruit and Picker from the same factory, they will match.\n<pre><code>interface PlantFactory {\n  \n  Plant makePlant();\n\n  Picker makePicker(); \n\n}\n\npublic class AppleFactory implements PlantFactory {\n  Plant makePlant() {\n    return new Apple();\n  }\n\n  Picker makePicker() {\n    return new ApplePicker();\n  }\n}\n\npublic class OrangeFactory implements PlantFactory {\n  Plant makePlant() {\n    return new Orange();\n  }\n\n  Picker makePicker() {\n    return new OrangePicker();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3869264,"reputation":51,"user_id":3204950,"display_name":"rameshvanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437720895,"creation_date":1437719180,"answer_id":31603599,"question_id":13029261,"body_markdown":"    AbstractProductA, A1 and A2 both implementing the AbstractProductA\r\n    AbstractProductB, B1 and B2 both implementing the AbstractProductB\r\n    \r\n    interface Factory {\r\n        AbstractProductA getProductA(); //Factory Method - generate A1/A2\r\n    }\r\nUsing Factory Method, user can able to create A1 or A2 of AbstractProductA.\r\n    \r\n    interface AbstractFactory {\r\n        AbstractProductA getProductA(); //Factory Method\r\n    \tAbstractProductB getProductB(); //Factory Method\r\n    }\r\n\r\nBut Abstract Factory having more than 1 factory method ( ex: 2 factory methods), using those factory methods it will create the set of objects/ related objects.\r\nUsing Abstract Factory, user can able to create A1, B1 objects of AbstractProductA, AbstractProductB \r\n    \r\n","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<pre><code>AbstractProductA, A1 and A2 both implementing the AbstractProductA\nAbstractProductB, B1 and B2 both implementing the AbstractProductB\n\ninterface Factory {\n    AbstractProductA getProductA(); //Factory Method - generate A1/A2\n}\n</code></pre>\n\n<p>Using Factory Method, user can able to create A1 or A2 of AbstractProductA.</p>\n\n<pre><code>interface AbstractFactory {\n    AbstractProductA getProductA(); //Factory Method\n    AbstractProductB getProductB(); //Factory Method\n}\n</code></pre>\n\n<p>But Abstract Factory having more than 1 factory method ( ex: 2 factory methods), using those factory methods it will create the set of objects/ related objects.\nUsing Abstract Factory, user can able to create A1, B1 objects of AbstractProductA, AbstractProductB </p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1683139152,"creation_date":1457376069,"answer_id":35851402,"question_id":13029261,"body_markdown":"***Q1. How are these three patterns different from each other?***\r\n\r\nDefinition from Wikipedia/Gang of Four ( Design Patterns: Elements of Reusable Object-Oriented Software book)\r\n\r\n  &gt;*Factory:* Creates objects without exposing the instantiation logic to the client.\r\n\r\n  &gt;*[Factory Method][1]:* Define an interface for creating an object, but let subclasses decide which class to instantiate. The Factory method lets a class defer instantiation it uses to subclasses.&quot; (Gang Of Four)\r\n\r\n  &gt;*Abstract Factory:* Provides an interface for creating families of related objects without specifying their concrete classes.\r\n\r\nAbstractFactory pattern uses composition to delegate responsibility of creating object to another class \r\n\r\n*Factory method* design pattern uses inheritance and uses derived class for creation of objects\r\n\r\n***Q2. When to use which?***\r\n\r\n*Factory:* Client just need a class and don&#39;t bother about implementer\r\n\r\n*Factory Method:* Client doesn&#39;t know what concrete classes it will be required to create the object\r\n\r\n*AbstactFactory:*  When your system has to create multiple families of products without exposing the implementation details.\r\n\r\nAbstract Factory classes are often implemented with Factory Method. \r\n\r\n***Q3. And also if possible, any java examples related to these patterns?***\r\n\r\n\r\n**Problem statement:** Create a Factory of Games by using Factory Methods, which defines the game interface.\r\n\r\nCode snippet:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.HashMap;\r\n\r\n\r\n    /* Product interface as per UML diagram */\r\n    interface Game{\r\n        /* createGame is a complex method, which executes a sequence of game steps */\r\n        public void createGame();\r\n    }\r\n    \r\n    /* ConcreteProduct implementation as per UML diagram */\r\n    class Chess implements Game{\r\n        public Chess(){\r\n            \r\n        }\r\n        public void createGame(){\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n            System.out.println(&quot;Create Chess game&quot;);\r\n            System.out.println(&quot;Opponents:2&quot;);\r\n            System.out.println(&quot;Define 64 blocks&quot;);\r\n            System.out.println(&quot;Place 16 pieces for White opponent&quot;);\r\n            System.out.println(&quot;Place 16 pieces for Black opponent&quot;);\r\n            System.out.println(&quot;Start Chess game&quot;);\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n        }\r\n    }\r\n    class Checkers implements Game{\r\n        public Checkers(){\r\n           \r\n        }\r\n        public void createGame(){\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n            System.out.println(&quot;Create Checkers game&quot;);\r\n            System.out.println(&quot;Opponents:2 or 3 or 4 or 6&quot;);\r\n            System.out.println(&quot;For each opponent, place 10 coins&quot;);\r\n            System.out.println(&quot;Start Checkers game&quot;);\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n        }\r\n    }\r\n    class Ludo implements Game{\r\n        public Ludo(){\r\n            \r\n        }\r\n        public void createGame(){\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n            System.out.println(&quot;Create Ludo game&quot;);\r\n            System.out.println(&quot;Opponents:2 or 3 or 4&quot;);\r\n            System.out.println(&quot;For each opponent, place 4 coins&quot;);\r\n            System.out.println(&quot;Create two dices with numbers from 1-6&quot;);\r\n            System.out.println(&quot;Start Ludo game&quot;);\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n        }\r\n    }\r\n    \r\n    /* Creator interface as per UML diagram */\r\n    interface IGameFactory {\r\n        public Game getGame(String gameName);\r\n    }\r\n    \r\n    /* ConcreteCreator implementation as per UML diagram */\r\n    class GameFactory implements IGameFactory {\r\n            \r\n         HashMap&lt;String,Game&gt; games = new HashMap&lt;String,Game&gt;();\r\n        /*  \r\n            Since Game Creation is complex process, we don&#39;t want to create game using new operator every time.\r\n            Instead we create Game only once and store it in Factory. When client request a specific game, \r\n            Game object is returned from Factory instead of creating new Game on the fly, which is time consuming\r\n        */\r\n        \r\n        public GameFactory(){\r\n            \r\n            games.put(Chess.class.getName(),new Chess());\r\n            games.put(Checkers.class.getName(),new Checkers());\r\n            games.put(Ludo.class.getName(),new Ludo());        \r\n        }\r\n        public Game getGame(String gameName){\r\n            return games.get(gameName);\r\n        }\r\n    }\r\n    \r\n    public class NonStaticFactoryDemo{\r\n        public static void main(String args[]){\r\n            if ( args.length &lt; 1){\r\n                System.out.println(&quot;Usage: java FactoryDemo gameName&quot;);\r\n                return;\r\n            }\r\n         \r\n            GameFactory factory = new GameFactory();\r\n            Game game = factory.getGame(args[0]);\r\n\t\t\tif ( game != null ){\t\t\t\t\t\r\n\t\t\t\tgame.createGame();\r\n\t\t\t\tSystem.out.println(&quot;Game=&quot;+game.getClass().getName());\r\n\t\t\t}else{\r\n\t\t\t\tSystem.out.println(args[0]+  &quot; Game does not exists in factory&quot;);\r\n\t\t\t}           \r\n        }\r\n    }\r\n    \r\noutput:\r\n    \r\n    java NonStaticFactoryDemo Chess\r\n    ---------------------------------------\r\n    Create Chess game\r\n    Opponents:2\r\n    Define 64 blocks\r\n    Place 16 pieces for White opponent\r\n    Place 16 pieces for Black opponent\r\n    Start Chess game\r\n    ---------------------------------------\r\n    Game=Chess\r\n\r\nThis example shows a `Factory` class by implementing a `FactoryMethod`.\r\n\r\n1. `Game` is the interface for all type of games. It defines complex method: `createGame()`\r\n\r\n2. `Chess, Ludo, Checkers` are different variants of games, which provide implementation to `createGame()`\r\n\r\n3. `public Game getGame(String gameName)` is `FactoryMethod` in `IGameFactory` class\r\n\r\n4. `GameFactory` pre-creates different type of games in constructor. It implements `IGameFactory` factory method. \r\n\r\n5. game Name is passed as command line argument to `NotStaticFactoryDemo`\r\n\r\n6. `getGame` in `GameFactory` accepts a game name and returns corresponding `Game` object.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p><em><strong>Q1. How are these three patterns different from each other?</strong></em></p>\n<p>Definition from Wikipedia/Gang of Four ( Design Patterns: Elements of Reusable Object-Oriented Software book)</p>\n<blockquote>\n<p><em>Factory:</em> Creates objects without exposing the instantiation logic to the client.</p>\n</blockquote>\n<blockquote>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">Factory Method</a>:</em> Define an interface for creating an object, but let subclasses decide which class to instantiate. The Factory method lets a class defer instantiation it uses to subclasses.&quot; (Gang Of Four)</p>\n</blockquote>\n<blockquote>\n<p><em>Abstract Factory:</em> Provides an interface for creating families of related objects without specifying their concrete classes.</p>\n</blockquote>\n<p>AbstractFactory pattern uses composition to delegate responsibility of creating object to another class</p>\n<p><em>Factory method</em> design pattern uses inheritance and uses derived class for creation of objects</p>\n<p><em><strong>Q2. When to use which?</strong></em></p>\n<p><em>Factory:</em> Client just need a class and don't bother about implementer</p>\n<p><em>Factory Method:</em> Client doesn't know what concrete classes it will be required to create the object</p>\n<p><em>AbstactFactory:</em>  When your system has to create multiple families of products without exposing the implementation details.</p>\n<p>Abstract Factory classes are often implemented with Factory Method.</p>\n<p><em><strong>Q3. And also if possible, any java examples related to these patterns?</strong></em></p>\n<p><strong>Problem statement:</strong> Create a Factory of Games by using Factory Methods, which defines the game interface.</p>\n<p>Code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\n\n\n/* Product interface as per UML diagram */\ninterface Game{\n    /* createGame is a complex method, which executes a sequence of game steps */\n    public void createGame();\n}\n\n/* ConcreteProduct implementation as per UML diagram */\nclass Chess implements Game{\n    public Chess(){\n        \n    }\n    public void createGame(){\n        System.out.println(&quot;---------------------------------------&quot;);\n        System.out.println(&quot;Create Chess game&quot;);\n        System.out.println(&quot;Opponents:2&quot;);\n        System.out.println(&quot;Define 64 blocks&quot;);\n        System.out.println(&quot;Place 16 pieces for White opponent&quot;);\n        System.out.println(&quot;Place 16 pieces for Black opponent&quot;);\n        System.out.println(&quot;Start Chess game&quot;);\n        System.out.println(&quot;---------------------------------------&quot;);\n    }\n}\nclass Checkers implements Game{\n    public Checkers(){\n       \n    }\n    public void createGame(){\n        System.out.println(&quot;---------------------------------------&quot;);\n        System.out.println(&quot;Create Checkers game&quot;);\n        System.out.println(&quot;Opponents:2 or 3 or 4 or 6&quot;);\n        System.out.println(&quot;For each opponent, place 10 coins&quot;);\n        System.out.println(&quot;Start Checkers game&quot;);\n        System.out.println(&quot;---------------------------------------&quot;);\n    }\n}\nclass Ludo implements Game{\n    public Ludo(){\n        \n    }\n    public void createGame(){\n        System.out.println(&quot;---------------------------------------&quot;);\n        System.out.println(&quot;Create Ludo game&quot;);\n        System.out.println(&quot;Opponents:2 or 3 or 4&quot;);\n        System.out.println(&quot;For each opponent, place 4 coins&quot;);\n        System.out.println(&quot;Create two dices with numbers from 1-6&quot;);\n        System.out.println(&quot;Start Ludo game&quot;);\n        System.out.println(&quot;---------------------------------------&quot;);\n    }\n}\n\n/* Creator interface as per UML diagram */\ninterface IGameFactory {\n    public Game getGame(String gameName);\n}\n\n/* ConcreteCreator implementation as per UML diagram */\nclass GameFactory implements IGameFactory {\n        \n     HashMap&lt;String,Game&gt; games = new HashMap&lt;String,Game&gt;();\n    /*  \n        Since Game Creation is complex process, we don't want to create game using new operator every time.\n        Instead we create Game only once and store it in Factory. When client request a specific game, \n        Game object is returned from Factory instead of creating new Game on the fly, which is time consuming\n    */\n    \n    public GameFactory(){\n        \n        games.put(Chess.class.getName(),new Chess());\n        games.put(Checkers.class.getName(),new Checkers());\n        games.put(Ludo.class.getName(),new Ludo());        \n    }\n    public Game getGame(String gameName){\n        return games.get(gameName);\n    }\n}\n\npublic class NonStaticFactoryDemo{\n    public static void main(String args[]){\n        if ( args.length &lt; 1){\n            System.out.println(&quot;Usage: java FactoryDemo gameName&quot;);\n            return;\n        }\n     \n        GameFactory factory = new GameFactory();\n        Game game = factory.getGame(args[0]);\n        if ( game != null ){                    \n            game.createGame();\n            System.out.println(&quot;Game=&quot;+game.getClass().getName());\n        }else{\n            System.out.println(args[0]+  &quot; Game does not exists in factory&quot;);\n        }           \n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>java NonStaticFactoryDemo Chess\n---------------------------------------\nCreate Chess game\nOpponents:2\nDefine 64 blocks\nPlace 16 pieces for White opponent\nPlace 16 pieces for Black opponent\nStart Chess game\n---------------------------------------\nGame=Chess\n</code></pre>\n<p>This example shows a <code>Factory</code> class by implementing a <code>FactoryMethod</code>.</p>\n<ol>\n<li><p><code>Game</code> is the interface for all type of games. It defines complex method: <code>createGame()</code></p>\n</li>\n<li><p><code>Chess, Ludo, Checkers</code> are different variants of games, which provide implementation to <code>createGame()</code></p>\n</li>\n<li><p><code>public Game getGame(String gameName)</code> is <code>FactoryMethod</code> in <code>IGameFactory</code> class</p>\n</li>\n<li><p><code>GameFactory</code> pre-creates different type of games in constructor. It implements <code>IGameFactory</code> factory method.</p>\n</li>\n<li><p>game Name is passed as command line argument to <code>NotStaticFactoryDemo</code></p>\n</li>\n<li><p><code>getGame</code> in <code>GameFactory</code> accepts a game name and returns corresponding <code>Game</code> object.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3464180,"reputation":988,"user_id":2900278,"accept_rate":86,"display_name":"Pavel Sapehin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1564655431,"creation_date":1564654454,"answer_id":57306744,"question_id":13029261,"body_markdown":"For this answer, I refer to the &quot;Gang of Four&quot; book.\r\n\r\nThere are **no** &quot;Factory&quot; nor &quot;Simple Factory&quot; nor &quot;Virtual Factory&quot; definitions in the book. **Usually** when people are talking about &quot;Factory&quot; pattern they may be talking about **something that creates a particular object of a class** (but not the &quot;builder&quot; pattern); they **may or may not** refer to the &quot;Factory Method&quot; or &quot;Abstract Factory&quot; patterns. Anyone can implement &quot;Factory&quot; as he won&#39;t because it&#39;s not a formal term (bear in mind that some people\\companies\\communities can have their own vocabulary).\r\n\r\nThe book **only** contains definitions for &quot;Abstract Factory&quot; and &quot;Factory Method&quot;.\r\n\r\nHere are definitions from the book and a short explanation of why both can be so confusing. I omit code examples because you can find them in other answers:\r\n\r\n**Factory Method (GOF)**: Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.\r\n\r\n**Abstract Factory (GOF)**: Provide an interface for creating families of related or dependent objects without specifying their concrete classes.\r\n\r\n**Source of Confusion**: Often, one can call a class that used in &quot;Factory Method&quot; pattern as &quot;Factory&quot;. This class is abstract by definition. That&#39;s why it easy to call this class &quot;Abstract Factory&quot;. But it&#39;s just the name of the class; you shouldn&#39;t confuse it with &quot;Abstract Factory&quot; pattern (class name != pattern name). The &quot;Abstract Factory&quot; pattern is different - it does **not** use an abstract class; it defines an interface (not necessarily a programming language interface) for creating parts of a bigger object or objects that are related to each other or must be created in a particular way.","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>For this answer, I refer to the \"Gang of Four\" book.</p>\n\n<p>There are <strong>no</strong> \"Factory\" nor \"Simple Factory\" nor \"Virtual Factory\" definitions in the book. <strong>Usually</strong> when people are talking about \"Factory\" pattern they may be talking about <strong>something that creates a particular object of a class</strong> (but not the \"builder\" pattern); they <strong>may or may not</strong> refer to the \"Factory Method\" or \"Abstract Factory\" patterns. Anyone can implement \"Factory\" as he won't because it's not a formal term (bear in mind that some people\\companies\\communities can have their own vocabulary).</p>\n\n<p>The book <strong>only</strong> contains definitions for \"Abstract Factory\" and \"Factory Method\".</p>\n\n<p>Here are definitions from the book and a short explanation of why both can be so confusing. I omit code examples because you can find them in other answers:</p>\n\n<p><strong>Factory Method (GOF)</strong>: Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.</p>\n\n<p><strong>Abstract Factory (GOF)</strong>: Provide an interface for creating families of related or dependent objects without specifying their concrete classes.</p>\n\n<p><strong>Source of Confusion</strong>: Often, one can call a class that used in \"Factory Method\" pattern as \"Factory\". This class is abstract by definition. That's why it easy to call this class \"Abstract Factory\". But it's just the name of the class; you shouldn't confuse it with \"Abstract Factory\" pattern (class name != pattern name). The \"Abstract Factory\" pattern is different - it does <strong>not</strong> use an abstract class; it defines an interface (not necessarily a programming language interface) for creating parts of a bigger object or objects that are related to each other or must be created in a particular way.</p>\n"},{"tags":[],"owner":{"account_id":2694517,"reputation":6631,"user_id":2326961,"accept_rate":70,"display_name":"G&#233;ry Ogam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573726901,"creation_date":1573726901,"answer_id":58854425,"question_id":13029261,"body_markdown":"Nobody has quoted the original book [*Design Patterns: Elements of Reusable Object-Oriented Software*](https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8), which gives the answer in the first two paragraphs of the section “Discussion of Creational Patterns” (emphasis mine):\n\n&gt; There are two common ways to parameterize a system by the classes of objects it creates. One way is to **subclass** the class that creates the objects; this corresponds to using the Factory Method (107) pattern. The main drawback of this approach is that it can require a new subclass just to change the class of the product. Such changes can cascade. For example, when the product creator is itself created by a factory method, then you have to override its creator as well.\n&gt;\n&gt; The other way to parameterize a system relies more on object **composition**: Define an object that’s responsible for knowing the class of the product objects, and make it a parameter of the system. This is a key aspect of the Abstract Factory (87), Builder (97), and Prototype (117) patterns. All three involve creating a new “factory object” whose responsibility is to create product objects. Abstract Factory has the factory object producing objects of several classes. Builder has the factory object building a complex product incrementally using a correspondingly complex protocol. Prototype has the factory object building a product by copying a prototype object. In this case, the factory object and the prototype are the same object, because the prototype is responsible for returning the product.","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>Nobody has quoted the original book <a href=\"https://rads.stackoverflow.com/amzn/click/com/B000SEIBB8\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\"><em>Design Patterns: Elements of Reusable Object-Oriented Software</em></a>, which gives the answer in the first two paragraphs of the section “Discussion of Creational Patterns” (emphasis mine):</p>\n<blockquote>\n<p>There are two common ways to parameterize a system by the classes of objects it creates. One way is to <strong>subclass</strong> the class that creates the objects; this corresponds to using the Factory Method (107) pattern. The main drawback of this approach is that it can require a new subclass just to change the class of the product. Such changes can cascade. For example, when the product creator is itself created by a factory method, then you have to override its creator as well.</p>\n<p>The other way to parameterize a system relies more on object <strong>composition</strong>: Define an object that’s responsible for knowing the class of the product objects, and make it a parameter of the system. This is a key aspect of the Abstract Factory (87), Builder (97), and Prototype (117) patterns. All three involve creating a new “factory object” whose responsibility is to create product objects. Abstract Factory has the factory object producing objects of several classes. Builder has the factory object building a complex product incrementally using a correspondingly complex protocol. Prototype has the factory object building a product by copying a prototype object. In this case, the factory object and the prototype are the same object, because the prototype is responsible for returning the product.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2270489,"reputation":8422,"user_id":1998051,"display_name":"Hamed Naeemaei"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1608156867,"creation_date":1608156867,"answer_id":65331902,"question_id":13029261,"body_markdown":"Based this images from [Design Patterns in C#, 2nd Edition by Vaskaran Sarcar][1] book:\r\n\r\n&gt;  **1. Simple Factory Pattern**\r\n\r\nCreates objects without exposing the instantiation logic to the client.\r\n\r\n    SimpleFactory simpleFactory = new SimpleFactory();\r\n    IAnimal dog = simpleFactory.CreateDog(); // Create dog\r\n    IAnimal tiger = simpleFactory.CreateTiger(); // Create tiger\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n \r\n\r\n&gt; **2. Factory Method Pattern**\r\n\r\nDefines an interface for creating objects, but let subclasses to decide which class to instantiate.\r\n\r\n    AnimalFactory dogFactory = new DogFactory(); \r\n    IAnimal dog = dogFactory.CreateAnimal(); // Create dog\r\n\r\n    AnimalFactory tigerFactory = new TigerFactory();\r\n    IAnimal tiger = tigerFactory.CreateAnimal(); // Create tiger\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n&gt; **3. Abstract Factory pattern** (factory of factories)\r\n\r\nAbstract Factory offers the interface for creating a family of related objects, without explicitly specifying their classes\r\n\r\n\r\n    IAnimalFactory petAnimalFactory = FactoryProvider.GetAnimalFactory(&quot;pet&quot;);\r\n    IDog dog = petAnimalFactory.GetDog(); // Create pet dog\r\n    ITiger tiger = petAnimalFactory.GetTiger();  // Create pet tiger\r\n\r\n    IAnimalFactory wildAnimalFactory = FactoryProvider.GetAnimalFactory(&quot;wild&quot;);\r\n    IDog dog = wildAnimalFactory .GetDog(); // Create wild dog\r\n    ITiger tiger = wildAnimalFactory .GetTiger();  // Create wild tiger\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.apress.com/gp/book/9781484236406\r\n  [2]: https://i.stack.imgur.com/wtWBJ.png\r\n  [3]: https://i.stack.imgur.com/DC3aW.png\r\n  [4]: https://i.stack.imgur.com/yY7wB.png","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>Based this images from <a href=\"https://www.apress.com/gp/book/9781484236406\" rel=\"noreferrer\">Design Patterns in C#, 2nd Edition by Vaskaran Sarcar</a> book:</p>\n<blockquote>\n<p><strong>1. Simple Factory Pattern</strong></p>\n</blockquote>\n<p>Creates objects without exposing the instantiation logic to the client.</p>\n<pre><code>SimpleFactory simpleFactory = new SimpleFactory();\nIAnimal dog = simpleFactory.CreateDog(); // Create dog\nIAnimal tiger = simpleFactory.CreateTiger(); // Create tiger\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wtWBJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wtWBJ.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p><strong>2. Factory Method Pattern</strong></p>\n</blockquote>\n<p>Defines an interface for creating objects, but let subclasses to decide which class to instantiate.</p>\n<pre><code>AnimalFactory dogFactory = new DogFactory(); \nIAnimal dog = dogFactory.CreateAnimal(); // Create dog\n\nAnimalFactory tigerFactory = new TigerFactory();\nIAnimal tiger = tigerFactory.CreateAnimal(); // Create tiger\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DC3aW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DC3aW.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p><strong>3. Abstract Factory pattern</strong> (factory of factories)</p>\n</blockquote>\n<p>Abstract Factory offers the interface for creating a family of related objects, without explicitly specifying their classes</p>\n<pre><code>IAnimalFactory petAnimalFactory = FactoryProvider.GetAnimalFactory(&quot;pet&quot;);\nIDog dog = petAnimalFactory.GetDog(); // Create pet dog\nITiger tiger = petAnimalFactory.GetTiger();  // Create pet tiger\n\nIAnimalFactory wildAnimalFactory = FactoryProvider.GetAnimalFactory(&quot;wild&quot;);\nIDog dog = wildAnimalFactory .GetDog(); // Create wild dog\nITiger tiger = wildAnimalFactory .GetTiger();  // Create wild tiger\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yY7wB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yY7wB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670188641,"creation_date":1670188641,"answer_id":74681001,"question_id":13029261,"body_markdown":"None of the answers really explain the Abstract Factory particularly well - probably because the concept is abstract and this is less frequently used in practice.\r\n\r\nAn easy to understand example arrises from considering the following situation.\r\n\r\nYou have a system, which interfaces with another system. I will use the example given in Design Patterns Explained by Shalloway and Trott, P194, because this situation is so rare I can&#39;t think of a better one. In their book, they give the example of having different combinations of local hardware resources. They use, as examples:\r\n\r\n- System with high resoltion display and print driver\r\n- System with low resolution display and print driver\r\n\r\nThere are 2 options for one variable thing (print driver, display driver), and 2 options for the other variable thing (high resolution, low resolution). We want to couple these together in such a way that we have a `HighResolutionFactory` and a `LowResolutionFactory` which produce for us both a print driver and display driver of the correct type.\r\n\r\nThis then is the Abstract Factory pattern:\r\n\r\n```\r\nclass ResourceFactory\r\n{\r\n    virtual AbstractPrintDriver getPrintDriver() = 0;\r\n\r\n    virtual AbstractDisplayDriver getDisplayDriver() = 0;\r\n};\r\n\r\nclass LowResFactory : public ResourceFactory\r\n{\r\n    AbstractPrintDriver getPrintDriver() override\r\n    {\r\n        return LowResPrintDriver;\r\n    }\r\n\r\n    AbstractDisplayDriver getDisplayDriver() override\r\n    {\r\n        return LowResDisplayDriver;\r\n    }\r\n};\r\n\r\nclass HighResFactory : public ResourceFactory\r\n{\r\n    AbstractPrintDriver getPrintDriver() override\r\n    {\r\n        return HighResPrintDriver;\r\n    }\r\n\r\n    AbstractDisplayDriver getDisplayDriver() override\r\n    {\r\n        return HighResDisplayDriver;\r\n    }\r\n};\r\n\r\n```\r\n\r\nI won&#39;t detail both the print driver and display driver hierachies, just one will suffice to demonstrate.\r\n\r\n```\r\nclass AbstractDisplayDriver\r\n{\r\n    virtual void draw() = 0;\r\n};\r\n\r\nclass HighResDisplayDriver : public AbstractDisplayDriver\r\n{\r\n    void draw() override\r\n    {\r\n        // do hardware accelerated high res drawing\r\n    }\r\n};\r\n\r\nclass LowResDisplayDriver : public AbstractDisplayDriver\r\n{\r\n    void draw() override\r\n    {\r\n        // do software drawing, low resolution\r\n    }\r\n};\r\n```\r\n\r\nWhy it works:\r\n\r\nWe could have solved this problem with a bunch of `if` statements:\r\n\r\n```\r\nconst resource_type = LOW_RESOLUTION;\r\n\r\nif(resource_type == LOW_RESOLUTION)\r\n{\r\n    drawLowResolution();\r\n    printLowResolution();\r\n}\r\nelse if(resource_type == HIGH_RESOLUTION)\r\n{\r\n    drawHighResolution();\r\n    printHighResolution();\r\n}\r\n```\r\n\r\nInstead of this we now can do:\r\n\r\n```\r\n    auto factory = HighResFactory;\r\n    auto printDriver = factory.getPrintDriver();\r\n    printDriver.print();\r\n    auto displayDriver = factory.getDisplayDriver();\r\n    displayDriver.draw();\r\n```\r\n\r\nEssentially - We have abstracted away the runtime logic into the v-table for our classes.\r\n\r\nMy opinion on this pattern is that it isn&#39;t actually very useful. It couples together some things which need not be coupled together. The point of design patterns is usally to reduce coupling, not increase it, therefore in some ways this pattern is really an anti-pattern, but it might be useful in some contexts.\r\n\r\nIf you get to a stage where you are seriously considering implementing this, you might consider some alternative designs. Perhaps you could write a factory which returns factories, which themselves return the objects you eventually want. I imagine this would be more flexible, and would not have the same coupling issues.\r\n\r\nAddendum: The example from Gang of Four is similarly coupled. They have a `MotifFactory` and a `PMFactory`. These then produce `PMWindow`, `PMScrollBar` and `MotifWindow`, `MotifScrollBar` respectively. This is a somewhat dated text now and so it might be hard to understand the context. I recall reading this chapter and the I understood little from the example beyond having two implementations of a factory base class which return different families of objects.","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>None of the answers really explain the Abstract Factory particularly well - probably because the concept is abstract and this is less frequently used in practice.</p>\n<p>An easy to understand example arrises from considering the following situation.</p>\n<p>You have a system, which interfaces with another system. I will use the example given in Design Patterns Explained by Shalloway and Trott, P194, because this situation is so rare I can't think of a better one. In their book, they give the example of having different combinations of local hardware resources. They use, as examples:</p>\n<ul>\n<li>System with high resoltion display and print driver</li>\n<li>System with low resolution display and print driver</li>\n</ul>\n<p>There are 2 options for one variable thing (print driver, display driver), and 2 options for the other variable thing (high resolution, low resolution). We want to couple these together in such a way that we have a <code>HighResolutionFactory</code> and a <code>LowResolutionFactory</code> which produce for us both a print driver and display driver of the correct type.</p>\n<p>This then is the Abstract Factory pattern:</p>\n<pre><code>class ResourceFactory\n{\n    virtual AbstractPrintDriver getPrintDriver() = 0;\n\n    virtual AbstractDisplayDriver getDisplayDriver() = 0;\n};\n\nclass LowResFactory : public ResourceFactory\n{\n    AbstractPrintDriver getPrintDriver() override\n    {\n        return LowResPrintDriver;\n    }\n\n    AbstractDisplayDriver getDisplayDriver() override\n    {\n        return LowResDisplayDriver;\n    }\n};\n\nclass HighResFactory : public ResourceFactory\n{\n    AbstractPrintDriver getPrintDriver() override\n    {\n        return HighResPrintDriver;\n    }\n\n    AbstractDisplayDriver getDisplayDriver() override\n    {\n        return HighResDisplayDriver;\n    }\n};\n\n</code></pre>\n<p>I won't detail both the print driver and display driver hierachies, just one will suffice to demonstrate.</p>\n<pre><code>class AbstractDisplayDriver\n{\n    virtual void draw() = 0;\n};\n\nclass HighResDisplayDriver : public AbstractDisplayDriver\n{\n    void draw() override\n    {\n        // do hardware accelerated high res drawing\n    }\n};\n\nclass LowResDisplayDriver : public AbstractDisplayDriver\n{\n    void draw() override\n    {\n        // do software drawing, low resolution\n    }\n};\n</code></pre>\n<p>Why it works:</p>\n<p>We could have solved this problem with a bunch of <code>if</code> statements:</p>\n<pre><code>const resource_type = LOW_RESOLUTION;\n\nif(resource_type == LOW_RESOLUTION)\n{\n    drawLowResolution();\n    printLowResolution();\n}\nelse if(resource_type == HIGH_RESOLUTION)\n{\n    drawHighResolution();\n    printHighResolution();\n}\n</code></pre>\n<p>Instead of this we now can do:</p>\n<pre><code>    auto factory = HighResFactory;\n    auto printDriver = factory.getPrintDriver();\n    printDriver.print();\n    auto displayDriver = factory.getDisplayDriver();\n    displayDriver.draw();\n</code></pre>\n<p>Essentially - We have abstracted away the runtime logic into the v-table for our classes.</p>\n<p>My opinion on this pattern is that it isn't actually very useful. It couples together some things which need not be coupled together. The point of design patterns is usally to reduce coupling, not increase it, therefore in some ways this pattern is really an anti-pattern, but it might be useful in some contexts.</p>\n<p>If you get to a stage where you are seriously considering implementing this, you might consider some alternative designs. Perhaps you could write a factory which returns factories, which themselves return the objects you eventually want. I imagine this would be more flexible, and would not have the same coupling issues.</p>\n<p>Addendum: The example from Gang of Four is similarly coupled. They have a <code>MotifFactory</code> and a <code>PMFactory</code>. These then produce <code>PMWindow</code>, <code>PMScrollBar</code> and <code>MotifWindow</code>, <code>MotifScrollBar</code> respectively. This is a somewhat dated text now and so it might be hard to understand the context. I recall reading this chapter and the I understood little from the example beyond having two implementations of a factory base class which return different families of objects.</p>\n"}],"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127587,"favorite_count":0,"down_vote_count":4,"up_vote_count":260,"answer_count":9,"score":256,"last_activity_date":1683139152,"creation_date":1350990996,"question_id":13029261,"body_markdown":"I was reading design patterns from a website \n\nThere I read about Factory, Factory method and Abstract factory but they are so confusing, am not clear on the definition. According to definitions \n\n&gt; Factory - Creates objects without exposing the instantiation logic to the client and Refers to the newly created object through a common interface. *Is a simplified version of Factory Method*\n&gt;\n&gt; Factory Method - Defines an interface for creating objects, but let subclasses to decide which class to instantiate and Refers to the newly created object through a common interface.\n&gt;\n&gt; Abstract Factory - Offers the interface for creating a family of related objects, without explicitly specifying their classes.\n\n\nI also looked the other stackoverflow threads regarding Abstract Factory vs Factory Method but the UML diagrams drawn there make my understanding even worse.\n\nCan anyone please tell me \n\n1. How are these three patterns different from each other?\n2. When to use which? \n3. And also if possible, any java examples related to these patterns? ","title":"Design Patterns: Factory vs Factory method vs Abstract Factory","body":"<p>I was reading design patterns from a website</p>\n<p>There I read about Factory, Factory method and Abstract factory but they are so confusing, am not clear on the definition. According to definitions</p>\n<blockquote>\n<p>Factory - Creates objects without exposing the instantiation logic to the client and Refers to the newly created object through a common interface. <em>Is a simplified version of Factory Method</em></p>\n<p>Factory Method - Defines an interface for creating objects, but let subclasses to decide which class to instantiate and Refers to the newly created object through a common interface.</p>\n<p>Abstract Factory - Offers the interface for creating a family of related objects, without explicitly specifying their classes.</p>\n</blockquote>\n<p>I also looked the other stackoverflow threads regarding Abstract Factory vs Factory Method but the UML diagrams drawn there make my understanding even worse.</p>\n<p>Can anyone please tell me</p>\n<ol>\n<li>How are these three patterns different from each other?</li>\n<li>When to use which?</li>\n<li>And also if possible, any java examples related to these patterns?</li>\n</ol>\n"},{"tags":["java","reactjs","spring-boot","cors"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1683139523,"post_id":76167059,"comment_id":134322223,"body_markdown":"Check your bean is initialized or not. You may need to add you config class to package scan using `@ComponentScan`","body":"Check your bean is initialized or not. You may need to add you config class to package scan using <code>@ComponentScan</code>"},{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1683153427,"post_id":76167059,"comment_id":134324652,"body_markdown":"What is your actual origin and what headers is your server sending back?","body":"What is your actual origin and what headers is your server sending back?"}],"owner":{"account_id":5048259,"reputation":21,"user_id":4053567,"accept_rate":0,"display_name":"Adharsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683138985,"creation_date":1683138985,"question_id":76167059,"body_markdown":"The error I receive: \r\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8080/echo. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 403.\r\n\r\nI have configured the CorsConfig as below in my SpringBoot part \r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class CorsConfig {\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;http://localhost:3000&quot;)\r\n                        .allowedMethods(&quot;*&quot;)\r\n                        .allowedHeaders(&quot;*&quot;)\r\n                        .allowCredentials(true);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nBut it just doesn&#39;t work if I call the localhost:8080 of springboot from my React. \r\n\r\nHaving said that my method specific CORS config works just fine. The issue is only with Global CORS configuration. ","title":"Global CORS config issues between React and SpringBoot application","body":"<p>The error I receive:\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8080/echo. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 403.</p>\n<p>I have configured the CorsConfig as below in my SpringBoot part</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CorsConfig {\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;http://localhost:3000&quot;)\n                    .allowedMethods(&quot;*&quot;)\n                    .allowedHeaders(&quot;*&quot;)\n                    .allowCredentials(true);\n            }\n        };\n    }\n}\n</code></pre>\n<p>But it just doesn't work if I call the localhost:8080 of springboot from my React.</p>\n<p>Having said that my method specific CORS config works just fine. The issue is only with Global CORS configuration.</p>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1683138994,"post_id":76166717,"comment_id":134322145,"body_markdown":"Please share the response including headers from postman.","body":"Please share the response including headers from postman."}],"owner":{"account_id":28496401,"reputation":1,"user_id":21808239,"display_name":"harpal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683138946,"creation_date":1683136258,"question_id":76166717,"body_markdown":"When I am trying to hit a rest service I am getting data in case of success response but in case of any kind of exception I am getting only nullpointer exception where as per the contract service provider is sending proper error response as shown below(I verified through postman)\r\n\r\n`responseEntity = template.exchange(eslMedicationPullUrl, HttpMethod.POST, httpEntity, String.class);`\r\n\r\nError response in postman\r\n```\r\n{\r\n    &quot;httpCode&quot;: &quot;408&quot;,\r\n    &quot;httpMessage&quot;: &quot;TimeOut Error&quot;,\r\n    &quot;moreInformation&quot;: &quot;TIME OUT ERROR FROM EDB Service TransactionID:45564854010000001c000000a98967e2682b000000000000&quot;\r\n}\r\n```\r\n\r\nCan somebody please advise what should I change so that I can get proper error response in case provider sends that.\r\n\r\nEven I tried to pass a pojo having same attributes which are coming in error response to test and passed it but still got nullpointerexception\r\n\r\n```\r\nRestTemplate template = new RestTemplate();\r\ntemplate.setErrorHandler(new RestInvocationErrorHandler());\r\n\t      \r\nList&lt;ClientHttpRequestInterceptor&gt; interceptorList = new ArrayList&lt;ClientHttpRequestInterceptor&gt;();\r\ninterceptorList.add(new LoggingClientHttpRequestInterceptor());\r\ntemplate.setInterceptors(interceptorList);\r\n\r\nresponseEntity = template.exchange(eslMedicationPullUrl, HttpMethod.POST, httpEntity, ErrorResponse.class);\r\n```\r\n```\r\npublic class ErrorResponse {\r\n\t\r\n  @JsonProperty(&quot;httpCode&quot;)\r\n  private String httpCode = null;\r\n\t\t \r\n  @JsonProperty(&quot;httpMessage&quot;)\r\n  private String httpMessage = null;\r\n\t\t \r\n  @JsonProperty(&quot;moreInformation&quot;)\r\n  private String moreInformation = null;\r\n\r\n}\r\n```","title":"exchange method in resttemplate throwing NullpointerException in case of error where postman is showing error details","body":"<p>When I am trying to hit a rest service I am getting data in case of success response but in case of any kind of exception I am getting only nullpointer exception where as per the contract service provider is sending proper error response as shown below(I verified through postman)</p>\n<p><code>responseEntity = template.exchange(eslMedicationPullUrl, HttpMethod.POST, httpEntity, String.class);</code></p>\n<p>Error response in postman</p>\n<pre><code>{\n    &quot;httpCode&quot;: &quot;408&quot;,\n    &quot;httpMessage&quot;: &quot;TimeOut Error&quot;,\n    &quot;moreInformation&quot;: &quot;TIME OUT ERROR FROM EDB Service TransactionID:45564854010000001c000000a98967e2682b000000000000&quot;\n}\n</code></pre>\n<p>Can somebody please advise what should I change so that I can get proper error response in case provider sends that.</p>\n<p>Even I tried to pass a pojo having same attributes which are coming in error response to test and passed it but still got nullpointerexception</p>\n<pre><code>RestTemplate template = new RestTemplate();\ntemplate.setErrorHandler(new RestInvocationErrorHandler());\n          \nList&lt;ClientHttpRequestInterceptor&gt; interceptorList = new ArrayList&lt;ClientHttpRequestInterceptor&gt;();\ninterceptorList.add(new LoggingClientHttpRequestInterceptor());\ntemplate.setInterceptors(interceptorList);\n\nresponseEntity = template.exchange(eslMedicationPullUrl, HttpMethod.POST, httpEntity, ErrorResponse.class);\n</code></pre>\n<pre><code>public class ErrorResponse {\n    \n  @JsonProperty(&quot;httpCode&quot;)\n  private String httpCode = null;\n         \n  @JsonProperty(&quot;httpMessage&quot;)\n  private String httpMessage = null;\n         \n  @JsonProperty(&quot;moreInformation&quot;)\n  private String moreInformation = null;\n\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1683189097,"post_id":76166765,"comment_id":134329143,"body_markdown":"If you want to allow CORS, it makes no sense to disable it with `.cors(cors-&gt;cors.disable())`. you have to enable it.","body":"If you want to allow CORS, it makes no sense to disable it with <code>.cors(cors-&gt;cors.disable())</code>. you have to enable it."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683138131,"creation_date":1683138131,"answer_id":76166947,"question_id":76166765,"body_markdown":"As you are doing Cross Domain request. CORS will not allow until you configure it. By disabling it won&#39;t solve the problem.\r\n\r\nYou can configure globally using following configuration.\r\n```Java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000&quot;) // your reactjs URL\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                .allowedHeaders(&quot;Content-Type&quot;) // Adjust headers you need to allow\r\n                .allowCredentials(true); // Add only if you want to access cookie\r\n    }\r\n\r\n}\r\n```\r\nAlso check in Browser developer console. The request response headers. Does it contains `Access-Control-*` headers? use `http.cors()` first in your security configuration.","title":"Access to XMLHttpRequest has been blocked by CORS policy. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. React","body":"<p>As you are doing Cross Domain request. CORS will not allow until you configure it. By disabling it won't solve the problem.</p>\n<p>You can configure globally using following configuration.</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:3000&quot;) // your reactjs URL\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;Content-Type&quot;) // Adjust headers you need to allow\n                .allowCredentials(true); // Add only if you want to access cookie\n    }\n\n}\n</code></pre>\n<p>Also check in Browser developer console. The request response headers. Does it contains <code>Access-Control-*</code> headers? use <code>http.cors()</code> first in your security configuration.</p>\n"}],"owner":{"account_id":10242293,"reputation":51,"user_id":7559320,"display_name":"ChJ16"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683218354,"accepted_answer_id":76166947,"answer_count":1,"score":0,"last_activity_date":1683138131,"creation_date":1683136594,"question_id":76166765,"body_markdown":"I made an API using spring boot. I also implemented Spring Security. I have a login controller:\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @RequestMapping(&quot;/login&quot;)\r\n    public class LoginController {\r\n    private final UserService userService;\r\n    public LoginController(UserService userService){\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public ResponseEntity login(@RequestBody AuthDTO auth){\r\n    \r\n        return ResponseEntity.status(HttpStatus.OK).body(userService.findByNameAndPassword(auth));\r\n     }\r\n    }\r\nIn my SecurityConfig file, I implemented securityFilterChain() as shown below:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .cors(cors-&gt;cors.disable())\r\n                .authorizeRequests()\r\n                .requestMatchers(&quot;/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(jwtAthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\nAlthough I disable CORS, I still have problems when I make requests from my login page, created in React using JavaScrpit. I use this object, axios, to make the requests:\r\n\r\n    axiosInstance.post(&quot;/login&quot;, credentials)\r\n          .then( \r\n              res =&gt; {\r\n                  const val = res.data;\r\n                  console.log(&quot;Success&quot;);\r\n                  console.log(val);\r\n                  if (val.id !== 0 ) {\r\n                      alert(&quot;Logged in!&quot;);\r\n                      &lt;Route exact path=&quot;/login&quot; element={&lt;User/&gt;}/&gt;\r\n                  }\r\n                  else\r\n                  {\r\n                      alert(&quot;Eroare!&quot;);\r\n                  }\r\n              }\r\n          )\r\n          .catch(error =&gt; {\r\n              console.log(error)\r\n          })\r\nWhen I request to login, I get the error mentioned in the title. I tried to put in the header of axios the bearer key. In postman, using the bearer key, I can communicate without a problem with the API. But from my React login page, I cannot make any request, even when I try to send the bearer key. I tried changing @CrossOrigin annotation, specifying Access-Control-Allow-Origin, but with no effect.This is my axios class:\r\n\r\n    import axios from &quot;axios&quot;\r\n    const axiosInstance = axios.create({\r\n        baseURL: &quot;http://localhost:8080/&quot;,\r\n        headers: {\r\n            post: {\r\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n                &quot;Access-Control-Allow-Headers&quot;:\r\n                    &quot;Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;\r\n            }\r\n        }\r\n    });\r\n    \r\n    export default axiosInstance;","title":"Access to XMLHttpRequest has been blocked by CORS policy. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. React","body":"<p>I made an API using spring boot. I also implemented Spring Security. I have a login controller:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\n@RequestMapping(&quot;/login&quot;)\npublic class LoginController {\nprivate final UserService userService;\npublic LoginController(UserService userService){\n    this.userService = userService;\n}\n\n@PostMapping(&quot;&quot;)\npublic ResponseEntity login(@RequestBody AuthDTO auth){\n\n    return ResponseEntity.status(HttpStatus.OK).body(userService.findByNameAndPassword(auth));\n }\n}\n</code></pre>\n<p>In my SecurityConfig file, I implemented securityFilterChain() as shown below:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .csrf().disable()\n            .cors(cors-&gt;cors.disable())\n            .authorizeRequests()\n            .requestMatchers(&quot;/auth/**&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authenticationProvider(authenticationProvider())\n            .addFilterBefore(jwtAthFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<p>Although I disable CORS, I still have problems when I make requests from my login page, created in React using JavaScrpit. I use this object, axios, to make the requests:</p>\n<pre><code>axiosInstance.post(&quot;/login&quot;, credentials)\n      .then( \n          res =&gt; {\n              const val = res.data;\n              console.log(&quot;Success&quot;);\n              console.log(val);\n              if (val.id !== 0 ) {\n                  alert(&quot;Logged in!&quot;);\n                  &lt;Route exact path=&quot;/login&quot; element={&lt;User/&gt;}/&gt;\n              }\n              else\n              {\n                  alert(&quot;Eroare!&quot;);\n              }\n          }\n      )\n      .catch(error =&gt; {\n          console.log(error)\n      })\n</code></pre>\n<p>When I request to login, I get the error mentioned in the title. I tried to put in the header of axios the bearer key. In postman, using the bearer key, I can communicate without a problem with the API. But from my React login page, I cannot make any request, even when I try to send the bearer key. I tried changing @CrossOrigin annotation, specifying Access-Control-Allow-Origin, but with no effect.This is my axios class:</p>\n<pre><code>import axios from &quot;axios&quot;\nconst axiosInstance = axios.create({\n    baseURL: &quot;http://localhost:8080/&quot;,\n    headers: {\n        post: {\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\n            &quot;Access-Control-Allow-Headers&quot;:\n                &quot;Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;\n        }\n    }\n});\n\nexport default axiosInstance;\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683122707,"creation_date":1683122707,"answer_id":76164801,"question_id":76156027,"body_markdown":"You&#39;re ignoring the first set of records on the first poll. If there&#39;s no data afterwards, then no, the while loop poll shouldn&#39;t get any records. \r\n\r\nSo, you&#39;ll want to capture the first offset, then seek the consumer back, or call your process code before the while loop. Or use a do-while loop instead.\r\n\r\nRegarding &quot;ready&quot; - if you&#39;re not getting a network or WakeupException, then it&#39;s &quot;ready&quot; ","title":"What is the correct way to determine a kafka consumer is ready using assign()?","body":"<p>You're ignoring the first set of records on the first poll. If there's no data afterwards, then no, the while loop poll shouldn't get any records.</p>\n<p>So, you'll want to capture the first offset, then seek the consumer back, or call your process code before the while loop. Or use a do-while loop instead.</p>\n<p>Regarding &quot;ready&quot; - if you're not getting a network or WakeupException, then it's &quot;ready&quot;</p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683137866,"creation_date":1683038382,"question_id":76156027,"body_markdown":"I have read this [question][1] and also [this][2]. But I am not able to find any discussion on how to determine a consumer is ready while starting a consumer using `assign()`\r\n\r\nNow my code looks something like below\r\n\r\n\r\n    List&lt;TopicPartition&gt; topicPartitions = List.of(new TopicPartition(&quot;topic&quot;, 1));\r\n    // auto.offset.reset = latest\r\n    consumer.assign(partitions);\r\n    // first poll to initiate connection as mentioned in https://stackoverflow.com/a/54336476/785523\r\n    consumer.poll(Duration.ofSeconds(1)); \r\n    boolean keepOnReading = true;\r\n    while(keepOnReading){\r\n        final var records = consumer.poll(Duration.ofSeconds(1));\r\n        // process records and stop polling by setting keepOnReading to false\r\n    }\r\n\r\nBut I am observing that if I make the first poll to 100ms  (`consumer.poll(Duration.ofMillis(100))` ) then `consumer.poll()` on the while loop does not get any records in spite of record being published continuously. Can someone let me know what is the reliable way to determine if a consumer is ready using `assign()`. \r\n\r\nAlso in case of `assign` what is the correct way to do a seek after starting a consumer?\r\n\r\n- Kafka Client Version - 3.4.0\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/63530978/785523\r\n  [2]: https://stackoverflow.com/q/48071988/785523","title":"What is the correct way to determine a kafka consumer is ready using assign()?","body":"<p>I have read this <a href=\"https://stackoverflow.com/q/63530978/785523\">question</a> and also <a href=\"https://stackoverflow.com/q/48071988/785523\">this</a>. But I am not able to find any discussion on how to determine a consumer is ready while starting a consumer using <code>assign()</code></p>\n<p>Now my code looks something like below</p>\n<pre><code>List&lt;TopicPartition&gt; topicPartitions = List.of(new TopicPartition(&quot;topic&quot;, 1));\n// auto.offset.reset = latest\nconsumer.assign(partitions);\n// first poll to initiate connection as mentioned in https://stackoverflow.com/a/54336476/785523\nconsumer.poll(Duration.ofSeconds(1)); \nboolean keepOnReading = true;\nwhile(keepOnReading){\n    final var records = consumer.poll(Duration.ofSeconds(1));\n    // process records and stop polling by setting keepOnReading to false\n}\n</code></pre>\n<p>But I am observing that if I make the first poll to 100ms  (<code>consumer.poll(Duration.ofMillis(100))</code> ) then <code>consumer.poll()</code> on the while loop does not get any records in spite of record being published continuously. Can someone let me know what is the reliable way to determine if a consumer is ready using <code>assign()</code>.</p>\n<p>Also in case of <code>assign</code> what is the correct way to do a seek after starting a consumer?</p>\n<ul>\n<li>Kafka Client Version - 3.4.0</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1683133573,"post_id":76166384,"comment_id":134321061,"body_markdown":"The command &quot;load&quot; would not be part of the commands you load and execute, right?","body":"The command &quot;load&quot; would not be part of the commands you load and execute, right?"},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":3,"creation_date":1683133860,"post_id":76166384,"comment_id":134321117,"body_markdown":"When you type &#39;load&#39;seems it&#39;s recursively calling executeCommandsFromFile() -&gt; processCommand() -&gt; executeCommandsFromFile() continuously","body":"When you type &#39;load&#39;seems it&#39;s recursively calling executeCommandsFromFile() -&gt; processCommand() -&gt; executeCommandsFromFile() continuously"},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1683133930,"post_id":76166384,"comment_id":134321128,"body_markdown":"Also please include the content of your commands.txt as well","body":"Also please include the content of your commands.txt as well"},{"owner":{"account_id":26493213,"reputation":1,"user_id":20131358,"display_name":"Panayiotis Pyrgotis"},"score":0,"creation_date":1683134646,"post_id":76166384,"comment_id":134321286,"body_markdown":"The commands.txt get updated everytime I type a new command or reset it","body":"The commands.txt get updated everytime I type a new command or reset it"}],"owner":{"account_id":26493213,"reputation":1,"user_id":20131358,"display_name":"Panayiotis Pyrgotis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683137800,"creation_date":1683133178,"question_id":76166384,"body_markdown":"```\r\nprivate void executeCommandsFromFile(String filename) {\r\n    \t\ttry {\r\n    \t        BufferedReader reader = new BufferedReader(new FileReader(filename));\r\n    \t        String line = reader.readLine();\r\n    \t        while (line != null) {\r\n    \t            processCommand(line);\r\n    \t            line = reader.readLine();\r\n    \t        }\r\n    \t        System.out.println(&quot;Commands executed from file: &quot; + filename);\r\n    \t    } catch (FileNotFoundException e) {\r\n    \t        System.out.println(&quot;File not found: &quot; + filename);\r\n    \t    } catch (IOException e) {\r\n    \t        System.out.println(&quot;Error reading file: &quot; + filename);\r\n    \t    }\r\n    \t}\r\n\r\npublic void processCommand(String command)              \r\n        {\r\n        \t\r\n        \tif (command.equals(&quot;save&quot;)) {\r\n                saveCommandsToFile(&quot;commands.txt&quot;);\r\n            }\r\n        \telse if (command.equals(&quot;load&quot;)) {\r\n        \t\texecuteCommandsFromFile(&quot;commands.txt&quot;);\r\n        \t}\r\n\r\n        \r\n```\r\n \r\n\r\nhey guys I am doing my java turtle project\r\nI&#39;m trying to load my saved commands when the user types load in commands typed in my turtle programme however when I input load it runs and infinite loop of the saved commands over and over again what should I do to fix this problem in my executecommandsfile() method?","title":"Java turtle project","body":"<pre><code>private void executeCommandsFromFile(String filename) {\n            try {\n                BufferedReader reader = new BufferedReader(new FileReader(filename));\n                String line = reader.readLine();\n                while (line != null) {\n                    processCommand(line);\n                    line = reader.readLine();\n                }\n                System.out.println(&quot;Commands executed from file: &quot; + filename);\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + filename);\n            } catch (IOException e) {\n                System.out.println(&quot;Error reading file: &quot; + filename);\n            }\n        }\n\npublic void processCommand(String command)              \n        {\n            \n            if (command.equals(&quot;save&quot;)) {\n                saveCommandsToFile(&quot;commands.txt&quot;);\n            }\n            else if (command.equals(&quot;load&quot;)) {\n                executeCommandsFromFile(&quot;commands.txt&quot;);\n            }\n\n        \n</code></pre>\n<p>hey guys I am doing my java turtle project\nI'm trying to load my saved commands when the user types load in commands typed in my turtle programme however when I input load it runs and infinite loop of the saved commands over and over again what should I do to fix this problem in my executecommandsfile() method?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1128777,"reputation":24439,"user_id":1115360,"display_name":"Andrew Morton"},"score":0,"creation_date":1683047831,"post_id":76157250,"comment_id":134305670,"body_markdown":"Which line does the error happen on? What is the value of the array index when it goes wrong? Why did it have that value?","body":"Which line does the error happen on? What is the value of the array index when it goes wrong? Why did it have that value?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1683047892,"post_id":76157250,"comment_id":134305680,"body_markdown":"`AVER(arr, average, count_negative_elements, N, x);` &lt;-- What is trhe value of `x` here?","body":"<code>AVER(arr, average, count_negative_elements, N, x);</code> &lt;-- What is trhe value of <code>x</code> here?"},{"owner":{"account_id":34404,"reputation":81844,"user_id":97248,"accept_rate":91,"display_name":"pts"},"score":0,"creation_date":1683059521,"post_id":76157250,"comment_id":134307945,"body_markdown":"To make it easier for others to reas your code, use proper indentation, and remove most of the empty lines.","body":"To make it easier for others to reas your code, use proper indentation, and remove most of the empty lines."}],"answers":[{"tags":[],"owner":{"account_id":28468822,"reputation":36,"user_id":21784469,"display_name":"Ginger Smith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683048401,"creation_date":1683048401,"answer_id":76157407,"question_id":76157250,"body_markdown":"    for (x = 0; x &lt; N; x++) {\r\n    \r\n          arr[x] = input.nextInt();\r\n    \r\n       } \r\nAfter this code x has value of N. so the Exception raises.\r\n","title":"Am getting index out of bounds exception in my code","body":"<pre><code>for (x = 0; x &lt; N; x++) {\n\n      arr[x] = input.nextInt();\n\n   } \n</code></pre>\n<p>After this code x has value of N. so the Exception raises.</p>\n"},{"tags":[],"owner":{"account_id":5617137,"reputation":538,"user_id":6505930,"display_name":"justnisar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683054373,"creation_date":1683054373,"answer_id":76158096,"question_id":76157250,"body_markdown":"The ArrayIndexOutOfBounds exception seems to be on this line\r\n\r\n    sum += arr[x] ;\r\n\r\nIf N is 5, x can only go from 0 to 4. Seems like you are trying to access arr[5] which is out of bound.","title":"Am getting index out of bounds exception in my code","body":"<p>The ArrayIndexOutOfBounds exception seems to be on this line</p>\n<pre><code>sum += arr[x] ;\n</code></pre>\n<p>If N is 5, x can only go from 0 to 4. Seems like you are trying to access arr[5] which is out of bound.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683137650,"creation_date":1683059326,"answer_id":76158622,"question_id":76157250,"body_markdown":"You declare x, let it be incremented until it is equal to the length of the array, then pass it into a function where you use it to index the array again, but now the number inside it is greater than any valid index of the array. So it blows up with an IndexOutOfBoundsException.\r\n\r\nSo the immediate problem is you didn&#39;t have a reasonable value in this variable when you used it to index the array. But the big picture is: it&#39;s time to learn about controlling complexity because you are well on the way to creating things that are too hard for you to reason about.\r\n\r\nYour best tools for controlling complexity are 1) limiting the scope of your variables and 2) writing cohesive methods, that means  methods that do only one well-defined thing.\r\n\r\nYour variable x has no good reason to be defined outside of the for loop, you can change it to look like this so that it is defined only inside of the loop:\r\n\r\n    for (int x = 0; x &lt; N; x++) {\r\n        arr[x] = input.nextInt();\r\n    } \r\n\r\nThis way x has one and only one job, when x has done its job you don&#39;t have to worry about it anymore, you are rid of it. \r\n\r\nThere is no reason to pass x in to the AVER method that I can see. You can use arr.length to find the number of elements in arr. If you do need another variable in the AVER method, make one that is local to AVER. You&#39;re not saving anything by passing x around, you&#39;re just causing yourself trouble.\r\n\r\nChange AVER to do the following:\r\n\r\n1) pass in as parameters only the array you want the average of, and nothing else, \r\n\r\n2) return the result of averaging the values of the array, instead of returning void (this makes it clear what are the inputs and what is the output), and\r\n\r\n3) remove all the stuff that has nothing to do with calculating an average and put it elsewhere, like in a separate static method that counts negative numbers (and does nothing else).\r\n","title":"Am getting index out of bounds exception in my code","body":"<p>You declare x, let it be incremented until it is equal to the length of the array, then pass it into a function where you use it to index the array again, but now the number inside it is greater than any valid index of the array. So it blows up with an IndexOutOfBoundsException.</p>\n<p>So the immediate problem is you didn't have a reasonable value in this variable when you used it to index the array. But the big picture is: it's time to learn about controlling complexity because you are well on the way to creating things that are too hard for you to reason about.</p>\n<p>Your best tools for controlling complexity are 1) limiting the scope of your variables and 2) writing cohesive methods, that means  methods that do only one well-defined thing.</p>\n<p>Your variable x has no good reason to be defined outside of the for loop, you can change it to look like this so that it is defined only inside of the loop:</p>\n<pre><code>for (int x = 0; x &lt; N; x++) {\n    arr[x] = input.nextInt();\n} \n</code></pre>\n<p>This way x has one and only one job, when x has done its job you don't have to worry about it anymore, you are rid of it.</p>\n<p>There is no reason to pass x in to the AVER method that I can see. You can use arr.length to find the number of elements in arr. If you do need another variable in the AVER method, make one that is local to AVER. You're not saving anything by passing x around, you're just causing yourself trouble.</p>\n<p>Change AVER to do the following:</p>\n<ol>\n<li><p>pass in as parameters only the array you want the average of, and nothing else,</p>\n</li>\n<li><p>return the result of averaging the values of the array, instead of returning void (this makes it clear what are the inputs and what is the output), and</p>\n</li>\n<li><p>remove all the stuff that has nothing to do with calculating an average and put it elsewhere, like in a separate static method that counts negative numbers (and does nothing else).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28485041,"reputation":11,"user_id":21798442,"display_name":"Chinemerem Agu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683109239,"answer_count":3,"score":1,"last_activity_date":1683137650,"creation_date":1683047098,"question_id":76157250,"body_markdown":" \r\n```\r\npackage myMethods;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class CalculationsOnArrays {\r\n\r\n  public static void main(String args[]) {\r\n\r\n  Scanner input = new Scanner(System.in); \r\n\r\n  int x ;\r\n\r\n  System.out.println(&quot;How many numbers are in the array&quot;);\r\n\r\n  int N = input.nextInt();\r\n\r\n  int[] arr = new int [N] ;\r\n\r\n\r\n  System.out.println(&quot;Enter the numbers&quot;) ; \r\n\r\n    for (x = 0; x &lt; N; x++) {\r\n\r\n      arr[x] = input.nextInt();\r\n\r\n   } \r\n\r\n    double average = 0 ;\r\n\r\n    int count_negative_elements = 0;\r\n\r\n    // calling method\r\n\r\n    AVER(arr, average, count_negative_elements, N, x);\r\n\r\n    input.close();\r\n\r\n  }\r\n\r\n  static void AVER(int[] arr, double average, int count_negative_numbers, int N, int x) // passing parameters to the method\r\n\r\n      {\r\n\r\n   int sum = 0, count = 0, negative_numbers = 0 ;\r\n\r\n   sum += arr[x] ;\r\n\r\n   average = sum / N;\r\n\r\nSystem.out.println(&quot;The average of the numbers is &quot; + average);\r\n\r\n  if (arr[x] &lt; 0) {\r\n\r\n      count++ ; \r\n\r\n   negative_numbers = arr[x] ;\r\n\r\nSystem.out.println(&quot;The negative numbers in the array are &quot; + count);\r\n\r\nSystem.out.println(&quot;They are &quot; + negative_numbers) ;\r\n\r\n    }\r\n\r\n  }\r\n \r\n\r\n}\r\n```\r\n\r\nI wanted to do some calculations on the 1D array.","title":"Am getting index out of bounds exception in my code","body":"<pre><code>package myMethods;\n\nimport java.util.Scanner;\n\npublic class CalculationsOnArrays {\n\n  public static void main(String args[]) {\n\n  Scanner input = new Scanner(System.in); \n\n  int x ;\n\n  System.out.println(&quot;How many numbers are in the array&quot;);\n\n  int N = input.nextInt();\n\n  int[] arr = new int [N] ;\n\n\n  System.out.println(&quot;Enter the numbers&quot;) ; \n\n    for (x = 0; x &lt; N; x++) {\n\n      arr[x] = input.nextInt();\n\n   } \n\n    double average = 0 ;\n\n    int count_negative_elements = 0;\n\n    // calling method\n\n    AVER(arr, average, count_negative_elements, N, x);\n\n    input.close();\n\n  }\n\n  static void AVER(int[] arr, double average, int count_negative_numbers, int N, int x) // passing parameters to the method\n\n      {\n\n   int sum = 0, count = 0, negative_numbers = 0 ;\n\n   sum += arr[x] ;\n\n   average = sum / N;\n\nSystem.out.println(&quot;The average of the numbers is &quot; + average);\n\n  if (arr[x] &lt; 0) {\n\n      count++ ; \n\n   negative_numbers = arr[x] ;\n\nSystem.out.println(&quot;The negative numbers in the array are &quot; + count);\n\nSystem.out.println(&quot;They are &quot; + negative_numbers) ;\n\n    }\n\n  }\n \n\n}\n</code></pre>\n<p>I wanted to do some calculations on the 1D array.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":5801500,"reputation":701,"user_id":4679030,"accept_rate":86,"display_name":"Abhishek"},"score":0,"creation_date":1526276115,"post_id":50323361,"comment_id":87662932,"body_markdown":"Can you post your project structure and main class?","body":"Can you post your project structure and main class?"}],"answers":[{"tags":[],"owner":{"account_id":13412204,"reputation":335,"user_id":9678169,"display_name":"narayan-sambireddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526284580,"creation_date":1526284580,"answer_id":50325519,"question_id":50323361,"body_markdown":"It is caused because of the wrong path.\r\nFrom your description : The file is under **src/main/java/config/sampleJob.xml**\r\n  \r\n&gt; I have added this xml file in root package under config folder(src/main/java/config/simpleJob.xml) of my application. \r\n\r\nBut from the exception, it can be noted that your program is trying to load the configuration from **[resources/simpleJob.xml]**\r\n\r\n&gt; SEVERE: Job Terminated in error: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\r\n\r\nSo correcting this path in your main class where you are loading the xml configuration file would fix your issue.\r\n\r\n","title":"nested exception is java.io.FileNotFoundException: class path resource [config/simpleJob.xml] cannot be opened because it does not exist","body":"<p>It is caused because of the wrong path.\nFrom your description : The file is under <strong>src/main/java/config/sampleJob.xml</strong></p>\n\n<blockquote>\n  <p>I have added this xml file in root package under config folder(src/main/java/config/simpleJob.xml) of my application. </p>\n</blockquote>\n\n<p>But from the exception, it can be noted that your program is trying to load the configuration from <strong>[resources/simpleJob.xml]</strong></p>\n\n<blockquote>\n  <p>SEVERE: Job Terminated in error: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist</p>\n</blockquote>\n\n<p>So correcting this path in your main class where you are loading the xml configuration file would fix your issue.</p>\n"},{"tags":[],"owner":{"account_id":12730903,"reputation":135,"user_id":9247596,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602234911,"creation_date":1602232715,"answer_id":64276634,"question_id":50323361,"body_markdown":"This error normally occurs when you right click on `com.akshay.codewithme` (shown in image) and you create a `.xml` file (in my case `spring.xml`).\r\nWhat you can do is, right click on `src/main/java` and create a `.xml` file.\r\n\r\nThis is how I solved the issue. It worked for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uSxyQ.jpg","title":"nested exception is java.io.FileNotFoundException: class path resource [config/simpleJob.xml] cannot be opened because it does not exist","body":"<p>This error normally occurs when you right click on <code>com.akshay.codewithme</code> (shown in image) and you create a <code>.xml</code> file (in my case <code>spring.xml</code>).\nWhat you can do is, right click on <code>src/main/java</code> and create a <code>.xml</code> file.</p>\n<p>This is how I solved the issue. It worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/uSxyQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSxyQ.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683137406,"creation_date":1683137406,"answer_id":76166875,"question_id":50323361,"body_markdown":"Just want to throw in that I received this error after accidentally exporting my Spring project in Eclipse as an executable jar. Using the Spring Boot plugin with Maven fixed it.","title":"nested exception is java.io.FileNotFoundException: class path resource [config/simpleJob.xml] cannot be opened because it does not exist","body":"<p>Just want to throw in that I received this error after accidentally exporting my Spring project in Eclipse as an executable jar. Using the Spring Boot plugin with Maven fixed it.</p>\n"}],"owner":{"account_id":3583479,"reputation":21,"user_id":2991123,"display_name":"user2991123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5920,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683137406,"creation_date":1526274102,"question_id":50323361,"body_markdown":"I am developing a Spring Batch application which has a dependency added. This dependency has a spring.xml file. I am scanning this xml file.calling the mxl file values from main method and displaying the out put.\r\n\r\nI have added this xml file in root package  under config folder(src/main/java/config/simpleJob.xml) of my application. However I still see the exception listed below. Please can you anyone let me know what I am missing.and where i need to load the xml file in my application.\r\n\r\nmain method \r\n\r\n    public class HelloWorldTasklet implements Tasklet{\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate String message;\r\n    \t  \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n        \r\n     @Override\r\n     public RepeatStatus execute(StepContribution contribution, ChunkContext context)\r\n       throws Exception {\r\n      System.out.println(message);\r\n      return RepeatStatus.FINISHED;\r\n     }\r\n    \r\n    }\r\n\r\nproject structure\r\n.SpringBatchSample\r\n |\r\n   \r\n |       \r\n `-- src\r\n     `-- test\r\n         |-- java\r\n         |   `-- com\r\n         |       `-- example\r\n         |           `-- SpringBatchExample\r\n         |               `-- HelloWorldTasklet.java\r\n         |-- resources\r\n         |   \r\n         |       `-- simpleJob.xml\r\n         \r\n           \r\nAnyone help me to resolve this problem.\r\n\r\n\r\nThanks in Advance\r\n\r\ni tried many solution which posted in different site,but still im getting the same issues\r\n\r\n    SEVERE: Job Terminated in error: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:243)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:131)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:530)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:444)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:290)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:592)\r\n    Caused by: java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\r\n    \tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:157)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\r\n    \t... 14 more\r\n\r\n\r\n\r\n\r\n\r\n","title":"nested exception is java.io.FileNotFoundException: class path resource [config/simpleJob.xml] cannot be opened because it does not exist","body":"<p>I am developing a Spring Batch application which has a dependency added. This dependency has a spring.xml file. I am scanning this xml file.calling the mxl file values from main method and displaying the out put.</p>\n\n<p>I have added this xml file in root package  under config folder(src/main/java/config/simpleJob.xml) of my application. However I still see the exception listed below. Please can you anyone let me know what I am missing.and where i need to load the xml file in my application.</p>\n\n<p>main method </p>\n\n<pre><code>public class HelloWorldTasklet implements Tasklet{\n\n\n\n    private String message;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n @Override\n public RepeatStatus execute(StepContribution contribution, ChunkContext context)\n   throws Exception {\n  System.out.println(message);\n  return RepeatStatus.FINISHED;\n }\n\n}\n</code></pre>\n\n<p>project structure\n.SpringBatchSample\n |</p>\n\n<p>|<br>\n <code>-- src\n</code>-- test\n         |-- java\n         |   <code>-- com\n         |</code>-- example\n         |           <code>-- SpringBatchExample\n         |</code>-- HelloWorldTasklet.java\n         |-- resources\n         |<br>\n         |       `-- simpleJob.xml</p>\n\n<p>Anyone help me to resolve this problem.</p>\n\n<p>Thanks in Advance</p>\n\n<p>i tried many solution which posted in different site,but still im getting the same issues</p>\n\n<pre><code>SEVERE: Job Terminated in error: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\norg.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [resources/simpleJob.xml]; nested exception is java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:243)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:131)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:530)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:444)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:290)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:592)\nCaused by: java.io.FileNotFoundException: class path resource [resources/simpleJob.xml] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:157)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\n    ... 14 more\n</code></pre>\n"},{"tags":["java","jersey","jax-rs","jersey-2.0"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1683835846,"post_id":76166871,"comment_id":134431700,"body_markdown":"[Not the cause but possible solution](https://stackoverflow.com/a/28107842/2587435)","body":"<a href=\"https://stackoverflow.com/a/28107842/2587435\">Not the cause but possible solution</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1683836000,"post_id":76166871,"comment_id":134431719,"body_markdown":"https://stackoverflow.com/a/30691577/2587435","body":"<a href=\"https://stackoverflow.com/a/30691577/2587435\">stackoverflow.com/a/30691577/2587435</a>"}],"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683137380,"creation_date":1683137380,"question_id":76166871,"body_markdown":"I have 2 endpoints in Jersey configured for the same URL, but each one generates a different type of data (JSON or CSV).\r\n\r\nWhen a request comes with the header `Accept: application/json` I see `getDataJson` is invoked, and when it comes with `Accept: text/csv` I see `getDataCsv` is invoked.\r\n\r\nNonetheless, when a request comes with `Accept: */*`, I expected one of the methods to be invoked consistently (`getDataJson` if it&#39;s the first one) but instead, I have a server where `Accept: */*` always causes `getDataCsv` to be invoked, and another server where `getDataJson` is always the one invoked.\r\n\r\nDo you know what could be the reason Jersey&#39;s behaviour is not consistent?\r\n\r\n```java\r\n    @POST\r\n    @Path(&quot;customer/{custId}/search/stuff&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces({MediaType.APPLICATION_JSON})\r\n    MyDataResponse getDataJson(@PathParam(&quot;custId&quot;) UUID custId,\r\n                               SearchParams params);\r\n\r\n    @POST\r\n    @Path(&quot;customer/{custId}/search/stuff&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(&quot;text/csv&quot;)\r\n    Response getDataCsv(@PathParam(&quot;custId&quot;) UUID custId,\r\n                        SearchParams params);\r\n```\r\n\r\nMore info:\r\n- I&#39;m using Jersey 2.33\r\n- I already ran `sha256sum` on the jars of my app thinking maybe there was a difference, but they are identical.\r\n- I found some docs [here][1], but the section `Procedure 8.2. MessageBodyReader&lt;T&gt; Selection Algorithm` didn&#39;t give me the info I wanted\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/2.33/user-guide.html","title":"Jersey invoking arbitrary versions of my methods that share the same url","body":"<p>I have 2 endpoints in Jersey configured for the same URL, but each one generates a different type of data (JSON or CSV).</p>\n<p>When a request comes with the header <code>Accept: application/json</code> I see <code>getDataJson</code> is invoked, and when it comes with <code>Accept: text/csv</code> I see <code>getDataCsv</code> is invoked.</p>\n<p>Nonetheless, when a request comes with <code>Accept: */*</code>, I expected one of the methods to be invoked consistently (<code>getDataJson</code> if it's the first one) but instead, I have a server where <code>Accept: */*</code> always causes <code>getDataCsv</code> to be invoked, and another server where <code>getDataJson</code> is always the one invoked.</p>\n<p>Do you know what could be the reason Jersey's behaviour is not consistent?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    @Path(&quot;customer/{custId}/search/stuff&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces({MediaType.APPLICATION_JSON})\n    MyDataResponse getDataJson(@PathParam(&quot;custId&quot;) UUID custId,\n                               SearchParams params);\n\n    @POST\n    @Path(&quot;customer/{custId}/search/stuff&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(&quot;text/csv&quot;)\n    Response getDataCsv(@PathParam(&quot;custId&quot;) UUID custId,\n                        SearchParams params);\n</code></pre>\n<p>More info:</p>\n<ul>\n<li>I'm using Jersey 2.33</li>\n<li>I already ran <code>sha256sum</code> on the jars of my app thinking maybe there was a difference, but they are identical.</li>\n<li>I found some docs <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/2.33/user-guide.html\" rel=\"nofollow noreferrer\">here</a>, but the section <code>Procedure 8.2. MessageBodyReader&lt;T&gt; Selection Algorithm</code> didn't give me the info I wanted</li>\n</ul>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"score":0,"creation_date":1683045870,"post_id":76156942,"comment_id":134305199,"body_markdown":"What does Java&#39;s `ProcessBuilder()` do? Is it equivalent to any of: `python script.py`, `python -m script`, `./script.py`, or `python -c &quot;import script; script.main()&quot;` from shell? These are all slightly different ways to &quot;execute&quot; a script.","body":"What does Java&#39;s <code>ProcessBuilder()</code> do? Is it equivalent to any of: <code>python script.py</code>, <code>python -m script</code>, <code>.&#47;script.py</code>, or <code>python -c &quot;import script; script.main()&quot;</code> from shell? These are all slightly different ways to &quot;execute&quot; a script."},{"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"score":0,"creation_date":1683046008,"post_id":76156942,"comment_id":134305226,"body_markdown":"ProcessBuilder starts a new process that executes the python script. I am using the virtual environment, not system python interpreter. I am not sure to what shell command is equivalent","body":"ProcessBuilder starts a new process that executes the python script. I am using the virtual environment, not system python interpreter. I am not sure to what shell command is equivalent"},{"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"score":0,"creation_date":1683046315,"post_id":76156942,"comment_id":134305300,"body_markdown":"Try executing the script from shell in those various ways, confirming the behavior you want, thereby solving the Python aspect of your problem. What remains is making Java do what you want.","body":"Try executing the script from shell in those various ways, confirming the behavior you want, thereby solving the Python aspect of your problem. What remains is making Java do what you want."},{"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"score":0,"creation_date":1683046526,"post_id":76156942,"comment_id":134305344,"body_markdown":"So this ProcessBuilder is equivalent to first activating the virtual env, then executing the python script, which I am doing the same from the terminal and it works. I am confused","body":"So this ProcessBuilder is equivalent to first activating the virtual env, then executing the python script, which I am doing the same from the terminal and it works. I am confused"},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1683048054,"post_id":76156942,"comment_id":134305705,"body_markdown":"What is `&quot;path-to-venv&quot;` a path to? A venv is a folder, not an executable.","body":"What is <code>&quot;path-to-venv&quot;</code> a path to? A venv is a folder, not an executable."},{"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"score":0,"creation_date":1683048100,"post_id":76156942,"comment_id":134305714,"body_markdown":"I&#39;d search for &quot;how to execute script and capture stdout from script in Java&quot;, as it seems the Python part seems solved. Looks like you&#39;d get the same problem with a bash script that just `echo &quot;hey&quot;`.","body":"I&#39;d search for &quot;how to execute script and capture stdout from script in Java&quot;, as it seems the Python part seems solved. Looks like you&#39;d get the same problem with a bash script that just <code>echo &quot;hey&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683137360,"creation_date":1683045879,"answer_id":76157095,"question_id":76156942,"body_markdown":"Not 100%, but you can try to flush the output stream of your Python script. It&#39;s possible that the output is not being sent until the script completes, so flushing the stream may help. You can try adding `sys.stdout.flush()` at the end of your Python script to force the output to be flushed.\r\n\r\nedit (I few other things to try):\r\n\r\n- Make sure that the Python script has execute permissions. If the Python script is not marked as executable, you may need to set the execute permission using the chmod command in your terminal.\r\n\r\n- Triple check the path&#39;s you&#39;re using in the ProcessBuilder, that object also has a few other constructors you could try that may work better.\r\n\r\n- You can also try using a different method for executing the Python script, such as `Runtime.getRuntime().exec()`","title":"Want to run a Python &quot;print()&quot; script from Java, but getting no output","body":"<p>Not 100%, but you can try to flush the output stream of your Python script. It's possible that the output is not being sent until the script completes, so flushing the stream may help. You can try adding <code>sys.stdout.flush()</code> at the end of your Python script to force the output to be flushed.</p>\n<p>edit (I few other things to try):</p>\n<ul>\n<li><p>Make sure that the Python script has execute permissions. If the Python script is not marked as executable, you may need to set the execute permission using the chmod command in your terminal.</p>\n</li>\n<li><p>Triple check the path's you're using in the ProcessBuilder, that object also has a few other constructors you could try that may work better.</p>\n</li>\n<li><p>You can also try using a different method for executing the Python script, such as <code>Runtime.getRuntime().exec()</code></p>\n</li>\n</ul>\n"}],"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683137360,"creation_date":1683044782,"question_id":76156942,"body_markdown":"I have a simple Python script:\r\n```\r\ndef main():\r\n    print(&quot;Hello world&quot;)\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    main()\r\n```\r\n\r\nAnd I want to get the response in Java. The endpoint is:\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class TestPython {\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    public ResponseEntity&lt;String&gt; endpoint() throws IOException {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;path-to-venv&quot;, &quot;path-to-python-script&quot;);\r\n        pb.redirectErrorStream(true);\r\n        Process p = pb.start();\r\n\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        StringBuilder sb = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            sb.append(line);\r\n        }\r\n        String jsonResponse = sb.toString();\r\n\r\n        BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n        StringBuilder errorSb = new StringBuilder();\r\n        String errorLine;\r\n        while ((errorLine = errorReader.readLine()) != null) {\r\n            errorSb.append(errorLine);\r\n        }\r\n        String errorOutput = errorSb.toString();\r\n\r\n        if (!errorOutput.isEmpty()) {\r\n            System.out.println(&quot;Error output: &quot; + errorOutput);\r\n        }\r\n\r\n        System.out.println(jsonResponse);\r\n        System.out.println(errorOutput);\r\n        return ResponseEntity.ok(jsonResponse);\r\n    }\r\n}\r\n\r\n```\r\njsonResponse and errorOutput are both empty. My virtual environment is active and I am using it. When I execute the Python script via terminal, a cmd pops up and prints `Hello World`, but using Java is empty. I also tried to explicitly set the charset in java, but I get the same problem. Also I get a lot of these `\\u0000` characters when executing `reader.cb` in debug mode.\r\nAny help is welcome.","title":"Want to run a Python &quot;print()&quot; script from Java, but getting no output","body":"<p>I have a simple Python script:</p>\n<pre><code>def main():\n    print(&quot;Hello world&quot;)\n\nif __name__ == &quot;__main__&quot;:\n    main()\n</code></pre>\n<p>And I want to get the response in Java. The endpoint is:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class TestPython {\n\n    @PostMapping(&quot;/endpoint&quot;)\n    public ResponseEntity&lt;String&gt; endpoint() throws IOException {\n        ProcessBuilder pb = new ProcessBuilder(&quot;path-to-venv&quot;, &quot;path-to-python-script&quot;);\n        pb.redirectErrorStream(true);\n        Process p = pb.start();\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line);\n        }\n        String jsonResponse = sb.toString();\n\n        BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n        StringBuilder errorSb = new StringBuilder();\n        String errorLine;\n        while ((errorLine = errorReader.readLine()) != null) {\n            errorSb.append(errorLine);\n        }\n        String errorOutput = errorSb.toString();\n\n        if (!errorOutput.isEmpty()) {\n            System.out.println(&quot;Error output: &quot; + errorOutput);\n        }\n\n        System.out.println(jsonResponse);\n        System.out.println(errorOutput);\n        return ResponseEntity.ok(jsonResponse);\n    }\n}\n\n</code></pre>\n<p>jsonResponse and errorOutput are both empty. My virtual environment is active and I am using it. When I execute the Python script via terminal, a cmd pops up and prints <code>Hello World</code>, but using Java is empty. I also tried to explicitly set the charset in java, but I get the same problem. Also I get a lot of these <code>\\u0000</code> characters when executing <code>reader.cb</code> in debug mode.\nAny help is welcome.</p>\n"},{"tags":["java","spring-boot","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683137264,"creation_date":1683137264,"answer_id":76166858,"question_id":76165559,"body_markdown":"Spring scans the class path by iterating over class files. Your generated class will not be visible via these scans, it does not have a class file representation.\r\n\r\nTo make your class visible, you&#39;d need to register it explicitly. I thibk Spring offers a builder for this purpose where you currently run a single main class.","title":"Using ByteBuddy to generate Spring Boot configuration","body":"<p>Spring scans the class path by iterating over class files. Your generated class will not be visible via these scans, it does not have a class file representation.</p>\n<p>To make your class visible, you'd need to register it explicitly. I thibk Spring offers a builder for this purpose where you currently run a single main class.</p>\n"}],"owner":{"account_id":508854,"reputation":359,"user_id":1512047,"accept_rate":50,"display_name":"aznan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76166858,"answer_count":1,"score":0,"last_activity_date":1683137264,"creation_date":1683126988,"question_id":76165559,"body_markdown":"I&#39;m trying to generate Spring Boot configuration code in order to solve [this question](https://stackoverflow.com/questions/67720388/define-an-arbitrary-number-of-datasources-in-external-spring-boot-config). This is what I&#39;ve got so far:\r\n\r\n```java\r\n//@Configuration &lt;- trying to add this through BB\r\npublic class GeneratedConfigBase {\r\n  @Bean\r\n  public Object hello() {\r\n    System.out.println(&quot;hello&quot;);\r\n    return new Object();\r\n  }\r\n}\r\n\r\n@SpringBootApplication\r\npublic class TestApp {\r\n  public static void main(String[] args) throws Exception {\r\n    generateConf();\r\n    SpringApplication.run(TestApp.class, args);\r\n  }\r\n\r\n  private static void generateConf() {\r\n    new ByteBuddy()\r\n        .subclass(GeneratedConfigBase.class)\r\n        .name(&quot;com.example.GeneratedConfig&quot;)\r\n        .annotateType(AnnotationDescription.Builder.ofType(Configuration.class).build())\r\n        .make()\r\n        .load(TestApp.class.getClassLoader(), ClassLoadingStrategy.UsingLookup.of(\r\n            MethodHandles.privateLookupIn(GeneratedConfigBase.class, MethodHandles.lookup()\r\n        ));\r\n  }\r\n}\r\n```\r\n\r\nThe above won&#39;t print &quot;hello&quot; when running the app. I&#39;m not at all sure about the `load()` part, but Spring Boot may not pick up the configuration for any number of reasons. Any insight would be appreciated.","title":"Using ByteBuddy to generate Spring Boot configuration","body":"<p>I'm trying to generate Spring Boot configuration code in order to solve <a href=\"https://stackoverflow.com/questions/67720388/define-an-arbitrary-number-of-datasources-in-external-spring-boot-config\">this question</a>. This is what I've got so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@Configuration &lt;- trying to add this through BB\npublic class GeneratedConfigBase {\n  @Bean\n  public Object hello() {\n    System.out.println(&quot;hello&quot;);\n    return new Object();\n  }\n}\n\n@SpringBootApplication\npublic class TestApp {\n  public static void main(String[] args) throws Exception {\n    generateConf();\n    SpringApplication.run(TestApp.class, args);\n  }\n\n  private static void generateConf() {\n    new ByteBuddy()\n        .subclass(GeneratedConfigBase.class)\n        .name(&quot;com.example.GeneratedConfig&quot;)\n        .annotateType(AnnotationDescription.Builder.ofType(Configuration.class).build())\n        .make()\n        .load(TestApp.class.getClassLoader(), ClassLoadingStrategy.UsingLookup.of(\n            MethodHandles.privateLookupIn(GeneratedConfigBase.class, MethodHandles.lookup()\n        ));\n  }\n}\n</code></pre>\n<p>The above won't print &quot;hello&quot; when running the app. I'm not at all sure about the <code>load()</code> part, but Spring Boot may not pick up the configuration for any number of reasons. Any insight would be appreciated.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683133559,"post_id":76160989,"comment_id":134321056,"body_markdown":"You can not specify an executor for `thenApply`. When you specify E2 for `thenApplyAsync`, of course, it will use E2 for the function provided to `thenApplyAsync`. So it’s not clear what you are asking.","body":"You can not specify an executor for <code>thenApply</code>. When you specify E2 for <code>thenApplyAsync</code>, of course, it will use E2 for the function provided to <code>thenApplyAsync</code>. So it’s not clear what you are asking."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683136670,"creation_date":1683103418,"answer_id":76161978,"question_id":76160989,"body_markdown":"The `thenApply` stage may run in calling thread if it can be started at time of executing the `thenApply`, otherwise when not completed at that moment it should run in the thread of the preceding executing task.\r\n\r\nYou can demonstrate with:\r\n\r\n    Function&lt;String,String&gt; func = s -&gt; {\r\n        System.out.println(Thread.currentThread()+&quot; &quot;+s);\r\n        return s;\r\n    };\r\n\r\n    ExecutorService exec1 = Executors.newFixedThreadPool(4);\r\n    ExecutorService exec2 = Executors.newFixedThreadPool(4);\r\n    Future&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; func.apply(&quot;ONE&quot;), exec1)\r\n                             .thenApplyAsync(s -&gt; func.apply(&quot;TWO:&quot;+s), exec2)\r\n                             .thenApply(s -&gt; func.apply(&quot;THREE:&quot;+s));\r\n\r\n    System.out.println(&quot;f.get()=&quot;+f.get());\r\n\r\nThis should print the threads used. If run this a few times you may see alternate handling for step 3. Both thread pools are used for steps 1/2 and if the action is quick either the calling thread is used for step 3 (main in this case).\r\n\r\n    Thread[#20,pool-1-thread-1,5,main] ONE\r\n    Thread[#21,pool-2-thread-1,5,main] TWO:ONE\r\n    Thread[#1,main,5,main] THREE:TWO:ONE\r\n    f.get()=THREE:TWO:ONE\r\n\r\nor it may print that it used the preceding executor service - as for step 2. \r\n\r\n    Thread[#20,pool-1-thread-1,5,main] ONE\r\n    Thread[#21,pool-2-thread-1,5,main] TWO:ONE\r\n    Thread[#21,pool-2-thread-1,5,main] THREE:TWO:ONE\r\n    f.get()=THREE:TWO:ONE\r\n\r\nIf you add a `sleep` to the task step, you are likely to see the latter only.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletionStage.html#thenApply(java.util.function.Function)","title":"What if I provide different executors for thenApplyAsync and supplyAsync?","body":"<p>The <code>thenApply</code> stage may run in calling thread if it can be started at time of executing the <code>thenApply</code>, otherwise when not completed at that moment it should run in the thread of the preceding executing task.</p>\n<p>You can demonstrate with:</p>\n<pre><code>Function&lt;String,String&gt; func = s -&gt; {\n    System.out.println(Thread.currentThread()+&quot; &quot;+s);\n    return s;\n};\n\nExecutorService exec1 = Executors.newFixedThreadPool(4);\nExecutorService exec2 = Executors.newFixedThreadPool(4);\nFuture&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; func.apply(&quot;ONE&quot;), exec1)\n                         .thenApplyAsync(s -&gt; func.apply(&quot;TWO:&quot;+s), exec2)\n                         .thenApply(s -&gt; func.apply(&quot;THREE:&quot;+s));\n\nSystem.out.println(&quot;f.get()=&quot;+f.get());\n</code></pre>\n<p>This should print the threads used. If run this a few times you may see alternate handling for step 3. Both thread pools are used for steps 1/2 and if the action is quick either the calling thread is used for step 3 (main in this case).</p>\n<pre><code>Thread[#20,pool-1-thread-1,5,main] ONE\nThread[#21,pool-2-thread-1,5,main] TWO:ONE\nThread[#1,main,5,main] THREE:TWO:ONE\nf.get()=THREE:TWO:ONE\n</code></pre>\n<p>or it may print that it used the preceding executor service - as for step 2.</p>\n<pre><code>Thread[#20,pool-1-thread-1,5,main] ONE\nThread[#21,pool-2-thread-1,5,main] TWO:ONE\nThread[#21,pool-2-thread-1,5,main] THREE:TWO:ONE\nf.get()=THREE:TWO:ONE\n</code></pre>\n<p>If you add a <code>sleep</code> to the task step, you are likely to see the latter only.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683113043,"creation_date":1683112650,"answer_id":76163190,"question_id":76160989,"body_markdown":"Your code would be executed on the pool you explicitly set, no magic:\r\n```\r\nExecutorService pool1 = Executors.newFixedThreadPool(1, r -&gt; new Thread(r, &quot;t1&quot;));\r\nExecutorService pool2 = Executors.newFixedThreadPool(2, r -&gt; new Thread(r, &quot;t2&quot;));\r\n\r\nRunnable sleep = () -&gt; {\r\n    try {\r\n        Thread.sleep(100);\r\n    } catch (InterruptedException ignore) {\r\n        Thread.currentThread().interrupt();\r\n    }\r\n};\r\n\r\nSystem.out.println(&quot;Result 1: &quot; + CompletableFuture\r\n    .supplyAsync(() -&gt; {\r\n        return Thread.currentThread().getName();\r\n    }, pool1)\r\n    .thenApply(it -&gt; {\r\n        return it + &quot;, &quot; + Thread.currentThread().getName();\r\n    }).join()\r\n);\r\nSystem.out.println(&quot;Result 2: &quot; + CompletableFuture\r\n    .supplyAsync(() -&gt; {\r\n        sleep.run();\r\n        return Thread.currentThread().getName();\r\n    }, pool1)\r\n    .thenApply(it -&gt; {\r\n        sleep.run();\r\n        return it + &quot;, &quot; + Thread.currentThread().getName();\r\n    }).join()\r\n);\r\n\r\nSystem.out.println(&quot;Result 3: &quot; + CompletableFuture\r\n    .supplyAsync(() -&gt; {\r\n        return Thread.currentThread().getName();\r\n    }, pool1)\r\n    .thenApplyAsync(it -&gt; {\r\n        return it + &quot;, &quot; + Thread.currentThread().getName();\r\n    }, pool2)\r\n    .join()\r\n);\r\n\r\nSystem.out.println(&quot;Result 4: &quot; + CompletableFuture\r\n    .supplyAsync(() -&gt; {\r\n        sleep.run();\r\n        return Thread.currentThread().getName();\r\n    }, pool1)\r\n    .thenApplyAsync(it -&gt; {\r\n        sleep.run();\r\n        return it + &quot;, &quot; + Thread.currentThread().getName();\r\n    }, pool2)\r\n    .join()\r\n);\r\n\r\npool1.shutdownNow();\r\npool2.shutdownNow();\r\n```\r\n\r\nOutput:\r\n```\r\nResult 1: t1, main // OR `Result 1: t1, t1` if you are unlucky enough\r\nResult 2: t1, t1\r\nResult 3: t1, t2\r\nResult 4: t1, t2\r\n```\r\n\r\nThe only interesting thing here is behaviour of the completed futures. Completed future would NOT pass its executor down the chain, so if pool is not configured explicitly (`Result 1`) chain may run on the current thread.","title":"What if I provide different executors for thenApplyAsync and supplyAsync?","body":"<p>Your code would be executed on the pool you explicitly set, no magic:</p>\n<pre><code>ExecutorService pool1 = Executors.newFixedThreadPool(1, r -&gt; new Thread(r, &quot;t1&quot;));\nExecutorService pool2 = Executors.newFixedThreadPool(2, r -&gt; new Thread(r, &quot;t2&quot;));\n\nRunnable sleep = () -&gt; {\n    try {\n        Thread.sleep(100);\n    } catch (InterruptedException ignore) {\n        Thread.currentThread().interrupt();\n    }\n};\n\nSystem.out.println(&quot;Result 1: &quot; + CompletableFuture\n    .supplyAsync(() -&gt; {\n        return Thread.currentThread().getName();\n    }, pool1)\n    .thenApply(it -&gt; {\n        return it + &quot;, &quot; + Thread.currentThread().getName();\n    }).join()\n);\nSystem.out.println(&quot;Result 2: &quot; + CompletableFuture\n    .supplyAsync(() -&gt; {\n        sleep.run();\n        return Thread.currentThread().getName();\n    }, pool1)\n    .thenApply(it -&gt; {\n        sleep.run();\n        return it + &quot;, &quot; + Thread.currentThread().getName();\n    }).join()\n);\n\nSystem.out.println(&quot;Result 3: &quot; + CompletableFuture\n    .supplyAsync(() -&gt; {\n        return Thread.currentThread().getName();\n    }, pool1)\n    .thenApplyAsync(it -&gt; {\n        return it + &quot;, &quot; + Thread.currentThread().getName();\n    }, pool2)\n    .join()\n);\n\nSystem.out.println(&quot;Result 4: &quot; + CompletableFuture\n    .supplyAsync(() -&gt; {\n        sleep.run();\n        return Thread.currentThread().getName();\n    }, pool1)\n    .thenApplyAsync(it -&gt; {\n        sleep.run();\n        return it + &quot;, &quot; + Thread.currentThread().getName();\n    }, pool2)\n    .join()\n);\n\npool1.shutdownNow();\npool2.shutdownNow();\n</code></pre>\n<p>Output:</p>\n<pre><code>Result 1: t1, main // OR `Result 1: t1, t1` if you are unlucky enough\nResult 2: t1, t1\nResult 3: t1, t2\nResult 4: t1, t2\n</code></pre>\n<p>The only interesting thing here is behaviour of the completed futures. Completed future would NOT pass its executor down the chain, so if pool is not configured explicitly (<code>Result 1</code>) chain may run on the current thread.</p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1683136670,"creation_date":1683095248,"question_id":76160989,"body_markdown":"Let&#39;s say I am creating async tasks by using `supplyAsync` method, and using executor E1 for this. \r\n\r\nThen for `thenApply` or `thenApplyAsync` the executor I supply is E2.\r\n\r\nHow will `thenApply` use E1 and E2? Which executor will it prioritize?","title":"What if I provide different executors for thenApplyAsync and supplyAsync?","body":"<p>Let's say I am creating async tasks by using <code>supplyAsync</code> method, and using executor E1 for this.</p>\n<p>Then for <code>thenApply</code> or <code>thenApplyAsync</code> the executor I supply is E2.</p>\n<p>How will <code>thenApply</code> use E1 and E2? Which executor will it prioritize?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1580087,"reputation":8933,"user_id":1465623,"accept_rate":84,"display_name":"Rahul Agrawal"},"score":3,"creation_date":1341910571,"post_id":11409801,"comment_id":15045817,"body_markdown":"No, Its a metadata infomation, Suppose if you want to create a executable jar then manifest is used to specify start class of your application","body":"No, Its a metadata infomation, Suppose if you want to create a executable jar then manifest is used to specify start class of your application"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1341911124,"post_id":11409801,"comment_id":15046039,"body_markdown":"The purpose of the manifest file is clearly explained in the page that you linked to, and there&#39;s no point us repeating it back to you.  Just, read it, try to understand it, and if you have specific questions, ask them in a new Question.","body":"The purpose of the manifest file is clearly explained in the page that you linked to, and there&#39;s no point us repeating it back to you.  Just, read it, try to understand it, and if you have specific questions, ask them in a new Question."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1587890698,"post_id":11409801,"comment_id":108682135,"body_markdown":"Think of it as a &quot;table of contents&quot; for the jar.","body":"Think of it as a &quot;table of contents&quot; for the jar."},{"owner":{"account_id":13429504,"reputation":649,"user_id":10869719,"display_name":"I try so hard but I cry harder"},"score":0,"creation_date":1643819666,"post_id":11409801,"comment_id":125442146,"body_markdown":"@StephenC Looks like he cannot grasp the explaination. I assume his &quot;specific question&quot; is that very same thing you&#39;re trying to tell him to go read again.","body":"@StephenC Looks like he cannot grasp the explaination. I assume his &quot;specific question&quot; is that very same thing you&#39;re trying to tell him to go read again."}],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1683136126,"creation_date":1341910730,"answer_id":11409894,"question_id":11409801,"body_markdown":"**Manifest is a special file that can contain information about the files packaged in a JAR file**. By tailoring this **&quot;meta&quot;** information that the manifest contains, you enable the JAR file to serve a variety of purposes.\r\n\r\nMainfest file is mainly known for containing the name of the class that holds the main function, among various classes in the package...\r\n\r\nWhen you create a JAR file, **it automatically receives a default manifest file. There can be only one manifest file in an archive**, and it always has the pathname\r\n\r\n    META-INF/MANIFEST.MF\r\n\r\n","title":"What is the purpose of Manifest file","body":"<p><strong>Manifest is a special file that can contain information about the files packaged in a JAR file</strong>. By tailoring this <strong>&quot;meta&quot;</strong> information that the manifest contains, you enable the JAR file to serve a variety of purposes.</p>\n<p>Mainfest file is mainly known for containing the name of the class that holds the main function, among various classes in the package...</p>\n<p>When you create a JAR file, <strong>it automatically receives a default manifest file. There can be only one manifest file in an archive</strong>, and it always has the pathname</p>\n<pre><code>META-INF/MANIFEST.MF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434558,"reputation":129,"user_id":820599,"display_name":"AmanMohla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341911117,"creation_date":1341911117,"answer_id":11410000,"question_id":11409801,"body_markdown":"Manifest file provides the meta data for a file. The meta data is in form of name-value pairs. In your above example they have provided the MD5 hash of the class file which is calculated without the manifest file. This is a security measure so that if someone modifies the file and adds some hackish code, you can detect it with the signatures.\r\n\r\nIt plays no role in updating the file. ","title":"What is the purpose of Manifest file","body":"<p>Manifest file provides the meta data for a file. The meta data is in form of name-value pairs. In your above example they have provided the MD5 hash of the class file which is calculated without the manifest file. This is a security measure so that if someone modifies the file and adds some hackish code, you can detect it with the signatures.</p>\n\n<p>It plays no role in updating the file. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570247798,"creation_date":1341911386,"answer_id":11410072,"question_id":11409801,"body_markdown":"&gt; What does a manifest file do? What is the purpose of it?\r\n\r\nThe purpose is to hold metadata about the JAR file and the classes that it contains.  The metadata is used for a variety of things, including tracking the origin of the JAR, protecting against tampering, and providing the extra  information needed for an *executable* JAR.\r\n\r\nThe link in your question is broken.  Here are a couple of alternatives:\r\n\r\n  - [Working with Manifest Files: The Basics][1]\r\n  - [JAR File Specification][2]\r\n\r\n&gt; Does it update these classes in the jar automatically if there any changes in the server?\r\n\r\nNo.\r\n\r\nThose entries are *part* of a scheme for detecting tampering with JAR files; e.g. someone replacing those classes with modified versions.  (The other parts of the scheme are a digital signature of the hashes, and stuff in the launcher that checks the signatures and hashes before launching.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html","title":"What is the purpose of Manifest file","body":"<blockquote>\n  <p>What does a manifest file do? What is the purpose of it?</p>\n</blockquote>\n\n<p>The purpose is to hold metadata about the JAR file and the classes that it contains.  The metadata is used for a variety of things, including tracking the origin of the JAR, protecting against tampering, and providing the extra  information needed for an <em>executable</em> JAR.</p>\n\n<p>The link in your question is broken.  Here are a couple of alternatives:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">Working with Manifest Files: The Basics</a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html\" rel=\"noreferrer\">JAR File Specification</a></li>\n</ul>\n\n<blockquote>\n  <p>Does it update these classes in the jar automatically if there any changes in the server?</p>\n</blockquote>\n\n<p>No.</p>\n\n<p>Those entries are <em>part</em> of a scheme for detecting tampering with JAR files; e.g. someone replacing those classes with modified versions.  (The other parts of the scheme are a digital signature of the hashes, and stuff in the launcher that checks the signatures and hashes before launching.)</p>\n"},{"tags":[],"owner":{"account_id":467264,"reputation":1915,"user_id":872501,"accept_rate":53,"display_name":"C.c"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1341912848,"creation_date":1341912848,"answer_id":11410430,"question_id":11409801,"body_markdown":"The manifest is a specific no-class file assembled within a Jar, which contains the descriptive pairs of keys and values of this Jar and we usually called it metadata, it tells end users or callers:\r\n\r\n&gt;  what the propose of Jar?   who is the writer?   when it was created?  what is creation env? what is JDK version? and even more...(Assuming have these values in manifest)\r\n","title":"What is the purpose of Manifest file","body":"<p>The manifest is a specific no-class file assembled within a Jar, which contains the descriptive pairs of keys and values of this Jar and we usually called it metadata, it tells end users or callers:</p>\n\n<blockquote>\n  <p>what the propose of Jar?   who is the writer?   when it was created?  what is creation env? what is JDK version? and even more...(Assuming have these values in manifest)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5919579,"reputation":53,"user_id":7618210,"display_name":"Ujjwal Swami"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1587890147,"creation_date":1587890147,"answer_id":61437919,"question_id":11409801,"body_markdown":"A Manifest File plays very important role in streaming media content. Because it is the one file which tells subscriber end devices what about the streaming content is.\r\n\r\nThis manifest file contains **Resolution of content**, **Codecs** of content and **adaptive bitrate**.\r\n\r\nIf still you wants to understand it in details then you can visit this brief article which will make your all confusion clear : [What Is Manifest File Explain In Details with Diagram][1]\r\n\r\n\r\n  [1]: https://www.headendinfo.com/manifest-file/\r\n","title":"What is the purpose of Manifest file","body":"<p>A Manifest File plays very important role in streaming media content. Because it is the one file which tells subscriber end devices what about the streaming content is.</p>\n\n<p>This manifest file contains <strong>Resolution of content</strong>, <strong>Codecs</strong> of content and <strong>adaptive bitrate</strong>.</p>\n\n<p>If still you wants to understand it in details then you can visit this brief article which will make your all confusion clear : <a href=\"https://www.headendinfo.com/manifest-file/\" rel=\"nofollow noreferrer\">What Is Manifest File Explain In Details with Diagram</a></p>\n"}],"owner":{"account_id":379934,"reputation":7423,"user_id":733644,"accept_rate":86,"display_name":"John Cooper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32293,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":5,"score":20,"last_activity_date":1683136126,"creation_date":1341910416,"question_id":11409801,"body_markdown":"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\r\n\r\nWhat does a manifest file do?\r\nWhat is the purpose of it?\r\n\r\n    Manifest-Version: 1.0\r\n    \r\n    Name: java/math/BigDecimal.class\r\n    SHA1-Digest: TD1GZt8G11dXY2p4olSZPc5Rj64=\r\n    MD5-Digest: z6z8xPj2AW/Q9AkRSPF0cg==\r\n    \r\n    Name: java/math/BigInteger.class\r\n    SHA1-Digest: oBmrvIkBnSxdNZzPh5iLyF0S+bE=\r\n    MD5-Digest: wFymhDKjNreNZ4AzDWWg1Q==\r\n\r\nDoes it update these classes in the jar automatically if there any changes in the server?","title":"What is the purpose of Manifest file","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n<p>What does a manifest file do?\nWhat is the purpose of it?</p>\n<pre><code>Manifest-Version: 1.0\n\nName: java/math/BigDecimal.class\nSHA1-Digest: TD1GZt8G11dXY2p4olSZPc5Rj64=\nMD5-Digest: z6z8xPj2AW/Q9AkRSPF0cg==\n\nName: java/math/BigInteger.class\nSHA1-Digest: oBmrvIkBnSxdNZzPh5iLyF0S+bE=\nMD5-Digest: wFymhDKjNreNZ4AzDWWg1Q==\n</code></pre>\n<p>Does it update these classes in the jar automatically if there any changes in the server?</p>\n"},{"tags":["java","quarkus","sdkman"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683135875,"creation_date":1683135875,"answer_id":76166675,"question_id":76164332,"body_markdown":"`AggressiveOpts` is a deprecated JDK argument that was removed in JDK 13. It makes sense that you see that message when using JDK 17.\r\n\r\nThere is some configuration in your system still using that removed argument. It may be the environment variable `JAVA_OPTS`, some docker configuration or somewhere else.","title":"Unrecognized VM option &#39;AggressiveOpts&#39; when installing quarkus in sdkman","body":"<p><code>AggressiveOpts</code> is a deprecated JDK argument that was removed in JDK 13. It makes sense that you see that message when using JDK 17.</p>\n<p>There is some configuration in your system still using that removed argument. It may be the environment variable <code>JAVA_OPTS</code>, some docker configuration or somewhere else.</p>\n"}],"owner":{"account_id":6069289,"reputation":385,"user_id":4738644,"accept_rate":50,"display_name":"Diego Alejandro G&#243;mez Pardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683135875,"creation_date":1683119942,"question_id":76164332,"body_markdown":"I am using sdkman since I have to work with different versions of java. Using sdkman I installed quarkus version 2.11.1, however whenever I do every command related to quarkus like:\r\n\r\n    quarkus --version\r\n\r\nit doesn&#39;t matter if I write anything with quarkus. eg quarkus --help, or something nonsense like quarkus --woof or just quarkus\r\n\r\nI receive always the same error:\r\n\r\n    Unrecognized VM option &#39;AggressiveOpts&#39;\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nI saw several examples related to this error here in Stackoverflow but the thing is that java is working well and it doesn&#39;t matter if I write java --version or java -version, the result works well\r\n\r\n    openjdk version &quot;17.0.6&quot; 2023-01-17 LTS\r\n    OpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\r\n\r\nHas anyone had somehow experience in this situation? Thank you \r\n","title":"Unrecognized VM option &#39;AggressiveOpts&#39; when installing quarkus in sdkman","body":"<p>I am using sdkman since I have to work with different versions of java. Using sdkman I installed quarkus version 2.11.1, however whenever I do every command related to quarkus like:</p>\n<pre><code>quarkus --version\n</code></pre>\n<p>it doesn't matter if I write anything with quarkus. eg quarkus --help, or something nonsense like quarkus --woof or just quarkus</p>\n<p>I receive always the same error:</p>\n<pre><code>Unrecognized VM option 'AggressiveOpts'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>I saw several examples related to this error here in Stackoverflow but the thing is that java is working well and it doesn't matter if I write java --version or java -version, the result works well</p>\n<pre><code>openjdk version &quot;17.0.6&quot; 2023-01-17 LTS\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\n</code></pre>\n<p>Has anyone had somehow experience in this situation? Thank you</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1587602338,"creation_date":1457394933,"answer_id":35856496,"question_id":35856454,"body_markdown":"From `HandlerIntercepter`&#39;s [javadoc][1]:\r\n\r\n&gt; `HandlerInterceptor` is basically similar to a Servlet `Filter`, but in\r\n&gt; contrast to the latter it just allows custom pre-processing with the\r\n&gt; option of prohibiting the execution of the handler itself, and custom\r\n&gt; post-processing. Filters are more powerful, for example they allow for\r\n&gt; exchanging the request and response objects that are handed down the\r\n&gt; chain. Note that a filter gets configured in `web.xml`, a\r\n&gt; `HandlerInterceptor` in the application context.\r\n&gt; \r\n&gt; As a basic guideline, fine-grained handler-related pre-processing tasks\r\n&gt; are candidates for `HandlerInterceptor` implementations, especially\r\n&gt; factored-out common handler code and authorization checks. On the\r\n&gt; other hand, a `Filter` is well-suited for request content and view\r\n&gt; content handling, like multipart forms and GZIP compression. This\r\n&gt; typically shows when one needs to map the filter to certain content\r\n&gt; types (e.g. images), or to all requests.\r\n\r\nWith that being said:\r\n\r\n&gt; So where is the difference between `Interceptor#postHandle()` and\r\n&gt; `Filter#doFilter()`?\r\n\r\n`postHandle` will be called after handler method invocation but before the view being rendered. So, you can add more model objects to the view but you can **not** change the `HttpServletResponse` since it&#39;s already committed.\r\n\r\n`doFilter` is much more versatile than the `postHandle`. You can change the request or response and pass it to the chain or even block the request processing.\r\n\r\nAlso, in `preHandle` and `postHandle` methods, you have access to the `HandlerMethod` that processed the request. So, you can add pre/post-processing logic based on the handler itself. For example, you can add a logic for handler methods that have some annotations.\r\n\r\n&gt; What is the best practise in which use cases it should be used?\r\n\r\nAs the doc said, fine-grained handler-related pre-processing tasks are candidates for `HandlerInterceptor` implementations, especially factored-out common handler code and authorization checks. On the other hand, a `Filter` is well-suited for request content and view content handling, like multipart forms and GZIP compression. This typically shows when one needs to map the filter to certain content types (e.g. images), or to all requests.\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html","title":"Difference between Interceptor and Filter in Spring MVC","body":"<p>From <code>HandlerIntercepter</code>'s <a href=\"http://docs.spring.io/autorepo/docs/spring/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p><code>HandlerInterceptor</code> is basically similar to a Servlet <code>Filter</code>, but in\n  contrast to the latter it just allows custom pre-processing with the\n  option of prohibiting the execution of the handler itself, and custom\n  post-processing. Filters are more powerful, for example they allow for\n  exchanging the request and response objects that are handed down the\n  chain. Note that a filter gets configured in <code>web.xml</code>, a\n  <code>HandlerInterceptor</code> in the application context.</p>\n  \n  <p>As a basic guideline, fine-grained handler-related pre-processing tasks\n  are candidates for <code>HandlerInterceptor</code> implementations, especially\n  factored-out common handler code and authorization checks. On the\n  other hand, a <code>Filter</code> is well-suited for request content and view\n  content handling, like multipart forms and GZIP compression. This\n  typically shows when one needs to map the filter to certain content\n  types (e.g. images), or to all requests.</p>\n</blockquote>\n\n<p>With that being said:</p>\n\n<blockquote>\n  <p>So where is the difference between <code>Interceptor#postHandle()</code> and\n  <code>Filter#doFilter()</code>?</p>\n</blockquote>\n\n<p><code>postHandle</code> will be called after handler method invocation but before the view being rendered. So, you can add more model objects to the view but you can <strong>not</strong> change the <code>HttpServletResponse</code> since it's already committed.</p>\n\n<p><code>doFilter</code> is much more versatile than the <code>postHandle</code>. You can change the request or response and pass it to the chain or even block the request processing.</p>\n\n<p>Also, in <code>preHandle</code> and <code>postHandle</code> methods, you have access to the <code>HandlerMethod</code> that processed the request. So, you can add pre/post-processing logic based on the handler itself. For example, you can add a logic for handler methods that have some annotations.</p>\n\n<blockquote>\n  <p>What is the best practise in which use cases it should be used?</p>\n</blockquote>\n\n<p>As the doc said, fine-grained handler-related pre-processing tasks are candidates for <code>HandlerInterceptor</code> implementations, especially factored-out common handler code and authorization checks. On the other hand, a <code>Filter</code> is well-suited for request content and view content handling, like multipart forms and GZIP compression. This typically shows when one needs to map the filter to certain content types (e.g. images), or to all requests.</p>\n"},{"tags":[],"owner":{"account_id":1563409,"reputation":723,"user_id":1452740,"accept_rate":0,"display_name":"Satyam"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1620213984,"creation_date":1480685677,"answer_id":40933447,"question_id":35856454,"body_markdown":"A HandlerInterceptor gives you more fine-grained control than a filter because you have access to the actual target &quot;handler&quot; - this means that whatever action you perform can vary depending on what the request is actually doing (whereas the servlet filter is generically applied to all requests - only able to take into account the parameters of each request). The handler interceptor also provides 3 different methods, so that you can apply behavior prior to calling a handler after the handler has completed but prior to view rendering (where you may even bypass view rendering altogether), or after the view itself has been rendered. Also, you can set up different interceptors for different groups of handlers - the interceptors are configured on the handler mapping, and there may be multiple handler mappings.\r\n\r\nTherefore, if you have a need to do something completely generic (e.g. log all requests), then a filter is sufficient - but if the behavior depends on the target handler or you want to do something between the request handling and view rendering, then the HandlerInterceptor provides that flexibility.\r\n\r\n","title":"Difference between Interceptor and Filter in Spring MVC","body":"<p>A HandlerInterceptor gives you more fine-grained control than a filter because you have access to the actual target &quot;handler&quot; - this means that whatever action you perform can vary depending on what the request is actually doing (whereas the servlet filter is generically applied to all requests - only able to take into account the parameters of each request). The handler interceptor also provides 3 different methods, so that you can apply behavior prior to calling a handler after the handler has completed but prior to view rendering (where you may even bypass view rendering altogether), or after the view itself has been rendered. Also, you can set up different interceptors for different groups of handlers - the interceptors are configured on the handler mapping, and there may be multiple handler mappings.</p>\n<p>Therefore, if you have a need to do something completely generic (e.g. log all requests), then a filter is sufficient - but if the behavior depends on the target handler or you want to do something between the request handling and view rendering, then the HandlerInterceptor provides that flexibility.</p>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1629316558,"creation_date":1545372995,"answer_id":53880044,"question_id":35856454,"body_markdown":"**Filter**: - A filter as the name suggests is a Java class executed by the servlet container for each incoming HTTP request and for each HTTP response. This way is possible to manage HTTP incoming requests before they reach the resource, such as a JSP page, a servlet or a simple static page; in the same way, is possible to manage HTTP outbound response after resource execution.\r\n\r\n**Interceptor**: - Spring Interceptors are similar to Servlet Filters but they act in Spring Context so are powerful to manage HTTP Request and Response but they can implement more sophisticated behaviour because can access all Spring context.","title":"Difference between Interceptor and Filter in Spring MVC","body":"<p><strong>Filter</strong>: - A filter as the name suggests is a Java class executed by the servlet container for each incoming HTTP request and for each HTTP response. This way is possible to manage HTTP incoming requests before they reach the resource, such as a JSP page, a servlet or a simple static page; in the same way, is possible to manage HTTP outbound response after resource execution.</p>\n<p><strong>Interceptor</strong>: - Spring Interceptors are similar to Servlet Filters but they act in Spring Context so are powerful to manage HTTP Request and Response but they can implement more sophisticated behaviour because can access all Spring context.</p>\n"},{"tags":[],"owner":{"account_id":5650603,"reputation":868,"user_id":4471367,"display_name":"MMJ"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1645561989,"creation_date":1645561989,"answer_id":71227949,"question_id":35856454,"body_markdown":"From [baeldung][1]:\r\n\r\n[![filters_vs_interceptors][2]][2]\r\n\r\nFilters intercept requests before they reach the DispatcherServlet, making them ideal for coarse-grained tasks such as:\r\n\r\n    Authentication\r\n    Logging and auditing\r\n    Image and data compression\r\n    Any functionality we want to be decoupled from Spring MVC\r\n\r\nHandlerIntercepors, on the other hand, intercepts requests between the DispatcherServlet and our Controllers. This is done within the Spring MVC framework, providing access to the Handler and ModelAndView objects. This reduces duplication and allows for more fine-grained functionality such as:\r\n\r\n    Handling cross-cutting concerns such as application logging\r\n    Detailed authorization checks\r\n    Manipulating the Spring context or model\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-handlerinterceptor-vs-filter#key-differences-and-use-cases\r\n  [2]: https://i.stack.imgur.com/9iCub.png","title":"Difference between Interceptor and Filter in Spring MVC","body":"<p>From <a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor-vs-filter#key-differences-and-use-cases\" rel=\"noreferrer\">baeldung</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/9iCub.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9iCub.png\" alt=\"filters_vs_interceptors\" /></a></p>\n<p>Filters intercept requests before they reach the DispatcherServlet, making them ideal for coarse-grained tasks such as:</p>\n<pre><code>Authentication\nLogging and auditing\nImage and data compression\nAny functionality we want to be decoupled from Spring MVC\n</code></pre>\n<p>HandlerIntercepors, on the other hand, intercepts requests between the DispatcherServlet and our Controllers. This is done within the Spring MVC framework, providing access to the Handler and ModelAndView objects. This reduces duplication and allows for more fine-grained functionality such as:</p>\n<pre><code>Handling cross-cutting concerns such as application logging\nDetailed authorization checks\nManipulating the Spring context or model\n</code></pre>\n"}],"owner":{"account_id":5756545,"reputation":2210,"user_id":4544269,"accept_rate":40,"display_name":"rpieniazek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186980,"favorite_count":0,"down_vote_count":1,"up_vote_count":187,"accepted_answer_id":35856496,"answer_count":4,"score":186,"last_activity_date":1683135703,"creation_date":1457394716,"question_id":35856454,"body_markdown":"I&#39;m a little bit confused about `Filter` and `Interceptor` purposes. \r\n\r\nAs I understood from docs, `Interceptor` is run between requests. On the other hand `Filter` is run before rendering view, but after Controller rendered response. \r\n\r\nSo where is the difference between `postHandle()` in Interceptor and `doFilter()` in Filter? \r\n\r\n[![Spring MVC sheme][1]][1]\r\nWhat is the best practise in which use cases it should be used?\r\nIn this picture where works `Filter`s and `Interceptor`s?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1SMRk.png","title":"Difference between Interceptor and Filter in Spring MVC","body":"<p>I'm a little bit confused about <code>Filter</code> and <code>Interceptor</code> purposes. </p>\n\n<p>As I understood from docs, <code>Interceptor</code> is run between requests. On the other hand <code>Filter</code> is run before rendering view, but after Controller rendered response. </p>\n\n<p>So where is the difference between <code>postHandle()</code> in Interceptor and <code>doFilter()</code> in Filter? </p>\n\n<p><a href=\"https://i.stack.imgur.com/1SMRk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1SMRk.png\" alt=\"Spring MVC sheme\"></a>\nWhat is the best practise in which use cases it should be used?\nIn this picture where works <code>Filter</code>s and <code>Interceptor</code>s?</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1683128321,"post_id":76161031,"comment_id":134319835,"body_markdown":"Please tell us how you test this. Did you provide a **D** for `mode`? If so, can you test this with a debugger and tell us what the **exact** value of `mode` is?","body":"Please tell us how you test this. Did you provide a <b>D</b> for <code>mode</code>? If so, can you test this with a debugger and tell us what the <b>exact</b> value of <code>mode</code> is?"}],"answers":[{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683135320,"creation_date":1683135320,"answer_id":76166617,"question_id":76161031,"body_markdown":"The content of the innermost `else` block should be one level higher. The way you formatted the code, that was definitely your intention, but your IDE just added an unnecessary `else{}` :-)\r\nJust comment out two lines and it should work:\r\n```java-lang\r\n                    if (Character.isLetter(c)) {\r\n                        int shift = keyword.charAt(keywordIndex) - &#39;A&#39;;\r\n                        if (mode.equals(&quot;D&quot;)) {\r\n                            shift = 26 - shift;\r\n                        }\r\n                        // else {\r\n                        c = (char)(((c + shift - &#39;A&#39;) % 26) + &#39;A&#39;);\r\n                        keywordIndex = (keywordIndex + 1) % keyword.length();\r\n                        c = Character.toUpperCase(c);\r\n                        // }\r\n                    }\r\n```\r\n","title":"My vigenere cypher code cannot decrypt. Can anyone see what is the problem in my code?","body":"<p>The content of the innermost <code>else</code> block should be one level higher. The way you formatted the code, that was definitely your intention, but your IDE just added an unnecessary <code>else{}</code> :-)\nJust comment out two lines and it should work:</p>\n<pre><code>                    if (Character.isLetter(c)) {\n                        int shift = keyword.charAt(keywordIndex) - 'A';\n                        if (mode.equals(&quot;D&quot;)) {\n                            shift = 26 - shift;\n                        }\n                        // else {\n                        c = (char)(((c + shift - 'A') % 26) + 'A');\n                        keywordIndex = (keywordIndex + 1) % keyword.length();\n                        c = Character.toUpperCase(c);\n                        // }\n                    }\n</code></pre>\n"}],"owner":{"account_id":28490392,"reputation":15,"user_id":21803112,"display_name":"Terrance Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76166617,"answer_count":1,"score":1,"last_activity_date":1683135320,"creation_date":1683095701,"question_id":76161031,"body_markdown":"Im making a vigenere cipher with java. The encryption is working perfectly fine but I cant decrypt. Here is my code\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Do you want to encrypt or decrypt? (E/D): &quot;);\r\n        String mode = scanner.nextLine().toUpperCase();\r\n        System.out.print(&quot;Input file name: &quot;);\r\n        String inputFileName = scanner.nextLine();\r\n        System.out.print(&quot;Output file name: &quot;);\r\n        String outputFileName = scanner.nextLine();\r\n        System.out.print(&quot;Keyword (all capitals): &quot;);\r\n        String keyword = scanner.nextLine().toUpperCase();\r\n        scanner.close();\r\n        \r\n        try {\r\n            BufferedReader reader = new BufferedReader(new FileReader(inputFileName));\r\n            BufferedWriter writer = new BufferedWriter(new FileWriter(outputFileName));\r\n            \r\n            int keywordIndex = 0;\r\n            String line = reader.readLine();\r\n            while (line != null) {\r\n                for (int i = 0; i &lt; line.length(); i++) {\r\n                    char c = line.charAt(i);\r\n                    if (Character.isLetter(c)) {\r\n                        int shift = keyword.charAt(keywordIndex) - &#39;A&#39;;\r\n                        if (mode.equals(&quot;D&quot;)) {\r\n                        \tshift = 26 - shift;\r\n                        }\r\n                        else {\r\n                        c = (char)(((c + shift - &#39;A&#39;) % 26) + &#39;A&#39;);\r\n                        keywordIndex = (keywordIndex + 1) % keyword.length();\r\n                        c = Character.toUpperCase(c);\r\n                        }\r\n                    }\r\n                    writer.write(c);\r\n                }\r\n                writer.newLine();\r\n                line = reader.readLine();\r\n            }\r\n            reader.close();\r\n            writer.close();\r\n            \r\n            System.out.println(&quot;Done.&quot;);\r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nEverything about the code runs fine except the decryption part. For some reason it does not decrypt. It creates my output file too but the encryption is 1 the same or 2 encrypts it again.","title":"My vigenere cypher code cannot decrypt. Can anyone see what is the problem in my code?","body":"<p>Im making a vigenere cipher with java. The encryption is working perfectly fine but I cant decrypt. Here is my code</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Do you want to encrypt or decrypt? (E/D): &quot;);\n        String mode = scanner.nextLine().toUpperCase();\n        System.out.print(&quot;Input file name: &quot;);\n        String inputFileName = scanner.nextLine();\n        System.out.print(&quot;Output file name: &quot;);\n        String outputFileName = scanner.nextLine();\n        System.out.print(&quot;Keyword (all capitals): &quot;);\n        String keyword = scanner.nextLine().toUpperCase();\n        scanner.close();\n        \n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(inputFileName));\n            BufferedWriter writer = new BufferedWriter(new FileWriter(outputFileName));\n            \n            int keywordIndex = 0;\n            String line = reader.readLine();\n            while (line != null) {\n                for (int i = 0; i &lt; line.length(); i++) {\n                    char c = line.charAt(i);\n                    if (Character.isLetter(c)) {\n                        int shift = keyword.charAt(keywordIndex) - 'A';\n                        if (mode.equals(&quot;D&quot;)) {\n                            shift = 26 - shift;\n                        }\n                        else {\n                        c = (char)(((c + shift - 'A') % 26) + 'A');\n                        keywordIndex = (keywordIndex + 1) % keyword.length();\n                        c = Character.toUpperCase(c);\n                        }\n                    }\n                    writer.write(c);\n                }\n                writer.newLine();\n                line = reader.readLine();\n            }\n            reader.close();\n            writer.close();\n            \n            System.out.println(&quot;Done.&quot;);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>Everything about the code runs fine except the decryption part. For some reason it does not decrypt. It creates my output file too but the encryption is 1 the same or 2 encrypts it again.</p>\n"},{"tags":["java","spring","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1286445920,"creation_date":1286445920,"answer_id":3880573,"question_id":3880563,"body_markdown":"    org.springframework.orm.jpa.JpaTransactionManager\r\n\r\nMy preference is to use this with annotation:\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;myTxManager&quot; /&gt;","title":"What transaction manager to use? (JPA, Spring)","body":"<pre><code>org.springframework.orm.jpa.JpaTransactionManager\n</code></pre>\n\n<p>My preference is to use this with annotation:</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"myTxManager\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1683135243,"creation_date":1286447438,"answer_id":3880747,"question_id":3880563,"body_markdown":"[nanda is right][1], you *can* only use JpaTransactionManager. The Transaction Manager abstraction we are talking about here is Spring&#39;s [PlatformTransactionManager][2] interface, and [JPATransactionManager][3] is the only implementation of that interface that understands JPA.\r\n\r\nYou should read the chapter [Transaction Management][4] from the Spring reference to better understand this topic.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3880563/what-transaction-manager-to-use-jpa-spring/3880573#3880573\r\n  [2]: http://static.springsource.org/spring/docs/current/javadoc-api/index.html?org/springframework/transaction/PlatformTransactionManager.html &quot;org.springframework.transaction.PlatformTransactionManager (javadoc)&quot;\r\n  [3]: http://static.springsource.org/spring/docs/current/javadoc-api/index.html?org/springframework/orm/jpa/JpaTransactionManager.html &quot;org.springframework.orm.jpa.JpaTransactionManager (javadoc)&quot;\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction &quot;Spring Reference: Transaction Management&quot;","title":"What transaction manager to use? (JPA, Spring)","body":"<p><a href=\"https://stackoverflow.com/questions/3880563/what-transaction-manager-to-use-jpa-spring/3880573#3880573\">nanda is right</a>, you <em>can</em> only use JpaTransactionManager. The Transaction Manager abstraction we are talking about here is Spring's <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/index.html?org/springframework/transaction/PlatformTransactionManager.html\" rel=\"nofollow noreferrer\" title=\"org.springframework.transaction.PlatformTransactionManager (javadoc)\">PlatformTransactionManager</a> interface, and <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/index.html?org/springframework/orm/jpa/JpaTransactionManager.html\" rel=\"nofollow noreferrer\" title=\"org.springframework.orm.jpa.JpaTransactionManager (javadoc)\">JPATransactionManager</a> is the only implementation of that interface that understands JPA.</p>\n<p>You should read the chapter <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction\" rel=\"nofollow noreferrer\" title=\"Spring Reference: Transaction Management\">Transaction Management</a> from the Spring reference to better understand this topic.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502254221,"creation_date":1502254221,"answer_id":45581887,"question_id":3880563,"body_markdown":"The org.springframework.transaction.PlatformTransactionManager interface is the key abstraction in the Spring API providing essential methods for controlling transaction operations at run-time: begin, commit and rollback.\r\n\r\n**PlatformTransactionManager** interface, its implementations\r\n\r\n1. **JtaTransactionManager** -----&gt; *JTA*\r\n2. **DataSourceTransactionManager** -----&gt; *JDBC*\r\n3. **JpaTransactionManager** ------&gt; *JPA*\r\n4. **HibernateTransactionManager** ------&gt; *Hibernate*\r\n\r\nit depand on your requirment which moudle of spring your are using","title":"What transaction manager to use? (JPA, Spring)","body":"<p>The org.springframework.transaction.PlatformTransactionManager interface is the key abstraction in the Spring API providing essential methods for controlling transaction operations at run-time: begin, commit and rollback.</p>\n\n<p><strong>PlatformTransactionManager</strong> interface, its implementations</p>\n\n<ol>\n<li><strong>JtaTransactionManager</strong> -----> <em>JTA</em></li>\n<li><strong>DataSourceTransactionManager</strong> -----> <em>JDBC</em></li>\n<li><strong>JpaTransactionManager</strong> ------> <em>JPA</em></li>\n<li><strong>HibernateTransactionManager</strong> ------> <em>Hibernate</em></li>\n</ol>\n\n<p>it depand on your requirment which moudle of spring your are using</p>\n"}],"owner":{"account_id":97884,"reputation":13378,"user_id":265289,"accept_rate":98,"display_name":"John Manak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38459,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3880747,"answer_count":3,"score":29,"last_activity_date":1683135243,"creation_date":1286445797,"question_id":3880563,"body_markdown":"I&#39;m developing a web application based on JPA + Hibernate, Spring and Wicket. I was wondering what&#39;s the best way of implementing transactions in my code? What transaction manager should I use? Should it be `org.springframework.orm.jpa.JpaTransactionManager`, or `org.springframework.jdbc.datasource.DataSourceTransactionManager` or something else? I&#39;d like to use Spring for managing my transactions.","title":"What transaction manager to use? (JPA, Spring)","body":"<p>I'm developing a web application based on JPA + Hibernate, Spring and Wicket. I was wondering what's the best way of implementing transactions in my code? What transaction manager should I use? Should it be <code>org.springframework.orm.jpa.JpaTransactionManager</code>, or <code>org.springframework.jdbc.datasource.DataSourceTransactionManager</code> or something else? I'd like to use Spring for managing my transactions.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"score":0,"creation_date":1683217327,"post_id":76165196,"comment_id":134336349,"body_markdown":"You can try annotating your ```ServiceRepo``` with ```@Repository``` annotation and remove the ```findById(Long id)``` method declaration from this interface. Implementation for this method is already provided by ```SimpleJpaRepository```. So use the default one.","body":"You can try annotating your <code>ServiceRepo</code> with <code>@Repository</code> annotation and remove the <code>findById(Long id)</code> method declaration from this interface. Implementation for this method is already provided by <code>SimpleJpaRepository</code>. So use the default one."}],"answers":[{"tags":[],"owner":{"account_id":22576767,"reputation":169,"user_id":16762098,"display_name":"AbrahamSantos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683125866,"creation_date":1683125866,"answer_id":76165331,"question_id":76165196,"body_markdown":"I see you&#39;re triying to use @RequestParam to get the param value, but you get the param like a @PathVariable, change the annotation to @PathVariable and try again.\r\n\r\nI hope this link can help you.\r\n\r\nhttps://www.baeldung.com/spring-pathvariable\r\n\r\nOr if you want to use @RequestParam, so, send your request like: http://localhost:8080/service?id=1","title":"JPA findById returns null however the data exists","body":"<p>I see you're triying to use @RequestParam to get the param value, but you get the param like a @PathVariable, change the annotation to @PathVariable and try again.</p>\n<p>I hope this link can help you.</p>\n<p><a href=\"https://www.baeldung.com/spring-pathvariable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-pathvariable</a></p>\n<p>Or if you want to use @RequestParam, so, send your request like: http://localhost:8080/service?id=1</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683135115,"creation_date":1683135115,"answer_id":76166601,"question_id":76165196,"body_markdown":"Service class need to be annotated as such. Otherwise the `@Autowired` will not work.\r\n\r\n**Solution**\r\n\r\nAdd the annotation like this:\r\n\r\n    @Service\r\n    public class ServiceService {\r\n    // ...\r\n    }","title":"JPA findById returns null however the data exists","body":"<p>Service class need to be annotated as such. Otherwise the <code>@Autowired</code> will not work.</p>\n<p><strong>Solution</strong></p>\n<p>Add the annotation like this:</p>\n<pre><code>@Service\npublic class ServiceService {\n// ...\n}\n</code></pre>\n"}],"owner":{"account_id":23477743,"reputation":23,"user_id":17530310,"display_name":"nicole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683135115,"creation_date":1683125151,"question_id":76165196,"body_markdown":"I need to return a service info by id. I&#39;ve tried different variations of writing my code but they all lead to java not seeing the value by its id.\r\n\r\nService Model:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Service {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private BigDecimal price;\r\n}\r\n```\r\nService:\r\n```\r\npublic class ServiceService {\r\n    @Autowired\r\n    private ServiceRepo serviceRepo;\r\n\r\n    public Service getById(Long id) {\r\n        return serviceRepo.findById(id).get();\r\n    }\r\n}\r\n```\r\nRepository:\r\n\r\n```\r\npublic interface ServiceRepo extends JpaRepository&lt;Service, Long&gt;, JpaSpecificationExecutor&lt;Service&gt; {\r\n    Optional&lt;Service&gt; findById(Long id);\r\n}\r\n```\r\n\r\nAnd conroller:\r\n```\r\n@Controller\r\npublic class AllServices {\r\n    @Autowired\r\n    private ServiceRepo serviceRepo;\r\n\r\n    @GetMapping(&quot;/services&quot;)\r\n    public String allServices(Model model){\r\n        List&lt;Service&gt; services = serviceRepo.findAll();\r\n        model.addAttribute(&quot;services&quot;, services);\r\n        return &quot;services&quot;;\r\n    }\r\n\r\n    @Autowired\r\n    private ServiceService serviceService;\r\n\r\n    @GetMapping(&quot;/services/{id}&quot;)\r\n    public ResponseEntity&lt;Service&gt; getServiceById(@RequestParam(value = &quot;id&quot;, required = false) Long id){\r\n        try{\r\n            Service service = serviceService.getById(id);\r\n            return new ResponseEntity&lt;&gt;(service, HttpStatus.OK);\r\n        }catch(NoSuchElementException e){\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n}\r\n```\r\nWhen it comes to all services, it returns all values, but here it doesn&#39;t see them. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a8IfN.png\r\n  [2]: https://i.stack.imgur.com/jndca.png\r\n  [3]: https://i.stack.imgur.com/3fVel.png\r\n\r\nThese answers and many others didn&#39;t help:\r\n\r\nhttps://stackoverflow.com/questions/57049480/jpa-repository-findbyid-returns-null-but-the-value-is-exist-on-db\r\n\r\nhttps://stackoverflow.com/questions/37107570/exception-org-springframework-web-bind-missingservletrequestparameterexception","title":"JPA findById returns null however the data exists","body":"<p>I need to return a service info by id. I've tried different variations of writing my code but they all lead to java not seeing the value by its id.</p>\n<p>Service Model:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Service {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private BigDecimal price;\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public class ServiceService {\n    @Autowired\n    private ServiceRepo serviceRepo;\n\n    public Service getById(Long id) {\n        return serviceRepo.findById(id).get();\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface ServiceRepo extends JpaRepository&lt;Service, Long&gt;, JpaSpecificationExecutor&lt;Service&gt; {\n    Optional&lt;Service&gt; findById(Long id);\n}\n</code></pre>\n<p>And conroller:</p>\n<pre><code>@Controller\npublic class AllServices {\n    @Autowired\n    private ServiceRepo serviceRepo;\n\n    @GetMapping(&quot;/services&quot;)\n    public String allServices(Model model){\n        List&lt;Service&gt; services = serviceRepo.findAll();\n        model.addAttribute(&quot;services&quot;, services);\n        return &quot;services&quot;;\n    }\n\n    @Autowired\n    private ServiceService serviceService;\n\n    @GetMapping(&quot;/services/{id}&quot;)\n    public ResponseEntity&lt;Service&gt; getServiceById(@RequestParam(value = &quot;id&quot;, required = false) Long id){\n        try{\n            Service service = serviceService.getById(id);\n            return new ResponseEntity&lt;&gt;(service, HttpStatus.OK);\n        }catch(NoSuchElementException e){\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n}\n</code></pre>\n<p>When it comes to all services, it returns all values, but here it doesn't see them.</p>\n<p><a href=\"https://i.stack.imgur.com/a8IfN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a8IfN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jndca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jndca.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3fVel.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3fVel.png\" alt=\"enter image description here\" /></a></p>\n<p>These answers and many others didn't help:</p>\n<p><a href=\"https://stackoverflow.com/questions/57049480/jpa-repository-findbyid-returns-null-but-the-value-is-exist-on-db\">JPA Repository.findById() returns null but the value is exist on db</a></p>\n<p><a href=\"https://stackoverflow.com/questions/37107570/exception-org-springframework-web-bind-missingservletrequestparameterexception\">Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present</a></p>\n"},{"tags":["java","jooq","ratpack"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682404961,"creation_date":1682404961,"answer_id":76098255,"question_id":76096734,"body_markdown":"### The JSONB column\r\n\r\nWhile sometimes, the pgjdbc driver and PostgreSQL server can coerce a string value into a `JSONB` value, it doesn&#39;t always work, so the safest bet is to always cast explicitly, i.e.:\r\n\r\n```sql\r\ndetails = cast(:details as jsonb)\r\n```\r\n\r\n### The `NULL` value\r\n\r\nYou&#39;re not setting the timestamp to `NULL` (the value), you&#39;re setting it to `&#39;NULL&#39;` (the string literal). Just omit the apostrophes\r\n\r\n```sql\r\ncreated_timestamp = NULL\r\n```\r\n\r\n### Using the code generator and the DSL\r\n\r\nYou probably have your reasons for using plain SQL like this, but please note that jOOQ&#39;s API, DSL, and code generator handle all of these things for you transparently. You&#39;d just write:\r\n\r\n```java\r\nctx.update(CUSTOMER)\r\n   .set(CUSTOMER.NAME, name)\r\n\r\n   // You could even attach a Converter to this column to auto-convert\r\n   // between your object representation and the JSONB representation!\r\n   .set(CUSTOMER.DETAILS, jsonb(objectmapper.writeValueAsString(object)))\r\n   .setNull(CUSTOMER.CREATED_TIMESTAMP)\r\n   .returning()\r\n   .fetchMaps();\r\n```\r\n\r\nSee this blog post on [why it is usually recommended to use code generation with jOOQ][1].\r\n\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"DslContext Jooq update timestamp with time zone column as null","body":"<h3>The JSONB column</h3>\n<p>While sometimes, the pgjdbc driver and PostgreSQL server can coerce a string value into a <code>JSONB</code> value, it doesn't always work, so the safest bet is to always cast explicitly, i.e.:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>details = cast(:details as jsonb)\n</code></pre>\n<h3>The <code>NULL</code> value</h3>\n<p>You're not setting the timestamp to <code>NULL</code> (the value), you're setting it to <code>'NULL'</code> (the string literal). Just omit the apostrophes</p>\n<pre class=\"lang-sql prettyprint-override\"><code>created_timestamp = NULL\n</code></pre>\n<h3>Using the code generator and the DSL</h3>\n<p>You probably have your reasons for using plain SQL like this, but please note that jOOQ's API, DSL, and code generator handle all of these things for you transparently. You'd just write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.update(CUSTOMER)\n   .set(CUSTOMER.NAME, name)\n\n   // You could even attach a Converter to this column to auto-convert\n   // between your object representation and the JSONB representation!\n   .set(CUSTOMER.DETAILS, jsonb(objectmapper.writeValueAsString(object)))\n   .setNull(CUSTOMER.CREATED_TIMESTAMP)\n   .returning()\n   .fetchMaps();\n</code></pre>\n<p>See this blog post on <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">why it is usually recommended to use code generation with jOOQ</a>.</p>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683134927,"creation_date":1683134927,"answer_id":76166579,"question_id":76096734,"body_markdown":"I couldn&#39;t figure out the issue with `jooq` library, but on updating values to `NULL` i found alternative like using `StringBuilder` and forming it as string\r\n\r\n    String sql = new StringBuilder(&quot;UPDATE customer SET&quot; )\r\n                    .append(&quot;name = &#39;&quot;+name+&quot;&#39;, &quot;)\r\n                    .append(&quot;details = &#39;&quot;+details+&quot;&#39;, &quot;)\r\n                    .append(&quot;created_timestamp = NULL &quot;)\r\n                    .append(&quot;where id = &#39;&quot;+id+&quot;&#39; RETURNING id&quot;).toString();\r\n\r\nand the just using `resultQuery`\r\n\r\n     List&lt;Map&lt;String,Object&gt;&gt; updatedCapacityResult = dslContext.resultQuery(sql).fetchMaps();","title":"DslContext Jooq update timestamp with time zone column as null","body":"<p>I couldn't figure out the issue with <code>jooq</code> library, but on updating values to <code>NULL</code> i found alternative like using <code>StringBuilder</code> and forming it as string</p>\n<pre><code>String sql = new StringBuilder(&quot;UPDATE customer SET&quot; )\n                .append(&quot;name = '&quot;+name+&quot;', &quot;)\n                .append(&quot;details = '&quot;+details+&quot;', &quot;)\n                .append(&quot;created_timestamp = NULL &quot;)\n                .append(&quot;where id = '&quot;+id+&quot;' RETURNING id&quot;).toString();\n</code></pre>\n<p>and the just using <code>resultQuery</code></p>\n<pre><code> List&lt;Map&lt;String,Object&gt;&gt; updatedCapacityResult = dslContext.resultQuery(sql).fetchMaps();\n</code></pre>\n"}],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76166579,"answer_count":2,"score":1,"last_activity_date":1683134927,"creation_date":1682378687,"question_id":76096734,"body_markdown":"I have `Customer` table in postgres DB with `id` as primary key and below columns\r\n\r\n    id -&gt; Integer(PK)\r\n    name -&gt; Varchar2\r\n    details-&gt; jsonb\r\n    created_timestamp -&gt; TIMESTAMP WITH TIME ZONE\r\n\r\nI&#39;m trying to update table based on primary key using [dslContext.resultQuery][1] method, i have to update the `name`, `details` the jsonb column and set `created_timestamp` as null\r\n\r\n    String sql = &quot;UPDATE customer SET name = :name, details = :details, created_timestamp = &#39;NULL&#39; where id = :id RETURNING id&quot;;\r\n\r\n**Java Code**\r\n\r\n    List&lt;Map&lt;String,Object&gt;&gt; updatedCapacityResult = dslContext.resultQuery(sql,\r\n          DSL.param(&quot;name&quot;,&quot;value&quot;),\r\n          DSL.param(&quot;details&quot;,objectmapper.writeValueAsString(object))).fetchMaps();\r\n\r\n\r\nI&#39;m having error while executing the code and it simply says \r\n\r\n    org.jooq.exception.DataAccessException: SQL [UPDATE customer SET name = :name, details = :details, created_timestamp = &#39;NULL&#39; where id = :id RETURNING id; ERROR: syntax error at or near &quot;details&quot;\r\n     Position: 60\r\n\r\nWhen i removed the code to update `details`, then it started erroring out on `created_timestamp` field, if i just updated the `name` using above query it updates and return the data as well.\r\n\r\nCurious what i have missed here and how to updated `jsonb` and `timestamp` columns ?\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#resultQuery(java.lang.String,java.lang.Object...)","title":"DslContext Jooq update timestamp with time zone column as null","body":"<p>I have <code>Customer</code> table in postgres DB with <code>id</code> as primary key and below columns</p>\n<pre><code>id -&gt; Integer(PK)\nname -&gt; Varchar2\ndetails-&gt; jsonb\ncreated_timestamp -&gt; TIMESTAMP WITH TIME ZONE\n</code></pre>\n<p>I'm trying to update table based on primary key using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#resultQuery(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">dslContext.resultQuery</a> method, i have to update the <code>name</code>, <code>details</code> the jsonb column and set <code>created_timestamp</code> as null</p>\n<pre><code>String sql = &quot;UPDATE customer SET name = :name, details = :details, created_timestamp = 'NULL' where id = :id RETURNING id&quot;;\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>List&lt;Map&lt;String,Object&gt;&gt; updatedCapacityResult = dslContext.resultQuery(sql,\n      DSL.param(&quot;name&quot;,&quot;value&quot;),\n      DSL.param(&quot;details&quot;,objectmapper.writeValueAsString(object))).fetchMaps();\n</code></pre>\n<p>I'm having error while executing the code and it simply says</p>\n<pre><code>org.jooq.exception.DataAccessException: SQL [UPDATE customer SET name = :name, details = :details, created_timestamp = 'NULL' where id = :id RETURNING id; ERROR: syntax error at or near &quot;details&quot;\n Position: 60\n</code></pre>\n<p>When i removed the code to update <code>details</code>, then it started erroring out on <code>created_timestamp</code> field, if i just updated the <code>name</code> using above query it updates and return the data as well.</p>\n<p>Curious what i have missed here and how to updated <code>jsonb</code> and <code>timestamp</code> columns ?</p>\n"},{"tags":["java","servlets","jco"],"comments":[{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1476362385,"post_id":40019285,"comment_id":67319153,"body_markdown":"if your code sample is complete and unchanged, the table referenced by  GETZPRTL_VISIT would contain 10 rows, all identical. Is it possible there is some kind of filtering on the function module side going on? Table CUSTOMER_VISIT is a table parameter of the function module, not just a structure?","body":"if your code sample is complete and unchanged, the table referenced by  GETZPRTL_VISIT would contain 10 rows, all identical. Is it possible there is some kind of filtering on the function module side going on? Table CUSTOMER_VISIT is a table parameter of the function module, not just a structure?"},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1476364766,"post_id":40019285,"comment_id":67321221,"body_markdown":"CUSTOMER_VISIT is table in side function module.","body":"CUSTOMER_VISIT is table in side function module."},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1476364876,"post_id":40019285,"comment_id":67321312,"body_markdown":"Everything  working fine if there is only one record. But if there is more than 2 record, it store only last one.","body":"Everything  working fine if there is only one record. But if there is more than 2 record, it store only last one."},{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1476366268,"post_id":40019285,"comment_id":67322415,"body_markdown":"have you verified that only one record is actually sent to the SAP system? I can&#39;t find anything wrong with your code and the question would be if the problem lies within the function module. You could test the function module within the SAP system without having to call it from a JCo connection.","body":"have you verified that only one record is actually sent to the SAP system? I can&#39;t find anything wrong with your code and the question would be if the problem lies within the function module. You could test the function module within the SAP system without having to call it from a JCo connection."},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1476422802,"post_id":40019285,"comment_id":67347475,"body_markdown":"I test my function module with in SAP system. First I add 3 row of data in Table(CUSTOMER_VISIT) after fill other data (USER_ID, TYPE, REASON, STATUS and NUMBER). And click on Execute. This will run properly. It will save all 3 row in table.","body":"I test my function module with in SAP system. First I add 3 row of data in Table(CUSTOMER_VISIT) after fill other data (USER_ID, TYPE, REASON, STATUS and NUMBER). And click on Execute. This will run properly. It will save all 3 row in table."},{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":1,"creation_date":1476423724,"post_id":40019285,"comment_id":67347852,"body_markdown":"one other problem I can see is that setValue() seems to expect the column name first, then the value. You call setValue() with the value first, then the column. Maybe that is just in your sample code. To be honest, at this point I&#39;d step into the debugger and see what may be wrong with your code. Check if the table parameter really contains several rows or if there is some other problem in the application logic.","body":"one other problem I can see is that setValue() seems to expect the column name first, then the value. You call setValue() with the value first, then the column. Maybe that is just in your sample code. To be honest, at this point I&#39;d step into the debugger and see what may be wrong with your code. Check if the table parameter really contains several rows or if there is some other problem in the application logic."},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1476428131,"post_id":40019285,"comment_id":67349906,"body_markdown":"I tried to add column name first and value as second parameter, But this gives me and error JCO_ERROR_FIELD_NOT_FOUND : field 024687 is not a member of VISIT_REPORT.","body":"I tried to add column name first and value as second parameter, But this gives me and error JCO_ERROR_FIELD_NOT_FOUND : field 024687 is not a member of VISIT_REPORT."},{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1476429645,"post_id":40019285,"comment_id":67350736,"body_markdown":"looks like you&#39;re right, setvalue() has several overloads and the (string,string) variant needs value first, then column name: https://help.sap.com/javadocs/NW04/current/jc/com/sap/mw/jco/JCO.Record.html#setValue(java.lang.String,%20java.lang.String).","body":"looks like you&#39;re right, setvalue() has several overloads and the (string,string) variant needs value first, then column name: <a href=\"https://help.sap.com/javadocs/NW04/current/jc/com/sap/mw/jco/JCO.Record.html#setValue(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">help.sap.com/javadocs/NW04/current/jc/com/sap/mw/jco/&hellip;</a>."},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1476430034,"post_id":40019285,"comment_id":67350940,"body_markdown":"I also tried this way also.\n\n`ParameterList parameterList = function.getTableParameterList();\ntable.appendRow();\ntable.setValue(&quot;Value&quot;,&quot;COLUMN&quot;);\nparameterList.setValue(table,&quot;VISIT_REPORT&quot;);\nfunction.setTableParameterList(parameterList);`\n\nBut no success. Only Last raw saved in.","body":"I also tried this way also.  <code>ParameterList parameterList = function.getTableParameterList(); table.appendRow(); table.setValue(&quot;Value&quot;,&quot;COLUMN&quot;); parameterList.setValue(table,&quot;VISIT_REPORT&quot;); function.setTableParameterList(parameterList);</code>  But no success. Only Last raw saved in."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1515449392,"post_id":40019285,"comment_id":83297040,"body_markdown":"@DirkTrilsbeek JCo 2 expected the value first and the name of the field second in `setValue(String, String)` while it is vice versa with JCo 3. Brings a lot of fun if you have to migrate from the former to the latter.","body":"@DirkTrilsbeek JCo 2 expected the value first and the name of the field second in <code>setValue(String, String)</code> while it is vice versa with JCo 3. Brings a lot of fun if you have to migrate from the former to the latter."},{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1515482936,"post_id":40019285,"comment_id":83305606,"body_markdown":"@Lothar sounds like someone at SAP really hates their customers ;)","body":"@Lothar sounds like someone at SAP really hates their customers ;)"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1515489720,"post_id":40019285,"comment_id":83308913,"body_markdown":"@ChiragSavsani Your code misses the retrieval of the repository. If the code you provided is the actual one, `createFunction` should end up with a `NullPointerException` because `mRepository` is `null`, You create a new connection each time you call `updateCustomerToSAP`. If you retrieved the repsository from an older connection, the repository and the connection no longer &quot;fit&quot; together, leading to problems. The way you fill the table parameter is OK.","body":"@ChiragSavsani Your code misses the retrieval of the repository. If the code you provided is the actual one, <code>createFunction</code> should end up with a <code>NullPointerException</code> because <code>mRepository</code> is <code>null</code>, You create a new connection each time you call <code>updateCustomerToSAP</code>. If you retrieved the repsository from an older connection, the repository and the connection no longer &quot;fit&quot; together, leading to problems. The way you fill the table parameter is OK."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1515490002,"post_id":40019285,"comment_id":83309062,"body_markdown":"@DirkTrilsbeek Don&#39;t get me started on this...","body":"@DirkTrilsbeek Don&#39;t get me started on this..."},{"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"score":0,"creation_date":1520252281,"post_id":40019285,"comment_id":85225618,"body_markdown":"&quot;one other problem I can see is that setValue() seems to expect the column name first, then the value.&quot; -- No, in JCo2 it was indeed &quot;value first, column name second&quot;... Very strange indeed... SAP fixed this with JCo3. But in this example obviously JCo2 is still used.","body":"&quot;one other problem I can see is that setValue() seems to expect the column name first, then the value.&quot; -- No, in JCo2 it was indeed &quot;value first, column name second&quot;... Very strange indeed... SAP fixed this with JCo3. But in this example obviously JCo2 is still used."}],"answers":[{"tags":[],"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520252671,"creation_date":1520252671,"answer_id":49110476,"question_id":40019285,"body_markdown":"Can it be the problem is in the ABAP code of the function module? People not familiar with ABAP can easily confuse the &quot;header line of a table&quot; with the &quot;table itself&quot;...\r\n\r\nCould it be possible that only the header line is inserted into the database?\r\n\r\nYou can see, what data JCo sends to R/3, if you activate the JCo trace level. You could also set an external breakpoint on ABAP side and then step through the function module to see first hand, what data it got.","title":"How to set multiple data in JCo Table using RFC?","body":"<p>Can it be the problem is in the ABAP code of the function module? People not familiar with ABAP can easily confuse the \"header line of a table\" with the \"table itself\"...</p>\n\n<p>Could it be possible that only the header line is inserted into the database?</p>\n\n<p>You can see, what data JCo sends to R/3, if you activate the JCo trace level. You could also set an external breakpoint on ABAP side and then step through the function module to see first hand, what data it got.</p>\n"}],"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683134783,"creation_date":1476356744,"question_id":40019285,"body_markdown":"I want to add multiple data in my JCo Table using RFC to SAP server.\r\n\r\nBelow is my Code. \r\n\r\n**But problem is only last raw will be set to sap.** \r\n\r\nWhat I am missing?\r\n\r\nI am using one function for sync data with SAP.\r\n\r\n    JCO.Function function = null;\r\n    JCO.Repository mRepository;\r\n    \r\n    public String updateCustomerToSAP(String bapi){\r\n    \r\n    \tString message = null;\r\n    \tConnection conn = new Connection();\r\n    \tJCO.client mConnection = conn.open();\r\n    \tJCO.Table GETZPRTL_VISIT = null;\r\n    \tmConnection.connect();\r\n    \t\r\n    \ttry{\r\n    \t\tfunction = this.createFunction(bapi);\r\n    \t\tif(function == null){\r\n    \t\t\t// Not fount\r\n    \t\t}else{\r\n    \t\t\tGETZPRTL_VISIT = function.getTableParameterList().getTable(&quot;CUSTOMER_VISIT&quot;);\r\n    \t\t\t\r\n    \t\t\tfor(int i = 0 ; i &lt; 10 ; i++){\r\n    \t\t\t\tGETZPRTL_VISIT.appendRow();\r\n    \t\t\t\tGETZPRTL_VISIT.setValue(&quot;0001 &quot;+i,&quot;ID&quot;);\r\n    \t\t\t\tGETZPRTL_VISIT.setValue(&quot;john_ro &quot;+i,&quot;USER_NAME&quot;);\r\n    \t\t\t\tGETZPRTL_VISIT.setValue(&quot;John &quot;+i,&quot;FIRST_NAME&quot;);\r\n    \t\t\t\tGETZPRTL_VISIT.setValue(&quot;Martin &quot;+i,&quot;LAST_NAME&quot;);\r\n    \t\t\t\tGETZPRTL_VISIT.setValue(&quot;john.martin@gmail.com &quot;+i,&quot;EMAIL&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Above data is just for and example. I fetch those data from ArrayList and all data are diffrent.\r\n    \t\t\r\n    \t\t\tfunction.getImportParameterList().setValue(&quot;Data1&quot;,&quot;USER_ID&quot;);\r\n    \t\t\tfunction.getImportParameterList().setValue(&quot;type goes here&quot;,&quot;TYPE&quot;);\r\n    \t\t\tfunction.getImportParameterList().setValue(&quot;reason goes here&quot;,&quot;REASON&quot;);\r\n    \t\t\tfunction.getImportParameterList().setValue(&quot;final status&quot;,&quot;STATUS&quot;);\r\n    \t\t\tfunction.getImportParameterList().setValue(&quot;0001&quot;,&quot;NUMBER&quot;);\r\n    \t\t\r\n    \t\t\tmConnection.execute(function);\r\n    \t\t\tmessage = (String) function.getExportParameterList().getValue(&quot;MESSAGE&quot;);\r\n    \t\t\r\n    \t\t}\r\n    \t}catch(Exception e){\r\n    \t\r\n    \t}\r\n    \tconn.disconnect();\r\n    \t\r\n    \treturn message;\r\n    } \r\n    \r\n    public JCO.Function createFunction(String name) throws Exception{\r\n    \ttry{\r\n    \t\tIFunctionTamplate ft = mRepository.getFunctionTamplate(name.toUpperCase());\r\n    \t\t\r\n    \t\tif(ft == null)\r\n    \t\t\treturn null;\r\n    \t\treturn ft.getFunction();\r\n    \t\t\r\n    \t}catch(Exception e){\r\n    \t\tthrow new Exception(&quot;Problem retriving JCO.Function object&quot;+ e);\r\n    \t}\r\n    }\r\n\r\nHere **CUSTOMER_VISIT** is **Table** which is inside of my RFC.\r\n\r\n**Structure Example**\r\n\r\n\tUSER_ID\r\n\tTYPE\r\n\tREASON\r\n\tSTATUS\r\n\tNUMBER\r\n\tCUSTOMER_VISIT    &lt;= This is Table inside function module.\r\n\t\r\n**CUSTOMER_VISIT** Table Structure\r\n\t\r\n\tID\r\n\tUSER_NAME\r\n\tFIRST_NAME\r\n\tLAST_NAME\r\n\tEMAIL\r\n","title":"How to set multiple data in JCo Table using RFC?","body":"<p>I want to add multiple data in my JCo Table using RFC to SAP server.</p>\n<p>Below is my Code.</p>\n<p><strong>But problem is only last raw will be set to sap.</strong></p>\n<p>What I am missing?</p>\n<p>I am using one function for sync data with SAP.</p>\n<pre><code>JCO.Function function = null;\nJCO.Repository mRepository;\n\npublic String updateCustomerToSAP(String bapi){\n\n    String message = null;\n    Connection conn = new Connection();\n    JCO.client mConnection = conn.open();\n    JCO.Table GETZPRTL_VISIT = null;\n    mConnection.connect();\n    \n    try{\n        function = this.createFunction(bapi);\n        if(function == null){\n            // Not fount\n        }else{\n            GETZPRTL_VISIT = function.getTableParameterList().getTable(&quot;CUSTOMER_VISIT&quot;);\n            \n            for(int i = 0 ; i &lt; 10 ; i++){\n                GETZPRTL_VISIT.appendRow();\n                GETZPRTL_VISIT.setValue(&quot;0001 &quot;+i,&quot;ID&quot;);\n                GETZPRTL_VISIT.setValue(&quot;john_ro &quot;+i,&quot;USER_NAME&quot;);\n                GETZPRTL_VISIT.setValue(&quot;John &quot;+i,&quot;FIRST_NAME&quot;);\n                GETZPRTL_VISIT.setValue(&quot;Martin &quot;+i,&quot;LAST_NAME&quot;);\n                GETZPRTL_VISIT.setValue(&quot;john.martin@gmail.com &quot;+i,&quot;EMAIL&quot;);\n            }\n            \n            // Above data is just for and example. I fetch those data from ArrayList and all data are diffrent.\n        \n            function.getImportParameterList().setValue(&quot;Data1&quot;,&quot;USER_ID&quot;);\n            function.getImportParameterList().setValue(&quot;type goes here&quot;,&quot;TYPE&quot;);\n            function.getImportParameterList().setValue(&quot;reason goes here&quot;,&quot;REASON&quot;);\n            function.getImportParameterList().setValue(&quot;final status&quot;,&quot;STATUS&quot;);\n            function.getImportParameterList().setValue(&quot;0001&quot;,&quot;NUMBER&quot;);\n        \n            mConnection.execute(function);\n            message = (String) function.getExportParameterList().getValue(&quot;MESSAGE&quot;);\n        \n        }\n    }catch(Exception e){\n    \n    }\n    conn.disconnect();\n    \n    return message;\n} \n\npublic JCO.Function createFunction(String name) throws Exception{\n    try{\n        IFunctionTamplate ft = mRepository.getFunctionTamplate(name.toUpperCase());\n        \n        if(ft == null)\n            return null;\n        return ft.getFunction();\n        \n    }catch(Exception e){\n        throw new Exception(&quot;Problem retriving JCO.Function object&quot;+ e);\n    }\n}\n</code></pre>\n<p>Here <strong>CUSTOMER_VISIT</strong> is <strong>Table</strong> which is inside of my RFC.</p>\n<p><strong>Structure Example</strong></p>\n<pre><code>USER_ID\nTYPE\nREASON\nSTATUS\nNUMBER\nCUSTOMER_VISIT    &lt;= This is Table inside function module.\n</code></pre>\n<p><strong>CUSTOMER_VISIT</strong> Table Structure</p>\n<pre><code>ID\nUSER_NAME\nFIRST_NAME\nLAST_NAME\nEMAIL\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9534,"page":458,"page_size":100}
