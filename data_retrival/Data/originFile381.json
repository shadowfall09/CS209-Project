{"items":[{"tags":["java","raspberry-pi"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1686275679,"post_id":76436695,"comment_id":134780130,"body_markdown":"how did you install java?","body":"how did you install java?"},{"owner":{"account_id":22202776,"reputation":1,"user_id":16443171,"display_name":"pythondude247"},"score":0,"creation_date":1686276936,"post_id":76436695,"comment_id":134780209,"body_markdown":"@drum sudo apt install openjdk-8-jdk","body":"@drum sudo apt install openjdk-8-jdk"},{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1686279022,"post_id":76436695,"comment_id":134780337,"body_markdown":"try this? https://forums.raspberrypi.com/viewtopic.php?t=212040","body":"try this? <a href=\"https://forums.raspberrypi.com/viewtopic.php?t=212040\" rel=\"nofollow noreferrer\">forums.raspberrypi.com/viewtopic.php?t=212040</a>"}],"owner":{"account_id":22202776,"reputation":1,"user_id":16443171,"display_name":"pythondude247"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686330068,"answer_count":0,"score":0,"last_activity_date":1686275160,"creation_date":1686275160,"question_id":76436695,"body_markdown":"When I run \r\n```\r\njava --version\r\n```\r\nor any other java command on my raspberry pi I get this error:\r\n\r\n```\r\nError occurred during initialization of VM\r\nServer VM is only supported on ARMv7+ VFP\r\n```\r\n\r\nI tried to run\r\n\r\n```\r\njava --version\r\n```\r\nand I expected the java version to be returned but I got the error\r\n\r\n```\r\nError occurred during initialization of VM\r\nServer VM is only supported on ARMv7+ VFP\r\n```\r\n(using a raspberry pi b+)\r\n\r\nThanks!","title":"Error when running java command raspberry pi","body":"<p>When I run</p>\n<pre><code>java --version\n</code></pre>\n<p>or any other java command on my raspberry pi I get this error:</p>\n<pre><code>Error occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP\n</code></pre>\n<p>I tried to run</p>\n<pre><code>java --version\n</code></pre>\n<p>and I expected the java version to be returned but I got the error</p>\n<pre><code>Error occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP\n</code></pre>\n<p>(using a raspberry pi b+)</p>\n<p>Thanks!</p>\n"},{"tags":["java","plc4x","apache-plc4x"],"answers":[{"tags":[],"owner":{"account_id":9418913,"reputation":1,"user_id":7039797,"display_name":"hongjl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686274969,"creation_date":1686098442,"answer_id":76419223,"question_id":76189674,"body_markdown":"Please try the following\r\n\r\n&gt; If you want to use the S7200 smart thing ... you need to tell the driver about the type of plc, so it will not ask the PLC. Because in case of the S7200 it just hangs up (which you are seeing in your exception) ... so please add:\r\n?controller-type=S7_200\r\nTo your connection string.\r\n\r\n\r\nSee detail [plc4x/issues/731][1]\r\n\r\n\r\n  [1]: https://github.com/apache/plc4x/issues/731#issuecomment-1373482494","title":"How can I access S7-200 SMART using PLC4x in Java?","body":"<p>Please try the following</p>\n<blockquote>\n<p>If you want to use the S7200 smart thing ... you need to tell the driver about the type of plc, so it will not ask the PLC. Because in case of the S7200 it just hangs up (which you are seeing in your exception) ... so please add:\n?controller-type=S7_200\nTo your connection string.</p>\n</blockquote>\n<p>See detail <a href=\"https://github.com/apache/plc4x/issues/731#issuecomment-1373482494\" rel=\"nofollow noreferrer\">plc4x/issues/731</a></p>\n"}],"owner":{"account_id":2032339,"reputation":329,"user_id":1815662,"accept_rate":0,"display_name":"zhy1378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686274969,"creation_date":1683386528,"question_id":76189674,"body_markdown":"I want to access S7-200 Smart using PLC4x. I have tested PLC4x on S7-1200, and it works. However, when I try to access S7-200, it always fails.\r\n\r\nThe CPU of the PLC is 6ES7 288.\r\n\r\nHere are the code snippets:\r\n\r\n```\r\nplc.connectionURL = &quot;s7://192.168.1.34&quot;;\r\n\r\nPlcConnection plcConnection = driverManager.getConnection(plc.connectionURL);\r\n```\r\n\r\nWhen I try to connect, an error occurs and the following exception is thrown:\r\n\r\n23:13:45.914 [nioEventLoopGroup-2-1] WARN i.n.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\n\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.plc4x.java.api.exceptions.PlcIoException: Connection terminated by remote.\r\n\r\nI have also tried accessing the same PLC using the tool from http://www.hslcommunication.cn/ and it works properly. Therefore, the PLC does not seem to be the problem.\r\n\r\nI have also tried using the s7connector library, but it only works on S7-1200, not on S7-200 Smart.\r\n\r\nPlease help me and thanks very much!","title":"How can I access S7-200 SMART using PLC4x in Java?","body":"<p>I want to access S7-200 Smart using PLC4x. I have tested PLC4x on S7-1200, and it works. However, when I try to access S7-200, it always fails.</p>\n<p>The CPU of the PLC is 6ES7 288.</p>\n<p>Here are the code snippets:</p>\n<pre><code>plc.connectionURL = &quot;s7://192.168.1.34&quot;;\n\nPlcConnection plcConnection = driverManager.getConnection(plc.connectionURL);\n</code></pre>\n<p>When I try to connect, an error occurs and the following exception is thrown:</p>\n<p>23:13:45.914 [nioEventLoopGroup-2-1] WARN i.n.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.</p>\n<p>Caused by: java.util.concurrent.ExecutionException: org.apache.plc4x.java.api.exceptions.PlcIoException: Connection terminated by remote.</p>\n<p>I have also tried accessing the same PLC using the tool from <a href=\"http://www.hslcommunication.cn/\" rel=\"nofollow noreferrer\">http://www.hslcommunication.cn/</a> and it works properly. Therefore, the PLC does not seem to be the problem.</p>\n<p>I have also tried using the s7connector library, but it only works on S7-1200, not on S7-200 Smart.</p>\n<p>Please help me and thanks very much!</p>\n"},{"tags":["java","linux","artifactory"],"answers":[{"tags":[],"owner":{"account_id":10393126,"reputation":890,"user_id":7663663,"display_name":"xiaojueguan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686274695,"creation_date":1686274695,"answer_id":76436670,"question_id":76436599,"body_markdown":"\r\n### Analysis\r\nFurther checking by:\r\n```\r\n# ps -ef --forest | less | grep artifactory\r\n...\r\n-server -XX:+UseG1GC -XX:OnOutOfMemoryError=kill -9 %p -Xms512m -Xmx2g\r\n...\r\n```\r\nBy search `OnOutOfMemoryError` got `This option can be used to specify a command or script to execute when an OutOfMemoryError exception is thrown.` in https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\r\nAnd by executing below found\r\n```\r\n# grep &#39;OutOfMemoryError&#39; -rn /opt/jfrog/artifactory/var/log\r\nBinary file /opt/jfrog/artifactory/var/log/artifactory-service.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/archived/artifactory-service.2023-06-08T12-25-37.903.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/archived/console-2023-06-08-1686189301.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/console.log matches\r\n```\r\nAnd by checking the log found below:\r\n```\r\n[65027.377s][warning][gc,alloc] http-nio-127.0.0.1-8091-Acceptor: Retried waiting for GCLocker too often allocating 1026 words\r\n#\r\n# java.lang.OutOfMemoryError: Java heap space\r\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\r\n#   Executing /bin/sh -c &quot;kill -9 10131&quot;...\r\n```\r\n### Solution:\r\nrefer to https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml\r\nI changed \r\n```\r\n  #extraJavaOpts: &quot;-Xms512m -Xmx2g&quot;\r\n```\r\nto\r\n```\r\n  extraJavaOpts: &quot;-Xms50g -Xmx100g&quot;\r\n```\r\nthen\r\n```\r\nsystemctl restart artifactory.service\r\n```\r\n","title":"artifactory.service: Failed with result &#39;exit-code&#39;","body":"<h3>Analysis</h3>\n<p>Further checking by:</p>\n<pre><code># ps -ef --forest | less | grep artifactory\n...\n-server -XX:+UseG1GC -XX:OnOutOfMemoryError=kill -9 %p -Xms512m -Xmx2g\n...\n</code></pre>\n<p>By search <code>OnOutOfMemoryError</code> got <code>This option can be used to specify a command or script to execute when an OutOfMemoryError exception is thrown.</code> in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html</a>\nAnd by executing below found</p>\n<pre><code># grep 'OutOfMemoryError' -rn /opt/jfrog/artifactory/var/log\nBinary file /opt/jfrog/artifactory/var/log/artifactory-service.log matches\nBinary file /opt/jfrog/artifactory/var/log/archived/artifactory-service.2023-06-08T12-25-37.903.log matches\nBinary file /opt/jfrog/artifactory/var/log/archived/console-2023-06-08-1686189301.log matches\nBinary file /opt/jfrog/artifactory/var/log/console.log matches\n</code></pre>\n<p>And by checking the log found below:</p>\n<pre><code>[65027.377s][warning][gc,alloc] http-nio-127.0.0.1-8091-Acceptor: Retried waiting for GCLocker too often allocating 1026 words\n#\n# java.lang.OutOfMemoryError: Java heap space\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\n#   Executing /bin/sh -c &quot;kill -9 10131&quot;...\n</code></pre>\n<h3>Solution:</h3>\n<p>refer to <a href=\"https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml\" rel=\"nofollow noreferrer\">https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml</a>\nI changed</p>\n<pre><code>  #extraJavaOpts: &quot;-Xms512m -Xmx2g&quot;\n</code></pre>\n<p>to</p>\n<pre><code>  extraJavaOpts: &quot;-Xms50g -Xmx100g&quot;\n</code></pre>\n<p>then</p>\n<pre><code>systemctl restart artifactory.service\n</code></pre>\n"}],"owner":{"account_id":10393126,"reputation":890,"user_id":7663663,"display_name":"xiaojueguan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76436670,"answer_count":1,"score":-1,"last_activity_date":1686274695,"creation_date":1686273301,"question_id":76436599,"body_markdown":"### Environment description:\r\nartifactory version: jfrog-artifactory-oss-7.55.2-linux\r\njava version: openjdk version &quot;17.0.5&quot; 2022-10-18\r\nsystem version:\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION=&quot;18.04.3 LTS (Bionic Beaver)&quot;\r\n\r\n### problem description\r\nartifactory.service restarted every several hours and sometimes artifactory.service will not be functionable.\r\njournalctl -u artifactory.service shows below log\r\n```\r\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Main process exited, code=exited, status=143/n/a\r\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Failed with result &#39;exit-code&#39;.\r\n2月 22 15:17:25 Artifactory systemd[1]: Stopped Artifactory service.\r\n2月 22 15:18:14 Artifactory systemd[1]: Starting Artifactory service...\r\n```\r\n### Things I tried:\r\n1. By checking the console log of /opt/jfrog/artifactory/var/log/console.log, i haven&#39;t found anything useful.\r\n\r\n\r\n","title":"artifactory.service: Failed with result &#39;exit-code&#39;","body":"<h3>Environment description:</h3>\n<p>artifactory version: jfrog-artifactory-oss-7.55.2-linux\njava version: openjdk version &quot;17.0.5&quot; 2022-10-18\nsystem version:\nNAME=&quot;Ubuntu&quot;\nVERSION=&quot;18.04.3 LTS (Bionic Beaver)&quot;</p>\n<h3>problem description</h3>\n<p>artifactory.service restarted every several hours and sometimes artifactory.service will not be functionable.\njournalctl -u artifactory.service shows below log</p>\n<pre><code>2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Main process exited, code=exited, status=143/n/a\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Failed with result 'exit-code'.\n2月 22 15:17:25 Artifactory systemd[1]: Stopped Artifactory service.\n2月 22 15:18:14 Artifactory systemd[1]: Starting Artifactory service...\n</code></pre>\n<h3>Things I tried:</h3>\n<ol>\n<li>By checking the console log of /opt/jfrog/artifactory/var/log/console.log, i haven't found anything useful.</li>\n</ol>\n"},{"tags":["java","hibernate"],"owner":{"account_id":12372001,"reputation":1,"user_id":9021898,"display_name":"pbdavey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686274671,"creation_date":1686239152,"question_id":76433607,"body_markdown":"I&#39;m using Hibernate 6, and I have some code I&#39;ve been porting that uses Session.get with an entity name and identifier.  We do a lot of reflection, and there&#39;s some other background, so this may look a bit odd and explicitly passing the entity name may seem superfluous, but it&#39;s necessary for us.\r\n\r\n\r\n\r\nThe entity name by itself doesn&#39;t work, it seems to require the fully qualified name:\r\n\r\n```\r\n@Entity(name = &quot;Root&quot;)\r\n...\r\nsession.get(&quot;Root&quot;, rootId); // doesn&#39;t work\r\n\r\nsession.persist(&quot;Root&quot;, root); //works...???\r\n```\r\nFor the session.get, I end up with a\r\n\r\n```\r\norg.hibernate.UnknownEntityTypeException: Unable to locate persister: Root\r\n```\r\n\r\nHowever,\r\n```\r\nsession.get(&quot;mypackage.fully.qual.Root&quot;, rootId); // works\r\n```\r\n","title":"Hibernate session requires fully qualified class name, despite explicit entity name","body":"<p>I'm using Hibernate 6, and I have some code I've been porting that uses Session.get with an entity name and identifier.  We do a lot of reflection, and there's some other background, so this may look a bit odd and explicitly passing the entity name may seem superfluous, but it's necessary for us.</p>\n<p>The entity name by itself doesn't work, it seems to require the fully qualified name:</p>\n<pre><code>@Entity(name = &quot;Root&quot;)\n...\nsession.get(&quot;Root&quot;, rootId); // doesn't work\n\nsession.persist(&quot;Root&quot;, root); //works...???\n</code></pre>\n<p>For the session.get, I end up with a</p>\n<pre><code>org.hibernate.UnknownEntityTypeException: Unable to locate persister: Root\n</code></pre>\n<p>However,</p>\n<pre><code>session.get(&quot;mypackage.fully.qual.Root&quot;, rootId); // works\n</code></pre>\n"},{"tags":["java","web-services","classpath","webservice-client","wsimport"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323020765,"creation_date":1323020765,"answer_id":8377269,"question_id":8377239,"body_markdown":"You&#39;re incorrectly including the `bin` in the `import` declaration.\r\n\r\nRather put `bin` on the classpath and correct the `import`.\r\n\r\nUnless (the poorly-named) `myClass_Service.java` file is `package bin.mywebservice` (which it isn&#39;t, according the the error message), you&#39;re trying to correct the problem in the wrong place.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>You're incorrectly including the <code>bin</code> in the <code>import</code> declaration.</p>\n\n<p>Rather put <code>bin</code> on the classpath and correct the <code>import</code>.</p>\n\n<p>Unless (the poorly-named) <code>myClass_Service.java</code> file is <code>package bin.mywebservice</code> (which it isn't, according the the error message), you're trying to correct the problem in the wrong place.</p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323020832,"creation_date":1323020832,"answer_id":8377276,"question_id":8377239,"body_markdown":"It looks like the generated class has a package `mywebservice`, not `bin.mywebservice`.  Make sure the `bin` directory is on the classpath, and drop `bin` from the packages.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>It looks like the generated class has a package <code>mywebservice</code>, not <code>bin.mywebservice</code>.  Make sure the <code>bin</code> directory is on the classpath, and drop <code>bin</code> from the packages.</p>\n"},{"tags":[],"owner":{"account_id":1071064,"reputation":345,"user_id":1070333,"display_name":"Duncan Calvert"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1383539894,"creation_date":1383539894,"answer_id":19761730,"question_id":8377239,"body_markdown":"This makefile may help if you are using packages:\r\n\r\n    CLASS_PATH = ../bin\r\n    \r\n    vpath %.class $(CLASS_PATH)\r\n    \r\n    all : HelloJNI.h\r\n    \r\n    HelloJNI.h : com/my/package/HelloJNI.class\r\n    \tjavah -classpath $(CLASS_PATH) com.my.package.$*","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>This makefile may help if you are using packages:</p>\n\n<pre><code>CLASS_PATH = ../bin\n\nvpath %.class $(CLASS_PATH)\n\nall : HelloJNI.h\n\nHelloJNI.h : com/my/package/HelloJNI.class\n    javah -classpath $(CLASS_PATH) com.my.package.$*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20607134,"reputation":1,"user_id":15127115,"display_name":"imalia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686274303,"creation_date":1686274303,"answer_id":76436647,"question_id":8377239,"body_markdown":"If you sure that your file located in `bin` directory, you have check the class file that for call `mywebservice.myClass_Service`\r\n\r\nsame at the `bin` directory. because when both file not the same location, it will be error. or you can check your package location on the top of code.\r\n\r\n&gt; package bin;\r\n\r\nlook and compare the two.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>If you sure that your file located in <code>bin</code> directory, you have check the class file that for call <code>mywebservice.myClass_Service</code></p>\n<p>same at the <code>bin</code> directory. because when both file not the same location, it will be error. or you can check your package location on the top of code.</p>\n<blockquote>\n<p>package bin;</p>\n</blockquote>\n<p>look and compare the two.</p>\n"}],"owner":{"account_id":953195,"reputation":317,"user_id":978953,"accept_rate":100,"display_name":"yur15t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21884,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8377269,"answer_count":4,"score":3,"last_activity_date":1686274303,"creation_date":1323020532,"question_id":8377239,"body_markdown":"I&#39;m trying to make a console application to test my webservice.\r\nI successfully deployed a webservice at http://localhost:8080/WS/myWS\r\nand i made proxy classes with wsimport:\r\n\r\n    wsimport -d bin -s src http://localhost:8080/WS/myWS?wsdl\r\n\r\nNow my webservice classes are located in bin/mywebservice/ and i&#39;m trying to compile my client class with classpath = ./\r\n\r\nHere&#39;s the source code of my class:\r\n\r\n    import bin.mywebservice.myClass_Service;\r\n    public class TesterApp{\r\n        public static void main (String args[])\r\n        {    \r\n            myClass_Service service = new myClass_Service(); \r\n        }\r\n    }\r\n\r\nAnd i have error:\r\n\r\n    TesterApp.java:1: error: cannot access myClass_Service\r\n    import bin.mywebservice_Service.myClass;\r\n                                   ^\r\n      bad class file: .\\bin\\mywebservice\\myClass_Service.class\r\n        class file contains wrong class: mywebservice.myClass_Service\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\nplease help, what&#39;s wrong with myClass_Service?\r\ni swear, myClass_Service.class exists in .\\bin\\mywebservice\\","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>I'm trying to make a console application to test my webservice.\nI successfully deployed a webservice at <a href=\"http://localhost:8080/WS/myWS\" rel=\"nofollow\">http://localhost:8080/WS/myWS</a>\nand i made proxy classes with wsimport:</p>\n\n<pre><code>wsimport -d bin -s src http://localhost:8080/WS/myWS?wsdl\n</code></pre>\n\n<p>Now my webservice classes are located in bin/mywebservice/ and i'm trying to compile my client class with classpath = ./</p>\n\n<p>Here's the source code of my class:</p>\n\n<pre><code>import bin.mywebservice.myClass_Service;\npublic class TesterApp{\n    public static void main (String args[])\n    {    \n        myClass_Service service = new myClass_Service(); \n    }\n}\n</code></pre>\n\n<p>And i have error:</p>\n\n<pre><code>TesterApp.java:1: error: cannot access myClass_Service\nimport bin.mywebservice_Service.myClass;\n                               ^\n  bad class file: .\\bin\\mywebservice\\myClass_Service.class\n    class file contains wrong class: mywebservice.myClass_Service\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n\n<p>please help, what's wrong with myClass_Service?\ni swear, myClass_Service.class exists in .\\bin\\mywebservice\\</p>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":22440267,"reputation":11,"user_id":16644914,"display_name":"HellishBro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686274009,"creation_date":1686274009,"answer_id":76436631,"question_id":76436549,"body_markdown":"Nevermind. I think I found the reason: `long` is used to indicate the **address** to the display window, not really the window itself. So really the window should be called `windowAddress`","title":"Why is LWJGL display window a long","body":"<p>Nevermind. I think I found the reason: <code>long</code> is used to indicate the <strong>address</strong> to the display window, not really the window itself. So really the window should be called <code>windowAddress</code></p>\n"}],"owner":{"account_id":22440267,"reputation":11,"user_id":16644914,"display_name":"HellishBro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686274009,"creation_date":1686272151,"question_id":76436549,"body_markdown":"in the example, I see this line being used: `private long window;`\r\n\r\nwhy is window a `long` object? what kind of metadata is stored there?\r\n\r\nI know this works, but just wondering why is it a long object instead of a usual Display class similar object in other game libraries.","title":"Why is LWJGL display window a long","body":"<p>in the example, I see this line being used: <code>private long window;</code></p>\n<p>why is window a <code>long</code> object? what kind of metadata is stored there?</p>\n<p>I know this works, but just wondering why is it a long object instead of a usual Display class similar object in other game libraries.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686252440,"post_id":76435103,"comment_id":134777339,"body_markdown":"The `S` in the brackets is the type declaration. Just like you can&#39;t use a variable without declaring it, you can&#39;t use a type parameter before declaring it. The next `S` is the return type, which is the same as whatever `Class` you pass into the method.","body":"The <code>S</code> in the brackets is the type declaration. Just like you can&#39;t use a variable without declaring it, you can&#39;t use a type parameter before declaring it. The next <code>S</code> is the return type, which is the same as whatever <code>Class</code> you pass into the method."},{"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"score":0,"creation_date":1686252586,"post_id":76435103,"comment_id":134777372,"body_markdown":"What if &lt;S&gt; on left of S was not there ?","body":"What if &lt;S&gt; on left of S was not there ?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686252706,"post_id":76435103,"comment_id":134777388,"body_markdown":"In that case, there would have to be an actual type named `S` in the program. Such as `class S` or `interface S`.","body":"In that case, there would have to be an actual type named <code>S</code> in the program. Such as <code>class S</code> or <code>interface S</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686252718,"post_id":76435103,"comment_id":134777390,"body_markdown":"As I said, it&#39;s like trying to use a variable without declaring it. It won&#39;t compile.","body":"As I said, it&#39;s like trying to use a variable without declaring it. It won&#39;t compile."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1686252730,"post_id":76435103,"comment_id":134777393,"body_markdown":"Without the `&lt;S&gt;` it would not be a generic method.  `S` would need to be the name of a real type.  The caller would need to provide the `Class` object representing that specific type as the method argument, and the return value would (need to) be an instance of that specific type.","body":"Without the <code>&lt;S&gt;</code> it would not be a generic method.  <code>S</code> would need to be the name of a real type.  The caller would need to provide the <code>Class</code> object representing that specific type as the method argument, and the return value would (need to) be an instance of that specific type."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686252852,"creation_date":1686252852,"answer_id":76435164,"question_id":76435103,"body_markdown":"The `&lt;S&gt;` tells the compiler that when it is compiling calls to the method, there will be some type that the compiler will have to infer, which is the type that the method is going to operate on.\r\n\r\nThe `S` is the return value of the method, as usual. It tells the compiler what type will be returned.\r\n\r\n`Class&lt;S&gt;` defines the type of the parameter. For instance, if the type happens to be `String`, the parameter would be of type `Class&lt;String&gt;` (which can also be written as `String.class`, a form you may be more accustomed to seeing it in.)\r\n\r\nFor example, if you had a class, `CustomerService`, and you were to call the method like this: `createService(CustomerService.class)`, since the type of `CustomerService.class` is `Class&lt;CustomerService&gt;` and the parameter is `Class&lt;S&gt;`, the compiler would infer that `S` is `CustomerService` and thus would expect the method to return that.","title":"Confusion about generic return type in Java","body":"<p>The <code>&lt;S&gt;</code> tells the compiler that when it is compiling calls to the method, there will be some type that the compiler will have to infer, which is the type that the method is going to operate on.</p>\n<p>The <code>S</code> is the return value of the method, as usual. It tells the compiler what type will be returned.</p>\n<p><code>Class&lt;S&gt;</code> defines the type of the parameter. For instance, if the type happens to be <code>String</code>, the parameter would be of type <code>Class&lt;String&gt;</code> (which can also be written as <code>String.class</code>, a form you may be more accustomed to seeing it in.)</p>\n<p>For example, if you had a class, <code>CustomerService</code>, and you were to call the method like this: <code>createService(CustomerService.class)</code>, since the type of <code>CustomerService.class</code> is <code>Class&lt;CustomerService&gt;</code> and the parameter is <code>Class&lt;S&gt;</code>, the compiler would infer that <code>S</code> is <code>CustomerService</code> and thus would expect the method to return that.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686255773,"creation_date":1686253905,"answer_id":76435273,"question_id":76435103,"body_markdown":"The `&lt;S&gt;` is the list of type parameters for the method (only one in this case).  The presence of a type-parameter list makes this a generic method.  Within the method header and body, the symbol `S` represents the type argument associated with a given invocation of that method, whether inferred or specified explicitly.\r\n\r\nA generic method&#39;s return type appears between the type-parameter list and the method name.  In the example, this is given as `S`, the type parameter, so the return type of a given invocation of the method is that invocation&#39;s type argument.  Typically, it would be inferred from the method argument (and that&#39;s exactly the purpose of providing a `Class&lt;S&gt;` as a method parameter).\r\n\r\nWithout the type-parameter list (`&lt;S&gt;`), the method would be an ordinary one, not a generic one.  In that case, `S` would need to be the name of a specific type that the compiler could resolve.  The argument would need to be the particular `Class` object representing type `S`, and the method would (need to) return an instance of type `S`.\r\n\r\nThe main difference is that with a generic method, all those properties are determined on a per-invocation basis by the context of the invocation, whereas with the ordinary method, they are determined once, at compile time, for all invocations.  Of course, the devil is in the details.  The generic method needs a way to deliver on the requirement of returning an instance of a type specified at runtime.  The argument of type `Class&lt;S&gt;` can help, and more generally, a generic method that returns an instance of its type argument can do so only by relying on its arguments or by returning `null`.\r\n\r\nAlso, method genericity is orthogonal to class / interface genericity.\r\n\r\n - Classes that are not generic can have generic methods.  In fact, this is the situation for most generic methods.\r\n - Generic classes can have ordinary methods, and that&#39;s the norm.  That a method uses *its class&#39;* type parameters does not make that method generic.\r\n - And generic classes can also have generic methods.  You can recognize such generic methods, as always, because they bear their own type-parameter lists.","title":"Confusion about generic return type in Java","body":"<p>The <code>&lt;S&gt;</code> is the list of type parameters for the method (only one in this case).  The presence of a type-parameter list makes this a generic method.  Within the method header and body, the symbol <code>S</code> represents the type argument associated with a given invocation of that method, whether inferred or specified explicitly.</p>\n<p>A generic method's return type appears between the type-parameter list and the method name.  In the example, this is given as <code>S</code>, the type parameter, so the return type of a given invocation of the method is that invocation's type argument.  Typically, it would be inferred from the method argument (and that's exactly the purpose of providing a <code>Class&lt;S&gt;</code> as a method parameter).</p>\n<p>Without the type-parameter list (<code>&lt;S&gt;</code>), the method would be an ordinary one, not a generic one.  In that case, <code>S</code> would need to be the name of a specific type that the compiler could resolve.  The argument would need to be the particular <code>Class</code> object representing type <code>S</code>, and the method would (need to) return an instance of type <code>S</code>.</p>\n<p>The main difference is that with a generic method, all those properties are determined on a per-invocation basis by the context of the invocation, whereas with the ordinary method, they are determined once, at compile time, for all invocations.  Of course, the devil is in the details.  The generic method needs a way to deliver on the requirement of returning an instance of a type specified at runtime.  The argument of type <code>Class&lt;S&gt;</code> can help, and more generally, a generic method that returns an instance of its type argument can do so only by relying on its arguments or by returning <code>null</code>.</p>\n<p>Also, method genericity is orthogonal to class / interface genericity.</p>\n<ul>\n<li>Classes that are not generic can have generic methods.  In fact, this is the situation for most generic methods.</li>\n<li>Generic classes can have ordinary methods, and that's the norm.  That a method uses <em>its class'</em> type parameters does not make that method generic.</li>\n<li>And generic classes can also have generic methods.  You can recognize such generic methods, as always, because they bear their own type-parameter lists.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686260091,"creation_date":1686260091,"answer_id":76435835,"question_id":76435103,"body_markdown":"generics are just variables, except, these variables are references to __types__ whereas &#39;normal&#39; variables reference __values__.\r\n\r\nGiven:\r\n\r\n```\r\nNumber n;\r\nn = Integer.valueOf(5);\r\nSystem.out.println(n);\r\n```\r\n\r\nA few things are happening:\r\n\r\n1. `Number n;` _declares a new variable_. It says to the system: I decree there is some variable. Variables aren&#39;t values (they __hold__ a value, a nuanced difference - `Integer.valueOf(5)`, that _is_ a value). This variable furthermore has a limitation assigned to it: It must only ever be holding a value that has the property that it was created either as `new Number()`, or as `new Something()`, where `Something` has `Number` somewhere in its type hierarchy. That last bit is very important (after all, `Number` is abstract; `new Number()` is not possible at all).\r\n\r\n2. In stark contrast, the second and third line do not _declare_ anything. They merely _use_ what has already been declared.\r\n\r\n__Type variables work the same way__.\r\n\r\nGiven:\r\n\r\n```\r\npublic static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n     return retrofit.create(serviceClass);\r\n}\r\n```\r\n\r\nThe `&lt;S&gt;` part __declares__ a new type variable. it is the typevar equivalent of writing `Object s;`. It declares a variable without assigning any value to it. If you had tried to write:\r\n\r\n```\r\npublic static S createService(Class&lt;S&gt; serviceClass) { ... }\r\n```\r\n\r\nThe compiler would complain exactly the same way it complains when you write:\r\n\r\n```\r\nvoid foo() {\r\n n = 5; // n? What is n? I have no idea what is going on!\r\n}\r\n```\r\n\r\nYou have to declare before you can use them. Just `&lt;S&gt;` says there is no limit - it&#39;s short for `&lt;S extends Object&gt;`, and every ref type extends Object, hence, S can be anything (except primitives - generics and primitives don&#39;t currently (JDK21 and older) work together, maybe in some future java version that will change though).\r\n\r\nYou could have just as easily written:\r\n\r\n```\r\npublic &lt;S extends Number&gt; createService(Class&lt;S&gt; serviceClass) { .. }\r\n```\r\n\r\nWhich is just fine; that restricts `S` to refer only to either `Number`, or `Integer`, or `Double`, or any other type that has `Number` in its list of supertypes (interface _or_ class, does not matter).\r\n\r\nNow, things get a little different. The one that _sets_ this variable is the caller, _not_ you. The caller decides what S is. You (the one writing the method) merely specifies the type restriction. In that sense it&#39;s exactly like a method parameter, where you (the method author) decide what type it has to be, but the caller picks the value for it.\r\n\r\nAnd that is not exactly the right &#39;view&#39; - at runtime you can&#39;t ask what S is (the &#39;values&#39; of typevars are erased by the compiler; in the class file it just isn&#39;t there, at all).\r\n\r\nGiven that generics are erased, the only real point to generics is __to link things__. Imagine I want a method that simply prints the int value of any number, and then just returns it, i.e. that I can write:\r\n\r\n```\r\nInteger i = printAsInt(Integer.valueOf(5));\r\n```\r\n\r\nNote how this is different from:\r\n\r\n```\r\nInteger i = Integer.valueOf(5);\r\nprintAsInt(i);\r\n```\r\n\r\nBecause that second snippet is two lines - to &#39;compress it down to one&#39;, we need the `printNumber` method to not just print that number, it also needs to _return the parameter verbatim_. We can trivially write this, of course:\r\n\r\n```\r\npublic Number printAsInt(Number n) {\r\n  System.out.println(n.intValue());\r\n  return n;\r\n}\r\n```\r\n\r\nBut this actually doesn&#39;t work! If we try to now write:\r\n\r\n```\r\nInteger i = printAsInt(Integer.valueOf(5));\r\n```\r\n\r\n`javac` will complain: The `printAsInt` method guarantees that it returns a `Number`. Yes, __we__ can see it returns its input, but you are free to change that method&#39;s contents later on and assuming you stick to the contract that is not considered &#39;backwards incompatible&#39; (and &#39;return any Number&#39; is part of the contract, not necessarily &#39;return the input&#39;).\r\n\r\nSo, we want a way in the type system to link things: To say, the type of the parameter is.. dunno. But whatever it is, the return type? It&#39;s the same type.\r\n\r\nAnd hence, this is the right way to write `printAsInt`:\r\n\r\n```\r\npublic &lt;N extends Number&gt; N printAsInt(N number) {\r\n  System.out.println(number.intValue());\r\n  return number;\r\n}\r\n```\r\n\r\nYes, that means if you use a declared type var 0 or 1 times total, it&#39;s a hack or a useless typevar. Needs to show up in at least 2 places. (printAsInt has it in 2 places: Return type, and type of its parameter).\r\n\r\n## Your snippet\r\n\r\n```\r\npublic static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n     return retrofit.create(serviceClass);\r\n}\r\n```\r\n\r\nSo now we know how to read this thing:\r\n\r\n_Caller, you can call this method by picking some type (any type is fine - S has no bounds), as well as picking a value for the only parameter I have. We linked some things: Whatever you picked for S? You need to provide a value whose type is `Class&lt;S&gt;` - in practice, if you pick `String`, the only thing you can pass is `String.class`. I will return - the type you picked_.\r\n\r\n## Where to declare typevars\r\n\r\nYou can legally declare a typevar in one of two places:\r\n\r\n* On a type declaration - looks like `public class Foo&lt;T extends Number&gt; {}` - here T declares a new type var, and it exists for all non-static methods and fields (and even non-static inner classes) defined anywhere inside that type.\r\n\r\n* On a method or constructor - looks like `public &lt;T extends Number&gt; void foo()` - exists only for that method.\r\n\r\nYour snippet is an example of the second bullet. Something like java&#39;s own `java.util.List` is an example of the first - it is declared as `public interface List&lt;E&gt; {}` and that `E` shows up everywhere - `add(E elem)`, `E get(int idx)`, `Iterator&lt;E&gt; iterator()`, and many more.\r\n\r\n## Care - variance!\r\n\r\nJava itself is covariant. That means a type is a perfectly fine standin for any of its supertypes. If you have a method `void foo(Number n) {}` you are free to call it with `foo(i)` where `i` is declared as `Integer i;` - because Integer is a perfectly fine standin for Number as Number is a supertype.\r\n\r\n__Generics are not like that__. Because math/universe. For example, given a `List&lt;Number&gt;`, that has a method `.add(Number n)`, and we just said that this means I can invoke `.add(someInteger)`. And thus also `.add(someDouble)`. But, if I can write:\r\n\r\n```\r\nList&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\nList&lt;Number&gt; numbers = ints; // same list!\r\nnumbers.add(Double.valueOf(5.5));\r\nInteger i = ints.get(0);\r\n```\r\n\r\nthen.. that code makes no sense, at all. There is only one list here (count the `new` - there is just the one `new`), just, 2 vars that both refer to the same list. I add a `Double`... to... a list.. of... ints. Uhoh. That&#39;s not right. That last line is non-sensical!\r\n\r\nThat&#39;s why the above _does not compile_. Because unlike &#39;normal&#39; java, the stuff within the `&lt;&gt;` is __invariant__. If you need `Number`, only `Number` will do, not any subtype of Number.\r\n\r\nThis is incredibly restrictive - imagine you want to write a method that takes in a list of numbers and all you do is print them out. If we write:\r\n\r\n```\r\npublic void printAllAsInt(List&lt;Number&gt; list) {\r\n  for (Number n : list) System.out.println(n.intValue());\r\n}\r\n```\r\n\r\nthen we indeed cannot write:\r\n\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nprintAllAsInt(list);\r\n```\r\n\r\nBecause generics are invariant, and thus a `List&lt;Integer&gt;` is not an acceptable type to pass to a method that takes a `List&lt;Number&gt;` for the same reason you can&#39;t pass an `JLabel` to a method that takes a `File` object - completely different, unrelated types.\r\n\r\nBut that&#39;s annoying - our code would work just fine for any number (all numbers have an `intValue()` method, even doubles). You can write that:\r\n\r\n```\r\nvoid printAllAsInt(List&lt;? extends Number&gt; list) {\r\n  ...\r\n}\r\n```\r\n\r\nNow you _can_ pass a `List&lt;Integer&gt;` to it. `? extends` means: &quot;I want covariance&quot;, and `? super` means: &quot;I want contravariance&quot;. The compiler protects you: You __cannot__ invoke `.add` on a `List&lt;? extends Number&gt;`. At all.\r\n\r\n`List&lt;? extends Number&gt;` does __not__ mean &quot;A list that can contain numbers - any kinds of numbers&quot;. After all, `List&lt;Number&gt;` already means precisely that. No, `List&lt;? extends Number&gt;` means: A list that contains... well, I don&#39;t actually know. It&#39;s certainly restricted to.. something. I do know that whatever the restriction is, it&#39;s either `Number`, or `Integer`, or `Double`, or any other type that extends Number. Thus, calling `.get(idx)` on this list guarantees at the very least something assignable to a variable of type `Number` falls out. But, `.add()` is just straight up uncallable, given that I have no idea - could be a `List&lt;Double&gt;`, could be a `List&lt;Integer&gt;` - no value is _both_ a `Double` __and__ an `Integer` at the same time, so NOTHING can be passed to `add`. Well, except, literally, `null`, which is all types, but that&#39;s mostly useless.\r\n","title":"Confusion about generic return type in Java","body":"<p>generics are just variables, except, these variables are references to <strong>types</strong> whereas 'normal' variables reference <strong>values</strong>.</p>\n<p>Given:</p>\n<pre><code>Number n;\nn = Integer.valueOf(5);\nSystem.out.println(n);\n</code></pre>\n<p>A few things are happening:</p>\n<ol>\n<li><p><code>Number n;</code> <em>declares a new variable</em>. It says to the system: I decree there is some variable. Variables aren't values (they <strong>hold</strong> a value, a nuanced difference - <code>Integer.valueOf(5)</code>, that <em>is</em> a value). This variable furthermore has a limitation assigned to it: It must only ever be holding a value that has the property that it was created either as <code>new Number()</code>, or as <code>new Something()</code>, where <code>Something</code> has <code>Number</code> somewhere in its type hierarchy. That last bit is very important (after all, <code>Number</code> is abstract; <code>new Number()</code> is not possible at all).</p>\n</li>\n<li><p>In stark contrast, the second and third line do not <em>declare</em> anything. They merely <em>use</em> what has already been declared.</p>\n</li>\n</ol>\n<p><strong>Type variables work the same way</strong>.</p>\n<p>Given:</p>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n     return retrofit.create(serviceClass);\n}\n</code></pre>\n<p>The <code>&lt;S&gt;</code> part <strong>declares</strong> a new type variable. it is the typevar equivalent of writing <code>Object s;</code>. It declares a variable without assigning any value to it. If you had tried to write:</p>\n<pre><code>public static S createService(Class&lt;S&gt; serviceClass) { ... }\n</code></pre>\n<p>The compiler would complain exactly the same way it complains when you write:</p>\n<pre><code>void foo() {\n n = 5; // n? What is n? I have no idea what is going on!\n}\n</code></pre>\n<p>You have to declare before you can use them. Just <code>&lt;S&gt;</code> says there is no limit - it's short for <code>&lt;S extends Object&gt;</code>, and every ref type extends Object, hence, S can be anything (except primitives - generics and primitives don't currently (JDK21 and older) work together, maybe in some future java version that will change though).</p>\n<p>You could have just as easily written:</p>\n<pre><code>public &lt;S extends Number&gt; createService(Class&lt;S&gt; serviceClass) { .. }\n</code></pre>\n<p>Which is just fine; that restricts <code>S</code> to refer only to either <code>Number</code>, or <code>Integer</code>, or <code>Double</code>, or any other type that has <code>Number</code> in its list of supertypes (interface <em>or</em> class, does not matter).</p>\n<p>Now, things get a little different. The one that <em>sets</em> this variable is the caller, <em>not</em> you. The caller decides what S is. You (the one writing the method) merely specifies the type restriction. In that sense it's exactly like a method parameter, where you (the method author) decide what type it has to be, but the caller picks the value for it.</p>\n<p>And that is not exactly the right 'view' - at runtime you can't ask what S is (the 'values' of typevars are erased by the compiler; in the class file it just isn't there, at all).</p>\n<p>Given that generics are erased, the only real point to generics is <strong>to link things</strong>. Imagine I want a method that simply prints the int value of any number, and then just returns it, i.e. that I can write:</p>\n<pre><code>Integer i = printAsInt(Integer.valueOf(5));\n</code></pre>\n<p>Note how this is different from:</p>\n<pre><code>Integer i = Integer.valueOf(5);\nprintAsInt(i);\n</code></pre>\n<p>Because that second snippet is two lines - to 'compress it down to one', we need the <code>printNumber</code> method to not just print that number, it also needs to <em>return the parameter verbatim</em>. We can trivially write this, of course:</p>\n<pre><code>public Number printAsInt(Number n) {\n  System.out.println(n.intValue());\n  return n;\n}\n</code></pre>\n<p>But this actually doesn't work! If we try to now write:</p>\n<pre><code>Integer i = printAsInt(Integer.valueOf(5));\n</code></pre>\n<p><code>javac</code> will complain: The <code>printAsInt</code> method guarantees that it returns a <code>Number</code>. Yes, <strong>we</strong> can see it returns its input, but you are free to change that method's contents later on and assuming you stick to the contract that is not considered 'backwards incompatible' (and 'return any Number' is part of the contract, not necessarily 'return the input').</p>\n<p>So, we want a way in the type system to link things: To say, the type of the parameter is.. dunno. But whatever it is, the return type? It's the same type.</p>\n<p>And hence, this is the right way to write <code>printAsInt</code>:</p>\n<pre><code>public &lt;N extends Number&gt; N printAsInt(N number) {\n  System.out.println(number.intValue());\n  return number;\n}\n</code></pre>\n<p>Yes, that means if you use a declared type var 0 or 1 times total, it's a hack or a useless typevar. Needs to show up in at least 2 places. (printAsInt has it in 2 places: Return type, and type of its parameter).</p>\n<h2>Your snippet</h2>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n     return retrofit.create(serviceClass);\n}\n</code></pre>\n<p>So now we know how to read this thing:</p>\n<p><em>Caller, you can call this method by picking some type (any type is fine - S has no bounds), as well as picking a value for the only parameter I have. We linked some things: Whatever you picked for S? You need to provide a value whose type is <code>Class&lt;S&gt;</code> - in practice, if you pick <code>String</code>, the only thing you can pass is <code>String.class</code>. I will return - the type you picked</em>.</p>\n<h2>Where to declare typevars</h2>\n<p>You can legally declare a typevar in one of two places:</p>\n<ul>\n<li><p>On a type declaration - looks like <code>public class Foo&lt;T extends Number&gt; {}</code> - here T declares a new type var, and it exists for all non-static methods and fields (and even non-static inner classes) defined anywhere inside that type.</p>\n</li>\n<li><p>On a method or constructor - looks like <code>public &lt;T extends Number&gt; void foo()</code> - exists only for that method.</p>\n</li>\n</ul>\n<p>Your snippet is an example of the second bullet. Something like java's own <code>java.util.List</code> is an example of the first - it is declared as <code>public interface List&lt;E&gt; {}</code> and that <code>E</code> shows up everywhere - <code>add(E elem)</code>, <code>E get(int idx)</code>, <code>Iterator&lt;E&gt; iterator()</code>, and many more.</p>\n<h2>Care - variance!</h2>\n<p>Java itself is covariant. That means a type is a perfectly fine standin for any of its supertypes. If you have a method <code>void foo(Number n) {}</code> you are free to call it with <code>foo(i)</code> where <code>i</code> is declared as <code>Integer i;</code> - because Integer is a perfectly fine standin for Number as Number is a supertype.</p>\n<p><strong>Generics are not like that</strong>. Because math/universe. For example, given a <code>List&lt;Number&gt;</code>, that has a method <code>.add(Number n)</code>, and we just said that this means I can invoke <code>.add(someInteger)</code>. And thus also <code>.add(someDouble)</code>. But, if I can write:</p>\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\nList&lt;Number&gt; numbers = ints; // same list!\nnumbers.add(Double.valueOf(5.5));\nInteger i = ints.get(0);\n</code></pre>\n<p>then.. that code makes no sense, at all. There is only one list here (count the <code>new</code> - there is just the one <code>new</code>), just, 2 vars that both refer to the same list. I add a <code>Double</code>... to... a list.. of... ints. Uhoh. That's not right. That last line is non-sensical!</p>\n<p>That's why the above <em>does not compile</em>. Because unlike 'normal' java, the stuff within the <code>&lt;&gt;</code> is <strong>invariant</strong>. If you need <code>Number</code>, only <code>Number</code> will do, not any subtype of Number.</p>\n<p>This is incredibly restrictive - imagine you want to write a method that takes in a list of numbers and all you do is print them out. If we write:</p>\n<pre><code>public void printAllAsInt(List&lt;Number&gt; list) {\n  for (Number n : list) System.out.println(n.intValue());\n}\n</code></pre>\n<p>then we indeed cannot write:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nprintAllAsInt(list);\n</code></pre>\n<p>Because generics are invariant, and thus a <code>List&lt;Integer&gt;</code> is not an acceptable type to pass to a method that takes a <code>List&lt;Number&gt;</code> for the same reason you can't pass an <code>JLabel</code> to a method that takes a <code>File</code> object - completely different, unrelated types.</p>\n<p>But that's annoying - our code would work just fine for any number (all numbers have an <code>intValue()</code> method, even doubles). You can write that:</p>\n<pre><code>void printAllAsInt(List&lt;? extends Number&gt; list) {\n  ...\n}\n</code></pre>\n<p>Now you <em>can</em> pass a <code>List&lt;Integer&gt;</code> to it. <code>? extends</code> means: &quot;I want covariance&quot;, and <code>? super</code> means: &quot;I want contravariance&quot;. The compiler protects you: You <strong>cannot</strong> invoke <code>.add</code> on a <code>List&lt;? extends Number&gt;</code>. At all.</p>\n<p><code>List&lt;? extends Number&gt;</code> does <strong>not</strong> mean &quot;A list that can contain numbers - any kinds of numbers&quot;. After all, <code>List&lt;Number&gt;</code> already means precisely that. No, <code>List&lt;? extends Number&gt;</code> means: A list that contains... well, I don't actually know. It's certainly restricted to.. something. I do know that whatever the restriction is, it's either <code>Number</code>, or <code>Integer</code>, or <code>Double</code>, or any other type that extends Number. Thus, calling <code>.get(idx)</code> on this list guarantees at the very least something assignable to a variable of type <code>Number</code> falls out. But, <code>.add()</code> is just straight up uncallable, given that I have no idea - could be a <code>List&lt;Double&gt;</code>, could be a <code>List&lt;Integer&gt;</code> - no value is <em>both</em> a <code>Double</code> <strong>and</strong> an <code>Integer</code> at the same time, so NOTHING can be passed to <code>add</code>. Well, except, literally, <code>null</code>, which is all types, but that's mostly useless.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686273261,"creation_date":1686260204,"answer_id":76435843,"question_id":76435103,"body_markdown":"The syntax is newer than the originating _Java_ syntax.\r\n\r\n_Java_ ran for several issues before implementing the _[Generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_ interface, which was introduced in _[Java SE 5.0](https://en.wikipedia.org/wiki/Java_version_history)_.\r\n\r\nIn addition to this, _Java_ was founded on the same syntax as _[C](https://en.wikipedia.org/wiki/C_(programming_language))_, with the aim to offer an easy transition from _C_ to _Java_.\r\n\r\nHence, the only way to correctly define generic-type parameters would be to create a new syntax.\r\n\r\nYou can review _generic_ method syntax, at the following link.  \r\n_[Generic Methods (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Generics (Updated))](https://docs.oracle.com/javase/tutorial/java/generics/methods.html)_.\r\n\r\nEssentially, it is stating that, within the method there will be a type _S_ object.  \r\nSo the compiler doesn&#39;t throw an error.","title":"Confusion about generic return type in Java","body":"<p>The syntax is newer than the originating <em>Java</em> syntax.</p>\n<p><em>Java</em> ran for several issues before implementing the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Generics</a></em> interface, which was introduced in <em><a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">Java SE 5.0</a></em>.</p>\n<p>In addition to this, <em>Java</em> was founded on the same syntax as <em><a href=\"https://en.wikipedia.org/wiki/C_(programming_language)\" rel=\"nofollow noreferrer\">C</a></em>, with the aim to offer an easy transition from <em>C</em> to <em>Java</em>.</p>\n<p>Hence, the only way to correctly define generic-type parameters would be to create a new syntax.</p>\n<p>You can review <em>generic</em> method syntax, at the following link.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">Generic Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))</a></em>.</p>\n<p>Essentially, it is stating that, within the method there will be a type <em>S</em> object.<br />\nSo the compiler doesn't throw an error.</p>\n"}],"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1686273261,"creation_date":1686252247,"question_id":76435103,"body_markdown":"Generic has always been a topic of fear for me.\r\nRecently I came across a code snippet while learning the retrofit in Android\r\n\r\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n            return retrofit.create(serviceClass);\r\n        }\r\n\r\nCan anybody, in depth, explain me meaning of this  `&lt;S&gt;S` part to me ?\r\nEspecially why the `&lt;S&gt;` is added to the left of S ?","title":"Confusion about generic return type in Java","body":"<p>Generic has always been a topic of fear for me.\nRecently I came across a code snippet while learning the retrofit in Android</p>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n        return retrofit.create(serviceClass);\n    }\n</code></pre>\n<p>Can anybody, in depth, explain me meaning of this  <code>&lt;S&gt;S</code> part to me ?\nEspecially why the <code>&lt;S&gt;</code> is added to the left of S ?</p>\n"},{"tags":["java","spring","graphql","interceptor"],"comments":[{"owner":{"account_id":9729816,"reputation":99,"user_id":7215277,"display_name":"Pankaj Chouhan"},"score":1,"creation_date":1684258999,"post_id":74311160,"comment_id":134491185,"body_markdown":"request you to please let me know if you were able to resolve this issue, as am  facing the same issue and having exact same requirement.","body":"request you to please let me know if you were able to resolve this issue, as am  facing the same issue and having exact same requirement."},{"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"score":1,"creation_date":1686272449,"post_id":74311160,"comment_id":134779857,"body_markdown":"@PankajChouhan Please see my answer for a workaround using both the interceptor and GraphQL instrumentation.","body":"@PankajChouhan Please see my answer for a workaround using both the interceptor and GraphQL instrumentation."}],"answers":[{"tags":[],"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686272405,"creation_date":1686272405,"answer_id":76436558,"question_id":74311160,"body_markdown":"I found a workaround that involves an extra piece.\r\n\r\nI made my `WebGraphQlInterceptor` pass the HTTP authorization headers to the GraphQL context, where it’s then accessible via FieldValidation GraphQL [instrumentation](https://www.graphql-java.com/documentation/instrumentation). The FieldValidation GraphQL instrumentation runs later in the chain, after the GraphQL body has been parsed, so it has easy access to GraphQL variables. It also has access to original HTTP header values since the interceptor passed those via the GraphQL context. Then, based on whether the user is authorized or not, I made the field instrumentation return either a GraphQLError or an empty error list. If it returns an error, the framework correctly bypasses the controller and returns the error to the client.\r\n\r\nHere&#39;s a relevant post in the spring-graphql GitHub: https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130","title":"How to short-circuit from Spring WebGraphQlInterceptor without executing controller handler?","body":"<p>I found a workaround that involves an extra piece.</p>\n<p>I made my <code>WebGraphQlInterceptor</code> pass the HTTP authorization headers to the GraphQL context, where it’s then accessible via FieldValidation GraphQL <a href=\"https://www.graphql-java.com/documentation/instrumentation\" rel=\"nofollow noreferrer\">instrumentation</a>. The FieldValidation GraphQL instrumentation runs later in the chain, after the GraphQL body has been parsed, so it has easy access to GraphQL variables. It also has access to original HTTP header values since the interceptor passed those via the GraphQL context. Then, based on whether the user is authorized or not, I made the field instrumentation return either a GraphQLError or an empty error list. If it returns an error, the framework correctly bypasses the controller and returns the error to the client.</p>\n<p>Here's a relevant post in the spring-graphql GitHub: <a href=\"https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130</a></p>\n"}],"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686272405,"creation_date":1667524744,"question_id":74311160,"body_markdown":"I have a Spring WebFlux application and am trying to write a [WebGraphQlInterceptor][1] to enforce authorization. The authorization requires access to HTTP headers and GraphQL variables, both of which are easily accessible from a `WebGraphQlInterceptor`. However, if the request fails authorization, I do *not* want to execute the controller handler and instead exit early with an error response. I have the custom error response working OK, but I cannot figure out how to bypass the controller -- it seems like I&#39;m required to proceed down the original chain, execute the controller, and only then return the error response.\r\n\r\nI&#39;m hoping there&#39;s an easy solution I&#39;m missing. The documentation seems sparse on this topic with very few examples online. The [WebGraphQlInterceptor documentation][2] lists some methods like `apply()` that sound like they might be helpful for altering the chain, but it&#39;s not clear how to use them. The interceptor interface requires a `WebGraphQlResponse` to be returned, and I can&#39;t find a way to return it without continuing down the original chain with `chain.next(request)` below:\r\n\r\n```java\r\n@Override\r\npublic Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\r\n  return chain.next(request).map(response -&gt; {\r\n    // Custom logic...\r\n  });\r\n}\r\n```\r\n\r\nI also tried constructing my own custom `WebGraphQlResponse` from scratch to return from the interceptor, but this felt like a hack and a lot of unnecessary overhead.\r\n\r\nI don&#39;t want the controller to be executed at all if authorization fails. **Is this even possible with the WebGraphQlInterceptor? And what would the simplest implementation look like?**\r\n\r\n*P.S. The [WebFilter][3] doesn&#39;t help me here because I need easy access to GraphQL variables, which isn&#39;t possible with WebFilters.*\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-graphql/docs/current/reference/html/#server-interception-web\r\n  [2]: https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/server/WebGraphQlInterceptor.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html","title":"How to short-circuit from Spring WebGraphQlInterceptor without executing controller handler?","body":"<p>I have a Spring WebFlux application and am trying to write a <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/#server-interception-web\" rel=\"nofollow noreferrer\">WebGraphQlInterceptor</a> to enforce authorization. The authorization requires access to HTTP headers and GraphQL variables, both of which are easily accessible from a <code>WebGraphQlInterceptor</code>. However, if the request fails authorization, I do <em>not</em> want to execute the controller handler and instead exit early with an error response. I have the custom error response working OK, but I cannot figure out how to bypass the controller -- it seems like I'm required to proceed down the original chain, execute the controller, and only then return the error response.</p>\n<p>I'm hoping there's an easy solution I'm missing. The documentation seems sparse on this topic with very few examples online. The <a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/server/WebGraphQlInterceptor.html\" rel=\"nofollow noreferrer\">WebGraphQlInterceptor documentation</a> lists some methods like <code>apply()</code> that sound like they might be helpful for altering the chain, but it's not clear how to use them. The interceptor interface requires a <code>WebGraphQlResponse</code> to be returned, and I can't find a way to return it without continuing down the original chain with <code>chain.next(request)</code> below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\n  return chain.next(request).map(response -&gt; {\n    // Custom logic...\n  });\n}\n</code></pre>\n<p>I also tried constructing my own custom <code>WebGraphQlResponse</code> from scratch to return from the interceptor, but this felt like a hack and a lot of unnecessary overhead.</p>\n<p>I don't want the controller to be executed at all if authorization fails. <strong>Is this even possible with the WebGraphQlInterceptor? And what would the simplest implementation look like?</strong></p>\n<p><em>P.S. The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\" rel=\"nofollow noreferrer\">WebFilter</a> doesn't help me here because I need easy access to GraphQL variables, which isn't possible with WebFilters.</em></p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1686573436,"post_id":76436543,"comment_id":134812626,"body_markdown":"Can you share code for sending and for receiving?","body":"Can you share code for sending and for receiving?"}],"owner":{"account_id":15660774,"reputation":23,"user_id":11299783,"display_name":"NetUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686271994,"creation_date":1686271994,"question_id":76436543,"body_markdown":"I&#39;m running into an issue I think I can&#39;t solve without some help.\r\nI&#39;ve setup a simple Client/Server model with Netty. I&#39;m using the &#39;SimpleChannelInboundHandler&#39; implementation. \r\nWhen I&#39;m trying to encode an integer and try to decode it on the server side it translates to some random numbers, most often to 0. Before anyone is asking I&#39;m checking for empty buffers.\r\nDoes anyone have a clue what could be the problem here?\r\n\r\n`Netty-Version 4.1.90-Final\r\nJDK/JRE 8\r\nUbuntu 22.04/Windows 10 (issues are the same on both platforms)`\r\n\r\n\r\nI&#39;ve tried to debug this a bit with random integers but it does not work as expected.\r\n\r\n\r\n\r\nThanks for any hint.","title":"Netty issues with ByteBuf Encoding/Decoding","body":"<p>I'm running into an issue I think I can't solve without some help.\nI've setup a simple Client/Server model with Netty. I'm using the 'SimpleChannelInboundHandler' implementation.\nWhen I'm trying to encode an integer and try to decode it on the server side it translates to some random numbers, most often to 0. Before anyone is asking I'm checking for empty buffers.\nDoes anyone have a clue what could be the problem here?</p>\n<p><code>Netty-Version 4.1.90-Final JDK/JRE 8 Ubuntu 22.04/Windows 10 (issues are the same on both platforms)</code></p>\n<p>I've tried to debug this a bit with random integers but it does not work as expected.</p>\n<p>Thanks for any hint.</p>\n"},{"tags":["java","weblogic"],"answers":[{"tags":[],"owner":{"account_id":10954347,"reputation":1614,"user_id":8049667,"display_name":"Sh. Pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528707472,"creation_date":1528707472,"answer_id":50793866,"question_id":50793771,"body_markdown":"Seems like ovveriding config property defaultzone on the server.\r\nProbably you will find solution here: \r\n\r\nComment: [LINK][1]\r\n\r\n&gt; After days, looking thousand times on the same config file I realized the issue. At the end it was just a misspelling of defaultzone. After changing it to defaultZone everything works like expected.\r\nThank you very much for your time.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/issues/1305","title":"java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server","body":"<p>Seems like ovveriding config property defaultzone on the server.\nProbably you will find solution here: </p>\n\n<p>Comment: <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/1305\" rel=\"nofollow noreferrer\">LINK</a></p>\n\n<blockquote>\n  <p>After days, looking thousand times on the same config file I realized the issue. At the end it was just a misspelling of defaultzone. After changing it to defaultZone everything works like expected.\n  Thank you very much for your time.</p>\n</blockquote>\n"}],"owner":{"account_id":9452544,"reputation":399,"user_id":7028822,"accept_rate":56,"display_name":"Elva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686269255,"creation_date":1528707137,"question_id":50793771,"body_markdown":"I encountered the following issue when running program in Weblogic server.\r\n\r\nThe url **http://localhost:8080** is reachable on my side, but when I use the below code to connect the server it failed with connection exception.\r\n\r\n    import com.sun.jersey.api.client.Client;\r\n    import com.sun.jersey.api.client.ClientResponse;\r\n    import com.sun.jersey.api.client.WebResource;\r\n    import com.sun.jersey.api.client.filter.HTTPBasicAuthFilter;\r\n\r\n    public static String invokeGet(String url, String dsl) {\r\n      String url = &quot;http://localhost:8080&quot;;\r\n      Client clientInstance = Client.create();\r\n      clientInstance.addFilter(new HTTPBasicAuthFilter(&quot;&quot;, &quot;&quot;));\r\n     \r\n      WebResource webResource = clientInstance.resource(url);\r\n     \r\n      ClientResponse response =\r\n        webResource.entity(dsl).header(&quot;Content-type&quot;, &quot;application/json&quot;).accept(&quot;application/json&quot;).get(ClientResponse.class);\r\n         }\r\n\r\nThe detailed error message:\r\n\r\n    Caused by: java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server: &#39;hostname&#39;, port: &#39;8080&#39;\r\n    \r\n    at weblogic.net.http.HttpClient.openServer(HttpClient.java:333)\r\n    \tat weblogic.net.http.HttpClient.openServer(HttpClient.java:425)\r\n    \tat weblogic.net.http.HttpClient.New(HttpClient.java:252)\r\n    \tat weblogic.net.http.HttpURLConnection.connect(HttpURLConnection.java:213)\r\n    \tat weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:398)\r\n    \tat weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\r\n    \tat weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1005)\r\n    \tat com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:215)\r\n    \tat com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:126)\r\n    \t... 182 more\r\n\r\n**One more thing is that I can run it normally in integrated server but failed to run it in standalone server.** ","title":"java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server","body":"<p>I encountered the following issue when running program in Weblogic server.</p>\n\n<p>The url <strong><a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a></strong> is reachable on my side, but when I use the below code to connect the server it failed with connection exception.</p>\n\n<pre><code>import com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.filter.HTTPBasicAuthFilter;\n\npublic static String invokeGet(String url, String dsl) {\n  String url = \"http://localhost:8080\";\n  Client clientInstance = Client.create();\n  clientInstance.addFilter(new HTTPBasicAuthFilter(\"\", \"\"));\n\n  WebResource webResource = clientInstance.resource(url);\n\n  ClientResponse response =\n    webResource.entity(dsl).header(\"Content-type\", \"application/json\").accept(\"application/json\").get(ClientResponse.class);\n     }\n</code></pre>\n\n<p>The detailed error message:</p>\n\n<pre><code>Caused by: java.net.ConnectException: Tried all: '1' addresses, but could not connect over HTTP to server: 'hostname', port: '8080'\n\nat weblogic.net.http.HttpClient.openServer(HttpClient.java:333)\n    at weblogic.net.http.HttpClient.openServer(HttpClient.java:425)\n    at weblogic.net.http.HttpClient.New(HttpClient.java:252)\n    at weblogic.net.http.HttpURLConnection.connect(HttpURLConnection.java:213)\n    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:398)\n    at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\n    at weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1005)\n    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:215)\n    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:126)\n    ... 182 more\n</code></pre>\n\n<p><strong>One more thing is that I can run it normally in integrated server but failed to run it in standalone server.</strong> </p>\n"},{"tags":["java","eclipse","formatting"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1367515557,"creation_date":1367515557,"answer_id":16344124,"question_id":16343270,"body_markdown":"Experiment with your Java-&gt;Code Style-&gt;Formatter preferences.  &quot;Banner style&quot; seems like a poor use of space given the Outline View and Quick Outline functionality.","title":"Eclipse formatter for java ending braces","body":"<p>Experiment with your Java->Code Style->Formatter preferences.  \"Banner style\" seems like a poor use of space given the Outline View and Quick Outline functionality.</p>\n"}],"owner":{"account_id":1817832,"reputation":351,"user_id":1652584,"display_name":"cmevoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686269235,"creation_date":1367512563,"question_id":16343270,"body_markdown":"I would like to know if it&#39;s possible to setup eclipse to format braces using banner style.  We&#39;re working with code that uses banner style formatting and would like to keep it consistent within the team for version control reasons.  Here&#39;s an example of banner style formatting for those who are not familiar:\r\n\r\n    public class Foo {\r\n        public static void main (String[] args) {\r\n            boolean condition = true;\r\n            try {\r\n                if (condition) {\r\n                    System.out.println (&quot;condition is true&quot;);\r\n                    }\r\n                else System.out.println (&quot;not condition&quot;);\r\n                }\r\n            catch (Exception ex) {\r\n                // handle errors\r\n                }\r\n            }\r\n        }\r\n\r\nUpdate: Another name for this style is [Ratliff].\r\n\r\n[Ratliff]: https://en.wikipedia.org/wiki/Indentation_style#Ratliff_style","title":"Eclipse formatter for java ending braces","body":"<p>I would like to know if it's possible to setup eclipse to format braces using banner style.  We're working with code that uses banner style formatting and would like to keep it consistent within the team for version control reasons.  Here's an example of banner style formatting for those who are not familiar:</p>\n<pre><code>public class Foo {\n    public static void main (String[] args) {\n        boolean condition = true;\n        try {\n            if (condition) {\n                System.out.println (&quot;condition is true&quot;);\n                }\n            else System.out.println (&quot;not condition&quot;);\n            }\n        catch (Exception ex) {\n            // handle errors\n            }\n        }\n    }\n</code></pre>\n<p>Update: Another name for this style is <a href=\"https://en.wikipedia.org/wiki/Indentation_style#Ratliff_style\" rel=\"nofollow noreferrer\">Ratliff</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686246887,"post_id":76434332,"comment_id":134776411,"body_markdown":"*`&quot;I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.&quot;`*  Why not just show the resultant string instead of describing it?","body":"<i><code>&quot;I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.&quot;</code></i>  Why not just show the resultant string instead of describing it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686247931,"post_id":76434332,"comment_id":134776633,"body_markdown":"To me, that looks more like a string that has been badly en/decoded. IOW it has missing data. So how do you know those data are not also important?","body":"To me, that looks more like a string that has been badly en/decoded. IOW it has missing data. So how do you know those data are not also important?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686249222,"post_id":76434332,"comment_id":134776861,"body_markdown":"*&quot;`If possible, use Java Pattern, because it is quite efficient.`&quot;* Actually, Java Pattern is not necessarily efficient but it provides general convenience.  In  some situations where performance is critical, writing a custom parser would probably be better.  But that also depends on the complexity of the parser and coding time.","body":"<i>&quot;<code>If possible, use Java Pattern, because it is quite efficient.</code>&quot;</i> Actually, Java Pattern is not necessarily efficient but it provides general convenience.  In  some situations where performance is critical, writing a custom parser would probably be better.  But that also depends on the complexity of the parser and coding time."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686249403,"post_id":76434332,"comment_id":134776896,"body_markdown":"`s.replaceAll(&quot;\\\\p{alpha}&quot;, &quot;-&quot;)` will do it for you, if you really don&#39;t care about the encoding issue I mentioned","body":"<code>s.replaceAll(&quot;\\\\p{alpha}&quot;, &quot;-&quot;)</code> will do it for you, if you really don&#39;t care about the encoding issue I mentioned"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686245679,"creation_date":1686245679,"answer_id":76434370,"question_id":76434332,"body_markdown":"You can use the `+` quantifier in your regular expression to match 1+ consecutive non-alphabet characters:\r\n```java\r\n final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n final String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;); \r\n System.out.println(clean); // prints -important-alsoimportant-\r\n```\r\n\r\nSimilar goes for the Pattern (might be helpful if you&#39;re doing this replacement multiple times):\r\n```java\r\nfinal Pattern NON_ALPHABET = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\r\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\nfinal String clean = NON_ALPHABET.matcher(input).replaceAll(&quot;-&quot;);\r\nSystem.out.println(clean); // prints the same\r\n```\r\n","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>You can use the <code>+</code> quantifier in your regular expression to match 1+ consecutive non-alphabet characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code> final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n final String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;); \n System.out.println(clean); // prints -important-alsoimportant-\n</code></pre>\n<p>Similar goes for the Pattern (might be helpful if you're doing this replacement multiple times):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Pattern NON_ALPHABET = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\nfinal String clean = NON_ALPHABET.matcher(input).replaceAll(&quot;-&quot;);\nSystem.out.println(clean); // prints the same\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26729789,"reputation":73,"user_id":20332351,"display_name":"Xuan Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686247111,"creation_date":1686247111,"answer_id":76434536,"question_id":76434332,"body_markdown":"Here&#39;s another way if you focus on the words. I&#39;d like to use `Pattern.compile(&quot;[a-zA-Z]+&quot;)` to solve the problem. After getting the expected words, say, &quot;important&quot; and &quot;alsoimportant&quot;, it is convenient to use StringBuilder to join them together.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n        StringBuilder builder = new StringBuilder(&quot;-&quot;);\r\n        while (matcher.find()) {\r\n            builder.append(matcher.group()).append(&quot;-&quot;);\r\n        }\r\n        System.out.println(builder); // output &quot;-important-alsoimportant-&quot;\r\n    }\r\n}\r\n```\r\nNote: The pattern above assumes that all of the words consist only of letters from &#39;a&#39; to &#39;z&#39; or &#39;A&#39; to &#39;Z&#39;. Yet some of the words, like &quot;mp3&quot; would be regarded as the combination of the word &quot;mp&quot; and gibberish &#39;3&#39;. To avoid this, just change the pattern to `Pattern.compile(&quot;\\\\w+&quot;)`.","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>Here's another way if you focus on the words. I'd like to use <code>Pattern.compile(&quot;[a-zA-Z]+&quot;)</code> to solve the problem. After getting the expected words, say, &quot;important&quot; and &quot;alsoimportant&quot;, it is convenient to use StringBuilder to join them together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);\n        Matcher matcher = pattern.matcher(input);\n        StringBuilder builder = new StringBuilder(&quot;-&quot;);\n        while (matcher.find()) {\n            builder.append(matcher.group()).append(&quot;-&quot;);\n        }\n        System.out.println(builder); // output &quot;-important-alsoimportant-&quot;\n    }\n}\n</code></pre>\n<p>Note: The pattern above assumes that all of the words consist only of letters from 'a' to 'z' or 'A' to 'Z'. Yet some of the words, like &quot;mp3&quot; would be regarded as the combination of the word &quot;mp&quot; and gibberish '3'. To avoid this, just change the pattern to <code>Pattern.compile(&quot;\\\\w+&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686249829,"creation_date":1686249829,"answer_id":76434851,"question_id":76434332,"body_markdown":"&gt; _&quot;It is not using Pattern&quot;_\r\n\r\nIt is, actually.  \r\nThe _[String#replaceAll](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L2964)_ method is utilizing the _Pattern_ class.\r\n\r\n&gt; _&quot;there are a number of dashes equal to the number of non-alphabet. I just need one. What is a good way to achieve this?&quot;_\r\n\r\nThe effect you&#39;re looking to achieve can be done with the _[+ quantifer](https://en.wikipedia.org/wiki/Regular_expression#Basic_concepts)_.  \r\nThis will attempt to match _1 or more_ of the the preceding value, in this case the _character class_.\r\n\r\n```java\r\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\nfinal String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\r\nSystem.out.println(clean);\r\n// print ---------important---------------alsoimportant-------\r\n// would like -important-alsoimportant-\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n-important-alsoimportant-\r\n```\r\n\r\nIf you&#39;d like to implement the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ classes explicitly, you can use the following.\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\r\nMatcher matcher = pattern.matcher(input);\r\nSystem.out.println(matcher.replaceAll(&quot;-&quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n-important-alsoimportant-\r\n```","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<blockquote>\n<p><em>&quot;It is not using Pattern&quot;</em></p>\n</blockquote>\n<p>It is, actually.<br />\nThe <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L2964\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method is utilizing the <em>Pattern</em> class.</p>\n<blockquote>\n<p><em>&quot;there are a number of dashes equal to the number of non-alphabet. I just need one. What is a good way to achieve this?&quot;</em></p>\n</blockquote>\n<p>The effect you're looking to achieve can be done with the <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#Basic_concepts\" rel=\"nofollow noreferrer\">+ quantifer</a></em>.<br />\nThis will attempt to match <em>1 or more</em> of the the preceding value, in this case the <em>character class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\nfinal String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\nSystem.out.println(clean);\n// print ---------important---------------alsoimportant-------\n// would like -important-alsoimportant-\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>-important-alsoimportant-\n</code></pre>\n<p>If you'd like to implement the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes explicitly, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\nMatcher matcher = pattern.matcher(input);\nSystem.out.println(matcher.replaceAll(&quot;-&quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>-important-alsoimportant-\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686269009,"creation_date":1686253025,"answer_id":76435187,"question_id":76434332,"body_markdown":"As I have said before, regular expressions, like streams, are a good general tool but not always as efficient as imperative programming. The following was about 37% more efficient that using `String.replaceAll`\r\n```\r\nboolean seen = false;\r\nStringBuilder sb = new StringBuilder();\r\nfor (char c : input.toCharArray()) {\r\n    if (!Character.isAlphabetic(c)) {\r\n        if (!seen) {\r\n            sb.append(&quot;-&quot;);\r\n            seen = true;\r\n        }\r\n    } else {\r\n        sb.append(c);\r\n        seen = false;\r\n    }\r\n}\r\nString result = sb.toString();\r\n```\r\nAlthough the time differences were significant, the time required was very small. As such it wouldn&#39;t really make a big difference in this particular problem and I would have probably opted for `String.replaceAll` myself.","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>As I have said before, regular expressions, like streams, are a good general tool but not always as efficient as imperative programming. The following was about 37% more efficient that using <code>String.replaceAll</code></p>\n<pre><code>boolean seen = false;\nStringBuilder sb = new StringBuilder();\nfor (char c : input.toCharArray()) {\n    if (!Character.isAlphabetic(c)) {\n        if (!seen) {\n            sb.append(&quot;-&quot;);\n            seen = true;\n        }\n    } else {\n        sb.append(c);\n        seen = false;\n    }\n}\nString result = sb.toString();\n</code></pre>\n<p>Although the time differences were significant, the time required was very small. As such it wouldn't really make a big difference in this particular problem and I would have probably opted for <code>String.replaceAll</code> myself.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76434370,"answer_count":4,"score":-1,"last_activity_date":1686269009,"creation_date":1686245369,"question_id":76434332,"body_markdown":"*What I am trying to achieve:*\r\n\r\nI have a string that looks like this: ```��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~```\r\n\r\nBasically, inside the string, there are words (composed of only the alphabet) with gibberish (one or multiple non-alphabet) before and after.\r\n\r\nI would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.\r\n\r\n*What I tried:*\r\n\r\n```\r\npublic static void main(String[] args)  {\r\n        final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n        final String clean = input.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;-&quot;);\r\n        System.out.println(clean);\r\n        // print ---------important---------------alsoimportant-------\r\n        // would like -important-alsoimportant-\r\n    }\r\n```\r\n\r\n*Question:*\r\n\r\nWith my current solution:\r\n- It is not using Pattern\r\n- there are a number of dashes equal to the number of non-alphabet. I just need one.\r\nWhat is a good way to achieve this?","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p><em>What I am trying to achieve:</em></p>\n<p>I have a string that looks like this: <code>��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~</code></p>\n<p>Basically, inside the string, there are words (composed of only the alphabet) with gibberish (one or multiple non-alphabet) before and after.</p>\n<p>I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.</p>\n<p><em>What I tried:</em></p>\n<pre><code>public static void main(String[] args)  {\n        final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n        final String clean = input.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;-&quot;);\n        System.out.println(clean);\n        // print ---------important---------------alsoimportant-------\n        // would like -important-alsoimportant-\n    }\n</code></pre>\n<p><em>Question:</em></p>\n<p>With my current solution:</p>\n<ul>\n<li>It is not using Pattern</li>\n<li>there are a number of dashes equal to the number of non-alphabet. I just need one.\nWhat is a good way to achieve this?</li>\n</ul>\n"},{"tags":["java","android","multithreading","kotlin"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1686268915,"post_id":76436210,"comment_id":134779539,"body_markdown":"If `binding` is null then you don&#39;t have a `TextView` to display anything on anyway. A quick solution would be to reference the nullable `_binding` instead, and null-check it before attempting to display your text. But probably a better idea would be to use a `ViewModel` to hold your UI state, and just update that with the text for display. That way you can observe it in `onCreateView`/`onViewCreated` and display whatever text is in there. If you have your views when the update happens, the text is displayed - otherwise it&#39;s deferred until the views are created","body":"If <code>binding</code> is null then you don&#39;t have a <code>TextView</code> to display anything on anyway. A quick solution would be to reference the nullable <code>_binding</code> instead, and null-check it before attempting to display your text. But probably a better idea would be to use a <code>ViewModel</code> to hold your UI state, and just update that with the text for display. That way you can observe it in <code>onCreateView</code>/<code>onViewCreated</code> and display whatever text is in there. If you have your views when the update happens, the text is displayed - otherwise it&#39;s deferred until the views are created"},{"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"score":0,"creation_date":1686269841,"post_id":76436210,"comment_id":134779621,"body_markdown":"Yes I have try a null checking before I displaying the text like this and it works. Thank you, and maybe i&#39;ll try to use the ViewModel later.\nactivity?.runOnUiThread {\n  if(_binding != null) {\n    binding.bottomSheetLayout.inferenceTimeVal.text =\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n    ...\n  }\n...\n}","body":"Yes I have try a null checking before I displaying the text like this and it works. Thank you, and maybe i&#39;ll try to use the ViewModel later. activity?.runOnUiThread {   if(_binding != null) {     binding.bottomSheetLayout.inferenceTimeVal.text =     String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316     ...   } ... }"}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686268648,"creation_date":1686268648,"answer_id":76436391,"question_id":76436210,"body_markdown":"It is expected to be `null` as you are explicitly setting it to `null` in `onDestroy`, Ideally you should cancel the background task when `fragment` is not `active` but in your case you could simply check `if(isAdded)` before accessing `binding` inside background task.\r\n```\r\nactivity?.runOnUiThread {\r\n  if(!activity.isFinishing() &amp;&amp; isAdded) {\r\n    binding.bottomSheetLayout.inferenceTimeVal.text =\r\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\r\n    ...\r\n  }\r\n...\r\n}\r\n```","title":"NullPointerException in getBinding when pressing back","body":"<p>It is expected to be <code>null</code> as you are explicitly setting it to <code>null</code> in <code>onDestroy</code>, Ideally you should cancel the background task when <code>fragment</code> is not <code>active</code> but in your case you could simply check <code>if(isAdded)</code> before accessing <code>binding</code> inside background task.</p>\n<pre><code>activity?.runOnUiThread {\n  if(!activity.isFinishing() &amp;&amp; isAdded) {\n    binding.bottomSheetLayout.inferenceTimeVal.text =\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n    ...\n  }\n...\n}\n</code></pre>\n"}],"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686271131,"answer_count":1,"score":0,"last_activity_date":1686268648,"creation_date":1686265289,"question_id":76436210,"body_markdown":"I build an app with multiple fragments and single activity. I have a detection fragment\r\n&lt;!-- language: lang-kotlin --&gt;\r\n```\r\nprivate val PERMISSIONS_REQUIRED = arrayOf(Manifest.permission.CAMERA)\r\nclass DetectionFragment : Fragment(), ObjectDetectorHelper.DetectorListener {\r\n    private var _binding: FragmentDetectionBinding? = null\r\n    private val binding get() = _binding!!\r\n\r\n    private val TAG = &quot;ObjectDetection&quot;\r\n\r\n    private lateinit var objectDetectorHelper: ObjectDetectorHelper\r\n    private lateinit var bitmapBuffer: Bitmap\r\n    private var preview: Preview? = null\r\n    private var imageAnalyzer: ImageAnalysis? = null\r\n    private var camera: Camera? = null\r\n    private var cameraProvider: ProcessCameraProvider? = null\r\n\r\n    /** Blocking camera operations are performed using this executor */\r\n    private lateinit var cameraExecutor: ExecutorService\r\n\r\n\r\n\r\n    private val requestPermissionLauncher =\r\n        registerForActivityResult(\r\n            ActivityResultContracts.RequestPermission()\r\n        ) { ...\r\n            }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        _binding = FragmentDetectionBinding.inflate(layoutInflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        _binding = null\r\n        super.onDestroyView()\r\n        // Shut down our background executor\r\n        cameraExecutor.shutdown()\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        onBack()\r\n        when {\r\n            //checkpermission thing\r\n        }\r\n        objectDetectorHelper = ObjectDetectorHelper(\r\n            context = requireContext(),\r\n            objectDetectorListener = this)\r\n\r\n        // Initialize our background executor\r\n        cameraExecutor = Executors.newSingleThreadExecutor()\r\n\r\n        // Wait for the views to be properly laid out\r\n        binding.viewFinder.post {\r\n            // Set up the camera and its use cases\r\n            setUpCamera()\r\n        }\r\n\r\n        // Attach listeners to UI control widgets\r\n        initBottomSheetControls()\r\n    }\r\n\r\n    private fun initBottomSheetControls(){\r\n        // When clicked, lower detection score threshold floor\r\n        binding.bottomSheetLayout.thresholdMinus.setOnClickListener {\r\n            if (objectDetectorHelper.threshold &gt;= 0.1) {\r\n                objectDetectorHelper.threshold -= 0.1f\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, raise detection score threshold floor\r\n        binding.bottomSheetLayout.thresholdPlus.setOnClickListener {\r\n            if (objectDetectorHelper.threshold &lt;= 0.8) {\r\n                objectDetectorHelper.threshold += 0.1f\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, reduce the number of objects that can be detected at a time\r\n        binding.bottomSheetLayout.maxResultsMinus.setOnClickListener {\r\n            if (objectDetectorHelper.maxResults &gt; 1) {\r\n                objectDetectorHelper.maxResults--\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, increase the number of objects that can be detected at a time\r\n        binding.bottomSheetLayout.maxResultsPlus.setOnClickListener {\r\n            if (objectDetectorHelper.maxResults &lt; 5) {\r\n                objectDetectorHelper.maxResults++\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, decrease the number of threads used for detection\r\n        binding.bottomSheetLayout.threadsMinus.setOnClickListener {\r\n            if (objectDetectorHelper.numThreads &gt; 1) {\r\n                objectDetectorHelper.numThreads--\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, increase the number of threads used for detection\r\n        binding.bottomSheetLayout.threadsPlus.setOnClickListener {\r\n            if (objectDetectorHelper.numThreads &lt; 4) {\r\n                objectDetectorHelper.numThreads++\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, change the underlying hardware used for inference. Current options are CPU\r\n        // GPU, and NNAPI\r\n        binding.bottomSheetLayout.spinnerDelegate.setSelection(0, false)\r\n        binding.bottomSheetLayout.spinnerDelegate.onItemSelectedListener =\r\n            object : AdapterView.OnItemSelectedListener {\r\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\r\n                    objectDetectorHelper.currentDelegate = p2\r\n                    updateControlsUi()\r\n                }\r\n\r\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\r\n                    /* no op */\r\n                }\r\n            }\r\n\r\n        // When clicked, change the underlying model used for object detection\r\n        binding.bottomSheetLayout.spinnerModel.setSelection(0, false)\r\n        binding.bottomSheetLayout.spinnerModel.onItemSelectedListener =\r\n            object : AdapterView.OnItemSelectedListener {\r\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\r\n                    objectDetectorHelper.currentModel = p2\r\n                    updateControlsUi()\r\n                }\r\n\r\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\r\n                    /* no op */\r\n                }\r\n            }\r\n    }\r\n\r\n    private fun updateControlsUi() {\r\n        binding.bottomSheetLayout.maxResultsValue.text =\r\n            objectDetectorHelper.maxResults.toString()\r\n        binding.bottomSheetLayout.thresholdValue.text =\r\n            String.format(&quot;%.2f&quot;, objectDetectorHelper.threshold)\r\n        binding.bottomSheetLayout.threadsValue.text =\r\n            objectDetectorHelper.numThreads.toString()\r\n\r\n        // Needs to be cleared instead of reinitialized because the GPU\r\n        // delegate needs to be initialized on the thread using it when applicable\r\n        objectDetectorHelper.clearObjectDetector()\r\n        binding.overlay.clear()\r\n    }\r\n\r\n    // Initialize CameraX, and prepare to bind the camera use cases\r\n    private fun setUpCamera() {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\r\n        cameraProviderFuture.addListener(\r\n            {\r\n                // CameraProvider\r\n                cameraProvider = cameraProviderFuture.get()\r\n\r\n                // Build and bind the camera use cases\r\n                bindCameraUseCases()\r\n            },\r\n            ContextCompat.getMainExecutor(requireContext())\r\n        )\r\n    }\r\n\r\n    @Suppress(&quot;DEPRECATION&quot;)\r\n    private fun bindCameraUseCases() {\r\n\r\n        // CameraProvider\r\n        val cameraProvider =\r\n            cameraProvider ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\r\n\r\n        // CameraSelector - makes assumption that we&#39;re only using the back camera\r\n        val cameraSelector =\r\n            CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build()\r\n\r\n        // Preview. Only using the 4:3 ratio because this is the closest to our models\r\n        preview =\r\n            Preview.Builder()\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .setTargetRotation(binding.viewFinder.display.rotation)\r\n                .build()\r\n\r\n        // ImageAnalysis. Using RGBA 8888 to match how our models work\r\n        imageAnalyzer =\r\n            ImageAnalysis.Builder()\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .setTargetRotation(binding.viewFinder.display.rotation)\r\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\r\n                .build()\r\n                // The analyzer can then be assigned to the instance\r\n                .also {\r\n                    it.setAnalyzer(cameraExecutor) { image -&gt;\r\n                        if (!::bitmapBuffer.isInitialized) {\r\n                            // The image rotation and RGB image buffer are initialized only once\r\n                            // the analyzer has started running\r\n                            bitmapBuffer = Bitmap.createBitmap(\r\n                                image.width,\r\n                                image.height,\r\n                                Bitmap.Config.ARGB_8888\r\n                            )\r\n                        }\r\n\r\n                        detectObjects(image)\r\n                    }\r\n                }\r\n\r\n        // Must unbind the use-cases before rebinding them\r\n        cameraProvider.unbindAll()\r\n\r\n        try {\r\n            // A variable number of use-cases can be passed here -\r\n            // camera provides access to CameraControl &amp; CameraInfo\r\n            camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageAnalyzer)\r\n\r\n            // Attach the viewfinder&#39;s surface provider to preview use case\r\n            preview?.setSurfaceProvider(binding.viewFinder.surfaceProvider)\r\n        } catch (exc: Exception) {\r\n            Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n        }\r\n    }\r\n\r\n    private fun detectObjects(image: ImageProxy) {\r\n        // Copy out RGB bits to the shared bitmap buffer\r\n        image.use { bitmapBuffer.copyPixelsFromBuffer(image.planes[0].buffer) }\r\n\r\n        val imageRotation = image.imageInfo.rotationDegrees\r\n        // Pass Bitmap and rotation to the object detector helper for processing and detection\r\n        objectDetectorHelper.detect(bitmapBuffer, imageRotation)\r\n    }\r\n\r\n    override fun onConfigurationChanged(newConfig: Configuration) {\r\n        super.onConfigurationChanged(newConfig)\r\n        imageAnalyzer?.targetRotation = binding.viewFinder.display.rotation\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding = null\r\n    }\r\n\r\n    override fun onError(error: String) {\r\n        activity?.runOnUiThread {\r\n            Toast.makeText(requireContext(), error, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n    // Update UI after objects have been detected. Extracts original image height/width\r\n    // to scale and place bounding boxes properly through OverlayView\r\n    override fun onResults(\r\n        results: MutableList&lt;Detection&gt;?,\r\n        inferenceTime: Long,\r\n        imageHeight: Int,\r\n        imageWidth: Int\r\n    ) {\r\n        activity?.runOnUiThread {\r\n            binding.bottomSheetLayout.inferenceTimeVal.text =\r\n                String.format(&quot;%d ms&quot;, inferenceTime)\r\n\r\n            // Pass necessary information to OverlayView for drawing on the canvas\r\n            binding.overlay.setResults(\r\n                results ?: LinkedList&lt;Detection&gt;(),\r\n                imageHeight,\r\n                imageWidth\r\n            )\r\n\r\n            // Force a redraw\r\n            binding.overlay.invalidate()\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nAnd I have this error when I press back button on this screen and immediately close the app.\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: id.naufalfajar.go, PID: 5383                                                                                                                                                                                       \r\nat id.naufalfajar.go.view.detection.DetectionFragment.getBinding(DetectionFragment.kt:34)\r\nat id.naufalfajar.go.view.detection.DetectionFragment.onResults$lambda$14(DetectionFragment.kt:316)\r\nat id.naufalfajar.go.view.detection.DetectionFragment.$r8$lambda$TqTYva0DaM8jzJqCVNkqO0J7EE4(Unknown Source:0)\r\nat id.naufalfajar.go.view.detection.DetectionFragment$$ExternalSyntheticLambda10.run(Unknown Source:10)\r\nat android.os.Handler.handleCallback(Handler.java:883)\r\nat android.os.Handler.dispatchMessage(Handler.java:100)\r\nat android.os.Looper.loop(Looper.java:224)\r\nat android.app.ActivityThread.main(ActivityThread.java:7590)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)                                                                                         \t\r\n```\r\nThe error is in this line of code.\r\n```\r\nprivate val binding get() = _binding!! //DetectionFragment.kt:34\r\n\r\nactivity?.runOnUiThread {\r\n  binding.bottomSheetLayout.inferenceTimeVal.text =\r\n  String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\r\n...\r\n}\r\n```\r\nMy guessing is because I have a thread running on my background and when I press back, the binding is set to null. \r\n\r\nAnyone know the solution to this?  ","title":"NullPointerException in getBinding when pressing back","body":"<p>I build an app with multiple fragments and single activity. I have a detection fragment</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val PERMISSIONS_REQUIRED = arrayOf(Manifest.permission.CAMERA)\nclass DetectionFragment : Fragment(), ObjectDetectorHelper.DetectorListener {\n    private var _binding: FragmentDetectionBinding? = null\n    private val binding get() = _binding!!\n\n    private val TAG = &quot;ObjectDetection&quot;\n\n    private lateinit var objectDetectorHelper: ObjectDetectorHelper\n    private lateinit var bitmapBuffer: Bitmap\n    private var preview: Preview? = null\n    private var imageAnalyzer: ImageAnalysis? = null\n    private var camera: Camera? = null\n    private var cameraProvider: ProcessCameraProvider? = null\n\n    /** Blocking camera operations are performed using this executor */\n    private lateinit var cameraExecutor: ExecutorService\n\n\n\n    private val requestPermissionLauncher =\n        registerForActivityResult(\n            ActivityResultContracts.RequestPermission()\n        ) { ...\n            }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        _binding = FragmentDetectionBinding.inflate(layoutInflater, container, false)\n        return binding.root\n    }\n\n    override fun onDestroyView() {\n        _binding = null\n        super.onDestroyView()\n        // Shut down our background executor\n        cameraExecutor.shutdown()\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        onBack()\n        when {\n            //checkpermission thing\n        }\n        objectDetectorHelper = ObjectDetectorHelper(\n            context = requireContext(),\n            objectDetectorListener = this)\n\n        // Initialize our background executor\n        cameraExecutor = Executors.newSingleThreadExecutor()\n\n        // Wait for the views to be properly laid out\n        binding.viewFinder.post {\n            // Set up the camera and its use cases\n            setUpCamera()\n        }\n\n        // Attach listeners to UI control widgets\n        initBottomSheetControls()\n    }\n\n    private fun initBottomSheetControls(){\n        // When clicked, lower detection score threshold floor\n        binding.bottomSheetLayout.thresholdMinus.setOnClickListener {\n            if (objectDetectorHelper.threshold &gt;= 0.1) {\n                objectDetectorHelper.threshold -= 0.1f\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, raise detection score threshold floor\n        binding.bottomSheetLayout.thresholdPlus.setOnClickListener {\n            if (objectDetectorHelper.threshold &lt;= 0.8) {\n                objectDetectorHelper.threshold += 0.1f\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, reduce the number of objects that can be detected at a time\n        binding.bottomSheetLayout.maxResultsMinus.setOnClickListener {\n            if (objectDetectorHelper.maxResults &gt; 1) {\n                objectDetectorHelper.maxResults--\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, increase the number of objects that can be detected at a time\n        binding.bottomSheetLayout.maxResultsPlus.setOnClickListener {\n            if (objectDetectorHelper.maxResults &lt; 5) {\n                objectDetectorHelper.maxResults++\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, decrease the number of threads used for detection\n        binding.bottomSheetLayout.threadsMinus.setOnClickListener {\n            if (objectDetectorHelper.numThreads &gt; 1) {\n                objectDetectorHelper.numThreads--\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, increase the number of threads used for detection\n        binding.bottomSheetLayout.threadsPlus.setOnClickListener {\n            if (objectDetectorHelper.numThreads &lt; 4) {\n                objectDetectorHelper.numThreads++\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, change the underlying hardware used for inference. Current options are CPU\n        // GPU, and NNAPI\n        binding.bottomSheetLayout.spinnerDelegate.setSelection(0, false)\n        binding.bottomSheetLayout.spinnerDelegate.onItemSelectedListener =\n            object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n                    objectDetectorHelper.currentDelegate = p2\n                    updateControlsUi()\n                }\n\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n                    /* no op */\n                }\n            }\n\n        // When clicked, change the underlying model used for object detection\n        binding.bottomSheetLayout.spinnerModel.setSelection(0, false)\n        binding.bottomSheetLayout.spinnerModel.onItemSelectedListener =\n            object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n                    objectDetectorHelper.currentModel = p2\n                    updateControlsUi()\n                }\n\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n                    /* no op */\n                }\n            }\n    }\n\n    private fun updateControlsUi() {\n        binding.bottomSheetLayout.maxResultsValue.text =\n            objectDetectorHelper.maxResults.toString()\n        binding.bottomSheetLayout.thresholdValue.text =\n            String.format(&quot;%.2f&quot;, objectDetectorHelper.threshold)\n        binding.bottomSheetLayout.threadsValue.text =\n            objectDetectorHelper.numThreads.toString()\n\n        // Needs to be cleared instead of reinitialized because the GPU\n        // delegate needs to be initialized on the thread using it when applicable\n        objectDetectorHelper.clearObjectDetector()\n        binding.overlay.clear()\n    }\n\n    // Initialize CameraX, and prepare to bind the camera use cases\n    private fun setUpCamera() {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\n        cameraProviderFuture.addListener(\n            {\n                // CameraProvider\n                cameraProvider = cameraProviderFuture.get()\n\n                // Build and bind the camera use cases\n                bindCameraUseCases()\n            },\n            ContextCompat.getMainExecutor(requireContext())\n        )\n    }\n\n    @Suppress(&quot;DEPRECATION&quot;)\n    private fun bindCameraUseCases() {\n\n        // CameraProvider\n        val cameraProvider =\n            cameraProvider ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\n\n        // CameraSelector - makes assumption that we're only using the back camera\n        val cameraSelector =\n            CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build()\n\n        // Preview. Only using the 4:3 ratio because this is the closest to our models\n        preview =\n            Preview.Builder()\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .setTargetRotation(binding.viewFinder.display.rotation)\n                .build()\n\n        // ImageAnalysis. Using RGBA 8888 to match how our models work\n        imageAnalyzer =\n            ImageAnalysis.Builder()\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .setTargetRotation(binding.viewFinder.display.rotation)\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\n                .build()\n                // The analyzer can then be assigned to the instance\n                .also {\n                    it.setAnalyzer(cameraExecutor) { image -&gt;\n                        if (!::bitmapBuffer.isInitialized) {\n                            // The image rotation and RGB image buffer are initialized only once\n                            // the analyzer has started running\n                            bitmapBuffer = Bitmap.createBitmap(\n                                image.width,\n                                image.height,\n                                Bitmap.Config.ARGB_8888\n                            )\n                        }\n\n                        detectObjects(image)\n                    }\n                }\n\n        // Must unbind the use-cases before rebinding them\n        cameraProvider.unbindAll()\n\n        try {\n            // A variable number of use-cases can be passed here -\n            // camera provides access to CameraControl &amp; CameraInfo\n            camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageAnalyzer)\n\n            // Attach the viewfinder's surface provider to preview use case\n            preview?.setSurfaceProvider(binding.viewFinder.surfaceProvider)\n        } catch (exc: Exception) {\n            Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n        }\n    }\n\n    private fun detectObjects(image: ImageProxy) {\n        // Copy out RGB bits to the shared bitmap buffer\n        image.use { bitmapBuffer.copyPixelsFromBuffer(image.planes[0].buffer) }\n\n        val imageRotation = image.imageInfo.rotationDegrees\n        // Pass Bitmap and rotation to the object detector helper for processing and detection\n        objectDetectorHelper.detect(bitmapBuffer, imageRotation)\n    }\n\n    override fun onConfigurationChanged(newConfig: Configuration) {\n        super.onConfigurationChanged(newConfig)\n        imageAnalyzer?.targetRotation = binding.viewFinder.display.rotation\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        _binding = null\n    }\n\n    override fun onError(error: String) {\n        activity?.runOnUiThread {\n            Toast.makeText(requireContext(), error, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    // Update UI after objects have been detected. Extracts original image height/width\n    // to scale and place bounding boxes properly through OverlayView\n    override fun onResults(\n        results: MutableList&lt;Detection&gt;?,\n        inferenceTime: Long,\n        imageHeight: Int,\n        imageWidth: Int\n    ) {\n        activity?.runOnUiThread {\n            binding.bottomSheetLayout.inferenceTimeVal.text =\n                String.format(&quot;%d ms&quot;, inferenceTime)\n\n            // Pass necessary information to OverlayView for drawing on the canvas\n            binding.overlay.setResults(\n                results ?: LinkedList&lt;Detection&gt;(),\n                imageHeight,\n                imageWidth\n            )\n\n            // Force a redraw\n            binding.overlay.invalidate()\n        }\n    }\n}\n</code></pre>\n<p>And I have this error when I press back button on this screen and immediately close the app.</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: id.naufalfajar.go, PID: 5383                                                                                                                                                                                       \nat id.naufalfajar.go.view.detection.DetectionFragment.getBinding(DetectionFragment.kt:34)\nat id.naufalfajar.go.view.detection.DetectionFragment.onResults$lambda$14(DetectionFragment.kt:316)\nat id.naufalfajar.go.view.detection.DetectionFragment.$r8$lambda$TqTYva0DaM8jzJqCVNkqO0J7EE4(Unknown Source:0)\nat id.naufalfajar.go.view.detection.DetectionFragment$$ExternalSyntheticLambda10.run(Unknown Source:10)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:224)\nat android.app.ActivityThread.main(ActivityThread.java:7590)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)                                                                                             \n</code></pre>\n<p>The error is in this line of code.</p>\n<pre><code>private val binding get() = _binding!! //DetectionFragment.kt:34\n\nactivity?.runOnUiThread {\n  binding.bottomSheetLayout.inferenceTimeVal.text =\n  String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n...\n}\n</code></pre>\n<p>My guessing is because I have a thread running on my background and when I press back, the binding is set to null.</p>\n<p>Anyone know the solution to this?</p>\n"},{"tags":["java","c#","dependency-injection","preprocessor-directive","staging"],"comments":[{"owner":{"account_id":171301,"reputation":6287,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":2,"creation_date":1435772259,"post_id":20546659,"comment_id":50343966,"body_markdown":"Looks like I can&#39;t add an answer since the question&#39;s been closed, *but* I&#39;ve read about a tool called [Prebop](http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse) (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in your situation, use DI. -- Just putting this here for other Googlers.)","body":"Looks like I can&#39;t add an answer since the question&#39;s been closed, <i>but</i> I&#39;ve read about a tool called <a href=\"http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse\" rel=\"nofollow noreferrer\">Prebop</a> (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in your situation, use DI. -- Just putting this here for other Googlers.)"},{"owner":{"account_id":3681418,"reputation":2984,"user_id":3066295,"display_name":"TT--"},"score":0,"creation_date":1538102415,"post_id":20546659,"comment_id":92034480,"body_markdown":"see this answer, https://stackoverflow.com/a/48330157/3066295","body":"see this answer, <a href=\"https://stackoverflow.com/a/48330157/3066295\">stackoverflow.com/a/48330157/3066295</a>"}],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":3,"up_vote_count":29,"is_accepted":true,"score":26,"last_activity_date":1386859967,"creation_date":1386859967,"answer_id":20546708,"question_id":20546659,"body_markdown":"Java doesn&#39;t have a preprocessor - so the simple answer is that you can&#39;t.\r\n\r\nThis sort of thing is normally handled in Java using Dependency Injection - which is both more powerful and more flexible.\r\n\r\nhttp://www.vogella.com/articles/DependencyInjection/article.html\r\n","title":"How to provide preprocessor directives in Java","body":"<p>Java doesn't have a preprocessor - so the simple answer is that you can't.</p>\n\n<p>This sort of thing is normally handled in Java using Dependency Injection - which is both more powerful and more flexible.</p>\n\n<p><a href=\"http://www.vogella.com/articles/DependencyInjection/article.html\">http://www.vogella.com/articles/DependencyInjection/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386860015,"creation_date":1386860015,"answer_id":20546729,"question_id":20546659,"body_markdown":"Use Dependency Injection/Inversion of Control. Depending on your actual needs, you might be able to get away with something as simple as property file/environment variables to control things.\r\n\r\nYou might be able to use static defines around *some* types of initialization/code.\r\n","title":"How to provide preprocessor directives in Java","body":"<p>Use Dependency Injection/Inversion of Control. Depending on your actual needs, you might be able to get away with something as simple as property file/environment variables to control things.</p>\n\n<p>You might be able to use static defines around <em>some</em> types of initialization/code.</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1386860815,"creation_date":1386860815,"answer_id":20547022,"question_id":20546659,"body_markdown":"Java doesn&#39;t have a preprocessor, yet that doesn&#39;t mean that you can&#39;t run Java code through `cpp` - though it would not be supported by any tools, AFAIK.","title":"How to provide preprocessor directives in Java","body":"<p>Java doesn't have a preprocessor, yet that doesn't mean that you can't run Java code through <code>cpp</code> - though it would not be supported by any tools, AFAIK.</p>\n"},{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566995755,"creation_date":1566995755,"answer_id":57692577,"question_id":20546659,"body_markdown":"You can use something based on &lt;#FreeMarker&gt;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qLmmI.png\r\n\r\nsource: https://github.com/mkowsiak/jpp\r\n\r\nHowever, this solution will require pre-compilation step, if you want to change the code. On the other hand, you can still create code that works without pre-processing steps - sort of &quot;default&quot; compilation.","title":"How to provide preprocessor directives in Java","body":"<p>You can use something based on &lt;#FreeMarker>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qLmmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLmmI.png\" alt=\"enter image description here\"></a></p>\n\n<p>source: <a href=\"https://github.com/mkowsiak/jpp\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jpp</a></p>\n\n<p>However, this solution will require pre-compilation step, if you want to change the code. On the other hand, you can still create code that works without pre-processing steps - sort of \"default\" compilation.</p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686268004,"creation_date":1686268004,"answer_id":76436367,"question_id":20546659,"body_markdown":"I&#39;m using [java-comment-preprocessor](https://github.com/raydac/java-comment-preprocessor). It is very easy and convenient and provides also integration for Maven, Ant and Gradle. It is using Java comments and a preprocessor is used generating the actual code based on the preprocessor flags, e.g.:\r\n\r\n~~~java\r\n//#if simulator\r\nprivate final static int FOO = 2;\r\n//#else\r\nprivate final static int FOO = 1;\r\n//#endif\r\n~~~\r\n\r\nMaven integration:\r\n\r\n~~~xml\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;com.igormaznitsa&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcp&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;preprocessSources&lt;/id&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;preprocess&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;vars&gt;\r\n                                &lt;simulator&gt;${simulator}&lt;/simulator&gt;\r\n                            &lt;/vars&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n~~~","title":"How to provide preprocessor directives in Java","body":"<p>I'm using <a href=\"https://github.com/raydac/java-comment-preprocessor\" rel=\"nofollow noreferrer\">java-comment-preprocessor</a>. It is very easy and convenient and provides also integration for Maven, Ant and Gradle. It is using Java comments and a preprocessor is used generating the actual code based on the preprocessor flags, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//#if simulator\nprivate final static int FOO = 2;\n//#else\nprivate final static int FOO = 1;\n//#endif\n</code></pre>\n<p>Maven integration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n                &lt;groupId&gt;com.igormaznitsa&lt;/groupId&gt;\n                &lt;artifactId&gt;jcp&lt;/artifactId&gt;\n                &lt;version&gt;7.0.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;preprocessSources&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;preprocess&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;vars&gt;\n                                &lt;simulator&gt;${simulator}&lt;/simulator&gt;\n                            &lt;/vars&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48070,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":20546708,"answer_count":5,"score":33,"last_activity_date":1686268004,"creation_date":1386859824,"question_id":20546659,"body_markdown":"CHow can I correctly provide the following functionally from C# in Java? \r\n\r\n[C#]\r\n\r\n    #define PRODUCTION //Change from sandbox to production to switch between both systems.\r\n    \r\n    #if SANDBOX\r\n        using NetSuite.com.netsuite.sandbox.webservices;\r\n    #endif\r\n    \r\n    #if PRODUCTION\r\n        using NetSuite.com.netsuite.webservices;\r\n    #endif","title":"How to provide preprocessor directives in Java","body":"<p>CHow can I correctly provide the following functionally from C# in Java?</p>\n<p>[C#]</p>\n<pre><code>#define PRODUCTION //Change from sandbox to production to switch between both systems.\n\n#if SANDBOX\n    using NetSuite.com.netsuite.sandbox.webservices;\n#endif\n\n#if PRODUCTION\n    using NetSuite.com.netsuite.webservices;\n#endif\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092231,"post_id":44888126,"comment_id":76754374,"body_markdown":"is your network is kind of unstable?","body":"is your network is kind of unstable?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499092368,"post_id":44888126,"comment_id":76754466,"body_markdown":"No, it&#39;s from the company where I do internships.","body":"No, it&#39;s from the company where I do internships."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092449,"post_id":44888126,"comment_id":76754522,"body_markdown":"well it looks like a network issue...","body":"well it looks like a network issue..."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092463,"post_id":44888126,"comment_id":76754530,"body_markdown":"how of can you reproduce that?","body":"how of can you reproduce that?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499092573,"post_id":44888126,"comment_id":76754599,"body_markdown":"But what exactly would it be?","body":"But what exactly would it be?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499093029,"post_id":44888126,"comment_id":76754853,"body_markdown":"I am doing a query in the database.","body":"I am doing a query in the database."},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1499095708,"post_id":44888126,"comment_id":76756509,"body_markdown":"Can you connect to the database using Telnet?","body":"Can you connect to the database using Telnet?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499168069,"post_id":44888126,"comment_id":76786556,"body_markdown":"I am not allowed to communicate with the database via telnet.","body":"I am not allowed to communicate with the database via telnet."}],"answers":[{"tags":[],"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499179246,"creation_date":1499179246,"answer_id":44908791,"question_id":44888126,"body_markdown":"Sorted out. The problem was on the server, I just switched server and it worked.","title":"Error: Exception in monitor thread while connecting to server","body":"<p>Sorted out. The problem was on the server, I just switched server and it worked.</p>\n"},{"tags":[],"owner":{"account_id":11120658,"reputation":139,"user_id":8163593,"accept_rate":75,"display_name":"BWC semaJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686265047,"creation_date":1686265047,"answer_id":76436199,"question_id":44888126,"body_markdown":"I ran into this exception while trying to host my jar on Amazon EBS. I thought it was a security group problem and tried over and over changing what was allowed in the inbound and failed to solve. My database I&#39;m using is hosted by MongoDB Atlas. I forgot that I only allowed specific addresses to access the database. As soon as I allowed the Amazon EBS address and restarted the app it was able to connect.","title":"Error: Exception in monitor thread while connecting to server","body":"<p>I ran into this exception while trying to host my jar on Amazon EBS. I thought it was a security group problem and tried over and over changing what was allowed in the inbound and failed to solve. My database I'm using is hosted by MongoDB Atlas. I forgot that I only allowed specific addresses to access the database. As soon as I allowed the Amazon EBS address and restarted the app it was able to connect.</p>\n"}],"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44908791,"answer_count":2,"score":1,"last_activity_date":1686265047,"creation_date":1499092068,"question_id":44888126,"body_markdown":"\r\nIn the connection the database and collection are found, but this is giving this error ..\r\n\r\n    INFORMA&#199;&#213;ES: Exception in monitor thread while connecting to server xarquigo01f:27017com.mongodb.MongoSocketException: xarquigo01f\r\n\tat com.mongodb.ServerAddress.getSocketAddress(ServerAddress.java:188)\r\n\tat com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57)\r\n\tat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\r\n\tat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\r\n\tat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113)\r\n\tat java.lang.Thread.run(Unknown Source)","title":"Error: Exception in monitor thread while connecting to server","body":"<p>In the connection the database and collection are found, but this is giving this error ..</p>\n\n<pre><code>INFORMAÇÕES: Exception in monitor thread while connecting to server xarquigo01f:27017com.mongodb.MongoSocketException: xarquigo01f\nat com.mongodb.ServerAddress.getSocketAddress(ServerAddress.java:188)\nat com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57)\nat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\nat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\nat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","caching","guava"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686264523,"creation_date":1686264523,"answer_id":76436164,"question_id":76435813,"body_markdown":"No.  The Guava cache doesn&#39;t do any serialization or anything. It doesn&#39;t document it because it doesn&#39;t happen.","title":"Does the class (of the cached-value) needs to implement Serializable in Google Guava Cache?","body":"<p>No.  The Guava cache doesn't do any serialization or anything. It doesn't document it because it doesn't happen.</p>\n"}],"owner":{"account_id":5177594,"reputation":39,"user_id":4144179,"accept_rate":64,"display_name":"Akshay M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686264523,"creation_date":1686259835,"question_id":76435813,"body_markdown":"I am using Google Guava Cache to store class of type let&#39;s say LevelOneDTO. Now this class is extending from LevelTwoDTO, which in turn extends from 2 more levels.\r\n\r\nWhen I use a Google Guava Cache instance of type Cache&lt;String, LevelOneDTO&gt;, where String represents the UUID of LevelOneDTO and use it, I find that there are some issues reading the values of some of the fields in the LevelOneDTO. This has caused some issues wherein, when retrieved the one of the values, some of the fields in the LevelOneDTO objects are missing.\r\n\r\nThinking that the Guava Cache may be serializing/de-serializing the object while storing and reading from it, I added &quot;implements Serializable&quot; to all 4 levels of class hierarchy, and voila! It seems to work as well! \r\n\r\n\r\nBut I could not find any reference documentation where it says that the type/class of value to be stored needs to be serializable? Can someone shed some light on it?\r\n\r\n\r\n\r\n\r\n\r\nI believe I have found the solution wherein adding &quot;implements Serializable&quot; (as I am using Java) solves the problem but I don&#39;t know WHY it is solving the problem, or couldn&#39;t find any documentation related to the need of that. Can someone throw some light on it?","title":"Does the class (of the cached-value) needs to implement Serializable in Google Guava Cache?","body":"<p>I am using Google Guava Cache to store class of type let's say LevelOneDTO. Now this class is extending from LevelTwoDTO, which in turn extends from 2 more levels.</p>\n<p>When I use a Google Guava Cache instance of type Cache&lt;String, LevelOneDTO&gt;, where String represents the UUID of LevelOneDTO and use it, I find that there are some issues reading the values of some of the fields in the LevelOneDTO. This has caused some issues wherein, when retrieved the one of the values, some of the fields in the LevelOneDTO objects are missing.</p>\n<p>Thinking that the Guava Cache may be serializing/de-serializing the object while storing and reading from it, I added &quot;implements Serializable&quot; to all 4 levels of class hierarchy, and voila! It seems to work as well!</p>\n<p>But I could not find any reference documentation where it says that the type/class of value to be stored needs to be serializable? Can someone shed some light on it?</p>\n<p>I believe I have found the solution wherein adding &quot;implements Serializable&quot; (as I am using Java) solves the problem but I don't know WHY it is solving the problem, or couldn't find any documentation related to the need of that. Can someone throw some light on it?</p>\n"},{"tags":["java","selenium-webdriver","junit","parallel-processing","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":2,"creation_date":1686266216,"post_id":76436125,"comment_id":134779220,"body_markdown":"How do you create your web driver. Sounds like you may be assigning it to a static field.","body":"How do you create your web driver. Sounds like you may be assigning it to a static field."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686302117,"post_id":76436125,"comment_id":134783215,"body_markdown":"yes, I am using static webdriver: @Getter\npublic static WebDriver driver;\n\npublic BasePage(WebDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}","body":"yes, I am using static webdriver: @Getter public static WebDriver driver;  public BasePage(WebDriver driver) {     this.driver = driver;     PageFactory.initElements(driver, this); }"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686302135,"post_id":76436125,"comment_id":134783221,"body_markdown":"is there a way to get round tis problem ?","body":"is there a way to get round tis problem ?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325764,"post_id":76436125,"comment_id":134788116,"body_markdown":"https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493","body":"<a href=\"https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493\" title=\"how to design a cucumber selenium framework without using static instances of th\">stackoverflow.com/questions/67724604/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325820,"post_id":76436125,"comment_id":134788129,"body_markdown":"https://stackoverflow.com/questions/65541200/is-threadlocal-required-for-automation-framework-that-uses-cucumber-jmeter-and/65541795#65541795","body":"<a href=\"https://stackoverflow.com/questions/65541200/is-threadlocal-required-for-automation-framework-that-uses-cucumber-jmeter-and/65541795#65541795\" title=\"is threadlocal required for automation framework that uses cucumber jmeter and\">stackoverflow.com/questions/65541200/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325843,"post_id":76436125,"comment_id":134788138,"body_markdown":"Not quite your problem, but the solution is comparable: Don&#39;t use a static webdriver.","body":"Not quite your problem, but the solution is comparable: Don&#39;t use a static webdriver."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686341163,"post_id":76436125,"comment_id":134790826,"body_markdown":"is there other way to create non static webdriver in page factory pattern than public class LazyWebDriver implements Webdriver, Disposable ? This solution does not look good","body":"is there other way to create non static webdriver in page factory pattern than public class LazyWebDriver implements Webdriver, Disposable ? This solution does not look good"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686641712,"post_id":76436125,"comment_id":134823072,"body_markdown":"could you help me how to remote static from my framework ? https://stackoverflow.com/questions/76439006/java-selenium-how-to-convert-static-webdriver-to-non-static-in-page-object-pat","body":"could you help me how to remote static from my framework ? <a href=\"https://stackoverflow.com/questions/76439006/java-selenium-how-to-convert-static-webdriver-to-non-static-in-page-object-pat\" title=\"java selenium how to convert static webdriver to non static in page object pat\">stackoverflow.com/questions/76439006/&hellip;</a>"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686263808,"creation_date":1686263808,"question_id":76436125,"body_markdown":"I have 2 separate feature files. When I run parallel tests using maven command 2 separate browsers show up but first opens with blank page without even url address and nothing happens, however second opens correctly and executes the test successfully. So the first feature file is failed, second is passed.\r\n\r\nHint: when I remove 2 following lines \r\n\r\n    &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n    &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n\r\n from maven surefire plugin both feature files run one by one and tests are executed successfully (but not in parallel what I want).\r\n\r\n\r\n \r\n\r\n    Feature: test of a webpage one\r\n    \r\n      @desktop\r\n      Scenario: Test landing page one\r\n        Given Customer clicks something one \r\n        When Customer clicks something two\r\n        Then Customer clicks something three\r\n\r\nSecond feature file\r\n\r\n    Feature: test of a webpage two\r\n    \r\n      @desktop\r\n      Scenario: Test landing page two\r\n        Given Customer clicks something one \r\n        When Customer clicks something two\r\n        Then Customer clicks something three\r\n\r\nI have in my POM.xml file the following maven-surefire-plugin configuration - is this configuration good or not ? Maybe maven-surefire-plugin configuration is wrong ?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/TestRunner.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI have test runner class\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features=&quot;src/test/java/features&quot;,\r\n            plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\r\n                    &quot;html:target/jsonReports/cucumber-report.html&quot;},\r\n            glue= {&quot;stepDefs&quot;},\r\n          \r\n            )\r\n    public class TestRunner {\r\n    }","title":"Java - maven cucumber parallel tests - browser opens with blank page","body":"<p>I have 2 separate feature files. When I run parallel tests using maven command 2 separate browsers show up but first opens with blank page without even url address and nothing happens, however second opens correctly and executes the test successfully. So the first feature file is failed, second is passed.</p>\n<p>Hint: when I remove 2 following lines</p>\n<pre><code>&lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n</code></pre>\n<p>from maven surefire plugin both feature files run one by one and tests are executed successfully (but not in parallel what I want).</p>\n<pre><code>Feature: test of a webpage one\n\n  @desktop\n  Scenario: Test landing page one\n    Given Customer clicks something one \n    When Customer clicks something two\n    Then Customer clicks something three\n</code></pre>\n<p>Second feature file</p>\n<pre><code>Feature: test of a webpage two\n\n  @desktop\n  Scenario: Test landing page two\n    Given Customer clicks something one \n    When Customer clicks something two\n    Then Customer clicks something three\n</code></pre>\n<p>I have in my POM.xml file the following maven-surefire-plugin configuration - is this configuration good or not ? Maybe maven-surefire-plugin configuration is wrong ?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/TestRunner.java&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have test runner class</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;src/test/java/features&quot;,\n        plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\n                &quot;html:target/jsonReports/cucumber-report.html&quot;},\n        glue= {&quot;stepDefs&quot;},\n      \n        )\npublic class TestRunner {\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":0,"creation_date":1686258830,"post_id":76435381,"comment_id":134778394,"body_markdown":"For me the real puzzle is how a &#180;BadSqlGrammarException&#180; can result in a 406 :)","body":"For me the real puzzle is how a &#180;BadSqlGrammarException&#180; can result in a 406 :)"}],"answers":[{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686261615,"creation_date":1686261615,"answer_id":76435968,"question_id":76435381,"body_markdown":"There are a few options :\r\n\r\n# 1. Polymorphism\r\n\r\nThe exceptions know how to behave here themselves\r\n\r\n    record StatusAndMessage(HttpStatus errorStatus, String message, String messageDetail) {}\r\n\r\n    interface SelfHandling {\r\n        StatusAndMessage handle()\r\n    }\r\n\t\r\n\t@Component\r\n\t@Slf4j\r\n\tpublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\r\n\t\t@Override\r\n\t\tpublic Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n\t\t\tThrowable error = super.getError(request);\r\n\t\t\tStatusAndMessage statusAndMessage;\r\n\r\n\t\t\tif (error instanceof SelfHandling selfHandling) {\r\n\t\t\t\tstatusAndMessage = selfHandling.statusAndMessage()\r\n\t\t\t} else {\r\n\t\t\t\tstatusAndMessage = new StatusAndMessage(\r\n\t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR,\r\n\t\t\t\t\terror.getMessage(),\r\n\t\t\t\t\terror.getCause() != null ? error.getCause().getMessage() : null;\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tlog.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n\t\t\t\t\tstatusAndMessage.message(),\r\n\t\t\t\t\tstatusAndMessage.errorStatus(),\r\n\t\t\t\t\tstatusAndMessage. messageDetail());\r\n\t\t\tmap.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\r\n\t\t\tmap.put(&quot;message&quot;, statusAndMessage.message());\r\n\t\t\tmap.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\r\n\t\t\treturn map;\r\n\t\t}\r\n    }\r\n\r\n - Downside : This doesn&#39;t work for 3rd party exceptions. So you have to either wrap those in your own, or choose a different approach.\r\n - Upside : this method doesn&#39;t need to change if you define new Exceptions\r\n\r\n# 2. Double dispatch\r\n\r\n - Downside : ugly (so no code example) \r\n - Upside : You can vary behavior\r\n   per context. If exceptions may need a different status depending on\r\n   the request for instance.\r\n\r\n# 3. Chain of Responsibility\r\n\r\n\t// implementations will return Optional.empty() if they can&#39;t handle the Throwable\r\n\tinterface ExceptionToResponseMapper extends Function&lt;Throwable, Optional&lt;StatusAndMessage&gt;&gt; {\r\n\t}\r\n\r\n\t@Component\r\n\t@Slf4j\r\n\tpublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\t\r\n\t\tprivate final List&lt;ExceptionToResponseMapper&gt; mappers;\r\n\t\t\r\n\t\t// order of the mappers matters\r\n\t\tpublic GlobalErrorAttributes(List&lt;ExceptionToResponseMapper&gt; mappers) {\r\n\t\t\tthis.mappers = List.copyOf(mappers);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n\t\t\t\r\n\t\t\tThrowable error = super.getError(request);\r\n            StatusAndMessage statusAndMessage = mappers.stream()\r\n                .map(mapper -&gt; mapper.apply(error))\r\n                .flatMap(Optional::stream)\r\n                .findFirst()\r\n                .orElseGet(() -&gt; new StatusAndMessage(\r\n                        HttpStatus.INTERNAL_SERVER_ERROR,\r\n                        error.getMessage(),\r\n                        error.getCause() != null ? error.getCause().getMessage() : null\r\n                ));\r\n\t\t\tlog.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n\t\t\t\t\tstatusAndMessage.message(),\r\n\t\t\t\t\tstatusAndMessage.errorStatus(),\r\n\t\t\t\t\tstatusAndMessage. messageDetail());\r\n\t\t\tmap.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\r\n\t\t\tmap.put(&quot;message&quot;, statusAndMessage.message());\r\n\t\t\tmap.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\r\n\t\t\treturn map;\r\n\t\t}\r\n    }\r\n\r\n - Downside : easy to forget writing extra handlers when introducing a new Exception\r\n - Upside : works easily on 3rd party exceptions\r\n","title":"How to replace if-else blocks in Java when working with derived types from the basic Throwable?","body":"<p>There are a few options :</p>\n<h1>1. Polymorphism</h1>\n<p>The exceptions know how to behave here themselves</p>\n<pre><code>record StatusAndMessage(HttpStatus errorStatus, String message, String messageDetail) {}\n\ninterface SelfHandling {\n    StatusAndMessage handle()\n}\n\n@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        Throwable error = super.getError(request);\n        StatusAndMessage statusAndMessage;\n\n        if (error instanceof SelfHandling selfHandling) {\n            statusAndMessage = selfHandling.statusAndMessage()\n        } else {\n            statusAndMessage = new StatusAndMessage(\n                HttpStatus.INTERNAL_SERVER_ERROR,\n                error.getMessage(),\n                error.getCause() != null ? error.getCause().getMessage() : null;\n            )\n        }\n        log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                statusAndMessage.message(),\n                statusAndMessage.errorStatus(),\n                statusAndMessage. messageDetail());\n        map.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\n        map.put(&quot;message&quot;, statusAndMessage.message());\n        map.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\n        return map;\n    }\n}\n</code></pre>\n<ul>\n<li>Downside : This doesn't work for 3rd party exceptions. So you have to either wrap those in your own, or choose a different approach.</li>\n<li>Upside : this method doesn't need to change if you define new Exceptions</li>\n</ul>\n<h1>2. Double dispatch</h1>\n<ul>\n<li>Downside : ugly (so no code example)</li>\n<li>Upside : You can vary behavior\nper context. If exceptions may need a different status depending on\nthe request for instance.</li>\n</ul>\n<h1>3. Chain of Responsibility</h1>\n<pre><code>// implementations will return Optional.empty() if they can't handle the Throwable\ninterface ExceptionToResponseMapper extends Function&lt;Throwable, Optional&lt;StatusAndMessage&gt;&gt; {\n}\n\n@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    private final List&lt;ExceptionToResponseMapper&gt; mappers;\n    \n    // order of the mappers matters\n    public GlobalErrorAttributes(List&lt;ExceptionToResponseMapper&gt; mappers) {\n        this.mappers = List.copyOf(mappers);\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        \n        Throwable error = super.getError(request);\n        StatusAndMessage statusAndMessage = mappers.stream()\n            .map(mapper -&gt; mapper.apply(error))\n            .flatMap(Optional::stream)\n            .findFirst()\n            .orElseGet(() -&gt; new StatusAndMessage(\n                    HttpStatus.INTERNAL_SERVER_ERROR,\n                    error.getMessage(),\n                    error.getCause() != null ? error.getCause().getMessage() : null\n            ));\n        log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                statusAndMessage.message(),\n                statusAndMessage.errorStatus(),\n                statusAndMessage. messageDetail());\n        map.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\n        map.put(&quot;message&quot;, statusAndMessage.message());\n        map.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\n        return map;\n    }\n}\n</code></pre>\n<ul>\n<li>Downside : easy to forget writing extra handlers when introducing a new Exception</li>\n<li>Upside : works easily on 3rd party exceptions</li>\n</ul>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76435968,"answer_count":1,"score":0,"last_activity_date":1686261615,"creation_date":1686254972,"question_id":76435381,"body_markdown":"For example, there is a code that, depending on the subtype of the type **Throwable**, will fill the object with data and return it to the call point.\r\n\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        Throwable error = super.getError(request);\r\n        HttpStatus errorStatus;\r\n        String messageDetail = null;\r\n\r\n        if (error instanceof UserAlreadyExistsException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\r\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }\r\n\r\n        if (error instanceof UserNotFoundException ||\r\n                error instanceof ResponseStatusException || error instanceof PasswordInHashNotFoundException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_FOUND;\r\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }else if (error instanceof BadSqlGrammarException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\r\n            log.error(&quot;BadSqlGrammar error: error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        } else {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.INTERNAL_SERVER_ERROR;\r\n            log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }\r\n        map.put(&quot;status&quot;, errorStatus.value());\r\n        map.put(&quot;message&quot;, error.getMessage());\r\n        map.put(&quot;detailMessage&quot;, messageDetail);\r\n        return map;\r\n    }\r\n}\r\n\r\n```\r\n\r\nA made a model like this\r\n\r\n\r\n```java\r\n\r\n        Map&lt;Throwable, Supplier&lt;String&gt;&gt; handler = new LinkedHashMap&lt;&gt;();\r\n\r\n        PasswordInHashException passwordInHashException =\r\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n\r\n        PasswordInHashNotFoundException passwordInHashNotFoundException =\r\n                new PasswordInHashNotFoundException(&quot;passwordInHashException&quot;);\r\n\r\n\r\n        handler.put(passwordInHashException, () -&gt; {\r\n            System.out.println(&quot;passwordInHashException&quot;);\r\n            return &quot;passwordInHashException&quot;;\r\n        });\r\n\r\n        handler.put(passwordInHashNotFoundException, () -&gt; {\r\n            System.out.println(&quot;passwordInHashNotFoundException&quot;);\r\n            return &quot;passwordInHashNotFoundException&quot;;\r\n        });\r\n\r\n```\r\n\r\nHowever, the difficulty lies in how to force the key to be checked in Map using the instanceof operator.\r\n\r\nSince there are a lot of Exceptions types and this method will grow, but I would like to make it so that without changing this method, expand the ability to process new Exceptions. And it is even better to use Spring&#39;s capabilities for automatic initialization of components, then it is enough to implement a new type that will be automatically added to the Map and, if necessary, depending on the exceptions that occurred, the filled object was returned and a programmed action was performed (for example, writing to the log).\r\n\r\n```java\r\n Map&lt;String, Supplier&lt;String&gt;&gt; handler = new HashMap&lt;&gt;();\r\n\r\n        PasswordInHashException passwordInHashException =\r\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n\r\n  handler.put(&quot;PasswordInHashException&quot;, () -&gt; {\r\n            System.out.println(&quot;passwordInHashException&quot;);\r\n            return &quot;passwordInHashException&quot;;\r\n        });\r\n\r\n Throwable key =  new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n        String simpleName = key.getClass().getSimpleName();\r\n\r\n         handler.get(simpleName).get();\r\n\r\n```\r\n\r\nPlease share your ideas.\r\n","title":"How to replace if-else blocks in Java when working with derived types from the basic Throwable?","body":"<p>For example, there is a code that, depending on the subtype of the type <strong>Throwable</strong>, will fill the object with data and return it to the call point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        Throwable error = super.getError(request);\n        HttpStatus errorStatus;\n        String messageDetail = null;\n\n        if (error instanceof UserAlreadyExistsException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }\n\n        if (error instanceof UserNotFoundException ||\n                error instanceof ResponseStatusException || error instanceof PasswordInHashNotFoundException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_FOUND;\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }else if (error instanceof BadSqlGrammarException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\n            log.error(&quot;BadSqlGrammar error: error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        } else {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.INTERNAL_SERVER_ERROR;\n            log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }\n        map.put(&quot;status&quot;, errorStatus.value());\n        map.put(&quot;message&quot;, error.getMessage());\n        map.put(&quot;detailMessage&quot;, messageDetail);\n        return map;\n    }\n}\n\n</code></pre>\n<p>A made a model like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Map&lt;Throwable, Supplier&lt;String&gt;&gt; handler = new LinkedHashMap&lt;&gt;();\n\n        PasswordInHashException passwordInHashException =\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n\n        PasswordInHashNotFoundException passwordInHashNotFoundException =\n                new PasswordInHashNotFoundException(&quot;passwordInHashException&quot;);\n\n\n        handler.put(passwordInHashException, () -&gt; {\n            System.out.println(&quot;passwordInHashException&quot;);\n            return &quot;passwordInHashException&quot;;\n        });\n\n        handler.put(passwordInHashNotFoundException, () -&gt; {\n            System.out.println(&quot;passwordInHashNotFoundException&quot;);\n            return &quot;passwordInHashNotFoundException&quot;;\n        });\n\n</code></pre>\n<p>However, the difficulty lies in how to force the key to be checked in Map using the instanceof operator.</p>\n<p>Since there are a lot of Exceptions types and this method will grow, but I would like to make it so that without changing this method, expand the ability to process new Exceptions. And it is even better to use Spring's capabilities for automatic initialization of components, then it is enough to implement a new type that will be automatically added to the Map and, if necessary, depending on the exceptions that occurred, the filled object was returned and a programmed action was performed (for example, writing to the log).</p>\n<pre class=\"lang-java prettyprint-override\"><code> Map&lt;String, Supplier&lt;String&gt;&gt; handler = new HashMap&lt;&gt;();\n\n        PasswordInHashException passwordInHashException =\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n\n  handler.put(&quot;PasswordInHashException&quot;, () -&gt; {\n            System.out.println(&quot;passwordInHashException&quot;);\n            return &quot;passwordInHashException&quot;;\n        });\n\n Throwable key =  new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n        String simpleName = key.getClass().getSimpleName();\n\n         handler.get(simpleName).get();\n\n</code></pre>\n<p>Please share your ideas.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1447096552,"post_id":33616386,"comment_id":55007264,"body_markdown":"Well.. you can always obtain `Principal` object, get principal&#39;s name and find User by username. If Spring sec. authentication is being implemented correctly of course.","body":"Well.. you can always obtain <code>Principal</code> object, get principal&#39;s name and find User by username. If Spring sec. authentication is being implemented correctly of course."},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":1,"creation_date":1447097081,"post_id":33616386,"comment_id":55007586,"body_markdown":"Yeah, that&#39;s what I&#39;m doing at the moment ... Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\t\tUser principal = uRep.findByUsername(auth.getName()); .. but as I said, I&#39;d like to have that clean solution when it&#39;s available","body":"Yeah, that&#39;s what I&#39;m doing at the moment ... Authentication auth = SecurityContextHolder.getContext().getAuthentication(); \t\tUser principal = uRep.findByUsername(auth.getName()); .. but as I said, I&#39;d like to have that clean solution when it&#39;s available"},{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":2,"creation_date":1447163708,"post_id":33616386,"comment_id":55036470,"body_markdown":"I am facing exactly the same issue as you. @ AuthenticationPrincipal is always giving me a default user (The User class just initlalized with default constructor), whereas ContextSecurityHolder and HttpServletRequest#getUserPrincipal() give me the expected (authenticated) user. By the way, should you not annotate your SecurityConfig with @ EnableWebSecurity instead of  @ EnableWebMvcSecurity (deprecated in Spring Security 4+)?","body":"I am facing exactly the same issue as you. @ AuthenticationPrincipal is always giving me a default user (The User class just initlalized with default constructor), whereas ContextSecurityHolder and HttpServletRequest#getUserPrincipal() give me the expected (authenticated) user. By the way, should you not annotate your SecurityConfig with @ EnableWebSecurity instead of  @ EnableWebMvcSecurity (deprecated in Spring Security 4+)?"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1447164043,"post_id":33616386,"comment_id":55036686,"body_markdown":"Thanks for pointing that out, completely missed that :). If you figure it out please don&#39;t hesitate to post here.","body":"Thanks for pointing that out, completely missed that :). If you figure it out please don&#39;t hesitate to post here."},{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":0,"creation_date":1447170919,"post_id":33616386,"comment_id":55041798,"body_markdown":"I have filed a JIRA at Spring: https://jira.spring.io/browse/SEC-3145","body":"I have filed a JIRA at Spring: <a href=\"https://jira.spring.io/browse/SEC-3145\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SEC-3145</a>"}],"answers":[{"tags":[],"owner":{"account_id":1192211,"reputation":1019,"user_id":1164714,"display_name":"Imrank"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1447153491,"creation_date":1447153491,"answer_id":33628545,"question_id":33616386,"body_markdown":"Instead of using @AuthenticationPrincipal you can directly specify your dependency for authenticated user in method argument. something as given below\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView index(Principal user) {\r\n        ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n        mav.addObject(&quot;user&quot;, user);\r\n        return mav;\r\n    } \r\n\r\nThis Principal object will be actual object that got authenticated through spring security. Spring will inject this for you when the method will get invoked.\r\n","title":"Spring Security @AuthenticationPrincipal","body":"<p>Instead of using @AuthenticationPrincipal you can directly specify your dependency for authenticated user in method argument. something as given below</p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\npublic ModelAndView index(Principal user) {\n    ModelAndView mav= new ModelAndView(\"/web/index\");\n    mav.addObject(\"user\", user);\n    return mav;\n} \n</code></pre>\n\n<p>This Principal object will be actual object that got authenticated through spring security. Spring will inject this for you when the method will get invoked.</p>\n"},{"tags":[],"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447756914,"creation_date":1447756914,"answer_id":33754871,"question_id":33616386,"body_markdown":"I found another solution, even this is not the canonical one.\r\n\r\n**In your controller**\r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;UserDTO&gt; login(@RequestBody UserDTO user){\r\n\t\ttry {\r\n\t\t\tusersService.authenticate(user.getUsername(), user.getPassword());\r\n\t\t\treturn new ResponseEntity&lt;UserDTO&gt;(user, HttpStatus.OK);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e){\r\n\t\t\treturn new ResponseEntity&lt;UserDTO&gt;(HttpStatus.UNAUTHORIZED);\r\n\t\t}\r\n\t}\r\n\r\nWhere the UserDTO os just a form to contains a username and a password\r\n\r\n**In your CustomUserDetailsService**\r\n\r\n    public void authenticate(String username, String password){\r\n\t\ttry{\r\n\t\t\tUser user = new User(username, password);\r\n\t\t\tAuthentication request = new UsernamePasswordAuthenticationToken(user, password, Arrays.asList(WebSecurityConfiguration.USER));\r\n\t\t\tAuthentication result = authenticationManager.authenticate(request);\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(result);\t\t\r\n\t\t} catch (InternalAuthenticationServiceException e){\r\n\t\t\t// treat as a bad credential\r\n\t\t}\r\n\t}\r\n\r\n**Implement your own AuthenticationManager**\r\n\r\n    @Component\r\n    class DefaultAuthenticationManager implements AuthenticationManager {\r\n\t\r\n\t@Autowired\r\n\tprivate CustomUserDetailsService usersService;\r\n\r\n\tpublic Authentication authenticate(Authentication auth) throws AuthenticationException {\r\n\t\tUserDetails user = usersService.loadUserByUsername(((User)auth.getPrincipal()).getUsername());\r\n\t\tif (user != null) {\r\n\t\t\treturn new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\r\n\t\t}\r\n    // Handle bad credentials here\t\r\n    }\r\n    }\r\n\r\nWhat is fundamental is that the `Principal` in the `CustomUserDetailsService#authenticate` is an object, not the name of your authenticated user, so that the framework can handle it and then inject through `@AuthenticationPrincipal` mechanism. This worked for me.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I found another solution, even this is not the canonical one.</p>\n\n<p><strong>In your controller</strong></p>\n\n<pre><code>@RequestMapping(value = \"/login\", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;UserDTO&gt; login(@RequestBody UserDTO user){\n    try {\n        usersService.authenticate(user.getUsername(), user.getPassword());\n        return new ResponseEntity&lt;UserDTO&gt;(user, HttpStatus.OK);\n    }\n    catch (BadCredentialsException e){\n        return new ResponseEntity&lt;UserDTO&gt;(HttpStatus.UNAUTHORIZED);\n    }\n}\n</code></pre>\n\n<p>Where the UserDTO os just a form to contains a username and a password</p>\n\n<p><strong>In your CustomUserDetailsService</strong></p>\n\n<pre><code>public void authenticate(String username, String password){\n    try{\n        User user = new User(username, password);\n        Authentication request = new UsernamePasswordAuthenticationToken(user, password, Arrays.asList(WebSecurityConfiguration.USER));\n        Authentication result = authenticationManager.authenticate(request);\n        SecurityContextHolder.getContext().setAuthentication(result);       \n    } catch (InternalAuthenticationServiceException e){\n        // treat as a bad credential\n    }\n}\n</code></pre>\n\n<p><strong>Implement your own AuthenticationManager</strong></p>\n\n<pre><code>@Component\nclass DefaultAuthenticationManager implements AuthenticationManager {\n\n@Autowired\nprivate CustomUserDetailsService usersService;\n\npublic Authentication authenticate(Authentication auth) throws AuthenticationException {\n    UserDetails user = usersService.loadUserByUsername(((User)auth.getPrincipal()).getUsername());\n    if (user != null) {\n        return new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\n    }\n// Handle bad credentials here  \n}\n}\n</code></pre>\n\n<p>What is fundamental is that the <code>Principal</code> in the <code>CustomUserDetailsService#authenticate</code> is an object, not the name of your authenticated user, so that the framework can handle it and then inject through <code>@AuthenticationPrincipal</code> mechanism. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7100312,"reputation":280,"user_id":5432178,"display_name":"Ali Miskeen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489015346,"creation_date":1489013312,"answer_id":42683422,"question_id":33616386,"body_markdown":"    @RequestMapping(method= RequestMethod.GET,value=&quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Object authenticate(@AuthenticationPrincipal Object obj) {\r\n        return obj;\r\n    }\r\n\r\nI have the same problem, I was able to make this work.\r\nYou could use it with a mapper\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/authenticate2&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public User authenticate2(@AuthenticationPrincipal Object obj) throws IOException {\r\n        return mapper.readValue(mapper.writeValueAsString(obj), User.class);\r\n    }\r\n\r\nThese worked for me, I hope it would work for anyone in the future","title":"Spring Security @AuthenticationPrincipal","body":"<pre><code>@RequestMapping(method= RequestMethod.GET,value=\"/authenticate\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic Object authenticate(@AuthenticationPrincipal Object obj) {\n    return obj;\n}\n</code></pre>\n\n<p>I have the same problem, I was able to make this work.\nYou could use it with a mapper</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/authenticate2\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic User authenticate2(@AuthenticationPrincipal Object obj) throws IOException {\n    return mapper.readValue(mapper.writeValueAsString(obj), User.class);\n}\n</code></pre>\n\n<p>These worked for me, I hope it would work for anyone in the future</p>\n"},{"tags":[],"owner":{"account_id":11304263,"reputation":1,"user_id":8289335,"display_name":"yihang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511530875,"creation_date":1511530875,"answer_id":47474536,"question_id":33616386,"body_markdown":"I am facing exactly the same issue as you.\r\nfor some reason, spring security&#39;s @EnableWebSecurity not add argumentResolver automatically, you need to add it manual:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:argument-resolvers&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver&quot;/&gt;\r\n\t\t&lt;/mvc:argument-resolvers&gt;\r\n\t&lt;/mvc:annotation-driven&gt;","title":"Spring Security @AuthenticationPrincipal","body":"<p>I am facing exactly the same issue as you.\nfor some reason, spring security's @EnableWebSecurity not add argumentResolver automatically, you need to add it manual:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:argument-resolvers&gt;\n        &lt;bean class=\"org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver\"/&gt;\n    &lt;/mvc:argument-resolvers&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871888,"reputation":919,"user_id":2465039,"accept_rate":70,"display_name":"user2465039"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1513683915,"creation_date":1513683915,"answer_id":47886283,"question_id":33616386,"body_markdown":"In my case, I get a `String` back (the username) and not the `UserDetails` object, i.e. you should define the method signature as \r\n\r\n    public ModelAndView index(@AuthenticationPrincipal String username)\r\n\r\nThis is not strange, since `@AuthenticationPrincipal` in effect returns `Authentication.getPrincipal()` and according to the documentation:\r\n\r\n&gt; In the case of an authentication request with username and password,\r\n&gt; this would be the username. Callers are expected to populate the\r\n&gt; principal for an authentication request.\r\n&gt; \r\n&gt; The AuthenticationManager implementation will often return an\r\n&gt; Authentication containing richer information as the principal for use\r\n&gt; by the application. Many of the authentication providers will create a\r\n&gt; UserDetails object as the principal.\r\nSee: https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/\r\n\r\nSo, I am assuming that your `AuthenticationManager` implementation is returning just a username","title":"Spring Security @AuthenticationPrincipal","body":"<p>In my case, I get a <code>String</code> back (the username) and not the <code>UserDetails</code> object, i.e. you should define the method signature as </p>\n\n<pre><code>public ModelAndView index(@AuthenticationPrincipal String username)\n</code></pre>\n\n<p>This is not strange, since <code>@AuthenticationPrincipal</code> in effect returns <code>Authentication.getPrincipal()</code> and according to the documentation:</p>\n\n<blockquote>\n  <p>In the case of an authentication request with username and password,\n  this would be the username. Callers are expected to populate the\n  principal for an authentication request.</p>\n  \n  <p>The AuthenticationManager implementation will often return an\n  Authentication containing richer information as the principal for use\n  by the application. Many of the authentication providers will create a\n  UserDetails object as the principal.\n  See: <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/\" rel=\"noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/</a></p>\n</blockquote>\n\n<p>So, I am assuming that your <code>AuthenticationManager</code> implementation is returning just a username</p>\n"},{"tags":[],"owner":{"account_id":2748330,"reputation":2030,"user_id":2368238,"display_name":"Matias Sebastiao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521518694,"creation_date":1521518694,"answer_id":49376175,"question_id":33616386,"body_markdown":"You need to check if you are using the correct version of `@AuthenticationPrincipal` annotation and the correct version of `AuthenticationPrincipalArgumentResolver` class together.\r\n\r\nPrior to 4.0 version of Spring Security you had to use classes: \r\n\r\n - `org.springframework.security.web.bind.annotation.AuthenticationPrincipal`\r\n\r\n - `org.springframework.security.web.bind.support.AuthenticationPrincipalArgumentResolver`\r\n\r\nFrom version 4.0 onwards, you must use:\r\n\r\n - `org.springframework.security.core.annotation.AuthenticationPrincipal`\r\n\r\n - `org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver`\r\n\r\nLook at [@AuthenticationPrincipal][1] official docs for configuration examples.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#mvc-authentication-principal","title":"Spring Security @AuthenticationPrincipal","body":"<p>You need to check if you are using the correct version of <code>@AuthenticationPrincipal</code> annotation and the correct version of <code>AuthenticationPrincipalArgumentResolver</code> class together.</p>\n\n<p>Prior to 4.0 version of Spring Security you had to use classes: </p>\n\n<ul>\n<li><p><code>org.springframework.security.web.bind.annotation.AuthenticationPrincipal</code></p></li>\n<li><p><code>org.springframework.security.web.bind.support.AuthenticationPrincipalArgumentResolver</code></p></li>\n</ul>\n\n<p>From version 4.0 onwards, you must use:</p>\n\n<ul>\n<li><p><code>org.springframework.security.core.annotation.AuthenticationPrincipal</code></p></li>\n<li><p><code>org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver</code></p></li>\n</ul>\n\n<p>Look at <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#mvc-authentication-principal\" rel=\"nofollow noreferrer\">@AuthenticationPrincipal</a> official docs for configuration examples.</p>\n"},{"tags":[],"owner":{"account_id":13781963,"reputation":41,"user_id":9946910,"display_name":"P Sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564510123,"creation_date":1564510123,"answer_id":57277659,"question_id":33616386,"body_markdown":"I&#39;m achieving this with an authentication provider that extends AbstractUserDetailsAuthenticationProvider . \r\n\r\nIn my provider I&#39;m overriding the following method:\r\n\r\nprotected UserDetails retrieveUser(\r\n         String username,\r\n         UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {}\r\n\r\nand in this method I&#39;m creating my UserDetails implementation and return it. Then I&#39;m able to get it in the controller with the AuthenticationPrincipal annotation.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I'm achieving this with an authentication provider that extends AbstractUserDetailsAuthenticationProvider . </p>\n\n<p>In my provider I'm overriding the following method:</p>\n\n<p>protected UserDetails retrieveUser(\n         String username,\n         UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {}</p>\n\n<p>and in this method I'm creating my UserDetails implementation and return it. Then I'm able to get it in the controller with the AuthenticationPrincipal annotation.</p>\n"},{"tags":[],"owner":{"account_id":140438,"reputation":5061,"user_id":1208276,"accept_rate":58,"display_name":"uiroshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567469747,"creation_date":1567469747,"answer_id":57763692,"question_id":33616386,"body_markdown":"Even though documentation mentioned about a customUser, I don&#39;t think it&#39;s possible. Use `@AuthenticationPrincipal` with `java.lang.Object` or `org.springframework.security.core.userdetails.User` as spring controller method parameter type.\r\n\r\n&gt; If the types do not match, null will be returned unless\r\n&gt; AuthenticationPrincipal.errorOnInvalidType() is true in which case a\r\n&gt; ClassCastException will be thrown.\r\n[Spring API Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html","title":"Spring Security @AuthenticationPrincipal","body":"<p>Even though documentation mentioned about a customUser, I don't think it's possible. Use <code>@AuthenticationPrincipal</code> with <code>java.lang.Object</code> or <code>org.springframework.security.core.userdetails.User</code> as spring controller method parameter type.</p>\n\n<blockquote>\n  <p>If the types do not match, null will be returned unless\n  AuthenticationPrincipal.errorOnInvalidType() is true in which case a\n  ClassCastException will be thrown.\n  <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html\" rel=\"nofollow noreferrer\">Spring API Documentation</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1593081,"reputation":63,"user_id":1475975,"display_name":"maciejlesniak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584818363,"creation_date":1584818363,"answer_id":60792260,"question_id":33616386,"body_markdown":"From documentation:\r\n\r\n&gt; Class AuthenticationPrincipalArgumentResolver \r\n&gt; will resolve the CustomUser argument using\r\n&gt; Authentication.getPrincipal() from the SecurityContextHolder. If the\r\n&gt; Authentication or Authentication.getPrincipal() is null, it will\r\n&gt; return null. If the types do not match, null will be returned unless\r\n&gt; AuthenticationPrincipal.errorOnInvalidType() is true in which case a\r\n&gt; ClassCastException will be thrown.\r\n\r\nThis simple code works for me:\r\n\r\n    @RestController\r\n    public class ApiController {\r\n    \r\n      @RequestMapping(method = RequestMethod.GET, path = &quot;/api/public/{id}&quot;)\r\n      public ResponseEntity&lt;ApiResponse&gt; getPublicResource(\r\n          @PathVariable Integer id,\r\n          @AuthenticationPrincipal String principal\r\n      ) {\r\n    \r\n        if (id % 2 == 0) {\r\n          SecurityContext context = SecurityContextHolder.getContext();\r\n          Authentication authentication = context.getAuthentication();\r\n          return ResponseEntity.ok(new ApiResponse(\r\n              authentication.getPrincipal().toString(),\r\n              &quot;this method scrapes principal directly from SpringSecurityContext&quot;));\r\n        }\r\n    \r\n        return ResponseEntity.ok(new ApiResponse(\r\n            principal.toString(),\r\n            &quot;this method retrieves principal from method argument&quot;));\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nJust check the type of the principal in Authentication object.\r\n","title":"Spring Security @AuthenticationPrincipal","body":"<p>From documentation:</p>\n\n<blockquote>\n  <p>Class AuthenticationPrincipalArgumentResolver \n  will resolve the CustomUser argument using\n  Authentication.getPrincipal() from the SecurityContextHolder. If the\n  Authentication or Authentication.getPrincipal() is null, it will\n  return null. If the types do not match, null will be returned unless\n  AuthenticationPrincipal.errorOnInvalidType() is true in which case a\n  ClassCastException will be thrown.</p>\n</blockquote>\n\n<p>This simple code works for me:</p>\n\n<pre><code>@RestController\npublic class ApiController {\n\n  @RequestMapping(method = RequestMethod.GET, path = \"/api/public/{id}\")\n  public ResponseEntity&lt;ApiResponse&gt; getPublicResource(\n      @PathVariable Integer id,\n      @AuthenticationPrincipal String principal\n  ) {\n\n    if (id % 2 == 0) {\n      SecurityContext context = SecurityContextHolder.getContext();\n      Authentication authentication = context.getAuthentication();\n      return ResponseEntity.ok(new ApiResponse(\n          authentication.getPrincipal().toString(),\n          \"this method scrapes principal directly from SpringSecurityContext\"));\n    }\n\n    return ResponseEntity.ok(new ApiResponse(\n        principal.toString(),\n        \"this method retrieves principal from method argument\"));\n\n  }\n\n}\n</code></pre>\n\n<p>Just check the type of the principal in Authentication object.</p>\n"},{"tags":[],"owner":{"account_id":25875256,"reputation":1,"user_id":19833128,"display_name":"Ramzan K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661700765,"creation_date":1661299019,"answer_id":73466074,"question_id":33616386,"body_markdown":"You have to ensure that the class which you want to get is implemented `UserDetails` because the annotation returns this.","title":"Spring Security @AuthenticationPrincipal","body":"<p>You have to ensure that the class which you want to get is implemented <code>UserDetails</code> because the annotation returns this.</p>\n"},{"tags":[],"owner":{"account_id":10700133,"reputation":87,"user_id":7875801,"display_name":"Gabriel Mohňansk&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668114603,"creation_date":1668114603,"answer_id":74395332,"question_id":33616386,"body_markdown":"Defining (expression = &quot;userDetails&quot;) for the @AuthenticationPrincipal works for me\r\n\r\n```@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;UserDetails&gt; index(@AuthenticationPrincipal(expression = &quot;userDetails&quot;) UserDetails userDetails) {\r\n     return ResponseEntity.ok(userDetails);\r\n}","title":"Spring Security @AuthenticationPrincipal","body":"<p>Defining (expression = &quot;userDetails&quot;) for the @AuthenticationPrincipal works for me</p>\n<pre><code>public ResponseEntity&lt;UserDetails&gt; index(@AuthenticationPrincipal(expression = &quot;userDetails&quot;) UserDetails userDetails) {\n     return ResponseEntity.ok(userDetails);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5235524,"reputation":1816,"user_id":4184231,"accept_rate":62,"display_name":"oxyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675531883,"creation_date":1675531883,"answer_id":75347004,"question_id":33616386,"body_markdown":"    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView index(@AuthenticationPrincipal(expression = &quot;user&quot;) User user) {\r\n        ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n        mav.addObject(&quot;user&quot;, user);\r\n        return mav;\r\n    }\r\n\r\nJust put `expression = &quot;user&quot;` and you are good to go. (If your User entity class name is different, update this accordingly.)","title":"Spring Security @AuthenticationPrincipal","body":"<pre><code>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\npublic ModelAndView index(@AuthenticationPrincipal(expression = &quot;user&quot;) User user) {\n    ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\n    mav.addObject(&quot;user&quot;, user);\n    return mav;\n}\n</code></pre>\n<p>Just put <code>expression = &quot;user&quot;</code> and you are good to go. (If your User entity class name is different, update this accordingly.)</p>\n"},{"tags":[],"owner":{"account_id":6904770,"reputation":837,"user_id":5303092,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686259455,"creation_date":1686259455,"answer_id":76435778,"question_id":33616386,"body_markdown":"The return type of `@AuthenticationPrincipal` can be different for different auth methods (Username/password vs Oauth2 for example). \r\n\r\nTo find out the return type of `@AuthenticationPrincipal`. See https://stackoverflow.com/a/76435763/5303092","title":"Spring Security @AuthenticationPrincipal","body":"<p>The return type of <code>@AuthenticationPrincipal</code> can be different for different auth methods (Username/password vs Oauth2 for example).</p>\n<p>To find out the return type of <code>@AuthenticationPrincipal</code>. See <a href=\"https://stackoverflow.com/a/76435763/5303092\">https://stackoverflow.com/a/76435763/5303092</a></p>\n"}],"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73769,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":13,"score":27,"last_activity_date":1686259455,"creation_date":1447096188,"question_id":33616386,"body_markdown":"I&#39;ve been trying to get @AuthenticationPrincipal to work properly with a custom User class. Unfortunately, the user is always null. Here&#39;s the code:\r\n\r\n**Controller**\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n\tpublic ModelAndView index(@AuthenticationPrincipal User user) {\r\n\t\tModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n\t\tmav.addObject(&quot;user&quot;, user);\r\n\t\treturn mav;\r\n\t}\r\n\r\n\r\n**Security Config**\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Autowired\r\n\t    CustomUserDetailsService customUserDetailsService;\r\n\r\n\t    @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t        auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n}\r\n\r\n**CustomUserDetailsService**\r\n\r\n    @Component\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        // Spring Data findByXY function\r\n\t\treturn userRepository.findByUsername(username);\r\n    }\r\n\r\n**User Entity**\r\n\r\n    public class User implements UserDetails{\r\n        private String username;\r\n        private String password;\r\n\t    private Collection&lt;Authority&gt; authorities;\r\n        \r\n        // Getters and Setters\r\n\r\n    }\r\n\r\n**Authority Entity**\r\n\r\n    public class Authority implements GrantedAuthority{\r\n        private User user;\r\n        private String role;\r\n\r\n        // Getters and Setters\r\n\r\n        @Override\r\n\t    public String getAuthority() {\r\n\t\t    return this.getRole();\r\n\t    }\r\n    }\r\n\r\n\r\nI&#39;ve tried various solutions to this I found online, e.g. converting my custom user object like this:\r\n\r\n    return new org.springframework.security.core.userdetails.User(user.getLogin(), user.getPassword(), true, true, true, true,  authorities);\r\n\r\nThe other ways to get the active users are working without a problem, but I find the @AuthenticationProvider CustomUserObject to be the cleanest way, which is why I would like to get this to work. Any help is greatly appreciated.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I've been trying to get @AuthenticationPrincipal to work properly with a custom User class. Unfortunately, the user is always null. Here's the code:</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\npublic ModelAndView index(@AuthenticationPrincipal User user) {\n    ModelAndView mav= new ModelAndView(\"/web/index\");\n    mav.addObject(\"user\", user);\n    return mav;\n}\n</code></pre>\n\n<p><strong>Security Config</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>CustomUserDetailsService</strong></p>\n\n<pre><code>@Component\npublic class CustomUserDetailsService implements UserDetailsService {\n\n@Autowired\nUserRepository userRepository;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    // Spring Data findByXY function\n    return userRepository.findByUsername(username);\n}\n</code></pre>\n\n<p><strong>User Entity</strong></p>\n\n<pre><code>public class User implements UserDetails{\n    private String username;\n    private String password;\n    private Collection&lt;Authority&gt; authorities;\n\n    // Getters and Setters\n\n}\n</code></pre>\n\n<p><strong>Authority Entity</strong></p>\n\n<pre><code>public class Authority implements GrantedAuthority{\n    private User user;\n    private String role;\n\n    // Getters and Setters\n\n    @Override\n    public String getAuthority() {\n        return this.getRole();\n    }\n}\n</code></pre>\n\n<p>I've tried various solutions to this I found online, e.g. converting my custom user object like this:</p>\n\n<pre><code>return new org.springframework.security.core.userdetails.User(user.getLogin(), user.getPassword(), true, true, true, true,  authorities);\n</code></pre>\n\n<p>The other ways to get the active users are working without a problem, but I find the @AuthenticationProvider CustomUserObject to be the cleanest way, which is why I would like to get this to work. Any help is greatly appreciated.</p>\n"},{"tags":["java","token"],"answers":[{"tags":[],"owner":{"account_id":9500520,"reputation":141,"user_id":7089901,"display_name":"berlot83"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492523606,"creation_date":1492522073,"answer_id":43473599,"question_id":43470940,"body_markdown":"I answer myself so perhaps someone could have the same problem.\r\n\r\nI&#39;ve been with this problem about a month, until I got balls to delete some old libraries located in my project. \r\n\r\nThe problem appeared to be that I declared a Maven dependecy with jackson 2.8.2 or later and in the &#39;reference libraries&#39; I had libraries lowers than 1.9, when I removed from my Build-Path the problem was gone. And now I can see the String Token.\r\n\r\n[This is the picture with the problem solved.][1]\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IDkao.jpg","title":"Runtime or class error running JJWT Json Token","body":"<p>I answer myself so perhaps someone could have the same problem.</p>\n\n<p>I've been with this problem about a month, until I got balls to delete some old libraries located in my project. </p>\n\n<p>The problem appeared to be that I declared a Maven dependecy with jackson 2.8.2 or later and in the 'reference libraries' I had libraries lowers than 1.9, when I removed from my Build-Path the problem was gone. And now I can see the String Token.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IDkao.jpg\" rel=\"nofollow noreferrer\">This is the picture with the problem solved.</a></p>\n\n<p>Thank you. </p>\n"},{"tags":[],"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681248209,"creation_date":1681248209,"answer_id":75990243,"question_id":43470940,"body_markdown":"Adding the project dependency &#39;io.jsonwebtoken:jjwt-jackson:0.11.2&#39; will resolve the issue, as it contains what you need (as per my comment on berlot83&#39;s answer).\r\n\r\nAlso best check for updated versions (compatible with your other dependencies of course) as it&#39;s always wise to stay updated.","title":"Runtime or class error running JJWT Json Token","body":"<p>Adding the project dependency 'io.jsonwebtoken:jjwt-jackson:0.11.2' will resolve the issue, as it contains what you need (as per my comment on berlot83's answer).</p>\n<p>Also best check for updated versions (compatible with your other dependencies of course) as it's always wise to stay updated.</p>\n"},{"tags":[],"owner":{"account_id":26469747,"reputation":11,"user_id":20110529,"display_name":"Neeraj Parkash Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686259114,"creation_date":1686258950,"answer_id":76435740,"question_id":43470940,"body_markdown":"Add this dependency into your `pom.xml` file to fix the issue :) \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;  \r\n    &lt;version&gt;0.11.1&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Runtime or class error running JJWT Json Token","body":"<p>Add this dependency into your <code>pom.xml</code> file to fix the issue :)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;  \n    &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9500520,"reputation":141,"user_id":7089901,"display_name":"berlot83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686259114,"creation_date":1492515018,"question_id":43470940,"body_markdown":"I have a little problem. I&#180;ve been trying to use different libraries to produce a json token and now I&#39;m using JJWT from Stormpath. They have tutorials well explained. But my problem is, when I try to run the String method in a &quot;public static void main&quot; method, I get a runtime or class error. In their official website says there is a requeriment that the jackson library must being newer than Version 2.8. So I downloaded such library.\r\n\r\nHere my source code:\r\n    \r\n    package org.comunidadIT.proyecto.accesoDatos;\r\n\r\n    import java.security.Key;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n\r\n    public class ValidarToken {\r\n\r\n\t\tpublic String token(){\r\n\t\t\t// We need a signing key, so we&#39;ll create one just for this example. Usually\r\n\t\t\t// the key would be read from your application configuration instead.\r\n\t\t\tKey key = MacProvider.generateKey();\r\n\r\n\t\t\tString compactJws = Jwts.builder()\r\n\t\t\t  .setSubject(&quot;Joe&quot;)\r\n\t\t\t  .signWith(SignatureAlgorithm.HS512, key)\r\n\t\t\t  .compact();\r\n\t\t\t\r\n\t\t\treturn compactJws;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String args[]){\r\n\t\t\t\r\n\t\t\tValidarToken t= new ValidarToken();\r\n\t\t\tSystem.out.println(t.token());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThe console show following error message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: USE_DEFAULTS\r\n\tat com.fasterxml.jackson.annotation.JsonInclude$Value.&lt;clinit&gt;(JsonInclude.java:204)\r\n\tat com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:44)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:549)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:465)\r\n\tat io.jsonwebtoken.impl.DefaultJwtBuilder.&lt;clinit&gt;(DefaultJwtBuilder.java:42)\r\n\tat io.jsonwebtoken.Jwts.builder(Jwts.java:116)\r\n\tat org.comunidadIT.proyecto.accesoDatos.ValidarToken.token(ValidarToken.java:16)\r\n\tat org.comunidadIT.proyecto.accesoDatos.ValidarToken.main(ValidarToken.java:27)\r\n\r\n[Image from maven dependencies where appears to be fine with jackson][1]\r\n\r\n[Image from the console with erros][2]\r\n\r\nAs you can see the jackson dependencies appears to be fine.\r\n\r\n\r\nAlso I aatached more libreries to the build-path on reference libraries, but they are outside from the pom.xml.\r\n\r\nWhat do I do wrong?\r\n\r\nThank you \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/97sK4.jpg\r\n  [2]: https://i.stack.imgur.com/H7Bbf.jpg","title":"Runtime or class error running JJWT Json Token","body":"<p>I have a little problem. I´ve been trying to use different libraries to produce a json token and now I'm using JJWT from Stormpath. They have tutorials well explained. But my problem is, when I try to run the String method in a \"public static void main\" method, I get a runtime or class error. In their official website says there is a requeriment that the jackson library must being newer than Version 2.8. So I downloaded such library.</p>\n\n<p>Here my source code:</p>\n\n<pre><code>package org.comunidadIT.proyecto.accesoDatos;\n\nimport java.security.Key;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\npublic class ValidarToken {\n\n    public String token(){\n        // We need a signing key, so we'll create one just for this example. Usually\n        // the key would be read from your application configuration instead.\n        Key key = MacProvider.generateKey();\n\n        String compactJws = Jwts.builder()\n          .setSubject(\"Joe\")\n          .signWith(SignatureAlgorithm.HS512, key)\n          .compact();\n\n        return compactJws;\n    }\n\n    public static void main(String args[]){\n\n        ValidarToken t= new ValidarToken();\n        System.out.println(t.token());\n    }\n\n}\n</code></pre>\n\n<p>The console show following error message:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: USE_DEFAULTS\nat com.fasterxml.jackson.annotation.JsonInclude$Value.&lt;clinit&gt;(JsonInclude.java:204)\nat com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:44)\nat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:549)\nat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:465)\nat io.jsonwebtoken.impl.DefaultJwtBuilder.&lt;clinit&gt;(DefaultJwtBuilder.java:42)\nat io.jsonwebtoken.Jwts.builder(Jwts.java:116)\nat org.comunidadIT.proyecto.accesoDatos.ValidarToken.token(ValidarToken.java:16)\nat org.comunidadIT.proyecto.accesoDatos.ValidarToken.main(ValidarToken.java:27)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/97sK4.jpg\" rel=\"nofollow noreferrer\">Image from maven dependencies where appears to be fine with jackson</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/H7Bbf.jpg\" rel=\"nofollow noreferrer\">Image from the console with erros</a></p>\n\n<p>As you can see the jackson dependencies appears to be fine.</p>\n\n<p>Also I aatached more libreries to the build-path on reference libraries, but they are outside from the pom.xml.</p>\n\n<p>What do I do wrong?</p>\n\n<p>Thank you </p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567166095,"post_id":57726223,"comment_id":101892618,"body_markdown":"Do you mean annotating the class instead of individual methods? If so, class level annotations (at least in Spring world) tend to mean &quot;apply this annotation on all methods&quot;.","body":"Do you mean annotating the class instead of individual methods? If so, class level annotations (at least in Spring world) tend to mean &quot;apply this annotation on all methods&quot;."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567166290,"post_id":57726223,"comment_id":101892703,"body_markdown":"Yeah. When would you annotate your class with @DirtiesContext? It&#39;s *classMode* attribute&#39;s value is **AFTER_CLASS** by default. What does it exactly mean?","body":"Yeah. When would you annotate your class with @DirtiesContext? It&#39;s <i>classMode</i> attribute&#39;s value is <b>AFTER_CLASS</b> by default. What does it exactly mean?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567166474,"post_id":57726223,"comment_id":101892785,"body_markdown":"AFTER_CLASS means that the context is marked dirty after all the tests in the class are run, so it is destroyed only after.","body":"AFTER_CLASS means that the context is marked dirty after all the tests in the class are run, so it is destroyed only after."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567166575,"post_id":57726223,"comment_id":101892820,"body_markdown":"Thanks Raul! That helps.One more thing. What would be different if we don&#39;t specify this annotation at all?","body":"Thanks Raul! That helps.One more thing. What would be different if we don&#39;t specify this annotation at all?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567166719,"post_id":57726223,"comment_id":101892876,"body_markdown":"@Kunalgupta, I added a reply to your other comment :)","body":"@Kunalgupta, I added a reply to your other comment :)"}],"answers":[{"tags":[],"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1640064924,"creation_date":1567166203,"answer_id":57726293,"question_id":57726223,"body_markdown":"If you annotate a test class with [`@DirtiesContext`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html), it will remove the application context after the tests are run. There is a lot more explaining in this article: [DirtiesContext annotation][1]\r\n\r\n\r\n  [1]: https://www.javarticles.com/2016/03/spring-dirtiescontext-annotation-example.html","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>If you annotate a test class with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html\" rel=\"noreferrer\"><code>@DirtiesContext</code></a>, it will remove the application context after the tests are run. There is a lot more explaining in this article: <a href=\"https://www.javarticles.com/2016/03/spring-dirtiescontext-annotation-example.html\" rel=\"noreferrer\">DirtiesContext annotation</a></p>\n"},{"tags":[],"owner":{"account_id":16561538,"reputation":176,"user_id":11967336,"display_name":"&#193;d&#225;m Kiss"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1686258643,"creation_date":1567166940,"answer_id":57726488,"question_id":57726223,"body_markdown":"You can tell the Spring junit runner when to remove the application context with the `classMode` attribute.\r\n\r\nFor example if you mark a class with:\r\n\r\n    @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\r\nThen the application context will be cleared after each test method. You have more options also.\r\nOther options for the class mode are the following:\r\n\r\n* **AFTER_CLASS**: The associated `ApplicationContext` will be marked as dirty after the test class.\r\n* **AFTER_EACH_TEST_METHOD**: The associated `ApplicationContext` will be marked as dirty after each test method in the class.\r\n* **BEFORE_CLASS**: The associated `ApplicationContext` will be marked as dirty before the test class.\r\n* **BEFORE_EACH_TEST_METHOD**: The associated `ApplicationContext` will be marked as dirty before each test method in the class.","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>You can tell the Spring junit runner when to remove the application context with the <code>classMode</code> attribute.</p>\n<p>For example if you mark a class with:</p>\n<pre><code>@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\n</code></pre>\n<p>Then the application context will be cleared after each test method. You have more options also.\nOther options for the class mode are the following:</p>\n<ul>\n<li><strong>AFTER_CLASS</strong>: The associated <code>ApplicationContext</code> will be marked as dirty after the test class.</li>\n<li><strong>AFTER_EACH_TEST_METHOD</strong>: The associated <code>ApplicationContext</code> will be marked as dirty after each test method in the class.</li>\n<li><strong>BEFORE_CLASS</strong>: The associated <code>ApplicationContext</code> will be marked as dirty before the test class.</li>\n<li><strong>BEFORE_EACH_TEST_METHOD</strong>: The associated <code>ApplicationContext</code> will be marked as dirty before each test method in the class.</li>\n</ul>\n"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18973,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":57726293,"answer_count":2,"score":11,"last_activity_date":1686258643,"creation_date":1567165862,"question_id":57726223,"body_markdown":"I have been working with Spring and I came across the `@DirtiesContext` annotation provided by spring. Using it on every method makes sense when you want to refresh the application context before running each method(of course at the expense of performance) but what does it exactly mean to annotate a test **class** with `@DirtiesContext`? An example would be really helpful.","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>I have been working with Spring and I came across the <code>@DirtiesContext</code> annotation provided by spring. Using it on every method makes sense when you want to refresh the application context before running each method(of course at the expense of performance) but what does it exactly mean to annotate a test <strong>class</strong> with <code>@DirtiesContext</code>? An example would be really helpful.</p>\n"},{"tags":["java","android","android-studio","java-native-interface"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1686223575,"post_id":76425800,"comment_id":134771109,"body_markdown":"But if you suppress that, and get a build, it simply won&#39;t work because the java&#39;s `native` methods won&#39;t correspond to the JNI methods which invoke the C/C++ methods. Unless you&#39;ve come up with a way to solve that, I think this error is helping you and saving you tremendous time.","body":"But if you suppress that, and get a build, it simply won&#39;t work because the java&#39;s <code>native</code> methods won&#39;t correspond to the JNI methods which invoke the C/C++ methods. Unless you&#39;ve come up with a way to solve that, I think this error is helping you and saving you tremendous time."}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686224066,"creation_date":1686223595,"answer_id":76431378,"question_id":76425800,"body_markdown":"Clicking the quick fix button gave me a pop up to add a `@Suppress(&quot;KotlinJniMissingFunction&quot;)` annotation to either the class or the file. You can keep it there or move it to all your methods, eg:\r\n```\r\n@Suppress(&quot;KotlinJniMissingFunction&quot;)\r\nexternal fun initializeApplication()\r\n```\r\n\r\nor\r\n```\r\n@Suppress(&quot;KotlinJniMissingFunction&quot;)\r\nclass Native : AppCompatActivity() {\r\n...\r\n}\r\n```\r\n\r\nThe equivalent annotation for Java is `@SuppressWarnings(&quot;JavaJniMissingFunction&quot;)`.\r\n","title":"How to suppress &quot;Cannot resolve corresponding JNI function&quot; in Android Studio?","body":"<p>Clicking the quick fix button gave me a pop up to add a <code>@Suppress(&quot;KotlinJniMissingFunction&quot;)</code> annotation to either the class or the file. You can keep it there or move it to all your methods, eg:</p>\n<pre><code>@Suppress(&quot;KotlinJniMissingFunction&quot;)\nexternal fun initializeApplication()\n</code></pre>\n<p>or</p>\n<pre><code>@Suppress(&quot;KotlinJniMissingFunction&quot;)\nclass Native : AppCompatActivity() {\n...\n}\n</code></pre>\n<p>The equivalent annotation for Java is <code>@SuppressWarnings(&quot;JavaJniMissingFunction&quot;)</code>.</p>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76431378,"answer_count":1,"score":1,"last_activity_date":1686258160,"creation_date":1686159244,"question_id":76425800,"body_markdown":"I am creating a native method in Android Studio which is registered using RegisterNatives in JNI_OnLoad when the library is loaded. The problem is that I want to encrypt the method name and signature strings, but if I do that Android Studio doesn&#39;t let me compile the app because of this error: &quot;Cannot resolve corresponding JNI function Java_my_app_Native_initializeApplication.&quot;\r\nHow can I suppress this?","title":"How to suppress &quot;Cannot resolve corresponding JNI function&quot; in Android Studio?","body":"<p>I am creating a native method in Android Studio which is registered using RegisterNatives in JNI_OnLoad when the library is loaded. The problem is that I want to encrypt the method name and signature strings, but if I do that Android Studio doesn't let me compile the app because of this error: &quot;Cannot resolve corresponding JNI function Java_my_app_Native_initializeApplication.&quot;\nHow can I suppress this?</p>\n"},{"tags":["java","android","view"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686257650,"post_id":76435572,"comment_id":134778203,"body_markdown":"Just a guess: `view.setOnGenericMotionListener(null)`?","body":"Just a guess: <code>view.setOnGenericMotionListener(null)</code>?"},{"owner":{"account_id":25030829,"reputation":15,"user_id":18888626,"display_name":"pol2020"},"score":0,"creation_date":1686257797,"post_id":76435572,"comment_id":134778228,"body_markdown":"I use it, but I don&#39;t know if this is a good solution.","body":"I use it, but I don&#39;t know if this is a good solution."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686258009,"post_id":76435572,"comment_id":134778266,"body_markdown":"Well, the only other option I can think of is to pass a no-op argument (i.e., an implementation of the interface that does nothing). But based on the name of this method and how it presumably works, passing `null` seems the correct solution. Sorry, I&#39;m only somewhat familiar with the Android API, otherwise I&#39;d be more definitive.","body":"Well, the only other option I can think of is to pass a no-op argument (i.e., an implementation of the interface that does nothing). But based on the name of this method and how it presumably works, passing <code>null</code> seems the correct solution. Sorry, I&#39;m only somewhat familiar with the Android API, otherwise I&#39;d be more definitive."}],"answers":[{"tags":[],"owner":{"account_id":28269166,"reputation":76,"user_id":21612640,"display_name":"hcl2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686257950,"creation_date":1686257649,"answer_id":76435622,"question_id":76435572,"body_markdown":"This should work, depending on your use-case.\r\n\r\n```\r\nview.setEnabled(false);\r\n```\r\n\r\nAn alternative could be making the overrides in the OnGenericMotionListener do nothing.\r\n\r\nEDIT: As mentioned by @Slaw, `view.setOnGenericMotionListener(null)` also works, and if I had to guess is probably what you want to use.","title":"Android remove setOnGenericMotionListener()","body":"<p>This should work, depending on your use-case.</p>\n<pre><code>view.setEnabled(false);\n</code></pre>\n<p>An alternative could be making the overrides in the OnGenericMotionListener do nothing.</p>\n<p>EDIT: As mentioned by @Slaw, <code>view.setOnGenericMotionListener(null)</code> also works, and if I had to guess is probably what you want to use.</p>\n"}],"owner":{"account_id":25030829,"reputation":15,"user_id":18888626,"display_name":"pol2020"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76435622,"answer_count":1,"score":1,"last_activity_date":1686257950,"creation_date":1686257134,"question_id":76435572,"body_markdown":"how to remove setOnGenericMotionListener() ?\r\n\r\n```\r\nview.setOnGenericMotionListener(this);\r\n```\r\n\r\nThanks","title":"Android remove setOnGenericMotionListener()","body":"<p>how to remove setOnGenericMotionListener() ?</p>\n<pre><code>view.setOnGenericMotionListener(this);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","inputstream","properties-file"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686257336,"post_id":76435570,"comment_id":134778157,"body_markdown":"Given your use of `src/main/java`, I assume you&#39;re using a build tool like Maven or Gradle, both of which use Maven&#39;s [&quot;standard directory layout&quot;](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) by default. In that directory layout, all resources (i.e., non-`*.java` files) should be under `src/main/resources`. Any directories under these &quot;roots&quot; function as packages. So, a class under `src/main/java/com/example` and a resource under `/src/main/resources/com/example` are in the same package: `com.example`.","body":"Given your use of <code>src&#47;main&#47;java</code>, I assume you&#39;re using a build tool like Maven or Gradle, both of which use Maven&#39;s <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">&quot;standard directory layout&quot;</a> by default. In that directory layout, all resources (i.e., non-<code>*.java</code> files) should be under <code>src&#47;main&#47;resources</code>. Any directories under these &quot;roots&quot; function as packages. So, a class under <code>src&#47;main&#47;java&#47;com&#47;example</code> and a resource under <code>&#47;src&#47;main&#47;resources&#47;com&#47;example</code> are in the same package: <code>com.example</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686257700,"post_id":76435570,"comment_id":134778215,"body_markdown":"When you&#39;ve fixed the position of that resource as @Slaw suggested, you can simplify that to `try (InputStream input = LoginProperty.class.getResourceAsStream(&quot;/config.properties&quot;)) { properties.load(input);...`","body":"When you&#39;ve fixed the position of that resource as @Slaw suggested, you can simplify that to <code>try (InputStream input = LoginProperty.class.getResourceAsStream(&quot;&#47;config.properties&quot;&zwnj;&#8203;)) { properties.load(input);...</code>"},{"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"score":0,"creation_date":1686258674,"post_id":76435570,"comment_id":134778371,"body_markdown":"@Slaw can I change directory structure in maven based web dynamic project","body":"@Slaw can I change directory structure in maven based web dynamic project"},{"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"score":0,"creation_date":1686259123,"post_id":76435570,"comment_id":134778430,"body_markdown":"Why I can not give abolute or real path in maven based project?","body":"Why I can not give abolute or real path in maven based project?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686264407,"post_id":76435570,"comment_id":134779044,"body_markdown":"The content is a resource and should be addressed as one in relation to the classpath. Nothing to do with files, &#39;real paths&#39;, the context etc. Personally, I always use url paths relative to the root - less room for error. That means `/foo....`","body":"The content is a resource and should be addressed as one in relation to the classpath. Nothing to do with files, &#39;real paths&#39;, the context etc. Personally, I always use url paths relative to the root - less room for error. That means <code>&#47;foo....</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686269720,"post_id":76435570,"comment_id":134779612,"body_markdown":"You can change the resource directory to `src/main/java` in Maven, yes. How to do that, I&#39;ll leave to you to look up. But note separating source files from resource files can help keep things organized. Also, what @g00se said is correct. You should not think of resources as &quot;files&quot;. They&#39;re not files, particularly once packaged in a JAR file or JRT image. However, if you leave the resource root as `src/main/resources`, then any non-`*.java` files in `src/main/java` are _ignored_. They don&#39;t end up in the build output and thus don&#39;t end up on the class-path/module-path.","body":"You can change the resource directory to <code>src&#47;main&#47;java</code> in Maven, yes. How to do that, I&#39;ll leave to you to look up. But note separating source files from resource files can help keep things organized. Also, what @g00se said is correct. You should not think of resources as &quot;files&quot;. They&#39;re not files, particularly once packaged in a JAR file or JRT image. However, if you leave the resource root as <code>src&#47;main&#47;resources</code>, then any non-<code>*.java</code> files in <code>src&#47;main&#47;java</code> are <i>ignored</i>. They don&#39;t end up in the build output and thus don&#39;t end up on the class-path/module-path."}],"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686257116,"creation_date":1686257116,"question_id":76435570,"body_markdown":"I am using eclipse on ubuntu 20.0\r\nHere is my code to read property file:\r\n\r\n    public static String getProperty(String key) {\r\n\t\tProperties properties = new Properties();\r\n\t\ttry {\r\n\t\t\tURL myURL = LoginProperty.class.getClassLoader().getResource(&quot;/global/resources/config.properties&quot;);\r\n\t\t\tInputStream input = myURL.openStream();\r\n\t\t\tproperties.load(input);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSendErrorsToAdmin.setMsg(LoginProperty.class.getClass().getCanonicalName(), e);\r\n\t\t}\r\n\t\treturn properties.getProperty(key);\r\n\t}\r\n\r\nHere is my package hierarchicy:\r\n[![my eclipse project structure][1]][1]\r\n\r\nHere is the error:\r\n\r\n&gt; SEVERE: Servlet.service() for servlet [AdminLogin] in context with path [] threw exception [Servlet execution threw an exception] with root cause\r\njava.lang.NullPointerException: Cannot invoke &quot;java.net.URL.openStream()&quot; because &quot;myURL&quot; is null\r\n\r\nHow can I set path to `/global/resources/config.properties` in my `getProperty` method to read config.properties file?\r\n\r\n  [1]: https://i.stack.imgur.com/2vJVy.png","title":"java.lang.ExceptionInInitializerError: Property file not reading path","body":"<p>I am using eclipse on ubuntu 20.0\nHere is my code to read property file:</p>\n<pre><code>public static String getProperty(String key) {\n    Properties properties = new Properties();\n    try {\n        URL myURL = LoginProperty.class.getClassLoader().getResource(&quot;/global/resources/config.properties&quot;);\n        InputStream input = myURL.openStream();\n        properties.load(input);\n    } catch (IOException e) {\n        SendErrorsToAdmin.setMsg(LoginProperty.class.getClass().getCanonicalName(), e);\n    }\n    return properties.getProperty(key);\n}\n</code></pre>\n<p>Here is my package hierarchicy:\n<a href=\"https://i.stack.imgur.com/2vJVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vJVy.png\" alt=\"my eclipse project structure\" /></a></p>\n<p>Here is the error:</p>\n<blockquote>\n<p>SEVERE: Servlet.service() for servlet [AdminLogin] in context with path [] threw exception [Servlet execution threw an exception] with root cause\njava.lang.NullPointerException: Cannot invoke &quot;java.net.URL.openStream()&quot; because &quot;myURL&quot; is null</p>\n</blockquote>\n<p>How can I set path to <code>/global/resources/config.properties</code> in my <code>getProperty</code> method to read config.properties file?</p>\n"},{"tags":["java","jar","nullpointerexception","this","executable-jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686179314,"post_id":76427240,"comment_id":134765446,"body_markdown":"Please provide a [mre] and the stack trace. As far as I know, it&#39;s impossible for `this` to ever be `null`.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the stack trace. As far as I know, it&#39;s impossible for <code>this</code> to ever be <code>null</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686271732,"post_id":76427240,"comment_id":134779808,"body_markdown":"&quot;`this` became null&quot;: no it didn&#39;t. It&#39;s impossible.","body":"&quot;<code>this</code> became null&quot;: no it didn&#39;t. It&#39;s impossible."}],"owner":{"account_id":28775824,"reputation":1,"user_id":22038509,"display_name":"Sathish Kumar Backiam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686173633,"answer_count":0,"score":0,"last_activity_date":1686255626,"creation_date":1686173464,"question_id":76427240,"body_markdown":"Consuming a compiled class (which extends another class) from a jar, the methods from parent class methods are added with &#39;this.&#39; which is throwing null pointer while consuming those methods (&#39;this&#39; became null) \r\n\r\nThe methods from the parent&#39;s class in the base class (in the jar - compiled classes) should be able to consume without null pointer error for &#39;this&#39; reference","title":"Java - jar - consuming compiled class which extends another class - &#39;this&#39; reference is null","body":"<p>Consuming a compiled class (which extends another class) from a jar, the methods from parent class methods are added with 'this.' which is throwing null pointer while consuming those methods ('this' became null)</p>\n<p>The methods from the parent's class in the base class (in the jar - compiled classes) should be able to consume without null pointer error for 'this' reference</p>\n"},{"tags":["java","file-writing"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686250572,"post_id":76434125,"comment_id":134777071,"body_markdown":"Can you provide an example of the _DiceGameWinners.csv_ contents?  It is one line of scores, comma-separated, or multiple lines each with a score?","body":"Can you provide an example of the <i>DiceGameWinners.csv</i> contents?  It is one line of scores, comma-separated, or multiple lines each with a score?"},{"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"score":0,"creation_date":1686251177,"post_id":76434125,"comment_id":134777144,"body_markdown":"m6rbles,68\nMZ_BiC_19,66\nJackJohnS,60\nSillyB0bs,59\nS3R3,48\nMarkAbdu11ah,44\nREROCKERS,41\nCART_CReeping,37\nBlackMONSTER,33\nGeneralMark,31\nREROCKERS,76\nm6rbles,56\nREROCKERS,66\nREROCKERS,68\nREROCKERS,42\nm6rbles,42\nm6rbles,48\nm6rbles,34\nREROCKERS,42\nm6rbles,50\n\ncomma-separated","body":"m6rbles,68 MZ_BiC_19,66 JackJohnS,60 SillyB0bs,59 S3R3,48 MarkAbdu11ah,44 REROCKERS,41 CART_CReeping,37 BlackMONSTER,33 GeneralMark,31 REROCKERS,76 m6rbles,56 REROCKERS,66 REROCKERS,68 REROCKERS,42 m6rbles,42 m6rbles,48 m6rbles,34 REROCKERS,42 m6rbles,50  comma-separated"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686254059,"creation_date":1686254059,"answer_id":76435290,"question_id":76434125,"body_markdown":"There are a few approaches you can take here.\r\n\r\nYou can, optionally, contain the data for each player.\r\n\r\nA basic approach would be just use a parallel array.  \r\nSo, one will contain the scores, and the other the names.\r\n\r\nAs you sort the _scores_ array, also adjust the _names_ array.\r\n\r\nHere is how to capture each value within a separate array&amp;mdash;for use with your _reorderWinners_ method.  \r\nAs a note, I had to fix the provided data, there was a leading _&quot;m6rbles&quot;_, and a trailing _&quot;50&quot;_.\r\n\r\n```java\r\nFile file = new File(&quot;DiceGameWinners.csv&quot;);\r\nScanner scanner = new Scanner(file);\r\nString[] strings = scanner.nextLine().split(&quot;,&quot;);\r\nint[] scores = new int[strings.length];\r\nString[] names = new String[strings.length];\r\nint index = 0;\r\nString[] values;\r\nfor (String string : strings) {\r\n    values = string.split(&quot; &quot;);\r\n    scores[index] = Integer.parseInt(values[0]);\r\n    names[index] = values[1];\r\n    index++;\r\n}\r\n```\r\n\r\nAnother approach would be to utilize the _[Arrays#sort](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D))_ method on the _split_ return value.  \r\nWhich, in this case, begins with a number.  \r\nYou can then use the _[Collections#reverse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List))_ method, to reverse the array.\r\n\r\n```java\r\nFile file = new File(&quot;files/DiceGameWinners.csv&quot;);\r\nScanner scanner = new Scanner(file);\r\nString[] players = scanner.nextLine().split(&quot;,&quot;);\r\nArrays.sort(players);\r\nCollections.reverse(Arrays.asList(players));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n76 m6rbles\r\n68 REROCKERS\r\n68 MZ_BiC_19\r\n66 REROCKERS\r\n66 JackJohnS\r\n60 SillyB0bs\r\n59 S3R3\r\n56 REROCKERS\r\n50 m6rbles\r\n48 m6rbles\r\n48 MarkAbdu11ah\r\n44 REROCKERS\r\n42 m6rbles\r\n42 m6rbles\r\n42 m6rbles\r\n41 CART_CReeping\r\n37 BlackMONSTER\r\n34 REROCKERS\r\n33 GeneralMark\r\n31 REROCKERS\r\n```","title":"How to reorder a file depending on the scores","body":"<p>There are a few approaches you can take here.</p>\n<p>You can, optionally, contain the data for each player.</p>\n<p>A basic approach would be just use a parallel array.<br />\nSo, one will contain the scores, and the other the names.</p>\n<p>As you sort the <em>scores</em> array, also adjust the <em>names</em> array.</p>\n<p>Here is how to capture each value within a separate array—for use with your <em>reorderWinners</em> method.<br />\nAs a note, I had to fix the provided data, there was a leading <em>&quot;m6rbles&quot;</em>, and a trailing <em>&quot;50&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;DiceGameWinners.csv&quot;);\nScanner scanner = new Scanner(file);\nString[] strings = scanner.nextLine().split(&quot;,&quot;);\nint[] scores = new int[strings.length];\nString[] names = new String[strings.length];\nint index = 0;\nString[] values;\nfor (String string : strings) {\n    values = string.split(&quot; &quot;);\n    scores[index] = Integer.parseInt(values[0]);\n    names[index] = values[1];\n    index++;\n}\n</code></pre>\n<p>Another approach would be to utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#sort</a></em> method on the <em>split</em> return value.<br />\nWhich, in this case, begins with a number.<br />\nYou can then use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\">Collections#reverse</a></em> method, to reverse the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;files/DiceGameWinners.csv&quot;);\nScanner scanner = new Scanner(file);\nString[] players = scanner.nextLine().split(&quot;,&quot;);\nArrays.sort(players);\nCollections.reverse(Arrays.asList(players));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>76 m6rbles\n68 REROCKERS\n68 MZ_BiC_19\n66 REROCKERS\n66 JackJohnS\n60 SillyB0bs\n59 S3R3\n56 REROCKERS\n50 m6rbles\n48 m6rbles\n48 MarkAbdu11ah\n44 REROCKERS\n42 m6rbles\n42 m6rbles\n42 m6rbles\n41 CART_CReeping\n37 BlackMONSTER\n34 REROCKERS\n33 GeneralMark\n31 REROCKERS\n</code></pre>\n"}],"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686254059,"creation_date":1686243279,"question_id":76434125,"body_markdown":"I want to read in a file and reorder the file&#39;s list so that the highest score is at the top.\r\n\r\n```\r\npublic static void showWinners()\r\n\t{\r\n\t\t//declaring variables and assigning values\r\n\t\tString [][] szWinnersList;\r\n\t\tString[] szLineArray = new String[1];\r\n\t\tint i,j;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//call the readInFile procedure\r\n\t\t\treadInFile();\r\n\t\t\t\r\n\t\t\t//call writeWinner procedure\r\n\t\t\twriteWinner();\r\n\r\n\t\t\t//create String array to store new record in\r\n\t\t\tszWinnersList = new String [iLength][2];\r\n\r\n\t\t\t//for loop reads each row in\r\n\t\t\tfor (i = 0 ; i &lt; 5 ; i++)\r\n\t\t\t{\r\n\t\t\t\t//reads in the current line\r\n\t\t\t\t//assign the file to the array\r\n\t\t\t\tszLineArray = infile.nextLine().trim().split(&quot;,&quot;);\r\n\r\n\t\t\t\t//for loop assigns values to the 2D array\r\n\t\t\t\tfor (j = 0 ; j &lt; 2 ; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\t//trims off all spaces\r\n\t\t\t\t\tszWinnersList[i][j] = szLineArray[j];\r\n\t\t\t\t}//end for j\r\n\t\t\t}//end for i\r\n\t\t\t\r\n\t\t\t//call reorderWinners procedure\r\n\t\t\treorderWinners(szWinnersList);\r\n\r\n\t\t\t//print out winners table\r\n\t\t\twinnersTable(szWinnersList, i);\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error1 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t\t{\r\n\t\t\t//finally runs regardless of wheter the try has worked\r\n\t\t\t//the aim of a finally is to tidy up any loose ends\r\n\t\t\t//if the contents within read is not equal to nothing i.e. it was possible to open and read\r\n\t\t\t//close the file (try) if the file was not loaded catch the exception IOException\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tbw.close();\r\n\t\t\t}//end try when BufferedWriter is closed\r\n\t\t\tcatch(IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error - Closing BufferWriter: &quot; + e);\r\n\t\t\t}//end catch\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tfile.close();\r\n\t\t\t}//end try when FileWriter is closed\r\n\t\t\tcatch(IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error - closing FileWriter: &quot; + e);\r\n\t\t\t}//end catch\r\n\t\t}//end try catch finally\r\n\t}//end procedure\r\n\t\r\n\t\r\n\t// ======================================================================\r\n\tpublic static void writeWinner()\r\n\t{\r\n\t\t//declaring variables and assigning values\r\n\t\tString szWriteWinner;\r\n\t\t\r\n\t\t//string build the szWriteWinner\r\n\t\tszWriteWinner = szWinner[0][0] + &quot;,&quot; + szWinner[0][1] + (&quot;\\n&quot;);\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//write winner in the csv file\r\n\t\t\tbw.write(szWriteWinner);\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error2 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t}//end writeWinner procedure\r\n\t\r\n\r\n\t// ======================================================================\r\n\tpublic static void readInFile()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tinfile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\r\n\r\n\t\t\t//construct a FileWriter object\r\n\t\t\t//the default argument is false so the write would overwrite the contents of the file each time\r\n\t\t\tfile = new FileWriter(&quot;DiceGameWinners.csv&quot;, true);\r\n\r\n\t\t\t//needed for methods\r\n\t\t\tbw = new BufferedWriter(file);\r\n\r\n\t\t\twhile (infile.hasNext())\r\n\t\t\t{\r\n\t\t\t\tszInLine = infile.nextLine();\r\n\t\t\t\tiLength++;\r\n\t\t\t}//end while\r\n\r\n\t\t\tinfile.close();\r\n\t\t\tinfile = null;\r\n\r\n\t\t\t//create the readers to read in the file DiceGameWinners.csv\r\n\t\t\tinfile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error3 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t}//end procedure\r\n\r\n\r\n\t// ======================================================================\r\n\tpublic static void reorderWinners(String[][] szWinnersList) \r\n\t{\r\n\t    String szLine = &quot;&quot;;\r\n\t    int n = szWinnersList.length;\r\n\t    int i = 0;\r\n\r\n\t    for (i = 1; i &lt; n; i++) \r\n\t    {\r\n\t        int j = i - 1;\r\n\t        int iKey = Integer.parseInt(szWinnersList[i][1]);\r\n\t        String szKey = szWinnersList[i][0];\r\n\r\n\t        // insertion sort\r\n\t        while (j &gt;= 0 &amp;&amp; Integer.parseInt(szWinnersList[j][1]) &gt; iKey) \r\n\t        {\r\n\t            szWinnersList[j + 1][0] = szWinnersList[j][0];\r\n\t            szWinnersList[j + 1][1] = szWinnersList[j][1];\r\n\t            j--;\r\n\t        }//end while when insertion sort is finished\r\n\r\n\t        //insert the key element into its correct position\r\n\t        szWinnersList[j + 1][0] = szKey;\r\n\t        szWinnersList[j + 1][1] = String.valueOf(iKey);\r\n\t    }//end for loop when szWinnersList is reordered\r\n\r\n\t    try \r\n\t    {\r\n\t        //write each entry in the szWinnersList array to the file\r\n\t        for (i = 0; i &lt; szWinnersList.length; i++) \r\n\t        {\r\n\t            szLine = szWinnersList[i][0] + &quot;,&quot; + szWinnersList[i][1] + &quot;\\n&quot;;\r\n\t            bw.write(szLine);\r\n\t        }// end for when each entry has been entered into the file\r\n\r\n\t        bw.close();\r\n\t        file.close();\r\n\t    }//end try\r\n\t    catch (IOException e)\r\n\t    {\r\n\t        System.out.println(&quot;Error4 - Writing to File: &quot; + e);\r\n\t    }// end catch\r\n}// end reorderWinners procedure\r\n```\r\n\r\nI tried to read in the file and then write the winner of the game so if the user&#39;s winning score is top 5, it will update the file so the next time the top 5 winning scores is shown, the user&#39;s score is there. I keep getting errors like: &quot;can&#39;t parse null string&quot; and &quot;Index 1 out of bounds for length 1&quot;. What should I do and are there any improvements overall?","title":"How to reorder a file depending on the scores","body":"<p>I want to read in a file and reorder the file's list so that the highest score is at the top.</p>\n<pre><code>public static void showWinners()\n    {\n        //declaring variables and assigning values\n        String [][] szWinnersList;\n        String[] szLineArray = new String[1];\n        int i,j;\n\n        try\n        {\n            //call the readInFile procedure\n            readInFile();\n            \n            //call writeWinner procedure\n            writeWinner();\n\n            //create String array to store new record in\n            szWinnersList = new String [iLength][2];\n\n            //for loop reads each row in\n            for (i = 0 ; i &lt; 5 ; i++)\n            {\n                //reads in the current line\n                //assign the file to the array\n                szLineArray = infile.nextLine().trim().split(&quot;,&quot;);\n\n                //for loop assigns values to the 2D array\n                for (j = 0 ; j &lt; 2 ; j++)\n                {\n                    //trims off all spaces\n                    szWinnersList[i][j] = szLineArray[j];\n                }//end for j\n            }//end for i\n            \n            //call reorderWinners procedure\n            reorderWinners(szWinnersList);\n\n            //print out winners table\n            winnersTable(szWinnersList, i);\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error1 - Writing to File: &quot; + e);\n        }//end catch\n        {\n            //finally runs regardless of wheter the try has worked\n            //the aim of a finally is to tidy up any loose ends\n            //if the contents within read is not equal to nothing i.e. it was possible to open and read\n            //close the file (try) if the file was not loaded catch the exception IOException\n            try\n            {\n                bw.close();\n            }//end try when BufferedWriter is closed\n            catch(IOException e)\n            {\n                System.out.println(&quot;Error - Closing BufferWriter: &quot; + e);\n            }//end catch\n\n            try\n            {\n                file.close();\n            }//end try when FileWriter is closed\n            catch(IOException e)\n            {\n                System.out.println(&quot;Error - closing FileWriter: &quot; + e);\n            }//end catch\n        }//end try catch finally\n    }//end procedure\n    \n    \n    // ======================================================================\n    public static void writeWinner()\n    {\n        //declaring variables and assigning values\n        String szWriteWinner;\n        \n        //string build the szWriteWinner\n        szWriteWinner = szWinner[0][0] + &quot;,&quot; + szWinner[0][1] + (&quot;\\n&quot;);\n\n        try\n        {\n            //write winner in the csv file\n            bw.write(szWriteWinner);\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error2 - Writing to File: &quot; + e);\n        }//end catch\n    }//end writeWinner procedure\n    \n\n    // ======================================================================\n    public static void readInFile()\n    {\n        try\n        {\n            infile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\n\n            //construct a FileWriter object\n            //the default argument is false so the write would overwrite the contents of the file each time\n            file = new FileWriter(&quot;DiceGameWinners.csv&quot;, true);\n\n            //needed for methods\n            bw = new BufferedWriter(file);\n\n            while (infile.hasNext())\n            {\n                szInLine = infile.nextLine();\n                iLength++;\n            }//end while\n\n            infile.close();\n            infile = null;\n\n            //create the readers to read in the file DiceGameWinners.csv\n            infile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error3 - Writing to File: &quot; + e);\n        }//end catch\n    }//end procedure\n\n\n    // ======================================================================\n    public static void reorderWinners(String[][] szWinnersList) \n    {\n        String szLine = &quot;&quot;;\n        int n = szWinnersList.length;\n        int i = 0;\n\n        for (i = 1; i &lt; n; i++) \n        {\n            int j = i - 1;\n            int iKey = Integer.parseInt(szWinnersList[i][1]);\n            String szKey = szWinnersList[i][0];\n\n            // insertion sort\n            while (j &gt;= 0 &amp;&amp; Integer.parseInt(szWinnersList[j][1]) &gt; iKey) \n            {\n                szWinnersList[j + 1][0] = szWinnersList[j][0];\n                szWinnersList[j + 1][1] = szWinnersList[j][1];\n                j--;\n            }//end while when insertion sort is finished\n\n            //insert the key element into its correct position\n            szWinnersList[j + 1][0] = szKey;\n            szWinnersList[j + 1][1] = String.valueOf(iKey);\n        }//end for loop when szWinnersList is reordered\n\n        try \n        {\n            //write each entry in the szWinnersList array to the file\n            for (i = 0; i &lt; szWinnersList.length; i++) \n            {\n                szLine = szWinnersList[i][0] + &quot;,&quot; + szWinnersList[i][1] + &quot;\\n&quot;;\n                bw.write(szLine);\n            }// end for when each entry has been entered into the file\n\n            bw.close();\n            file.close();\n        }//end try\n        catch (IOException e)\n        {\n            System.out.println(&quot;Error4 - Writing to File: &quot; + e);\n        }// end catch\n}// end reorderWinners procedure\n</code></pre>\n<p>I tried to read in the file and then write the winner of the game so if the user's winning score is top 5, it will update the file so the next time the top 5 winning scores is shown, the user's score is there. I keep getting errors like: &quot;can't parse null string&quot; and &quot;Index 1 out of bounds for length 1&quot;. What should I do and are there any improvements overall?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1394872598,"post_id":22421469,"comment_id":34093976,"body_markdown":"Please, show `&lt;servlet-mapping&gt;` section of `web.xml` file.","body":"Please, show <code>&lt;servlet-mapping&gt;</code> section of <code>web.xml</code> file."},{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1394873050,"post_id":22421469,"comment_id":34094088,"body_markdown":"I added `web.xml` to the question.","body":"I added <code>web.xml</code> to the question."},{"owner":{"account_id":305452,"reputation":415,"user_id":615617,"accept_rate":14,"display_name":"Argun"},"score":0,"creation_date":1445845055,"post_id":22421469,"comment_id":54477061,"body_markdown":"Hi, I met this issue. Did you have any solution?","body":"Hi, I met this issue. Did you have any solution?"},{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1445935125,"post_id":22421469,"comment_id":54521344,"body_markdown":"Yes, see the first Answer, annotate your method with ```@ResponseBody```.","body":"Yes, see the first Answer, annotate your method with <code>@ResponseBody</code>."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394873476,"creation_date":1394873476,"answer_id":22421650,"question_id":22421469,"body_markdown":"Do you have a file named `messaging-servlet.xml` that declares the web application context?\r\nBy default because you have named the DispatcherServlet messaging, Spring will try to locate that file.","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>Do you have a file named <code>messaging-servlet.xml</code> that declares the web application context?\nBy default because you have named the DispatcherServlet messaging, Spring will try to locate that file.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1394873764,"creation_date":1394873764,"answer_id":22421689,"question_id":22421469,"body_markdown":"I guess it&#39;s related to default view name resolution.\r\n\r\nIf you want a value returned by your handler method to be encoded as response body (in JSON, XML, etc), you need to annoate the method with `@ResponseBody`, or annotate the whole controller with `@RestController` (in Spring 4.x).\r\n\r\nOtherwise, Spring tries to render a view with your return as model attribute. And since you didn&#39;t provide a name of a view to render, Spring tries to deduce it from request URL.","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I guess it's related to default view name resolution.</p>\n\n<p>If you want a value returned by your handler method to be encoded as response body (in JSON, XML, etc), you need to annoate the method with <code>@ResponseBody</code>, or annotate the whole controller with <code>@RestController</code> (in Spring 4.x).</p>\n\n<p>Otherwise, Spring tries to render a view with your return as model attribute. And since you didn't provide a name of a view to render, Spring tries to deduce it from request URL.</p>\n"},{"tags":[],"owner":{"account_id":1407934,"reputation":424,"user_id":1335131,"display_name":"hagai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514492791,"creation_date":1514492791,"answer_id":48013930,"question_id":22421469,"body_markdown":"In addition to @axtvat, pay attention to the differences between @Cotroller and @RestController, @RestController fixed the issue for me.\r\nhttps://dzone.com/articles/spring-framework-restcontroller-vs-controller","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>In addition to @axtvat, pay attention to the differences between @Cotroller and @RestController, @RestController fixed the issue for me.\n<a href=\"https://dzone.com/articles/spring-framework-restcontroller-vs-controller\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spring-framework-restcontroller-vs-controller</a></p>\n"},{"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553511509,"creation_date":1553511509,"answer_id":55336270,"question_id":22421469,"body_markdown":"I had the same problem.\r\n\r\nI fixed it by replacing `@Controller` with `@RestController`.\r\n","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I had the same problem.</p>\n\n<p>I fixed it by replacing <code>@Controller</code> with <code>@RestController</code>.</p>\n"},{"tags":[],"owner":{"account_id":20649356,"reputation":29,"user_id":15160043,"display_name":"Timothy Odhiambo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648716847,"creation_date":1648716847,"answer_id":71689607,"question_id":22421469,"body_markdown":"None of the above solved the problem for me. Using @RestController did not redirect but just printed the correct url (the url without the duplication) on the screen. I found this other solution that worked.\r\nhttps://stackoverflow.com/questions/20371220/what-is-the-difference-between-response-sendredirect-and-request-getrequestdis\r\n","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>None of the above solved the problem for me. Using @RestController did not redirect but just printed the correct url (the url without the duplication) on the screen. I found this other solution that worked.\n<a href=\"https://stackoverflow.com/questions/20371220/what-is-the-difference-between-response-sendredirect-and-request-getrequestdis\">What is the difference between response.sendRedirect() and request.getRequestDispatcher().forward(request,response)</a></p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686253956,"creation_date":1686253956,"answer_id":76435278,"question_id":22421469,"body_markdown":"**If your RequestMapping `value` happens to reference properties** [which I admit the OP did not]..\r\n\r\nex:\r\n```\r\n@RequestMapping(value = &quot;${reference.to.an.application.properties.value}&quot;, method = RequestMethod.GET)\r\n```\r\n\r\n.. **then make sure to consider how the property value is resolved; especially if there might be any [overriding](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files) happening in resolution.**\r\n\r\n`classpath root application.properties` ex:\r\n```\r\nreference.to.an.application.properties: /some/path/\r\nreference.to.an.application.properties.value: ${reference.to.an.application.properties}/{ID}\r\n``` \r\n\r\nIf `reference.to.an.application.properties` is also defined somewhere else [additionally], that is **overriding** the same-named property key in  properties file (because of [Spring properties precedence](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files)); somewhere else (in my case, [OpenShift properties](https://cloud.redhat.com/blog/environment-dependent-property-management-strategies-openshift-pipelines) [which are passed by OpenShift as environment variables to Spring]) for ex:\r\n```\r\nreference.to.an.application.properties: /some/path/{ID}\r\n```\r\n\r\nThen (by overriding precedence) `reference.to.an.application.properties.value` would resolve to `/some/path/{ID}/{ID}` (thus the duplicated URL path), and not `/some/path/{ID}`","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p><strong>If your RequestMapping <code>value</code> happens to reference properties</strong> [which I admit the OP did not]..</p>\n<p>ex:</p>\n<pre><code>@RequestMapping(value = &quot;${reference.to.an.application.properties.value}&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>.. <strong>then make sure to consider how the property value is resolved; especially if there might be any <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">overriding</a> happening in resolution.</strong></p>\n<p><code>classpath root application.properties</code> ex:</p>\n<pre><code>reference.to.an.application.properties: /some/path/\nreference.to.an.application.properties.value: ${reference.to.an.application.properties}/{ID}\n</code></pre>\n<p>If <code>reference.to.an.application.properties</code> is also defined somewhere else [additionally], that is <strong>overriding</strong> the same-named property key in  properties file (because of <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">Spring properties precedence</a>); somewhere else (in my case, <a href=\"https://cloud.redhat.com/blog/environment-dependent-property-management-strategies-openshift-pipelines\" rel=\"nofollow noreferrer\">OpenShift properties</a> [which are passed by OpenShift as environment variables to Spring]) for ex:</p>\n<pre><code>reference.to.an.application.properties: /some/path/{ID}\n</code></pre>\n<p>Then (by overriding precedence) <code>reference.to.an.application.properties.value</code> would resolve to <code>/some/path/{ID}/{ID}</code> (thus the duplicated URL path), and not <code>/some/path/{ID}</code></p>\n"}],"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3914,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22421689,"answer_count":6,"score":10,"last_activity_date":1686253956,"creation_date":1394872236,"question_id":22421469,"body_markdown":"I have a simple `@Controller` within a `spring-mvc` environment. This is the Controller:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Controller\r\n    public class MessageController {\r\n        private static Logger LOG = LoggerFactory\r\n                .getLogger(MessageController.class);\r\n\r\n        @RequestMapping(value = &quot;/messages/{userId}/{messageId}&quot;, method = RequestMethod.GET)\r\n        public Message getMessage(@PathVariable(&quot;userId&quot;) String uid,\r\n                @PathVariable(&quot;messageId&quot;) String msgid) {\r\n            LOG.trace(&quot;GET /message/{}/{}&quot;, uid, msgid);\r\n            return new Message();\r\n        }\r\n    }\r\n\r\nThis is the servlet-mapping in `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n                 http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n             version=&quot;2.4&quot;&gt;\r\n\r\n        &lt;display-name&gt;Messaging Service&lt;/display-name&gt;\r\n\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n\r\n    &lt;/web-app&gt;\r\n\r\nWhen I start the app via jetty and run a request against `/messages/abc/def`, I get the following log:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    INFO: Mapped &quot;{[/messages/{userId}/{messageId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public ....Message ....MessageController.getMessage(java.lang.String,java.lang.String)\r\n    WARNING: No mapping found for HTTP request with URI [/messages/abc/messages/abc/def] in DispatcherServlet with name &#39;messaging&#39;\r\n\r\nWhat did I do wrong here? The request definitely only contains `/messages/abc/def`, why is this internally translated to `/messages/abc/messages/abc/def`?","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I have a simple <code>@Controller</code> within a <code>spring-mvc</code> environment. This is the Controller:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MessageController {\n    private static Logger LOG = LoggerFactory\n            .getLogger(MessageController.class);\n\n    @RequestMapping(value = \"/messages/{userId}/{messageId}\", method = RequestMethod.GET)\n    public Message getMessage(@PathVariable(\"userId\") String uid,\n            @PathVariable(\"messageId\") String msgid) {\n        LOG.trace(\"GET /message/{}/{}\", uid, msgid);\n        return new Message();\n    }\n}\n</code></pre>\n\n<p>This is the servlet-mapping in <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\n             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n         version=\"2.4\"&gt;\n\n    &lt;display-name&gt;Messaging Service&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I start the app via jetty and run a request against <code>/messages/abc/def</code>, I get the following log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Mapped \"{[/messages/{userId}/{messageId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public ....Message ....MessageController.getMessage(java.lang.String,java.lang.String)\nWARNING: No mapping found for HTTP request with URI [/messages/abc/messages/abc/def] in DispatcherServlet with name 'messaging'\n</code></pre>\n\n<p>What did I do wrong here? The request definitely only contains <code>/messages/abc/def</code>, why is this internally translated to <code>/messages/abc/messages/abc/def</code>?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"score":3,"creation_date":1579527350,"post_id":53869126,"comment_id":105785771,"body_markdown":"So, did you find an answer?","body":"So, did you find an answer?"}],"answers":[{"tags":[],"owner":{"account_id":4774069,"reputation":207,"user_id":3857789,"accept_rate":80,"display_name":"shakel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606312283,"creation_date":1606312283,"answer_id":65006045,"question_id":53869126,"body_markdown":"TLDR: the behavior you want won&#39;t work because the Object has been instantiated, needs to be null.\r\n\r\n---\r\n\r\n&gt; Include.NON_EMPTY \\\r\n&gt; Include.NON_NULL\r\n\r\nThe reason these options don&#39;t work with what you are trying to do is because you have instantiated an Object of Room type so Room is not empty or null hence your output: `{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}`\r\n\r\nIf you effectively want to avoid having Room represented in your JSON, then the Object needs to be null. By setting `school.room = null` you would get your desired output, though in the real world this could become messy as you&#39;d have to evaluate if fields in the Object were actually null before setting Room in School to be null.\r\n\r\nA custom serializer would handle this better, see: https://stackoverflow.com/questions/53234727/do-not-include-empty-object-to-jackson ","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>TLDR: the behavior you want won't work because the Object has been instantiated, needs to be null.</p>\n<hr />\n<blockquote>\n<p>Include.NON_EMPTY <br />\nInclude.NON_NULL</p>\n</blockquote>\n<p>The reason these options don't work with what you are trying to do is because you have instantiated an Object of Room type so Room is not empty or null hence your output: <code>{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}</code></p>\n<p>If you effectively want to avoid having Room represented in your JSON, then the Object needs to be null. By setting <code>school.room = null</code> you would get your desired output, though in the real world this could become messy as you'd have to evaluate if fields in the Object were actually null before setting Room in School to be null.</p>\n<p>A custom serializer would handle this better, see: <a href=\"https://stackoverflow.com/questions/53234727/do-not-include-empty-object-to-jackson\">Do not include empty object to Jackson</a></p>\n"},{"tags":[],"owner":{"account_id":12609810,"reputation":111,"user_id":9169379,"display_name":"Miguel Galindo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615405670,"creation_date":1615405670,"answer_id":66571854,"question_id":53869126,"body_markdown":"A little bit late , add JsonInclude custom\r\n\r\n    class School {\r\n      String name;\r\n      @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room .class)\r\n      Room room;\r\n    }\r\n\r\n    \r\n    @EqualsAndHashCode\r\n    class Room {\r\n          String name;\r\n    }\r\n\r\nThis will avoid to include room if is equals than `new Room()`.\r\nDon&#39;t forget implement equals method in Room class and include an empty constructor\r\n\r\n\r\nBesides you can use `@JsonInclude( Include.NON_EMPTY )` or `@JsonInclude( Include.NON_DEFAULT )` at class level to skip possible nulls or empty values\r\n","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>A little bit late , add JsonInclude custom</p>\n<pre><code>class School {\n  String name;\n  @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room .class)\n  Room room;\n}\n\n\n@EqualsAndHashCode\nclass Room {\n      String name;\n}\n</code></pre>\n<p>This will avoid to include room if is equals than <code>new Room()</code>.\nDon't forget implement equals method in Room class and include an empty constructor</p>\n<p>Besides you can use <code>@JsonInclude( Include.NON_EMPTY )</code> or <code>@JsonInclude( Include.NON_DEFAULT )</code> at class level to skip possible nulls or empty values</p>\n"}],"owner":{"account_id":2652647,"reputation":513,"user_id":2293959,"accept_rate":67,"display_name":"Ambi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11760,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1686253798,"creation_date":1545310323,"question_id":53869126,"body_markdown":"I would like to serialize to JSON a POJO containing another POJO with empty values.\r\n\r\nFor example, given:\r\n\r\n\r\n    class School {\r\n      String name;\r\n      Room room;\r\n    }\r\n    \r\n    class Room {\r\n      String name;\r\n    }\r\n    \r\n    Room room = new Room();\r\n    School school = new School(&quot;name&quot;);\r\n    school.room = room;\r\n\r\nAfter the serialisation it will look like that\r\n\r\n`{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}`\r\n\r\nIs it possible to exclude the empty object `{}` if all the fields of the class are also empty? Ideally globally for every object without writing custom code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>I would like to serialize to JSON a POJO containing another POJO with empty values.</p>\n\n<p>For example, given:</p>\n\n<pre><code>class School {\n  String name;\n  Room room;\n}\n\nclass Room {\n  String name;\n}\n\nRoom room = new Room();\nSchool school = new School(\"name\");\nschool.room = room;\n</code></pre>\n\n<p>After the serialisation it will look like that</p>\n\n<p><code>{ \"name\": \"name\", \"room\": {}}</code></p>\n\n<p>Is it possible to exclude the empty object <code>{}</code> if all the fields of the class are also empty? Ideally globally for every object without writing custom code.</p>\n"},{"tags":["java","android-gradle-plugin","jetbrains-ide"],"owner":{"account_id":28782702,"reputation":11,"user_id":22043971,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686253549,"creation_date":1686253549,"question_id":76435238,"body_markdown":"I attemtped to make a long post with all the code that was relevant, but no matter what I did, it would not accept it, saying it was not properly formatted. So I am going minimal. I have seen several posts that were similar, but I do not know how to resolve what I am getting for an error. \r\n\r\nBuild file &#39;/home/jason/AndroidStudioProjects/GBTest07/build.gradle&#39; line: 3\r\n\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:8.0.1&#39;)\r\n  Searched in the following repositories:\r\n    maven(https://plugins.gradle.org/m2/)\r\n\r\nI have tried (unsuccessfully) to change the gradle version, and the java version, but I am new, and I am not sure what gradle/java works together the best. I am not sure that changing the version would even solve this issue. I am not running a VPN, or a proxy. ","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources","body":"<p>I attemtped to make a long post with all the code that was relevant, but no matter what I did, it would not accept it, saying it was not properly formatted. So I am going minimal. I have seen several posts that were similar, but I do not know how to resolve what I am getting for an error.</p>\n<p>Build file '/home/jason/AndroidStudioProjects/GBTest07/build.gradle' line: 3</p>\n<p>Plugin [id: 'com.android.application', version: '8.0.1', apply: false] was not found in any of the following sources:</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '8.0.1', apply: false] was not found in any of the following sources:</li>\n</ul>\n<ul>\n<li>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)</li>\n<li>Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:8.0.1')\nSearched in the following repositories:\nmaven(<a href=\"https://plugins.gradle.org/m2/\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/m2/</a>)</li>\n</ul>\n<p>I have tried (unsuccessfully) to change the gradle version, and the java version, but I am new, and I am not sure what gradle/java works together the best. I am not sure that changing the version would even solve this issue. I am not running a VPN, or a proxy.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673003728,"creation_date":1672932534,"answer_id":75020784,"question_id":75020038,"body_markdown":"The reason Hibernate overrides your setting of `@NotNull` on `Address.street` when generating the table for the `User` entity is that the field `User.homeAddress` itself is nullable. **This means that you have specified that it is perfectly fine to pass a `User` object with `null` `homeAddress` to Hibernate.** And Hibernate (JPA generally I think) will deal with it by making all the fields of the embeddable *nullable*.\r\n\r\nMaybe you can try annotating the `User.homeAddress` field as `@NotNull` -or- orverride the embedded column definition with `@Embedded @AttributeOverrides({@AttributeOverride(name=&quot;street&quot;, column=@Column(..., nullable=false))})`.","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>The reason Hibernate overrides your setting of <code>@NotNull</code> on <code>Address.street</code> when generating the table for the <code>User</code> entity is that the field <code>User.homeAddress</code> itself is nullable. <strong>This means that you have specified that it is perfectly fine to pass a <code>User</code> object with <code>null</code> <code>homeAddress</code> to Hibernate.</strong> And Hibernate (JPA generally I think) will deal with it by making all the fields of the embeddable <em>nullable</em>.</p>\n<p>Maybe you can try annotating the <code>User.homeAddress</code> field as <code>@NotNull</code> -or- orverride the embedded column definition with <code>@Embedded @AttributeOverrides({@AttributeOverride(name=&quot;street&quot;, column=@Column(..., nullable=false))})</code>.</p>\n"},{"tags":[],"owner":{"account_id":173043,"reputation":103,"user_id":401482,"display_name":"Claus Polanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686253267,"creation_date":1686253267,"answer_id":76435216,"question_id":75020038,"body_markdown":"In the recently published book: [Java Persistence with Spring Data and Hibernate][1], the authors mention the following:\r\n\r\n&gt; Problem: Hibernate Validator doesn’t generate NOT NULL constraints\r\nAt the time of writing, an open flaw remains with Hibernate Validator: Hibernate won’t map @NotNull constraints on embeddable component properties to NOT NULL constraints when generating the database schema. Hibernate will only use @NotNull on the components’ properties at runtime for Bean Validation. We have to map the property with @Column(nullable = false) to generate the constraint in the schema. The Hibernate bug database is tracking this problem as HVAL-3 (see http://mng.bz/lR0R).\r\n\r\n\r\n  [1]: https://www.manning.com/books/java-persistence-with-spring-data-and-hibernate","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>In the recently published book: <a href=\"https://www.manning.com/books/java-persistence-with-spring-data-and-hibernate\" rel=\"nofollow noreferrer\">Java Persistence with Spring Data and Hibernate</a>, the authors mention the following:</p>\n<blockquote>\n<p>Problem: Hibernate Validator doesn’t generate NOT NULL constraints\nAt the time of writing, an open flaw remains with Hibernate Validator: Hibernate won’t map @NotNull constraints on embeddable component properties to NOT NULL constraints when generating the database schema. Hibernate will only use @NotNull on the components’ properties at runtime for Bean Validation. We have to map the property with @Column(nullable = false) to generate the constraint in the schema. The Hibernate bug database is tracking this problem as HVAL-3 (see <a href=\"http://mng.bz/lR0R\" rel=\"nofollow noreferrer\">http://mng.bz/lR0R</a>).</p>\n</blockquote>\n"}],"owner":{"account_id":16016792,"reputation":192,"user_id":12170868,"display_name":"Mat&#237;as Santurio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75020784,"answer_count":2,"score":0,"last_activity_date":1686253267,"creation_date":1672929218,"question_id":75020038,"body_markdown":"I have the following two `Address`, `User` classes:\r\n\r\n```java\r\nimport javax.persistence.Embeddable;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Size;\r\n\r\n@Embeddable\r\npublic class Address {\r\n    @NotNull\r\n    @Size(max = 50)\r\n    private String street;\r\n}\r\n```\r\n\r\n```java\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\n@Table(name = &quot;USERS&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private String username;\r\n\r\n    @Valid\r\n    private Address homeAddress;\r\n}\r\n```\r\n\r\nAnd this is generating the following MySQL table:\r\n\r\n```sql\r\nCREATE TABLE `USERS` (\r\n  `id` bigint NOT NULL AUTO_INCREMENT,\r\n  `street` varchar(50) DEFAULT NULL,\r\n  `username` varchar(255) NOT NULL,\r\n  PRIMARY KEY (`id`)\r\n)\r\n```\r\n\r\nAs you can see, the `@NotNull` constraint worked for the `username` field, and the `@Size(max = 50)` constraint worked for the embedded class. However, the `@NotNull` constraint on the embedded class doesn&#39;t seem to working, what am I missing?\r\n\r\nThe `pom.xml`, in case it&#39;s relevant: \r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.manning.javapersistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapping-value-types&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;mapping-value-types&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.29&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>I have the following two <code>Address</code>, <code>User</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Embeddable;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\n@Embeddable\npublic class Address {\n    @NotNull\n    @Size(max = 50)\n    private String street;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = &quot;USERS&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    private String username;\n\n    @Valid\n    private Address homeAddress;\n}\n</code></pre>\n<p>And this is generating the following MySQL table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `USERS` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `street` varchar(50) DEFAULT NULL,\n  `username` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`)\n)\n</code></pre>\n<p>As you can see, the <code>@NotNull</code> constraint worked for the <code>username</code> field, and the <code>@Size(max = 50)</code> constraint worked for the embedded class. However, the <code>@NotNull</code> constraint on the embedded class doesn't seem to working, what am I missing?</p>\n<p>The <code>pom.xml</code>, in case it's relevant:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.manning.javapersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;mapping-value-types&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mapping-value-types&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.29&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","regex","jersey","openapi","swagger-editor"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1686251805,"post_id":76435041,"comment_id":134777239,"body_markdown":"Start with the most evident: did you try with double backslashes?","body":"Start with the most evident: did you try with double backslashes?"},{"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"score":0,"creation_date":1686252102,"post_id":76435041,"comment_id":134777290,"body_markdown":"yes I did, good sire,  like so &quot;\\\\bJOKER\\\\b &quot; . I was even suggested triple, but that didn&#39;t work either.","body":"yes I did, good sire,  like so &quot;\\\\bJOKER\\\\b &quot; . I was even suggested triple, but that didn&#39;t work either."},{"owner":{"account_id":10981751,"reputation":14478,"user_id":8068625,"display_name":"Henry Woody"},"score":0,"creation_date":1686253735,"post_id":76435041,"comment_id":134777572,"body_markdown":"Triple isn&#39;t going to help, but quadruple might if this passes through two steps (for example a regexp env var needs to have &quot;\\\\\\\\&quot; so that from shell to the program it goes to &quot;\\\\&quot; which is then &quot;\\&quot; in the regexp)","body":"Triple isn&#39;t going to help, but quadruple might if this passes through two steps (for example a regexp env var needs to have &quot;\\\\\\\\&quot; so that from shell to the program it goes to &quot;\\\\&quot; which is then &quot;\\&quot; in the regexp)"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1686255001,"post_id":76435041,"comment_id":134777804,"body_markdown":"Are you sure `(?i)` is supported? Try `&#39;^(?!\\b[Jj][Oo][Kk][Ee][Rr]\\b).*$&#39;`","body":"Are you sure <code>(?i)</code> is supported? Try <code>&#39;^(?!\\b[Jj][Oo][Kk][Ee][Rr]\\b).*$&#39;</code>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":1,"creation_date":1686257283,"post_id":76435041,"comment_id":134778146,"body_markdown":"Java 8 supports the (?i) in-line case insensitive modifier. `^(?!(?i)\\bJOKER\\b).*$` https://regex101.com/r/7mP8wI/1 What version are you using ? You might want to make the _Dot Match All_ modifier active as well.","body":"Java 8 supports the (?i) in-line case insensitive modifier. <code>^(?!(?i)\\bJOKER\\b).*$</code> <a href=\"https://regex101.com/r/7mP8wI/1\" rel=\"nofollow noreferrer\">regex101.com/r/7mP8wI/1</a> What version are you using ? You might want to make the <i>Dot Match All</i> modifier active as well."},{"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"score":0,"creation_date":1686516870,"post_id":76435041,"comment_id":134805548,"body_markdown":"@sln My Java version is 11, and the pattern works as expected in the code. The only issue is that the swagger.io editor is calling out this pattern as a &quot;structural error&quot; and \n I am not sure why","body":"@sln My Java version is 11, and the pattern works as expected in the code. The only issue is that the swagger.io editor is calling out this pattern as a &quot;structural error&quot; and   I am not sure why"}],"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686253092,"creation_date":1686251663,"question_id":76435041,"body_markdown":"I generated an openapi json spec from a Jersey RestApi code I wrote, and one of the constraints I have is a regex negative-lookahead pattern for &quot;LEAGUE-MEMBER&quot; request header. When I convert the json into yaml like so.\r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: Justice League Delegate Admin Sheet \r\n      description: &#39;Log Record for Temp admin access to the WatchTower&#39;\r\n      version: v1\r\n    servers:\r\n      - url: https://watchtower.wayne:9443\r\n        description: Generated server url\r\n    paths:\r\n      /ent-watchtower-auth/v3/delegate:\r\n        get:\r\n          tags:\r\n            - Search\r\n          summary: Search for a UID\r\n          operationId: searchForUID\r\n          parameters:\r\n            - name: MemberID\r\n              in: header\r\n              required: true\r\n              schema:\r\n                type: string\r\n              example: JL000000\r\n            - name: LEAGUE-MEMBER\r\n              in: header\r\n              required: true\r\n              schema:\r\n                pattern: &#39;^(?!(?i)\\bJOKER\\b).*$&#39;\r\n                type: string\r\n              example: BATMAN, JON, HAWKGIRL, ORACLE, FLASH, ANYONEBUTJOKER\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: The resulting Delegate History\r\n\r\n\r\nI get the following validation error at swagger.io editor:\r\n\r\n    Structural error at paths./ent-watchtower-auth/v3/delegate.get.parameters.1.schema.pattern\r\n    should match format &quot;regex&quot;\r\n    format: regex\r\n\r\n\r\nFor context on the regex, `&#39;^(?!(?i)\\bJOKER\\b).*$&#39;` basically allows for any case-insensitive value except &#39;joker&#39; within the header. (Also, the converted yaml did not wrap the pattern within single quotes, I had to add it later). When I run and test my RESTAPI, the pattern works as expected, and throws ConstraintViolation if the value is &quot;Joker&quot;. But I am unable to identify what the editor is trying to call out. Any suggestion and possible fix appreciated, Thank you.\r\n\r\nUpdate: I have pasted MWE for openapi yaml to play around in swagger editor","title":"OpenAPI 3 Validation Error : should match format &quot;regex&quot;","body":"<p>I generated an openapi json spec from a Jersey RestApi code I wrote, and one of the constraints I have is a regex negative-lookahead pattern for &quot;LEAGUE-MEMBER&quot; request header. When I convert the json into yaml like so.</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Justice League Delegate Admin Sheet \n  description: 'Log Record for Temp admin access to the WatchTower'\n  version: v1\nservers:\n  - url: https://watchtower.wayne:9443\n    description: Generated server url\npaths:\n  /ent-watchtower-auth/v3/delegate:\n    get:\n      tags:\n        - Search\n      summary: Search for a UID\n      operationId: searchForUID\n      parameters:\n        - name: MemberID\n          in: header\n          required: true\n          schema:\n            type: string\n          example: JL000000\n        - name: LEAGUE-MEMBER\n          in: header\n          required: true\n          schema:\n            pattern: '^(?!(?i)\\bJOKER\\b).*$'\n            type: string\n          example: BATMAN, JON, HAWKGIRL, ORACLE, FLASH, ANYONEBUTJOKER\n      responses:\n        '200':\n          description: The resulting Delegate History\n</code></pre>\n<p>I get the following validation error at swagger.io editor:</p>\n<pre><code>Structural error at paths./ent-watchtower-auth/v3/delegate.get.parameters.1.schema.pattern\nshould match format &quot;regex&quot;\nformat: regex\n</code></pre>\n<p>For context on the regex, <code>'^(?!(?i)\\bJOKER\\b).*$'</code> basically allows for any case-insensitive value except 'joker' within the header. (Also, the converted yaml did not wrap the pattern within single quotes, I had to add it later). When I run and test my RESTAPI, the pattern works as expected, and throws ConstraintViolation if the value is &quot;Joker&quot;. But I am unable to identify what the editor is trying to call out. Any suggestion and possible fix appreciated, Thank you.</p>\n<p>Update: I have pasted MWE for openapi yaml to play around in swagger editor</p>\n"},{"tags":["java","date","parsing","timestamp","simpledateformat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1686226695,"post_id":76431424,"comment_id":134771772,"body_markdown":"You are using superseded time classes. You should be using `java.time`. What are you going to do with the `Timestamp` - use it in a db operation? Even, as is, it&#39;s redundant to create a new `String` form of the input date in order to create a `Timestamp` when you can use a `long` from the existing `Date` to initialize it","body":"You are using superseded time classes. You should be using <code>java.time</code>. What are you going to do with the <code>Timestamp</code> - use it in a db operation? Even, as is, it&#39;s redundant to create a new <code>String</code> form of the input date in order to create a <code>Timestamp</code> when you can use a <code>long</code> from the existing <code>Date</code> to initialize it"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686227407,"post_id":76431424,"comment_id":134771973,"body_markdown":"@g00se Firstly, I tried to parse it but I still get the parse issue. How can I fix it?","body":"@g00se Firstly, I tried to parse it but I still get the parse issue. How can I fix it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686227586,"post_id":76431424,"comment_id":134772012,"body_markdown":"Can you please show sample input dates?","body":"Can you please show sample input dates?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686227686,"post_id":76431424,"comment_id":134772034,"body_markdown":"@g00se Here it is `Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)`","body":"@g00se Here it is <code>Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686229029,"post_id":76431424,"comment_id":134772348,"body_markdown":"That&#39;s one tricky format. How do you know whether the zone offset is positive or negative, for one thing?","body":"That&#39;s one tricky format. How do you know whether the zone offset is positive or negative, for one thing?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686229915,"post_id":76431424,"comment_id":134772602,"body_markdown":"@g00se It can be both possible but firstly how can I format the date as I&#39;m stuck there?","body":"@g00se It can be both possible but firstly how can I format the date as I&#39;m stuck there?"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686234172,"creation_date":1686230767,"answer_id":76432335,"question_id":76431424,"body_markdown":"Were your date format rational, you could do the following, although `Timestamp` should be avoid too, instead, allowing your db driver to map a column to one of the classes in `java.time`. Inserting +ve or -ve, so that the system knows what the offset means, the following is possible:\r\n\r\n    String d = &quot;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&quot;;\r\n    DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x &#39;(&#39;z x&#39;)&#39;&quot;, Locale.ENGLISH);\r\n    OffsetDateTime odt = OffsetDateTime.parse(d, inputFormat);\r\n    Timestamp ts = new Timestamp(OffsetDateTime.parse(d, inputFormat).toInstant().toEpochMilli());\r\n    System.out.println(ts);\r\n\r\n","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>Were your date format rational, you could do the following, although <code>Timestamp</code> should be avoid too, instead, allowing your db driver to map a column to one of the classes in <code>java.time</code>. Inserting +ve or -ve, so that the system knows what the offset means, the following is possible:</p>\n<pre><code>String d = &quot;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&quot;;\nDateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x '('z x')'&quot;, Locale.ENGLISH);\nOffsetDateTime odt = OffsetDateTime.parse(d, inputFormat);\nTimestamp ts = new Timestamp(OffsetDateTime.parse(d, inputFormat).toInstant().toEpochMilli());\nSystem.out.println(ts);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1686252975,"creation_date":1686252975,"answer_id":76435178,"question_id":76431424,"body_markdown":"Here is my answer shown below\r\n\r\n    import java.sql.Timestamp;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class DataParser {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n            String input = &quot;Thu Jun 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\r\n            String output = manipulateString(input);\r\n            System.out.println(output);\r\n            \r\n            DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x &#39;(&#39;z x&#39;)&#39;&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odt = OffsetDateTime.parse(output, inputFormat);\r\n            Timestamp ts = new Timestamp(odt.toInstant().toEpochMilli());\r\n            System.out.println(ts);\r\n        }\r\n    \r\n        public static String manipulateString(String input) {\r\n            String[] parts = input.split(&quot; &quot;);\r\n            String gmtOffset = parts[parts.length - 3];\r\n            String modifiedOffset = &quot;+&quot; + gmtOffset.substring(0, 2) + gmtOffset.substring(2);\r\n            String modifiedInput = input.replace(gmtOffset, modifiedOffset);\r\n            modifiedInput = modifiedInput.replaceFirst(&quot;\\\\(GMT\\\\s*&quot;, &quot;(GMT +&quot;);\r\n            modifiedInput = modifiedInput.replaceFirst(&quot;:\\\\d{2}\\\\)$&quot;, &quot;:00)&quot;);\r\n            \r\n            int lastIndex = modifiedInput.lastIndexOf(&quot;:&quot;);\r\n            if (lastIndex != -1) {\r\n                modifiedInput = modifiedInput.substring(0, lastIndex) + modifiedInput.substring(lastIndex + 1);\r\n            }\r\n    \r\n            return modifiedInput;\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nHere is the output shown below\r\n\r\n    Thu Jun 01 2023 00:00:00 GMT +0300 (GMT +0300)\r\n    2023-06-01 00:00:00.0","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>Here is my answer shown below</p>\n<pre><code>import java.sql.Timestamp;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class DataParser {\n\n\n    public static void main(String[] args) {\n        String input = &quot;Thu Jun 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\n        String output = manipulateString(input);\n        System.out.println(output);\n        \n        DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x '('z x')'&quot;, Locale.ENGLISH);\n        OffsetDateTime odt = OffsetDateTime.parse(output, inputFormat);\n        Timestamp ts = new Timestamp(odt.toInstant().toEpochMilli());\n        System.out.println(ts);\n    }\n\n    public static String manipulateString(String input) {\n        String[] parts = input.split(&quot; &quot;);\n        String gmtOffset = parts[parts.length - 3];\n        String modifiedOffset = &quot;+&quot; + gmtOffset.substring(0, 2) + gmtOffset.substring(2);\n        String modifiedInput = input.replace(gmtOffset, modifiedOffset);\n        modifiedInput = modifiedInput.replaceFirst(&quot;\\\\(GMT\\\\s*&quot;, &quot;(GMT +&quot;);\n        modifiedInput = modifiedInput.replaceFirst(&quot;:\\\\d{2}\\\\)$&quot;, &quot;:00)&quot;);\n        \n        int lastIndex = modifiedInput.lastIndexOf(&quot;:&quot;);\n        if (lastIndex != -1) {\n            modifiedInput = modifiedInput.substring(0, lastIndex) + modifiedInput.substring(lastIndex + 1);\n        }\n\n        return modifiedInput;\n        \n    }\n    \n}\n</code></pre>\n<p>Here is the output shown below</p>\n<pre><code>Thu Jun 01 2023 00:00:00 GMT +0300 (GMT +0300)\n2023-06-01 00:00:00.0\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76435178,"answer_count":2,"score":-1,"last_activity_date":1686252975,"creation_date":1686223983,"question_id":76431424,"body_markdown":"I cannot convert the date containing GMT to timestamp in Java\r\n\r\nHere is the code shown below\r\n\r\n    import java.sql.Timestamp;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DataParser {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\t\r\n    \t\t String startDate = &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\r\n    \t\t \r\n    \t\t SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &#39;GMT&#39; X (zzzz)&quot;);\r\n             SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \r\n             Date parsedDate = inputFormat.parse(startDate);\r\n    \r\n             String formattedDate = outputFormat.format(parsedDate);\r\n    \r\n             Timestamp timestamp = Timestamp.valueOf(formattedDate);\r\n    \t\t\r\n             System.out.println(timestamp);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nHere is the error shown below\r\n\r\n    Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;\r\n    \tat java.base/java.text.DateFormat.parse(DateFormat.java:399)\r\n    \tat example1.DataParser.main(DataParser.java:17)\r\n\r\n\r\nHow can I fix it?","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>I cannot convert the date containing GMT to timestamp in Java</p>\n<p>Here is the code shown below</p>\n<pre><code>import java.sql.Timestamp;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DataParser {\n\n    public static void main(String[] args) throws ParseException {\n        \n         String startDate = &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\n         \n         SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss 'GMT' X (zzzz)&quot;);\n         SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n         Date parsedDate = inputFormat.parse(startDate);\n\n         String formattedDate = outputFormat.format(parsedDate);\n\n         Timestamp timestamp = Timestamp.valueOf(formattedDate);\n        \n         System.out.println(timestamp);\n    }\n}\n</code></pre>\n<p>Here is the error shown below</p>\n<pre><code>Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;\n    at java.base/java.text.DateFormat.parse(DateFormat.java:399)\n    at example1.DataParser.main(DataParser.java:17)\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686216355,"post_id":76430013,"comment_id":134769751,"body_markdown":"You dont design principals like that. A user is a user. And it has different GrantedAuthorities, either a GA as a Admin or a GA as a Employee. You should rethink","body":"You dont design principals like that. A user is a user. And it has different GrantedAuthorities, either a GA as a Admin or a GA as a Employee. You should rethink"},{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1686220764,"post_id":76430013,"comment_id":134770570,"body_markdown":"I have many additional fields for Employee I want to separate them from Admin but I don&#39;t know what is the right approach here.You suggest all the fields to be in on class","body":"I have many additional fields for Employee I want to separate them from Admin but I don&#39;t know what is the right approach here.You suggest all the fields to be in on class"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686244062,"post_id":76430013,"comment_id":134775887,"body_markdown":"I suggest you have an `id` field in the principal and then you up look what ever you need for that user when it is needed. The principal is used for storing authorization information. A principal is NOT a user object that should have a lot of data about the user. That is a USER object.","body":"I suggest you have an <code>id</code> field in the principal and then you up look what ever you need for that user when it is needed. The principal is used for storing authorization information. A principal is NOT a user object that should have a lot of data about the user. That is a USER object."}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686252335,"creation_date":1686213270,"question_id":76430013,"body_markdown":"Hi I just implement spring security to work with jwt.I have one `User class` for now but I will need to add at least one more and I am planing to made the `User abstract` and create `Employee` and `Admin` classes witch will `inherit the User`.\r\nThe problem is when I search for the user is going to the User repository.How to implement this to work with all children classes. I can use generics but at this point where I search for the User try the repository I don&#39;t know what type is the user and seems like pointless. \r\n\r\n        private UserRepository userRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n        User user = userRepository.findByUsername(username).orElseThrow(() -&gt; new RuntimeException(String.format(&quot;User with that username does not exist&quot;, username)));\r\n    \r\n        Set&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toSet());\r\n    \r\n        return new org.springframework.security.core.userdetails.User(\r\n                username,\r\n                user.getPassword(),\r\n                authorities\r\n        );\r\n    \r\n   \r\n\r\n","title":"Spring security jwt auth foe more than one User classes","body":"<p>Hi I just implement spring security to work with jwt.I have one <code>User class</code> for now but I will need to add at least one more and I am planing to made the <code>User abstract</code> and create <code>Employee</code> and <code>Admin</code> classes witch will <code>inherit the User</code>.\nThe problem is when I search for the user is going to the User repository.How to implement this to work with all children classes. I can use generics but at this point where I search for the User try the repository I don't know what type is the user and seems like pointless.</p>\n<pre><code>    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n    User user = userRepository.findByUsername(username).orElseThrow(() -&gt; new RuntimeException(String.format(&quot;User with that username does not exist&quot;, username)));\n\n    Set&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n            .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\n            .collect(Collectors.toSet());\n\n    return new org.springframework.security.core.userdetails.User(\n            username,\n            user.getPassword(),\n            authorities\n    );\n</code></pre>\n"},{"tags":["java","jdbc","logstash","jodatime"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686252319,"creation_date":1685713456,"answer_id":76390717,"question_id":76388627,"body_markdown":"&quot;_Illegal instant due to time zone offset transition_&quot; - Istanbul does not _currently_ change between daylight saving time and standard time, but [it has done in the past](https://en.wikipedia.org/wiki/Time_in_Turkey).\r\n\r\nIt is currently observing what is effectively DST year-round - and has done so since March 27th 2016, when the clocks moved forward by 1 hour from a UCT timezone offset of +2 hours to +3 hours.\r\n\r\n---\r\n\r\nMore specifically regarding the &quot;_Illegal instant_&quot; error: In 1949 on 10th April at midnight, the clocks moved forward by 1 hour - so the local time of `1949-04-10  00:00` never actually happened. That is why it is a &quot;gap&quot; value, as noted in the error message.\r\n\r\nThis time zone data is captured in the IANA [Time Zone Database](https://www.iana.org/time-zones) (TZDB), which I assume is what your application uses, behind the scenes (e.g. if you are using Joda-Time).\r\n\r\nYou can use an online tool such as [this one](https://www.timeanddate.com/time/change/turkey/istanbul?year=1949) (and probaby others):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**WARNING** - I cannot vouch for the accuracy of the data on this web site, but it does match the TZDB rule for _this specific example_, which I extracted as follows using Java (which uses TZDB data):\r\n\r\n```\r\n - on 1949-04-10 at 00:00\r\n - the clocks moved forward by 1 hr (daylight saving)\r\n - from TZ offset +02:00 to offset +03:00\r\n```\r\n\r\n---\r\n\r\nRegarding your comment: \r\n\r\n&gt; &quot;_should be &#39;1970-01-01 03:00:00&#39;_&quot;\r\n\r\nFor 1970, the TZDB indicates that there were no adjustments made. So, the effective offset from UTC was the one previously made in 1964:\r\n\r\n```\r\n - on 1964-10-01 at 00:00\r\n - the clocks moved back by 1 hr\r\n - from TZ offset +03:00 to offset +02:00\r\n```\r\n\r\nAnd that `+02:00` is what you are (correctly) seeing in your data for that 1970 datetime.\r\n\r\n---\r\n\r\nIf you want to avoid using a datetime which falls into one of these gaps (caused by the clocks moving forward), then you can do that programmatically - for example:\r\n\r\n - Assuming Java (since you mention Joda-Time): [java.time discovering I&#39;m in the daylight savings &quot;gap&quot;](https://stackoverflow.com/q/32862926/12567365)\r\n\r\nOther mainstream languages should have similar capabilities.\r\n\r\n---\r\n\r\nAlso, since you mentioned Joda, maybe you can consider using Java&#39;s `java.time` classes now (if you have a suitable version of Java), [instead of using Joda-Time](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n---\r\n\r\n**Specific solution to the case with Logstash**\r\n\r\nAdding `jdbc_default_timezone =&gt; &quot;GMT&quot;` to Logstash configuration and altering the timezone of the host machine will make Logstash to query the database without getting this error.\r\n\r\n  [1]: https://i.stack.imgur.com/Sa7fz.png","title":"Exception when executing JDBC query - Illegal instant due to time zone offset transition with Logstash","body":"<p>&quot;<em>Illegal instant due to time zone offset transition</em>&quot; - Istanbul does not <em>currently</em> change between daylight saving time and standard time, but <a href=\"https://en.wikipedia.org/wiki/Time_in_Turkey\" rel=\"nofollow noreferrer\">it has done in the past</a>.</p>\n<p>It is currently observing what is effectively DST year-round - and has done so since March 27th 2016, when the clocks moved forward by 1 hour from a UCT timezone offset of +2 hours to +3 hours.</p>\n<hr />\n<p>More specifically regarding the &quot;<em>Illegal instant</em>&quot; error: In 1949 on 10th April at midnight, the clocks moved forward by 1 hour - so the local time of <code>1949-04-10  00:00</code> never actually happened. That is why it is a &quot;gap&quot; value, as noted in the error message.</p>\n<p>This time zone data is captured in the IANA <a href=\"https://www.iana.org/time-zones\" rel=\"nofollow noreferrer\">Time Zone Database</a> (TZDB), which I assume is what your application uses, behind the scenes (e.g. if you are using Joda-Time).</p>\n<p>You can use an online tool such as <a href=\"https://www.timeanddate.com/time/change/turkey/istanbul?year=1949\" rel=\"nofollow noreferrer\">this one</a> (and probaby others):</p>\n<p><a href=\"https://i.stack.imgur.com/Sa7fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sa7fz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>WARNING</strong> - I cannot vouch for the accuracy of the data on this web site, but it does match the TZDB rule for <em>this specific example</em>, which I extracted as follows using Java (which uses TZDB data):</p>\n<pre><code> - on 1949-04-10 at 00:00\n - the clocks moved forward by 1 hr (daylight saving)\n - from TZ offset +02:00 to offset +03:00\n</code></pre>\n<hr />\n<p>Regarding your comment:</p>\n<blockquote>\n<p>&quot;<em>should be '1970-01-01 03:00:00'</em>&quot;</p>\n</blockquote>\n<p>For 1970, the TZDB indicates that there were no adjustments made. So, the effective offset from UTC was the one previously made in 1964:</p>\n<pre><code> - on 1964-10-01 at 00:00\n - the clocks moved back by 1 hr\n - from TZ offset +03:00 to offset +02:00\n</code></pre>\n<p>And that <code>+02:00</code> is what you are (correctly) seeing in your data for that 1970 datetime.</p>\n<hr />\n<p>If you want to avoid using a datetime which falls into one of these gaps (caused by the clocks moving forward), then you can do that programmatically - for example:</p>\n<ul>\n<li>Assuming Java (since you mention Joda-Time): <a href=\"https://stackoverflow.com/q/32862926/12567365\">java.time discovering I'm in the daylight savings &quot;gap&quot;</a></li>\n</ul>\n<p>Other mainstream languages should have similar capabilities.</p>\n<hr />\n<p>Also, since you mentioned Joda, maybe you can consider using Java's <code>java.time</code> classes now (if you have a suitable version of Java), <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">instead of using Joda-Time</a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<hr />\n<p><strong>Specific solution to the case with Logstash</strong></p>\n<p>Adding <code>jdbc_default_timezone =&gt; &quot;GMT&quot;</code> to Logstash configuration and altering the timezone of the host machine will make Logstash to query the database without getting this error.</p>\n"}],"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76390717,"answer_count":1,"score":2,"last_activity_date":1686252319,"creation_date":1685696133,"question_id":76388627,"body_markdown":"I have the following JDBC input:\r\n\r\n```\r\ninput {\r\n  jdbc {\r\n    id =&gt; &quot;mypipeline&quot;\r\n    jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot;\r\n    jdbc_driver_library =&gt; &quot;/usr/share/logstash/drivers/mysql-connector-j-8.0.32.jar&quot;\r\n    jdbc_connection_string =&gt; &quot;my-connection-string&quot;\r\n    jdbc_password =&gt; &quot;my-user&quot;\r\n    jdbc_user =&gt; &quot;my-pass&quot;\r\n    jdbc_fetch_size =&gt; 5000\r\n    schedule =&gt; &quot;*/5 * * * *&quot;\r\n    statement =&gt; &quot;SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= :sql_last_value&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe log_date column is as follows:\r\n\r\n```\r\nlog_date DATE NULL DEFAULT NULL,\r\n```\r\n\r\nWarning; `created_at` and `log_date` are not the same column. The query that&#39;s being executed is as follows:\r\n\r\n```\r\nSELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= &#39;1970-01-01 02:00:00&#39;\r\n```\r\nwhich is wrong, since Istanbul does not go into DST, should be `&#39;1970-01-01 03:00:00&#39;` For values such as `1949-04-10` for log_date, I am receiving this error:\r\n\r\n```\r\n[2023-06-02T11:50:30,470][WARN ][logstash.inputs.jdbc     ][main][mypipeline] Exception when executing JDBC query {:exception=&gt;Sequel::DatabaseError, :message=&gt;&quot;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time &#39;gap&#39;): 1949-04-10T00:00:00.000 (Europe/Istanbul)&quot;, :cause=&gt;&quot;#&lt;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time &#39;gap&#39;): 1949-04-10T00:00:00.000 (Europe/Istanbul)&gt;&quot;}\r\n```\r\n\r\nHow do I resolve this?","title":"Exception when executing JDBC query - Illegal instant due to time zone offset transition with Logstash","body":"<p>I have the following JDBC input:</p>\n<pre><code>input {\n  jdbc {\n    id =&gt; &quot;mypipeline&quot;\n    jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot;\n    jdbc_driver_library =&gt; &quot;/usr/share/logstash/drivers/mysql-connector-j-8.0.32.jar&quot;\n    jdbc_connection_string =&gt; &quot;my-connection-string&quot;\n    jdbc_password =&gt; &quot;my-user&quot;\n    jdbc_user =&gt; &quot;my-pass&quot;\n    jdbc_fetch_size =&gt; 5000\n    schedule =&gt; &quot;*/5 * * * *&quot;\n    statement =&gt; &quot;SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= :sql_last_value&quot;\n  }\n}\n</code></pre>\n<p>The log_date column is as follows:</p>\n<pre><code>log_date DATE NULL DEFAULT NULL,\n</code></pre>\n<p>Warning; <code>created_at</code> and <code>log_date</code> are not the same column. The query that's being executed is as follows:</p>\n<pre><code>SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= '1970-01-01 02:00:00'\n</code></pre>\n<p>which is wrong, since Istanbul does not go into DST, should be <code>'1970-01-01 03:00:00'</code> For values such as <code>1949-04-10</code> for log_date, I am receiving this error:</p>\n<pre><code>[2023-06-02T11:50:30,470][WARN ][logstash.inputs.jdbc     ][main][mypipeline] Exception when executing JDBC query {:exception=&gt;Sequel::DatabaseError, :message=&gt;&quot;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time 'gap'): 1949-04-10T00:00:00.000 (Europe/Istanbul)&quot;, :cause=&gt;&quot;#&lt;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time 'gap'): 1949-04-10T00:00:00.000 (Europe/Istanbul)&gt;&quot;}\n</code></pre>\n<p>How do I resolve this?</p>\n"},{"tags":["java","jpql"],"answers":[{"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686252132,"creation_date":1685992124,"answer_id":76409333,"question_id":76409001,"body_markdown":"I think the solution you have above would work.\r\nIf not, then I would try this. Assuming you have a User.java class, and a SessionFactory, I believe you can create a method like this:\r\n\r\n```java\r\n    public List&lt;User&gt; fetchUsersWithOffsetAndLimit(SessionFactory session, int offset, int limit) {\r\n     List&lt;User&gt; userList = session.getCurrentSession().createQuery(From User)\r\n       .setFirstResult(offset)\r\n       .setMaxResults(limit)\r\n       .list();\r\n\r\n     List&lt;User&gt; usersSortedByOrderIdDesc = new ArrayList&lt;&gt;();\r\n\r\n     for (int i = userList.size(); i &gt; 0; i--) {\r\n      usersSortedByOrderIdDesc.add(userList.get(i));\r\n     }\r\n    \r\n    return usersSortedByOrderIdDesc;\r\n    }\r\n\r\n// SessionFactory sessionFactory = HibernateUtils.getLocSessionFactory();\r\n// Session session = sessionFactory.getCurrentSession();\r\n```\r\n\r\nI added the SessionFactory that can be called within the parameter. It can be added within the method if you are not passing it inside the method call.\r\n\r\nThere may be a more efficient way of doing it but I think this will work.","title":"How can you put your LIMIT inside a subquery in JPQL?","body":"<p>I think the solution you have above would work.\nIf not, then I would try this. Assuming you have a User.java class, and a SessionFactory, I believe you can create a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;User&gt; fetchUsersWithOffsetAndLimit(SessionFactory session, int offset, int limit) {\n     List&lt;User&gt; userList = session.getCurrentSession().createQuery(From User)\n       .setFirstResult(offset)\n       .setMaxResults(limit)\n       .list();\n\n     List&lt;User&gt; usersSortedByOrderIdDesc = new ArrayList&lt;&gt;();\n\n     for (int i = userList.size(); i &gt; 0; i--) {\n      usersSortedByOrderIdDesc.add(userList.get(i));\n     }\n    \n    return usersSortedByOrderIdDesc;\n    }\n\n// SessionFactory sessionFactory = HibernateUtils.getLocSessionFactory();\n// Session session = sessionFactory.getCurrentSession();\n</code></pre>\n<p>I added the SessionFactory that can be called within the parameter. It can be added within the method if you are not passing it inside the method call.</p>\n<p>There may be a more efficient way of doing it but I think this will work.</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686252132,"creation_date":1685988801,"question_id":76409001,"body_markdown":"Are queries like this\r\n```sql\r\nSELECT *\r\nFROM  (\r\n   SELECT *\r\n   FROM   users\r\n   ORDER  BY id\r\n   LIMIT  3\r\n   OFFSET 3\r\n   ) sub\r\nORDER  BY id DESC;\r\n```\r\ntranslatable into JPQL? I&#39;m not sure since `LIMIT` and `OFFSET`, which are not supported directly inside a JPQL string, are placed inside a subquery. The problem with `setMaxResults()` and `setFirstResult()` is that the associated SQL keywords are going to be appended to the outermost query whatever you do, it is not customizable\r\n\r\nMy `LIMIT`, `OFFSET` and `GROUP BY` values are actually dynamic and represent pagination parameters passed in an HTTP request. I know `OFFSET` is not very good for pagination, but even if you replace it with `WHERE`, you&#39;re still left with `LIMIT` that should still be inside a subquery\r\n\r\n**How do I turn that SQL into JPQL?**\r\n\r\nP.S.: In case you&#39;re wondering why I need `LIMIT` and `OFFSET` *inside* a subquery, you may visit [this page][1]\r\n\r\n**UPD:** Here&#39;s ChatGPT-4&#39;s suggestion\r\n```java\r\n// Assuming you have an EntityManager named &#39;entityManager&#39;\r\n\r\nint limit = 3;\r\nint offset = 3;\r\nString jpql = &quot;SELECT u FROM User u ORDER BY u.id&quot;;\r\n\r\nTypedQuery&lt;User&gt; query = entityManager.createQuery(jpql, User.class);\r\nquery.setMaxResults(limit);\r\nquery.setFirstResult(offset);\r\n\r\nList&lt;User&gt; users = query.getResultList();\r\n\r\n// If you want to reverse the order of the returned list\r\nCollections.reverse(users);\r\n```\r\n\r\n\r\n  [1]: https://dba.stackexchange.com/questions/327892/can-you-make-postgres-execute-order-by-after-offset-and-limit","title":"How can you put your LIMIT inside a subquery in JPQL?","body":"<p>Are queries like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM  (\n   SELECT *\n   FROM   users\n   ORDER  BY id\n   LIMIT  3\n   OFFSET 3\n   ) sub\nORDER  BY id DESC;\n</code></pre>\n<p>translatable into JPQL? I'm not sure since <code>LIMIT</code> and <code>OFFSET</code>, which are not supported directly inside a JPQL string, are placed inside a subquery. The problem with <code>setMaxResults()</code> and <code>setFirstResult()</code> is that the associated SQL keywords are going to be appended to the outermost query whatever you do, it is not customizable</p>\n<p>My <code>LIMIT</code>, <code>OFFSET</code> and <code>GROUP BY</code> values are actually dynamic and represent pagination parameters passed in an HTTP request. I know <code>OFFSET</code> is not very good for pagination, but even if you replace it with <code>WHERE</code>, you're still left with <code>LIMIT</code> that should still be inside a subquery</p>\n<p><strong>How do I turn that SQL into JPQL?</strong></p>\n<p>P.S.: In case you're wondering why I need <code>LIMIT</code> and <code>OFFSET</code> <em>inside</em> a subquery, you may visit <a href=\"https://dba.stackexchange.com/questions/327892/can-you-make-postgres-execute-order-by-after-offset-and-limit\">this page</a></p>\n<p><strong>UPD:</strong> Here's ChatGPT-4's suggestion</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming you have an EntityManager named 'entityManager'\n\nint limit = 3;\nint offset = 3;\nString jpql = &quot;SELECT u FROM User u ORDER BY u.id&quot;;\n\nTypedQuery&lt;User&gt; query = entityManager.createQuery(jpql, User.class);\nquery.setMaxResults(limit);\nquery.setFirstResult(offset);\n\nList&lt;User&gt; users = query.getResultList();\n\n// If you want to reverse the order of the returned list\nCollections.reverse(users);\n</code></pre>\n"},{"tags":["java","sendgrid"],"comments":[{"owner":{"account_id":5832174,"reputation":155,"user_id":4596318,"accept_rate":50,"display_name":"pjason"},"score":0,"creation_date":1436421363,"post_id":31309215,"comment_id":50607021,"body_markdown":"How to link/call for getting the sendgrid email template id and send email from Java?","body":"How to link/call for getting the sendgrid email template id and send email from Java?"}],"answers":[{"tags":[],"owner":{"account_id":5832174,"reputation":155,"user_id":4596318,"accept_rate":50,"display_name":"pjason"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458805874,"creation_date":1436827979,"answer_id":31394827,"question_id":31309215,"body_markdown":"I found the solution, the way to call sendgrid template and email through sendgrid as below:\r\n\r\n    SendGrid sendGrid = new SendGrid(&quot;username&quot;,&quot;password&quot;));\r\n    SendGrid.Email email = new SendGrid.Email();\r\n\r\n    //Fill the required fields of email\r\n    email.setTo(new String[] { &quot;xyz_to@gmail.com&quot;});\r\n    email.setFrom(&quot;xyz_from@gmail.com&quot;);\r\n    email.setSubject(&quot; &quot;);\r\n    email.setText(&quot; &quot;);\r\n    email.setHtml(&quot; &quot;);\r\n\r\n    // Substitute template ID\r\n    email.addFilter(\r\n\t    &quot;templates&quot;,\r\n\t    &quot;template_id&quot;,\r\n\t    &quot;1231_1212_2323_3232&quot;);\r\n\r\n    //place holders in template, dynamically fill values in template\r\n    email.addSubstitution(\r\n\t     &quot;:firstName&quot;,\r\n\t     new String[] { firstName });\r\n    email.addSubstitution(\r\n\t     &quot;:lastName&quot;,\r\n\t     new String[] { lastName });\r\n\r\n    // send your email\r\n    Response response = sendGrid.send(email);\r\n","title":"Created sendgrid email template, how to call it from Java","body":"<p>I found the solution, the way to call sendgrid template and email through sendgrid as below:</p>\n\n<pre><code>SendGrid sendGrid = new SendGrid(\"username\",\"password\"));\nSendGrid.Email email = new SendGrid.Email();\n\n//Fill the required fields of email\nemail.setTo(new String[] { \"xyz_to@gmail.com\"});\nemail.setFrom(\"xyz_from@gmail.com\");\nemail.setSubject(\" \");\nemail.setText(\" \");\nemail.setHtml(\" \");\n\n// Substitute template ID\nemail.addFilter(\n    \"templates\",\n    \"template_id\",\n    \"1231_1212_2323_3232\");\n\n//place holders in template, dynamically fill values in template\nemail.addSubstitution(\n     \":firstName\",\n     new String[] { firstName });\nemail.addSubstitution(\n     \":lastName\",\n     new String[] { lastName });\n\n// send your email\nResponse response = sendGrid.send(email);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75968,"reputation":737,"user_id":217771,"accept_rate":0,"display_name":"Zaur_M"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1530573593,"creation_date":1530573593,"answer_id":51144770,"question_id":31309215,"body_markdown":"Here is an example from last API spec:\r\n\r\n    import com.sendgrid.*;\r\n    import java.io.IOException;\r\n    \r\n    public class Example {\r\n      public static void main(String[] args) throws IOException {\r\n        Email from = new Email(&quot;test@example.com&quot;);\r\n        String subject = &quot;I&#39;m replacing the subject tag&quot;;\r\n        Email to = new Email(&quot;test@example.com&quot;);\r\n        Content content = new Content(&quot;text/html&quot;, &quot;I&#39;m replacing the &lt;strong&gt;body tag&lt;/strong&gt;&quot;);\r\n        Mail mail = new Mail(from, subject, to, content);\r\n        mail.personalization.get(0).addSubstitution(&quot;-name-&quot;, &quot;Example User&quot;);\r\n        mail.personalization.get(0).addSubstitution(&quot;-city-&quot;, &quot;Denver&quot;);\r\n        mail.setTemplateId(&quot;13b8f94f-bcae-4ec6-b752-70d6cb59f932&quot;);\r\n    \r\n        SendGrid sg = new SendGrid(System.getenv(&quot;SENDGRID_API_KEY&quot;));\r\n        Request request = new Request();\r\n        try {\r\n          request.setMethod(Method.POST);\r\n          request.setEndpoint(&quot;mail/send&quot;);\r\n          request.setBody(mail.build());\r\n          Response response = sg.api(request);\r\n          System.out.println(response.getStatusCode());\r\n          System.out.println(response.getBody());\r\n          System.out.println(response.getHeaders());\r\n        } catch (IOException ex) {\r\n          throw ex;\r\n        }\r\n      }\r\n    }\r\n\r\nhttps://github.com/sendgrid/sendgrid-java/blob/master/USE_CASES.md","title":"Created sendgrid email template, how to call it from Java","body":"<p>Here is an example from last API spec:</p>\n\n<pre><code>import com.sendgrid.*;\nimport java.io.IOException;\n\npublic class Example {\n  public static void main(String[] args) throws IOException {\n    Email from = new Email(\"test@example.com\");\n    String subject = \"I'm replacing the subject tag\";\n    Email to = new Email(\"test@example.com\");\n    Content content = new Content(\"text/html\", \"I'm replacing the &lt;strong&gt;body tag&lt;/strong&gt;\");\n    Mail mail = new Mail(from, subject, to, content);\n    mail.personalization.get(0).addSubstitution(\"-name-\", \"Example User\");\n    mail.personalization.get(0).addSubstitution(\"-city-\", \"Denver\");\n    mail.setTemplateId(\"13b8f94f-bcae-4ec6-b752-70d6cb59f932\");\n\n    SendGrid sg = new SendGrid(System.getenv(\"SENDGRID_API_KEY\"));\n    Request request = new Request();\n    try {\n      request.setMethod(Method.POST);\n      request.setEndpoint(\"mail/send\");\n      request.setBody(mail.build());\n      Response response = sg.api(request);\n      System.out.println(response.getStatusCode());\n      System.out.println(response.getBody());\n      System.out.println(response.getHeaders());\n    } catch (IOException ex) {\n      throw ex;\n    }\n  }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/sendgrid/sendgrid-java/blob/master/USE_CASES.md\" rel=\"nofollow noreferrer\">https://github.com/sendgrid/sendgrid-java/blob/master/USE_CASES.md</a></p>\n"},{"tags":[],"owner":{"account_id":14133493,"reputation":21,"user_id":10210760,"display_name":"Samay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533950914,"creation_date":1533949973,"answer_id":51795630,"question_id":31309215,"body_markdown":"This is my working soloution .\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.sendgrid.*;\r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    public class MailUtil {\r\n        public static void main(String[] args) throws IOException {\r\n            Email from = new Email();\r\n            from.setEmail(&quot;fromEmail&quot;);\r\n            from.setName(&quot;Samay&quot;);\r\n            String subject = &quot;Sending with SendGrid is Fun&quot;;\r\n            Email to = new Email();\r\n            to.setName(&quot;Sam&quot;);\r\n            to.setEmail(&quot;ToEmail&quot;);\r\n            DynamicTemplatePersonalization personalization = new DynamicTemplatePersonalization();\r\n            personalization.addTo(to);\r\n            Mail mail = new Mail();\r\n            mail.setFrom(from);\r\n            personalization.addDynamicTemplateData(&quot;name&quot;, &quot;Sam&quot;);\r\n            mail.addPersonalization(personalization);\r\n            mail.setTemplateId(&quot;TEMPLATE-ID&quot;);\r\n            SendGrid sg = new SendGrid(&quot;API-KEY&quot;);\r\n            Request request = new Request();\r\n            try {\r\n                request.setMethod(Method.POST);\r\n                request.setEndpoint(&quot;mail/send&quot;);\r\n                request.setBody(mail.build());\r\n                Response response = sg.api(request);\r\n                System.out.println(response.getStatusCode());\r\n                System.out.println(response.getBody());\r\n                System.out.println(response.getHeaders());\r\n            } catch (IOException ex) {\r\n                throw ex;\r\n            }\r\n        }\r\n        private static class DynamicTemplatePersonalization extends Personalization {\r\n\r\n            @JsonProperty(value = &quot;dynamic_template_data&quot;)\r\n            private Map&lt;String, String&gt; dynamic_template_data;\r\n\r\n            @JsonProperty(&quot;dynamic_template_data&quot;)\r\n            public Map&lt;String, String&gt; getDynamicTemplateData() {\r\n                if (dynamic_template_data == null) {\r\n                    return Collections.&lt;String, String&gt;emptyMap();\r\n                }\r\n                return dynamic_template_data;\r\n            }\r\n\r\n            public void addDynamicTemplateData(String key, String value) {\r\n                if (dynamic_template_data == null) {\r\n                    dynamic_template_data = new HashMap&lt;String, String&gt;();\r\n                    dynamic_template_data.put(key, value);\r\n                } else {\r\n                    dynamic_template_data.put(key, value);\r\n                }\r\n            }\r\n\r\n        }\r\n    } \r\n        ","title":"Created sendgrid email template, how to call it from Java","body":"<p>This is my working soloution .</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.sendgrid.*;\nimport java.io.IOException;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\npublic class MailUtil {\n    public static void main(String[] args) throws IOException {\n        Email from = new Email();\n        from.setEmail(\"fromEmail\");\n        from.setName(\"Samay\");\n        String subject = \"Sending with SendGrid is Fun\";\n        Email to = new Email();\n        to.setName(\"Sam\");\n        to.setEmail(\"ToEmail\");\n        DynamicTemplatePersonalization personalization = new DynamicTemplatePersonalization();\n        personalization.addTo(to);\n        Mail mail = new Mail();\n        mail.setFrom(from);\n        personalization.addDynamicTemplateData(\"name\", \"Sam\");\n        mail.addPersonalization(personalization);\n        mail.setTemplateId(\"TEMPLATE-ID\");\n        SendGrid sg = new SendGrid(\"API-KEY\");\n        Request request = new Request();\n        try {\n            request.setMethod(Method.POST);\n            request.setEndpoint(\"mail/send\");\n            request.setBody(mail.build());\n            Response response = sg.api(request);\n            System.out.println(response.getStatusCode());\n            System.out.println(response.getBody());\n            System.out.println(response.getHeaders());\n        } catch (IOException ex) {\n            throw ex;\n        }\n    }\n    private static class DynamicTemplatePersonalization extends Personalization {\n\n        @JsonProperty(value = \"dynamic_template_data\")\n        private Map&lt;String, String&gt; dynamic_template_data;\n\n        @JsonProperty(\"dynamic_template_data\")\n        public Map&lt;String, String&gt; getDynamicTemplateData() {\n            if (dynamic_template_data == null) {\n                return Collections.&lt;String, String&gt;emptyMap();\n            }\n            return dynamic_template_data;\n        }\n\n        public void addDynamicTemplateData(String key, String value) {\n            if (dynamic_template_data == null) {\n                dynamic_template_data = new HashMap&lt;String, String&gt;();\n                dynamic_template_data.put(key, value);\n            } else {\n                dynamic_template_data.put(key, value);\n            }\n        }\n\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543234095,"creation_date":1543234095,"answer_id":53480809,"question_id":31309215,"body_markdown":"Recently Sendgrid upgraded the Maven version v4.3.0 so you don&#39;t have to create additional classes for dynamic data content. Read more from this link https://github.com/sendgrid/sendgrid-java/pull/449","title":"Created sendgrid email template, how to call it from Java","body":"<p>Recently Sendgrid upgraded the Maven version v4.3.0 so you don't have to create additional classes for dynamic data content. Read more from this link <a href=\"https://github.com/sendgrid/sendgrid-java/pull/449\" rel=\"nofollow noreferrer\">https://github.com/sendgrid/sendgrid-java/pull/449</a></p>\n"},{"tags":[],"owner":{"account_id":5236248,"reputation":149,"user_id":4184719,"display_name":"bijayshrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623670842,"creation_date":1623670842,"answer_id":67969594,"question_id":31309215,"body_markdown":"If you&#39;re doing a `spring-boot` maven project, You&#39;ll need to add the `sendgrid-java` maven dependency in your `pom.xml`. Likewise, in your `application.properties` file under `resource` folder of the project, add `SENDGRID API KEY` AND `TEMPLATE ID` under attributes such as `spring.sendgrid.api-key=SG.xyz` and `templateId=d-cabc` respectively.\r\n\r\nHaving done the pre-setups. You can create a simple controller class as the one given below:\r\n\r\nHappy Coding!\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/sendgrid&quot;)\r\npublic class MailResource {\r\n\r\n    private final SendGrid sendGrid;\r\n\r\n    @Value(&quot;${templateId}&quot;)\r\n    private String EMAIL_TEMPLATE_ID;\r\n\r\n    public MailResource(SendGrid sendGrid) {\r\n        this.sendGrid = sendGrid;\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String sendEmailWithSendGrid(@RequestParam(&quot;msg&quot;) String message) {\r\n\r\n        Email from = new Email(&quot;bijay.shrestha@f1soft.com&quot;);\r\n        String subject = &quot;Welcome Fonesal Unit to SendGrid&quot;;\r\n        Email to = new Email(&quot;birat.bohora@f1soft.com&quot;);\r\n        Content content = new Content(&quot;text/html&quot;, message);\r\n\r\n        Mail mail = new Mail(from, subject, to, content);\r\n\r\n        mail.setReplyTo(new Email(&quot;bijay.shrestha@f1soft.com&quot;));\r\n        mail.setTemplateId(EMAIL_TEMPLATE_ID);\r\n\r\n        Request request = new Request();\r\n        Response response = null;\r\n\r\n\r\n        try {\r\n            request.setMethod(Method.POST);\r\n            request.setEndpoint(&quot;mail/send&quot;);\r\n            request.setBody(mail.build());\r\n\r\n            response = sendGrid.api(request);\r\n\r\n            System.out.println(response.getStatusCode());\r\n            System.out.println(response.getBody());\r\n            System.out.println(response.getHeaders());\r\n        } catch (IOException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n\r\n        return &quot;Email was successfully sent&quot;;\r\n    }\r\n\r\n}\r\n```","title":"Created sendgrid email template, how to call it from Java","body":"<p>If you're doing a <code>spring-boot</code> maven project, You'll need to add the <code>sendgrid-java</code> maven dependency in your <code>pom.xml</code>. Likewise, in your <code>application.properties</code> file under <code>resource</code> folder of the project, add <code>SENDGRID API KEY</code> AND <code>TEMPLATE ID</code> under attributes such as <code>spring.sendgrid.api-key=SG.xyz</code> and <code>templateId=d-cabc</code> respectively.</p>\n<p>Having done the pre-setups. You can create a simple controller class as the one given below:</p>\n<p>Happy Coding!</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/sendgrid&quot;)\npublic class MailResource {\n\n    private final SendGrid sendGrid;\n\n    @Value(&quot;${templateId}&quot;)\n    private String EMAIL_TEMPLATE_ID;\n\n    public MailResource(SendGrid sendGrid) {\n        this.sendGrid = sendGrid;\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String sendEmailWithSendGrid(@RequestParam(&quot;msg&quot;) String message) {\n\n        Email from = new Email(&quot;bijay.shrestha@f1soft.com&quot;);\n        String subject = &quot;Welcome Fonesal Unit to SendGrid&quot;;\n        Email to = new Email(&quot;birat.bohora@f1soft.com&quot;);\n        Content content = new Content(&quot;text/html&quot;, message);\n\n        Mail mail = new Mail(from, subject, to, content);\n\n        mail.setReplyTo(new Email(&quot;bijay.shrestha@f1soft.com&quot;));\n        mail.setTemplateId(EMAIL_TEMPLATE_ID);\n\n        Request request = new Request();\n        Response response = null;\n\n\n        try {\n            request.setMethod(Method.POST);\n            request.setEndpoint(&quot;mail/send&quot;);\n            request.setBody(mail.build());\n\n            response = sendGrid.api(request);\n\n            System.out.println(response.getStatusCode());\n            System.out.println(response.getBody());\n            System.out.println(response.getHeaders());\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        return &quot;Email was successfully sent&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650459875,"creation_date":1650459875,"answer_id":71940217,"question_id":31309215,"body_markdown":"This is based on verision `com.sendgrid:sendgrid-java:4.8.3`\r\n\r\n```\r\n        Email from = new Email(fromEmail);\r\n        Email to = new Email(toEmail);\r\n        String subject = &quot;subject&quot;;\r\n\r\n        Content content = new Content(TEXT_HTML, &quot;dummy value&quot;);\r\n\r\n        Mail mail = new Mail(from, subject, to, content);\r\n\r\n        // Using template to send Email, so subject and content will be ignored\r\n        mail.setTemplateId(request.getTemplateId());\r\n\r\n        SendGrid sendGrid = new SendGrid(SEND_GRID_API_KEY);\r\n        Request sendRequest = new Request();\r\n\r\n        sendRequest.setMethod(Method.POST);\r\n        sendRequest.setEndpoint(&quot;mail/send&quot;);\r\n        sendRequest.setBody(mail.build());\r\n\r\n        Response response = sendGrid.api(sendRequest);\r\n\r\n```\r\nYou can also find fully example here:\r\n[Full Email object Java example][1]\r\n\r\n\r\n  [1]: https://github.com/sendgrid/sendgrid-java/blob/main/examples/helpers/mail/Example.java","title":"Created sendgrid email template, how to call it from Java","body":"<p>This is based on verision <code>com.sendgrid:sendgrid-java:4.8.3</code></p>\n<pre><code>        Email from = new Email(fromEmail);\n        Email to = new Email(toEmail);\n        String subject = &quot;subject&quot;;\n\n        Content content = new Content(TEXT_HTML, &quot;dummy value&quot;);\n\n        Mail mail = new Mail(from, subject, to, content);\n\n        // Using template to send Email, so subject and content will be ignored\n        mail.setTemplateId(request.getTemplateId());\n\n        SendGrid sendGrid = new SendGrid(SEND_GRID_API_KEY);\n        Request sendRequest = new Request();\n\n        sendRequest.setMethod(Method.POST);\n        sendRequest.setEndpoint(&quot;mail/send&quot;);\n        sendRequest.setBody(mail.build());\n\n        Response response = sendGrid.api(sendRequest);\n\n</code></pre>\n<p>You can also find fully example here:\n<a href=\"https://github.com/sendgrid/sendgrid-java/blob/main/examples/helpers/mail/Example.java\" rel=\"nofollow noreferrer\">Full Email object Java example</a></p>\n"}],"owner":{"account_id":5832174,"reputation":155,"user_id":4596318,"accept_rate":50,"display_name":"pjason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10348,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1686251831,"creation_date":1436421194,"question_id":31309215,"body_markdown":"I have created email template in sendgrid - with substitutable values; \r\n\r\nI get the JSON payload (contains substitute values) for processing email from rabbitMQ queue.  My question is how to call the sendgrid email template from Java?","title":"Created sendgrid email template, how to call it from Java","body":"<p>I have created email template in sendgrid - with substitutable values; </p>\n\n<p>I get the JSON payload (contains substitute values) for processing email from rabbitMQ queue.  My question is how to call the sendgrid email template from Java?</p>\n"},{"tags":["java","spring","hibernate","kotlin","jpql"],"owner":{"account_id":28262730,"reputation":1,"user_id":21662737,"display_name":"gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686249329,"creation_date":1686247758,"question_id":76434612,"body_markdown":"I use JPQL in some of Repository method in Java and Kotlin apps and can join multiple tables without any problem. \r\n\r\nHowever, I needed to create a JPQL query for a bridge table that is automatically created by Hibernate and for this reason there is no entity class for this auto-generated bridge entity. \r\n\r\nHere is related JPQL clause that I try to create. As there is no RolePermission entity, I cannot use it in my query:\r\n\r\n```\r\n@Query(\r\n    &quot;&quot;&quot;\r\n        SELECT p.id, p.name FROM Permission p\r\n        LEFT JOIN RolePermission rp on p.id = rp.permissionId\r\n        LEFT JOIN Role r on rp.roleId = r.id\r\n    &quot;&quot;&quot;\r\n)\r\nfun GetAllPermissions(): List&lt;Permission&gt;\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\nHere are related entity classes:\r\n\r\n```\r\n@Table(name = &quot;role&quot;)\r\ndata class Role(\r\n\r\n    val name: String,\r\n\r\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE])\r\n    @JoinTable(\r\n        name = &quot;role_permission&quot;,\r\n        joinColumns = [JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)],\r\n        inverseJoinColumns = [JoinColumn(name = &quot;permission_id&quot;, referencedColumnName = &quot;id&quot;)]\r\n    )\r\n    val permissions: MutableSet&lt;Permission&gt; = mutableSetOf()\r\n\r\n) : AbstractAuditing()\r\n```\r\n\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;permission&quot;)\r\ndata class Permission(\r\n\r\n    val name: String\r\n\r\n) : AbstractAuditing()\r\n```\r\n\r\nSo, how can I create JPQL clause without changing entity classes and using native Query? Is it possible using JPQL?\r\n\r\n\r\nI thought using something like `Role.permissions`, but still cannot acess bridge table fields :( \r\n","title":"Cannot create JPQL query for bridge table in Hibernate","body":"<p>I use JPQL in some of Repository method in Java and Kotlin apps and can join multiple tables without any problem.</p>\n<p>However, I needed to create a JPQL query for a bridge table that is automatically created by Hibernate and for this reason there is no entity class for this auto-generated bridge entity.</p>\n<p>Here is related JPQL clause that I try to create. As there is no RolePermission entity, I cannot use it in my query:</p>\n<pre><code>@Query(\n    &quot;&quot;&quot;\n        SELECT p.id, p.name FROM Permission p\n        LEFT JOIN RolePermission rp on p.id = rp.permissionId\n        LEFT JOIN Role r on rp.roleId = r.id\n    &quot;&quot;&quot;\n)\nfun GetAllPermissions(): List&lt;Permission&gt;\n</code></pre>\n<br/>\n<p>Here are related entity classes:</p>\n<pre><code>@Table(name = &quot;role&quot;)\ndata class Role(\n\n    val name: String,\n\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE])\n    @JoinTable(\n        name = &quot;role_permission&quot;,\n        joinColumns = [JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)],\n        inverseJoinColumns = [JoinColumn(name = &quot;permission_id&quot;, referencedColumnName = &quot;id&quot;)]\n    )\n    val permissions: MutableSet&lt;Permission&gt; = mutableSetOf()\n\n) : AbstractAuditing()\n</code></pre>\n<br/>\n<pre><code>@Entity\n@Table(name = &quot;permission&quot;)\ndata class Permission(\n\n    val name: String\n\n) : AbstractAuditing()\n</code></pre>\n<p>So, how can I create JPQL clause without changing entity classes and using native Query? Is it possible using JPQL?</p>\n<p>I thought using something like <code>Role.permissions</code>, but still cannot acess bridge table fields :(</p>\n"},{"tags":["java","tomcat","netbeans"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686185527,"post_id":76427483,"comment_id":134765981,"body_markdown":"Same thing. Your project is setting the `-Xbootclasspath` option somehow. It was removed in Java 10 and you use Java 11. You need to find how it is configured in your project or Netbeans options.","body":"Same thing. Your project is setting the <code>-Xbootclasspath</code> option somehow. It was removed in Java 10 and you use Java 11. You need to find how it is configured in your project or Netbeans options."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1686185641,"post_id":76427483,"comment_id":134765990,"body_markdown":"[This question comes up here regularly](https://stackoverflow.com/search?q=%22option+-Xbootclasspath%2Fp%3A+not+allowed+with+target%22+is%3AQuestion). Please review all of the existing answers, and update your question if none of them are applicable for you.","body":"<a href=\"https://stackoverflow.com/search?q=%22option+-Xbootclasspath%2Fp%3A+not+allowed+with+target%22+is%3AQuestion\">This question comes up here regularly</a>. Please review all of the existing answers, and update your question if none of them are applicable for you."},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1686249206,"post_id":76427483,"comment_id":134776857,"body_markdown":"Thank you skomisa, I managed to find a solution in one of the answers you posted within the link above.","body":"Thank you skomisa, I managed to find a solution in one of the answers you posted within the link above."}],"answers":[{"tags":[],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686249153,"creation_date":1686249153,"answer_id":76434764,"question_id":76427483,"body_markdown":"I fixed this issue by putting:\r\n\r\n`&lt;property name=&quot;endorsed.classpath.cmd.line.arg&quot; value=&quot;--patch-module  java.base=&#39;${toString:endorsed.classpath.path}&#39;&quot;/&gt;`\r\n\r\nin the projects &#39;build.xml&#39; file just above the ending project tag.\r\n\r\nThis workaround was provided here at the following link:\r\n\r\nhttps://issues.apache.org/jira/browse/NETBEANS-2452\r\n","title":"Error when attempting to Clean and Build Java project","body":"<p>I fixed this issue by putting:</p>\n<p><code>&lt;property name=&quot;endorsed.classpath.cmd.line.arg&quot; value=&quot;--patch-module  java.base='${toString:endorsed.classpath.path}'&quot;/&gt;</code></p>\n<p>in the projects 'build.xml' file just above the ending project tag.</p>\n<p>This workaround was provided here at the following link:</p>\n<p><a href=\"https://issues.apache.org/jira/browse/NETBEANS-2452\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/NETBEANS-2452</a></p>\n"}],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686249153,"creation_date":1686177037,"question_id":76427483,"body_markdown":"I recently upgraded a Java web application to use Java 11 and Tomcat 10. My IDE is Netbeans 16.\r\n\r\nHowever when I attempt to Clean and Build the project within Netbeans, I get the following error:\r\n\r\n`error: option -Xbootclasspath/p: not allowed with target 11`\r\n\r\nThe solution at the following link kind of alludes to a similar problem however Im confused by the answer given. In fact, im not even sure if its related to my problem (Im not sure how to add sourcepath commands in Netbeans):\r\n\r\n https://stackoverflow.com/questions/53106749/javadoc-error-option-boot-class-path-not-allowed-with-target-11","title":"Error when attempting to Clean and Build Java project","body":"<p>I recently upgraded a Java web application to use Java 11 and Tomcat 10. My IDE is Netbeans 16.</p>\n<p>However when I attempt to Clean and Build the project within Netbeans, I get the following error:</p>\n<p><code>error: option -Xbootclasspath/p: not allowed with target 11</code></p>\n<p>The solution at the following link kind of alludes to a similar problem however Im confused by the answer given. In fact, im not even sure if its related to my problem (Im not sure how to add sourcepath commands in Netbeans):</p>\n<p><a href=\"https://stackoverflow.com/questions/53106749/javadoc-error-option-boot-class-path-not-allowed-with-target-11\">Javadoc error: &quot;option --boot-class-path not allowed with target 11&quot;</a></p>\n"},{"tags":["java","scala","playframework","akka"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1686157931,"post_id":76422254,"comment_id":134761968,"body_markdown":"Not that I&#39;m aware of. Never sees anything like that even though I work with Play apps daily.","body":"Not that I&#39;m aware of. Never sees anything like that even though I work with Play apps daily."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1686158063,"post_id":76422254,"comment_id":134761998,"body_markdown":"Is there any network proxy between the two apps? Load balancer? What do the access logs of service B say in terms of timing, headers..? Did you use something like Wireshark to confirm the call comes from service A?","body":"Is there any network proxy between the two apps? Load balancer? What do the access logs of service B say in terms of timing, headers..? Did you use something like Wireshark to confirm the call comes from service A?"},{"owner":{"account_id":15805132,"reputation":331,"user_id":11403850,"display_name":"Zixel"},"score":0,"creation_date":1686172784,"post_id":76422254,"comment_id":134764654,"body_markdown":"This happens on company environment so I&#39;m not able to use wireshark. All I know this apps working on same mesos + marathon environments, I&#39;m not really familiar with this technologies, all I can say for sure there is only one instance of each app running. Both requests received by app B is identical, I logged it and it has absolutely the same data (body, headers, host, remoteHost etc)","body":"This happens on company environment so I&#39;m not able to use wireshark. All I know this apps working on same mesos + marathon environments, I&#39;m not really familiar with this technologies, all I can say for sure there is only one instance of each app running. Both requests received by app B is identical, I logged it and it has absolutely the same data (body, headers, host, remoteHost etc)"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1686199493,"post_id":76422254,"comment_id":134767082,"body_markdown":"Can you share the code of serviceBClient?","body":"Can you share the code of serviceBClient?"}],"answers":[{"tags":[],"owner":{"account_id":13977947,"reputation":21,"user_id":10094888,"display_name":"CJC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686249129,"creation_date":1686249129,"answer_id":76434760,"question_id":76422254,"body_markdown":"Sorry, I would comment, but I don&#39;t have the points on StackOverflow yet to do so. \r\n\r\nI&#39;m not sure if this is applicable, and I definitely see this being a bit of a hassle, but have you thought creating a JobScheduler system? The call to AppA will add register a new async function to AppB as a new job with a pending status, and return the jobId. The async function will call AppB but also associate the response to the jobId, update the job status. Then have a new polling endpoint to AppA with the jobId.\r\n\r\nJust a thought. Cheers. ","title":"Is there any background Http request retry mechanism in Scala Play Framework?","body":"<p>Sorry, I would comment, but I don't have the points on StackOverflow yet to do so.</p>\n<p>I'm not sure if this is applicable, and I definitely see this being a bit of a hassle, but have you thought creating a JobScheduler system? The call to AppA will add register a new async function to AppB as a new job with a pending status, and return the jobId. The async function will call AppB but also associate the response to the jobId, update the job status. Then have a new polling endpoint to AppA with the jobId.</p>\n<p>Just a thought. Cheers.</p>\n"}],"owner":{"account_id":15805132,"reputation":331,"user_id":11403850,"display_name":"Zixel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686249129,"creation_date":1686133180,"question_id":76422254,"body_markdown":"I have 2 Scala + Play Framework applications that communicate with HTTP requests.\r\n\r\n**Issue scenario:**\r\n\r\nOne app lets say A is getting request from outside (for example Postman) and everything it&#39;s doing just redirecting request to app B. Code of controller:\r\n\r\n    SecuredAction.async(parse.json[JsObject]) { implicit request =&gt;\r\n      implicit val user: User = request.identity\r\n     \r\n      withMetrics {\r\n        appBclient.doCalculations(request.body, &lt;some query params&gt;)\r\n      } toResult\r\n    }\r\n\r\nFor one who wondering what is withMetrics:\r\n\r\n      protected def withMetrics(res: =&gt; Future[JsObject]): Future[JsObject] = {\r\n       val timer = txScoreTimer.start()\r\n       res.transform(\r\n         { json =&gt; json ++ Json.obj(&quot;_api&quot; -&gt; Json.obj( &quot;processingTimeSeconds&quot; -&gt; \r\n           timer.observe)) },\r\n         { e: Throwable =&gt;\r\n           val tookSeconds = timer.observe\r\n           e match {\r\n          case g: GeneralException =&gt; g.copy(processingTimeSeconds = Some(tookSeconds))\r\n          case _ =&gt; e\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\nApp B calculate something really long time so app A gets timeout exception after 120 sec:\r\n\r\n    java.util.concurrent.TimeoutException: Request timeout to host after 120000 ms\r\n\tat play.shaded.ahc.org.asynchttpclient.netty.timeout.TimeoutTimerTask.expire(TimeoutTimerTask.java:43)\r\n\tat play.shaded.ahc.org.asynchttpclient.netty.timeout.RequestTimeoutTimerTask.run(RequestTimeoutTimerTask.java:48)\r\n\tat play.shaded.ahc.io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:663)\r\n\tat play.shaded.ahc.io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:738)\r\n\tat play.shaded.ahc.io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:466)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\r\nAfter that app B receive this exact request again after some time after failing, but there is no logic for retries in my code as I can see. \r\n\r\nSo my question is there anything that could cause this issue, maybe some env variable for application or Play Framework, I really confused with this one. ","title":"Is there any background Http request retry mechanism in Scala Play Framework?","body":"<p>I have 2 Scala + Play Framework applications that communicate with HTTP requests.</p>\n<p><strong>Issue scenario:</strong></p>\n<p>One app lets say A is getting request from outside (for example Postman) and everything it's doing just redirecting request to app B. Code of controller:</p>\n<pre><code>SecuredAction.async(parse.json[JsObject]) { implicit request =&gt;\n  implicit val user: User = request.identity\n \n  withMetrics {\n    appBclient.doCalculations(request.body, &lt;some query params&gt;)\n  } toResult\n}\n</code></pre>\n<p>For one who wondering what is withMetrics:</p>\n<pre><code>  protected def withMetrics(res: =&gt; Future[JsObject]): Future[JsObject] = {\n   val timer = txScoreTimer.start()\n   res.transform(\n     { json =&gt; json ++ Json.obj(&quot;_api&quot; -&gt; Json.obj( &quot;processingTimeSeconds&quot; -&gt; \n       timer.observe)) },\n     { e: Throwable =&gt;\n       val tookSeconds = timer.observe\n       e match {\n      case g: GeneralException =&gt; g.copy(processingTimeSeconds = Some(tookSeconds))\n      case _ =&gt; e\n    }\n  }\n)\n</code></pre>\n<p>}</p>\n<p>App B calculate something really long time so app A gets timeout exception after 120 sec:</p>\n<pre><code>java.util.concurrent.TimeoutException: Request timeout to host after 120000 ms\nat play.shaded.ahc.org.asynchttpclient.netty.timeout.TimeoutTimerTask.expire(TimeoutTimerTask.java:43)\nat play.shaded.ahc.org.asynchttpclient.netty.timeout.RequestTimeoutTimerTask.run(RequestTimeoutTimerTask.java:48)\nat play.shaded.ahc.io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:663)\nat play.shaded.ahc.io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:738)\nat play.shaded.ahc.io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:466)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>After that app B receive this exact request again after some time after failing, but there is no logic for retries in my code as I can see.</p>\n<p>So my question is there anything that could cause this issue, maybe some env variable for application or Play Framework, I really confused with this one.</p>\n"},{"tags":["java","arrays","matrix","multidimensional-array","binary-search"],"comments":[{"owner":{"account_id":3586336,"reputation":1346,"user_id":2993440,"accept_rate":69,"display_name":"shawn1874"},"score":0,"creation_date":1653583366,"post_id":72382086,"comment_id":127891931,"body_markdown":"What do you mean that it works on eclipse editor, but shows run-time error  when you submit?  What debugging have you done to identify the issue?  It looks as if you have an issue with using an out of bounds array index somewhere which implies a logic error in your program.  Please do some debugging, write the results, and ask a more specific question.","body":"What do you mean that it works on eclipse editor, but shows run-time error  when you submit?  What debugging have you done to identify the issue?  It looks as if you have an issue with using an out of bounds array index somewhere which implies a logic error in your program.  Please do some debugging, write the results, and ask a more specific question."},{"owner":{"account_id":3586336,"reputation":1346,"user_id":2993440,"accept_rate":69,"display_name":"shawn1874"},"score":0,"creation_date":1653583609,"post_id":72382086,"comment_id":127892019,"body_markdown":"Code is neat which is appreciated. However this seems to be overly complicated.  if it were me, I&#39;d simply execute a binary search on each row of the matrix. You could short circuit out of the search if the first number in each row is larger than the target.  Not sure I understand the value of the floor method.","body":"Code is neat which is appreciated. However this seems to be overly complicated.  if it were me, I&#39;d simply execute a binary search on each row of the matrix. You could short circuit out of the search if the first number in each row is larger than the target.  Not sure I understand the value of the floor method."}],"answers":[{"tags":[],"owner":{"account_id":15915019,"reputation":76,"user_id":11483872,"display_name":"Jason Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686249043,"creation_date":1686249043,"answer_id":76434754,"question_id":72382086,"body_markdown":"Your `floor` function doesn&#39;t directly distinguish between whether a valid row has been found or not.\r\n\r\nOnce your `while` loop `while (start &lt;= end)` terminates because it couldn&#39;t find a valid row, you return `end`, which you don&#39;t check as &quot;invalid&quot;.\r\n\r\nThe test case that fails this is the input 1x1 matrix `[[1]]` and the target value is `0`. Your code works in the case of being able to find the target row (&quot;floor&quot;) and not the target value within said &quot;floor&quot;, but here you don&#39;t do any bounds checking upon lack of a &quot;floor&quot; in the first place because there doesn&#39;t exist a &quot;greatest row whose first value is lesser than or equal to the target value&quot; in `[[1]]`.\r\n\r\nI managed to get this solution to pass on submit by adding `if (floorIndex &lt; 0) return false;` though here is the actual diff that changes your local code:\r\n\r\n```diff\r\n1,18c1,2\r\n&lt; package kunal;\r\n&lt;\r\n&lt; import java.util.Arrays;\r\n&lt;\r\n&lt; public class SortedMatrix {\r\n&lt;     public static void main(String[] args) {\r\n&lt;         int[][] matrix = {\r\n&lt;                 {20, 30, 40, 45},\r\n&lt;                 {50, 55, 60, 65, 66, 67},\r\n&lt;                 {70, 71, 72, 73},\r\n&lt;                 {74, 75, 78, 80}\r\n&lt;\r\n&lt;         };\r\n&lt;         int target = 67;\r\n&lt;         System.out.println(Arrays.toString(search(matrix, target)));\r\n&lt;     }\r\n&lt;\r\n&lt;     static int[] search(int[][] matrix, int target) {\r\n---\r\n&gt; class Solution {\r\n&gt;         static boolean search(int[][] matrix, int target) {\r\n20a5,7\r\n&gt;\r\n&gt;         if (floorIndex &lt; 0) return false;\r\n&gt;\r\n23,24c10,11\r\n&lt;         if(binarySearch != -1) {\r\n&lt;             return new int[] {floorIndex, binarySearch};\r\n---\r\n&gt;         if(binarySearch != -1) {\r\n&gt;             return true;\r\n26,27c13\r\n&lt;\r\n&lt;         return new int[] {-1, -1};\r\n---\r\n&gt;         return false;\r\n34c20\r\n&lt;\r\n---\r\n&gt;\r\n71a58,60\r\n&gt;     }\r\n&gt;     public boolean searchMatrix(int[][] matrix, int target) {\r\n&gt;         return search(matrix, target);\r\n```\r\n\r\nAlternatively, what I typically do in these kinds of 2D questions is reduce the problem to a 1D state-space. Your solution performs binary search twice and uses two different predicates. You could in theory just genericize your binary search like how the `bisect` module works in Python, but you can also just make a mapping between a 1D and 2D array:\r\n\r\n```py\r\nclass Solution(object):\r\n    def searchMatrix(self, matrix, target):\r\n        \r\n        rows = len(matrix)\r\n        cols = len(matrix[0])\r\n\r\n        def search(l, r):\r\n            \r\n            if l &gt; r:\r\n                return False\r\n\r\n            mid = l + (r - l) // 2\r\n            x, y = divmod(mid, cols)\r\n\r\n            mid_val = matrix[x][y]\r\n\r\n            if mid_val == target:\r\n                return True\r\n            \r\n            if mid_val &gt; target:\r\n                return search(l, mid - 1)\r\n            \r\n            return search(mid + 1, r)\r\n        \r\n        return search(0, rows * cols - 1)\r\n```","title":"Search an element in sorted 2d matrix","body":"<p>Your <code>floor</code> function doesn't directly distinguish between whether a valid row has been found or not.</p>\n<p>Once your <code>while</code> loop <code>while (start &lt;= end)</code> terminates because it couldn't find a valid row, you return <code>end</code>, which you don't check as &quot;invalid&quot;.</p>\n<p>The test case that fails this is the input 1x1 matrix <code>[[1]]</code> and the target value is <code>0</code>. Your code works in the case of being able to find the target row (&quot;floor&quot;) and not the target value within said &quot;floor&quot;, but here you don't do any bounds checking upon lack of a &quot;floor&quot; in the first place because there doesn't exist a &quot;greatest row whose first value is lesser than or equal to the target value&quot; in <code>[[1]]</code>.</p>\n<p>I managed to get this solution to pass on submit by adding <code>if (floorIndex &lt; 0) return false;</code> though here is the actual diff that changes your local code:</p>\n<pre><code>1,18c1,2\n&lt; package kunal;\n&lt;\n&lt; import java.util.Arrays;\n&lt;\n&lt; public class SortedMatrix {\n&lt;     public static void main(String[] args) {\n&lt;         int[][] matrix = {\n&lt;                 {20, 30, 40, 45},\n&lt;                 {50, 55, 60, 65, 66, 67},\n&lt;                 {70, 71, 72, 73},\n&lt;                 {74, 75, 78, 80}\n&lt;\n&lt;         };\n&lt;         int target = 67;\n&lt;         System.out.println(Arrays.toString(search(matrix, target)));\n&lt;     }\n&lt;\n&lt;     static int[] search(int[][] matrix, int target) {\n---\n&gt; class Solution {\n&gt;         static boolean search(int[][] matrix, int target) {\n20a5,7\n&gt;\n&gt;         if (floorIndex &lt; 0) return false;\n&gt;\n23,24c10,11\n&lt;         if(binarySearch != -1) {\n&lt;             return new int[] {floorIndex, binarySearch};\n---\n&gt;         if(binarySearch != -1) {\n&gt;             return true;\n26,27c13\n&lt;\n&lt;         return new int[] {-1, -1};\n---\n&gt;         return false;\n34c20\n&lt;\n---\n&gt;\n71a58,60\n&gt;     }\n&gt;     public boolean searchMatrix(int[][] matrix, int target) {\n&gt;         return search(matrix, target);\n</code></pre>\n<p>Alternatively, what I typically do in these kinds of 2D questions is reduce the problem to a 1D state-space. Your solution performs binary search twice and uses two different predicates. You could in theory just genericize your binary search like how the <code>bisect</code> module works in Python, but you can also just make a mapping between a 1D and 2D array:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class Solution(object):\n    def searchMatrix(self, matrix, target):\n        \n        rows = len(matrix)\n        cols = len(matrix[0])\n\n        def search(l, r):\n            \n            if l &gt; r:\n                return False\n\n            mid = l + (r - l) // 2\n            x, y = divmod(mid, cols)\n\n            mid_val = matrix[x][y]\n\n            if mid_val == target:\n                return True\n            \n            if mid_val &gt; target:\n                return search(l, mid - 1)\n            \n            return search(mid + 1, r)\n        \n        return search(0, rows * cols - 1)\n</code></pre>\n"}],"owner":{"account_id":22274521,"reputation":11,"user_id":16503925,"display_name":"Himanshu Relhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686249043,"creation_date":1653500397,"question_id":72382086,"body_markdown":"    package kunal;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class SortedMatrix {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[][] matrix = {\r\n    \t\t\t\t{20, 30, 40, 45},\r\n    \t\t\t\t{50, 55, 60, 65, 66, 67},\r\n    \t\t\t\t{70, 71, 72, 73},\r\n    \t\t\t\t{74, 75, 78, 80}\r\n    \t\t\t\t\r\n    \t\t};\r\n    \t\tint target = 67;\r\n    \t\tSystem.out.println(Arrays.toString(search(matrix, target)));\r\n    \t}\r\n    \t\r\n    \tstatic int[] search(int[][] matrix, int target) {\r\n    //\t\treturn the index of floor number\r\n    \t\tint floorIndex = floor(matrix, target);\r\n    \t\tint binarySearch = binarySearch(matrix, target, floorIndex);\r\n    \t\t\r\n    \t\tif(binarySearch != -1) {                             \r\n    \t\t\treturn new int[] {floorIndex, binarySearch};\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new int[] {-1, -1};\r\n    \t}\r\n    \t\r\n    \tstatic int floor(int[][] matrix, int target) {\r\n    \t\tint start = 0;\r\n    \t\tint end = matrix.length - 1;\r\n    \t\tint colFix = 0;\r\n    \t\t   \r\n    \t\twhile(start &lt;= end) {\r\n    \t\t\tint mid = start + (end - start)/2;\r\n    \t\t\t\r\n    \t\t\tif(target == matrix[mid][colFix]) {\r\n    \t\t\t\treturn mid; \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(target &gt; matrix[mid][colFix]) {\r\n    \t\t\t\tstart = mid + 1;\r\n    \t\t\t}else {\r\n    \t\t\t\tend = mid - 1;\r\n    \t\t\t}\r\n    \t\r\n    \t\t}\r\n    \t\treturn end;\r\n    \t}\r\n    \t\r\n    \tstatic int binarySearch(int[][] matrix, int target, int floorIndex) {\r\n    \t\tint start = 0;\r\n    \t\tint end = matrix[floorIndex].length - 1;\r\n    \t\tint rowFix = floorIndex;\r\n    \t\t\r\n    \t\twhile(start &lt;= end) {\r\n    \t\t\tint mid = start + (end - start)/2;\r\n    \t\t\t\r\n    \t\t\tif(target == matrix[rowFix][mid]) {\r\n    \t\t\t\treturn mid; \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(target &gt; matrix[rowFix][mid]) {\r\n    \t\t\t\tstart = mid + 1;\r\n    \t\t\t}else {\r\n    \t\t\t\tend = mid - 1;\r\n    \t\t\t}\r\n    \t\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    }\r\n\r\nIn this code first I find the floor(largest number smaller than or equal to the traget) in the first column. after that applying the binary search in the row where i found floor.\r\n\r\nthis code works on eclispe editor. And successfully run on leetcode too but when i try to submit it shows runtime error. &quot;index -1 out of bond for length 1&quot;. please correct the code\r\n","title":"Search an element in sorted 2d matrix","body":"<pre><code>package kunal;\n\nimport java.util.Arrays;\n\npublic class SortedMatrix {\n    public static void main(String[] args) {\n        int[][] matrix = {\n                {20, 30, 40, 45},\n                {50, 55, 60, 65, 66, 67},\n                {70, 71, 72, 73},\n                {74, 75, 78, 80}\n                \n        };\n        int target = 67;\n        System.out.println(Arrays.toString(search(matrix, target)));\n    }\n    \n    static int[] search(int[][] matrix, int target) {\n//      return the index of floor number\n        int floorIndex = floor(matrix, target);\n        int binarySearch = binarySearch(matrix, target, floorIndex);\n        \n        if(binarySearch != -1) {                             \n            return new int[] {floorIndex, binarySearch};\n        }\n        \n        return new int[] {-1, -1};\n    }\n    \n    static int floor(int[][] matrix, int target) {\n        int start = 0;\n        int end = matrix.length - 1;\n        int colFix = 0;\n           \n        while(start &lt;= end) {\n            int mid = start + (end - start)/2;\n            \n            if(target == matrix[mid][colFix]) {\n                return mid; \n            }\n            \n            if(target &gt; matrix[mid][colFix]) {\n                start = mid + 1;\n            }else {\n                end = mid - 1;\n            }\n    \n        }\n        return end;\n    }\n    \n    static int binarySearch(int[][] matrix, int target, int floorIndex) {\n        int start = 0;\n        int end = matrix[floorIndex].length - 1;\n        int rowFix = floorIndex;\n        \n        while(start &lt;= end) {\n            int mid = start + (end - start)/2;\n            \n            if(target == matrix[rowFix][mid]) {\n                return mid; \n            }\n            \n            if(target &gt; matrix[rowFix][mid]) {\n                start = mid + 1;\n            }else {\n                end = mid - 1;\n            }\n    \n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>In this code first I find the floor(largest number smaller than or equal to the traget) in the first column. after that applying the binary search in the row where i found floor.</p>\n<p>this code works on eclispe editor. And successfully run on leetcode too but when i try to submit it shows runtime error. &quot;index -1 out of bond for length 1&quot;. please correct the code</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686249032,"creation_date":1686249032,"answer_id":76434751,"question_id":76425861,"body_markdown":"I downloaded ehcache-2.10.9.2.jar.  Turns out, there is a directory called rest-management-private-classpath.  This is where com.fasterxml.jackson.databind is.\r\n\r\nSearching for rest-management-private-classpath, I came to this page which helped fix the problem.\r\n\r\nhttps://stackoverflow.com/questions/71931103/ehcache-2-maven-dependency\r\n\r\nAnswer at the bottom of the page.","title":"AquaSec vulnerabilities - cannot exclude library in pom.xml","body":"<p>I downloaded ehcache-2.10.9.2.jar.  Turns out, there is a directory called rest-management-private-classpath.  This is where com.fasterxml.jackson.databind is.</p>\n<p>Searching for rest-management-private-classpath, I came to this page which helped fix the problem.</p>\n<p><a href=\"https://stackoverflow.com/questions/71931103/ehcache-2-maven-dependency\">Ehcache 2 maven dependency</a></p>\n<p>Answer at the bottom of the page.</p>\n"}],"owner":{"account_id":18270560,"reputation":139,"user_id":13301415,"display_name":"escee999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686249032,"creation_date":1686160017,"question_id":76425861,"body_markdown":"I&#39;m getting the following AquaSec report \r\n\r\nResource: jackson-databind\r\nResource: Path: /opt/tomcat/default/webapps/myApp.war:WEB-INF/lib/ehcache-2.10.9.2.jar\r\n\r\nVersion: 2.11.1\r\nFix Version: 2.12.6.1\r\n\r\nSo, there seems like the issue is with jackson-databind version 2.11.1 that came from ehcache-2.10.9.2.jar\r\n\r\nHowever, when I run mvn dependency:tree, I am unable to find jackson-databind 2.11.1.\r\n\r\nI do have jackson-databind 2.12.7.1 loaded (see below dependency tree)\r\n\r\n\r\n    [INFO] +- net.sf.ehcache:ehcache:jar:2.10.9.2:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.7.1:compile\r\n\r\n\r\nI tried excluding jackson-databind from ehcache but no luck (see below)\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.9.2&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n\t\t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n\r\n","title":"AquaSec vulnerabilities - cannot exclude library in pom.xml","body":"<p>I'm getting the following AquaSec report</p>\n<p>Resource: jackson-databind\nResource: Path: /opt/tomcat/default/webapps/myApp.war:WEB-INF/lib/ehcache-2.10.9.2.jar</p>\n<p>Version: 2.11.1\nFix Version: 2.12.6.1</p>\n<p>So, there seems like the issue is with jackson-databind version 2.11.1 that came from ehcache-2.10.9.2.jar</p>\n<p>However, when I run mvn dependency:tree, I am unable to find jackson-databind 2.11.1.</p>\n<p>I do have jackson-databind 2.12.7.1 loaded (see below dependency tree)</p>\n<pre><code>[INFO] +- net.sf.ehcache:ehcache:jar:2.10.9.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.7.1:compile\n</code></pre>\n<p>I tried excluding jackson-databind from ehcache but no luck (see below)</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;version&gt;2.10.9.2&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","arrays","variables","arraylist","enums"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1686245561,"post_id":76434340,"comment_id":134776152,"body_markdown":"A Set, probably, because ordering and multiplicity of genres likely doesn&#39;t matter.","body":"A Set, probably, because ordering and multiplicity of genres likely doesn&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686248851,"creation_date":1686248851,"answer_id":76434721,"question_id":76434340,"body_markdown":"Television genres are also classified with a _format_, which subsequently includes a _type_.  \r\n_[Wikipedia &amp;ndash; List of television formats and genres](https://en.wikipedia.org/wiki/List_of_television_formats_and_genres)_.\r\n\r\nIf these are of importance, you can utilize a class structure, which can reference _enum_ values.\r\n\r\nHere is an example using the values provided by Wikipedia.  \r\nBasic usage would be as follows.\r\n\r\n```java\r\nGenre genre = new Genre(new Format(Formats.SHOW), Genres.COOKING_SHOW);\r\n```\r\n\r\n```java\r\nclass Genre {\r\n    Format format;\r\n    Genres genre;\r\n\r\n    public Genre(Format format, Genres genre) {\r\n        this.format = format;\r\n        this.genre = genre;\r\n    }\r\n}\r\n\r\nclass Format {\r\n    Formats format;\r\n    Types type;\r\n\r\n    public Format(Formats format, Types type) {\r\n        this.format = format;\r\n        this.type = type;\r\n    }\r\n\r\n    public Format(Formats format) {\r\n        this.format = format;\r\n    }\r\n}\r\n\r\nenum Formats {\r\n    CLIP,\r\n    DOCUFICTION,\r\n    DOCUMENTARY,\r\n    SINGLE_EPISODE,\r\n    MADE_FOR_TV_FILM,\r\n    FRANCHISE,\r\n    MINISERIES,\r\n    MICRO_SERIES,\r\n    MOCKUMENTARY,\r\n    PILOT,\r\n    PREQUEL,\r\n    REBOOT,\r\n    REMAKE,\r\n    SEGMENT,\r\n    SEQUEL,\r\n    SERIAL,\r\n    SERIES,\r\n    SHORT,\r\n    SHOW,\r\n    SPECIAL,\r\n    SPIN_OFF,\r\n    PILOT_EPISODE\r\n}\r\n\r\nenum Types {\r\n    ANIMATED,\r\n    ANIME,\r\n    COMPUTER_ANIMATION,\r\n    STOP_MOTION,\r\n    TRADITIONAL_ANIMATION,\r\n    LIVE_ACTION,\r\n    MODELS,\r\n    PUPPETRY\r\n}\r\n\r\nenum Genres {\r\n    ACTION_SERIES,\r\n    ADVENTURE_SERIES,\r\n    ANIMATED_SERIES,\r\n    CARTOON_SERIES,\r\n    ANTHOLOGY_SERIES,\r\n    ART,\r\n    CHILDRENS_SERIES,\r\n    COOKING_SHOW,\r\n    DAYTIME_TELEVISION,\r\n    DRAMATIC_PROGRAMMING,\r\n    DOCUMENTARY,\r\n    DOCUDRAMA,\r\n    DRAMALITY,\r\n    MEDICAL_DRAMA,\r\n    MOCKUMENTARY,\r\n    EDUCATIONAL,\r\n    FACTUAL_TELEVISION,\r\n    INSTRUCTIONAL,\r\n    FANTASY,\r\n    GAME_SHOW,\r\n    LATE_NIGHT_TELEVISION,\r\n    MUSIC_TELEVISION,\r\n    NEWS_SHOW,\r\n    CURRENT_AFFAIRS,\r\n    TABLOID_TELEVISION,\r\n    POLICE_PROCEDURAL,\r\n    DETECTIVE_FICTION,\r\n    PRIME_TIME_TELEVISION,\r\n    PUBLIC_AFFAIRS_BROADCASTING,\r\n    REALITY,\r\n    RELIGIOUS,\r\n    SCIENCE_FICTION,\r\n    SERIAL,\r\n    COMEDY,\r\n    SITCOM,\r\n    ROMCOM,\r\n    STAND_UP_COMEDY,\r\n    SOAP_OPERA,\r\n    SPORTS,\r\n    TELENOVELA,\r\n    INFOMERCIALS,\r\n    VARIETY_SHOW,\r\n    WESTERN_SERIES,\r\n    SPACE_WESTERN\r\n}\r\n```\r\n","title":"What kind of variable should I use for Genre","body":"<p>Television genres are also classified with a <em>format</em>, which subsequently includes a <em>type</em>.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/List_of_television_formats_and_genres\" rel=\"nofollow noreferrer\">Wikipedia – List of television formats and genres</a></em>.</p>\n<p>If these are of importance, you can utilize a class structure, which can reference <em>enum</em> values.</p>\n<p>Here is an example using the values provided by Wikipedia.<br />\nBasic usage would be as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Genre genre = new Genre(new Format(Formats.SHOW), Genres.COOKING_SHOW);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Genre {\n    Format format;\n    Genres genre;\n\n    public Genre(Format format, Genres genre) {\n        this.format = format;\n        this.genre = genre;\n    }\n}\n\nclass Format {\n    Formats format;\n    Types type;\n\n    public Format(Formats format, Types type) {\n        this.format = format;\n        this.type = type;\n    }\n\n    public Format(Formats format) {\n        this.format = format;\n    }\n}\n\nenum Formats {\n    CLIP,\n    DOCUFICTION,\n    DOCUMENTARY,\n    SINGLE_EPISODE,\n    MADE_FOR_TV_FILM,\n    FRANCHISE,\n    MINISERIES,\n    MICRO_SERIES,\n    MOCKUMENTARY,\n    PILOT,\n    PREQUEL,\n    REBOOT,\n    REMAKE,\n    SEGMENT,\n    SEQUEL,\n    SERIAL,\n    SERIES,\n    SHORT,\n    SHOW,\n    SPECIAL,\n    SPIN_OFF,\n    PILOT_EPISODE\n}\n\nenum Types {\n    ANIMATED,\n    ANIME,\n    COMPUTER_ANIMATION,\n    STOP_MOTION,\n    TRADITIONAL_ANIMATION,\n    LIVE_ACTION,\n    MODELS,\n    PUPPETRY\n}\n\nenum Genres {\n    ACTION_SERIES,\n    ADVENTURE_SERIES,\n    ANIMATED_SERIES,\n    CARTOON_SERIES,\n    ANTHOLOGY_SERIES,\n    ART,\n    CHILDRENS_SERIES,\n    COOKING_SHOW,\n    DAYTIME_TELEVISION,\n    DRAMATIC_PROGRAMMING,\n    DOCUMENTARY,\n    DOCUDRAMA,\n    DRAMALITY,\n    MEDICAL_DRAMA,\n    MOCKUMENTARY,\n    EDUCATIONAL,\n    FACTUAL_TELEVISION,\n    INSTRUCTIONAL,\n    FANTASY,\n    GAME_SHOW,\n    LATE_NIGHT_TELEVISION,\n    MUSIC_TELEVISION,\n    NEWS_SHOW,\n    CURRENT_AFFAIRS,\n    TABLOID_TELEVISION,\n    POLICE_PROCEDURAL,\n    DETECTIVE_FICTION,\n    PRIME_TIME_TELEVISION,\n    PUBLIC_AFFAIRS_BROADCASTING,\n    REALITY,\n    RELIGIOUS,\n    SCIENCE_FICTION,\n    SERIAL,\n    COMEDY,\n    SITCOM,\n    ROMCOM,\n    STAND_UP_COMEDY,\n    SOAP_OPERA,\n    SPORTS,\n    TELENOVELA,\n    INFOMERCIALS,\n    VARIETY_SHOW,\n    WESTERN_SERIES,\n    SPACE_WESTERN\n}\n</code></pre>\n"}],"owner":{"account_id":27696237,"reputation":1,"user_id":21141905,"display_name":"Nima Saminasab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686248851,"creation_date":1686245437,"question_id":76434340,"body_markdown":"I m writing a program in java, (spring boot). It is about TvSeries administration. \r\nwhat kind of variable should I use for Genre. A TvSeries can have multiple genre.\r\nShould I use Array, ArrayList, Enum  or anything else ?\r\n\r\n```Java\r\npackage com.example.payex;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class TvShow \r\n{\r\n    @Id\r\n    private long id ;\r\n    private String name ;\r\n    private String[] genre = new String[10] ;\r\n    private float rating ;\r\n    private int episodeCount ;\r\n    private int releasedEpisodeCount ;\r\n    private String summary;\r\n    private String imdbLink;\r\n\r\n    public TvShow( long id, String name, String genre,  float rating, int episodeCount, int releasedEpisodeCount, String summary, String imdbLink ) \r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.genre = genre ;\r\n        this.rating = rating;\r\n        this.episodeCount = episodeCount;\r\n        this.releasedEpisodeCount = releasedEpisodeCount;\r\n        this.summary = summary;\r\n        this.imdbLink = imdbLink;\r\n    }\r\n    \r\n    public TvShow() {}\r\n}\r\n```\r\n","title":"What kind of variable should I use for Genre","body":"<p>I m writing a program in java, (spring boot). It is about TvSeries administration.\nwhat kind of variable should I use for Genre. A TvSeries can have multiple genre.\nShould I use Array, ArrayList, Enum  or anything else ?</p>\n<pre><code>package com.example.payex;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class TvShow \n{\n    @Id\n    private long id ;\n    private String name ;\n    private String[] genre = new String[10] ;\n    private float rating ;\n    private int episodeCount ;\n    private int releasedEpisodeCount ;\n    private String summary;\n    private String imdbLink;\n\n    public TvShow( long id, String name, String genre,  float rating, int episodeCount, int releasedEpisodeCount, String summary, String imdbLink ) \n    {\n        this.id = id;\n        this.name = name;\n        this.genre = genre ;\n        this.rating = rating;\n        this.episodeCount = episodeCount;\n        this.releasedEpisodeCount = releasedEpisodeCount;\n        this.summary = summary;\n        this.imdbLink = imdbLink;\n    }\n    \n    public TvShow() {}\n}\n</code></pre>\n"},{"tags":["java",".net","regex"],"comments":[{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1427024200,"post_id":29193826,"comment_id":46600970,"body_markdown":"because `(?=.*?\\b\\1\\b)` is an assertion, it won&#39;t match any character.","body":"because <code>(?=.*?\\b\\1\\b)</code> is an assertion, it won&#39;t match any character."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1427024612,"post_id":29193826,"comment_id":46601086,"body_markdown":"Say it is possible; why would you want to do it with a regex? Is performance irrelevant?","body":"Say it is possible; why would you want to do it with a regex? Is performance irrelevant?"},{"owner":{"account_id":5980237,"reputation":21,"user_id":4699560,"display_name":"George"},"score":0,"creation_date":1427024967,"post_id":29193826,"comment_id":46601183,"body_markdown":"specifically for this task - performance doesn&#39;t matter. The main goal - do it using regex (or almost regex)","body":"specifically for this task - performance doesn&#39;t matter. The main goal - do it using regex (or almost regex)"},{"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"score":0,"creation_date":1427025168,"post_id":29193826,"comment_id":46601244,"body_markdown":"Why don&#39;t you scanner the text input and build a Map&lt;String,Integer&gt; as suggested by EddyG","body":"Why don&#39;t you scanner the text input and build a Map&lt;String,Integer&gt; as suggested by EddyG"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427024807,"creation_date":1427024807,"answer_id":29193954,"question_id":29193826,"body_markdown":"Instead of using a regular expression, I would suggest to simply use a\r\n \r\n    Map&lt;String, Integer&gt;\r\n\r\nThe keys are the words that you parse from your text; the value represents a counter (for the number of occurrences ). Initialize the counter with 1; and increase when you find the same word again.","title":"All duplicate words","body":"<p>Instead of using a regular expression, I would suggest to simply use a</p>\n\n<pre><code>Map&lt;String, Integer&gt;\n</code></pre>\n\n<p>The keys are the words that you parse from your text; the value represents a counter (for the number of occurrences ). Initialize the counter with 1; and increase when you find the same word again.</p>\n"},{"tags":[],"owner":{"account_id":4528276,"reputation":67276,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427025265,"creation_date":1427025265,"answer_id":29194033,"question_id":29193826,"body_markdown":"    \\b(\\w+)\\b(?=(?:(?!\\b\\1\\b).)*\\b(\\1)\\b(?:(?!\\b\\1\\b).)*$)|\\b(\\w+)\\b(?=.*?\\b\\3\\b)\r\n\r\nTry this.See demo.Grab the `captures` or `groups`.\r\n\r\nhttps://regex101.com/r/pT4tM5/31","title":"All duplicate words","body":"<pre><code>\\b(\\w+)\\b(?=(?:(?!\\b\\1\\b).)*\\b(\\1)\\b(?:(?!\\b\\1\\b).)*$)|\\b(\\w+)\\b(?=.*?\\b\\3\\b)\n</code></pre>\n\n<p>Try this.See demo.Grab the <code>captures</code> or <code>groups</code>.</p>\n\n<p><a href=\"https://regex101.com/r/pT4tM5/31\" rel=\"nofollow\">https://regex101.com/r/pT4tM5/31</a></p>\n"},{"tags":[],"owner":{"account_id":28780995,"reputation":1,"user_id":22042627,"display_name":"C&#233;lia Vytrac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686248763,"creation_date":1686248763,"answer_id":76434712,"question_id":29193826,"body_markdown":"The answer by @vks can be simplified like so `(\\w+)(?=(?:(?!\\1).)*\\b(\\1)\\b)`\r\n\r\nSee below for the example.\r\n\r\nhttps://regex101.com/r/3G5XV8/1","title":"All duplicate words","body":"<p>The answer by @vks can be simplified like so <code>(\\w+)(?=(?:(?!\\1).)*\\b(\\1)\\b)</code></p>\n<p>See below for the example.</p>\n<p><a href=\"https://regex101.com/r/3G5XV8/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/3G5XV8/1</a></p>\n"}],"owner":{"account_id":5980237,"reputation":21,"user_id":4699560,"display_name":"George"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686248763,"creation_date":1427024033,"question_id":29193826,"body_markdown":"I need to find ALL duplicate words.\r\nFor example:\r\n\r\n    &quot;abc some word abc eee word abc&quot;\r\n\r\nshould match: \r\n\r\n    abc abc abc word word\r\n\r\nOR\r\n\r\n    abc word abc word abc\r\n\r\nI&#39;ve tried: `&quot;(\\b\\w+\\b)(?=.*?\\b\\1\\b)&quot;` but it doesn&#39;t match last duplicate words.\r\n\r\np.s\r\nDoes it possible to find all duplicates using regex (java or .net regex engine)?","title":"All duplicate words","body":"<p>I need to find ALL duplicate words.\nFor example:</p>\n\n<pre><code>\"abc some word abc eee word abc\"\n</code></pre>\n\n<p>should match: </p>\n\n<pre><code>abc abc abc word word\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>abc word abc word abc\n</code></pre>\n\n<p>I've tried: <code>\"(\\b\\w+\\b)(?=.*?\\b\\1\\b)\"</code> but it doesn't match last duplicate words.</p>\n\n<p>p.s\nDoes it possible to find all duplicates using regex (java or .net regex engine)?</p>\n"},{"tags":["java","mysql","spring-boot","maven","jdbc"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686248615,"creation_date":1686248615,"answer_id":76434702,"question_id":76434679,"body_markdown":"The cause is simple - `DESC` is a reserved keyword in MySQL (and in SQL in general), used to specify descending order, so you may want to name your column explicitly:\r\n\r\n```java\r\n@Column(name = &quot;description&quot;)\r\nprivate String desc;\r\n```\r\n\r\nUPD:\r\nplease don&#39;t forget to import corrent @Column:\r\n```java\r\nimport jakarta.persistence.Column;\r\n```","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException trying to connect a MYSQL database","body":"<p>The cause is simple - <code>DESC</code> is a reserved keyword in MySQL (and in SQL in general), used to specify descending order, so you may want to name your column explicitly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;description&quot;)\nprivate String desc;\n</code></pre>\n<p>UPD:\nplease don't forget to import corrent @Column:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.Column;\n</code></pre>\n"}],"owner":{"account_id":18576586,"reputation":17,"user_id":20541149,"display_name":"Pao Beltran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76434702,"answer_count":1,"score":1,"last_activity_date":1686248615,"creation_date":1686248406,"question_id":76434679,"body_markdown":"Im trying to connect a MySQL database to my java springboot project, but i got a org.hibernate.tool.schema.spi.CommandAcceptanceException error, i already tried to change spring.jpa.hibernate.ddl-auto=update to spring.jpa.hibernate.ddl-auto=update, and its still wrong.\r\n\r\nError:\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table to_do (id integer not null, desc varchar(255), done bit not null, target_date date, username varchar(255), primary key (id)) engine=InnoDB&quot; via JDBC [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;desc varchar(255), done bit not null, target_date date, username varchar(255), p&#39; at line 1]\r\n```\r\n\r\nProperties:\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/ spring.mvc.view.suffix=.jsp logging.level.org.springframework=info logging.level.com.pao.springboot.myFirstWebApp=debug\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/todos spring.datasource.username=todos-user spring.datasource.password=dummytodos spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.show-sql=true\r\n```\r\n\r\nDependencies:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n    \t&lt;!--&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.13&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;`\r\n\r\nEntity:\r\n\r\n```\r\nackage com.pao.springboot.myFirstWebApp.toDo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.time.LocalDate;\r\n\r\n//Database\r\n// List of todos\r\n\r\n@Entity(name = &quot;ToDo&quot;)\r\npublic class toDo {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private String username;\r\n    private String desc;\r\n    private LocalDate targetDate;\r\n    private boolean done;\r\n    \r\n    \r\n    public toDo(){}\r\n    \r\n    public toDo(int id, String username, String desc, LocalDate targetDate, boolean done) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.desc = desc;\r\n        this.targetDate = targetDate;\r\n        this.done = done;\r\n    }\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n    \r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    \r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    \r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n    \r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n    \r\n    public LocalDate getTargetDate() {\r\n        return targetDate;\r\n    }\r\n    \r\n    public void setTargetDate(LocalDate targetDate) {\r\n        this.targetDate = targetDate;\r\n    }\r\n    \r\n    public boolean isDone() {\r\n        return done;\r\n    }\r\n    \r\n    public void setDone(boolean done) {\r\n        this.done = done;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;toDo{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, user=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, desc=&#39;&quot; + desc + &#39;\\&#39;&#39; +\r\n                &quot;, targetDate=&quot; + targetDate +\r\n                &quot;, done=&quot; + done +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI hope someone can help me, thanks to read me.\r\n\r\nI already tried to change spring.jpa.hibernate.ddl-auto=update to spring.jpa.hibernate.ddl-auto=update.","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException trying to connect a MYSQL database","body":"<p>Im trying to connect a MySQL database to my java springboot project, but i got a org.hibernate.tool.schema.spi.CommandAcceptanceException error, i already tried to change spring.jpa.hibernate.ddl-auto=update to spring.jpa.hibernate.ddl-auto=update, and its still wrong.</p>\n<p>Error:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table to_do (id integer not null, desc varchar(255), done bit not null, target_date date, username varchar(255), primary key (id)) engine=InnoDB&quot; via JDBC [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc varchar(255), done bit not null, target_date date, username varchar(255), p' at line 1]\n</code></pre>\n<p>Properties:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/ spring.mvc.view.suffix=.jsp logging.level.org.springframework=info logging.level.com.pao.springboot.myFirstWebApp=debug\n\nspring.jpa.defer-datasource-initialization=true\n\nspring.datasource.url=jdbc:mysql://localhost:3306/todos spring.datasource.username=todos-user spring.datasource.password=dummytodos spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.show-sql=true\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.13&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;5.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;`\n</code></pre>\n<p>Entity:</p>\n<pre><code>ackage com.pao.springboot.myFirstWebApp.toDo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\n\nimport java.time.LocalDate;\n\n//Database\n// List of todos\n\n@Entity(name = &quot;ToDo&quot;)\npublic class toDo {\n\n    @Id\n    @GeneratedValue\n    private int id;\n    private String username;\n    private String desc;\n    private LocalDate targetDate;\n    private boolean done;\n    \n    \n    public toDo(){}\n    \n    public toDo(int id, String username, String desc, LocalDate targetDate, boolean done) {\n        this.id = id;\n        this.username = username;\n        this.desc = desc;\n        this.targetDate = targetDate;\n        this.done = done;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    \n    public void setId(int id) {\n        this.id = id;\n    }\n    \n    public String getUsername() {\n        return username;\n    }\n    \n    public void setUsername(String username) {\n        this.username = username;\n    }\n    \n    public String getDesc() {\n        return desc;\n    }\n    \n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n    \n    public LocalDate getTargetDate() {\n        return targetDate;\n    }\n    \n    public void setTargetDate(LocalDate targetDate) {\n        this.targetDate = targetDate;\n    }\n    \n    public boolean isDone() {\n        return done;\n    }\n    \n    public void setDone(boolean done) {\n        this.done = done;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;toDo{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, user='&quot; + username + '\\'' +\n                &quot;, desc='&quot; + desc + '\\'' +\n                &quot;, targetDate=&quot; + targetDate +\n                &quot;, done=&quot; + done +\n                '}';\n    }\n\n}\n</code></pre>\n<p>I hope someone can help me, thanks to read me.</p>\n<p>I already tried to change spring.jpa.hibernate.ddl-auto=update to spring.jpa.hibernate.ddl-auto=update.</p>\n"},{"tags":["java","excel","jxls"],"owner":{"account_id":12913103,"reputation":99,"user_id":9338223,"display_name":"abi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686248430,"creation_date":1686248430,"question_id":76434685,"body_markdown":"I have a report with 1 dynamic column. I&#39;ve written the second each that extends in RIGHT direction and this works well.\r\n\r\nHowever, I have an issue when I want to count totals for every such columns.\r\nI thought that I can write a SUM(B2) formula and extend it RIGHT, but it doesn&#39;t work.\r\n\r\nEven without third loop, formula transforms to SUM(B2:xY), so it counts SUM of entire dynamic area.\r\n\r\nOfc, I can write some java code to count total or make another query,but it there any way to do this without programming?\r\n\r\nThanks. \r\n\r\nHere is simplified template layout. I want to count SUM of every dynamic column, so if there are x rows and y dynamic columns I need SUM(B2:Bx), SUM(C2:Cx) ... SUM(y2:yx)\r\n\r\n[![sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6AcB.png","title":"Total for dynamic columns","body":"<p>I have a report with 1 dynamic column. I've written the second each that extends in RIGHT direction and this works well.</p>\n<p>However, I have an issue when I want to count totals for every such columns.\nI thought that I can write a SUM(B2) formula and extend it RIGHT, but it doesn't work.</p>\n<p>Even without third loop, formula transforms to SUM(B2:xY), so it counts SUM of entire dynamic area.</p>\n<p>Ofc, I can write some java code to count total or make another query,but it there any way to do this without programming?</p>\n<p>Thanks.</p>\n<p>Here is simplified template layout. I want to count SUM of every dynamic column, so if there are x rows and y dynamic columns I need SUM(B2:Bx), SUM(C2:Cx) ... SUM(y2:yx)</p>\n<p><a href=\"https://i.stack.imgur.com/v6AcB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6AcB.png\" alt=\"sample\" /></a></p>\n"},{"tags":["java","sql","jdbc","insert-id"],"comments":[{"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"score":1,"creation_date":1448278829,"post_id":1915166,"comment_id":55503552,"body_markdown":"Leave the **id** which is AutoGenrerated in the Query `String sql = &quot;INSERT INTO &#39;yash&#39;.&#39;mytable&#39; (&#39;name&#39;) VALUES (?)&quot;;\n\t\tint primkey = 0 ;\n\t\tPreparedStatement pstmt = con.prepareStatement(sql, new String[] { &quot;id&quot; }/*Statement.RETURN_GENERATED_KEYS*/);\n\t\tpstmt.setString(1, name);\n\t\tif (pstmt.executeUpdate() &gt; 0) {\n\t\t\tjava.sql.ResultSet generatedKeys = pstmt.`[getGeneratedKeys();](http://docs.oracle.com/javase/6/docs/api/java/sql/Statement.html#getGeneratedKeys%28%29)\n\t\t\t`if (generatedKeys.next())\tprimkey = generatedKeys.getInt(1);\n\t\t}`","body":"Leave the <b>id</b> which is AutoGenrerated in the Query <code>String sql = &quot;INSERT INTO &#39;yash&#39;.&#39;mytable&#39; (&#39;name&#39;) VALUES (?)&quot;; \t\tint primkey = 0 ; \t\tPreparedStatement pstmt = con.prepareStatement(sql, new String[] { &quot;id&quot; }&#47;*Statement.RETURN_GENERATED_KEYS*&#47;); \t\tpstmt.setString(1, name); \t\tif (pstmt.executeUpdate() &gt; 0) { \t\t\tjava.sql.ResultSet generatedKeys = pstmt.</code><a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Statement.html#getGeneratedKeys%28%29\" rel=\"nofollow noreferrer\">getGeneratedKeys();</a> \t\t\t<code>if (generatedKeys.next())\tprimkey = generatedKeys.getInt(1); \t\t}</code>"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1612361079,"post_id":1915166,"comment_id":116742565,"body_markdown":"Just a note for everyone. You can only get Generated Keys with AUTO INC type. UUID or char or other types which use defaults will not work with MSSQL.","body":"Just a note for everyone. You can only get Generated Keys with AUTO INC type. UUID or char or other types which use defaults will not work with MSSQL."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":750,"is_accepted":true,"score":748,"last_activity_date":1525287595,"creation_date":1260975794,"answer_id":1915197,"question_id":1915166,"body_markdown":"If it is an auto generated key, then you can use [`Statement#getGeneratedKeys()`][1] for this. You need to call it on the same `Statement` as the one being used for the `INSERT`. You first **need** to create the statement using [`Statement.RETURN_GENERATED_KEYS`][2] to notify the JDBC driver to return the keys. \r\n\r\nHere&#39;s a basic example:\r\n\r\n    public void create(User user) throws SQLException {\r\n        try (\r\n            Connection connection = dataSource.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(SQL_INSERT,\r\n                                          Statement.RETURN_GENERATED_KEYS);\r\n        ) {\r\n            statement.setString(1, user.getName());\r\n            statement.setString(2, user.getPassword());\r\n            statement.setString(3, user.getEmail());\r\n            // ...\r\n\r\n            int affectedRows = statement.executeUpdate();\r\n\r\n            if (affectedRows == 0) {\r\n                throw new SQLException(&quot;Creating user failed, no rows affected.&quot;);\r\n            }\r\n\r\n            try (ResultSet generatedKeys = statement.getGeneratedKeys()) {\r\n                if (generatedKeys.next()) {\r\n                    user.setId(generatedKeys.getLong(1));\r\n                }\r\n                else {\r\n                    throw new SQLException(&quot;Creating user failed, no ID obtained.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNote that you&#39;re dependent on the JDBC driver as to whether it works. Currently, most of the last versions will work, but if I am correct, Oracle JDBC driver is still somewhat troublesome with this. MySQL and DB2 already supported it for ages. PostgreSQL started to support it not long ago. I can&#39;t comment about MSSQL as I&#39;ve never used it.\r\n\r\nFor Oracle, you can invoke a `CallableStatement` with a `RETURNING` clause or a `SELECT CURRVAL(sequencename)` (or whatever DB-specific syntax to do so) directly after the `INSERT` in the same transaction to obtain the last generated key. See also [this answer][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getGeneratedKeys%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#RETURN_GENERATED_KEYS\r\n  [3]: https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id/3552353#3552353","title":"How to get the insert ID in JDBC?","body":"<p>If it is an auto generated key, then you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#getGeneratedKeys%28%29\" rel=\"noreferrer\"><code>Statement#getGeneratedKeys()</code></a> for this. You need to call it on the same <code>Statement</code> as the one being used for the <code>INSERT</code>. You first <strong>need</strong> to create the statement using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#RETURN_GENERATED_KEYS\" rel=\"noreferrer\"><code>Statement.RETURN_GENERATED_KEYS</code></a> to notify the JDBC driver to return the keys. </p>\n\n<p>Here's a basic example:</p>\n\n<pre><code>public void create(User user) throws SQLException {\n    try (\n        Connection connection = dataSource.getConnection();\n        PreparedStatement statement = connection.prepareStatement(SQL_INSERT,\n                                      Statement.RETURN_GENERATED_KEYS);\n    ) {\n        statement.setString(1, user.getName());\n        statement.setString(2, user.getPassword());\n        statement.setString(3, user.getEmail());\n        // ...\n\n        int affectedRows = statement.executeUpdate();\n\n        if (affectedRows == 0) {\n            throw new SQLException(\"Creating user failed, no rows affected.\");\n        }\n\n        try (ResultSet generatedKeys = statement.getGeneratedKeys()) {\n            if (generatedKeys.next()) {\n                user.setId(generatedKeys.getLong(1));\n            }\n            else {\n                throw new SQLException(\"Creating user failed, no ID obtained.\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Note that you're dependent on the JDBC driver as to whether it works. Currently, most of the last versions will work, but if I am correct, Oracle JDBC driver is still somewhat troublesome with this. MySQL and DB2 already supported it for ages. PostgreSQL started to support it not long ago. I can't comment about MSSQL as I've never used it.</p>\n\n<p>For Oracle, you can invoke a <code>CallableStatement</code> with a <code>RETURNING</code> clause or a <code>SELECT CURRVAL(sequencename)</code> (or whatever DB-specific syntax to do so) directly after the <code>INSERT</code> in the same transaction to obtain the last generated key. See also <a href=\"https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id/3552353#3552353\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":426459,"reputation":698,"user_id":807677,"display_name":"ftexperts"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1435912883,"creation_date":1308894741,"answer_id":6463957,"question_id":1915166,"body_markdown":"I&#39;m hitting Microsoft SQL Server 2008 R2 from a single-threaded JDBC-based application and pulling back the last ID without using the RETURN_GENERATED_KEYS property or any PreparedStatement.  Looks something like this:\r\n\r\n    private int insertQueryReturnInt(String SQLQy) {\r\n\t\tResultSet generatedKeys = null;\r\n\t\tint generatedKey = -1;\r\n\r\n\t\ttry {\r\n\t\t\tStatement statement = conn.createStatement();\r\n\t\t\tstatement.execute(SQLQy);\r\n\t\t} catch (Exception e) {\r\n\t\t\terrorDescription = &quot;Failed to insert SQL query: &quot; + SQLQy + &quot;( &quot; + e.toString() + &quot;)&quot;;\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tgeneratedKey = Integer.parseInt(readOneValue(&quot;SELECT @@IDENTITY&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\terrorDescription = &quot;Failed to get ID of just-inserted SQL query: &quot; + SQLQy + &quot;( &quot; + e.toString() + &quot;)&quot;;\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\treturn generatedKey;\r\n\t} \r\n\r\nThis blog post nicely isolates three main SQL Server &quot;last ID&quot; options: \r\nhttp://msjawahar.wordpress.com/2008/01/25/how-to-find-the-last-identity-value-inserted-in-the-sql-server/ - haven&#39;t needed the other two yet.","title":"How to get the insert ID in JDBC?","body":"<p>I'm hitting Microsoft SQL Server 2008 R2 from a single-threaded JDBC-based application and pulling back the last ID without using the RETURN_GENERATED_KEYS property or any PreparedStatement.  Looks something like this:</p>\n\n<pre><code>private int insertQueryReturnInt(String SQLQy) {\n    ResultSet generatedKeys = null;\n    int generatedKey = -1;\n\n    try {\n        Statement statement = conn.createStatement();\n        statement.execute(SQLQy);\n    } catch (Exception e) {\n        errorDescription = \"Failed to insert SQL query: \" + SQLQy + \"( \" + e.toString() + \")\";\n        return -1;\n    }\n\n    try {\n        generatedKey = Integer.parseInt(readOneValue(\"SELECT @@IDENTITY\"));\n    } catch (Exception e) {\n        errorDescription = \"Failed to get ID of just-inserted SQL query: \" + SQLQy + \"( \" + e.toString() + \")\";\n        return -1;\n    }\n\n    return generatedKey;\n} \n</code></pre>\n\n<p>This blog post nicely isolates three main SQL Server \"last ID\" options: \n<a href=\"http://msjawahar.wordpress.com/2008/01/25/how-to-find-the-last-identity-value-inserted-in-the-sql-server/\" rel=\"nofollow noreferrer\">http://msjawahar.wordpress.com/2008/01/25/how-to-find-the-last-identity-value-inserted-in-the-sql-server/</a> - haven't needed the other two yet.</p>\n"},{"tags":[],"owner":{"account_id":484385,"reputation":276,"user_id":900021,"display_name":"xanblax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378806064,"creation_date":1378806064,"answer_id":18715501,"question_id":1915166,"body_markdown":"I&#39;m using **SQLServer** 2008, but I have a development limitation: I cannot use a new driver for it, I have to use &quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot; (I cannot use &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).\r\n\r\nThat&#39;s why the solution `conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)` threw a **java.lang.AbstractMethodError** for me.\r\nIn this situation, a possible solution I found is the old one suggested by Microsoft:\r\n[How To Retrieve @@IDENTITY Value Using JDBC][1]\r\n\r\n    import java.sql.*; \r\n    import java.io.*; \r\n    \r\n    public class IdentitySample\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tString URL = &quot;jdbc:microsoft:sqlserver://yourServer:1433;databasename=pubs&quot;;\r\n    \t\t\tString userName = &quot;yourUser&quot;;\r\n    \t\t\tString password = &quot;yourPassword&quot;;\r\n    \t\t\r\n    \t\t\tSystem.out.println( &quot;Trying to connect to: &quot; + URL); \r\n    \r\n    \t\t\t//Register JDBC Driver\r\n    \t\t\tClass.forName(&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;).newInstance();\r\n    \r\n    \t\t\t//Connect to SQL Server\r\n    \t\t\tConnection con = null;\r\n    \t\t\tcon = DriverManager.getConnection(URL,userName,password);\r\n    \t\t\tSystem.out.println(&quot;Successfully connected to server&quot;); \r\n    \t\t\t\r\n    \t\t\t//Create statement and Execute using either a stored procecure or batch statement\r\n    \t\t\tCallableStatement callstmt = null;\r\n\r\n    \t\t\tcallstmt = con.prepareCall(&quot;INSERT INTO myIdentTable (col2) VALUES (?);SELECT @@IDENTITY&quot;);\r\n    \t\t\tcallstmt.setString(1, &quot;testInputBatch&quot;);\r\n    \t\t\tSystem.out.println(&quot;Batch statement successfully executed&quot;); \r\n    \t\t\tcallstmt.execute();\r\n    \t\t\t\t\t\r\n    \t\t\tint iUpdCount = callstmt.getUpdateCount();\r\n    \t\t\tboolean bMoreResults = true;\r\n    \t\t\tResultSet rs = null;\r\n    \t\t\tint myIdentVal = -1; //to store the @@IDENTITY\r\n    \t\t\t\r\n    \t\t\t//While there are still more results or update counts\r\n    \t\t\t//available, continue processing resultsets\r\n    \t\t\twhile (bMoreResults || iUpdCount!=-1)\r\n    \t\t\t{\t\t\t\r\n    \t\t\t\t//NOTE: in order for output parameters to be available,\r\n    \t\t\t\t//all resultsets must be processed\r\n    \t\t\t\t\r\n    \t\t\t\trs = callstmt.getResultSet();    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t//if rs is not null, we know we can get the results from the SELECT @@IDENTITY\r\n    \t\t\t\tif (rs != null)\r\n    \t\t\t\t{\r\n    \t\t\t\t\trs.next();\r\n    \t\t\t\t\tmyIdentVal = rs.getInt(1);\r\n    \t\t\t\t}    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t//Do something with the results here (not shown)\r\n    \r\n    \t\t\t\t//get the next resultset, if there is one\r\n    \t\t\t\t//this call also implicitly closes the previously obtained ResultSet\r\n    \t\t\t\tbMoreResults = callstmt.getMoreResults();\r\n    \t\t\t\tiUpdCount = callstmt.getUpdateCount();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println( &quot;@@IDENTITY is: &quot; + myIdentVal);\t\t\r\n    \t\t\t\r\n    \t\t\t//Close statement and connection \r\n    \t\t\tcallstmt.close();\r\n    \t\t\tcon.close();\r\n    \t\t}\r\n    \t\tcatch (Exception ex)\r\n    \t\t{\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Press any key to quit...&quot;);\r\n    \t\t\tSystem.in.read();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis solution worked for me!\r\n\r\nI hope this helps!\r\n\r\n  [1]: http://support.microsoft.com/kb/313130/en-us","title":"How to get the insert ID in JDBC?","body":"<p>I'm using <strong>SQLServer</strong> 2008, but I have a development limitation: I cannot use a new driver for it, I have to use \"com.microsoft.jdbc.sqlserver.SQLServerDriver\" (I cannot use \"com.microsoft.sqlserver.jdbc.SQLServerDriver\").</p>\n\n<p>That's why the solution <code>conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)</code> threw a <strong>java.lang.AbstractMethodError</strong> for me.\nIn this situation, a possible solution I found is the old one suggested by Microsoft:\n<a href=\"http://support.microsoft.com/kb/313130/en-us\" rel=\"nofollow\">How To Retrieve @@IDENTITY Value Using JDBC</a></p>\n\n<pre><code>import java.sql.*; \nimport java.io.*; \n\npublic class IdentitySample\n{\n    public static void main(String args[])\n    {\n        try\n        {\n            String URL = \"jdbc:microsoft:sqlserver://yourServer:1433;databasename=pubs\";\n            String userName = \"yourUser\";\n            String password = \"yourPassword\";\n\n            System.out.println( \"Trying to connect to: \" + URL); \n\n            //Register JDBC Driver\n            Class.forName(\"com.microsoft.jdbc.sqlserver.SQLServerDriver\").newInstance();\n\n            //Connect to SQL Server\n            Connection con = null;\n            con = DriverManager.getConnection(URL,userName,password);\n            System.out.println(\"Successfully connected to server\"); \n\n            //Create statement and Execute using either a stored procecure or batch statement\n            CallableStatement callstmt = null;\n\n            callstmt = con.prepareCall(\"INSERT INTO myIdentTable (col2) VALUES (?);SELECT @@IDENTITY\");\n            callstmt.setString(1, \"testInputBatch\");\n            System.out.println(\"Batch statement successfully executed\"); \n            callstmt.execute();\n\n            int iUpdCount = callstmt.getUpdateCount();\n            boolean bMoreResults = true;\n            ResultSet rs = null;\n            int myIdentVal = -1; //to store the @@IDENTITY\n\n            //While there are still more results or update counts\n            //available, continue processing resultsets\n            while (bMoreResults || iUpdCount!=-1)\n            {           \n                //NOTE: in order for output parameters to be available,\n                //all resultsets must be processed\n\n                rs = callstmt.getResultSet();                   \n\n                //if rs is not null, we know we can get the results from the SELECT @@IDENTITY\n                if (rs != null)\n                {\n                    rs.next();\n                    myIdentVal = rs.getInt(1);\n                }                   \n\n                //Do something with the results here (not shown)\n\n                //get the next resultset, if there is one\n                //this call also implicitly closes the previously obtained ResultSet\n                bMoreResults = callstmt.getMoreResults();\n                iUpdCount = callstmt.getUpdateCount();\n            }\n\n            System.out.println( \"@@IDENTITY is: \" + myIdentVal);        \n\n            //Close statement and connection \n            callstmt.close();\n            con.close();\n        }\n        catch (Exception ex)\n        {\n            ex.printStackTrace();\n        }\n\n        try\n        {\n            System.out.println(\"Press any key to quit...\");\n            System.in.read();\n        }\n        catch (Exception e)\n        {\n        }\n    }\n}\n</code></pre>\n\n<p>This solution worked for me!</p>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":242142,"reputation":641,"user_id":513460,"display_name":"Eitan Rimon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1575986592,"creation_date":1450082354,"answer_id":34262642,"question_id":1915166,"body_markdown":"When encountering an &#39;Unsupported feature&#39; error while using `Statement.RETURN_GENERATED_KEYS`, try this:  \r\n```java\r\nString[] returnId = { &quot;BATCHID&quot; };\r\nString sql = &quot;INSERT INTO BATCH (BATCHNAME) VALUES (&#39;aaaaaaa&#39;)&quot;;\r\nPreparedStatement statement = connection.prepareStatement(sql, returnId);\r\nint affectedRows = statement.executeUpdate();\r\n\r\nif (affectedRows == 0) {\r\n    throw new SQLException(&quot;Creating user failed, no rows affected.&quot;);\r\n}\r\n\r\ntry (ResultSet rs = statement.getGeneratedKeys()) {\r\n    if (rs.next()) {\r\n        System.out.println(rs.getInt(1));\r\n    }\r\n    rs.close();\r\n}\r\n```\r\nWhere `BATCHID` is the auto generated id.","title":"How to get the insert ID in JDBC?","body":"<p>When encountering an 'Unsupported feature' error while using <code>Statement.RETURN_GENERATED_KEYS</code>, try this:  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String[] returnId = { \"BATCHID\" };\nString sql = \"INSERT INTO BATCH (BATCHNAME) VALUES ('aaaaaaa')\";\nPreparedStatement statement = connection.prepareStatement(sql, returnId);\nint affectedRows = statement.executeUpdate();\n\nif (affectedRows == 0) {\n    throw new SQLException(\"Creating user failed, no rows affected.\");\n}\n\ntry (ResultSet rs = statement.getGeneratedKeys()) {\n    if (rs.next()) {\n        System.out.println(rs.getInt(1));\n    }\n    rs.close();\n}\n</code></pre>\n\n<p>Where <code>BATCHID</code> is the auto generated id.</p>\n"},{"tags":[],"owner":{"account_id":8751392,"reputation":487,"user_id":6544491,"display_name":"Harsh Maheswari"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1484583008,"creation_date":1481000393,"answer_id":40988131,"question_id":1915166,"body_markdown":"1. Create Generated Column\r\n\r\n        String generatedColumns[] = { &quot;ID&quot; };\r\n\r\n2. Pass this geneated Column to your statement\r\n\r\n        PreparedStatement stmtInsert = conn.prepareStatement(insertSQL, generatedColumns);\r\n\r\n3. Use `ResultSet` object to fetch the GeneratedKeys on Statement\r\n\r\n        ResultSet rs = stmtInsert.getGeneratedKeys();\r\n\r\n        if (rs.next()) {\r\n    \t    long id = rs.getLong(1);\r\n    \t    System.out.println(&quot;Inserted ID -&quot; + id); // display inserted record\r\n        }\r\n\r\n\r\n\r\n","title":"How to get the insert ID in JDBC?","body":"<ol>\n<li><p>Create Generated Column</p>\n\n<pre><code>String generatedColumns[] = { \"ID\" };\n</code></pre></li>\n<li><p>Pass this geneated Column to your statement</p>\n\n<pre><code>PreparedStatement stmtInsert = conn.prepareStatement(insertSQL, generatedColumns);\n</code></pre></li>\n<li><p>Use <code>ResultSet</code> object to fetch the GeneratedKeys on Statement</p>\n\n<pre><code>ResultSet rs = stmtInsert.getGeneratedKeys();\n\nif (rs.next()) {\n    long id = rs.getLong(1);\n    System.out.println(\"Inserted ID -\" + id); // display inserted record\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10460804,"reputation":9,"user_id":7711610,"display_name":"Abdelkhalek Benhoumine"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1489532457,"creation_date":1489530942,"answer_id":42797844,"question_id":1915166,"body_markdown":"    Connection cn = DriverManager.getConnection(&quot;Host&quot;,&quot;user&quot;,&quot;pass&quot;);\r\n    Statement st = cn.createStatement(&quot;Ur Requet Sql&quot;);\r\n    int ret  = st.execute();","title":"How to get the insert ID in JDBC?","body":"<pre><code>Connection cn = DriverManager.getConnection(\"Host\",\"user\",\"pass\");\nStatement st = cn.createStatement(\"Ur Requet Sql\");\nint ret  = st.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516281604,"creation_date":1516281604,"answer_id":48322371,"question_id":1915166,"body_markdown":"Instead of a [comment][1], I just want to answer post.\r\n\r\n-----\r\n\r\n**Interface _[java.sql.PreparedStatement](https://docs.oracle.com/javase/7/docs/api/java/sql/class-use/PreparedStatement.html)_**\r\n\r\n\r\n1. **columnIndexes** &#171; You can use prepareStatement function that accepts columnIndexes and SQL statement.\r\n*Where columnIndexes allowed constant flags are Statement.RETURN_GENERATED_KEYS[1] or Statement.NO_GENERATED_KEYS[2], SQL statement that may contain one or more &#39;?&#39; IN parameter placeholders.*\r\n\r\n _SYNTAX &#171;_\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tConnection.prepareStatement(String sql, int autoGeneratedKeys)\r\n\t\tConnection.prepareStatement(String sql, int[] columnIndexes)\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n Example:\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tPreparedStatement pstmt = \r\n\t\t\tconn.prepareStatement( insertSQL, Statement.RETURN_GENERATED_KEYS );\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n-----\r\n\r\n2. **columnNames** &#171; _List out the columnNames like `&#39;id&#39;, &#39;uniqueID&#39;, ...`. in the target table that contain the auto-generated keys that should be returned. The driver will ignore them if the SQL statement is not an `INSERT` statement._\r\n\r\n SYNTAX &#171;\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tConnection.prepareStatement(String sql, String[] columnNames)\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\t\r\n\t\r\n Example:\r\n\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\t\t\r\n\t\tString columnNames[] = new String[] { &quot;id&quot; };\r\n\t\tPreparedStatement pstmt = conn.prepareStatement( insertSQL, columnNames );\r\n\t\t\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n-----\r\n\r\nFull Example:\r\n\r\n\tpublic static void insertAutoIncrement_SQL(String UserName, String Language, String Message) {\r\n\t\tString DB_URL = &quot;jdbc:mysql://localhost:3306/test&quot;, DB_User = &quot;root&quot;, DB_Password = &quot;&quot;;\r\n\t\t\r\n\t\tString insertSQL = &quot;INSERT INTO `unicodeinfo`( `UserName`, `Language`, `Message`) VALUES (?,?,?)&quot;;\r\n\t\t\t\t//&quot;INSERT INTO `unicodeinfo`(`id`, `UserName`, `Language`, `Message`) VALUES (?,?,?,?)&quot;;\r\n\t\tint primkey = 0 ;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\t\t\tConnection conn = DriverManager.getConnection(DB_URL, DB_User, DB_Password);\r\n\t\t\t\r\n\t\t\tString columnNames[] = new String[] { &quot;id&quot; };\r\n\t\t\t\r\n\t\t\tPreparedStatement pstmt = conn.prepareStatement( insertSQL, columnNames );\r\n\t\t\tpstmt.setString(1, UserName );\r\n\t\t\tpstmt.setString(2, Language );\r\n\t\t\tpstmt.setString(3, Message );\r\n\t\t\t\r\n\t\t\tif (pstmt.executeUpdate() &gt; 0) {\r\n\t\t\t\t// Retrieves any auto-generated keys created as a result of executing this Statement object\r\n\t\t\t\tjava.sql.ResultSet generatedKeys = pstmt.getGeneratedKeys();\r\n\t\t\t\tif ( generatedKeys.next() ) {\r\n\t\t\t\t\tprimkey = generatedKeys.getInt(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Record updated with id = &quot;+primkey);\r\n\t\t} catch (InstantiationException | IllegalAccessException | ClassNotFoundException | SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1915166/how-to-get-the-insert-id-in-jdbc#comment55503552_1915166","title":"How to get the insert ID in JDBC?","body":"<p>Instead of a <a href=\"https://stackoverflow.com/questions/1915166/how-to-get-the-insert-id-in-jdbc#comment55503552_1915166\">comment</a>, I just want to answer post.</p>\n\n<hr>\n\n<p><strong>Interface <em><a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/class-use/PreparedStatement.html\" rel=\"noreferrer\">java.sql.PreparedStatement</a></em></strong></p>\n\n<ol>\n<li><p><strong>columnIndexes</strong> « You can use prepareStatement function that accepts columnIndexes and SQL statement.\n<em>Where columnIndexes allowed constant flags are Statement.RETURN_GENERATED_KEYS<a href=\"https://stackoverflow.com/questions/1915166/how-to-get-the-insert-id-in-jdbc#comment55503552_1915166\">1</a> or Statement.NO_GENERATED_KEYS[2], SQL statement that may contain one or more '?' IN parameter placeholders.</em></p>\n\n<p><em>SYNTAX «</em>\n</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Connection.prepareStatement(String sql, int autoGeneratedKeys)\nConnection.prepareStatement(String sql, int[] columnIndexes)\n</code></pre>\n\n\n\n<p>Example:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement pstmt = \n    conn.prepareStatement( insertSQL, Statement.RETURN_GENERATED_KEYS );\n</code></pre>\n\n</li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li><p><strong>columnNames</strong> « <em>List out the columnNames like <code>'id', 'uniqueID', ...</code>. in the target table that contain the auto-generated keys that should be returned. The driver will ignore them if the SQL statement is not an <code>INSERT</code> statement.</em></p>\n\n<p>SYNTAX «</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Connection.prepareStatement(String sql, String[] columnNames)\n</code></pre>\n\n\n\n<p>Example:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String columnNames[] = new String[] { \"id\" };\nPreparedStatement pstmt = conn.prepareStatement( insertSQL, columnNames );\n</code></pre>\n\n</li>\n</ol>\n\n<hr>\n\n<p>Full Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void insertAutoIncrement_SQL(String UserName, String Language, String Message) {\n    String DB_URL = \"jdbc:mysql://localhost:3306/test\", DB_User = \"root\", DB_Password = \"\";\n\n    String insertSQL = \"INSERT INTO `unicodeinfo`( `UserName`, `Language`, `Message`) VALUES (?,?,?)\";\n            //\"INSERT INTO `unicodeinfo`(`id`, `UserName`, `Language`, `Message`) VALUES (?,?,?,?)\";\n    int primkey = 0 ;\n    try {\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        Connection conn = DriverManager.getConnection(DB_URL, DB_User, DB_Password);\n\n        String columnNames[] = new String[] { \"id\" };\n\n        PreparedStatement pstmt = conn.prepareStatement( insertSQL, columnNames );\n        pstmt.setString(1, UserName );\n        pstmt.setString(2, Language );\n        pstmt.setString(3, Message );\n\n        if (pstmt.executeUpdate() &gt; 0) {\n            // Retrieves any auto-generated keys created as a result of executing this Statement object\n            java.sql.ResultSet generatedKeys = pstmt.getGeneratedKeys();\n            if ( generatedKeys.next() ) {\n                primkey = generatedKeys.getInt(1);\n            }\n        }\n        System.out.println(\"Record updated with id = \"+primkey);\n    } catch (InstantiationException | IllegalAccessException | ClassNotFoundException | SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8051986,"reputation":81,"user_id":6070214,"display_name":"Balin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524471995,"creation_date":1524470474,"answer_id":49976101,"question_id":1915166,"body_markdown":"With Hibernate&#39;s NativeQuery, you need to return a ResultList instead of a SingleResult, because Hibernate modifies a native query\r\n\r\n    INSERT INTO bla (a,b) VALUES (2,3) RETURNING id\r\n\r\nlike\r\n\r\n    INSERT INTO bla (a,b) VALUES (2,3) RETURNING id LIMIT 1\r\n\r\nif you try to get a single result, which causes most databases (at least PostgreSQL) to throw a syntax error. Afterwards, you may fetch the resulting id from the list (which usually contains exactly one item).","title":"How to get the insert ID in JDBC?","body":"<p>With Hibernate's NativeQuery, you need to return a ResultList instead of a SingleResult, because Hibernate modifies a native query</p>\n\n<pre><code>INSERT INTO bla (a,b) VALUES (2,3) RETURNING id\n</code></pre>\n\n<p>like</p>\n\n<pre><code>INSERT INTO bla (a,b) VALUES (2,3) RETURNING id LIMIT 1\n</code></pre>\n\n<p>if you try to get a single result, which causes most databases (at least PostgreSQL) to throw a syntax error. Afterwards, you may fetch the resulting id from the list (which usually contains exactly one item).</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525462388,"creation_date":1525462388,"answer_id":50181985,"question_id":1915166,"body_markdown":"It is possible to use it with normal `Statement`&#39;s as well (not just `PreparedStatement`)\r\n\r\n    Statement statement = conn.createStatement();\r\n    int updateCount = statement.executeUpdate(&quot;insert into x...)&quot;, Statement.RETURN_GENERATED_KEYS);\r\n    try (ResultSet generatedKeys = statement.getGeneratedKeys()) {\r\n      if (generatedKeys.next()) {\r\n        return generatedKeys.getLong(1);\r\n      }\r\n      else {\r\n        throw new SQLException(&quot;Creating failed, no ID obtained.&quot;);\r\n      }\r\n    }\r\n","title":"How to get the insert ID in JDBC?","body":"<p>It is possible to use it with normal <code>Statement</code>'s as well (not just <code>PreparedStatement</code>)</p>\n\n<pre><code>Statement statement = conn.createStatement();\nint updateCount = statement.executeUpdate(\"insert into x...)\", Statement.RETURN_GENERATED_KEYS);\ntry (ResultSet generatedKeys = statement.getGeneratedKeys()) {\n  if (generatedKeys.next()) {\n    return generatedKeys.getLong(1);\n  }\n  else {\n    throw new SQLException(\"Creating failed, no ID obtained.\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6131240,"reputation":45,"user_id":4781328,"display_name":"TheSagya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535549878,"creation_date":1535544609,"answer_id":52077120,"question_id":1915166,"body_markdown":"In my case -&gt;\r\n\r\n    ConnectionClass objConnectionClass=new ConnectionClass();\r\n    con=objConnectionClass.getDataBaseConnection();\r\n    pstmtGetAdd=con.prepareStatement(SQL_INSERT_ADDRESS_QUERY,Statement.RETURN_GENERATED_KEYS);\r\n    pstmtGetAdd.setString(1, objRegisterVO.getAddress());\r\n    pstmtGetAdd.setInt(2, Integer.parseInt(objRegisterVO.getCityId()));\r\n    int addId=pstmtGetAdd.executeUpdate();    \t\t\t\r\n    if(addId&gt;0)\r\n    {\r\n    \tResultSet rsVal=pstmtGetAdd.getGeneratedKeys();\r\n    \trsVal.next();\r\n    \taddId=rsVal.getInt(1);\r\n    }","title":"How to get the insert ID in JDBC?","body":"<p>In my case -></p>\n\n<pre><code>ConnectionClass objConnectionClass=new ConnectionClass();\ncon=objConnectionClass.getDataBaseConnection();\npstmtGetAdd=con.prepareStatement(SQL_INSERT_ADDRESS_QUERY,Statement.RETURN_GENERATED_KEYS);\npstmtGetAdd.setString(1, objRegisterVO.getAddress());\npstmtGetAdd.setInt(2, Integer.parseInt(objRegisterVO.getCityId()));\nint addId=pstmtGetAdd.executeUpdate();              \nif(addId&gt;0)\n{\n    ResultSet rsVal=pstmtGetAdd.getGeneratedKeys();\n    rsVal.next();\n    addId=rsVal.getInt(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51337,"reputation":604,"user_id":153393,"display_name":"Rob Breidecker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548384343,"creation_date":1548384343,"answer_id":54358317,"question_id":1915166,"body_markdown":"If you are using Spring JDBC, you can use Spring&#39;s GeneratedKeyHolder class to get the inserted ID.\r\n\r\nSee this answer...\r\nhttps://stackoverflow.com/questions/35088885/how-to-get-inserted-id-using-spring-jdbctemplate-updatestring-sql-obj-args","title":"How to get the insert ID in JDBC?","body":"<p>If you are using Spring JDBC, you can use Spring's GeneratedKeyHolder class to get the inserted ID.</p>\n\n<p>See this answer...\n<a href=\"https://stackoverflow.com/questions/35088885/how-to-get-inserted-id-using-spring-jdbctemplate-updatestring-sql-obj-args\">How to get inserted id using Spring Jdbctemplate.update(String sql, obj...args)</a></p>\n"},{"tags":[],"owner":{"display_name":"user11533210"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575982631,"creation_date":1558434958,"answer_id":56236430,"question_id":1915166,"body_markdown":"You can use following java code to get new inserted id.\r\n```java\r\nps = con.prepareStatement(query, Statement.RETURN_GENERATED_KEYS);\r\nps.setInt(1, quizid);\r\nps.setInt(2, userid);\r\nps.executeUpdate();\r\n    \r\nResultSet rs = ps.getGeneratedKeys();\r\nif (rs.next()) {\r\n    lastInsertId = rs.getInt(1);\r\n}\r\n```","title":"How to get the insert ID in JDBC?","body":"<p>You can use following java code to get new inserted id.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ps = con.prepareStatement(query, Statement.RETURN_GENERATED_KEYS);\nps.setInt(1, quizid);\nps.setInt(2, userid);\nps.executeUpdate();\n\nResultSet rs = ps.getGeneratedKeys();\nif (rs.next()) {\n    lastInsertId = rs.getInt(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21416242,"reputation":454,"user_id":15782338,"display_name":"Pol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649169818,"creation_date":1649169818,"answer_id":71753784,"question_id":1915166,"body_markdown":"If you are using JDBC (tested with MySQL) and you just want the last inserted ID, there is an easy way to get it. The method I&#39;m using is the following:\r\n\r\n    public static Integer insert(ConnectionImpl connection, String insertQuery){\r\n\r\n        Integer lastInsertId = -1;\r\n        try{\r\n            final PreparedStatement ps = connection.prepareStatement(insertQuery);\r\n            ps.executeUpdate(insertQuery);\r\n            final com.mysql.jdbc.PreparedStatement psFinal = (com.mysql.jdbc.PreparedStatement) ps;\r\n            lastInsertId = (int) psFinal.getLastInsertID();\r\n            connection.close();\r\n        } catch(SQLException ex){\r\n            System.err.println(&quot;Error: &quot;+ex);\r\n        }\r\n\r\n        return lastInsertId;\r\n    }\r\n\r\nAlso, (and just in case) the method to get the `ConnectionImpl` is the following:\r\n\r\n    public static ConnectionImpl getConnectionImpl(){\r\n        ConnectionImpl conexion = null;\r\n\r\n        final String dbName = &quot;database_name&quot;;\r\n        final String dbPort = &quot;3306&quot;;\r\n        final String dbIPAddress = &quot;127.0.0.1&quot;;\r\n        final String connectionPath = &quot;jdbc:mysql://&quot;+dbIPAddress+&quot;:&quot;+dbPort+&quot;/&quot;+dbName+&quot;?autoReconnect=true&amp;useSSL=false&quot;;\r\n        \r\n        final String dbUser = &quot;database_user&quot;;\r\n        final String dbPassword = &quot;database_password&quot;;\r\n        try{\r\n            conexion = (ConnectionImpl) DriverManager.getConnection(connectionPath, dbUser, dbPassword);\r\n        }catch(SQLException e){\r\n            System.err.println(e);\r\n        }\r\n        \r\n        return conexion;\r\n    }\r\n\r\nRemember to add the [connector/J](https://dev.mysql.com/downloads/connector/j/) to the project referenced libraries.\r\n\r\nIn my case, the connector/J version is the 5.1.42. Maybe you will have to apply some changes to the `connectionPath` if you want to use a more modern version of the  connector/J such as with the version 8.0.28.\r\n\r\nIn the file, remember to import the following resources:\r\n\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import com.mysql.jdbc.ConnectionImpl;\r\n\r\nHope this will be helpful.","title":"How to get the insert ID in JDBC?","body":"<p>If you are using JDBC (tested with MySQL) and you just want the last inserted ID, there is an easy way to get it. The method I'm using is the following:</p>\n<pre><code>public static Integer insert(ConnectionImpl connection, String insertQuery){\n\n    Integer lastInsertId = -1;\n    try{\n        final PreparedStatement ps = connection.prepareStatement(insertQuery);\n        ps.executeUpdate(insertQuery);\n        final com.mysql.jdbc.PreparedStatement psFinal = (com.mysql.jdbc.PreparedStatement) ps;\n        lastInsertId = (int) psFinal.getLastInsertID();\n        connection.close();\n    } catch(SQLException ex){\n        System.err.println(&quot;Error: &quot;+ex);\n    }\n\n    return lastInsertId;\n}\n</code></pre>\n<p>Also, (and just in case) the method to get the <code>ConnectionImpl</code> is the following:</p>\n<pre><code>public static ConnectionImpl getConnectionImpl(){\n    ConnectionImpl conexion = null;\n\n    final String dbName = &quot;database_name&quot;;\n    final String dbPort = &quot;3306&quot;;\n    final String dbIPAddress = &quot;127.0.0.1&quot;;\n    final String connectionPath = &quot;jdbc:mysql://&quot;+dbIPAddress+&quot;:&quot;+dbPort+&quot;/&quot;+dbName+&quot;?autoReconnect=true&amp;useSSL=false&quot;;\n    \n    final String dbUser = &quot;database_user&quot;;\n    final String dbPassword = &quot;database_password&quot;;\n    try{\n        conexion = (ConnectionImpl) DriverManager.getConnection(connectionPath, dbUser, dbPassword);\n    }catch(SQLException e){\n        System.err.println(e);\n    }\n    \n    return conexion;\n}\n</code></pre>\n<p>Remember to add the <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">connector/J</a> to the project referenced libraries.</p>\n<p>In my case, the connector/J version is the 5.1.42. Maybe you will have to apply some changes to the <code>connectionPath</code> if you want to use a more modern version of the  connector/J such as with the version 8.0.28.</p>\n<p>In the file, remember to import the following resources:</p>\n<pre><code>import java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport com.mysql.jdbc.ConnectionImpl;\n</code></pre>\n<p>Hope this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661267931,"creation_date":1661267931,"answer_id":73461252,"question_id":1915166,"body_markdown":"Most others have suggested to use JDBC API for this, but personally, I find it quite painful to do with most drivers. When in fact, you can just use a native T-SQL feature, [the `OUTPUT` clause][1]:\r\n\r\n```java\r\ntry (\r\n    Statement s = c.createStatement();\r\n    ResultSet rs = s.executeQuery(\r\n        &quot;&quot;&quot;\r\n        INSERT INTO t (a, b)\r\n        OUTPUT id\r\n        VALUES (1, 2)\r\n        &quot;&quot;&quot;\r\n    );\r\n) {\r\n    while (rs.next())\r\n        System.out.println(&quot;ID = &quot; + rs.getLong(1));\r\n}\r\n```\r\n\r\nThis is the simplest solution for SQL Server as well as a few other SQL dialects (e.g. Firebird, MariaDB, PostgreSQL, where you&#39;d use `RETURNING` instead of `OUTPUT`).\r\n\r\n[I&#39;ve blogged about this topic more in detail here][2].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/queries/output-clause-transact-sql?view=sql-server-ver16\r\n  [2]: https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/","title":"How to get the insert ID in JDBC?","body":"<p>Most others have suggested to use JDBC API for this, but personally, I find it quite painful to do with most drivers. When in fact, you can just use a native T-SQL feature, <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/queries/output-clause-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\">the <code>OUTPUT</code> clause</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    Statement s = c.createStatement();\n    ResultSet rs = s.executeQuery(\n        &quot;&quot;&quot;\n        INSERT INTO t (a, b)\n        OUTPUT id\n        VALUES (1, 2)\n        &quot;&quot;&quot;\n    );\n) {\n    while (rs.next())\n        System.out.println(&quot;ID = &quot; + rs.getLong(1));\n}\n</code></pre>\n<p>This is the simplest solution for SQL Server as well as a few other SQL dialects (e.g. Firebird, MariaDB, PostgreSQL, where you'd use <code>RETURNING</code> instead of <code>OUTPUT</code>).</p>\n<p><a href=\"https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/\" rel=\"nofollow noreferrer\">I've blogged about this topic more in detail here</a>.</p>\n"},{"tags":[],"owner":{"account_id":24268708,"reputation":21,"user_id":18217177,"display_name":"Динар Исламов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686248273,"creation_date":1686248273,"answer_id":76434667,"question_id":1915166,"body_markdown":"You can use `executeQuery(query)` function\r\n\r\nand add `RETURNING *` clause to your query\r\ninstead `*` you can specify column name\r\n\r\nFor example \r\n\r\ncreate table first\r\n\r\n    CREATE TABLE users (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL);\r\n\r\ncreate query\r\n\r\n    val query: String = &quot;INSERT INTO users (name) VALUES (&quot;Bob&quot;), (&quot;Makr&quot;), (&quot;Adam&quot;) RETURNING id;&quot;\r\n\r\napply query\r\n\r\n    val statement = connection.prepareStatement(query)\r\n    val result = statement.executeQuery()\r\n    val keys = buildList {\r\n        while (result.next()) { add(result.getLong(1)) }\r\n    }\r\n\r\n\r\nkeys is your result. So you can return any column set or full object","title":"How to get the insert ID in JDBC?","body":"<p>You can use <code>executeQuery(query)</code> function</p>\n<p>and add <code>RETURNING *</code> clause to your query\ninstead <code>*</code> you can specify column name</p>\n<p>For example</p>\n<p>create table first</p>\n<pre><code>CREATE TABLE users (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL);\n</code></pre>\n<p>create query</p>\n<pre><code>val query: String = &quot;INSERT INTO users (name) VALUES (&quot;Bob&quot;), (&quot;Makr&quot;), (&quot;Adam&quot;) RETURNING id;&quot;\n</code></pre>\n<p>apply query</p>\n<pre><code>val statement = connection.prepareStatement(query)\nval result = statement.executeQuery()\nval keys = buildList {\n    while (result.next()) { add(result.getLong(1)) }\n}\n</code></pre>\n<p>keys is your result. So you can return any column set or full object</p>\n"}],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365395,"favorite_count":0,"down_vote_count":0,"up_vote_count":433,"accepted_answer_id":1915197,"answer_count":15,"score":433,"last_activity_date":1686248273,"creation_date":1260975478,"question_id":1915166,"body_markdown":"I want to `INSERT` a record in a database (which is Microsoft SQL Server in my case) using JDBC in Java. At the same time, I want to obtain the insert ID. How can I achieve this using JDBC API?","title":"How to get the insert ID in JDBC?","body":"<p>I want to <code>INSERT</code> a record in a database (which is Microsoft SQL Server in my case) using JDBC in Java. At the same time, I want to obtain the insert ID. How can I achieve this using JDBC API?</p>\n"},{"tags":["java","encryption","aes-gcm","node-crypto"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686247539,"post_id":76434457,"comment_id":134776556,"body_markdown":"Ciphertext and tag are usually concatenated in Java (JCA/JCE) (ciphertext|tag). Your sample data contains ciphertext and tag separated, i.e. for decryption with Java they have to be concatenated (as raw data, i.e. after Base64 decoding). Note that for GCM a 12 bytes IV is recommended.","body":"Ciphertext and tag are usually concatenated in Java (JCA/JCE) (ciphertext|tag). Your sample data contains ciphertext and tag separated, i.e. for decryption with Java they have to be concatenated (as raw data, i.e. after Base64 decoding). Note that for GCM a 12 bytes IV is recommended."}],"answers":[{"tags":[],"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686246503,"creation_date":1686246503,"answer_id":76434482,"question_id":76434457,"body_markdown":"try this:\r\n```\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Decryptor {\r\n\r\n    public static String decryptSymmetric128BitHexKeyUTF8(String ciphertext, String iv, String tag, String key) throws Exception {\r\n        String algorithm = &quot;AES/GCM/NoPadding&quot;;\r\n\r\n        byte[] ivBytes = Base64.getDecoder().decode(iv);\r\n        byte[] tagBytes = Base64.getDecoder().decode(tag);\r\n        byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\r\n        \r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, ivBytes);\r\n        \r\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, gcmParameterSpec);\r\n        cipher.updateAAD(tagBytes);\r\n        \r\n        byte[] ciphertextBytes = Base64.getDecoder().decode(ciphertext);\r\n        byte[] decryptedBytes = cipher.doFinal(ciphertextBytes);\r\n        \r\n        return new String(decryptedBytes, &quot;UTF-8&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String ciphertext = &quot;2LPVwa7s4+xyd8KF94r07TOCaOdf4X90NWqhHQCpoJGT+T3TYjKCWf3V+A==&quot;;\r\n        String iv = &quot;S4/yimaF8bu0jQW9uagIJA==&quot;;\r\n        String tag = &quot;L6BtTic18dd4fNL2maytFA==&quot;;\r\n        String key = &quot;password1232asdfpassword1232asdf&quot;;\r\n        \r\n        String decryptedText = decryptSymmetric128BitHexKeyUTF8(ciphertext, iv, tag, key);\r\n        System.out.println(decryptedText);\r\n    }\r\n}\r\n```\r\nalso make sure to have the Java Cryptography Extension (JCE) installed in your Java runtime environment, as the &quot;AES/GCM/NoPadding&quot; transformation requires it.\r\n\r\nThe decryptSymmetric128BitHexKeyUTF8 method takes the ciphertext, iv, tag, and key as input parameters and returns the decrypted plaintext as a string. It decodes the Base64-encoded inputs, initializes the cipher with the secret key and parameters, updates the associated authenticated data (tag), and performs the decryption using doFinal. Finally, it converts the decrypted bytes back to a UTF-8 encoded string.\r\n\r\nIn the main method, you can test the decryption by providing the test data you provided. The decrypted text should match the expected plain text you mentioned.\r\n\r\nHope this work fine with you...","title":"How to write Java code for AES GCM Decryption using authentication tags","body":"<p>try this:</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.util.Base64;\n\npublic class Decryptor {\n\n    public static String decryptSymmetric128BitHexKeyUTF8(String ciphertext, String iv, String tag, String key) throws Exception {\n        String algorithm = &quot;AES/GCM/NoPadding&quot;;\n\n        byte[] ivBytes = Base64.getDecoder().decode(iv);\n        byte[] tagBytes = Base64.getDecoder().decode(tag);\n        byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\n        \n        Cipher cipher = Cipher.getInstance(algorithm);\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, ivBytes);\n        \n        cipher.init(Cipher.DECRYPT_MODE, secretKey, gcmParameterSpec);\n        cipher.updateAAD(tagBytes);\n        \n        byte[] ciphertextBytes = Base64.getDecoder().decode(ciphertext);\n        byte[] decryptedBytes = cipher.doFinal(ciphertextBytes);\n        \n        return new String(decryptedBytes, &quot;UTF-8&quot;);\n    }\n\n    public static void main(String[] args) throws Exception {\n        String ciphertext = &quot;2LPVwa7s4+xyd8KF94r07TOCaOdf4X90NWqhHQCpoJGT+T3TYjKCWf3V+A==&quot;;\n        String iv = &quot;S4/yimaF8bu0jQW9uagIJA==&quot;;\n        String tag = &quot;L6BtTic18dd4fNL2maytFA==&quot;;\n        String key = &quot;password1232asdfpassword1232asdf&quot;;\n        \n        String decryptedText = decryptSymmetric128BitHexKeyUTF8(ciphertext, iv, tag, key);\n        System.out.println(decryptedText);\n    }\n}\n</code></pre>\n<p>also make sure to have the Java Cryptography Extension (JCE) installed in your Java runtime environment, as the &quot;AES/GCM/NoPadding&quot; transformation requires it.</p>\n<p>The decryptSymmetric128BitHexKeyUTF8 method takes the ciphertext, iv, tag, and key as input parameters and returns the decrypted plaintext as a string. It decodes the Base64-encoded inputs, initializes the cipher with the secret key and parameters, updates the associated authenticated data (tag), and performs the decryption using doFinal. Finally, it converts the decrypted bytes back to a UTF-8 encoded string.</p>\n<p>In the main method, you can test the decryption by providing the test data you provided. The decrypted text should match the expected plain text you mentioned.</p>\n<p>Hope this work fine with you...</p>\n"}],"owner":{"account_id":4648786,"reputation":333,"user_id":3766192,"accept_rate":0,"display_name":"thatman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686248170,"creation_date":1686246282,"question_id":76434457,"body_markdown":"I am building a Java SDK for which I need to write a service to decrypt cipher text using initialVector, authenticationTag and secretKey. I am taking reference from equivalent node SDK. The JavaScript code is as follows using the *crypt* package of [Node.js][1].\r\n\r\n    export const decryptSymmetric128BitHexKeyUTF8 = ({ ciphertext, iv, tag, key }: IDecryptSymmetric128BitHexKeyUTF8Input) =&gt; {\r\n      const ALGORITHM = &#39;aes-256-gcm&#39;;\r\n\r\n      const decipher = crypto.createDecipheriv(\r\n        ALGORITHM,\r\n        key,\r\n        Buffer.from(iv, &#39;base64&#39;)\r\n      );\r\n      decipher.setAuthTag(Buffer.from(tag, &#39;base64&#39;));\r\n\r\n      let cleartext = decipher.update(ciphertext, &#39;base64&#39;, &#39;utf8&#39;);\r\n      cleartext += decipher.final(&#39;utf8&#39;);\r\n\r\n      return cleartext;\r\n    }\r\n\r\nI am trying to write equivalent Java code, but I am struggling for the same as I don&#39;t know how to use authentication tags in Java during decryption. I am using Java 8. How can I write Java code for the same?\r\n\r\nHere is the test data.\r\n\r\n```\r\ncipherText: 2LPVwa7s4+xyd8KF94r07TOCaOdf4X90NWqhHQCpoJGT+T3TYjKCWf3V+A==\r\niv: S4/yimaF8bu0jQW9uagIJA==\r\ntag: L6BtTic18dd4fNL2maytFA==\r\nkey: password1232asdfpassword1232asdf\r\nexpectedPlainText: The quick brown fox jumps over the lazy dog\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Node.js\r\n\r\n\r\n","title":"How to write Java code for AES GCM Decryption using authentication tags","body":"<p>I am building a Java SDK for which I need to write a service to decrypt cipher text using initialVector, authenticationTag and secretKey. I am taking reference from equivalent node SDK. The JavaScript code is as follows using the <em>crypt</em> package of <a href=\"https://en.wikipedia.org/wiki/Node.js\" rel=\"nofollow noreferrer\">Node.js</a>.</p>\n<pre><code>export const decryptSymmetric128BitHexKeyUTF8 = ({ ciphertext, iv, tag, key }: IDecryptSymmetric128BitHexKeyUTF8Input) =&gt; {\n  const ALGORITHM = 'aes-256-gcm';\n\n  const decipher = crypto.createDecipheriv(\n    ALGORITHM,\n    key,\n    Buffer.from(iv, 'base64')\n  );\n  decipher.setAuthTag(Buffer.from(tag, 'base64'));\n\n  let cleartext = decipher.update(ciphertext, 'base64', 'utf8');\n  cleartext += decipher.final('utf8');\n\n  return cleartext;\n}\n</code></pre>\n<p>I am trying to write equivalent Java code, but I am struggling for the same as I don't know how to use authentication tags in Java during decryption. I am using Java 8. How can I write Java code for the same?</p>\n<p>Here is the test data.</p>\n<pre><code>cipherText: 2LPVwa7s4+xyd8KF94r07TOCaOdf4X90NWqhHQCpoJGT+T3TYjKCWf3V+A==\niv: S4/yimaF8bu0jQW9uagIJA==\ntag: L6BtTic18dd4fNL2maytFA==\nkey: password1232asdfpassword1232asdf\nexpectedPlainText: The quick brown fox jumps over the lazy dog\n</code></pre>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686175008,"post_id":76427216,"comment_id":134764969,"body_markdown":"Please don&#39;t post images of text. Please edit your question and add any error messages, exceptions or stack trace.","body":"Please don&#39;t post images of text. Please edit your question and add any error messages, exceptions or stack trace."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686176553,"post_id":76427216,"comment_id":134765176,"body_markdown":"*String selectQuery=&quot;SELECT *FROM &quot;+ Constants.TABLE_NAME ;* Typo there - missing space","body":"<i>String selectQuery=&quot;SELECT *FROM &quot;+ Constants.TABLE_NAME ;</i> Typo there - missing space"},{"owner":{"account_id":24317146,"reputation":1,"user_id":18258131,"display_name":"hmmm"},"score":0,"creation_date":1686247876,"post_id":76427216,"comment_id":134776625,"body_markdown":"Hi @g00se I don&#39;t understand clearly where the typo is","body":"Hi @g00se I don&#39;t understand clearly where the typo is"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686248429,"post_id":76427216,"comment_id":134776726,"body_markdown":"Missing space between the asterisk and `FROM`","body":"Missing space between the asterisk and <code>FROM</code>"},{"owner":{"account_id":24317146,"reputation":1,"user_id":18258131,"display_name":"hmmm"},"score":0,"creation_date":1686249104,"post_id":76427216,"comment_id":134776835,"body_markdown":"still not working @g00se","body":"still not working @g00se"},{"owner":{"account_id":24317146,"reputation":1,"user_id":18258131,"display_name":"hmmm"},"score":0,"creation_date":1686249130,"post_id":76427216,"comment_id":134776843,"body_markdown":"@tgdavies done!","body":"@tgdavies done!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686249240,"post_id":76427216,"comment_id":134776866,"body_markdown":"You can&#39;t possibly get the same error now the statement has changed","body":"You can&#39;t possibly get the same error now the statement has changed"},{"owner":{"account_id":24317146,"reputation":1,"user_id":18258131,"display_name":"hmmm"},"score":0,"creation_date":1686482233,"post_id":76427216,"comment_id":134801694,"body_markdown":"@g00se i am getting the same error","body":"@g00se i am getting the same error"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686483818,"post_id":76427216,"comment_id":134801850,"body_markdown":"Please show output of `System.out.printf(&quot;The value of &#39;selectQuery&#39; is %s%n&quot;, selectQuery);`","body":"Please show output of <code>System.out.printf(&quot;The value of &#39;selectQuery&#39; is %s%n&quot;, selectQuery);</code>"}],"owner":{"account_id":24317146,"reputation":1,"user_id":18258131,"display_name":"hmmm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686247970,"creation_date":1686173169,"question_id":76427216,"body_markdown":"This is the code where I&#39;m selecting the data\r\n```\r\npublic ArrayList&lt;ModelContact&gt; getAllDta(){\r\n    SQLiteDatabase db= getReadableDatabase();       \r\nArrayList&lt;ModelContact&gt; arraylist=new ArrayList&lt;&gt;();    \r\n   String selectQuery=&quot;SELECT *FROM &quot;+ Constants.TABLE_NAME ;  \r\n     Cursor cursor =db.rawQuery(selectQuery,null);\r\n```\r\n[This is the logcat]\r\n(1) near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error in &quot;SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;&quot;\r\n2023-06-08 23:39:05.498 14868-14868 AndroidRuntime          com.example.contactapp               D  Shutting down VM\r\n2023-06-08 23:39:05.537 14868-14868 AndroidRuntime          com.example.contactapp               E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.contactapp, PID: 14868\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.contactapp/com.example.contactapp.Activity_Contact_details}: android.database.sqlite.SQLiteException: near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3921)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2442)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8170)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: android.database.sqlite.SQLiteException: near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1069)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:673)\r\n                                                                                                    \tat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\r\n                                                                                                    \tat android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:62)\r\n                                                                                                    \tat android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1714)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1653)\r\n                                                                                                    \tat com.example.contactapp.Activity_Contact_details.loadDataById(Activity_Contact_details.java:45)\r\n                                                                                                    \tat com.example.contactapp.Activity_Contact_details.onCreate(Activity_Contact_details.java:38)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8595)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8573)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3763)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3921)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2442)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8170)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)&#160;\r\n\r\nI am trying to display the contact details but it the app is crashing as soon as I&#39;m clicking on the targeted button.\r\n\r\nbelow is where I&#39;m targeting the contact image element \r\n```\r\nholder.contact_image.setOnClickListener(new View.OnClickListener() {\r\n    @Override    public void onClick(View view) {\r\n        Intent intent =new Intent(context,Activity_Contact_details.class);        intent.putExtra(&quot;contactId&quot;,id);      \r\n  context.startActivity(intent);        \r\nToast.makeText(context,&quot;Hello&quot;,Toast.LENGTH_SHORT).show();    }\r\n});\r\n```\r\n","title":"Data not being displayed on clicking the element","body":"<p>This is the code where I'm selecting the data</p>\n<pre><code>public ArrayList&lt;ModelContact&gt; getAllDta(){\n    SQLiteDatabase db= getReadableDatabase();       \nArrayList&lt;ModelContact&gt; arraylist=new ArrayList&lt;&gt;();    \n   String selectQuery=&quot;SELECT *FROM &quot;+ Constants.TABLE_NAME ;  \n     Cursor cursor =db.rawQuery(selectQuery,null);\n</code></pre>\n<p>[This is the logcat]\n(1) near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error in &quot;SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;&quot;\n2023-06-08 23:39:05.498 14868-14868 AndroidRuntime          com.example.contactapp               D  Shutting down VM\n2023-06-08 23:39:05.537 14868-14868 AndroidRuntime          com.example.contactapp               E  FATAL EXCEPTION: main\nProcess: com.example.contactapp, PID: 14868\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.contactapp/com.example.contactapp.Activity_Contact_details}: android.database.sqlite.SQLiteException: near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3921)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2442)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.app.ActivityThread.main(ActivityThread.java:8170)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\nCaused by: android.database.sqlite.SQLiteException: near &quot;FROMCONTACT_TABLEWHEREID&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: SELECT *FROMCONTACT_TABLEWHEREID=&quot;1&quot;\nat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\nat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1069)\nat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:673)\nat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\nat android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:62)\nat android.database.sqlite.SQLiteQuery.(SQLiteQuery.java:37)\nat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\nat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1714)\nat android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1653)\nat com.example.contactapp.Activity_Contact_details.loadDataById(Activity_Contact_details.java:45)\nat com.example.contactapp.Activity_Contact_details.onCreate(Activity_Contact_details.java:38)\nat android.app.Activity.performCreate(Activity.java:8595)\nat android.app.Activity.performCreate(Activity.java:8573)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3763)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3921) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2442) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:205) \nat android.os.Looper.loop(Looper.java:294) \nat android.app.ActivityThread.main(ActivityThread.java:8170) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971) </p>\n<p>I am trying to display the contact details but it the app is crashing as soon as I'm clicking on the targeted button.</p>\n<p>below is where I'm targeting the contact image element</p>\n<pre><code>holder.contact_image.setOnClickListener(new View.OnClickListener() {\n    @Override    public void onClick(View view) {\n        Intent intent =new Intent(context,Activity_Contact_details.class);        intent.putExtra(&quot;contactId&quot;,id);      \n  context.startActivity(intent);        \nToast.makeText(context,&quot;Hello&quot;,Toast.LENGTH_SHORT).show();    }\n});\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","screenshot"],"comments":[{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":1,"creation_date":1490265612,"post_id":42973508,"comment_id":73039425,"body_markdown":"I guess it can&#39;t be possible, because selenium may able to interact with only visible web-elements.","body":"I guess it can&#39;t be possible, because selenium may able to interact with only visible web-elements."},{"owner":{"account_id":456581,"reputation":1393,"user_id":855420,"accept_rate":71,"display_name":"Shoaib Akhtar"},"score":0,"creation_date":1490265658,"post_id":42973508,"comment_id":73039461,"body_markdown":"Can you manually take screenshot of page which are not visible because of scroll bar? Because to view those part of page you manually need to scroll. If not, then how you can achieve it using selenium?","body":"Can you manually take screenshot of page which are not visible because of scroll bar? Because to view those part of page you manually need to scroll. If not, then how you can achieve it using selenium?"},{"owner":{"account_id":4227644,"reputation":1510,"user_id":3460813,"accept_rate":79,"display_name":"Sarthak Srivastava"},"score":2,"creation_date":1490266192,"post_id":42973508,"comment_id":73039855,"body_markdown":"@ShoaibAkhtar selenium IDE has a command (captureEntirePageScreenshot) which takes screenshots of full page (scrollable page) then why it is not possible to implement that in webdriver","body":"@ShoaibAkhtar selenium IDE has a command (captureEntirePageScreenshot) which takes screenshots of full page (scrollable page) then why it is not possible to implement that in webdriver"},{"owner":{"account_id":456581,"reputation":1393,"user_id":855420,"accept_rate":71,"display_name":"Shoaib Akhtar"},"score":0,"creation_date":1490695402,"post_id":42973508,"comment_id":73216566,"body_markdown":"@SarthakSrivastava Will the scroll bar on that image are scroll-able? You want to generate screenshot with scroll bar and you should be able to scroll the scroll bar in that screenshot. This is what is your requirement I guess. If yes, then I think it is not possible even with captureEntirePageScreenshot in Selenium IDE. Or your requirement is something else?","body":"@SarthakSrivastava Will the scroll bar on that image are scroll-able? You want to generate screenshot with scroll bar and you should be able to scroll the scroll bar in that screenshot. This is what is your requirement I guess. If yes, then I think it is not possible even with captureEntirePageScreenshot in Selenium IDE. Or your requirement is something else?"}],"answers":[{"tags":[],"owner":{"account_id":3681034,"reputation":2749,"user_id":3065996,"accept_rate":73,"display_name":"optimistic_creeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490267696,"creation_date":1490267696,"answer_id":42974445,"question_id":42973508,"body_markdown":"You can&#39;t do this using merely selenium. You need other tool to perform your task. Follow the link and see my answer: https://stackoverflow.com/questions/39844379/screen-shot-issue-in-selenium-webdriver/39847648#39847648\r\n\r\nHope, it may help you.","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>You can't do this using merely selenium. You need other tool to perform your task. Follow the link and see my answer: <a href=\"https://stackoverflow.com/questions/39844379/screen-shot-issue-in-selenium-webdriver/39847648#39847648\">Screen shot issue in selenium webdriver</a></p>\n\n<p>Hope, it may help you.</p>\n"},{"tags":[],"owner":{"account_id":7171633,"reputation":1393,"user_id":5478909,"accept_rate":79,"display_name":"Kishan Patel"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1490268622,"creation_date":1490268622,"answer_id":42974768,"question_id":42973508,"body_markdown":"Please Find the below code, you can scroll and take screenshots as many as you want. Note the `elements` Webelement. Store them and scroll relatively.\r\nYou can Scroll depending upon how many screenshots you want.\r\n\r\n\tdriver.get(&quot;http://www.bbc.com&quot;);       \r\n\tdriver.manage().window().maximize();\r\n\tSystem.out.println(driver.getTitle());\r\n    File scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n    FileUtils.copyFile(scrFile, new File(&quot;D:/chromedriver/scr3.png&quot;));  \r\n\tWebElement elements = driver.findElement(By.xpath(&quot;.//*[@id=&#39;page&#39;]/section[6]/div/div/div[1]/ul/li[3]/div/div[2]/h3/a&quot;)); \t  \r\n\tThread.sleep(3000L);\r\n\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\tint yPosition = elements.getLocation().getY();\r\n\tjs.executeScript(&quot;window.scroll (0, &quot; + yPosition + &quot;) &quot;);\t     \r\n\tThread.sleep(3000L);\t     \r\n\tFile scrFile1 = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\tFileUtils.copyFile(scrFile1, new File(&quot;D:/chromedriver/scr4.png&quot;));\r\n\tdriver.close();","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>Please Find the below code, you can scroll and take screenshots as many as you want. Note the <code>elements</code> Webelement. Store them and scroll relatively.\nYou can Scroll depending upon how many screenshots you want.</p>\n\n<pre><code>driver.get(\"http://www.bbc.com\");       \ndriver.manage().window().maximize();\nSystem.out.println(driver.getTitle());\nFile scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\nFileUtils.copyFile(scrFile, new File(\"D:/chromedriver/scr3.png\"));  \nWebElement elements = driver.findElement(By.xpath(\".//*[@id='page']/section[6]/div/div/div[1]/ul/li[3]/div/div[2]/h3/a\"));    \nThread.sleep(3000L);\nJavascriptExecutor js = (JavascriptExecutor) driver;\nint yPosition = elements.getLocation().getY();\njs.executeScript(\"window.scroll (0, \" + yPosition + \") \");       \nThread.sleep(3000L);         \nFile scrFile1 = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\nFileUtils.copyFile(scrFile1, new File(\"D:/chromedriver/scr4.png\"));\ndriver.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13216606,"reputation":422,"user_id":9544909,"display_name":"kwishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574102575,"creation_date":1548361701,"answer_id":54354829,"question_id":42973508,"body_markdown":"You Can Try This Method. Hope It Will Be Useful:-\r\n    \t\r\n\tpublic static void takeFullPageScreenShot(WebDriver driver) throws IOException {\r\n\t\t\r\n\t\tJavascriptExecutor jsExec = (JavascriptExecutor)driver;\r\n\r\n\t\tjsExec.executeScript(&quot;window.scrollTo(0, 0);&quot;); //Scroll To Top\r\n\r\n\t\tLong innerHeight = (Long) jsExec.executeScript(&quot;return window.innerHeight;&quot;);\r\n\t\tLong scroll = innerHeight;\r\n\t\t\r\n\t\tLong scrollHeight = (Long) jsExec.executeScript(&quot;return document.body.scrollHeight;&quot;); \r\n\t\t\r\n        scrollHeight = scrollHeight + scroll;\r\n\r\n\t\tdo{\r\n\t\t\t\r\n\t\t\tFile screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\t\t\t\r\n            //Unique File Name For Each Screenshot\r\n            File destination = new File(&quot;E://screenshots//&quot;+String.join(&quot;_&quot;, \r\n            LocalDateTime.now().toString().split(&quot;[^A-Za-z0-9]&quot;))+&quot;.jpg&quot;);\r\n\t\t\t\r\n            FileUtils.copyFile(screenshot, destination));\r\n\r\n            jsExec.executeScript(&quot;window.scrollTo(0, &quot;+innerHeight+&quot;);&quot;);\r\n\r\n\t\t\tinnerHeight = innerHeight + scroll;\r\n\t\t\t\r\n\t\t}while(scrollHeight &gt;= innerHeight);\r\n\t}\r\n\r\n\r\n    Or,\r\n      File screenshot = \r\n      driver.findElement(By.tagName(&quot;body&quot;)).getScreenshotAs(OutputType.FILE);\r\n      File destination = new File(&quot;E://screenshots//&quot;+String.join(&quot;_&quot;, \r\n      LocalDateTime.now().toString().split(&quot;[^A-Za-z0-9]&quot;))+&quot;.jpg&quot;);\r\n      FileUtils.copyFile(screenshot, destination));","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>You Can Try This Method. Hope It Will Be Useful:-</p>\n\n<pre><code>public static void takeFullPageScreenShot(WebDriver driver) throws IOException {\n\n    JavascriptExecutor jsExec = (JavascriptExecutor)driver;\n\n    jsExec.executeScript(\"window.scrollTo(0, 0);\"); //Scroll To Top\n\n    Long innerHeight = (Long) jsExec.executeScript(\"return window.innerHeight;\");\n    Long scroll = innerHeight;\n\n    Long scrollHeight = (Long) jsExec.executeScript(\"return document.body.scrollHeight;\"); \n\n    scrollHeight = scrollHeight + scroll;\n\n    do{\n\n        File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n\n        //Unique File Name For Each Screenshot\n        File destination = new File(\"E://screenshots//\"+String.join(\"_\", \n        LocalDateTime.now().toString().split(\"[^A-Za-z0-9]\"))+\".jpg\");\n\n        FileUtils.copyFile(screenshot, destination));\n\n        jsExec.executeScript(\"window.scrollTo(0, \"+innerHeight+\");\");\n\n        innerHeight = innerHeight + scroll;\n\n    }while(scrollHeight &gt;= innerHeight);\n}\n\n\nOr,\n  File screenshot = \n  driver.findElement(By.tagName(\"body\")).getScreenshotAs(OutputType.FILE);\n  File destination = new File(\"E://screenshots//\"+String.join(\"_\", \n  LocalDateTime.now().toString().split(\"[^A-Za-z0-9]\"))+\".jpg\");\n  FileUtils.copyFile(screenshot, destination));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15290750,"reputation":11,"user_id":11032337,"display_name":"Usha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549612829,"creation_date":1549610503,"answer_id":54587702,"question_id":42973508,"body_markdown":"To take screenshot of a complete webpage, we have to use a third party utility called &#39;[aShot][1]&#39;. aShot is a WebDriver Schreenshot Utility with which we can take screenshot of the entire webpage &amp; also individual WebElement. To do this, we have to download the aShot jar file &amp; add to our project along with Selenium jar files.\r\n\r\n\r\n  [1]: https://github.com/pazone/ashot","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>To take screenshot of a complete webpage, we have to use a third party utility called '<a href=\"https://github.com/pazone/ashot\" rel=\"nofollow noreferrer\">aShot</a>'. aShot is a WebDriver Schreenshot Utility with which we can take screenshot of the entire webpage &amp; also individual WebElement. To do this, we have to download the aShot jar file &amp; add to our project along with Selenium jar files.</p>\n"},{"tags":[],"owner":{"account_id":15800350,"reputation":24,"user_id":11401040,"display_name":"Sandeep Koparde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557853440,"creation_date":1557853440,"answer_id":56135302,"question_id":42973508,"body_markdown":"Try this code. The above response by AB D has some logic errors. They are resolved below:\r\n\r\n        \r\n    public static void takeFullPageScreenShot(WebDriver driver) throws IOException {\r\n\r\n\t    JavascriptExecutor jsExec = (JavascriptExecutor)driver;\r\n\r\n\t    //Returns a Long, Representing the Height of the window’s content area.\r\n\t    Long windowHeight = (Long) jsExec.executeScript(&quot;return window.innerHeight;&quot;);\r\n\t    \r\n\t    //Returns a Long, Representing the Height of the complete WebPage a.k.a. HTML document.\r\n\t    Long webpageHeight = (Long) jsExec.executeScript(&quot;return document.body.scrollHeight;&quot;); \r\n\t    \r\n\t    //Marker to keep track of the current position of the scroll point\r\n\t    //Long currentWindowScroll = Long.valueOf(0);\r\n\t    //Using java&#39;s boxing feature to create a Long object from native long value.\r\n\t    \r\n\t    Long currentWindowScroll = 0L;\r\n\r\n\t    do{\r\n\t    \t//System.out.println(windowHeight + &quot;, &quot; + webpageHeight + &quot;, &quot; + currentWindowScroll);\r\n\t    \t\r\n\t    \tjsExec.executeScript(&quot;window.scrollTo(0, &quot; + currentWindowScroll + &quot;);&quot;);\r\n\t    \t\r\n\t    \tActions act = new Actions(driver);\r\n\t    \tact.pause(5000).perform();\r\n\t    \t\r\n\t    \tFile tempScreenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\r\n\t        //Unique File Name For Each Screenshot\r\n\t        File destination = new File(&quot;C:\\\\core_java\\\\DemoScreenShot\\\\&quot; + String.join(&quot;_&quot;, LocalDateTime.now().toString().split(&quot;[^A-Za-z0-9]&quot;))+ &quot;.png&quot;);\r\n\r\n\t        Files.copy(tempScreenshot, destination);\r\n\t        currentWindowScroll = currentWindowScroll + windowHeight;\r\n\r\n\t    }while(currentWindowScroll &lt;= webpageHeight);\r\n\t}","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>Try this code. The above response by AB D has some logic errors. They are resolved below:</p>\n\n<pre><code>public static void takeFullPageScreenShot(WebDriver driver) throws IOException {\n\n    JavascriptExecutor jsExec = (JavascriptExecutor)driver;\n\n    //Returns a Long, Representing the Height of the window’s content area.\n    Long windowHeight = (Long) jsExec.executeScript(\"return window.innerHeight;\");\n\n    //Returns a Long, Representing the Height of the complete WebPage a.k.a. HTML document.\n    Long webpageHeight = (Long) jsExec.executeScript(\"return document.body.scrollHeight;\"); \n\n    //Marker to keep track of the current position of the scroll point\n    //Long currentWindowScroll = Long.valueOf(0);\n    //Using java's boxing feature to create a Long object from native long value.\n\n    Long currentWindowScroll = 0L;\n\n    do{\n        //System.out.println(windowHeight + \", \" + webpageHeight + \", \" + currentWindowScroll);\n\n        jsExec.executeScript(\"window.scrollTo(0, \" + currentWindowScroll + \");\");\n\n        Actions act = new Actions(driver);\n        act.pause(5000).perform();\n\n        File tempScreenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n\n        //Unique File Name For Each Screenshot\n        File destination = new File(\"C:\\\\core_java\\\\DemoScreenShot\\\\\" + String.join(\"_\", LocalDateTime.now().toString().split(\"[^A-Za-z0-9]\"))+ \".png\");\n\n        Files.copy(tempScreenshot, destination);\n        currentWindowScroll = currentWindowScroll + windowHeight;\n\n    }while(currentWindowScroll &lt;= webpageHeight);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587963303,"creation_date":1587963303,"answer_id":61451961,"question_id":42973508,"body_markdown":"Using [Shutterbug](https://github.com/assertthat/selenium-shutterbug), short and sweet:\r\n\r\n```\r\npublic byte[] shootPage() throws IOException {\r\n\tBufferedImage image = Shutterbug.shootPage(driver, ScrollStrategy.WHOLE_PAGE).getImage();\r\n\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\tImageIO.write(image, &quot;png&quot;, outputStream);\r\n\treturn outputStream.toByteArray();\r\n}\r\n```","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>Using <a href=\"https://github.com/assertthat/selenium-shutterbug\" rel=\"nofollow noreferrer\">Shutterbug</a>, short and sweet:</p>\n\n<pre><code>public byte[] shootPage() throws IOException {\n    BufferedImage image = Shutterbug.shootPage(driver, ScrollStrategy.WHOLE_PAGE).getImage();\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    ImageIO.write(image, \"png\", outputStream);\n    return outputStream.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629135474,"creation_date":1629135474,"answer_id":68807051,"question_id":42973508,"body_markdown":"In Selenium 4, `FirefoxDriver` provides a `getFullPageScreenshotAs` method that handles vertical and horizontal scrolling, as well as fixed elements (e.g. navbars). Other drivers do not yet have this functionality.\r\n\r\n```java\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;path/to/geckodriver&quot;);\r\nfinal FirefoxOptions options = new FirefoxOptions();\r\n// set options...\r\nfinal FirefoxDriver driver = new FirefoxDriver(options);\r\ndriver.get(&quot;https://stackoverflow.com/&quot;);\r\nFile fullScreenshotFile = driver.getFullPageScreenshotAs(OutputType.FILE);\r\n// File will be deleted once the JVM exits, so you should copy it\r\n```","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>In Selenium 4, <code>FirefoxDriver</code> provides a <code>getFullPageScreenshotAs</code> method that handles vertical and horizontal scrolling, as well as fixed elements (e.g. navbars). Other drivers do not yet have this functionality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;path/to/geckodriver&quot;);\nfinal FirefoxOptions options = new FirefoxOptions();\n// set options...\nfinal FirefoxDriver driver = new FirefoxDriver(options);\ndriver.get(&quot;https://stackoverflow.com/&quot;);\nFile fullScreenshotFile = driver.getFullPageScreenshotAs(OutputType.FILE);\n// File will be deleted once the JVM exits, so you should copy it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637926683,"creation_date":1637926683,"answer_id":70123817,"question_id":42973508,"body_markdown":"Here&#39;s an advance on @kwishna&#39;s answer which stitches the screenshots together into a single image:\r\n\r\n```\r\n    public void takeFullPageScreenShot(WebDriver driver) throws IOException {\r\n        JavascriptExecutor jsExec = (JavascriptExecutor) driver;\r\n        jsExec.executeScript(&quot;window.scrollTo(0, 0);&quot;);\r\n        Long innerHeight = (Long) jsExec.executeScript(&quot;return window.innerHeight;&quot;);\r\n        Long scroll = innerHeight;\r\n        Long scrollHeight = (Long) jsExec.executeScript(&quot;return document.body.scrollHeight;&quot;);\r\n\r\n        scrollHeight = scrollHeight + scroll;\r\n\r\n        List&lt;byte[]&gt; images = new ArrayList&lt;&gt;();\r\n\r\n        do {\r\n            byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n            images.add(screenshot);\r\n            jsExec.executeScript(&quot;window.scrollTo(0, &quot;+innerHeight+&quot;);&quot;);\r\n            innerHeight = innerHeight + scroll;\r\n        } while (scrollHeight &gt;= innerHeight);\r\n\r\n        BufferedImage result = null;\r\n        Graphics g = null;\r\n\r\n        int x = 0, y = 0;\r\n        for(byte[] image : images){\r\n            InputStream is = new ByteArrayInputStream(image);\r\n            BufferedImage bi = ImageIO.read(is);\r\n            if (result == null) {\r\n                // Lazy init so we can infer height and width\r\n                result = new BufferedImage(\r\n                        bi.getWidth(), bi.getHeight() * images.size(),\r\n                        BufferedImage.TYPE_INT_RGB);\r\n                g = result.getGraphics();\r\n            }\r\n            g.drawImage(bi, x, y, null);\r\n            y += bi.getHeight();\r\n        }\r\n        ImageIO.write(result,&quot;png&quot;,new File(&quot;result.png&quot;));\r\n    }\r\n```","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>Here's an advance on @kwishna's answer which stitches the screenshots together into a single image:</p>\n<pre><code>    public void takeFullPageScreenShot(WebDriver driver) throws IOException {\n        JavascriptExecutor jsExec = (JavascriptExecutor) driver;\n        jsExec.executeScript(&quot;window.scrollTo(0, 0);&quot;);\n        Long innerHeight = (Long) jsExec.executeScript(&quot;return window.innerHeight;&quot;);\n        Long scroll = innerHeight;\n        Long scrollHeight = (Long) jsExec.executeScript(&quot;return document.body.scrollHeight;&quot;);\n\n        scrollHeight = scrollHeight + scroll;\n\n        List&lt;byte[]&gt; images = new ArrayList&lt;&gt;();\n\n        do {\n            byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n            images.add(screenshot);\n            jsExec.executeScript(&quot;window.scrollTo(0, &quot;+innerHeight+&quot;);&quot;);\n            innerHeight = innerHeight + scroll;\n        } while (scrollHeight &gt;= innerHeight);\n\n        BufferedImage result = null;\n        Graphics g = null;\n\n        int x = 0, y = 0;\n        for(byte[] image : images){\n            InputStream is = new ByteArrayInputStream(image);\n            BufferedImage bi = ImageIO.read(is);\n            if (result == null) {\n                // Lazy init so we can infer height and width\n                result = new BufferedImage(\n                        bi.getWidth(), bi.getHeight() * images.size(),\n                        BufferedImage.TYPE_INT_RGB);\n                g = result.getGraphics();\n            }\n            g.drawImage(bi, x, y, null);\n            y += bi.getHeight();\n        }\n        ImageIO.write(result,&quot;png&quot;,new File(&quot;result.png&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":4227644,"reputation":1510,"user_id":3460813,"accept_rate":79,"display_name":"Sarthak Srivastava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30271,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"answer_count":8,"score":7,"last_activity_date":1686247732,"creation_date":1490265182,"question_id":42973508,"body_markdown":"Existing code which takes screenshot of only visible screen. I am using the `Chromedriver`.\r\n\r\n      System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:/chromedriver/chromedriver.exe&quot;);\r\n      WebDriver driver = new ChromeDriver();\r\n      driver.get(&quot;http://www.bbc.com&quot;); \t  \r\n      driver.manage().window().maximize();\r\n      System.out.println(driver.getTitle());\r\n      File scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n      FileUtils.copyFile(scrFile, new File(&quot;D:/chromedriver/scr3.png&quot;));\r\n      driver.close();","title":"How to take full page Screenshot of a scrollable webpage using Selenium WebDriver with Java?","body":"<p>Existing code which takes screenshot of only visible screen. I am using the <code>Chromedriver</code>.</p>\n\n<pre><code>  System.setProperty(\"webdriver.chrome.driver\", \"D:/chromedriver/chromedriver.exe\");\n  WebDriver driver = new ChromeDriver();\n  driver.get(\"http://www.bbc.com\");       \n  driver.manage().window().maximize();\n  System.out.println(driver.getTitle());\n  File scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n  FileUtils.copyFile(scrFile, new File(\"D:/chromedriver/scr3.png\"));\n  driver.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686230390,"creation_date":1686161794,"answer_id":76426053,"question_id":76425535,"body_markdown":"You probably need to look into this option of the splitter:\r\n\r\n\t/**\r\n\t * Specify a channel where rejected Messages should be sent. If the discard\r\n\t * channel is null (the default), rejected Messages will be dropped.\r\n\t * A &quot;Rejected Message&quot; means that split function has returned an empty result (but not null):\r\n\t * no items to iterate for sending.\r\n\t * @param discardChannel The discard channel.\r\n\t * @return the endpoint spec.\r\n\t * @since 5.2\r\n\t * @see DefaultMessageSplitter#setDelimiters(String)\r\n\t */\r\n\tpublic SplitterEndpointSpec&lt;S&gt; discardChannel(MessageChannel discardChannel) {\r\n\r\nThis way you can directly send an empty array (list) to the channel where you can add an empty block into that `AppDetails`.\r\n\r\n**UPDATE**\r\n\r\nAfter discussion below we see now the logic required.\r\n\r\nSo, possible fix is like this:\r\n\r\n    .split(&quot;payload.Address&quot;,splitter -&gt; splitter.applySequence(true).discardChannel(emptyAddressChannel()))\r\n    ...\r\n    .aggregate()\r\n    .channel(&quot;mainAggregatorChannel&quot;)\r\n    .log(&quot;1st aggregate&quot;)\r\n    .aggregate()\r\n\r\n    ...\r\n\r\n    @Bean\r\n    public IntegrationFlow emptyBlockFlow() {\r\n        return IntegrationFlows.from(emptyAddressChannel())\r\n            .transform(payload -&gt; Collections.emptyList())\r\n            .channel(&quot;mainAggregatorChannel&quot;)\r\n            .get();\r\n    }\r\n\r\nPay attention how I inserted the `.channel(&quot;mainAggregatorChannel&quot;)` before top-level aggregator and after `Collections.emptyList()` transformer.\r\n\r\nIt doesn&#39;t matter where channel is declared you still can send message over there. See more info in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-channels. \r\n\r\nOr you can extract that final aggregator with its input channel into a separate `IntegrationFlow` if you find that style more logical than have a dual behavior in one flow.\r\n\r\n**UPDATE 2**\r\n\r\nTurns out your `payload.Address` returns `null` and splitter in this case just drops message silently:\r\n\r\n\t\tObject result = splitMessage(message);\r\n\t\t// return null if &#39;null&#39;\r\n\t\tif (result == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\nYou probably need to look into a function variant of the splitter:\r\n\r\n    .&lt;AppDetail&gt;split(p -&gt; Optional.ofNullable(p.getAddress()).orElse(Collections.emptyList()), \r\n         e -&gt; e.applySequence(false).discardChannel(emptyAddressChannel()))\r\n\r\nOr yeah, Elvis operator of the SpEL:\r\n\r\n    payload.Address ?: {} ","title":"Spring integration aggregation issue after splitting","body":"<p>You probably need to look into this option of the splitter:</p>\n<pre><code>/**\n * Specify a channel where rejected Messages should be sent. If the discard\n * channel is null (the default), rejected Messages will be dropped.\n * A &quot;Rejected Message&quot; means that split function has returned an empty result (but not null):\n * no items to iterate for sending.\n * @param discardChannel The discard channel.\n * @return the endpoint spec.\n * @since 5.2\n * @see DefaultMessageSplitter#setDelimiters(String)\n */\npublic SplitterEndpointSpec&lt;S&gt; discardChannel(MessageChannel discardChannel) {\n</code></pre>\n<p>This way you can directly send an empty array (list) to the channel where you can add an empty block into that <code>AppDetails</code>.</p>\n<p><strong>UPDATE</strong></p>\n<p>After discussion below we see now the logic required.</p>\n<p>So, possible fix is like this:</p>\n<pre><code>.split(&quot;payload.Address&quot;,splitter -&gt; splitter.applySequence(true).discardChannel(emptyAddressChannel()))\n...\n.aggregate()\n.channel(&quot;mainAggregatorChannel&quot;)\n.log(&quot;1st aggregate&quot;)\n.aggregate()\n\n...\n\n@Bean\npublic IntegrationFlow emptyBlockFlow() {\n    return IntegrationFlows.from(emptyAddressChannel())\n        .transform(payload -&gt; Collections.emptyList())\n        .channel(&quot;mainAggregatorChannel&quot;)\n        .get();\n}\n</code></pre>\n<p>Pay attention how I inserted the <code>.channel(&quot;mainAggregatorChannel&quot;)</code> before top-level aggregator and after <code>Collections.emptyList()</code> transformer.</p>\n<p>It doesn't matter where channel is declared you still can send message over there. See more info in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-channels\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-channels</a>.</p>\n<p>Or you can extract that final aggregator with its input channel into a separate <code>IntegrationFlow</code> if you find that style more logical than have a dual behavior in one flow.</p>\n<p><strong>UPDATE 2</strong></p>\n<p>Turns out your <code>payload.Address</code> returns <code>null</code> and splitter in this case just drops message silently:</p>\n<pre><code>    Object result = splitMessage(message);\n    // return null if 'null'\n    if (result == null) {\n        return null;\n    }\n</code></pre>\n<p>You probably need to look into a function variant of the splitter:</p>\n<pre><code>.&lt;AppDetail&gt;split(p -&gt; Optional.ofNullable(p.getAddress()).orElse(Collections.emptyList()), \n     e -&gt; e.applySequence(false).discardChannel(emptyAddressChannel()))\n</code></pre>\n<p>Or yeah, Elvis operator of the SpEL:</p>\n<pre><code>payload.Address ?: {} \n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686247094,"creation_date":1686156712,"question_id":76425535,"body_markdown":"I have developed an integration flow that simultaneously executes three flows. In the &quot;flow3()&quot; function, I am performing parallel API calls, where the number of calls depends on the size of the Address list. Each API request payload corresponds to an address within the Address block. The objective is to gather the API responses and associate them with the corresponding Address blocks in the AppDetails while preserving their order. This association ensures that each response is correctly assigned to the Address block at the corresponding index.\r\n\r\nTo illustrate, suppose the API response is: `{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}`, and there are a total of four Addresses in the AppDetails (two for the first AppDetails and two for the second AppDetails). The desired outcome would be:\r\n\r\n    [[{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false},{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}], [{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false},{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}]]\r\n\r\nHence, we aggregate the responses into two separate arrays, one for each AppDetails. This arrangement facilitates looping through the responses later, making it easier to place the elements back into their respective Address blocks. If an AppDetails block does not contain any Address, the aggregator should provide an empty array for that specific AppDetails, indicating that no responses need to be added to that particular index. The critical requirement is to maintain the order.\r\n\r\nHowever, there appears to be an issue with the provided code. When an AppDetails block lacks an Address block, the execution becomes stuck and does not proceed.\r\n\r\n\r\n```\r\n @Bean\r\n  public IntegrationFlow flow() {\r\n    return flow -&gt;\r\n        flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n            .scatterGather(\r\n                scatterer -&gt;\r\n                    scatterer\r\n                        .applySequence(true)\r\n                        .recipientFlow(flow1())\r\n                        .recipientFlow(conditionToCallflow2, flow2())\r\n                            .recipientFlow(conditionToCallflow3, flow3()),\r\n                gatherer -&gt; gatherer.outputProcessor(gatherAndRespond()));\r\n  }\r\n\r\n  private IntegrationFlow flow3(){\r\n    return flow -&gt; flow.split(&quot;payload.AppDetails&quot;)\r\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n            .split(&quot;payload.Address&quot;,splitter -&gt; splitter.applySequence(true))\r\n            .log(&quot;Address splitter&quot;)\r\n            . channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n            .enrichHeaders(\r\n                    h -&gt;\r\n                            h.header(&quot;consent-level&quot;, 0)\r\n                                    .header(&quot;app-id&quot;, 0))\r\n            .handle(Http.outboundGateway(&quot;http://localhost:9999/data-call/data&quot;)\r\n                    .httpMethod(HttpMethod.POST)\r\n                    .expectedResponseType(String.class)\r\n                    .extractPayload(true))\r\n            .log(&quot;Address response: &quot;)\r\n            .aggregate()\r\n            .log(&quot;1st aggregate&quot;)\r\n            .aggregate()\r\n            .logAndReply(&quot;final aggregator&quot;);\r\n  }\r\n```\r\n\r\nHere is my input request:\r\n\r\n```\r\n{\r\n    &quot;AppDetails&quot;: [\r\n        {\r\n            &quot;PId&quot;: 1230465,\r\n            &quot;AppNumber&quot;: 1,\r\n            &quot;Address&quot;: [\r\n                {\r\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                    &quot;Address3&quot;: &quot;&quot;,\r\n                    &quot;Address4&quot;: &quot;&quot;\r\n                },\r\n                {\r\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                    &quot;Address3&quot;: &quot;&quot;,\r\n                    &quot;Address4&quot;: &quot;&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;PId&quot;: 126541,\r\n            &quot;AppNumber&quot;: 2,\r\n            &quot;Address&quot;: [\r\n                {\r\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                    &quot;Address3&quot;: &quot;&quot;,\r\n                    &quot;Address4&quot;: &quot;&quot;\r\n                },\r\n                {\r\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                    &quot;Address3&quot;: &quot;&quot;,\r\n                    &quot;Address4&quot;: &quot;&quot;\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;ApplicationDetails&quot;: {\r\n        &quot;DataFlag&quot;: [\r\n            {\r\n                &quot;flags&quot;: &quot;4&quot;\r\n            },\r\n            {\r\n                &quot;flags&quot;: &quot;5&quot;\r\n            },\r\n            {\r\n                &quot;flags&quot;: &quot;7&quot;\r\n            }\r\n        ],\r\n        &quot;CSTimestamp&quot;: &quot;2022-11-08 10:39:09.382&quot;,\r\n        &quot;tsid&quot;: 991254996710\r\n    }\r\n}\r\n```\r\n\r\n[UPDATE]After Artem&#39;s suggestion I update my code - \r\n\r\n \r\n\r\n    private IntegrationFlow flow3(){\r\n        return flow -&gt; flow.split(&quot;payload.AppDetails&quot;,splitter -&gt; splitter.applySequence(true))\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .split(&quot;payload.Address ?: {}&quot;,splitter -&gt; splitter.applySequence(true).discardChannel(emptyAddressChannel()))\r\n                .log(&quot;Address splitter&quot;)\r\n                . channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .enrichHeaders(\r\n                        h -&gt;\r\n                                h.header(&quot;consent-level&quot;, 0)\r\n                                        .header(&quot;app-id&quot;, 0))\r\n                .handle(Http.outboundGateway(&quot;http://localhost:9999/data-call/data&quot;)\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class)\r\n                        .extractPayload(true))\r\n                .log(&quot;Address response: &quot;)\r\n            .aggregate()\r\n            .resequence()\r\n            .log(&quot;1st aggregate&quot;)\r\n            .channel(&quot;mainAggregatorChannel&quot;)\r\n            .aggregate()\r\n            .resequence();\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow emptyBlockFlow() {\r\n        return IntegrationFlows.from(emptyAddressChannel())\r\n                .transform(payload -&gt; Collections.emptyList())\r\n                .channel(&quot;mainAggregatorChannel&quot;)\r\n                .get();\r\n      }\r\n    \r\n      @Bean\r\n      public MessageChannel emptyAddressChannel() {\r\n        return MessageChannels.direct().get();\r\n      }\r\n\r\nBut still for the below input request the flow is getting stuck somewhere - \r\n\r\n    {\r\n        &quot;AppDetails&quot;: [\r\n            {\r\n                &quot;PId&quot;: 1230465,\r\n                &quot;AppNumber&quot;: 1,\r\n                &quot;Address&quot;: [\r\n                    {\r\n                        &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                        &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                        &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                        &quot;Address3&quot;: &quot;&quot;,\r\n                        &quot;Address4&quot;: &quot;&quot;\r\n                    },\r\n                    {\r\n                        &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\r\n                        &quot;Address1&quot;: &quot;25 Ssdf&quot;,\r\n                        &quot;Address2&quot;: &quot;Fsdf&quot;,\r\n                        &quot;Address3&quot;: &quot;&quot;,\r\n                        &quot;Address4&quot;: &quot;&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;PId&quot;: 126541,\r\n                &quot;AppNumber&quot;: 2\r\n            }\r\n        ],\r\n        &quot;ApplicationDetails&quot;: {\r\n            &quot;DataFlag&quot;: [\r\n                {\r\n                    &quot;flags&quot;: &quot;4&quot;\r\n                },\r\n                {\r\n                    &quot;flags&quot;: &quot;5&quot;\r\n                },\r\n                {\r\n                    &quot;flags&quot;: &quot;7&quot;\r\n                }\r\n            ],\r\n            &quot;CSTimestamp&quot;: &quot;2022-11-08 10:39:09.382&quot;,\r\n            &quot;tsid&quot;: 991254996710\r\n        }\r\n    }\r\n\r\nas you can see in the above input there is no Address block in the 2nd AppDetails.","title":"Spring integration aggregation issue after splitting","body":"<p>I have developed an integration flow that simultaneously executes three flows. In the &quot;flow3()&quot; function, I am performing parallel API calls, where the number of calls depends on the size of the Address list. Each API request payload corresponds to an address within the Address block. The objective is to gather the API responses and associate them with the corresponding Address blocks in the AppDetails while preserving their order. This association ensures that each response is correctly assigned to the Address block at the corresponding index.</p>\n<p>To illustrate, suppose the API response is: <code>{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}</code>, and there are a total of four Addresses in the AppDetails (two for the first AppDetails and two for the second AppDetails). The desired outcome would be:</p>\n<pre><code>[[{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false},{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}], [{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false},{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;favorite-game&quot;:&quot;Stardew Valley&quot;,&quot;subscriber&quot;:false}]]\n</code></pre>\n<p>Hence, we aggregate the responses into two separate arrays, one for each AppDetails. This arrangement facilitates looping through the responses later, making it easier to place the elements back into their respective Address blocks. If an AppDetails block does not contain any Address, the aggregator should provide an empty array for that specific AppDetails, indicating that no responses need to be added to that particular index. The critical requirement is to maintain the order.</p>\n<p>However, there appears to be an issue with the provided code. When an AppDetails block lacks an Address block, the execution becomes stuck and does not proceed.</p>\n<pre><code> @Bean\n  public IntegrationFlow flow() {\n    return flow -&gt;\n        flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(conditionToCallflow2, flow2())\n                            .recipientFlow(conditionToCallflow3, flow3()),\n                gatherer -&gt; gatherer.outputProcessor(gatherAndRespond()));\n  }\n\n  private IntegrationFlow flow3(){\n    return flow -&gt; flow.split(&quot;payload.AppDetails&quot;)\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .split(&quot;payload.Address&quot;,splitter -&gt; splitter.applySequence(true))\n            .log(&quot;Address splitter&quot;)\n            . channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .enrichHeaders(\n                    h -&gt;\n                            h.header(&quot;consent-level&quot;, 0)\n                                    .header(&quot;app-id&quot;, 0))\n            .handle(Http.outboundGateway(&quot;http://localhost:9999/data-call/data&quot;)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class)\n                    .extractPayload(true))\n            .log(&quot;Address response: &quot;)\n            .aggregate()\n            .log(&quot;1st aggregate&quot;)\n            .aggregate()\n            .logAndReply(&quot;final aggregator&quot;);\n  }\n</code></pre>\n<p>Here is my input request:</p>\n<pre><code>{\n    &quot;AppDetails&quot;: [\n        {\n            &quot;PId&quot;: 1230465,\n            &quot;AppNumber&quot;: 1,\n            &quot;Address&quot;: [\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                },\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                }\n            ]\n        },\n        {\n            &quot;PId&quot;: 126541,\n            &quot;AppNumber&quot;: 2,\n            &quot;Address&quot;: [\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                },\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                }\n            ]\n        }\n    ],\n    &quot;ApplicationDetails&quot;: {\n        &quot;DataFlag&quot;: [\n            {\n                &quot;flags&quot;: &quot;4&quot;\n            },\n            {\n                &quot;flags&quot;: &quot;5&quot;\n            },\n            {\n                &quot;flags&quot;: &quot;7&quot;\n            }\n        ],\n        &quot;CSTimestamp&quot;: &quot;2022-11-08 10:39:09.382&quot;,\n        &quot;tsid&quot;: 991254996710\n    }\n}\n</code></pre>\n<p>[UPDATE]After Artem's suggestion I update my code -</p>\n<pre><code>private IntegrationFlow flow3(){\n    return flow -&gt; flow.split(&quot;payload.AppDetails&quot;,splitter -&gt; splitter.applySequence(true))\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .split(&quot;payload.Address ?: {}&quot;,splitter -&gt; splitter.applySequence(true).discardChannel(emptyAddressChannel()))\n            .log(&quot;Address splitter&quot;)\n            . channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .enrichHeaders(\n                    h -&gt;\n                            h.header(&quot;consent-level&quot;, 0)\n                                    .header(&quot;app-id&quot;, 0))\n            .handle(Http.outboundGateway(&quot;http://localhost:9999/data-call/data&quot;)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class)\n                    .extractPayload(true))\n            .log(&quot;Address response: &quot;)\n        .aggregate()\n        .resequence()\n        .log(&quot;1st aggregate&quot;)\n        .channel(&quot;mainAggregatorChannel&quot;)\n        .aggregate()\n        .resequence();\n  }\n\n  @Bean\n  public IntegrationFlow emptyBlockFlow() {\n    return IntegrationFlows.from(emptyAddressChannel())\n            .transform(payload -&gt; Collections.emptyList())\n            .channel(&quot;mainAggregatorChannel&quot;)\n            .get();\n  }\n\n  @Bean\n  public MessageChannel emptyAddressChannel() {\n    return MessageChannels.direct().get();\n  }\n</code></pre>\n<p>But still for the below input request the flow is getting stuck somewhere -</p>\n<pre><code>{\n    &quot;AppDetails&quot;: [\n        {\n            &quot;PId&quot;: 1230465,\n            &quot;AppNumber&quot;: 1,\n            &quot;Address&quot;: [\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                },\n                {\n                    &quot;PostalCode&quot;: &quot;TN1 1SS&quot;,\n                    &quot;Address1&quot;: &quot;25 Ssdf&quot;,\n                    &quot;Address2&quot;: &quot;Fsdf&quot;,\n                    &quot;Address3&quot;: &quot;&quot;,\n                    &quot;Address4&quot;: &quot;&quot;\n                }\n            ]\n        },\n        {\n            &quot;PId&quot;: 126541,\n            &quot;AppNumber&quot;: 2\n        }\n    ],\n    &quot;ApplicationDetails&quot;: {\n        &quot;DataFlag&quot;: [\n            {\n                &quot;flags&quot;: &quot;4&quot;\n            },\n            {\n                &quot;flags&quot;: &quot;5&quot;\n            },\n            {\n                &quot;flags&quot;: &quot;7&quot;\n            }\n        ],\n        &quot;CSTimestamp&quot;: &quot;2022-11-08 10:39:09.382&quot;,\n        &quot;tsid&quot;: 991254996710\n    }\n}\n</code></pre>\n<p>as you can see in the above input there is no Address block in the 2nd AppDetails.</p>\n"},{"tags":["java","database","sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1590038341,"creation_date":1590038341,"answer_id":61927778,"question_id":61926998,"body_markdown":"SQLite does not support updateable CTEs.&lt;br/&gt;\r\nYou can use `NOT EXISTS`:\r\n\r\n    DELETE FROM Contacts \r\n    WHERE EXISTS (\r\n      SELECT 1 FROM Contacts c  \r\n      WHERE c.Name = Contacts.Name AND c.rowid &lt; Contacts.rowid\r\n    );\r\nThis will delete all rows for which there exists another row with the same name and smaller [`rowid`][1].&lt;br/&gt;\r\nSee the [demo][2].&lt;br/&gt;\r\n\r\nOr with a correlated subquery:\r\n\r\n    DELETE FROM Contacts \r\n    WHERE rowid &gt; (\r\n      SELECT MIN(rowid) FROM Contacts c  \r\n      WHERE c.Name = Contacts.Name\r\n    );\r\nSee the [demo][3].&lt;br/&gt;\r\nResults:\r\n\r\n    | Name  | Phone | Email           |\r\n    | ----- | ----- | --------------- |\r\n    | Kris  | 123   | kris@gmail.com  |\r\n    | Annie | 65    | annie@gmail.com |\r\n    | Bob   | 123   | bob@gmail.com   |\r\n\r\n\r\n  [1]: https://www.sqlite.org/rowidtable.html\r\n  [2]: https://www.db-fiddle.com/f/ve5AwdgPcNnjKRGirNeBoy/1\r\n  [3]: https://www.db-fiddle.com/f/ve5AwdgPcNnjKRGirNeBoy/2","title":"SQLite - no such table: while using CTE for deleting duplicate records","body":"<p>SQLite does not support updateable CTEs.<br/>\nYou can use <code>NOT EXISTS</code>:</p>\n\n<pre><code>DELETE FROM Contacts \nWHERE EXISTS (\n  SELECT 1 FROM Contacts c  \n  WHERE c.Name = Contacts.Name AND c.rowid &lt; Contacts.rowid\n);\n</code></pre>\n\n<p>This will delete all rows for which there exists another row with the same name and smaller <a href=\"https://www.sqlite.org/rowidtable.html\" rel=\"nofollow noreferrer\"><code>rowid</code></a>.<br/>\nSee the <a href=\"https://www.db-fiddle.com/f/ve5AwdgPcNnjKRGirNeBoy/1\" rel=\"nofollow noreferrer\">demo</a>.<br/></p>\n\n<p>Or with a correlated subquery:</p>\n\n<pre><code>DELETE FROM Contacts \nWHERE rowid &gt; (\n  SELECT MIN(rowid) FROM Contacts c  \n  WHERE c.Name = Contacts.Name\n);\n</code></pre>\n\n<p>See the <a href=\"https://www.db-fiddle.com/f/ve5AwdgPcNnjKRGirNeBoy/2\" rel=\"nofollow noreferrer\">demo</a>.<br/>\nResults:</p>\n\n<pre><code>| Name  | Phone | Email           |\n| ----- | ----- | --------------- |\n| Kris  | 123   | kris@gmail.com  |\n| Annie | 65    | annie@gmail.com |\n| Bob   | 123   | bob@gmail.com   |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12448819,"reputation":472,"user_id":9064174,"display_name":"yc_hello"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686247079,"creation_date":1686247079,"answer_id":76434533,"question_id":61926998,"body_markdown":"I had the same problem.\r\n\r\nOne workaround as follows.\r\n\r\nInstead of using &quot;DELETE FROM ContactsCTE WHERE RowNumber &gt; 1,&quot;\r\nuse SELECT * FROM ContactsCTE\r\nWHERE RowNumber = 1;","title":"SQLite - no such table: while using CTE for deleting duplicate records","body":"<p>I had the same problem.</p>\n<p>One workaround as follows.</p>\n<p>Instead of using &quot;DELETE FROM ContactsCTE WHERE RowNumber &gt; 1,&quot;\nuse SELECT * FROM ContactsCTE\nWHERE RowNumber = 1;</p>\n"}],"owner":{"account_id":16923868,"reputation":56,"user_id":13586665,"display_name":"Arjanit Isufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61927778,"answer_count":2,"score":1,"last_activity_date":1686247079,"creation_date":1590033488,"question_id":61926998,"body_markdown":"I have created a Contacts table (Name, Phone, Email) and i have some duplicated records that i want to delete\r\n\r\n\r\n    \r\n    WITH ContactsCTE AS (\r\n    \tSELECT *, row_number() OVER ( PARTITION BY Name ORDER BY Name) as RowNumber\r\n    \tFROM Contacts\r\n    )\r\n    SELECT * FROM ContactsCTE\r\n\r\n\r\n    \r\nWhen i use SELECT it shows the data and rowNumber of them and i guess it works fine\r\n\r\n    | Name | Phone |     Email      | RowNumber |\r\n    | Kris | 0123  | kris@gmail.com |     1     |\r\n    | Kris | 0123  | kris@gmail.com |     2     |\r\n    | Kris | 0123  | kris@gmail.com |     3     |\r\n    | Annie| 065   | annie@gmail.com|     1     |\r\n    | Bob  | 0123  | bob@gmail.com  |     1     |\r\n    | Bob  | 0123  | bob@gmail.com  |     2     |\r\n    \r\nBut if i want to DELETE them \r\n    \r\n       \r\n    \r\n     WITH ContactsCTE AS (\r\n        \tSELECT *, row_number() OVER ( PARTITION BY Name ORDER BY Name) as RowNumber\r\n        \tFROM Contacts\r\n        )\r\n     DELETE FROM ContactsCTE WHERE RowNumber &gt; 1\r\n     \r\nI get this message : \r\n**&quot;Result: no such table: ContactsCTE&quot;**\r\nAt line 1:\r\n\r\n\r\n\r\n\r\n","title":"SQLite - no such table: while using CTE for deleting duplicate records","body":"<p>I have created a Contacts table (Name, Phone, Email) and i have some duplicated records that i want to delete</p>\n\n<pre><code>WITH ContactsCTE AS (\n    SELECT *, row_number() OVER ( PARTITION BY Name ORDER BY Name) as RowNumber\n    FROM Contacts\n)\nSELECT * FROM ContactsCTE\n</code></pre>\n\n<p>When i use SELECT it shows the data and rowNumber of them and i guess it works fine</p>\n\n<pre><code>| Name | Phone |     Email      | RowNumber |\n| Kris | 0123  | kris@gmail.com |     1     |\n| Kris | 0123  | kris@gmail.com |     2     |\n| Kris | 0123  | kris@gmail.com |     3     |\n| Annie| 065   | annie@gmail.com|     1     |\n| Bob  | 0123  | bob@gmail.com  |     1     |\n| Bob  | 0123  | bob@gmail.com  |     2     |\n</code></pre>\n\n<p>But if i want to DELETE them </p>\n\n<pre><code> WITH ContactsCTE AS (\n        SELECT *, row_number() OVER ( PARTITION BY Name ORDER BY Name) as RowNumber\n        FROM Contacts\n    )\n DELETE FROM ContactsCTE WHERE RowNumber &gt; 1\n</code></pre>\n\n<p>I get this message : \n<strong>\"Result: no such table: ContactsCTE\"</strong>\nAt line 1:</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686226565,"creation_date":1686226565,"answer_id":76431772,"question_id":76427957,"body_markdown":"&gt; messages in 500 topics are partitioned by a key range. So keys 1-100 are in topicA, 101-200 are in topicB and so on.\r\n\r\nThat&#39;s not how Kafka partitions work; you should use one topic with 500 partitions. But Flink can be subscribed to many topics, just as any other Kafka consumer.\r\n\r\n&gt; ensure messages from each topic are being processed by only a fixed deterministic set of task managers\r\n\r\nThe Flink app will form a consumer group, so therefore will automatically distribute itself, where each instance will consume a subset of partitions from the total assigned topic subscription. ","title":"How to consume from partitioned topics in flink?","body":"<blockquote>\n<p>messages in 500 topics are partitioned by a key range. So keys 1-100 are in topicA, 101-200 are in topicB and so on.</p>\n</blockquote>\n<p>That's not how Kafka partitions work; you should use one topic with 500 partitions. But Flink can be subscribed to many topics, just as any other Kafka consumer.</p>\n<blockquote>\n<p>ensure messages from each topic are being processed by only a fixed deterministic set of task managers</p>\n</blockquote>\n<p>The Flink app will form a consumer group, so therefore will automatically distribute itself, where each instance will consume a subset of partitions from the total assigned topic subscription.</p>\n"}],"owner":{"account_id":176566,"reputation":2055,"user_id":407345,"accept_rate":79,"display_name":"blue01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686247043,"creation_date":1686185515,"question_id":76427957,"body_markdown":"I have a flink app that needs to consume from 500+ topics(1 kafka partition per topic). The messages in 500 topics are partitioned by a key range. So keys 1-100 are in topicA, 101-200 are in topicB and so on.This is a stateful application so I want to keep the state size low. How can I ensure messages from each topic are being processed by only a fixed deterministic set of task managers. \r\n\r\n \r\n\r\n \r\n\r\n    List&lt;String&gt; topics = Arrays.asList(&quot;topic.A&quot;,&quot;topic.B&quot;,...);\r\n    KafkaSource&lt;TestEvent&gt; source = KafkaSource.&lt;TestEvent&gt;builder()\r\n            .setBootstrapServers(brokers)\r\n            .setTopics(topics)\r\n            .setGroupId(&quot;testconsumer&quot;)\r\n            .setStartingOffsets(OffsetsInitializer.earliest())\r\n            .setDeserializer(new TestDeserializationSchema())\r\n            .build();\r\n","title":"How to consume from partitioned topics in flink?","body":"<p>I have a flink app that needs to consume from 500+ topics(1 kafka partition per topic). The messages in 500 topics are partitioned by a key range. So keys 1-100 are in topicA, 101-200 are in topicB and so on.This is a stateful application so I want to keep the state size low. How can I ensure messages from each topic are being processed by only a fixed deterministic set of task managers.</p>\n<pre><code>List&lt;String&gt; topics = Arrays.asList(&quot;topic.A&quot;,&quot;topic.B&quot;,...);\nKafkaSource&lt;TestEvent&gt; source = KafkaSource.&lt;TestEvent&gt;builder()\n        .setBootstrapServers(brokers)\n        .setTopics(topics)\n        .setGroupId(&quot;testconsumer&quot;)\n        .setStartingOffsets(OffsetsInitializer.earliest())\n        .setDeserializer(new TestDeserializationSchema())\n        .build();\n</code></pre>\n"},{"tags":["java","json","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1686246781,"post_id":76434470,"comment_id":134776394,"body_markdown":"&quot;*So is it possible?*&quot; - Java is turing-complete, so yes, it is possible. Look up, for example, jackson. the option in jackson you are looking for is called pretty-printing.","body":"&quot;<i>So is it possible?</i>&quot; - Java is turing-complete, so yes, it is possible. Look up, for example, jackson. the option in jackson you are looking for is called pretty-printing."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686248380,"post_id":76434470,"comment_id":134776711,"body_markdown":"json-simple library from which source and version? The original project seems stalled.","body":"json-simple library from which source and version? The original project seems stalled."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686311369,"post_id":76434470,"comment_id":134784907,"body_markdown":"Which json library? more information please...","body":"Which json library? more information please..."}],"owner":{"account_id":19658128,"reputation":15,"user_id":14390273,"display_name":"Kristaps Ālmanis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686246389,"creation_date":1686246389,"question_id":76434470,"body_markdown":"I am right now using the json-simple library, and it appears that it is not possible to create a multiline json there. Could not find a definitive answer or example on other json libraries.\r\n\r\nSo is it possible?","title":"How to write/output multiline Json in Java?","body":"<p>I am right now using the json-simple library, and it appears that it is not possible to create a multiline json there. Could not find a definitive answer or example on other json libraries.</p>\n<p>So is it possible?</p>\n"},{"tags":["java","arraylist","type-erasure"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686245966,"post_id":76434390,"comment_id":134776237,"body_markdown":"Just give them different names.","body":"Just give them different names."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686246145,"creation_date":1686246145,"answer_id":76434433,"question_id":76434390,"body_markdown":"This is a classic case of Java&#39;s type erasure (https://www.baeldung.com/java-type-erasure), a concept where Java kind of forgets about the specific type of your lists at compile-time, causing both print methods to look identical to it.\r\n\r\nWhat you can do is to check the type of list elements on-the-go: If you find a list inside your list, just call the print method again, for that inner list. If you find a non-list item, just print it, kinda:\r\n\r\n```java\r\nclass TBF {\r\n    void print(List&lt;?&gt; list) {\r\n        for (Object o : list) {\r\n            if (o instanceof List&lt;?&gt;) {\r\n                print((List&lt;?&gt;) o);\r\n            } else {\r\n                System.out.print(o + &quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        // some code\r\n    }\r\n}\r\n```","title":"How to print a nested ArrayList?","body":"<p>This is a classic case of Java's type erasure (<a href=\"https://www.baeldung.com/java-type-erasure\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-type-erasure</a>), a concept where Java kind of forgets about the specific type of your lists at compile-time, causing both print methods to look identical to it.</p>\n<p>What you can do is to check the type of list elements on-the-go: If you find a list inside your list, just call the print method again, for that inner list. If you find a non-list item, just print it, kinda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TBF {\n    void print(List&lt;?&gt; list) {\n        for (Object o : list) {\n            if (o instanceof List&lt;?&gt;) {\n                print((List&lt;?&gt;) o);\n            } else {\n                System.out.print(o + &quot; &quot;);\n            }\n        }\n        System.out.println();\n    }\n\n    public static void main(String args[]) {\n        // some code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21854616,"reputation":11,"user_id":16490734,"display_name":"THE BLUE FRIEND"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686246145,"creation_date":1686245851,"question_id":76434390,"body_markdown":"I want to print a nested `ArrayList` in Java as the title suggests and I&#39;m unable to do that because of conflict with another method.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nimport java.util.*;\r\nclass TBF\r\n{\r\n    &lt;T&gt; void print(ArrayList&lt;T&gt; a)\r\n    {\r\n        for(int i=0;i&lt;a.size();i++)\r\n        System.out.print(a.get(i)+&quot; &quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    &lt;T&gt; void print(ArrayList&lt;ArrayList&lt;T&gt;&gt; a) // this line shows the error: &quot;Erasure of method print(ArrayList&lt;ArrayList&lt;T&gt;&gt;) is the same as another method in type TBF&quot;\r\n    {\r\n        for(int i=0;i&lt;a.size();i++)\r\n        print(a.get(i));\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        // some code\r\n    }\r\n}\r\n```\r\n\r\nThis is unlike any error I received while writing the equivalent code in C++ with `vector`.\r\n\r\nSo I then tried this:\r\n\r\n```\r\nimport java.util.*;\r\nclass TBF\r\n{\r\n    &lt;T&gt; void print(ArrayList&lt;T&gt; a)\r\n    {\r\n        for(int i=0;i&lt;a.size();i++)\r\n        if(a.get(i) instanceof Integer || a.get(i) instanceof Long || a.get(i) instanceof String)\r\n        System.out.print(a.get(i)+&quot; &quot;);\r\n        else\r\n        print(a.get(i)); // this time the error is: &quot;The method print(ArrayList&lt;T&gt;) in the type TBF is not applicable for the arguments (T)&quot;\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        // some code\r\n    }\r\n}\r\n```\r\n\r\nNow I can&#39;t understand how I&#39;m supposed to print a 2D ArrayList. Please help.","title":"How to print a nested ArrayList?","body":"<p>I want to print a nested <code>ArrayList</code> in Java as the title suggests and I'm unable to do that because of conflict with another method.</p>\n<p>Here's my code:</p>\n<pre><code>import java.util.*;\nclass TBF\n{\n    &lt;T&gt; void print(ArrayList&lt;T&gt; a)\n    {\n        for(int i=0;i&lt;a.size();i++)\n        System.out.print(a.get(i)+&quot; &quot;);\n        System.out.println();\n    }\n\n    &lt;T&gt; void print(ArrayList&lt;ArrayList&lt;T&gt;&gt; a) // this line shows the error: &quot;Erasure of method print(ArrayList&lt;ArrayList&lt;T&gt;&gt;) is the same as another method in type TBF&quot;\n    {\n        for(int i=0;i&lt;a.size();i++)\n        print(a.get(i));\n    }\n\n    public static void main(String args[])\n    {\n        // some code\n    }\n}\n</code></pre>\n<p>This is unlike any error I received while writing the equivalent code in C++ with <code>vector</code>.</p>\n<p>So I then tried this:</p>\n<pre><code>import java.util.*;\nclass TBF\n{\n    &lt;T&gt; void print(ArrayList&lt;T&gt; a)\n    {\n        for(int i=0;i&lt;a.size();i++)\n        if(a.get(i) instanceof Integer || a.get(i) instanceof Long || a.get(i) instanceof String)\n        System.out.print(a.get(i)+&quot; &quot;);\n        else\n        print(a.get(i)); // this time the error is: &quot;The method print(ArrayList&lt;T&gt;) in the type TBF is not applicable for the arguments (T)&quot;\n        System.out.println();\n    }\n\n    public static void main(String args[])\n    {\n        // some code\n    }\n}\n</code></pre>\n<p>Now I can't understand how I'm supposed to print a 2D ArrayList. Please help.</p>\n"},{"tags":["java","spring","rest","predicate","querydsl"],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1520419767,"creation_date":1520419767,"answer_id":49150056,"question_id":49146185,"body_markdown":"There is no straightforward way to do this.  \r\nHowever You can try this.   \r\n\r\n  `predicate.toString();` ---&gt; This would print user.Studentid=1234 &amp;&amp; user.studentName=test  \r\nFrom this, you can do a string split.  \r\n\r\nAnother way is with   \r\n\r\n  `predicate.getClass());` ----&gt; This will give you the class name like   \r\n\r\nclass `com.querydsl.core.types.PredicateOperation` (in case of more than one query conditions)  \r\n\r\nclass `com.querydsl.core.types.dsl.BooleanOperation` (in case of single query condition).  \r\n\r\nWith this you could typecast predicate to corresponding type and then do `getArgs()`.  \r\n","title":"Get parameters out from QueryDSL Predicate Object","body":"<p>There is no straightforward way to do this.<br>\nHowever You can try this.   </p>\n\n<p><code>predicate.toString();</code> ---> This would print user.Studentid=1234 &amp;&amp; user.studentName=test<br>\nFrom this, you can do a string split.  </p>\n\n<p>Another way is with   </p>\n\n<p><code>predicate.getClass());</code> ----> This will give you the class name like   </p>\n\n<p>class <code>com.querydsl.core.types.PredicateOperation</code> (in case of more than one query conditions)  </p>\n\n<p>class <code>com.querydsl.core.types.dsl.BooleanOperation</code> (in case of single query condition).  </p>\n\n<p>With this you could typecast predicate to corresponding type and then do <code>getArgs()</code>.  </p>\n"},{"tags":[],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686245900,"creation_date":1686245900,"answer_id":76434400,"question_id":49146185,"body_markdown":"If you use a `QuerydslBinderCustomizer`, the string is not as easy to parse.\r\n\r\nAnother approach is to let Spring bind your query params to the predicate root class, `Student` in your example. To do this, simply add another method argument of type `Student` to your controller method. Then, your query params matching `Student` props are accessible without string parsing.\r\n\r\n    @GetMapping(&quot;/{subjectId}/students&quot;)\r\n    @RolesAllowed( {Roles.PLATFORM_ADMIN, Roles.USER})\r\n    public List&lt;StudentResponse&gt; getAllStudents(\r\n        Student student, // add this arg to easily access the Student related query params\r\n        @PathVariable final String subjectId,                                \r\n        @QuerydslPredicate(root = Student.class) final Predicate predicate) {     \r\n        \r\n        // now you can get the id &amp; name without parsing predicate.toString()\r\n        student.getStudentId();\r\n        student.getStudentName();\r\n\r\n\r\n\r\n","title":"Get parameters out from QueryDSL Predicate Object","body":"<p>If you use a <code>QuerydslBinderCustomizer</code>, the string is not as easy to parse.</p>\n<p>Another approach is to let Spring bind your query params to the predicate root class, <code>Student</code> in your example. To do this, simply add another method argument of type <code>Student</code> to your controller method. Then, your query params matching <code>Student</code> props are accessible without string parsing.</p>\n<pre><code>@GetMapping(&quot;/{subjectId}/students&quot;)\n@RolesAllowed( {Roles.PLATFORM_ADMIN, Roles.USER})\npublic List&lt;StudentResponse&gt; getAllStudents(\n    Student student, // add this arg to easily access the Student related query params\n    @PathVariable final String subjectId,                                \n    @QuerydslPredicate(root = Student.class) final Predicate predicate) {     \n    \n    // now you can get the id &amp; name without parsing predicate.toString()\n    student.getStudentId();\n    student.getStudentName();\n</code></pre>\n"}],"owner":{"account_id":4184329,"reputation":385,"user_id":3428441,"accept_rate":82,"display_name":"Anush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3496,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49150056,"answer_count":2,"score":5,"last_activity_date":1686245900,"creation_date":1520407015,"question_id":49146185,"body_markdown":"I use QueryDSL predicate object with a spring REST endpoint to retrieve and query param values. \r\n\r\n    @GetMapping(&quot;/{subjectId}/students&quot;)\r\n    @RolesAllowed( {Roles.PLATFORM_ADMIN, Roles.USER})\r\n    public List&lt;StudentResponse&gt; getAllStudents(@PathVariable final String subjectId,   \t\t                     \r\n                                          @QuerydslPredicate(root = Student.class) final Predicate predicate) {     \r\n        \t\r\n        \tfinal Predicate searchPredicate = studentPredicate()\r\n                    .predicate(predicate)\r\n                    .subjectId(subjectId)\r\n                    .build();\r\n        \treturn studentService.findBySubjectId(subjectId, searchPredicate);\r\n \r\n    }\r\n\r\n \r\nstudent Class contains **studentId** and **studentName** attributes;\r\n\r\nNow, if someone invokes https://hostname/{subjectId}/students?studentId=1234&amp;studentName=test\r\n\r\nThen above code generates the predicate object with param values. But I need to get above 2 param values out from predicate object for further processing apart from the db querying. I don&#39;t see any supportive method from predicate object to retrieve values out. So how can I do it? ","title":"Get parameters out from QueryDSL Predicate Object","body":"<p>I use QueryDSL predicate object with a spring REST endpoint to retrieve and query param values. </p>\n\n<pre><code>@GetMapping(\"/{subjectId}/students\")\n@RolesAllowed( {Roles.PLATFORM_ADMIN, Roles.USER})\npublic List&lt;StudentResponse&gt; getAllStudents(@PathVariable final String subjectId,                                \n                                      @QuerydslPredicate(root = Student.class) final Predicate predicate) {     \n\n        final Predicate searchPredicate = studentPredicate()\n                .predicate(predicate)\n                .subjectId(subjectId)\n                .build();\n        return studentService.findBySubjectId(subjectId, searchPredicate);\n\n}\n</code></pre>\n\n<p>student Class contains <strong>studentId</strong> and <strong>studentName</strong> attributes;</p>\n\n<p>Now, if someone invokes <a href=\"https://hostname/\" rel=\"nofollow noreferrer\">https://hostname/</a>{subjectId}/students?studentId=1234&amp;studentName=test</p>\n\n<p>Then above code generates the predicate object with param values. But I need to get above 2 param values out from predicate object for further processing apart from the db querying. I don't see any supportive method from predicate object to retrieve values out. So how can I do it? </p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1685807773,"post_id":76388500,"comment_id":134714243,"body_markdown":"Please add the code you have tried and how it failed (e.g. errors,\nstacktraces, logs, ...) so we can improve on it.","body":"Please add the code you have tried and how it failed (e.g. errors, stacktraces, logs, ...) so we can improve on it."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1685818529,"post_id":76388500,"comment_id":134715432,"body_markdown":"https://groovy-lang.org/processing-json.html","body":"<a href=\"https://groovy-lang.org/processing-json.html\" rel=\"nofollow noreferrer\">groovy-lang.org/processing-json.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685819722,"creation_date":1685819722,"answer_id":76397682,"question_id":76388500,"body_markdown":"Use `JsonSlurper` to parse `Json` and replace the dot notation with a nested JSON structure in Groovy as below-\r\n\r\n    import groovy.json.JsonSlurper\r\n    \r\n    def json = &#39;[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]&#39;\r\n    \r\n    def parsedJson = new JsonSlurper().parseText(json)\r\n    \r\n    def replaceDotNotation(jsonObj) {\r\n        jsonObj.collectEntries { key, value -&gt;\r\n            def newKey = key.replace(&#39;.&#39;, &#39;-&#39;)\r\n            [newKey, value instanceof Map ? replaceDotNotation(value) : value]\r\n        }\r\n    }\r\n    \r\n    def transformedJson = replaceDotNotation(parsedJson)\r\n    \r\n    def resultJson = new groovy.json.JsonBuilder(transformedJson).toPrettyString()\r\n    println resultJson\r\n\r\n","title":"Groovy JSON manipulation: How to replace dot notation with nested JSON structure?","body":"<p>Use <code>JsonSlurper</code> to parse <code>Json</code> and replace the dot notation with a nested JSON structure in Groovy as below-</p>\n<pre><code>import groovy.json.JsonSlurper\n\ndef json = '[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]'\n\ndef parsedJson = new JsonSlurper().parseText(json)\n\ndef replaceDotNotation(jsonObj) {\n    jsonObj.collectEntries { key, value -&gt;\n        def newKey = key.replace('.', '-')\n        [newKey, value instanceof Map ? replaceDotNotation(value) : value]\n    }\n}\n\ndef transformedJson = replaceDotNotation(parsedJson)\n\ndef resultJson = new groovy.json.JsonBuilder(transformedJson).toPrettyString()\nprintln resultJson\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686245224,"creation_date":1685861410,"answer_id":76399244,"question_id":76388500,"body_markdown":"Here&#39;s a way that uses recursion. I&#39;m no psychic, but in case you need the inverse I&#39;ve added a second method...\r\n\r\n```lang-java\r\n\r\nString jsonWithDots = &quot;&quot;&quot;[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]&quot;&quot;&quot;\r\nString jsonWithoutDots = &quot;&quot;&quot;[{&quot;sender&quot;: {&quot;senderContactInformation&quot;: {&quot;senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;SenderContactType&quot;: &quot;&quot;}},&quot;ord&quot;: {&quot;ordToAddr1&quot;: &quot;US&quot;},&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender&quot;: {&quot;defenderContactInformation&quot;: &quot;&quot;},&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1&quot;: {&quot;dsType&quot;: {&quot;dsName&quot;: &quot;&quot;}}}]}]}]&quot;&quot;&quot;\r\n\r\ndef withDots = new JsonSlurper().parseText(jsonWithDots)\r\nassert inverseDotNotation(withDots) == new JsonSlurper().parseText(jsonWithoutDots)\r\nassert transformToDotNotation(inverseDotNotation(withDots)) == new JsonSlurper().parseText(jsonWithDots)\r\n\r\ndef inverseDotNotation(object) {\r\n    switch (object) {\r\n        case List:\r\n            return object.collect { inverseDotNotation(it) }\r\n        case Map:\r\n            Map map = [:]\r\n            object.each { k, v -&gt;\r\n                List keys = k.split(/\\./).toList()\r\n                def lastKey = keys.removeLast()\r\n                keys.inject(map) { acc, val -&gt;\r\n                    if (!(acc.containsKey(val))) {\r\n                        acc.&quot;$val&quot; = [:]\r\n                    }\r\n                    acc.&quot;$val&quot;\r\n                }.&quot;$lastKey&quot; = inverseDotNotation(v)\r\n            }\r\n            return map\r\n        default:\r\n            return object\r\n    }\r\n}\r\n\r\ndef transformToDotNotation(object, String key=&quot;&quot;){\r\n    switch(object){\r\n        case Map:\r\n            return object.collectEntries { k, v -&gt; transformToDotNotation(v, !key ? k : key + &quot;.&quot; + k) }\r\n        case List:\r\n            return key\r\n                    ? [(key): object.collect { v -&gt; transformToDotNotation(v) }]\r\n                    : object.collect { v -&gt; transformToDotNotation(v) }\r\n        default:\r\n            return key ? [(key): object] : object\r\n    }\r\n}\r\n```","title":"Groovy JSON manipulation: How to replace dot notation with nested JSON structure?","body":"<p>Here's a way that uses recursion. I'm no psychic, but in case you need the inverse I've added a second method...</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nString jsonWithDots = &quot;&quot;&quot;[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]&quot;&quot;&quot;\nString jsonWithoutDots = &quot;&quot;&quot;[{&quot;sender&quot;: {&quot;senderContactInformation&quot;: {&quot;senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;SenderContactType&quot;: &quot;&quot;}},&quot;ord&quot;: {&quot;ordToAddr1&quot;: &quot;US&quot;},&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender&quot;: {&quot;defenderContactInformation&quot;: &quot;&quot;},&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1&quot;: {&quot;dsType&quot;: {&quot;dsName&quot;: &quot;&quot;}}}]}]}]&quot;&quot;&quot;\n\ndef withDots = new JsonSlurper().parseText(jsonWithDots)\nassert inverseDotNotation(withDots) == new JsonSlurper().parseText(jsonWithoutDots)\nassert transformToDotNotation(inverseDotNotation(withDots)) == new JsonSlurper().parseText(jsonWithDots)\n\ndef inverseDotNotation(object) {\n    switch (object) {\n        case List:\n            return object.collect { inverseDotNotation(it) }\n        case Map:\n            Map map = [:]\n            object.each { k, v -&gt;\n                List keys = k.split(/\\./).toList()\n                def lastKey = keys.removeLast()\n                keys.inject(map) { acc, val -&gt;\n                    if (!(acc.containsKey(val))) {\n                        acc.&quot;$val&quot; = [:]\n                    }\n                    acc.&quot;$val&quot;\n                }.&quot;$lastKey&quot; = inverseDotNotation(v)\n            }\n            return map\n        default:\n            return object\n    }\n}\n\ndef transformToDotNotation(object, String key=&quot;&quot;){\n    switch(object){\n        case Map:\n            return object.collectEntries { k, v -&gt; transformToDotNotation(v, !key ? k : key + &quot;.&quot; + k) }\n        case List:\n            return key\n                    ? [(key): object.collect { v -&gt; transformToDotNotation(v) }]\n                    : object.collect { v -&gt; transformToDotNotation(v) }\n        default:\n            return key ? [(key): object] : object\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28733790,"reputation":1,"user_id":22005187,"display_name":"Avinash Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686245224,"creation_date":1685694970,"question_id":76388500,"body_markdown":"I want to convert the &quot;.&quot;  to a nested JSON block structure inside a JSON block in Groovy. I already go through all the things that are posted on this platform but have not found any suitable way. so please suggest anyway.\r\n\r\nActual:\r\n\r\n```\r\n[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]\r\n```\r\n\r\nDesired:\r\n\r\n```\r\n[{&quot;sender&quot;: {&quot;senderContactInformation&quot;: {&quot;senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;SenderContactType&quot;: &quot;&quot;}},&quot;ord&quot;: {&quot;ordToAddr1&quot;: &quot;US&quot;},&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender&quot;: {&quot;defenderContactInformation&quot;: &quot;&quot;},&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1&quot;: {&quot;dsType&quot;: {&quot;dsName&quot;: &quot;&quot;}}}]}]}]\r\n```","title":"Groovy JSON manipulation: How to replace dot notation with nested JSON structure?","body":"<p>I want to convert the &quot;.&quot;  to a nested JSON block structure inside a JSON block in Groovy. I already go through all the things that are posted on this platform but have not found any suitable way. so please suggest anyway.</p>\n<p>Actual:</p>\n<pre><code>[{&quot;sender.senderContactInformation.senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;sender.senderContactInformation.senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;ord.ordToAddr1&quot;: &quot;US&quot;,&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;sender.senderContactInformation.SenderContactType&quot;: &quot;&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender.defenderContactInformation&quot;: &quot;&quot;,&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1.dsType.dsName&quot;: &quot;&quot;}]}]}]\n</code></pre>\n<p>Desired:</p>\n<pre><code>[{&quot;sender&quot;: {&quot;senderContactInformation&quot;: {&quot;senderContactPrefix&quot;: &quot;Mr.&quot;,&quot;senderContactMiddleInitial&quot;: &quot;man&quot;,&quot;SenderContactType&quot;: &quot;&quot;}},&quot;ord&quot;: {&quot;ordToAddr1&quot;: &quot;US&quot;},&quot;dummy-target&quot;: &quot;dummydefault&quot;,&quot;senderIdentifierName&quot;: &quot;Abcxyz&quot;,&quot;orderLineItems&quot;: [{&quot;orderLineItemActionCode&quot;: &quot;78&quot;,&quot;OrderLineItemQuantity&quot;: &quot;1&quot;,&quot;patientID&quot;: &quot;CKIO090&quot;,&quot;defender&quot;: {&quot;defenderContactInformation&quot;: &quot;&quot;},&quot;orderLineItemDetails&quot;: [{&quot;orderLineItemDetailCode&quot;: &quot;1&quot;,&quot;ds1&quot;: {&quot;dsType&quot;: {&quot;dsName&quot;: &quot;&quot;}}}]}]}]\n</code></pre>\n"},{"tags":["java","swing","user-interface","jframe","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686252419,"post_id":76434308,"comment_id":134777332,"body_markdown":"You have two classes that extend `JFrame`.  Your application should have one `JFrame`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"You have two classes that extend <code>JFrame</code>.  Your application should have one <code>JFrame</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686253736,"post_id":76434308,"comment_id":134777573,"body_markdown":"1) Why are you adding an empty panel to the frame? The content pane of the frame is a JPanel with a BorderLayout. You can just add the GuiHearts pane directly to the frame. Read the Swing tutorial on [Using Top Level Containers](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) to better understand the structure of Swing. 2) Components should be added to the frame BEFORE the frame is made visible.","body":"1) Why are you adding an empty panel to the frame? The content pane of the frame is a JPanel with a BorderLayout. You can just add the GuiHearts pane directly to the frame. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">Using Top Level Containers</a> to better understand the structure of Swing. 2) Components should be added to the frame BEFORE the frame is made visible."}],"owner":{"account_id":28782109,"reputation":1,"user_id":22043496,"display_name":"Resos82010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686245171,"creation_date":1686245171,"question_id":76434308,"body_markdown":"Im currentl programming a pacman  style game and i`m doing the gui right now. My Plan is to write seperate Gui classes and in this example i wrote the Gui for my Hearts. My plan is to combine all the Gui classes in one MainGui which will incude the JFrame and which is operated trough a seperate main class. But i dont know how i show the JPanel and JLabel from my Heart Class in the Maingui class.\r\n```\r\npackage Gui;\r\n\r\nimport java.util.Formatter;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Image;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.Border;\r\n\r\npublic class GuiHearts extends JFrame {\r\n    JFrame frame;\r\n    JLabel heart1;\r\n    JLabel heart2;\r\n    JLabel heart3;\r\n    JPanel tPanel;\r\n    ImageIcon Hearts;\r\n    Image image;\r\n\r\n    int heartUpdate = 0;\r\n\r\n    public GuiHearts(){\r\n        Hearts = new ImageIcon(&quot;Herz1.png&quot;);\r\n        image = Hearts.getImage().getScaledInstance(20, 30, Image.SCALE_DEFAULT);\r\n       // image = image.getScaledInstance(1000,1000, Image.SCALE_SMOOTH);\r\n        Hearts = new ImageIcon(image); // Das Bild &quot;Herz1.png&quot; wird \r\n\r\n        Border BFrame = BorderFactory.createLineBorder(Color.green, 3);\r\n\r\n        heart1 = new JLabel();\r\n        heart1.setIcon(Hearts);\r\n        heart1.setVerticalAlignment(JLabel.TOP);\r\n        //heart1.setBackground(Color.WHITE);\r\n        heart1.setSize(20, 30);\r\n\r\n        heart2 = new JLabel();\r\n        heart2.setIcon(Hearts);\r\n        heart2.setVerticalAlignment(JLabel.TOP);\r\n        heart2.setSize(20, 30);\r\n\r\n        heart3 = new JLabel();\r\n        heart3.setIcon(Hearts);\r\n        heart3.setVerticalAlignment(JLabel.TOP);\r\n        heart3.setSize( 30, 30);\r\n\r\n        //Die if-Schleife wird ben&#246;tigt um &#252;ber das heartUpdate der Logik dem \r\n        //Gui zu sagen wie viele Herzen angezeigt werden sollen\r\n        if (heartUpdate == 1){\r\n            heart1.setVisible(false);\r\n            heart2.setVisible(true);\r\n            heart3.setVisible(true);\r\n        } else if (heartUpdate == 2){\r\n            heart1.setVisible(false);\r\n            heart2.setVisible(false);\r\n            heart3.setVisible(true);\r\n        } else if (heartUpdate == 3){\r\n            heart1.setVisible(false);\r\n            heart2.setVisible(false);\r\n            heart3.setVisible(false);\r\n        }\r\n        \r\n\r\n        tPanel = new JPanel();\r\n        tPanel.setBackground(Color.BLACK);\r\n        tPanel.setPreferredSize(new Dimension(0, 50));\r\n        tPanel.setLayout(new FlowLayout(FlowLayout.LEFT,15,15));\r\n        tPanel.add(heart1);\r\n        tPanel.add(heart2);\r\n        tPanel.add(heart3);\r\n\r\n        frame = new JFrame(); //creates a frame \r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //exit out of application\r\n        frame.setLayout(new BorderLayout());\r\n        \r\n        frame.setSize(750,750); //sets size\r\n        frame.setVisible(true); //makes frame visible\r\n        frame.add(tPanel, BorderLayout.NORTH);\r\n        \r\n```\r\n\r\n\r\nThis is the Maingui class\r\n```\r\npackage Gui;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\nimport Gui.GuiHearts;\r\n\r\npublic class GuiMaster extends JFrame {\r\n    JFrame frame;\r\n    JPanel tPanel;\r\n\r\n\r\n    public GuiMaster(){\r\n\r\n    \r\n        tPanel = new JPanel();\r\n        tPanel.setBackground(Color.BLACK);\r\n        tPanel.setPreferredSize(new Dimension(0, 50));\r\n        tPanel.setLayout(new FlowLayout(FlowLayout.LEFT, 15, 15));\r\n\r\n\r\n        frame = new JFrame(); //creates a frame \r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //exit out of application\r\n        frame.setLayout(new BorderLayout());\r\n        \r\n        frame.setSize(750,750); //sets size\r\n        frame.setVisible(true); //makes frame visible\r\n        frame.add(tPanel, BorderLayout.NORTH);\r\n        tPanel.add(new GuiHearts().heart1);\r\n    \r\n\r\n    \r\n\r\n\r\n    }\r\npublic static void main (String args[]){\r\n    new GuiMaster();\r\n}\r\n}\r\n```\r\n","title":"How do i implement the JPanel and JLabels of one class in another to the frame","body":"<p>Im currentl programming a pacman  style game and i`m doing the gui right now. My Plan is to write seperate Gui classes and in this example i wrote the Gui for my Hearts. My plan is to combine all the Gui classes in one MainGui which will incude the JFrame and which is operated trough a seperate main class. But i dont know how i show the JPanel and JLabel from my Heart Class in the Maingui class.</p>\n<pre><code>package Gui;\n\nimport java.util.Formatter;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.Border;\n\npublic class GuiHearts extends JFrame {\n    JFrame frame;\n    JLabel heart1;\n    JLabel heart2;\n    JLabel heart3;\n    JPanel tPanel;\n    ImageIcon Hearts;\n    Image image;\n\n    int heartUpdate = 0;\n\n    public GuiHearts(){\n        Hearts = new ImageIcon(&quot;Herz1.png&quot;);\n        image = Hearts.getImage().getScaledInstance(20, 30, Image.SCALE_DEFAULT);\n       // image = image.getScaledInstance(1000,1000, Image.SCALE_SMOOTH);\n        Hearts = new ImageIcon(image); // Das Bild &quot;Herz1.png&quot; wird \n\n        Border BFrame = BorderFactory.createLineBorder(Color.green, 3);\n\n        heart1 = new JLabel();\n        heart1.setIcon(Hearts);\n        heart1.setVerticalAlignment(JLabel.TOP);\n        //heart1.setBackground(Color.WHITE);\n        heart1.setSize(20, 30);\n\n        heart2 = new JLabel();\n        heart2.setIcon(Hearts);\n        heart2.setVerticalAlignment(JLabel.TOP);\n        heart2.setSize(20, 30);\n\n        heart3 = new JLabel();\n        heart3.setIcon(Hearts);\n        heart3.setVerticalAlignment(JLabel.TOP);\n        heart3.setSize( 30, 30);\n\n        //Die if-Schleife wird benötigt um über das heartUpdate der Logik dem \n        //Gui zu sagen wie viele Herzen angezeigt werden sollen\n        if (heartUpdate == 1){\n            heart1.setVisible(false);\n            heart2.setVisible(true);\n            heart3.setVisible(true);\n        } else if (heartUpdate == 2){\n            heart1.setVisible(false);\n            heart2.setVisible(false);\n            heart3.setVisible(true);\n        } else if (heartUpdate == 3){\n            heart1.setVisible(false);\n            heart2.setVisible(false);\n            heart3.setVisible(false);\n        }\n        \n\n        tPanel = new JPanel();\n        tPanel.setBackground(Color.BLACK);\n        tPanel.setPreferredSize(new Dimension(0, 50));\n        tPanel.setLayout(new FlowLayout(FlowLayout.LEFT,15,15));\n        tPanel.add(heart1);\n        tPanel.add(heart2);\n        tPanel.add(heart3);\n\n        frame = new JFrame(); //creates a frame \n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //exit out of application\n        frame.setLayout(new BorderLayout());\n        \n        frame.setSize(750,750); //sets size\n        frame.setVisible(true); //makes frame visible\n        frame.add(tPanel, BorderLayout.NORTH);\n        \n</code></pre>\n<p>This is the Maingui class</p>\n<pre><code>package Gui;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\nimport Gui.GuiHearts;\n\npublic class GuiMaster extends JFrame {\n    JFrame frame;\n    JPanel tPanel;\n\n\n    public GuiMaster(){\n\n    \n        tPanel = new JPanel();\n        tPanel.setBackground(Color.BLACK);\n        tPanel.setPreferredSize(new Dimension(0, 50));\n        tPanel.setLayout(new FlowLayout(FlowLayout.LEFT, 15, 15));\n\n\n        frame = new JFrame(); //creates a frame \n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //exit out of application\n        frame.setLayout(new BorderLayout());\n        \n        frame.setSize(750,750); //sets size\n        frame.setVisible(true); //makes frame visible\n        frame.add(tPanel, BorderLayout.NORTH);\n        tPanel.add(new GuiHearts().heart1);\n    \n\n    \n\n\n    }\npublic static void main (String args[]){\n    new GuiMaster();\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1600771471,"post_id":64006641,"comment_id":113186554,"body_markdown":"Not without interrogating the Kubernetes API or converting your deployment to a StatefulSet.  [Kubernetes getting sibling-pod IP/properties from the same deployment/replicaset](https://stackoverflow.com/questions/51235932/kubernetes-getting-sibling-pod-ip-properties-from-the-same-deployment-replicaset) is extremely similar; [Message-passing between all pods in a replica set](https://stackoverflow.com/questions/59417033/message-passing-between-all-pods-in-a-replica-set) has more concrete suggestions.","body":"Not without interrogating the Kubernetes API or converting your deployment to a StatefulSet.  <a href=\"https://stackoverflow.com/questions/51235932/kubernetes-getting-sibling-pod-ip-properties-from-the-same-deployment-replicaset\">Kubernetes getting sibling-pod IP/properties from the same deployment/replicaset</a> is extremely similar; <a href=\"https://stackoverflow.com/questions/59417033/message-passing-between-all-pods-in-a-replica-set\">Message-passing between all pods in a replica set</a> has more concrete suggestions."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1600838980,"post_id":64006641,"comment_id":113210690,"body_markdown":"Why does one POD need to know the IP of the others?","body":"Why does one POD need to know the IP of the others?"},{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1600839600,"post_id":64006641,"comment_id":113210886,"body_markdown":"Yes, &quot;we got a use case where i want each pod knows the ip of other pods&quot;, can you explain why this is needed? IP-addresses will change, e.g. during deployment or rescheduling.","body":"Yes, &quot;we got a use case where i want each pod knows the ip of other pods&quot;, can you explain why this is needed? IP-addresses will change, e.g. during deployment or rescheduling."},{"owner":{"account_id":9131857,"reputation":409,"user_id":6793146,"display_name":"Mohit Singh"},"score":1,"creation_date":1601217649,"post_id":64006641,"comment_id":113331281,"body_markdown":"we have 3 pod running and we want to change the log level dynamically without restart the application.\n\n\nso we have one spring boot application the take service name (svc) name as input and with this name will find the pod ip and make the changes to the log level with call rest controller with ip address","body":"we have 3 pod running and we want to change the log level dynamically without restart the application.   so we have one spring boot application the take service name (svc) name as input and with this name will find the pod ip and make the changes to the log level with call rest controller with ip address"}],"answers":[{"tags":[],"owner":{"account_id":13023853,"reputation":890,"user_id":9412392,"display_name":"FakeAlcohol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600838820,"creation_date":1600767637,"answer_id":64007043,"question_id":64006641,"body_markdown":"You can get the subsets of the endpoint to get all of pods IP. The endpoint has the same name as you svc. \r\nUsing `kubectl get ep ep-name -n your-ns -o yaml` for details.\r\n\r\nFor Java code, you can use k8s java client([Officail](https://github.com/kubernetes-client/java)/[fabric lib](https://github.com/fabric8io/kubernetes-client)) or access by [k8s API](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#endpoints-v1-core).\r\n\r\n---\r\nUpdate:\r\n```\r\nkubectl get ep ep-name -n your-ns -o jsonpath=&#39;{range .subsets[*]}{range .addresses[*]}{.ip}{&quot;\\t&quot;}{end}&#39;\r\n```\r\ncan get all pods IP. Using fabric8 lib you can reference this [example](https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/EndpointsExample.java#L58)\r\n```\r\nEndpoints endpoints = client.endpoints().inNamespace(namespace).withName(&quot;ep-name&quot;).get();\r\nendpoints.getSubsets().getAddresses().forEach(endpointAddress -&gt; log.info(endpointAddress.getIp()));\r\n```\r\nIf your controller is StatefulSet, can use headless service to connect with other StatefulSet pods.","title":"How to get all Kubernetes pod IP in each pods?","body":"<p>You can get the subsets of the endpoint to get all of pods IP. The endpoint has the same name as you svc.\nUsing <code>kubectl get ep ep-name -n your-ns -o yaml</code> for details.</p>\n<p>For Java code, you can use k8s java client(<a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">Officail</a>/<a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">fabric lib</a>) or access by <a href=\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#endpoints-v1-core\" rel=\"nofollow noreferrer\">k8s API</a>.</p>\n<hr />\n<p>Update:</p>\n<pre><code>kubectl get ep ep-name -n your-ns -o jsonpath='{range .subsets[*]}{range .addresses[*]}{.ip}{&quot;\\t&quot;}{end}'\n</code></pre>\n<p>can get all pods IP. Using fabric8 lib you can reference this <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/EndpointsExample.java#L58\" rel=\"nofollow noreferrer\">example</a></p>\n<pre><code>Endpoints endpoints = client.endpoints().inNamespace(namespace).withName(&quot;ep-name&quot;).get();\nendpoints.getSubsets().getAddresses().forEach(endpointAddress -&gt; log.info(endpointAddress.getIp()));\n</code></pre>\n<p>If your controller is StatefulSet, can use headless service to connect with other StatefulSet pods.</p>\n"},{"tags":[],"owner":{"account_id":3310561,"reputation":656,"user_id":2784184,"accept_rate":40,"display_name":"Aditya Guru"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600821894,"creation_date":1600770431,"answer_id":64007816,"question_id":64006641,"body_markdown":"Using env as you mentioned might not suffice as pods are supposed to be temporary resources and get added and deleted.\r\n\r\nBut below command can fetch you the values\r\n```bash\r\n$kubectl get pods -o=jsonpath=&quot;{range .items[*]}{.status.podIP}{&#39;,&#39;}{end}&quot;\r\n```\r\n\r\nYou did not mention if the pods belong to the same service but if that is the case(which I think), you could use [Selectors](https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api)\r\n```bash\r\n$kubectl get pods -l=&quot;app=my-service&quot; -o=jsonpath=&quot;{range .items[*]}{.status.podIP}{&#39;,&#39;}{end}&quot;\r\nx.y.z.a,b.c.d.e,\r\n```\r\nHere the two IPs are x.y.z.a and b.c.d.e\r\n\r\nYou should be able to find equivalent in the corresponding language(java) api libraries\r\n\r\n\r\nIf you are okay to be able to let the request go to any pod, you can look at [Kube DNS](https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/)","title":"How to get all Kubernetes pod IP in each pods?","body":"<p>Using env as you mentioned might not suffice as pods are supposed to be temporary resources and get added and deleted.</p>\n<p>But below command can fetch you the values</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$kubectl get pods -o=jsonpath=&quot;{range .items[*]}{.status.podIP}{','}{end}&quot;\n</code></pre>\n<p>You did not mention if the pods belong to the same service but if that is the case(which I think), you could use <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api\" rel=\"nofollow noreferrer\">Selectors</a></p>\n<pre class=\"lang-sh prettyprint-override\"><code>$kubectl get pods -l=&quot;app=my-service&quot; -o=jsonpath=&quot;{range .items[*]}{.status.podIP}{','}{end}&quot;\nx.y.z.a,b.c.d.e,\n</code></pre>\n<p>Here the two IPs are x.y.z.a and b.c.d.e</p>\n<p>You should be able to find equivalent in the corresponding language(java) api libraries</p>\n<p>If you are okay to be able to let the request go to any pod, you can look at <a href=\"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/\" rel=\"nofollow noreferrer\">Kube DNS</a></p>\n"},{"tags":[],"owner":{"account_id":14341960,"reputation":154,"user_id":10359912,"display_name":"tuxiedev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600771391,"creation_date":1600771391,"answer_id":64008061,"question_id":64006641,"body_markdown":"If you&#39;re looking for a solution that has deterministic destination address for a replica of pods, I&#39;d probably go with a statefulset deployed with a headless service.\r\nSuch a setup will give you intra cluster DNS address like\r\npod-[1,2,3].svc-name.default.cluster.local\r\nYou could then use these DNS addresses to make pods talk to each other. https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#stable-network-id","title":"How to get all Kubernetes pod IP in each pods?","body":"<p>If you're looking for a solution that has deterministic destination address for a replica of pods, I'd probably go with a statefulset deployed with a headless service.\nSuch a setup will give you intra cluster DNS address like\npod-[1,2,3].svc-name.default.cluster.local\nYou could then use these DNS addresses to make pods talk to each other. <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#stable-network-id\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#stable-network-id</a></p>\n"},{"tags":[],"owner":{"account_id":10869212,"reputation":413,"user_id":7991646,"display_name":"jrbe228"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686244780,"creation_date":1686244780,"answer_id":76434274,"question_id":64006641,"body_markdown":"In case you need lots of info on the pods...  \r\n`kubectl get pods -n &lt;namespace&gt; --output=wide`  \r\nIncluding IP, status, host node, etc. ","title":"How to get all Kubernetes pod IP in each pods?","body":"<p>In case you need lots of info on the pods...<br />\n<code>kubectl get pods -n &lt;namespace&gt; --output=wide</code><br />\nIncluding IP, status, host node, etc.</p>\n"}],"owner":{"account_id":9131857,"reputation":409,"user_id":6793146,"display_name":"Mohit Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686244780,"creation_date":1600766121,"question_id":64006641,"body_markdown":"We have Kubernetes cluster where each service has 3 pod running.\r\nwe got a use case where i want each pod knows the ip of other pods.\r\n\r\n    For Example:\r\n    P1 --&gt; this pod should know ip of itself, p2, p3 pod ip&#39;s \r\n    P2 --&gt; this pod should know ip of itself, p1, p3 pod ip&#39;s \r\n    p3 --&gt; this pod should know ip of itself, p2, p3 pod ip&#39;s \r\n\r\n---\r\nI found this on google but looks like we only get IP of pod itself it won&#39;t give the ip of other two pod running.\r\n\r\n\r\n              - name: POD_IP\r\n                  valueFrom:\r\n                    fieldRef:\r\n                      fieldPath: status.podIP\r\n\r\n---\r\n   Is there a way i can get this info in my java code?","title":"How to get all Kubernetes pod IP in each pods?","body":"<p>We have Kubernetes cluster where each service has 3 pod running.\nwe got a use case where i want each pod knows the ip of other pods.</p>\n<pre><code>For Example:\nP1 --&gt; this pod should know ip of itself, p2, p3 pod ip's \nP2 --&gt; this pod should know ip of itself, p1, p3 pod ip's \np3 --&gt; this pod should know ip of itself, p2, p3 pod ip's \n</code></pre>\n<hr />\n<p>I found this on google but looks like we only get IP of pod itself it won't give the ip of other two pod running.</p>\n<pre><code>          - name: POD_IP\n              valueFrom:\n                fieldRef:\n                  fieldPath: status.podIP\n</code></pre>\n<hr />\n<p>Is there a way i can get this info in my java code?</p>\n"},{"tags":["java","android","ftp","ftps","apache-commons-net"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1563794038,"post_id":57144514,"comment_id":100804645,"body_markdown":"It most probably something special about the JDK/JRE you are using (a different implementation of `SSLSocket`). Did you test the same code on desktop Java? You should narrow down the issue to get decent answers.","body":"It most probably something special about the JDK/JRE you are using (a different implementation of <code>SSLSocket</code>). Did you test the same code on desktop Java? You should narrow down the issue to get decent answers."},{"owner":{"account_id":16292052,"reputation":21,"user_id":11765312,"display_name":"LeclerT"},"score":0,"creation_date":1563804029,"post_id":57144514,"comment_id":100810604,"body_markdown":"I redownload Jdk 1.8 but it&#39;s still not working. Sorry, I don&#39;t understand what you mean with desktop java.","body":"I redownload Jdk 1.8 but it&#39;s still not working. Sorry, I don&#39;t understand what you mean with desktop java."},{"owner":{"account_id":2031451,"reputation":685,"user_id":1815047,"display_name":"Ahadu Tsegaye Abebe"},"score":0,"creation_date":1648721616,"post_id":57144514,"comment_id":126698893,"body_markdown":"This technique breaks down with Java 11 with a &#39;NoSuchMethodException&#39; on &#39;socket.getInetAddress().getHostName()&#39;. Any suggestions?","body":"This technique breaks down with Java 11 with a &#39;NoSuchMethodException&#39; on &#39;socket.getInetAddress().getHostName()&#39;. Any suggestions?"},{"owner":{"account_id":2031451,"reputation":685,"user_id":1815047,"display_name":"Ahadu Tsegaye Abebe"},"score":0,"creation_date":1649319555,"post_id":57144514,"comment_id":126846967,"body_markdown":"To answer my own question: it should be enough to replace “getHost” which no longer exists with “getPeerHost”","body":"To answer my own question: it should be enough to replace “getHost” which no longer exists with “getPeerHost”"}],"answers":[{"tags":[],"owner":{"account_id":2423041,"reputation":11,"user_id":2115596,"display_name":"AllaG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579381461,"creation_date":1576071012,"answer_id":59286917,"question_id":57144514,"body_markdown":"I have encountered the same error when I change java.security to use ssl security provider other then SunJSSE. Particularly in my case I change it to:\r\nsecurity.provider.4=org.bouncycastle.jsse.provider.BouncyCastleJsseProvider \r\ninstead \r\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider\r\n\r\n1) Check your java.security file.\r\n\r\n2) I have added a log message to the class which shows what implementation of SSLSessionContext is actually used.\r\n\r\n    logger.debug(&quot;sessionContext calss = &quot; + sessionContext.getClass().getCanonicalName());\r\n    final Field sessionHostPortCache = sessionContext.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n\r\n\r\nI found indeed that BouncyCastle \r\norg.bouncycastle.jsse.provider.ProvSSLSessionContext class doesn&#39;t have a sessionHostPortCache member. \r\nYou can try this to discover the problem.\r\n\r\n\r\nAnother reason for getting java.lang.NoSuchFieldException is because JRE bytecode underwent obfuscation. Thus the sessionHostPortCache field could be named for example &quot;b&quot;.\r\n\r\nYou can check this by opening the SSLSessionContext.class in your IDE and if you install decompiler plugin it will show the source code.","title":"How to connect to FTPS server with reuse sessions?","body":"<p>I have encountered the same error when I change java.security to use ssl security provider other then SunJSSE. Particularly in my case I change it to:\nsecurity.provider.4=org.bouncycastle.jsse.provider.BouncyCastleJsseProvider \ninstead \nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider</p>\n\n<p>1) Check your java.security file.</p>\n\n<p>2) I have added a log message to the class which shows what implementation of SSLSessionContext is actually used.</p>\n\n<pre><code>logger.debug(\"sessionContext calss = \" + sessionContext.getClass().getCanonicalName());\nfinal Field sessionHostPortCache = sessionContext.getClass().getDeclaredField(\"sessionHostPortCache\");\n</code></pre>\n\n<p>I found indeed that BouncyCastle \norg.bouncycastle.jsse.provider.ProvSSLSessionContext class doesn't have a sessionHostPortCache member. \nYou can try this to discover the problem.</p>\n\n<p>Another reason for getting java.lang.NoSuchFieldException is because JRE bytecode underwent obfuscation. Thus the sessionHostPortCache field could be named for example \"b\".</p>\n\n<p>You can check this by opening the SSLSessionContext.class in your IDE and if you install decompiler plugin it will show the source code.</p>\n"},{"tags":[],"owner":{"account_id":6595325,"reputation":1,"user_id":5095316,"display_name":"Chase Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686244722,"creation_date":1686244722,"answer_id":76434270,"question_id":57144514,"body_markdown":"There&#39;s two problems with these kinds of solutions for Android.\r\n\r\n1. A lot of them are referencing different classes than the android specific implementations of session context classes, so you have to change your code to reflect correctly on android&#39;s implementation.  This isn&#39;t specifically a problem, particularly given that android is open source.\r\n\r\n2. Android blocks reflection on many of it&#39;s system classes, including the session context class.  This is probably not work aroundable and these solutions are likely dead in the water on android.\r\n\r\nI tend to see in logcat an error saying the reflection was blocked prior to the &quot;not found&quot; exception, so your code is likely suffering from both problems (not that fixing #1 would help you anyway).","title":"How to connect to FTPS server with reuse sessions?","body":"<p>There's two problems with these kinds of solutions for Android.</p>\n<ol>\n<li><p>A lot of them are referencing different classes than the android specific implementations of session context classes, so you have to change your code to reflect correctly on android's implementation.  This isn't specifically a problem, particularly given that android is open source.</p>\n</li>\n<li><p>Android blocks reflection on many of it's system classes, including the session context class.  This is probably not work aroundable and these solutions are likely dead in the water on android.</p>\n</li>\n</ol>\n<p>I tend to see in logcat an error saying the reflection was blocked prior to the &quot;not found&quot; exception, so your code is likely suffering from both problems (not that fixing #1 would help you anyway).</p>\n"}],"owner":{"account_id":16292052,"reputation":21,"user_id":11765312,"display_name":"LeclerT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686244722,"creation_date":1563792975,"question_id":57144514,"body_markdown":"I am using the Apache Commons FTP library in my android application.\n\nI am trying to connect to my FTPS server from my application (using Android Studio) and then upload some files.\n\nHowever when I want to reuse sessions by overiding the method `_prepareDataSocket_` from `FTPSClient`, I always have the same error about :`java.lang.NoSuchFieldException: sessionHostPortCache`. \nI have tried with the code from the others posts : https://stackoverflow.com/questions/32398754/how-to-connect-to-ftps-server-with-data-connection-using-same-tls-session/32404418#32404418\nor https://stackoverflow.com/questions/48704243/transfer-files-from-android-with-ftps-to-the-server/48859402#48859402\nDo you know why I have this error ?\n\nI&#39;m using Android studio with jdk 1.8. \n\nI appreciate any help, thanks.\n\n### Main code :\n```java\nString server = &quot;ftp.[HIDDEN]&quot;;\nint port = 21;\nString user = &quot;[HIDDEN]&quot;;\nString pass = &quot;[HIDDEN]&quot;;\n\nSystem.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\nSSLSessionReuseFTPSClient ftpClient = new SSLSessionReuseFTPSClient(&quot;SSL&quot;);\nftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n                \n\nftpClient.connect(server, port);\nSystem.out.println(&quot;Connected to &quot; + server + &quot; on &quot; + port);\n\nftpClient.login(user, pass);\n\nftpClient.execPBSZ(0);\nftpClient.execPROT(&quot;P&quot;);\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);\nftpClient.enterLocalPassiveMode();\n\n// transfer files\nInputStream input;\ninput = new FileInputStream(local);\nftpClient.storeFile(remote, input);\ninput.close();\n\nftpClient.noop(); // check that control connection is working OK\nftpClient.logout();\n```\n\n### SSLSessionReuseFTPSClient :\n```java\npublic class SSLSessionReuseFTPSClient extends FTPSClient {\n\n    public SSLSessionReuseFTPSClient(String protocol) {\n        super(protocol);\n    }\n\n    // adapted from: https://trac.cyberduck.io/changeset/10760\n    @Override\n    protected void _prepareDataSocket_(final Socket socket) throws IOException {\n        if (socket instanceof SSLSocket) {\n            // Control socket is SSL\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\n            if (session.isValid()) {\n                final SSLSessionContext context = session.getSessionContext();\n                try {\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                    sessionHostPortCache.setAccessible(true);\n                    final Object cache = sessionHostPortCache.get(context);\n                    final Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                    method.setAccessible(true);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                } catch (NoSuchFieldException e) {\n                    throw new IOException(e);\n                } catch (Exception e) {\n                    throw new IOException(e);\n                }\n            } else {\n                throw new IOException(&quot;Invalid SSL Session&quot;);\n            }\n        }\n    }\n}\n```\n\n### Logcat :\n```\n220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-You are user number 1 of 50 allowed.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-Local time is now 11:54. Server port: 21.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-This is a private system - No anonymous login\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-IPv6 connections are also welcome on this server.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220 You will be disconnected after 15 minutes of inactivity.\n07-22 09:53:59.519 9529-9561/com.example.test I/System.out: AUTH TLS\n07-22 09:53:59.533 9529-9561/com.example.test I/System.out: 234 AUTH TLS OK.\n07-22 09:53:59.561 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.589 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.593 9529-9561/com.example.test I/System.out: Connected to ftp.[HIDDEN] on 21\n07-22 09:53:59.597 9529-9561/com.example.test I/System.out: USER *******\n07-22 09:53:59.609 9529-9561/com.example.test I/System.out: 331 User [HIDDEN] OK. Password required\n07-22 09:53:59.610 9529-9561/com.example.test I/System.out: PASS *******\n07-22 09:53:59.613 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.695 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.701 9529-9561/com.example.test I/System.out: 230 OK. Current restricted directory is /\n07-22 09:53:59.702 9529-9561/com.example.test I/System.out: PBSZ 0\n07-22 09:53:59.714 9529-9561/com.example.test I/System.out: 200 PBSZ=0\n07-22 09:53:59.717 9529-9561/com.example.test I/System.out: PROT P\n07-22 09:53:59.727 9529-9561/com.example.test I/System.out: 200 Data protection level set to &quot;private&quot;\n07-22 09:53:59.729 9529-9561/com.example.test I/System.out: TYPE I\n07-22 09:53:59.743 9529-9561/com.example.test I/System.out: 200 TYPE is now 8-bit binary\n07-22 09:53:59.743 9529-9561/com.example.test I/System.out: PASV\n07-22 09:53:59.757 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.758 9529-9561/com.example.test I/System.out: 227 Entering Passive Mode (5,134,13,241,188,161)\n07-22 09:53:59.777 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.782 9529-9561/com.example.test I/System.out: STOR pictures/test 18.07 1431/test 18.07 1431_19.6.2019_0.32.15.667.jpg\n07-22 09:53:59.792 9529-9561/com.example.test I/System.out: 150 Accepted data connection\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err: java.io.IOException: java.lang.NoSuchFieldException: sessionHostPortCache\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.SSLSessionReuseFTPSClient._prepareDataSocket_(SSLSessionReuseFTPSClient.java:54)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPSClient._openDataConnection_(FTPSClient.java:628)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:653)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient.__storeFile(FTPClient.java:639)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:2030)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.FTPfunctions2$BackGroundWorker.doInBackground(FTPfunctions2.java:81)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.FTPfunctions2$BackGroundWorker.doInBackground(FTPfunctions2.java:41)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:292)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.lang.Thread.run(Thread.java:818)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err: Caused by: java.lang.NoSuchFieldException: sessionHostPortCache\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.lang.Class.getDeclaredField(Class.java:890)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at com.example.test.functions.SSLSessionReuseFTPSClient._prepareDataSocket_(SSLSessionReuseFTPSClient.java:42)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     ... 12 more\n```","title":"How to connect to FTPS server with reuse sessions?","body":"<p>I am using the Apache Commons FTP library in my android application.</p>\n<p>I am trying to connect to my FTPS server from my application (using Android Studio) and then upload some files.</p>\n<p>However when I want to reuse sessions by overiding the method <code>_prepareDataSocket_</code> from <code>FTPSClient</code>, I always have the same error about :<code>java.lang.NoSuchFieldException: sessionHostPortCache</code>.\nI have tried with the code from the others posts : <a href=\"https://stackoverflow.com/questions/32398754/how-to-connect-to-ftps-server-with-data-connection-using-same-tls-session/32404418#32404418\">How to connect to FTPS server with data connection using same TLS session?</a>\nor <a href=\"https://stackoverflow.com/questions/48704243/transfer-files-from-android-with-ftps-to-the-server/48859402#48859402\">Transfer files from android with FTPS to the server</a>\nDo you know why I have this error ?</p>\n<p>I'm using Android studio with jdk 1.8.</p>\n<p>I appreciate any help, thanks.</p>\n<h3>Main code :</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String server = &quot;ftp.[HIDDEN]&quot;;\nint port = 21;\nString user = &quot;[HIDDEN]&quot;;\nString pass = &quot;[HIDDEN]&quot;;\n\nSystem.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\nSSLSessionReuseFTPSClient ftpClient = new SSLSessionReuseFTPSClient(&quot;SSL&quot;);\nftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n                \n\nftpClient.connect(server, port);\nSystem.out.println(&quot;Connected to &quot; + server + &quot; on &quot; + port);\n\nftpClient.login(user, pass);\n\nftpClient.execPBSZ(0);\nftpClient.execPROT(&quot;P&quot;);\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);\nftpClient.enterLocalPassiveMode();\n\n// transfer files\nInputStream input;\ninput = new FileInputStream(local);\nftpClient.storeFile(remote, input);\ninput.close();\n\nftpClient.noop(); // check that control connection is working OK\nftpClient.logout();\n</code></pre>\n<h3>SSLSessionReuseFTPSClient :</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class SSLSessionReuseFTPSClient extends FTPSClient {\n\n    public SSLSessionReuseFTPSClient(String protocol) {\n        super(protocol);\n    }\n\n    // adapted from: https://trac.cyberduck.io/changeset/10760\n    @Override\n    protected void _prepareDataSocket_(final Socket socket) throws IOException {\n        if (socket instanceof SSLSocket) {\n            // Control socket is SSL\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\n            if (session.isValid()) {\n                final SSLSessionContext context = session.getSessionContext();\n                try {\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                    sessionHostPortCache.setAccessible(true);\n                    final Object cache = sessionHostPortCache.get(context);\n                    final Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                    method.setAccessible(true);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                } catch (NoSuchFieldException e) {\n                    throw new IOException(e);\n                } catch (Exception e) {\n                    throw new IOException(e);\n                }\n            } else {\n                throw new IOException(&quot;Invalid SSL Session&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<h3>Logcat :</h3>\n<pre><code>220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-You are user number 1 of 50 allowed.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-Local time is now 11:54. Server port: 21.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-This is a private system - No anonymous login\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220-IPv6 connections are also welcome on this server.\n07-22 09:53:59.516 9529-9561/com.example.test I/System.out: 220 You will be disconnected after 15 minutes of inactivity.\n07-22 09:53:59.519 9529-9561/com.example.test I/System.out: AUTH TLS\n07-22 09:53:59.533 9529-9561/com.example.test I/System.out: 234 AUTH TLS OK.\n07-22 09:53:59.561 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.589 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.593 9529-9561/com.example.test I/System.out: Connected to ftp.[HIDDEN] on 21\n07-22 09:53:59.597 9529-9561/com.example.test I/System.out: USER *******\n07-22 09:53:59.609 9529-9561/com.example.test I/System.out: 331 User [HIDDEN] OK. Password required\n07-22 09:53:59.610 9529-9561/com.example.test I/System.out: PASS *******\n07-22 09:53:59.613 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.695 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.701 9529-9561/com.example.test I/System.out: 230 OK. Current restricted directory is /\n07-22 09:53:59.702 9529-9561/com.example.test I/System.out: PBSZ 0\n07-22 09:53:59.714 9529-9561/com.example.test I/System.out: 200 PBSZ=0\n07-22 09:53:59.717 9529-9561/com.example.test I/System.out: PROT P\n07-22 09:53:59.727 9529-9561/com.example.test I/System.out: 200 Data protection level set to &quot;private&quot;\n07-22 09:53:59.729 9529-9561/com.example.test I/System.out: TYPE I\n07-22 09:53:59.743 9529-9561/com.example.test I/System.out: 200 TYPE is now 8-bit binary\n07-22 09:53:59.743 9529-9561/com.example.test I/System.out: PASV\n07-22 09:53:59.757 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.758 9529-9561/com.example.test I/System.out: 227 Entering Passive Mode (5,134,13,241,188,161)\n07-22 09:53:59.777 9529-9550/com.example.test D/EGL_emulation: eglMakeCurrent: 0xadc34d60: ver 2 0 (tinfo 0xadc394d0)\n07-22 09:53:59.782 9529-9561/com.example.test I/System.out: STOR pictures/test 18.07 1431/test 18.07 1431_19.6.2019_0.32.15.667.jpg\n07-22 09:53:59.792 9529-9561/com.example.test I/System.out: 150 Accepted data connection\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err: java.io.IOException: java.lang.NoSuchFieldException: sessionHostPortCache\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.SSLSessionReuseFTPSClient._prepareDataSocket_(SSLSessionReuseFTPSClient.java:54)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPSClient._openDataConnection_(FTPSClient.java:628)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:653)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient.__storeFile(FTPClient.java:639)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:2030)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.FTPfunctions2$BackGroundWorker.doInBackground(FTPfunctions2.java:81)\n07-22 09:53:59.793 9529-9561/com.example.test W/System.err:     at com.example.test.functions.FTPfunctions2$BackGroundWorker.doInBackground(FTPfunctions2.java:41)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:292)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.lang.Thread.run(Thread.java:818)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err: Caused by: java.lang.NoSuchFieldException: sessionHostPortCache\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at java.lang.Class.getDeclaredField(Class.java:890)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     at com.example.test.functions.SSLSessionReuseFTPSClient._prepareDataSocket_(SSLSessionReuseFTPSClient.java:42)\n07-22 09:53:59.794 9529-9561/com.example.test W/System.err:     ... 12 more\n</code></pre>\n"},{"tags":["java","doubly-linked-list"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686233192,"post_id":76432701,"comment_id":134773449,"body_markdown":"Do you expect `str += temp.getString() + &quot;&quot;;` to add the space? Why or why not? Can you fix it? Then you&#39;ll only need to remove (or not add) the trailing space.","body":"Do you expect <code>str += temp.getString() + &quot;&quot;;</code> to add the space? Why or why not? Can you fix it? Then you&#39;ll only need to remove (or not add) the trailing space."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686238784,"post_id":76432701,"comment_id":134774821,"body_markdown":"Use a `StringBuilder` and append the space before each item iff it is non-empty.","body":"Use a <code>StringBuilder</code> and append the space before each item iff it is non-empty."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686244130,"post_id":76432701,"comment_id":134775899,"body_markdown":"There is no sense in doing something like `new String(&quot;&quot;+0)`. The expression `&quot;&quot; + 0` does already produce a `String`, which is by the way exactly the same as `&quot;0&quot;`, passing this string into a `new String(…)` is obsolete. So just use `l.add(&quot;0&quot;);`, `l.add(&quot;1&quot;);`, and `l.add(&quot;2&quot;);` • The simplest approach is to use `StringJoiner`, e.g. `StringJoiner j = new StringJoiner(&quot; &quot;); for(Node node = head; node != null; node = node.next) { j.add(node.getString()); } return j.toString();` Or, to also get the square brackets replace `new StringJoiner(&quot; &quot;)` with `new StringJoiner(&quot; &quot;, &quot;[&quot;, &quot;]&quot;)`","body":"There is no sense in doing something like <code>new String(&quot;&quot;+0)</code>. The expression <code>&quot;&quot; + 0</code> does already produce a <code>String</code>, which is by the way exactly the same as <code>&quot;0&quot;</code>, passing this string into a <code>new String(…)</code> is obsolete. So just use <code>l.add(&quot;0&quot;);</code>, <code>l.add(&quot;1&quot;);</code>, and <code>l.add(&quot;2&quot;);</code> • The simplest approach is to use <code>StringJoiner</code>, e.g. <code>StringJoiner j = new StringJoiner(&quot; &quot;); for(Node node = head; node != null; node = node.next) { j.add(node.getString()); } return j.toString();</code> Or, to also get the square brackets replace <code>new StringJoiner(&quot; &quot;)</code> with <code>new StringJoiner(&quot; &quot;, &quot;[&quot;, &quot;]&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686244668,"creation_date":1686239043,"answer_id":76433593,"question_id":76432701,"body_markdown":"Use a `StringJoiner` or a `StringBuilder` rather than repeatedly appending strings in a loop. If using a `StringBuilder`, prepend the space if and only if the `StringBuilder` is non-empty.\r\n\r\nExample with `StringJoiner`:\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringJoiner joiner = new StringJoiner(&quot; &quot;);\r\n        \r\n        Node node = head;\r\n        while (node != null) {\r\n            joiner.append(node.getString());\r\n            node = node.next;\r\n        }\r\n        \r\n        return joiner.toString();\r\n    }\r\n\r\nExample with `StringBuilder`:\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        \r\n        Node node = head;\r\n        while (node != null) {\r\n            if (!sb.isEmpty()) {\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            sb.append(node.getString());\r\n            node = node.next;\r\n        }\r\n        \r\n        return sb.toString();\r\n    }\r\n\r\nNote: `temp` is a terrible variable name for anything other than temp files and the intermediate value used in a swap.","title":"How do I add spaces between elements in a doubly linked list when concentrating them into a string in Java?","body":"<p>Use a <code>StringJoiner</code> or a <code>StringBuilder</code> rather than repeatedly appending strings in a loop. If using a <code>StringBuilder</code>, prepend the space if and only if the <code>StringBuilder</code> is non-empty.</p>\n<p>Example with <code>StringJoiner</code>:</p>\n<pre><code>@Override\npublic String toString() {\n    StringJoiner joiner = new StringJoiner(&quot; &quot;);\n    \n    Node node = head;\n    while (node != null) {\n        joiner.append(node.getString());\n        node = node.next;\n    }\n    \n    return joiner.toString();\n}\n</code></pre>\n<p>Example with <code>StringBuilder</code>:</p>\n<pre><code>@Override\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n    \n    Node node = head;\n    while (node != null) {\n        if (!sb.isEmpty()) {\n            sb.append(' ');\n        }\n        sb.append(node.getString());\n        node = node.next;\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n<p>Note: <code>temp</code> is a terrible variable name for anything other than temp files and the intermediate value used in a swap.</p>\n"}],"owner":{"account_id":25076232,"reputation":21,"user_id":18929634,"display_name":"softloftmaria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76433593,"answer_count":1,"score":-2,"last_activity_date":1686244668,"creation_date":1686233086,"question_id":76432701,"body_markdown":"I&#39;m creating a toString() function that should return a String created by concatenating each Nodes toString(). A single space: ‘ ’ should be inserted between each Nodes toString(). No trailing space should be inserted. \r\n\r\nFor example, if the list contained 3 Node objects, the toString() return value would be [1 2 3], but not [123] or [1 2 3 ].\r\n\r\nThis is what I&#39;ve tried so far and but it does not put a space between the elements (I get [01] when I need [0 1] for example):\r\n\r\n```\r\npublic String toString() {\r\n\t\t\r\n\t\tString str = &quot;&quot;;\r\n\t\t\r\n\t\tNode temp = head;\r\n\t\t\r\n\t\twhile (temp != null) {\r\n\t\t\r\n\t\t\t\tstr += temp.getString() + &quot;&quot;;\r\n\t\t\t\ttemp = temp.next;\r\n\t\t}\r\n\t\t\r\n\t\treturn str;\r\n\r\n\t}\r\n```\r\nHere is the doubly linked list class I have with the add method:\r\n\r\n```\r\npublic class DSEList {\r\n\t\r\n\tpublic Node head;\r\n\tprivate Node tail;\r\n\r\n\tpublic DSEList() {\r\n\t\thead = null;\r\n\t\ttail = null;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic DSEList(Node head_) {\r\n\t\t\r\n\t\thead = head_;\r\n\t}\r\n\r\npublic boolean add(String obj) {\r\n\t\t\r\n\t\t    Node newNode = new Node(null, null, new String(obj));\r\n\t\t    \r\n\t\t    Boolean success = false;\r\n\t\t\r\n\t        if(head == null) {  \r\n\t            head = tail = newNode;  \r\n\t            head.prev = null;  \r\n\t            tail.next = null;\r\n\t            success = true;\r\n\t        } \r\n\r\n\t        else {  \r\n\t        \t\r\n\t            tail.next = newNode;  \r\n\t            newNode.prev = tail;  \r\n\t            tail = newNode;  \r\n\t            tail.next = null;\r\n\t            success = true;\r\n\t        }  \r\n\t        \r\n\t        return success;\r\n\r\n\t    }  \r\n\t\r\n\r\n```\r\n\r\nHere is the node class I have where the getString() comes from:\r\n\r\n```\r\npublic class Node {\r\n\r\n\tpublic Node next;\r\n\tpublic Node prev;\r\n\t\r\n\tprivate String t;\r\n\r\n\tpublic Node(Node next, Node prev, String token) {\r\n\t\tthis.next = next;\r\n\t\tthis.prev = prev;\r\n\t\tthis.t = token;\r\n\t}\r\n\r\n\tpublic String getString() {\r\n\t\treturn t;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this == other)\r\n\t\t\treturn true;\r\n\t\tif (other == null)\r\n\t\t\treturn false;\r\n\t\tif (!(other instanceof Node))\r\n\t\t\treturn false;\r\n\r\n\t\treturn t.equals(((Node)other).getString());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tif ( t == null )\r\n\t\t\treturn 0;\r\n\t\treturn t.hashCode();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHere is an example of how it would work: \r\n\r\n```\r\nDSEList l = new DSEList();\r\nl.add(new String(&quot;&quot;+0));\r\nl.toString() //this should return [0]\r\nl.add(new String(&quot;&quot;+1));\r\nl.toString() //this should return [0 1]\r\nl.add(new String(&quot;&quot;+2));\r\nl.toString() //this should return [0 1 2]\r\n\r\n```\r\n\r\nThank you!","title":"How do I add spaces between elements in a doubly linked list when concentrating them into a string in Java?","body":"<p>I'm creating a toString() function that should return a String created by concatenating each Nodes toString(). A single space: ‘ ’ should be inserted between each Nodes toString(). No trailing space should be inserted.</p>\n<p>For example, if the list contained 3 Node objects, the toString() return value would be [1 2 3], but not [123] or [1 2 3 ].</p>\n<p>This is what I've tried so far and but it does not put a space between the elements (I get [01] when I need [0 1] for example):</p>\n<pre><code>public String toString() {\n        \n        String str = &quot;&quot;;\n        \n        Node temp = head;\n        \n        while (temp != null) {\n        \n                str += temp.getString() + &quot;&quot;;\n                temp = temp.next;\n        }\n        \n        return str;\n\n    }\n</code></pre>\n<p>Here is the doubly linked list class I have with the add method:</p>\n<pre><code>public class DSEList {\n    \n    public Node head;\n    private Node tail;\n\n    public DSEList() {\n        head = null;\n        tail = null;\n        \n    }\n    \n    public DSEList(Node head_) {\n        \n        head = head_;\n    }\n\npublic boolean add(String obj) {\n        \n            Node newNode = new Node(null, null, new String(obj));\n            \n            Boolean success = false;\n        \n            if(head == null) {  \n                head = tail = newNode;  \n                head.prev = null;  \n                tail.next = null;\n                success = true;\n            } \n\n            else {  \n                \n                tail.next = newNode;  \n                newNode.prev = tail;  \n                tail = newNode;  \n                tail.next = null;\n                success = true;\n            }  \n            \n            return success;\n\n        }  \n    \n\n</code></pre>\n<p>Here is the node class I have where the getString() comes from:</p>\n<pre><code>public class Node {\n\n    public Node next;\n    public Node prev;\n    \n    private String t;\n\n    public Node(Node next, Node prev, String token) {\n        this.next = next;\n        this.prev = prev;\n        this.t = token;\n    }\n\n    public String getString() {\n        return t;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (this == other)\n            return true;\n        if (other == null)\n            return false;\n        if (!(other instanceof Node))\n            return false;\n\n        return t.equals(((Node)other).getString());\n    }\n\n    @Override\n    public int hashCode() {\n        if ( t == null )\n            return 0;\n        return t.hashCode();\n    }\n\n}\n\n</code></pre>\n<p>Here is an example of how it would work:</p>\n<pre><code>DSEList l = new DSEList();\nl.add(new String(&quot;&quot;+0));\nl.toString() //this should return [0]\nl.add(new String(&quot;&quot;+1));\nl.toString() //this should return [0 1]\nl.add(new String(&quot;&quot;+2));\nl.toString() //this should return [0 1 2]\n\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","android","react-native","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1686245144,"post_id":76434259,"comment_id":134776085,"body_markdown":"Have you tried to to build with `clean --refresh-dependencies`?","body":"Have you tried to to build with <code>clean --refresh-dependencies</code>?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1686245559,"post_id":76434259,"comment_id":134776151,"body_markdown":"The path that it&#39;s looking for the file suggests that this is not a downloaded artifact, but a generated one, there might be some task in your project that generates this file, but I have no idea which one.","body":"The path that it&#39;s looking for the file suggests that this is not a downloaded artifact, but a generated one, there might be some task in your project that generates this file, but I have no idea which one."},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1686290271,"post_id":76434259,"comment_id":134781281,"body_markdown":"@yahorbarkouski Yes, I did use `clean --refresh-dependencies`! I forgot to mention it. Thank you!","body":"@yahorbarkouski Yes, I did use <code>clean --refresh-dependencies</code>! I forgot to mention it. Thank you!"}],"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686244582,"creation_date":1686244582,"question_id":76434259,"body_markdown":"I cleaned my hard disk because it was full, and I deleted also the `./gradle/caches` folder. Now, one React Native project gives the following error: \r\n\r\nNote: It cannot find: `gradle-test-kit-7.5.1.jar`\r\n\r\n```js\r\n[{\r\n\t&quot;resource&quot;: &quot;/Volumes/code/projects/mobile/appName/node_modules/react-native-gradle-plugin&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#4&quot;,\r\n\t&quot;code&quot;: &quot;0&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;The project cannot be built until build path errors are resolved&quot;,\r\n\t&quot;source&quot;: &quot;Java&quot;,\r\n\t&quot;startLineNumber&quot;: 1,\r\n\t&quot;startColumn&quot;: 1,\r\n\t&quot;endLineNumber&quot;: 1,\r\n\t&quot;endColumn&quot;: 1\r\n},{\r\n\t&quot;resource&quot;: &quot;/Volumes/code/projects/mobile/appName/node_modules/react-native-gradle-plugin&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#4&quot;,\r\n\t&quot;code&quot;: &quot;964&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;The container &#39;Project and External Dependencies&#39; references non existing library &#39;/Users/userName/.gradle/caches/7.5.1/generated-gradle-jars/gradle-test-kit-7.5.1.jar&#39;&quot;,\r\n\t&quot;source&quot;: &quot;Java&quot;,\r\n\t&quot;startLineNumber&quot;: 1,\r\n\t&quot;startColumn&quot;: 1,\r\n\t&quot;endLineNumber&quot;: 1,\r\n\t&quot;endColumn&quot;: 1\r\n}]\r\n\r\n``` \r\nWhat I&#39;ve tried:\r\n- Use other Gradle Plugin Version and Gradle Version\r\n\r\n- Clean the project: In Android Studio, go to &quot;Build&quot; -&gt; &quot;Clean Project&quot; to clean the build artifacts.\r\n\r\n- Rebuild the project: In Android Studio, go to &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; to rebuild the project from scratch.\r\n\r\n- Invalidate caches and restart: In Android Studio, go to &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot; and select &quot;Invalidate and Restart&quot;. This will clear the Android Studio caches and restart the IDE.\r\n\r\n- Delete Gradle cache: Close Android Studio and delete the Gradle cache manually. You can do this by running the following command in your terminal or command prompt: `rm -rf ~/.gradle/caches`\r\n\r\n- Sync Gradle files: Open your project in Android Studio and click on the &quot;Sync Project with Gradle Files&quot; button to synchronize your Gradle configuration.\r\n\r\nThus the 7.5.1 folder was regenarated with everything inside, but, without the `gradle-test-kit-7.5.1.jar`\r\n\r\nAdditional notes: \r\n\r\n- The `generated-gradle-jars` folder has:\r\n  - `gradle-api-7.5.1.jar`\r\n  - `gradle-kotlin-dsl-extensions-7.5.1.jar`\r\nbut not: `gradle-test-kit-7.5.1.jar`\r\n\r\n- `package.json` has as dependencie:\r\n   - `&quot;react-native-gradle-plugin&quot;: &quot;^0.71.19&quot;,`\r\nand in `node_modules` it gives the above error.\r\n\r\n- When I uploaded the app in google play store the pre-launch report gave:\r\n`java.lang.RuntimeException: Unable to load script. Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.`\r\n","title":"Why gradle-test-kit-7.5.1.jar does not exist?","body":"<p>I cleaned my hard disk because it was full, and I deleted also the <code>./gradle/caches</code> folder. Now, one React Native project gives the following error:</p>\n<p>Note: It cannot find: <code>gradle-test-kit-7.5.1.jar</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>[{\n    &quot;resource&quot;: &quot;/Volumes/code/projects/mobile/appName/node_modules/react-native-gradle-plugin&quot;,\n    &quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#4&quot;,\n    &quot;code&quot;: &quot;0&quot;,\n    &quot;severity&quot;: 8,\n    &quot;message&quot;: &quot;The project cannot be built until build path errors are resolved&quot;,\n    &quot;source&quot;: &quot;Java&quot;,\n    &quot;startLineNumber&quot;: 1,\n    &quot;startColumn&quot;: 1,\n    &quot;endLineNumber&quot;: 1,\n    &quot;endColumn&quot;: 1\n},{\n    &quot;resource&quot;: &quot;/Volumes/code/projects/mobile/appName/node_modules/react-native-gradle-plugin&quot;,\n    &quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#4&quot;,\n    &quot;code&quot;: &quot;964&quot;,\n    &quot;severity&quot;: 8,\n    &quot;message&quot;: &quot;The container 'Project and External Dependencies' references non existing library '/Users/userName/.gradle/caches/7.5.1/generated-gradle-jars/gradle-test-kit-7.5.1.jar'&quot;,\n    &quot;source&quot;: &quot;Java&quot;,\n    &quot;startLineNumber&quot;: 1,\n    &quot;startColumn&quot;: 1,\n    &quot;endLineNumber&quot;: 1,\n    &quot;endColumn&quot;: 1\n}]\n\n</code></pre>\n<p>What I've tried:</p>\n<ul>\n<li><p>Use other Gradle Plugin Version and Gradle Version</p>\n</li>\n<li><p>Clean the project: In Android Studio, go to &quot;Build&quot; -&gt; &quot;Clean Project&quot; to clean the build artifacts.</p>\n</li>\n<li><p>Rebuild the project: In Android Studio, go to &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; to rebuild the project from scratch.</p>\n</li>\n<li><p>Invalidate caches and restart: In Android Studio, go to &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot; and select &quot;Invalidate and Restart&quot;. This will clear the Android Studio caches and restart the IDE.</p>\n</li>\n<li><p>Delete Gradle cache: Close Android Studio and delete the Gradle cache manually. You can do this by running the following command in your terminal or command prompt: <code>rm -rf ~/.gradle/caches</code></p>\n</li>\n<li><p>Sync Gradle files: Open your project in Android Studio and click on the &quot;Sync Project with Gradle Files&quot; button to synchronize your Gradle configuration.</p>\n</li>\n</ul>\n<p>Thus the 7.5.1 folder was regenarated with everything inside, but, without the <code>gradle-test-kit-7.5.1.jar</code></p>\n<p>Additional notes:</p>\n<ul>\n<li><p>The <code>generated-gradle-jars</code> folder has:</p>\n<ul>\n<li><code>gradle-api-7.5.1.jar</code></li>\n<li><code>gradle-kotlin-dsl-extensions-7.5.1.jar</code>\nbut not: <code>gradle-test-kit-7.5.1.jar</code></li>\n</ul>\n</li>\n<li><p><code>package.json</code> has as dependencie:</p>\n<ul>\n<li><code>&quot;react-native-gradle-plugin&quot;: &quot;^0.71.19&quot;,</code>\nand in <code>node_modules</code> it gives the above error.</li>\n</ul>\n</li>\n<li><p>When I uploaded the app in google play store the pre-launch report gave:\n<code>java.lang.RuntimeException: Unable to load script. Make sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.</code></p>\n</li>\n</ul>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1411510584,"post_id":26005483,"comment_id":40728222,"body_markdown":"Read the Spring Reference Documentation, you are mixing the old configuration together with the new configuration about Spring MVC. Your code is wrong.","body":"Read the Spring Reference Documentation, you are mixing the old configuration together with the new configuration about Spring MVC. Your code is wrong."},{"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"score":2,"creation_date":1411510978,"post_id":26005483,"comment_id":40728354,"body_markdown":"Can you be a little more specific please?","body":"Can you be a little more specific please?"},{"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"score":0,"creation_date":1411513691,"post_id":26005483,"comment_id":40729163,"body_markdown":"I&#39;ve updated my question with the latest code from the reference documentation and I still get the same error.","body":"I&#39;ve updated my question with the latest code from the reference documentation and I still get the same error."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1411516333,"post_id":26005483,"comment_id":40729731,"body_markdown":"Now your configuration *is* correct. The URL `http://api:8080/` has no sense, the URL to test **must be** `http://localhost:8080/CONTEXTROOT/users` where `CONTEXTROOT` is available in your project selected `Right Click -&gt; Properties -&gt; Web Project Settings`. If your project is already deployed in Tomcat, then  the URL must be `http://localhost:8080/projectname/users`","body":"Now your configuration <i>is</i> correct. The URL <code>http:&#47;&#47;api:8080&#47;</code> has no sense, the URL to test <b>must be</b> <code>http:&#47;&#47;localhost:8080&#47;CONTEXTROOT&#47;users</code> where <code>CONTEXTROOT</code> is available in your project selected <code>Right Click -&gt; Properties -&gt; Web Project Settings</code>. If your project is already deployed in Tomcat, then  the URL must be <code>http:&#47;&#47;localhost:8080&#47;projectname&#47;users</code>"},{"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"score":0,"creation_date":1411520147,"post_id":26005483,"comment_id":40730489,"body_markdown":"I&#39;ve done that but I still get a 404, but I get no error in my console.","body":"I&#39;ve done that but I still get a 404, but I get no error in my console."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1411558438,"post_id":26005483,"comment_id":40746172,"body_markdown":"Update your first post, share the complete error stack trace. I need more details","body":"Update your first post, share the complete error stack trace. I need more details"},{"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"score":0,"creation_date":1411567818,"post_id":26005483,"comment_id":40752301,"body_markdown":"Updated, the full stack trace is shown at the top, just those two lines are all I get","body":"Updated, the full stack trace is shown at the top, just those two lines are all I get"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1411577351,"post_id":26005483,"comment_id":40758334,"body_markdown":"If is only that, could you check your Tomcat&#39;s `log` directory? There should appear more details. check the log files, since there are many according of their roles.","body":"If is only that, could you check your Tomcat&#39;s <code>log</code> directory? There should appear more details. check the log files, since there are many according of their roles."},{"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"score":0,"creation_date":1411595617,"post_id":26005483,"comment_id":40767688,"body_markdown":"There&#39;s nothing in catalina.out","body":"There&#39;s nothing in catalina.out"}],"answers":[{"tags":[],"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411660005,"creation_date":1411514905,"answer_id":26006249,"question_id":26005483,"body_markdown":"change your web.xml to\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n\r\n\t  &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t&lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n\t  &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t  &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nand dispatch-servlet.xml to\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n      xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n      xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/aop\r\n        http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n\r\n      &lt;context:component-scan base-package=&quot;com.api&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\nYou don&#39;t need applicationContext.xml for your code to run","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>change your web.xml to</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and dispatch-servlet.xml to</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:p=\"http://www.springframework.org/schema/p\"\n  xmlns:aop=\"http://www.springframework.org/schema/aop\"\n  xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n  &lt;context:component-scan base-package=\"com.api\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>You don't need applicationContext.xml for your code to run</p>\n"},{"tags":[],"owner":{"account_id":6106028,"reputation":11,"user_id":4763726,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428494669,"creation_date":1428494010,"answer_id":29513853,"question_id":26005483,"body_markdown":"Need to add the following lines in your spring-context.xml\r\n    \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    Note: property prefix and suffix need to modify based on your application like  .jsp if you are using jsp files.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>Need to add the following lines in your spring-context.xml</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n\nNote: property prefix and suffix need to modify based on your application like  .jsp if you are using jsp files.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11682650,"reputation":77,"user_id":8553746,"display_name":"Nandan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527684346,"creation_date":1510832370,"answer_id":47328731,"question_id":26005483,"body_markdown":"A common mistake is this\r\nMake sure the group id in pom.xml is the parent of that mentioned in \r\n\r\n\t\t&lt;/context:component-scan&gt;  \r\n\t\t\r\nFor Example\r\nIf  Group `Id-com.cavesofprogramming.spring.web` then\r\n\r\n\t\t&lt;context:component-scan base- package=&quot;com.cavesofprogramming.spring.web.controllers&quot;&gt;\r\n\t\t\t\r\nThe effect is that the controller is not found in the maven build and \r\n\t\tas a result the mapping not done to the correct jsp.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>A common mistake is this\nMake sure the group id in pom.xml is the parent of that mentioned in </p>\n\n<pre><code>    &lt;/context:component-scan&gt;  \n</code></pre>\n\n<p>For Example\nIf  Group <code>Id-com.cavesofprogramming.spring.web</code> then</p>\n\n<pre><code>    &lt;context:component-scan base- package=\"com.cavesofprogramming.spring.web.controllers\"&gt;\n</code></pre>\n\n<p>The effect is that the controller is not found in the maven build and \n        as a result the mapping not done to the correct jsp.</p>\n"},{"tags":[],"owner":{"account_id":11923567,"reputation":21,"user_id":8725472,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537045326,"creation_date":1537043848,"answer_id":52348673,"question_id":26005483,"body_markdown":"Cause - Main reason behind this issue is servlet.xml file is not able to find the proper controller that could redirect your request.\r\n\r\nSolution - Ensure few things:\r\n\r\n1. In servlet.xml file your base-package should point to the correct path where the controller class resides.\r\n\r\n2. @Controller should be mentioned over the controller class.\r\n\r\n3. In controller class @RequestMapping value should be as same as the web.xml url-pattern parameter.\r\n\r\n4. In controller class, ModelAndView returns .jsp page should be at the same path which is pointing in the servlet.xml prefix value of ViewResolver.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>Cause - Main reason behind this issue is servlet.xml file is not able to find the proper controller that could redirect your request.</p>\n\n<p>Solution - Ensure few things:</p>\n\n<ol>\n<li><p>In servlet.xml file your base-package should point to the correct path where the controller class resides.</p></li>\n<li><p>@Controller should be mentioned over the controller class.</p></li>\n<li><p>In controller class @RequestMapping value should be as same as the web.xml url-pattern parameter.</p></li>\n<li><p>In controller class, ModelAndView returns .jsp page should be at the same path which is pointing in the servlet.xml prefix value of ViewResolver.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13501358,"reputation":60,"user_id":9740706,"display_name":"iragond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538809671,"creation_date":1538809671,"answer_id":52676580,"question_id":26005483,"body_markdown":"I Have also faced the same problem \r\n `org.springframework.web.servlet.DispatcherServlet noHandlerFound`\r\n\r\nI am hitting different url in postman to solve this problem just check your postman which URL you hitting \r\n","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>I Have also faced the same problem \n <code>org.springframework.web.servlet.DispatcherServlet noHandlerFound</code></p>\n\n<p>I am hitting different url in postman to solve this problem just check your postman which URL you hitting </p>\n"},{"tags":[],"owner":{"account_id":11513704,"reputation":540,"user_id":8437661,"display_name":"Jyot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1579092676,"creation_date":1579092676,"answer_id":59751830,"question_id":26005483,"body_markdown":"After spending whole day i got to know the solution. \r\nWhen you create maven project, by default it doesn&#39;t create &#39;java&#39; folder under &#39;javaResource/src/main&#39;, which is required to get the controller path. \r\n\r\nMake sure you create java folder first inside &#39;javaResource/src/main&#39;, then create your package and controller.\r\n\r\nScreenshot attached for reference. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/skEkT.png","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>After spending whole day i got to know the solution. \nWhen you create maven project, by default it doesn't create 'java' folder under 'javaResource/src/main', which is required to get the controller path. </p>\n\n<p>Make sure you create java folder first inside 'javaResource/src/main', then create your package and controller.</p>\n\n<p>Screenshot attached for reference. </p>\n\n<p><a href=\"https://i.stack.imgur.com/skEkT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/skEkT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586203063,"creation_date":1586184572,"answer_id":61062507,"question_id":26005483,"body_markdown":"I just checked the `servlet.xml` file and solved the problem: \r\n\r\n    &lt;context:component-scan base-package=&quot;com.YOURHOST&quot; /&gt;","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>I just checked the <code>servlet.xml</code> file and solved the problem: </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.YOURHOST\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18611129,"reputation":11,"user_id":13563504,"display_name":"mainaak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589755654,"creation_date":1589755654,"answer_id":61859786,"question_id":26005483,"body_markdown":"Here is how I got around this and what I was doing wrong.\r\n\r\nOn creating a maven project with web archetype we do not have the java directory under main. You will have to create it manually and add a directory under it. This directory is the base-package that the servlet.xml wants.\r\n\r\nservlet.xml and the location of the base-package image attached for reference\r\n\r\n[View image for viewing the project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/573DF.png","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>Here is how I got around this and what I was doing wrong.</p>\n\n<p>On creating a maven project with web archetype we do not have the java directory under main. You will have to create it manually and add a directory under it. This directory is the base-package that the servlet.xml wants.</p>\n\n<p>servlet.xml and the location of the base-package image attached for reference</p>\n\n<p><a href=\"https://i.stack.imgur.com/573DF.png\" rel=\"nofollow noreferrer\">View image for viewing the project</a></p>\n"},{"tags":[],"owner":{"account_id":12151785,"reputation":1,"user_id":8871803,"display_name":"Samuelhuckelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589955128,"creation_date":1589955128,"answer_id":61906271,"question_id":26005483,"body_markdown":"I have faced similar issue while copying from one project to another. I missed to add the index.jsp\r\n\r\nAdding this resolved my issue. Hope it helps.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>I have faced similar issue while copying from one project to another. I missed to add the index.jsp</p>\n\n<p>Adding this resolved my issue. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4527041,"reputation":11,"user_id":3678536,"display_name":"user3678536"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597509009,"creation_date":1597509009,"answer_id":63428351,"question_id":26005483,"body_markdown":"in maven ,&#39;java&#39; folder was not created . I created as src/main/java and this issue was resolved .\r\n\r\nit is suggested by jyot also in this post . \r\nhttps://stackoverflow.com/questions/26005483/org-springframework-web-servlet-dispatcherservlet-nohandlerfound/59751830#59751830","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>in maven ,'java' folder was not created . I created as src/main/java and this issue was resolved .</p>\n<p>it is suggested by jyot also in this post .\n<a href=\"https://stackoverflow.com/questions/26005483/org-springframework-web-servlet-dispatcherservlet-nohandlerfound/59751830#59751830\">org.springframework.web.servlet.DispatcherServlet noHandlerFound</a></p>\n"},{"tags":[],"owner":{"account_id":25729333,"reputation":1,"user_id":19485136,"display_name":"Gagan Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657008130,"creation_date":1657008130,"answer_id":72865957,"question_id":26005483,"body_markdown":"I faced the same issue and very basic mistake i did was:\r\n\r\n&lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.test&quot; /&gt;\r\n\r\nwrong package name as it was &quot;com.test&quot; and i had written &quot;com.controller&quot;..\r\n","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>I faced the same issue and very basic mistake i did was:</p>\n<p>&lt;mvc:annotation-driven /&gt;\n&lt;context:component-scan base-package=&quot;com.test&quot; /&gt;</p>\n<p>wrong package name as it was &quot;com.test&quot; and i had written &quot;com.controller&quot;..</p>\n"},{"tags":[],"owner":{"account_id":28742462,"reputation":1,"user_id":22012307,"display_name":"Eshika Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686243954,"creation_date":1686243692,"answer_id":76434165,"question_id":26005483,"body_markdown":"In my case I have given the wrong address for the jsp page for which mapping have been done.\r\n\r\nWhat I have given-\r\n\r\n name=&quot;prefix&quot; value=&quot;/WEB-INF/views&quot;\r\n\r\nWhat it should actually be-\r\n\r\nname=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;\r\n\r\nOnly a slight difference of slash(/) cause the error.\r\n\r\nEnsure that all the changes you have made should be saved.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>In my case I have given the wrong address for the jsp page for which mapping have been done.</p>\n<p>What I have given-</p>\n<p>name=&quot;prefix&quot; value=&quot;/WEB-INF/views&quot;</p>\n<p>What it should actually be-</p>\n<p>name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;</p>\n<p>Only a slight difference of slash(/) cause the error.</p>\n<p>Ensure that all the changes you have made should be saved.</p>\n"}],"owner":{"account_id":229363,"reputation":302,"user_id":492274,"accept_rate":93,"display_name":"wonza"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56741,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26006249,"answer_count":12,"score":5,"last_activity_date":1686243954,"creation_date":1411510176,"question_id":26005483,"body_markdown":"I get this error when accessing `http://api:8080/users` which 404&#39;s and I get this error in my console:\r\n\r\n\r\n&gt;Sep 23, 2014 5:57:52 PM org.springframework.web.servlet.DispatcherServlet noHandlerFound\r\n    WARNING: No mapping found for HTTP request with URI [/users] in DispatcherServlet with name &#39;dispatcher&#39;\r\n\r\nWhen I access `http://localhost:8080/api/users` I get a 404 in my browser but no error in my console\r\n\r\napplicationContext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.api&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\ndispatcher-servlet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n      xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n      xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/aop\r\n        http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n                http://www.springframework.org/schema/context\r\n                http://www.springframework.org/schema/context/spring-context.xsd\r\n        &quot;&gt;\r\n    \r\n      &lt;context:component-scan base-package=&quot;com.api&quot;/&gt;      \r\n    &lt;/beans&gt;\r\n\r\n\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n    \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nUsers.java:\r\n\r\n    package com.api;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class Users {\r\n    \t @Autowired\r\n    \t public Users() {\r\n    \t\t \r\n    \t }\r\n    \t \r\n    \t@RequestMapping(method = RequestMethod.GET)\r\n        public void getUser() {\r\n            System.out.println(&quot;\\nhere\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIf anyone has any clue I&#39;d greatly appreciate it. I&#39;ve looked up several questions with the same error as I&#39;m getting but common solution was to add &lt;mvc:default-servlet-handler/&gt;    which I have already, so I&#39;m not sure what else to do. Thanks.\r\n\r\nEDIT: I&#39;ve just updated all the code to what the latest reference doc, and I still get the same error.\r\nEDIT: Update to show my current state of files.","title":"org.springframework.web.servlet.DispatcherServlet noHandlerFound","body":"<p>I get this error when accessing <code>http://api:8080/users</code> which 404's and I get this error in my console:</p>\n\n<blockquote>\n  <p>Sep 23, 2014 5:57:52 PM org.springframework.web.servlet.DispatcherServlet noHandlerFound\n      WARNING: No mapping found for HTTP request with URI [/users] in DispatcherServlet with name 'dispatcher'</p>\n</blockquote>\n\n<p>When I access <code>http://localhost:8080/api/users</code> I get a 404 in my browser but no error in my console</p>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.api\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>dispatcher-servlet.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:p=\"http://www.springframework.org/schema/p\"\n  xmlns:aop=\"http://www.springframework.org/schema/aop\"\n  xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context.xsd\n    \"&gt;\n\n  &lt;context:component-scan base-package=\"com.api\"/&gt;      \n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Users.java:</p>\n\n<pre><code>package com.api;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RequestMapping(\"/users\")\npublic class Users {\n     @Autowired\n     public Users() {\n\n     }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public void getUser() {\n        System.out.println(\"\\nhere\\n\");\n    }\n}\n</code></pre>\n\n<p>If anyone has any clue I'd greatly appreciate it. I've looked up several questions with the same error as I'm getting but common solution was to add     which I have already, so I'm not sure what else to do. Thanks.</p>\n\n<p>EDIT: I've just updated all the code to what the latest reference doc, and I still get the same error.\nEDIT: Update to show my current state of files.</p>\n"},{"tags":["java","user-interface","debugging","jtable","encapsulation"],"owner":{"account_id":28781816,"reputation":1,"user_id":22043269,"display_name":"Einfortunate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686243952,"creation_date":1686243952,"question_id":76434203,"body_markdown":"I&#39;m using Java and Windows Builder in Eclipse to create the GUI, while also implementing encapsulation to store the information. There are two sides in my appointment system, User and Registar. The user will type in their information at the text field, and then press the button for request. When we switch to the registar&#39;s panel where the table is, there isn&#39;t anything displayed in it.\r\n\r\nHere are my codes.\r\n\r\n```package queuemanagement;\r\n\r\nimport queuemanagement.QueueManagementSystem.AppointmentRequestPanel;\r\n\r\npublic class AppointmentRequest {\r\n\t\r\n    private String firstName;\r\n    private String surname;\r\n    private String middleName;\r\n    private String email;\r\n    private String documentType;\r\n    private String proofOfPayment;\r\n    private String purposeOfAppointment;\r\n    private String trackingCode;\r\n    private AppointmentRequestPanel appointmentReq; \r\n    \r\n    public String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getSurname() {\r\n\t\treturn surname;\r\n\t}\r\n\r\n\tpublic void setSurname(String surname) {\r\n\t\tthis.surname = surname;\r\n\t}\r\n\r\n\tpublic String getMiddleName() {\r\n\t\treturn middleName;\r\n\t}\r\n\r\n\tpublic void setMiddleName(String middleName) {\r\n\t\tthis.middleName = middleName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getDocumentType() {\r\n\t\treturn documentType;\r\n\t}\r\n\r\n\tpublic void setDocumentType(String documentType) {\r\n\t\tthis.documentType = documentType;\r\n\t}\r\n\r\n\tpublic String getProofOfPayment() {\r\n\t\treturn proofOfPayment;\r\n\t}\r\n\r\n\tpublic void setProofOfPayment(String proofOfPayment) {\r\n\t\tthis.proofOfPayment = proofOfPayment;\r\n\t}\r\n\r\n\tpublic String getPurposeOfAppointment() {\r\n\t\treturn purposeOfAppointment;\r\n\t}\r\n\t\r\n\tpublic void RequestAppointmentPanel(AppointmentRequestPanel appointmentReq) {\r\n\t    this.appointmentReq = appointmentReq;\r\n\t}\r\n\r\n\tpublic void setPurposeOfAppointment(String purposeOfAppointment) {\r\n\t\tthis.purposeOfAppointment = purposeOfAppointment;\r\n\t}\r\n\r\n\t\r\n    // Constructor\r\n    public AppointmentRequest(String firstName, String surname, String middleName, String email, String      documentType,\r\n            String proofOfPayment, String purposeOfAppointment) {\r\n    \t\r\n        this.firstName = firstName;\r\n        this.surname = surname;\r\n        this.middleName = middleName;\r\n        this.email = email;\r\n        this.documentType = documentType;\r\n        this.proofOfPayment = proofOfPayment;\r\n        this.purposeOfAppointment = purposeOfAppointment;\r\n\r\n    }\r\n }\r\n```\r\n\r\nHere&#39;s the code for the panel that has the text fields, I also shortened this code because of how long it is with the other labels that aren&#39;t needed for this problem.\r\n\r\n```\r\npublic class RequestAppointmentPanel extends JPanel {\r\n\tpublic RequestAppointmentPanel(DefaultTableModel tableModel) {\r\n\t\t\r\n        this.tableModel = tableModel;\r\n        appointmentRequestPanel = new AppointmentRequestPanel();\r\n\r\n\tprivate AppointmentRequest retrieveAppointmentRequest() {\r\n\t    // Get the values entered by the user\r\n\t    String firstName = textField_firstName.getText();\r\n\t    String surname = textField_surname.getText();\r\n\t    String middleName = textField_middleName.getText();\r\n\t    String email = textField_email.getText();\r\n\t    String purpose = textArea_purposeOfAppointment.getText();\r\n\t    String proofOfPayment = textField_proofOfPayment.getText();\r\n\t    String documentType = comboBox_documentType.getSelectedItem().toString();\r\n\r\n\t    // Create and return an instance of AppointmentRequest\r\n\t    return new AppointmentRequest(firstName, surname, middleName, email, documentType, proofOfPayment, purpose);\r\n\t}\r\n\t\t\r\n\tprivate void addFileRequestButton(JPanel panel) {\r\n\t\t\t\t\r\n\t\tbtnFileRequest = new RoundedButton(&quot;File a Request&quot;);\r\n\t\t\r\n\t\tbtnFileRequest.addActionListener(new ActionListener() {\r\n\t\t\t\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t  // Check if required fields are filled\r\n\t\t\t\t\r\n\t            if (isFieldsFilled()) {\t               \r\n\t            \t\r\n\t            \t// Retrieve the appointment request information\r\n\t                AppointmentRequest appointmentRequest = retrieveAppointmentRequest();\r\n\r\n\t                // Pass the appointment request data to the AppointmentRequestPanel\r\n\t                appointmentRequestPanel.addAppointmentRequest(appointmentRequest);\r\n\t                \r\n\t                // Display success message and clear the entered information\r\n\t                JOptionPane.showMessageDialog(null, &quot;File request submitted!&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\t                clearFields();\r\n\t                \t              \t            \t\r\n\t            } else {\r\n\t            \t\r\n\t                // Display an error message or prompt the user to fill in the required fields\r\n    \t                JOptionPane.showMessageDialog(null, &quot;Please fill in all required fields.&quot;,                 &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n\t                \r\n\t            }        \r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tbtnFileRequest.setText(&quot;File a request&quot;);\r\n\t}\r\n} \r\n```\r\n\r\nLastly, the class that has the table.\r\n\r\n```\r\npublic class AppointmentRequestPanel extends JPanel {\r\n\r\n    private JTable appointmentTable;\r\n    private DefaultTableModel tableModel;\r\n    \r\n    \r\n    public AppointmentRequestPanel() {\r\n    \t\r\n        setSize(1016, 637);\r\n    \tsetBackground(new Color(249, 249, 249));\r\n                \r\n       appointmentTable = new JTable();\r\n       //create the table model with appropriate column names\r\n       tableModel = new DefaultTableModel();\r\n       tableModel.setColumnIdentifiers(new String[] {&quot;Last Name&quot;, &quot;First Name&quot;, &quot;Middle Name&quot;, &quot;Email&quot;, &quot;Document Type&quot;, &quot;Proof of Payment&quot;, &quot;Purpose&quot;});\r\n       setLayout(null);\r\n      \r\n       appointmentTable.setCellSelectionEnabled(true);\r\n       appointmentTable.setColumnSelectionAllowed(true);\r\n       appointmentTable.setFillsViewportHeight(true);\r\n       appointmentTable.setModel(tableModel);\r\n       \r\n       //create and configure the table to display the appointment requests\r\n       JScrollPane scrollPane = new JScrollPane(appointmentTable);\r\n       scrollPane.setBounds(42, 90, 931, 509);\r\n       scrollPane.setViewportView(appointmentTable);\r\n    \r\n       add(scrollPane, BorderLayout.CENTER);\r\n       \r\n       JLabel lblAppointmentRequest = new JLabel(&quot;Appointment Request&quot;);\r\n       lblAppointmentRequest.setForeground(new Color(49, 62, 138));\r\n       lblAppointmentRequest.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 40));\r\n       lblAppointmentRequest.setBounds(42, 0, 406, 91);\r\n       add(lblAppointmentRequest);\r\n       \r\n    }\r\n    \r\n    public void displayAppointmentRequest(AppointmentRequest appointmentRequest) {\r\n        // add the appointment request data to the table model\r\n        Object[] rowData = {\r\n            appointmentRequest.getSurname(),\r\n            appointmentRequest.getFirstName(),\r\n            appointmentRequest.getMiddleName(),\r\n            appointmentRequest.getEmail(),\r\n            appointmentRequest.getDocumentType(),\r\n            appointmentRequest.getProofOfPayment(),\r\n            appointmentRequest.getPurposeOfAppointment()\r\n        };\r\n        tableModel.addRow(rowData);\r\n    }\r\n    \r\n    public void displayRow(Object[] row) {\r\n        tableModel.addRow(row);\r\n    }\r\n    \t\r\n    public DefaultTableModel getTableModel() {\r\n        return tableModel;\r\n    }\r\n\r\n}\\`\\`\\`\r\n```\r\n\r\nI also can&#39;t use database for this. Please tell me if my format for asking a question is wrong, I&#39;m still new to this site. And if my code is messy, sorry about that.","title":"I&#39;m trying to make an appointment system, but the data won&#39;t show up to my Jtable","body":"<p>I'm using Java and Windows Builder in Eclipse to create the GUI, while also implementing encapsulation to store the information. There are two sides in my appointment system, User and Registar. The user will type in their information at the text field, and then press the button for request. When we switch to the registar's panel where the table is, there isn't anything displayed in it.</p>\n<p>Here are my codes.</p>\n<pre><code>\nimport queuemanagement.QueueManagementSystem.AppointmentRequestPanel;\n\npublic class AppointmentRequest {\n    \n    private String firstName;\n    private String surname;\n    private String middleName;\n    private String email;\n    private String documentType;\n    private String proofOfPayment;\n    private String purposeOfAppointment;\n    private String trackingCode;\n    private AppointmentRequestPanel appointmentReq; \n    \n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String getMiddleName() {\n        return middleName;\n    }\n\n    public void setMiddleName(String middleName) {\n        this.middleName = middleName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getDocumentType() {\n        return documentType;\n    }\n\n    public void setDocumentType(String documentType) {\n        this.documentType = documentType;\n    }\n\n    public String getProofOfPayment() {\n        return proofOfPayment;\n    }\n\n    public void setProofOfPayment(String proofOfPayment) {\n        this.proofOfPayment = proofOfPayment;\n    }\n\n    public String getPurposeOfAppointment() {\n        return purposeOfAppointment;\n    }\n    \n    public void RequestAppointmentPanel(AppointmentRequestPanel appointmentReq) {\n        this.appointmentReq = appointmentReq;\n    }\n\n    public void setPurposeOfAppointment(String purposeOfAppointment) {\n        this.purposeOfAppointment = purposeOfAppointment;\n    }\n\n    \n    // Constructor\n    public AppointmentRequest(String firstName, String surname, String middleName, String email, String      documentType,\n            String proofOfPayment, String purposeOfAppointment) {\n        \n        this.firstName = firstName;\n        this.surname = surname;\n        this.middleName = middleName;\n        this.email = email;\n        this.documentType = documentType;\n        this.proofOfPayment = proofOfPayment;\n        this.purposeOfAppointment = purposeOfAppointment;\n\n    }\n }\n</code></pre>\n<p>Here's the code for the panel that has the text fields, I also shortened this code because of how long it is with the other labels that aren't needed for this problem.</p>\n<pre><code>public class RequestAppointmentPanel extends JPanel {\n    public RequestAppointmentPanel(DefaultTableModel tableModel) {\n        \n        this.tableModel = tableModel;\n        appointmentRequestPanel = new AppointmentRequestPanel();\n\n    private AppointmentRequest retrieveAppointmentRequest() {\n        // Get the values entered by the user\n        String firstName = textField_firstName.getText();\n        String surname = textField_surname.getText();\n        String middleName = textField_middleName.getText();\n        String email = textField_email.getText();\n        String purpose = textArea_purposeOfAppointment.getText();\n        String proofOfPayment = textField_proofOfPayment.getText();\n        String documentType = comboBox_documentType.getSelectedItem().toString();\n\n        // Create and return an instance of AppointmentRequest\n        return new AppointmentRequest(firstName, surname, middleName, email, documentType, proofOfPayment, purpose);\n    }\n        \n    private void addFileRequestButton(JPanel panel) {\n                \n        btnFileRequest = new RoundedButton(&quot;File a Request&quot;);\n        \n        btnFileRequest.addActionListener(new ActionListener() {\n            \n            public void actionPerformed(ActionEvent e) {\n                  // Check if required fields are filled\n                \n                if (isFieldsFilled()) {                \n                    \n                    // Retrieve the appointment request information\n                    AppointmentRequest appointmentRequest = retrieveAppointmentRequest();\n\n                    // Pass the appointment request data to the AppointmentRequestPanel\n                    appointmentRequestPanel.addAppointmentRequest(appointmentRequest);\n                    \n                    // Display success message and clear the entered information\n                    JOptionPane.showMessageDialog(null, &quot;File request submitted!&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\n                    clearFields();\n                                                        \n                } else {\n                    \n                    // Display an error message or prompt the user to fill in the required fields\n                        JOptionPane.showMessageDialog(null, &quot;Please fill in all required fields.&quot;,                 &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    \n                }        \n                \n            }\n        });\n        \n        btnFileRequest.setText(&quot;File a request&quot;);\n    }\n} \n</code></pre>\n<p>Lastly, the class that has the table.</p>\n<pre><code>public class AppointmentRequestPanel extends JPanel {\n\n    private JTable appointmentTable;\n    private DefaultTableModel tableModel;\n    \n    \n    public AppointmentRequestPanel() {\n        \n        setSize(1016, 637);\n        setBackground(new Color(249, 249, 249));\n                \n       appointmentTable = new JTable();\n       //create the table model with appropriate column names\n       tableModel = new DefaultTableModel();\n       tableModel.setColumnIdentifiers(new String[] {&quot;Last Name&quot;, &quot;First Name&quot;, &quot;Middle Name&quot;, &quot;Email&quot;, &quot;Document Type&quot;, &quot;Proof of Payment&quot;, &quot;Purpose&quot;});\n       setLayout(null);\n      \n       appointmentTable.setCellSelectionEnabled(true);\n       appointmentTable.setColumnSelectionAllowed(true);\n       appointmentTable.setFillsViewportHeight(true);\n       appointmentTable.setModel(tableModel);\n       \n       //create and configure the table to display the appointment requests\n       JScrollPane scrollPane = new JScrollPane(appointmentTable);\n       scrollPane.setBounds(42, 90, 931, 509);\n       scrollPane.setViewportView(appointmentTable);\n    \n       add(scrollPane, BorderLayout.CENTER);\n       \n       JLabel lblAppointmentRequest = new JLabel(&quot;Appointment Request&quot;);\n       lblAppointmentRequest.setForeground(new Color(49, 62, 138));\n       lblAppointmentRequest.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 40));\n       lblAppointmentRequest.setBounds(42, 0, 406, 91);\n       add(lblAppointmentRequest);\n       \n    }\n    \n    public void displayAppointmentRequest(AppointmentRequest appointmentRequest) {\n        // add the appointment request data to the table model\n        Object[] rowData = {\n            appointmentRequest.getSurname(),\n            appointmentRequest.getFirstName(),\n            appointmentRequest.getMiddleName(),\n            appointmentRequest.getEmail(),\n            appointmentRequest.getDocumentType(),\n            appointmentRequest.getProofOfPayment(),\n            appointmentRequest.getPurposeOfAppointment()\n        };\n        tableModel.addRow(rowData);\n    }\n    \n    public void displayRow(Object[] row) {\n        tableModel.addRow(row);\n    }\n        \n    public DefaultTableModel getTableModel() {\n        return tableModel;\n    }\n\n}\\`\\`\\`\n</code></pre>\n<p>I also can't use database for this. Please tell me if my format for asking a question is wrong, I'm still new to this site. And if my code is messy, sorry about that.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1686244904,"post_id":76434150,"comment_id":134776030,"body_markdown":"May be possibly a duplicate of https://stackoverflow.com/questions/804514/hibernate-field-id-doesnt-have-a-default-value","body":"May be possibly a duplicate of <a href=\"https://stackoverflow.com/questions/804514/hibernate-field-id-doesnt-have-a-default-value\" title=\"hibernate field id doesnt have a default value\">stackoverflow.com/questions/804514/&hellip;</a>"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686243570,"creation_date":1686243570,"question_id":76434150,"body_markdown":"I am using HIBERNATE version: 5.6.15.Final, to try to generate a UUID when creating a relational table, I have the following definition of class attributes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Regiones&quot;)\r\n    public class Region implements Serializable {\r\n        private static final long SerialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(\r\n          name = &quot;UUID&quot;, \r\n          strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n        )\r\n        @Getter\r\n        @Setter\r\n        private UUID Id;\r\n    }\r\n\r\nBut I get a runtime error: java.sql.SQLException: Field &#39;id&#39; doesn&#39;t have a default value and the program stops. Is the strategy path defined in the GenericGenerator different for this version of hibernate? Or am I wrong about something else?\r\n\r\nGradle dependencies: \r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        // https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n        implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.33&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate/hibernate-validator\r\n    \timplementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-validator&#39;, version: &#39;7.0.5.Final&#39;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }","title":"Generic Generator in hibernate to generate a UUID","body":"<p>I am using HIBERNATE version: 5.6.15.Final, to try to generate a UUID when creating a relational table, I have the following definition of class attributes:</p>\n<pre><code>@Entity\n@Table(name = &quot;Regiones&quot;)\npublic class Region implements Serializable {\n    private static final long SerialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n      name = &quot;UUID&quot;, \n      strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Getter\n    @Setter\n    private UUID Id;\n}\n</code></pre>\n<p>But I get a runtime error: java.sql.SQLException: Field 'id' doesn't have a default value and the program stops. Is the strategy path defined in the GenericGenerator different for this version of hibernate? Or am I wrong about something else?</p>\n<p>Gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.33'\n\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-validator\n    implementation group: 'org.hibernate', name: 'hibernate-validator', version: '7.0.5.Final'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","helidon","helidon-webclient"],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686243451,"creation_date":1686243451,"answer_id":76434140,"question_id":76423855,"body_markdown":"A similar question was recently answered here. \r\n\r\nRefer:\r\n[https://stackoverflow.com/questions/76111148/accessing-kubernetes-secret-in-helidon-micro-profile-application/76113695#76113695][1]\r\n\r\nAlthough the above topic relates to k8s secrets, the approach you need to follow for config map is pretty much exactly the same. Just replace the references to secrets in the answer with configMap equivalents, such as secretKeyRef -&gt; configMapKeyRef etc, and you should be set.\r\n\r\nLet me know in comments if anything in my linked answer does not translate directly to your problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/76111148/accessing-kubernetes-secret-in-helidon-micro-profile-application/76113695#76113695","title":"Setting up a config map in HelidonMP","body":"<p>A similar question was recently answered here.</p>\n<p>Refer:\n<a href=\"https://stackoverflow.com/questions/76111148/accessing-kubernetes-secret-in-helidon-micro-profile-application/76113695#76113695\">Accessing kubernetes secret in helidon micro profile application</a></p>\n<p>Although the above topic relates to k8s secrets, the approach you need to follow for config map is pretty much exactly the same. Just replace the references to secrets in the answer with configMap equivalents, such as secretKeyRef -&gt; configMapKeyRef etc, and you should be set.</p>\n<p>Let me know in comments if anything in my linked answer does not translate directly to your problem.</p>\n"}],"owner":{"account_id":6494032,"reputation":141,"user_id":5027167,"display_name":"Ramaiah .S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686243451,"creation_date":1686144688,"question_id":76423855,"body_markdown":"Team, i Have been trying to create config map for one helidon MP project. I have mounted application.yaml file into the config map but still it is not been considered in the pod.\r\ndockerfile:\r\nFROM fccm-dev.dockerhub-phx.oci.oraclecorp.com/java/jdk:17.0.2\r\n\r\nARG service=helidon-jpa-sample\r\n\r\nRUN yum clean all\r\n\r\nADD target/helidon-jpa-sample.jar /app/icpxe/target/helidon-jpa-sample.jar\r\nADD target/libs/* /app/icpxe/target/libs/\r\n\r\nVOLUME /app/icpxe/config\r\n\r\nWORKDIR /app/icpxe\r\n\r\nRUN mkdir -p /app/icpxe/logs &amp;&amp; mkdir -p /app/icpxe/wallet\r\n\r\nVOLUME /app/icpxe/${service}/conf\r\nVOLUME /app/icpxe/logs\r\nVOLUME /app/icpxe/wallet\r\n\r\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Dconfig.file=/app/icpxe/${service}/conf/application.yaml -jar target/helidon-jpa-sample.jar&quot;]\r\nhow to configure configmap in HelidonMP","title":"Setting up a config map in HelidonMP","body":"<p>Team, i Have been trying to create config map for one helidon MP project. I have mounted application.yaml file into the config map but still it is not been considered in the pod.\ndockerfile:\nFROM fccm-dev.dockerhub-phx.oci.oraclecorp.com/java/jdk:17.0.2</p>\n<p>ARG service=helidon-jpa-sample</p>\n<p>RUN yum clean all</p>\n<p>ADD target/helidon-jpa-sample.jar /app/icpxe/target/helidon-jpa-sample.jar\nADD target/libs/* /app/icpxe/target/libs/</p>\n<p>VOLUME /app/icpxe/config</p>\n<p>WORKDIR /app/icpxe</p>\n<p>RUN mkdir -p /app/icpxe/logs &amp;&amp; mkdir -p /app/icpxe/wallet</p>\n<p>VOLUME /app/icpxe/${service}/conf\nVOLUME /app/icpxe/logs\nVOLUME /app/icpxe/wallet</p>\n<p>CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Dconfig.file=/app/icpxe/${service}/conf/application.yaml -jar target/helidon-jpa-sample.jar&quot;]\nhow to configure configmap in HelidonMP</p>\n"},{"tags":["java","spring","spring-integration","jira-plugin","atlassian-plugin-sdk"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686243223,"creation_date":1686235805,"answer_id":76433099,"question_id":76432727,"body_markdown":"The error has nothing to do with Spring Integration. It complains that cannot find `http://www.atlassian.com/schema/atlassian-scanner/2` XSD for those Atlassian custom tags. \r\n\r\nYou need to be sure that you have this dependency or so:\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.atlassian.plugin&lt;/groupId&gt;\r\n     &lt;artifactId&gt;atlassian-spring-scanner-annotation&lt;/artifactId&gt;\r\n     &lt;version&gt;${atlassian.spring.scanner.version}&lt;/version&gt;\r\n     &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee more info in their documentation: https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/\r\n\r\n**UPDATE**\r\n\r\nOK. Looking to the error one more time:\r\n\r\n&gt; Unable to locate Spring NamespaceHandler for XML schema namespace\r\n\r\nThe problem is that that `atlassian-spring-scanner-annotation` doesn&#39;t have a `spring.handlers` file in the `/META-INF` alongside with that `spring.schemas`: https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/atlassian-spring-scanner-annotation/src/main/resources/META-INF/\r\n\r\nSo, this is a bug in that Atlassian Scanner project.\r\nBut at the same time they suggest to move to annotation model from now on: https://developer.atlassian.com/server/framework/atlassian-sdk/spring-java-config-spring-scanner/","title":"Use Spring Integration in Jira Plugin Development","body":"<p>The error has nothing to do with Spring Integration. It complains that cannot find <code>http://www.atlassian.com/schema/atlassian-scanner/2</code> XSD for those Atlassian custom tags.</p>\n<p>You need to be sure that you have this dependency or so:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.atlassian.plugin&lt;/groupId&gt;\n &lt;artifactId&gt;atlassian-spring-scanner-annotation&lt;/artifactId&gt;\n &lt;version&gt;${atlassian.spring.scanner.version}&lt;/version&gt;\n &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See more info in their documentation: <a href=\"https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/</a></p>\n<p><strong>UPDATE</strong></p>\n<p>OK. Looking to the error one more time:</p>\n<blockquote>\n<p>Unable to locate Spring NamespaceHandler for XML schema namespace</p>\n</blockquote>\n<p>The problem is that that <code>atlassian-spring-scanner-annotation</code> doesn't have a <code>spring.handlers</code> file in the <code>/META-INF</code> alongside with that <code>spring.schemas</code>: <a href=\"https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/atlassian-spring-scanner-annotation/src/main/resources/META-INF/\" rel=\"nofollow noreferrer\">https://bitbucket.org/atlassian/atlassian-spring-scanner/src/master/atlassian-spring-scanner-annotation/src/main/resources/META-INF/</a></p>\n<p>So, this is a bug in that Atlassian Scanner project.\nBut at the same time they suggest to move to annotation model from now on: <a href=\"https://developer.atlassian.com/server/framework/atlassian-sdk/spring-java-config-spring-scanner/\" rel=\"nofollow noreferrer\">https://developer.atlassian.com/server/framework/atlassian-sdk/spring-java-config-spring-scanner/</a></p>\n"}],"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686243223,"creation_date":1686233338,"question_id":76432727,"body_markdown":"I&#39;m trying to use Spring Integration module in my Jira plugin. When I&#39;m starting it I see following error:\r\n```___ FAILED PLUGIN REPORT _____________________\r\n[INFO] [talledLocalContainer]     \r\n[INFO] [talledLocalContainer]     1 plugin failed to load during JIRA startup.\r\n[INFO] [talledLocalContainer]     \r\n[INFO] [talledLocalContainer]           abcbcbabqbasbsad  failed to load.\r\n[INFO] [talledLocalContainer]                   Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.atlassian.com/schema/atlassian-scanner/2]\r\n[INFO] [talledLocalContainer]     Offending resource: URL [bundle://189.0:0/META-INF/spring/plugin-context.xml]\r\n```\r\n\r\nContent of `META-INF/spring/plugin-context.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:atlassian-scanner=&quot;http://www.atlassian.com/schema/atlassian-scanner/2&quot;\r\n       xmlns:beans=&quot;http://www.springframework.org/schema/c&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n        http://www.springframework.org/schema/integration\r\n        https://www.springframework.org/schema/integration/spring-integration.xsd\r\n        http://www.atlassian.com/schema/atlassian-scanner/2\r\n        http://www.atlassian.com/schema/atlassian-scanner/2/atlassian-scanner.xsd\r\n        http://www.springframework.org/schema/context\r\n        https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    &lt;atlassian-scanner:scan-indexes/&gt;\r\n    &lt;context:component-scan base-package=&quot;com.my.plugin&quot;/&gt;\r\n    &lt;beans:bean id=&quot;myMessageGroupStore&quot; class=&quot;com.my.plugin.service.MyMessageGroupStore&quot;/&gt;\r\n&lt;/beans&gt;\r\n``` \r\n\r\n`pom.xml` content:\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\r\n     &lt;version&gt;5.2.11.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.atlassian.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;atlassian-spring-scanner-annotation&lt;/artifactId&gt;\r\n    &lt;version&gt;${atlassian.spring.scanner.version}&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIn my bean `AbstractMessageGroupStore` is abstract class from spring-integration module:\r\n```\r\n@Service\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ServerMessageGroupStore extends AbstractMessageGroupStore {\r\n\r\n    @Autowired\r\n    private ActiveObjects ao;\r\n...\r\n}\r\n```\r\n\r\nHow to fix this? Is it possible to use spring-integration in jira plugin?\r\n","title":"Use Spring Integration in Jira Plugin Development","body":"<p>I'm trying to use Spring Integration module in my Jira plugin. When I'm starting it I see following error:</p>\n<pre><code>[INFO] [talledLocalContainer]     \n[INFO] [talledLocalContainer]     1 plugin failed to load during JIRA startup.\n[INFO] [talledLocalContainer]     \n[INFO] [talledLocalContainer]           abcbcbabqbasbsad  failed to load.\n[INFO] [talledLocalContainer]                   Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.atlassian.com/schema/atlassian-scanner/2]\n[INFO] [talledLocalContainer]     Offending resource: URL [bundle://189.0:0/META-INF/spring/plugin-context.xml]\n</code></pre>\n<p>Content of <code>META-INF/spring/plugin-context.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:atlassian-scanner=&quot;http://www.atlassian.com/schema/atlassian-scanner/2&quot;\n       xmlns:beans=&quot;http://www.springframework.org/schema/c&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n        http://www.springframework.org/schema/integration\n        https://www.springframework.org/schema/integration/spring-integration.xsd\n        http://www.atlassian.com/schema/atlassian-scanner/2\n        http://www.atlassian.com/schema/atlassian-scanner/2/atlassian-scanner.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n    &lt;atlassian-scanner:scan-indexes/&gt;\n    &lt;context:component-scan base-package=&quot;com.my.plugin&quot;/&gt;\n    &lt;beans:bean id=&quot;myMessageGroupStore&quot; class=&quot;com.my.plugin.service.MyMessageGroupStore&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><code>pom.xml</code> content:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\n     &lt;version&gt;5.2.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.atlassian.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;atlassian-spring-scanner-annotation&lt;/artifactId&gt;\n    &lt;version&gt;${atlassian.spring.scanner.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my bean <code>AbstractMessageGroupStore</code> is abstract class from spring-integration module:</p>\n<pre><code>@Service\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ServerMessageGroupStore extends AbstractMessageGroupStore {\n\n    @Autowired\n    private ActiveObjects ao;\n...\n}\n</code></pre>\n<p>How to fix this? Is it possible to use spring-integration in jira plugin?</p>\n"},{"tags":["java","installation","java-14","jpackage"],"answers":[{"tags":[],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594298638,"creation_date":1594298638,"answer_id":62815120,"question_id":62675323,"body_markdown":"This may fix the reinstall.\r\n\r\nIn my case, I create the jpackage installer, install it, creates a new installer (based on Inno Setup) and uninstall the jpackage automatically.\r\n\r\nI think what may work in your case is to uninstall the first installation as the installer may detect that it&#39;s already installed with the same version.\r\n\r\nIn my case I do the uninstall automatically with an Ant task\r\n\r\n      &lt;target name=&quot;uninstall&quot; depends=&quot;init&quot;&gt;\r\n        &lt;exec executable=&quot;wmic.exe&quot;&gt;\r\n          &lt;arg value=&quot;product&quot; /&gt;\r\n          &lt;arg value=&quot;where&quot; /&gt;\r\n          &lt;arg value=&quot;description=&#39;${full.name}&#39;&quot; /&gt;\r\n          &lt;arg value=&quot;uninstall&quot; /&gt;\r\n        &lt;/exec&gt;\r\n      &lt;/target&gt;\r\n\r\n","title":"Cannot rerun Java JPackage installer if already installed, second time just exits without warning","body":"<p>This may fix the reinstall.</p>\n<p>In my case, I create the jpackage installer, install it, creates a new installer (based on Inno Setup) and uninstall the jpackage automatically.</p>\n<p>I think what may work in your case is to uninstall the first installation as the installer may detect that it's already installed with the same version.</p>\n<p>In my case I do the uninstall automatically with an Ant task</p>\n<pre><code>  &lt;target name=&quot;uninstall&quot; depends=&quot;init&quot;&gt;\n    &lt;exec executable=&quot;wmic.exe&quot;&gt;\n      &lt;arg value=&quot;product&quot; /&gt;\n      &lt;arg value=&quot;where&quot; /&gt;\n      &lt;arg value=&quot;description='${full.name}'&quot; /&gt;\n      &lt;arg value=&quot;uninstall&quot; /&gt;\n    &lt;/exec&gt;\n  &lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1686242138,"creation_date":1594310688,"answer_id":62819060,"question_id":62675323,"body_markdown":"No idea if this helps on Mac or Linux but the Windows installer automatically removes older versions of the application when you run it so you just need to set up a scheme which changes the version number on each build to avoid having to ununstall old version each time.\r\n\r\nTo do this simply you could set the version number as &quot;YY.MM.DDHH&quot; so version number changes each hour and cuts down on uninstalls.\r\n\r\nAnt steps:\r\n\r\n    &lt;tstamp&gt;\r\n        &lt;format property=&quot;appver&quot;     pattern=&quot;yy.MM.ddHH&quot; /&gt;\r\n    &lt;/tstamp&gt;\r\n\r\n    &lt;exec executable=&quot;jpackage&quot;&gt;\r\n      \t&lt;arg line=&quot;--app-version ${appver}&quot;/&gt;\r\n        ...\r\n    &lt;/exec&gt;\r\n\r\nThe CMD version of this:\r\n\r\n    set appver=%date:~6,2%.%date:~3,2%.%date:~0,2%%time:~0,2%\r\n    jpackage --app-version %appver% ...\r\n\r\nLinux:\r\n\r\n    appver=$(date +%y.%m.%d%H)\r\n    jpackage --app-version $appver\r\n\r\n    \r\n","title":"Cannot rerun Java JPackage installer if already installed, second time just exits without warning","body":"<p>No idea if this helps on Mac or Linux but the Windows installer automatically removes older versions of the application when you run it so you just need to set up a scheme which changes the version number on each build to avoid having to ununstall old version each time.</p>\n<p>To do this simply you could set the version number as &quot;YY.MM.DDHH&quot; so version number changes each hour and cuts down on uninstalls.</p>\n<p>Ant steps:</p>\n<pre><code>&lt;tstamp&gt;\n    &lt;format property=&quot;appver&quot;     pattern=&quot;yy.MM.ddHH&quot; /&gt;\n&lt;/tstamp&gt;\n\n&lt;exec executable=&quot;jpackage&quot;&gt;\n    &lt;arg line=&quot;--app-version ${appver}&quot;/&gt;\n    ...\n&lt;/exec&gt;\n</code></pre>\n<p>The CMD version of this:</p>\n<pre><code>set appver=%date:~6,2%.%date:~3,2%.%date:~0,2%%time:~0,2%\njpackage --app-version %appver% ...\n</code></pre>\n<p>Linux:</p>\n<pre><code>appver=$(date +%y.%m.%d%H)\njpackage --app-version $appver\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62819060,"answer_count":2,"score":6,"last_activity_date":1686242138,"creation_date":1593601203,"question_id":62675323,"body_markdown":"Cannot rerun **JPackage** installer if already installed, second time just **seems to exit** without warning, is this correct behaviour on Windows ?\r\n\r\n\r\n\r\nYou may ask why I want to do this anyway?\r\n\r\nWell in my case I am trying to build a JPackage installer for my Java application, so I am building it installing it, then tweaking the settings, rebuilding it and try to reinstall. It took me some time to work out that I couldn&#39;t not reinstall it unless i uninstall the first installation (using Control Panel, Program and Features)\r\n\r\nMy case may not be the usual usecase, but it doesn&#39;t feel correct that it just exits without giving any reason.\r\n\r\nIt also means that if I deploy a new version to customers, and I later need to amend the installer than I would have to modify the version number to let the user reinstall, this may generally be best practise but is something I would not particulary want to do if the application itself had not changed.\r\n\r\n**Update:Since found out by looking at TaskManager it is still running but doesnt seem to be doing anything and gives no indication to user !**","title":"Cannot rerun Java JPackage installer if already installed, second time just exits without warning","body":"<p>Cannot rerun <strong>JPackage</strong> installer if already installed, second time just <strong>seems to exit</strong> without warning, is this correct behaviour on Windows ?</p>\n<p>You may ask why I want to do this anyway?</p>\n<p>Well in my case I am trying to build a JPackage installer for my Java application, so I am building it installing it, then tweaking the settings, rebuilding it and try to reinstall. It took me some time to work out that I couldn't not reinstall it unless i uninstall the first installation (using Control Panel, Program and Features)</p>\n<p>My case may not be the usual usecase, but it doesn't feel correct that it just exits without giving any reason.</p>\n<p>It also means that if I deploy a new version to customers, and I later need to amend the installer than I would have to modify the version number to let the user reinstall, this may generally be best practise but is something I would not particulary want to do if the application itself had not changed.</p>\n<p><strong>Update:Since found out by looking at TaskManager it is still running but doesnt seem to be doing anything and gives no indication to user !</strong></p>\n"},{"tags":["java","jsp","jakarta-ee","servlets"],"answers":[{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1246458827,"creation_date":1246458827,"answer_id":1069469,"question_id":1069442,"body_markdown":"Assuming that you&#39;re looking to authenticate just JSP files, you could change the URL:\r\n\r\n    /*.jsp\r\n\r\nI think it&#39;s a better idea to handle your authentication using a filter rather than a servlet. And in a production environment, you should use a front-end webserver for static content.","title":"RequestDispatcher.forward loop","body":"<p>Assuming that you're looking to authenticate just JSP files, you could change the URL:</p>\n\n<pre><code>/*.jsp\n</code></pre>\n\n<p>I think it's a better idea to handle your authentication using a filter rather than a servlet. And in a production environment, you should use a front-end webserver for static content.</p>\n"},{"tags":[],"owner":{"account_id":74156,"reputation":494,"user_id":213213,"display_name":"Punit Raizada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258488263,"creation_date":1258488263,"answer_id":1751400,"question_id":1069442,"body_markdown":"In case you cannot use a filter and you have to use a wildcard &#39;*&#39; in the mapping without a extension like &#39;.jsp&#39; then then this  could work for you:\r\n\r\n    if(isResourceFile){\r\n          RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;/static/&quot; + fileName);\r\n          dispatcher.forward(request, response);\r\n          return; \r\n    }\r\n\r\nAdding the &#39;/&#39; in the beginning of the static directory will give it root context. ","title":"RequestDispatcher.forward loop","body":"<p>In case you cannot use a filter and you have to use a wildcard '*' in the mapping without a extension like '.jsp' then then this  could work for you:</p>\n\n<pre><code>if(isResourceFile){\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(\"/static/\" + fileName);\n      dispatcher.forward(request, response);\n      return; \n}\n</code></pre>\n\n<p>Adding the '/' in the beginning of the static directory will give it root context. </p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686241975,"creation_date":1258501825,"answer_id":1752702,"question_id":1069442,"body_markdown":"The `url-pattern` of `/*`  is better to be used exclusively by `Filter`s, not `Servlet`s. Put all your static files in a certain folder (maybe covered by the `url-pattern` of a more effective [FileServlet][1]?) and let the Filter check it.\r\n\r\nE.g. (pseudo)\r\n\r\n    public void doFilter(request, response, chain) {\r\n        if (requestURI.startsWith(&quot;/static&quot;)) {\r\n            chain.doFilter(request, response); // Just continue. Do nothing.\r\n        } else {\r\n            request.getRequestDispatcher(&quot;/pages&quot;).forward(request, response); // Forward to page controller.\r\n        }\r\n    }\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\r\n\r\n  [1]: https://balusc.omnifaces.org/2009/02/fileservlet-supporting-resume-and.html","title":"RequestDispatcher.forward loop","body":"<p>The <code>url-pattern</code> of <code>/*</code>  is better to be used exclusively by <code>Filter</code>s, not <code>Servlet</code>s. Put all your static files in a certain folder (maybe covered by the <code>url-pattern</code> of a more effective <a href=\"https://balusc.omnifaces.org/2009/02/fileservlet-supporting-resume-and.html\" rel=\"nofollow noreferrer\">FileServlet</a>?) and let the Filter check it.</p>\n<p>E.g. (pseudo)</p>\n<pre><code>public void doFilter(request, response, chain) {\n    if (requestURI.startsWith(&quot;/static&quot;)) {\n        chain.doFilter(request, response); // Just continue. Do nothing.\n    } else {\n        request.getRequestDispatcher(&quot;/pages&quot;).forward(request, response); // Forward to page controller.\n    }\n}\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\">Difference between / and /* in servlet mapping url pattern</a></li>\n</ul>\n"}],"owner":{"account_id":42514,"reputation":382,"user_id":123868,"accept_rate":40,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1069469,"answer_count":3,"score":2,"last_activity_date":1686241975,"creation_date":1246458546,"question_id":1069442,"body_markdown":"I am  using\r\n\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\nto map all the requests to one sevlet,where i do all the authentication work.\r\nbut I want to skip some static content (like css files).so I tried fowrding them from\r\nthat sevlet to where the resource file is\r\n\r\n    if(isResourceFile){\r\n        RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;static/&quot; + fileName);\r\n        dispatcher.forward(request, response);\r\n    }\r\nbut this will start a infinite loop because this will again call the same sevlet\r\n\r\nis there any way to work around this without mapping all the resource(css) files in web.xml?","title":"RequestDispatcher.forward loop","body":"<p>I am  using</p>\n\n<pre><code>&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n</code></pre>\n\n<p>to map all the requests to one sevlet,where i do all the authentication work.\nbut I want to skip some static content (like css files).so I tried fowrding them from\nthat sevlet to where the resource file is</p>\n\n<pre><code>if(isResourceFile){\n    RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(\"static/\" + fileName);\n    dispatcher.forward(request, response);\n}\n</code></pre>\n\n<p>but this will start a infinite loop because this will again call the same sevlet</p>\n\n<p>is there any way to work around this without mapping all the resource(css) files in web.xml?</p>\n"},{"tags":["java","android","android-fragments","android-viewpager"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685170338,"post_id":76345490,"comment_id":134626926,"body_markdown":"`setOffScreenPageLimit(2)` would usually work fine in this case. You sure you are using it?","body":"<code>setOffScreenPageLimit(2)</code> would usually work fine in this case. You sure you are using it?"},{"owner":{"account_id":8516184,"reputation":272,"user_id":13926345,"display_name":"CODAR747"},"score":0,"creation_date":1685173720,"post_id":76345490,"comment_id":134627189,"body_markdown":"@Darshan Yes its not working for me","body":"@Darshan Yes its not working for me"}],"answers":[{"tags":[],"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686241903,"creation_date":1686241903,"answer_id":76433973,"question_id":76345490,"body_markdown":"You need to call setRetainInstance(true) inside onCreate() of your fragments with FragmentPagerAdapter.\r\n\r\nOr\r\n\r\nYou can use limit for it\r\n\r\n     int limit = (adapter.getCount() &gt; 1 ? adapter.getCount() - 1 : 1);\r\n    mViewPager = (ViewPager)findViewById(R.id.pager);\r\n    mViewPager.setOffscreenPageLimit(limit); \r\n\r\n","title":"How to stop refreshing fragment on tab change with FragmentStateAdapter and ViewPager2?","body":"<p>You need to call setRetainInstance(true) inside onCreate() of your fragments with FragmentPagerAdapter.</p>\n<p>Or</p>\n<p>You can use limit for it</p>\n<pre><code> int limit = (adapter.getCount() &gt; 1 ? adapter.getCount() - 1 : 1);\nmViewPager = (ViewPager)findViewById(R.id.pager);\nmViewPager.setOffscreenPageLimit(limit); \n</code></pre>\n"}],"owner":{"account_id":8516184,"reputation":272,"user_id":13926345,"display_name":"CODAR747"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686241903,"creation_date":1685166106,"question_id":76345490,"body_markdown":"I&#39;m using FragementStateAdapter and ViewPager2 in my Android project. But the problem is that my fragment is being reloaded on tab change. I want to stop that how do I do that? I have tried many online methods like specifying the setOffScreenLimit etc but nothing didn&#39;t work for me. Here is my code \r\n\r\nHere is my adapter code \r\n\r\n    public class LandingAdapter extends FragmentStateAdapter {\r\n    \r\n        private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\r\n    \r\n        public LandingAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n            super(fragmentManager, lifecycle);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            return mFragmentList.get(position);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n    \r\n            return mFragmentList.size();\r\n        }\r\n    \r\n        public void addFragment(Fragment fragment) {\r\n    \r\n            mFragmentList.add(fragment);\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n    \r\n            return mFragmentList.get(position).hashCode();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is my Activity code\r\n\r\n            ViewPager2 mViewPager = findViewById(R.id.ViewPager);\r\n            TabLayout mTabLayout = findViewById(R.id.TabLayout);\r\n    \r\n    \r\n    \r\n            LandingAdapter mAdapter = new LandingAdapter(getSupportFragmentManager(), getLifecycle());\r\n            mViewPager.setAdapter(mAdapter);\r\n            int savedAppMode = SharedPrefs.getInt(this, &quot;app_mode_checked_item&quot;,0);\r\n            if (savedAppMode == 1) {\r\n                mAdapter.addFragment(new ItemsFrag1());\r\n                mAdapter.addFragment(new ContactsFrag1());\r\n                mAdapter.addFragment(new ImagesFrag1());\r\n            } else {\r\n                mAdapter.addFragment(new ItemsFrag2());\r\n                mAdapter.addFragment(new ContactsFrag2());\r\n                mAdapter.addFragment(new ImagesFrag2());\r\n            }\r\n    \r\n    \r\n            new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt; {\r\n                switch (position) {\r\n                    case 0:\r\n                        tab.setText(&quot;Items&quot;);\r\n                        tab.setIcon(R.drawable.x_icon_photo);\r\n                        break;\r\n                    case 1:\r\n                        tab.setText(&quot;Contacts&quot;);\r\n                        tab.setIcon(R.drawable.x_icon_video);\r\n                        break;\r\n                    case 2:\r\n                        tab.setText(&quot;Images&quot;);\r\n                        tab.setIcon(R.drawable.x_icon_download);\r\n                        break;\r\n                }\r\n            }).attach();\r\n\r\n","title":"How to stop refreshing fragment on tab change with FragmentStateAdapter and ViewPager2?","body":"<p>I'm using FragementStateAdapter and ViewPager2 in my Android project. But the problem is that my fragment is being reloaded on tab change. I want to stop that how do I do that? I have tried many online methods like specifying the setOffScreenLimit etc but nothing didn't work for me. Here is my code</p>\n<p>Here is my adapter code</p>\n<pre><code>public class LandingAdapter extends FragmentStateAdapter {\n\n    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\n\n    public LandingAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return mFragmentList.get(position);\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n\n        return mFragmentList.size();\n    }\n\n    public void addFragment(Fragment fragment) {\n\n        mFragmentList.add(fragment);\n    }\n\n    @Override\n    public long getItemId(int position) {\n\n        return mFragmentList.get(position).hashCode();\n    }\n\n}\n</code></pre>\n<p>Here is my Activity code</p>\n<pre><code>        ViewPager2 mViewPager = findViewById(R.id.ViewPager);\n        TabLayout mTabLayout = findViewById(R.id.TabLayout);\n\n\n\n        LandingAdapter mAdapter = new LandingAdapter(getSupportFragmentManager(), getLifecycle());\n        mViewPager.setAdapter(mAdapter);\n        int savedAppMode = SharedPrefs.getInt(this, &quot;app_mode_checked_item&quot;,0);\n        if (savedAppMode == 1) {\n            mAdapter.addFragment(new ItemsFrag1());\n            mAdapter.addFragment(new ContactsFrag1());\n            mAdapter.addFragment(new ImagesFrag1());\n        } else {\n            mAdapter.addFragment(new ItemsFrag2());\n            mAdapter.addFragment(new ContactsFrag2());\n            mAdapter.addFragment(new ImagesFrag2());\n        }\n\n\n        new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt; {\n            switch (position) {\n                case 0:\n                    tab.setText(&quot;Items&quot;);\n                    tab.setIcon(R.drawable.x_icon_photo);\n                    break;\n                case 1:\n                    tab.setText(&quot;Contacts&quot;);\n                    tab.setIcon(R.drawable.x_icon_video);\n                    break;\n                case 2:\n                    tab.setText(&quot;Images&quot;);\n                    tab.setIcon(R.drawable.x_icon_download);\n                    break;\n            }\n        }).attach();\n</code></pre>\n"},{"tags":["java","android","mysql","bitmap","android-imageview"],"comments":[{"owner":{"account_id":252456,"reputation":2993,"user_id":530513,"accept_rate":100,"display_name":"David O&#39;Meara"},"score":0,"creation_date":1359101528,"post_id":14517066,"comment_id":20240481,"body_markdown":"You said that the image exists as a `blob` on the server side, but my reading indicates that `json_encode` won&#39;t send binary data. are you forgetting to `Base64` encode on the server before sending to the client? I&#39;d also be printing the payload to make sure it contains the expected data.","body":"You said that the image exists as a <code>blob</code> on the server side, but my reading indicates that <code>json_encode</code> won&#39;t send binary data. are you forgetting to <code>Base64</code> encode on the server before sending to the client? I&#39;d also be printing the payload to make sure it contains the expected data."},{"owner":{"account_id":2286167,"reputation":1,"user_id":2010065,"display_name":"Vijay"},"score":0,"creation_date":1359116534,"post_id":14517066,"comment_id":20247082,"body_markdown":"Thank you Altaf and David. Your help helped me figure out a solution. On the server side, I coded as David instructed and java code follows Altaf&#39;s idea.","body":"Thank you Altaf and David. Your help helped me figure out a solution. On the server side, I coded as David instructed and java code follows Altaf&#39;s idea."},{"owner":{"account_id":220659,"reputation":3674,"user_id":478183,"accept_rate":65,"display_name":"GregM"},"score":0,"creation_date":1361128306,"post_id":14517066,"comment_id":20941425,"body_markdown":"Vijay, could you post your code as an answer? - I am doing something almost identical with json_encode, but not sure how I do base64 on just the blob row and not my entire array or do i do it to the entire array?","body":"Vijay, could you post your code as an answer? - I am doing something almost identical with json_encode, but not sure how I do base64 on just the blob row and not my entire array or do i do it to the entire array?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680807908,"post_id":14517066,"comment_id":133964281,"body_markdown":"Note: at the time of writing, the PHP code in this question **has a pretty big SQL injection vulnerability**. Readers are advised not to copy this code.","body":"Note: at the time of writing, the PHP code in this question <b>has a pretty big SQL injection vulnerability</b>. Readers are advised not to copy this code."}],"answers":[{"tags":[],"owner":{"account_id":1413289,"reputation":4397,"user_id":1339473,"accept_rate":35,"display_name":"QuokMoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359099680,"creation_date":1359099680,"answer_id":14517441,"question_id":14517066,"body_markdown":"    String input;//your pic string \r\n    byte[] decodedByte = Base64.decode(input, 0);\r\n    BitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length); ","title":"Bitmap not successfully retrieved from MySQL using Java","body":"<pre><code>String input;//your pic string \nbyte[] decodedByte = Base64.decode(input, 0);\nBitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686241869,"creation_date":1686059663,"answer_id":76415425,"question_id":14517066,"body_markdown":"Put json_encode($data) into an array syntax variable.\r\n\r\nSo Write $data php as an array\r\nFor example, mariadb loop\r\n\r\n    $data = array();\r\n\t\t$dCount =0;\r\n\t\tforeach($contacts as $contact) { \t\t\r\n\r\n\t\t\t$email = $contact-&gt;email;\r\n\t\t\t$dCount++;\r\n\t\t\t\r\n\t\t\t$r1 = $contact-&gt;id;\r\n\t\t\t\r\n\t\t\t$data[&#39;params_name1&#39;][]= array(&quot;name&quot; =&gt; $contact-&gt;name, &quot;age&quot; =&gt; $contact-&gt;age, &quot;username&quot; =&gt; $contact-&gt;username);\r\n\t\t}\r\n\r\n    $data[&#39;params_name2&#39;][] = array(&quot;status&quot; =&gt; $status, &quot;message&quot; =&gt; $message, &quot;row&quot; =&gt; $dCount);\r\n    echo json_encode($data);\r\n    $pdo = null;\r\n    \r\n\r\nYou can replace params_name1 to table\r\nand params_name2 to title.\r\n\r\nThen, on android async task result:\r\nYou can apply image64 to imageview picture, after get string image64:\r\n\r\n    ImageView image1 = (ImageView)findViewById(R.id.imageView1);\r\n\t//after get image64:\r\n\t\t\t\t\tString image64r = image64.substring (image64.indexOf (&quot;,&quot;) +1);)\r\n\t\t\t\t\tbyte [] decodedString = Base64.decode (image64r.getBytes(), Base64.DEFAULT);\r\n\t\t\t\t\tBitmap decodedImage = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length); \r\n\t\t\t\t\timage1.setImageBitmap(decodedImage);\r\n\r\n\r\nYou can save image view picture to bitmap later:\r\n\r\n    public void saveToInternalStorage(Bitmap bitmapImage){\r\n\t\t\r\n\r\n\t\tFile imgFile = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;Profile2.png&quot;);\r\n\r\n        FileOutputStream fos = null;\r\n        try {           \r\n            fos = new FileOutputStream(imgFile);\r\n\t\t\t// Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        } catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n        } finally {\r\n            try {\r\n\t\t\t\t//fos.flush();\r\n\t\t\t\tfos.close();\r\n            } catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\tpublic void saveImageViewBitmap(View view) {\r\n\t\tImageView imageView = (ImageView) findViewById(R.id.imageView1);\r\n\t\tBitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\r\n\t\tBitmap bitmap = drawable.getBitmap();\r\n\r\n\t\tfloat originalWidth = bitmap.getWidth();\r\n\t\tfloat originalHeight = bitmap.getHeight();\r\n\t\t//Toast.makeText(getBaseContext(),&quot;seattled: w=&quot; + String.valueOf(originalWidth) + &quot; h=&quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\r\n\t\t\r\n\t\tint targetWidth =200;\r\n\t\tint targetHeight =200;\r\n\t\tfloat percentage = 100;\r\n\t\tif ((originalWidth &gt; 200)&amp;&amp;(originalHeight &gt; 200)) {\r\n\t\t\t//Toast.makeText(getBaseContext(),&quot;A &quot; + String.valueOf(originalWidth) + &quot; &quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\r\n\t\t\tif (originalWidth &gt; originalHeight) {\r\n\t\t\t\tpercentage = originalWidth/originalHeight;\r\n\t\t\t\ttargetHeight = 200;\r\n\t\t\t\ttargetWidth = Math.round(200*percentage);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpercentage = originalHeight/originalWidth;\r\n\t\t\t\ttargetWidth = 200;\r\n\t\t\t\ttargetHeight = Math.round(200*percentage);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tDecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n\t\t\tString info = df.format(percentage);\r\n\t\t\t//Toast.makeText(getBaseContext(),&quot;percentage: &quot; + info,Toast.LENGTH_LONG).show();\r\n\r\n\t\t\tbitmap = scaleBitmap(bitmap, targetWidth, targetHeight);\r\n\t\t\timageView.setImageBitmap(bitmap);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tToast.makeText(getBaseContext(),&quot;too small to scaled &quot; + String.valueOf(originalWidth) + &quot; &quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\r\n\t\t}\r\n\t\tsaveToInternalStorage(bitmap);\r\n        Toast.makeText(getBaseContext(), &quot;saved&quot;, Toast.LENGTH_LONG).show();\r\n\t}","title":"Bitmap not successfully retrieved from MySQL using Java","body":"<p>Put json_encode($data) into an array syntax variable.</p>\n<p>So Write $data php as an array\nFor example, mariadb loop</p>\n<pre><code>$data = array();\n    $dCount =0;\n    foreach($contacts as $contact) {        \n\n        $email = $contact-&gt;email;\n        $dCount++;\n        \n        $r1 = $contact-&gt;id;\n        \n        $data['params_name1'][]= array(&quot;name&quot; =&gt; $contact-&gt;name, &quot;age&quot; =&gt; $contact-&gt;age, &quot;username&quot; =&gt; $contact-&gt;username);\n    }\n\n$data['params_name2'][] = array(&quot;status&quot; =&gt; $status, &quot;message&quot; =&gt; $message, &quot;row&quot; =&gt; $dCount);\necho json_encode($data);\n$pdo = null;\n</code></pre>\n<p>You can replace params_name1 to table\nand params_name2 to title.</p>\n<p>Then, on android async task result:\nYou can apply image64 to imageview picture, after get string image64:</p>\n<pre><code>ImageView image1 = (ImageView)findViewById(R.id.imageView1);\n//after get image64:\n                String image64r = image64.substring (image64.indexOf (&quot;,&quot;) +1);)\n                byte [] decodedString = Base64.decode (image64r.getBytes(), Base64.DEFAULT);\n                Bitmap decodedImage = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length); \n                image1.setImageBitmap(decodedImage);\n</code></pre>\n<p>You can save image view picture to bitmap later:</p>\n<pre><code>public void saveToInternalStorage(Bitmap bitmapImage){\n    \n\n    File imgFile = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;Profile2.png&quot;);\n\n    FileOutputStream fos = null;\n    try {           \n        fos = new FileOutputStream(imgFile);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            //fos.flush();\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic void saveImageViewBitmap(View view) {\n    ImageView imageView = (ImageView) findViewById(R.id.imageView1);\n    BitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\n    Bitmap bitmap = drawable.getBitmap();\n\n    float originalWidth = bitmap.getWidth();\n    float originalHeight = bitmap.getHeight();\n    //Toast.makeText(getBaseContext(),&quot;seattled: w=&quot; + String.valueOf(originalWidth) + &quot; h=&quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\n    \n    int targetWidth =200;\n    int targetHeight =200;\n    float percentage = 100;\n    if ((originalWidth &gt; 200)&amp;&amp;(originalHeight &gt; 200)) {\n        //Toast.makeText(getBaseContext(),&quot;A &quot; + String.valueOf(originalWidth) + &quot; &quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\n        if (originalWidth &gt; originalHeight) {\n            percentage = originalWidth/originalHeight;\n            targetHeight = 200;\n            targetWidth = Math.round(200*percentage);\n        }\n        else\n        {\n            percentage = originalHeight/originalWidth;\n            targetWidth = 200;\n            targetHeight = Math.round(200*percentage);\n        }\n        \n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n        String info = df.format(percentage);\n        //Toast.makeText(getBaseContext(),&quot;percentage: &quot; + info,Toast.LENGTH_LONG).show();\n\n        bitmap = scaleBitmap(bitmap, targetWidth, targetHeight);\n        imageView.setImageBitmap(bitmap);\n    }\n    else\n    {\n        Toast.makeText(getBaseContext(),&quot;too small to scaled &quot; + String.valueOf(originalWidth) + &quot; &quot; + String.valueOf(originalHeight),Toast.LENGTH_LONG).show();\n    }\n    saveToInternalStorage(bitmap);\n    Toast.makeText(getBaseContext(), &quot;saved&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"}],"owner":{"account_id":2286167,"reputation":1,"user_id":2010065,"display_name":"Vijay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686241869,"creation_date":1359097905,"question_id":14517066,"body_markdown":"I&#39;m posting data to a URL from Java, which uses PHP to return a `json_encode(d)` blob from the MySQL field on a web server. \r\n\r\nNow, when I use this returned data (using `InputStream` or `getBytes`) to create a `bitmap` and set a `ImageView` to this bitmap using `setImageBitmap`, I get empty imageview. i.e., `decodeByteArray` or `decodeStream` returns NULL. \r\n\r\nI have no problem retrieving textual details, retrieving images is an issue. Here is the code snipped of Java and PHP.\r\n\r\nThis is my onCreate method of Java:\r\n\r\n    public void onCreate(Bundle icicle) {\r\n\r\n    super.onCreate(icicle);\r\n\r\n    setContentView(R.layout.loginlayout);\r\n    TextView tv1, tv2, tv3, tv4, tv5;\r\n    imageview = (ImageView) findViewById(R.id.imageView1);\r\n\r\n    button  = (Button) findViewById(R.id.button1);\r\n    tv1 = (TextView) findViewById(R.id.dispuser);\r\n    tv2 = (TextView) findViewById(R.id.tv2);\r\n    tv3 = (TextView) findViewById(R.id.tv3);\r\n    tv4 = (TextView) findViewById(R.id.tv4);\r\n    tv5 = (TextView) findViewById(R.id.tv5);\r\n\r\n\r\n    SharedPreferences userDetails = this.getSharedPreferences(&quot;logindetails&quot;,      MODE_PRIVATE);\r\n    String username = userDetails.getString(&quot;username&quot;, &quot;&quot;);\r\n    String password = userDetails.getString(&quot;password&quot;, &quot;&quot;);\r\n\r\n    button.setOnClickListener(this);\r\n\r\n\r\n    httpclient = new DefaultHttpClient();\r\n\r\n    httppost = new HttpPost(&quot;myurl&quot;);\r\n\r\n\r\n    try{\r\n\r\n\tnameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n\t\t\t\t\r\n\t\r\n\tnameValuePairs.add(new BasicNameValuePair(&quot;username&quot;, username));\r\n\tnameValuePairs.add(new BasicNameValuePair(&quot;password&quot;, password));\r\n\t\r\n\t\r\n\t\r\n\thttppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n\t\r\n\tresponse = httpclient.execute(httppost);\r\n\t\r\n\tif(response.getStatusLine().getStatusCode() == 200){\r\n\t\t\r\n\t\tentity = response.getEntity();\r\n\t\t\r\n\t\t\r\n\t\tif(entity != null) {\r\n\t\t\t\r\n\t\t\tInputStream instream = entity.getContent();\r\n\t\t\t\r\n\t\t\tJSONObject jsonResponse = new JSONObject(convertStreamToString(instream));\r\n\t\t\t\r\n\t\t\r\n\r\n\r\n\tString sex = jsonResponse.getString(&quot;Sex&quot;);\r\n\tString age = jsonResponse.getString(&quot;Age&quot;);\r\n\tString name = jsonResponse.getString(&quot;Name&quot;);\r\n\tString phone = jsonResponse.getString(&quot;Phone&quot;);\r\n\tString pic = jsonResponse.getString(&quot;picture&quot;);\r\n\t\r\n\tbyte[] image = Base64.encodeBytesToBytes(pic.getBytes(&quot;UTF-8&quot;));\r\n\t\r\n\timageview.setImageBitmap(BitmapFactory.decodeByteArray(image, 0, image.length));\r\n\t\r\n\t\r\n\t tv1.setText(&quot;Welcome &quot; + username);\r\n\t tv2.setText(&quot;Your  is Name: &quot; + name);\r\n\t tv3.setText(&quot;Your phone &quot; + phone);\r\n\t tv4.setText(&quot;Your a  &quot; + sex );\r\n\t tv5.setText(&quot;Your age is &quot; + age);\r\n\t \r\n\t\r\n    }\r\n    } \r\n\r\n    }\r\n    catch (Exception e) {\r\n\r\n    e.printStackTrace();\r\n\r\n\r\n\r\n    }\r\n    finally {\r\n    httppost.abort();\r\n    }\r\n    }\r\n\r\nand on the PHP side:\r\n\t\t\t\r\n\t\t&lt;?\r\n\t\tinclude &#39;connect.php&#39;;\r\n\r\n\t\t$username = $_POST[&#39;username&#39;];\r\n\t\t$password = $_POST[&#39;password&#39;];\r\n\r\n\t\t$query = mysql_query(&quot;SELECT * FROM applogin WHERE username = &#39;$username&#39; AND password = &#39;$password&#39;&quot;);\r\n\r\n\t\t$num = mysql_num_rows($query);\r\n\r\n\t\tif($num == 1)\r\n\t\t{\r\n\t\twhile($list = mysql_fetch_assoc($query))\r\n\t\t{\r\n\t\t$output = $list;\r\n\t\t}\r\n\t\techo json_encode($output);\r\n\t\tmysql_close();\r\n\t\t}\r\n\t\t?&gt;\r\n\r\n","title":"Bitmap not successfully retrieved from MySQL using Java","body":"<p>I'm posting data to a URL from Java, which uses PHP to return a <code>json_encode(d)</code> blob from the MySQL field on a web server.</p>\n<p>Now, when I use this returned data (using <code>InputStream</code> or <code>getBytes</code>) to create a <code>bitmap</code> and set a <code>ImageView</code> to this bitmap using <code>setImageBitmap</code>, I get empty imageview. i.e., <code>decodeByteArray</code> or <code>decodeStream</code> returns NULL.</p>\n<p>I have no problem retrieving textual details, retrieving images is an issue. Here is the code snipped of Java and PHP.</p>\n<p>This is my onCreate method of Java:</p>\n<pre><code>public void onCreate(Bundle icicle) {\n\nsuper.onCreate(icicle);\n\nsetContentView(R.layout.loginlayout);\nTextView tv1, tv2, tv3, tv4, tv5;\nimageview = (ImageView) findViewById(R.id.imageView1);\n\nbutton  = (Button) findViewById(R.id.button1);\ntv1 = (TextView) findViewById(R.id.dispuser);\ntv2 = (TextView) findViewById(R.id.tv2);\ntv3 = (TextView) findViewById(R.id.tv3);\ntv4 = (TextView) findViewById(R.id.tv4);\ntv5 = (TextView) findViewById(R.id.tv5);\n\n\nSharedPreferences userDetails = this.getSharedPreferences(&quot;logindetails&quot;,      MODE_PRIVATE);\nString username = userDetails.getString(&quot;username&quot;, &quot;&quot;);\nString password = userDetails.getString(&quot;password&quot;, &quot;&quot;);\n\nbutton.setOnClickListener(this);\n\n\nhttpclient = new DefaultHttpClient();\n\nhttppost = new HttpPost(&quot;myurl&quot;);\n\n\ntry{\n\nnameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n            \n\nnameValuePairs.add(new BasicNameValuePair(&quot;username&quot;, username));\nnameValuePairs.add(new BasicNameValuePair(&quot;password&quot;, password));\n\n\n\nhttppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n\nresponse = httpclient.execute(httppost);\n\nif(response.getStatusLine().getStatusCode() == 200){\n    \n    entity = response.getEntity();\n    \n    \n    if(entity != null) {\n        \n        InputStream instream = entity.getContent();\n        \n        JSONObject jsonResponse = new JSONObject(convertStreamToString(instream));\n        \n    \n\n\nString sex = jsonResponse.getString(&quot;Sex&quot;);\nString age = jsonResponse.getString(&quot;Age&quot;);\nString name = jsonResponse.getString(&quot;Name&quot;);\nString phone = jsonResponse.getString(&quot;Phone&quot;);\nString pic = jsonResponse.getString(&quot;picture&quot;);\n\nbyte[] image = Base64.encodeBytesToBytes(pic.getBytes(&quot;UTF-8&quot;));\n\nimageview.setImageBitmap(BitmapFactory.decodeByteArray(image, 0, image.length));\n\n\n tv1.setText(&quot;Welcome &quot; + username);\n tv2.setText(&quot;Your  is Name: &quot; + name);\n tv3.setText(&quot;Your phone &quot; + phone);\n tv4.setText(&quot;Your a  &quot; + sex );\n tv5.setText(&quot;Your age is &quot; + age);\n \n\n}\n} \n\n}\ncatch (Exception e) {\n\ne.printStackTrace();\n\n\n\n}\nfinally {\nhttppost.abort();\n}\n}\n</code></pre>\n<p>and on the PHP side:</p>\n<pre><code>    &lt;?\n    include 'connect.php';\n\n    $username = $_POST['username'];\n    $password = $_POST['password'];\n\n    $query = mysql_query(&quot;SELECT * FROM applogin WHERE username = '$username' AND password = '$password'&quot;);\n\n    $num = mysql_num_rows($query);\n\n    if($num == 1)\n    {\n    while($list = mysql_fetch_assoc($query))\n    {\n    $output = $list;\n    }\n    echo json_encode($output);\n    mysql_close();\n    }\n    ?&gt;\n</code></pre>\n"},{"tags":["java","path","global-variables"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686291104,"post_id":76433697,"comment_id":134781377,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28780783,"reputation":1,"user_id":22042456,"display_name":"Inoth Vishwajith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686241383,"creation_date":1686241383,"answer_id":76433922,"question_id":76433697,"body_markdown":"\r\nHere are some things you can try to solve the problem of being disconnected from the target VM in IntelliJ IDEA:\r\n\r\n*Check your firewall settings. Make sure that IntelliJ IDEA is not being blocked by your firewall. You can usually do this by adding an exception for IntelliJ IDEA in your firewall settings.\r\n*Use a different port. The default port for debugging is 5005. If another program is using that port, you can try using a different port. To do this, open the Run/Debug configuration and change the port number in the VM Options field.\r\n*Restart IntelliJ IDEA. Sometimes, a simple restart can solve the problem.\r\n*Reinstall Java. If you&#39;ve tried all of the above and you&#39;re still having problems, you can try reinstalling Java.\r\nIf you&#39;re still having problems, you can try searching for help on the IntelliJ IDEA forums or submitting a bug report to JetBrains.\r\n\r\nHere are some additional things to keep in mind:\r\n\r\nMake sure that you&#39;re using the latest version of IntelliJ IDEA.\r\nMake sure that your Java installation is up to date.\r\nMake sure that your code is well-formatted and free of errors.\r\nTry debugging a simpler program to see if you can reproduce the problem.\r\nI hope this helps!","title":"Disconnected from VM","body":"<p>Here are some things you can try to solve the problem of being disconnected from the target VM in IntelliJ IDEA:</p>\n<p>*Check your firewall settings. Make sure that IntelliJ IDEA is not being blocked by your firewall. You can usually do this by adding an exception for IntelliJ IDEA in your firewall settings.\n*Use a different port. The default port for debugging is 5005. If another program is using that port, you can try using a different port. To do this, open the Run/Debug configuration and change the port number in the VM Options field.\n*Restart IntelliJ IDEA. Sometimes, a simple restart can solve the problem.\n*Reinstall Java. If you've tried all of the above and you're still having problems, you can try reinstalling Java.\nIf you're still having problems, you can try searching for help on the IntelliJ IDEA forums or submitting a bug report to JetBrains.</p>\n<p>Here are some additional things to keep in mind:</p>\n<p>Make sure that you're using the latest version of IntelliJ IDEA.\nMake sure that your Java installation is up to date.\nMake sure that your code is well-formatted and free of errors.\nTry debugging a simpler program to see if you can reproduce the problem.\nI hope this helps!</p>\n"}],"owner":{"account_id":28761205,"reputation":1,"user_id":22027062,"display_name":"Pablos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686241383,"creation_date":1686239830,"question_id":76433697,"body_markdown":"Each time that I try to debug a code in Itellij, I have this message: **\r\nDisconnected from the target VM, address: &#39;127.0.0.1:58996&#39;, transport: &#39;socket&#39;**\r\n\r\nHow could I solve it?\r\n\r\nUninstall and dowload Java. Delete and create the code again. Review if the firewall has been blocked the program, and isn&#39;t. \r\n[Intellij IDE](https://i.stack.imgur.com/5DpmI.png)","title":"Disconnected from VM","body":"<p>Each time that I try to debug a code in Itellij, I have this message: **\nDisconnected from the target VM, address: '127.0.0.1:58996', transport: 'socket'**</p>\n<p>How could I solve it?</p>\n<p>Uninstall and dowload Java. Delete and create the code again. Review if the firewall has been blocked the program, and isn't.\n<a href=\"https://i.stack.imgur.com/5DpmI.png\" rel=\"nofollow noreferrer\">Intellij IDE</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":13536898,"reputation":11,"user_id":9765794,"display_name":"Reion Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686241313,"creation_date":1686241313,"answer_id":76433910,"question_id":58024228,"body_markdown":"Same question I want to know. I finally find this:\r\n\r\nIf you use Spring Boot as your application,\r\nSpring Boot&#39;s *autoconfiguration* mechanism give us a Configuration class **ValidationAutoConfiguration**，in this class we can see the LocalValidatorFactoryBean Bean definition:\r\n\r\n    @Bean\r\n\t@Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n\t@ConditionalOnMissingBean(Validator.class)\r\n\tpublic static LocalValidatorFactoryBean defaultValidator(ApplicationContext applicationContext,\r\n\t\t\tObjectProvider&lt;ValidationConfigurationCustomizer&gt; customizers) {\r\n\t\tLocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n\t\tfactoryBean.setConfigurationInitializer((configuration) -&gt; customizers.orderedStream()\r\n\t\t\t.forEach((customizer) -&gt; customizer.customize(configuration)));\r\n\t\tMessageInterpolatorFactory interpolatorFactory = new MessageInterpolatorFactory(applicationContext);\r\n\t\tfactoryBean.setMessageInterpolator(interpolatorFactory.getObject());\r\n\t\treturn factoryBean;\r\n\t}\r\n\r\nSo we can use the **ValidationConfigurationCustomizer** to config the HibernateValidatorConfiguration.","title":"How to properly configure Spring Validator (HibernateValidator)","body":"<p>Same question I want to know. I finally find this:</p>\n<p>If you use Spring Boot as your application,\nSpring Boot's <em>autoconfiguration</em> mechanism give us a Configuration class <strong>ValidationAutoConfiguration</strong>，in this class we can see the LocalValidatorFactoryBean Bean definition:</p>\n<pre><code>@Bean\n@Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n@ConditionalOnMissingBean(Validator.class)\npublic static LocalValidatorFactoryBean defaultValidator(ApplicationContext applicationContext,\n        ObjectProvider&lt;ValidationConfigurationCustomizer&gt; customizers) {\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n    factoryBean.setConfigurationInitializer((configuration) -&gt; customizers.orderedStream()\n        .forEach((customizer) -&gt; customizer.customize(configuration)));\n    MessageInterpolatorFactory interpolatorFactory = new MessageInterpolatorFactory(applicationContext);\n    factoryBean.setMessageInterpolator(interpolatorFactory.getObject());\n    return factoryBean;\n}\n</code></pre>\n<p>So we can use the <strong>ValidationConfigurationCustomizer</strong> to config the HibernateValidatorConfiguration.</p>\n"}],"owner":{"account_id":410790,"reputation":648,"user_id":6108874,"accept_rate":62,"display_name":"Gerard Bosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686241313,"creation_date":1568966358,"question_id":58024228,"body_markdown":"I&#39;m using Spring 4.2.7/Spring Boot 1.3.7 and I think the HibernateValidator is the default implementation that Spring uses in spring-web.\r\n\r\nI would like to apply a configuration on the HibernateValidator like the following:\r\n\r\n```\r\nHibernateValidatorConfiguration configuration = Validation.byProvider( HibernateValidator.class ).configure();\r\n\r\nconfiguration.allowMultipleCascadedValidationOnReturnValues( true )\r\n        .allowOverridingMethodAlterParameterConstraint( true )\r\n        .allowParallelMethodsDefineParameterConstraints( true );\r\n```\r\n\r\ndescribed in here:\r\nhttps://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-method-validation-prerequisite-relaxation\r\n\r\nI&#39;ve tried defining a `@Bean` with something like this:\r\n\r\n```\r\n@Bean\r\n@Primary\r\npublic ValidatorFactory validatorFactory() {\r\n    \r\n    // ... the above snippet\r\n\r\n    return configuration.getValidatorFactory()\r\n}\r\n```\r\n\r\nBut it looks the configuration is not applied.\r\nI also tried defining the `Validator` bean like this:\r\n\r\n```\r\n@Bean\r\n@Primary\r\npublic Validator validator(ValidatorFactory validatorFactory) {\r\n    return validatorFactory.getValidator();\r\n}\r\n```\r\n\r\nBut the defined configuration does not seem to apply to the validator Spring is finally using.\r\n\r\n* I am doing something wrong?\r\n* Which should be the appropriate way to apply a configuration (configure/customize) like the one in the above example to the Spring Hibernate validator?","title":"How to properly configure Spring Validator (HibernateValidator)","body":"<p>I'm using Spring 4.2.7/Spring Boot 1.3.7 and I think the HibernateValidator is the default implementation that Spring uses in spring-web.</p>\n\n<p>I would like to apply a configuration on the HibernateValidator like the following:</p>\n\n<pre><code>HibernateValidatorConfiguration configuration = Validation.byProvider( HibernateValidator.class ).configure();\n\nconfiguration.allowMultipleCascadedValidationOnReturnValues( true )\n        .allowOverridingMethodAlterParameterConstraint( true )\n        .allowParallelMethodsDefineParameterConstraints( true );\n</code></pre>\n\n<p>described in here:\n<a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-method-validation-prerequisite-relaxation\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-method-validation-prerequisite-relaxation</a></p>\n\n<p>I've tried defining a <code>@Bean</code> with something like this:</p>\n\n<pre><code>@Bean\n@Primary\npublic ValidatorFactory validatorFactory() {\n\n    // ... the above snippet\n\n    return configuration.getValidatorFactory()\n}\n</code></pre>\n\n<p>But it looks the configuration is not applied.\nI also tried defining the <code>Validator</code> bean like this:</p>\n\n<pre><code>@Bean\n@Primary\npublic Validator validator(ValidatorFactory validatorFactory) {\n    return validatorFactory.getValidator();\n}\n</code></pre>\n\n<p>But the defined configuration does not seem to apply to the validator Spring is finally using.</p>\n\n<ul>\n<li>I am doing something wrong?</li>\n<li>Which should be the appropriate way to apply a configuration (configure/customize) like the one in the above example to the Spring Hibernate validator?</li>\n</ul>\n"},{"tags":["java","json","node.js"],"comments":[{"owner":{"account_id":1967626,"reputation":1413,"user_id":1767424,"accept_rate":0,"display_name":"Karthik"},"score":0,"creation_date":1497888481,"post_id":18898773,"comment_id":76256159,"body_markdown":"https://stackoverflow.com/questions/34427279/how-do-i-pass-this-escaped-json-with-gson-java","body":"<a href=\"https://stackoverflow.com/questions/34427279/how-do-i-pass-this-escaped-json-with-gson-java\" title=\"how do i pass this escaped json with gson java\">stackoverflow.com/questions/34427279/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379604488,"creation_date":1379604488,"answer_id":18898872,"question_id":18898773,"body_markdown":"Try to replace all the &quot; and &#39; with a \\ before them. Do this just for the msget object(String, I guess). Don&#39;t forget that \\ must be escaped too.","title":"Java escape JSON String?","body":"<p>Try to replace all the \" and ' with a \\ before them. Do this just for the msget object(String, I guess). Don't forget that \\ must be escaped too.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379604497,"creation_date":1379604497,"answer_id":18898875,"question_id":18898773,"body_markdown":"According to the answer [here][1], quotes in values need to be escaped. You can do that with `\\&quot;`\r\n\r\nSo just repalce the quote in your values\r\n\r\n    msget = msget.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json","title":"Java escape JSON String?","body":"<p>According to the answer <a href=\"https://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json\">here</a>, quotes in values need to be escaped. You can do that with <code>\\\"</code></p>\n\n<p>So just repalce the quote in your values</p>\n\n<pre><code>msget = msget.replace(\"\\\"\", \"\\\\\\\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861886,"reputation":3121,"user_id":1686330,"accept_rate":83,"display_name":"Dirk Lachowski"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1379612437,"creation_date":1379604566,"answer_id":18898904,"question_id":18898773,"body_markdown":"The best method would be using some JSON library, e.g. Jackson ( http://jackson.codehaus.org ).\r\n\r\nBut if this is not an option simply escape msget before adding it to your string:\r\n\r\nThe wrong way to do this is\r\n\r\n    String msgetEscaped = msget.replaceAll(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\r\nEither use (as recommended in the comments)\r\n\r\n    String msgetEscaped = msget.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\r\nor\r\n\r\n    String msgetEscaped = msget.replaceAll(&quot;\\&quot;&quot;, &quot;\\\\\\\\\\&quot;&quot;);\r\n\r\nA sample with all three variants can be found here: http://ideone.com/Nt1XzO\r\n ","title":"Java escape JSON String?","body":"<p>The best method would be using some JSON library, e.g. Jackson ( <a href=\"http://jackson.codehaus.org\" rel=\"noreferrer\">http://jackson.codehaus.org</a> ).</p>\n\n<p>But if this is not an option simply escape msget before adding it to your string:</p>\n\n<p>The wrong way to do this is</p>\n\n<pre><code>String msgetEscaped = msget.replaceAll(\"\\\"\", \"\\\\\\\"\");\n</code></pre>\n\n<p>Either use (as recommended in the comments)</p>\n\n<pre><code>String msgetEscaped = msget.replace(\"\\\"\", \"\\\\\\\"\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String msgetEscaped = msget.replaceAll(\"\\\"\", \"\\\\\\\\\\\"\");\n</code></pre>\n\n<p>A sample with all three variants can be found here: <a href=\"http://ideone.com/Nt1XzO\" rel=\"noreferrer\">http://ideone.com/Nt1XzO</a></p>\n"},{"tags":[],"owner":{"account_id":1072428,"reputation":14836,"user_id":1071383,"accept_rate":67,"display_name":"jabclab"},"down_vote_count":2,"up_vote_count":33,"is_accepted":true,"score":31,"last_activity_date":1379604721,"creation_date":1379604721,"answer_id":18898970,"question_id":18898773,"body_markdown":"I would use a library to create your JSON `String` for you. Some options are:\r\n\r\n- [GSON](http://code.google.com/p/google-gson/)\r\n- [Crockford&#39;s lib](http://www.json.org/javadoc/org/json/package-summary.html)\r\n\r\nThis will make dealing with escaping much easier. An example (using `org.json`) would be:\r\n\r\n    JSONObject obj = new JSONObject();\r\n\r\n    obj.put(&quot;id&quot;, userID);\r\n    obj.put(&quot;type&quot;, methoden);\r\n    obj.put(&quot;msg&quot;, msget);\r\n\r\n    // etc.\r\n\r\n    final String json = obj.toString(); // &lt;-- JSON string\r\n    ","title":"Java escape JSON String?","body":"<p>I would use a library to create your JSON <code>String</code> for you. Some options are:</p>\n\n<ul>\n<li><a href=\"http://code.google.com/p/google-gson/\">GSON</a></li>\n<li><a href=\"http://www.json.org/javadoc/org/json/package-summary.html\">Crockford's lib</a></li>\n</ul>\n\n<p>This will make dealing with escaping much easier. An example (using <code>org.json</code>) would be:</p>\n\n<pre><code>JSONObject obj = new JSONObject();\n\nobj.put(\"id\", userID);\nobj.put(\"type\", methoden);\nobj.put(\"msg\", msget);\n\n// etc.\n\nfinal String json = obj.toString(); // &lt;-- JSON string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685587,"reputation":749,"user_id":3793078,"display_name":"Yeongjun Kim"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1516771895,"creation_date":1423337057,"answer_id":28386351,"question_id":18898773,"body_markdown":"`org.json.simple.JSONObject.escape()` escapes quotes,, /, \\r, \\n, \\b, \\f, \\t and other control characters.\r\n\r\n\timport org.json.simple.JSONValue;\r\n\tJSONValue.escape(&quot;test string&quot;);\r\n\t\r\n- [`json-simple` home](https://code.google.com/archive/p/json-simple/)\r\n- [document](http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONValue.html#escape(java.lang.String))\r\n    \r\nAdd pom.xml when using maven\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Java escape JSON String?","body":"<p><code>org.json.simple.JSONObject.escape()</code> escapes quotes,, /, \\r, \\n, \\b, \\f, \\t and other control characters.</p>\n\n<pre><code>import org.json.simple.JSONValue;\nJSONValue.escape(\"test string\");\n</code></pre>\n\n<ul>\n<li><a href=\"https://code.google.com/archive/p/json-simple/\" rel=\"noreferrer\"><code>json-simple</code> home</a></li>\n<li><a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONValue.html#escape(java.lang.String)\" rel=\"noreferrer\">document</a></li>\n</ul>\n\n<p>Add pom.xml when using maven</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16817,"reputation":73843,"user_id":37020,"accept_rate":86,"display_name":"orip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604416370,"creation_date":1437487506,"answer_id":31541395,"question_id":18898773,"body_markdown":"Consider [Moshi][1]&#39;s [JsonWriter][2] class ([source][3]). It has a wonderful API and it reduces copying to a minimum, everything is nicely streamed to the OutputStream.\r\n\r\n    OutputStream os = ...;\r\n    JsonWriter json = new JsonWriter(Okio.sink(os));\r\n    json\r\n      .beginObject()\r\n      .name(&quot;id&quot;).value(userID)\r\n      .name(&quot;type&quot;).value(methodn)\r\n      ...\r\n      .endObject();\r\n\r\n\r\n  [1]: https://github.com/square/moshi\r\n  [2]: https://square.github.io/moshi/1.x/moshi/com/squareup/moshi/JsonWriter.html\r\n  [3]: https://github.com/square/moshi/blob/bf72ce8ade0db490136834096e0881d17c87e20a/moshi/src/main/java/com/squareup/moshi/JsonWriter.java","title":"Java escape JSON String?","body":"<p>Consider <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a>'s <a href=\"https://square.github.io/moshi/1.x/moshi/com/squareup/moshi/JsonWriter.html\" rel=\"nofollow noreferrer\">JsonWriter</a> class (<a href=\"https://github.com/square/moshi/blob/bf72ce8ade0db490136834096e0881d17c87e20a/moshi/src/main/java/com/squareup/moshi/JsonWriter.java\" rel=\"nofollow noreferrer\">source</a>). It has a wonderful API and it reduces copying to a minimum, everything is nicely streamed to the OutputStream.</p>\n<pre><code>OutputStream os = ...;\nJsonWriter json = new JsonWriter(Okio.sink(os));\njson\n  .beginObject()\n  .name(&quot;id&quot;).value(userID)\n  .name(&quot;type&quot;).value(methodn)\n  ...\n  .endObject();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3325848,"reputation":41,"user_id":2795951,"display_name":"rhengles"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443809057,"creation_date":1443809057,"answer_id":32913189,"question_id":18898773,"body_markdown":"If you want to simply escape a string, not an object or array, use this:\r\n\r\n    String escaped = JSONObject.valueToString(&quot; Quotes \\&quot; &#39; &#39; \\&quot; &quot;);\r\n\r\nhttp://www.json.org/javadoc/org/json/JSONObject.html#valueToString(java.lang.Object)","title":"Java escape JSON String?","body":"<p>If you want to simply escape a string, not an object or array, use this:</p>\n\n<pre><code>String escaped = JSONObject.valueToString(\" Quotes \\\" ' ' \\\" \");\n</code></pre>\n\n<p><a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#valueToString(java.lang.Object)\" rel=\"nofollow\">http://www.json.org/javadoc/org/json/JSONObject.html#valueToString(java.lang.Object)</a></p>\n"},{"tags":[],"owner":{"account_id":7764307,"reputation":875,"user_id":5875960,"display_name":"Ron DeSantis"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1527229994,"creation_date":1527229994,"answer_id":50522874,"question_id":18898773,"body_markdown":"The JSON specification at https://www.json.org/ is very simple by design. Escaping characters in JSON strings is not hard.  This code works for me:\r\n\r\n    private String escape(String raw) {\r\n    \tString escaped = raw;\r\n    \tescaped = escaped.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n    \tescaped = escaped.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n    \tescaped = escaped.replace(&quot;\\b&quot;, &quot;\\\\b&quot;);\r\n    \tescaped = escaped.replace(&quot;\\f&quot;, &quot;\\\\f&quot;);\r\n    \tescaped = escaped.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\n    \tescaped = escaped.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\r\n    \tescaped = escaped.replace(&quot;\\t&quot;, &quot;\\\\t&quot;);\r\n    \t// TODO: escape other non-printing characters using uXXXX notation\r\n\t\treturn escaped;\r\n    }\r\n\r\n","title":"Java escape JSON String?","body":"<p>The JSON specification at <a href=\"https://www.json.org/\" rel=\"noreferrer\">https://www.json.org/</a> is very simple by design. Escaping characters in JSON strings is not hard.  This code works for me:</p>\n\n<pre><code>private String escape(String raw) {\n    String escaped = raw;\n    escaped = escaped.replace(\"\\\\\", \"\\\\\\\\\");\n    escaped = escaped.replace(\"\\\"\", \"\\\\\\\"\");\n    escaped = escaped.replace(\"\\b\", \"\\\\b\");\n    escaped = escaped.replace(\"\\f\", \"\\\\f\");\n    escaped = escaped.replace(\"\\n\", \"\\\\n\");\n    escaped = escaped.replace(\"\\r\", \"\\\\r\");\n    escaped = escaped.replace(\"\\t\", \"\\\\t\");\n    // TODO: escape other non-printing characters using uXXXX notation\n    return escaped;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11062483,"reputation":1111,"user_id":8123203,"display_name":"Sagar Jadhav"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1572854568,"creation_date":1572854568,"answer_id":58689286,"question_id":18898773,"body_markdown":"    public static String ecapse(String jsString) {\r\n\t\tjsString = jsString.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\b&quot;, &quot;\\\\b&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\f&quot;, &quot;\\\\f&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\r\n\t\tjsString = jsString.replace(&quot;\\t&quot;, &quot;\\\\t&quot;);\r\n\t\tjsString = jsString.replace(&quot;/&quot;, &quot;\\\\/&quot;);\r\n\t\treturn jsString;\r\n\t}","title":"Java escape JSON String?","body":"<pre><code>public static String ecapse(String jsString) {\n    jsString = jsString.replace(\"\\\\\", \"\\\\\\\\\");\n    jsString = jsString.replace(\"\\\"\", \"\\\\\\\"\");\n    jsString = jsString.replace(\"\\b\", \"\\\\b\");\n    jsString = jsString.replace(\"\\f\", \"\\\\f\");\n    jsString = jsString.replace(\"\\n\", \"\\\\n\");\n    jsString = jsString.replace(\"\\r\", \"\\\\r\");\n    jsString = jsString.replace(\"\\t\", \"\\\\t\");\n    jsString = jsString.replace(\"/\", \"\\\\/\");\n    return jsString;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1583492512,"creation_date":1583421037,"answer_id":60548455,"question_id":18898773,"body_markdown":"Apache Commons\r\n---\r\n\r\nIf you&#39;re already using Apache commons, it provides a static method for this:\r\n\r\n```java\r\nStringEscapeUtils.escapeJson(&quot;some string&quot;)\r\n```\r\n\r\nIt converts any string into one that&#39;s properly escaped for inclusion in JSON\r\n\r\n[See the documentation here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html","title":"Java escape JSON String?","body":"<h2>Apache Commons</h2>\n\n<p>If you're already using Apache commons, it provides a static method for this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>StringEscapeUtils.escapeJson(\"some string\")\n</code></pre>\n\n<p>It converts any string into one that's properly escaped for inclusion in JSON</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\">See the documentation here</a></p>\n"},{"tags":[],"owner":{"account_id":21139400,"reputation":41,"user_id":15542161,"display_name":"Tai Meng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624915919,"creation_date":1624915919,"answer_id":68170233,"question_id":18898773,"body_markdown":"In `build.gradle` (if using maven, make similar change) include this dependency:\r\n\r\n    implementation group: &#39;org.apache.avro&#39;, name: &#39;avro-tools&#39;, version: &#39;1.10.2&#39;\r\n\r\nThen:\r\n\r\n    import net.minidev.json.JSONValue;\r\n    String escapedString = JSONValue.escape(yourString);\r\n\r\n\r\n","title":"Java escape JSON String?","body":"<p>In <code>build.gradle</code> (if using maven, make similar change) include this dependency:</p>\n<pre><code>implementation group: 'org.apache.avro', name: 'avro-tools', version: '1.10.2'\n</code></pre>\n<p>Then:</p>\n<pre><code>import net.minidev.json.JSONValue;\nString escapedString = JSONValue.escape(yourString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632682943,"creation_date":1632682943,"answer_id":69338077,"question_id":18898773,"body_markdown":"If you want to do it yourself without any library, you can use this piece of Java code:\r\n\r\n    /**\r\n     * Escapes a string the JSON way.\r\n     *\r\n     * @param text The text to be escaped.\r\n     * @return a string escaped according to the JSON format.\r\n     */\r\n    public static String escape(final CharSequence text) {\r\n\r\n        if (text == null) {\r\n            return &quot;&quot;;\r\n        }\r\n        final StringWriter writer = new StringWriter();\r\n        for (int i = 0, length = text.length(); i &lt; length; i++) {\r\n            final char c = text.charAt(i);\r\n            switch (c) {\r\n                case &#39;&quot;&#39;:\r\n                    writer.write(&quot;\\\\\\&quot;&quot;);\r\n                    break;\r\n                case &#39;\\\\&#39;:\r\n                    writer.write(&quot;\\\\\\\\&quot;);\r\n                    break;\r\n                default:\r\n                    if (c &gt; 0x1f) {\r\n                        writer.write(c);\r\n                    } else {\r\n                        writer.write(&quot;\\\\u&quot;);\r\n                        final String hex = &quot;000&quot; + Integer.toHexString(c);\r\n                        writer.write(hex.substring(hex.length() - 4));\r\n                    }\r\n            }\r\n        }\r\n        return writer.toString();\r\n    }","title":"Java escape JSON String?","body":"<p>If you want to do it yourself without any library, you can use this piece of Java code:</p>\n<pre><code>/**\n * Escapes a string the JSON way.\n *\n * @param text The text to be escaped.\n * @return a string escaped according to the JSON format.\n */\npublic static String escape(final CharSequence text) {\n\n    if (text == null) {\n        return &quot;&quot;;\n    }\n    final StringWriter writer = new StringWriter();\n    for (int i = 0, length = text.length(); i &lt; length; i++) {\n        final char c = text.charAt(i);\n        switch (c) {\n            case '&quot;':\n                writer.write(&quot;\\\\\\&quot;&quot;);\n                break;\n            case '\\\\':\n                writer.write(&quot;\\\\\\\\&quot;);\n                break;\n            default:\n                if (c &gt; 0x1f) {\n                    writer.write(c);\n                } else {\n                    writer.write(&quot;\\\\u&quot;);\n                    final String hex = &quot;000&quot; + Integer.toHexString(c);\n                    writer.write(hex.substring(hex.length() - 4));\n                }\n        }\n    }\n    return writer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43253,"reputation":367,"user_id":126350,"display_name":"Matthew Bloch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665411981,"creation_date":1665411981,"answer_id":74016461,"question_id":18898773,"body_markdown":"If you can use slightly more modern Java and don&#39;t want another dependency, this does the job:\r\n\r\n```java\r\n    static String jsonStringQuote(String string) {\r\n        StringBuilder sb = new StringBuilder(&quot;\\&quot;&quot;);\r\n        for (char c : string.toCharArray())\r\n            sb.append(switch (c) {\r\n                case &#39;\\\\&#39;, &#39;&quot;&#39;, &#39;/&#39; -&gt; &quot;\\\\&quot;+c;\r\n                case &#39;\\b&#39; -&gt; &quot;\\\\b&quot;;\r\n                case &#39;\\t&#39; -&gt; &quot;\\\\t&quot;;\r\n                case &#39;\\n&#39; -&gt; &quot;\\\\n&quot;;\r\n                case &#39;\\f&#39; -&gt; &quot;\\\\f&quot;;\r\n                case &#39;\\r&#39; -&gt; &quot;\\\\r&quot;;\r\n                default -&gt; c &lt; &#39; &#39; ? String.format(&quot;\\\\u%04x&quot;, c) : c;\r\n            });\r\n        return sb.append(&#39;&quot;&#39;).toString();\r\n    }\r\n\r\n```\r\n\r\n","title":"Java escape JSON String?","body":"<p>If you can use slightly more modern Java and don't want another dependency, this does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static String jsonStringQuote(String string) {\n        StringBuilder sb = new StringBuilder(&quot;\\&quot;&quot;);\n        for (char c : string.toCharArray())\n            sb.append(switch (c) {\n                case '\\\\', '&quot;', '/' -&gt; &quot;\\\\&quot;+c;\n                case '\\b' -&gt; &quot;\\\\b&quot;;\n                case '\\t' -&gt; &quot;\\\\t&quot;;\n                case '\\n' -&gt; &quot;\\\\n&quot;;\n                case '\\f' -&gt; &quot;\\\\f&quot;;\n                case '\\r' -&gt; &quot;\\\\r&quot;;\n                default -&gt; c &lt; ' ' ? String.format(&quot;\\\\u%04x&quot;, c) : c;\n            });\n        return sb.append('&quot;').toString();\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664470,"reputation":742,"user_id":1532175,"display_name":"FredG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686240622,"creation_date":1686240622,"answer_id":76433826,"question_id":18898773,"body_markdown":"On Android (and `org.json`), you could use [JSONObject.quote][1].\r\n\r\n```\r\nimport org.json.JSONObject;\r\nString stringifiedString = JSONObject.quote(data);\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/org/json/JSONObject#quote(java.lang.String)","title":"Java escape JSON String?","body":"<p>On Android (and <code>org.json</code>), you could use <a href=\"https://developer.android.com/reference/org/json/JSONObject#quote(java.lang.String)\" rel=\"nofollow noreferrer\">JSONObject.quote</a>.</p>\n<pre><code>import org.json.JSONObject;\nString stringifiedString = JSONObject.quote(data);\n</code></pre>\n"}],"owner":{"account_id":1970434,"reputation":8861,"user_id":1769543,"accept_rate":46,"display_name":"Alosyius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175330,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":18898970,"answer_count":14,"score":29,"last_activity_date":1686240622,"creation_date":1379604229,"question_id":18898773,"body_markdown":"I have the following JSON string that i am sending to a NodeJS server:\r\n\r\n    String string = &quot;{\\&quot;id\\&quot;:\\&quot;&quot; + userID + &quot;\\&quot;,\\&quot;type\\&quot;:\\&quot;&quot; + methoden + &quot;\\&quot;,\\&quot;msg\\&quot;:\\&quot;&quot; + msget + &quot;\\&quot;, \\&quot;name\\&quot;:\\&quot;&quot; + namnet + &quot;\\&quot;, \\&quot;channel\\&quot;:\\&quot;&quot; + activeChatChannel + &quot;\\&quot;, \\&quot;visitorNick\\&quot;:\\&quot;\\&quot;, \\&quot;agentID\\&quot;:\\&quot; &quot; + agentID + &quot;\\&quot;}&quot;;\r\n\r\n    PrintWriter pw = new PrintWriter(new OutputStreamWriter(os, &quot;utf-8&quot;));\r\n    pw.println(string);\r\n                            \r\n\r\nThe problem becomes when the string `msget` contains the character `&quot;` and `&#39;`\r\n\r\nOn the NodeJS server i am parsing the JSON like this:\r\n\r\n    var obj = JSON.parse(message);\r\n\r\n\r\nAny ideas how i can manage to send all characters without problems?","title":"Java escape JSON String?","body":"<p>I have the following JSON string that i am sending to a NodeJS server:</p>\n\n<pre><code>String string = \"{\\\"id\\\":\\\"\" + userID + \"\\\",\\\"type\\\":\\\"\" + methoden + \"\\\",\\\"msg\\\":\\\"\" + msget + \"\\\", \\\"name\\\":\\\"\" + namnet + \"\\\", \\\"channel\\\":\\\"\" + activeChatChannel + \"\\\", \\\"visitorNick\\\":\\\"\\\", \\\"agentID\\\":\\\" \" + agentID + \"\\\"}\";\n\nPrintWriter pw = new PrintWriter(new OutputStreamWriter(os, \"utf-8\"));\npw.println(string);\n</code></pre>\n\n<p>The problem becomes when the string <code>msget</code> contains the character <code>\"</code> and <code>'</code></p>\n\n<p>On the NodeJS server i am parsing the JSON like this:</p>\n\n<pre><code>var obj = JSON.parse(message);\n</code></pre>\n\n<p>Any ideas how i can manage to send all characters without problems?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":3086682,"reputation":1688,"user_id":2613670,"accept_rate":57,"display_name":"Manuelarte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686240546,"creation_date":1686174425,"question_id":76427298,"body_markdown":"Imagine we have the following tables:\r\n\r\n```\r\n codes\r\n| id | code |\r\n-------------\r\n| 1  | 1111 |\r\n| 2. | 2222 |\r\n\r\n```\r\n```\r\n translations\r\n| id | code_id | language |  name                   |\r\n-----------------------------------------------------\r\n| 1  | 1111    | EN       | Lord of the Rings       |\r\n| 2  | 1111    | ES       | El se&#241;or de los anillos |\r\n| 3  | 1111    | FR       | Le Seigneur des Anneaux |\r\n| 4. | 2222    | EN       | Don Quixote.            |\r\n\r\n```\r\n\r\nAnd I declare my entities like this:\r\n\r\n```\r\npublic class Code {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private Long code.\r\n\r\n    @OneToMany\r\n    private Set&lt;Translation&gt; translations;\r\n\r\n    ...\r\n}\r\n\r\npublic class Translation {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;code&quot;)\r\n    private Code code;\r\n\r\n    private String language;\r\n\r\n    private String name;\r\n\r\n}\r\n```\r\n\r\nI am able to retrieve all the translations for an specific code using my `JpaRepository&lt;Location, Long&gt; findAll`, but, I want to be able to &quot;filter&quot; the translations that I receive based on the language. So, as an example, if I want to retrieve the code 1111 (Lord of the Rings), but for Spanish language, then I would get the Code object with the Translation set with one single value, not with the two translations available in the database. Is it possible to achieve this with Spring Data Jpa?","title":"Filter entities in a one to many relation based on a dynamic value with Spring Data JPA","body":"<p>Imagine we have the following tables:</p>\n<pre><code> codes\n| id | code |\n-------------\n| 1  | 1111 |\n| 2. | 2222 |\n\n</code></pre>\n<pre><code> translations\n| id | code_id | language |  name                   |\n-----------------------------------------------------\n| 1  | 1111    | EN       | Lord of the Rings       |\n| 2  | 1111    | ES       | El señor de los anillos |\n| 3  | 1111    | FR       | Le Seigneur des Anneaux |\n| 4. | 2222    | EN       | Don Quixote.            |\n\n</code></pre>\n<p>And I declare my entities like this:</p>\n<pre><code>public class Code {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private Long code.\n\n    @OneToMany\n    private Set&lt;Translation&gt; translations;\n\n    ...\n}\n\npublic class Translation {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;code&quot;)\n    private Code code;\n\n    private String language;\n\n    private String name;\n\n}\n</code></pre>\n<p>I am able to retrieve all the translations for an specific code using my <code>JpaRepository&lt;Location, Long&gt; findAll</code>, but, I want to be able to &quot;filter&quot; the translations that I receive based on the language. So, as an example, if I want to retrieve the code 1111 (Lord of the Rings), but for Spanish language, then I would get the Code object with the Translation set with one single value, not with the two translations available in the database. Is it possible to achieve this with Spring Data Jpa?</p>\n"},{"tags":["java","android","android-recyclerview","textview"],"answers":[{"tags":[],"owner":{"account_id":19192892,"reputation":69,"user_id":14022279,"display_name":"Longe Tolulope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686240389,"creation_date":1686240389,"answer_id":76433791,"question_id":60576679,"body_markdown":"use a custom linear layout manager for the recycler view and override the two requestChildRectangleOnScreen this way\r\n```\r\noverride fun requestChildRectangleOnScreen(parent: RecyclerView, child: View, rect: Rect, immediate: Boolean): Boolean {\r\n      return false\r\n    }\r\n\r\n    override fun requestChildRectangleOnScreen(parent: RecyclerView, child: View, rect: Rect, immediate: Boolean, focusedChildVisible: Boolean): Boolean {\r\n      return false\r\n    }\r\n```","title":"RecyclerView jumps up when touching TextView that is selectable","body":"<p>use a custom linear layout manager for the recycler view and override the two requestChildRectangleOnScreen this way</p>\n<pre><code>override fun requestChildRectangleOnScreen(parent: RecyclerView, child: View, rect: Rect, immediate: Boolean): Boolean {\n      return false\n    }\n\n    override fun requestChildRectangleOnScreen(parent: RecyclerView, child: View, rect: Rect, immediate: Boolean, focusedChildVisible: Boolean): Boolean {\n      return false\n    }\n</code></pre>\n"}],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686240389,"creation_date":1583577520,"question_id":60576679,"body_markdown":"I have a RecyclerView which is populated with items each containing a TextView. I call `textView.setTextIsSelectable(true)` on the TextView to make its text selectable, but I notice that when I tap on the TextView, or long press it to select text, the RecyclerView suddenly scrolls up so that the whole TextView is visible. I want to know how to disable this behaviour, so that touching or long pressing the TextView does not cause any scrolling.","title":"RecyclerView jumps up when touching TextView that is selectable","body":"<p>I have a RecyclerView which is populated with items each containing a TextView. I call <code>textView.setTextIsSelectable(true)</code> on the TextView to make its text selectable, but I notice that when I tap on the TextView, or long press it to select text, the RecyclerView suddenly scrolls up so that the whole TextView is visible. I want to know how to disable this behaviour, so that touching or long pressing the TextView does not cause any scrolling.</p>\n"},{"tags":["java","jakarta-ee","cdi","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684742602,"creation_date":1684742602,"answer_id":76304132,"question_id":76293162,"body_markdown":"Since you have 2 beans of the same type (the 2 EntityManagers), you have to differentiate them using qualifiers. But how do you define which of the 2 qualified instances of the `EntityManager` get injected into the `SomeClassImpl`?\r\n\r\nFortunately, `SomeClassImpl` uses constructor injection, so you can construct it yourself. I suggest 2 producer methods (can be in the same bean), each providing a manually constructed, qualified instance of the `SomeClassImpl`; assuming `@Q1` and `@Q2` are the qualifiers **AND** that the 2 different `EntityManager`s are also qualified by `@Q1`, `@Q2`:\r\n\r\n```java\r\n@Q1\r\n@Dependent\r\n@Produces\r\npublic SomeClassImpl(@Q1 EntityManager em) {\r\n    return new SomeClassImpl(em);\r\n}\r\n\r\n@Q2\r\n@Dependent\r\n@Produces\r\npublic SomeClassImpl(@Q2 EntityManager em) {\r\n    return new SomeClassImpl(em);\r\n}\r\n```\r\n\r\nCDI will still find an unqualified instance of `SomeClassImpl` and will probably complain about ambiguous dependencies. If so, I would try to exclude the unqualified `SomeClassImpl` from bean discovery using the exclusion mechanism of `beans.xml` (the `&lt;scan&gt;&lt;exclude&gt;` element).","title":"Is it possible to isolate CDI producers within the module where they are defined (in a module application with shared module)","body":"<p>Since you have 2 beans of the same type (the 2 EntityManagers), you have to differentiate them using qualifiers. But how do you define which of the 2 qualified instances of the <code>EntityManager</code> get injected into the <code>SomeClassImpl</code>?</p>\n<p>Fortunately, <code>SomeClassImpl</code> uses constructor injection, so you can construct it yourself. I suggest 2 producer methods (can be in the same bean), each providing a manually constructed, qualified instance of the <code>SomeClassImpl</code>; assuming <code>@Q1</code> and <code>@Q2</code> are the qualifiers <strong>AND</strong> that the 2 different <code>EntityManager</code>s are also qualified by <code>@Q1</code>, <code>@Q2</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Q1\n@Dependent\n@Produces\npublic SomeClassImpl(@Q1 EntityManager em) {\n    return new SomeClassImpl(em);\n}\n\n@Q2\n@Dependent\n@Produces\npublic SomeClassImpl(@Q2 EntityManager em) {\n    return new SomeClassImpl(em);\n}\n</code></pre>\n<p>CDI will still find an unqualified instance of <code>SomeClassImpl</code> and will probably complain about ambiguous dependencies. If so, I would try to exclude the unqualified <code>SomeClassImpl</code> from bean discovery using the exclusion mechanism of <code>beans.xml</code> (the <code>&lt;scan&gt;&lt;exclude&gt;</code> element).</p>\n"},{"tags":[],"owner":{"account_id":22232,"reputation":2344,"user_id":54645,"accept_rate":100,"display_name":"Benjamin Confino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686239258,"creation_date":1686239258,"answer_id":76433623,"question_id":76293162,"body_markdown":"I would use CDI Alternatives for this.\r\n\r\nIn your problem statement you said you have two different producers that produce an EntityManager, annotate one of them with `@Alternative` so you have: \r\n\r\n    package X;\r\n\r\n    public class DefaultProducer {\r\n        @javax.enterprise.inject.Produces\r\n        @javax.enterprise.context.ApplicationScoped //Replace the scope as appropriate\r\n        public EntityManager produceEntityManager {...}\r\n    }\r\n    \r\n    package Y;\r\n\r\n    public class AlternativeProducer {\r\n        @javax.enterprise.inject.Produces\r\n        @javax.enterprise.inject.Alternative\r\n        @javax.enterprise.context.ApplicationScoped //Replace the scope as appropriate\r\n        public EntityManager produceEntityManager {...}\r\n    }\r\n\r\nThis will let you control which producer method is used in which module. If an archive contains a beans.xml with: \r\n\r\n    &lt;beans ... &gt;\r\n        &lt;alternatives&gt;\r\n            &lt;class&gt;Y.AlternativeProducer&lt;/class&gt;\r\n        &lt;/alternatives&gt;\r\n    &lt;/beans&gt;\r\n\r\nThat archive will Inject EntityManager from AlternativeProducer, otherwise it will default to DefaultProducer. Since beans.xml is per archive you&#39;ll be able to use different entity managers in different modules, and since one of them is active by default you can control which entity manager is used in B without modifying that archive.\r\n\r\n-------\r\n\r\nWarning! If you do not have a beans.xml file already, then adding a beans.xml file to an archive can change the rules for bean discovery (depending on the CDI version). \r\n\r\nCDI applications without a beans.xml file run in scanning mode annotated, so if you set that explicitly you&#39;ll avoid changes in behaviour, this works on any CDI version.","title":"Is it possible to isolate CDI producers within the module where they are defined (in a module application with shared module)","body":"<p>I would use CDI Alternatives for this.</p>\n<p>In your problem statement you said you have two different producers that produce an EntityManager, annotate one of them with <code>@Alternative</code> so you have:</p>\n<pre><code>package X;\n\npublic class DefaultProducer {\n    @javax.enterprise.inject.Produces\n    @javax.enterprise.context.ApplicationScoped //Replace the scope as appropriate\n    public EntityManager produceEntityManager {...}\n}\n\npackage Y;\n\npublic class AlternativeProducer {\n    @javax.enterprise.inject.Produces\n    @javax.enterprise.inject.Alternative\n    @javax.enterprise.context.ApplicationScoped //Replace the scope as appropriate\n    public EntityManager produceEntityManager {...}\n}\n</code></pre>\n<p>This will let you control which producer method is used in which module. If an archive contains a beans.xml with:</p>\n<pre><code>&lt;beans ... &gt;\n    &lt;alternatives&gt;\n        &lt;class&gt;Y.AlternativeProducer&lt;/class&gt;\n    &lt;/alternatives&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>That archive will Inject EntityManager from AlternativeProducer, otherwise it will default to DefaultProducer. Since beans.xml is per archive you'll be able to use different entity managers in different modules, and since one of them is active by default you can control which entity manager is used in B without modifying that archive.</p>\n<hr />\n<p>Warning! If you do not have a beans.xml file already, then adding a beans.xml file to an archive can change the rules for bean discovery (depending on the CDI version).</p>\n<p>CDI applications without a beans.xml file run in scanning mode annotated, so if you set that explicitly you'll avoid changes in behaviour, this works on any CDI version.</p>\n"}],"owner":{"account_id":6628100,"reputation":209,"user_id":5117628,"display_name":"Astonvish32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686239258,"creation_date":1684544495,"question_id":76293162,"body_markdown":"**SETUP**\r\n\r\nSuppose that you have two bean archive modules A and B where A depends on B (we cannot modify B). Within B, suppose that there is a class in which an EntityManager is injected as follows:\r\n\r\n```\r\n@Dependent\r\nclass SomeClassImpl implements SomeClass {\r\n    private EntityManager em;\r\n    \r\n    public SomeClassImpl() {}\r\n\r\n    @Inject\r\n    public SomeClassImpl(EntityManager em) {\r\n        this.em = em;\r\n    }\r\n    \r\n    ...\r\n\r\n}\r\n```\r\n*Note that `SomeClass` interface is never directly injected into A. That is, `SomeClass` is a dependency of `SomeRepository` which in turn is a dependency of `SomeUseCase` and this is what get injected in A.*\r\n\r\nBecause the entity manager is not a cdi bean, we can define its producer within A. This works as expected when deploying in a **WAR** archive.\r\n\r\n**PROBLEM**\r\n\r\nNow, consider the following: you have three bean archive modules X, Y and Z where both X and Y depend on Z as defined above. Because X and Y define a producer for the EntityManager (different in X and Y) and these producers as visible to all modules, we must add qualifier to X and Y&#39;s producer to avoid the unsatisfied dependencies exception.\r\n\r\n**Now, the question is how do we deal with the ambiguity in Z?**\r\n\r\nIf the producers were only visible to the module where defined, then this will be reduced the first scenario. But because they are not, we will get the `org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type EntityManager with qualifiers`\r\n\r\nNote: although this can be solved with custom scope, I would prefer to avoid building one if possible as of now.\r\n\r\nIf it were you, how would you go about solving this problem?","title":"Is it possible to isolate CDI producers within the module where they are defined (in a module application with shared module)","body":"<p><strong>SETUP</strong></p>\n<p>Suppose that you have two bean archive modules A and B where A depends on B (we cannot modify B). Within B, suppose that there is a class in which an EntityManager is injected as follows:</p>\n<pre><code>@Dependent\nclass SomeClassImpl implements SomeClass {\n    private EntityManager em;\n    \n    public SomeClassImpl() {}\n\n    @Inject\n    public SomeClassImpl(EntityManager em) {\n        this.em = em;\n    }\n    \n    ...\n\n}\n</code></pre>\n<p><em>Note that <code>SomeClass</code> interface is never directly injected into A. That is, <code>SomeClass</code> is a dependency of <code>SomeRepository</code> which in turn is a dependency of <code>SomeUseCase</code> and this is what get injected in A.</em></p>\n<p>Because the entity manager is not a cdi bean, we can define its producer within A. This works as expected when deploying in a <strong>WAR</strong> archive.</p>\n<p><strong>PROBLEM</strong></p>\n<p>Now, consider the following: you have three bean archive modules X, Y and Z where both X and Y depend on Z as defined above. Because X and Y define a producer for the EntityManager (different in X and Y) and these producers as visible to all modules, we must add qualifier to X and Y's producer to avoid the unsatisfied dependencies exception.</p>\n<p><strong>Now, the question is how do we deal with the ambiguity in Z?</strong></p>\n<p>If the producers were only visible to the module where defined, then this will be reduced the first scenario. But because they are not, we will get the <code>org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type EntityManager with qualifiers</code></p>\n<p>Note: although this can be solved with custom scope, I would prefer to avoid building one if possible as of now.</p>\n<p>If it were you, how would you go about solving this problem?</p>\n"},{"tags":["java","gradle","intellij-idea","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1686155372,"post_id":76425293,"comment_id":134761456,"body_markdown":"Doe the issue occur only in IntelliJ IDEA or in the command line Gradle build as well (`./gradlew build`)? There my be some library in your dependencies which targets Java 17. Please provide the full error / steps to reproduce.","body":"Doe the issue occur only in IntelliJ IDEA or in the command line Gradle build as well (<code>.&#47;gradlew build</code>)? There my be some library in your dependencies which targets Java 17. Please provide the full error / steps to reproduce."},{"owner":{"display_name":"user22030129"},"score":0,"creation_date":1686157553,"post_id":76425293,"comment_id":134761882,"body_markdown":"FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project \n\nthats what i got over running from cmd.\nwhich code you asking for? gradle-wrapper.properties or gradle kts?","body":"FAILURE: Build failed with an exception.  * What went wrong: A problem occurred configuring root project   thats what i got over running from cmd. which code you asking for? gradle-wrapper.properties or gradle kts?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1686157699,"post_id":76425293,"comment_id":134761910,"body_markdown":"Asking for [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). As mentioned, there may be some dependency in your project, which requires Java 17.","body":"Asking for <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. As mentioned, there may be some dependency in your project, which requires Java 17."},{"owner":{"display_name":"user22030129"},"score":0,"creation_date":1686231705,"post_id":76425293,"comment_id":134773066,"body_markdown":"i have modified the code in question, you can check it.","body":"i have modified the code in question, you can check it."},{"owner":{"display_name":"user22030129"},"score":0,"creation_date":1686232188,"post_id":76425293,"comment_id":134773207,"body_markdown":"basically i updated my version intellij to 2023.1.2, and set JDK SDK etc to 20, and using gradle 7.6 now, now it&#39;s saying unsupported class major file version 64. am so done with intellij by now.\n\n\nso am adding an edit &quot;after updating intellij version&quot;, check code there","body":"basically i updated my version intellij to 2023.1.2, and set JDK SDK etc to 20, and using gradle 7.6 now, now it&#39;s saying unsupported class major file version 64. am so done with intellij by now.   so am adding an edit &quot;after updating intellij version&quot;, check code there"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1686233959,"post_id":76425293,"comment_id":134773672,"body_markdown":"Probably related bug: https://youtrack.jetbrains.com/issue/IDEA-322008/Gradle-build-fails-on-IntelliJ-IDEA-2023.1.2.","body":"Probably related bug: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-322008/Gradle-build-fails-on-IntelliJ-IDEA-2023.1.2\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-322008/&hellip;</a>."},{"owner":{"display_name":"user22030129"},"score":0,"creation_date":1686237474,"post_id":76425293,"comment_id":134774531,"body_markdown":"The only way it got solved is, using latest intellij version, using latest jdk and using latest gradle version. Maybe it has soething to do with intellij version, as old versions neither let use old gradles nor newer ones. might be some bug or whatever, it was very tiring.","body":"The only way it got solved is, using latest intellij version, using latest jdk and using latest gradle version. Maybe it has soething to do with intellij version, as old versions neither let use old gradles nor newer ones. might be some bug or whatever, it was very tiring."}],"answers":[{"tags":[],"owner":{"display_name":"user22030129"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686239221,"creation_date":1686239221,"answer_id":76433619,"question_id":76425293,"body_markdown":"The only way it got solved is:\r\nUpdated Intellij to the latest version (2023.1.2)\r\nAdded Gradle 8.1.1 (latest gradle version yet)\r\nUsing latest JDK &amp; JVM (20)","title":"Gradle version/ Gradle JVM is compatible with JDK, still receiving Unsupported class major file version 61 error","body":"<p>The only way it got solved is:\nUpdated Intellij to the latest version (2023.1.2)\nAdded Gradle 8.1.1 (latest gradle version yet)\nUsing latest JDK &amp; JVM (20)</p>\n"}],"owner":{"display_name":"user22030129"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76433619,"answer_count":1,"score":0,"last_activity_date":1686239221,"creation_date":1686154548,"question_id":76425293,"body_markdown":"I already have checked this https://stackoverflow.com/questions/71033010/intellij-gradle-project-error-unsupported-class-file-major-version-61\r\nand unfortunately it couldn&#39;t solve my problem.\r\n\r\nI am using Intellij-idea. \r\nI check Oracle documentation to find out that Java 15.0.2 is compatible with Gradle version 6.7, still I am receiving **Unsupported class major file version 61**.\r\n\r\nAlso I was previously using JDK 17 but then I have uninstalled it, and also set Java_Home to JDK 15. \r\n\r\nThe details of Gradle version downloaded on my PC \r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-10-14 16:13:12 UTC\r\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          15.0.2 (Oracle Corporation 15.0.2+7-27)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\nThe details of JDK am using:\r\n\r\n\r\n```\r\njava version &quot;15.0.2&quot; 2021-01-19\r\nJava(TM) SE Runtime Environment (build 15.0.2+7-27)\r\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\r\n```\r\n\r\n\r\nI have Double checked **Project Structure &gt;&gt; Project &gt;&gt; JDK version** am using, it is also 15.\r\n\r\nI also double checked **Settings &gt;&gt; Build Tools &gt;&gt; Gradle &gt;&gt; Gradle JVM** which is also 15.\r\n\r\nI also double checked **gradle &gt;&gt; gradle-wrapper.properties** file to see if version is 6.7 there, it was 7.5.1 but I fixed it to 6.7 (saw this upon searching on stackOverflow, i hope it is right way to do this)\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-bin.zip`\r\n\r\nI also changed target and source compatability to 15 as following:\r\n\r\n```\r\n // Set the JVM compatibility versions\r\n    withType&lt;JavaCompile&gt; {\r\n        sourceCompatibility = &quot;15&quot;\r\n        targetCompatibility = &quot;15&quot;\r\n```\r\n\r\n\r\nDespite it all, am still receiving this error. How to fix this?\r\n\r\n\r\n**After updating Intellij to 2023.1.2**\r\n\r\n1. Gradle Wrapper properties:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists \r\n   distributionUrl=https\\://services.gradle.org/distributions/gradle- 7.6-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n2. **Plugin &amp; dependencies section:**\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;org.jetbrains.intellij&quot;) version &quot;1.14.1&quot;\r\n    }\r\n    \r\n    group = &quot;com.plugin&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    // Configure Gradle IntelliJ Plugin\r\n    // Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\n    intellij {\r\n        version.set(&quot;2023.1.2&quot;)\r\n        type.set(&quot;IC&quot;) // Target IDE Platform\r\n    \r\n        plugins.set(listOf(/* Plugin Dependencies */))\r\n    }\r\n    \r\n    tasks {\r\n        // Set the JVM compatibility versions\r\n        withType&lt;JavaCompile&gt; {\r\n            sourceCompatibility = &quot;20&quot;\r\n            targetCompatibility = &quot;20&quot;\r\n        }\r\n    \r\n        patchPluginXml {\r\n            sinceBuild.set(&quot;221&quot;)\r\n            untilBuild.set(&quot;231.*&quot;)\r\n        }\r\n    \r\n        signPlugin {\r\n            certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\r\n            privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\r\n            password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\r\n        }\r\n    \r\n        publishPlugin {\r\n            token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Gradle version/ Gradle JVM is compatible with JDK, still receiving Unsupported class major file version 61 error","body":"<p>I already have checked this <a href=\"https://stackoverflow.com/questions/71033010/intellij-gradle-project-error-unsupported-class-file-major-version-61\">IntelliJ gradle project error &quot;Unsupported class file major version 61&quot;</a>\nand unfortunately it couldn't solve my problem.</p>\n<p>I am using Intellij-idea.\nI check Oracle documentation to find out that Java 15.0.2 is compatible with Gradle version 6.7, still I am receiving <strong>Unsupported class major file version 61</strong>.</p>\n<p>Also I was previously using JDK 17 but then I have uninstalled it, and also set Java_Home to JDK 15.</p>\n<p>The details of Gradle version downloaded on my PC</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7\n------------------------------------------------------------\n\nBuild time:   2020-10-14 16:13:12 UTC\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          15.0.2 (Oracle Corporation 15.0.2+7-27)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>The details of JDK am using:</p>\n<pre><code>java version &quot;15.0.2&quot; 2021-01-19\nJava(TM) SE Runtime Environment (build 15.0.2+7-27)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\n</code></pre>\n<p>I have Double checked <strong>Project Structure &gt;&gt; Project &gt;&gt; JDK version</strong> am using, it is also 15.</p>\n<p>I also double checked <strong>Settings &gt;&gt; Build Tools &gt;&gt; Gradle &gt;&gt; Gradle JVM</strong> which is also 15.</p>\n<p>I also double checked <strong>gradle &gt;&gt; gradle-wrapper.properties</strong> file to see if version is 6.7 there, it was 7.5.1 but I fixed it to 6.7 (saw this upon searching on stackOverflow, i hope it is right way to do this)</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-bin.zip</code></p>\n<p>I also changed target and source compatability to 15 as following:</p>\n<pre><code> // Set the JVM compatibility versions\n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;15&quot;\n        targetCompatibility = &quot;15&quot;\n</code></pre>\n<p>Despite it all, am still receiving this error. How to fix this?</p>\n<p><strong>After updating Intellij to 2023.1.2</strong></p>\n<ol>\n<li><p>Gradle Wrapper properties:</p>\n<p>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https://services.gradle.org/distributions/gradle- 7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists</p>\n</li>\n<li><p><strong>Plugin &amp; dependencies section:</strong></p>\n<p>plugins {\nid(&quot;java&quot;)\nid(&quot;org.jetbrains.intellij&quot;) version &quot;1.14.1&quot;\n}</p>\n<p>group = &quot;com.plugin&quot;\nversion = &quot;1.0-SNAPSHOT&quot;</p>\n<p>repositories {\nmavenCentral()\n}</p>\n<p>// Configure Gradle IntelliJ Plugin\n// Read more: <a href=\"https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html</a>\nintellij {\nversion.set(&quot;2023.1.2&quot;)\ntype.set(&quot;IC&quot;) // Target IDE Platform</p>\n<pre><code> plugins.set(listOf(/* Plugin Dependencies */))\n</code></pre>\n<p>}</p>\n<p>tasks {\n// Set the JVM compatibility versions\nwithType {\nsourceCompatibility = &quot;20&quot;\ntargetCompatibility = &quot;20&quot;\n}</p>\n<pre><code> patchPluginXml {\n     sinceBuild.set(&quot;221&quot;)\n     untilBuild.set(&quot;231.*&quot;)\n }\n\n signPlugin {\n     certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\n     privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\n     password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\n }\n\n publishPlugin {\n     token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686239138,"creation_date":1686239138,"question_id":76433605,"body_markdown":"I am using Hibernate 6.1.2 as implementation of JPA 3.1.0. In my persistence.xml, I have set\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\r\nThis makes my database being updated or created if necessary. (For final deployment, I am going to change this, but for now, it is supposed to work.)\r\n\r\nDuring startup, I get warnings for unique constraints like\r\n\r\n    WARN: constraint &quot;unique_constraint_name&quot; of relation &quot;table_name&quot; does not exist, skipping\r\n\r\nHowever, afterwards, the constraints do exist. So my theory is that some different part of the code misses them before hibernate.hbm2ddl.auto can create them.\r\n\r\nI tried to read up on that, but I only found posts confirming that the update setting creates everything (including constraints) on demand, which is correct, but not exactly the answer to my questions:\r\n\r\n1. Is my idea that some different part of the code is missing them before they can be created?\r\n2. How can I change the code so that the warning is not needed?","title":"Warning while automatically creating unqiue constraints in Hibernate 6","body":"<p>I am using Hibernate 6.1.2 as implementation of JPA 3.1.0. In my persistence.xml, I have set</p>\n<pre><code>&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n</code></pre>\n<p>This makes my database being updated or created if necessary. (For final deployment, I am going to change this, but for now, it is supposed to work.)</p>\n<p>During startup, I get warnings for unique constraints like</p>\n<pre><code>WARN: constraint &quot;unique_constraint_name&quot; of relation &quot;table_name&quot; does not exist, skipping\n</code></pre>\n<p>However, afterwards, the constraints do exist. So my theory is that some different part of the code misses them before hibernate.hbm2ddl.auto can create them.</p>\n<p>I tried to read up on that, but I only found posts confirming that the update setting creates everything (including constraints) on demand, which is correct, but not exactly the answer to my questions:</p>\n<ol>\n<li>Is my idea that some different part of the code is missing them before they can be created?</li>\n<li>How can I change the code so that the warning is not needed?</li>\n</ol>\n"},{"tags":["java","barcode","zxing","datamatrix"],"comments":[{"owner":{"account_id":1313476,"reputation":9843,"user_id":2102779,"display_name":"Leszek Szary"},"score":0,"creation_date":1552661158,"post_id":51795004,"comment_id":97108229,"body_markdown":"I also noticed that some datamatrix barcodes are not recognized by ZXing but libdmtx recognizes them. I think there are different variations of datamatrix format and ZXing does not handle all of them properly so if ZXing does not work with your barcodes then the only option will probably be to use libdmtx in that case.","body":"I also noticed that some datamatrix barcodes are not recognized by ZXing but libdmtx recognizes them. I think there are different variations of datamatrix format and ZXing does not handle all of them properly so if ZXing does not work with your barcodes then the only option will probably be to use libdmtx in that case."}],"answers":[{"tags":[],"owner":{"account_id":3666242,"reputation":198,"user_id":3054608,"accept_rate":0,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1554123469,"creation_date":1554123469,"answer_id":55455706,"question_id":51795004,"body_markdown":"I had similar problem as you but on encoding side. As per my findings Zxing is certainly inferior to Libdmtx. We are using both libraries in house in C++ and Java project. \r\n\r\nThere is a case when Zxing breaks while generating barcode look at my comments here:\r\nhttps://github.com/zxing/zxing/issues/624\r\n\r\nHowever Libdmtx works flowless. The other free options you have in java world are (they are for encoding):\r\n\r\n - barcode4j\r\n - OkapiBarcode\r\n \r\n\r\n","title":"Libdmtx vs ZXing for DataMatrix Decoding?","body":"<p>I had similar problem as you but on encoding side. As per my findings Zxing is certainly inferior to Libdmtx. We are using both libraries in house in C++ and Java project. </p>\n\n<p>There is a case when Zxing breaks while generating barcode look at my comments here:\n<a href=\"https://github.com/zxing/zxing/issues/624\" rel=\"nofollow noreferrer\">https://github.com/zxing/zxing/issues/624</a></p>\n\n<p>However Libdmtx works flowless. The other free options you have in java world are (they are for encoding):</p>\n\n<ul>\n<li>barcode4j</li>\n<li>OkapiBarcode</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2388339,"reputation":1019,"user_id":2088798,"display_name":"axxel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604704032,"creation_date":1604704032,"answer_id":64722726,"question_id":51795004,"body_markdown":"Another alternative is the relatively new ZXing cpp port here: https://github.com/nu-book/zxing-cpp.\r\n\r\nIt contains a completely new DataMatrix detector that was meant to fix serious limitations of the Java upstream version. It was specifically designed to deal with low resolution images (module size as low as around 2 pixels) and symbols that have just the required 1 module quite zone and a busy background.\r\n\r\nThe following comparison is certainly not &#39;fair&#39; but I just had the `dmtxread` utility of the libdmtx try my test set of images and it missed 3 of 17 samples and took a whooping 300 times as long compared to my code :).","title":"Libdmtx vs ZXing for DataMatrix Decoding?","body":"<p>Another alternative is the relatively new ZXing cpp port here: <a href=\"https://github.com/nu-book/zxing-cpp\" rel=\"nofollow noreferrer\">https://github.com/nu-book/zxing-cpp</a>.</p>\n<p>It contains a completely new DataMatrix detector that was meant to fix serious limitations of the Java upstream version. It was specifically designed to deal with low resolution images (module size as low as around 2 pixels) and symbols that have just the required 1 module quite zone and a busy background.</p>\n<p>The following comparison is certainly not 'fair' but I just had the <code>dmtxread</code> utility of the libdmtx try my test set of images and it missed 3 of 17 samples and took a whooping 300 times as long compared to my code :).</p>\n"},{"tags":[],"owner":{"account_id":16480417,"reputation":25,"user_id":11907336,"display_name":"CBJFan2009"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686239026,"creation_date":1686239026,"answer_id":76433590,"question_id":51795004,"body_markdown":"I know this is an old post, but wanted to throw in my experience dealing with libdmtx and the newer c++ version of zxing (zxing-cpp 2.0), in case it helps anyone else.\r\n\r\nInitially, I was using pyzbar to decode QR codes, but decided that QR was a bit too finicky about printing quality (17,000+/hour print of the barcodes).  Data Matrix (DM) seemed like a logical solution, having better tolerances (from what I&#39;ve read).  I initially built using libdmtx, but found the slowdown was substantial when compared to QR read/decode through pyzbar.  \r\n\r\nI later discovered the ZXing-cpp build, started using that because of decoding most common barcodes using one library, and it&#39;s wicked-fast!\r\nMy only quibble so far with zxing is the DM orientation issue.  I&#39;ve tested using my camera, and orientation of DM causes the detection ROI to be very limited (left-to-right didn&#39;t lose much, but top-to-bottom I lost about 40% of my camera&#39;s FOV for detection -- see image attached).  Note: white bars across are overlay, not part of the camera view.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xvhze.jpg\r\n  [2]: https://i.stack.imgur.com/cjZCc.jpg\r\n  [3]: https://i.stack.imgur.com/Bcr7T.jpg\r\n  [4]: https://i.stack.imgur.com/l9hxl.jpg","title":"Libdmtx vs ZXing for DataMatrix Decoding?","body":"<p>I know this is an old post, but wanted to throw in my experience dealing with libdmtx and the newer c++ version of zxing (zxing-cpp 2.0), in case it helps anyone else.</p>\n<p>Initially, I was using pyzbar to decode QR codes, but decided that QR was a bit too finicky about printing quality (17,000+/hour print of the barcodes).  Data Matrix (DM) seemed like a logical solution, having better tolerances (from what I've read).  I initially built using libdmtx, but found the slowdown was substantial when compared to QR read/decode through pyzbar.</p>\n<p>I later discovered the ZXing-cpp build, started using that because of decoding most common barcodes using one library, and it's wicked-fast!\nMy only quibble so far with zxing is the DM orientation issue.  I've tested using my camera, and orientation of DM causes the detection ROI to be very limited (left-to-right didn't lose much, but top-to-bottom I lost about 40% of my camera's FOV for detection -- see image attached).  Note: white bars across are overlay, not part of the camera view.</p>\n<p><a href=\"https://i.stack.imgur.com/xvhze.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvhze.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cjZCc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjZCc.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Bcr7T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bcr7T.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/l9hxl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9hxl.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7416522,"reputation":15,"user_id":5642124,"display_name":"Neil Philip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55455706,"answer_count":3,"score":1,"last_activity_date":1686239026,"creation_date":1533942476,"question_id":51795004,"body_markdown":"How reliable is ZXing&#39;s barcode localization for DataMatrix decoding compared to libdmtx?\r\n\r\nI have a set of png image files of stickers (proprietary, so unfortunately I&#39;m not able to share them) containing DataMatrix barcodes. These stickers sit on flat surfaces, have very nice quiet zones and are generally centered in the image, but suffer from inequal lighting conditions and slight dust, likely the largest obstacle to reliable decoding.  \r\n\r\nI&#39;d like to use a modifiable Java library to decode them and it seems that ZXing is the only open-source option (open to other suggestions).  However, upon running these images through the [ZXing online decoder](https://zxing.org/w/decode.jspx), I consistently get NO BARCODE FOUND, even on the cleanest images.  In contrast, when I run the same images through proprietary online decoders, like [Inlite&#39;s Free Online Barcode Reader](https://online-barcode-reader.inliteresearch.com/), I get reliable decodes for all the images. My company has implemented a library in C that also reliable decodes the barcode images by processing them and calling [libdmtx](https://github.com/dmtx/libdmtx). Similarly, this [online DataMatrix decoder](http://boy.co.ua/decode.php) built on libdmtx can also reliably read my image files. \r\n\r\nIs the barcode localization in ZXing significantly inferior to libdmtx? \r\nIf I attempt the same preprocessing on the image files before I run them through ZXing, could I achieve similar results? I have a strong preference for a Java library (ZXing), but I may have no choice but to use libdmtx. Would appreciate any insight, thanks! ","title":"Libdmtx vs ZXing for DataMatrix Decoding?","body":"<p>How reliable is ZXing's barcode localization for DataMatrix decoding compared to libdmtx?</p>\n\n<p>I have a set of png image files of stickers (proprietary, so unfortunately I'm not able to share them) containing DataMatrix barcodes. These stickers sit on flat surfaces, have very nice quiet zones and are generally centered in the image, but suffer from inequal lighting conditions and slight dust, likely the largest obstacle to reliable decoding.  </p>\n\n<p>I'd like to use a modifiable Java library to decode them and it seems that ZXing is the only open-source option (open to other suggestions).  However, upon running these images through the <a href=\"https://zxing.org/w/decode.jspx\" rel=\"nofollow noreferrer\">ZXing online decoder</a>, I consistently get NO BARCODE FOUND, even on the cleanest images.  In contrast, when I run the same images through proprietary online decoders, like <a href=\"https://online-barcode-reader.inliteresearch.com/\" rel=\"nofollow noreferrer\">Inlite's Free Online Barcode Reader</a>, I get reliable decodes for all the images. My company has implemented a library in C that also reliable decodes the barcode images by processing them and calling <a href=\"https://github.com/dmtx/libdmtx\" rel=\"nofollow noreferrer\">libdmtx</a>. Similarly, this <a href=\"http://boy.co.ua/decode.php\" rel=\"nofollow noreferrer\">online DataMatrix decoder</a> built on libdmtx can also reliably read my image files. </p>\n\n<p>Is the barcode localization in ZXing significantly inferior to libdmtx? \nIf I attempt the same preprocessing on the image files before I run them through ZXing, could I achieve similar results? I have a strong preference for a Java library (ZXing), but I may have no choice but to use libdmtx. Would appreciate any insight, thanks! </p>\n"},{"tags":["java","properties","spring-boot"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1438343662,"post_id":31745168,"comment_id":51424430,"body_markdown":"You could try to use Mockito&#39;s [`Whitebox.setInternalState(object, fieldName, value)`](http://docs.mockito.googlecode.com/hg/org/mockito/internal/util/reflection/Whitebox.html) method to &quot;inject&quot; values into an object. [Example](https://code.google.com/p/mockito/source/browse/test/org/mockito/internal/util/reflection/WhiteboxTest.java?r=9772247b067621ed5c3cefc356397b0bde5b89f6)","body":"You could try to use Mockito&#39;s <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/internal/util/reflection/Whitebox.html\" rel=\"nofollow noreferrer\"><code>Whitebox.setInternalState(object, fieldName, value)</code></a> method to &quot;inject&quot; values into an object. <a href=\"https://code.google.com/p/mockito/source/browse/test/org/mockito/internal/util/reflection/WhiteboxTest.java?r=9772247b067621ed5c3cefc356397b0bde5b89f6\" rel=\"nofollow noreferrer\">Example</a>"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1438344178,"post_id":31745168,"comment_id":51424785,"body_markdown":"You could have a look how [`MockitoAnnotations.initMocks(java.lang.Object)`](http://docs.mockito.googlecode.com/hg/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)) works and extend that to work for `@ConfigurationProperties` and `@Autowired` (may already work for that, but I&#39;m not sure).","body":"You could have a look how <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>MockitoAnnotations.initMocks(java.lang.Object)</code></a> works and extend that to work for <code>@ConfigurationProperties</code> and <code>@Autowired</code> (may already work for that, but I&#39;m not sure)."},{"owner":{"account_id":5684267,"reputation":1025,"user_id":4494324,"accept_rate":100,"display_name":"IndianerJones"},"score":0,"creation_date":1438344485,"post_id":31745168,"comment_id":51424981,"body_markdown":"@Roman Vottner: Thanks for the hint. The issue is, It&#39;s not only one field I want to mock, it&#39;s 10. So it&#39;s would be bit writing effort. That would be nothing to complain about, if it&#39;s only that unit test, but I want to have lots of them, so having a more easy way would be really helpful.","body":"@Roman Vottner: Thanks for the hint. The issue is, It&#39;s not only one field I want to mock, it&#39;s 10. So it&#39;s would be bit writing effort. That would be nothing to complain about, if it&#39;s only that unit test, but I want to have lots of them, so having a more easy way would be really helpful."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1438344879,"post_id":31745168,"comment_id":51425235,"body_markdown":"If you &quot;inject&quot; the same kind of objects for a couple of tests, just refactor the instruction to a helper method and call this method in those tests. You can also parametreize this method to inject certain objects. You can also think about a kind of builder setup that &quot;injects&quot; default values if no builder specific method is called and sets a concrete inject-value if a respecive builder-method was set.","body":"If you &quot;inject&quot; the same kind of objects for a couple of tests, just refactor the instruction to a helper method and call this method in those tests. You can also parametreize this method to inject certain objects. You can also think about a kind of builder setup that &quot;injects&quot; default values if no builder specific method is called and sets a concrete inject-value if a respecive builder-method was set."},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1438356754,"post_id":31745168,"comment_id":51433615,"body_markdown":"What are you trying to do exactly? From the example I saw it looks like you&#39;re testing the framework (you shouldn&#39;t).  You may be interested by this answer http://stackoverflow.com/questions/31692863/what-is-the-best-way-to-test-that-a-spring-application-context-fails-to-start/31722400#31722400","body":"What are you trying to do exactly? From the example I saw it looks like you&#39;re testing the framework (you shouldn&#39;t).  You may be interested by this answer <a href=\"http://stackoverflow.com/questions/31692863/what-is-the-best-way-to-test-that-a-spring-application-context-fails-to-start/31722400#31722400\" title=\"what is the best way to test that a spring application context fails to start\">stackoverflow.com/questions/31692863/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1438352441,"creation_date":1438352441,"answer_id":31748450,"question_id":31745168,"body_markdown":"A couple points:\r\n\r\n1. You don&#39;t need a &quot;TestConfiguration&quot; class in your main package, because all it&#39;s doing is configuring the &quot;TestSettings&quot; bean.  You can do this simply by annotating the TestSettings class itself.\r\n\r\n2. Normally you would load the context you need for the test using the **@SpringApplicationConfiguration** annotation, passing the name of your Application class.  However, you said you don&#39;t want to load the whole ApplicationContext (though it&#39;s not clear why), so you need to create a special configuration class to do the loading only for tests.  Below I call it &quot;TestConfigurationNew&quot; to avoid confusion with the TestConfiguration class that you had originally.\r\n\r\n3. In the Spring Boot world, all properties are generally kept in the &quot;application.properties&quot; file; but it is possible to store them elsewhere.  Below, I have specified the &quot;SettingsTest.properties&quot; file that you proposed. Note that you can have two copies of this file, the one in the main/resources folder, and the one in the test/resources folder for testing.\r\n\r\nChange the code as follows:\r\n\r\nTestSettings.java  (in main package)\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix=&quot;test&quot;, locations = &quot;classpath:SettingsTest.properties&quot;)\r\n    public class TestSettings {\r\n    \r\n        private String property;\r\n\r\n        public String getProperty() {\r\n            return property;\r\n        }\r\n\r\n        public void setProperty(String property) {\r\n            this.property = property;\r\n        }\r\n    }\r\n\r\nSettingsTest.java (in test package)\r\n\r\n    @TestPropertySource(locations=&quot;classpath:SettingsTest.properties&quot;)\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = TestConfigurationNew.class)\r\n    public class SettingsTest {\r\n\r\n        @Autowired\r\n        TestSettings settings;\r\n\r\n        @Test\r\n        public void testConfig(){\r\n            Assert.assertEquals(&quot;TEST_PROPERTY&quot;, settings.getProperty());\r\n        }\r\n    }\r\n\r\nTestConfigurationNew.java (in test package):\r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackages = { &quot;my.package.main&quot; })\r\n    @Configuration\r\n    public class TestConfigurationNew {\r\n    }\r\n\r\n\r\nThis should now work the way you wanted.\r\n\r\n","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<p>A couple points:</p>\n\n<ol>\n<li><p>You don't need a \"TestConfiguration\" class in your main package, because all it's doing is configuring the \"TestSettings\" bean.  You can do this simply by annotating the TestSettings class itself.</p></li>\n<li><p>Normally you would load the context you need for the test using the <strong>@SpringApplicationConfiguration</strong> annotation, passing the name of your Application class.  However, you said you don't want to load the whole ApplicationContext (though it's not clear why), so you need to create a special configuration class to do the loading only for tests.  Below I call it \"TestConfigurationNew\" to avoid confusion with the TestConfiguration class that you had originally.</p></li>\n<li><p>In the Spring Boot world, all properties are generally kept in the \"application.properties\" file; but it is possible to store them elsewhere.  Below, I have specified the \"SettingsTest.properties\" file that you proposed. Note that you can have two copies of this file, the one in the main/resources folder, and the one in the test/resources folder for testing.</p></li>\n</ol>\n\n<p>Change the code as follows:</p>\n\n<p>TestSettings.java  (in main package)</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix=\"test\", locations = \"classpath:SettingsTest.properties\")\npublic class TestSettings {\n\n    private String property;\n\n    public String getProperty() {\n        return property;\n    }\n\n    public void setProperty(String property) {\n        this.property = property;\n    }\n}\n</code></pre>\n\n<p>SettingsTest.java (in test package)</p>\n\n<pre><code>@TestPropertySource(locations=\"classpath:SettingsTest.properties\")\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = TestConfigurationNew.class)\npublic class SettingsTest {\n\n    @Autowired\n    TestSettings settings;\n\n    @Test\n    public void testConfig(){\n        Assert.assertEquals(\"TEST_PROPERTY\", settings.getProperty());\n    }\n}\n</code></pre>\n\n<p>TestConfigurationNew.java (in test package):</p>\n\n<pre><code>@EnableAutoConfiguration\n@ComponentScan(basePackages = { \"my.package.main\" })\n@Configuration\npublic class TestConfigurationNew {\n}\n</code></pre>\n\n<p>This should now work the way you wanted.</p>\n"},{"tags":[],"owner":{"account_id":1453715,"reputation":801,"user_id":5466369,"display_name":"Stepan Kolesnik"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1686238854,"creation_date":1514545997,"answer_id":48021713,"question_id":31745168,"body_markdown":"You need to annotate your `TestConfiguration` class with `@EnableConfigurationProperties` as follows:\r\n\r\n    @EnableConfigurationProperties\r\n    public class TestConfiguration {\r\n\r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;test&quot;)\r\n        public TestSettings settings (){\r\n            return new TestSettings();\r\n        }\r\n    }\r\n\r\nAlso you only need to include `TestConfiguration.class` in `@ContextConfiguration` of your `SettingsTest` class:\r\n\r\n    @TestPropertySource(locations = &quot;/SettingsTest.properties&quot;)\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = TestConfiguration.class)\r\n    public class SettingsTest {\r\n    ...","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<p>You need to annotate your <code>TestConfiguration</code> class with <code>@EnableConfigurationProperties</code> as follows:</p>\n<pre><code>@EnableConfigurationProperties\npublic class TestConfiguration {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;test&quot;)\n    public TestSettings settings (){\n        return new TestSettings();\n    }\n}\n</code></pre>\n<p>Also you only need to include <code>TestConfiguration.class</code> in <code>@ContextConfiguration</code> of your <code>SettingsTest</code> class:</p>\n<pre><code>@TestPropertySource(locations = &quot;/SettingsTest.properties&quot;)\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = TestConfiguration.class)\npublic class SettingsTest {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2061447,"reputation":526,"user_id":1837878,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1537921667,"creation_date":1537921667,"answer_id":52508297,"question_id":31745168,"body_markdown":"you can actually just add @EnableConfigurationProperties to your @SpringBootTest directly.  \r\neg:  \r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = TestConfiguration.class)\r\n    @EnableConfigurationProperties\r\n    ...\r\n\r\n","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<p>you can actually just add @EnableConfigurationProperties to your @SpringBootTest directly.<br>\neg:  </p>\n\n<pre><code>@ActiveProfiles(\"test\")\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = TestConfiguration.class)\n@EnableConfigurationProperties\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568890869,"creation_date":1553074419,"answer_id":55257551,"question_id":31745168,"body_markdown":"If you use Spring Boot, now you only need:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n\r\n\r\nNo extra `@ContextConfiguration`, no extra class only for tests to `EnableAutoConfiguration` and `EnableConfigurationProperties`. You don&#39;t have to specify the configuration class to load, they will all be loaded.\r\n\r\n**But**, ensure the properties entries you want to read in `main/resources/application.yml` is also present in `test/resources/application.yml`. Repetition is unavoidable. \r\n\r\n---\r\nAnother way is:\r\n\r\n1. Define a class of configuration only for tests, along with `MyApplicationTest.java`, at the same level. This class can be empty.\r\n\r\nLike:\r\n\r\n    @EnableAutoConfiguration\r\n    @EnableConfigurationProperties(value = {\r\n            ConnectionPoolConfig.class\r\n    })\r\n    public class MyApplicationTestConfiguration {\r\n    }\r\n\r\n2. And, in the class to load the autowired configuration.\r\n\r\nLike:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    //@SpringBootTest // the first, easy way\r\n    @ContextConfiguration(classes = MyApplicationTestConfiguration.class,\r\n            initializers = ConfigFileApplicationContextInitializer.class)\r\n    public class ConnectionPoolConfigTest {\r\n    \r\n        @Autowired\r\n        private ConnectionPoolConfig config;\r\n\r\n\r\nBasically, you:\r\n\r\n - use a specific configuration to `@EnableConfigurationProperties` and `@EnableAutoConfiguration`, listing all the `@ConfigurationProperties` files you want to load\r\n - in the test class, you load this configuration file of tests, with an initializer class defined by Spring to load `application.yml` file.\r\n\r\nAnd, put the values to load in `test/resources/application.yml`. Repetition is unavoidable. If you need load another file, use `@TestProperties()` with a location. **Note**: `@TestProperties` only supports `.properties` files.\r\n\r\n---\r\n\r\nBoth way works for configuration class loading values \r\n\r\n - either from `application.yml`/`application.properties`\r\n - or from another properties file, specified by `PropertySource`, like `@PropertySource(value = &quot;classpath:threadpool.properties&quot;)`\r\n\r\n---\r\n\r\n## Important \r\n\r\nLast notes from Spring doc, as per [here](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties)\r\n\r\n&gt; Some people use Project Lombok to add getters and setters automatically. Make sure that Lombok does not generate any particular constructor for such a type, as it is used automatically by the container to instantiate the object.\r\n&gt; \r\n&gt; Finally, only standard Java Bean properties are considered and binding on static properties is not supported.\r\n\r\nThat means, if you have `lombok.@Builder` **without `@NoArgsConstructor` nor `@AllArgsConstructor`**, properties injection will not happen because it only sees the invisible constructor created by `@Builder`. So, be sure to use none, or all of these annotations!","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<p>If you use Spring Boot, now you only need:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n</code></pre>\n\n<p>No extra <code>@ContextConfiguration</code>, no extra class only for tests to <code>EnableAutoConfiguration</code> and <code>EnableConfigurationProperties</code>. You don't have to specify the configuration class to load, they will all be loaded.</p>\n\n<p><strong>But</strong>, ensure the properties entries you want to read in <code>main/resources/application.yml</code> is also present in <code>test/resources/application.yml</code>. Repetition is unavoidable. </p>\n\n<hr>\n\n<p>Another way is:</p>\n\n<ol>\n<li>Define a class of configuration only for tests, along with <code>MyApplicationTest.java</code>, at the same level. This class can be empty.</li>\n</ol>\n\n<p>Like:</p>\n\n<pre><code>@EnableAutoConfiguration\n@EnableConfigurationProperties(value = {\n        ConnectionPoolConfig.class\n})\npublic class MyApplicationTestConfiguration {\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>And, in the class to load the autowired configuration.</li>\n</ol>\n\n<p>Like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n//@SpringBootTest // the first, easy way\n@ContextConfiguration(classes = MyApplicationTestConfiguration.class,\n        initializers = ConfigFileApplicationContextInitializer.class)\npublic class ConnectionPoolConfigTest {\n\n    @Autowired\n    private ConnectionPoolConfig config;\n</code></pre>\n\n<p>Basically, you:</p>\n\n<ul>\n<li>use a specific configuration to <code>@EnableConfigurationProperties</code> and <code>@EnableAutoConfiguration</code>, listing all the <code>@ConfigurationProperties</code> files you want to load</li>\n<li>in the test class, you load this configuration file of tests, with an initializer class defined by Spring to load <code>application.yml</code> file.</li>\n</ul>\n\n<p>And, put the values to load in <code>test/resources/application.yml</code>. Repetition is unavoidable. If you need load another file, use <code>@TestProperties()</code> with a location. <strong>Note</strong>: <code>@TestProperties</code> only supports <code>.properties</code> files.</p>\n\n<hr>\n\n<p>Both way works for configuration class loading values </p>\n\n<ul>\n<li>either from <code>application.yml</code>/<code>application.properties</code></li>\n<li>or from another properties file, specified by <code>PropertySource</code>, like <code>@PropertySource(value = \"classpath:threadpool.properties\")</code></li>\n</ul>\n\n<hr>\n\n<h2>Important</h2>\n\n<p>Last notes from Spring doc, as per <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>Some people use Project Lombok to add getters and setters automatically. Make sure that Lombok does not generate any particular constructor for such a type, as it is used automatically by the container to instantiate the object.</p>\n  \n  <p>Finally, only standard Java Bean properties are considered and binding on static properties is not supported.</p>\n</blockquote>\n\n<p>That means, if you have <code>lombok.@Builder</code> <strong>without <code>@NoArgsConstructor</code> nor <code>@AllArgsConstructor</code></strong>, properties injection will not happen because it only sees the invisible constructor created by <code>@Builder</code>. So, be sure to use none, or all of these annotations!</p>\n"},{"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601318113,"creation_date":1601318113,"answer_id":64107774,"question_id":31745168,"body_markdown":"# Unit test\r\n\r\nTo avoid having to load a Spring context, we can use the `Binder` class, which is also [used internally][1] by Spring anyway.\r\n\r\n```java\r\n// A map of my properties.\r\nMap&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\nproperties.put(&quot;my-prefix.first-property&quot;, &quot;foo&quot;);\r\nproperties.put(&quot;my-prefix.second-property&quot;, &quot;bar&quot;);\r\n\r\n// Creates a source backed by my map, you can chose another type of source as needed.\r\nConfigurationPropertySource source = new MapConfigurationPropertySource(properties)\r\n\r\n// Binds my properties to a class that maps them.\r\nBinder binder = new Binder(source);\r\nBindResult&lt;MyConfiguration&gt; result = binder.bind(&quot;my-prefix&quot;, MyConfiguration.class);\r\n\r\n// Should return true if bound successfully.\r\nAssertions.assertTrue(result.isBound);\r\n\r\n// Asserts configuration values.\r\nMyConfiguration config = result.get();\r\nAssertions.assertEquals(&quot;foo&quot;, config.getFirstProperty());\r\nAssertions.assertEquals(&quot;bar&quot;, config.getSecondProperty());\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-loading-yaml","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<h1>Unit test</h1>\n<p>To avoid having to load a Spring context, we can use the <code>Binder</code> class, which is also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-loading-yaml\" rel=\"nofollow noreferrer\">used internally</a> by Spring anyway.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A map of my properties.\nMap&lt;String, String&gt; properties = new HashMap&lt;&gt;();\nproperties.put(&quot;my-prefix.first-property&quot;, &quot;foo&quot;);\nproperties.put(&quot;my-prefix.second-property&quot;, &quot;bar&quot;);\n\n// Creates a source backed by my map, you can chose another type of source as needed.\nConfigurationPropertySource source = new MapConfigurationPropertySource(properties)\n\n// Binds my properties to a class that maps them.\nBinder binder = new Binder(source);\nBindResult&lt;MyConfiguration&gt; result = binder.bind(&quot;my-prefix&quot;, MyConfiguration.class);\n\n// Should return true if bound successfully.\nAssertions.assertTrue(result.isBound);\n\n// Asserts configuration values.\nMyConfiguration config = result.get();\nAssertions.assertEquals(&quot;foo&quot;, config.getFirstProperty());\nAssertions.assertEquals(&quot;bar&quot;, config.getSecondProperty());\n</code></pre>\n"}],"owner":{"account_id":5684267,"reputation":1025,"user_id":4494324,"accept_rate":100,"display_name":"IndianerJones"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98049,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":31748450,"answer_count":5,"score":63,"last_activity_date":1686238854,"creation_date":1438342387,"question_id":31745168,"body_markdown":"I want to test small parts of the application that rely on properties loaded with `@Autowired` and `@ConfigurationProperties`. I am looking for a solution loading only the required properties and not always the whole `ApplicationContext`.\r\nHere as reduced example:\r\n\r\n    @TestPropertySource(locations = &quot;/SettingsTest.properties&quot;)\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {TestSettings.class, TestConfiguration.class})\r\n    public class SettingsTest {\r\n    \t@Autowired\r\n    \tTestConfiguration config;\r\n    \r\n    \t@Test\r\n    \tpublic void testConfig(){\r\n    \t\tAssert.assertEquals(&quot;TEST_PROPERTY&quot;, config.settings().getProperty());\r\n    \t}\r\n    }\r\n\r\nConfiguration Class:\r\n\r\n    public class TestConfiguration {\r\n    \t@Bean\r\n    \t@ConfigurationProperties(prefix = &quot;test&quot;)\r\n    \tpublic TestSettings settings (){\r\n    \t\treturn new TestSettings();\r\n    \t}\r\n    }\r\n\r\nSettings Class:\r\n\r\n    public class TestSettings {\r\n    \tprivate String property;\r\n    \r\n    \tpublic String getProperty() {\r\n    \t\treturn property;\r\n    \t}\r\n    \r\n    \tpublic void setProperty(String property) {\r\n    \t\tthis.property = property;\r\n    \t}\r\n    }\r\n\r\nThe properties file in the resource folder contains the entry:\r\n\r\n    test.property=TEST_PROPERTY\r\n\r\nIn my current setup config is not null, but no fields are available.\r\nThe reason the fields are not field should have something to do with the fact that I am not using Springboot but Spring.\r\nSo what would be the Springboot way to get this running?\r\n\r\n**edit:** \r\nThe reason why I want to do this is: I have a parser that parses Textfiles, the regular expressions used are stored in a properties file. \r\nTo test this I would like to load only the properties needed for this parser which are in the exaple above the *TestSettings*.\r\n\r\nWhile reading the comments I already noticed that this are no Unit tests anymore. However using the full Spring boot configuration for this small test seems a bit too much to me. That&#39;s why I asked if there is a posibilty to load only the one class with properties.\r\n\r\n\r\n","title":"How to test Classes with @ConfigurationProperties and @Autowired","body":"<p>I want to test small parts of the application that rely on properties loaded with <code>@Autowired</code> and <code>@ConfigurationProperties</code>. I am looking for a solution loading only the required properties and not always the whole <code>ApplicationContext</code>.\nHere as reduced example:</p>\n\n<pre><code>@TestPropertySource(locations = \"/SettingsTest.properties\")\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {TestSettings.class, TestConfiguration.class})\npublic class SettingsTest {\n    @Autowired\n    TestConfiguration config;\n\n    @Test\n    public void testConfig(){\n        Assert.assertEquals(\"TEST_PROPERTY\", config.settings().getProperty());\n    }\n}\n</code></pre>\n\n<p>Configuration Class:</p>\n\n<pre><code>public class TestConfiguration {\n    @Bean\n    @ConfigurationProperties(prefix = \"test\")\n    public TestSettings settings (){\n        return new TestSettings();\n    }\n}\n</code></pre>\n\n<p>Settings Class:</p>\n\n<pre><code>public class TestSettings {\n    private String property;\n\n    public String getProperty() {\n        return property;\n    }\n\n    public void setProperty(String property) {\n        this.property = property;\n    }\n}\n</code></pre>\n\n<p>The properties file in the resource folder contains the entry:</p>\n\n<pre><code>test.property=TEST_PROPERTY\n</code></pre>\n\n<p>In my current setup config is not null, but no fields are available.\nThe reason the fields are not field should have something to do with the fact that I am not using Springboot but Spring.\nSo what would be the Springboot way to get this running?</p>\n\n<p><strong>edit:</strong> \nThe reason why I want to do this is: I have a parser that parses Textfiles, the regular expressions used are stored in a properties file. \nTo test this I would like to load only the properties needed for this parser which are in the exaple above the <em>TestSettings</em>.</p>\n\n<p>While reading the comments I already noticed that this are no Unit tests anymore. However using the full Spring boot configuration for this small test seems a bit too much to me. That's why I asked if there is a posibilty to load only the one class with properties.</p>\n"},{"tags":["java","php","telegram","whatsapp","wechat"],"answers":[{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581316418,"creation_date":1581316418,"answer_id":60145168,"question_id":60145019,"body_markdown":"If you already know the **group id** then you can parse/extract group name and image/icon from the Html content of the group link:\r\n\r\nGroup linK:\r\n```\r\nhttps://chat.whatsapp.com/&lt;group_ID&gt;\r\n```\r\nexample: https://chat.whatsapp.com/Dv2u7cKtGu1Lcg0onb57NV\r\n\r\nYou can also go thorough these whatsapp API: https://developers.facebook.com/docs/whatsapp/api/groups#retrieve\r\n\r\n","title":"How to retrive the banner image and title for a whatsapp , telegram and wechat group from its group link?","body":"<p>If you already know the <strong>group id</strong> then you can parse/extract group name and image/icon from the Html content of the group link:</p>\n\n<p>Group linK:</p>\n\n<pre><code>https://chat.whatsapp.com/&lt;group_ID&gt;\n</code></pre>\n\n<p>example: <a href=\"https://chat.whatsapp.com/Dv2u7cKtGu1Lcg0onb57NV\" rel=\"nofollow noreferrer\">https://chat.whatsapp.com/Dv2u7cKtGu1Lcg0onb57NV</a></p>\n\n<p>You can also go thorough these whatsapp API: <a href=\"https://developers.facebook.com/docs/whatsapp/api/groups#retrieve\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/whatsapp/api/groups#retrieve</a></p>\n"}],"owner":{"account_id":12428547,"reputation":1102,"user_id":9052139,"display_name":"RagAnt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686238481,"creation_date":1581315661,"question_id":60145019,"body_markdown":"I am developing a whatsapp + telegram +wechat group listing app \r\n\r\nIn existing online group listing web sites , like http://groupsor.net , http://wpgroups.net .....\r\n\r\nWhen I enter whatsapp group link in add new group form ,they automatically showing the group banner image and title \r\n\r\n[![banner auto retrived][1]][1]\r\n\r\n\r\nI want to implement this in my app\r\n\r\nIs there any API for this ?\r\n\r\nPlease suggest me a solution for all chat apps ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P6g8B.png","title":"How to retrive the banner image and title for a whatsapp , telegram and wechat group from its group link?","body":"<p>I am developing a whatsapp + telegram +wechat group listing app </p>\n\n<p>In existing online group listing web sites , like <a href=\"http://groupsor.net\" rel=\"nofollow noreferrer\">http://groupsor.net</a> , <a href=\"http://wpgroups.net\" rel=\"nofollow noreferrer\">http://wpgroups.net</a> .....</p>\n\n<p>When I enter whatsapp group link in add new group form ,they automatically showing the group banner image and title </p>\n\n<p><a href=\"https://i.stack.imgur.com/P6g8B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P6g8B.png\" alt=\"banner auto retrived\"></a></p>\n\n<p>I want to implement this in my app</p>\n\n<p>Is there any API for this ?</p>\n\n<p>Please suggest me a solution for all chat apps ?</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1358516138,"post_id":14400030,"comment_id":20035087,"body_markdown":"Have you actually tried with Guava?","body":"Have you actually tried with Guava?"},{"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"score":0,"creation_date":1358516488,"post_id":14400030,"comment_id":20035246,"body_markdown":"@nhahtdh No I didn&#39;t tried the Guava one. But I states to Implement the Unix mv, and the mv won&#39;t overwrite without prompt. http://unixhelp.ed.ac.uk/CGI/man-cgi?mv","body":"@nhahtdh No I didn&#39;t tried the Guava one. But I states to Implement the Unix mv, and the mv won&#39;t overwrite without prompt. <a href=\"http://unixhelp.ed.ac.uk/CGI/man-cgi?mv\" rel=\"nofollow noreferrer\">unixhelp.ed.ac.uk/CGI/man-cgi?mv</a>"}],"answers":[{"tags":[],"owner":{"account_id":2141983,"reputation":4309,"user_id":1900417,"accept_rate":75,"display_name":"Donato Szilagyi"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1359535625,"creation_date":1358516150,"answer_id":14400084,"question_id":14400030,"body_markdown":"I use the following method:\r\n\r\n    public static void rename(String oldFileName, String newFileName) {\r\n    \tnew File(newFileName).delete();\r\n    \tFile oldFile = new File(oldFileName);\r\n    \toldFile.renameTo(new File(newFileName));\r\n    }\r\n\r\n","title":"Is there an operation to move and overwrite files?","body":"<p>I use the following method:</p>\n\n<pre><code>public static void rename(String oldFileName, String newFileName) {\n    new File(newFileName).delete();\n    File oldFile = new File(oldFileName);\n    oldFile.renameTo(new File(newFileName));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2255327,"reputation":784,"user_id":1986632,"display_name":"maksim_khokhlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358516428,"creation_date":1358516428,"answer_id":14400166,"question_id":14400030,"body_markdown":"In case you will proceed writing your own utility, you may want to take a look at [implementation][1] of the `copy` task in Ant since it supports overwriting.\r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/ant/core/tags/ANT_170/src/main/org/apache/tools/ant/taskdefs/Copy.java","title":"Is there an operation to move and overwrite files?","body":"<p>In case you will proceed writing your own utility, you may want to take a look at <a href=\"http://svn.apache.org/repos/asf/ant/core/tags/ANT_170/src/main/org/apache/tools/ant/taskdefs/Copy.java\" rel=\"nofollow\">implementation</a> of the <code>copy</code> task in Ant since it supports overwriting.</p>\n"},{"tags":[],"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1358518453,"creation_date":1358518453,"answer_id":14400730,"question_id":14400030,"body_markdown":"I am finished with writing my own Method, for everybody interested in a possible solution, I used the ApacheCommons FileUtils, also this is probably not perfect, but works well enough for me: \r\n\r\n    /**\r\n     * Will move the source File to the destination File.\r\n     * The Method will backup the dest File, copy source to\r\n     * dest, and then will delete the source and the backup.\r\n     * \r\n     * @param source\r\n     *            File to be moved\r\n     * @param dest\r\n     *            File to be overwritten (does not matter if\r\n     *            non existent)\r\n     * @throws IOException\r\n     */\r\n    public static void moveAndOverwrite(File source, File dest) throws IOException {\r\n    \t// Backup the src\r\n    \tFile backup = CSVUtils.getNonExistingTempFile(dest);\r\n    \tFileUtils.copyFile(dest, backup);\r\n    \tFileUtils.copyFile(source, dest);\r\n    \tif (!source.delete()) {\r\n    \t\tthrow new IOException(&quot;Failed to delete &quot; + source.getName());\r\n    \t}\r\n    \tif (!backup.delete()) {\r\n    \t\tthrow new IOException(&quot;Failed to delete &quot; + backup.getName());\r\n    \t}\r\n    }\r\n    \r\n    /**\r\n     * Recursive Method to generate a FileName in the same\r\n     * Folder as the {@code inputFile}, that is not existing\r\n     * and ends with {@code _temp}.\r\n     * \r\n     * @param inputFile\r\n     *            The FileBase to generate a Tempfile\r\n     * @return A non existing File\r\n     */\r\n    public static File getNonExistingTempFile(File inputFile) {\r\n    \tFile tempFile = new File(inputFile.getParentFile(), inputFile.getName() + &quot;_temp&quot;);\r\n    \tif (tempFile.exists()) {\r\n    \t\treturn CSVUtils.getNonExistingTempFile(tempFile);\r\n    \t} else {\r\n    \t\treturn tempFile;\r\n    \t}\r\n    }","title":"Is there an operation to move and overwrite files?","body":"<p>I am finished with writing my own Method, for everybody interested in a possible solution, I used the ApacheCommons FileUtils, also this is probably not perfect, but works well enough for me: </p>\n\n<pre><code>/**\n * Will move the source File to the destination File.\n * The Method will backup the dest File, copy source to\n * dest, and then will delete the source and the backup.\n * \n * @param source\n *            File to be moved\n * @param dest\n *            File to be overwritten (does not matter if\n *            non existent)\n * @throws IOException\n */\npublic static void moveAndOverwrite(File source, File dest) throws IOException {\n    // Backup the src\n    File backup = CSVUtils.getNonExistingTempFile(dest);\n    FileUtils.copyFile(dest, backup);\n    FileUtils.copyFile(source, dest);\n    if (!source.delete()) {\n        throw new IOException(\"Failed to delete \" + source.getName());\n    }\n    if (!backup.delete()) {\n        throw new IOException(\"Failed to delete \" + backup.getName());\n    }\n}\n\n/**\n * Recursive Method to generate a FileName in the same\n * Folder as the {@code inputFile}, that is not existing\n * and ends with {@code _temp}.\n * \n * @param inputFile\n *            The FileBase to generate a Tempfile\n * @return A non existing File\n */\npublic static File getNonExistingTempFile(File inputFile) {\n    File tempFile = new File(inputFile.getParentFile(), inputFile.getName() + \"_temp\");\n    if (tempFile.exists()) {\n        return CSVUtils.getNonExistingTempFile(tempFile);\n    } else {\n        return tempFile;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319361,"reputation":448,"user_id":637096,"display_name":"Tommy Ng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407479344,"creation_date":1407479344,"answer_id":25197237,"question_id":14400030,"body_markdown":"Using Apache Commons FileUtils : \r\n\r\n      try {\t\t\t\r\n\t\t\tFileUtils.moveFile(source, dest);\r\n\t\t\tprint(&quot;------------------------------&quot;);\r\n\t\t\tprint(name\r\n\t\t\t\t\t+ &quot; moved to &quot;\r\n\t\t\t\t\t+ PropertiesUtil\r\n\t\t\t\t\t\t\t.getProperty(PropertiesUtil.COMPLETED_PATH));\r\n\t\t\r\n\t\t} catch (FileExistsException fe){\r\n\t\t\t\r\n\t\t\tif(dest.delete()){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFileUtils.moveFile(source, dest);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tlogger.error(e);\r\n\t\t\t\t}\r\n\t\t\t\tprint(&quot;------------------------------&quot;);\r\n\t\t\t\tprint(name\r\n\t\t\t\t\t\t+ &quot; moved to &quot;\r\n\t\t\t\t\t\t+ PropertiesUtil\r\n\t\t\t\t\t\t\t\t.getProperty(PropertiesUtil.COMPLETED_PATH));\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\tlogger.error(e);\r\n\t\t}","title":"Is there an operation to move and overwrite files?","body":"<p>Using Apache Commons FileUtils : </p>\n\n<pre><code>  try {         \n        FileUtils.moveFile(source, dest);\n        print(\"------------------------------\");\n        print(name\n                + \" moved to \"\n                + PropertiesUtil\n                        .getProperty(PropertiesUtil.COMPLETED_PATH));\n\n    } catch (FileExistsException fe){\n\n        if(dest.delete()){\n            try {\n                FileUtils.moveFile(source, dest);\n            } catch (IOException e) {\n                logger.error(e);\n            }\n            print(\"------------------------------\");\n            print(name\n                    + \" moved to \"\n                    + PropertiesUtil\n                            .getProperty(PropertiesUtil.COMPLETED_PATH));\n        }\n    } catch (Exception e) {\n\n        logger.error(e);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129048,"reputation":1142,"user_id":327335,"display_name":"gersonZaragocin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623900901,"creation_date":1422487800,"answer_id":28204406,"question_id":14400030,"body_markdown":"A **pure Java nio solution** move with overriding method could be implemented with a pre-delete target as shown\r\n\r\n    public void move(File sourceFile, String targetFileName) {\r\n        Path sourcePath = sourceFile.toPath();\r\n        Path targetPath = Paths.get(targetFileName);\r\n        File file = targetFile.toFile();\r\n        if(file.isFile()){\r\n            Files.delete(targetPath);\r\n        }\r\n        Files.move(sourcePath, targetPath);\r\n    }\r\n","title":"Is there an operation to move and overwrite files?","body":"<p>A <strong>pure Java nio solution</strong> move with overriding method could be implemented with a pre-delete target as shown</p>\n<pre><code>public void move(File sourceFile, String targetFileName) {\n    Path sourcePath = sourceFile.toPath();\n    Path targetPath = Paths.get(targetFileName);\n    File file = targetFile.toFile();\n    if(file.isFile()){\n        Files.delete(targetPath);\n    }\n    Files.move(sourcePath, targetPath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2533709,"reputation":1497,"user_id":2201382,"accept_rate":93,"display_name":"Abu Sulaiman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1431526197,"creation_date":1431525815,"answer_id":30217240,"question_id":14400030,"body_markdown":"Apache FileUtils JavaDoc for FileUtils.copyFileToDirectory says, &quot;If the destination file exists, then this method will overwrite it.&quot; After the copy, you could verify before deleting.     \r\n\r\n    public boolean moveFile(File origfile, File destfile)\r\n    {\r\n        boolean fileMoved = false;\r\n        try{\r\n        FileUtils.copyFileToDirectory(origfile,new File(destfile.getParent()),true);\r\n        File newfile = new File(destfile.getParent() + File.separator + origfile.getName());\r\n        if(newfile.exists() &amp;&amp; FileUtils.contentEqualsIgnoreCaseEOL(origfile,newfile,&quot;UTF-8&quot;))\r\n        {\r\n            origfile.delete();\r\n            fileMoved = true;\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;File fail to move successfully!&quot;);\r\n        }\r\n        }catch(Exception e){System.out.println(e);}\r\n        return fileMoved;\r\n    }\r\n","title":"Is there an operation to move and overwrite files?","body":"<p>Apache FileUtils JavaDoc for FileUtils.copyFileToDirectory says, \"If the destination file exists, then this method will overwrite it.\" After the copy, you could verify before deleting.     </p>\n\n<pre><code>public boolean moveFile(File origfile, File destfile)\n{\n    boolean fileMoved = false;\n    try{\n    FileUtils.copyFileToDirectory(origfile,new File(destfile.getParent()),true);\n    File newfile = new File(destfile.getParent() + File.separator + origfile.getName());\n    if(newfile.exists() &amp;&amp; FileUtils.contentEqualsIgnoreCaseEOL(origfile,newfile,\"UTF-8\"))\n    {\n        origfile.delete();\n        fileMoved = true;\n    }\n    else\n    {\n        System.out.println(\"File fail to move successfully!\");\n    }\n    }catch(Exception e){System.out.println(e);}\n    return fileMoved;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7723297,"reputation":1774,"user_id":5848801,"accept_rate":75,"display_name":"Simon Ludwig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456481085,"creation_date":1456481085,"answer_id":35648710,"question_id":14400030,"body_markdown":"You could also use Tools Like https://xadisk.java.net/ to enable transactional access to existing file systems.\r\n\r\nThere is also an alternative from apache: \r\n\r\nhttps://commons.apache.org/proper/commons-transaction/apidocs/org/apache/commons/transaction/file/FileResourceManager.html","title":"Is there an operation to move and overwrite files?","body":"<p>You could also use Tools Like <a href=\"https://xadisk.java.net/\" rel=\"nofollow\">https://xadisk.java.net/</a> to enable transactional access to existing file systems.</p>\n\n<p>There is also an alternative from apache: </p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-transaction/apidocs/org/apache/commons/transaction/file/FileResourceManager.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-transaction/apidocs/org/apache/commons/transaction/file/FileResourceManager.html</a></p>\n"},{"tags":[],"owner":{"account_id":4295269,"reputation":31,"user_id":3510499,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488254497,"creation_date":1488254497,"answer_id":42499985,"question_id":14400030,"body_markdown":"shortest solution which worked for me :\r\n\r\n    File destFile = new File(destDir, file.getName());\r\n    if(destFile.exists()) {\r\n        destFile.delete();\r\n    }\r\n    FileUtils.moveFileToDirectory(file, destDir, true);\r\n ","title":"Is there an operation to move and overwrite files?","body":"<p>shortest solution which worked for me :</p>\n\n<pre><code>File destFile = new File(destDir, file.getName());\nif(destFile.exists()) {\n    destFile.delete();\n}\nFileUtils.moveFileToDirectory(file, destDir, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498838036,"creation_date":1498838036,"answer_id":44850517,"question_id":14400030,"body_markdown":"[Guava][1] [Files.write][2]:\r\n\r\n&gt; Overwrites a file with the contents of a byte array\r\n\r\n    Files.write(bytes, new File(path));\r\n\r\n[Files.copy][3]:\r\n\r\n&gt; Warning: If to represents an existing file, that file will be\r\n&gt; overwritten with the contents of from. If to and from refer to the\r\n&gt; same file, the contents of that file will be deleted.\r\n\r\n[Files.move][4] uses `copy` [under the hood][5]. So its safe to assume it overwrites too.\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/io/Files.html#write-byte:A-java.io.File-\r\n  [3]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/io/Files.html#copy-java.io.File-java.io.File-\r\n  [4]: https://google.github.io/guava/releases/22.0/api/docs/src-html/com/google/common/io/Files.html#line.489\r\n  [5]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Files.java#L489","title":"Is there an operation to move and overwrite files?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/io/Files.html#write-byte:A-java.io.File-\" rel=\"nofollow noreferrer\">Files.write</a>:</p>\n\n<blockquote>\n  <p>Overwrites a file with the contents of a byte array</p>\n</blockquote>\n\n<pre><code>Files.write(bytes, new File(path));\n</code></pre>\n\n<p><a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/io/Files.html#copy-java.io.File-java.io.File-\" rel=\"nofollow noreferrer\">Files.copy</a>:</p>\n\n<blockquote>\n  <p>Warning: If to represents an existing file, that file will be\n  overwritten with the contents of from. If to and from refer to the\n  same file, the contents of that file will be deleted.</p>\n</blockquote>\n\n<p><a href=\"https://google.github.io/guava/releases/22.0/api/docs/src-html/com/google/common/io/Files.html#line.489\" rel=\"nofollow noreferrer\">Files.move</a> uses <code>copy</code> <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Files.java#L489\" rel=\"nofollow noreferrer\">under the hood</a>. So its safe to assume it overwrites too.</p>\n"},{"tags":[],"owner":{"account_id":5938469,"reputation":889,"user_id":4670625,"accept_rate":67,"display_name":"David Marciel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686238411,"creation_date":1686238411,"answer_id":76433505,"question_id":14400030,"body_markdown":"    Files.deleteIfExists(destinationPath);\r\n    Files.move(fileToMove, destinationPath);","title":"Is there an operation to move and overwrite files?","body":"<pre><code>Files.deleteIfExists(destinationPath);\nFiles.move(fileToMove, destinationPath);\n</code></pre>\n"}],"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49411,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":14400730,"answer_count":10,"score":14,"last_activity_date":1686238411,"creation_date":1358515955,"question_id":14400030,"body_markdown":"I am looking for an operation to move and overwrite a File. I know that there is a new Method in [Java7][1], but I was hoping to get around Java7. Also I know about the Methods in [FileUtils][2] and [Guava][3], but the FileUtils won&#39;t overwrite and the Guava one does not document it.\r\n\r\nAlso I am aware, I could write my own Method, well I started, but saw some Problems here and there, so I was hoping for something already done.\r\n\r\nDo you have any suggestions?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\r\n  [2]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#moveFile%28java.io.File,%20java.io.File%29\r\n  [3]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#move%28java.io.File,%20java.io.File%29","title":"Is there an operation to move and overwrite files?","body":"<p>I am looking for an operation to move and overwrite a File. I know that there is a new Method in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\">Java7</a>, but I was hoping to get around Java7. Also I know about the Methods in <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#moveFile%28java.io.File,%20java.io.File%29\">FileUtils</a> and <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#move%28java.io.File,%20java.io.File%29\">Guava</a>, but the FileUtils won't overwrite and the Guava one does not document it.</p>\n\n<p>Also I am aware, I could write my own Method, well I started, but saw some Problems here and there, so I was hoping for something already done.</p>\n\n<p>Do you have any suggestions?</p>\n"},{"tags":["java","swing","jtable","jscrollpane","jlayeredpane"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1310471380,"post_id":6663591,"comment_id":7878270,"body_markdown":"Why do you want such complicated nesting?","body":"Why do you want such complicated nesting?"},{"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"score":0,"creation_date":1310471559,"post_id":6663591,"comment_id":7878323,"body_markdown":"I want cells in the JTable to be able to expand to show more information, and for those expansions to stay with the JTable as it scrolls. In the related questions, someone else wanted to be able to lock animations on top of the JTable. When googling other people wanted to use this technique to freeze columns, but that seemed a bit hacky to me, there might be a better way of doing that","body":"I want cells in the JTable to be able to expand to show more information, and for those expansions to stay with the JTable as it scrolls. In the related questions, someone else wanted to be able to lock animations on top of the JTable. When googling other people wanted to use this technique to freeze columns, but that seemed a bit hacky to me, there might be a better way of doing that"},{"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"score":0,"creation_date":1686149376,"post_id":6663591,"comment_id":134760083,"body_markdown":"Just throwing in another use case for the topic: a table represents a week calendar, whereas events on the calendar are displayed through the JLayeredPane.","body":"Just throwing in another use case for the topic: a table represents a week calendar, whereas events on the calendar are displayed through the JLayeredPane."}],"answers":[{"tags":[],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686238202,"creation_date":1310471369,"answer_id":6663706,"question_id":6663591,"body_markdown":"Similar but not identical questions which help:\r\nhttps://stackoverflow.com/questions/1456143/java-is-it-possible-to-put-a-jlayeredpane-inside-jscrollpane and https://stackoverflow.com/questions/575782/how-to-display-animation-in-a-jtable-cell and https://stackoverflow.com/questions/4901460/swing-gui-design-with-jscrollpane-and-jlayeredpane.\r\n\r\nTo do this properly there are three separate issues to consider: Sizing, Headers and UI changes.\r\n\r\n&lt;h2&gt; Sizing &lt;/h2&gt;\r\n\r\nTo scroll and paint properly the `JScrollPane` needs to know the size and preferred size of the component inside it, in this case the `JLayeredPane`. But you want the size to be set by the table, as other `Component`s will be floating on top of the table. In this case the easiest way is to make the JLayeredPane delegate size related properties to the `JTable` as follows.\r\n\r\n    final JTable table = new JTable();\r\n    JLayeredPane layers = new JLayeredPane() {\r\n      @Override\r\n      public Dimension getPreferredSize() {\r\n        return table.getPreferredSize();\r\n      }\r\n\r\n      @Override\r\n      public void setSize(int width, int height) {\r\n        super.setSize(width, height);\r\n        table.setSize(width, height);\r\n      }\r\n\r\n      @Override\r\n      public void setSize(Dimension d) {\r\n        super.setSize(d);\r\n        table.setSize(d);\r\n      }\r\n    };\r\n    // NB you must use new Integer() - the int version is a different method\r\n    layers.add(label, new Integer(JLayeredPane.PALETTE_LAYER), 0);\r\n    JScrollPane scrolling = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\r\n                                            JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n    scrolling.setViewportView(layers);\r\n\r\nIf you didn&#39;t want the `JTable` to be the thing which determines the size of the `JLayeredPane` then it needs to be determined in some other way, and so does the table&#39;s size. Both will need `setPreferredSize()` and `setSize()` called on them explicitly.\r\n\r\n&lt;h2&gt; Headers &lt;/h2&gt;\r\n\r\nAs the JTable is no longer the viewport, you&#39;ll need to link the headers yourself. The following code will work:\r\n\r\n    scrolling.setColumnHeaderView(table.getTableHeader());\r\n    scrolling.setRowHeaderView(rowHeader);\r\n\r\n&lt;h2&gt;UI&lt;/h2&gt;\r\nAlso note that JTable does some nasty code in `configureEnclosingScrollPane()` and `configureEnclosingScrollPaneUI()`. If you want to get UI style changes to work properly, then you&#39;ll have to override these methods, but I haven&#39;t worked out how to do this yet.\r\n\r\n&lt;h2&gt;Code Sample&lt;/h2&gt;\r\n\r\nThe complete code sample is available [over on GitHub][1].\r\n\r\n\r\n  [1]: https://gist.github.com/denisab85/aa08db0132cd21179c0f12f6d5ec5e2d","title":"JTable inside JLayeredPane inside JScrollPane - how do you get it to work?","body":"<p>Similar but not identical questions which help:\n<a href=\"https://stackoverflow.com/questions/1456143/java-is-it-possible-to-put-a-jlayeredpane-inside-jscrollpane\">Java - Is it possible to put a JLayeredPane inside JScrollPane?</a> and <a href=\"https://stackoverflow.com/questions/575782/how-to-display-animation-in-a-jtable-cell\">How to display animation in a JTable cell</a> and <a href=\"https://stackoverflow.com/questions/4901460/swing-gui-design-with-jscrollpane-and-jlayeredpane\">Swing GUI design with JScrollPane and JLayeredPane</a>.</p>\n<p>To do this properly there are three separate issues to consider: Sizing, Headers and UI changes.</p>\n<h2> Sizing </h2>\n<p>To scroll and paint properly the <code>JScrollPane</code> needs to know the size and preferred size of the component inside it, in this case the <code>JLayeredPane</code>. But you want the size to be set by the table, as other <code>Component</code>s will be floating on top of the table. In this case the easiest way is to make the JLayeredPane delegate size related properties to the <code>JTable</code> as follows.</p>\n<pre><code>final JTable table = new JTable();\nJLayeredPane layers = new JLayeredPane() {\n  @Override\n  public Dimension getPreferredSize() {\n    return table.getPreferredSize();\n  }\n\n  @Override\n  public void setSize(int width, int height) {\n    super.setSize(width, height);\n    table.setSize(width, height);\n  }\n\n  @Override\n  public void setSize(Dimension d) {\n    super.setSize(d);\n    table.setSize(d);\n  }\n};\n// NB you must use new Integer() - the int version is a different method\nlayers.add(label, new Integer(JLayeredPane.PALETTE_LAYER), 0);\nJScrollPane scrolling = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\n                                        JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\nscrolling.setViewportView(layers);\n</code></pre>\n<p>If you didn't want the <code>JTable</code> to be the thing which determines the size of the <code>JLayeredPane</code> then it needs to be determined in some other way, and so does the table's size. Both will need <code>setPreferredSize()</code> and <code>setSize()</code> called on them explicitly.</p>\n<h2> Headers </h2>\n<p>As the JTable is no longer the viewport, you'll need to link the headers yourself. The following code will work:</p>\n<pre><code>scrolling.setColumnHeaderView(table.getTableHeader());\nscrolling.setRowHeaderView(rowHeader);\n</code></pre>\n<h2>UI</h2>\nAlso note that JTable does some nasty code in `configureEnclosingScrollPane()` and `configureEnclosingScrollPaneUI()`. If you want to get UI style changes to work properly, then you'll have to override these methods, but I haven't worked out how to do this yet.\n<h2>Code Sample</h2>\n<p>The complete code sample is available <a href=\"https://gist.github.com/denisab85/aa08db0132cd21179c0f12f6d5ec5e2d\" rel=\"nofollow noreferrer\">over on GitHub</a>.</p>\n"}],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1686238202,"creation_date":1310470728,"question_id":6663591,"body_markdown":"I want to put objects coming out of a JTable, layered on top of it, so using a JLayeredPane seems natural. However, getting this to paint properly, do the headers properly etc is very hard. How do I do this so that:\r\n\r\n  - The Row headers appear and match up when it scrolls\r\n  - The column headers appear and match up when it scrolls\r\n  - The table paints properly\r\n  - resizing doesn&#39;t mess everything up\r\n\r\nNote that because `JDesktopPane` extends `JLayeredPane`, the answers to this question also allow you to have a `JTable` (or any other component) behind a `JDesktopPane`.","title":"JTable inside JLayeredPane inside JScrollPane - how do you get it to work?","body":"<p>I want to put objects coming out of a JTable, layered on top of it, so using a JLayeredPane seems natural. However, getting this to paint properly, do the headers properly etc is very hard. How do I do this so that:</p>\n\n<ul>\n<li>The Row headers appear and match up when it scrolls</li>\n<li>The column headers appear and match up when it scrolls</li>\n<li>The table paints properly</li>\n<li>resizing doesn't mess everything up</li>\n</ul>\n\n<p>Note that because <code>JDesktopPane</code> extends <code>JLayeredPane</code>, the answers to this question also allow you to have a <code>JTable</code> (or any other component) behind a <code>JDesktopPane</code>.</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1422476578,"creation_date":1422476578,"answer_id":28201691,"question_id":28201656,"body_markdown":"Just maintain a variable and multiply it on each iteration?\r\n\r\n    int x = 1;\r\n    for (int i = 0; i &lt; 5; i++)\r\n    {\r\n        x *= 10;\r\n        // do something with x\r\n    }\r\n\r\n However, I&#39;d recommend using `Math.pow` if you don&#39;t need the intermediate values. It&#39;ll be just as fast as that if not faster for some cases.","title":"Java code increment values by 1, 10, 100, 1000, etc","body":"<p>Just maintain a variable and multiply it on each iteration?</p>\n\n<pre><code>int x = 1;\nfor (int i = 0; i &lt; 5; i++)\n{\n    x *= 10;\n    // do something with x\n}\n</code></pre>\n\n<p>However, I'd recommend using <code>Math.pow</code> if you don't need the intermediate values. It'll be just as fast as that if not faster for some cases.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422477022,"creation_date":1422477022,"answer_id":28201816,"question_id":28201656,"body_markdown":"You can do plain iteration.\r\n\r\n    for (int i = 1 ; i &lt;= 100000; i *= 10) {\r\n","title":"Java code increment values by 1, 10, 100, 1000, etc","body":"<p>You can do plain iteration.</p>\n\n<pre><code>for (int i = 1 ; i &lt;= 100000; i *= 10) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28777559,"reputation":1,"user_id":22039825,"display_name":"Manish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686238142,"creation_date":1686222593,"answer_id":76431220,"question_id":28201656,"body_markdown":"```\r\npublic class PrgmSrs20 {\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 1; i &lt;= 100000; i=i*10) {\r\n\t\t\tSystem.out.print(i+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Java code increment values by 1, 10, 100, 1000, etc","body":"<pre><code>public class PrgmSrs20 {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt;= 100000; i=i*10) {\n            System.out.print(i+&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":392397,"reputation":28066,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5385,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":28201691,"answer_count":3,"score":-1,"last_activity_date":1686238142,"creation_date":1422476485,"question_id":28201656,"body_markdown":"I&#39;m trying to figure out the most efficient way of incrementing a value of a variable by the power of 10 in a loop. For example:\r\n\r\n    int x = 0;\r\n    \r\n    for (int i = 0; i &lt; 5; i++)\r\n    {\r\n      // 1st time x = 1, 2nd time x = 10, 3rd time x = 100, 4th time x = 1000\r\n    } \r\n\r\nI want to avoid using the pow function because that appears to have higher performance than some simpler multiplication method.","title":"Java code increment values by 1, 10, 100, 1000, etc","body":"<p>I'm trying to figure out the most efficient way of incrementing a value of a variable by the power of 10 in a loop. For example:</p>\n\n<pre><code>int x = 0;\n\nfor (int i = 0; i &lt; 5; i++)\n{\n  // 1st time x = 1, 2nd time x = 10, 3rd time x = 100, 4th time x = 1000\n} \n</code></pre>\n\n<p>I want to avoid using the pow function because that appears to have higher performance than some simpler multiplication method.</p>\n"},{"tags":["java","spring","spring-mvc","java-11","java-17"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686239805,"post_id":76433459,"comment_id":134775015,"body_markdown":"The problem is that Spring uses cglib to rewrite Java bytecode on-the-fly at runtime and, as you said, the internal APIs it uses are protected in more recent versions of the JVM. This is much more than just running &quot;earlier versions of Java code.&quot; I&#39;m pretty sure that newer versions of Spring use newer versions of either cglib or other bytecode-rewriting libraries that do work on newer JVMs. Is there some reason you are stuck on a version of Spring from 2015?","body":"The problem is that Spring uses cglib to rewrite Java bytecode on-the-fly at runtime and, as you said, the internal APIs it uses are protected in more recent versions of the JVM. This is much more than just running &quot;earlier versions of Java code.&quot; I&#39;m pretty sure that newer versions of Spring use newer versions of either cglib or other bytecode-rewriting libraries that do work on newer JVMs. Is there some reason you are stuck on a version of Spring from 2015?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686239837,"post_id":76433459,"comment_id":134775022,"body_markdown":"[This question and answer](https://stackoverflow.com/a/67006749/636009) have some additional details that might help to clarify matters.","body":"<a href=\"https://stackoverflow.com/a/67006749/636009\">This question and answer</a> have some additional details that might help to clarify matters."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686240308,"post_id":76433459,"comment_id":134775109,"body_markdown":"It is not an issue with the target of your project. The spring version you use is not compatible with Java 17.","body":"It is not an issue with the target of your project. The spring version you use is not compatible with Java 17."},{"owner":{"account_id":1714518,"reputation":1611,"user_id":1571903,"accept_rate":72,"display_name":"Ryan Griffith"},"score":0,"creation_date":1686240655,"post_id":76433459,"comment_id":134775187,"body_markdown":"@DavidConrad, upgrading a major Spring version is out of the question. This project is being decommissioned but we&#39;re doing one last upgrade for security reasons.","body":"@DavidConrad, upgrading a major Spring version is out of the question. This project is being decommissioned but we&#39;re doing one last upgrade for security reasons."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686240871,"post_id":76433459,"comment_id":134775234,"body_markdown":"Unfortunately, then, your question becomes, &quot;How can I run this version of Spring, which is not compatible with Java 17, on Java 17?&quot;","body":"Unfortunately, then, your question becomes, &quot;How can I run this version of Spring, which is not compatible with Java 17, on Java 17?&quot;"},{"owner":{"account_id":1714518,"reputation":1611,"user_id":1571903,"accept_rate":72,"display_name":"Ryan Griffith"},"score":0,"creation_date":1686240971,"post_id":76433459,"comment_id":134775250,"body_markdown":"@DavidConrad, I understand the reason why `cglib` is not working if I were compiling against Java 17. I&#39;m trying to understand the rules about how a newer JDK imposes conditions on earlier versions of Java whether those are conditions **during compilation** against earlier versions or conditions against **running** earlier versions. The confusion comes from my understanding that &quot;Newer versions of Java should be able to run earlier versions of Java&quot;.","body":"@DavidConrad, I understand the reason why <code>cglib</code> is not working if I were compiling against Java 17. I&#39;m trying to understand the rules about how a newer JDK imposes conditions on earlier versions of Java whether those are conditions <b>during compilation</b> against earlier versions or conditions against <b>running</b> earlier versions. The confusion comes from my understanding that &quot;Newer versions of Java should be able to run earlier versions of Java&quot;."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686240975,"post_id":76433459,"comment_id":134775251,"body_markdown":"The [Wildfly 26 release notes](https://www.wildfly.org/news/2021/12/16/WildFly26-Final-Released/) state that it has been tested on Java 11.","body":"The <a href=\"https://www.wildfly.org/news/2021/12/16/WildFly26-Final-Released/\" rel=\"nofollow noreferrer\">Wildfly 26 release notes</a> state that it has been tested on Java 11."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686243081,"post_id":76433459,"comment_id":134775677,"body_markdown":"I understand &quot;to run earlier versions of Java&quot; as being backwards compatible in execution of Java bytecode compiled with a previous version. That works for sure. However if said code has assumptions on features or standard libraries that have changed over the releases then it may hit issues at execution time. This is exactly what is happening. You are lucky if the issues will happen at compile time. Much easier to detect. This is an execution time issue though.","body":"I understand &quot;to run earlier versions of Java&quot; as being backwards compatible in execution of Java bytecode compiled with a previous version. That works for sure. However if said code has assumptions on features or standard libraries that have changed over the releases then it may hit issues at execution time. This is exactly what is happening. You are lucky if the issues will happen at compile time. Much easier to detect. This is an execution time issue though."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686243242,"post_id":76433459,"comment_id":134775705,"body_markdown":"As an example you can use JDK 17, target JDK 11 and use a class or method only available since JDK 12+. It will compile just fine, and it will execute, but it will throw a class not found/method not found exception when trying to use that missing class/method. That&#39;s because the library it was built to was the newer JDK one. The target is only the bytecode compatibility.","body":"As an example you can use JDK 17, target JDK 11 and use a class or method only available since JDK 12+. It will compile just fine, and it will execute, but it will throw a class not found/method not found exception when trying to use that missing class/method. That&#39;s because the library it was built to was the newer JDK one. The target is only the bytecode compatibility."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1686250319,"post_id":76433459,"comment_id":134777045,"body_markdown":"The backwards compatibility only goes for Java, the specification. Internal APIs are not part of the specification, so they are not included in the backwards compatibility guarantee. Essentially, if a library uses internal APIs, it is tied to a particular JDK build.","body":"The backwards compatibility only goes for Java, the specification. Internal APIs are not part of the specification, so they are not included in the backwards compatibility guarantee. Essentially, if a library uses internal APIs, it is tied to a particular JDK build."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1686250396,"post_id":76433459,"comment_id":134777053,"body_markdown":"@aled &quot;As an example you can use JDK 17, target JDK 11 and use a class or method only available since JDK 12+. It will compile just fine&quot; this depends on whether you&#39;re properly setting the boot class path. The `--release` flag was added to prevent mistakes in that area. So, if you compile using JDK 17 and `--release 11`, then you won&#39;t be able to access Java 12+ APIs.","body":"@aled &quot;As an example you can use JDK 17, target JDK 11 and use a class or method only available since JDK 12+. It will compile just fine&quot; this depends on whether you&#39;re properly setting the boot class path. The <code>--release</code> flag was added to prevent mistakes in that area. So, if you compile using JDK 17 and <code>--release 11</code>, then you won&#39;t be able to access Java 12+ APIs."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686250886,"post_id":76433459,"comment_id":134777106,"body_markdown":"@JornVernee Thanks for pointing that out. More information can be find in the answers to https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler. I just want to clarify that this only applies to the example I mentioned and would not solve the issue the OP has at execution time.","body":"@JornVernee Thanks for pointing that out. More information can be find in the answers to <a href=\"https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler\" title=\"what is the release flag in the java 9 compiler\">stackoverflow.com/questions/43102787/&hellip;</a>. I just want to clarify that this only applies to the example I mentioned and would not solve the issue the OP has at execution time."}],"owner":{"account_id":1714518,"reputation":1611,"user_id":1571903,"accept_rate":72,"display_name":"Ryan Griffith"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686238057,"creation_date":1686238057,"question_id":76433459,"body_markdown":"I have a Spring Framework 4.2 project that I can successfully compile with JDK 11 and run with Wildfly that is utilizing Java 11.\r\n\r\nI&#39;m looking at upgrading to use Wildfly v26 which utilizes Java 17. Seems like it would work since newer versions of Java are supposed to be able to run code compiled against earlier versions of Java.\r\n\r\nMy skepticism about this particular project comes from the fact that if I use JDK 17 and attempt to compile my project against Java 11 (via Maven), I get errors related to `cglib` which is part of Spring Framework.\r\n\r\nFrom what I understand, `cglib` calls internal functions that are not publicly accessible and Java 17 [doesn&#39;t support that][1]. \r\n\r\n**So, I&#39;m lacking some understanding here:** the Java 17 JRE is supposed to be able to run earlier versions of Java code (as far as I understand), however my JDK 17 can&#39;t seem to compile code targeting Java 11. I thought this is a capability we&#39;re supposed to have - compiling code for earlier versions with newer versions of the JDK. Perhaps this is one of those edge case scenarios where the actual issue would require a compilation using JDK 11 and then, and only then, would it be able to run with JRE 17.\r\n\r\n**So, the overarching question is:** Can I get my code targeting Java 11 to run (in ANY way)  with Java 17 given this particular issue? \r\n\r\nBonus question: What about the compatibility between a JDK, compilation target and runability am I misunderstanding here?\r\n\r\n  [1]: https://github.com/cglib/cglib/issues/191","title":"Compatibility between JDK 17 and Java 11 when it comes to running vs. compiling","body":"<p>I have a Spring Framework 4.2 project that I can successfully compile with JDK 11 and run with Wildfly that is utilizing Java 11.</p>\n<p>I'm looking at upgrading to use Wildfly v26 which utilizes Java 17. Seems like it would work since newer versions of Java are supposed to be able to run code compiled against earlier versions of Java.</p>\n<p>My skepticism about this particular project comes from the fact that if I use JDK 17 and attempt to compile my project against Java 11 (via Maven), I get errors related to <code>cglib</code> which is part of Spring Framework.</p>\n<p>From what I understand, <code>cglib</code> calls internal functions that are not publicly accessible and Java 17 <a href=\"https://github.com/cglib/cglib/issues/191\" rel=\"nofollow noreferrer\">doesn't support that</a>.</p>\n<p><strong>So, I'm lacking some understanding here:</strong> the Java 17 JRE is supposed to be able to run earlier versions of Java code (as far as I understand), however my JDK 17 can't seem to compile code targeting Java 11. I thought this is a capability we're supposed to have - compiling code for earlier versions with newer versions of the JDK. Perhaps this is one of those edge case scenarios where the actual issue would require a compilation using JDK 11 and then, and only then, would it be able to run with JRE 17.</p>\n<p><strong>So, the overarching question is:</strong> Can I get my code targeting Java 11 to run (in ANY way)  with Java 17 given this particular issue?</p>\n<p>Bonus question: What about the compatibility between a JDK, compilation target and runability am I misunderstanding here?</p>\n"},{"tags":["java","spring","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656675604,"creation_date":1656675604,"answer_id":72828708,"question_id":72828384,"body_markdown":"It looks like `@SpyBean` is unable to find instance of your service class. Quick alternative for this is just remove `@SpyBean` from `ComicService comicService;` &amp; do following in your `@BeforeEach`:\r\n\r\n\r\n    @BeforeEach\r\n        public void setUp() {\r\n            this.comicService = Mockito.spy(new ComicService(&quot;ae78641e8976ffdf3fd4b71254a3b9bf&quot;, &quot;eb9fd0d8r8745cd0d554fb2c0e7896dab3bb745&quot;, marvelClient));\r\n  \r\n        }\r\n\r\nHere, you are creating spy &amp; then using it inside your test class.\r\n\r\n","title":"How to use @SpyBean in a class that receives arguments by the constructor?","body":"<p>It looks like <code>@SpyBean</code> is unable to find instance of your service class. Quick alternative for this is just remove <code>@SpyBean</code> from <code>ComicService comicService;</code> &amp; do following in your <code>@BeforeEach</code>:</p>\n<pre><code>@BeforeEach\n    public void setUp() {\n        this.comicService = Mockito.spy(new ComicService(&quot;ae78641e8976ffdf3fd4b71254a3b9bf&quot;, &quot;eb9fd0d8r8745cd0d554fb2c0e7896dab3bb745&quot;, marvelClient));\n\n    }\n</code></pre>\n<p>Here, you are creating spy &amp; then using it inside your test class.</p>\n"},{"tags":[],"owner":{"account_id":26217254,"reputation":47,"user_id":19895232,"display_name":"Evgeniy Zhurenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686238020,"creation_date":1685862560,"answer_id":76399296,"question_id":72828384,"body_markdown":"You can use ,@MockBean annotation instead @SpyBean and can use Mockito.when().thenCallRealMethod() as you need to call real method and Mockito.when().thenReturn() at the same time if you want to mock some method. This way have to rid you of all your problems in that case and you can mock as you wanted.\r\n\r\nFor example :\r\n```\r\n@Component\r\nclass MyClass {\r\n\r\npublic String firstMethod(String value){\r\n\treturn value;\r\n}\r\n\r\npublic void secondMethod(String value){\r\n\tsome code\r\n}\r\n\r\n@Component\r\nclass Main {\r\n\t@Autowire\r\n\tprivate MyClass clazz;\r\n\t\r\n\tpublic String getFirstMethod(String value){\r\n\t\tsome code;\r\n\t}\r\n\r\n\tpublic void getSecondMethod(String value){\r\n\t\tclazz.secondMethod(value);\r\n\t}\r\n}\r\n```\r\nIn test class you have to declare a mock bean of your class as below and to mock them as you want. Instead thenReturn() you can use thenAnswer(), thenThrows(), then(), and instead doNothing() for void methods you can use doAnswer(), doThrow(), doReturn():\r\n```\r\n@MockBean(classes={MyClass.class})\r\npublic MainTest {\r\n\r\n@Autowire\r\nprivate Main main\r\n@Autowire\r\nprivat MyClass clazz;\r\n\r\n\t@Test\r\n\tvoid getFirstMethod_mock(){\r\n\t\tString value = &quot;something&quot;;\r\n\t\twhen(clazz.firstMethod(anyString()).thenReturn(&quot;some string value&quot;);\r\n\t\t\r\n\t\tString actual = main.getFirstMethod(value );\r\n\r\n\t\tassertEquals(&quot;some string value&quot;, actual);\r\n\t\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getFirstMethod_realMethod(){\r\n\t\tString value = &quot;something&quot;;\r\n\t\twhen(clazz.firstMethod(anyString()).thenCallRealMethod();\r\n\t\t\r\n\t\tString actual = main.getFirstMethod(value );\r\n\r\n\t\tassertEquals(realResultOfFirstMethod, actual);\r\n\t\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getSecondMethod_mock(){\r\n\t\tString value = &quot;something&quot;;\r\n\t\tdoNothing().when(clazz).secondMethod(anyString());\r\n\t\t\r\n\t\tmain.etSecondMethod(value );\r\n\t\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getSecondMethod_realMethod(){\r\n\t\tString value = &quot;something&quot;;\r\n\t\tdoCallRealMethod().when(clazz).secondMethod(anyString());\r\n\t\t\r\n\t\tmain.etSecondMethod(value );\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIf your class not Bean you can declar it as below :\r\n```\r\nMyClass clazz = mock(MyClass.class);\r\n```\r\nThe methods still stay the same :\r\n when(clazz.method()).then() and for void doNothing().when(clazz).method().","title":"How to use @SpyBean in a class that receives arguments by the constructor?","body":"<p>You can use ,@MockBean annotation instead @SpyBean and can use Mockito.when().thenCallRealMethod() as you need to call real method and Mockito.when().thenReturn() at the same time if you want to mock some method. This way have to rid you of all your problems in that case and you can mock as you wanted.</p>\n<p>For example :</p>\n<pre><code>@Component\nclass MyClass {\n\npublic String firstMethod(String value){\n    return value;\n}\n\npublic void secondMethod(String value){\n    some code\n}\n\n@Component\nclass Main {\n    @Autowire\n    private MyClass clazz;\n    \n    public String getFirstMethod(String value){\n        some code;\n    }\n\n    public void getSecondMethod(String value){\n        clazz.secondMethod(value);\n    }\n}\n</code></pre>\n<p>In test class you have to declare a mock bean of your class as below and to mock them as you want. Instead thenReturn() you can use thenAnswer(), thenThrows(), then(), and instead doNothing() for void methods you can use doAnswer(), doThrow(), doReturn():</p>\n<pre><code>@MockBean(classes={MyClass.class})\npublic MainTest {\n\n@Autowire\nprivate Main main\n@Autowire\nprivat MyClass clazz;\n\n    @Test\n    void getFirstMethod_mock(){\n        String value = &quot;something&quot;;\n        when(clazz.firstMethod(anyString()).thenReturn(&quot;some string value&quot;);\n        \n        String actual = main.getFirstMethod(value );\n\n        assertEquals(&quot;some string value&quot;, actual);\n    \n    }\n\n    @Test\n    void getFirstMethod_realMethod(){\n        String value = &quot;something&quot;;\n        when(clazz.firstMethod(anyString()).thenCallRealMethod();\n        \n        String actual = main.getFirstMethod(value );\n\n        assertEquals(realResultOfFirstMethod, actual);\n    \n    }\n\n    @Test\n    void getSecondMethod_mock(){\n        String value = &quot;something&quot;;\n        doNothing().when(clazz).secondMethod(anyString());\n        \n        main.etSecondMethod(value );\n    \n    }\n\n    @Test\n    void getSecondMethod_realMethod(){\n        String value = &quot;something&quot;;\n        doCallRealMethod().when(clazz).secondMethod(anyString());\n        \n        main.etSecondMethod(value );\n    \n    }\n\n}\n</code></pre>\n<p>If your class not Bean you can declar it as below :</p>\n<pre><code>MyClass clazz = mock(MyClass.class);\n</code></pre>\n<p>The methods still stay the same :\nwhen(clazz.method()).then() and for void doNothing().when(clazz).method().</p>\n"}],"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72828708,"answer_count":2,"score":2,"last_activity_date":1686238020,"creation_date":1656673940,"question_id":72828384,"body_markdown":"I&#39;m creating some unit tests for a Spring Boot application.\r\n\r\nIn a class called **ComicService** there is a method called **getComicByApi** and I want to create a test for that method, but this method accesses another method of the same class called **getHash**.\r\n\r\nI need to configure the behavior of getHash, so I used the **@SpyBean** annotation in creating the **ComicService** object.\r\n\r\nThe problem is that when running the test it gives an error in the part where I use Mockito.when().thenReturn() to configure the behavior of getHash.\r\n\r\nI found that the error is related to the fact that I use **@BeforeEach public void setUp()** to instantiate the annotated class with @SpyBean passing its constructor arguments, but I still don&#39;t know how to solve it.\r\n\r\nDoes anyone know how to solve this problem?\r\n\r\n**ComicService**\r\n\r\n    @Service\r\n    public class ComicService {\r\n        \r\n        private String publicKey;\r\n        \r\n        private String privateKey;\r\n        \r\n        private MarvelClient marvelClient;\r\n        \r\n        public ComicService(@Value(&quot;${marvel.public_key}&quot;)String publicKey, \r\n                @Value(&quot;${marvel.private_key}&quot;) String privateKey, MarvelClient marvelClient) {\r\n            this.publicKey = publicKey;\r\n            this.privateKey = privateKey;\r\n            this.marvelClient = marvelClient;\r\n        }\r\n        \r\n        public MarvelAPIModelDTO getComicByApi(Integer idComicMarvel) {\r\n            String timeStamp = String.valueOf((int)(System.currentTimeMillis() / 1000));\r\n            String hash = getHash(timeStamp);\r\n            \r\n            MarvelAPIModelDTO comic = marvelClient.getComic(idComicMarvel, timeStamp, timeStamp, hash);\r\n            \r\n            return comic;\r\n        }\r\n        \r\n        public String getHash(String timeStemp) {\r\n            String value = timeStemp+privateKey+publicKey;          \r\n            \r\n            MessageDigest md;\r\n            \r\n            try {\r\n                md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            } catch(NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            \r\n            BigInteger hash = new BigInteger(1, md.digest(value.getBytes()));\r\n        \r\n            return hash.toString(16);\r\n        }\r\n    \r\n    }\r\n\r\n**ComicServiceTest**\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class ComicServiceTest {\r\n        \r\n        @SpyBean\r\n        ComicService comicService;\r\n        \r\n        @MockBean\r\n        MarvelClient marvelClient;\r\n        \r\n        @BeforeEach\r\n        public void setUp() {\r\n            this.comicService = new ComicService(&quot;ae78641e8976ffdf3fd4b71254a3b9bf&quot;, &quot;eb9fd0d8r8745cd0d554fb2c0e7896dab3bb745&quot;, marvelClient);      \r\n        }\r\n    \r\n        @Test\r\n        public void getComicByApiTest() {\r\n            // Scenario\r\n            MarvelAPIModelDTO foundMarvelAPIModelDTO = createMarvelAPIModelDTO();\r\n            \r\n           //It&#39;s giving an error on this line \r\n            Mockito.when(comicService.getHash(Mockito.anyString())).thenReturn(&quot;c6fc42667498ea8081a22f4570b42d03&quot;); \r\n    \r\n            Mockito.when(marvelClient.getComic(Mockito.anyInt(), Mockito.anyString(), Mockito.anyString(), Mockito.anyString())).thenReturn(foundMarvelAPIModelDTO);\r\n            \r\n            // Execution\r\n            MarvelAPIModelDTO marvelAPIModelDTO = comicService.getComicByApi(1);\r\n            \r\n            // Verification\r\n            Assertions.assertThat(marvelAPIModelDTO.getData().getResults().get(0).getId()).isEqualTo(1);        \r\n        }\r\n    \r\n    }\r\n\r\n**Error**\r\n\r\n    at com.gustavo.comicreviewapi.services.ComicServiceTest.getComicByApiTest(ComicServiceTest.java:58)\r\n    \r\n    You cannot use argument matchers outside of verification or stubbing.\r\n    Examples of correct usage of argument matchers:\r\n        when(mock.get(anyInt())).thenReturn(null);\r\n        doThrow(new RuntimeException()).when(mock).someVoidMethod(any());\r\n        verify(mock).someMethod(contains(&quot;foo&quot;))\r\n    \r\n    This message may appear after an NullPointerException if the last matcher is returning an object \r\n    like any() but the stubbed method signature expect a primitive argument, in this case,\r\n    use primitive alternatives.\r\n        when(mock.get(any())); // bad use, will raise NPE\r\n        when(mock.get(anyInt())); // correct usage use\r\n    \r\n    Also, this error might show up because you use argument matchers with methods that cannot be mocked.\r\n    Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\n    Mocking methods declared on non-public parent classes is not supported.","title":"How to use @SpyBean in a class that receives arguments by the constructor?","body":"<p>I'm creating some unit tests for a Spring Boot application.</p>\n<p>In a class called <strong>ComicService</strong> there is a method called <strong>getComicByApi</strong> and I want to create a test for that method, but this method accesses another method of the same class called <strong>getHash</strong>.</p>\n<p>I need to configure the behavior of getHash, so I used the <strong>@SpyBean</strong> annotation in creating the <strong>ComicService</strong> object.</p>\n<p>The problem is that when running the test it gives an error in the part where I use Mockito.when().thenReturn() to configure the behavior of getHash.</p>\n<p>I found that the error is related to the fact that I use <strong>@BeforeEach public void setUp()</strong> to instantiate the annotated class with @SpyBean passing its constructor arguments, but I still don't know how to solve it.</p>\n<p>Does anyone know how to solve this problem?</p>\n<p><strong>ComicService</strong></p>\n<pre><code>@Service\npublic class ComicService {\n    \n    private String publicKey;\n    \n    private String privateKey;\n    \n    private MarvelClient marvelClient;\n    \n    public ComicService(@Value(&quot;${marvel.public_key}&quot;)String publicKey, \n            @Value(&quot;${marvel.private_key}&quot;) String privateKey, MarvelClient marvelClient) {\n        this.publicKey = publicKey;\n        this.privateKey = privateKey;\n        this.marvelClient = marvelClient;\n    }\n    \n    public MarvelAPIModelDTO getComicByApi(Integer idComicMarvel) {\n        String timeStamp = String.valueOf((int)(System.currentTimeMillis() / 1000));\n        String hash = getHash(timeStamp);\n        \n        MarvelAPIModelDTO comic = marvelClient.getComic(idComicMarvel, timeStamp, timeStamp, hash);\n        \n        return comic;\n    }\n    \n    public String getHash(String timeStemp) {\n        String value = timeStemp+privateKey+publicKey;          \n        \n        MessageDigest md;\n        \n        try {\n            md = MessageDigest.getInstance(&quot;MD5&quot;);\n        } catch(NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n        \n        BigInteger hash = new BigInteger(1, md.digest(value.getBytes()));\n    \n        return hash.toString(16);\n    }\n\n}\n</code></pre>\n<p><strong>ComicServiceTest</strong></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class ComicServiceTest {\n    \n    @SpyBean\n    ComicService comicService;\n    \n    @MockBean\n    MarvelClient marvelClient;\n    \n    @BeforeEach\n    public void setUp() {\n        this.comicService = new ComicService(&quot;ae78641e8976ffdf3fd4b71254a3b9bf&quot;, &quot;eb9fd0d8r8745cd0d554fb2c0e7896dab3bb745&quot;, marvelClient);      \n    }\n\n    @Test\n    public void getComicByApiTest() {\n        // Scenario\n        MarvelAPIModelDTO foundMarvelAPIModelDTO = createMarvelAPIModelDTO();\n        \n       //It's giving an error on this line \n        Mockito.when(comicService.getHash(Mockito.anyString())).thenReturn(&quot;c6fc42667498ea8081a22f4570b42d03&quot;); \n\n        Mockito.when(marvelClient.getComic(Mockito.anyInt(), Mockito.anyString(), Mockito.anyString(), Mockito.anyString())).thenReturn(foundMarvelAPIModelDTO);\n        \n        // Execution\n        MarvelAPIModelDTO marvelAPIModelDTO = comicService.getComicByApi(1);\n        \n        // Verification\n        Assertions.assertThat(marvelAPIModelDTO.getData().getResults().get(0).getId()).isEqualTo(1);        \n    }\n\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>at com.gustavo.comicreviewapi.services.ComicServiceTest.getComicByApiTest(ComicServiceTest.java:58)\n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n</code></pre>\n"},{"tags":["java","dockerfile","gitlab-ci","gitlab-ci-runner"],"answers":[{"tags":[],"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686237911,"creation_date":1686237911,"answer_id":76433426,"question_id":76433148,"body_markdown":"Your image includes `ENTRYPOINT [&quot;/usr/bin/java&quot;]`, which is causing this problem. GitLab CI expects the images used for jobs to either have no `ENTRYPOINT` defined, or have a shell entrypoint.\r\n\r\nYou can either remove the entrypoint from the image or override it in your `.gitlab-ci.yml` configuration:\r\n\r\n```yaml\r\nmyjob:\r\n  image: \r\n    name: my/custom/maven-image\r\n    entrypoint: [&quot;&quot;]\r\n  script:\r\n    - echo &quot;hello gitlab&quot;\r\n```\r\n","title":"During the step script of gitlab Could not find or load main class sh after load docker image","body":"<p>Your image includes <code>ENTRYPOINT [&quot;/usr/bin/java&quot;]</code>, which is causing this problem. GitLab CI expects the images used for jobs to either have no <code>ENTRYPOINT</code> defined, or have a shell entrypoint.</p>\n<p>You can either remove the entrypoint from the image or override it in your <code>.gitlab-ci.yml</code> configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myjob:\n  image: \n    name: my/custom/maven-image\n    entrypoint: [&quot;&quot;]\n  script:\n    - echo &quot;hello gitlab&quot;\n</code></pre>\n"}],"owner":{"account_id":20182483,"reputation":23,"user_id":14802694,"display_name":"Martinxxntfxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76433426,"answer_count":1,"score":1,"last_activity_date":1686237911,"creation_date":1686236129,"question_id":76433148,"body_markdown":"`Executing &quot;step_script&quot; stage of the job script 00:01 Using docker image sha256:75eb8c27787ee5c64311d798c9c0d2991a89024b516908 for gitlab-my_repo/maven3-jdk-8-git:V0.1 with digest gitlab-my_repo/maven3-jdk-8-git@sha256:febfe8e272bb8ccbb01116e7a177b979b53c080f11cafc ... Error: Could not find or load main class sh`\r\n\r\n\r\nwhen i use CI_DEBUG_TRACE= true nothing else in the log..\r\nFor me it is a problem of classpath in java but why sh and not src/java/class.main...\r\nOur gitlab runner work with docker Dind and the script of the custom image of maven3-jdk-8-git is :\r\n\r\n\r\n\r\n`    FROM maven:3.6.0-jdk-8\r\n    ENV TZ Europe/Paris\r\n    ENV http_proxy XXXXXXXXXXXXXXXXXXX\r\n    ENV https_proxy XXXXXXXXXXXXXXXXXXXX\r\n    RUN sed -i s/deb.debian.org/archive.debian.org/g /etc/apt/sources.list\r\n    RUN sed -i &#39;s|security.debian.org|archive.debian.org/|g&#39; /etc/apt/sources.list\r\n    RUN sed -i &#39;/stretch-updates/d&#39; /etc/apt/sources.list\r\n    RUN echo &quot;Install Git&quot; &amp;&amp; \\\r\n    apt-get update &amp;&amp; apt-get install -y apt-transport-https ca-certificates apt-utils bzip2 git &amp;&amp; \\\r\n    rm -rf /var/lib/apt/lists/\\* &amp;&amp; \\\r\n    \\# Correction du maven pour supprimer le mirror bloquant\r\n        line=$(grep -n maven-default-http-blocker /usr/share/maven/conf/settings.xml | awk -F: &#39;{print           $1}&#39;) &amp;&amp; \\\r\n    echo sed -i -e &quot;$((line - 1)),$((line+5))d&quot; /usr/share/maven/conf/settings.xml\r\n    COPY ./settings.xml /tmp/settings.xml\r\n    ENTRYPOINT \\[&quot;/usr/bin/java&quot;\\]\r\n`\r\n\r\n\r\n\r\n\r\nI try this line in the dockerfile : `RUN java -classpath /bin/sh sh`\r\nand i have the same error in the build of my dockerfile lol (Could not find or load main class sh)","title":"During the step script of gitlab Could not find or load main class sh after load docker image","body":"<p><code>Executing &quot;step_script&quot; stage of the job script 00:01 Using docker image sha256:75eb8c27787ee5c64311d798c9c0d2991a89024b516908 for gitlab-my_repo/maven3-jdk-8-git:V0.1 with digest gitlab-my_repo/maven3-jdk-8-git@sha256:febfe8e272bb8ccbb01116e7a177b979b53c080f11cafc ... Error: Could not find or load main class sh</code></p>\n<p>when i use CI_DEBUG_TRACE= true nothing else in the log..\nFor me it is a problem of classpath in java but why sh and not src/java/class.main...\nOur gitlab runner work with docker Dind and the script of the custom image of maven3-jdk-8-git is :</p>\n<p><code>   FROM maven:3.6.0-jdk-8 ENV TZ Europe/Paris ENV http_proxy XXXXXXXXXXXXXXXXXXX ENV https_proxy XXXXXXXXXXXXXXXXXXXX RUN sed -i s/deb.debian.org/archive.debian.org/g /etc/apt/sources.list RUN sed -i 's|security.debian.org|archive.debian.org/|g' /etc/apt/sources.list RUN sed -i '/stretch-updates/d' /etc/apt/sources.list RUN echo &quot;Install Git&quot; &amp;&amp; \\ apt-get update &amp;&amp; apt-get install -y apt-transport-https ca-certificates apt-utils bzip2 git &amp;&amp; \\ rm -rf /var/lib/apt/lists/\\* &amp;&amp; \\ \\# Correction du maven pour supprimer le mirror bloquant line=$(grep -n maven-default-http-blocker /usr/share/maven/conf/settings.xml | awk -F: '{print           $1}') &amp;&amp; \\ echo sed -i -e &quot;$((line - 1)),$((line+5))d&quot; /usr/share/maven/conf/settings.xml COPY ./settings.xml /tmp/settings.xml ENTRYPOINT \\[&quot;/usr/bin/java&quot;\\]</code></p>\n<p>I try this line in the dockerfile : <code>RUN java -classpath /bin/sh sh</code>\nand i have the same error in the build of my dockerfile lol (Could not find or load main class sh)</p>\n"},{"tags":["java","model-view-controller","design-patterns","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":24130,"reputation":92880,"user_id":61164,"accept_rate":98,"display_name":"Erik Funkenbusch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347646784,"creation_date":1347646449,"answer_id":12429824,"question_id":12429729,"body_markdown":"It largely depends on what flavor of MVC you&#39;re using, and what environment you&#39;re using it in.\r\n\r\nFor example, ASP.NET MVC is entirely a UI pattern, so all three parts are part of presentation.  \r\n\r\nHowever, in most implementations of MVC, the Controller interacts with the user, and thus is part of the UI layer.  It may handle button presses, and keyboard input... but in many cases, the controller is also responsible for connecting the Model and the View together.  \r\n\r\nThe one universal truth is that you should NOT be doing business logic in the controller if you cannot help it.  Where the business logic exists depends on many factors.  It might be part of the model in some implementations, or it may be it&#39;s own separate layer outside of MVC","title":"Controller belongs to the Presentation layer?","body":"<p>It largely depends on what flavor of MVC you're using, and what environment you're using it in.</p>\n\n<p>For example, ASP.NET MVC is entirely a UI pattern, so all three parts are part of presentation.  </p>\n\n<p>However, in most implementations of MVC, the Controller interacts with the user, and thus is part of the UI layer.  It may handle button presses, and keyboard input... but in many cases, the controller is also responsible for connecting the Model and the View together.  </p>\n\n<p>The one universal truth is that you should NOT be doing business logic in the controller if you cannot help it.  Where the business logic exists depends on many factors.  It might be part of the model in some implementations, or it may be it's own separate layer outside of MVC</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589643692,"creation_date":1347646773,"answer_id":12429904,"question_id":12429729,"body_markdown":"The controller controls the presentation layer logic. For all the business code, transactional use cases, persistence, etc., it typically delegates to a service layer.\r\n\r\nA typical way of doing that is to implement transactional services as spring beans and inject those spring beans in controllers. Typical use case: create a new product:\r\n\r\n 1. The controller receives a command bean from the browser\r\n 2. It validates that all the required data is present, and if not, redisplays the product creation page with error messages\r\n 3. It calls a service bean to create the product\r\n 4. The service bean runs in a transaction. It gets the product category from the database, attaches the product to its category, computes the price for the product based on current pricing strategies, sends a JMS message to an external application, and returns the ID of the created product\r\n 5. The controller redirects to the product detail page, using the ID of the created product as a URL parameter.","title":"Controller belongs to the Presentation layer?","body":"<p>The controller controls the presentation layer logic. For all the business code, transactional use cases, persistence, etc., it typically delegates to a service layer.</p>\n\n<p>A typical way of doing that is to implement transactional services as spring beans and inject those spring beans in controllers. Typical use case: create a new product:</p>\n\n<ol>\n<li>The controller receives a command bean from the browser</li>\n<li>It validates that all the required data is present, and if not, redisplays the product creation page with error messages</li>\n<li>It calls a service bean to create the product</li>\n<li>The service bean runs in a transaction. It gets the product category from the database, attaches the product to its category, computes the price for the product based on current pricing strategies, sends a JMS message to an external application, and returns the ID of the created product</li>\n<li>The controller redirects to the product detail page, using the ID of the created product as a URL parameter.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":172480,"reputation":10147,"user_id":400545,"accept_rate":89,"display_name":"Jerome Dalbert"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1347796885,"creation_date":1347743797,"answer_id":12442657,"question_id":12429729,"body_markdown":"The presentation layer contains views ***and*** controllers.  \r\nYou must not mistake an MVC architecture for a multitier/layer architecture (especially a 3-tier architecture). Most of the time Model/View/Controller is not the primary design of a web application, it is just a subset of a multitier/layer architecture.\r\n\r\nTake a look at this oversimplified scheme (you could have the DAOs in a dedicated Data Access Layer, but this is not important in this post) :\r\n\r\n![Simplified layers][1]\r\n\r\n\r\nSpring MVC is a **presentation framework** : it deals with controllers and views. But why the &quot;M&quot; in Spring MVC ? Just because, as many other presentation framework, it naturally deals with a representation of a model/entity (&quot;M&quot;). This representation is the one used in your controllers, displayed in your views, submitted in your forms, etc. **That&#39;s why the framework is called Spring MVC, even if the model/entity is not part of the prensentation layer.**\r\n\r\nI think it is a good name for this Framework, because it is really &quot;MVC&quot; oriented. Indeed the representation of a model/entity can be :\r\n\r\n - direct : the framework directly handles the model/entity object\r\n - indirect : the framework handles a form object or DTO, that contains information related to one or multiple entities\r\n\r\n[Spring&#39;s recommendation][2] is to directly use the model/entity (&quot;M&quot;) object :\r\n\r\n&gt; Reusable business code, no need for duplication. Use existing business objects as command or form objects instead of mirroring them to extend a particular framework base class.\r\n\r\nThat&#39;s why I say the framework is very &quot;MVC&quot; oriented, compared to others, like Struts, where you have to use different form objects.\r\n\r\nSome interesting links :\r\n\r\n - [Comparison between Multitier and MVC architecture][3], from Wikipedia\r\n - [This blog post about 3-tier architecture][4] in ASP.NET\r\n - [This blog image of a 3-tier architecture][5]\r\n - [DispatcherServlet chapter][6] from Spring&#39;s documentation\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OpWgt.png\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-features\r\n  [3]: http://en.wikipedia.org/wiki/Multitier_architecture#Comparison_with_the_MVC_architecture\r\n  [4]: http://geekswithblogs.net/edison/archive/2009/04/05/a-simple-3-tier-layers-application-in-asp.net.aspx\r\n  [5]: http://hugo.ferreira.cc/post/28234548880/the-mvc-and-3-tier-architectures-combined-via-the\r\n  [6]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-servlet","title":"Controller belongs to the Presentation layer?","body":"<p>The presentation layer contains views <strong><em>and</em></strong> controllers.<br>\nYou must not mistake an MVC architecture for a multitier/layer architecture (especially a 3-tier architecture). Most of the time Model/View/Controller is not the primary design of a web application, it is just a subset of a multitier/layer architecture.</p>\n\n<p>Take a look at this oversimplified scheme (you could have the DAOs in a dedicated Data Access Layer, but this is not important in this post) :</p>\n\n<p><img src=\"https://i.stack.imgur.com/OpWgt.png\" alt=\"Simplified layers\"></p>\n\n<p>Spring MVC is a <strong>presentation framework</strong> : it deals with controllers and views. But why the \"M\" in Spring MVC ? Just because, as many other presentation framework, it naturally deals with a representation of a model/entity (\"M\"). This representation is the one used in your controllers, displayed in your views, submitted in your forms, etc. <strong>That's why the framework is called Spring MVC, even if the model/entity is not part of the prensentation layer.</strong></p>\n\n<p>I think it is a good name for this Framework, because it is really \"MVC\" oriented. Indeed the representation of a model/entity can be :</p>\n\n<ul>\n<li>direct : the framework directly handles the model/entity object</li>\n<li>indirect : the framework handles a form object or DTO, that contains information related to one or multiple entities</li>\n</ul>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-features\" rel=\"noreferrer\">Spring's recommendation</a> is to directly use the model/entity (\"M\") object :</p>\n\n<blockquote>\n  <p>Reusable business code, no need for duplication. Use existing business objects as command or form objects instead of mirroring them to extend a particular framework base class.</p>\n</blockquote>\n\n<p>That's why I say the framework is very \"MVC\" oriented, compared to others, like Struts, where you have to use different form objects.</p>\n\n<p>Some interesting links :</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Multitier_architecture#Comparison_with_the_MVC_architecture\" rel=\"noreferrer\">Comparison between Multitier and MVC architecture</a>, from Wikipedia</li>\n<li><a href=\"http://geekswithblogs.net/edison/archive/2009/04/05/a-simple-3-tier-layers-application-in-asp.net.aspx\" rel=\"noreferrer\">This blog post about 3-tier architecture</a> in ASP.NET</li>\n<li><a href=\"http://hugo.ferreira.cc/post/28234548880/the-mvc-and-3-tier-architectures-combined-via-the\" rel=\"noreferrer\">This blog image of a 3-tier architecture</a></li>\n<li><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-servlet\" rel=\"noreferrer\">DispatcherServlet chapter</a> from Spring's documentation</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686237740,"creation_date":1686236398,"answer_id":76433184,"question_id":12429729,"body_markdown":"Where do you get your quote `Spring MVC is used for presentation layer` from?\r\n\r\nI think firstly its important to understand the meaning of **MVC** in context of Spring Boot.\r\n\r\nIn Sprint Boot the **model** represents the data. And therefor you handle any business operations there and not in the controller.\r\nThe **view** represents the user interface!\r\n\r\nThe **controller acts as an intermediary between the model and view**. The controller receives input from the user, **interacts with the necessary services or business logic** to retrieve or manipulate data, and then prepares the response to be displayed by the view. Since that you can already say here, that it does not belong to the business layer since it should not do any operations on the data.\r\n\r\nAnd why the controller belongs then to the presentation layer becomes even more clear since it\r\n\r\n- handles requests &amp; responses\r\n- routes the requests based on their URL/HTTP Methods\r\n- does input validation and transformation","title":"Controller belongs to the Presentation layer?","body":"<p>Where do you get your quote <code>Spring MVC is used for presentation layer</code> from?</p>\n<p>I think firstly its important to understand the meaning of <strong>MVC</strong> in context of Spring Boot.</p>\n<p>In Sprint Boot the <strong>model</strong> represents the data. And therefor you handle any business operations there and not in the controller.\nThe <strong>view</strong> represents the user interface!</p>\n<p>The <strong>controller acts as an intermediary between the model and view</strong>. The controller receives input from the user, <strong>interacts with the necessary services or business logic</strong> to retrieve or manipulate data, and then prepares the response to be displayed by the view. Since that you can already say here, that it does not belong to the business layer since it should not do any operations on the data.</p>\n<p>And why the controller belongs then to the presentation layer becomes even more clear since it</p>\n<ul>\n<li>handles requests &amp; responses</li>\n<li>routes the requests based on their URL/HTTP Methods</li>\n<li>does input validation and transformation</li>\n</ul>\n"}],"owner":{"account_id":137700,"reputation":8264,"user_id":342073,"accept_rate":64,"display_name":"Ramesh Kotha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16538,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":12442657,"answer_count":4,"score":17,"last_activity_date":1686237740,"creation_date":1347645898,"question_id":12429729,"body_markdown":"I heard that controller belongs to the presentation layer. How is it possible?\r\n\r\nI thought that :\r\n\r\n- view is for presentation\r\n- model is for business logic\r\n- controller is for controlling logic\r\n\r\nIs there good link to prove that controller belongs to the presentation layer?\r\n\r\n&quot;Spring MVC is used for presentation layer&quot;: how can we use MVC only in the presentation layer?","title":"Controller belongs to the Presentation layer?","body":"<p>I heard that controller belongs to the presentation layer. How is it possible?</p>\n\n<p>I thought that :</p>\n\n<ul>\n<li>view is for presentation</li>\n<li>model is for business logic</li>\n<li>controller is for controlling logic</li>\n</ul>\n\n<p>Is there good link to prove that controller belongs to the presentation layer?</p>\n\n<p>\"Spring MVC is used for presentation layer\": how can we use MVC only in the presentation layer?</p>\n"},{"tags":["java","jpa","post","jakarta-ee","quarkus"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1685998538,"post_id":76409800,"comment_id":134736576,"body_markdown":"What headers are you using in Postman? What is the return data format you are expecting and returning?","body":"What headers are you using in Postman? What is the return data format you are expecting and returning?"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1686034313,"post_id":76409800,"comment_id":134739884,"body_markdown":"@Chris Headers are the default ones. I think the most important one is this one: `Content-type: application/json`. I would expect that the repository returns a `Long` (the ID of the new Drink) and the controller returns a `Response` as you can see on the code examples","body":"@Chris Headers are the default ones. I think the most important one is this one: <code>Content-type: application&#47;json</code>. I would expect that the repository returns a <code>Long</code> (the ID of the new Drink) and the controller returns a <code>Response</code> as you can see on the code examples"},{"owner":{"account_id":19592617,"reputation":1,"user_id":14339315,"display_name":"Altaf Alam Ansari"},"score":0,"creation_date":1686051297,"post_id":76409800,"comment_id":134743251,"body_markdown":"Have you gone through the solutions in this thread?\nhttps://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json","body":"Have you gone through the solutions in this thread? <a href=\"https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json\" title=\"http 415 unsupported media type error with json\">stackoverflow.com/questions/22566433/&hellip;</a>"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1686073681,"post_id":76409800,"comment_id":134748418,"body_markdown":"@AltafAlamAnsari None of them worked","body":"@AltafAlamAnsari None of them worked"}],"answers":[{"tags":[],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686237577,"creation_date":1686237577,"answer_id":76433381,"question_id":76409800,"body_markdown":"Solution that worked for me:\r\n\r\nCommenting the `quarkus-resteasy-reactive` dependency in the `pom.xml` and adding this code in the `pom.xml` instead.\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nDo not forget to reload/rebuild your application","title":"415 Unsupported Media type when doing POST","body":"<p>Solution that worked for me:</p>\n<p>Commenting the <code>quarkus-resteasy-reactive</code> dependency in the <code>pom.xml</code> and adding this code in the <code>pom.xml</code> instead.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Do not forget to reload/rebuild your application</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76433381,"answer_count":1,"score":0,"last_activity_date":1686237577,"creation_date":1685997013,"question_id":76409800,"body_markdown":"I have these two classes `Item` and `Drink`. Where `Drink` extends `Item`. Both are PanacheEntities and only consists a few basic fields. Code samples of this part (I left the getters and setters out of it):\r\n\r\n    @Entity\r\n    @Table(name = &quot;t_items&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Item extends PanacheEntity {\r\n       @Column(nullable = false)\r\n       private String title;\r\n       @Column\r\n       private String description;\r\n       @Column(nullable = false)\r\n       private float price;\r\n       @Column\r\n       private LocalDateTime lastUpdatedDate;\r\n       @Column(nullable = false)\r\n       private String lastUpdatedUser;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;t_drinks&quot;)\r\n    public class Drink extends Item {\r\n        @Column\r\n        private int volume;\r\n    \r\n        @Column\r\n        private boolean containsAlcohol;\r\n    \r\n        @Column\r\n        private float alcoholPercentage;\r\n    }\r\n\r\nI am still in the phase of creating some basic CRUD operations. So I have this POST operation in the controller which I want to test via Postman, but it returns a 415 error code. \r\nThis is the controller function:\r\n\r\n\r\n    @POST\r\n    @Path(&quot;/drinks&quot;)\r\n    public Response addDrink(Drink drink, @Context UriInfo uriInfo) {\r\n        Long drinkId = drinkRepository.persistDrink(drink);\r\n        UriBuilder builder = uriInfo.getAbsolutePathBuilder().path(Long.toString(drinkId));\r\n        Log.info(&quot;drink persist&quot;);\r\n        return Response.created(builder.build()).build();\r\n    }\r\n\r\nAnd this is the repository function that gets called:\r\n\r\n    @Transactional(Transactional.TxType.REQUIRED)\r\n    public Long persistDrink(Drink drink) {\r\n        Drink.persist(drink);\r\n        Log.info(String.valueOf(drink.id));\r\n        return drink.id;\r\n    }\r\n\r\nI do know that there should be a domain layer in between for best practices, but that will be fixed after this problem.\r\n\r\nThis is the body I enter in the Postman call:\r\n\r\n    {\r\n        &quot;title&quot;: &quot;Cola&quot;,\r\n        &quot;description&quot;: &quot;Refreshing soda&quot;,\r\n        &quot;price&quot;: 2.5,\r\n        &quot;lastUpdatedDate&quot;: &quot;2023-06-05T10:00:00&quot;,\r\n        &quot;lastUpdatedUser&quot;: &quot;John Doe&quot;,\r\n        &quot;volume&quot;: 500,\r\n        &quot;containsAlcohol&quot;: false,\r\n        &quot;alcoholPercentage&quot;: 0.0\r\n    }\r\n\r\nWhere is the problem? I already tried to add `@Consumes(MediaType.APPLICATION_JSON)`, but that does not work either.","title":"415 Unsupported Media type when doing POST","body":"<p>I have these two classes <code>Item</code> and <code>Drink</code>. Where <code>Drink</code> extends <code>Item</code>. Both are PanacheEntities and only consists a few basic fields. Code samples of this part (I left the getters and setters out of it):</p>\n<pre><code>@Entity\n@Table(name = &quot;t_items&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Item extends PanacheEntity {\n   @Column(nullable = false)\n   private String title;\n   @Column\n   private String description;\n   @Column(nullable = false)\n   private float price;\n   @Column\n   private LocalDateTime lastUpdatedDate;\n   @Column(nullable = false)\n   private String lastUpdatedUser;\n}\n\n@Entity\n@Table(name = &quot;t_drinks&quot;)\npublic class Drink extends Item {\n    @Column\n    private int volume;\n\n    @Column\n    private boolean containsAlcohol;\n\n    @Column\n    private float alcoholPercentage;\n}\n</code></pre>\n<p>I am still in the phase of creating some basic CRUD operations. So I have this POST operation in the controller which I want to test via Postman, but it returns a 415 error code.\nThis is the controller function:</p>\n<pre><code>@POST\n@Path(&quot;/drinks&quot;)\npublic Response addDrink(Drink drink, @Context UriInfo uriInfo) {\n    Long drinkId = drinkRepository.persistDrink(drink);\n    UriBuilder builder = uriInfo.getAbsolutePathBuilder().path(Long.toString(drinkId));\n    Log.info(&quot;drink persist&quot;);\n    return Response.created(builder.build()).build();\n}\n</code></pre>\n<p>And this is the repository function that gets called:</p>\n<pre><code>@Transactional(Transactional.TxType.REQUIRED)\npublic Long persistDrink(Drink drink) {\n    Drink.persist(drink);\n    Log.info(String.valueOf(drink.id));\n    return drink.id;\n}\n</code></pre>\n<p>I do know that there should be a domain layer in between for best practices, but that will be fixed after this problem.</p>\n<p>This is the body I enter in the Postman call:</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Cola&quot;,\n    &quot;description&quot;: &quot;Refreshing soda&quot;,\n    &quot;price&quot;: 2.5,\n    &quot;lastUpdatedDate&quot;: &quot;2023-06-05T10:00:00&quot;,\n    &quot;lastUpdatedUser&quot;: &quot;John Doe&quot;,\n    &quot;volume&quot;: 500,\n    &quot;containsAlcohol&quot;: false,\n    &quot;alcoholPercentage&quot;: 0.0\n}\n</code></pre>\n<p>Where is the problem? I already tried to add <code>@Consumes(MediaType.APPLICATION_JSON)</code>, but that does not work either.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":25144470,"reputation":1,"user_id":18990446,"display_name":"Chamika App"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686236997,"creation_date":1686236997,"question_id":76433300,"body_markdown":"Cause: superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x6f19d21b) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6f19d21b\r\n\r\nI am trying to use the add to cart option in my app","title":"What might be the reason for the error message indicating a superclass access check failure in a Java program in android studio","body":"<p>Cause: superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x6f19d21b) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6f19d21b</p>\n<p>I am trying to use the add to cart option in my app</p>\n"},{"tags":["java","android","android-fragments","popupwindow"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686128564,"creation_date":1686128564,"answer_id":76421600,"question_id":76418290,"body_markdown":"Instantiating a fragment with fragmentManager would require a container that has to be a part of the activity or fragment, which is not the case with PopUpWindow instead what you should do is use a [DialogFragment][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/DialogFragment#show%28android.app.FragmentManager,%20java.lang.String%29","title":"ANDROID Instantiate a Fragment Inside a PopupWindow","body":"<p>Instantiating a fragment with fragmentManager would require a container that has to be a part of the activity or fragment, which is not the case with PopUpWindow instead what you should do is use a <a href=\"https://developer.android.com/reference/android/app/DialogFragment#show%28android.app.FragmentManager,%20java.lang.String%29\" rel=\"nofollow noreferrer\">DialogFragment</a></p>\n"},{"tags":[],"owner":{"account_id":1562580,"reputation":343,"user_id":1452121,"display_name":"Rich Morey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686236351,"creation_date":1686236351,"answer_id":76433175,"question_id":76418290,"body_markdown":"I solved my issue by changing my fragment to a custom UI component that extends a FrameLayout. This way I was able to use the address entry control as I had been in other layouts and use it in the PopupWindow without needing to change it to a DialogFragment.","title":"ANDROID Instantiate a Fragment Inside a PopupWindow","body":"<p>I solved my issue by changing my fragment to a custom UI component that extends a FrameLayout. This way I was able to use the address entry control as I had been in other layouts and use it in the PopupWindow without needing to change it to a DialogFragment.</p>\n"}],"owner":{"account_id":1562580,"reputation":343,"user_id":1452121,"display_name":"Rich Morey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686236351,"creation_date":1686083966,"question_id":76418290,"body_markdown":"I have an Android application with a fragment used in multiple places in our app to collect address information. I have the fragment inside FragmentContainerView in the layouts and I access the fragment like this\r\n```\r\nfragAddress = (FragAddressEntry) getChildFragmentManager().findFragmentById(R.id.frag_address_form);\r\n```\r\n\r\nNow I have reason to create a PopupWindow where I want to collect address information and so I want to use the existing FragAddressEntry form. \r\n\r\nHow do I instantiate the FragAddressEntry from inside the PopupWindow since there is no getChildFragmentManager?\r\n\r\nI can&#39;t convert the FragAddressEntry to a DialogFragment because that is not how the fragment is being used elsewhere.\r\n\r\nThanks\r\n\r\nRich\r\n\r\n ","title":"ANDROID Instantiate a Fragment Inside a PopupWindow","body":"<p>I have an Android application with a fragment used in multiple places in our app to collect address information. I have the fragment inside FragmentContainerView in the layouts and I access the fragment like this</p>\n<pre><code>fragAddress = (FragAddressEntry) getChildFragmentManager().findFragmentById(R.id.frag_address_form);\n</code></pre>\n<p>Now I have reason to create a PopupWindow where I want to collect address information and so I want to use the existing FragAddressEntry form.</p>\n<p>How do I instantiate the FragAddressEntry from inside the PopupWindow since there is no getChildFragmentManager?</p>\n<p>I can't convert the FragAddressEntry to a DialogFragment because that is not how the fragment is being used elsewhere.</p>\n<p>Thanks</p>\n<p>Rich</p>\n"},{"tags":["java","spring-webflux","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":3521854,"reputation":1144,"user_id":2943913,"display_name":"Pratik Bhajankar"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1597732772,"creation_date":1571381797,"answer_id":58445460,"question_id":58445213,"body_markdown":"Whenever you zip the two mono then the third parameter will be `BiFunction` but with three-parameter, it returns a `flatmap` of `tuple` then in the tuple you will get the response of other Monos. \r\nYou need to modify your code in the below manner.\r\n\r\n    Mono.zip(customMono, booleanMono, stringMono).flatMap(data-&gt;{\r\n     data.getT1();\r\n     data.getT2();\r\n     data.getT3();\r\n     return &lt;your_response_object&gt;;\r\n    });\r\nNow what will be the return type of `getT1()`,`getT2()` and `getT3()` ? \r\n\r\nObusally it will depend on what your **Zip Mono** return.\r\n\r\nHope so it will help you.\r\n","title":"Zip Three Different Mono of Different Type","body":"<p>Whenever you zip the two mono then the third parameter will be <code>BiFunction</code> but with three-parameter, it returns a <code>flatmap</code> of <code>tuple</code> then in the tuple you will get the response of other Monos.\nYou need to modify your code in the below manner.</p>\n<pre><code>Mono.zip(customMono, booleanMono, stringMono).flatMap(data-&gt;{\n data.getT1();\n data.getT2();\n data.getT3();\n return &lt;your_response_object&gt;;\n});\n</code></pre>\n<p>Now what will be the return type of <code>getT1()</code>,<code>getT2()</code> and <code>getT3()</code> ?</p>\n<p>Obusally it will depend on what your <strong>Zip Mono</strong> return.</p>\n<p>Hope so it will help you.</p>\n"},{"tags":[],"owner":{"account_id":15754783,"reputation":618,"user_id":11368263,"display_name":"yash sugandh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1571383267,"creation_date":1571383267,"answer_id":58445824,"question_id":58445213,"body_markdown":"For your specific condition, you need `Mono.zipWhen()` which will ensure that your 3rd service call will have the data it requires from the response from service call 1\r\n\r\n    Mono.zip(monoResponse1,monoResponse2).zipWhen(data -&gt;serviceCall3(data.getT1())).flatMap(response -&gt;{\r\n    \tresponse.getT1().getT1();//response from mono1\r\n    \tresponse.getT1().getT2();//response from mono 2\r\n    \tresponse.getT2();//response from mono 3\r\n    \treturn {create your mono response here};\r\n    } );","title":"Zip Three Different Mono of Different Type","body":"<p>For your specific condition, you need <code>Mono.zipWhen()</code> which will ensure that your 3rd service call will have the data it requires from the response from service call 1</p>\n\n<pre><code>Mono.zip(monoResponse1,monoResponse2).zipWhen(data -&gt;serviceCall3(data.getT1())).flatMap(response -&gt;{\n    response.getT1().getT1();//response from mono1\n    response.getT1().getT2();//response from mono 2\n    response.getT2();//response from mono 3\n    return {create your mono response here};\n} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686235265,"creation_date":1686235265,"answer_id":76433009,"question_id":58445213,"body_markdown":"I am also in my Reactive programming learning phase. So I started with doing zipWith on 2 method and started thinking what if I want to zip more than 2 methods!\r\n\r\nI found out that I can chain the method with another zipWith.\r\n\r\n    greet().zipWith(name()).map(tuple -&gt; tuple.getT1() + tuple.getT2())\r\n                                            .zipWith(name2()).map(tuple -&gt; tuple.getT1() + tuple.getT2());\r\n    \r\nExplanation: greet() returns a String Mono and I zipped it with name(). Then I again zipped the Mono returned from the 1st map() to the third method name2() and again did a map to get the desired response.\r\n\r\nThis is just another way to zip multiple methods. But, this may not solve all problems.","title":"Zip Three Different Mono of Different Type","body":"<p>I am also in my Reactive programming learning phase. So I started with doing zipWith on 2 method and started thinking what if I want to zip more than 2 methods!</p>\n<p>I found out that I can chain the method with another zipWith.</p>\n<pre><code>greet().zipWith(name()).map(tuple -&gt; tuple.getT1() + tuple.getT2())\n                                        .zipWith(name2()).map(tuple -&gt; tuple.getT1() + tuple.getT2());\n</code></pre>\n<p>Explanation: greet() returns a String Mono and I zipped it with name(). Then I again zipped the Mono returned from the 1st map() to the third method name2() and again did a map to get the desired response.</p>\n<p>This is just another way to zip multiple methods. But, this may not solve all problems.</p>\n"}],"owner":{"account_id":5643501,"reputation":421,"user_id":4466455,"display_name":"bivrantoshakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48037,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":58445824,"answer_count":3,"score":25,"last_activity_date":1686235265,"creation_date":1571380660,"question_id":58445213,"body_markdown":"I have started a new project using Spring Webflux and I am fairly new to this reactive coding paradigm. So apologies in advance for questioning like newbies.\r\n\r\nMy controller method returns the response as ```Mono&lt;ResponseEntity&lt;String&gt;&gt;``` and I have three different services to call from where I am getting three different ```Mono``` object like this - \r\n\r\n\r\n```\r\nMono&lt;CustomObject&gt; customMono = serivce1.method();\r\nMono&lt;Boolean&gt; booleanMono = service2.method();\r\nMono&lt;String&gt; stringMono = service3.method();\r\n```\r\n\r\nSo in order prepare the response(```Mono&lt;ResponseEntity&lt;String&gt;&gt;```), I need to do something like this - \r\n```\r\nMono.zip(customMono, booleanMono, stringMono, (customData, booleanData, stringData) -&gt; {\r\n------\r\nreturn Mono.just(ResponseEntity.ok().body(&quot;-----&quot;));\r\n});\r\n```\r\n\r\nThe problem is, there are no such ```zip``` method to take 3 ```Mono``` and a function as parameters. I already found thise -\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-java.util.function.BiFunction-\r\n\r\nbut it doesn&#39;t fulfil my requirement. So issues I am facing\r\n\r\n- I can not use *Mono.mergeWith* or *Mono.concaWith* method because my Mono object are of different kind.\r\n- I can flatMap/map every Mono and create a chain. But I want service2 to be called parallel in a separate thread as it is not dependent on service1 call. But service3 call is dependent on service1 response.\r\n\r\nIn summary, what I need to do:\r\n\r\n- make service1 call at first\r\n- make service2 call separately on different thread\r\n- make service3 call which is dependent on service1 call data\r\n- generating the final response object (```Mono&lt;ResponseEntity&lt;String&gt;&gt;```) using the data from all the service call.\r\n\r\nThanks in advance. As a newbie, any suggestion is appreciated.","title":"Zip Three Different Mono of Different Type","body":"<p>I have started a new project using Spring Webflux and I am fairly new to this reactive coding paradigm. So apologies in advance for questioning like newbies.</p>\n\n<p>My controller method returns the response as <code>Mono&lt;ResponseEntity&lt;String&gt;&gt;</code> and I have three different services to call from where I am getting three different <code>Mono</code> object like this - </p>\n\n<pre><code>Mono&lt;CustomObject&gt; customMono = serivce1.method();\nMono&lt;Boolean&gt; booleanMono = service2.method();\nMono&lt;String&gt; stringMono = service3.method();\n</code></pre>\n\n<p>So in order prepare the response(<code>Mono&lt;ResponseEntity&lt;String&gt;&gt;</code>), I need to do something like this - </p>\n\n<pre><code>Mono.zip(customMono, booleanMono, stringMono, (customData, booleanData, stringData) -&gt; {\n------\nreturn Mono.just(ResponseEntity.ok().body(\"-----\"));\n});\n</code></pre>\n\n<p>The problem is, there are no such <code>zip</code> method to take 3 <code>Mono</code> and a function as parameters. I already found thise -\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-java.util.function.BiFunction-\" rel=\"noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-java.util.function.BiFunction-</a></p>\n\n<p>but it doesn't fulfil my requirement. So issues I am facing</p>\n\n<ul>\n<li>I can not use <em>Mono.mergeWith</em> or <em>Mono.concaWith</em> method because my Mono object are of different kind.</li>\n<li>I can flatMap/map every Mono and create a chain. But I want service2 to be called parallel in a separate thread as it is not dependent on service1 call. But service3 call is dependent on service1 response.</li>\n</ul>\n\n<p>In summary, what I need to do:</p>\n\n<ul>\n<li>make service1 call at first</li>\n<li>make service2 call separately on different thread</li>\n<li>make service3 call which is dependent on service1 call data</li>\n<li>generating the final response object (<code>Mono&lt;ResponseEntity&lt;String&gt;&gt;</code>) using the data from all the service call.</li>\n</ul>\n\n<p>Thanks in advance. As a newbie, any suggestion is appreciated.</p>\n"},{"tags":["java","spring-boot","spring-boot-starter"],"comments":[{"owner":{"account_id":3779737,"reputation":572,"user_id":3139567,"display_name":"Goikiu"},"score":0,"creation_date":1686238992,"post_id":76432909,"comment_id":134774863,"body_markdown":"Hi, the issue seems here:\n@EnableJpaRepositories(basePackages = {&quot;com.example.starter.repository&quot;})\nit cannot find or load com.example.starter.model.entity.User\nthis file may be not with @entity or not in a folder already loaded","body":"Hi, the issue seems here: @EnableJpaRepositories(basePackages = {&quot;com.example.starter.repository&quot;}) it cannot find or load com.example.starter.model.entity.User this file may be not with @entity or not in a folder already loaded"},{"owner":{"account_id":22915187,"reputation":13,"user_id":17051878,"display_name":"Oleksii Perets"},"score":0,"creation_date":1686241424,"post_id":76432909,"comment_id":134775338,"body_markdown":"Unfortunately com.example.starter.model.entity.User has @Entity and it is in package","body":"Unfortunately com.example.starter.model.entity.User has @Entity and it is in package"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1686244994,"post_id":76432909,"comment_id":134776049,"body_markdown":"Have you [switched from `META-INF/spring.factories` to `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files) to register you auto-configuration classes?","body":"Have you <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files\" rel=\"nofollow noreferrer\">switched from <code>META-INF&#47;spring.factories</code> to <code>META-INF&#47;spring&#47;org.springframework.boot.autoconfigure.AutoC&zwnj;&#8203;onfiguration.imports</code></a> to register you auto-configuration classes?"}],"owner":{"account_id":22915187,"reputation":13,"user_id":17051878,"display_name":"Oleksii Perets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686234582,"creation_date":1686234582,"question_id":76432909,"body_markdown":"I would like to migrate the custom spring boot starter which has its own entities and repositories from spring boot 2 to 3.\r\n\r\n\r\nI currently have tried the following:\r\n\r\nregistar for entities:\r\n```\r\npublic class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\r\n\r\n    @Override\r\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\r\n        AutoConfigurationPackages.register(registry, User.class.getPackage().getName());\r\n    }\r\n}\r\n```\r\n\r\nconfiguration class:\r\n```\r\n@Configuration\r\n@AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = {&quot;com.example.starter.repository&quot;})\r\n@Import(StarterEntityRegistrar.class)\r\npublic class UserManagementAutoConfiguration {\r\n```\r\n\r\nbut unfortunately it doesn&#39;t work with spring boot 3, for spring boot 2 everything is ok.\r\n\r\nWhen I start my spring boot app depending on this custom starter I can see \r\n`Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.starter.model.entity.User`\r\n\r\nDo you have ideas how to fix it?","title":"Migrate the custom spring boot starter which has its own entities and repositories from spring boot 2 to 3","body":"<p>I would like to migrate the custom spring boot starter which has its own entities and repositories from spring boot 2 to 3.</p>\n<p>I currently have tried the following:</p>\n<p>registar for entities:</p>\n<pre><code>public class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\n\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\n        AutoConfigurationPackages.register(registry, User.class.getPackage().getName());\n    }\n}\n</code></pre>\n<p>configuration class:</p>\n<pre><code>@Configuration\n@AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = {&quot;com.example.starter.repository&quot;})\n@Import(StarterEntityRegistrar.class)\npublic class UserManagementAutoConfiguration {\n</code></pre>\n<p>but unfortunately it doesn't work with spring boot 3, for spring boot 2 everything is ok.</p>\n<p>When I start my spring boot app depending on this custom starter I can see\n<code>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.starter.model.entity.User</code></p>\n<p>Do you have ideas how to fix it?</p>\n"},{"tags":["java","ajax","groovy","gsp"],"owner":{"account_id":20416928,"reputation":1,"user_id":14978905,"display_name":"Superglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686234521,"creation_date":1686234521,"question_id":76432898,"body_markdown":"We currently have a customisation deployed on a third party application that uses GSP to accept user input and then sends that to the custom JAVA (Calls REST API) via controller to validate/verify inputs etc.. The GSP uses AJAX to make the calls. \r\n\r\n$.ajax({\r\n                async:false,\r\n                url:&quot;${request.contextPath}/roles/attrs&quot;,\r\n                type:&quot;post&quot;,\r\n                dataType:&quot;html&quot;,\r\n                data:qs,\r\n                success:function (returnData) {\r\n                    returnDataResult=returnData\r\n                },\r\n\r\nAfter an upgrade to the application we are unable to have a custom controller and can only make updates to the GSP and Custom Java. \r\n\r\nI&#39;m trying to find a way to do what was being done above using the controller but without haveing a controller.\r\n\r\nSome use cases:\r\n1. User inputs data to create a new account, the request is pushed to the Java which calls a REST api to check if an account with email already exists, or multiple accounts exist.  The account are then presented back to the user so they can pick one or create a new one.\r\n\r\nThanks in adavance.\r\nOz\r\n\r\nI have tried calling the java directly via scriplets in the GSP. But that doesn&#39;t really help with the interactivness required from th UI.","title":"Best approach for migrating from GSP using Ajax/Controller/Custom Java to Technology/framework that can beused directly from GSP","body":"<p>We currently have a customisation deployed on a third party application that uses GSP to accept user input and then sends that to the custom JAVA (Calls REST API) via controller to validate/verify inputs etc.. The GSP uses AJAX to make the calls.</p>\n<p>$.ajax({\nasync:false,\nurl:&quot;${request.contextPath}/roles/attrs&quot;,\ntype:&quot;post&quot;,\ndataType:&quot;html&quot;,\ndata:qs,\nsuccess:function (returnData) {\nreturnDataResult=returnData\n},</p>\n<p>After an upgrade to the application we are unable to have a custom controller and can only make updates to the GSP and Custom Java.</p>\n<p>I'm trying to find a way to do what was being done above using the controller but without haveing a controller.</p>\n<p>Some use cases:</p>\n<ol>\n<li>User inputs data to create a new account, the request is pushed to the Java which calls a REST api to check if an account with email already exists, or multiple accounts exist.  The account are then presented back to the user so they can pick one or create a new one.</li>\n</ol>\n<p>Thanks in adavance.\nOz</p>\n<p>I have tried calling the java directly via scriplets in the GSP. But that doesn't really help with the interactivness required from th UI.</p>\n"},{"tags":["java","memory","inputstream","unzip"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1686230356,"post_id":76432256,"comment_id":134772718,"body_markdown":"You can&#39;t put **files** into an `Outputstream`, that&#39;s a misnomer. `InputStream` represents the **contents** of the file, not the file itself. If you want to have a particular output file in the end, that is not the responsibility of the code you&#39;re showing, but the responsibility of the code that actually writes the result of your `extractPdfFile` somewhere.","body":"You can&#39;t put <b>files</b> into an <code>Outputstream</code>, that&#39;s a misnomer. <code>InputStream</code> represents the <b>contents</b> of the file, not the file itself. If you want to have a particular output file in the end, that is not the responsibility of the code you&#39;re showing, but the responsibility of the code that actually writes the result of your <code>extractPdfFile</code> somewhere."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686230680,"post_id":76432256,"comment_id":134772792,"body_markdown":"The code you&#39;re showing should properly unzip the file. Why do you think it doesn&#39;t? Like @M.Prokhorov said, you will still need to write the file using the returned `InputStream`.","body":"The code you&#39;re showing should properly unzip the file. Why do you think it doesn&#39;t? Like @M.Prokhorov said, you will still need to write the file using the returned <code>InputStream</code>."},{"owner":{"account_id":1562585,"reputation":21,"user_id":1452125,"display_name":"Rami Khal"},"score":0,"creation_date":1686231668,"post_id":76432256,"comment_id":134773056,"body_markdown":"@Jorn The returned InputStream from the method is in zip format. I sent it into another component, it extracts its name as &quot;.zip&quot;. There might be something wrong here. Could you explain what do you mean by writing the file from the returned InputStream?","body":"@Jorn The returned InputStream from the method is in zip format. I sent it into another component, it extracts its name as &quot;.zip&quot;. There might be something wrong here. Could you explain what do you mean by writing the file from the returned InputStream?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686231925,"post_id":76432256,"comment_id":134773137,"body_markdown":"@RamiKhal InputStream doesn&#39;t have a name. The other component must be coming up with it itself somehow.","body":"@RamiKhal InputStream doesn&#39;t have a name. The other component must be coming up with it itself somehow."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686234477,"creation_date":1686232387,"answer_id":76432586,"question_id":76432256,"body_markdown":"&gt; I have an inputstream that contains a zip file\r\n\r\nNo you do not.  Presumably you mean that you have an `InputStream` from which zip-formatted data can be read.  This is not the same thing, and the distinction can be important.\r\n\r\n&gt; I need to extract a specific file from this zip file, and put the extracted file in an inputstream, with extracted file type and name.\r\n\r\nAnd that&#39;s one of the ways in which it&#39;s important.  The data in a stream do not have an associated filename.  A stream is just a conduit for data.  You may create a stream that provides content from a particular file, but that&#39;s not a recognizable characteristic of the stream itself.  The type of the file&#39;s content is characteristic of the data, of course, but if by &quot;file type&quot; you mean &quot;filename extension&quot; or similar, then no, that just is not part of an `InputStream`.\r\n\r\nA `ZipInputStream` in particular does support a higher level of abstraction over the content, so that you can read it as  a sequence of `ZipEntry`s and their associated data, but that&#39;s a capability enabled by the specific form of the data (zip).  There is no analogue for generic `InputStream`s.\r\n\r\n&gt; I tried the following flow: [...] But it returns the new inputstream in zip format not .pdf.\r\n\r\nImplausible.  The various `ZipInputStream.read()` methods read the *uncompressed* data of an entry.  This is documented, and it has worked correctly for a very long time.  You have implemented an approach that will successfully extract that uncompressed data, and will provide an `InputStream` from which that uncompressed data can then be read.\r\n\r\nBut again, there is no file name or extension associated with the stream that is returned.  It&#39;s not even backed by a file.  The stream just provides a sequence of bytes from an array.  If you want to convey an associated filename then you need to do that separately.  For example, perhaps you want to provide the `ZipEntry` describing the file, along with the `InputStream` from which the data can be read -- almost like `ZipInputStream` does itself.\r\n\r\nYou might, for example, bundle that together like so:\r\n```\r\npublic class UncompressedData {\r\n\r\n    private byte[] bytes;\r\n    private String originalFilename;\r\n    private boolean isDirectory;\r\n    // ...\r\n\r\n    private UncompressedData() {\r\n        // empty\r\n    }\r\n\r\n    /**\r\n     * Creates and returns an UncompressedData object representing the\r\n     * current entry of the specified ZipInputStream, as described by\r\n     * the specified ZipEntry\r\n     */\r\n    public static UncompressedData fromZip(ZipEntry entry, ZipInputStream stream)\r\n            throws MyUncompressedDataException {\r\n        UncompressedData data = new UncompressedData();\r\n\r\n        data.originalFilename = entry.getName();\r\n        data.isDirectory = entry.isDirectory();\r\n\r\n        if (data.isDirectory) {\r\n            data.bytes = new byte[0];\r\n        } else {\r\n            int numToRead = entry.getLength();\r\n\r\n            data.bytes = new byte[numToRead];\r\n            for (int offset = 0; offset &lt; numToRead; ) {\r\n                int numRead = stream.read(data.bytes, offset, numToRead);\r\n                if (numRead &lt; 1) {\r\n                    throw new MyCompressedDataException();\r\n                }\r\n\r\n                offset += numRead;\r\n                numToRead -= numRead;\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Creates and returns an InputStream from which the bytes of this\r\n     * UncompressedData can be read.\r\n     */\r\n    public InputStream asStream() {\r\n        return new ByteArrayInputStream(bytes);\r\n    }\r\n\r\n    /**\r\n     * Returns a filename associated with this UncompressedData.\r\n     * Typically, this will be the name of an original source file from which\r\n     * the data were (somehow) obtained.\r\n     */\r\n    public String getOriginalFilename() {\r\n        return originalFilename;\r\n    }\r\n}\r\n```","title":"Unzip specific file from inputstream into another inputstream with same file name and type in java","body":"<blockquote>\n<p>I have an inputstream that contains a zip file</p>\n</blockquote>\n<p>No you do not.  Presumably you mean that you have an <code>InputStream</code> from which zip-formatted data can be read.  This is not the same thing, and the distinction can be important.</p>\n<blockquote>\n<p>I need to extract a specific file from this zip file, and put the extracted file in an inputstream, with extracted file type and name.</p>\n</blockquote>\n<p>And that's one of the ways in which it's important.  The data in a stream do not have an associated filename.  A stream is just a conduit for data.  You may create a stream that provides content from a particular file, but that's not a recognizable characteristic of the stream itself.  The type of the file's content is characteristic of the data, of course, but if by &quot;file type&quot; you mean &quot;filename extension&quot; or similar, then no, that just is not part of an <code>InputStream</code>.</p>\n<p>A <code>ZipInputStream</code> in particular does support a higher level of abstraction over the content, so that you can read it as  a sequence of <code>ZipEntry</code>s and their associated data, but that's a capability enabled by the specific form of the data (zip).  There is no analogue for generic <code>InputStream</code>s.</p>\n<blockquote>\n<p>I tried the following flow: [...] But it returns the new inputstream in zip format not .pdf.</p>\n</blockquote>\n<p>Implausible.  The various <code>ZipInputStream.read()</code> methods read the <em>uncompressed</em> data of an entry.  This is documented, and it has worked correctly for a very long time.  You have implemented an approach that will successfully extract that uncompressed data, and will provide an <code>InputStream</code> from which that uncompressed data can then be read.</p>\n<p>But again, there is no file name or extension associated with the stream that is returned.  It's not even backed by a file.  The stream just provides a sequence of bytes from an array.  If you want to convey an associated filename then you need to do that separately.  For example, perhaps you want to provide the <code>ZipEntry</code> describing the file, along with the <code>InputStream</code> from which the data can be read -- almost like <code>ZipInputStream</code> does itself.</p>\n<p>You might, for example, bundle that together like so:</p>\n<pre><code>public class UncompressedData {\n\n    private byte[] bytes;\n    private String originalFilename;\n    private boolean isDirectory;\n    // ...\n\n    private UncompressedData() {\n        // empty\n    }\n\n    /**\n     * Creates and returns an UncompressedData object representing the\n     * current entry of the specified ZipInputStream, as described by\n     * the specified ZipEntry\n     */\n    public static UncompressedData fromZip(ZipEntry entry, ZipInputStream stream)\n            throws MyUncompressedDataException {\n        UncompressedData data = new UncompressedData();\n\n        data.originalFilename = entry.getName();\n        data.isDirectory = entry.isDirectory();\n\n        if (data.isDirectory) {\n            data.bytes = new byte[0];\n        } else {\n            int numToRead = entry.getLength();\n\n            data.bytes = new byte[numToRead];\n            for (int offset = 0; offset &lt; numToRead; ) {\n                int numRead = stream.read(data.bytes, offset, numToRead);\n                if (numRead &lt; 1) {\n                    throw new MyCompressedDataException();\n                }\n\n                offset += numRead;\n                numToRead -= numRead;\n            }\n        }\n\n        return data;\n    }\n\n    /**\n     * Creates and returns an InputStream from which the bytes of this\n     * UncompressedData can be read.\n     */\n    public InputStream asStream() {\n        return new ByteArrayInputStream(bytes);\n    }\n\n    /**\n     * Returns a filename associated with this UncompressedData.\n     * Typically, this will be the name of an original source file from which\n     * the data were (somehow) obtained.\n     */\n    public String getOriginalFilename() {\n        return originalFilename;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1562585,"reputation":21,"user_id":1452125,"display_name":"Rami Khal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76432586,"answer_count":1,"score":0,"last_activity_date":1686234477,"creation_date":1686230174,"question_id":76432256,"body_markdown":"I have an inputstream that contains a zip file, I need to extract a specific file from this zip file, and put the extracted file in an inputstream, with extracted file type and name. \r\nExample: zip file in an inputstream, I need to unzip &quot;.pdf&quot; file, and put this &quot;.pdf&quot; file in an inputstream with the &quot;.pdf&quot; file name and type.\r\n\r\n\r\nI tried the following flow:\r\n\r\n```\r\nprivate InputStream extractPdfFile(InputStream zipInputStream) {\r\n        try {\r\n            ZipInputStream zip = new ZipInputStream(zipInputStream);\r\n            ZipEntry entry;\r\n            while ((entry = zip.getNextEntry()) != null) {\r\n                String currentFileName = entry.getName();\r\n                if (currentFileName.endsWith(PP_FILE_EXTENTION)) {\r\n                    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                    byte[] buffer = new byte[2048];\r\n                    int bytesRead;\r\n                    while ((bytesRead = zip.read(buffer)) != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                    zip.closeEntry();\r\n                    zip.close();\r\n                    outputStream.close();\r\n                    return new ByteArrayInputStream(outputStream.toByteArray());\r\n                }\r\n                zip.closeEntry();\r\n            }\r\n\r\n            zip.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null; // File not found in the zip\r\n    }\r\n\r\n```\r\n\r\nBut it returns the new inputstream in zip format not .pdf.\r\n\r\nAny idea how to unzip a file from inputstream and return the extracted file unzipped in another inputstream?","title":"Unzip specific file from inputstream into another inputstream with same file name and type in java","body":"<p>I have an inputstream that contains a zip file, I need to extract a specific file from this zip file, and put the extracted file in an inputstream, with extracted file type and name.\nExample: zip file in an inputstream, I need to unzip &quot;.pdf&quot; file, and put this &quot;.pdf&quot; file in an inputstream with the &quot;.pdf&quot; file name and type.</p>\n<p>I tried the following flow:</p>\n<pre><code>private InputStream extractPdfFile(InputStream zipInputStream) {\n        try {\n            ZipInputStream zip = new ZipInputStream(zipInputStream);\n            ZipEntry entry;\n            while ((entry = zip.getNextEntry()) != null) {\n                String currentFileName = entry.getName();\n                if (currentFileName.endsWith(PP_FILE_EXTENTION)) {\n                    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n                    byte[] buffer = new byte[2048];\n                    int bytesRead;\n                    while ((bytesRead = zip.read(buffer)) != -1) {\n                        outputStream.write(buffer, 0, bytesRead);\n                    }\n                    zip.closeEntry();\n                    zip.close();\n                    outputStream.close();\n                    return new ByteArrayInputStream(outputStream.toByteArray());\n                }\n                zip.closeEntry();\n            }\n\n            zip.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null; // File not found in the zip\n    }\n\n</code></pre>\n<p>But it returns the new inputstream in zip format not .pdf.</p>\n<p>Any idea how to unzip a file from inputstream and return the extracted file unzipped in another inputstream?</p>\n"},{"tags":["java","pdf-generation","pdfbox","pdfbox-layout"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686239530,"post_id":76432825,"comment_id":134774963,"body_markdown":"How is all of this related to &quot;attachment&quot;? From what I understand, you want to change the font in an existing PDF, and add images and tables. (PDF isn&#39;t really made for editing, such changes are incredibly difficult, it&#39;s better to get the original WORD or whatever file)","body":"How is all of this related to &quot;attachment&quot;? From what I understand, you want to change the font in an existing PDF, and add images and tables. (PDF isn&#39;t really made for editing, such changes are incredibly difficult, it&#39;s better to get the original WORD or whatever file)"},{"owner":{"account_id":10001806,"reputation":253,"user_id":7397485,"accept_rate":45,"display_name":"Rosa Mystica"},"score":0,"creation_date":1686241121,"post_id":76432825,"comment_id":134775283,"body_markdown":"@TilmanHausherr Currently I have an api which generate the customers report pdf using pdfBox . I want to add an attachment file of pdf format to the same customers report pdf with some content on it. Most of the time the content inside the attachment is some plain text. What I want is to change the color and font type of attachment  as I do it for the main pdf document ( pdPageContentStream.setFont(PDType1Font.COURIER_BOLD_OBLIQUE, 35) )","body":"@TilmanHausherr Currently I have an api which generate the customers report pdf using pdfBox . I want to add an attachment file of pdf format to the same customers report pdf with some content on it. Most of the time the content inside the attachment is some plain text. What I want is to change the color and font type of attachment  as I do it for the main pdf document ( pdPageContentStream.setFont(PDType1Font.COURIER_BOLD_OBLIQUE&zwnj;&#8203;, 35) )"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686293241,"post_id":76432825,"comment_id":134781689,"body_markdown":"For starters, have you tried to change `PDType1Font.COURIER_BOLD_OBLIQUE` to something else, e.g. `PDType1Font.HELVETICA` and set the color with `setNonStrokingColor(Color.red)`? I still don&#39;t see how this is related to &quot;attachment&quot;.","body":"For starters, have you tried to change <code>PDType1Font.COURIER_BOLD_OBLIQUE</code> to something else, e.g. <code>PDType1Font.HELVETICA</code> and set the color with <code>setNonStrokingColor(Color.red)</code>? I still don&#39;t see how this is related to &quot;attachment&quot;."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686311837,"post_id":76432825,"comment_id":134784990,"body_markdown":"Don&#39;t assume you can simply change font and color of text in an existing pdf. Under certain benign circumstances (the pdf being built in certain ways, the replacement font matching the original one in some aspects) it is possible to some degree but to verify that your pdfs allow that, we&#39;d need representative examples. *Adding* stuff, on the other hand, usually is easy.","body":"Don&#39;t assume you can simply change font and color of text in an existing pdf. Under certain benign circumstances (the pdf being built in certain ways, the replacement font matching the original one in some aspects) it is possible to some degree but to verify that your pdfs allow that, we&#39;d need representative examples. <i>Adding</i> stuff, on the other hand, usually is easy."},{"owner":{"account_id":10001806,"reputation":253,"user_id":7397485,"accept_rate":45,"display_name":"Rosa Mystica"},"score":0,"creation_date":1686329411,"post_id":76432825,"comment_id":134788847,"body_markdown":"@TilmanHausherr I tried by adding the color setNonStrokingColor(Color.red) and font PDType1Font.HELVETICA but it is applicable only in case of the parent document. It will not work for the attachment contents. To answer your question how it is related to attachments even the font color and type is applicable for a pdf attachment as well. I am not sure the issue is coming because the file type in the above code is text/plain. I have an issue related to creating pdf type attachments , sometimes this will fix once fix the issue with pdf attachment -  https://stackoverflow.com/questions/76442124","body":"@TilmanHausherr I tried by adding the color setNonStrokingColor(Color.red) and font PDType1Font.HELVETICA but it is applicable only in case of the parent document. It will not work for the attachment contents. To answer your question how it is related to attachments even the font color and type is applicable for a pdf attachment as well. I am not sure the issue is coming because the file type in the above code is text/plain. I have an issue related to creating pdf type attachments , sometimes this will fix once fix the issue with pdf attachment -  <a href=\"https://stackoverflow.com/questions/76442124\">stackoverflow.com/questions/76442124</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686335292,"post_id":76432825,"comment_id":134789893,"body_markdown":"Ah, I missed the &quot;text/plain&quot; part. Text files are just that. If you have seen a PDF where the text/plain attachment can be shown in different colors, please upload it somewhere, I&#39;d have a look at it with PDFDebugger.","body":"Ah, I missed the &quot;text/plain&quot; part. Text files are just that. If you have seen a PDF where the text/plain attachment can be shown in different colors, please upload it somewhere, I&#39;d have a look at it with PDFDebugger."},{"owner":{"account_id":10001806,"reputation":253,"user_id":7397485,"accept_rate":45,"display_name":"Rosa Mystica"},"score":0,"creation_date":1686335670,"post_id":76432825,"comment_id":134789949,"body_markdown":"Thank you @TilmanHausherr I assume text/plain cannot be shown with a different font color and type. It will always use the default from the editor we use. And most of the time default is Arial Black with font size 11.  But I am sure it will render with color and specified font type in &#39;application/pdf &#39; file type. But I am not able to render a &#39;application/pdf &#39; document attachment. It is giving some error as you can see in  stackoverflow.com/questions/76442124  Will you able to provide an input on that issue","body":"Thank you @TilmanHausherr I assume text/plain cannot be shown with a different font color and type. It will always use the default from the editor we use. And most of the time default is Arial Black with font size 11.  But I am sure it will render with color and specified font type in &#39;application/pdf &#39; file type. But I am not able to render a &#39;application/pdf &#39; document attachment. It is giving some error as you can see in  stackoverflow.com/questions/76442124  Will you able to provide an input on that issue"}],"owner":{"account_id":10001806,"reputation":253,"user_id":7397485,"accept_rate":45,"display_name":"Rosa Mystica"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686233982,"creation_date":1686233982,"question_id":76432825,"body_markdown":"\r\nI&#39;m currently working on adding an attachment to a PDF using the PDFBox library in Java. While referring to the code snippet,   [Adding a File Attachment][1]\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/1.8/cookbook/workingwithattachments.html#:~:text=Adding%20a%20File%20Attachment,attached%20to%20the%20document%20catalog. \r\nI successfully attached the document created using ByteArrayInputStream to the attachment. However, I noticed that the font type and color of the attachment&#39;s contents remain the same. How to modify the font color and type for the contents of the attachment.\r\n\r\nThe code snippet I used is as below,\r\n\r\n            // create a new tree node and add the embedded file\r\n            PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\r\n            Map&lt;String, PDComplexFileSpecification&gt; treeNodeMap = new HashMap&lt;&gt;();\r\n\r\n            for (Map.Entry&lt;String, String&gt; entry : keyValueMap.entrySet()) {\r\n\r\n                // first create the file specification, which holds the embedded file\r\n                PDComplexFileSpecification fs = new PDComplexFileSpecification();\r\n                fs.setFile(entry.getKey());\r\n                // create a dummy file stream, this would probably normally be a FileInputStream\r\n                byte[] data = entry.getValue().getBytes();\r\n                ByteArrayInputStream fakeFile = new ByteArrayInputStream(data);              \r\n                // now lets some of the optional parameters\r\n                PDEmbeddedFile ef = new PDEmbeddedFile(doc, fakeFile);\r\n                ef.setSubtype(&quot;text/plain&quot;);\r\n                ef.setSize(data.length);\r\n                ef.setCreationDate(Calendar.getInstance());\r\n                fs.setEmbeddedFile(ef);\r\n                treeNodeMap.put(entry.getKey(), fs);\r\n            }\r\n\r\n            efTree.setNames(treeNodeMap);\r\n\r\n            // add the tree to the document catalog\r\n            PDDocumentNameDictionary names = new PDDocumentNameDictionary(doc.getDocumentCatalog());\r\n            names.setEmbeddedFiles(efTree);\r\n            doc.getDocumentCatalog().setNames(names);\r\nAlso I would like to know if it is possible to add image and tables in the attachment along with other contents using pdfBox library . I am using 2.0.25 version of pdf box","title":"Change the font color and font type of an attachment content using PDFBox","body":"<p>I'm currently working on adding an attachment to a PDF using the PDFBox library in Java. While referring to the code snippet,   <a href=\"https://pdfbox.apache.org/1.8/cookbook/workingwithattachments.html#:%7E:text=Adding%20a%20File%20Attachment,attached%20to%20the%20document%20catalog.\" rel=\"nofollow noreferrer\">Adding a File Attachment</a></p>\n<p>I successfully attached the document created using ByteArrayInputStream to the attachment. However, I noticed that the font type and color of the attachment's contents remain the same. How to modify the font color and type for the contents of the attachment.</p>\n<p>The code snippet I used is as below,</p>\n<pre><code>        // create a new tree node and add the embedded file\n        PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\n        Map&lt;String, PDComplexFileSpecification&gt; treeNodeMap = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String, String&gt; entry : keyValueMap.entrySet()) {\n\n            // first create the file specification, which holds the embedded file\n            PDComplexFileSpecification fs = new PDComplexFileSpecification();\n            fs.setFile(entry.getKey());\n            // create a dummy file stream, this would probably normally be a FileInputStream\n            byte[] data = entry.getValue().getBytes();\n            ByteArrayInputStream fakeFile = new ByteArrayInputStream(data);              \n            // now lets some of the optional parameters\n            PDEmbeddedFile ef = new PDEmbeddedFile(doc, fakeFile);\n            ef.setSubtype(&quot;text/plain&quot;);\n            ef.setSize(data.length);\n            ef.setCreationDate(Calendar.getInstance());\n            fs.setEmbeddedFile(ef);\n            treeNodeMap.put(entry.getKey(), fs);\n        }\n\n        efTree.setNames(treeNodeMap);\n\n        // add the tree to the document catalog\n        PDDocumentNameDictionary names = new PDDocumentNameDictionary(doc.getDocumentCatalog());\n        names.setEmbeddedFiles(efTree);\n        doc.getDocumentCatalog().setNames(names);\n</code></pre>\n<p>Also I would like to know if it is possible to add image and tables in the attachment along with other contents using pdfBox library . I am using 2.0.25 version of pdf box</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686234891,"post_id":76432807,"comment_id":134773921,"body_markdown":"I suppose, `thenApplyAsync(ignore -&gt; { ... }` is considered fine enough. For example, look at `Map.compute()` javadoc: &quot;For example, to either create or append a String msg to a value mapping:\n `map.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))`&quot; Here `k` is ignored yet it is an officially proposed solution","body":"I suppose, <code>thenApplyAsync(ignore -&gt; { ... }</code> is considered fine enough. For example, look at <code>Map.compute()</code> javadoc: &quot;For example, to either create or append a String msg to a value mapping:  <code>map.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))</code>&quot; Here <code>k</code> is ignored yet it is an officially proposed solution"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686242505,"post_id":76432807,"comment_id":134775546,"body_markdown":"[…and of course the answer is always the same: because no one implemented it. Features start off as unimplemented and only become implemented when people spend effort implementing them: no effort, no feature](https://ericlippert.com/2012/03/09/why-not-automatically-infer-constraints/#:~:text=and%20of%20course%20the%20answer%20is%20always%20the%20same%3A%20because%20no%20one%20implemented%20it.%20Features%20start%20off%20as%20unimplemented%20and%20only%20become%20implemented%20when%20people%20spend%20effort%20implementing%20them%3A%20no%20effort%2C%20no%20feature)","body":"<a href=\"https://ericlippert.com/2012/03/09/why-not-automatically-infer-constraints/#:~:text=and%20of%20course%20the%20answer%20is%20always%20the%20same%3A%20because%20no%20one%20implemented%20it.%20Features%20start%20off%20as%20unimplemented%20and%20only%20become%20implemented%20when%20people%20spend%20effort%20implementing%20them%3A%20no%20effort%2C%20no%20feature\" rel=\"nofollow noreferrer\">…and of course the answer is always the same: because no one implemented it. Features start off as unimplemented and only become implemented when people spend effort implementing them: no effort, no feature</a>"}],"owner":{"account_id":29303,"reputation":10257,"user_id":79111,"accept_rate":87,"display_name":"Ton van den Heuvel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686233865,"creation_date":1686233865,"question_id":76432807,"body_markdown":"I am using Java 8, and have some completable future of the following form:\r\n\r\n```\r\nCompletableFuture.runAsync(() -&gt; { ... }, executorA).thenRunAsync(() -&gt; { ... }, executorB);\r\n```\r\n\r\nNow I would like to have the second asynchronous operation return some value, and I was expecting to have a function like `thenSupplyAsync` taking a `Supplier`, but alas it does not seem to exist. The following works, but is not very nice:\r\n\r\n\r\n```\r\nCompletableFuture.runAsync(() -&gt; { ... }, executorA).thenApplyAsync(ignore -&gt; { ... }, executorB);\r\n```\r\n\r\nI would like to write:\r\n\r\n\r\n```\r\nCompletableFuture.runAsync(() -&gt; { ... }, executorA).thenSupplyAsync(() -&gt; { ... }, executorB);\r\n```\r\n\r\nIs there a reason why `CompletableFuture.thenSupplyAsync()` does not exist?","title":"Why is there no equivalent to `CompletableFuture.thenSupplyAsync()`","body":"<p>I am using Java 8, and have some completable future of the following form:</p>\n<pre><code>CompletableFuture.runAsync(() -&gt; { ... }, executorA).thenRunAsync(() -&gt; { ... }, executorB);\n</code></pre>\n<p>Now I would like to have the second asynchronous operation return some value, and I was expecting to have a function like <code>thenSupplyAsync</code> taking a <code>Supplier</code>, but alas it does not seem to exist. The following works, but is not very nice:</p>\n<pre><code>CompletableFuture.runAsync(() -&gt; { ... }, executorA).thenApplyAsync(ignore -&gt; { ... }, executorB);\n</code></pre>\n<p>I would like to write:</p>\n<pre><code>CompletableFuture.runAsync(() -&gt; { ... }, executorA).thenSupplyAsync(() -&gt; { ... }, executorB);\n</code></pre>\n<p>Is there a reason why <code>CompletableFuture.thenSupplyAsync()</code> does not exist?</p>\n"},{"tags":["java","file","http","url","blob"],"owner":{"account_id":26516221,"reputation":11,"user_id":20150707,"display_name":"pipo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686233613,"creation_date":1686233613,"question_id":76432766,"body_markdown":"I want to convert a blob to a mp3-audiFile from my own website so i made this testclass. I keep on getting this message, and when i remove &#39;blob:&#39; from the link, i get a FileNotFoundException. How can I solve this? I cannot really find anything on the internet that gives a sollution.\r\n\r\n    import javax.sound.sampled.spi.AudioFileReader;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.nio.file.Files;\r\n    import java.sql.*;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        class AudioConverter {\r\n\r\n            public static File convertBlobToAudio(String blobLink, String title) throws IOException {\r\n\r\n                URL url = new URL(blobLink);\r\n\r\n                InputStream inputStream = url.openStream();\r\n\r\n                File audioFile = File.createTempFile(title, &quot;.mp3&quot;);\r\n\r\n                Files.copy(inputStream, audioFile.toPath());\r\n\r\n                return audioFile;\r\n\r\n            }\r\n\r\n            public static File getAndOrCreateDirectory(String username) {\r\n\r\n                String directory = &quot;C:\\\\Users\\\\prody\\\\IdeaProjects\\\\testje3\\\\src\\\\instrumentals&quot;;\r\n\r\n                File[] fileList = new File(directory).listFiles();\r\n\r\n                for (File file: fileList) {\r\n                    if (file.getName().equals(username)) {\r\n                        return file;\r\n                    }\r\n                }\r\n\r\n                File newDirectory = new File(directory, username);\r\n\r\n                if (newDirectory.mkdirs()) {\r\n                    return newDirectory;\r\n                }\r\n\r\n                return null;\r\n\r\n            }\r\n\r\n            public static boolean addAudioToDirectory(File audioFile, File directory) {\r\n\r\n                return audioFile.renameTo(directory);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        File audio = AudioConverter.convertBlobToAudio(&quot;http://localhost:8080/cb4f0a31-57ef-407a-b56a-0d9eebf1a82f&quot;, &quot;title&quot;);\r\n        System.out.println(audio);\r\n\r\n        File directory = AudioConverter.getAndOrCreateDirectory(&quot;prodByPieter&quot;);\r\n        System.out.println(directory);\r\n\r\n        boolean succes = AudioConverter.addAudioToDirectory(audio, directory);\r\n        System.out.println(succes);\r\n    }\r\n}\r\n\r\nThis is the message that i get: \r\n\r\n    Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: blob\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:682)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:570)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:517)\r\n\tat Main$1AudioConverter.convertBlobToAudio(Main.java:18)\r\n\tat Main.main(Main.java:60)\r\n\r\n\r\n\r\n\r\n","title":"Cannot get blob","body":"<p>I want to convert a blob to a mp3-audiFile from my own website so i made this testclass. I keep on getting this message, and when i remove 'blob:' from the link, i get a FileNotFoundException. How can I solve this? I cannot really find anything on the internet that gives a sollution.</p>\n<pre><code>import javax.sound.sampled.spi.AudioFileReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.nio.file.Files;\nimport java.sql.*;\n\npublic class Main {\npublic static void main(String[] args) throws IOException {\n\n    class AudioConverter {\n\n        public static File convertBlobToAudio(String blobLink, String title) throws IOException {\n\n            URL url = new URL(blobLink);\n\n            InputStream inputStream = url.openStream();\n\n            File audioFile = File.createTempFile(title, &quot;.mp3&quot;);\n\n            Files.copy(inputStream, audioFile.toPath());\n\n            return audioFile;\n\n        }\n\n        public static File getAndOrCreateDirectory(String username) {\n\n            String directory = &quot;C:\\\\Users\\\\prody\\\\IdeaProjects\\\\testje3\\\\src\\\\instrumentals&quot;;\n\n            File[] fileList = new File(directory).listFiles();\n\n            for (File file: fileList) {\n                if (file.getName().equals(username)) {\n                    return file;\n                }\n            }\n\n            File newDirectory = new File(directory, username);\n\n            if (newDirectory.mkdirs()) {\n                return newDirectory;\n            }\n\n            return null;\n\n        }\n\n        public static boolean addAudioToDirectory(File audioFile, File directory) {\n\n            return audioFile.renameTo(directory);\n\n        }\n\n    }\n\n    File audio = AudioConverter.convertBlobToAudio(&quot;http://localhost:8080/cb4f0a31-57ef-407a-b56a-0d9eebf1a82f&quot;, &quot;title&quot;);\n    System.out.println(audio);\n\n    File directory = AudioConverter.getAndOrCreateDirectory(&quot;prodByPieter&quot;);\n    System.out.println(directory);\n\n    boolean succes = AudioConverter.addAudioToDirectory(audio, directory);\n    System.out.println(succes);\n}\n</code></pre>\n<p>}</p>\n<p>This is the message that i get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: blob\nat java.base/java.net.URL.&lt;init&gt;(URL.java:682)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:570)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:517)\nat Main$1AudioConverter.convertBlobToAudio(Main.java:18)\nat Main.main(Main.java:60)\n</code></pre>\n"},{"tags":["java","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686080069,"post_id":76416484,"comment_id":134749548,"body_markdown":"One idea is to create an application model made up of lines, circles, and cubes.  The application model is made up of one or more plain Java getter/setter classes.  Your drawing `JPanel` then draws the logical model.","body":"One idea is to create an application model made up of lines, circles, and cubes.  The application model is made up of one or more plain Java getter/setter classes.  Your drawing <code>JPanel</code> then draws the logical model."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686080430,"post_id":76416484,"comment_id":134749615,"body_markdown":"If you need hit detection I would think it would be better to keep a `List` of `Shape` objects to paint. The Shape can be added to the List in its rotated state. Then when doing hit detection you should be able to just iterate through the List to see in any Shape contains the mouse point. Check out [Playing With Shapes](https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/) for more information.","body":"If you need hit detection I would think it would be better to keep a <code>List</code> of <code>Shape</code> objects to paint. The Shape can be added to the List in its rotated state. Then when doing hit detection you should be able to just iterate through the List to see in any Shape contains the mouse point. Check out <a href=\"https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/\" rel=\"nofollow noreferrer\">Playing With Shapes</a> for more information."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":1,"creation_date":1686139789,"post_id":76416484,"comment_id":134757700,"body_markdown":"@camickr this might be exactly what I need. thank you. If you create an actual response i will mark it as the right one for my use.","body":"@camickr this might be exactly what I need. thank you. If you create an actual response i will mark it as the right one for my use."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686147001,"post_id":76416484,"comment_id":134759429,"body_markdown":"@GizmoDailys, this site doesn&#39;t like to have answers that link to an external site which is why I added it as a comment to give you and idea for the approach.","body":"@GizmoDailys, this site doesn&#39;t like to have answers that link to an external site which is why I added it as a comment to give you and idea for the approach."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":0,"creation_date":1686163326,"post_id":76416484,"comment_id":134762989,"body_markdown":"@camickr Ah gotcha welp it worked like a charm. there is wrong code in his classes but is easy to fix.","body":"@camickr Ah gotcha welp it worked like a charm. there is wrong code in his classes but is easy to fix."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686170689,"post_id":76416484,"comment_id":134764294,"body_markdown":"@GizmoDailys, hmm, sorry about that. That code on my machine has been updated version. Guess I forgot to update the website. The new version is on the website. It also contains a new &quot;translate(...)` method. Thanks for pointing this out.","body":"@GizmoDailys, hmm, sorry about that. That code on my machine has been updated version. Guess I forgot to update the website. The new version is on the website. It also contains a new &quot;translate(...)` method. Thanks for pointing this out."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":0,"creation_date":1686225053,"post_id":76416484,"comment_id":134771387,"body_markdown":"@camickr I just realized you are the author of the link you sent me lol. It worked like a charm. the code I was referencing was in the rotation under shapeutils you are rotating about a fixed point not the objects center. I was also wondering if you per chance had an idea as to how to rotate a polygon such as a triangle?","body":"@camickr I just realized you are the author of the link you sent me lol. It worked like a charm. the code I was referencing was in the rotation under shapeutils you are rotating about a fixed point not the objects center. I was also wondering if you per chance had an idea as to how to rotate a polygon such as a triangle?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686233640,"post_id":76416484,"comment_id":134773586,"body_markdown":"@GizmoDailys how to rotate a polygon such as a triangle? - not sure I understand the question. A pollygon is a Shape. Any Shape can be rotated. See answer below.","body":"@GizmoDailys how to rotate a polygon such as a triangle? - not sure I understand the question. A pollygon is a Shape. Any Shape can be rotated. See answer below."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686233565,"creation_date":1686233238,"answer_id":76432716,"question_id":76416484,"body_markdown":"If you need hit detection you can keep a `List` of `Shape` objects to paint.\r\n\r\n1. in the `paintComponent(...)` method you then iterate through the `List` to paint each `Shape`\r\n2. In the `MouseListener` you iterate through the `List` and invoke the `contains(...)` method on the `Shape`.\r\n\r\nBefore adding the `Shape` to the List you can use the `ShapeUtils.rotate(...)` method to rotate the `Shape` so the `Shape` is painted correctly and hit detection works.\r\n\r\n    import java.awt.Point;\r\n    import java.awt.Polygon;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Shape;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Path2D;\r\n    import java.awt.geom.GeneralPath;\r\n    \r\n    /**\r\n     *\tCollection of static methods to make working with Shapes easier.\r\n     */\r\n    public class ShapeUtils\r\n    {\r\n    \t/**\r\n    \t *  The points of the Shape are calculated by specifying the radius of each\r\n    \t *  point. You must specify the number of points to be calculated as well\r\n    \t *  as an array (varargs) containing the radius for each point. The\r\n    \t *  calculation of each Point will use the radius modulo array.length.\r\n    \t *  For example you can create Shapes like the following:\r\n    \t *\r\n    \t *  Shape hexagon = ShapeUtils.radiusShape(6, 10);\r\n    \t *  Shape star = ShapeUtils.radiusShape(16, 20, 8);\r\n    \t *  Shape doubleStar = ShapeUtils.radiusShape(16, 20, 8, 14, 8);\r\n    \t *\r\n    \t *  @param point the number of points contained in the Shape\r\n    \t *  @param radii one or more radius used to calculate a specific point\r\n    \t *\r\n    \t *  @returns a Shape containing all the calculated points\r\n    \t */\r\n    \t public static Shape radiusShape(int points, int... radii)\r\n    \t {\r\n    \t\tPolygon polygon = new Polygon();\r\n    \r\n    \t\tfor (int i = 0; i &lt; points; i++)\r\n    \t\t{\r\n    \t\t\tdouble radians = Math.toRadians(i * 360 / points);\r\n    \t\t\tint radius = radii[i % radii.length];\r\n    \r\n    \t\t\tdouble x = Math.cos(radians) * radius;\r\n    \t\t\tdouble y = Math.sin(radians) * radius;\r\n    \r\n    \t\t\tpolygon.addPoint((int)x, (int)y);\r\n    \t\t}\r\n    \r\n    \t\tRectangle bounds = polygon.getBounds();\r\n    \t\tpolygon.translate(-bounds.x, -bounds.y);\r\n    \r\n    \t\treturn polygon;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *  Rotate a Shape about its center in a clockwise direction by a specified angle\r\n    \t *\r\n    \t *  @param shape the Shape to rotate\r\n    \t *  @param angle the angle in degrees\r\n    \t *\r\n    \t *  @returns a new rotated Shape object\r\n    \t */\r\n    \tpublic static Shape rotate(Shape shape, int angle)\r\n    \t{\r\n    \t\tdouble radians = Math.toRadians( angle );\r\n    \t\tRectangle bounds = shape.getBounds();\r\n    \t\tdouble anchorX = bounds.x + bounds.width / 2;\r\n    \t\tdouble anchorY = bounds.y + bounds.height / 2;\r\n    \t\tAffineTransform at = AffineTransform.getRotateInstance(radians, anchorX, anchorY);\r\n    \t\tShape rotated = at.createTransformedShape(shape);\r\n    \r\n    \t\treturn rotated;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *  Translate a Shape\r\n    \t *\r\n    \t *  @param shape the Shape to rotate\r\n    \t *  @param point the Point containing the requested translation\r\n    \t *\r\n    \t *  @returns a new translated Shape object\r\n    \t */\r\n    \tpublic static Shape translate(Shape shape, Point point)\r\n    \t{\r\n    \t\tAffineTransform at = AffineTransform.getTranslateInstance(point.x, point.y);\r\n    \t\tShape translated = at.createTransformedShape(shape);\r\n    \r\n    \t\treturn translated;\r\n    \t}\r\n    }\r\n\r\nCheck out: [Drag a Painted Shape](https://stackoverflow.com/a/67443344/131872) for a complete working example.\r\n\r\nNote, I changed code in the above link:\r\n\r\n\t//shapePanel.addShape(barBell, Color.RED);\r\n\tshapePanel.addShape( ShapeUtils.rotate(barBell, 45), Color.RED);\r\n\r\nto demonstrate how to rotate any `Shape`.\r\n\r\nYou can also check out [Playing With Shapes](https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/) for more information and the most current version of the `ShapeUtils` code (in case it changes).","title":"How to translate a bounding box for selection purposes with a bufferedimage rotation","body":"<p>If you need hit detection you can keep a <code>List</code> of <code>Shape</code> objects to paint.</p>\n<ol>\n<li>in the <code>paintComponent(...)</code> method you then iterate through the <code>List</code> to paint each <code>Shape</code></li>\n<li>In the <code>MouseListener</code> you iterate through the <code>List</code> and invoke the <code>contains(...)</code> method on the <code>Shape</code>.</li>\n</ol>\n<p>Before adding the <code>Shape</code> to the List you can use the <code>ShapeUtils.rotate(...)</code> method to rotate the <code>Shape</code> so the <code>Shape</code> is painted correctly and hit detection works.</p>\n<pre><code>import java.awt.Point;\nimport java.awt.Polygon;\nimport java.awt.Rectangle;\nimport java.awt.Shape;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Path2D;\nimport java.awt.geom.GeneralPath;\n\n/**\n *  Collection of static methods to make working with Shapes easier.\n */\npublic class ShapeUtils\n{\n    /**\n     *  The points of the Shape are calculated by specifying the radius of each\n     *  point. You must specify the number of points to be calculated as well\n     *  as an array (varargs) containing the radius for each point. The\n     *  calculation of each Point will use the radius modulo array.length.\n     *  For example you can create Shapes like the following:\n     *\n     *  Shape hexagon = ShapeUtils.radiusShape(6, 10);\n     *  Shape star = ShapeUtils.radiusShape(16, 20, 8);\n     *  Shape doubleStar = ShapeUtils.radiusShape(16, 20, 8, 14, 8);\n     *\n     *  @param point the number of points contained in the Shape\n     *  @param radii one or more radius used to calculate a specific point\n     *\n     *  @returns a Shape containing all the calculated points\n     */\n     public static Shape radiusShape(int points, int... radii)\n     {\n        Polygon polygon = new Polygon();\n\n        for (int i = 0; i &lt; points; i++)\n        {\n            double radians = Math.toRadians(i * 360 / points);\n            int radius = radii[i % radii.length];\n\n            double x = Math.cos(radians) * radius;\n            double y = Math.sin(radians) * radius;\n\n            polygon.addPoint((int)x, (int)y);\n        }\n\n        Rectangle bounds = polygon.getBounds();\n        polygon.translate(-bounds.x, -bounds.y);\n\n        return polygon;\n    }\n\n    /**\n     *  Rotate a Shape about its center in a clockwise direction by a specified angle\n     *\n     *  @param shape the Shape to rotate\n     *  @param angle the angle in degrees\n     *\n     *  @returns a new rotated Shape object\n     */\n    public static Shape rotate(Shape shape, int angle)\n    {\n        double radians = Math.toRadians( angle );\n        Rectangle bounds = shape.getBounds();\n        double anchorX = bounds.x + bounds.width / 2;\n        double anchorY = bounds.y + bounds.height / 2;\n        AffineTransform at = AffineTransform.getRotateInstance(radians, anchorX, anchorY);\n        Shape rotated = at.createTransformedShape(shape);\n\n        return rotated;\n    }\n\n    /**\n     *  Translate a Shape\n     *\n     *  @param shape the Shape to rotate\n     *  @param point the Point containing the requested translation\n     *\n     *  @returns a new translated Shape object\n     */\n    public static Shape translate(Shape shape, Point point)\n    {\n        AffineTransform at = AffineTransform.getTranslateInstance(point.x, point.y);\n        Shape translated = at.createTransformedShape(shape);\n\n        return translated;\n    }\n}\n</code></pre>\n<p>Check out: <a href=\"https://stackoverflow.com/a/67443344/131872\">Drag a Painted Shape</a> for a complete working example.</p>\n<p>Note, I changed code in the above link:</p>\n<pre><code>//shapePanel.addShape(barBell, Color.RED);\nshapePanel.addShape( ShapeUtils.rotate(barBell, 45), Color.RED);\n</code></pre>\n<p>to demonstrate how to rotate any <code>Shape</code>.</p>\n<p>You can also check out <a href=\"https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/\" rel=\"nofollow noreferrer\">Playing With Shapes</a> for more information and the most current version of the <code>ShapeUtils</code> code (in case it changes).</p>\n"}],"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76432716,"answer_count":1,"score":0,"last_activity_date":1686233565,"creation_date":1686067566,"question_id":76416484,"body_markdown":"I am trying to keep a bounding box local to a buffered image after it is being rotated.\r\n\r\nGood day everyone. I am having an issue with a program I am currently working on. I draw an image to a buffered image then that buffered image on to the actual panel. I did it this way because I have multiple objects being drawn and rotated on one jpanel and it seemed easier to keep track of and rotate them to me.\r\n```\r\npublic void draw(Graphics2D g2, JPanel p)\r\n{\r\n\tBufferedImage bufferedImage = new BufferedImage(Width + 40, Height + 40, BufferedImage.TYPE_INT_ARGB); \r\n    Graphics2D g2d = (Graphics2D) bufferedImage.getGraphics();  // Graphics for the first object only\r\n\t    \r\n\tAffineTransform old = g2.getTransform();\r\n\t\t\r\n\tg2d.setStroke(new BasicStroke(2));\r\n\tg2d.setColor(Color.blue);\r\n\t\t\r\n\tif(type.equals(&quot;cone&quot;))\r\n\t{\r\n\t\t\t\r\n\t}\r\n\telse if(type.equals(&quot;cube&quot;))\r\n\t{\r\n\t\tg2d.drawRect(20, 20, Width, Height);\r\n\t}\r\n\telse if(type.equals(&quot;circle&quot;))\r\n\t{\r\n\t\tg2d.drawOval(20, 20, Width, Height);\r\n\t}\r\n\telse if(type.equals(&quot;line&quot;))\r\n\t{\r\n\t\tg2d.drawRect(20, 20, Width, Height);\r\n\t}\r\n\t\t\r\n\tif(isselected)\r\n\t\tdrawbounding(g2d, p);\r\n\t\t\r\n\tg2.rotate((double) rotate, X, Y);\r\n\tg2.drawImage(bufferedImage, X, Y, p);\r\n\t\t\r\n\tg2d.setTransform(old);\r\n}\r\n```\r\nThe above code is the way I draw and rotate everything. I am then using this next code segment to calculate whether a click is inside of a pre determined bounding box.\r\n\r\n```\r\npublic boolean isSelected(int x, int y)\r\n{\r\n\tif(x &gt; X &amp;&amp; x &lt; X + 40 + Width)\r\n\t{\r\n\t\tif(y &gt; Y &amp;&amp; y &lt; Y + 40 + Height)\r\n\t\t{\r\n\t\t\tisselected = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tisselected = false;\r\n\treturn false;\r\n}\r\n```\r\nThe issue I am running in to is that when the buffered image gets rotated the bounding box doesnt rotate with it. I know this has to do with the fact that the bounding box uses global x, y coordinates and the buffered image is local coordinates to the buffered image itself. How would i go about rotating the bounding box with the buffered image?","title":"How to translate a bounding box for selection purposes with a bufferedimage rotation","body":"<p>I am trying to keep a bounding box local to a buffered image after it is being rotated.</p>\n<p>Good day everyone. I am having an issue with a program I am currently working on. I draw an image to a buffered image then that buffered image on to the actual panel. I did it this way because I have multiple objects being drawn and rotated on one jpanel and it seemed easier to keep track of and rotate them to me.</p>\n<pre><code>public void draw(Graphics2D g2, JPanel p)\n{\n    BufferedImage bufferedImage = new BufferedImage(Width + 40, Height + 40, BufferedImage.TYPE_INT_ARGB); \n    Graphics2D g2d = (Graphics2D) bufferedImage.getGraphics();  // Graphics for the first object only\n        \n    AffineTransform old = g2.getTransform();\n        \n    g2d.setStroke(new BasicStroke(2));\n    g2d.setColor(Color.blue);\n        \n    if(type.equals(&quot;cone&quot;))\n    {\n            \n    }\n    else if(type.equals(&quot;cube&quot;))\n    {\n        g2d.drawRect(20, 20, Width, Height);\n    }\n    else if(type.equals(&quot;circle&quot;))\n    {\n        g2d.drawOval(20, 20, Width, Height);\n    }\n    else if(type.equals(&quot;line&quot;))\n    {\n        g2d.drawRect(20, 20, Width, Height);\n    }\n        \n    if(isselected)\n        drawbounding(g2d, p);\n        \n    g2.rotate((double) rotate, X, Y);\n    g2.drawImage(bufferedImage, X, Y, p);\n        \n    g2d.setTransform(old);\n}\n</code></pre>\n<p>The above code is the way I draw and rotate everything. I am then using this next code segment to calculate whether a click is inside of a pre determined bounding box.</p>\n<pre><code>public boolean isSelected(int x, int y)\n{\n    if(x &gt; X &amp;&amp; x &lt; X + 40 + Width)\n    {\n        if(y &gt; Y &amp;&amp; y &lt; Y + 40 + Height)\n        {\n            isselected = true;\n            return true;\n        }\n    }\n        \n    isselected = false;\n    return false;\n}\n</code></pre>\n<p>The issue I am running in to is that when the buffered image gets rotated the bounding box doesnt rotate with it. I know this has to do with the fact that the bounding box uses global x, y coordinates and the buffered image is local coordinates to the buffered image itself. How would i go about rotating the bounding box with the buffered image?</p>\n"},{"tags":["java","sorting","collections","atomicinteger"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686233526,"creation_date":1686223284,"answer_id":76431319,"question_id":76431040,"body_markdown":"You can do it like this:\r\n\r\n    parents.stream()\r\n            .skip(prntIdx)\r\n            .limit(1)\r\n            .map(ParentEntity::getChildEntities)\r\n            .flatMap(Collection::stream)\r\n            .skip(chldIdx)\r\n            .findFirst()\r\n            .orElse(null)\r\n\r\nOr just use `List.get()`:\r\n\r\n    if (prntIdx &lt; parents.size()) {\r\n        List&lt;ChildEntity&gt; children = parents.get(prntIdx).getChildEntities();\r\n        if (chldIdx &lt; children.size()) {\r\n            return children.get(chldIdx);\r\n        }\r\n    }\r\n    return null;","title":"multi level filtering by index of customized list in java 11","body":"<p>You can do it like this:</p>\n<pre><code>parents.stream()\n        .skip(prntIdx)\n        .limit(1)\n        .map(ParentEntity::getChildEntities)\n        .flatMap(Collection::stream)\n        .skip(chldIdx)\n        .findFirst()\n        .orElse(null)\n</code></pre>\n<p>Or just use <code>List.get()</code>:</p>\n<pre><code>if (prntIdx &lt; parents.size()) {\n    List&lt;ChildEntity&gt; children = parents.get(prntIdx).getChildEntities();\n    if (chldIdx &lt; children.size()) {\n        return children.get(chldIdx);\n    }\n}\nreturn null;\n</code></pre>\n"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686233526,"creation_date":1686221126,"question_id":76431040,"body_markdown":"Instead of adding and updating these extra sequential number fields, I found useful two stage solution when processing well sorted multi-level collections for GUI (where row indexes are calculated on fly):\r\n\r\n```\r\nParentEntity filterByParentAndChildListsIndexes(List&lt;ParentEntity&gt; parents, Integer prntIdx, Integer chldIdx){\r\n   AtomicInteger idx = new AtomicInteger(1); // may be &#39;0&#39;\r\n   Optional&lt;ParentEntity&gt; parentOp = parents.stream().filter(p -&gt; idx.getAndIncrement() == prntIdx).findFirst();\r\n   if (parentOp.isPresent()){\r\n      return childFilter(parentOp.get(), chldIdx);\r\n   }\r\n   return null;\r\n}\r\n\r\nChildEntity childFilter(ParentEntity parent, Integer chldIdx){\r\n   AtomicInteger idx = new AtomicInteger(1); // may be &#39;0&#39;\r\n   return parent.getChildEntities().stream().filter(c -&gt; idx.getAndIncrement() == chldIdx).findFirst().orElse(null);\r\n}\r\n\r\n```\r\nbut it seems redundant and not flexible... so, I would be grateful for suggestions on existing solutions or suggestions for recursion of such multilevel filters.\r\n","title":"multi level filtering by index of customized list in java 11","body":"<p>Instead of adding and updating these extra sequential number fields, I found useful two stage solution when processing well sorted multi-level collections for GUI (where row indexes are calculated on fly):</p>\n<pre><code>ParentEntity filterByParentAndChildListsIndexes(List&lt;ParentEntity&gt; parents, Integer prntIdx, Integer chldIdx){\n   AtomicInteger idx = new AtomicInteger(1); // may be '0'\n   Optional&lt;ParentEntity&gt; parentOp = parents.stream().filter(p -&gt; idx.getAndIncrement() == prntIdx).findFirst();\n   if (parentOp.isPresent()){\n      return childFilter(parentOp.get(), chldIdx);\n   }\n   return null;\n}\n\nChildEntity childFilter(ParentEntity parent, Integer chldIdx){\n   AtomicInteger idx = new AtomicInteger(1); // may be '0'\n   return parent.getChildEntities().stream().filter(c -&gt; idx.getAndIncrement() == chldIdx).findFirst().orElse(null);\n}\n\n</code></pre>\n<p>but it seems redundant and not flexible... so, I would be grateful for suggestions on existing solutions or suggestions for recursion of such multilevel filters.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9611,"page":381,"page_size":100}
